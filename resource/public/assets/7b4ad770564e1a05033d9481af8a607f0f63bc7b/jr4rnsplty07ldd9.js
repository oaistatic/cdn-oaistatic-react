const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gzm1jxs289k6teg6.js","assets/kfrdmkli83ureki3.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/nh6x5pasrftsddpw.js","assets/fyw02vlaiv2vq6cj.js","assets/conversation-small-lq38g8zw.css","assets/c7lf6x6u521mpx19.js","assets/je694u6n7mxuffnb.js","assets/m89x2zftpo6hrypr.js","assets/gskm8euf92v8tid9.js","assets/i9e855s7wyoxeff7.js","assets/jgp8sucp37z0na7o.js","assets/iwr3smf9emayvqcc.js","assets/ibe8nrmu3pupvrfv.js"])))=>i.map(i=>d[i]);
var bt=Object.defineProperty,yt=Object.defineProperties;var St=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable;var ct=(r,e,t)=>e in r?bt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,K=(r,e)=>{for(var t in e||(e={}))_t.call(e,t)&&ct(r,t,e[t]);if(rt)for(var t of rt(e))$t.call(e,t)&&ct(r,t,e[t]);return r},ze=(r,e)=>yt(r,St(e));import{_ as ge,c as q,j as l,r as D,M as Y,L as Ct,h as et,d as Pt}from"./kfrdmkli83ureki3.js";import{az as xe,nT as wt,d as z,aA as tt,u as pe,J as gt,cy as O,M as Et,al as Fe,as as Mt,aB as xt,jj as Nt,nU as kt,nS as pt,gM as It,gU as Tt,f7 as X,gO as J,is as Q,qO as Ke,hu as zt,g as Ft,gx as Lt,n7 as At,kk as Ot,p as Dt,ej as Rt,Q as Ht,rn as mt,br as Qe,fL as Xe,ro as qt,gR as Ut,gV as Bt,aH as Ye,eV as Vt}from"./kw08ajijqinojrwh.js";import{ao as Gt,aH as ht,as as Jt,g2 as Wt,az as Kt,ay as Qt,jU as Xt,mB as Yt,mC as Zt,aw as es,av as ts,mD as dt,mE as ss,an as ft,mF as os}from"./fyw02vlaiv2vq6cj.js";import{D as ns}from"./nh6x5pasrftsddpw.js";import{P as is}from"./hk5ml9l4i4ups2ga.js";import{SnorlaxConversationItemOverflowMenu as ls,useProjectsDragDrop as as}from"./moa9hw4knutxpmay.js";import{P as rs,a as cs}from"./juu7tdv10fpf0v4g.js";import{u as Ze}from"./oze22otsepdfaut5.js";import"./c7lf6x6u521mpx19.js";import"./fwbhrttgqnv5nm9m.js";import"./o5h7u1aikohecbkt.js";import"./w4rmhhxvug61xnae.js";import"./lg0oi3tmjv8kv2p4.js";import"./b3ungmqo5x8kj4fh.js";const ut=xe(()=>ge(()=>import("./gzm1jxs289k6teg6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(r=>r.SnorlaxFileModal)),ms=xe(()=>ge(()=>import("./i9e855s7wyoxeff7.js"),__vite__mapDeps([11,1])),{loading:r=>tt(r)});function ds(r){"use forget";const e=q.c(11),{project:t,onNavigateToConversation:m}=r;wt(t.id);let i;e[0]!==t?(i=()=>t.conversations$().all$(),e[0]=t,e[1]=i):i=e[1];const n=z(i);let s;e[2]!==t?(s=()=>t.conversations$().canShowConversations$(),e[2]=t,e[3]=s):s=e[3];const c=z(s);let d;e[4]!==c||e[5]!==n||e[6]!==m||e[7]!==t?(d=c&&l.jsx(fs,{items:n,project:t,onNavigateToConversation:m}),e[4]=c,e[5]=n,e[6]=m,e[7]=t,e[8]=d):d=e[8];let g;return e[9]!==d?(g=l.jsx("section",{children:d}),e[9]=d,e[10]=g):g=e[10],g}function fs(r){"use forget";var R,F;const e=q.c(47),{project:t,items:m,onNavigateToConversation:i}=r,n=pe();let s;e[0]!==n?(s=gt(n,"773249106"),e[0]=n,e[1]=s):s=e[1];const c=s;let d;e[2]!==t?(d=()=>t.conversations$().canFetchMore$(),e[2]=t,e[3]=d):d=e[3];const g=z(d);let o;e[4]!==t?(o=()=>t.gizmo$(),e[4]=t,e[5]=o):o=e[5];const f=z(o);let a;e[6]!==t?(a=()=>t.conversations$().awaitingManualRetry$(),e[6]=t,e[7]=a):a=e[7];const u=z(a);let v;e[8]!==t?(v=()=>t.conversations$().fetchMore$,e[8]=t,e[9]=v):v=e[9];const x=z(v);let j;e[10]!==t?(j=()=>t.conversations$().cursor$(),e[10]=t,e[11]=j):j=e[11];const S=z(j);let p;e[12]!==t?(p=()=>t.conversations$().isLoading$(),e[12]=t,e[13]=p):p=e[13];const b=z(p);let M;e[14]!==t?(M=()=>t.isShared$(),e[14]=t,e[15]=M):M=e[15];const I=z(M);let P;e[16]!==m||e[17]!==((R=f==null?void 0:f.gizmo)==null?void 0:R.author)?(P=m==null?void 0:m.some(U=>{var W,Le;return"owner"in U&&((W=U.owner)==null?void 0:W.user_id)!==((Le=f==null?void 0:f.gizmo)==null?void 0:Le.author.user_id)}),e[16]=m,e[17]=(F=f==null?void 0:f.gizmo)==null?void 0:F.author,e[18]=P):P=e[18];const C=c&&(I||P),_=b&&"skeleton";let $;e[19]!==_?($=O("divide-token-bg-tertiary group divide-y",_),e[19]=_,e[20]=$):$=e[20];let w;e[21]!==m||e[22]!==i||e[23]!==f||e[24]!==C?(w=f&&m&&m.map(U=>l.jsx("li",{className:"group/project-item hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex min-h-16 cursor-pointer items-center p-3 text-sm select-none",children:l.jsx(ps,{conversation:U,project:f,showAvatar:C!=null?C:!1,onNavigateToConversation:i})},U.id)),e[21]=m,e[22]=i,e[23]=f,e[24]=C,e[25]=w):w=e[25];let E;e[26]!==g||e[27]!==x||e[28]!==b?(E=!b&&g&&l.jsx(xt,{type:"button",onClick:x,className:"keyboard-not-focused:sr-only",children:l.jsx(Y,{id:"project.conversation-list.load-more",defaultMessage:"Load more conversations"})}),e[26]=g,e[27]=x,e[28]=b,e[29]=E):E=e[29];let h;e[30]!==u||e[31]!==t?(h=u&&l.jsx(ht,{type:"normal",className:"mt-2",dangerCtaText:"Try again",onDangerCtaClick:()=>{t.conversations$().awaitingManualRetry$.set(!1)},content:l.jsx(Y,{id:"project.conversation-list.awaiting-manual-retry",defaultMessage:"Loading more conversations failed. Please try again."}),icon:l.jsx(ms,{className:"icon"})}),e[30]=u,e[31]=t,e[32]=h):h=e[32];let k;e[33]!==b?(k=b&&l.jsx(us,{}),e[33]=b,e[34]=k):k=e[34];let T;e[35]!==g||e[36]!==S||e[37]!==x?(T=l.jsx(xs,{canFetchMore:g,fetchMore:x},S),e[35]=g,e[36]=S,e[37]=x,e[38]=T):T=e[38];let A;return e[39]!==b||e[40]!==$||e[41]!==w||e[42]!==E||e[43]!==h||e[44]!==k||e[45]!==T?(A=l.jsxs("ol",{className:$,"aria-busy":b,children:[w,E,h,k,T]}),e[39]=b,e[40]=$,e[41]=w,e[42]=E,e[43]=h,e[44]=k,e[45]=T,e[46]=A):A=e[46],A}function us(){"use forget";const r=q.c(6),e=et();let t;r[0]!==e?(t=()=>Array.from({length:2},(s,c)=>({id:c,title:e.formatMessage({id:"project.conversation-list.loading-title",defaultMessage:"Loading conversation title..."}),snippet:e.formatMessage({id:"project.conversation-list.loading-snippet",defaultMessage:"Loading conversation snippet..."})})),r[0]=e,r[1]=t):t=r[1];const[m]=D.useState(t);let i;r[2]!==m?(i=m.map(gs),r[2]=m,r[3]=i):i=r[3];let n;return r[4]!==i?(n=l.jsx(l.Fragment,{children:i}),r[4]=i,r[5]=n):n=r[5],n}function gs(r){return l.jsx("li",{className:"mt-1 flex min-h-15 items-center p-3 text-sm",inert:!0,"aria-hidden":!0,children:l.jsx(vt,{conversationTitle:r.title,showAvatar:!0,monogram:null,snippet:r.snippet,skeleton:!0})},r.id)}function xs(r){"use forget";const e=q.c(8),{canFetchMore:t,fetchMore:m}=r;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={threshold:1},e[0]=i):i=e[0];const[n,s]=Wt(i);let c,d;if(e[1]!==t||e[2]!==m||e[3]!==n?(c=()=>{t&&n&&m()},d=[t,m,n],e[1]=t,e[2]=m,e[3]=n,e[4]=c,e[5]=d):(c=e[4],d=e[5]),D.useEffect(c,d),!t)return null;let g;return e[6]!==s?(g=l.jsx("div",{className:"min-h-0 w-full",inert:!0,ref:s}),e[6]=s,e[7]=g):g=e[7],g}const ps=r=>{"use forget";var w,E;const e=q.c(36),{conversation:t,project:m,showAvatar:i,onNavigateToConversation:n}=r,s=(w=Et(t.id,hs))!=null?w:t.title,[c,d]=D.useState(!1);let g,o;e[0]!==t.id?(g=()=>Nt(Jt,{editTitleInMainScreen:h=>{const{serverThreadId:k}=h;k===t.id&&d(!0)}}),o=[t.id],e[0]=t.id,e[1]=g,e[2]=o):(g=e[1],o=e[2]),D.useEffect(g,o);const f=pe(),{snippet:a}=t;let u,v,x,j,S;if(e[3]!==t||e[4]!==f||e[5]!==m.gizmo){const h=(E=Fe(f))==null?void 0:E.normalizedAccountUserId;u="owner"in t?t.owner:null,j=u==null?void 0:u.user_id,v=u==null?void 0:u.name,x=u==null?void 0:u.user_email,S=Mt(t.id,{project:m.gizmo,ownerUserId:j,accountUserId:h}),e[3]=t,e[4]=f,e[5]=m.gizmo,e[6]=u,e[7]=v,e[8]=x,e[9]=j,e[10]=S}else u=e[6],v=e[7],x=e[8],j=e[9],S=e[10];const p=S;let b;e[11]!==t||e[12]!==c?(b=c?l.jsx(Gt,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{d(!1)}}):null,e[11]=t,e[12]=c,e[13]=b):b=e[13];let M;e[14]!==t||e[15]!==c?(M=!c&&l.jsx(ls,{conversation:t,isNewProjectPage:!0}),e[14]=t,e[15]=c,e[16]=M):M=e[16];const I=a?!1:"snippet";let P;e[17]!==u||e[18]!==v||e[19]!==x||e[20]!==j?(P=u&&v&&j?{label:v,id:j,sublabel:x}:null,e[17]=u,e[18]=v,e[19]=x,e[20]=j,e[21]=P):P=e[21];let N;e[22]!==s||e[23]!==i||e[24]!==a||e[25]!==b||e[26]!==M||e[27]!==I||e[28]!==P?(N=l.jsx(vt,{conversationTitle:s,editor:b,overflowMenu:M,snippet:a,skeleton:I,showAvatar:i,monogram:P}),e[22]=s,e[23]=i,e[24]=a,e[25]=b,e[26]=M,e[27]=I,e[28]=P,e[29]=N):N=e[29];const C=N;if(c)return C;let _;e[30]!==n?(_=h=>{n==null||n(),(h.target instanceof HTMLElement&&h.target.dataset.preventDefault||h.target instanceof SVGElement)&&h.preventDefault()},e[30]=n,e[31]=_):_=e[31];let $;return e[32]!==C||e[33]!==p||e[34]!==_?($=l.jsx(Ct,{to:p,draggable:!1,className:"w-full",onClick:_,children:C}),e[32]=C,e[33]=p,e[34]=_,e[35]=$):$=e[35],$};function vt({showAvatar:r,monogram:e,editor:t,overflowMenu:m,conversationTitle:i,skeleton:n,snippet:s}){return l.jsxs("div",{className:O("flex w-full items-center gap-4",n&&"group skeleton"),children:[r&&l.jsx(kt,{monogram:e}),l.jsxs("div",{className:"grow overflow-hidden",children:[t||l.jsx("div",{className:O("text-sm font-medium",n===!0&&"skeleton-child w-fit min-w-[50%]"),children:i}),l.jsx("div",{className:O("text-token-text-secondary min-h-0 truncate text-sm",n&&"skeleton-child mt-px w-fit"),children:s})]}),m]})}function hs(r){return r==null?void 0:r.title}function vs(r){"use forget";var k,T;const e=q.c(40),{onRequestEdit:t,onRequestAddFiles:m,onRequestUpdateProject:i,projectData:n}=r,s=pe(),c=D.use(pt),d=z(c.isSkeleton$),{canEdit:g}=It(n);let o;e[0]!==s?(o=(k=Fe(s))==null?void 0:k.normalizedAccountUserId,e[0]=s,e[1]=o):o=e[1];const f=o,a=((T=n==null?void 0:n.gizmo.author)==null?void 0:T.user_id)===f;let u;e[2]!==c?(u=()=>{var A;return!!((A=c.conversations$().all$())!=null&&A.length)},e[2]=c,e[3]=u):u=e[3];const v=z(u);let x;e[4]!==c?(x=()=>c.title$(),e[4]=c,e[5]=x):x=e[5];const j=z(x);let S;e[6]!==s||e[7]!==n?(S=Tt(),e[6]=s,e[7]=n,e[8]=S):S=e[8];const p=S,b=d&&"group skeleton",M=!v&&"max-md:flex-1 max-md:flex-col max-md:items-center max-md:justify-center max-md:gap-1.5",I=v&&"max-md:flex-col max-md:gap-4";let P;e[9]!==b||e[10]!==M||e[11]!==I?(P=O("flex justify-between",b,M,I),e[9]=b,e[10]=M,e[11]=I,e[12]=P):P=e[12];let N;e[13]!==p||e[14]!==a||e[15]!==t||e[16]!==i||e[17]!==c?(N=p?!1:l.jsx(ys,{canEditEmoji:a,canEditName:a,project:c,onRequestEdit:t,onRequestUpdateProject:i}),e[13]=p,e[14]=a,e[15]=t,e[16]=i,e[17]=c,e[18]=N):N=e[18];const C=v?"max-md:w-full max-md:flex-col":"max-md:w-full max-md:flex-col max-md:items-center";let _;e[19]!==C?(_=O("flex items-start gap-2",C),e[19]=C,e[20]=_):_=e[20];let $;e[21]!==g||e[22]!==p||e[23]!==m||e[24]!==c||e[25]!==n?($=!p&&l.jsx(js,{canEdit:g,project:c,projectData:n,onRequestAddFiles:m}),e[21]=g,e[22]=p,e[23]=m,e[24]=c,e[25]=n,e[26]=$):$=e[26];let w;e[27]!==g||e[28]!==d||e[29]!==c.id||e[30]!==j?(w=!1,e[27]=g,e[28]=d,e[29]=c.id,e[30]=j,e[31]=w):w=e[31];let E;e[32]!==_||e[33]!==$||e[34]!==w?(E=l.jsxs("div",{className:_,children:[$,w]}),e[32]=_,e[33]=$,e[34]=w,e[35]=E):E=e[35];let h;return e[36]!==E||e[37]!==P||e[38]!==N?(h=l.jsxs("div",{className:P,children:[N,E]}),e[36]=E,e[37]=P,e[38]=N,e[39]=h):h=e[39],h}function js(r){"use forget";const e=q.c(15),{canEdit:t,project:m,projectData:i,onRequestAddFiles:n}=r,{files:s}=i!=null?i:{},c=s===void 0?[]:s,d=!c.length,g=z(m.isSkeleton$);let o,f;if(!g&&d&&!t)return null;if(d){let S;e[0]!==t||e[1]!==i?(S=i?l.jsx(Y,K({},t?X.addFilesButtonLabel:X.viewFilesButtonLabel)):null,e[0]=t,e[1]=i,e[2]=S):S=e[2],o=S,f=null}else{const S=c.slice(0,3);o=l.jsx(Y,ze(K({},X.filesCount),{values:{count:c.length}}));let p;e[3]!==(i==null?void 0:i.gizmo)?(p=(b,M)=>l.jsx(bs,{file:b,index:M,gizmoId:i==null?void 0:i.gizmo.id},b.file_id),e[3]=i==null?void 0:i.gizmo,e[4]=p):p=e[4],f=l.jsx("div",{className:"isolate inline-flex items-center max-sm:sr-only",children:S.map(p)})}const a=g&&"skeleton-child w-20";let u;e[5]!==a?(u=O("max-md:w-fit",a,"group/project-control-tile"),e[5]=a,e[6]=u):u=e[6];const v=g&&"";let x;e[7]!==v?(x=O(v,"gap-1.5 text-token-text-secondary"),e[7]=v,e[8]=x):x=e[8];let j;return e[9]!==f||e[10]!==o||e[11]!==n||e[12]!==u||e[13]!==x?(j=l.jsxs(xt,{color:"secondary",onClick:n,className:u,contentWrapperClassName:x,children:[f,o]}),e[9]=f,e[10]=o,e[11]=n,e[12]=u,e[13]=x,e[14]=j):j=e[14],j}function bs(r){"use forget";const e=q.c(20),{file:t,index:m,gizmoId:i}=r,n=t.name;let s;e[0]!==t.file_id||e[1]!==n?(s=zt(n)&&t.file_id!=null,e[0]=t.file_id,e[1]=n,e[2]=s):s=e[2];const c=s;let d;e[3]!==t.file_id||e[4]!==n||e[5]!==i||e[6]!==c?(d=c&&l.jsx(Xt,{fileName:n,fileId:t.file_id,gizmoId:i,className:"[box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]"}),e[3]=t.file_id,e[4]=n,e[5]=i,e[6]=c,e[7]=d):d=e[7];const g=d,o=m>0&&"-ms-2";let f;e[8]!==o?(f=O("border-token-bg-primary group-hover/project-control-tile:border-token-bg-tertiary relative size-5 overflow-hidden rounded-md border-2",o),e[8]=o,e[9]=f):f=e[9];const a=10-m;let u;e[10]!==a?(u={zIndex:a},e[10]=a,e[11]=u):u=e[11];let v;e[12]!==t.name||e[13]!==g?(v=g||l.jsx(Yt,{className:"h-4 w-4 shrink-0 rounded-none [box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]",glyphClassName:"h-3 w-3",filename:t.name,contextConnectorInfo:void 0}),e[12]=t.name,e[13]=g,e[14]=v):v=e[14];let x;return e[15]!==t.file_id||e[16]!==f||e[17]!==u||e[18]!==v?(x=l.jsx("span",{className:f,style:u,children:v},t.file_id),e[15]=t.file_id,e[16]=f,e[17]=u,e[18]=v,e[19]=x):x=e[19],x}function ys(r){"use forget";const e=q.c(49),{canEditEmoji:t,canEditName:m,onRequestEdit:i,onRequestUpdateProject:n,project:s}=r;let c;e[0]!==s?(c=()=>s.theme$(),e[0]=s,e[1]=c):c=e[1];const d=Ze(c);let g;e[2]!==s?(g=()=>s.emoji$(),e[2]=s,e[3]=g):g=e[3];const o=Ze(g);let f;e[4]!==s?(f=()=>s.title$(),e[4]=s,e[5]=f):f=e[5];const a=Ze(f);let u;e[6]!==s?(u=()=>s.status$(),e[6]=s,e[7]=u):u=e[7];const v=z(u),x=z(s.isSkeleton$),j=z(a),S=et(),p=pe();let b;e[8]!==p||e[9]!==o||e[10]!==s||e[11]!==d||e[12]!==a?(b=()=>{Q(()=>s.theme$(),F=>d.set(F)),Q(()=>s.emoji$(),F=>o.set(F)),Q(()=>s.title$(),F=>a.set(F)),Q(()=>d,F=>Ke({ctx:p,id:s.id,theme:F()})),Q(()=>o,F=>Ke({ctx:p,id:s.id,emoji:F()})),Q(()=>a,F=>Ke({ctx:p,id:s.id,name:F()}))},e[8]=p,e[9]=o,e[10]=s,e[11]=d,e[12]=a,e[13]=b):b=e[13],D.useEffect(b);const M=v==="empty"?"max-md:flex-col":"";let I;e[14]!==M?(I=O("flex items-center gap-1.5 max-md:-translate-x-1",M),e[14]=M,e[15]=I):I=e[15];let P;e[16]!==o||e[17]!==n||e[18]!==d||e[19]!==a?(P=async(F,U)=>{!F&&U&&await(n==null?void 0:n({theme:d(),emoji:o(),name:a()}))},e[16]=o,e[17]=n,e[18]=d,e[19]=a,e[20]=P):P=e[20];const N=J(P),C=!t;let _;e[21]!==o||e[22]!==s.isShared$||e[23]!==s.isSkeleton$||e[24]!==C||e[25]!==d?(_=l.jsx(rs,{className:"ms-0! [--focus-outline-margin:-4px] disabled:cursor-default! disabled:opacity-100!",disabled:C,emoji$:o,isShared$:s.isShared$,isSkeleton$:s.isSkeleton$,theme$:d,size:"lg",strict:!0}),e[21]=o,e[22]=s.isShared$,e[23]=s.isSkeleton$,e[24]=C,e[25]=d,e[26]=_):_=e[26];let $;e[27]!==o||e[28]!==_||e[29]!==N||e[30]!==d?($=l.jsx(cs,{theme$:d,emoji$:o,onOpenChange:N,children:_}),e[27]=o,e[28]=_,e[29]=N,e[30]=d,e[31]=$):$=e[31];const w=!m,E=x&&"skeleton-child";let h;e[32]!==E?(h=O("min-w-0",E),e[32]=E,e[33]=h):h=e[33];let k;e[34]!==S||e[35]!==j?(k=S.formatMessage({id:"edit-title",defaultMessage:"Edit the title of {projectName}"},{projectName:j}),e[34]=S,e[35]=j,e[36]=k):k=e[36];let T;e[37]!==j?(T=l.jsx("h1",{className:"md:text-page-header text-balance [--text-lg--line-height:28px] [--text-lg:22px] max-md:text-lg max-md:font-normal",children:j}),e[37]=j,e[38]=T):T=e[38];let A;e[39]!==i||e[40]!==w||e[41]!==h||e[42]!==k||e[43]!==T?(A=l.jsx("button",{disabled:w,onClick:i,name:"project-title",className:h,"aria-label":k,children:T}),e[39]=i,e[40]=w,e[41]=h,e[42]=k,e[43]=T,e[44]=A):A=e[44];let R;return e[45]!==$||e[46]!==A||e[47]!==I?(R=l.jsxs("div",{className:I,children:[$,A]}),e[45]=$,e[46]=A,e[47]=I,e[48]=R):R=e[48],R}function Ss(r){"use forget";const e=q.c(39),{children:t,composer:m,composerLayout:i,disclaimer:n,postComposerContent:s,conversationsHeader:c,conversations:d,sizing:g,dragOverlay:o,status:f}=r,a=f==="has-conversations"?"top":"center",u=c?"bg-token-bg-primary":"content-fade-top",v=f==="empty"&&"items-center max-md:[align-items:unset] max-md:[--composer-container-flex:0] max-md:[--composer-container-height:auto]";let x;e[0]!==v?(x=O("flex min-h-full",v),e[0]=v,e[1]=x):x=e[1];const j=f!=="has-conversations"?"grid-rows-[1fr_minmax(0,180px)] max-md:grid-rows-[1fr_0]":"grid-rows-[auto_min-content_min-content]";let S;e[2]!==j?(S=O("grid h-full [width:min(90cqw,var(--thread-content-max-width))] flex-1",j),e[2]=j,e[3]=S):S=e[3];const p=f!=="empty"&&"gap-8 pb-6",b=a==="top"?"mt-13 self-start max-md:mt-0":"self-center max-md:h-full";let M;e[4]!==p||e[5]!==b?(M=O("flex min-w-0 flex-col",p,b),e[4]=p,e[5]=b,e[6]=M):M=e[6];const I=f==="empty"?"max-md:h-full max-md:justify-between md:gap-8":u;let P;e[7]!==I?(P=O("offset-padding-top-4 sticky top-(--header-height) z-10 flex flex-col gap-[inherit] max-md:top-0 md:[--offset-y-bottom:-30px]",I),e[7]=I,e[8]=P):P=e[8];let N;e[9]!==m||e[10]!==i?(N=i==="top"&&l.jsx(l.Fragment,{children:m}),e[9]=m,e[10]=i,e[11]=N):N=e[11];let C;e[12]!==t||e[13]!==c||e[14]!==s||e[15]!==N||e[16]!==P?(C=l.jsxs("div",{className:P,children:[t,N,s,c]}),e[12]=t,e[13]=c,e[14]=s,e[15]=N,e[16]=P,e[17]=C):C=e[17];let _;e[18]!==d||e[19]!==o||e[20]!==C||e[21]!==M?(_=l.jsxs("div",{className:M,children:[C,d,o]}),e[18]=d,e[19]=o,e[20]=C,e[21]=M,e[22]=_):_=e[22];let $;e[23]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx("div",{}),e[23]=$):$=e[23];let w;e[24]!==m||e[25]!==i||e[26]!==n||e[27]!==f?(w=(i==="bottom"||n)&&l.jsxs("div",{className:O("content-fade sticky flex w-full flex-col gap-1 [--content-fade-top:-15px] md:px-[60px]",i==="bottom"&&"[--composer-container-height:auto] [--content-fade-top:-40px] max-md:p-0 max-md:pb-1",n?f==="empty"?"bottom-0 max-md:pt-2 md:fixed md:start-0 md:end-0":"bottom-0":"before:bg-token-bg-primary relative bottom-2 p-2 before:absolute before:inset-0 before:top-full before:h-2 before:w-full before:content-['']"),children:[i==="bottom"&&m,n]}),e[24]=m,e[25]=i,e[26]=n,e[27]=f,e[28]=w):w=e[28];let E;e[29]!==_||e[30]!==w||e[31]!==S?(E=l.jsxs(Qt,{className:S,children:[_,$,w]}),e[29]=_,e[30]=w,e[31]=S,e[32]=E):E=e[32];let h;e[33]!==g||e[34]!==E?(h=l.jsx(Kt,ze(K({verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard"},g),{children:E})),e[33]=g,e[34]=E,e[35]=h):h=e[35];let k;return e[36]!==h||e[37]!==x?(k=l.jsx("div",{className:x,children:h}),e[36]=h,e[37]=x,e[38]=k):k=e[38],k}const _s=xe(()=>ge(()=>import("./jgp8sucp37z0na7o.js"),__vite__mapDeps([12,1,2,3])).then(r=>r.ProjectJoinModal)),$s=xe(()=>ge(()=>import("./iwr3smf9emayvqcc.js"),__vite__mapDeps([13,1])),{loading:r=>tt(r)}),Cs=xe(()=>ge(()=>import("./ibe8nrmu3pupvrfv.js"),__vite__mapDeps([14,1])),{loading:r=>tt(r)});function Us(r){"use forget";var st,ot,nt,it,lt,at;const e=q.c(132),{clientThreadId:t,gizmoId:m,currentModelId:i,onRequestCompletion:n}=r,s=pe();let c;e[0]!==t||e[1]!==s?(c=Ft(s,t),e[0]=t,e[1]=s,e[2]=c):c=e[2];const d=c;let g;e[3]!==s||e[4]!==m?(g=Lt(s,m),e[3]=s,e[4]=m,e[5]=g):g=e[5];const o=g;let f;e[6]!==o?(f=()=>o.serverState$().data,e[6]=o,e[7]=f):f=e[7];const a=z(f);let u;e[8]!==o?(u=()=>o.status$(),e[8]=o,e[9]=u):u=e[9];const v=z(u);let x;e[10]!==s?(x=(ot=(st=At(s))==null?void 0:st.user)==null?void 0:ot.email,e[10]=s,e[11]=x):x=e[11];const j=x;let S;e[12]!==s?(S=(nt=Fe(s))==null?void 0:nt.normalizedAccountUserId,e[12]=s,e[13]=S):S=e[13];const p=S;let b;e[14]!==o||e[15]!==a||e[16]!==j||e[17]!==p?(b=()=>!p||!j||!a||Ht(()=>o.serverState$().isFetching)?!1:!mt({gizmo:a,user_id:p}),e[14]=o,e[15]=a,e[16]=j,e[17]=p,e[18]=b):b=e[18];const[M,I]=D.useState(b),P=gt(s,"773249106");let N;e[19]!==o.lastScrollPosition$?(N=()=>{var L;const y=document.querySelector("main");o.lastScrollPosition$.set((L=y==null?void 0:y.scrollTop)!=null?L:null)},e[19]=o.lastScrollPosition$,e[20]=N):N=e[20];const C=N;let _,$;e[21]!==o||e[22]!==C?($=()=>{var fe;const y=new AbortController,L=o.lastScrollPosition$();o.lastScrollPosition$.set(null);const B=document.querySelector("main");return L!=null&&B&&(B.scrollTop=L,B.focus()),"navigation"in window&&((fe=window.navigation)==null||fe.addEventListener("navigate",()=>C(),{signal:y.signal})),()=>{y.abort()}},_=[o,C],e[21]=o,e[22]=C,e[23]=_,e[24]=$):(_=e[23],$=e[24]),D.useEffect($,_);let w;e[25]!==n?(w=y=>{n(es(y))},e[25]=n,e[26]=w):w=e[26];const E=J(w);let h;e[27]!==n?(h=async y=>{const L=await ts(y);n(L)},e[27]=n,e[28]=h):h=e[28];const k=J(h);let T;e[29]!==s||e[30]!==o||e[31]!==a?(T=()=>{a&&Qe(s,ut,{gizmo:a,project:o,onClose:()=>Xe(s,ut)})},e[29]=s,e[30]=o,e[31]=a,e[32]=T):T=e[32];const A=J(T);let R;e[33]!==A?(R=()=>{A()},e[33]=A,e[34]=R):R=e[34];const F=J(R),U=et();let W;if(e[35]!==s){const y=Fe(s);W=y&&!y.isSelfServeBusiness()&&!y.isEnterprisey(),e[35]=s,e[36]=W}else W=e[36];const Ae=!W,he=Ot(),ue=Dt(),[Oe,ve]=D.useState(!1),jt=Rt(),{onDropConversation:De,canDropConversation:V}=as(void 0,m),Re=Pt(),He=z(o.gizmo$);let je;e[37]!==o?(je=()=>qt(o)(),e[37]=o,e[38]=je):je=e[38];const Z=z(je);let be;e[39]!==o?(be=()=>Ut(o)(),e[39]=o,e[40]=be):be=e[40];const G=z(be),ee=G,H=He!=null?He:a;let ye;e[41]!==s||e[42]!==H?(ye=()=>{H&&Qe(s,dt,{gizmo:Bt(H),publishedGizmo:H,onClose:()=>Xe(s,dt)})},e[41]=s,e[42]=H,e[43]=ye):ye=e[43];const te=J(ye);let Se;e[44]===Symbol.for("react.memo_cache_sentinel")?(Se=[],e[44]=Se):Se=e[44],D.useEffect(Ps,Se);let _e,$e;e[45]!==he?(_e=()=>{const y=ss(he),L=y();return y.set(!0),()=>{y.set(L)}},$e=[he],e[45]=he,e[46]=_e,e[47]=$e):(_e=e[46],$e=e[47]),D.useEffect(_e,$e);let Ce;e[48]!==te||e[49]!==Z||e[50]!==G||e[51]!==o.mobileHeaderState$||e[52]!==H||e[53]!==ee?(Ce=()=>{if(!G||!H){o.mobileHeaderState$.set(null);return}return o.mobileHeaderState$.set({hasOtherMembers$:Ye(()=>Z),canShare$:Ye(()=>ee),onShare$:Ye(()=>G&&H?te:null)}),()=>{o.mobileHeaderState$.set(null)}},e[48]=te,e[49]=Z,e[50]=G,e[51]=o.mobileHeaderState$,e[52]=H,e[53]=ee,e[54]=Ce):Ce=e[54];let Pe;e[55]!==te||e[56]!==Z||e[57]!==G||e[58]!==o||e[59]!==H||e[60]!==ee?(Pe=[te,Z,G,o,H,ee],e[55]=te,e[56]=Z,e[57]=G,e[58]=o,e[59]=H,e[60]=ee,e[61]=Pe):Pe=e[61],D.useEffect(Ce,Pe);let we;e[62]!==s||e[63]!==U||e[64]!==o||e[65]!==a?(we=()=>{a&&Qe(s,ft,{submitButtonTitle:U.formatMessage(X.projectSettingsSubmitButton),gizmo:a,project:o,onClose:()=>Xe(s,ft)})},e[62]=s,e[63]=U,e[64]=o,e[65]=a,e[66]=we):we=e[66];const qe=J(we);let Ee;e[67]!==o||e[68]!==ue?(Ee=async y=>{try{await o.queueUpdate$(y)}catch(L){const fe=Vt(L);ue==null||ue.warning(fe!=null?fe:"Error",{duration:5,hasCloseButton:!0})}},e[67]=o,e[68]=ue,e[69]=Ee):Ee=e[69];const Ue=J(Ee);let Me;e[70]!==o||e[71]!==p?(Me=()=>{if(p)return Q(()=>({data:o.serverState$().data,isFetching:o.serverState$().isFetching}),y=>{const{data:L,isFetching:B}=y;L&&!B&&!mt({gizmo:L,user_id:p})&&I(!0)})},e[70]=o,e[71]=p,e[72]=Me):Me=e[72];let Ne;if(e[73]!==o||e[74]!==j||e[75]!==p?(Ne=[p,j,o],e[73]=o,e[74]=j,e[75]=p,e[76]=Ne):Ne=e[76],D.useEffect(Me,Ne),M&&a&&P){let y;e[77]!==Re?(y=()=>Re("/"),e[77]=Re,e[78]=y):y=e[78];let L;e[79]===Symbol.for("react.memo_cache_sentinel")?(L=()=>I(!1),e[79]=L):L=e[79];let B;return e[80]!==a||e[81]!==y?(B=l.jsx(_s,{onClose:y,onJoinProjectSuccess:L,projectData:a}),e[80]=a,e[81]=y,e[82]=B):B=e[82],B}let ke;e[83]!==((it=a==null?void 0:a.gizmo)==null?void 0:it.conversation_copy_in_progress)?(ke=((lt=a==null?void 0:a.gizmo)==null?void 0:lt.conversation_copy_in_progress)===!0?l.jsx(ht,{type:"info",content:l.jsx(Y,K({},X.projectCopyInProgressBanner)),icon:l.jsx($s,{className:"text-token-text-secondary h-5 w-5"})}):null,e[83]=(at=a==null?void 0:a.gizmo)==null?void 0:at.conversation_copy_in_progress,e[84]=ke):ke=e[84];const Be=ke,Ve=v==="empty"||jt?"top":"bottom";let Ie;e[85]!==o||e[86]!==C?(Ie=l.jsx(ds,{project:o,onNavigateToConversation:C}),e[85]=o,e[86]=C,e[87]=Ie):Ie=e[87];const Ge=Ie,Je=Ss;let se;e[88]!==V?(se=y=>{y.preventDefault(),V&&ve(!0)},e[88]=V,e[89]=se):se=e[89];let oe;e[90]!==V||e[91]!==De?(oe=y=>{y.preventDefault(),V&&(ve(!1),De())},e[90]=V,e[91]=De,e[92]=oe):oe=e[92];let ne,ie;e[93]!==V?(ne=y=>{y.preventDefault(),V&&ve(!0)},ie=y=>{y.preventDefault(),V&&ve(!1)},e[93]=V,e[94]=ne,e[95]=ie):(ne=e[94],ie=e[95]);const We=v==="empty"?"center":"bottom";let le;e[96]!==d||e[97]!==i||e[98]!==E||e[99]!==k||e[100]!==We?(le=l.jsx(is,{conversation:d,currentModelId:i,hideHeader:!0,isProjectThread:!0,isNewThread:!0,layoutMode:We,onContinueGenerating:E,onRequestCompletion:k}),e[96]=d,e[97]=i,e[98]=E,e[99]=k,e[100]=We,e[101]=le):le=e[101];let ae;e[102]!==t||e[103]!==Ae?(ae=Ae&&l.jsx("div",{className:"text-token-text-secondary flex w-full items-center justify-center text-center text-xs text-pretty md:pb-0.5",children:l.jsx(os,{clientThreadId:t})}),e[102]=t,e[103]=Ae,e[104]=ae):ae=e[104];let re;e[105]!==Oe||e[106]!==a?(re=Oe&&l.jsx(ws,{gizmo:a}),e[105]=Oe,e[106]=a,e[107]=re):re=e[107];let ce;e[108]!==F||e[109]!==qe||e[110]!==Ue||e[111]!==a?(ce=l.jsx(vs,{projectData:a,onRequestEdit:qe,onRequestAddFiles:F,onRequestUpdateProject:Ue}),e[108]=F,e[109]=qe,e[110]=Ue,e[111]=a,e[112]=ce):ce=e[112];let me;e[113]!==Je||e[114]!==Ve||e[115]!==Ge||e[116]!==Be||e[117]!==v||e[118]!==le||e[119]!==ae||e[120]!==re||e[121]!==ce?(me=l.jsx(Je,{status:v,composerLayout:Ve,composer:le,disclaimer:ae,postComposerContent:Be,conversationsHeader:null,conversations:Ge,dragOverlay:re,children:ce}),e[113]=Je,e[114]=Ve,e[115]=Ge,e[116]=Be,e[117]=v,e[118]=le,e[119]=ae,e[120]=re,e[121]=ce,e[122]=me):me=e[122];let de;e[123]!==se||e[124]!==oe||e[125]!==ne||e[126]!==ie||e[127]!==me?(de=l.jsx("div",{onDragOver:se,onDrop:oe,onDragEnter:ne,onDragLeave:ie,children:me}),e[123]=se,e[124]=oe,e[125]=ne,e[126]=ie,e[127]=me,e[128]=de):de=e[128];let Te;return e[129]!==o||e[130]!==de?(Te=l.jsx(pt,{value:o,children:de}),e[129]=o,e[130]=de,e[131]=Te):Te=e[131],Te}function Ps(){Zt()}function ws(r){"use forget";var d;const e=q.c(6),{gizmo:t}=r;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(Cs,{className:"h-12 w-12",style:{color:"var(--icon-accent)"}}),e[0]=m):m=e[0];const i=(d=t==null?void 0:t.gizmo.display.name)!=null?d:"project";let n;e[1]!==i?(n=l.jsx("h3",{className:"text-center",children:l.jsx(Y,ze(K({},X.moveConversationToNamedProject),{values:{projectName:i}}))}),e[1]=i,e[2]=n):n=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("h4",{className:"text-center",children:l.jsx(Y,K({},X.moveConversation))}),e[3]=s):s=e[3];let c;return e[4]!==n?(c=l.jsxs(ns,{children:[m,n,s]}),e[4]=n,e[5]=c):c=e[5],c}export{Us as ProjectHomePage};
//# sourceMappingURL=jr4rnsplty07ldd9.js.map

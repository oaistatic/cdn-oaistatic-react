const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bhsxm93weg9c2utr.js","assets/kfrdmkli83ureki3.js","assets/mcmuahn9939fqkge.js","assets/fyw02vlaiv2vq6cj.js","assets/conversation-small-lq38g8zw.css","assets/dch45l9yrtbjo93p.js","assets/n70q0rscelh7atg0.js","assets/esv7f70ha9x18nty.js","assets/n04o1mctwzj15yth.js","assets/laacu28tqafsw8cp.js","assets/oze22otsepdfaut5.js","assets/g8cpkydknwwj989v.js","assets/l3foo5601l7fb51e.js","assets/hnx3m6kxd7qfeifg.js","assets/hdkg0cys1b7b4f0v.js","assets/ia54sddtrl9qa2wj.js","assets/og02pzeg2ww9lpt6.js","assets/dr1v3i80rkhviakg.js","assets/jomh3l3gijuxdblp.js","assets/kc5mxsu5ebs47oju.js","assets/h9s5uo8l29l5vali.js","assets/i9tvkxrf32evxthr.js","assets/c09b3wnyb7ragkgg.js","assets/fjpqjlv08i02xcat.js","assets/d8urt6z8czylb5p6.js","assets/bnipcvjraeep7qjy.js","assets/dvfjdfwc50k8htst.js","assets/m7doe4pqk3hjrm1e.js","assets/d5o1u4o4wu2s3dug.js","assets/ghusiygna4o32qi1.js","assets/idxkrx2slxhzm8qh.js","assets/l9as1ndnevgs02tf.js","assets/dpqzzp55l4zwk93g.js","assets/e2n6syult3e6hs2j.js","assets/b45jol6jjw62r4vk.js","assets/l48iylqopn5miofx.js","assets/iz9ybw36zj0rjajq.js","assets/qsma96iq2r14xcmh.js","assets/h5j364hdjn039hzj.js","assets/jwueg8vspq9yhps2.js","assets/e9c4tgzw8sr4ptnc.js","assets/hjef14qauats368u.js","assets/h4evwzl4k6skj8r7.js","assets/oydzwmbjqxhwp1ek.js","assets/blthqd9nl25rhbvi.js","assets/g688vfij3wo711sf.js","assets/okzlvevr93wa1zvp.js","assets/dvib5d1jxvc518h5.js","assets/h48j4g76f726xzx4.js","assets/c0ojy1t76yvdowjm.js","assets/kl9nc8lw2zbngsxu.js","assets/hegd51otv5xzo53u.js","assets/firqr8dqm1h7owx1.js","assets/1z12ka0sjzwi5bk4.js","assets/kjvygvhx30u8mxny.js","assets/buq7rcr26b24qglf.js","assets/l9asex3m3rhov6mj.js","assets/icogg96ipnevhswg.js","assets/l4q37jna5u8671pr.js","assets/fo0x0epn1mhbz6yk.js","assets/kbwf70iamjdvta7y.js","assets/kw03hsqv96j7mp48.js","assets/oz9ghbc5dbv04e9k.js","assets/hnt9dcet90ca5vg9.js","assets/cus6e9b5l060ctey.js","assets/nlj7ey81i8rm36n9.js","assets/ej64vaxnu3jjmfxe.js","assets/mfltpwlb4iyi1q6i.js","assets/n7wxdtzxeekb5r6v.js","assets/kfciwy69uk039ng9.js","assets/kz0466kav0wlxeny.js","assets/djnoeg41q6agq9or.js","assets/iwr3smf9emayvqcc.js","assets/g4sz9o46wpmsris2.js","assets/dpf52wv18uwxh9t9.js","assets/omh7pce8seqk5731.js","assets/mstl8wgfzorpgdoe.js","assets/h6futagqzt0rqhdy.js","assets/c0ls495fz2t1hbyy.js","assets/lcx1qzdvrvh4xmnf.js","assets/lrftmyomhnslqldf.js","assets/okh4b2ff15s9ojmh.js","assets/ezd0hym0jr36348y.js","assets/ftbklkne5vchqwja.js","assets/idvmimdr84st2so4.js","assets/net5f1925ssn3thy.js","assets/pj0tlj9i65oz4g7u.js","assets/d8cmrw5lg3ncoab2.js","assets/gsc4el4a1mly7vaf.js","assets/hk404s80nkkano79.js","assets/fi9pz14lf1jqif2s.js","assets/jwrlms16vytf9igx.js","assets/k1pxpxz5eh0wfeof.js","assets/od77trkaevjbh6nh.js","assets/idin79ykthuhz6zq.js","assets/ifd4z3yxzwgg9875.js","assets/mn65tj3soksytsvb.js","assets/j0d0pmnv3d7jilu4.js","assets/k49mffpofbtsmbsj.js","assets/pcpn90oik7mt89yj.js","assets/j4p4w74o1oeu6aq1.js","assets/i6e9mof2ergj60ky.js","assets/b1ysmkfbechoun0g.js","assets/fqy57c2iy2xliuz9.js","assets/20q3iuutgud8fc8a.js","assets/o0j54eux3slox97p.js","assets/mv59uia51hlqeiwb.js","assets/jj7wmm5qo5qzg1m1.js","assets/kxu1gp8b3z2ozjpe.js","assets/luhdaml0ts1hcscs.js","assets/fsp9mrnpm2kgku9u.js","assets/jg95zh081yf4855z.js","assets/j9u6evnjj6nboy1i.js","assets/e9a3e5a2meneqqsh.js","assets/g6mnw2ucxnh51n9i.js","assets/o81nr171nzv6h75q.js","assets/fhzx5e1g2e03ku0v.js","assets/l2obu9yyz566vb08.js","assets/oh36odqeyhvgtyd9.js","assets/m3joncw451cqbul2.js","assets/gy1lpvuoewmzh42c.js","assets/ipjj058rvhjq2uu2.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js","assets/o06ruoql9r1v6ywj.js","assets/gcw6ddmmhzijkr87.js","assets/i1ra53nm6ph961wx.js","assets/i6ahu3iuwhz5y2lv.js","assets/czndp739wd893pq6.js","assets/kxbocgn3s27tp480.js","assets/he1xnididjbc7s63.js","assets/i85urdvpkzpdgj3s.js","assets/dd8hh2tmra1psngf.js","assets/eix6aku103dkp2pu.js","assets/kl7c6054usfnqmd4.js","assets/k97n0y6ba9c9h39c.js","assets/fbdmxe5ygbrc3wdb.js","assets/evkgh503atu6x10z.js","assets/ej5er9569li42hai.js","assets/di3v2n4zwp3e4rpb.js","assets/ds50f4rqnruk5v5l.js","assets/lbp124td1jxnga57.js","assets/o5h7u1aikohecbkt.js","assets/w4rmhhxvug61xnae.js","assets/batn8nst470a68ib.js","assets/ite26mmpefwubzx4.js","assets/m9gq49u2vlb0cjyx.js","assets/lg0oi3tmjv8kv2p4.js","assets/b3ungmqo5x8kj4fh.js","assets/iej0cupg2dqkmejt.js","assets/m0t07ixd92668z9e.js","assets/chg5zn7ivsidhse5.js","assets/kime2kclye4c7vau.js","assets/fwbhrttgqnv5nm9m.js","assets/je694u6n7mxuffnb.js","assets/n2s0r84m09p3py2c.js","assets/n922q9or6yevfxth.js","assets/bw2hxknbjlgs6x5v.js","assets/m8odo3cter5gjanw.js","assets/c7lf6x6u521mpx19.js","assets/oi4hajb4q474so2h.js","assets/c80q12olrn2ogvv0.js","assets/0cct8y3c72h08jxe.js","assets/jzy8ngygygw4toi1.js","assets/k9adsjcuzq0lnday.js","assets/ntv4kfm86o2gt0x7.js","assets/hoo89wr86agqpm13.js","assets/i7t1qh3u8s8bvtb8.js","assets/dm8z7bzkrzic0zmg.js","assets/omiotqovl1sezy3l.js","assets/jytll2j00h0ccmpk.js","assets/f9iz92mggx1znv92.js","assets/lfpgz10qy2vdux3v.js","assets/i5i93v71imxwxy0p.js","assets/f5eqpw3ad13u4igj.js","assets/fvx0c589t5tar1s6.js","assets/f57a0ks1c1m6smzf.js","assets/bx1w0y3fzlo97jzb.js","assets/ld3p92an6gaqvnu0.js","assets/hmqienma2a871fjd.js","assets/hyhlhiufwizfpil2.js","assets/2xqkqmwoatp8lqi2.js"])))=>i.map(i=>d[i]);
var tR=Object.freeze,nR=Object.defineProperty,cJ=Object.defineProperties;var lJ=Object.getOwnPropertyDescriptors;var Xh=Object.getOwnPropertySymbols;var rR=Object.prototype.hasOwnProperty,iR=Object.prototype.propertyIsEnumerable;var kv=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),sR=e=>{throw TypeError(e)};var Mv=(e,t,n)=>t in e?nR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))rR.call(t,n)&&Mv(e,n,t[n]);if(Xh)for(var n of Xh(t))iR.call(t,n)&&Mv(e,n,t[n]);return e},I=(e,t)=>cJ(e,lJ(t));var W=(e,t)=>{var n={};for(var r in e)rR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xh)for(var r of Xh(e))t.indexOf(r)<0&&iR.call(e,r)&&(n[r]=e[r]);return n};var U=(e,t,n)=>Mv(e,typeof t!="symbol"?t+"":t,n),Dv=(e,t,n)=>t.has(e)||sR("Cannot "+n);var he=(e,t,n)=>(Dv(e,t,"read from private field"),n?n.call(e):t.get(e)),Nt=(e,t,n)=>t.has(e)?sR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ut=(e,t,n,r)=>(Dv(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$c=(e,t,n)=>(Dv(e,t,"access private method"),n);var zi=(e,t)=>tR(nR(e,"raw",{value:tR(t||e.slice())}));var po=function(e,t){this[0]=e,this[1]=t},Qh=(e,t,n)=>{var r=(o,a,c,l)=>{try{var u=n[o](a),d=(a=u.value)instanceof po,f=u.done;Promise.resolve(d?a[0]:a).then(h=>d?r(o==="return"?o:"next",a[1]?{done:h.done,value:h.value}:h,c,l):c({value:h,done:f})).catch(h=>r("throw",h,c,l))}catch(h){l(h)}},i=o=>s[o]=a=>new Promise((c,l)=>r(o,a,c,l)),s={};return n=n.apply(e,t),s[kv("asyncIterator")]=()=>s,i("next"),i("throw"),i("return"),s};var oR=(e,t,n)=>(t=e[kv("asyncIterator")])?t.call(e):(e=e[kv("iterator")](),t={},n=(r,i)=>(i=e[r])&&(t[r]=s=>new Promise((o,a,c)=>(s=i.call(e,s),c=s.done,Promise.resolve(s.value).then(l=>o({value:l,done:c}),a)))),n("next"),n("return"),t);import{r as E,c as H,j as _,B as In,C as Xn,D as uJ,E as dJ,Q as fJ,G as Tw,R as Et,n as ww,_ as k,H as hJ,I as pJ,J as yB,v as fr,g as Gt,l as gn,e as Tt,A as gl,q as En,h as _t,z as cd,u as Yt,i as Kt,t as ta,a as Jt,M as bt,L as Um,$ as gJ,o as wc,K as CB,N as mJ,s as bB,b as Xt,x as EB,O as _J,P as SB,S as vJ,k as yJ,d as Zs,T as So,U as OB,V as CJ,W as TB,X as bJ,Y as wB,Z as EJ,a0 as SJ,y as OJ,a1 as TJ,a2 as wJ,a3 as AJ,a4 as xJ,a5 as IJ,a6 as NJ,a7 as RJ}from"./kfrdmkli83ureki3.js";var Gl,sr,za,wo;const Ua=class Ua{constructor(){Nt(this,sr);Nt(this,za,new Map);Nt(this,wo,[])}static get instance(){return he(Ua,Gl)||Ut(Ua,Gl,new Ua),he(Ua,Gl)}setLogger(t){if(he(this,sr))throw new Error("Logger already set");Ut(this,sr,t);for(const[n,{time:r,onlyLogFirst:i,serialTimingGroup:s}]of he(this,za).entries())i?he(this,sr).addFirstTiming(n,{time:r,serialTimingGroup:s}):he(this,sr).addTiming(n,{time:r,serialTimingGroup:s});he(this,za).clear();for(const{error:n,context:r}of he(this,wo))he(this,sr).addError(n,r);Ut(this,wo,[])}addTiming(t,{time:n,serialTimingGroup:r}={}){he(this,sr)?he(this,sr).addTiming(t,{time:n,serialTimingGroup:r}):he(this,za).set(t,{time:n!=null?n:Date.now(),onlyLogFirst:!1,serialTimingGroup:r})}addFirstTiming(t,{time:n,serialTimingGroup:r}={}){he(this,sr)?he(this,sr).addFirstTiming(t,{time:n,serialTimingGroup:r}):he(this,za).set(t,{time:n!=null?n:Date.now(),onlyLogFirst:!0,serialTimingGroup:r})}addError(t,n){he(this,sr)?he(this,sr).addError(t,n):(he(this,wo).push({error:t,context:n}),he(this,wo).length>10&&(console.warn("LazyLogger: too many errors"),he(this,wo).shift()))}};Gl=new WeakMap,sr=new WeakMap,za=new WeakMap,wo=new WeakMap,Nt(Ua,Gl);let bT=Ua;function Bm(e){return function(n){const r=Symbol(void 0);return i=>{if(!i)throw new Error("Attempted to access scoped value without a ".concat(e,"."));const s=i;if(r in s){const o=s[r];if(o===aR)throw new Error("[".concat(e,"] Dependency cycle during scoped value initialization."));if(o instanceof Error)throw o;return o}try{s[r]=aR;const o=n(i);return s[r]=o,o}catch(o){const a=o instanceof Error?o:new Error("[".concat(e,"] Failed to initialize scoped value: ")+o,{cause:o});throw s[r]=a,a}}}}const ut=Bm("SessionContext");function PJ(){const e=Symbol(void 0);return[r=>{if(!r)throw new Error("[SessionContext] Attempted to access session value without a SessionContext.");const i=r;if(e in i)return i[e];throw new Error("[SessionContext] Attempted to access session value before initialization.")},(r,i)=>{const s=r;if(e in s)throw new Error("[SessionContext] Attempted to initialize session value more than once.");s[e]=i}]}const aR=Symbol();function re(){"use forget";const e=E.useContext(AB);if(!e)throw new Error("[SessionContext] Attempted to access sessionContext outside of <SessionContextProvider>");return e}const AB=E.createContext(void 0);function xB(){return{}}const kJ=e=>{"use forget";const t=H.c(3),{sessionContext:n,children:r}=e;let i;return t[0]!==r||t[1]!==n?(i=_.jsx(AB.Provider,{value:n,children:r}),t[0]=r,t[1]=n,t[2]=i):i=t[2],i};var MJ=(e=>(e.FreeSearchHoldout="fsh",e.AnonSearchHoldout="ash",e.NoAuthEnableFileUploads="naefu",e.AnonGizmoChatEnabled="agce",e))(MJ||{});const[xt,DJ]=PJ();function LJ(){const e=re();return xt(e)}let jJ=xB();function At(){return jJ}let cR=!1;function FJ(e,t){cR||(cR=!0,DJ(e,t))}function eo(e){const t=new WeakMap;return function(n){if(t.has(n))return t.get(n);{const r=e(n);return t.set(n,r),r}}}function UJ(e){const t=new WeakMap;return function(n,r){let i=t.get(n);if(i||(i=new WeakMap,t.set(n,i)),i.has(r))return i.get(r);{const s=e(n,r);return i.set(r,s),s}}}function Ms(e){let t;return()=>(t!=null?t:t={value:e()}).value}function BJ(e,t){var n;return e instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,e,t)),e}function Pi(e,t="<unknown>"){if(e==null)throw BJ(new Error("".concat(t,": unexpected nullish value: ").concat(JSON.stringify(e))),Pi);return e}function Nr(){return navigator.userAgent}function Aw(){return/iPad|iPhone|iPod/.test(Nr())}function xw(){return/Android/.test(Nr())}function GJ(){return Aw()&&Nr().includes("CriOS")}function fu(){return Aw()||xw()||GJ()}function lR(){return/^((?!chrome|android).)*safari/i.test(Nr())}function sUe(){return xw()&&Nr().includes("Chrome")}function WJ(){return Nr().includes("Mac OS X")}function IB(){return Aw()||WJ()}function oUe(){return Nr().includes("Windows_NT")}function aUe(){return Nr().includes("Chrome/")&&!/Android|iPhone|iPad/i.test(Nr())}function cUe(){return Nr().includes("Firefox")}function Iw(){const e=Nr();return/iPad/.test(e)||xw()&&!/Mobile/.test(e)||/Tablet/.test(e)}const qJ=["; wv","webview","fbav","fb_iab","fban","instagram","line/","kakaotalk","snapchat","tiktok"];function VJ(){const e=Nr(),t=/iPhone|iPad|iPod/.test(e),n=/Android/.test(e),r=t&&!/Safari/.test(e),i=n&&/Version\/\d+\.\d+/.test(e),s=qJ.some(o=>e.toLocaleLowerCase().includes(o));return r||i||s}function $J(){return fu()&&!Iw()}function NB(){return fu()||Iw()}function Nw(){return!NB()}const HJ=/^ChatGPT.+Macintosh;.+ Chrome\/([\d.]+) .*$/;let Zh;function Hn(){return Zh!=null||(Zh=zJ(Nr())),Zh}function zJ(e){return HJ.test(e)}const YJ=["Fetch is aborted","Load failed","Script error.","Failed to execute 'insertBefore' on 'Node'","ResizeObserver loop completed with undelivered notifications.","Object Not Found Matching Id","Object.hasOwn is not a function"],KJ=100,uR=1e3,ep=[];function dR(e,t){const n=e.findIndex(r=>r<=t);return n===-1?e.length:n}const JJ=e=>{var i;if((i=e.stack)!=null&&i.includes("-extension://")||e.source==="console"||YJ.some(s=>{var o;return(o=e==null?void 0:e.message)==null?void 0:o.includes(s)})||e.type==="RequestError")return!0;const t=Date.now(),n=t-1e3*60;if(dR(ep,n)>=KJ)return!0;const r=t-1e3*60*60*24;return dR(ep,r)>=uR?!0:(ep.unshift(t),ep.splice(uR),!1)};function RB(){return location.origin===window.location.origin||!1||!1}function XJ(){return Hn()?"mini-web":"chatgpt-web"}const tp=typeof window>"u"?void 0:window.DesktopHostGateway,ot=(tp==null?void 0:tp.getVersion())===1?tp:void 0,Gm=ot!==void 0,PB=Gm||!1;function lUe(e){if(e===void 0)return;const t=/^ChatGPT\/([\d.]+) \(([^)]+)\) Electron\/([\d.]+) Chrome\/([\d.]+)$/,n=e.match(t);if(n)return n[1]}class Ht extends Error{constructor(n,r,i,s,o){var c,l,u,d;const a=typeof i.error=="string"&&i.error||typeof i.detail=="string"&&i.detail||((c=i.detail)==null?void 0:c.message)||((l=i.detail)==null?void 0:l.description)||((d=(u=i.detail)==null?void 0:u.error)==null?void 0:d.message)||ZJ;super(a);U(this,"name","RequestError");U(this,"detail");U(this,"jsonError");this.url=n,this.status=r,this.json=i,this.requestId=s,this.rawError=o,this.detail=i.detail,this.jsonError=i.error,this.rawError=o}static createWithErrorMessage(n,r,i,s,o){return new Ht(n,r==="client"?400:500,{error:i},s,o)}get code(){var n,r,i,s,o,a,c,l,u;return(u=(a=(i=(n=this.detail)==null?void 0:n.code)!=null?i:(r=this.jsonError)==null?void 0:r.code)!=null?a:(o=(s=this.jsonError)==null?void 0:s.error)==null?void 0:o.code)!=null?u:(l=(c=this.detail)==null?void 0:c.error)==null?void 0:l.code}isClientError(){return this.status>=400&&this.status<500}isServerError(){return this.status>=500}}class Lt extends Error{constructor(n,r,i){super(n);U(this,"name","UserFileError");U(this,"code");U(this,"extra");this.code=r,this.extra=i}}const QJ="If this issue persists please contact us through our help center at help.openai.com.",kB="If this issue persists please contact us through our help center at [help.openai.com](https://help.openai.com/).",ZJ="Something went wrong. ".concat(QJ),uUe="Something went wrong while generating the response. ".concat(kB),dUe="A network error occurred. Please check your connection and try again. ".concat(kB),fUe="Network connection lost. Attempting to reconnectâ€¦";function MB(e){if(e instanceof Ht&&typeof e.message=="string"&&e.message)return e.message}var eX=(e=>(e.HistoryDisabledConversationNotFound="history_disabled_conversation_not_found",e.ModelCapExceeded="model_cap_exceeded",e.MissingLastCompletion="missing_last_completion",e.InterruptionServerError="interruption_server_error",e))(eX||{}),tX=(e=>(e.NetworkErrorWithReconnection="network_error_with_reconnection",e))(tX||{});function hUe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Something went wrong")}function nX(e){return e instanceof Error&&e.name==="AbortError"}function rX(e){if(typeof navigator<"u"&&!navigator.onLine)return!0;if(e instanceof Error){const t=e.message.toLowerCase();if(t.includes("failed to fetch")||t.includes("networkerror when attempting to fetch resource")||t.includes("network error")||t.includes("load failed")||t.includes("failed to resolve")||t.includes("dns")||/\b(enotfound|eai_again|eaddrinfo|econnrefused|econnreset|etimedout)\b/.test(t))return!0;if(t.includes("something went wrong while generating the response")||t.includes("aborted")||t.includes("no available models")||t.includes("starting a new chat")||t.includes("too many concurrent requests")||t.includes("message you submitted was too long")||t.includes("hit your limit")||t.includes("maximum length")||t.includes("rate limit exceeded")||t.includes("limit of messages")||t.includes("unusual activity")||t.includes("input too large")||t.includes("conversation key not found")||t.includes("authentication token is expired")||t.includes("conversation is stale"))return!1;if(e instanceof TypeError)return!0}return!1}function pUe(e){return e instanceof Ht?{error_category:"request_error",error_status:e.status,error_code:e.code,error_name:e.name,error_request_id:e.requestId,error_is_client_error:e.isClientError(),error_is_server_error:e.isServerError()}:nX(e)?{error_category:"abort_error",error_name:e.name}:rX(e)?{error_category:"network_error",error_name:e instanceof Error?e.name:void 0}:e instanceof Error?{error_category:"unknown_error",error_name:e.name}:e===void 0?{error_category:"none"}:{error_category:"unknown_error",error_name:typeof e}}function fR(...e){try{return new URL(...e)}catch(t){return null}}function Id(e){const t=new URL(e);return t.searchParams.has("q")&&t.searchParams.set("q","<redacted>"),t.toString()}const np=(e,t,n={})=>{var i;const r=S({level:e,message:String(t)},n);t instanceof Error&&(r.error=t),r.error instanceof Error&&(r.error=(i=r.error.stack)!=null?i:String(r.error));try{console[e](r)}catch(s){$l.error({level:"error",message:"Error stringifying log object."+(typeof r.message=="string"?" Message: ".concat(r.message):"")})}},$l={info:(...e)=>np("info",...e),error:(...e)=>np("error",...e),warn:(...e)=>np("warn",...e),debug:(...e)=>np("debug",...e)};function hR(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function iX(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let Lv;function sX(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=iX();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(Lv||(Lv={postTask:hR,yield:()=>hR(()=>{})}),Lv)}class oX{constructor(){U(this,"scheduler")}setScheduler(){this.scheduler||(this.scheduler=sX())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const aX=new oX,cX="client-nb0qtYlZuy2tCMN5s5ncnuIBCJncjRViT0IzFm7GqST";let DB="development";DB="production";const lX=DB;var _a={},Hc={},rp={},pR;function uX(){if(pR)return rp;pR=1,Object.defineProperty(rp,"__esModule",{value:!0});const e=In();let t=class{constructor(r){this._sdkKey=r,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(r,i){var s,o;if(!r)return!1;const a=(0,e._typedJsonParse)(r.data,"has_updates","EvaluationResponse");return a==null?!1:(this._source=r.source,(a==null?void 0:a.has_updates)!==!0||((s=a.time)!==null&&s!==void 0?s:0)<this._lcut||(this._rawValues=r.data,this._lcut=a.time,this._receivedAt=r.receivedAt,this._values=a,this._bootstrapMetadata=this._extractBootstrapMetadata(r.source,a),r.source&&a.user&&this._setWarningState(i,a),e.SDKFlags.setFlags(this._sdkKey,(o=a.sdk_flags)!==null&&o!==void 0?o:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.feature_gates,r)}getConfig(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.dynamic_configs,r)}getConfigList(){var r;return!((r=this._values)===null||r===void 0)&&r.dynamic_configs?Object.values(this._values.dynamic_configs).map(i=>i.name):[]}getLayer(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.layer_configs,r)}getParamStore(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.param_stores,r)}getSource(){return this._source}getExposureMapping(){var r;return(r=this._values)===null||r===void 0?void 0:r.exposures}_extractBootstrapMetadata(r,i){if(r!=="Bootstrap")return null;const s={};return i.user&&(s.user=i.user),i.sdkInfo&&(s.generatorSDKInfo=i.sdkInfo),s.lcut=i.time,s}_getDetailedStoreResult(r,i){let s=null;return r&&(s=r[i]?r[i]:r[(0,e._DJB2)(i)]),{result:s,details:this._getDetails(s==null)}}_setWarningState(r,i){var s,o;const a=e.StableID.get(this._sdkKey);if(((s=r.customIDs)===null||s===void 0?void 0:s.stableID)!==a&&(!((o=r.customIDs)===null||o===void 0)&&o.stableID||a)){this._warnings.add("StableIDMismatch");return}if("user"in i){const c=i.user,l=Object.assign(Object.assign({},r),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,e._getFullUserHash)(l)!==(0,e._getFullUserHash)(c)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const r={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(r.warnings=Array.from(this._warnings)),r}_getDetails(r){var i,s;const o=this.getCurrentSourceDetails();let a=o.reason;const c=(i=o.warnings)!==null&&i!==void 0?i:[];if(this._source==="Bootstrap"&&c.length>0&&(a=a+c[0]),a!=="Uninitialized"&&a!=="NoValues"){const u=r?"Unrecognized":"Recognized";a="".concat(a,":").concat(u)}const l=this._source==="Bootstrap"&&(s=this._bootstrapMetadata)!==null&&s!==void 0?s:void 0;return l&&(o.bootstrapMetadata=l),Object.assign(Object.assign({},o),{reason:a})}};return rp.default=t,rp}var zc={},Wu={},gR;function dX(){if(gR)return Wu;gR=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu._resolveDeltasResponse=void 0;const e=In(),t=2;function n(o,a){const c=(0,e._typedJsonParse)(a,"checksum","DeltasEvaluationResponse");if(!c)return{hadBadDeltaChecksum:!0};const l=r(o,c),u=i(l),d=(0,e._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},t);return d===c.checksumV2?JSON.stringify(u):{hadBadDeltaChecksum:!0,badChecksum:d,badMergedConfigs:u,badFullResponse:c.deltas_full_response}}Wu._resolveDeltasResponse=n;function r(o,a){return Object.assign(Object.assign(Object.assign({},o),a),{feature_gates:Object.assign(Object.assign({},o.feature_gates),a.feature_gates),layer_configs:Object.assign(Object.assign({},o.layer_configs),a.layer_configs),dynamic_configs:Object.assign(Object.assign({},o.dynamic_configs),a.dynamic_configs)})}function i(o){const a=o;return s(o.deleted_gates,a.feature_gates),delete a.deleted_gates,s(o.deleted_configs,a.dynamic_configs),delete a.deleted_configs,s(o.deleted_layers,a.layer_configs),delete a.deleted_layers,a}function s(o,a){o==null||o.forEach(c=>{delete a[c]})}return Wu}var mR;function LB(){if(mR)return zc;mR=1;var e=zc&&zc.__awaiter||function(i,s,o,a){function c(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(p){try{h(a.next(p))}catch(g){u(g)}}function f(p){try{h(a.throw(p))}catch(g){u(g)}}function h(p){p.done?l(p.value):c(p.value).then(d,f)}h((a=a.apply(i,s||[])).next())})};Object.defineProperty(zc,"__esModule",{value:!0});const t=In(),n=dX();class r extends t.NetworkCore{constructor(s,o){super(s,o);const a=s==null?void 0:s.networkConfig;this._option=s,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,a==null?void 0:a.initializeUrl,a==null?void 0:a.api,a==null?void 0:a.initializeFallbackUrls)}fetchEvaluations(s,o,a,c,l){return e(this,void 0,void 0,function*(){var u,d,f,h,p,g;const m=o?(0,t._typedJsonParse)(o,"has_updates","InitializeResponse"):null;let v={user:c,hash:(f=(d=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||d===void 0?void 0:d.initializeHashAlgorithm)!==null&&f!==void 0?f:"djb2",deltasResponseRequested:!1,full_checksum:null};if(m!=null&&m.has_updates){const y=(m==null?void 0:m.hash_used)!==((g=(p=(h=this._option)===null||h===void 0?void 0:h.networkConfig)===null||p===void 0?void 0:p.initializeHashAlgorithm)!==null&&g!==void 0?g:"djb2");v=Object.assign(Object.assign({},v),{sinceTime:l&&!y?m.time:0,previousDerivedFields:"derived_fields"in m&&l?m.derived_fields:{},deltasResponseRequested:!0,full_checksum:m.full_checksum,partialUserMatchSinceTime:y?0:m.time})}return this._fetchEvaluations(s,m,v,a)})}_fetchEvaluations(s,o,a,c){return e(this,void 0,void 0,function*(){var l,u;const d=yield this.post({sdkKey:s,urlConfig:this._initializeUrlConfig,data:a,retries:2,isStatsigEncodable:!0,priority:c});if((d==null?void 0:d.code)===204)return'{"has_updates": false}';if((d==null?void 0:d.code)!==200)return(l=d==null?void 0:d.body)!==null&&l!==void 0?l:null;if((o==null?void 0:o.has_updates)!==!0||((u=d.body)===null||u===void 0?void 0:u.includes('"is_delta":true'))!==!0||a.deltasResponseRequested!==!0)return d.body;const f=(0,n._resolveDeltasResponse)(o,d.body);return typeof f=="string"?f:this._fetchEvaluations(s,o,Object.assign(Object.assign(Object.assign({},a),f),{deltasResponseRequested:!1}),c)})}}return zc.default=r,zc}var qu={},_R;function fX(){if(_R)return qu;_R=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu._makeParamStoreGetter=void 0;const e=In(),t={disableExposureLog:!0};function n(u){return u==null||u.disableExposureLog===!1}function r(u,d){return d!=null&&!(0,e._isTypeMatch)(u,d)}function i(u,d){return u.value}function s(u,d,f){return u.getFeatureGate(d.gate_name,n(f)?void 0:t).value?d.pass_value:d.fail_value}function o(u,d,f,h){const g=u.getDynamicConfig(d.config_name,n(h)?void 0:t).get(d.param_name);return r(g,f)?f:g}function a(u,d,f,h){const g=u.getExperiment(d.experiment_name,n(h)?void 0:t).get(d.param_name);return r(g,f)?f:g}function c(u,d,f,h){const g=u.getLayer(d.layer_name,n(h)?void 0:t).get(d.param_name);return r(g,f)?f:g}function l(u,d,f){return(h,p)=>{if(d==null)return p;const g=d[h];if(g==null||p!=null&&(0,e._typeOf)(p)!==g.param_type)return p;switch(g.ref_type){case"static":return i(g);case"gate":return s(u,g,f);case"dynamic_config":return o(u,g,p,f);case"experiment":return a(u,g,p,f);case"layer":return c(u,g,p,f);default:return p}}}return qu._makeParamStoreGetter=l,qu}var va={},vR;function hX(){if(vR)return va;vR=1;var e=va&&va.__awaiter||function(i,s,o,a){function c(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(p){try{h(a.next(p))}catch(g){u(g)}}function f(p){try{h(a.throw(p))}catch(g){u(g)}}function h(p){p.done?l(p.value):c(p.value).then(d,f)}h((a=a.apply(i,s||[])).next())})};Object.defineProperty(va,"__esModule",{value:!0}),va.StatsigEvaluationsDataAdapter=void 0;const t=In(),n=LB();let r=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(s,o,a){super.attach(s,o,a),a!==null&&a instanceof n.default?this._network=a:this._network=new n.default(o!=null?o:{})}getDataAsync(s,o,a){return this._getDataAsyncImpl(s,(0,t._normalizeUser)(o,this._options),a)}prefetchData(s,o){return this._prefetchDataImpl(s,o)}setData(s){const o=(0,t._typedJsonParse)(s,"has_updates","data");o&&"user"in o?super.setData(s,o.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(s,o){super.setData(s,o)}_fetchFromNetwork(s,o,a,c){return e(this,void 0,void 0,function*(){var l;const u=yield(l=this._network)===null||l===void 0?void 0:l.fetchEvaluations(this._getSdkKey(),s,a==null?void 0:a.priority,o,c);return u!=null?u:null})}_getCacheKey(s){var o;const a=(0,t._getStorageKey)(this._getSdkKey(),s,(o=this._options)===null||o===void 0?void 0:o.customUserCacheKeyFunc);return"".concat(t.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(a)}_isCachedResultValidFor204(s,o){return s.fullUserHash!=null&&s.fullUserHash===(0,t._getFullUserHash)(o)}};return va.StatsigEvaluationsDataAdapter=r,va}var yR;function pX(){if(yR)return Hc;yR=1;var e=Hc&&Hc.__awaiter||function(a,c,l,u){function d(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(v){try{m(u.next(v))}catch(y){h(y)}}function g(v){try{m(u.throw(v))}catch(y){h(y)}}function m(v){v.done?f(v.value):d(v.value).then(p,g)}m((u=u.apply(a,c||[])).next())})};Object.defineProperty(Hc,"__esModule",{value:!0});const t=In(),n=uX(),r=LB(),i=fX(),s=hX();let o=class ET extends t.StatsigClientBase{static instance(c){const l=(0,t._getStatsigGlobal)().instance(c);return l instanceof ET?l:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new ET(c!=null?c:"",{}))}constructor(c,l,u=null){var d,f;t.SDKType._setClientType(c,"javascript-client");const h=new r.default(u,g=>{this.$emt(g)});super(c,(d=u==null?void 0:u.dataAdapter)!==null&&d!==void 0?d:new s.StatsigEvaluationsDataAdapter,h,u),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(t.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(c),this._network=h,this._user=this._configureUser(l,u),this._sdkInstanceID=(0,t.getUUID)();const p=(f=u==null?void 0:u.plugins)!==null&&f!==void 0?f:[];for(const g of p)g.bind(this)}initializeSync(c){var l;return this.loadingStatus!=="Uninitialized"?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(l=this._store.getWarnings())!==null&&l!==void 0?l:[]]):(this._logger.start(),this.updateUserSync(this._user,c))}initializeAsync(c){return e(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(c),this._initializePromise)})}updateUserSync(c,l){const u=performance.now();try{return this._updateUserSyncImpl(c,l,u)}catch(d){const f=d instanceof Error?d:new Error(String(d));return this._createErrorUpdateDetails(f,u)}}_updateUserSyncImpl(c,l,u){var d;const f=[...(d=this._store.getWarnings())!==null&&d!==void 0?d:[]];this._resetForUser(c);const h=this.dataAdapter.getDataSync(this._user);h==null&&f.push("NoCachedValues"),this._store.setValues(h,this._user),this._finalizeUpdate(h);const p=l==null?void 0:l.disableBackgroundCacheRefresh;return p===!0||p==null&&(h==null?void 0:h.source)==="Bootstrap"?(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f):(this._runPostUpdate(h!=null?h:null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f))}updateUserAsync(c,l){return e(this,void 0,void 0,function*(){const u=performance.now();try{return yield this._updateUserAsyncImpl(c,l)}catch(d){const f=d instanceof Error?d:new Error(String(d));return this._createErrorUpdateDetails(f,u)}})}_updateUserAsyncImpl(c,l){return e(this,void 0,void 0,function*(){this._resetForUser(c);const u=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let d=this.dataAdapter.getDataSync(u);if(this._store.setValues(d,this._user),this._setStatus("Loading",d),d=yield this.dataAdapter.getDataAsync(d,u,l),u!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let f=!1;d!=null&&(t.Diagnostics._markInitProcessStart(this._sdkKey),f=this._store.setValues(d,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:f})),this._finalizeUpdate(d),f||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,f,this._store.getCurrentSourceDetails());const h=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(f,this._store.getSource(),h,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(c,l){return this.getFeatureGate(c,l).value}logEvent(c,l,u){const d=typeof c=="string"?{eventName:c,value:l,metadata:u}:c;this.$emt({name:"log_event_called",event:d}),this._logger.enqueue(Object.assign(Object.assign({},d),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(c){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:c}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(c){return e(this,void 0,void 0,function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,c)})}_createErrorUpdateDetails(c,l){var u;return(0,t.createUpdateDetails)(!1,this._store.getSource(),performance.now()-l,c,null,[...(u=this._store.getWarnings())!==null&&u!==void 0?u:[]])}_finalizeUpdate(c){this._store.finalize(),this._setStatus("Ready",c)}_runPostUpdate(c,l){this.dataAdapter.getDataAsync(c,l,{priority:"low"}).catch(u=>{t.Log.error("An error occurred after update.",u)})}_resetForUser(c){this._logger.reset(),this._store.reset(),this._user=this._configureUser(c,this._options)}_configureUser(c,l){var u,d,f;const h=(0,t._normalizeUser)(c,l),p=(u=h.customIDs)===null||u===void 0?void 0:u.stableID;if(p){const g=(f=(d=this.storageProvider).isReadyResolver)===null||f===void 0?void 0:f.call(d);g?g.then(()=>t.StableID.setOverride(p,this._sdkKey),()=>t.StableID.setOverride(p,this._sdkKey)):t.StableID.setOverride(p,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(h.analyticsOnlyMetadata=Object.assign(Object.assign({},h.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),h}_getFeatureGateImpl(c,l){var u,d;const{result:f,details:h}=this._store.getGate(c),p=(0,t._makeFeatureGate)(c,h,f),g=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getGateOverride)===null||d===void 0?void 0:d.call(u,p,this._user,l),m=g!=null?g:p;return this._enqueueExposure(c,(0,t._createGateExposure)(this._user,m,this._store.getExposureMapping()),l),this.$emt({name:"gate_evaluation",gate:m}),m}_getDynamicConfigImpl(c,l){var u,d;const{result:f,details:h}=this._store.getConfig(c),p=(0,t._makeDynamicConfig)(c,h,f),g=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getDynamicConfigOverride)===null||d===void 0?void 0:d.call(u,p,this._user,l),m=g!=null?g:p;return this._enqueueExposure(c,(0,t._createConfigExposure)(this._user,m,this._store.getExposureMapping()),l),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:m}),m}_getExperimentImpl(c,l){var u,d,f,h;const{result:p,details:g}=this._store.getConfig(c),m=(0,t._makeExperiment)(c,g,p);m.__evaluation!=null&&(m.__evaluation.secondary_exposures=(0,t._mapExposures)((d=(u=m.__evaluation)===null||u===void 0?void 0:u.secondary_exposures)!==null&&d!==void 0?d:[],this._store.getExposureMapping()));const v=(h=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getExperimentOverride)===null||h===void 0?void 0:h.call(f,m,this._user,l),y=v!=null?v:m;return this._enqueueExposure(c,(0,t._createConfigExposure)(this._user,y,this._store.getExposureMapping()),l),this.$emt({name:"experiment_evaluation",experiment:y}),y}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(c,l){var u,d,f;const{result:h,details:p}=this._store.getLayer(c),g=(0,t._makeLayer)(c,p,h),m=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getLayerOverride)===null||d===void 0?void 0:d.call(u,g,this._user,l);l!=null&&l.disableExposureLog&&this._logger.incrementNonExposureCount(c);const v=(0,t._mergeOverride)(g,m,(f=m==null?void 0:m.__value)!==null&&f!==void 0?f:g.__value,y=>{l!=null&&l.disableExposureLog||this._enqueueExposure(c,(0,t._createLayerParameterExposure)(this._user,v,y,this._store.getExposureMapping()),l)});return this.$emt({name:"layer_evaluation",layer:v}),v}_getParameterStoreImpl(c,l){var u,d;const{result:f,details:h}=this._store.getParamStore(c);this._logger.incrementNonExposureCount(c);const p={name:c,details:h,__configuration:f,get:(0,i._makeParamStoreGetter)(this,f,l)},g=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getParamStoreOverride)===null||d===void 0?void 0:d.call(u,p,l);return g!=null&&(p.__configuration=g.config,p.details=g.details,p.get=(0,i._makeParamStoreGetter)(this,g.config,l)),p}};return Hc.default=o,Hc}var CR;function gX(){return CR||(CR=1,(function(e){var t=_a&&_a.__createBinding||(Object.create?(function(o,a,c,l){l===void 0&&(l=c);var u=Object.getOwnPropertyDescriptor(a,c);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,l,u)}):(function(o,a,c,l){l===void 0&&(l=c),o[l]=a[c]})),n=_a&&_a.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const r=In(),i=pX();e.StatsigClient=i.default,n(In(),e);const s=Object.assign((0,r._getStatsigGlobal)(),{StatsigClient:i.default});e.default=s})(_a)),_a}var jB=gX(),ya={},Ca={},bR;function mX(){if(bR)return Ca;bR=1;var e=Ca&&Ca.__awaiter||function(o,a,c,l){function u(d){return d instanceof c?d:new c(function(f){f(d)})}return new(c||(c=Promise))(function(d,f){function h(m){try{g(l.next(m))}catch(v){f(v)}}function p(m){try{g(l.throw(m))}catch(v){f(v)}}function g(m){m.done?d(m.value):u(m.value).then(h,p)}g((l=l.apply(o,a||[])).next())})};Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.LocalOverrideAdapter=void 0;const t=In(),n="LocalOverride:Recognized";function r(){return{gate:{},dynamicConfig:{},experiment:{},layer:{}}}function i(o,a){return{gate:Object.assign({},o.gate,a.gate),dynamicConfig:Object.assign({},o.dynamicConfig,a.dynamicConfig),experiment:Object.assign({},o.experiment,a.experiment),layer:Object.assign({},o.layer,a.layer)}}let s=class{constructor(a){this._overrides=r(),this._sdkKey=a!=null?a:null}_getLocalOverridesStorageKey(a){return"statsig.local-overrides.".concat((0,t._getStorageKey)(a))}loadFromStorage(){return e(this,void 0,void 0,function*(){if(this._sdkKey==null)return;t.Storage.isReady()||(yield t.Storage.isReadyResolver());const a=this._getLocalOverridesStorageKey(this._sdkKey),c=t.Storage.getItem(a),l=c?(0,t._typedJsonParse)(c,"gate","LocalOverrideAdapter overrides"):null,u=this._hasInMemoryOverrides();l&&(this._overrides=u?i(l,this._overrides):l),u&&this._saveOverridesToStorage()})}_saveOverridesToStorage(){if(this._sdkKey==null||!t.Storage.isReady())return;const a=this._getLocalOverridesStorageKey(this._sdkKey);t.Storage.setItem(a,JSON.stringify(this._overrides))}overrideGate(a,c){this._overrides.gate[a]=c,this._overrides.gate[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}_warnIfStorageNotReady(){t.Storage.isReady()||t.Log.warn("Storage is not ready. Override removal may not persist.")}removeGateOverride(a){this._warnIfStorageNotReady(),delete this._overrides.gate[a],delete this._overrides.gate[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getGateOverride(a,c){var l;const u=(l=this._overrides.gate[a.name])!==null&&l!==void 0?l:this._overrides.gate[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,details:Object.assign(Object.assign({},a.details),{reason:n})})}overrideDynamicConfig(a,c){this._overrides.dynamicConfig[a]=c,this._overrides.dynamicConfig[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeDynamicConfigOverride(a){this._warnIfStorageNotReady(),delete this._overrides.dynamicConfig[a],delete this._overrides.dynamicConfig[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getDynamicConfigOverride(a,c){return this._getConfigOverride(a,this._overrides.dynamicConfig)}overrideExperiment(a,c){this._overrides.experiment[a]=c,this._overrides.experiment[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeExperimentOverride(a){this._warnIfStorageNotReady(),delete this._overrides.experiment[a],delete this._overrides.experiment[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getExperimentOverride(a,c){return this._getConfigOverride(a,this._overrides.experiment)}overrideLayer(a,c){this._overrides.layer[a]=c,this._overrides.layer[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeLayerOverride(a){this._warnIfStorageNotReady(),delete this._overrides.layer[a],delete this._overrides.layer[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getAllOverrides(){return JSON.parse(JSON.stringify(this._overrides))}removeAllOverrides(){this._warnIfStorageNotReady(),this._overrides=r(),this._saveOverridesToStorage()}getLayerOverride(a,c){var l;const u=(l=this._overrides.layer[a.name])!==null&&l!==void 0?l:this._overrides.layer[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{__value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_getConfigOverride(a,c){var l;const u=(l=c[a.name])!==null&&l!==void 0?l:c[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_hasInMemoryOverrides(){return Object.keys(this._overrides.gate).length>0||Object.keys(this._overrides.dynamicConfig).length>0||Object.keys(this._overrides.experiment).length>0||Object.keys(this._overrides.layer).length>0}};return Ca.LocalOverrideAdapter=s,Ca}var ER;function _X(){return ER||(ER=1,(function(e){var t=ya&&ya.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=ya&&ya.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(mX(),e)})(ya)),ya}var vX=_X(),jv={},Es={},Vu={},SR;function Gf(){return SR||(SR=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.AutoCaptureEventName=void 0,Vu.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}),Vu}var $u={},Fv={},OR;function hu(){return OR||(OR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapFunctionWithRestore=e.throttle=e._sanitizeString=e._getAnchorNodeInHierarchy=e._getSafeTimezoneOffset=e._getSafeTimezone=e._getSafeNetworkInformation=e._registerEventHandler=e._getSanitizedPageUrl=e._getSafeUrlString=e._getSafeUrl=e._shouldLogEvent=e._getTargetNode=e._stripEmptyValues=e.interactiveElements=void 0;const t=In(),n="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",r=new RegExp("^(?:".concat(n,")$")),i="\\d{3}-?\\d{2}-?\\d{4}",s=new RegExp("^(".concat(i,")$"));e.interactiveElements=["button","a","input","select","textarea","form","select","label"];function o(C){return Object.fromEntries(Object.entries(C).filter(([O,w])=>w!=null&&w!==""&&w!==void 0))}e._stripEmptyValues=o;function a(C){if(!C)return null;let O=C.target||C.srcElement;return!O||!(O instanceof Element)?null:(O.nodeType===3&&(O=O.parentNode||null),O)}e._getTargetNode=a;function c(C,O,w=!1){if(!C||!O||O.nodeType!==1)return!1;const A=O.tagName.toLowerCase(),x=C.type.toLowerCase();if(O.classList.contains("statsig-no-capture"))return!1;if(w)return!0;switch(A){case"html":return!1;case"form":return["submit"].indexOf(x)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(x)>=0;default:if(x==="click"){const P=window.getComputedStyle(O);if(P&&P.getPropertyValue("cursor")==="pointer"||e.interactiveElements.includes(A)||O.getAttribute("contenteditable")==="true"||m(O))return!0}return!1}}e._shouldLogEvent=c;function l(){var C,O,w;const A=(w=(O=(C=(0,t._getWindowSafe)())===null||C===void 0?void 0:C.location)===null||O===void 0?void 0:O.href)!==null&&w!==void 0?w:"";let x;try{x=new URL(A)}catch(R){x=new URL("error:")}return x}e._getSafeUrl=l;function u(){const C=l().toString();return C.startsWith("error:")?"":C}e._getSafeUrlString=u;function d(){return(0,t._getCurrentPageUrlSafe)()||""}e._getSanitizedPageUrl=d;function f(C,O,w){!C||!C.addEventListener||C.addEventListener(O,w,!0)}e._registerEventHandler=f;function h(){const C=(0,t._getWindowSafe)();if(!C||!C.navigator)return null;const O=C.navigator.connection;return O||null}e._getSafeNetworkInformation=h;function p(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(C){return null}}e._getSafeTimezone=p;function g(){try{return new Date().getTimezoneOffset()}catch(C){return null}}e._getSafeTimezoneOffset=g;function m(C){if(!C)return null;let O=C;for(;O;){const w=O.tagName.toLowerCase();if(["body","document"].includes(w))return null;if(O.tagName.toLowerCase()==="a")return O;O=O.parentElement}return null}e._getAnchorNodeInHierarchy=m;function v(C){return C?C.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(O=>y(O)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null}e._sanitizeString=v;function y(C){return!(r.test((C||"").replace(/[- ]/g,""))||s.test((C||"").replace(/[- ]/g,"")))}function T(C,O){let w=0;return function(...A){const x=Date.now();x-w>=O&&(w=x,C(...A))}}e.throttle=T;function b(C,O,w){const A=C[O];if(typeof A!="function")return()=>{};try{const x=w(A);return Object.defineProperty(x,"__statsig_original__",{enumerable:!1,value:A}),C[O]=x,()=>{C[O]=A}}catch(x){return()=>{}}}e.wrapFunctionWithRestore=b})(Fv)),Fv}var ba={},TR;function yX(){if(TR)return ba;TR=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba._getStackTrace=ba._safeStringify=void 0;function e(a,c){return a.length<=c?a:a.slice(0,c)+"..."}function t(a,c,l,u){try{return r(a,c,l)?o(a,u):e(typeof a=="string"?a:typeof a=="object"&&a!==null?JSON.stringify(a):String(a),u)}catch(d){return e("[Unserializable]",u)}}ba._safeStringify=t;function n(){var a,c;try{return(c=(a=new Error().stack)===null||a===void 0?void 0:a.split("\n").slice(2))!==null&&c!==void 0?c:[]}catch(l){return[]}}ba._getStackTrace=n;function r(a,c,l){return!!(i(a)&&(Object.keys(a).length>c||s(a,l))||typeof a=="function")}function i(a){return Object.prototype.toString.call(a)==="[object Object]"}function s(a,c){return c<=0?!0:typeof a!="object"||a===null?!1:Object.keys(a).some(l=>s(a[l],c-1))}function o(a,c){return e(a.toString(),c)}return ba}var ui={},wR;function Rw(){if(wR)return ui;wR=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui._getPossibleFirstTouchMetadata=ui._getNetworkInfo=ui._gatherAllMetadata=ui._gatherCommonMetadata=void 0;const e=In(),t=hu();function n(c){var l,u,d,f,h,p,g,m;const v=(0,e._getDocumentSafe)(),y=(0,e._getWindowSafe)();return(0,t._stripEmptyValues)(Object.assign({title:v==null?void 0:v.title,current_url:(l=y==null?void 0:y.location)===null||l===void 0?void 0:l.href,user_agent:!((u=y==null?void 0:y.navigator)===null||u===void 0)&&u.userAgent&&((f=(d=y==null?void 0:y.navigator)===null||d===void 0?void 0:d.userAgent)===null||f===void 0?void 0:f.length)>200?y.navigator.userAgent.substring(0,200):(h=y==null?void 0:y.navigator)===null||h===void 0?void 0:h.userAgent,locale:(p=y==null?void 0:y.navigator)===null||p===void 0?void 0:p.language,hostname:c.hostname,pathname:c.pathname,screen_width:(g=y==null?void 0:y.screen)===null||g===void 0?void 0:g.width,screen_height:(m=y==null?void 0:y.screen)===null||m===void 0?void 0:m.height,viewport_width:y==null?void 0:y.innerWidth,viewport_height:y==null?void 0:y.innerHeight,viewport:"".concat(y==null?void 0:y.innerWidth,"x").concat(y==null?void 0:y.innerHeight),timestamp:Date.now(),timezone:(0,t._getSafeTimezone)(),timezone_offset:(0,t._getSafeTimezoneOffset)()},i()))}ui._gatherCommonMetadata=n;function r(c){const l=(0,e._getDocumentSafe)(),u=(0,e._getWindowSafe)();if(!l||!u)return{};const d=o(l),f=n(c),h=a(c),p={};return c.searchParams.forEach((g,m)=>{p[m]=g}),Object.assign(Object.assign({},f),(0,t._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},d),h),p)))}ui._gatherAllMetadata=r;function i(){const c=(0,t._getSafeNetworkInformation)(),l={};return(c==null?void 0:c.effectiveType)!==void 0&&(l.effective_connection_type=c.effectiveType),(c==null?void 0:c.rtt)!==void 0&&(l.rtt_ms=c.rtt),(c==null?void 0:c.downlink)!==void 0&&(l.downlink_mbps=c.downlink,l.downlink_kbps=c.downlink*1e3),(c==null?void 0:c.saveData)!==void 0&&(l.save_data=c.saveData),l}ui._getNetworkInfo=i;function s(c){const l=(0,e._getDocumentSafe)(),u=(0,e._getWindowSafe)();if(!l||!u)return{};const d=o(l),f=a(c),h=(0,t._stripEmptyValues)(Object.assign(Object.assign({},d),f)),p={};for(const[g,m]of Object.entries(h))p["$s_".concat(g)]=m;return p}ui._getPossibleFirstTouchMetadata=s;function o(c){const l=(c==null?void 0:c.referrer)||"";if(!l)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{const u=new URL(l),d=u.hostname,f=["google","bing","yahoo","duckduckgo","baidu"].find(p=>d.includes(p+"."))||"",h=u.searchParams.get(f==="yahoo"?"p":"q")||"";return{referrer:l,referrer_domain:u.hostname,referrer_path:u.pathname,searchEngine:f,searchQuery:h}}catch(u){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function a(c){const l=c.searchParams,u={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(f=>{const h=l.get(f);h&&(u[f]=h)}),u}return ui}var AR;function CX(){if(AR)return $u;AR=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.ConsoleLogManager=void 0;const e=In(),t=Gf(),n=hu(),r=yX(),i=Rw(),s={trace:10,debug:20,log:30,info:30,warn:40,error:50},o=10,a=10,c=500;let l=class{constructor(d,f,h){var p,g,m,v;this._enqueueFn=d,this._errorBoundary=f,this._options=h,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=(p=this._options.logLevel)!==null&&p!==void 0?p:"info",this._maxKeys=(g=this._options.maxKeys)!==null&&g!==void 0?g:o,this._maxDepth=(m=this._options.maxDepth)!==null&&m!==void 0?m:a,this._maxStringLength=(v=this._options.maxStringLength)!==null&&v!==void 0?v:c}startTracking(){try{if(this._isTracking||!this._options.enabled||!(0,e._getWindowSafe)())return;this._patchConsole(),this._isTracking=!0}catch(d){e.Log.error("Error starting console log tracking",d),this._errorBoundary.logError("autoCapture:ConsoleLogManager",d)}}stopTracking(){this._isTracking&&(this._restoreFns.forEach(d=>d()),this._restoreFns=[],this._isTracking=!1)}_patchConsole(){Object.entries(s).forEach(([d,f])=>{if(f<s[this._logLevel]||!console[d])return;const h=console[d].bind(console);let p=!1;const g=(0,n.wrapFunctionWithRestore)(console,d,m=>(...v)=>{if(m(...v),!p){p=!0;try{const y=v.map(b=>(0,r._safeStringify)(b,this._maxKeys,this._maxDepth,this._maxStringLength)),T=(0,r._getStackTrace)();this._enqueueConsoleLog(d,y,T)}catch(y){h("console observer error:",y,...v),this._errorBoundary.logError("autoCapture:ConsoleLogManager",y)}finally{p=!1}}});this._restoreFns.push(g)})}_enqueueConsoleLog(d,f,h){if(!this._shouldLog())return;const p=Object.assign({status:d==="log"?"info":d,log_level:d,payload:f,trace:h,timestamp:Date.now(),source:this.__source},(0,i._gatherAllMetadata)((0,n._getSafeUrl)()));this._enqueueFn(t.AutoCaptureEventName.CONSOLE_LOG,f.join(" "),p)}_shouldLog(){return!this._options.sampleRate||typeof this._options.sampleRate!="number"||this._options.sampleRate<=0||this._options.sampleRate>=1?!0:Math.random()<this._options.sampleRate}};return $u.ConsoleLogManager=l,$u}var Uv={},Ss={},xR;function FB(){if(xR)return Ss;xR=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss._getMetadataFromElement=Ss._gatherCopyEventData=Ss._gatherEventData=void 0;const e=In(),t=hu(),n=1e3,r=100,i=50;function s(C){const O=(0,t._getSanitizedPageUrl)()||"",w=C.tagName.toLowerCase();if(a(C))return{value:O,metadata:g(C)};const A={};A.tagName=w;const x=m(C);Object.assign(A,x),w==="form"&&Object.assign(A,c(C)),w==="input"&&Object.assign(A,l(C));const R=(0,t._getAnchorNodeInHierarchy)(C);return R&&Object.assign(A,u(R)),(w==="button"||R)&&Object.assign(A,d(R||C)),p(A)&&(A.isOutbound="true"),{value:O,metadata:A}}Ss._gatherEventData=s;function o(C){var O,w;const A=(w=(O=(0,e._getWindowSafe)())===null||O===void 0?void 0:O.getSelection())===null||w===void 0?void 0:w.toString(),x={};x.selectedText=(0,t._sanitizeString)(A);const R=C.type||"clipboard";return x.clipType=R,x}Ss._gatherCopyEventData=o;function a(C){return C.tagName.toLowerCase()==="input"&&["button","checkbox","submit","reset"].includes(C.getAttribute("type")||"")||C.tagName.toLowerCase()==="textarea"||C.tagName.toLowerCase()==="select"||C.getAttribute("contenteditable")==="true"}function c(C){var O;const w={};return w.action=C.getAttribute("action"),w.method=(O=C.getAttribute("method"))!==null&&O!==void 0?O:"GET",w.formName=C.getAttribute("name"),w.formId=C.getAttribute("id"),w}function l(C){const O={};return O.content=C.value,O.inputName=C.getAttribute("name"),O}function u(C){const O={};return O.href=C.getAttribute("href"),O}function d(C){const O={};O.content=(C.textContent||"").trim();const w=f(C);return Object.assign(O,w),O}function f(C){const O={};if(!C)return O;const w=C==null?void 0:C.dataset;if(!w)return O;for(const A in w)O["data-".concat(A)]=w[A]||"";return O}function h(C,O){return C?C.length>O?C.substring(0,O)+"...":C:null}function p(C){var O;if(Array.isArray(C.classList)&&(!((O=C.classList)===null||O===void 0)&&O.includes("statsig-ctr-capture")))return!0;const w=C.href;if(w)try{const A=(0,t._getSafeUrl)(),x=new URL(w);return A.host!==x.host}catch(A){return!1}return!1}function g(C){const O={};return O.class=v(h(C.getAttribute("class"),n)||""),O.id=h(C.getAttribute("id"),n),O.ariaLabel=h(C.getAttribute("aria-label"),n),O.name=h(C.getAttribute("name"),n),O}function m(C){const O={},w=g(C);Object.assign(O,w);const A=Array.from(C.classList);return O.classList=A.length>0?A.slice(0,r):null,O.selector=b(C),O}Ss._getMetadataFromElement=m;function v(C){return C.replace(/\s+/g," ").trim()}function y(C){let O=C.nextElementSibling;for(;O;){if(O.tagName===C.tagName)return!0;O=O.nextElementSibling}return!1}function T(C){const O=C.tagName.toLowerCase();if(C.id)return"#".concat(C.id);let w=O;if(C.className&&typeof C.className=="string"){const x=C.className.trim().split(/\s+/);x.length>0&&x[0]!==""&&(w+="."+x.join("."))}const A=C.parentElement;if(A&&A.children.length>1){let x=1,R=1,P=C.previousElementSibling;for(;P;)x++,P.tagName===C.tagName&&R++,P=P.previousElementSibling;w+=":nth-child(".concat(x,")"),(R>1||y(C))&&(w+=":nth-of-type(".concat(R,")"))}return w}function b(C){if(!C)return"";if(!C.parentNode){const x=C.tagName.toLowerCase();if(C.id)return"#".concat(C.id);let R=x;if(C.className&&typeof C.className=="string"){const P=C.className.trim().split(/\s+/);P.length>0&&P[0]!==""&&(R+="."+P.join("."))}return R}const O=[];let w=C,A=0;for(;w&&w.nodeType===Node.ELEMENT_NODE&&A<i;){const x=T(w);if(O.unshift(x),w.id||(w=w.parentElement,w&&w.tagName.toLowerCase()==="body"))break;A++}return O.join(" > ")}return Ss}var IR;function bX(){return IR||(IR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeadClickConfig=void 0;const t=In(),n=Gf(),r=hu(),i=FB(),s=Rw();e.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750};class o{constructor(c,l){this._enqueueFn=c,this._errorBoundary=l,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=e.DeadClickConfig,this._handleScroll=(0,r.throttle)(()=>{const u=Date.now();this._clicks.forEach(d=>{d.scrollDelayMs||(d.scrollDelayMs=u-d.timestamp)})},50)}startTracking(){try{const c=(0,t._getWindowSafe)();if(!c)return;c.addEventListener("click",l=>this._handleClick(l),{capture:!0}),c.addEventListener("scroll",()=>this._handleScroll(),{capture:!0,passive:!0}),c.addEventListener("selectionchange",()=>this._handleSelectionChange()),this._setupMutationObserver()}catch(c){t.Log.error("Error starting dead click tracking",c),this._errorBoundary.logError("autoCapture:DeadClickManager",c)}}_handleClick(c){var l,u;const d=c.target;if(!d)return;const f={timestamp:Date.now(),eventTarget:d};r.interactiveElements.includes((l=d==null?void 0:d.tagName)===null||l===void 0?void 0:l.toLowerCase())||this._clicks.push(f),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(u=(0,t._getWindowSafe)())===null||u===void 0?void 0:u.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_handleSelectionChange(){this._lastSelectionChangeTime=Date.now()}_setupMutationObserver(){const c=(0,t._getDocumentSafe)();c&&(this._observer=new MutationObserver(()=>{this._lastMutationTime=Date.now()}),this._observer.observe(c.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}_checkForDeadClick(){var c;if(!this._clicks.length)return;clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;const l=this._clicks;this._clicks=[];for(const u of l){this._updateClickDelayMs(u);const d=u.scrollDelayMs!=null&&u.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,f=u.selectionChangeDelayMs!=null&&u.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,h=u.mutationDelayMs!=null&&u.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(d||f||h)continue;const p=u.scrollDelayMs!=null&&u.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,g=u.selectionChangeDelayMs!=null&&u.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,m=u.mutationDelayMs!=null&&u.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,v=u.absoluteDelayMs!=null&&u.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;p||g||m||v?this._logDeadClick(u,{scrollTimeout:p,selectionChangeTimeout:g,mutationTimeout:m,absoluteTimeout:v}):u.absoluteDelayMs!=null&&u.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(u)}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(c=(0,t._getWindowSafe)())===null||c===void 0?void 0:c.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_logDeadClick(c,l){const{value:u,metadata:d}=(0,i._gatherEventData)(c.eventTarget);u&&this._enqueueFn(n.AutoCaptureEventName.DEAD_CLICK,u,Object.assign(Object.assign(Object.assign(Object.assign({},d),l),(0,s._gatherCommonMetadata)((0,r._getSafeUrl)())),{scrollDelayMs:c.scrollDelayMs,selectionChangeDelayMs:c.selectionChangeDelayMs,mutationDelayMs:c.mutationDelayMs,absoluteDelayMs:c.absoluteDelayMs}))}_updateClickDelayMs(c){!c.mutationDelayMs&&this._lastMutationTime>0&&c.timestamp<=this._lastMutationTime&&(c.mutationDelayMs=Date.now()-this._lastMutationTime),!c.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&c.timestamp<=this._lastSelectionChangeTime&&(c.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),c.absoluteDelayMs=Date.now()-c.timestamp}}e.default=o})(Uv)),Uv}var Hu={},NR;function EX(){if(NR)return Hu;NR=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.EngagementManager=void 0;const e=In(),t=6e5;let n=class{constructor(){this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._meaningfulEngagementOccurred=!1,this._initializeScrollTracking()}_initializeScrollTracking(){const i=(0,e._getWindowSafe)();i&&(i.addEventListener("scroll",()=>this._handleScroll()),i.addEventListener("scrollend",()=>this._handleScroll()),i.addEventListener("resize",()=>this._handleScroll()))}_handleScroll(){const i=(0,e._getWindowSafe)(),s=(0,e._getDocumentSafe)();if(!i||!s)return;const o=s.body.scrollHeight,a=i.scrollY||s.documentElement.scrollTop||0,c=i.innerHeight;this._lastScrollY=a,this._maxScrollY=Math.max(this._maxScrollY,a);const l=Math.min(100,Math.round((a+c)/o*100));this._lastScrollPercentage=l,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,l),this.bumpInactiveTimer()}getScrollMetrics(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}getPageViewLength(){return Date.now()-this._lastPageViewTime}setLastPageViewTime(i){this._lastPageViewTime=i}startInactivityTracking(i){this._onInactivityCallback=i}bumpInactiveTimer(){const i=(0,e._getWindowSafe)();i&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=i.setTimeout(()=>{this._onInactivityCallback&&this._onInactivityCallback()},t))}setMeaningfulEngagementOccurred(i){this._meaningfulEngagementOccurred=i}getPageViewEndMetadata(){const i=Object.assign(Object.assign({},this.getScrollMetrics()),{pageViewLength:this.getPageViewLength(),meaningfulEngagementOccurred:this._meaningfulEngagementOccurred});return this.setMeaningfulEngagementOccurred(!1),i}};return Hu.EngagementManager=n,Hu}var ip={},RR;function SX(){if(RR)return ip;RR=1,Object.defineProperty(ip,"__esModule",{value:!0});const e=30,t=1e3,n=3;let r=class{constructor(){this._clicks=[]}isRageClick(s,o,a){this._clicks=this._clicks.filter(l=>a-l.timestamp<t);const c=l=>{const u=s-l.x,d=o-l.y;return Math.abs(u)+Math.abs(d)<=e};return this._clicks.length>0&&!c(this._clicks[this._clicks.length-1])&&(this._clicks=[]),this._clicks.push({x:s,y:o,timestamp:a}),this._clicks.length>=n}};return ip.default=r,ip}var zu={},ld={exports:{}},OX=ld.exports,PR;function TX(){return PR||(PR=1,(function(e,t){(function(n,r){r(t)})(OX,(function(n){let r=-1;const i=J=>{addEventListener("pageshow",(K=>{K.persisted&&(r=K.timeStamp,J(K))}),!0)},s=(J,K,ne,X)=>{let ee,ye;return de=>{K.value>=0&&(de||X)&&(ye=K.value-(ee!=null?ee:0),(ye||ee===void 0)&&(ee=K.value,K.delta=ye,K.rating=((oe,Ee)=>oe>Ee[1]?"poor":oe>Ee[0]?"needs-improvement":"good")(K.value,ne),J(K)))}},o=J=>{requestAnimationFrame((()=>requestAnimationFrame((()=>J()))))},a=()=>{const J=performance.getEntriesByType("navigation")[0];if(J&&J.responseStart>0&&J.responseStart<performance.now())return J},c=()=>{var K;const J=a();return(K=J==null?void 0:J.activationStart)!=null?K:0},l=(J,K=-1)=>{const ne=a();let X="navigate";return r>=0?X="back-forward-cache":ne&&(document.prerendering||c()>0?X="prerender":document.wasDiscarded?X="restore":ne.type&&(X=ne.type.replace(/_/g,"-"))),{name:J,value:K,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:X}},u=new WeakMap;function d(J,K){return u.get(J)||u.set(J,new K),u.get(J)}class f{constructor(){U(this,"t");U(this,"i",0);U(this,"o",[])}h(K){var ee;if(K.hadRecentInput)return;const ne=this.o[0],X=this.o.at(-1);this.i&&ne&&X&&K.startTime-X.startTime<1e3&&K.startTime-ne.startTime<5e3?(this.i+=K.value,this.o.push(K)):(this.i=K.value,this.o=[K]),(ee=this.t)==null||ee.call(this,K)}}const h=(J,K,ne={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(J)){const X=new PerformanceObserver((ee=>{Promise.resolve().then((()=>{K(ee.getEntries())}))}));return X.observe(S({type:J,buffered:!0},ne)),X}}catch(X){}},p=J=>{let K=!1;return()=>{K||(J(),K=!0)}};let g=-1;const m=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,v=J=>{document.visibilityState==="hidden"&&g>-1&&(g=J.type==="visibilitychange"?J.timeStamp:0,T())},y=()=>{addEventListener("visibilitychange",v,!0),addEventListener("prerenderingchange",v,!0)},T=()=>{removeEventListener("visibilitychange",v,!0),removeEventListener("prerenderingchange",v,!0)},b=()=>{var J;if(g<0){const K=c(),ne=document.prerendering||(J=globalThis.performance.getEntriesByType("visibility-state").filter((X=>X.name==="hidden"&&X.startTime>K))[0])==null?void 0:J.startTime;g=ne!=null?ne:m(),y(),i((()=>{setTimeout((()=>{g=m(),y()}))}))}return{get firstHiddenTime(){return g}}},C=J=>{document.prerendering?addEventListener("prerenderingchange",(()=>J()),!0):J()},O=[1800,3e3],w=(J,K={})=>{C((()=>{const ne=b();let X,ee=l("FCP");const ye=h("paint",(de=>{for(const oe of de)oe.name==="first-contentful-paint"&&(ye.disconnect(),oe.startTime<ne.firstHiddenTime&&(ee.value=Math.max(oe.startTime-c(),0),ee.entries.push(oe),X(!0)))}));ye&&(X=s(J,ee,O,K.reportAllChanges),i((de=>{ee=l("FCP"),X=s(J,ee,O,K.reportAllChanges),o((()=>{ee.value=performance.now()-de.timeStamp,X(!0)}))})))}))},A=[.1,.25];let x=0,R=1/0,P=0;const L=J=>{for(const K of J)K.interactionId&&(R=Math.min(R,K.interactionId),P=Math.max(P,K.interactionId),x=P?(P-R)/7+1:0)};let D;const F=()=>{var J;return D?x:(J=performance.interactionCount)!=null?J:0},G=()=>{"interactionCount"in performance||D||(D=h("event",L,{type:"event",buffered:!0,durationThreshold:0}))};let Y=0;class V{constructor(){U(this,"u",[]);U(this,"l",new Map);U(this,"m");U(this,"p")}v(){Y=F(),this.u.length=0,this.l.clear()}T(){const K=Math.min(this.u.length-1,Math.floor((F()-Y)/50));return this.u[K]}h(K){var ee,ye;if((ee=this.m)==null||ee.call(this,K),!K.interactionId&&K.entryType!=="first-input")return;const ne=this.u.at(-1);let X=this.l.get(K.interactionId);if(X||this.u.length<10||K.duration>ne.P){if(X?K.duration>X.P?(X.entries=[K],X.P=K.duration):K.duration===X.P&&K.startTime===X.entries[0].startTime&&X.entries.push(K):(X={id:K.interactionId,entries:[K],P:K.duration},this.l.set(X.id,X),this.u.push(X)),this.u.sort(((de,oe)=>oe.P-de.P)),this.u.length>10){const de=this.u.splice(10);for(const oe of de)this.l.delete(oe.id)}(ye=this.p)==null||ye.call(this,X)}}}const M=J=>{const K=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?J():(J=p(J),document.addEventListener("visibilitychange",J,{once:!0}),K((()=>{J(),document.removeEventListener("visibilitychange",J)})))},te=[200,500];class ${constructor(){U(this,"m")}h(K){var ne;(ne=this.m)==null||ne.call(this,K)}}const ie=[2500,4e3],ue=[800,1800],me=J=>{document.prerendering?C((()=>me(J))):document.readyState!=="complete"?addEventListener("load",(()=>me(J)),!0):setTimeout(J)};n.CLSThresholds=A,n.FCPThresholds=O,n.INPThresholds=te,n.LCPThresholds=ie,n.TTFBThresholds=ue,n.onCLS=(J,K={})=>{w(p((()=>{let ne,X=l("CLS",0);const ee=d(K,f),ye=oe=>{for(const Ee of oe)ee.h(Ee);ee.i>X.value&&(X.value=ee.i,X.entries=ee.o,ne())},de=h("layout-shift",ye);de&&(ne=s(J,X,A,K.reportAllChanges),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(ye(de.takeRecords()),ne(!0))})),i((()=>{ee.i=0,X=l("CLS",0),ne=s(J,X,A,K.reportAllChanges),o((()=>ne()))})),setTimeout(ne))})))},n.onFCP=w,n.onINP=(J,K={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&C((()=>{var oe;G();let ne,X=l("INP");const ee=d(K,V),ye=Ee=>{M((()=>{for(const He of Ee)ee.h(He);const Ae=ee.T();Ae&&Ae.P!==X.value&&(X.value=Ae.P,X.entries=Ae.entries,ne())}))},de=h("event",ye,{durationThreshold:(oe=K.durationThreshold)!=null?oe:40});ne=s(J,X,te,K.reportAllChanges),de&&(de.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(ye(de.takeRecords()),ne(!0))})),i((()=>{ee.v(),X=l("INP"),ne=s(J,X,te,K.reportAllChanges)})))}))},n.onLCP=(J,K={})=>{C((()=>{const ne=b();let X,ee=l("LCP");const ye=d(K,$),de=Ee=>{K.reportAllChanges||(Ee=Ee.slice(-1));for(const Ae of Ee)ye.h(Ae),Ae.startTime<ne.firstHiddenTime&&(ee.value=Math.max(Ae.startTime-c(),0),ee.entries=[Ae],X())},oe=h("largest-contentful-paint",de);if(oe){X=s(J,ee,ie,K.reportAllChanges);const Ee=p((()=>{de(oe.takeRecords()),oe.disconnect(),X(!0)}));for(const Ae of["keydown","click","visibilitychange"])addEventListener(Ae,(()=>M(Ee)),{capture:!0,once:!0});i((Ae=>{ee=l("LCP"),X=s(J,ee,ie,K.reportAllChanges),o((()=>{ee.value=performance.now()-Ae.timeStamp,X(!0)}))}))}}))},n.onTTFB=(J,K={})=>{let ne=l("TTFB"),X=s(J,ne,ue,K.reportAllChanges);me((()=>{const ee=a();ee&&(ne.value=Math.max(ee.responseStart-c(),0),ne.entries=[ee],X(!0),i((()=>{ne=l("TTFB",0),X=s(J,ne,ue,K.reportAllChanges),X(!0)})))}))}}))})(ld,ld.exports)),ld.exports}var kR;function wX(){if(kR)return zu;kR=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.WebVitalsManager=void 0;const e=TX(),t=In(),n=Gf(),r=hu(),i=["CLS","FCP","INP","LCP","TTFB"];let s=class{constructor(a,c){this._enqueueFn=a,this._errorBoundary=c,this._isInitialized=!1,this._metricEvent={url:(0,r._getSafeUrlString)(),sanitizedUrl:(0,r._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}startTracking(){var a,c;try{if(this._isInitialized)return;const l=(c=(a=(0,t._getWindowSafe)())===null||a===void 0?void 0:a.location)===null||c===void 0?void 0:c.protocol;if(l!=="https:"&&l!=="http:")return;(0,e.onCLS)(u=>this._handleMetric(u)),(0,e.onFCP)(u=>this._handleMetric(u)),(0,e.onINP)(u=>this._handleMetric(u)),(0,e.onLCP)(u=>this._handleMetric(u)),(0,e.onTTFB)(u=>this._handleMetric(u)),this._isInitialized=!0}catch(l){t.Log.error("Error starting web vitals tracking",l),this._errorBoundary.logError("autoCapture:WebVitalsManager",l)}}_handleMetric(a){if(this._metricEvent.firstMetricTimestamp===void 0&&(this._metricEvent.firstMetricTimestamp=Date.now()),a===void 0||(a==null?void 0:a.name)===void 0)return;const c=(0,r._getSafeUrlString)();if(c===""||!i.includes(a.name))return;c!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=c);const l=a;this._metricEvent.metrics.push({name:l.name,value:l.value,delta:l.delta,id:l.id}),this._metricEvent.metrics.length===i.length&&this._enqueueWebVitalsAutoCaptureEvent()}_enqueueWebVitalsAutoCaptureEvent(){if(this._metricEvent.url===""||this._metricEvent.metrics.length===0)return;const a={};this._metricEvent.metrics.forEach(c=>{const l=c.name.toLowerCase();a["".concat(l,"_value")]=c.value,a["".concat(l,"_delta")]=c.delta,a["".concat(l,"_id")]=c.id}),this._enqueueFn(n.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},a),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,r._getSafeUrlString)(),sanitizedUrl:(0,r._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}};return zu.WebVitalsManager=s,zu}var MR;function AX(){if(MR)return Es;MR=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.AutoCapture=Es.runStatsigAutoCapture=Es.StatsigAutoCapturePlugin=void 0;const e=In(),t=Gf(),n=CX(),r=bX(),i=EX(),s=SX(),o=wX(),a=hu(),c=FB(),l=Rw(),u={submit:t.AutoCaptureEventName.FORM_SUBMIT,click:t.AutoCaptureEventName.CLICK,copy:t.AutoCaptureEventName.COPY,cut:t.AutoCaptureEventName.COPY};class d{constructor(g){this._options=g,this.__plugin="auto-capture"}bind(g){f(g,this._options)}}Es.StatsigAutoCapturePlugin=d;function f(p,g){var m;const{sdkKey:v}=p.getContext();if(!(0,e._isServerEnv)()){const T=(m=(0,e._getStatsigGlobal)().acInstances)!==null&&m!==void 0?m:{};if(T[v])return T[v]}return new h(p,g)}Es.runStatsigAutoCapture=f;let h=class{constructor(g,m){var v,y,T,b;this._client=g,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;const{sdkKey:C,errorBoundary:O,values:w}=g.getContext();this._options=m,this._disabledEvents=(y=(v=w==null?void 0:w.auto_capture_settings)===null||v===void 0?void 0:v.disabled_events)!==null&&y!==void 0?y:{},this._errorBoundary=O,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",()=>{var x,R;const P=this._client.getContext().values;this._disabledEvents=(R=(x=P==null?void 0:P.auto_capture_settings)===null||x===void 0?void 0:x.disabled_events)!==null&&R!==void 0?R:this._disabledEvents}),this._engagementManager=new i.EngagementManager,this._rageClickManager=new s.default,this._webVitalsManager=new o.WebVitalsManager(this._enqueueAutoCapture.bind(this),O),this._deadClickManager=new r.default(this._enqueueAutoCapture.bind(this),O),this._consoleLogManager=new n.ConsoleLogManager(this._enqueueAutoCapture.bind(this),O,(T=m==null?void 0:m.consoleLogAutoCaptureSettings)!==null&&T!==void 0?T:{enabled:!1}),this._eventFilterFunc=m==null?void 0:m.eventFilterFunc;const A=(0,e._getDocumentSafe)();if(!(0,e._isServerEnv)()){__STATSIG__=(0,e._getStatsigGlobal)();const x=(b=__STATSIG__.acInstances)!==null&&b!==void 0?b:{};x[C]=this,__STATSIG__.acInstances=x}if((A==null?void 0:A.readyState)==="loading"){A.addEventListener("DOMContentLoaded",()=>this._initialize());return}this._initialize()}_addEventHandlers(){const g=(0,e._getWindowSafe)(),m=(0,e._getDocumentSafe)();if(!g||!m)return;const v=(y,T=!0)=>{var b;const C=y||((b=(0,e._getWindowSafe)())===null||b===void 0?void 0:b.event);this._autoLogEvent(C),T&&this._engagementManager.bumpInactiveTimer(),C.type==="click"&&C instanceof MouseEvent&&this._rageClickManager.isRageClick(C.clientX,C.clientY,Date.now())&&this._logRageClick(C)};(0,a._registerEventHandler)(m,"click",y=>v(y)),(0,a._registerEventHandler)(m,"submit",y=>v(y)),(0,a._registerEventHandler)(m,"copy",y=>v(y)),(0,a._registerEventHandler)(m,"cut",y=>v(y)),(0,a._registerEventHandler)(g,"error",y=>v(y,!1)),(0,a._registerEventHandler)(g,"pagehide",()=>this._tryLogPageViewEnd()),(0,a._registerEventHandler)(g,"beforeunload",()=>this._tryLogPageViewEnd())}_addPageViewTracking(){const g=(0,e._getWindowSafe)(),m=(0,e._getDocumentSafe)();!g||!m||((0,a._registerEventHandler)(g,"popstate",()=>this._tryLogPageView("popstate")),window.history.pushState=new Proxy(window.history.pushState,{apply:(v,y,[T,b,C])=>{v.apply(y,[T,b,C]),this._tryLogPageView("pushstate")}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(v,y,[T,b,C])=>{v.apply(y,[T,b,C]),this._tryLogPageView("replacestate")}}),this._tryLogPageView())}_autoLogEvent(g){var m,v,y,T;const b=(m=g.type)===null||m===void 0?void 0:m.toLowerCase();if(b==="error"&&g instanceof ErrorEvent){this._logError(g);return}const C=(0,a._getTargetNode)(g);if(!C)return;const O=u[b];if(!O)return;const w=O===t.AutoCaptureEventName.COPY;if(!(0,a._shouldLogEvent)(g,C,w))return;const A={};if(w){const L=(y=(v=(0,e._getWindowSafe)())===null||v===void 0?void 0:v.getSelection())===null||y===void 0?void 0:y.toString();if(!L)return;!((T=this._options)===null||T===void 0)&&T.captureCopyText&&(A.selectedText=(0,a._sanitizeString)(L));const D=g.type||"clipboard";A.clipType=D}const{value:x,metadata:R}=(0,c._gatherEventData)(C);R.isOutbound&&this._engagementManager.setMeaningfulEngagementOccurred(!0),Object.assign(A,R);const P=(0,l._gatherAllMetadata)((0,a._getSafeUrl)());this._enqueueAutoCapture(O,x,Object.assign(Object.assign({},P),A))}_initialize(){this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(()=>this._tryLogPageViewEnd(!0)),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(g){const m=(g==null?void 0:g.error)||{};let v=m;if(typeof m=="object")try{v=JSON.stringify(m)}catch(y){v=typeof(m==null?void 0:m.toString)=="function"?m.toString():"Unknown Error"}this._enqueueAutoCapture(t.AutoCaptureEventName.ERROR,g.message,{message:g.message,filename:g.filename,lineno:g.lineno,colno:g.colno,error_str:v})}_logSessionStart(){const g=this._getSessionFromClient();try{if(!this._isNewSession(g))return;this._enqueueAutoCapture(t.AutoCaptureEventName.SESSION_START,(0,a._getSanitizedPageUrl)(),Object.assign({sessionID:g.data.sessionID},(0,l._gatherAllMetadata)((0,a._getSafeUrl)())),{flushImmediately:!0})}catch(m){this._errorBoundary.logError("AC::logSession",m)}}_tryLogPageView(g){const m=(0,a._getSafeUrl)(),v=this._previousLoggedPageViewUrl;if(v&&m.pathname===v.pathname)return;this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;const y=(0,l._gatherAllMetadata)(m);g&&(y.navigation_type=g),this._previousLoggedPageViewUrl&&(y.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(t.AutoCaptureEventName.PAGE_VIEW,(0,a._getSanitizedPageUrl)(),y,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=m,this._engagementManager.bumpInactiveTimer()}_tryLogPageViewEnd(g=!1){this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(t.AutoCaptureEventName.PAGE_VIEW_END,(0,a._getSanitizedPageUrl)(),Object.assign(Object.assign({},this._engagementManager.getPageViewEndMetadata()),{dueToInactivity:g}),{flushImmediately:!0}))}_logRageClick(g){if(!(0,a._shouldLogEvent)(g,g.target))return;const{value:m,metadata:v}=(0,c._gatherEventData)(g.target);this._enqueueAutoCapture(t.AutoCaptureEventName.RAGE_CLICK,m,Object.assign(Object.assign({x:g.clientX,y:g.clientY,timestamp:Date.now()},(0,l._gatherAllMetadata)((0,a._getSafeUrl)())),v))}_logPerformance(){const g=(0,e._getWindowSafe)();!g||!g.performance||typeof(g==null?void 0:g.performance)>"u"||typeof g.performance.getEntriesByType!="function"||typeof g.performance.getEntriesByName!="function"||setTimeout(()=>{const m={},v=g.performance.getEntriesByType("navigation");if(v&&v.length>0&&v[0]instanceof PerformanceNavigationTiming){const T=v[0];m.load_time_ms=T.duration,m.dom_interactive_time_ms=T.domInteractive-T.startTime,m.redirect_count=T.redirectCount,m.transfer_bytes=T.transferSize}const y=g.performance.getEntriesByName("first-contentful-paint");y&&y.length>0&&y[0]instanceof PerformancePaintTiming&&(m.first_contentful_paint_time_ms=y[0].startTime),this._enqueueAutoCapture(t.AutoCaptureEventName.PERFORMANCE,(0,a._getSanitizedPageUrl)(),Object.assign(Object.assign({},m),(0,l._getNetworkInfo)()))},1)}_enqueueAutoCapture(g,m,v,y){var T,b,C;if(!m)return;const O=g.slice(14);if(this._disabledEvents[g]||this._disabledEvents[O])return;const w=this._getSessionFromClient();try{const A=Object.assign({sessionID:w.data.sessionID,page_url:(C=(b=(T=(0,e._getWindowSafe)())===null||T===void 0?void 0:T.location)===null||b===void 0?void 0:b.href)!==null&&C!==void 0?C:""},v);y!=null&&y.addNewSessionMetadata&&(A.isNewSession=String(this._isNewSession(w)));const x={eventName:g,value:m,metadata:A};if(this._eventFilterFunc&&!this._eventFilterFunc(x))return;this._client.logEvent(x),y!=null&&y.flushImmediately&&this._flushImmediately()}catch(A){this._errorBoundary.logError("AC::enqueue",A)}}_updateClientWithPossibleFirstTouchMetadata(){const g=this._client;g._possibleFirstTouchMetadata=(0,l._getPossibleFirstTouchMetadata)((0,a._getSafeUrl)()),Object.keys(g._possibleFirstTouchMetadata).length>0&&(g._user=Object.assign(Object.assign({},g._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},g._possibleFirstTouchMetadata),g._user.analyticsOnlyMetadata)}))}_flushImmediately(){this._client.flush().catch(g=>{e.Log.error(g)})}_isNewSession(g){return Math.abs(g.data.startTime-Date.now())<1e3}_getSessionFromClient(){return this._client.getContext().session}static getAllMetadata(){return(0,l._gatherAllMetadata)((0,a._getSafeUrl)())}};return Es.AutoCapture=h,Es}var DR;function xX(){return DR||(DR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigAutoCapturePlugin=e.runStatsigAutoCapture=e.AutoCapture=e.AutoCaptureEventName=void 0;const t=In(),n=AX();Object.defineProperty(e,"AutoCapture",{enumerable:!0,get:function(){return n.AutoCapture}}),Object.defineProperty(e,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return n.StatsigAutoCapturePlugin}}),Object.defineProperty(e,"runStatsigAutoCapture",{enumerable:!0,get:function(){return n.runStatsigAutoCapture}});var r=Gf();Object.defineProperty(e,"AutoCaptureEventName",{enumerable:!0,get:function(){return r.AutoCaptureEventName}});const i=Object.assign((0,t._getStatsigGlobal)(),{AutoCapture:n.AutoCapture,runStatsigAutoCapture:n.runStatsigAutoCapture,StatsigAutoCapturePlugin:n.StatsigAutoCapturePlugin});e.default=i})(jv)),jv}xX();function ST(e,t,n,r){return hr(e).logEvent(t,n,r)}function $e(e,t,n){return hr(e).checkGate(t,n)}function rn(e,t,n){return hr(e).getDynamicConfig(t,n)}function UB(e,t,n){return hr(e).getExperiment(t,n)}function un(e,t,n){return hr(e).getLayer(t,n)}const IX=ut(()=>new vX.LocalOverrideAdapter),NX=e=>{var n,r,i;const t={};return typeof((n=e==null?void 0:e.custom)==null?void 0:n.auth_status)=="string"&&(t.auth_status=e.custom.auth_status),typeof(e==null?void 0:e.locale)=="string"&&(t.browser_locale=e.locale),typeof((r=e==null?void 0:e.custom)==null?void 0:r.container_build_number)=="string"&&(t.container_build_number=e.custom.container_build_number),typeof((i=e==null?void 0:e.custom)==null?void 0:i.container_build_version)=="string"&&(t.container_build_version=e.custom.container_build_version),t};class RX extends jB.StatsigClient{constructor(){super(...arguments);U(this,"commonMetadata",{})}logEvent(n,r,i){var o;const s=S(S({},this.commonMetadata),typeof n=="string"?i:n.metadata);super.logEvent(typeof n=="string"?n:n.eventName,typeof n=="string"?r:(o=n.value)!=null?o:void 0,s)}}const hr=ut(e=>{const t=xt(e),n=IX(e),r=new RX(cX,t.statsigPayload.user,{environment:{tier:lX},networkConfig:{api:window.location.origin+"/v1",preventAllNetworkTraffic:!1},loggingBufferMaxSize:100,disableLogging:!1,disableStorage:!1,overrideAdapter:n,logEventCompressionMode:jB.LogEventCompressionMode.Forced});return r.commonMetadata=NX(t.statsigPayload.user),r.dataAdapter.setData(JSON.stringify(t.statsigPayload)),r.initializeSync(),r});function Yu(){return hr(At())}const ft={logEvent:(e,t,n)=>{aX.postTask(()=>{Yu().logEvent(e,t!=null?t:void 0,n)},{priority:"background"})},checkGate:e=>Yu().checkGate(e),getUser:()=>Yu().getContext().user,getLayerValue(e){var t;return(t=Yu().getLayer(e.layerName,{disableExposureLog:!e.shouldLogExposure}).get(e.key))!=null?t:e.defaultValue},checkGateWithExposureLoggingDisabled:e=>Yu().checkGate(e,{disableExposureLog:!0})},Pw=window.location.host+"/ces",kw="https",PX={},kX=PX,BB="".concat(kw,"://").concat(Pw),GB={disableClientPersistence:!0,integrations:{"Segment.io":{apiHost:"".concat(Pw,"/v1"),host:BB,protocol:kw,deliveryStrategy:S({},kX)}}},WB={writeKey:"oai",cdnURL:"".concat(kw,"://").concat(Pw)};var Mw={},en=(e=>(e[e.Required=0]="Required",e[e.SendIfAvailable=1]="SendIfAvailable",e[e.Anonymous=2]="Anonymous",e))(en||{}),sB;const Je=(sB=Mw.VITE_SHARED_API_URL)!=null?sB:window.location.origin+"/backend-api";var oB;const Dw=(oB=Mw.VITE_SHARED_ANON_API_URL)!=null?oB:window.location.origin+"/backend-anon";var aB;const Hp=(aB=Mw.VITE_PUBLIC_API_URL)!=null?aB:window.location.origin+"/public-api",MX="v4-2023-04-27",SUe={IT:"Italy",KR:"South Korea"},DX={AD:"Andorra",AI:"Anguilla",AT:"Austria",AW:"Aruba",AX:"Ã…land Islands",BG:"Bulgaria",BL:"Saint BarthÃ©lemy",BM:"Bermuda",BQ:"Caribbean Netherlands",BV:"Bouvet Island",CH:"Switzerland",CW:"CuraÃ§ao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",EE:"Estonia",ES:"Spain",FI:"Finland",FK:"Falkland Islands",FO:"Faroe Islands",FR:"France",GB:"United Kingdom",GF:"French Guiana",GG:"Guernsey",GI:"Gibraltar",GL:"Greenland",GP:"Guadeloupe",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",HR:"Croatia",HU:"Hungary",IC:"Canary Islands",IE:"Ireland",IM:"Isle of Man",IO:"British Indian Ocean Territory",IS:"Iceland",IT:"Italy",JE:"Jersey",KY:"Cayman Islands",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",ME:"Montenegro",MF:"Saint Martin",MQ:"Martinique",MS:"Montserrat",MT:"Malta",NC:"New Caledonia",NL:"Netherlands",NO:"Norway",PF:"French Polynesia",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PT:"Portugal",RE:"Reunion",SE:"Sweden",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SM:"San Marino",SX:"Sint Maarten",TC:"Turks and Caicos Islands",TF:"French Southern Territories",VG:"British Virgin Islands",WF:"Wallis and Futuna",YT:"Mayotte",ZA:"South Africa",ID:"Indonesia",BE:"Belgium",IN:"India",RO:"Romania",CA:"Canada",SG:"Singapore"},qB=[/^https:\/\/ab\.chatgpt\.com\//,e=>e.startsWith(BB),e=>{const t=[Je,Dw],n=[/^\/sentinel\//];for(const r of t)if(e.startsWith(r)){const i=e.slice(r.length);return n.some(s=>s.test(i))}return!1}];var Rs,Mf,Df,Lf,jf,Ya;class LX{constructor(){Nt(this,Rs,!1);Nt(this,Mf,new Set);Nt(this,Df,new Set);Nt(this,Lf,new Map);Nt(this,jf,!1);Nt(this,Ya,new Map);U(this,"addAction",(t,n)=>{he(this,Rs)||(console.error("Should not call addAction before initialize"),this.initialize()),Xn.addAction(t,n)})}initialize(t){var n;if(!he(this,Rs)){{const r=Gm?(n=ot==null?void 0:ot.getTelemetryConfig)==null?void 0:n.call(ot):void 0,i=r!==void 0?r.datadogService:"chatgpt-web",s=1;Xn.init(S(I(S({applicationId:"fd6e06b8-4825-4fbb-8db4-2a243f92c4bc",clientToken:"pub1f79f8ac903a5872ae5f53026d20a77c",site:"datadoghq.com",service:i,env:"prod",version:"7b4ad770564e1a05033d9481af8a607f0f63bc7b"},document.documentElement.dataset.jsp?{profilingSampleRate:100}:{}),{sessionSampleRate:s,sessionReplaySampleRate:0,trackUserInteractions:!1,defaultPrivacyLevel:uJ.MASK_USER_INPUT,beforeSend:o=>{if(o.type==="error"&&JJ(o.error))return!1;if(o.view.url=Id(o.view.url),o.type==="resource"){const a=fR(o.resource.url);if(a!=null&&(a.hostname===window.location.host||a.pathname.startsWith("/ces/")))return!1;o.resource.url=Id(o.resource.url)}return o.type==="error"&&o.error.resource&&(o.error.resource.url=Id(o.error.resource.url)),!0},allowedTrackingOrigins:[/chatgpt\.com/],allowedTracingUrls:[{match:o=>{const a=fR(o);if(a==null)return!1;const{hostname:c,pathname:l}=a;return!(!["openai.com",window.location.host].some(d=>c.endsWith(d))||c===window.location.host||l.startsWith("/ces/")||l.startsWith("/healthcheck"))},propagatorTypes:["datadog"]}],traceSampleRate:s,excludedActivityUrls:qB}),t)),Xn.setGlobalContextProperty("track","stable"),r!==void 0&&Xn.setGlobalContextProperty("is_electron_desktop_app",!0),Xn.setGlobalContextProperty("is_authenticated",!1)}Ut(this,Rs,!0),bT.instance.setLogger(this)}}get viewId(){var t,n;return(n=(t=Xn.getInternalContext())==null?void 0:t.view)==null?void 0:n.id}get sessionId(){var t;return(t=Xn.getInternalContext())==null?void 0:t.session_id}addError(t,n){if(console.error(t,n),he(this,Rs)||(console.error("Should not call addError before initialize"),this.initialize()),t instanceof Ht)return;const r=typeof t=="string"?new Error(t):t;he(this,jf)||(ft.logEvent("session_has_datadog_error"),Ut(this,jf,!0)),Xn.addError(r,n)}addTiming(t,{time:n,serialTimingGroup:r}={}){const i=n!=null?n:Date.now(),s=i-performance.timeOrigin;if(performance.mark(t,{startTime:Math.max(0,s)}),r){he(this,Ya).has(r)||he(this,Ya).set(r,0);const o=he(this,Ya).get(r);performance.measure(t,{start:o,end:s}),he(this,Ya).set(r,s)}he(this,Lf).set(t,i),he(this,Rs)||(console.error("Should not call addTiming before initialize"),this.initialize()),Xn.addTiming(t,n)}addFirstTiming(t,{time:n,serialTimingGroup:r}={}){he(this,Mf).has(t)||(he(this,Mf).add(t),this.addTiming(t,{time:n,serialTimingGroup:r}))}addDurationVital(t,n,r){Xn.addDurationVital(t,{startTime:n,duration:r})}addFirstDurationVital(t,n,r){he(this,Df).has(t)||(he(this,Df).add(t),this.addDurationVital(t,n,r))}getTimings(){return he(this,Lf)}setUser(t,n){var i;Xn.setGlobalContextProperty("is_authenticated",!0);const r={id:t.id,account_plan_type:(i=n==null?void 0:n.planType)!=null?i:"none",workspace_id:n==null?void 0:n.id};he(this,Rs)||(console.error("Should not call setUser before initialize"),this.initialize()),Xn.setUser(r)}addFeatureFlagEvaluation(t,n){Xn.addFeatureFlagEvaluation(t,n)}}Rs=new WeakMap,Mf=new WeakMap,Df=new WeakMap,Lf=new WeakMap,jf=new WeakMap,Ya=new WeakMap;const Q=new LX,jX=Object.freeze(Object.defineProperty({__proto__:null,DatadogLogger:Q},Symbol.toStringTag,{value:"Module"})),FX=["disable-pli","disable-rq-timeouts","defer-pc","use-observe","user-settings-context","cache-cookies"];function pu(e,t,{disableExposureLog:n}={}){return un(e,"3671511802",{disableExposureLog:n}).get(t,!1)}function UX(e){for(const t of FX)Q.addFeatureFlagEvaluation("js-perf-".concat(t),pu(e,t,{disableExposureLog:!0}))}const VB=3480*1e3,BX=VB;function GX(e){return e}const Wm=dJ,WX=({shouldSetReactQueryInfiniteStaleTime:e=!1}={})=>({defaultOptions:{queries:{gcTime:BX,staleTime:e?1/0:VB,retry:!1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,networkMode:"always",queryKeyHashFn:Wm,throwOnError:(t,n)=>{if(!(t instanceof Ht||t instanceof Lt))try{Q.addError(t,{queryKey:n.queryKey.map(String).join(","),queryHash:n.queryHash})}catch(r){console.error(r)}return!1}},hydrate:{deserializeData:GX}}}),LR=new Set,jR=new WeakMap,FR=e=>{let t=jR.get(e);return t==null&&(t=new Map,jR.set(e,t)),t},qX=(e,t)=>{const n=FR(t),r=n.get(e);if(r)return r;const i=(s,...o)=>{var c,l;const a=(l=(c=window.__REACT_QUERY_CACHE__)==null?void 0:c[e])==null?void 0:l.promise;return!LR.has(e)&&a!=null?(LR.add(e),a.then(u=>{var f;const d=u;return s.pageParam!=null&&Array.isArray(d.pageParams)&&d.pageParams.includes(s.pageParam)&&((f=d.pages)==null?void 0:f[s.pageParam])!=null?d.pages[s.pageParam]:d}).catch(()=>t(s,...o))):t(s,...o)};return FR(i).set(e,i),n.set(e,i),i};class VX extends fJ{defaultQueryOptions(t){var r;const n=super.defaultQueryOptions(t);if(t._defaulted)return n;if(typeof n.queryFn=="function"&&n.queryKey){const i=(r=n.queryHash)!=null?r:Wm(n.queryKey);n.queryFn=qX(i,n.queryFn)}return n}}function $X(e){let t=!0;return e&&(t=pu(e,"disable-rq-timeouts")),new VX(WX({shouldSetReactQueryInfiniteStaleTime:t}))}const tn=ut(e=>$X(e)),zp=E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!zp)throw new Error("Missing react shared internals. Check version.");function qm(){const e=zp==null?void 0:zp.H;return e!=null&&e.useState!==e.useReducer}function et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var HX={};function Vm(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:HX}var $B=Object.assign,Ig=Object.getOwnPropertyDescriptor,rs=Object.defineProperty,Wf=Object.prototype,OT=[];Object.freeze(OT);var Lw={};Object.freeze(Lw);var zX=typeof Proxy<"u",YX=Object.toString();function HB(){zX||et("Proxy not available")}function zB(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ml=function(){};function Rr(e){return typeof e=="function"}function cc(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function $m(e){return e!==null&&typeof e=="object"}function qs(e){if(!$m(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===YX}function YB(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function qf(e,t,n){rs(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function KB(e,t,n){rs(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function na(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return $m(r)&&r[n]===!0}}function gu(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function KX(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Ps(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var JB=typeof Object.getOwnPropertySymbols<"u";function JX(e){var t=Object.keys(e);if(!JB)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Wf.propertyIsEnumerable.call(e,r)})):t}var Hl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:JB?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function XB(e){return e===null?null:typeof e=="object"?""+e:e}function Ls(e,t){return Wf.hasOwnProperty.call(e,t)}var XX=Object.getOwnPropertyDescriptors||function(t){var n={};return Hl(t).forEach(function(r){n[r]=Ig(t,r)}),n};function Er(e,t){return!!(e&t)}function Sr(e,t,n){return n?e|=t:e&=~t,e}function UR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function QX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eQ(r.key),r)}}function mu(e,t,n){return t&&QX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _l(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=tQ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wo.apply(null,arguments)}function QB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,TT(e,t)}function TT(e,t){return TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},TT(e,t)}function ZX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eQ(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(e){if(typeof e=="string")return UR(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UR(e,t):void 0}}var ts=Symbol("mobx-stored-annotations");function Ci(e){function t(n,r){if($f(r))return e.decorate_20223_(n,r);Vf(n,r,e)}return Object.assign(t,e)}function Vf(e,t,n){Ls(e,ts)||qf(e,ts,Wo({},e[ts])),uQ(n)||(e[ts][t]=n)}function nQ(e){return Ls(e,ts)||qf(e,ts,Wo({},e[ts])),e[ts]}function $f(e){return typeof e=="object"&&typeof e.kind=="string"}var je=Symbol("mobx administration"),ra=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=ht.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return m6(this)},t.reportChanged=function(){ar(),_6(this),cr()},t.toString=function(){return this.name_},mu(e,[{key:"isBeingObserved",get:function(){return Er(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Er(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Er(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Sr(this.flags_,e.diffValueMask_,r===1)}}])})();ra.isBeingObservedMask_=1;ra.isPendingUnobservationMask_=2;ra.diffValueMask_=4;var jw=na("Atom",ra);function Hm(e,t,n){t===void 0&&(t=ml),n===void 0&&(n=ml);var r=new ra(e);return t!==ml&&w6(r,t),n!==ml&&Gw(r,n),r}function rQ(e,t){return e===t}function iQ(e,t){return zw(e,t)}function sQ(e,t){return zw(e,t,1)}function oQ(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var lc={identity:rQ,structural:iQ,default:oQ,shallow:sQ};function uc(e,t,n){return e_(e)?e:Array.isArray(e)?vn.array(e,{name:n}):qs(e)?vn.object(e,void 0,{name:n}):gu(e)?vn.map(e,{name:n}):Ps(e)?vn.set(e,{name:n}):typeof e=="function"&&!Yl(e)&&!Kl(e)?YB(e)?fc(e):zl(n,e):e}function aQ(e,t,n){if(e==null||Ln(e)||pr(e)||jn(e)||yn(e))return e;if(Array.isArray(e))return vn.array(e,{name:n,deep:!1});if(qs(e))return vn.object(e,void 0,{name:n,deep:!1});if(gu(e))return vn.map(e,{name:n,deep:!1});if(Ps(e))return vn.set(e,{name:n,deep:!1})}function zm(e){return e}function cQ(e,t){return zw(e,t)?t:e}var ZB="override",lQ=Ci({annotationType_:ZB,make_:dQ,extend_:fQ,decorate_20223_:hQ});function uQ(e){return e.annotationType_===ZB}function dQ(e,t){return 0}function fQ(e,t,n,r){et("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function hQ(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function Hf(e,t){return{annotationType_:e,options_:t,make_:pQ,extend_:gQ,decorate_20223_:mQ}}function pQ(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Yl(n.value))return 1;var s=e6(e,this,t,n,!1);return rs(r,t,s),2}function gQ(e,t,n,r){var i=e6(e,this,t,n);return e.defineProperty_(t,i,r)}function mQ(e,t){var n=t.kind,r=t.name,i=t.addInitializer,s=this,o=function(l){var u,d,f,h;return qo((u=(d=s.options_)==null?void 0:d.name)!=null?u:r.toString(),l,(f=(h=s.options_)==null?void 0:h.autoAction)!=null?f:!1)};if(n=="field")return function(c){var l,u=c;return Yl(u)||(u=o(u)),(l=s.options_)!=null&&l.bound&&(u=u.bind(this),u.isMobxAction=!0),u};if(n=="method"){var a;return Yl(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&i(function(){var c=this,l=c[r].bind(c);l.isMobxAction=!0,c[r]=l}),e}et("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+("\n'"+s.annotationType_+"' can only be used on properties with a function value."))}function _Q(e,t,n,r){t.annotationType_,r.value}function e6(e,t,n,r,i){var s,o,a,c,l,u,d;i===void 0&&(i=ce.safeDescriptors),_Q(e,t,n,r);var f=r.value;if((s=t.options_)!=null&&s.bound){var h;f=f.bind((h=e.proxy_)!=null?h:e.target_)}return{value:qo((o=(a=t.options_)==null?void 0:a.name)!=null?o:n.toString(),f,(c=(l=t.options_)==null?void 0:l.autoAction)!=null?c:!1,(u=t.options_)!=null&&u.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function t6(e,t){return{annotationType_:e,options_:t,make_:vQ,extend_:yQ,decorate_20223_:CQ}}function vQ(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!Ls(e.target_,t)||!Kl(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Kl(n.value))return 1;var s=n6(e,this,t,n,!1,!1);return rs(r,t,s),2}function yQ(e,t,n,r){var i,s=n6(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,s,r)}function CQ(e,t){var n,r=t.name,i=t.addInitializer;return Kl(e)||(e=fc(e)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),e}function bQ(e,t,n,r){t.annotationType_,r.value}function n6(e,t,n,r,i,s){s===void 0&&(s=ce.safeDescriptors),bQ(e,t,n,r);var o=r.value;if(Kl(o)||(o=fc(o)),i){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function Fw(e,t){return{annotationType_:e,options_:t,make_:EQ,extend_:SQ,decorate_20223_:OQ}}function EQ(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function SQ(e,t,n,r){return TQ(e,this,t,n),e.defineComputedProperty_(t,Wo({},this.options_,{get:n.get,set:n.set}),r)}function OQ(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var s=xc(this)[je],o=Wo({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new wi(o))}),function(){return this[je].getObservablePropValue_(r)}}function TQ(e,t,n,r){t.annotationType_,r.get}function Ym(e,t){return{annotationType_:e,options_:t,make_:wQ,extend_:AQ,decorate_20223_:xQ}}function wQ(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function AQ(e,t,n,r){var i,s;return IQ(e,this),e.defineObservableProperty_(t,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:uc,r)}function xQ(e,t){var n=this,r=t.kind,i=t.name,s=new WeakSet;function o(a,c){var l,u,d=xc(a)[je],f=new jo(c,(l=(u=n.options_)==null?void 0:u.enhancer)!=null?l:uc,"ObservableObject."+i.toString(),!1);d.values_.set(i,f),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[je].getObservablePropValue_(i)},set:function(c){return s.has(this)||o(this,c),this[je].setObservablePropValue_(i,c)},init:function(c){return s.has(this)||o(this,c),c}}}function IQ(e,t,n,r){t.annotationType_}var NQ="true",RQ=r6();function r6(e){return{annotationType_:NQ,options_:e,make_:PQ,extend_:kQ,decorate_20223_:MQ}}function PQ(e,t,n,r){var i,s;if(n.get)return _u.make_(e,t,n,r);if(n.set){var o=qo(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:ce.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(rs(r,t,{configurable:!0,set:o}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(YB(n.value)){var c,l=(c=this.options_)!=null&&c.autoBind?fc.bound:fc;return l.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?zl.bound:zl;return u.make_(e,t,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?vn.ref:vn;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function kQ(e,t,n,r){var i,s;if(n.get)return _u.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:ce.safeDescriptors?e.isPlainObject_:!0,set:qo(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?vn.ref:vn;return a.extend_(e,t,n,r)}function MQ(e,t){et("'"+this.annotationType_+"' cannot be used as a decorator")}var DQ="observable",LQ="observable.ref",jQ="observable.shallow",FQ="observable.struct",i6={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(i6);function sp(e){return e||i6}var wT=Ym(DQ),UQ=Ym(LQ,{enhancer:zm}),BQ=Ym(jQ,{enhancer:aQ}),GQ=Ym(FQ,{enhancer:cQ}),s6=Ci(wT);function op(e){return e.deep===!0?uc:e.deep===!1?zm:qQ(e.defaultDecorator)}function WQ(e){var t;return e?(t=e.defaultDecorator)!=null?t:r6(e):void 0}function qQ(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:uc}function o6(e,t,n){if($f(t))return wT.decorate_20223_(e,t);if(cc(t)){Vf(e,t,wT);return}return e_(e)?e:qs(e)?vn.object(e,t,n):Array.isArray(e)?vn.array(e,t):gu(e)?vn.map(e,t):Ps(e)?vn.set(e,t):typeof e=="object"&&e!==null?e:vn.box(e,t)}$B(o6,s6);var VQ={box:function(t,n){var r=sp(n);return new jo(t,op(r),r.name,!0,r.equals)},array:function(t,n){var r=sp(n);return(ce.useProxies===!1||r.proxy===!1?see:KZ)(t,op(r),r.name)},map:function(t,n){var r=sp(n);return new Vw(t,op(r),r.name)},set:function(t,n){var r=sp(n);return new $w(t,op(r),r.name)},object:function(t,n,r){return ia(function(){return Ww(ce.useProxies===!1||(r==null?void 0:r.proxy)===!1?xc({},r):$Z({},r),t,n)})},ref:Ci(UQ),shallow:Ci(BQ),deep:s6,struct:Ci(GQ)},vn=$B(o6,VQ),a6="computed",$Q="computed.struct",AT=Fw(a6),HQ=Fw($Q,{equals:lc.structural}),_u=function(t,n){if($f(n))return AT.decorate_20223_(t,n);if(cc(n))return Vf(t,n,AT);if(qs(t))return Ci(Fw(a6,t));var r=qs(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new wi(r)};Object.assign(_u,AT);_u.struct=Ci(HQ);var BR,GR,Ng=0,zQ=1,YQ=(BR=(GR=Ig(function(){},"name"))==null?void 0:GR.configurable)!=null?BR:!1,WR={value:"action",configurable:!0,writable:!1,enumerable:!1};function qo(e,t,n,r){n===void 0&&(n=!1);function i(){return c6(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},YQ&&(WR.value=e,rs(i,"name",WR)),i}function c6(e,t,n,r,i){var s=l6(e,t);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{u6(s)}}function l6(e,t,n,r){var i=!1,s=0,o=ce.trackingDerivation,a=!t||!o;ar();var c=ce.allowStateChanges;a&&(Ac(),c=Km(!0));var l=Xm(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:c,prevAllowStateReads_:l,notifySpy_:i,startTime_:s,actionId_:zQ++,parentActionId_:Ng};return Ng=u.actionId_,u}function u6(e){Ng!==e.actionId_&&et(30),Ng=e.parentActionId_,e.error_!==void 0&&(ce.suppressReactionErrors=!0),Jm(e.prevAllowStateChanges_),Rl(e.prevAllowStateReads_),cr(),e.runAsAction_&&js(e.prevDerivation_),ce.suppressReactionErrors=!1}function Uw(e,t){var n=Km(e);try{return t()}finally{Jm(n)}}function Km(e){var t=ce.allowStateChanges;return ce.allowStateChanges=e,t}function Jm(e){ce.allowStateChanges=e}var jo=(function(e){function t(r,i,s,o,a){var c;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=lc.default),c=e.call(this,s)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=i,c.name_=s,c.equals=a,c.value_=i(r,void 0,s),c}QB(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==ce.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(Yr(this)){var s=Kr(this,{object:this,type:is,newValue:i});if(!s)return ce.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?ce.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),bi(this)&&Ei(this,{type:is,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return Yf(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:is,newValue:this.value_,oldValue:void 0}),Kf(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return XB(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(ra),Bw=na("ObservableValue",jo),wi=(function(){function e(n){this.dependenciesState_=ht.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ht.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Pg(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Rg.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||et(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=qo("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?lc.structural:lc.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){sZ(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&et(32,this.name_,this.derivation),ce.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)xT(this)&&(this.warnAboutUntrackedRead_(),ar(),this.value_=this.computeValue_(!1),cr());else if(m6(this),xT(this)){var r=ce.trackingContext;this.keepAlive_&&!r&&(ce.trackingContext=this),this.trackAndCompute()&&iZ(this),ce.trackingContext=r}var i=this.value_;if(Yp(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&et(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else et(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===ht.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Yp(r)||Yp(s)||!this.equals_(r,s);return o&&(this.value_=s),o},t.computeValue_=function(r){this.isComputing=!0;var i=Km(!1),s;if(r)s=d6(this,this.derivation,this.scope_);else if(ce.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new Pg(o)}return Jm(i),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(IT(this),this.value_=void 0)},t.observe_=function(r,i){var s=this,o=!0,a=void 0;return Qm(function(){var c=s.get();if(!o||i){var l=Ac();r({observableKind:"computed",debugObjectName:s.name_,type:is,object:s,newValue:c,oldValue:a}),js(l)}o=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return XB(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},mu(e,[{key:"isComputing",get:function(){return Er(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Er(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Er(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Er(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Er(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Sr(this.flags_,e.diffValueMask_,r===1)}}])})();wi.isComputingMask_=1;wi.isRunningSetterMask_=2;wi.isBeingObservedMask_=4;wi.isPendingUnobservationMask_=8;wi.diffValueMask_=16;var dc=na("ComputedValue",wi),ht;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(ht||(ht={}));var Rg;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Rg||(Rg={}));var Pg=function(t){this.cause=void 0,this.cause=t};function Yp(e){return e instanceof Pg}function xT(e){switch(e.dependenciesState_){case ht.UP_TO_DATE_:return!1;case ht.NOT_TRACKING_:case ht.STALE_:return!0;case ht.POSSIBLY_STALE_:{for(var t=Xm(!0),n=Ac(),r=e.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(dc(o)){if(ce.disableErrorBoundaries)o.get();else try{o.get()}catch(a){return js(n),Rl(t),!0}if(e.dependenciesState_===ht.STALE_)return js(n),Rl(t),!0}}return f6(e),js(n),Rl(t),!1}}}function KQ(){return ce.trackingDerivation!==null}function d6(e,t,n){var r=Xm(!0);f6(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++ce.runId;var i=ce.trackingDerivation;ce.trackingDerivation=e,ce.inBatch++;var s;if(ce.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(o){s=new Pg(o)}return ce.inBatch--,ce.trackingDerivation=i,JQ(e),Rl(r),s}function JQ(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ht.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,e.newObserving_=null,s=t.length;s--;){var c=t[s];c.diffValue===0&&p6(c,e),c.diffValue=0}for(;i--;){var l=n[i];l.diffValue===1&&(l.diffValue=0,rZ(l,e))}r!==ht.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function IT(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)p6(t[n],e);e.dependenciesState_=ht.NOT_TRACKING_}function zf(e){var t=Ac();try{return e()}finally{js(t)}}function Ac(){var e=ce.trackingDerivation;return ce.trackingDerivation=null,e}function js(e){ce.trackingDerivation=e}function Xm(e){var t=ce.allowStateReads;return ce.allowStateReads=e,t}function Rl(e){ce.allowStateReads=e}function f6(e){if(e.dependenciesState_!==ht.UP_TO_DATE_){e.dependenciesState_=ht.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ht.UP_TO_DATE_}}var XQ=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Nd=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Kp=!0,h6=!1,ce=(function(){var e=Vm();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Kp=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Nd().version&&(Kp=!1),Kp?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Nd):(setTimeout(function(){h6||et(35)},1),new Nd)})();function QQ(){if((ce.pendingReactions.length||ce.inBatch||ce.isRunningReactions)&&et(36),h6=!0,Kp){var e=Vm();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),ce=new Nd}}function ZQ(){return ce}function eZ(){var e=new Nd;for(var t in e)XQ.indexOf(t)===-1&&(ce[t]=e[t]);ce.allowStateChanges=!ce.enforceActions}function tZ(e){return e.observers_&&e.observers_.size>0}function nZ(e){return e.observers_}function rZ(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function p6(e,t){e.observers_.delete(t),e.observers_.size===0&&g6(e)}function g6(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,ce.pendingUnobservations.push(e))}function ar(){ce.inBatch++}function cr(){if(--ce.inBatch===0){v6();for(var e=ce.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof wi&&n.suspend_())}ce.pendingUnobservations=[]}}function m6(e){var t=ce.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&ce.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&ce.inBatch>0&&g6(e),!1)}function _6(e){e.lowestObserverState_!==ht.STALE_&&(e.lowestObserverState_=ht.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ht.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=ht.STALE_}))}function iZ(e){e.lowestObserverState_!==ht.STALE_&&(e.lowestObserverState_=ht.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ht.POSSIBLY_STALE_?t.dependenciesState_=ht.STALE_:t.dependenciesState_===ht.UP_TO_DATE_&&(e.lowestObserverState_=ht.UP_TO_DATE_)}))}function sZ(e){e.lowestObserverState_===ht.UP_TO_DATE_&&(e.lowestObserverState_=ht.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ht.UP_TO_DATE_&&(t.dependenciesState_=ht.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ni=(function(){function e(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ht.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Rg.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ce.pendingReactions.push(this),v6())},t.runReaction_=function(){if(!this.isDisposed){ar(),this.isScheduled=!1;var r=ce.trackingContext;if(ce.trackingContext=this,xT(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}ce.trackingContext=r,cr()}},t.track=function(r){if(!this.isDisposed){ar(),this.isRunning=!0;var i=ce.trackingContext;ce.trackingContext=this;var s=d6(this,r,void 0);ce.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&IT(this),Yp(s)&&this.reportExceptionInDerivation_(s.cause),cr()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ce.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";ce.suppressReactionErrors||console.error(s,r),ce.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ar(),IT(this),cr()))},t.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[je]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},mu(e,[{key:"isDisposed",get:function(){return Er(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Er(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Er(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Er(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Er(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Sr(this.flags_,e.diffValueMask_,r===1)}}])})();ni.isDisposedMask_=1;ni.isScheduledMask_=2;ni.isTrackPendingMask_=4;ni.isRunningMask_=8;ni.diffValueMask_=16;function oZ(e){return ce.globalReactionErrorHandlers.push(e),function(){var t=ce.globalReactionErrorHandlers.indexOf(e);t>=0&&ce.globalReactionErrorHandlers.splice(t,1)}}var aZ=100,NT=function(t){return t()};function v6(){ce.inBatch>0||ce.isRunningReactions||NT(cZ)}function cZ(){ce.isRunningReactions=!0;for(var e=ce.pendingReactions,t=0;e.length>0;){++t===aZ&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}ce.isRunningReactions=!1}var kg=na("Reaction",ni);function lZ(e){var t=NT;NT=function(r){return e(function(){return t(r)})}}function Rd(){return!1}function y6(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var C6="action",uZ="action.bound",b6="autoAction",dZ="autoAction.bound",E6="<unnamed action>",RT=Hf(C6),fZ=Hf(uZ,{bound:!0}),PT=Hf(b6,{autoAction:!0}),hZ=Hf(dZ,{autoAction:!0,bound:!0});function S6(e){var t=function(r,i){if(Rr(r))return qo(r.name||E6,r,e);if(Rr(i))return qo(r,i,e);if($f(i))return(e?PT:RT).decorate_20223_(r,i);if(cc(i))return Vf(r,i,e?PT:RT);if(cc(r))return Ci(Hf(e?b6:C6,{name:r,autoAction:e}))};return t}var Io=S6(!1);Object.assign(Io,RT);var zl=S6(!0);Object.assign(zl,PT);Io.bound=Ci(fZ);zl.bound=Ci(hZ);function Mg(e){return c6(e.name||E6,!1,e,this,void 0)}function Yl(e){return Rr(e)&&e.isMobxAction===!0}function Qm(e,t){var n,r,i,s;t===void 0&&(t=Lw);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new ni(o,function(){this.track(d)},t.onError,t.requiresObservable);else{var l=O6(t),u=!1;c=new ni(o,function(){u||(u=!0,l(function(){u=!1,c.isDisposed||c.track(d)}))},t.onError,t.requiresObservable)}function d(){e(c)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||c.schedule_(),c.getDisposer_((s=t)==null?void 0:s.signal)}var pZ=function(t){return t()};function O6(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:pZ}function T6(e,t,n){var r,i,s;n===void 0&&(n=Lw);var o=(r=n.name)!=null?r:"Reaction",a=Io(o,n.onError?gZ(n.onError,t):t),c=!n.scheduler&&!n.delay,l=O6(n),u=!0,d=!1,f,h=n.compareStructural?lc.structural:n.equals||lc.default,p=new ni(o,function(){u||c?g():d||(d=!0,l(g))},n.onError,n.requiresObservable);function g(){if(d=!1,!p.isDisposed){var m=!1,v=f;p.track(function(){var y=Uw(!1,function(){return e(p)});m=u||!h(f,y),f=y}),(u&&n.fireImmediately||!u&&m)&&a(f,v,p),u=!1}}return(i=n)!=null&&(i=i.signal)!=null&&i.aborted||p.schedule_(),p.getDisposer_((s=n)==null?void 0:s.signal)}function gZ(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var mZ="onBO",_Z="onBUO";function w6(e,t,n){return A6(mZ,e,t,n)}function Gw(e,t,n){return A6(_Z,e,t,n)}function A6(e,t,n,r){var i=typeof r=="function"?Vs(t,n):Vs(t),s=Rr(r)?r:n,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var vZ="never",ap="always",yZ="observed";function x6(e){e.isolateGlobalState===!0&&QQ();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(ce.useProxies=t===ap?!0:t===vZ?!1:typeof Proxy<"u"),t==="ifavailable"&&(ce.verifyProxies=!0),n!==void 0){var r=n===ap?ap:n===yZ;ce.enforceActions=r,ce.allowStateChanges=!(r===!0||r===ap)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(ce[i]=!!e[i])}),ce.allowStateReads=!ce.observableRequiresReaction,e.reactionScheduler&&lZ(e.reactionScheduler)}function Ww(e,t,n,r){var i=XX(t);return ia(function(){var s=xc(e,r)[je];Hl(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),e}function I6(e,t){return N6(Vs(e,t))}function N6(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=bZ(e.observing_).map(N6)),t}function CZ(e,t){return R6(Vs(e,t))}function R6(e){var t={name:e.name_};return tZ(e)&&(t.observers=Array.from(nZ(e)).map(R6)),t}function bZ(e){return Array.from(new Set(e))}var EZ=0;function Zm(){this.message="FLOW_CANCELLED"}Zm.prototype=Object.create(Error.prototype);function SZ(e){return e instanceof Zm}var Bv=t6("flow"),OZ=t6("flow.bound",{bound:!0}),fc=Object.assign(function(t,n){if($f(n))return Bv.decorate_20223_(t,n);if(cc(n))return Vf(t,n,Bv);var r=t,i=r.name||"<unnamed flow>",s=function(){var a=this,c=arguments,l=++EZ,u=Io(i+" - runid: "+l+" - init",r).apply(a,c),d,f=void 0,h=new Promise(function(p,g){var m=0;d=g;function v(b){f=void 0;var C;try{C=Io(i+" - runid: "+l+" - yield "+m++,u.next).call(u,b)}catch(O){return g(O)}T(C)}function y(b){f=void 0;var C;try{C=Io(i+" - runid: "+l+" - yield "+m++,u.throw).call(u,b)}catch(O){return g(O)}T(C)}function T(b){if(Rr(b==null?void 0:b.then)){b.then(T,g);return}return b.done?p(b.value):(f=Promise.resolve(b.value),f.then(v,y))}v(void 0)});return h.cancel=Io(i+" - runid: "+l+" - cancel",function(){try{f&&qR(f);var p=u.return(void 0),g=Promise.resolve(p.value);g.then(ml,ml),qR(g),d(new Zm)}catch(m){d(m)}}),h};return s.isMobXFlow=!0,s},Bv);fc.bound=Ci(OZ);function qR(e){Rr(e.cancel)&&e.cancel()}function TZ(e){return e}function Kl(e){return(e==null?void 0:e.isMobXFlow)===!0}function wZ(e,t,n){var r;return jn(e)||pr(e)||Bw(e)?r=$s(e):Ln(e)&&(r=$s(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function AZ(e,t,n){return Rr(n)?IZ(e,t,n):xZ(e,t)}function xZ(e,t){return $s(e).intercept_(t)}function IZ(e,t,n){return $s(e,t).intercept_(n)}function P6(e,t){if(t===void 0)return dc(e);if(Ln(e)===!1||!e[je].values_.has(t))return!1;var n=Vs(e,t);return dc(n)}function NZ(e){return P6(e)}function RZ(e,t){return P6(e,t)}function k6(e,t){return e?t!==void 0?Ln(e)?e[je].values_.has(t):!1:Ln(e)||!!e[je]||jw(e)||kg(e)||dc(e):!1}function e_(e){return k6(e)}function PZ(e,t){return k6(e,t)}function Zd(e){if(Ln(e))return e[je].keys_();if(jn(e)||yn(e))return Array.from(e.keys());if(pr(e))return e.map(function(t,n){return n});et(5)}function kZ(e){if(Ln(e))return Zd(e).map(function(t){return e[t]});if(jn(e))return Zd(e).map(function(t){return e.get(t)});if(yn(e))return Array.from(e.values());if(pr(e))return e.slice();et(6)}function MZ(e){if(Ln(e))return Zd(e).map(function(t){return[t,e[t]]});if(jn(e))return Zd(e).map(function(t){return[t,e.get(t)]});if(yn(e))return Array.from(e.entries());if(pr(e))return e.map(function(t,n){return[n,t]});et(7)}function M6(e,t,n){if(arguments.length===2&&!yn(e)){ar();var r=t;try{for(var i in r)M6(e,i,r[i])}finally{cr()}return}Ln(e)?e[je].set_(t,n):jn(e)?e.set(t,n):yn(e)?e.add(t):pr(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&et("Invalid index: '"+t+"'"),ar(),t>=e.length&&(e.length=t+1),e[t]=n,cr()):et(8)}function DZ(e,t){Ln(e)?e[je].delete_(t):jn(e)||yn(e)?e.delete(t):pr(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):et(9)}function D6(e,t){if(Ln(e))return e[je].has_(t);if(jn(e))return e.has(t);if(yn(e))return e.has(t);if(pr(e))return t>=0&&t<e.length;et(10)}function LZ(e,t){if(D6(e,t)){if(Ln(e))return e[je].get_(t);if(jn(e))return e.get(t);if(pr(e))return e[t];et(11)}}function jZ(e,t,n){if(Ln(e))return e[je].defineProperty_(t,n);et(39)}function L6(e){if(Ln(e))return e[je].ownKeys_();et(38)}function FZ(e,t,n,r){return Rr(n)?BZ(e,t,n,r):UZ(e,t,n)}function UZ(e,t,n){return $s(e).observe_(t,n)}function BZ(e,t,n,r){return $s(e,t).observe_(n,r)}function cp(e,t,n){return e.set(t,n),n}function ol(e,t){if(e==null||typeof e!="object"||e instanceof Date||!e_(e))return e;if(Bw(e)||dc(e))return ol(e.get(),t);if(t.has(e))return t.get(e);if(pr(e)){var n=cp(t,e,new Array(e.length));return e.forEach(function(o,a){n[a]=ol(o,t)}),n}if(yn(e)){var r=cp(t,e,new Set);return e.forEach(function(o){r.add(ol(o,t))}),r}if(jn(e)){var i=cp(t,e,new Map);return e.forEach(function(o,a){i.set(a,ol(o,t))}),i}else{var s=cp(t,e,{});return L6(e).forEach(function(o){Wf.propertyIsEnumerable.call(e,o)&&(s[o]=ol(e[o],t))}),s}}function GZ(e,t){return ol(e,new Map)}function WZ(){}function Xi(e,t){t===void 0&&(t=void 0),ar();try{return e.apply(t)}finally{cr()}}function kT(e,t,n){return arguments.length===1||t&&typeof t=="object"?qZ(e,t):j6(e,t,n||{})}function j6(e,t,n){var r;if(typeof n.timeout=="number"){var i=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!o[je].isDisposed)if(o(),n.onError)n.onError(i);else throw i},n.timeout)}n.name="When";var s=qo("When-effect",t),o=Qm(function(a){var c=Uw(!1,e);c&&(a.dispose(),r&&clearTimeout(r),s())},n);return o}function qZ(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,i,s=new Promise(function(o,a){var c,l=j6(e,o,Wo({},t,{onError:a}));r=function(){l(),a(new Error("WHEN_CANCELLED"))},i=function(){l(),a(new Error("WHEN_ABORTED"))},t==null||(c=t.signal)==null||c.addEventListener==null||c.addEventListener("abort",i)}).finally(function(){var o;return t==null||(o=t.signal)==null||o.removeEventListener==null?void 0:o.removeEventListener("abort",i)});return s.cancel=r,s}function Yc(e){return e[je]}var VZ={has:function(t,n){return Yc(t).has_(n)},get:function(t,n){return Yc(t).get_(n)},set:function(t,n,r){var i;return cc(n)?(i=Yc(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return cc(n)?(r=Yc(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=Yc(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return Yc(t).ownKeys_()},preventExtensions:function(t){et(13)}};function $Z(e,t){var n,r;return HB(),e=xc(e,t),(r=(n=e[je]).proxy_)!=null?r:n.proxy_=new Proxy(e,VZ)}function Yr(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Yf(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),zB(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Kr(e,t){var n=Ac();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&(t=r[i](t),t&&!t.type&&et(14),!!t);i++);return t}finally{js(n)}}function bi(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Kf(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),zB(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Ei(e,t){var n=Ac(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](t);js(n)}}function F6(e,t,n){return ia(function(){var r,i=xc(e,n)[je];(r=t)!=null||(t=nQ(e)),Hl(t).forEach(function(s){return i.make_(s,t[s])})}),e}var Gv=Symbol("mobx-keys");function HZ(e,t,n){return qs(e)?Ww(e,e,t,n):(ia(function(){var r=xc(e,n)[je];if(!e[Gv]){var i=Object.getPrototypeOf(e),s=new Set([].concat(Hl(e),Hl(i)));s.delete("constructor"),s.delete(je),qf(i,Gv,s)}e[Gv].forEach(function(o){return r.make_(o,t&&o in t?t[o]:!0)})}),e)}var VR="splice",is="update",zZ=1e4,YZ={get:function(t,n){var r=t[je];return n===je?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ls(Dg,n)?Dg[n]:t[n]},set:function(t,n,r){var i=t[je];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){et(15)}},qw=(function(){function e(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new ra(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Yf(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Kf(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&et("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&et(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&q6(r+i+1)},t.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=OT),Yr(this)){var c=Kr(this,{object:this.proxy_,type:VR,index:r,removedCount:i,added:s});if(!c)return OT;i=c.removedCount,s=c.added}if(s=s.length===0?s:s.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var l=s.length-i;this.updateArrayLength_(a,l)}var u=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,i,s){if(s.length<zZ){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),c=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var l=0;l<s.length;l++)this.values_[r+l]=s[l];for(var u=0;u<c.length;u++)this.values_[r+s.length+u]=c[u];return a}},t.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&Rd(),a=bi(this),c=a||o?{observableKind:"array",object:this.proxy_,type:is,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&Ei(this,c)},t.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&Rd(),a=bi(this),c=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:VR,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&Ei(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&et(17,r,s.length),r<s.length){this.atom_;var o=s[r];if(Yr(this)){var a=Kr(this,{type:is,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var c=i!==o;c&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var l=new Array(r+1-s.length),u=0;u<l.length-1;u++)l[u]=void 0;l[l.length-1]=i,this.spliceWithArray_(s.length,0,l)}},e})();function KZ(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),HB(),ia(function(){var i=new qw(n,t,r,!1);KB(i.values_,je,i);var s=new Proxy(i.values_,YZ);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s})}var Dg={clear:function(){return this.splice(0)},replace:function(t){var n=this[je];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[je];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[je].spliceWithArray_(t,n,r)},push:function(){for(var t=this[je],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[je].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[je],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ce.trackingDerivation&&et(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ce.trackingDerivation&&et(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[je],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};It("at",kr);It("concat",kr);It("flat",kr);It("includes",kr);It("indexOf",kr);It("join",kr);It("lastIndexOf",kr);It("slice",kr);It("toString",kr);It("toLocaleString",kr);It("toSorted",kr);It("toSpliced",kr);It("with",kr);It("every",ki);It("filter",ki);It("find",ki);It("findIndex",ki);It("findLast",ki);It("findLastIndex",ki);It("flatMap",ki);It("forEach",ki);It("map",ki);It("some",ki);It("toReversed",ki);It("reduce",U6);It("reduceRight",U6);function It(e,t){typeof Array.prototype[e]=="function"&&(Dg[e]=t(e))}function kr(e){return function(){var t=this[je];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ki(e){return function(t,n){var r=this,i=this[je];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[e](function(o,a){return t.call(n,o,a,r)})}}function U6(e){return function(){var t=this,n=this[je];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,t)},r[e].apply(r,arguments)}}var JZ=na("ObservableArrayAdministration",qw);function pr(e){return $m(e)&&JZ(e[je])}var XZ={},No="add",Lg="delete",Vw=(function(){function e(n,r,i){var s=this;r===void 0&&(r=uc),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[je]=XZ,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,Rr(Map)||et(18),ia(function(){s.keysAtom_=Hm("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!ce.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new jo(this.has_(r),zm,"ObservableMap.key?",!1);this.hasMap_.set(r,o),Gw(o,function(){return i.hasMap_.delete(r)})}return s.get()},t.set=function(r,i){var s=this.has_(r);if(Yr(this)){var o=Kr(this,{type:s?is:No,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,Yr(this)){var s=Kr(this,{type:Lg,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=Rd(),a=bi(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:Lg,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Xi(function(){var l;i.keysAtom_.reportChanged(),(l=i.hasMap_.get(r))==null||l.setNewValue_(!1);var u=i.data_.get(r);u.setNewValue_(void 0),i.data_.delete(r)}),a&&Ei(this,c),!0}return!1},t.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==ce.UNCHANGED){var o=Rd(),a=bi(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:is,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&Ei(this,c)}},t.addValue_=function(r,i){var s=this;this.keysAtom_,Xi(function(){var l,u=new jo(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,u),i=u.value_,(l=s.hasMap_.get(r))==null||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=Rd(),a=bi(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:No,object:this,name:r,newValue:i}:null;a&&Ei(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return $R({next:function(){var o=i.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:r.get(c)}}})},t.entries=function(){var r=this,i=this.keys();return $R({next:function(){var o=i.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var s=_l(this),o;!(o=s()).done;){var a=o.value,c=a[0],l=a[1];r.call(i,l,c,this)}},t.merge=function(r){var i=this;return jn(r)&&(r=new Map(r)),Xi(function(){qs(r)?JX(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):gu(r)?(KX(r)||et(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&et(20,r)}),this},t.clear=function(){var r=this;Xi(function(){zf(function(){for(var i=_l(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.replace=function(r){var i=this;return Xi(function(){for(var s=QZ(r),o=new Map,a=!1,c=_l(i.data_.keys()),l;!(l=c()).done;){var u=l.value;if(!s.has(u)){var d=i.delete(u);if(d)a=!0;else{var f=i.data_.get(u);o.set(u,f)}}}for(var h=_l(s.entries()),p;!(p=h()).done;){var g=p.value,m=g[0],v=g[1],y=i.data_.has(m);if(i.set(m,v),i.data_.has(m)){var T=i.data_.get(m);o.set(m,T),y||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var b=i.data_.keys(),C=o.keys(),O=b.next(),w=C.next();!O.done;){if(O.value!==w.value){i.keysAtom_.reportChanged();break}O=b.next(),w=C.next()}i.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return Kf(this,r)},t.intercept_=function(r){return Yf(this,r)},mu(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),jn=na("ObservableMap",Vw);function $R(e){return e[Symbol.toStringTag]="MapIterator",Yw(e)}function QZ(e){if(gu(e)||jn(e))return e;if(Array.isArray(e))return new Map(e);if(qs(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return et(21,e)}var ZZ={},$w=(function(){function e(n,r,i){var s=this;r===void 0&&(r=uc),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[je]=ZZ,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Rr(Set)||et(22),this.enhancer_=function(o,a){return r(o,a,i)},ia(function(){s.atom_=Hm(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Xi(function(){zf(function(){for(var i=_l(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.forEach=function(r,i){for(var s=_l(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},t.add=function(r){var i=this;if(this.atom_,Yr(this)){var s=Kr(this,{type:No,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Xi(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=bi(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:No,object:this,newValue:r}:null;a&&Ei(this,c)}return this},t.delete=function(r){var i=this;if(Yr(this)){var s=Kr(this,{type:Lg,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=bi(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:Lg,object:this,oldValue:r}:null;return Xi(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&Ei(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return HR({next:function(){var s=r.next(),o=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[o,o],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return HR({next:function(){var o=i.next(),a=o.value,c=o.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(a),done:c}}})},t.intersection=function(r){if(Ps(r)&&!yn(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(Ps(r)&&!yn(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Ps(r)&&!yn(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Ps(r)&&!yn(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return yn(r)&&(r=new Set(r)),Xi(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):Ps(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&et("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return Kf(this,r)},t.intercept_=function(r){return Yf(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},mu(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),yn=na("ObservableSet",$w);function HR(e){return e[Symbol.toStringTag]="SetIterator",Yw(e)}var zR=Object.create(null),YR="remove",B6=(function(){function e(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=RQ),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new ra("ObservableObject.keys"),this.isPlainObject_=qs(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof wi)return s.set(i),!0;if(Yr(this)){var o=Kr(this,{type:is,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==ce.UNCHANGED){var a=bi(this),c=!1,l=a||c?{type:is,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&Ei(this,l)}return!0},t.get_=function(r){return ce.trackingDerivation&&!Ls(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,s){return s===void 0&&(s=!1),Ls(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!ce.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new jo(r in this.target_,zm,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[ts])!=null&&s[r])return;et(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==Wf;){var a=Ig(o,r);if(a){var c=i.make_(this,r,a,o);if(c===0)return;if(c===1)break}o=Object.getPrototypeOf(o)}JR(this,i,r)}},t.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var a=s.extend_(this,r,i,o);return a&&JR(this,s,r),a},t.defineProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{ar();var o=this.delete_(r);if(!o)return o;if(Yr(this)){var a=Kr(this,{object:this.proxy_||this.target_,name:r,type:No,newValue:i.value});if(!a)return null;var c=a.newValue;i.value!==c&&(i=Wo({},i,{value:c}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else rs(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{cr()}return!0},t.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{ar();var a=this.delete_(r);if(!a)return a;if(Yr(this)){var c=Kr(this,{object:this.proxy_||this.target_,name:r,type:No,newValue:i});if(!c)return null;i=c.newValue}var l=KR(r),u={configurable:ce.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else rs(this.target_,r,u);var d=new jo(i,s,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{cr()}return!0},t.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{ar();var o=this.delete_(r);if(!o)return o;if(Yr(this)){var a=Kr(this,{object:this.proxy_||this.target_,name:r,type:No,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var c=KR(r),l={configurable:ce.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,l))return!1}else rs(this.target_,r,l);this.values_.set(r,new wi(i)),this.notifyPropertyAddition_(r,void 0)}finally{cr()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!Ls(this.target_,r))return!0;if(Yr(this)){var s=Kr(this,{object:this.proxy_||this.target_,name:r,type:YR});if(!s)return null}try{var o;ar();var a=bi(this),c=!1,l=this.values_.get(r),u=void 0;if(!l&&(a||c)){var d;u=(d=Ig(this.target_,r))==null?void 0:d.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(l&&(this.values_.delete(r),l instanceof jo&&(u=l.value_),_6(l)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||c){var f={type:YR,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:r};a&&Ei(this,f)}}finally{cr()}return!0},t.observe_=function(r,i){return Kf(this,r)},t.intercept_=function(r){return Yf(this,r)},t.notifyPropertyAddition_=function(r,i){var s,o=bi(this),a=!1;if(o||a){var c=o||a?{type:No,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;o&&Ei(this,c)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Hl(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function xc(e,t){var n;if(Ls(e,je))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",i=new B6(e,new Map,String(r),WQ(t));return qf(e,je,i),e}var eee=na("ObservableObjectAdministration",B6);function KR(e){return zR[e]||(zR[e]={get:function(){return this[je].getObservablePropValue_(e)},set:function(n){return this[je].setObservablePropValue_(e,n)}})}function Ln(e){return $m(e)?eee(e[je]):!1}function JR(e,t,n){var r;(r=e.target_[ts])==null||delete r[n]}var tee=W6(0),nee=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),Wv=0,G6=function(){};function ree(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}ree(G6,Array.prototype);var Hw=(function(e){function t(r,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,ia(function(){var c=new qw(s,i,o,!0);c.proxy_=a,KB(a,je,c),r&&r.length&&a.spliceWithArray(0,0,r),nee&&Object.defineProperty(a,"0",tee)}),a}QB(t,e);var n=t.prototype;return n.concat=function(){this[je].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return pr(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,i=0;return Yw({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},mu(t,[{key:"length",get:function(){return this[je].getArrayLength_()},set:function(i){this[je].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(G6);Object.entries(Dg).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&qf(Hw.prototype,t,n)});function W6(e){return{enumerable:!1,configurable:!0,get:function(){return this[je].get_(e)},set:function(n){this[je].set_(e,n)}}}function iee(e){rs(Hw.prototype,""+e,W6(e))}function q6(e){if(e>Wv){for(var t=Wv;t<e+100;t++)iee(t);Wv=e}}q6(1e3);function see(e,t,n){return new Hw(e,t,n)}function Vs(e,t){if(typeof e=="object"&&e!==null){if(pr(e))return t!==void 0&&et(23),e[je].atom_;if(yn(e))return e.atom_;if(jn(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||et(25,t,jg(e)),n}if(Ln(e)){if(!t)return et(26);var r=e[je].values_.get(t);return r||et(27,t,jg(e)),r}if(jw(e)||dc(e)||kg(e))return e}else if(Rr(e)&&kg(e[je]))return e[je];et(28)}function $s(e,t){if(e||et(29),t!==void 0)return $s(Vs(e,t));if(jw(e)||dc(e)||kg(e)||jn(e)||yn(e))return e;if(e[je])return e[je];et(24,e)}function jg(e,t){var n;if(t!==void 0)n=Vs(e,t);else{if(Yl(e))return e.name;Ln(e)||jn(e)||yn(e)?n=$s(e):n=Vs(e)}return n.name_}function ia(e){var t=Ac(),n=Km(!0);ar();try{return e()}finally{cr(),Jm(n),js(t)}}var XR=Wf.toString;function zw(e,t,n){return n===void 0&&(n=-1),MT(e,t,n)}function MT(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var o=XR.call(e);if(o!==XR.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=QR(e),t=QR(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(Rr(c)&&c instanceof c&&Rr(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var u=r.length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!MT(e[u],t[u],n-1,r,i))return!1}else{var d=Object.keys(e),f=d.length;if(Object.keys(t).length!==f)return!1;for(var h=0;h<f;h++){var p=d[h];if(!(Ls(t,p)&&MT(e[p],t[p],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function QR(e){return pr(e)?e.slice():gu(e)||jn(e)||Ps(e)||yn(e)?Array.from(e.entries()):e}var ZR,oee=((ZR=Vm().Iterator)==null?void 0:ZR.prototype)||{};function Yw(e){return e[Symbol.iterator]=aee,Object.assign(Object.create(oee),e)}function aee(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Vm();typeof t[e]>"u"&&et("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:y6,extras:{getDebugName:jg},$mobx:je});const OUe=Object.freeze(Object.defineProperty({__proto__:null,$mobx:je,FlowCancellationError:Zm,ObservableMap:Vw,ObservableSet:$w,Reaction:ni,_allowStateChanges:Uw,_allowStateChangesInsideComputed:Mg,_allowStateReadsEnd:Rl,_allowStateReadsStart:Xm,_autoAction:zl,_endAction:u6,_getAdministration:$s,_getGlobalState:ZQ,_interceptReads:wZ,_isComputingDerivation:KQ,_resetGlobalState:eZ,_startAction:l6,action:Io,autorun:Qm,comparer:lc,computed:_u,configure:x6,createAtom:Hm,defineProperty:jZ,entries:MZ,extendObservable:Ww,flow:fc,flowResult:TZ,get:LZ,getAtom:Vs,getDebugName:jg,getDependencyTree:I6,getObserverTree:CZ,has:D6,intercept:AZ,isAction:Yl,isBoxedObservable:Bw,isComputed:NZ,isComputedProp:RZ,isFlow:Kl,isFlowCancellationError:SZ,isObservable:e_,isObservableArray:pr,isObservableMap:jn,isObservableObject:Ln,isObservableProp:PZ,isObservableSet:yn,keys:Zd,makeAutoObservable:HZ,makeObservable:F6,observable:vn,observe:FZ,onBecomeObserved:w6,onBecomeUnobserved:Gw,onReactionError:oZ,override:lQ,ownKeys:L6,reaction:T6,remove:DZ,runInAction:Mg,set:M6,spy:y6,toJS:GZ,trace:WZ,transaction:Xi,untracked:zf,values:kZ,when:kT},Symbol.toStringTag,{value:"Module"}));if(!E.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!F6)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function cee(e){e()}function lee(e){e||(e=cee),x6({reactionScheduler:e})}function uee(e){return I6(e)}var dee=1e4,fee=1e4,hee=(function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=dee),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(s,o){i-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,fee))}}),e})(),pee=typeof FinalizationRegistry<"u"?FinalizationRegistry:hee,ef=new pee(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),qv={exports:{}},Vv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function gee(){if(eP)return Vv;eP=1;var e=Tw();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),g=p[0].inst,m=p[1];return s(function(){g.value=h,g.getSnapshot=f,c(g)&&m({inst:g})},[d,h,f]),i(function(){return c(g)&&m({inst:g}),d(function(){c(g)&&m({inst:g})})},[d]),o(h),h}function c(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch(p){return!0}}function l(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Vv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Vv}var tP;function mee(){return tP||(tP=1,qv.exports=gee()),qv.exports}var _ee=mee();function nP(e){e.reaction=new ni("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function vee(e,t){t===void 0&&(t="observed");var n=Et.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return ef.unregister(r),r.onStoreChange=a,r.reaction||(nP(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(nP(i),ef.register(n,i,i)),Et.useDebugValue(i.reaction,uee),_ee.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var s,o;if(i.reaction.track(function(){try{s=e()}catch(a){o=a}}),o)throw o;return s}var $v,Hv,V6=typeof Symbol=="function"&&Symbol.for;Hv=($v=Object.getOwnPropertyDescriptor(function(){},"name"))===null||$v===void 0?void 0:$v.configurable;V6?Symbol.for("react.forward_ref"):typeof E.forwardRef=="function"&&E.forwardRef(function(e){return null}).$$typeof;V6?Symbol.for("react.memo"):typeof E.memo=="function"&&E.memo(function(e){return null}).$$typeof;var zv;lee(ww.unstable_batchedUpdates);zv=ef.finalizeAllImmediately;function yee(e,t){return t===void 0&&(t="observed"),vee(e,t)}let Fg=0;function ls(e){try{return Fg++,e()}finally{Fg--}}function Cee(){!Fg&&qm()&&DT(new Error("[signal] Must read signal with useObserve() or untracked() within React component"))}function bee(){Fg&&DT(new Error("[signal] Cannot update signal value directly within useObserve(), memoSignal() or effect()")),qm()&&DT(new Error("[signal] Cannot update signal value directly within React component"))}function DT(e){k(async()=>{const{DatadogLogger:t}=await Promise.resolve().then(()=>jX);return{DatadogLogger:t}},void 0).then(({DatadogLogger:t})=>t.addError(e))}function rP(e){e.reaction=new ni("observer".concat(e.name),()=>{var r,i,s;if(!e.evaluate||!e.reaction){e.stateVersion=Symbol(),(r=e.onStoreChange)==null||r.call(e);return}let t,n;if(e.reaction.track(()=>{try{t=ls(e.evaluate)}catch(o){n=o}}),n!==void 0){e.stateVersion=Symbol(),(i=e.onStoreChange)==null||i.call(e);return}Object.is(t,e.lastValue)||(e.lastValue=t,e.stateVersion=Symbol(),(s=e.onStoreChange)==null||s.call(e))})}function Eee(e,t="observed"){"use no forget";const n=Et.useRef(null);if(!n.current){const o={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,lastValue:void 0,evaluate:null,subscribe(a){return ef.unregister(o),o.onStoreChange=a,o.reaction||(rP(o),o.stateVersion=Symbol()),()=>{var c;o.onStoreChange=null,(c=o.reaction)==null||c.dispose(),o.reaction=null}},getSnapshot(){return o.stateVersion}};n.current=o}const r=n.current;r.reaction||(rP(r),ef.register(n,r,r)),r.evaluate=e,E.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);let i,s;if(r.reaction.track(()=>{try{i=ls(e)}catch(o){s=o}}),r.lastValue=i,s)throw s;return i}function we(e,t){const n=xee(e),r=vn.box(n?void 0:e,{deep:!1,name:t==null?void 0:t.name,equals:t==null?void 0:t.equals});let i=n?()=>{i=void 0,r.set(e())}:void 0;const s=()=>(i==null||i(),r.get()),o=t==null?void 0:t.getServerFallback,a=K6(s),c=o?Oe(a,{name:t.name,getServerFallback:o}):a;return c.set=l=>{bee(),Mg(()=>{r==null||r.set(Y6(l)?l(zf(s)):l)})},c}function See(e){"use forget";const t=H.c(4);let n;t[0]!==e?(n=Oe(e),t[0]=e,t[1]=n):n=t[1];const r=n;let i;return t[2]!==r?(i=()=>ls(r),t[2]=r,t[3]=i):i=t[3],yee(i)}const Oee=ut(e=>pu(e,"use-observe"));function Fe(e){"use no forget";const t=re();return(Oee(t)?Eee:See)(e)}function Oe(e,t){const n=t==null?void 0:t.getServerFallback,r=_u(n?()=>t_()?n():ls(e):()=>ls(e),{name:t==null?void 0:t.name,equals:t==null?void 0:t.equals});return K6(()=>r.get())}function Tee(e){if(qm())throw new Error("[signal] Cannot run effect directly within React component");let t;const n=Qm(()=>{t==null||t(),t=ls(e)});return()=>{n(),t==null||t()}}function Vo(e,t,n){return T6(()=>ls(e),t,{equals:n==null?void 0:n.equals,fireImmediately:n==null?void 0:n.fireImmediately})}function nn(e){return zf(()=>ls(e))}function $6(e,t){return typeof t=="function"?kT(()=>ls(e),t):kT(()=>ls(e))}function H6(e){return Mg(e)}function oi(e,t,n){var c;let r,i,s;const o=Hm((c=n==null?void 0:n.name)!=null?c:"external",()=>{r=!1,s=t(()=>{var u;if(!r)return;const l=e();((u=n==null?void 0:n.equals)!=null?u:Object.is)(i,l)||(i=l,o.reportChanged())}),i=e(),r=!0},()=>{r=!1,s==null||s()}),a=n==null?void 0:n.getServerFallback;return Oe(()=>a&&t_()?a():(o.reportObserved()||(i=e()),i),{equals:n==null?void 0:n.equals})}const z6=we(!0,{name:"isServerRendering"}),t_=z6;function wee(){"use forget";const e=H.c(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],E.useLayoutEffect(Aee,t)}function Aee(){z6.set(!1)}function xee(e){return typeof e=="function"}function Y6(e){return typeof e=="function"}function K6(e){return(()=>(Cee(),e()))}function hn(e,t,n){var u;const r=Ms(t),i=n==null?void 0:n.enabled$,s=()=>r().enabled!==!1&&(i==null||nn(i)!==!1),o=Ms(()=>tn(e).defaultQueryOptions(I(S({},r()),{notifyOnChangeProps:["data","error","fetchStatus","status"],experimental_prefetchInRender:!(n!=null&&n.skipPrefetchOnMount),enabled:s()}))),a=Ms(()=>new yB(tn(e),o())),c=async()=>{if(s())return await tn(e).prefetchQuery(o())},l=Ms(()=>{var d;return!(n!=null&&n.skipPrefetchOnMount)&&s()&&c(),n!=null&&n.getServerData?Pee(n.getServerData(),(d=n.serverDataType)!=null?d:"placeholder"):(i==null?void 0:i())===!1?iP():Ree()});return Object.assign(oi(()=>a().getCurrentResult(),d=>{let f;if(i&&r().enabled!==!1){const p=()=>{a().setOptions(I(S({},o()),{enabled:s()}))};p(),f=Vo(i,p)}const h=a().subscribe(d);return()=>{f==null||f(),h()}},{name:(u=n==null?void 0:n.name)!=null?u:"reactQuerySignal",equals:J6,getServerFallback:l}),{prefetch:c,refetch(d){return a().getCurrentResult().refetch(d)},if$(d){return d?this():t_()?iP():Nee(a().getCurrentResult())}})}function Iee(e,t,n){const r=tn(e),i=Ms(()=>{const o=t();return S({notifyOnChangeProps:["data","failureCount","isLoading","error","status","isFetchingNextPage","isFetchNextPageError","hasNextPage","fetchStatus"],refetchOnReconnect:!1,throwOnError:!1,queryHash:JSON.stringify(o.queryKey)},o)}),s=Ms(()=>new pJ(r,i()));return oi(()=>s().getCurrentResult(),o=>s().subscribe(o),{name:"infiniteReactQuerySignal",equals:J6,getServerFallback:()=>kee()})}function n_(e,t){const n=tn(e),r=new hJ(n,t);return{mutate:async i=>{try{await r.mutate(i)}catch(s){}return r.getCurrentResult()},result$:oi(()=>r.getCurrentResult(),i=>r.subscribe(()=>{i()}))}}function J6(e,t){return e instanceof Ug||t instanceof Ug?e.data===t.data&&e.error===t.error&&e.status===t.status&&e.fetchStatus===t.fetchStatus:Object.is(e,t)}const Nee=eo(e=>e.fetchStatus==="idle"&&!e.isLoading&&!e.isFetching&&!e.isStale?e:I(S({},e),{fetchStatus:"idle",isLoading:!1,isFetching:!1,isStale:!1})),X6={data:void 0,error:null,isError:!1,isLoadingError:!1,isPending:!0,isRefetchError:!1,isSuccess:!1,status:"pending"},iP=Ms(()=>Kw(X6)),Q6=I(S({},X6),{fetchStatus:"fetching",isFetching:!0,isLoading:!0}),Ree=Ms(()=>Kw(Q6));function Pee(e,t){return Kw({data:e,error:null,fetchStatus:t==="fresh"?"idle":"fetching",isError:!1,isFetched:t!=="placeholder",isFetching:t!=="fresh",isLoading:!1,isLoadingError:!1,isPending:!1,isPlaceholderData:t==="placeholder",isRefetchError:!1,isRefetching:t==="stale",isStale:t!=="fresh",isSuccess:!0,status:"success"})}function Kw(e){return new Ug(e)}class Ug{constructor(t){U(this,"data");U(this,"dataUpdatedAt",0);U(this,"error",null);U(this,"errorUpdateCount",0);U(this,"errorUpdatedAt",0);U(this,"failureCount",0);U(this,"failureReason",null);U(this,"fetchStatus","idle");U(this,"isError",!1);U(this,"isFetched",!1);U(this,"isFetchedAfterMount",!1);U(this,"isFetching",!1);U(this,"isInitialLoading",!1);U(this,"isLoading",!1);U(this,"isLoadingError",!1);U(this,"isPaused",!1);U(this,"isPending",!1);U(this,"isPlaceholderData",!1);U(this,"isRefetchError",!1);U(this,"isRefetching",!1);U(this,"isStale",!1);U(this,"isSuccess",!1);U(this,"status","pending");Object.assign(this,t)}get promise(){return Promise.reject(new Error("[react-query-signal] Cannot use promise from SSR"))}refetch(){return Promise.reject(new Error("[react-query-signal] Cannot refetch from SSR"))}}function kee(){return Mee(I(S({},Q6),{isFetchNextPageError:!1,isFetchPreviousPageError:!1}))}function Mee(e){return new Dee(e)}class Dee extends Ug{constructor(){super(...arguments);U(this,"hasNextPage",!1);U(this,"hasPreviousPage",!1);U(this,"isFetchNextPageError",!1);U(this,"isFetchingNextPage",!1);U(this,"isFetchPreviousPageError",!1);U(this,"isFetchingPreviousPage",!1)}fetchNextPage(){return Promise.reject(new Error("[react-query-signal] Cannot fetch from SSR"))}fetchPreviousPage(){return Promise.reject(new Error("[react-query-signal] Cannot fetch from SSR"))}}function Jw(e,t){return n=>Z6(e(n),t)}function Z6(e,t=e.length){return new Proxy(((...n)=>e(...n)()),{get(n,r){return(...i)=>{const s=i.slice(0,t),o=i.slice(t),a=e(...s);if(typeof a[r]!="function"){if(o.length>0)throw new Error("signal$.".concat(String(r)," is not a function"));return a[r]}return a[r](...o)}}})}function r_(e,t){var r;const n=t==null?void 0:t.selector;return oi(n?()=>n(e.getState()):()=>e.getState(),i=>e.subscribe(i),{name:(r=t==null?void 0:t.name)!=null?r:"storeSignal",getServerFallback:n?()=>n(e.getInitialState()):()=>e.getInitialState(),equals:t==null?void 0:t.equals})}const Be=Jw(ut);class ud extends Error{}ud.prototype.name="InvalidTokenError";function Lee(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function jee(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Lee(t)}catch(n){return atob(t)}}function Fee(e,t){if(typeof e!="string")throw new ud("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new ud("Invalid token specified: missing part #".concat(n+1));let i;try{i=jee(r)}catch(s){throw new ud("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(s.message,")"))}try{return JSON.parse(i)}catch(s){throw new ud("Invalid token specified: invalid json for part #".concat(n+1," (").concat(s.message,")"))}}const Uee="7b4ad770564e1a05033d9481af8a607f0f63bc7b",Bee="prod",Gee="",Wee="",Jf="".concat(Bee,"-").concat(Uee).concat(Gee).concat(Wee);var Te=(e=>(e.AgeVerification="oai-av-seen",e.AllowNonessential="oai-allow-ne",e.CookieBannerIgnored="oai-cbi",e.LastVoiceInteraction="oai-lvi",e.DeviceId="oai-did",e.DotcomDeviceId="dotcom-did",e.WaId="oai-wid",e.IpOverride="oai-ip-country",e.GeohashOverride="oai-geohash-override",e.IpCityOverride="oai-ip-city",e.ShowPaymentModal="ui-show-payment-modal",e.TempEnableUnauthedCompliance="temp-oai-compliance",e.Workspace="_account",e.WorkspaceResidencyRegion="_account_residency_region",e.AcceptAccountId="_accept_account_id",e.LastLocation="oai-ll",e.HideLoggedOutBanner="hide-logged-out-banner",e.HasLoggedInBefore="oai-hlib",e.PunchOutInfoToken="oai-poit",e.PunchOutRequireLoginInfo="oai-porli",e.SharedConversationId="oai-sh-c-i",e.AuthSessionLoggingId="oai-asli",e.PunchOutRequireAnonToAuthedToken="oai-po-ra2a",e.PunchOutAnonToAuthedEnabled="oai-po-a2a",e.DowngradeAccountEnabled="oai-downgrade-account-enabled",e.DogfoodingAccountType="oai-dogfooding-account-type",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.HasClickedOnTryItFirstLink="oai-tif-20240402",e.IntercomDeviceIdProd="intercom-device-id-dgkjq2bp",e.IntercomDeviceIdDev="intercom-device-id-izw1u7l7",e.DomainMigrationSourceCompleted="oai-dm-src-c-240329",e.DomainMigrationTargetCompleted="oai-dm-tgt-c-240329",e.SignupRedirectUrl="signup_redirect_url",e.DesktopResultsTab="sonic_desktop_results_tab",e.NavigationState="oai-nav-state",e.PreferredLocale="oai-locale",e.InternalSearchSettings="oai-internal-search-settings",e.InternalSidebarApiSettings="oai-internal-sidebar-api-settings",e.LastUsedModel="oai-last-model",e.LastUsedModelConfig="oai-last-model-config",e.IsSpecificModel="oai-is-specific-model",e.ModelStickyForNewChats="oai-model-sticky-for-new-chats",e.GreetingName="oai-gn",e.headlineMessage="oai-hm",e.ConsentAnalytics="oai_consent_analytics",e.ConsentMarketing="oai_consent_marketing",e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.Msclkid="msclkid",e.LastSelectedGithubRepo="oai-last-selected-github-repo",e.ShowInternalModels="oai-show-internal-models",e.SidebarSections="oai-sidebar-sections",e.AccountInfo="oai-client-auth-info",e))(Te||{});const qee=["gclid","fbclid","rdt_cid","ttclid","li_fat_id","msclkid"],Vee=["ajs_user_id","ajs_user_traits"],$ee={sameSite:"lax"};var Ea={},lp={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var sP;function Hee(){if(sP)return lp;sP=1,lp.parse=r,lp.serialize=i;var e=decodeURIComponent,t=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(o,a){if(typeof o!="string")throw new TypeError("argument str must be a string");for(var c={},l=a||{},u=o.split(";"),d=l.decode||e,f=0;f<u.length;f++){var h=u[f],p=h.indexOf("=");if(!(p<0)){var g=h.substring(0,p).trim();if(c[g]==null){var m=h.substring(p+1,h.length).trim();m[0]==='"'&&(m=m.slice(1,-1)),c[g]=s(m,d)}}}return c}function i(o,a,c){var l=c||{},u=l.encode||t;if(typeof u!="function")throw new TypeError("option encode is invalid");if(!n.test(o))throw new TypeError("argument name is invalid");var d=u(a);if(d&&!n.test(d))throw new TypeError("argument val is invalid");var f=o+"="+d;if(l.maxAge!=null){var h=l.maxAge-0;if(isNaN(h)||!isFinite(h))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(h)}if(l.domain){if(!n.test(l.domain))throw new TypeError("option domain is invalid");f+="; Domain="+l.domain}if(l.path){if(!n.test(l.path))throw new TypeError("option path is invalid");f+="; Path="+l.path}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(f+="; HttpOnly"),l.secure&&(f+="; Secure"),l.sameSite){var p=typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite;switch(p){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f}function s(o,a){try{return a(o)}catch(c){return o}}return lp}var oP;function zee(){return oP||(oP=1,(function(e){var t=Ea&&Ea.__assign||function(){return t=Object.assign||function(m){for(var v,y=1,T=arguments.length;y<T;y++){v=arguments[y];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},t.apply(this,arguments)},n=Ea&&Ea.__rest||function(m,v){var y={};for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.indexOf(T)<0&&(y[T]=m[T]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,T=Object.getOwnPropertySymbols(m);b<T.length;b++)v.indexOf(T[b])<0&&Object.prototype.propertyIsEnumerable.call(m,T[b])&&(y[T[b]]=m[T[b]]);return y};Object.defineProperty(e,"__esModule",{value:!0}),e.checkCookies=e.hasCookie=e.removeCookies=e.deleteCookie=e.setCookies=e.setCookie=e.getCookie=e.getCookies=void 0;var r=Hee(),i=function(){return typeof window<"u"},s=function(m){if(m==="true")return!0;if(m==="false")return!1;if(m!=="undefined")return m==="null"?null:m},o=function(m){m===void 0&&(m="");try{var v=JSON.stringify(m);return/^[\{\[]/.test(v)?v:m}catch(y){return m}},a=function(m){return m&&m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},c=function(m){var v;if(m&&(v=m.req),!i())return v&&v.cookies?v.cookies:v&&v.headers&&v.headers.cookie?(0,r.parse)(v.headers.cookie):{};for(var y={},T=document.cookie?document.cookie.split("; "):[],b=0,C=T.length;b<C;b++){var O=T[b].split("="),w=O.slice(1).join("="),A=O[0];y[A]=w}return y};e.getCookies=c;var l=function(m,v){var y=(0,e.getCookies)(v),T=y[m];if(T!==void 0)return s(a(T))};e.getCookie=l;var u=function(m,v,y){var T,b,C;if(y){var O=y.req,w=y.res,A=n(y,["req","res"]);b=O,C=w,T=A}var x=(0,r.serialize)(m,o(v),t({path:"/"},T));if(i())document.cookie=x;else if(C&&b){var R=C.getHeader("Set-Cookie");if(Array.isArray(R)||(R=R?[String(R)]:[]),C.setHeader("Set-Cookie",R.concat(x)),b&&b.cookies){var P=b.cookies;v===""?delete P[m]:P[m]=o(v)}if(b&&b.headers&&b.headers.cookie){var P=(0,r.parse)(b.headers.cookie);v===""?delete P[m]:P[m]=o(v),b.headers.cookie=Object.entries(P).reduce(function(D,F){return D.concat("".concat(F[0],"=").concat(F[1],";"))},"")}}};e.setCookie=u;var d=function(m,v,y){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,e.setCookie)(m,v,y)};e.setCookies=d;var f=function(m,v){return(0,e.setCookie)(m,"",t(t({},v),{maxAge:-1}))};e.deleteCookie=f;var h=function(m,v){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,e.deleteCookie)(m,v)};e.removeCookies=h;var p=function(m,v){if(!m)return!1;var y=(0,e.getCookies)(v);return y.hasOwnProperty(m)};e.hasCookie=p;var g=function(m,v){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,e.hasCookie)(m,v)};e.checkCookies=g})(Ea)),Ea}var Pd=zee();const Yv=".chatgpt.com",eG=window!==window.top,Yee=e=>e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);let dd=null;const Kee=document.documentElement.dataset.cacheCookies==="true";function Jee(){if(!Kee)return Pd.getCookies();const e=Date.now();return(dd==null||e-dd.time>1e3)&&(dd={time:e,value:Pd.getCookies()}),dd.value}function aP(){dd=null}class tG{constructor(){U(this,"allowAnalyticsCookies",!1);U(this,"allowMarketingCookies",!1);eG||(this.synchronizeWithLocalStorage(),setInterval(()=>this.synchronizeWithLocalStorage(),6e4))}setAllowAnalyticsCookies_CLIENT_ONLY(t){this.allowAnalyticsCookies=t,t===!1&&this.clearAnalyticsCookies()}setAllowMarketingCookies_CLIENT_ONLY(t){this.allowMarketingCookies=t,t===!1&&this.clearMarketingCookies()}clearAnalyticsCookies(){for(const t of Vee)this.deleteCookie(t)}clearMarketingCookies(){for(const t of qee)this.deleteCookie(t)}synchronizeWithLocalStorage(){[Te.Workspace,Te.WorkspaceResidencyRegion,Te.DeviceId].forEach(n=>{const r=Pd.getCookie(n);r!=null?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)})}_getCookie(t){const n=Jee()[t];return n===void 0?void 0:Yee(n)}getCookie(t){return this._getCookie(t)}getBooleanCookie(t){const n=this._getCookie(t);return n==null?void 0:n==="true"}getAnalyticsCookie(t){if(this.allowAnalyticsCookies)return this._getCookie(t);this.deleteCookie(t)}getMarketingCookie(t){if(this.allowMarketingCookies)return this._getCookie(t);this.deleteCookie(t)}_setCookie(t,n,r){Pd.setCookie(t,n,S(S({},$ee),r)),aP()}setCookie(t,n,r){this._setCookie(t,n,r)}setBooleanCookie(t,n,r){this._setCookie(t,n!=null?n?"true":"false":void 0,r)}setAnalyticsCookie(t,n,r){this.allowAnalyticsCookies?this._setCookie(t,n,r):this.deleteCookie(t)}setMarketingCookie(t,n,r){this.allowMarketingCookies?this._setCookie(t,n,r):this.deleteCookie(t)}deleteCookie(t){const n={};Pd.deleteCookie(t,n),aP()}}class Xee extends tG{getCookie(t){const n=localStorage.getItem(t);return typeof n=="string"?JSON.parse(n):n}setCookie(){}setAnalyticsCookie(){}setMarketingCookie(){}deleteCookie(){}setAllowAnalyticsCookies_CLIENT_ONLY(){}setAllowMarketingCookies_CLIENT_ONLY(){}}const De=eG?new Xee:new tG,Qee=3600*24*30*12,Zee=()=>fr(),ete=e=>typeof e=="string"&&e.length>0,tte=e=>{const t={maxAge:Qee};return e.endsWith("openai.com")?t.domain=".openai.com":e.endsWith(window.location.host)&&(t.domain=".chatgpt.com"),t};function nte(){var e;return(e=window.location.hostname)!=null?e:void 0}function ri(e=nte()){const t=De.getCookie(Te.DeviceId);if(ete(t))return t;const n=Zee(),r=tte(e);return De.setCookie(Te.DeviceId,n,r),n}const rte="OAI-Language",i_="OAI-Client-Version",s_="OAI-Device-Id",Cn="OAI-Product-Sku",ite="ChatGPT-Account-ID",ste={},cP=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=(d!=null?d:typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(ste?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,i,c);return c},Ic=e=>e?cP(e):cP;var Kv={exports:{}},Jv={},Xv={exports:{}},Qv={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function ote(){if(lP)return Qv;lP=1;var e=Tw();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),g=p[0].inst,m=p[1];return s(function(){g.value=h,g.getSnapshot=f,c(g)&&m({inst:g})},[d,h,f]),i(function(){return c(g)&&m({inst:g}),d(function(){c(g)&&m({inst:g})})},[d]),o(h),h}function c(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch(p){return!0}}function l(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Qv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Qv}var uP;function ate(){return uP||(uP=1,Xv.exports=ote()),Xv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP;function cte(){if(dP)return Jv;dP=1;var e=Tw(),t=ate();function n(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Jv.useSyncExternalStoreWithSelector=function(l,u,d,f,h){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function v(O){if(!y){if(y=!0,T=O,O=f(O),h!==void 0&&g.hasValue){var w=g.value;if(h(w,O))return b=w}return b=O}if(w=b,r(T,O))return w;var A=f(O);return h!==void 0&&h(w,A)?w:(T=O,b=A)}var y=!1,T,b,C=d===void 0?null:d;return[function(){return v(u())},C===null?void 0:function(){return v(C())}]},[u,d,f,h]);var m=i(l,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=m},[m]),c(m),m},Jv}var fP;function lte(){return fP||(fP=1,Kv.exports=cte()),Kv.exports}var ute=lte();const nG=Gt(ute),rG={},{useDebugValue:dte}=Et,{useSyncExternalStoreWithSelector:fte}=nG;let hP=!1;const hte=e=>e;function Xf(e,t=hte,n){(rG?"production":void 0)!=="production"&&n&&!hP&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hP=!0);const r=fte(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return dte(r),r}const pP=e=>{(rG?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ic(e):e,n=(r,i)=>Xf(t,r,i);return Object.assign(n,t),n},ir=e=>e?pP(e):pP,LT=new Set;function TUe(e){return LT.add(e),()=>LT.delete(e)}async function pte(){await Promise.all(Array.from(LT).map(async e=>{try{await e()}catch(t){}}))}function wUe(){(async()=>(await pte(),window.location.href=window.location.origin+"/auth/logout"))()}const Bg="auth_session_logging_id";var Xw=(e=>(e.OpenAI="openai",e.OpenAIDev="openai-dev",e.Mocked="mocked",e.OpenAISidetron="openai-sidetron",e.OpenAISidetronDev="openai-sidetron-dev",e))(Xw||{}),gte=(e=>(e[e.Auth0=1]="Auth0",e[e.WorkOS=2]="WorkOS",e))(gte||{});const iG=ut(e=>{const t=xt(e),n=t.authStatus==="logged_in"?t.session:null;return Ic(()=>({session:n}))});function St(e){return xt(e).authStatus==="logged_in"}function sa(e){return iG(e).getState().session}function Qf(e){var t;return(t=sa(e))==null?void 0:t.accessToken}async function mte(e){var t,n,r;try{const i=Date.now(),s=new URL("/api/auth/session",location.origin);s.searchParams.set("refresh","true");for(const[d,f]of Object.entries(e))s.searchParams.set(d,f);const o=ri();Q.addAction("Refreshing access token due to ".concat(e.reason," error."),I(S({},e),{url:location.origin+((t=e.path)!=null?t:""),deviceId:o}));const a=await fetch(s,{headers:{[s_]:o,[i_]:Jf}}),c=await a.json(),u=(Date.now()-i)/1e3;if(a.status!==200&&Q.addAction("fetchSession.statusNon200",{status:a.status,reqDuration:u}),Object.keys(c).length)return c.accessToken==null&&c.error==null&&Q.addAction("missing_access_token_error",{error:"Missing access token for User: ".concat((n=c.user)==null?void 0:n.id," (").concat(c.accessToken,")")}),c.error==="RefreshAccessTokenError"&&((r=window._oaiHandleSessionExpired)==null||r.call(window,"page load",c.error)),c.error&&Q.addAction("fetchSession.error",{error:c.error}),c}catch(i){}return null}function _te(e){return{session:sa(e),isLoading:!1}}function vte(e){return!e||!e.email?!1:e.email.endsWith("@openai.com")}var Jl=(e=>(e.LoggedOut="logged_out",e.LoggedIn="logged_in",e))(Jl||{});const AUe="https://api.openai.com/mfa",yte="https://api.openai.com/auth",Cte=ut(()=>({pending:null}));function Qw(e,t){const n=iG(e),r=n.getState().session;r&&n.setState({session:I(S({},r),{accessToken:t})})}function bte(e,t){const n=Cte(e);return n.pending||(n.pending=(async()=>{try{const r=await mte(t);r!=null&&r.accessToken&&Qw(e,r.accessToken)}finally{n.pending=null}})()),n.pending}var Ete=(e=>(e[e.Unspecified=0]="Unspecified",e[e.Password=1]="Password",e[e.Google=2]="Google",e[e.Microsoft=3]="Microsoft",e[e.Apple=4]="Apple",e[e.Samlp=5]="Samlp",e[e.Oidc=6]="Oidc",e))(Ete||{});function Ste(e){return e?e.startsWith("google-oauth2|")?2:e.startsWith("auth0|")?1:e.startsWith("apple|")?4:e.startsWith("windowslive|")?3:e.startsWith("samlp|")?5:e.startsWith("oidc|")?6:0:0}function xUe(e){var r,i;const t=Qf(e),n=t?Fee(t):null;return{isSignup:(i=(r=n==null?void 0:n[yte])==null?void 0:r.is_signup)!=null?i:!1,connectionType:Ste(n==null?void 0:n.sub)}}class Ote{constructor(){U(this,"wantsModelSlug$",we(void 0));U(this,"selectedConversationId$",we(void 0));U(this,"wantsNewConversation$",we(!1));U(this,"newConversationGizmoId$",we(void 0));U(this,"prepareConversationDetails");U(this,"attachments");U(this,"whisperContent");U(this,"tabContext");U(this,"requestCompletion");U(this,"wantsRequestCompletion$",we(!1));U(this,"populatePrompt");U(this,"wantsPopulatePrompt$",we(!1));U(this,"context$",we(void 0));U(this,"promptOrigin");U(this,"agentSessionMode$",we("signedInAccounts"));U(this,"agentSafeModeHasSeenNux$",we(void 0));U(this,"authSessionContext");U(this,"wantsAuthSessionContext$",we(!1));U(this,"agentRequest");U(this,"wantsHandleAgentRequest$",we(!1));U(this,"sidebarUrlTrayOpen$",we(!0));U(this,"wantsAttachUserFile$",we(!1));U(this,"attachUserFileRequest");U(this,"wantsSetChatTheme$",we(!1));U(this,"chatTheme");U(this,"wantsInitialTab$",we(void 0))}}const Hs=Be(e=>we(xt(e).windowStyle)),Xr=new Ote,o_="new_page_view",Zf="new_page_overlay_view",Zw="sidebar_view",eh="ref",Gg={name:eh,value:"mini"},sG={name:eh,value:"mini-ntp"},tf={name:eh,value:"mini-sidebar"},Tte=Gg;function wte(e){Hs.set(e,Zw)}function Ate(e){Hs.set(e,o_)}function xte(e){Hs.set(e,Zf)}const Mi=ut(e=>nn(()=>oG(e)||eA(e)||th(e)));function eA(e){const t=Hs(e);return t==="mainPage"||t===o_||t===Zf}function oG(e){return nh(e)?Hs(e)===Zf:!1}function th(e){const t=Hs(e);return t==="sidebar"||t===Zw}function Ite(e){const t=aG(e);return t===o_||nh(e)&&t===Zf}function aG(e){return xt(e).windowStyle}function Nte(e){switch(e){case Zf:return sG.value;case o_:return Gg.value;case"mainPage":return Gg.value;case Zw:return tf.value;case"sidebar":return tf.value;default:throw new Error("Invalid Aura window style: ".concat(e))}}function cG(e,t){const n=new URLSearchParams(e);return n.set(eh,t),n.toString()}function Rte(e,t){const n=e.indexOf("#"),r=e.indexOf("?"),i=Math.min(r===-1?e.length:r,n===-1?e.length:n),s=e.slice(0,i),o=r===-1?"":e.slice(r+1,n===-1?e.length:n),a=n===-1?"":e.slice(n+1),c=cG(o,t);let l=s;return c&&(l+="?".concat(c)),a&&(l+="#".concat(a)),l}function Pte(e,t){var n,r,i;return{pathname:(n=e.pathname)!=null?n:"",search:cG(((r=e.search)!=null?r:"").replace(/^\?/,""),t),hash:((i=e.hash)!=null?i:"").replace(/^#/,"")}}function nf(e){const t=nn(()=>{const n=At();return Mi(n)?Nte(Hs(n)):void 0});return t?typeof e=="string"?Rte(e,t):Pte(e,t):e}function lG(e){return Mi(e)&&xt(e).isContainerOTR===!0}function IUe(e){return eA(e)||Ite(e)}function kte(e){const t=re();return Fe(()=>e(t))}function NUe(){const e=re();return Fe(()=>lG(e)?!0:Mi(e)&&!St(e))}function RUe(e){return!$e(e,"1365150540")}function PUe(e){return $e(e,"757783264")}function kUe(e){return $e(e,"1821051864")}function nh(e){return Mte(e,"use-hybrid-ntp")}function uG(e){return nh(e)&&Mi(e)}function MUe(e){return Mi(e)?nh(e)?th(e):!0:!1}const DUe=Be(e=>we(()=>$e(e,"2406317317")));function Mte(e,t){var n;return((n=xt(e).containerFlags)==null?void 0:n.includes(t))===!0}class Dte extends TypeError{constructor(t,n){let r;const l=t,{message:i,explanation:s}=l,o=W(l,["message","explanation"]),{path:a}=t,c=a.length===0?i:"At path: ".concat(a.join(".")," -- ").concat(i);super(s!=null?s:c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r!=null?r:r=[t,...n()]}}function Lte(e){return rh(e)&&typeof e[Symbol.iterator]=="function"}function rh(e){return typeof e=="object"&&e!=null}function Wg(e){return rh(e)&&!Array.isArray(e)}function hc(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):"".concat(e)}function jte(e){const{done:t,value:n}=e.next();return t?void 0:n}function Fte(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:c="Expected a value of type `".concat(o,"`").concat(a?" with refinement `".concat(a,"`"):"",", but received: `").concat(hc(r),"`")}=e;return I(S({value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s},e),{message:c})}function*gP(e,t,n,r){Lte(e)||(e=[e]);for(const i of e){const s=Fte(i,t,n,r);s&&(yield s)}}function*dG(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(e=t.coercer(e,a));let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of t.entries(e,a)){const f=dG(u,d,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const h of f)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):s&&(u=h[1],l===void 0?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):rh(e)&&(u!==void 0||l in e)&&(e[l]=u))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}class ih{constructor(t){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const u=i(c,l);return gP(u,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const u=s(c,l);return gP(u,l,this,c)}:this.refiner=()=>[]}assert(t,n){return Ute(t,this,n)}create(t,n){return Bte(t,this,n)}is(t){return Wte(t,this)}mask(t,n){return Gte(t,this,n)}validate(t,n={}){return sh(t,this,n)}}function Ute(e,t,n){const r=sh(e,t,{message:n});if(r[0])throw r[0]}function Bte(e,t,n){const r=sh(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Gte(e,t,n){const r=sh(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Wte(e,t){return!sh(e,t)[0]}function sh(e,t,n={}){const r=dG(e,t,n),i=jte(r);return i[0]?[new Dte(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function tA(e,t){return new ih({type:e,schema:null,validator:t})}function LUe(e){return new ih({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: ".concat(hc(t))}})}function jUe(){return tA("boolean",e=>typeof e=="boolean")}function FUe(e){const t={},n=e.map(r=>hc(r)).join();for(const r of e)t[r]=r;return new ih({type:"enums",schema:t,validator(r){return e.includes(r)||"Expected one of `".concat(n,"`, but received: ").concat(hc(r))}})}function qte(){return tA("never",()=>!1)}function Vte(e){const t=e?Object.keys(e):[],n=qte();return new ih({type:"object",schema:e||null,*entries(r){if(e&&rh(r)){const i=new Set(Object.keys(r));for(const s of t)i.delete(s),yield[s,r[s],e[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return Wg(r)||"Expected an object, but received: ".concat(hc(r))},coercer(r,i){if(!Wg(r))return r;const s=S({},r);if(i.mask&&e)for(const o in s)e[o]===void 0&&delete s[o];return s}})}function mP(){return tA("string",e=>typeof e=="string"||"Expected a string, but received: ".concat(hc(e)))}function UUe(e){const t=Object.keys(e);return new ih({type:"type",schema:e,*entries(n){if(rh(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Wg(n)||"Expected an object, but received: ".concat(hc(n))},coercer(n){return Wg(n)?S({},n):n}})}var pc=(e=>(e.Birthday="birthday",e.Sunshine="sunshine",e.GoldenHour="golden_hour",e.TrainingAllowed="training_allowed",e.ShowExpandedCodeView="show_expanded_code_view",e.VoiceName="voice_name",e.VoiceMainLanguage="voice_main_language",e.VoiceEnabled="voice_enabled",e.MemoryInSearch="memory_in_search",e.VoiceTrainingAllowed="voice_training_allowed",e.VideoTrainingAllowed="video_training_allowed",e.Moonshine="moonshine",e.CodexTrainingAllowed="codex_training_allowed_v2",e.BrowserReferenceWebHistoryInChat="hippo_in_chat_allowed",e.ShowLegacyModels="show_legacy_models",e.HiveReferencedInInternalKnowledge="hive_referenced_in_internal_knowledge",e.ConnectorSearchEnabled="connector_search_enabled",e.DeveloperMode="developer_mode",e.Gift="gift",e.ChatTheme="chat_theme",e.LastUsedModelConfig="last_used_model_config",e.VoiceSpeed="voice_speed",e.EnableRemoteBrowserData="enable_remote_browser_data",e.EnableDeviceCodeAuth="enable_device_code_auth",e.UkdvthEntrypointVisible="ukdvth_entrypoint_visible",e.UkdvthMemoryEnabled="ukdvth_memory_enabled",e.H17180rGmail="h17180r_gmail",e.H17180rGoogleCalendar="h17180r_google_calendar",e.H17180rGoogleContacts="h17180r_google_contacts",e.RecordMeetingOnCalendar="record_meeting_on_calendar",e.PreciseLocationEnabledForDevice="precise_location_enabled_for_device",e.AtlasAdultSearchAllowed="atlas_adult_search_allowed",e.AmphoraLocks="amphora_locks",e.GxM2LY8iJnEnabled="gxM2LY8iJn_enabled",e.StrideEnabled="stride_enabled",e.GyM2LY8iJmEnabled="gyM2LY8iJm_enabled",e))(pc||{}),ws=(e=>(e.DEEP_RESEARCH="deep_research",e.WORKSPACE_GPT_CUSTOM_ACTIONS="workspace_gpt_custom_actions",e.APP_PAIRING="app_pairing",e.BROWSING="browsing",e.CANVAS="canvas",e.CANVAS_CODE_EXECUTION="canvas_code_execution",e.CANVAS_CODE_NETWORK_ACCESS="canvas_code_network_access",e.DALLE="dalle",e.MEMORY="sunshine",e.LEGACY_MODELS="legacy_models",e.CONTEXT_CONNECTOR_CONFLUENCE="context_connector_confluence",e.CONTEXT_CONNECTOR_GDRIVE="context_connector_gdrive",e.CONTEXT_CONNECTOR_JIRA="context_connector_java",e.CONTEXT_CONNECTOR_NOTION="context_connector_notion",e.CONTEXT_CONNECTOR_O365_PERSONAL="context_connector_o365_personal",e.CONTEXT_CONNECTOR_O365_BUSINESS="context_connector_o365_business",e.CONTEXT_CONNECTOR_SLACK="context_connector_slack",e.CONTEXT_CONNECTOR_GITHUB="context_connector_github",e.CLIENT_APPLICATION_APPLE="client_application_apple",e.CLIENT_APPLICATION_APPLE_MDM_REQUIRED="client_application_apple_mdm_required",e.MEMORY_IN_SEARCH="memory_in_search_2",e.VIDEO_SCREEN_SHARING="video_screen_sharing",e.AURA="aura",e.HIVE="hive",e.HIVE_KNOWLEDGE_RETRIEVAL="hive_knowledge_retrieval",e.ALLOW_CODEX_ACCESS="wham_access",e.ALLOW_CODEX_LOCAL_ACCESS="wham_local_access",e.CODEX_ADMIN="codex_admin",e.CODEX_AGENT_NETWORK_ACCESS="codex_agent_network_access",e.CODEX_DEVICE_CODE_AUTH="codex_device_code_auth",e.CODEX_SLACK_POSTING="codex_slack_posting",e.WORKSPACE_POLICY="workspace_policy",e.PROJECT_SHARING="project_sharing",e.PROJECT_SHARING_GA_OPT_OUT="project_sharing_ga_opt_out",e.AURA_GA_OPT_OUT="aura_ga_opt_out",e.REFERENCE_WEB_HISTORY_IN_CHAT="hippo_in_chat_allowed",e.SHOW_LOGO_IN_HEADER="show_logo_in_header",e.GPT51_GA_OPT_OUT="gpt51_ga_opt_out",e))(ws||{}),$te=(e=>(e.FREE="chatgptfreeplan",e.GO="chatgptgoplan",e.PLUS="chatgptplusplan",e.PRO="chatgptpro",e.PRO_FREE="chatgptprofreeplan",e.PLUS_FREE="chatgptplusfreeplan",e.SELF_SERVE_BUSINESS="chatgptteamplan",e.ENTERPRISE_CBP_SEAT_USAGE="chatgptbusiness_seat_usage",e.ENTERPRISE_CBP_FLAT="chatgptbusiness_flat",e.EDUCATION_CBP_FLAT="chatgpteducation_flat",e.FREE_WORKSPACE="chatgptfreeworkspaceplan",e.K12="chatgptk12plan",e.QUORUM="chatgptquorumplan",e.DEPRECATED_ENTERPRISE="chatgptenterpriseplan",e.DEPRECATED_EDU="chatgpteduplan",e))($te||{}),be=(e=>(e.FREE="free",e.GO="go",e.PLUS="plus",e.PRO="pro",e.FREE_WORKSPACE="free_workspace",e.SELF_SERVE_BUSINESS="team",e.ENTERPRISE_CBP="business",e.EDUCATION_CBP="education",e.QUORUM="quorum",e.DEPRECATED_ENTERPRISE="enterprise",e.DEPRECATED_EDU="edu",e.K12="k12",e))(be||{}),fG=(e=>(e.ANYONE="anyone",e.NO_ONE="no_one",e.WORKSPACE_ONLY="workspace_only",e))(fG||{});const BUe={ALLOW_ALL:"allow_all",ALLOW_SPECIFIC:"allow_specific",ALLOW_NONE:"allow_none"};var Hte=(e=>(e.GPT_SHARE_SETTINGS="gpt_share_setting",e.CHAT_SHARE_SETTINGS="chat_share_setting",e))(Hte||{}),zte=(e=>(e.WORKSPACE="workspace",e.THIRD_PARTY="third_party",e.UNASSIGNED="unassigned",e))(zte||{}),fd=(e=>(e.WEB="web",e.IOS_APP="ios_app",e.ANDROID_APP="android_app",e.WINDOWS_APP="windows_app",e.MAC_APP="mac_os_app",e.DEFAULT="default",e))(fd||{}),Ro=(e=>(e.CodeInterpreter="code_interpreter",e.Multimodal="multimodal",e.Retrieval="retrieval",e.ContextConnector="context_connector",e))(Ro||{}),oa=(e=>(e.FREE="free",e.PLUS="plus",e))(oa||{}),Ge=(e=>(e.TOOL_USE="tool_use",e.IMAGE="image",e.ATTACHMENT="attachment",e.AUDIO="audio",e.TARGETED_REPLY="targeted_reply",e.CANVAS_SUPPORTED="canvas_supported",e.TOOL_SEARCH="tool_search",e.CUSTOM_INSTRUCTIONS="custom_instructions",e.GIZMO_PROJECT="gizmo_project",e))(Ge||{}),aa=(e=>(e.SHORT_LABEL="short_label",e.TITLE="title",e))(aa||{}),jT=(e=>(e[e.DEPRECATED_PENDING=1]="DEPRECATED_PENDING",e[e.DEPRECATED_FINISHED=2]="DEPRECATED_FINISHED",e[e.STREAMING=3]="STREAMING",e[e.UNREAD=4]="UNREAD",e[e.REALTIME=5]="REALTIME",e))(jT||{}),hG=(e=>(e[e.CLIENT=1]="CLIENT",e[e.SERVER=2]="SERVER",e))(hG||{}),er=(e=>(e.PERSONAL="personal",e.WORKSPACE="workspace",e))(er||{}),kd=(e=>(e.OWNER="account-owner",e.ADMIN="account-admin",e.STANDARD="standard-user",e))(kd||{}),Yte=(e=>(e.VERIFIED="verified",e.PENDING="pending",e.EXPIRED="expired",e))(Yte||{}),Kte=(e=>(e.PERCENTAGE="percentage",e.FIXED="fixed",e))(Kte||{}),Jte=(e=>(e.IMMEDIATE="immediate",e.TERM_END="term_end",e.DISCOUNT_END="discount_end",e))(Jte||{}),mn=(e=>(e.AceUpload="ace_upload",e.MyFiles="my_files",e.LibraryFiles="library_files",e.Multimodal="multimodal",e.ProfilePicture="profile_picture",e.Gizmo="agent",e.DalleAgent="dalle_agent",e.Codex="codex",e))(mn||{}),Or=(e=>(e.Initial="initial",e.FileCreated="file_created",e.FileUploaded="file_uploaded",e.FileProcessed="file_processed",e.RetrievalIndexCreated="retrieval_index_created",e))(Or||{}),rf=(e=>(e.Success="success",e.Retry="retry",e.Error="error",e))(rf||{}),Pl=(e=>(e.Success="success",e.Failed="failed",e.Processing="processing",e.Skipped="skipped",e))(Pl||{}),xe=(e=>(e.GDRIVE="gdrive",e.O365="o365",e.O365_PERSONAL="o365_personal",e.O365_BUSINESS="o365_business",e.CONFLUENCE="confluence",e.JIRA="java",e.NOTION_OPEN_CONNECTOR="notion_open_connector",e.SLACK_OPEN_CONNECTOR="slack_open_connector",e))(xe||{});const N={GDRIVE_ACTION_CONNECTOR:"gdrive_action_connector",GITHUB_CONNECTOR:"github_connector",LINEAR_CONNECTOR:"linear_connector",LINEAR_CODEX_BOT_CONNECTOR:"linear_codex_bot_connector",DROPBOX_CONNECTOR:"dropbox_connector",SHAREPOINT_CONNECTOR:"sharepoint_connector",GCAL_CONNECTOR:"google_calendar_connector",GMAIL_CONNECTOR:"gmail_connector",GOOGLE_CONTACTS_CONNECTOR:"google_contacts_connector",TEAMS_CONNECTOR:"teams_connector",OUTLOOK_CALENDAR_CONNECTOR:"outlook_calendar_connector",OUTLOOK_EMAIL_CONNECTOR:"outlook_email_connector",BOX_CONNECTOR:"box_connector",INTERCOM_CONNECTOR:"intercom_connector",NOTION_CONNECTOR:"notion_connector",HUBSPOT_CONNECTOR:"hubspot_connector",SALESFORCE_CONNECTOR:"salesforce_connector",AHA_CONNECTOR:"aha_connector",ASANA_CONNECTOR:"asana_connector",AZURE_DEVOPS_CONNECTOR:"azure_devops_connector",BASECAMP_CONNECTOR:"basecamp_connector",CLICKUP_CONNECTOR:"clickup_connector",FRESHDESK_CONNECTOR:"freshdesk_connector",FRESHSERVICE_CONNECTOR:"freshservice_connector",FRONT_CONNECTOR:"front_connector",GITLAB_CONNECTOR:"gitlab_connector",GORGIAS_CONNECTOR:"gorgias_connector",HELP_SCOUT_CONNECTOR:"help_scout_connector",IRONCLAD_CONNECTOR:"ironclad_connector",PIPEDRIVE_CONNECTOR:"pipedrive_connector",SALESFORCE_SERVICE_CLOUD_CONNECTOR:"salesforce_service_cloud_connector",SHORTCUT_CONNECTOR:"shortcut_connector",TEAMWORK_CONNECTOR:"teamwork_connector",ZENDESK_CONNECTOR:"zendesk_connector",ZOHO_CONNECTOR:"zoho_connector",ZOHO_DESK_CONNECTOR:"zoho_desk_connector",CANVA_CONNECTOR:"canva_connector",SLACK_CONNECTOR:"slack_connector",SLACK_CODEX_CONNECTOR:"slack_codex_connector",SLACK_CODEX_BOT_CONNECTOR:"slack_codex_bot_connector",UAE_PASS_CONNECTOR:"uae_pass_connector",SHAREPOINT_ADMIN_CONNECTOR:"sharepoint_admin_connector",TEAMS_ADMIN_CONNECTOR:"teams_admin_connector",CONFLUENCE_CONNECTOR:"confluence_connector",JIRA_CONNECTOR:"jira_connector",JIRA_SERVICEMANAGEMENT_CONNECTOR:"jira_servicemanagement_connector"};var Si=(e=>(e.MCP_CONNECTOR="mcp_connector",e))(Si||{}),qg=(e=>(e.GDRIVE_SYNC_CONNECTOR="gdrive_sync_connector",e.SLACK_SYNC_CONNECTOR="slack_sync_connector",e))(qg||{}),Jp=(e=>(e.GCAL_CONNECTOR="gcal_action_connector",e.GMAIL_CONNECTOR="gmail_action_connector",e.GOOGLE_CONTACTS_CONNECTOR="google_contacts_action_connector",e))(Jp||{}),Xte=(e=>(e.PAGE="page",e))(Xte||{}),Qte=(e=>(e.PAGE="page",e.DATABASE="database",e))(Qte||{}),Zte=(e=>(e.MESSAGE="message",e))(Zte||{}),a_=(e=>(e.PYTHON="python",e.RETRIEVAL="retrieval",e.BROWSER="browser",e.CANVAS="canvas",e.FUNCTION="function",e.DALLE="dalle",e.API="api",e.PARALLEL_BROWSE="parallel_browse",e.MEMORY="memory",e.CONTEXT_CONNECTOR="context_connector",e.JIT_PLUGIN="plugins_prototype",e.IMAGE_GEN="image_gen",e))(a_||{}),ene=(e=>(e.Gizmo="gizmo",e.Project="project",e.ShareableConversation="share_link",e.Conversation="conversation",e.Profile="profile",e.Message="message",e.Post="post",e.CommerceProduct="commerce_product",e.Connector="connector",e.CalpicoRoom="calpico_room",e))(ene||{}),tne=(e=>(e.UserName="user_name",e.UserEmail="user_email",e.EntityName="entity_name",e.EntityUrl="entity_url",e.SampleLongerInput="sample_longer_input",e.SampleUrl="sample_url_input",e.SampleIntInput="sample_int_input",e))(tne||{}),nne=(e=>(e.Calpico="calpico",e))(nne||{});const GUe={shouldnt_have_created:gn({id:"ImageGenFeedback.ShouldNotHaveCreated",defaultMessage:"Shouldn't have created an image"}),dont_like_style:gn({id:"ImageGenFeedback.DontLikeStyle",defaultMessage:"Don't like the style"}),didnt_fully_follow_instructions:gn({id:"ImageGenFeedback.DidntFollowInstructions",defaultMessage:"Didn't fully follow instructions"}),low_quality_or_distorted:gn({id:"ImageGenFeedback.LowQualityOrDistorted",defaultMessage:"Low quality or distorted"}),odd_cropping:gn({id:"ImageGenFeedback.OddCropping",defaultMessage:"Odd cropping"}),inaccurate_editing:gn({id:"ImageGenFeedback.InaccurateEditing",defaultMessage:"Inaccurate editing"}),inaccurate_text_rendering:gn({id:"ImageGenFeedback.InaccurateTextRendering",defaultMessage:"Inaccurate text rendering"}),unsafe_or_problematic:gn({id:"ImageGenFeedback.UnsafeOrProblematic",defaultMessage:"Unsafe or problematic"}),biased:gn({id:"ImageGenFeedback.Biased",defaultMessage:"Biased"}),other:gn({id:"ImageGenFeedback.Other",defaultMessage:"Other"})};var rne=(e=>(e.AUDIO_ISSUES="audio_issues",e.RESPONSE_QUALITY="response_quality",e.INTERRUPTIONS="interruptions",e.TRANSCRIPTION_ISSUES="transcription_issues",e.INAUDIBLE_ISSUES="inaudible_issues",e.OTHER="other",e))(rne||{});const WUe={audio_issues:gn({id:"VoiceFeedback.AudioIssues",defaultMessage:"Audio issues"}),response_quality:gn({id:"VoiceFeedback.ResponseQuality",defaultMessage:"I didn't like the responses"}),interruptions:gn({id:"VoiceFeedback.Interruptions",defaultMessage:"It interrupted me"}),transcription_issues:gn({id:"VoiceFeedback.TranscriptionIssues",defaultMessage:"It misheard me"}),inaudible_issues:gn({id:"VoiceFeedback.InaudibleIssues",defaultMessage:"It couldn't hear me"}),other:gn({id:"VoiceFeedback.Other",defaultMessage:"Other"})};var ine=(e=>(e.THUMBS_UP="thumbs_up",e.THUMBS_DOWN="thumbs_down",e))(ine||{}),sne=(e=>(e.Auto="auto",e.Arabic="ar",e.Bosnian="bs",e.Bulgarian="bg",e.Catalan="ca",e.Chinese="zh",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.English="en",e.Finnish="fi",e.French="fr",e.Galician="gl",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Macedonian="mk",e.Malay="ms",e.Norwegian="no",e.Polish="pl",e.Portuguese="pt",e.Romanian="ro",e.Russian="ru",e.Slovak="sk",e.Spanish="es",e.Tagalog="tl",e.Tamil="ta",e.Thai="th",e.Turkish="tr",e.Swedish="sv",e.Ukrainian="uk",e.Vietnamese="vi",e))(sne||{});const qUe="warm",VUe=["new_chat","switch_to_standard","ok","upgrade_to_plus","upgrade_to_pro"],Zv="account_switch",ey="error",$Ue=Vte({email:mP(),token:mP()});var one=(e=>(e.InvalidProof="invalid_proof",e.ExternalAccountAlreadyLinked="external_account_already_linked",e.InternalAccountAlreadyLinked="account_already_linked",e.UnsupportedPlatform="unsupported_platform",e.UnsupportedPlanType="unsupported_plan_type",e.SessionExpired="user_session_expired",e))(one||{});function HUe(e){if(typeof e!="object"||e==null)return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function zUe(e){return e!=null}const ane=(e,t)=>e.includes(t),cne=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},YUe=(e,t=[])=>n=>cne(n,e,t),lne=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,une=(e,t)=>{const n=lne(e),r={};for(const i in t)r[i]=t[i](n==null?void 0:n[i]);return r},KUe=e=>t=>une(t,e),JUe=(e,t="")=>typeof e=="object"||e==null?t:String(e),XUe=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},dne=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},FT=(e,t,n=t[0])=>ane(t,e)?e:n,fne=(e,t=e[0])=>n=>FT(n,e,t),QUe=e=>t=>t===void 0?void 0:e(t),ZUe=e=>t=>t==null?null:e(t),hne=e=>$e(e,"506294923");function Vg(e,t){switch(t){case"gpt-4o":return hr(e).checkGate("1627380539");default:return!1}}const c_=ut(()=>Ic(()=>({modals:[],nextKey:1})));function Di(e,t,n){c_(e).setState(r=>{const i=r.modals.find(s=>s.ModalComponent===t);return i?{modals:[...r.modals.filter(s=>s.ModalComponent!==t),{key:i.key,ModalComponent:t,props:n}]}:{modals:[...r.modals,{key:r.nextKey,ModalComponent:t,props:n}],nextKey:r.nextKey+1}})}function nA(e,t){c_(e).setState(n=>({modals:n.modals.filter(r=>r.ModalComponent!==t)}))}function eBe(e,t){return c_(e).getState().modals.some(n=>n.ModalComponent===t)}const pne=E.memo(function({modal:{ModalComponent:t,props:n}}){const r=re();return _.jsx(t,I(S({},n),{onClose:()=>{var i;(i=n==null?void 0:n.onClose)==null||i.call(n),nA(r,t)}}))});function gne(){const e=re(),t=c_(e),n=Xf(t,r=>r.modals);return _.jsx(_.Fragment,{children:n.map(r=>_.jsx(pne,{modal:r},r.key))})}const pG=()=>{},mne=()=>pG;function _ne(e,t=pG){return E.useSyncExternalStore(mne,e,t)}function l_(){return _ne(()=>!0,()=>!1)}function vne(){return null}function B(e,t){const n=async()=>{var c;try{const l=await e();return"default"in l?l:{default:l}}catch(l){return Q.addAction("Failed importing dynamic component",{error:l}),{default:(c=t==null?void 0:t.fallback)!=null?c:vne}}},r=E.lazy(n),i=t==null?void 0:t.loading;function s(c){const[l]=E.useState(()=>a);return l_()?l?_.jsx(l,S({},c)):_.jsx(E.Suspense,{fallback:i==null?null:_.jsx(i,S({},c)),children:_.jsx(r,S({},c))}):i!=null?_.jsx(i,S({},c)):null}let o,a;return s.prefetch=()=>(o||(o=n().then(c=>{a=c.default})),o),s}const yne=B(()=>k(()=>import("./bhsxm93weg9c2utr.js"),__vite__mapDeps([0,1])).then(e=>e.AllWorkspacesBlockedModal));function Cne(e,t){Di(e,yne,{userEmail:t})}var bne={};const Ene=window.location.origin+"/backend/se";var cB,lB;const tBe=(lB=(cB=bne.VITE_VZA493Q_SERVICE_URL)!=null?cB:"https://operator.chatgpt.com")!=null?lB:"https://operator.chatgpt.com",Fs="personal",gG=3600*24*90,nBe=Tt({signUpButtonText:{id:"Kiuf8K",defaultMessage:"Sign up"},logInButtonText:{id:"Yx8BXg",defaultMessage:"Log in"},cancelButtonText:{id:"DR1Cxg",defaultMessage:"Cancel"},continueButtonText:{id:"bT1n8o",defaultMessage:"Continue"},gotItButtonText:{id:"Eomb3Y",defaultMessage:"Got it"},stayLoggedOut:{id:"JpuO4U",defaultMessage:"Stay logged out"},somethingWentWrong:{id:"SJ1B8J",defaultMessage:"Something went wrong. Please try again later"},getPlus:{id:"nPUS9f",defaultMessage:"Get Plus"},getPro:{id:"MC/MAr",defaultMessage:"Get Pro"},getBusiness:{id:"V3AJYL",defaultMessage:"Get Business"},tryPlus:{id:"lhUk0N",defaultMessage:"Try Plus"},tryBusiness:{id:"D5Q+Xo",defaultMessage:"Try Business"},tryGo:{id:"OkPnQG",defaultMessage:"Try Go"},upgradeToPlus:{id:"LIJKv1",defaultMessage:"Upgrade to Plus"},upgradeToPro:{id:"U92S4K",defaultMessage:"Upgrade to Pro"},upgradeToGo:{id:"xbeQTB",defaultMessage:"Upgrade to Go"},joinGo:{id:"w4EEKa",defaultMessage:"Join Go"},joinPlus:{id:"HmtUzT",defaultMessage:"Join Plus"},joinPro:{id:"Ehp9lH",defaultMessage:"Join Pro"},unlockGo:{id:"C3xzfi",defaultMessage:"Unlock Go"},unlockPlus:{id:"W3hk8e",defaultMessage:"Unlock Plus"},unlockPro:{id:"TXstaY",defaultMessage:"Unlock Pro"},longCtaPlus:{id:"kp6hSg",defaultMessage:"Get better, faster answers"},longCtaPro:{id:"SEKq+P",defaultMessage:"Unlock all of ChatGPT"},upgradeYourPlan:{id:"aWGaHN",defaultMessage:"Upgrade your plan"},upgradePlan:{id:"N8cHz1",defaultMessage:"Upgrade plan"},upgrade:{id:"0CZNA2",defaultMessage:"Upgrade"},upgradeForFree:{id:"c1Drc7",defaultMessage:"Upgrade for free"},featureProjectsTasksCustomGPTs:{id:"pricing.plusRedesign.feature.projectsTasksCustomGPTs",defaultMessage:"Projects, tasks, custom GPTs"},maybeLater:{id:"common-message.maybeLater",defaultMessage:"Maybe later"},dismissUpgradeReminder:{id:"common-message.dismissUpgradeReminder",defaultMessage:"Dismiss upgrade reminder"},confirm:{id:"common-message.confirm",defaultMessage:"Confirm"},cancel:{id:"common-message.cancel",defaultMessage:"Cancel"},tryPlusTrial:{id:"common-message.tryPlusFree",defaultMessage:"Try Plus free"},tryGoTrial:{id:"common-message.tryGoFree",defaultMessage:"Try Go free"},chatGPT:{id:"common-message.chatGPT",defaultMessage:"ChatGPT"},connect:{id:"common-message.connect",defaultMessage:"Connect"},notApplicable:{id:"common-message.notApplicable",defaultMessage:"N/A"},contactSales:{id:"common-message.contactSales",defaultMessage:"Contact Sales"},close:{id:"common-message.close",defaultMessage:"Close"},specialOffer:{id:"pricingPlanConstants.specialOffer",defaultMessage:"SPECIAL OFFER"},title:{id:"meta.title",defaultMessage:"ChatGPT | Smart, Fast & Free AI Chat"},planNameGo:{id:"common-message.planNameGo",defaultMessage:"Go"},planNamePlus:{id:"common-message.planNamePlus",defaultMessage:"Plus"},planNamePro:{id:"common-message.planNamePro",defaultMessage:"Pro"},planNameBusiness:{id:"common-message.planNameBusiness",defaultMessage:"Business"}});var Sne=(e=>(e.APPLE="apple",e))(Sne||{});const One="gpt-4o",rBe=One;var Tne=(e=>(e.NoAuthPlan="ifpazk",e))(Tne||{}),wne=(e=>(e.Go="zkl",e.Plus="ioaj",e.Pro="1k0d2",e.Business="oicnw",e))(wne||{}),mG=(e=>(e.GPT_3_5="gpt3.5",e.GPT_4="gpt4",e.GPT_4o="gpt4o",e.HIDDEN="hidden",e))(mG||{});const rA="WEB:",iBe="".concat(rA,":DUMMY");var Ane=(e=>(e.Next="next",e.Variant="variant",e.Continue="continue",e))(Ane||{}),Ke=(e=>(e.Root="root",e.User="user",e.Assistant="assistant",e.System="system",e.Critic="critic",e.Tool="tool",e.Developer="developer",e))(Ke||{}),zs=(e=>(e.PrimaryAssistant="primary_assistant",e.GizmoInteraction="gizmo_interaction",e.GizmoMagicCreate="gizmo_magic_create",e.GizmoTest="gizmo_test",e.FlyingCircusCustomization="flying_circus_customization",e))(zs||{});const it={Web:"web",Cloud:"cloud",GitHub:"github",GoogleDrive:"google_drive",GoogleCalendar:"google_calendar",Gmail:"gmail",GoogleContacts:"google_contacts",Dropbox:"dropbox",Linear:"linear",Sharepoint:"sharepoint",Teams:"teams",OutlookEmail:"outlook_email",OutlookCalendar:"outlook_calendar",Box:"box",Intercom:"intercom",Hubspot:"hubspot",Salesforce:"salesforce",Aha:"aha",Asana:"asana",AzureDevOps:"azure_devops",Basecamp:"basecamp",Clickup:"clickup",Freshdesk:"freshdesk",Freshservice:"freshservice",Front:"front",Gitlab:"gitlab",Gorgias:"gorgias",HelpScout:"help_scout",Ironclad:"ironclad",Pipedrive:"pipedrive",SalesforceServiceCloud:"salesforce_service_cloud",Shortcut:"shortcut",Teamwork:"teamwork",Zendesk:"zendesk",Zoho:"zoho",ZohoDesk:"zoho_desk",Canva:"canva",Notion:"notion",Slack:"slack",Confluence:"confluence",Jira:"jira",JiraServiceManagement:"jira_servicemanagement"};var xne=(e=>(e.None="none",e.OAuth="oauth",e.ServiceHTTP="service_http",e))(xne||{}),Ine=(e=>(e.CONVERSATION="conversation",e.REGENERATE="regenerate",e))(Ine||{}),Nne=(e=>(e.UNSUPPORTED_ATTACHMENT="unsupported_attachment",e.UNSUPPORTED_AUDIO="unsupported_audio",e.UNSUPPORTED_IMAGE="unsupported_image",e.UNSUPPORTED_TOOL_USE="unsupported_tool_use",e.UNSUPPORTED_GIZMO="unsupported_gizmo",e.UNSUPPORTED_CUSTOM_INSTRUCTIONS="unsupported_custom_instructions",e.UNSUPPORTED_TEMPORARY_CHAT="unsupported_temporary_chat",e.UNSUPPORTED_CANVAS="unsupported_canvas",e))(Nne||{}),Rne=(e=>(e.RATE_LIMIT="rate_limit",e))(Rne||{}),qe=(e=>(e.Text="text",e.MultimodalText="multimodal_text",e.StructuredThoughts="thoughts",e.ReasoningRecap="reasoning_recap",e.TetherBrowsingCode="tether_browsing_code",e.Code="code",e.ExecutionOutput="execution_output",e.SystemError="system_error",e.SystemMessage="system_message",e.SystemContent="system_content",e.DeveloperContent="developer_content",e.TetherBrowsingDisplay="tether_browsing_display",e.TetherQuote="tether_quote",e.UserEditableContext="user_editable_context",e.ModelEditableContext="model_editable_context",e.SonicWebpage="sonic_webpage",e.ComputerOutput="computer_output",e.Error="error",e.SuperWidget="super_widget",e.CitableCodeOutput="citable_code_output",e))(qe||{}),Bn=(e=>(e.Audio="audio",e.AudioAssetPointer="audio_asset_pointer",e.ImageAssetPointer="image_asset_pointer",e.Image="image",e.AudioTranscription="audio_transcription",e.RealTimeUserAudioVideoAssetPointer="real_time_user_audio_video_asset_pointer",e.SimpleImageAssetPointer="simple_image_asset_pointer",e.ArbitraryAssetPointer="arbitrary_asset_pointer",e.VideoAssetPointer="video_asset_pointer",e))(Bn||{}),sf=(e=>(e.Picker="Picker",e.Link="Link",e))(sf||{}),Zr=(e=>(e.SEND="send",e.GIZMO_TAG="gizmo_tag",e.FILE_UPLOAD="file_upload",e.REASON="reason",e.DEEP_RESEARCH="deep_research",e.IMAGE_GEN="image_gen",e.WHAM="wham",e.ODYSSEY="odyssey",e))(Zr||{}),Pne=(e=>(e.AUTHENTICATE="authenticate",e.AUTHENTICATE_SECONDARY="authenticate_secondary",e.NEW_CHAT="new_chat",e.DEEP_RESEARCH_IN_CONTEXT_UPSELL="deep_research_in_context_upsell",e.TRY_CODEX="try_codex",e.TRY_TATERTOT="try_tatertot",e.NOTIFY_ADMIN_FOR_CREDITS="notify_admin_for_credits",e.ADD_CREDITS="add_credits",e.CONNECT_CONNECTOR="connect_connector",e.UPGRADE_TO_GO="upgrade_to_go",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.GET_BUSINESS_TRIAL="get_business_trial",e.GET_PLUS_TRIAL="get_plus_trial",e.GET_GO_TRIAL="get_go_trial",e))(Pne||{}),iA=(e=>(e.DEEP_RESEARCH="deep_research",e.ODYSSEY="odyssey",e))(iA||{}),kne=(e=>(e.VIEW="view",e.CLICK="click",e.DISMISS="dismiss",e))(kne||{}),Mne=(e=>(e.FILE_UPLOAD="file_upload",e.PHOTO_UPLOAD="photo_upload",e.AUTHENTICATE_LOGIN="authenticate_login",e.AUTHENTICATE_SIGNUP="authenticate_signup",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.SYSTEM_HINT="system_hint",e.DISMISS="dismiss",e.GET_GO="get_go",e.GET_TEAM="get_team",e.INVITE_TEAM_MEMBERS="invite_team_members",e.OPEN_URL="open_url",e.OPEN_LOCAL_URL="open_local_url",e.COPY_TO_CLIPBOARD="copy_to_clipboard",e.SHARE_CONVERSATION="share_conversation",e.CREATE_PROMPT="create_prompt",e.UPDATE_PERSONALITY_TRAIT="update_personality_trait",e.DROPDOWN="dropdown",e.REGENERATE="regenerate",e.OPEN_CONNECTORS_ONBOARDING_MODAL="open_connectors_onboarding_modal",e))(Mne||{}),Dne=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.COPY="copy",e.DROPDOWN="dropdown",e))(Dne||{}),UT=(e=>(e.SystemHint="systemHint",e.EcosystemMention="ecosystemMention",e))(UT||{});function sBe(e){return"start_index"in e?{startIndex:e.start_index,endIndex:e.end_index,symbol:e.symbol}:e}var Lne=(e=>(e.InstantQuery="instant_query",e.ComposerSearch="composer_search",e.UrlSearch="url_search",e))(Lne||{}),jne=(e=>(e.ONLY_ME="only_me",e.OPENAI="openai",e.EXTERNAL="external",e))(jne||{}),Fne=(e=>(e.RiskyDomainNotWatching="risky_domain_not_watching",e.UserInterrupted="user_interrupted",e.MaliciousInstructionDetected="malicious_instruction_detected",e.ModerationBlocked="moderation_blocked",e.Unknown="unknown",e))(Fne||{}),Une=(e=>(e.ToolWeb="tool:web",e.Onboarding="onboarding",e.AppPairing="tool:app-pairing",e.IPL="campaign:ipl",e))(Une||{}),_G=(e=>(e.Search="search",e.Canvas="canvas",e.ImageGen="image_gen_tool_enabled",e))(_G||{}),vG=(e=>(e.Search="search",e.Click="click",e.MultiClick="mclick",e.Lookup="lookup",e.OpenUrl="open_url",e.Open="open",e.Quote="quote",e.QuoteFull="quote_full",e.QuoteLines="quote_lines",e.Back="back",e.Scroll="scroll",e.Spinner="spinner",e))(vG||{}),Bne=(e=>(e.Bing="bing",e.Fortis="fortis",e))(Bne||{}),Gne=(e=>(e.Starting="starting",e.Running="running",e.Done="done",e.Timeout="timeout",e.Error="error",e.Cancelled="cancelled",e))(Gne||{}),Wne=(e=>(e.AUTO="auto",e.GPT5="gpt-5",e.GPT5_PRO="gpt-5-pro",e))(Wne||{}),gr=(e=>(e.AUTO="auto",e.ON="reasoning",e.OFF="none",e.PRO="pro",e))(gr||{});const sA="agent",qne="~oai~s1~";function Vne(e){let t=2166136261;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);t=Math.imul(t^i&255,16777619),t=Math.imul(t^i&65280,16777619)}return t>>>0}function Po(e,t){if(typeof e!="number")throw new Error("Unexpected: ".concat(e));return t!=null&&e===$ne(t)}const _P={};function $ne(e){var t;return(t=_P[e])!=null?t:_P[e]=Vne(qne+e)}const oBe="n7jupd",yG="-0dy553y",Hne=1338619165;function CG(e){return Po(Hne,e+yG)}const zne=3675352570;function aBe(e){return Po(zne,e+yG)}var Yne=(e=>(e[e.Setup=0]="Setup",e[e.Random=1]="Random",e[e.Animation=2]="Animation",e[e.Done=3]="Done",e[e.Thinking=4]="Thinking",e[e.KAUR1BR5=5]="KAUR1BR5",e[e.Research=6]="Research",e[e.Autoswitch=7]="Autoswitch",e))(Yne||{});const ae={Search:"search",Think:"reason",Research:"research",Canvas:"canvas",Picture:"picture",PictureV2:"picture_v2",Video:"video",Slurm:"slurm",ApiTool:"api_tool",Pineapple:"pineapple",Moonshine:"moonshine",Tatertot:"tatertot",Agent:"agent",Glaux:"glaux"},oA="synthetic_connector";function kl(e){return e===oA}function Kne(e){return Object.values(ae).includes(e)}function Jne(e){return Kne(e)?e:Qne[e]}const Xne="study",Qne={connectors:ae.Slurm,image:ae.PictureV2,think:ae.Think,[Xne]:ae.Tatertot,"company-knowledge":ae.Glaux};function $g(e){return typeof e=="string"&&e.startsWith("connector:")}function bG(e){return"connector:".concat(e)}function cBe(e){if($g(e))return Zne(e)}function Zne(e){return e.split("connector:")[1]}var EG=Symbol.for("immer-nothing"),vP=Symbol.for("immer-draftable"),yt=Symbol.for("immer-state");function Jr(e,...t){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Xl=Object.getPrototypeOf;function Ql(e){return!!e&&!!e[yt]}function Ys(e){var t;return e?SG(e)||Array.isArray(e)||!!e[vP]||!!((t=e.constructor)!=null&&t[vP])||d_(e)||f_(e):!1}var ere=Object.prototype.constructor.toString();function SG(e){if(!e||typeof e!="object")return!1;const t=Xl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===ere}function Zl(e,t){u_(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function u_(e){const t=e[yt];return t?t.type_:Array.isArray(e)?1:d_(e)?2:f_(e)?3:0}function BT(e,t){return u_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function OG(e,t,n){const r=u_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function tre(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function d_(e){return e instanceof Map}function f_(e){return e instanceof Set}function wn(e){return e.copy_||e.base_}function GT(e,t){if(d_(e))return new Map(e);if(f_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&SG(e))return Xl(e)?S({},e):Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[yt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Xl(e),n)}function aA(e,t=!1){return h_(e)||Ql(e)||!Ys(e)||(u_(e)>1&&(e.set=e.add=e.clear=e.delete=nre),Object.freeze(e),t&&Zl(e,(n,r)=>aA(r,!0))),e}function nre(){Jr(2)}function h_(e){return Object.isFrozen(e)}var WT={};function gc(e){const t=WT[e];return t||Jr(0,e),t}function rre(e,t){WT[e]||(WT[e]=t)}var of;function Hg(){return of}function ire(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yP(e,t){t&&(gc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qT(e){VT(e),e.drafts_.forEach(sre),e.drafts_=null}function VT(e){e===of&&(of=e.parent_)}function CP(e){return of=ire(of,e)}function sre(e){const t=e[yt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[yt].modified_&&(qT(t),Jr(4)),Ys(e)&&(e=zg(t,e),t.parent_||Yg(t,e)),t.patches_&&gc("Patches").generateReplacementPatches_(n[yt].base_,e,t.patches_,t.inversePatches_)):e=zg(t,n,[]),qT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==EG?e:void 0}function zg(e,t,n){if(h_(t))return t;const r=t[yt];if(!r)return Zl(t,(i,s)=>EP(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Yg(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Zl(s,(a,c)=>EP(e,r,i,a,c,n,o)),Yg(e,i,!1),n&&e.patches_&&gc("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function EP(e,t,n,r,i,s,o){if(Ql(i)){const a=s&&t&&t.type_!==3&&!BT(t.assigned_,r)?s.concat(r):void 0,c=zg(e,i,a);if(OG(n,r,c),Ql(c))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Ys(i)&&!h_(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zg(e,i),(!t||!t.scope_.parent_)&&Yg(e,i)}}function Yg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aA(t,n)}function ore(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Hg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=cA;n&&(i=[r],s=af);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var cA={get(e,t){if(t===yt)return e;const n=wn(e);if(!BT(n,t))return are(e,n,t);const r=n[t];return e.finalized_||!Ys(r)?r:r===ty(e.base_,t)?(ny(e),e.copy_[t]=cf(r,e)):r},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,n){const r=TG(wn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ty(wn(e),t),s=i==null?void 0:i[yt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(tre(n,i)&&(n!==void 0||BT(e.base_,t)))return!0;ny(e),xs(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ty(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ny(e),xs(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=wn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Jr(11)},getPrototypeOf(e){return Xl(e.base_)},setPrototypeOf(){Jr(12)}},af={};Zl(cA,(e,t)=>{af[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});af.deleteProperty=function(e,t){return af.set.call(this,e,t,void 0)};af.set=function(e,t,n){return cA.set.call(this,e[0],t,n,e[0])};function ty(e,t){const n=e[yt];return(n?wn(n):e)[t]}function are(e,t,n){var i;const r=TG(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function TG(e,t){if(!(t in e))return;let n=Xl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xl(n)}}function xs(e){e.modified_||(e.modified_=!0,e.parent_&&xs(e.parent_))}function ny(e){e.copy_||(e.copy_=GT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cre=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(c=s,...l){return o.produce(c,u=>n.call(this,u,...l))}}typeof n!="function"&&Jr(6),r!==void 0&&typeof r!="function"&&Jr(7);let i;if(Ys(t)){const s=CP(this),o=cf(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?qT(s):VT(s)}return yP(s,r),bP(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===EG&&(i=void 0),this.autoFreeze_&&aA(i,!0),r){const s=[],o=[];gc("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Jr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ys(e)||Jr(8),Ql(e)&&(e=lre(e));const t=CP(this),n=cf(e,void 0);return n[yt].isManual_=!0,VT(t),n}finishDraft(e,t){const n=e&&e[yt];(!n||!n.isManual_)&&Jr(9);const{scope_:r}=n;return yP(r,t),bP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=gc("Patches").applyPatches_;return Ql(e)?r(e,t):this.produce(e,i=>r(i,t))}};function cf(e,t){const n=d_(e)?gc("MapSet").proxyMap_(e,t):f_(e)?gc("MapSet").proxySet_(e,t):ore(e,t);return(t?t.scope_:Hg()).drafts_.push(n),n}function lre(e){return Ql(e)||Jr(10,e),wG(e)}function wG(e){if(!Ys(e)||h_(e))return e;const t=e[yt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=GT(e,t.scope_.immer_.useStrictShallowCopy_)}else n=GT(e,!0);return Zl(n,(r,i)=>{OG(n,r,wG(i))}),t&&(t.finalized_=!1),n}function ure(){class e extends Map{constructor(c,l){super(),this[yt]={type_:2,parent_:l,scope_:l?l.scope_:Hg(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return wn(this[yt]).size}has(c){return wn(this[yt]).has(c)}set(c,l){const u=this[yt];return o(u),(!wn(u).has(c)||wn(u).get(c)!==l)&&(n(u),xs(u),u.assigned_.set(c,!0),u.copy_.set(c,l),u.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const l=this[yt];return o(l),n(l),xs(l),l.base_.has(c)?l.assigned_.set(c,!1):l.assigned_.delete(c),l.copy_.delete(c),!0}clear(){const c=this[yt];o(c),wn(c).size&&(n(c),xs(c),c.assigned_=new Map,Zl(c.base_,l=>{c.assigned_.set(l,!1)}),c.copy_.clear())}forEach(c,l){const u=this[yt];wn(u).forEach((d,f,h)=>{c.call(l,this.get(f),f,this)})}get(c){const l=this[yt];o(l);const u=wn(l).get(c);if(l.finalized_||!Ys(u)||u!==l.base_.get(c))return u;const d=cf(u,l);return n(l),l.copy_.set(c,d),d}keys(){return wn(this[yt]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const l=c.next();return l.done?l:{done:!1,value:this.get(l.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const l=c.next();if(l.done)return l;const u=this.get(l.value);return{done:!1,value:[l.value,u]}}}}[Symbol.iterator](){return this.entries()}}function t(a,c){return new e(a,c)}function n(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class r extends Set{constructor(c,l){super(),this[yt]={type_:3,parent_:l,scope_:l?l.scope_:Hg(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return wn(this[yt]).size}has(c){const l=this[yt];return o(l),l.copy_?!!(l.copy_.has(c)||l.drafts_.has(c)&&l.copy_.has(l.drafts_.get(c))):l.base_.has(c)}add(c){const l=this[yt];return o(l),this.has(c)||(s(l),xs(l),l.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const l=this[yt];return o(l),s(l),xs(l),l.copy_.delete(c)||(l.drafts_.has(c)?l.copy_.delete(l.drafts_.get(c)):!1)}clear(){const c=this[yt];o(c),wn(c).size&&(s(c),xs(c),c.copy_.clear())}values(){const c=this[yt];return o(c),s(c),c.copy_.values()}entries(){const c=this[yt];return o(c),s(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,l){const u=this.values();let d=u.next();for(;!d.done;)c.call(l,d.value,d.value,this),d=u.next()}}function i(a,c){return new r(a,c)}function s(a){a.copy_||(a.copy_=new Set,a.base_.forEach(c=>{if(Ys(c)){const l=cf(c,a);a.drafts_.set(c,l),a.copy_.add(l)}else a.copy_.add(c)}))}function o(a){a.revoked_&&Jr(3,JSON.stringify(wn(a)))}rre("MapSet",{proxyMap_:t,proxySet_:i})}var Pr=new cre,mi=Pr.produce;Pr.produceWithPatches.bind(Pr);Pr.setAutoFreeze.bind(Pr);Pr.setUseStrictShallowCopy.bind(Pr);Pr.applyPatches.bind(Pr);Pr.createDraft.bind(Pr);Pr.finishDraft.bind(Pr);const dre=e=>(t,n,r)=>(r.setState=(i,s,...o)=>{const a=typeof i=="function"?mi(i):i;return t(a,s,...o)},e(r.setState,n,r)),vu=dre,fre={bannerInfo:null,modelLimits:[],blockedFeatures:[],isInitialLoad:!0,limitsProgress:[]},Oi=ir(vu(()=>S({},fre))),lA={[ae.Research]:Zr.DEEP_RESEARCH,[ae.PictureV2]:Zr.IMAGE_GEN,[ae.Think]:Zr.REASON};lA[sA]=Zr.ODYSSEY;const lBe=e=>{var t;return CG(e)?Zr.ODYSSEY:(t=lA[e])!=null?t:null},uBe=e=>{for(const[t,n]of Object.entries(lA))if(n===e)return t;return null},hre={[ae.Research]:iA.DEEP_RESEARCH};function pre(e){var t;return CG(e)?iA.ODYSSEY:(t=hre[e])!=null?t:null}function Ks(e){return new Date(e.resets_after)>new Date}const dBe=e=>{var r,i;const t=((i=(r=e.model_limits)==null?void 0:r.filter(Ks))!=null?i:[]).map(s=>s.model_slug),n=new Set(Oi.getState().modelLimits.filter(Ks).map(s=>s.model_slug));return t.length!==n.size||!t.every(s=>n.has(s))},gre={updateDetails:({banner_info:e,model_limits:t,blocked_features:n,limits_progress:r})=>{Oi.setState(i=>{i.bannerInfo=e,i.isInitialLoad=!1,i.blockedFeatures=i.blockedFeatures.concat(n).filter(Ks),i.modelLimits=i.modelLimits.concat(t!=null?t:[]).filter(Ks),i.limitsProgress=r!=null?r:[]})},dismissBanner:()=>{Oi.setState(e=>{e.bannerInfo=null})},reset:()=>{Oi.setState(e=>{e.blockedFeatures=[],e.bannerInfo=null})}};function fBe(){return Oi(({bannerInfo:e})=>{const{resets_after:t}=e!=null?e:{};return!e||t!=null&&!Ks({resets_after:t})?null:e})}function p_(e){return Oi(({blockedFeatures:t})=>{if(!e)return null;const n=t.find(({name:r})=>r===e);return n&&Ks(n)?n:null})}function mre(){return p_(Zr.SEND)}function hBe(){return!!mre()}function pBe(){return p_(Zr.FILE_UPLOAD)}function gBe(){return p_(Zr.GIZMO_TAG)}function mBe(){return p_(Zr.DEEP_RESEARCH)}function _Be(){return Oi(({modelLimits:t})=>t).filter(Ks)}const _re=Be(()=>r_(Oi,{selector:e=>e.modelLimits.filter(Ks)}));function vre(e){return Oi(({limitsProgress:n})=>n).filter(n=>e(I(S({},n),{bySystemHint:r=>n.feature_name===pre(r)})))[0]}function vBe(){return Oi(({blockedFeatures:t})=>t).filter(Ks)}const yre=ir(()=>null),Cre=ir(()=>null);var AG=(e=>(e.UnexpectedSSOLogin="unexpected_sso_login",e.SSOMismatch="sso_mismatch",e.RequireSSOLogin="require_sso_login",e))(AG||{});const bre=Object.freeze(new Set(Object.values(AG)));function Ere(e){return e?bre.has(e):!1}const Sre=ir(()=>null),SP=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},oh="en-US",yBe=["am","ar","bg-BG","bn-BD","bs-BA","ca-ES","cs-CZ","da-DK","de-DE","el-GR","en-US","es-419","es-ES","et-EE","fi-FI","fr-CA","fr-FR","gu-IN","hi-IN","hr-HR","hu-HU","hy-AM","id-ID","is-IS","it-IT","ja-JP","ka-GE","kk","kn-IN","ko-KR","lt","lv-LV","mk-MK","ml","mn","mr-IN","ms-MY","my-MM","nb-NO","nl-NL","pa","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","so-SO","sq-AL","sr-RS","sv-SE","sw-TZ","ta-IN","te-IN","th-TH","tl","tr-TR","uk-UA","ur","vi-VN","zh-CN","zh-HK","zh-TW"],Ore=["es-419","fr-FR","zh-TW"],CBe={am:"áŠ áˆ›áˆ­áŠ›",ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©","bg-BG":"Ð±ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸","bn-BD":"à¦¬à¦¾à¦‚à¦²à¦¾","bs-BA":"bosanski","ca-ES":"catalÃ ","cs-CZ":"ÄeÅ¡tina","da-DK":"dansk","de-DE":"Deutsch","el-GR":"Î•Î»Î»Î·Î½Î¹ÎºÎ¬","en-US":"English (US)","es-419":"espaÃ±ol (LatinoamÃ©rica)","es-ES":"espaÃ±ol (EspaÃ±a)","et-EE":"eesti","fi-FI":"suomi","fr-CA":"franÃ§ais (Canada)","fr-FR":"franÃ§ais (France)","gu-IN":"àª—à«àªœàª°àª¾àª¤à«€","hi-IN":"à¤¹à¤¿à¤¨à¥à¤¦à¥€","hr-HR":"hrvatski","hu-HU":"magyar","hy-AM":"Õ°Õ¡ÕµÕ¥Ö€Õ¥Õ¶","id-ID":"Indonesia","is-IS":"Ã­slenska","it-IT":"italiano","ja-JP":"æ—¥æœ¬èªž","ka-GE":"áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜",kk:"Ò›Ð°Ð·Ð°Ò› Ñ‚Ñ–Ð»Ñ–","kn-IN":"à²•à²¨à³à²¨à²¡","ko-KR":"í•œêµ­ì–´",lt:"lietuviÅ³","lv-LV":"latvieÅ¡u","mk-MK":"Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸",ml:"à´®à´²à´¯à´¾à´³à´‚",mn:"Ð¼Ð¾Ð½Ð³Ð¾Ð»","mr-IN":"à¤®à¤°à¤¾à¤ à¥€","ms-MY":"Bahasa Melayu","my-MM":"á€™á€¼á€”á€ºá€™á€¬","nb-NO":"norsk bokmÃ¥l","nl-NL":"Nederlands",pa:"à¨ªà©°à¨œà¨¾à¨¬à©€","pl-PL":"polski","pt-BR":"portuguÃªs (Brasil)","pt-PT":"portuguÃªs (Portugal)","ro-RO":"romÃ¢nÄƒ","ru-RU":"Ñ€ÑƒÑÑÐºÐ¸Ð¹","sk-SK":"slovenÄina","sl-SI":"slovenÅ¡Äina","so-SO":"Soomaali","sq-AL":"shqip","sr-RS":"ÑÑ€Ð¿ÑÐºÐ¸","sv-SE":"svenska","sw-TZ":"Kiswahili","ta-IN":"à®¤à®®à®¿à®´à¯","te-IN":"à°¤à±†à°²à±à°—à±","th-TH":"à¹„à¸—à¸¢",tl:"Tagalog","tr-TR":"TÃ¼rkÃ§e","uk-UA":"ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",ur:"Ø§Ø±Ø¯Ùˆ","vi-VN":"Tiáº¿ng Viá»‡t","zh-CN":"ç®€ä½“ä¸­æ–‡","zh-HK":"ç¹é«”ä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰","zh-TW":"ç¹é«”ä¸­æ–‡ï¼ˆå°ç£ï¼‰"};function Tre(){return Array.from(new Set(Object.values(hd)))}const hd={am:"am",ar:"ar",bg:"bg-BG","bg-bg":"bg-BG",bn:"bn-BD","bn-bd":"bn-BD",bs:"bs-BA","bs-ba":"bs-BA",ca:"ca-ES","ca-es":"ca-ES",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",el:"el-GR","el-gr":"el-GR",en:"en-US","en-us":"en-US",es:"es-ES","es-es":"es-ES","es-419":"es-419","es-ar":"es-419","es-bo":"es-419","es-br":"es-419","es-bz":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419","es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-jp":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419",et:"et-EE","et-ee":"et-EE",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-ca":"fr-CA","fr-fr":"fr-FR",gu:"gu-IN","gu-in":"gu-IN",hi:"hi-IN","hi-in":"hi-IN",hr:"hr-HR","hr-hr":"hr-HR",hu:"hu-HU","hu-hu":"hu-HU",hy:"hy-AM","hy-am":"hy-AM",id:"id-ID","id-id":"id-ID",is:"is-IS","is-is":"is-IS",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ka:"ka-GE","ka-ge":"ka-GE",kk:"kk",kn:"kn-IN","kn-in":"kn-IN",ko:"ko-KR","ko-kr":"ko-KR",lt:"lt",lv:"lv-LV","lv-lv":"lv-LV",mk:"mk-MK","mk-mk":"mk-MK",ml:"ml",mn:"mn",mr:"mr-IN","mr-in":"mr-IN",ms:"ms-MY","ms-my":"ms-MY",my:"my-MM","my-mm":"my-MM",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL","nl-nl":"nl-NL",pa:"pa",pl:"pl-PL","pl-pl":"pl-PL",pt:"pt-BR","pt-br":"pt-BR","pt-pt":"pt-PT","pt-ao":"pt-PT","pt-ch":"pt-PT","pt-cv":"pt-PT","pt-fr":"pt-PT","pt-gq":"pt-PT","pt-gw":"pt-PT","pt-lu":"pt-PT","pt-mo":"pt-PT","pt-mz":"pt-PT","pt-st":"pt-PT","pt-tl":"pt-PT",ro:"ro-RO","ro-ro":"ro-RO",ru:"ru-RU","ru-ru":"ru-RU",sk:"sk-SK","sk-sk":"sk-SK",sl:"sl-SI","sl-si":"sl-SI",so:"so-SO","so-so":"so-SO",sq:"sq-AL","sq-al":"sq-AL",sr:"sr-RS","sr-rs":"sr-RS",sv:"sv-SE","sv-se":"sv-SE",sw:"sw-TZ","sw-tz":"sw-TZ",ta:"ta-IN","ta-in":"ta-IN",te:"te-IN","te-in":"te-IN",th:"th-TH","th-th":"th-TH",tl:"tl",tr:"tr-TR","tr-tr":"tr-TR",uk:"uk-UA","uk-ua":"uk-UA",ur:"ur",vi:"vi-VN","vi-vn":"vi-VN",zh:"zh-CN","zh-cn":"zh-CN","zh-hans":"zh-CN","zh-hans-cn":"zh-CN","zh-tw":"zh-TW","zh-hant":"zh-TW","zh-hant-tw":"zh-TW","zh-hk":"zh-HK","zh-hant-hk":"zh-HK"},xG=new Set(["ar"]);function g_(e){const t=e.replace("_","-").toLowerCase();if(t in hd)return hd[t];const n=t.split("-");for(let r=n.length-1;r>=1;r--){const i=n.slice(0,r).join("-");if(i in hd)return hd[i]}return null}const Md={};function IG(e){return Ore.includes(e)}async function wre(e,t){return e===oh?Md:(await(IG(e)&&t?SP(Object.assign({"./locales-mt/es-419.json":()=>k(()=>import("./b2yl76aobjylk1v4.js"),[]),"./locales-mt/fr-FR.json":()=>k(()=>import("./k2a1vdl3eopw4skh.js"),[]),"./locales-mt/zh-TW.json":()=>k(()=>import("./lfcgm82oqhoz1a7c.js"),[])}),"./locales-mt/".concat(e,".json"),3):SP(Object.assign({"./locales/am.json":()=>k(()=>import("./hli34x139x1qut28.js"),[]),"./locales/ar.json":()=>k(()=>import("./ewvwig3mdbx5tdlr.js"),[]),"./locales/bg-BG.json":()=>k(()=>import("./ob1k7qg6b9919aj5.js"),[]),"./locales/bn-BD.json":()=>k(()=>import("./f7707vb30mb5fom9.js"),[]),"./locales/bs-BA.json":()=>k(()=>import("./klthkfmcgi02w0yn.js"),[]),"./locales/ca-ES.json":()=>k(()=>import("./drbpel2kju8w6pcl.js"),[]),"./locales/cs-CZ.json":()=>k(()=>import("./hojph9t9whpalz7n.js"),[]),"./locales/da-DK.json":()=>k(()=>import("./glr4glzfg8q6hs60.js"),[]),"./locales/de-DE.json":()=>k(()=>import("./bcn56g4ocunjxjjl.js"),[]),"./locales/el-GR.json":()=>k(()=>import("./oaxac3u7so15mi6n.js"),[]),"./locales/es-419.json":()=>k(()=>import("./f836dytsf3va9ctu.js"),[]),"./locales/es-ES.json":()=>k(()=>import("./i5qiu1nplwkmy5xs.js"),[]),"./locales/et-EE.json":()=>k(()=>import("./oyt9tctj5a7eeuyb.js"),[]),"./locales/fi-FI.json":()=>k(()=>import("./cv3q9zrs97p2pxi2.js"),[]),"./locales/fr-CA.json":()=>k(()=>import("./bp5n8vvsvxeohmgx.js"),[]),"./locales/fr-FR.json":()=>k(()=>import("./m45eny1azjvwyaev.js"),[]),"./locales/gu-IN.json":()=>k(()=>import("./g2a9itha2z4fojq9.js"),[]),"./locales/he-IL.json":()=>k(()=>import("./ive7lec6agtid78g.js"),[]),"./locales/hi-IN.json":()=>k(()=>import("./f5a3fmqd2gu7fkyn.js"),[]),"./locales/hr-HR.json":()=>k(()=>import("./oxfx3ssvvctdcz7f.js"),[]),"./locales/hu-HU.json":()=>k(()=>import("./yumicr9b5d8eghzx.js"),[]),"./locales/hy-AM.json":()=>k(()=>import("./dqt5la6a17rco2rj.js"),[]),"./locales/id-ID.json":()=>k(()=>import("./gs78x21cqhomc0bb.js"),[]),"./locales/is-IS.json":()=>k(()=>import("./pd9mi9eefqi01uqk.js"),[]),"./locales/it-IT.json":()=>k(()=>import("./dhaxqsrenm2b47lz.js"),[]),"./locales/ja-JP.json":()=>k(()=>import("./h3z58852wehxykxj.js"),[]),"./locales/ka-GE.json":()=>k(()=>import("./nl1xh1xrc98xh84j.js"),[]),"./locales/kk.json":()=>k(()=>import("./oh2ze2eiq3s28rfe.js"),[]),"./locales/kn-IN.json":()=>k(()=>import("./gb1hb3xoyswlvpuq.js"),[]),"./locales/ko-KR.json":()=>k(()=>import("./ljfs9h3bm45ti0g0.js"),[]),"./locales/lt.json":()=>k(()=>import("./nm1cdb0dqlsmz3zf.js"),[]),"./locales/lv-LV.json":()=>k(()=>import("./euelu7t5ziwiftkt.js"),[]),"./locales/mk-MK.json":()=>k(()=>import("./pc0ztmzrerpqm03f.js"),[]),"./locales/ml.json":()=>k(()=>import("./be2sbqo4aasj7s44.js"),[]),"./locales/mn.json":()=>k(()=>import("./nsrrfj4hc2rjfxje.js"),[]),"./locales/mr-IN.json":()=>k(()=>import("./ibu13tr2qn20xdni.js"),[]),"./locales/ms-MY.json":()=>k(()=>import("./jep3bhop4wcas3hc.js"),[]),"./locales/my-MM.json":()=>k(()=>import("./l3n8rv8h1wgk7cnw.js"),[]),"./locales/nb-NO.json":()=>k(()=>import("./o61jpo4y9louinek.js"),[]),"./locales/nl-NL.json":()=>k(()=>import("./digmpbsoliry14dd.js"),[]),"./locales/pa.json":()=>k(()=>import("./brfo2az7apj15uaz.js"),[]),"./locales/pl-PL.json":()=>k(()=>import("./obbxvcrxtrlmb0vv.js"),[]),"./locales/pt-BR.json":()=>k(()=>import("./ej5rv4zrst4zu046.js"),[]),"./locales/pt-PT.json":()=>k(()=>import("./gury7ey4spg5acr2.js"),[]),"./locales/ro-RO.json":()=>k(()=>import("./ihfkelm61rtrqtoo.js"),[]),"./locales/ru-RU.json":()=>k(()=>import("./f673sewlznm77pcp.js"),[]),"./locales/sk-SK.json":()=>k(()=>import("./hl61ihdpa8f3dm69.js"),[]),"./locales/sl-SI.json":()=>k(()=>import("./e21fal67zg1vwypo.js"),[]),"./locales/so-SO.json":()=>k(()=>import("./l5p5kaujqbfpsalx.js"),[]),"./locales/sq-AL.json":()=>k(()=>import("./nnmufev0a2s2rdy0.js"),[]),"./locales/sr-RS.json":()=>k(()=>import("./bvxwp9ofzyo5lvre.js"),[]),"./locales/sv-SE.json":()=>k(()=>import("./k4tygqfc5fsjyijx.js"),[]),"./locales/sw-TZ.json":()=>k(()=>import("./mznt9j1tc1uvy8up.js"),[]),"./locales/ta-IN.json":()=>k(()=>import("./51sp1jxbi0anatrl.js"),[]),"./locales/te-IN.json":()=>k(()=>import("./bg1c16g2wi3t9j4l.js"),[]),"./locales/th-TH.json":()=>k(()=>import("./og2bqea66jhfjd4h.js"),[]),"./locales/tl.json":()=>k(()=>import("./n1qi508m9k0aqreq.js"),[]),"./locales/tr-TR.json":()=>k(()=>import("./g3qi6bgeccj33bqu.js"),[]),"./locales/uk-UA.json":()=>k(()=>import("./hjrj2egy1bl4tvny.js"),[]),"./locales/ur.json":()=>k(()=>import("./c92gk9mxmo1yj64u.js"),[]),"./locales/vi-VN.json":()=>k(()=>import("./k1g5p485mrvodya1.js"),[]),"./locales/zh-CN.json":()=>k(()=>import("./k2o1bu3nnsrct6g9.js"),[]),"./locales/zh-HK.json":()=>k(()=>import("./l8o38ikftudg1umf.js"),[]),"./locales/zh-TW.json":()=>k(()=>import("./l5kn3cdn1bj5zjao.js"),[])}),"./locales/".concat(e,".json"),3))).default}const Are=365*24*60*60,bBe=e=>{e==null?De.deleteCookie(Te.PreferredLocale):De.setCookie(Te.PreferredLocale,e,{maxAge:Are}),window.location.reload()},EBe=()=>{const e=De.getCookie(Te.PreferredLocale);return e!=null?g_(e):null},xre="temporary-chat",Ire="anon-mode";function $o(e,t){for(const[n,r]of Object.entries(t))e.addEventListener(n,r);return()=>{for(const[n,r]of Object.entries(t))e.removeEventListener(n,r)}}function SBe(e,t){for(const[n,r]of Object.entries(t))e.on(n,r);return()=>{for(const[n,r]of Object.entries(t))e.off(n,r)}}const Yi=window.localStorage;var zt=(e=>(e.Theme="theme",e.NextAuth="nextauth.message",e.IsNoAuthChatTrainingEnabled="oai/apps/isNoAuthChatTrainingEnabled",e.ComposerMenuSheetBounced="oai/apps/composerMenuBounced",e.IsNavigationCollapsed="UiState.isNavigationCollapsed.1",e.IsHistoryCollapsed="UiState.isOnlyShowingRecents.1",e.ChatThreadFlyoutState="UiState.chatThreadFlyoutState",e.IsGptListCollapsed="UiState.isGptListCollapsed",e.LastUsedModel="oai/apps/lastModelUsed",e.EnabledPlugins="oai/enabledPluginIds",e.HasSeenNewChatModal="oai/apps/hasSeenNewChatModal",e.HasSeenMeetChatGptModal="oai/apps/hasSeenMeetChatGptModal",e.HasSignedUpForPlusUpgradeWaitlistV1="oai/apps/HasSignedUpForPlusUpgradeWaitlist",e.HasSignedUpForPlusUpgradeWaitlistV2="oai/apps/HasSignedUpForPlusUpgradeWaitlistV2",e.HasSignedUpForTeamUpgradeWaitlistV1="oai/apps/HasSignedUpForTeamUpgradeWaitlist",e.HasSignedUpForTeamUpgradeWaitlistV2="oai/apps/HasSignedUpForTeamUpgradeWaitlistV2",e.HasDismissedUpgradeInviteModal="oai/apps/hasDismissedUpgradeInviteModal",e.GizmoEditorTab="oai/apps/gizmoEditorTab",e.GizmoDiscoveryLocale="oai/apps/gizmoDiscoveryLocale",e.NoAuthRateLimitState="oai/apps/noAuthRateLimitState",e.RestoreMessageAfterOauthRedirect="oai/apps/restoreMessageAfterOauthRedirect",e.HasSeenAdaInteractiveChart="oai/apps/hasSeenAdaInteractiveChart",e.HasSeenAdaInteractiveTable="oai/apps/hasSeenAdaInteractiveTable",e.SearchSettings="oai/apps/searchSettings",e.NoAuthBannerDisclaimerClientThreadId="oai/apps/noAuthBannerDisclaimerClientThreadId",e.NoAuthHasAcceptedFooterDisclaimer="oai/apps/noAuthHasAcceptedFooterDisclaimer",e.NoAuthUserMessageCount="oai/apps/noAuthUserMessageCount",e.HasSeenNoAuthImagegenNux="oai/apps/hasSeenNoAuthImagegenNux",e.HasSeenNoAuthFreeTrialUpsell="oai/apps/hasSeenNoAuthFreeTrialUpsell",e.LoggedInUserMessageCount="oai/apps/loggedInUserMessageCount",e.NoAuthHasDismissedSoftRateLimitModal="oai/apps/noAuthHasDismissedSoftRateLimitModal",e.NoAuthHasSeenGpt4oModal="oai/apps/noAuthHasSeenGpt4oModal",e.MemoryFullBannerDismissed="oai/apps/memoryFullBannerDismissed",e.MemoryFullBannerDismissedTimestamp="oai/apps/memoryFullBannerDismissedTimestamp",e.MemoryAlmostFullBannerDismissed="oai/apps/memoryAlmostFullBannerDismissed",e.MemoryAlmostFullBannerDismissedTimestamp="oai/apps/memoryAlmostFullBannerDismissedTimestamp",e.IndepthFeedbackDismissedAt="oai/apps/indepthFeedbackDismissedAt",e.AdvancedVoiceOnMobileAnnouncementCount="oai/apps/oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.CheckoutFrom="oai/apps/checkout_from",e.CreditCheckoutRedirectPath="oai/apps/creditCheckoutRedirectPath",e.HasConfirmedCanvasCodeExecution="oai/apps/hasConfirmedCanvasCodeExecution",e.CODE_EXECUTION_DOMAIN_ALLOW_LIST="oai/apps/codeExecutionDomainAllowlistWithTTL",e.TasksHasSeenProjectDisclaimerBanner="oai/apps/tasksHasSeenProjectDisclaimerBanner",e.ExpandSummarizedCoT="oai/apps/ExpandSummarizedCoT",e.PromoCode="oai/apps/promoCode",e.LastPageLoadDate="oai/apps/lastPageLoadDate",e.NoAuthMadlibsModalState="oai/apps/noAuthMadlibsModalState",e.d2dee219="oai/apps/d2dee219",e.ReferralCode="oai/apps/referralCode",e.LastFeedLoad="oai/apps/2dc5214a",e.VoiceLastUsed="oai/apps/voiceLastUsed",e.ModelCustomConfig="oai/modelCustomConfig",e.ChatThemeOverride="oai/apps/chatThemeOverride",e.ChatTheme="oai/apps/chatTheme",e.ChatThemeCustomWorkspace="oai/apps/chatThemeCustomWorkspace",e.ConversationDrafts="oai/apps/conversationDrafts",e.DebugSettings="oai/apps/debugSettings",e.InternalModels="oai/apps/enableIIM",e.WorkspacePolicyViewed="oai/apps/workspacePolicyViewed",e.LastOpenedPulseId="oai/apps/lastOpenedPulseId",e.HasSeenPulseOnboarding="oai/apps/hasSeenPulseOnboarding",e.GlauxUsePromptOverride="oai/apps/glauxUsePromptOverride",e.GlauxPromptOverride="oai/apps/glauxPromptOverride",e.GlauxJuiceScore="oai/apps/glauxJuiceScore",e.LastEnvironment="oai/apps/l1239dk1/a3f4b29d",e.PromptDraft="oai/apps/l1239dk1/c7e2d18f",e.ProposedTasks="oai/apps/l1239dk1/8fa94c1e",e.ReactQueryDevtoolsVisible="oai/apps/l1239dk1/3e2d18f",e.WhamForcedRateLimitRemaining="oai/apps/l1239dk1/49292001",e.WhamChangelogClickedDate="oai/apps/l1239dk1/4b7d9e2f",e.WhamRepoDownloadDurations="oai/apps/l1239dk1/9182cd99",e.WhamRepoLastBranchById="oai/apps/l1239dk1/4b9f42ce",e.WhamRepoRecentBranchesById="oai/apps/l1239dk1/a7c41ef0",e.WhamBestOfN="oai/apps/l1239dk1/109b6e28",e.WhamImageSnapshot="oai/apps/l1239dk1/4kdf92l2",e.WhamShowFullDiff="oai/apps/l1239dk1/7a8d45ff",e.WhamPreferredEditor="oai/apps/l1239dk1/e2b7ab3c",e.WhamCodexOnboardingState="oai/apps/l1239dk1/codexOnboardingState",e.WhamLastRepositoryId="oai/apps/l1239dk1/7f2c4aa2",e.WhamShowDevOnboardingOverrides="oai/apps/l1239dk1/showDevOnboardingOverrides",e.WhamCodexOnboardingStateOverride="oai/apps/l1239dk1/codexOnboardingStateOverride",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.MessageFollowupsStoreState="oai/apps/messageFollowupsStoreState",e.JumpToShade="jump-to-shade",e.HasManuallyClosedLanguageUpsellBanner="oai/apps/hasManuallyClosedLanguageUpsellBanner",e.PluginsAuthRedirect="oai/apps/plugins/authRedirect",e.SelectedSources="oai/apps/connectors/selectedSources",e.SelectedGithubRepos="oai/apps/connectors/selectedGithubRepos",e.ConnectorOAuthFlowType="oai/apps/connectors/oauthFlowType",e.SubscriptionFailedBanner="oai/apps/subscriptionFailedBanner",e.HasDismissedTeamsNoAuthUpsell="oai/apps/hasDismissedTeamsNoAuthUpsell",e.FinchAdminNotified="oai/apps/finchAdminNotified",e.GetTeamPillDismissed="oai/apps/getTeamPillDismissed",e.CARecommendedPromptsUpsell="oai/apps/caRecommendedPromptsUpsell",e.ChinookStartupInfo="oai/apps/chinookStartupInfo",e.ConnectorsDismissableBannerUpsell="oai/apps/connectorsDismissableBannerUpsell",e.HasClickedCompanyKnowledgePill="oai/apps/hasClickedCompanyKnowledgePill",e.ConnectorsExternalNuxBannerDismissed="oai/apps/connectorsExternalNuxBannerDismissed",e.K12InviteBannerDismissed="oai/apps/k12InviteBannerDismissed",e.ModelSlugStatsOverride="oai/apps/modelSlugStatsOverride",e.ShortcutLinks="oai/apps/shortcutLinks",e.HomeDiscoveryDismissed="oai/apps/homeDiscoveryDismissed",e.O3MiniHighInContextUpsellBanner="oai/apps/o3MiniHighInContextUpsellBanner",e.TatertotInContextUpsellBannerV2="oai/apps/tatertotInContextUpsellBannerV2",e.ImageGenProgressUpsellV2="oai/apps/imageGenProgressUpsellV2",e.HasDismissedMobileAppUpsellBanner="oai/apps/hasDismissedMobileAppUpsellBanner",e.HasDismissedMoodengUpsellBanner="oai/apps/hasDismissedMoodengUpsellBanner",e.LastSeenPlusUpsellBannerAt="oai/apps/lastSeenPlusUpsellBannerAt",e.HasDismissedOnboardingSidebarEntry="oai/apps/hasDismissedOnboardingSidebarEntry",e.LastSeenNoAuthTrialsBannerAt="oai/apps/lastSeenNoAuthTrialsBannerAt",e.ThreadHeaderUpgradePillDismissals="oai/apps/threadHeaderUpgradePillDismissals",e.PendingSurveySpec="oai/apps/pendingSurveySpec",e.WorkspaceDiscoveryInfo="oai/apps/workspaceDiscoveryInfo",e.WorkspaceDiscoveryRenamePromptInfo="oai/apps/workspaceDiscoveryRenamePromptInfo",e.HasDismissedAuraAnnouncementBanner="oai/apps/hasDismissedAuraAnnouncementBanner",e.FirstSeenAuraAnnouncementBannerAt="oai/apps/firstSeenAuraAnnouncementBannerAt",e.LastSeenAuraAnnouncementBannerAt="oai/apps/lastSeenAuraAnnouncementBannerAt",e.AuraAnnouncementBannerImpressions="oai/apps/auraAnnouncementBannerImpressions",e.ResumeTokenStore="RESUME_TOKEN_STORE_KEY",e.SeparateMode="oai/apps/voiceSeparateMode",e))(zt||{});class bn{static setItem(t,n,r){if(!Yi)return;const i=Xp(t,r);try{Yi.setItem(i,JSON.stringify(n))}catch(s){Q.addError(s)}}static getItem(t,n){if(!Yi)return null;try{const r=Xp(t,n),i=Yi.getItem(r);return typeof i=="string"?JSON.parse(i):i}catch(r){return null}}static removeItem(t,n){if(Yi){const r=Xp(t,n);return Yi.removeItem(r)}}static DANGER_SECRET_FOLDERS_ONLY_setItem(t,n){if(!Yi){console.warn("You cannot set localStorage server-side (".concat(t,")"));return}try{Yi.setItem(t,JSON.stringify(n))}catch(r){Q.addError(r)}}static DANGER_SECRET_FOLDERS_ONLY_getItem(t){if(!Yi)return console.warn("You cannot get localStorage server-side (".concat(t,")")),null;const n=Yi.getItem(t);return typeof n=="string"?JSON.parse(n):n}}function Xp(e,t){const n=[e];return t!==void 0&&(t.userId!=null&&n.push(t.userId),t.workspaceId!=null&&n.push(t.workspaceId)),n.join("/")}function NG(e,t,n){let r;const i=()=>{const a=bn.getItem(e);return a==null?t():n!=null&&n.coerceStoredValue?n.coerceStoredValue(a):a},o=oi(i,a=>(r=a,$o(window,{storage:({key:c})=>{c===e&&a()}})),{name:"localStorage:".concat(e),getServerFallback:t});return o.set=a=>{bn.setItem(e,Y6(a)?a(i()):a),r==null||r()},o}function uA(){return new URL(window.location.href)}const Nre=Be(e=>NG(zt.IsNoAuthChatTrainingEnabled,()=>Pre(e),{coerceStoredValue:dne})),dA=Be(()=>we(()=>uA().searchParams.has(xre))),OBe=Be(()=>we(()=>uA().searchParams.has(Ire))),Rre=e=>dA(e)||!St(e)&&!Nre(e);function TBe(){const e=re();return Fe(()=>dA(e))}function Pre(e){return $e(e,"1656345175")}const OP=100,lf=ir()(vu(()=>{var e;return(e=bn.getItem(zt.ConversationDrafts))!=null?e:{drafts:[],userId:null}})),fA=e=>{lf.setState(e),bn.setItem(zt.ConversationDrafts,e)},hA=e=>e!=null?e:"null_thread",wBe=(e,t,n)=>{const r=hA(e);let s=lf.getState().userId===n?lf.getState().drafts:[];const o=s.findIndex(c=>c.id===r),a={id:r,content:t,timestamp:Date.now()};o!==-1?s[o]=a:s.push(a),s.length>OP&&(s=s.sort((c,l)=>l.timestamp-c.timestamp).slice(0,OP)),fA({drafts:s,userId:n})};function kre(e){var t;if(Lre(e)){const n=nn(e.serverId$);return(t=Mre(n))==null?void 0:t.content}}const Mre=e=>{const t=hA(e);return lf.getState().drafts.find(n=>n.id===t)},ABe=e=>{const t=hA(e),n=lf.getState().drafts.filter(r=>r.id!==t);fA({drafts:n,userId:null})},Dre=()=>{fA({drafts:[],userId:null})};function Lre(e){return nn(()=>e!=null&&!th(e.ctx)&&!nn(()=>dA(e.ctx)))}function jre(e,t,n){if(n)return t!=null?t:void 0;if(!e)return;const r=e.trim();if(!r)return;const i=r.split(/\s+/);if(i.length===0)return;const s=i[0];return s.indexOf("@")!==-1||/^\d+$/.test(s)?void 0:s.replace(/[^a-zA-ZÃ€-Å¾]+/g,"")}function xBe(e,t,n){var o,a;const r=jre(t==null?void 0:t.name,t==null?void 0:t.first_name,n);let i="";e&&("object"in e&&e.object==="user_system_message_detail"?i=e.name_user_message:i=(o=e.nameUserMessage)!=null?o:"");const s=i.trim();return((a=e==null?void 0:e.enabled)==null||a)&&s?s:r}function Fre(){De.deleteCookie(Te.GreetingName)}const vl="@@",pA=[],Kg=new Map;function Kc(e,t,n,r){if(Kg.has(e)||e==="Ref")throw new Error("Already registered pickler ".concat(e));const i={key:e,test:t,pickle:n,unpickle:r};Kg.set(e,i),pA.push(i)}function RG(){const e=[],t=new Map;return function(n,r){for(;e.length&&e[e.length-1][0]!==this;){const s=e.pop()[1];typeof s=="object"&&s!=null&&t.set(s,t.size)}const i=this[n];if(typeof i=="object"&&i!=null){const s=t.get(i);if(s!=null)return{[vl]:"Ref","":s}}for(const s of pA)if(s.test(i)){const o={[vl]:s.key,"":s.pickle(i)};return e.push([o,i]),o}if(typeof r=="object"&&r!=null){if(vl in r)throw new Error("Unexpected ".concat(vl," property"));e.push([r,i])}return r}}function Ure(){const e=[];return function(t,n){if(typeof n!="object"||n==null)return n;if(vl in n){const{[vl]:r,"":i}=n;if(r==="Ref")return e[i];const s=Kg.get(r);if(!s)throw Error("Unknown pickle key ".concat(r));if(n=s.unpickle(i),typeof n!="object"||n==null)return n}return e.push(n),n}}function Bre(){pA.length=0,Kg.clear(),Kc("Map",e=>e instanceof Map,e=>[...e.entries()],e=>new Map(e)),Kc("Set",e=>e instanceof Set,e=>[...e.keys()],e=>new Set(e)),Kc("Date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),Kc("RegExp",e=>e instanceof RegExp,e=>[e.source,e.flags],([e,t])=>new RegExp(e,t)),Kc("Number",e=>typeof e=="number"&&(Object.is(e,-0)||!isFinite(e)||isNaN(e)),e=>Object.is(e,-0)?"-0":String(e),e=>Number(e)),Kc("BigInt",e=>typeof e=="bigint",e=>String(e),e=>BigInt(e))}Bre();function Gre(e){if(e==null)return null;const t=xt(At());return t.authStatus!==Jl.LoggedIn?null:{workspaceId:e,userId:t.user.id}}function gA(e,t){const n=Gre(e);return n==null?null:"cache/".concat(n.userId,"/").concat(n.workspaceId,"/").concat(t)}const Wre=1e3*60*60*24;function qre(e,t,n){const r=gA(e,t);if(r==null)return;const i=localStorage.getItem(r);if(i!=null)try{const{value:s,timestamp:o,version:a,used:c}=JSON.parse(i,Ure());if(a!==n||Date.now()-o>Wre){localStorage.removeItem(r);return}return{localStorageKey:r,value:s,version:a,used:typeof c=="number"?c:0}}catch(s){return}}const ry={};function Vre(e,t,n){if(e==null)return;if(t in ry)return ry[t];const r=qre(e,t,n);if(Q.addAction("localStorageCache.".concat(t),{cacheVersion:n,wasPresent:r!=null}),ry[t]=r==null?void 0:r.value,r!=null)return r.used+1>=4?localStorage.removeItem(r.localStorageKey):localStorage.setItem(r.localStorageKey,JSON.stringify({timestamp:Date.now(),value:r.value,version:r.version,used:r.used+1},RG())),r.value}function $re(e,t,n,r){const i=gA(e,t);if(i!=null)try{localStorage.setItem(i,JSON.stringify({value:n,timestamp:Date.now(),version:r},RG()))}catch(s){Q.addError(s)}}function Hre(e,t){const n=gA(e,t);n!=null&&localStorage.removeItem(n)}function PG(){for(const e of Object.keys(localStorage))e.startsWith("cache/")&&localStorage.removeItem(e)}const zre="session",kG="refresh";let Dd;typeof window<"u"&&window.BroadcastChannel!==void 0&&(Dd=new window.BroadcastChannel(zre),Dd.onmessage=e=>{e.data===kG&&(document.hidden?window.addEventListener("visibilitychange",()=>{document.hidden||(window.location.href="/")}):setTimeout(()=>{window.location.href="/"},300))});function Yre(){Dd==null||Dd.postMessage(kG)}function Kre(){Yre(),PG(),Dre(),Fre(),De.deleteCookie(Te.LastUsedModel),De.deleteCookie(Te.LastUsedModelConfig)}function mA(e){Kre(),window.location.href=e!=null?e:"/?refresh_account=true"}const Jre="dgkjq2bp",Xre=Jre;function MG(){return k(()=>import("./mcmuahn9939fqkge.js").then(e=>e.i),__vite__mapDeps([2,1]))}function Qre(e,t,n){if(e.id){const r={app_id:Xre,user_id:e.id,name:e.name,email:e.email,user_hash:n,hide_default_launcher:!0,is_chatgpt_user:!0,chatgpt_plan_type:t==null?void 0:t.planType};MG().then(i=>i==null?void 0:i.boot(r))}}function DG(e,t){MG().then(n=>n==null?void 0:n.trackEvent(e,t))}class m_ extends Error{constructor(){super(...arguments);U(this,"name","ClientRequestMismatchedAuthError")}}function Zre(e,t="fetch"){var i,s,o;e.url.includes("/aip");const n=e.detail,r=n==null?void 0:n.conversation_detail_metadata;if(r&&gre.updateDetails(r),e.code==="request_account_access"&&Cre.setState({accountName:n==null?void 0:n.account_name,ownerEmail:n==null?void 0:n.owner_email,userEmail:n==null?void 0:n.user_email,accountId:n==null?void 0:n.account_id,hasActiveRequest:n==null?void 0:n.has_active_request,workspacePlanType:n==null?void 0:n.workspace_plan_type}),e.code==="all_accounts_blocked"&&Cne(At(),n==null?void 0:n.user_email),Ere(e.code)&&Sre.setState({accountName:n==null?void 0:n.account_name,errorCode:e.code}),e.code==="trigger_account_transfer"){yre.setState({destinationWorkspaceId:n==null?void 0:n.workspace_id,destinationWorkspaceName:n==null?void 0:n.workspace_name,destinationWorkspaceProfilePictureUrl:n==null?void 0:n.workspace_profile_picture_url,destinationWorkspacePlanType:n==null?void 0:n.workspace_plan_type});return}if(e.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}if((e.code==="expired_session_key"||e.code==="token_expired"||e.code==="token_invalidated"||((s=(i=e.jsonError)==null?void 0:i.error)==null?void 0:s.code)==="token_invalidated")&&(Q.addAction("Token expired",{url:e.url,error:n}),typeof window<"u"&&((o=window._oaiHandleSessionExpired)==null||o.call(window,t,JSON.stringify(n)))),e.code==="invalid_account_id_header"&&typeof De.getCookie(Te.Workspace)=="string"){De.deleteCookie(Te.Workspace),mA();return}}function eie(e){var t;Q.addAction("RequestError",{url:e.url,message:e.message,status:e.status,json:e.json,requestId:e.requestId,deviceId:ri(),rawErrorMessage:(t=e.rawError)==null?void 0:t.message})}function tie(e,t){return e.replace(/\{([^}]+)\}/g,(n,r)=>t[r].toString())}function nie(e){if(!e)return"";const t=new URLSearchParams;for(const[r,i]of Object.entries(e))if(Array.isArray(i))for(const s of i)t.append(r,s.toString());else i!=null&&t.append(r,i.toString());const n=t.toString();return n.length===0?"":"?".concat(n)}function rie(){var e;return(e=xt(At()).locale)!=null?e:oh}function LG(){const e=ri();return{[rte]:rie(),[s_]:e,[i_]:Jf}}function _A(e={}){var i;const t=(i=e.accessToken)!=null?i:iie(),n=LG();if(t==null){if(e.isAuthOptional===!0)return n;throw new m_("No access token when trying to use AuthHeader")}n.Authorization="Bearer ".concat(t);const r=De.getCookie(Te.Workspace);return typeof r=="string"&&r!==Fs&&(n[ite]=encodeURIComponent(r)),n}function iie(){return Qf(At())}function jG({method:e,body:t,authOption:n,accessToken:r,additionalHeaders:i,signal:s}){return{method:e==null?void 0:e.toUpperCase(),body:t,credentials:"include",signal:s,headers:S(S(S(S({},n===en.Anonymous?LG():_A({isAuthOptional:n===en.SendIfAvailable,accessToken:r})),t!=null&&!(t instanceof FormData||t instanceof File)?{"Content-Type":"application/json"}:null),t!=null&&t instanceof File?{"Content-Type":"application/octet-stream"}:null),i)}}function sie(e){return(t,n)=>{const r=(i,s)=>{if(i>=e.length)return n(s);const o=e[i];return o(s,a=>r(i+1,a))};return r(0,t)}}function FG(e,t){const n=sie(e);return r=>n(r,t)}async function UG(e,t){var r,i;let n=await t(e.clone());if(n.status===401){const o=await n.clone().json(),a=(r=n.headers.get("X-Request-Id"))!=null?r:void 0;if(new Ht(e.url,n.status,o,a,new Error(JSON.stringify(o))).code==="token_expired"){const l=ri();await bte(Pi(At()),{reason:"token_expired",method:(i=e.method)!=null?i:"GET",path:new URL(e.url,location.origin).pathname});const u=_A(),d=e.clone();for(const[f,h]of Object.entries(u))d.headers.set(f,h);n=await t(d),n.status===200?Q.addAction("Request succeeded after refresh.",{url:e.url,deviceId:l}):Q.addAction("Request failed after refresh.",{url:e.url,deviceId:l})}}return n}async function BG(e,t){var r,i;let n;try{n=await t(e)}catch(s){throw s instanceof Error?Ht.createWithErrorMessage(e.url,"server",s.message,void 0,s):s}if(n.status>=400){const s=await n.text();let o;try{o=JSON.parse(s)}catch(l){o={detail:{code:"not_json_response",text:s==null?void 0:s.substring(0,1e3)}}}const a=(i=(r=n.headers.get("X-Request-Id"))!=null?r:n.headers.get("cf-ray"))!=null?i:void 0,c=new Ht(e.url,n.status,o,a,new Error(JSON.stringify(o)));throw Zre(c),eie(c),c}return n}var Wl,Ff,jm,GG;class vA{constructor(t){Nt(this,jm);Nt(this,Wl);Nt(this,Ff);const{baseUrl:n}=t;Ut(this,Ff,typeof n=="string"?()=>n:n)}baseUrl(t,n){return he(this,Ff).call(this,t,n)}async fetch(t,n={}){try{const r=await he(this,jm,GG).call(this,t);return n.skipJsonTransform?r:r.status===204?{}:r.json()}catch(r){throw n.intercomEventOnError&&DG(n.intercomEventOnError,{url:t.url}),r}}request(t,n,r){const i=r!=null&&r.parameters&&"query"in r.parameters?r.parameters.query:void 0,s=r!=null&&r.parameters&&"path"in r.parameters&&r.parameters.path?r.parameters.path:{},o=tie(n,s),a=nie(i),c=jG(I(S({},r),{method:t,body:r&&"requestBody"in r?r.requestBody instanceof File?r.requestBody:JSON.stringify(r.requestBody):void 0})),l="".concat(this.baseUrl(c,n)).concat(o).concat(a),u=new globalThis.Request(l,c);return this.fetch(u,r)}safeGet(t,...n){return this.request("get",t,n[0])}safePost(t,...n){return this.request("post",t,n[0])}safeDelete(t,...n){return this.request("delete",t,n[0])}safePatch(t,...n){return this.request("patch",t,n[0])}safePut(t,...n){return this.request("put",t,n[0])}streamedJsonPost(t,n){return Qh(this,null,function*(){n.skipJsonTransform=!0;const r=yield new po(this.request("post",t,n));if(!r.body)return;const i=r.body.getReader(),s=new TextDecoder;let o="";for(;;){const{value:a,done:c}=yield new po(i.read());a&&(o+=s.decode(a,{stream:!0}));let l;for(;(l=o.indexOf("\n"))!==-1;){const u=o.slice(0,l).trim();if(o=o.slice(l+1),u.length!==0)try{yield JSON.parse(u)}catch(d){o=u+"\n"+o;break}}if(c){const u=o.trim();u&&(yield JSON.parse(u));return}}})}}Wl=new WeakMap,Ff=new WeakMap,jm=new WeakSet,GG=function(){return he(this,Wl)||Ut(this,Wl,FG([BG,UG],fetch)),he(this,Wl)};function oie(e,t){const n={[Je]:Dw};if(t.headers.Authorization)return e;for(const[r,i]of Object.entries(n))if(e.startsWith(r))return e.replace(r,i);return e}var ql,Fm,WG;class aie{constructor(){Nt(this,Fm);Nt(this,ql)}async fetch(t,n={}){n.params&&(t+="?"+new URLSearchParams(n.params).toString());try{const r=jG(n),i=await he(this,Fm,WG).call(this,new globalThis.Request(oie(t,r),r));return n.skipJsonTransform?i:i.status===204?{}:i.json()}catch(r){throw n.intercomEventOnError&&DG(n.intercomEventOnError,{url:t}),r}}get(t,n={}){return this.fetch(t,n)}post(t,n,r={}){return this.fetch(t,I(S({},r),{method:"post",body:n instanceof FormData?n:JSON.stringify(n)}))}streamedJsonPost(i,s){return Qh(this,arguments,function*(t,n,r={}){const a=(yield new po(this.fetch(t,I(S({},r),{method:"post",body:JSON.stringify(n),skipJsonTransform:!0})))).body;if(!a)return;const c=a.getReader(),l=new TextDecoder;let u=!1,d="";for(;!u;){const f=yield new po(c.read());if(u=f.done,u&&f.value==null)break;const h=d+l.decode(f.value,{stream:!0});d="";const p=h.split("\n").filter(g=>!!g.trim());for(let g=0;g<p.length;g++)try{yield JSON.parse(p[g])}catch(m){d=p[g];break}}d.length>0&&(yield JSON.parse(d))})}streamedSsePost(i,s){return Qh(this,arguments,function*(t,n,r={}){const a=(yield new po(this.fetch(t,I(S({},r),{method:"post",body:JSON.stringify(n),skipJsonTransform:!0,additionalHeaders:S({Accept:"text/event-stream"},r.additionalHeaders)})))).body;if(!a)return;const c=a.getReader(),l=new TextDecoder;let u="";for(;;){const{value:d,done:f}=yield new po(c.read());d&&(u+=l.decode(d,{stream:!0})),u=u.replace(/\r\n/g,"\n");let h;for(;(h=u.indexOf("\n\n"))!==-1;){const p=u.slice(0,h);u=u.slice(h+2);const g=[];for(const v of p.split("\n"))v.startsWith(":")||v.startsWith("data:")&&g.push(v.slice(5).trimStart());const m=g.join("\n").trim();if(m){if(m==="[DONE]")return;try{yield JSON.parse(m)}catch(v){}}}if(f){const p=u.trim();if(p.startsWith("data:")){const g=p.split("\n").filter(m=>m.startsWith("data:")).map(m=>m.slice(5).trimStart()).join("\n").trim();if(g&&g!=="[DONE]")try{yield JSON.parse(g)}catch(m){}}return}}})}}ql=new WeakMap,Fm=new WeakSet,WG=function(){return he(this,ql)||Ut(this,ql,FG([BG,UG],fetch)),he(this,ql)};const Z=new vA({baseUrl(e,t){return!!e.headers.Authorization?Je:Dw}}),cie=new vA({baseUrl:Hp});new vA({baseUrl:Ene});const Ze=new aie;var iy,TP;function qG(){if(TP)return iy;TP=1;var e=typeof gl=="object"&&gl&&gl.Object===Object&&gl;return iy=e,iy}var sy,wP;function Li(){if(wP)return sy;wP=1;var e=qG(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return sy=n,sy}var oy,AP;function yu(){if(AP)return oy;AP=1;var e=Li(),t=e.Symbol;return oy=t,oy}var ay,xP;function lie(){if(xP)return ay;xP=1;var e=yu(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),c=o[i];try{o[i]=void 0;var l=!0}catch(d){}var u=r.call(o);return l&&(a?o[i]=c:delete o[i]),u}return ay=s,ay}var cy,IP;function uie(){if(IP)return cy;IP=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return cy=n,cy}var ly,NP;function Cu(){if(NP)return ly;NP=1;var e=yu(),t=lie(),n=uie(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return ly=o,ly}var uy,RP;function ji(){if(RP)return uy;RP=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return uy=e,uy}var dy,PP;function VG(){if(PP)return dy;PP=1;var e=Cu(),t=ji(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var c=e(a);return c==r||c==i||c==n||c==s}return dy=o,dy}var fy,kP;function die(){if(kP)return fy;kP=1;var e=Li(),t=e["__core-js_shared__"];return fy=t,fy}var hy,MP;function fie(){if(MP)return hy;MP=1;var e=die(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return hy=n,hy}var py,DP;function $G(){if(DP)return py;DP=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch(i){}try{return r+""}catch(i){}}return""}return py=n,py}var gy,LP;function hie(){if(LP)return gy;LP=1;var e=VG(),t=fie(),n=ji(),r=$G(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,l=a.hasOwnProperty,u=RegExp("^"+c.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?u:s;return h.test(r(f))}return gy=d,gy}var my,jP;function pie(){if(jP)return my;jP=1;function e(t,n){return t==null?void 0:t[n]}return my=e,my}var _y,FP;function Nc(){if(FP)return _y;FP=1;var e=hie(),t=pie();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return _y=n,_y}var vy,UP;function __(){if(UP)return vy;UP=1;var e=Nc(),t=e(Object,"create");return vy=t,vy}var yy,BP;function gie(){if(BP)return yy;BP=1;var e=__();function t(){this.__data__=e?e(null):{},this.size=0}return yy=t,yy}var Cy,GP;function mie(){if(GP)return Cy;GP=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Cy=e,Cy}var by,WP;function _ie(){if(WP)return by;WP=1;var e=__(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return by=i,by}var Ey,qP;function vie(){if(qP)return Ey;qP=1;var e=__(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return Ey=r,Ey}var Sy,VP;function yie(){if(VP)return Sy;VP=1;var e=__(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return Sy=n,Sy}var Oy,$P;function Cie(){if($P)return Oy;$P=1;var e=gie(),t=mie(),n=_ie(),r=vie(),i=yie();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Oy=s,Oy}var Ty,HP;function bie(){if(HP)return Ty;HP=1;function e(){this.__data__=[],this.size=0}return Ty=e,Ty}var wy,zP;function v_(){if(zP)return wy;zP=1;function e(t,n){return t===n||t!==t&&n!==n}return wy=e,wy}var Ay,YP;function y_(){if(YP)return Ay;YP=1;var e=v_();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Ay=t,Ay}var xy,KP;function Eie(){if(KP)return xy;KP=1;var e=y_(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return xy=r,xy}var Iy,JP;function Sie(){if(JP)return Iy;JP=1;var e=y_();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Iy=t,Iy}var Ny,XP;function Oie(){if(XP)return Ny;XP=1;var e=y_();function t(n){return e(this.__data__,n)>-1}return Ny=t,Ny}var Ry,QP;function Tie(){if(QP)return Ry;QP=1;var e=y_();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Ry=t,Ry}var Py,ZP;function C_(){if(ZP)return Py;ZP=1;var e=bie(),t=Eie(),n=Sie(),r=Oie(),i=Tie();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Py=s,Py}var ky,ek;function yA(){if(ek)return ky;ek=1;var e=Nc(),t=Li(),n=e(t,"Map");return ky=n,ky}var My,tk;function wie(){if(tk)return My;tk=1;var e=Cie(),t=C_(),n=yA();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return My=r,My}var Dy,nk;function Aie(){if(nk)return Dy;nk=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Dy=e,Dy}var Ly,rk;function b_(){if(rk)return Ly;rk=1;var e=Aie();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ly=t,Ly}var jy,ik;function xie(){if(ik)return jy;ik=1;var e=b_();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return jy=t,jy}var Fy,sk;function Iie(){if(sk)return Fy;sk=1;var e=b_();function t(n){return e(this,n).get(n)}return Fy=t,Fy}var Uy,ok;function Nie(){if(ok)return Uy;ok=1;var e=b_();function t(n){return e(this,n).has(n)}return Uy=t,Uy}var By,ak;function Rie(){if(ak)return By;ak=1;var e=b_();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return By=t,By}var Gy,ck;function CA(){if(ck)return Gy;ck=1;var e=wie(),t=xie(),n=Iie(),r=Nie(),i=Rie();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Gy=s,Gy}var Wy,lk;function HG(){if(lk)return Wy;lk=1;var e=CA(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],c=s.cache;if(c.has(a))return c.get(a);var l=r.apply(this,o);return s.cache=c.set(a,l)||c,l};return s.cache=new(n.Cache||e),s}return n.Cache=e,Wy=n,Wy}var Pie=HG();const bA=Gt(Pie);var Qp=(e=>(e[e.DEV=0]="DEV",e[e.BETA=1]="BETA",e[e.CUSTOM=2]="CUSTOM",e))(Qp||{});function kie(e){return e.map(t=>{var n,r,i,s,o,a,c,l,u,d,f;return{name:t.name,description:t.description,actionLabel:(n=t.action_label)!=null?n:void 0,shortLabel:(r=t.short_label)!=null?r:void 0,logo:t.logo,systemHint:t.system_hint,aliases:(i=t.aliases)!=null?i:[],requiredFeatures:(s=t.required_features)!=null?s:[],requiredModels:(o=t.required_models)!=null?o:[],requiredConversationModes:(a=t.required_conversation_modes)!=null?a:[],composerBarButtonInfo:t.composer_bar_button_info?{announcementKey:t.composer_bar_button_info.announcement_key,disabledText:t.composer_bar_button_info.disabled_text,nuxTitle:t.composer_bar_button_info.nux_title,nuxDescription:t.composer_bar_button_info.nux_description,tooltipText:t.composer_bar_button_info.tooltip_text,rateLimitReachedText:(c=t.composer_bar_button_info.rate_limit_reached_text)!=null?c:void 0}:void 0,suggestedPrompt:t.suggested_prompt?{theme:t.suggested_prompt.theme,title:t.suggested_prompt.title,subtitle:t.suggested_prompt.subtitle,sortOrder:t.suggested_prompt.sort_order,badge:(l=t.suggested_prompt.badge)!=null?l:void 0}:void 0,allowInTemporaryChat:t.allow_in_temporary_chat,persistBetweenMessages:!!t.persist_between_messages,regexMatches:(u=t.regex_matches)!=null?u:void 0,isAuto:t.is_auto,category:t.category,requiresOptIn:!!t.requires_opt_in,isConnector:!!t.is_connector,keywordInvocations:(d=t.keyword_invocations)!=null?d:[],hideFromInitialSelection:!!t.hide_from_initial_selection,badgeText:(f=t.badge_text)!=null?f:void 0,isDangerous:!!t.is_dangerous}})}const eu=bA(e=>En({queryKey:["system-hints",e],queryFn:async()=>{const t=await Z.safeGet("/system_hints",{authOption:en.SendIfAvailable,parameters:{query:{mode:e}}});return Q.addFirstTiming("load.systemHints.".concat(e)),kie(t.system_hints)},staleTime:1/0})),zG=Be(e=>hn(e,()=>eu("basic"))),Mie=Be(e=>hn(e,()=>eu("connectors"))),Die=Object.prototype.toString;function Lie(e,t){try{return e instanceof t}catch(n){return!1}}function jie(e){switch(Die.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Lie(e,Error)}}const uk={componentStack:null,error:null};function Fie(e,t){const n=new WeakMap;function r(i,s){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,s);i.cause=s}}r(e,t)}const Uie=["The node to be removed is not a child of this node","The object can not be found here."];function Bie(e){return Uie.some(t=>{var n;return(n=e.message)==null?void 0:n.includes(t)})}class ah extends E.Component{constructor(n){super(n);U(this,"state");U(this,"resetErrorBoundary",()=>{const{onReset:n}=this.props,{error:r,componentStack:i}=this.state;n&&n(r,i!=null?i:""),this.setState(uk)});this.state=uk}componentDidCatch(n,{componentStack:r}){if(jie(n)){const i=new Error(n.message);i.name="React ErrorBoundary ".concat(i.name),i.stack=r!=null?r:"",Fie(n,i)}if(!Bie(n)&&(this.props.logRequestErrors===!0||!(n instanceof Ht))){const i=new Error(n.message);i.name="ReactRenderingError",i.stack=r!=null?r:"",i.cause=n,Q.addError(i,{error_boundary:this.props.name})}PG(),this.props.onError&&this.props.onError(n,r!=null?r:""),this.setState({error:n,componentStack:r})}render(){var s;const{fallback:n,children:r}=this.props,i=this.state;if(i.error){let o;return typeof n=="function"?o=n({error:i.error,componentStack:(s=i.componentStack)!=null?s:"",resetError:this.resetErrorBoundary}):o=n,E.isValidElement(o)?o:null}return typeof r=="function"?r():r}}function YG(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=YG(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ve(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=YG(e))&&(r&&(r+=" "),r+=t);return r}var Zt=(e=>(e.info="info",e.neutral="neutral",e.success="success",e.successNeutral="successNeutral",e.warning="warning",e.danger="danger",e))(Zt||{});function dk(e){return typeof e=="number"?"".concat(e,"px"):e}function z(e){"use forget";var h;const t=H.c(22);let n,r,i,s,o,a,c;t[0]!==e?(h=e,{className:r,role:s,style:o,tabIndex:a,height:i,width:c}=h,n=W(h,["className","role","style","tabIndex","height","width"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7]);let l;t[8]!==c?(l=dk(c),t[8]=c,t[9]=l):l=t[9];let u;t[10]!==i?(u=dk(i),t[10]=i,t[11]=u):u=t[11];let d;t[12]!==o||t[13]!==l||t[14]!==u?(d=S({display:"inline-block",width:l,height:u},o),t[12]=o,t[13]=l,t[14]=u,t[15]=d):d=t[15];let f;return t[16]!==n||t[17]!==r||t[18]!==s||t[19]!==d||t[20]!==a?(f=_.jsx("div",S({className:r,role:s,style:d,tabIndex:a},n)),t[16]=n,t[17]=r,t[18]=s,t[19]=d,t[20]=a,t[21]=f):f=t[21],f}const Gie=B(()=>k(()=>import("./fyw02vlaiv2vq6cj.js").then(e=>e.zF),__vite__mapDeps([3,1,4])),{loading:e=>z(e)}),Wie=Tt({closeButtonLabel:{id:"Alert.closeButtonLabel",defaultMessage:"Close"}}),qie=Et.memo(function(t){const n=_t(),{className:r,intent:i="info",fullWidth:s,children:o,icon:a,onRemove:c,testId:l}=t,u=ve({"px-3 py-2 rounded-lg inline-flex flex-row border pointer-events-auto gap-2":!0,flex:s,"popover shadow-lg bg-token-main-surface-primary text-token-text-secondary dark:border-black/20":i===Zt.neutral||i===Zt.info,"border-green-600 bg-green-600 text-white":i===Zt.success,"border-orange-500 text-white bg-orange-500":i===Zt.warning,"border-red-500 text-white bg-red-500":i===Zt.danger,"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white":i===Zt.successNeutral},r);return _.jsxs("div",{className:u,role:"alert","data-testid":l,children:[a!=null&&_.jsx("div",{className:"mt-1 shrink-0 grow-0",children:_.jsx(a,{className:"icon-sm"})}),_.jsx("div",{className:"flex-1 justify-center gap-2",children:typeof o=="string"?_.jsx("div",{className:"font-semibold",children:o}):o}),c?_.jsx("div",{className:"flex shrink-0 grow-0",children:_.jsx("button",{onClick:c,"aria-label":n.formatMessage(Wie.closeButtonLabel),className:"hover:opacity-80",children:_.jsx(Gie,{className:"icon-sm"})})}):null]})});function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fk.apply(null,arguments)}function Vie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $T(e,t){return $T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$T(e,t)}function $ie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$T(e,t)}var qy={exports:{}},Vy,hk;function Hie(){if(hk)return Vy;hk=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vy=e,Vy}var $y,pk;function zie(){if(pk)return $y;pk=1;var e=Hie();function t(){}function n(){}return n.resetWarningCache=t,$y=function(){function r(o,a,c,l,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},$y}var gk;function Yie(){return gk||(gk=1,qy.exports=zie()()),qy.exports}var Kie=Yie();const IBe=Gt(Kie),mk={disabled:!1},KG=Et.createContext(null);var Jie=function(t){return t.scrollTop},pd="unmounted",wa="exited",Aa="entering",al="entered",HT="exiting",to=(function(e){$ie(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=wa,s.appearStatus=Aa):c=al:r.unmountOnExit||r.mountOnEnter?c=pd:c=wa,s.state={status:c},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===pd?{status:wa}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Aa&&o!==al&&(s=Aa):(o===Aa||o===al)&&(s=HT)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Aa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:cd.findDOMNode(this);o&&Jie(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wa&&this.setState({status:pd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[cd.findDOMNode(this),a],l=c[0],u=c[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||mk.disabled){this.safeSetState({status:al},function(){s.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:Aa},function(){s.props.onEntering(l,u),s.onTransitionEnd(f,function(){s.safeSetState({status:al},function(){s.props.onEntered(l,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:cd.findDOMNode(this);if(!s||mk.disabled){this.safeSetState({status:wa},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:HT},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:wa},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:cd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],u=c[1];this.props.addEndListener(l,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===pd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Vie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Et.createElement(KG.Provider,{value:null},typeof o=="function"?o(i,a):Et.cloneElement(Et.Children.only(o),a))},t})(Et.Component);to.contextType=KG;to.propTypes={};function Jc(){}to.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jc,onEntering:Jc,onEntered:Jc,onExit:Jc,onExiting:Jc,onExited:Jc};to.UNMOUNTED=pd;to.EXITED=wa;to.ENTERING=Aa;to.ENTERED=al;to.EXITING=HT;function NBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xie(e){const t=E.useRef(null);return E.useInsertionEffect(()=>{t.current=e},[e]),E.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const Qie={liveRegionAssertive:"",liveRegionPolite:""},up=ir()(()=>S({},Qie));let Hy,zy;const Zie={setLiveRegionAssertive:e=>{window.clearTimeout(Hy),up.setState({liveRegionAssertive:e}),Hy=window.setTimeout(()=>{up.setState({liveRegionAssertive:""}),Hy=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(zy),up.setState({liveRegionPolite:e}),zy=window.setTimeout(()=>{up.setState({liveRegionPolite:""}),zy=void 0},5e3)}},_k=B(()=>k(()=>import("./dch45l9yrtbjo93p.js"),__vite__mapDeps([5,1])),{loading:e=>z(e)}),vk=B(()=>k(()=>import("./n70q0rscelh7atg0.js"),__vite__mapDeps([6,1])),{loading:e=>z(e)}),ese={[Zt.success]:vk,[Zt.successNeutral]:vk,[Zt.warning]:_k,[Zt.danger]:_k};function tse(e,t,n){let r,i;try{switch(n.intent){case Zt.success:i={defaultMessage:"Success",description:"Prefix for success toast announcements",id:"toast.success"};break;case Zt.warning:i={defaultMessage:"Warning",description:"Prefix for warning toast announcements",id:"toast.warning"};break;case Zt.danger:i={defaultMessage:"Error",description:"Prefix for error toast announcements",id:"toast.error"};break;default:i=void 0}i?r=e.formatMessage({id:"SieQiR",defaultMessage:"{prefix}: {message}"},{prefix:e.formatMessage(i),message:typeof t=="string"?t:e.formatMessage(t)}):r=e.formatMessage({id:"opr5Yt",defaultMessage:"{message}"},{message:typeof t=="string"?t:e.formatMessage(t)}),Zie.setLiveRegionPolite(r)}catch(s){Q.addError(s)}}const nse=({zIndex:e,duration:t,onRemove:n,intent:r=Zt.info,title:i,description:s,hasCloseButton:o,isShown:a=!0,testId:c})=>{"use no forget";const[l,u]=E.useState(0),[d,f]=E.useState(a),h=E.useRef(null),p=E.useRef(null),g=()=>{t&&(p.current=setTimeout(()=>{n==null||n(),v(),f(!1)},t*1e3))},m=Xie(()=>g());E.useEffect(()=>(m(),()=>{v()}),[d]);const v=()=>{p.current&&(clearTimeout(p.current),p.current=null)},y=()=>{v()},T=()=>{g()},b=O=>{if(O===null)return;const{height:w}=O.getBoundingClientRect();u(w)},C=_t();return E.useEffect(()=>{tse(C,i,{intent:r})},[C,i,r]),_.jsx(to,{appear:!0,unmountOnExit:!0,timeout:240,in:d,onExited:n,nodeRef:h,children:O=>{var w;return _.jsx("div",{ref:h,"data-state":O,className:"toast-root",onMouseEnter:y,onMouseLeave:T,style:{height:l,zIndex:e,marginBottom:d?0:-l},children:_.jsx("div",{ref:b,className:"w-full p-1 text-center md:w-auto md:text-justify",children:_.jsxs(qie,{icon:(w=ese[r])!=null?w:void 0,intent:r,onRemove:o?()=>close():void 0,testId:c,children:[_.jsx("div",{className:ve("text-start whitespace-pre-wrap",{"font-semibold":s!=null&&s!==""}),children:typeof i=="string"?i:C.formatMessage(i)}),s&&_.jsx("div",{className:"line-clamp-3 text-start",children:s})]})})})}})},rse="ext-oai-did",RBe="ext-login-allow-phone",PBe="ext-whatsapp-al-flow";function Jg(e){return{[rse]:e}}const kBe=B(()=>k(()=>import("./esv7f70ha9x18nty.js"),__vite__mapDeps([7,1,8,3,4,9,10,11,12,13,14,15])).then(e=>e.NoAuthLoginModal)),JG=B(()=>k(()=>import("./esv7f70ha9x18nty.js"),__vite__mapDeps([7,1,8,3,4,9,10,11,12,13,14,15])).then(e=>e.AuthModal));function MBe(e,t){const n=Ld(),r=I(S({},Jg(ri())),{[Bg]:n});Di(e,JG,{callbackUrl:window.location.href,authorizationParams:r,isUsernameOnTop:t})}function DBe(){"use forget";const e=H.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=Ld(),e[0]=t):t=e[0];const n=t;let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=I(S({},Jg(ri())),{[Bg]:n}),e[1]=r):r=e[1],r}function Ld(e){const t=De.getCookie(Te.AuthSessionLoggingId);if(t)return t;const n=fr();return De.setCookie(Te.AuthSessionLoggingId,n),n}function dp(){De.deleteCookie(Te.AuthSessionLoggingId)}const yk="_sli";function ise(){const e=sessionStorage.getItem(yk);if(e)return e;const t=fr();return sessionStorage.setItem(yk,t),t}function EA(){return De.getCookie(Te.PunchOutInfoToken)}function LBe(){return EA()!=null}const sse=window.location.host+"/ces",ose="https",ase="".concat(ose,"://").concat(sse);function zT(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n.key]=n.value,t),{}):e}var Wn=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.CODEX="Wham",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e.GOLDEN_HOUR="golden_hour",e.CUSTOMIZE_CHATGPT="customize_chatgpt",e.WEB_SANDBOX="web_sandbox",e.ECOSYSTEM="ecosystem",e.CANVAS="canvas",e.COT_SUMMARIZER="cot_summarizer",e.CLASSMATES="classmates",e.REFERRALS="referrals",e.STUDENTS="students",e.TEACHERS="teachers",e.TEAMS="teams",e.WEBSOCKET="ws",e.TATERTOT="tatertot",e.PROJECTS="projects",e.WRITING_BLOCKS="writing_blocks",e.ATLAS="aura,",e.PULSE="pulse",e))(Wn||{});class Ck{constructor(){U(this,"counterMap",new Map);U(this,"histMap",new Map)}}class cse{constructor(){U(this,"metrics",new Ck);U(this,"postUrl","".concat(ase,"/statsc/flush"));U(this,"postInterval",3e4);U(this,"maxPostErrors",10);U(this,"isScheduled",!1);U(this,"numMetricPostErrors",0);U(this,"numLostMetrics",0)}count(t,n,r={},i=1){r=zT(r);const s=this.makeKey(t,n,r);var o=this.metrics.counterMap;const a=o.get(s);a?a.value+=i:o.set(s,{namespace:t,metric:n,tags:r,value:i}),this.scheduleIfNeeded()}hist(t,n,r={},i){r=zT(r);const s=this.makeKey(t,n,r);var o=this.metrics.histMap;const a=o.get(s);a?a.values.push(i):o.set(s,{namespace:t,metric:n,tags:r,values:[i]}),this.scheduleIfNeeded()}makeKey(t,n,r){const i=Object.entries(r).map(([s,o])=>"".concat(s,"=").concat(o)).sort().join(",");return"".concat(t,":").concat(n,":").concat(i)}scheduleIfNeeded(){this.isScheduled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new Ck;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:{},value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:{},value:this.numLostMetrics}));const i={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},s=JSON.stringify(i);try{await Ze.post(this.postUrl,i,{authOption:en.Anonymous}),this.numMetricPostErrors=0}catch(o){o instanceof Ht||Q.addError(o,{json:s}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(Q.addAction("Exceeded maximum number of post errors (".concat(this.maxPostErrors,"). Dropping ").concat(this.numLostMetrics," metrics.")),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const Qn=new cse,jBe=Object.freeze(Object.defineProperty({__proto__:null,Namespace:Wn,convertTagsToKV:zT,statsc:Qn},Symbol.toStringTag,{value:"Module"}));class lse{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:i,options:s,settings:o,getPunchOut:a=()=>{},count:c=(l,u)=>{}}){this.analytics=new Promise(l=>{k(()=>import("./og02pzeg2ww9lpt6.js").then(u=>u.v),__vite__mapDeps([16,1])).then(u=>{if(!u){c("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const d=new u.AnalyticsBrowser;d.addSourceMiddleware(use(this)),l([d])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=i,this.options=s,this.settings=o,this.getPunchOut=a,this.count=c}async initialize({user:t,statsigClient:n}){n&&(this.statsigClient=n);const r={appName:this.appName,appVersion:this.appVersion};this.count("ClientEventsServiceLogger.initialize.start",r),t&&this.identify(t);const[i]=await this.analytics;i.load(this.settings,this.options).catch(()=>{this.count("ClientEventsServiceLogger.initialize.failed",r)}),i.ready(()=>{this.count("ClientEventsServiceLogger.initialize.success",r)})}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}buildEnvelope(t,n){var u,d,f,h,p,g,m,v,y,T;const r=this.getExtraContext(),i=t.$type,s=(u=this.statsigClient)==null?void 0:u.getContext(),o=s==null?void 0:s.user;let a;if(o){let b;o.customIDs&&(b=Object.fromEntries(Object.entries(o.customIDs).filter(w=>typeof w[1]=="string")));let C;if(o.custom){const w=Object.entries(o.custom).flatMap(A=>{const[x,R]=A;if(R===void 0)return[];try{const P=JSON.stringify(R);return P===void 0?[]:[[x,P]]}catch(P){return[]}});w.length>0&&(C=Object.fromEntries(w))}const O={userId:o.userID,customIds:b,email:o.email,ip:o.ip,userAgent:o.userAgent,country:o.country,locale:o.locale,appVersion:o.appVersion,custom:C};a={sessionId:(f=(d=s==null?void 0:s.session)==null?void 0:d.data)==null?void 0:f.sessionID,user:O}}const c={userId:(p=(h=this.user)==null?void 0:h.userId)!=null?p:"",deviceId:this.deviceId,authStatus:String((g=r.auth_status)!=null?g:""),planType:String((v=(m=r.user_traits)==null?void 0:m.plan_type)!=null?v:""),workspaceId:String((T=(y=r.user_traits)==null?void 0:y.workspace_id)!=null?T:"")},l={};return{eventClass:"chatgpt_web",eventId:fr(),eventCreatedAt:new Date().toISOString(),eventType:"client",userParams:c,deviceParams:l,statsig:a,eventParams:S({"@type":"openai.buf.dev/openai/protobuf-analytics-events/".concat(i)},n)}}async trackStructuredEvent(t,n){const r=this.buildEnvelope(t,n),[i]=await this.analytics;i.track("__protobuf_structured_event__",r);const s={platform:"web",event_name:t.$type};this.count("analytics_event_tracked",s)}getExtraContext(){var t;return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?"logged_in":"logged_out",user_traits:(t=this.user)==null?void 0:t.traits,punch_out_info_token:this.getPunchOut()}}}function use(e){return({payload:t,next:n})=>{t.obj.context=S(S({},t.obj.context),e.getExtraContext()),n(t)}}var dse=(e=>(e[e.ACCESS_FLOW_CONNECTION_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_CONNECTION_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_CONNECTION_TYPE_PASSWORD=1]="ACCESS_FLOW_CONNECTION_TYPE_PASSWORD",e[e.ACCESS_FLOW_CONNECTION_TYPE_GOOGLE=2]="ACCESS_FLOW_CONNECTION_TYPE_GOOGLE",e[e.ACCESS_FLOW_CONNECTION_TYPE_MICROSOFT=3]="ACCESS_FLOW_CONNECTION_TYPE_MICROSOFT",e[e.ACCESS_FLOW_CONNECTION_TYPE_APPLE=4]="ACCESS_FLOW_CONNECTION_TYPE_APPLE",e[e.ACCESS_FLOW_CONNECTION_TYPE_SAMLP=5]="ACCESS_FLOW_CONNECTION_TYPE_SAMLP",e[e.ACCESS_FLOW_CONNECTION_TYPE_OIDC=6]="ACCESS_FLOW_CONNECTION_TYPE_OIDC",e[e.ACCESS_FLOW_CONNECTION_TYPE_SSO=7]="ACCESS_FLOW_CONNECTION_TYPE_SSO",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(dse||{}),gd=(e=>(e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_ENTRY_ACTION_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN=1]="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP=2]="ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP=3]="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_CONTINUE_WITH_SOCIAL=4]="ACCESS_FLOW_ENTRY_ACTION_TYPE_CONTINUE_WITH_SOCIAL",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN=5]="ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOG_BACK_IN_MODAL_AUTO_SHOWN=6]="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOG_BACK_IN_MODAL_AUTO_SHOWN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(gd||{}),XG=(e=>(e[e.ACCESS_FLOW_ENTRY_POINT_UNSPECIFIED=0]="ACCESS_FLOW_ENTRY_POINT_UNSPECIFIED",e[e.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL=1]="ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL=26]="ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_FULL_SCREEN=2]="ACCESS_FLOW_ENTRY_POINT_MOBILE_FULL_SCREEN",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_BOTTOM_SHEET=3]="ACCESS_FLOW_ENTRY_POINT_MOBILE_BOTTOM_SHEET",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PAGE=24]="ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PASSWORD_PAGE=25]="ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PASSWORD_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_ANONYMOUS_SIDE_BAR=32]="ACCESS_FLOW_ENTRY_POINT_MOBILE_ANONYMOUS_SIDE_BAR",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_TEMPLATE=4]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_TEMPLATE",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_PROGRESS_BANNER_GPT_5=35]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_PROGRESS_BANNER_GPT_5",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_IMAGE_GEN=36]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_IMAGE_GEN",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_SEND=37]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_SEND",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO=38]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO_TAG=39]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO_TAG",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_DALLE=40]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_DALLE",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_ADAVANCED_DATA_ANALYSIS=41]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_ADAVANCED_DATA_ANALYSIS",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_4O=42]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_4O",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_5_AUTO=43]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_5_AUTO",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_UPGRADE_TO_GO_UPSELL=49]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_UPGRADE_TO_GO_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PLUS_UPSELL=50]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PLUS_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PRO_UPSELL=51]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PRO_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_NEW_CHAT_MODAL=5]="ACCESS_FLOW_ENTRY_POINT_NEW_CHAT_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_SIDEBAR_BOTTOM_UNIT=6]="ACCESS_FLOW_ENTRY_POINT_SIDEBAR_BOTTOM_UNIT",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL=7]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_CHAT_STAGE_HEADER=8]="ACCESS_FLOW_ENTRY_POINT_MOBILE_CHAT_STAGE_HEADER",e[e.ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER=55]="ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER",e[e.ACCESS_FLOW_ENTRY_POINT_LOGIN_PAGE=9]="ACCESS_FLOW_ENTRY_POINT_LOGIN_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_SIGNUP_PAGE=29]="ACCESS_FLOW_ENTRY_POINT_SIGNUP_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_LOGIN_OR_SIGNUP_PAGE=30]="ACCESS_FLOW_ENTRY_POINT_LOGIN_OR_SIGNUP_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_LOGIN_PASSWORD_PAGE=31]="ACCESS_FLOW_ENTRY_POINT_LOGIN_PASSWORD_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_SSO_SELECTION_PAGE=33]="ACCESS_FLOW_ENTRY_POINT_SSO_SELECTION_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_START_PAGE=34]="ACCESS_FLOW_ENTRY_POINT_START_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_FILE_PICKER_RATE_LIMIT_TOOLTIP=10]="ACCESS_FLOW_ENTRY_POINT_FILE_PICKER_RATE_LIMIT_TOOLTIP",e[e.ACCESS_FLOW_ENTRY_POINT_FILE_UPLOAD_RATE_LIMIT_TOAST=11]="ACCESS_FLOW_ENTRY_POINT_FILE_UPLOAD_RATE_LIMIT_TOAST",e[e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIGNUP_BANNER=12]="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIGNUP_BANNER",e[e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_LOGIN_BANNER=13]="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_LOGIN_BANNER",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PLAN_UPSELL_MODAL=14]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PLAN_UPSELL_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PROMO_REDEMPTION_MODAL=15]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PROMO_REDEMPTION_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_IMAGEGEN_NUX_MODAL=16]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_IMAGEGEN_NUX_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_SOFT_RATE_LIMIT_MODAL=17]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_SOFT_RATE_LIMIT_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_VOICE_PICKER_PAGE=18]="ACCESS_FLOW_ENTRY_POINT_VOICE_PICKER_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PUNCH_OUT_SIGN_IN_AS_MODAL=19]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PUNCH_OUT_SIGN_IN_AS_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GPT4_UPSELL=20]="ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GPT4_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GO_UPSELL=21]="ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GO_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL=22]="ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION=23]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_ADD_FILES=44]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_ADD_FILES",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_PICTURE_V2=45]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_PICTURE_V2",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_GPT_5=46]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_GPT_5",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_RESEARCH=47]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_RESEARCH",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_REASON=48]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_REASON",e[e.ACCESS_FLOW_ENTRY_POINT_COMPOSER_PLUS_LOGGED_OUT_UPSELL=27]="ACCESS_FLOW_ENTRY_POINT_COMPOSER_PLUS_LOGGED_OUT_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIDEBAR=28]="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIDEBAR",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL=52]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_ATTACH=53]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_ATTACH",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_MODEL_SWITCHER=54]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_MODEL_SWITCHER",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_DISPATCH_TO_WEB=56]="ACCESS_FLOW_ENTRY_POINT_MOBILE_DISPATCH_TO_WEB",e[e.ACCESS_FLOW_ENTRY_POINT_MFA_SETTING=57]="ACCESS_FLOW_ENTRY_POINT_MFA_SETTING",e[e.ACCESS_FLOW_ENTRY_POINT_RETRIGGER_SSO=58]="ACCESS_FLOW_ENTRY_POINT_RETRIGGER_SSO",e[e.ACCESS_FLOW_ENTRY_POINT_ATLAS_LOGIN_WINDOW=59]="ACCESS_FLOW_ENTRY_POINT_ATLAS_LOGIN_WINDOW",e[e.ACCESS_FLOW_ENTRY_POINT_NOFACE_LOGIN_VIEW=60]="ACCESS_FLOW_ENTRY_POINT_NOFACE_LOGIN_VIEW",e[e.ACCESS_FLOW_ENTRY_POINT_NOFACE_LEGACY_LOGIN_VIEW=61]="ACCESS_FLOW_ENTRY_POINT_NOFACE_LEGACY_LOGIN_VIEW",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(XG||{}),md=(e=>(e[e.ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE=1]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE=22]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT=23]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE=24]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_SSO=33]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_SSO",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_PASSWORD=34]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_PASSWORD",e[e.ACCESS_FLOW_USER_ACTION_TYPE_PREVIOUS_STEP=2]="ACCESS_FLOW_USER_ACTION_TYPE_PREVIOUS_STEP",e[e.ACCESS_FLOW_USER_ACTION_TYPE_EDIT_USERNAME=3]="ACCESS_FLOW_USER_ACTION_TYPE_EDIT_USERNAME",e[e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT=4]="ACCESS_FLOW_USER_ACTION_TYPE_EXIT",e[e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED=25]="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_BUTTON_CLICKED=26]="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_BUTTON_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_RESEND=5]="ACCESS_FLOW_USER_ACTION_TYPE_RESEND",e[e.ACCESS_FLOW_USER_ACTION_TYPE_INPUT=6]="ACCESS_FLOW_USER_ACTION_TYPE_INPUT",e[e.ACCESS_FLOW_USER_ACTION_TYPE_AUTOFILL=7]="ACCESS_FLOW_USER_ACTION_TYPE_AUTOFILL",e[e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL=8]="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL",e[e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE=9]="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_FORGOT_PASSWORD=10]="ACCESS_FLOW_USER_ACTION_TYPE_FORGOT_PASSWORD",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_OTP_DEEPLINK=11]="ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_OTP_DEEPLINK",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_MFA_DEEPLINK=12]="ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_MFA_DEEPLINK",e[e.ACCESS_FLOW_USER_ACTION_TYPE_COPY_RECOVERY_CODE=13]="ACCESS_FLOW_USER_ACTION_TYPE_COPY_RECOVERY_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_TOTP_CODE=14]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_TOTP_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_EMAIL_CODE=15]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_EMAIL_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_RECOVERY_CODE=16]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_RECOVERY_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PUSH_AUTH_CODE=29]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PUSH_AUTH_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_UNKNOWN_FACTOR=17]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_UNKNOWN_FACTOR",e[e.ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_INSTEAD_LINK_CLICKED=18]="ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_INSTEAD_LINK_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_INSTEAD_LINK_CLICKED=19]="ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_INSTEAD_LINK_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_TERMS_OF_USE_CLICK=20]="ACCESS_FLOW_USER_ACTION_TYPE_TERMS_OF_USE_CLICK",e[e.ACCESS_FLOW_USER_ACTION_TYPE_PRIVACY_POLICY_CLICK=21]="ACCESS_FLOW_USER_ACTION_TYPE_PRIVACY_POLICY_CLICK",e[e.ACCESS_FLOW_USER_ACTION_TYPE_WORDMARK_CLICKED=27]="ACCESS_FLOW_USER_ACTION_TYPE_WORDMARK_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_SEND_EMAIL_OTP=28]="ACCESS_FLOW_USER_ACTION_TYPE_SEND_EMAIL_OTP",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CANCEL_WEB_FLOW=30]="ACCESS_FLOW_USER_ACTION_TYPE_CANCEL_WEB_FLOW",e[e.ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_WITH_ONE_TIME_CODE=31]="ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_WITH_ONE_TIME_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_BACK_TO_LOGIN=32]="ACCESS_FLOW_USER_ACTION_TYPE_BACK_TO_LOGIN",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PASSKEY=35]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PASSKEY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(md||{}),_d=(e=>(e[e.ACCESS_FLOW_FIELD_UNSPECIFIED=0]="ACCESS_FLOW_FIELD_UNSPECIFIED",e[e.ACCESS_FLOW_FIELD_EMAIL=1]="ACCESS_FLOW_FIELD_EMAIL",e[e.ACCESS_FLOW_FIELD_PHONE=2]="ACCESS_FLOW_FIELD_PHONE",e[e.ACCESS_FLOW_FIELD_COUNTRY_CODE=3]="ACCESS_FLOW_FIELD_COUNTRY_CODE",e[e.ACCESS_FLOW_FIELD_PASSWORD=4]="ACCESS_FLOW_FIELD_PASSWORD",e[e.ACCESS_FLOW_FIELD_OTP=5]="ACCESS_FLOW_FIELD_OTP",e[e.ACCESS_FLOW_FIELD_NAME=6]="ACCESS_FLOW_FIELD_NAME",e[e.ACCESS_FLOW_FIELD_BIRTHDAY=7]="ACCESS_FLOW_FIELD_BIRTHDAY",e[e.ACCESS_FLOW_FIELD_CONFIRM_PASSWORD=8]="ACCESS_FLOW_FIELD_CONFIRM_PASSWORD",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(_d||{}),cl=(e=>(e[e.ACCESS_FLOW_PAGE_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_PAGE_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_PAGE_TYPE_ABOUT_YOU=1]="ACCESS_FLOW_PAGE_TYPE_ABOUT_YOU",e[e.ACCESS_FLOW_PAGE_TYPE_ADD_EMAIL=2]="ACCESS_FLOW_PAGE_TYPE_ADD_EMAIL",e[e.ACCESS_FLOW_PAGE_TYPE_APPLE_INTELLIGENCE_START=3]="ACCESS_FLOW_PAGE_TYPE_APPLE_INTELLIGENCE_START",e[e.ACCESS_FLOW_PAGE_TYPE_CONTACT_VERIFICATION=4]="ACCESS_FLOW_PAGE_TYPE_CONTACT_VERIFICATION",e[e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER=5]="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER",e[e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER_QUEUED=6]="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER_QUEUED",e[e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_PASSWORD=7]="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_PASSWORD",e[e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_START=8]="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_START",e[e.ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_SEND=9]="ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_SEND",e[e.ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_VERIFICATION=10]="ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_VERIFICATION",e[e.ACCESS_FLOW_PAGE_TYPE_ERROR=11]="ACCESS_FLOW_PAGE_TYPE_ERROR",e[e.ACCESS_FLOW_PAGE_TYPE_EXTERNAL_URL=12]="ACCESS_FLOW_PAGE_TYPE_EXTERNAL_URL",e[e.ACCESS_FLOW_PAGE_TYPE_IDENTITY_VERIFICATION=13]="ACCESS_FLOW_PAGE_TYPE_IDENTITY_VERIFICATION",e[e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL=30]="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL",e[e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL=31]="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL",e[e.ACCESS_FLOW_PAGE_TYPE_LOGIN_OR_SIGNUP_START=14]="ACCESS_FLOW_PAGE_TYPE_LOGIN_OR_SIGNUP_START",e[e.ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSWORD=15]="ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSWORD",e[e.ACCESS_FLOW_PAGE_TYPE_LOGIN_START=16]="ACCESS_FLOW_PAGE_TYPE_LOGIN_START",e[e.ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE=17]="ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE",e[e.ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE_SELECTION=33]="ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE_SELECTION",e[e.ACCESS_FLOW_PAGE_TYPE_MFA_ENROLL=18]="ACCESS_FLOW_PAGE_TYPE_MFA_ENROLL",e[e.ACCESS_FLOW_PAGE_TYPE_PHONE_OTP_SEND=19]="ACCESS_FLOW_PAGE_TYPE_PHONE_OTP_SEND",e[e.ACCESS_FLOW_PAGE_TYPE_PUSH_AUTH_VERIFICATION=20]="ACCESS_FLOW_PAGE_TYPE_PUSH_AUTH_VERIFICATION",e[e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_START=21]="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_START",e[e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_NEW_PASSWORD=22]="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_NEW_PASSWORD",e[e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_SUCCESS=23]="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_SUCCESS",e[e.ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_CONSENT=24]="ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_CONSENT",e[e.ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_ORG=25]="ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_ORG",e[e.ACCESS_FLOW_PAGE_TYPE_SSO=26]="ACCESS_FLOW_PAGE_TYPE_SSO",e[e.ACCESS_FLOW_PAGE_TYPE_TOKEN_EXCHANGE=27]="ACCESS_FLOW_PAGE_TYPE_TOKEN_EXCHANGE",e[e.ACCESS_FLOW_PAGE_TYPE_WORKSPACE=28]="ACCESS_FLOW_PAGE_TYPE_WORKSPACE",e[e.ACCESS_FLOW_PAGE_TYPE_END=29]="ACCESS_FLOW_PAGE_TYPE_END",e[e.ACCESS_FLOW_PAGE_TYPE_MOBILE_LEGACY_FINISH_ONBOARDING=32]="ACCESS_FLOW_PAGE_TYPE_MOBILE_LEGACY_FINISH_ONBOARDING",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(cl||{}),QG=(e=>(e[e.ACCESS_FLOW_VALIDATION_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_VALIDATION_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_VALIDATION_TYPE_BACKEND_API=1]="ACCESS_FLOW_VALIDATION_TYPE_BACKEND_API",e[e.ACCESS_FLOW_VALIDATION_TYPE_CLIENT=2]="ACCESS_FLOW_VALIDATION_TYPE_CLIENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(QG||{}),fse=(e=>(e[e.ACCESS_LOGOUT_ACTION_LOCATION_UNSPECIFIED=0]="ACCESS_LOGOUT_ACTION_LOCATION_UNSPECIFIED",e[e.ACCESS_LOGOUT_ACTION_LOCATION_SSO_CATCH_ALL_MODAL=1]="ACCESS_LOGOUT_ACTION_LOCATION_SSO_CATCH_ALL_MODAL",e[e.ACCESS_LOGOUT_ACTION_LOCATION_INVALID_ACCOUNT_MODAL=2]="ACCESS_LOGOUT_ACTION_LOCATION_INVALID_ACCOUNT_MODAL",e[e.ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN=3]="ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN",e[e.ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_ALL=4]="ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_ALL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(fse||{}),ZG=(e=>(e[e.ACCESS_LOGOUT_TYPE_UNSPECIFIED=0]="ACCESS_LOGOUT_TYPE_UNSPECIFIED",e[e.ACCESS_LOGOUT_TYPE_USER_INITIATED=1]="ACCESS_LOGOUT_TYPE_USER_INITIATED",e[e.ACCESS_LOGOUT_TYPE_SYSTEM_FORCED_LOGOUT=2]="ACCESS_LOGOUT_TYPE_SYSTEM_FORCED_LOGOUT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(ZG||{}),hse=(e=>(e[e.ACCESS_FLOW_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_TYPE_LOGIN=1]="ACCESS_FLOW_TYPE_LOGIN",e[e.ACCESS_FLOW_TYPE_SIGNUP=2]="ACCESS_FLOW_TYPE_SIGNUP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(hse||{});const fp={$type:"protobuf_analytics_events.v1.AccessFlowEntry"},hp={$type:"protobuf_analytics_events.v1.AccessFlowUserAction"},pse={$type:"protobuf_analytics_events.v1.AccessFlowPageLoad"},gse={$type:"protobuf_analytics_events.v1.AccessFlowValidationError"},mse={$type:"protobuf_analytics_events.v1.AccessLogoutAction"},FBe={$type:"protobuf_analytics_events.v1.AccessFlowSuccess"};function _se(){De.deleteCookie(Te.SegmentUserId),De.deleteCookie(Te.SegmentUserTraits),bn.removeItem(zt.SegmentUserId),bn.removeItem(zt.SegmentUserTraits)}const YT=()=>({hash:window.location.hash,path:window.location.pathname,search:window.location.search,url:window.location.href});var SA=(e=>(e.WINDOW_VISIBILITY_STATE_CHANGED="WINDOW_VISIBILITY_STATE_CHANGED",e.WINDOW_FOCUS_CHANGED="WINDOW_FOCUS_CHANGED",e))(SA||{}),Ho=(e=>(e.LOGIN_CHANGED="LOGIN_CHANGED",e.LOGOUT="LOGOUT",e.QUIT="QUIT",e.SET_COMPANION_WINDOW_VISIBILITY="SET_COMPANION_WINDOW_VISIBILITY",e.SET_WEB_RELEASE_PROPERTIES="WEB_RELEASE_PROPERTIES",e.ERROR_THROWN="ERROR_THROWN",e.ZOOM="ZOOM",e.DESKTOP_SETTING_CHANGED="DESKTOP_SETTING_CHANGED",e.HOTKEY_RECORDING_STATE="HOTKEY_RECORDING_STATE",e.ADD_BREADCRUMB="ADD_BREADCRUMB",e))(Ho||{}),E_=(e=>(e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.ZOOM_RESET="ZOOM_RESET",e))(E_||{}),eW=(e=>(e.MICROPHONE="MICROPHONE",e))(eW||{});function UBe(){ot==null||ot.publish(Ho.ZOOM,{command:E_.ZOOM_IN})}function BBe(){ot==null||ot.publish(Ho.ZOOM,{command:E_.ZOOM_OUT})}function GBe(){ot==null||ot.publish(Ho.ZOOM,{command:E_.ZOOM_RESET})}function bk(e){if(Gm){const t=Date.now();ot==null||ot.publish(Ho.ADD_BREADCRUMB,{message:e,epochTimestamp:t})}}class vse{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:i,options:s,settings:o}){U(this,"analytics");U(this,"appName");U(this,"appVersion");U(this,"deviceId");U(this,"browserLocale");U(this,"options");U(this,"settings");U(this,"user");U(this,"isBusinessIp2");this.analytics=new Promise(a=>{k(()=>import("./og02pzeg2ww9lpt6.js").then(c=>c.v),__vite__mapDeps([16,1])).then(c=>{if(!c){Q.addAction("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const l=new c.AnalyticsBrowser;l.addSourceMiddleware(yse(this)),a([l])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=i,this.options=s,this.settings=o}async initialize({user:t}){const n={appName:this.appName,appVersion:this.appVersion};Q.addAction("ClientEventsServiceLogger.initialize.start",n),t&&this.identify(t);const[r]=await this.analytics;r.load(this.settings,this.options).catch(()=>{Q.addAction("ClientEventsServiceLogger.initialize.failed",n)}),r.ready(()=>{Q.addAction("ClientEventsServiceLogger.initialize.success",n)})}async track(t,n){const[r]=await this.analytics;r.track(t,n,{page:YT()}),bk("Web Client Event: ".concat(t," with data: ").concat(JSON.stringify(n)))}async trackPageView(){const t=YT(),[n]=await this.analytics;n.page(void 0,t,{page:t}),bk("Web Client Page View: ".concat(t.path))}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}setBusinessIpFlag(t){this.isBusinessIp2=t}getExtraContext(){var t;return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?Jl.LoggedIn:Jl.LoggedOut,user_traits:(t=this.user)==null?void 0:t.traits,punch_out_info_token:EA(),is_business_ip2:String(!!this.isBusinessIp2)}}}function yse(e){return({payload:t,next:n})=>{t.obj.context=S(S({},t.obj.context),e.getExtraContext()),n(t)}}const tW=ri(),nW=navigator.language,Xg="7b4ad770564e1a05033d9481af8a607f0f63bc7b";function Cse(e,t,n=1){Qn.count(Wn.DEFAULT,e,t,n)}const Ku=new vse({appName:"chatgpt",appVersion:Xg,deviceId:tW,browserLocale:nW,options:GB,settings:WB}),Yy=new lse({appName:"chatgpt",appVersion:Xg,deviceId:tW,browserLocale:nW,options:GB,settings:WB,getPunchOut:EA,count:Cse});function bse(e){const t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="number"||typeof r=="string"||typeof r=="boolean")&&(t[n]=String(r))}),t}const Se={initialize({userInfo:e}={}){var o,a,c,l,u,d;const t=((o=e==null?void 0:e.currentAccount)==null?void 0:o.structure)===er.WORKSPACE?e.currentAccount.id:null,n=e?{userId:e.sessionUser.id,traits:{plan_type:(c=(a=e.currentAccount)==null?void 0:a.planType)!=null?c:null,workspace_id:t,workspace_type:(u=(l=e.currentAccount)==null?void 0:l.workspaceType)!=null?u:null}}:null;Ku.initialize({user:n});const r=At(),i=hr(r),s=xt(r);Ku.setBusinessIpFlag((d=s.isBusinessIp2)!=null?d:!1),Yy.initialize({user:n!=null?n:void 0,statsigClient:i})},logEvent(e,t){Ku.track(e,I(S({},t),{origin:"chat",app_version:Xg}))},logEventWithStatsig(e,t,n){this.logValueEventWithStatsig({segmentEventName:e,statsigEventName:t,data:n})},logValueEventWithStatsig({segmentEventName:e,value:t,statsigEventName:n,data:r}){const i=I(S(S({},t!=null?{value:t}:{}),r),{origin:"chat",app_version:Xg});Ku.track(e,i);const s=bse(i);ft.logEvent(n,t!=null?t:null,s)},logPageView(){Ku.trackPageView()},logStructuredEvent(e,t){Yy.trackStructuredEvent(e,t)},logNewChatButtonClicked({location:e,gizmo_id:t}){this.logEvent("New Chat Button Clicked",{location:e,gizmo_id:t}),ft.logEvent("chatgpt_new_chat_button_clicked",null,{location:e})},logAuthErrorResponse(e,t){this.logEvent("Auth: Error",{error_code:e,providerId:t}),ft.logEvent("chatgpt_auth_error",e,{providerId:t})},logNoAuthAttachButtonClicked(e){this.logEvent("No Auth Attach Button Clicked",e),ft.logEvent("chatgpt_web_no_auth_attach_button_clicked",null,e)},logNoAuthVoiceButtonClicked(e){this.logEvent("No Auth Voice Button Clicked",e),ft.logEvent("chatgpt_web_no_auth_voice_button_clicked",null,e)},logLogInButtonClicked(e,t){this.logEvent("Auth: Login",e),ft.logEvent("chatgpt_auth_log_in",null,e),dp(),this.logStructuredEvent(fp,{authSessionLoggingId:Ld(),actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN,entryPoint:t})},logSignUpButtonClicked(e,t){this.logEvent("Auth: Signup",e),ft.logEvent("chatgpt_auth_sign_up",null,e),dp(),this.logStructuredEvent(fp,{authSessionLoggingId:Ld(),actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP,entryPoint:t})},logLoginOrSignUpButtonClicked(e,t){this.logEvent("Auth: Login or Signup",e),ft.logEvent("chatgpt_auth_log_in_or_sign_up",null,e),dp(),this.logStructuredEvent(fp,{authSessionLoggingId:Ld(),actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP,entryPoint:t})},logLoginModalContinueAction(e,t,n,r){this.logStructuredEvent(hp,{authSessionLoggingId:e,actionType:t,page:n,field:r})},logLogOutButtonClicked(e,t){this.logEvent("Auth: Logout",e),ft.logEvent("chatgpt_auth_log_out",null,e),this.logStructuredEvent(mse,{logoutLocation:t,logoutType:ZG.ACCESS_LOGOUT_TYPE_USER_INITIATED})},logAuthModalShown(e,t){t!=null&&t.isWelcomeBack&&(dp(),Se.logStructuredEvent(fp,{authSessionLoggingId:e,actionType:gd.ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN,entryPoint:XG.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL,cta:"auto-triggerred"})),this.logEventWithStatsig("Auth Modal Shown","chatgpt_auth_modal_shown",t),this.logStructuredEvent(pse,{authSessionLoggingId:e,page:cl.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL})},logAuthModalEmailTyped(e){this.logEventWithStatsig("Auth Modal Email Typed","chatgpt_auth_modal_email_typed",{AUTH_SESSION_LOGGING_ID:e}),Se.logStructuredEvent(hp,{authSessionLoggingId:e,actionType:md.ACCESS_FLOW_USER_ACTION_TYPE_INPUT,page:cl.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:_d.ACCESS_FLOW_FIELD_EMAIL})},logUsernameKindSwitched(e,t){this.logEventWithStatsig("Username Kind Switched","chatgpt_auth_modal_username_kind_switched",{targetKind:t,AUTH_SESSION_LOGGING_ID:e}),Se.logStructuredEvent(hp,{authSessionLoggingId:e,actionType:t=="email"?md.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL:md.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE,page:cl.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL})},logAuthModalPhoneNumberTyped(e){this.logEventWithStatsig("Auth Modal Phone Number Typed","chatgpt_auth_modal_phone_typed",{AUTH_SESSION_LOGGING_ID:e}),Se.logStructuredEvent(hp,{authSessionLoggingId:e,actionType:md.ACCESS_FLOW_USER_ACTION_TYPE_INPUT,page:cl.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:_d.ACCESS_FLOW_FIELD_PHONE})},logAuthModalClosed(e){this.logEventWithStatsig("Auth Modal Closed","chatgpt_auth_modal_closed",e)},logAuthModalInvalidUsername(e,t){this.logEventWithStatsig("Auth Modal Invalid Username",t.usernameKind==="email"?"chatgpt_auth_modal_invalid_email":"chatgpt_auth_modal_invalid_phone_number",t),this.logStructuredEvent(gse,{authSessionLoggingId:e,page:cl.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:t.usernameKind==="email"?_d.ACCESS_FLOW_FIELD_EMAIL:_d.ACCESS_FLOW_FIELD_PHONE,validationType:QG.ACCESS_FLOW_VALIDATION_TYPE_CLIENT})},logAuthModalProfileCardLogin(e){this.logEventWithStatsig("Auth Modal Profile Card Login","chatgpt_auth_modal_profile_card_login",e)},logAuthModalProfileCardRemoval(e){this.logEventWithStatsig("Auth Modal Profile Card Removal","chatgpt_auth_modal_profile_card_removal",e)},logSwitchToGenericLoginOrSignup(e){this.logEventWithStatsig("Auth Modal Switch to Generic Login or Signup","chatgpt_auth_modal_switch_to_generic_login_or_signup",e)},logRateLimitBannerShown(e){let t,n;switch(e.type){case"account_sharing_degrade":t="Account Sharing Degrade: Show Info",n="chatgpt_account_sharing_degrade_banner_shown";break;case"image-gen-multi-stream-banner":t="Image Gen Multi Stream: Show Multitasking Banner",n="chatgpt_image_gen_multi_stream_banner_shown";break;case"pro-mode-async-banner":t="Pro Mode Async Banner: Show Multitasking Banner",n="chatgpt_pro_mode_async_banner_shown";break;case"deep-research-banner":t="Deep Research Banner: Show Multitasking Banner",n="chatgpt_deep_research_banner_shown";break;case"tatertot-in-context-upsell":case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":t="In-Context Upsell Banner: Show Info",n="chatgpt_in_context_upsell_banner_shown";break;case"agent-connector-in-context-upsell":t="Agent Connector In Context Upsell Banner: Show Info",n="chatgpt_agent_connector_in_context_upsell_banner_shown";break;default:t="Rate Limit: Show Info",n="chatgpt_rate_limit_banner_shown";break}this.logEvent(t,e);const o=e,{call_to_action:r}=o,s=W(o,["call_to_action"]);r==null||r.forEach((a,c)=>{s["call_to_action.".concat(c)]=a}),ft.logEvent(n,null,I(S({},s),{is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()}))},logRateLimitGetPlusButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),ft.logEvent("chatgpt_rate_limit_get_plus_button_clicked",null,I(S({},e),{is_new_conversation:e.is_new_conversation?e.is_new_conversation.toString():"",is_hard_block:e.is_hard_block.toString()}))},logRateLimitUpgradePlanButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),ft.logEvent("chatgpt_rate_limit_upgrade_plan_button_clicked",null,I(S({},e),{is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()}))},logPopoverHover(e){this.logEvent("Popover Hover",e),ft.logEvent("chatgpt_popover_hover",null,e)},logUpsellGetPlusButtonClicked(e){this.logEventWithStatsig("Upsell: Get Plus Clicked","chatgpt_upsell_get_plus_button_clicked",e)},logToggleShowRecents({isOnlyShowingRecents:e}){this.logEvent("Toggle Show Recents",{isOnlyShowingRecents:e}),ft.logEvent("chatgpt_toggle_show_recents",null,{isOnlyShowingRecents:String(e)})},logToggleShowGptList({isCollapsed:e}){this.logEvent("Toggle Show GPT List",{isCollapsed:e})},logToggleDesktopNavCollapsed({isDesktopNavCollapsed:e,action:t}){this.logEvent("Toggle Desktop Nav Collapsed",{isDesktopNavCollapsed:e}),ft.logEvent("chatgpt_toggle_desktop_nav_collapsed",null,{isDesktopNavCollapsed:String(e),action:t})},logTogglePlanManagementModal({isOpen:e}){const t="chatgpt_toggle_plan_management_modal";this.logEvent("Toggle Plan Management Modal",{isOpen:e}),ft.logEvent(t,null,{isOpen:String(e)})},logPaymentSuccess(e){this.logEvent("Subscription: Payment Success Page",e),ft.logEvent("chatgpt_plan_payment_success_page",null,e)},logNetworkError(e){this.logEvent("chatgpt_web_network_error",e),ft.logEvent("chatgpt_web_network_error",null,e)},logFailedToFetchError(e){this.logEvent("chatgpt_web_failed_to_fetch",e),ft.logEvent("chatgpt_web_failed_to_fetch",null,e)},logUpsellOrModalEvent(e,t){Yy.trackStructuredEvent(e,S({sessionId:ise()},t))}},Ek=e=>Object.hasOwnProperty.call(e,"id");let Ese=0;class Sse{constructor(){U(this,"toasts$",we([]))}notify(t,n){if(Ek(n))for(const i of this.toasts$())String(i.id).startsWith(n.id)&&this.closeToast(i.id);const r=this.createToastInstance(t,n);return this.toasts$.set(i=>[r,...i]),r}createToastInstance(t,n){var s;const r=++Ese,i=Ek(n)?"".concat(n.id,"-").concat(r):r;return{id:i,title:t,description:n.description,hasCloseButton:!!n.hasCloseButton,duration:typeof n.duration=="number"?n.duration:5,close:()=>this.closeToast(i),onRemove:n.onRemove,intent:(s=n.intent)!=null?s:Zt.info,isShown:!0,testId:n.testId}}closeToast(t){this.toasts$.set(n=>n.map(r=>r.id===t?I(S({},r),{isShown:!1}):r))}removeToast(t){nn(()=>{var n,r;(r=(n=this.toasts$().find(i=>i.id===t))==null?void 0:n.onRemove)==null||r.call(n)}),this.toasts$.set(n=>n.filter(r=>r.id!==t))}closeAll(){nn(()=>{this.toasts$().forEach(t=>t.close())})}info(t,n){return this.notify(t,I(S({},n),{intent:Zt.info}))}success(t,n){return this.notify(t,I(S({},n),{intent:Zt.success}))}successNeutral(t,n){return this.notify(t,I(S({},n),{intent:Zt.successNeutral}))}warning(t,n){return this.notify(t,I(S({},n),{intent:Zt.warning}))}danger(t,n){var o,a,c,l,u;const r=t;let i="",s="";return typeof t=="string"?i=t:(i=String((o=t.defaultMessage)!=null?o:""),s=String((a=t.description)!=null?a:"")),n!=null&&n.error&&!n.description&&(n=I(S({},n),{description:Ose(n.error)})),Se.logEvent("error_toast_shown",{category:(c=n==null?void 0:n.toastId)!=null?c:"unknown",title:(l=n==null?void 0:n.loggingTitle)!=null?l:i,description:(u=n==null?void 0:n.loggingDescription)!=null?u:s}),this.notify(r,I(S({},n),{intent:Zt.danger}))}}function Ose(e){var t;if(typeof e=="string")return e;if(e instanceof Ht&&typeof((t=e.detail)==null?void 0:t.details)=="string")return e.detail.details;if(e instanceof Error)return e.message}const S_=ut(()=>new Sse);function Fn(){"use forget";const e=H.c(2),t=re();let n;return e[0]!==t?(n=S_(t),e[0]=t,e[1]=n):n=e[1],n}function Tse(){"use forget";const e=H.c(5),t=re(),n=S_(t),i=Fe(n.toasts$).filter(wse);if(i.length===0)return null;const s=ah,o="toaster_boundary_error",a="pointer-events-none fixed inset-0 z-60 mx-auto my-2 flex max-w-[728px] flex-col items-stretch justify-start md:pb-5",c=i.map(d=>{const p=d,{id:f}=p,h=W(p,["id"]);return _.jsx(nse,I(S({},h),{onRemove:()=>n.removeToast(f)}),f)});let l;e[0]!==c?(l=_.jsx("span",{className:a,children:c}),e[0]=c,e[1]=l):l=e[1];let u;return e[2]!==s||e[3]!==l?(u=_.jsx(s,{name:o,children:l}),e[2]=s,e[3]=l,e[4]=u):u=e[4],u}function wse(e){return e.isShown!==!1}function ks(){return En({queryKey:["userSettings"],queryFn:async()=>{const e=Z.safeGet("/settings/user",{authOption:en.SendIfAvailable});Q.addFirstTiming("load.userSettings");const t=await e;return iW(sW(t)),t}})}function rW(e){const t=De.getCookie(Te.LastUsedModelConfig);if(t)try{const r=JSON.parse(t);if(r&&typeof r=="object"&&(r.model===void 0||typeof r.model=="string")&&(r.effort===void 0||typeof r.effort=="string")){const i=r;return Vg(e,i.model)?(De.deleteCookie(Te.LastUsedModelConfig),{}):i}}catch(r){}const n=De.getCookie(Te.LastUsedModel);if(n&&(De.deleteCookie(Te.LastUsedModel),!Vg(e,n))){const r={model:n};return iW(r),r}return{}}function iW(e){try{e.model?De.setCookie(Te.LastUsedModelConfig,JSON.stringify(e),{path:"/",maxAge:3600*24*30}):De.deleteCookie(Te.LastUsedModelConfig)}catch(t){}}function sW(e){var i,s,o,a,c;const t=(i=e.settings)==null?void 0:i[pc.LastUsedModelConfig],n=(s=t==null?void 0:t.slugs[fd.WEB])!=null?s:t==null?void 0:t.slugs[fd.DEFAULT],r=n?(c=(o=t==null?void 0:t.juices[fd.WEB])==null?void 0:o[n])!=null?c:(a=t==null?void 0:t.juices[fd.DEFAULT])==null?void 0:a[n]:void 0;return{model:n,effort:r}}const bu=Be(e=>hn(e,()=>I(S({},ks()),{enabled:St(e)}))),oW=E.createContext(void 0);function Ase(e){"use forget";const t=H.c(5),{children:n}=e,r=re();let i;t[0]!==r?(i=()=>bu(r),t[0]=r,t[1]=i):i=t[1];const s=Fe(i);let o;return t[2]!==n||t[3]!==s?(o=_.jsx(oW.Provider,{value:s,children:n}),t[2]=n,t[3]=s,t[4]=o):o=t[4],o}function xse(){"use forget";const e=H.c(3),t=re(),n=E.use(oW);let r;return e[0]!==n||e[1]!==t?(r=()=>pu(t,"user-settings-context")?Pi(n):bu(t),e[0]=n,e[1]=t,e[2]=r):r=e[2],Fe(r)}function Ise(e,t){var n,r;return(r=(n=bu(e).data)==null?void 0:n.settings)==null?void 0:r[t]}function WBe(e){"use forget";var o;const t=H.c(3),{data:n,isLoading:r}=xse(),i=(o=n==null?void 0:n.settings)==null?void 0:o[e];let s;return t[0]!==r||t[1]!==i?(s={data:i,isLoading:r},t[0]=r,t[1]=i,t[2]=s):s=t[2],s}const qBe=ut(e=>n_(e,{mutationFn:async({modelSlug:t,thinkingEffort:n})=>{if(!Vg(e,t))return await Z.safePatch("/settings/user_last_used_model_config",{parameters:{query:{model_slug:t,thinking_effort:n}}})},onSuccess:()=>{tn(e).invalidateQueries(ks())}}));function Nse(e=!1){const t=Yt(),n=Fn(),r=_t(),i=Tt({updatePermissionError:{id:"user.permissions.updatePermissionError",defaultMessage:"Unable to update permissions: {error}"}});return Kt({mutationFn:({setting:s,value:o,account_id:a})=>{const c=typeof o=="string"||typeof o=="boolean"?o.toString():JSON.stringify(o),l=a?{"ChatGPT-Account-ID":a}:{};return Z.safePatch("/settings/account_user_setting",{additionalHeaders:l,parameters:{query:{feature:s,value:c}}})},onMutate:async({setting:s,value:o})=>{if(e){await t.cancelQueries(ks());const a=t.getQueryData(ks().queryKey);return t.setQueryData(ks().queryKey,c=>c!=null&&c.settings?I(S({},c),{settings:I(S({},c.settings),{[s]:o})}):c),{previousValue:a}}},onError:(s,o,a)=>{e&&a!==void 0&&t.setQueryData(ks().queryKey,a.previousValue);const c=s;c&&c.status===403&&c.code==="feature-locked-by-owner"&&n.danger(r.formatMessage(i.updatePermissionError,{error:c.message})),o.setting===pc.AtlasAdultSearchAllowed&&c&&c.status===403&&c.code==="immutable-setting"&&n.danger(r.formatMessage(i.updatePermissionError,{error:c.message}))},onSuccess:(s,{setting:o})=>{t.invalidateQueries(ks()),o===pc.DeveloperMode&&t.invalidateQueries(eu("connectors"))}})}const aW=()=>En({queryKey:["userIsAdult"],queryFn:async()=>await Z.safeGet("/settings/is_adult",{authOption:en.SendIfAvailable})}),Rse=Be(e=>hn(e,()=>I(S({},aW()),{enabled:St(e)})));function VBe(e){return Rse(e).data}function $Be(){const e=Yt();return Kt({mutationFn:()=>Z.safePost("/settings/clear_is_adult_caches",{}),onSuccess:()=>{e.invalidateQueries(ks()),e.invalidateQueries(aW())}})}const Pse="USD",HBe="GBP",zBe="EUR",YBe="INR",KBe="IDR",JBe="PKR",XBe="THB",QBe="MYR",ZBe="VND",e6e="PHP",kse={USD:"$",GBP:"Â£",EUR:"â‚¬",INR:"â‚¹",IDR:"Rp",PKR:"â‚¨",THB:"à¸¿",MYR:"RM",VND:"â‚«",PHP:"â‚±",NGN:"â‚¦",ZAR:"R",KZT:"â‚¸",TZS:"TSh",EGP:"EÂ£",BRL:"R$",SEK:"kr",CZK:"KÄ",PLN:"zÅ‚",DKK:"kr",NOK:"kr"},Mse={USD:2,GBP:2,EUR:2,INR:2,IDR:2,PKR:2,THB:2,MYR:2,VND:0,PHP:2,NGN:2,ZAR:2,KZT:2,TZS:2,EGP:2,BRL:2,SEK:2,CZK:2,PLN:2,DKK:2,NOK:2};function Dse(e){const t=kse[e],n=e.toLowerCase();return{sign:{id:"currencyCodes.".concat(n,"Sign"),defaultMessage:t,description:"Currency sign/symbol for ".concat(e,".")},code:{id:"currencyCodes.".concat(n,"Code"),defaultMessage:e,description:"Abbreviated currency code for ".concat(e,".")}}}function t6e(e){return Mse[e.toUpperCase()]}Dse("USD");function ch(e){return e===be.EDUCATION_CBP||e===be.DEPRECATED_EDU||e===be.K12}function cW(e){return e===be.ENTERPRISE_CBP||e===be.DEPRECATED_ENTERPRISE}function O_(e){return cW(e)||ch(e)}function n6e(e){return e===be.SELF_SERVE_BUSINESS||e===be.ENTERPRISE_CBP||e===be.EDUCATION_CBP||e===be.QUORUM||e===be.DEPRECATED_ENTERPRISE||e===be.DEPRECATED_EDU||e===be.K12||e===be.FREE_WORKSPACE}var Ky,Sk;function Lse(){if(Sk)return Ky;Sk=1;var e=C_();function t(){this.__data__=new e,this.size=0}return Ky=t,Ky}var Jy,Ok;function jse(){if(Ok)return Jy;Ok=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Jy=e,Jy}var Xy,Tk;function Fse(){if(Tk)return Xy;Tk=1;function e(t){return this.__data__.get(t)}return Xy=e,Xy}var Qy,wk;function Use(){if(wk)return Qy;wk=1;function e(t){return this.__data__.has(t)}return Qy=e,Qy}var Zy,Ak;function Bse(){if(Ak)return Zy;Ak=1;var e=C_(),t=yA(),n=CA(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var c=a.__data__;if(!t||c.length<r-1)return c.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(s,o),this.size=a.size,this}return Zy=i,Zy}var eC,xk;function OA(){if(xk)return eC;xk=1;var e=C_(),t=Lse(),n=jse(),r=Fse(),i=Use(),s=Bse();function o(a){var c=this.__data__=new e(a);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,eC=o,eC}var tC,Ik;function Gse(){if(Ik)return tC;Ik=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return tC=t,tC}var nC,Nk;function Wse(){if(Nk)return nC;Nk=1;function e(t){return this.__data__.has(t)}return nC=e,nC}var rC,Rk;function lW(){if(Rk)return rC;Rk=1;var e=CA(),t=Gse(),n=Wse();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,rC=r,rC}var iC,Pk;function qse(){if(Pk)return iC;Pk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return iC=e,iC}var sC,kk;function uW(){if(kk)return sC;kk=1;function e(t,n){return t.has(n)}return sC=e,sC}var oC,Mk;function dW(){if(Mk)return oC;Mk=1;var e=lW(),t=qse(),n=uW(),r=1,i=2;function s(o,a,c,l,u,d){var f=c&r,h=o.length,p=a.length;if(h!=p&&!(f&&p>h))return!1;var g=d.get(o),m=d.get(a);if(g&&m)return g==a&&m==o;var v=-1,y=!0,T=c&i?new e:void 0;for(d.set(o,a),d.set(a,o);++v<h;){var b=o[v],C=a[v];if(l)var O=f?l(C,b,v,a,o,d):l(b,C,v,o,a,d);if(O!==void 0){if(O)continue;y=!1;break}if(T){if(!t(a,function(w,A){if(!n(T,A)&&(b===w||u(b,w,c,l,d)))return T.push(A)})){y=!1;break}}else if(!(b===C||u(b,C,c,l,d))){y=!1;break}}return d.delete(o),d.delete(a),y}return oC=s,oC}var aC,Dk;function fW(){if(Dk)return aC;Dk=1;var e=Li(),t=e.Uint8Array;return aC=t,aC}var cC,Lk;function Vse(){if(Lk)return cC;Lk=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return cC=e,cC}var lC,jk;function TA(){if(jk)return lC;jk=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return lC=e,lC}var uC,Fk;function $se(){if(Fk)return uC;Fk=1;var e=yu(),t=fW(),n=v_(),r=dW(),i=Vse(),s=TA(),o=1,a=2,c="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",T=e?e.prototype:void 0,b=T?T.valueOf:void 0;function C(O,w,A,x,R,P,L){switch(A){case y:if(O.byteLength!=w.byteLength||O.byteOffset!=w.byteOffset)return!1;O=O.buffer,w=w.buffer;case v:return!(O.byteLength!=w.byteLength||!P(new t(O),new t(w)));case c:case l:case f:return n(+O,+w);case u:return O.name==w.name&&O.message==w.message;case h:case g:return O==w+"";case d:var D=i;case p:var F=x&o;if(D||(D=s),O.size!=w.size&&!F)return!1;var G=L.get(O);if(G)return G==w;x|=a,L.set(O,w);var Y=r(D(O),D(w),x,R,P,L);return L.delete(O),Y;case m:if(b)return b.call(O)==b.call(w)}return!1}return uC=C,uC}var dC,Uk;function wA(){if(Uk)return dC;Uk=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return dC=e,dC}var fC,Bk;function Mr(){if(Bk)return fC;Bk=1;var e=Array.isArray;return fC=e,fC}var hC,Gk;function hW(){if(Gk)return hC;Gk=1;var e=wA(),t=Mr();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return hC=n,hC}var pC,Wk;function Hse(){if(Wk)return pC;Wk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return pC=e,pC}var gC,qk;function pW(){if(qk)return gC;qk=1;function e(){return[]}return gC=e,gC}var mC,Vk;function AA(){if(Vk)return mC;Vk=1;var e=Hse(),t=pW(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return mC=s,mC}var _C,$k;function zse(){if($k)return _C;$k=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return _C=e,_C}var vC,Hk;function ca(){if(Hk)return vC;Hk=1;function e(t){return t!=null&&typeof t=="object"}return vC=e,vC}var yC,zk;function Yse(){if(zk)return yC;zk=1;var e=Cu(),t=ca(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return yC=r,yC}var CC,Yk;function xA(){if(Yk)return CC;Yk=1;var e=Yse(),t=ca(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return CC=s,CC}var vd={exports:{}},bC,Kk;function Kse(){if(Kk)return bC;Kk=1;function e(){return!1}return bC=e,bC}vd.exports;var Jk;function IA(){return Jk||(Jk=1,(function(e,t){var n=Li(),r=Kse(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,c=a?a.isBuffer:void 0,l=c||r;e.exports=l})(vd,vd.exports)),vd.exports}var EC,Xk;function T_(){if(Xk)return EC;Xk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i==null?e:i,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return EC=n,EC}var SC,Qk;function NA(){if(Qk)return SC;Qk=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return SC=t,SC}var OC,Zk;function Jse(){if(Zk)return OC;Zk=1;var e=Cu(),t=NA(),n=ca(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",c="[object Function]",l="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",p="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",T="[object Float64Array]",b="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",x="[object Uint16Array]",R="[object Uint32Array]",P={};P[y]=P[T]=P[b]=P[C]=P[O]=P[w]=P[A]=P[x]=P[R]=!0,P[r]=P[i]=P[m]=P[s]=P[v]=P[o]=P[a]=P[c]=P[l]=P[u]=P[d]=P[f]=P[h]=P[p]=P[g]=!1;function L(D){return n(D)&&t(D.length)&&!!P[e(D)]}return OC=L,OC}var TC,eM;function w_(){if(eM)return TC;eM=1;function e(t){return function(n){return t(n)}}return TC=e,TC}var yd={exports:{}};yd.exports;var tM;function RA(){return tM||(tM=1,(function(e,t){var n=qG(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch(l){}})();e.exports=a})(yd,yd.exports)),yd.exports}var wC,nM;function gW(){if(nM)return wC;nM=1;var e=Jse(),t=w_(),n=RA(),r=n&&n.isTypedArray,i=r?t(r):e;return wC=i,wC}var AC,rM;function mW(){if(rM)return AC;rM=1;var e=zse(),t=xA(),n=Mr(),r=IA(),i=T_(),s=gW(),o=Object.prototype,a=o.hasOwnProperty;function c(l,u){var d=n(l),f=!d&&t(l),h=!d&&!f&&r(l),p=!d&&!f&&!h&&s(l),g=d||f||h||p,m=g?e(l.length,String):[],v=m.length;for(var y in l)(u||a.call(l,y))&&!(g&&(y=="length"||h&&(y=="offset"||y=="parent")||p&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,v)))&&m.push(y);return m}return AC=c,AC}var xC,iM;function PA(){if(iM)return xC;iM=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return xC=t,xC}var IC,sM;function _W(){if(sM)return IC;sM=1;function e(t,n){return function(r){return t(n(r))}}return IC=e,IC}var NC,oM;function Xse(){if(oM)return NC;oM=1;var e=_W(),t=e(Object.keys,Object);return NC=t,NC}var RC,aM;function Qse(){if(aM)return RC;aM=1;var e=PA(),t=Xse(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return RC=i,RC}var PC,cM;function Eu(){if(cM)return PC;cM=1;var e=VG(),t=NA();function n(r){return r!=null&&t(r.length)&&!e(r)}return PC=n,PC}var kC,lM;function Su(){if(lM)return kC;lM=1;var e=mW(),t=Qse(),n=Eu();function r(i){return n(i)?e(i):t(i)}return kC=r,kC}var MC,uM;function vW(){if(uM)return MC;uM=1;var e=hW(),t=AA(),n=Su();function r(i){return e(i,n,t)}return MC=r,MC}var DC,dM;function Zse(){if(dM)return DC;dM=1;var e=vW(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,c,l,u){var d=a&t,f=e(s),h=f.length,p=e(o),g=p.length;if(h!=g&&!d)return!1;for(var m=h;m--;){var v=f[m];if(!(d?v in o:r.call(o,v)))return!1}var y=u.get(s),T=u.get(o);if(y&&T)return y==o&&T==s;var b=!0;u.set(s,o),u.set(o,s);for(var C=d;++m<h;){v=f[m];var O=s[v],w=o[v];if(c)var A=d?c(w,O,v,o,s,u):c(O,w,v,s,o,u);if(!(A===void 0?O===w||l(O,w,a,c,u):A)){b=!1;break}C||(C=v=="constructor")}if(b&&!C){var x=s.constructor,R=o.constructor;x!=R&&"constructor"in s&&"constructor"in o&&!(typeof x=="function"&&x instanceof x&&typeof R=="function"&&R instanceof R)&&(b=!1)}return u.delete(s),u.delete(o),b}return DC=i,DC}var LC,fM;function eoe(){if(fM)return LC;fM=1;var e=Nc(),t=Li(),n=e(t,"DataView");return LC=n,LC}var jC,hM;function toe(){if(hM)return jC;hM=1;var e=Nc(),t=Li(),n=e(t,"Promise");return jC=n,jC}var FC,pM;function yW(){if(pM)return FC;pM=1;var e=Nc(),t=Li(),n=e(t,"Set");return FC=n,FC}var UC,gM;function noe(){if(gM)return UC;gM=1;var e=Nc(),t=Li(),n=e(t,"WeakMap");return UC=n,UC}var BC,mM;function A_(){if(mM)return BC;mM=1;var e=eoe(),t=yA(),n=toe(),r=yW(),i=noe(),s=Cu(),o=$G(),a="[object Map]",c="[object Object]",l="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),p=o(t),g=o(n),m=o(r),v=o(i),y=s;return(e&&y(new e(new ArrayBuffer(1)))!=f||t&&y(new t)!=a||n&&y(n.resolve())!=l||r&&y(new r)!=u||i&&y(new i)!=d)&&(y=function(T){var b=s(T),C=b==c?T.constructor:void 0,O=C?o(C):"";if(O)switch(O){case h:return f;case p:return a;case g:return l;case m:return u;case v:return d}return b}),BC=y,BC}var GC,_M;function roe(){if(_M)return GC;_M=1;var e=OA(),t=dW(),n=$se(),r=Zse(),i=A_(),s=Mr(),o=IA(),a=gW(),c=1,l="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function p(g,m,v,y,T,b){var C=s(g),O=s(m),w=C?u:i(g),A=O?u:i(m);w=w==l?d:w,A=A==l?d:A;var x=w==d,R=A==d,P=w==A;if(P&&o(g)){if(!o(m))return!1;C=!0,x=!1}if(P&&!x)return b||(b=new e),C||a(g)?t(g,m,v,y,T,b):n(g,m,w,v,y,T,b);if(!(v&c)){var L=x&&h.call(g,"__wrapped__"),D=R&&h.call(m,"__wrapped__");if(L||D){var F=L?g.value():g,G=D?m.value():m;return b||(b=new e),T(F,G,v,y,b)}}return P?(b||(b=new e),r(g,m,v,y,T,b)):!1}return GC=p,GC}var WC,vM;function kA(){if(vM)return WC;vM=1;var e=roe(),t=ca();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return WC=n,WC}var qC,yM;function ioe(){if(yM)return qC;yM=1;var e=kA();function t(n,r){return e(n,r)}return qC=t,qC}var soe=ioe();const MA=Gt(soe);function CW(e){return e!==be.FREE&&e!==be.FREE_WORKSPACE}function r6e(e){try{const n=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(const i of n)r.push(i.segment);return r}catch(t){return e.split("")}}function ooe(e){const t=[];for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r!==void 0&&(t.push(r),r>65535&&n++)}return t}function aoe(e){const t=e.trim();if("Intl"in window&&"Segmenter"in Intl){const n=navigator.language||"en-US",i=new Intl.Segmenter(n,{granularity:"word"}).segment(t);let s=0;for(const o of i)o.isWordLike&&s++;return s}return t.split(/\s+/).filter(n=>n.length>0).length}function CM(e){return String.fromCodePoint(...e)}function i6e(e){return e.replaceAll(/[\s_]+/g,"-").replaceAll(/([a-z0-9])([A-Z])/g,"$1-$2").replaceAll(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replaceAll(/-+/g,"-").toLowerCase()}let KT;function coe(){let e;return{promise:new Promise(n=>{e=n}),resolve:e}}const{promise:loe,resolve:uoe}=coe();function s6e(e){KT=e,uoe(e)}const bM=1e4;async function x_(){if(KT)return KT;try{return await Promise.race([loe,new Promise((t,n)=>setTimeout(()=>n(new Error("Aura host initialization timed out")),bM))])}catch(e){throw $l.error("Aura host failed to initialize before whisper request",{timeout_ms:bM,error_message:e&&typeof e=="object"&&"message"in e?e.message:String(e)}),e instanceof Error?e:new Error(String(e))}}async function o6e(){try{return await(await x_()).getHost().getToolNames()}catch(e){return null}}const EM=e=>e;class doe{static async getTask({taskId:t}){return Z.safeGet("/task/{task_id}",{parameters:{path:{task_id:t}}})}static async cancelTask({taskId:t}){return Z.safePost("/task/cancel",{requestBody:{task_id:t}})}static async answerNowTask({taskId:t}){return Z.safePost("/task/answer_now",{requestBody:{task_id:t}})}static async getTasks({cursor:t}){return Z.safeGet("/tasks",{parameters:{query:{cursor:t!=null?t:null}}})}static async addResultMessage({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return Z.safePost("/task/add_result_message",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}static async interruptTask({taskId:t,prompt:n}){return Z.safePost("/task/interrupt",{requestBody:{task_id:t,prompt:n}})}static async addResultMessageToCanvas({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return Z.safePost("/task/add_result_message_to_canvas",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}}async function foe(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function hoe(e){let t,n,r,i=!1;return function(o){t===void 0?(t=o,n=0,r=-1):t=goe(t,o);const a=t.length;let c=0;for(;n<a;){i&&(t[n]===10&&(c=++n),i=!1);let l=-1;for(;n<a&&l===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-c);break;case 13:i=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),r),c=n,r=-1}c===a?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function poe(e,t,n){let r=SM();const i=new TextDecoder;return function(o,a){if(o.length===0)n==null||n(r),r=SM();else if(a>0){const c=i.decode(o.subarray(0,a)),l=a+(o[a+1]===32?2:1),u=i.decode(o.subarray(l));switch(c){case"data":r.data=r.data?r.data+"\n"+u:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(r.retry=d);break}}}}function goe(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function SM(){return{data:"",event:"",id:"",retry:void 0}}var moe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Qg="text/event-stream",_oe=1e3,OM="last-event-id";function voe(e,t){var{signal:n,headers:r,onopen:i,onmessage:s,onclose:o,onerror:a,openWhenHidden:c,fetch:l}=t,u=moe(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,f)=>{const h=Object.assign({},r);h.accept||(h.accept=Qg);let p;function g(){p.abort(),document.hidden||C()}c||document.addEventListener("visibilitychange",g);let m=_oe,v=0;function y(){document.removeEventListener("visibilitychange",g),window.clearTimeout(v),p.abort()}n==null||n.addEventListener("abort",()=>{y(),d()});const T=l!=null?l:window.fetch,b=i!=null?i:yoe;async function C(){var O;p=new AbortController;try{const w=await T(e,Object.assign(Object.assign({},u),{headers:h,signal:p.signal}));await b(w),await foe(w.body,hoe(poe(A=>{A?h[OM]=A:delete h[OM]},A=>{m=A},s))),o==null||o(),y(),d()}catch(w){if(!p.signal.aborted)try{const A=(O=a==null?void 0:a(w))!==null&&O!==void 0?O:m;window.clearTimeout(v),v=window.setTimeout(C,A)}catch(A){y(),f(A)}}}C()})}function yoe(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(Qg)))throw new Error("Expected content-type to be ".concat(Qg,", Actual: ").concat(t))}var VC,TM;function Coe(){if(TM)return VC;TM=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return VC=e,VC}var boe=Coe();const Us=Gt(boe);var $C,wM;function Eoe(){if(wM)return $C;wM=1;var e=yu(),t=xA(),n=Mr(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return $C=i,$C}var HC,AM;function bW(){if(AM)return HC;AM=1;var e=wA(),t=Eoe();function n(r,i,s,o,a){var c=-1,l=r.length;for(s||(s=t),a||(a=[]);++c<l;){var u=r[c];i>0&&s(u)?i>1?n(u,i-1,s,o,a):e(a,u):o||(a[a.length]=u)}return a}return HC=n,HC}var zC,xM;function DA(){if(xM)return zC;xM=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return zC=e,zC}var YC,IM;function lh(){if(IM)return YC;IM=1;var e=Cu(),t=ca(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return YC=r,YC}var KC,NM;function LA(){if(NM)return KC;NM=1;var e=Mr(),t=lh(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return KC=i,KC}var JC,RM;function Soe(){if(RM)return JC;RM=1;var e=HG(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return JC=n,JC}var XC,PM;function Ooe(){if(PM)return XC;PM=1;var e=Soe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,c,l){s.push(c?l.replace(n,"$1"):a||o)}),s});return XC=r,XC}var QC,kM;function Toe(){if(kM)return QC;kM=1;var e=yu(),t=DA(),n=Mr(),r=lh(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return QC=o,QC}var ZC,MM;function woe(){if(MM)return ZC;MM=1;var e=Toe();function t(n){return n==null?"":e(n)}return ZC=t,ZC}var eb,DM;function I_(){if(DM)return eb;DM=1;var e=Mr(),t=LA(),n=Ooe(),r=woe();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return eb=i,eb}var tb,LM;function uh(){if(LM)return tb;LM=1;var e=lh();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return tb=t,tb}var nb,jM;function N_(){if(jM)return nb;jM=1;var e=I_(),t=uh();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return nb=n,nb}var rb,FM;function Aoe(){if(FM)return rb;FM=1;var e=OA(),t=kA(),n=1,r=2;function i(s,o,a,c){var l=a.length,u=l,d=!c;if(s==null)return!u;for(s=Object(s);l--;){var f=a[l];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++l<u;){f=a[l];var h=f[0],p=s[h],g=f[1];if(d&&f[2]){if(p===void 0&&!(h in s))return!1}else{var m=new e;if(c)var v=c(p,g,h,s,o,m);if(!(v===void 0?t(g,p,n|r,c,m):v))return!1}}return!0}return rb=i,rb}var ib,UM;function EW(){if(UM)return ib;UM=1;var e=ji();function t(n){return n===n&&!e(n)}return ib=t,ib}var sb,BM;function xoe(){if(BM)return sb;BM=1;var e=EW(),t=Su();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return sb=n,sb}var ob,GM;function SW(){if(GM)return ob;GM=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return ob=e,ob}var ab,WM;function Ioe(){if(WM)return ab;WM=1;var e=Aoe(),t=xoe(),n=SW();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return ab=r,ab}var cb,qM;function Noe(){if(qM)return cb;qM=1;var e=N_();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return cb=t,cb}var lb,VM;function Roe(){if(VM)return lb;VM=1;function e(t,n){return t!=null&&n in Object(t)}return lb=e,lb}var ub,$M;function Poe(){if($M)return ub;$M=1;var e=I_(),t=xA(),n=Mr(),r=T_(),i=NA(),s=uh();function o(a,c,l){c=e(c,a);for(var u=-1,d=c.length,f=!1;++u<d;){var h=s(c[u]);if(!(f=a!=null&&l(a,h)))break;a=a[h]}return f||++u!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(h,d)&&(n(a)||t(a)))}return ub=o,ub}var db,HM;function OW(){if(HM)return db;HM=1;var e=Roe(),t=Poe();function n(r,i){return r!=null&&t(r,i,e)}return db=n,db}var fb,zM;function koe(){if(zM)return fb;zM=1;var e=kA(),t=Noe(),n=OW(),r=LA(),i=EW(),s=SW(),o=uh(),a=1,c=2;function l(u,d){return r(u)&&i(d)?s(o(u),d):function(f){var h=t(f,u);return h===void 0&&h===d?n(f,u):e(d,h,a|c)}}return fb=l,fb}var hb,YM;function R_(){if(YM)return hb;YM=1;function e(t){return t}return hb=e,hb}var pb,KM;function Moe(){if(KM)return pb;KM=1;function e(t){return function(n){return n==null?void 0:n[t]}}return pb=e,pb}var gb,JM;function Doe(){if(JM)return gb;JM=1;var e=N_();function t(n){return function(r){return e(r,n)}}return gb=t,gb}var mb,XM;function Loe(){if(XM)return mb;XM=1;var e=Moe(),t=Doe(),n=LA(),r=uh();function i(s){return n(s)?e(r(s)):t(s)}return mb=i,mb}var _b,QM;function Ou(){if(QM)return _b;QM=1;var e=Ioe(),t=koe(),n=R_(),r=Mr(),i=Loe();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return _b=s,_b}var vb,ZM;function joe(){if(ZM)return vb;ZM=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),c=a.length;c--;){var l=a[t?c:++s];if(r(o[l],l,o)===!1)break}return n}}return vb=e,vb}var yb,eD;function Foe(){if(eD)return yb;eD=1;var e=joe(),t=e();return yb=t,yb}var Cb,tD;function Uoe(){if(tD)return Cb;tD=1;var e=Foe(),t=Su();function n(r,i){return r&&e(r,i,t)}return Cb=n,Cb}var bb,nD;function Boe(){if(nD)return bb;nD=1;var e=Eu();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,c=Object(i);(r?a--:++a<o)&&s(c[a],a,c)!==!1;);return i}}return bb=t,bb}var Eb,rD;function TW(){if(rD)return Eb;rD=1;var e=Uoe(),t=Boe(),n=t(e);return Eb=n,Eb}var Sb,iD;function Goe(){if(iD)return Sb;iD=1;var e=TW(),t=Eu();function n(r,i){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(a,c,l){o[++s]=i(a,c,l)}),o}return Sb=n,Sb}var Ob,sD;function Woe(){if(sD)return Ob;sD=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Ob=e,Ob}var Tb,oD;function qoe(){if(oD)return Tb;oD=1;var e=lh();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=e(n),c=r!==void 0,l=r===null,u=r===r,d=e(r);if(!l&&!d&&!a&&n>r||a&&c&&u&&!l&&!d||s&&c&&u||!i&&u||!o)return 1;if(!s&&!a&&!d&&n<r||d&&i&&o&&!s&&!a||l&&i&&o||!c&&o||!u)return-1}return 0}return Tb=t,Tb}var wb,aD;function Voe(){if(aD)return wb;aD=1;var e=qoe();function t(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,c=o.length,l=i.length;++s<c;){var u=e(o[s],a[s]);if(u){if(s>=l)return u;var d=i[s];return u*(d=="desc"?-1:1)}}return n.index-r.index}return wb=t,wb}var Ab,cD;function $oe(){if(cD)return Ab;cD=1;var e=DA(),t=N_(),n=Ou(),r=Goe(),i=Woe(),s=w_(),o=Voe(),a=R_(),c=Mr();function l(u,d,f){d.length?d=e(d,function(g){return c(g)?function(m){return t(m,g.length===1?g[0]:g)}:g}):d=[a];var h=-1;d=e(d,s(n));var p=r(u,function(g,m,v){var y=e(d,function(T){return T(g)});return{criteria:y,index:++h,value:g}});return i(p,function(g,m){return o(g,m,f)})}return Ab=l,Ab}var xb,lD;function Hoe(){if(lD)return xb;lD=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return xb=e,xb}var Ib,uD;function wW(){if(uD)return Ib;uD=1;var e=Hoe(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,c=t(o.length-i,0),l=Array(c);++a<c;)l[a]=o[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=o[a];return u[i]=s(l),e(r,this,u)}}return Ib=n,Ib}var Nb,dD;function zoe(){if(dD)return Nb;dD=1;function e(t){return function(){return t}}return Nb=e,Nb}var Rb,fD;function AW(){if(fD)return Rb;fD=1;var e=Nc(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch(r){}})();return Rb=t,Rb}var Pb,hD;function Yoe(){if(hD)return Pb;hD=1;var e=zoe(),t=AW(),n=R_(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Pb=r,Pb}var kb,pD;function Koe(){if(pD)return kb;pD=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),c=t-(a-o);if(o=a,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return kb=r,kb}var Mb,gD;function xW(){if(gD)return Mb;gD=1;var e=Yoe(),t=Koe(),n=t(e);return Mb=n,Mb}var Db,mD;function Joe(){if(mD)return Db;mD=1;var e=R_(),t=wW(),n=xW();function r(i,s){return n(t(i,s,e),i+"")}return Db=r,Db}var Lb,_D;function Xoe(){if(_D)return Lb;_D=1;var e=v_(),t=Eu(),n=T_(),r=ji();function i(s,o,a){if(!r(a))return!1;var c=typeof o;return(c=="number"?t(a)&&n(o,a.length):c=="string"&&o in a)?e(a[o],s):!1}return Lb=i,Lb}var jb,vD;function Qoe(){if(vD)return jb;vD=1;var e=bW(),t=$oe(),n=Joe(),r=Xoe(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return jb=i,jb}var Zoe=Qoe();const eae=Gt(Zoe);var tae=(e=>(e.CANCELLED="cancelled",e.CREATED="created",e.RUNNING="running",e.COMPLETED="completed",e.FAILED="failed",e.FINALIZING="finalizing",e.SKIPPING="skipping",e.UNDETERMINED="undetermined",e))(tae||{}),IW=(e=>(e.UNKNOWN="unknown",e.RESEARCH="research",e.PRO_MODE="pro_mode",e.THINKING="thinking",e.IMAGE_GEN="image_gen",e))(IW||{});function nae(e){return e.status==="completed"}function a6e(e){return e.status==="cancelled"||e.status==="failed"}function c6e(e){return e.status==="running"||e.status==="undetermined"||e.status==="created"||e.status==="finalizing"||e.status==="skipping"}function l6e(e){return e.taskId.startsWith("promode_")?"pro_mode":e.taskId.startsWith("thinking_")?"thinking":e.taskId.startsWith("deepresch_")||e.taskId.startsWith("shishito_")?"research":e.taskId.startsWith("imagegen_")?"image_gen":"unknown"}function rae(e,t){var s;if(!nae(e))return null;const n=(s=t.update_time)!=null?s:t.create_time,r=n?new Date(n*1e3):null,i=e.updatedAt?new Date(e.updatedAt):null;return i?r?+i>+r?i:r:i:r}const P_=ir(vu(()=>({tasks:{},taskIdsByConversationId:{},taskStreams:{},researchShareIntent:null}))),xa=P_.getState,vr=P_.setState,Oo={setTask:(e,t)=>{vr(n=>{var s;n.tasks[e]=t;const r=t.originalConversationId,i=(s=n.taskIdsByConversationId[r])!=null?s:new Set;i.add(e),n.taskIdsByConversationId[r]=i})},setTaskStatus:(e,t)=>{vr(n=>{if(n.tasks[e]){if(n.tasks[e].status==="cancelled")return;n.tasks[e].status=t}})},setTaskMetadataItems:({taskId:e,originalConversationId:t,responseMessageId:n,canvasTextdocId:r})=>{vr(i=>{i.tasks[e]&&(i.tasks[e].originalConversationId=t,i.tasks[e].responseMessageId=n,i.tasks[e].responseCanvasTextdocId=r)})},loadBulkTasks:e=>{vr(t=>{e.forEach(n=>{var o,a,c;const r=t.tasks[n.taskId];t.tasks[n.taskId]=I(S({},n),{rows:(o=r==null?void 0:r.rows)!=null?o:[],finalMessage:(a=r==null?void 0:r.finalMessage)!=null?a:Us(n.messages)});const i=n.originalConversationId,s=(c=t.taskIdsByConversationId[i])!=null?c:new Set;s.add(n.taskId),t.taskIdsByConversationId[i]=s})})},addTaskRow:(e,t)=>{vr(n=>{var s;const r=n.tasks[e];if(r==null)return;const i=[...(s=r.rows)!=null?s:[]];i.find(o=>o.id===t.id)||(i.push(t),r.rows=i)})},setTaskCompleted:(e,t)=>{vr(n=>{var i,s,o;const r=n.tasks[e];r!=null&&(r.status!=="completed"&&(r.collapsed=!0),r.status="completed",r.updatedAt=((i=rae(r,t))==null?void 0:i.toString())||r.updatedAt,r.finalMessage=t,r.responseMessageId=(o=(s=t.metadata)==null?void 0:s.response_message_id)!=null?o:t.id)})},setTaskRecentlyCompleted:e=>{vr(t=>{const n=t.tasks[e];n!=null&&(n.notificationStatus||(n.notificationStatus={recentlyCompleted:!0,notificationSent:!1}),n.notificationStatus.recentlyCompleted=!0)})},setTaskNotificationSent:e=>{vr(t=>{var n;(n=t.tasks[e])!=null&&n.notificationStatus&&(t.tasks[e].notificationStatus.notificationSent=!0)})},setResearchShareIntent:e=>{vr(t=>{t.researchShareIntent=e})},setTaskTitle:(e,t)=>{vr(n=>{n.tasks[e]&&(n.tasks[e].title=t)})},async retainTaskStream(e){var o;const n=xa().taskStreams[e],r=(o=n==null?void 0:n.refCount)!=null?o:0;let i,s=null;r===0&&(i=new AbortController,s=cae(e,i)),vr(a=>{var l;const c=i||((l=a.taskStreams[e])==null?void 0:l.abortController);if(!c)throw Error("Missing abort controller");a.taskStreams[e]=I(S({},a.taskStreams[e]),{refCount:r+1,abortController:c})}),s&&await s},releaseTaskStream(e){vr(t=>{const n=t.taskStreams[e];n&&(n.refCount-=1)})},abortTaskStream(e){vr(t=>{const n=t.taskStreams[e];!n||n.refCount||(n.abortController.abort(),delete t.taskStreams[e])})}},yD=[],tu={getTask:(e,t=xa())=>t.tasks[e],getAllTasks:(e=xa())=>Object.values(e.tasks).filter(t=>!!t),getAllTasksOrdered:(e=xa())=>eae(tu.getAllTasks(e),t=>-new Date(t.createdAt)),hasTaskStreamEntry:(e,t=xa())=>!!t.taskStreams[e],getTaskIdsByConversationId:(e,t=xa())=>{if(!e)return yD;const n=t.taskIdsByConversationId[e];return!n||n.size===0?yD:Array.from(n)},getResearchShareIntent:(e=xa())=>e.researchShareIntent};function iae(e){var r,i,s,o,a;const t=e.task_id;return{conversationId:(r=e.conversation_id)!=null?r:"",taskId:t,title:e.title,prompt:e.prompt,createdAt:e.created_at,updatedAt:e.updated_at,status:e.status,messages:(i=e.messages)!=null?i:[],rows:[],originalConversationId:e.original_conversation_id,responseMessageId:(s=e.response_message_id)!=null?s:void 0,responseCanvasTextdocId:(o=e.response_canvas_textdoc_id)!=null?o:void 0,originalConversationUserMessageId:(a=e.original_conversation_user_message_id)!=null?a:void 0}}function sae(e){var t,n,r,i,s,o,a,c,l,u,d;switch(e.type){case"website_open":return{id:e.id,type:"websiteOpen",url:e.url,rowText:e.row_text,activeRowText:e.active_row_text,sanitizedUrl:(t=e.sanitized_url)!=null?t:null,created_at:(n=e.created_at)!=null?n:null};case"summary":return{id:e.id,type:"summary",title:e.title,summary:(r=e.summary)!=null?r:null,message:(i=e.message)!=null?i:null,created_at:(s=e.created_at)!=null?s:null};case"search":return{id:e.id,type:"search",query:(o=e.query)!=null?o:null,created_at:(a=e.created_at)!=null?a:null,urls:(c=e.urls)!=null?c:null};case"python_analysis":return{id:e.id,type:"pythonAnalysis",analysisSummary:(l=e.analysis_summary)!=null?l:null,created_at:(u=e.created_at)!=null?u:null};case"file_open":return{id:e.id,type:"fileOpen",fileName:e.file_name,iconType:e.icon_type,fileExt:e.file_ext,rowText:e.row_text,activeRowText:e.active_row_text,created_at:(d=e.created_at)!=null?d:null}}}function u6e(){const e=ta({queryKey:["fetch-tasks"],queryFn:async({pageParam:t})=>{const n=await doe.getTasks({cursor:t});return Oo.loadBulkTasks(n.tasks.map(r=>iae(r)).filter(r=>r!==null)),n},initialPageParam:null,getNextPageParam:({cursor:t})=>t!=null?t:null,enabled:!0});return{isLoading:e.isLoading,isFetching:e.isFetching}}const oae=30,aae=30;async function cae(e,t){if(tu.hasTaskStreamEntry(e))return!1;const r=_A();r["content-type"]="application/json";let i=0,s=0;return voe("".concat(Je,"/tasks/").concat(e,"/stream"),{headers:r,signal:t.signal,openWhenHidden:!0,onopen:async o=>{if(!(o.ok&&o.headers.get("content-type")===Qg))if(i<oae)i++;else throw new Error("Failure opening stream")},onmessage(o){const a=JSON.parse(o.data);if(a.task_status)Oo.setTaskStatus(a.task_id,a.task_status);else if(a.final_message)Oo.setTaskCompleted(e,a.final_message),a.was_recently_completed&&Oo.setTaskRecentlyCompleted(e);else if(a.row){const c=sae(a.row);c&&Oo.addTaskRow(e,c)}else a.title&&Oo.setTaskTitle(e,a.title)},onerror(o){if(s<aae){s++;return}throw t.abort(),o},onclose(){}}),!0}function d6e(e){"use forget";const t=H.c(3);let n,r;t[0]!==e?(n=()=>{if(e)return Oo.retainTaskStream(e),()=>{Oo.releaseTaskStream(e)}},r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),E.useEffect(n,r)}function f6e(e){"use forget";const t=H.c(2);let n;return t[0]!==e?(n=i=>tu.getTaskIdsByConversationId(e,i).map(s=>tu.getTask(s,i)).filter(uae).filter(lae),t[0]=e,t[1]=n):n=t[1],P_(n)}function lae(e){return e.status==="created"||e.status==="running"||e.status==="finalizing"}function uae(e){return e!==void 0}function h6e(e){"use forget";const t=H.c(2);let n;return t[0]!==e?(n=i=>tu.getTaskIdsByConversationId(e,i).map(s=>tu.getTask(s,i)).filter(dae),t[0]=e,t[1]=n):n=t[1],P_(n)}function dae(e){return e!==void 0}var dh=(e=>(e.ContentOrTos="content_or_tos",e.ContentPolicy="content_policy",e.BioSafetyContentPolicy="bio_safety_content_policy",e.ModelIncompatibility="model_incompatibility",e.ContentRegurgitation="content_regurgitation",e))(dh||{});const fae={errType:"warning",errCode:"content_policy"},hae={errType:"danger",errCode:"model_incompatibility"},pae={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy"},gae={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy",shouldDisableConversation:!0},mae={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1},_ae={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1,shouldDisableConversation:!0},vae=(e,t)=>!e.length||t?null:{disclaimers:e},yae=({isSafetyLimited:e,shouldDisableConversation:t,isModelIncompatibility:n})=>e?t?_ae:mae:t?gae:n?hae:pae;class Cae{isMultimodalTextMessage(t){return t.content.content_type===qe.MultimodalText}isPartAssetPointer(t){return typeof t!="string"&&(t.content_type===Bn.ImageAssetPointer||t.content_type===Bn.AudioAssetPointer)}isBase64ImagePart(t){return typeof t!="string"&&t.content_type===Bn.Image}isPartRealTimeUserAudioVideoAssetPointer(t){return typeof t!="string"&&t.content_type===Bn.RealTimeUserAudioVideoAssetPointer}isPartAudioTranscription(t){return typeof t!="string"&&t.content_type===Bn.AudioTranscription}getAudio(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>typeof n!="string"&&n.content_type===Bn.Audio):[]}getAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>this.isPartAssetPointer(n)):[]}getImageAssetPointers(t){return this.isMultimodalTextMessage(t)?this.getImageAssetPointersFromParts(t.content.parts):[]}getImageAssetPointersFromParts(t){return t.filter(n=>this.isPartAssetPointer(n)&&n.content_type===Bn.ImageAssetPointer)}getFrameAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>{if(typeof n!="string"&&n.content_type===Bn.RealTimeUserAudioVideoAssetPointer)return n.frames_asset_pointers}).filter(n=>!!n):[]}getAudioAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n!="string")switch(n.content_type){case Bn.AudioAssetPointer:return n;case Bn.RealTimeUserAudioVideoAssetPointer:return n.audio_asset_pointer;default:return}}).filter(n=>!!n):[]}getVideoContainerAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>typeof n!="string"&&n.content_type===Bn.RealTimeUserAudioVideoAssetPointer?n.video_container_asset_pointer:null).filter(n=>!!n):[]}getImageOperationFileIds(t){var r,i,s,o,a,c,l;const n=(l=(s=(i=(r=t.metadata)==null?void 0:r.dalle)==null?void 0:i.from_client)==null?void 0:s.operation)!=null?l:(c=(a=(o=t.metadata)==null?void 0:o.generation)==null?void 0:a.from_client)==null?void 0:c.operation;return(n==null?void 0:n.type)==="inpainting"?{operation:"inpainting",originalFileId:n.original_file_id,maskFileId:n.mask_file_id}:(n==null?void 0:n.type)==="transformation"?{operation:"transformation",originalFileId:n.original_file_id}:void 0}getPartsAsString(t,n=!0){return this.isMultimodalTextMessage(t)?t.content.parts.map(r=>{var i;if(typeof r=="string")return r;if(this.isPartAudioTranscription(r))return r.text;if(n){if(this.isPartAssetPointer(r))return'[media pointer="'.concat(r.asset_pointer,'"]');if(this.isPartRealTimeUserAudioVideoAssetPointer(r)){const s=(i=r.audio_asset_pointer)==null?void 0:i.asset_pointer;return s&&'[media pointer="'.concat(s,'"]')}else if(this.isBase64ImagePart(r))return r.payload}else return!1}).filter(Boolean).join("\n"):""}}const jA=new Cae,bae=["image_gen"];var Ce=(e=>(e[e.no_render=0]="no_render",e[e.BrowseTool=1]="BrowseTool",e[e.Browsing=2]="Browsing",e[e.CanmoreTool=3]="CanmoreTool",e[e.Container=4]="Container",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.CodeInterpreterTool=6]="CodeInterpreterTool",e[e.Dalle=7]="Dalle",e[e.DalleTool=8]="DalleTool",e[e.GizmoEditor=9]="GizmoEditor",e[e.JITPlugin=10]="JITPlugin",e[e.JITPluginTool=11]="JITPluginTool",e[e.JITPluginGoogleTool=12]="JITPluginGoogleTool",e[e.DILWidget=13]="DILWidget",e[e.APIToolElicitation=14]="APIToolElicitation",e[e.ImagePreloadTool=15]="ImagePreloadTool",e[e.ModelEditableContext=16]="ModelEditableContext",e[e.MultimodalText=17]="MultimodalText",e[e.ParallelBrowsing=18]="ParallelBrowsing",e[e.ParallelBrowsingTool=19]="ParallelBrowsingTool",e[e.RetrievalBrowsing=20]="RetrievalBrowsing",e[e.RetrievalBrowsingTool=21]="RetrievalBrowsingTool",e[e.SearchResultTool=22]="SearchResultTool",e[e.SearchGPTQuery=23]="SearchGPTQuery",e[e.System=24]="System",e[e.SystemContent=25]="SystemContent",e[e.DeveloperContent=26]="DeveloperContent",e[e.Text=27]="Text",e[e.StructuredThoughts=28]="StructuredThoughts",e[e.ReasoningRecap=29]="ReasoningRecap",e[e.UserEditableContext=30]="UserEditableContext",e[e.UserModelBio=31]="UserModelBio",e[e.UserModelBioTool=32]="UserModelBioTool",e[e.Unknown=33]="Unknown",e[e.de1d73e=34]="de1d73e",e[e.a8km123=35]="a8km123",e[e.f959b8c=36]="f959b8c",e[e.b1de6e2_c=37]="b1de6e2_c",e[e.b1de6e2_s=38]="b1de6e2_s",e[e.b1de6e2_d=39]="b1de6e2_d",e[e.b1de6e2_rm=40]="b1de6e2_rm",e[e.l1p9k3u=41]="l1p9k3u",e[e.l1239dk1=42]="l1239dk1",e[e.l1239dk2=43]="l1239dk2",e[e.is_loading_message=44]="is_loading_message",e[e.b47u8ra0_t=45]="b47u8ra0_t",e[e.oiw209h=46]="oiw209h",e[e.oiw209h_c=47]="oiw209h_c",e[e.t2uay3k=48]="t2uay3k",e[e.t2uay3k_c=49]="t2uay3k_c",e[e.Oboe=50]="Oboe",e[e.UserSettings=51]="UserSettings",e[e.UserSettingsTool=52]="UserSettingsTool",e[e.CoTSearchToolCall=53]="CoTSearchToolCall",e[e.CoTSearchToolResult=54]="CoTSearchToolResult",e[e.n7jupd_c=55]="n7jupd_c",e[e.n7jupd_r=56]="n7jupd_r",e[e.n7jupd_t=57]="n7jupd_t",e[e.n7jupd_m=58]="n7jupd_m",e[e.n7jupd_x=59]="n7jupd_x",e[e.n7jupd_a=60]="n7jupd_a",e[e.n7jupd_n=61]="n7jupd_n",e[e.n7jupd_p=62]="n7jupd_p",e[e.n7jupd_image_gen=63]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=64]="n7jupd_native_api_tool",e[e.Mercury=65]="Mercury",e[e.PIMBlock=66]="PIMBlock",e[e.Mochi=67]="Mochi",e[e.SuperWidget=68]="SuperWidget",e[e.Croquette=69]="Croquette",e[e.kaur1br5=70]="kaur1br5",e[e.e1ld0dvz=71]="e1ld0dvz",e[e.Glaux=72]="Glaux",e[e.Strix=73]="Strix",e[e.async_task_result_message=74]="async_task_result_message",e))(Ce||{}),jd=(e=>(e.BROWSER="browser",e.CANMORE="canmore",e.MTBROWSER="mtbrowser",e.WIKI_BROWSER="wiki_browser",e.MYFILES_BROWSER="myfiles_browser",e.FILE_SEARCH="file_search",e.GDRIVE_BROWSER="gdrive_browser",e.BROWSING_TEAM="browsing_team",e.BIO="bio",e.PYTHON="python",e.DALLE="dalle",e.GIZMO_EDITOR="gizmo_editor",e.JIT_PLUGIN="jit_plugin",e.SEARCH_RESULT="search_result",e.SEARCH_RESULTS="search_results",e.A8KM123="a8km123",e.SEARCHGPT="web",e.SEARCH_COT="web.run",e.DE1D73E="de1d73e",e.L1P9K3U="l1p9k3u",e.L1239DK1="l1239dk1",e.CONTAINER="container",e.COMPUTER="computer",e.MERCURY="mercury",e.OIW209H="oiw209h",e.T2UAY3K="t2uay3k",e.G9X2M5N="g9x2m5n",e.START_RESEARCH_TASK="research_kickoff_tool.start_research_task",e.CLARIFY_WITH_TEXT="research_kickoff_tool.clarify_with_text",e.ADVANCED_VOICE="advanced_voice",e.OBOE="oboe",e.IMAGE_GEN_HALLUCINATED="image_gen",e.USER_SETTINGS="user_settings",e.USER_SETTINGS_TOOL="user_settings_tool",e.n7jupd_m="n7jupd.metadata",e.IMAGEGEN_MAKE_IMAGE="imagegen.make_image",e.SUPER_WIDGET="super_widget",e.E1LD0DVZ="e1ld0dvz",e))(jd||{});function CD(e){return e&&[4202148095,653746659,45870204,111655449].some(t=>Po(t,e))}function Eae(e){var i;const t=JT(e.author.name),n=t==null?void 0:t.namespace,r=["browser","container","computer"];return((i=e.metadata)==null?void 0:i.n7jupd_message)&&r.includes(n)&&e.content.content_type===qe.Text}function Sae(e,t){return e&&Po(t,e.split(".")[0])}function us(e){var n,r,i,s,o,a,c,l,u,d,f,h,p,g,m,v,y,T,b,C,O,w,A,x,R,P,L,D,F,G,Y,V,M,te,$,ie,ue,me,J,K,ne,X,ee,ye,de,oe,Ee,Ae,He,Re,_e,pe;if(e.recipient==="api_tool")return 0;if((n=e.metadata)!=null&&n.elicitation_metadata)return 14;if((r=e.metadata)!=null&&r.n7jupd_subtool&&((i=e.metadata.n7jupd_subtool.subtool)!=null&&i.includes("api_tool")||(s=e.metadata.n7jupd_subtool.result_of_subtool)!=null&&s.includes("api_tool")))return 60;if((o=e.metadata)!=null&&o.n7jupd_message&&((a=e.recipient)!=null&&a.includes("api_tool")||(l=(c=e.author)==null?void 0:c.name)!=null&&l.includes("api_tool"))&&!e.metadata.chatgpt_sdk&&!e.metadata.jit_plugin_data)return 64;if((u=e.metadata)!=null&&u.is_pim_warning)return 66;if((d=e.metadata)!=null&&d.n7jupd_message&&e.content.content_type===qe.StructuredThoughts)return 57;if((f=e.metadata)!=null&&f.is_auto_proceed_message)return 62;if((h=e.metadata)!=null&&h.is_takeover_ended_message)return 61;if((g=(p=e.metadata)==null?void 0:p.chatgpt_sdk)!=null&&g.dil||(y=(v=(m=e.metadata)==null?void 0:m.chatgpt_sdk)==null?void 0:v.tool_response_metadata)!=null&&y.kakao_widget)return 13;if(e.content.content_type===qe.StructuredThoughts)return e.author.name==="mercury"?65:28;if(e.content.content_type===qe.ReasoningRecap)return 29;if((T=e.metadata)!=null&&T.b1de6e2_c)return 37;if(e.recipient==="l1p9k3u"||e.author.name==="l1p9k3u")return 41;if(e.author.name==="l1239dk1"||e.recipient==="l1239dk1")return 42;if((b=e.author.name)!=null&&b.startsWith("container"))return Po(3061204740,e.author.name)&&((C=e==null?void 0:e.metadata)!=null&&C.n7jupd_message)?6:4;if(e.author.role===Ke.Assistant&&((O=e.metadata)==null?void 0:O.async_task_id)!=null&&((w=e.metadata)==null?void 0:w.async_task_turn_id)!=null)return 43;if((A=e.metadata)!=null&&A.b1de6e2_s||e.recipient==="research_kickoff_tool.start_research_task")return 38;if((x=e.metadata)!=null&&x.b1de6e2_d)return 39;if((R=e.metadata)!=null&&R.b1de6e2_rm)return 40;if((P=e.metadata)!=null&&P.is_async_task_result_message)return 74;if((L=e.metadata)!=null&&L.is_loading_message)return 44;if((D=e.metadata)!=null&&D.b47u8ra0_t)return 45;if((F=e.metadata)!=null&&F.f959b8c)return 36;if((G=e.recipient)!=null&&G.startsWith("e1ld0dvz")||(Y=e.author.name)!=null&&Y.startsWith("e1ld0dvz"))return 71;if(CD(e.author.name)||CD(e.recipient)||Eae(e))return 0;const t="kaur1br5";if((V=e.recipient)!=null&&V.startsWith(t)||(M=e.author.name)!=null&&M.startsWith(t))return 70;if(e.author.role===Ke.Assistant&&Sae(e.recipient,724319625))return 55;if(e.content.content_type===qe.ComputerOutput)return 56;if(e.author.role===Ke.Assistant){if(bae.some(Qe=>{var Pe;return(Pe=e.recipient)==null?void 0:Pe.startsWith(Qe)}))return 33;const j=JT(e.recipient);if(e.recipient==="browser"||e.recipient==="wiki_browser"||(j==null?void 0:j.namespace)==="mtbrowser")return 2;if(e.recipient==="web"||(te=e.recipient)!=null&&te.startsWith("web."))return 23;if(e.recipient==="web.run"&&((ue=(ie=($=e==null?void 0:e.metadata)==null?void 0:$.search_queries)==null?void 0:ie.length)!=null?ue:0)>0)return 53;if(e.recipient==="myfiles_browser"||e.recipient==="gdrive_browser"||(j==null?void 0:j.namespace)==="file_search"||(j==null?void 0:j.namespace)==="myfiles_browser")return 20;if(e.recipient==="browsing_team")return 18;if(e.recipient==="bio")return 31;if(e.recipient==="python")return 5;if((me=e==null?void 0:e.metadata)!=null&&me.n7jupd_message&&(Po(3179801956,e.recipient)||Po(3061204740,e.recipient)))return 5;if((j==null?void 0:j.namespace)==="dalle"||e.recipient==="dalle")return 7;if((j==null?void 0:j.namespace)==="t2uay3k"||e.recipient==="t2uay3k")return 48;if((j==null?void 0:j.namespace)==="g9x2m5n")return 0;if((j==null?void 0:j.namespace)==="oiw209h"||e.recipient==="oiw209h")return 46;if((j==null?void 0:j.namespace)==="gizmo_editor")return 9;if((j==null?void 0:j.namespace)==="container")return 4;if((j==null?void 0:j.namespace)==="canmore")return 3;if((j==null?void 0:j.namespace)==="de1d73e")return 34;if((j==null?void 0:j.namespace)==="user_settings"||(j==null?void 0:j.namespace)==="user_settings_tool"||e.recipient==="user_settings"||e.recipient==="user_settings_tool")return 51;if(!Fb(j==null?void 0:j.namespace)){if(pp(j==null?void 0:j.namespace)&&((J=e.metadata)==null?void 0:J.api_tool_type)==="glaux")return 72;if(bD(j==null?void 0:j.namespace)||pp(j==null?void 0:j.namespace)||ED(j==null?void 0:j.namespace))return 10;if(j!=null)return 33;if(e.content.content_type===qe.ModelEditableContext)return 16}}else if(e.author.role===Ke.Tool){const j=JT(e.author.name);if(e.author.name==="browser"||e.author.name==="wiki_browser"||(j==null?void 0:j.namespace)==="mtbrowser")return 1;if(e.author.name==="myfiles_browser"||e.author.name==="gdrive_browser"||e.author.name==="file_search"||(j==null?void 0:j.namespace)==="file_search"||(j==null?void 0:j.namespace)==="myfiles_browser")return 21;if(e.author.name==="browsing_team")return 19;if(e.author.name==="web.run"&&((X=(ne=(K=e==null?void 0:e.metadata)==null?void 0:K.search_result_groups)==null?void 0:ne.length)!=null?X:0)>0)return 54;if(e.author.name==="search_result"&&e.content.content_type===qe.TetherQuote)return 22;if(e.author.name==="search_results"&&e.content.content_type===qe.TetherBrowsingDisplay)return 15;if(e.author.name==="bio")return 32;if(e.author.name==="a8km123")return 35;if(e.author.name==="python")return 6;if(Po(3179801956,e.author.name))return 6;if((j==null?void 0:j.namespace)==="dalle"||e.author.name==="dalle")return 8;if((j==null?void 0:j.namespace)==="t2uay3k"||e.author.name==="image_gen")return 49;if((ee=e.metadata)!=null&&ee.image_gen_async)return 48;if((j==null?void 0:j.namespace)==="g9x2m5n")return 0;if((j==null?void 0:j.namespace)==="gizmo_editor")return 9;if((j==null?void 0:j.namespace)==="canmore")return 3;if((j==null?void 0:j.namespace)==="user_settings"||(j==null?void 0:j.namespace)==="user_settings_tool"||e.author.name==="user_settings"||e.author.name==="user_settings_tool")return 52;if(!(Fb(j==null?void 0:j.namespace)||Fb(e.author.name))){if(pp(j==null?void 0:j.namespace)&&((ye=e.metadata)==null?void 0:ye.api_tool_type)==="glaux")return 72;if(bD(j==null?void 0:j.namespace)||pp(j==null?void 0:j.namespace)||(de=e.author.name)!=null&&de.startsWith("api_tool"))return 11;if(ED(j==null?void 0:j.namespace))return 12;if((j==null?void 0:j.namespace)==="de1d73e")return 34;if((j==null?void 0:j.namespace)==="oiw209h")return 47;if((oe=e.author.name)!=null&&oe.startsWith("web."))return 24;if(e.author.name==="research_kickoff_tool.start_research_task")return 38;if(e.author.name==="research_kickoff_tool.clarify_with_text")return 0;if(e.author.name==="n7jupd.metadata")return 58;if(e.author.name==="imagegen.make_image")return 63;if((j==null?void 0:j.namespace)==="browser")return 59;if(e.author.name==="mercury")return 65;if(e.author.name==="super_widget")return 68;if(j!=null||e.author.name==="plugin_service")return Oae(e)}}else{if(e.author.role===Ke.System||e.author.role===Ke.Developer)return(Ee=e.metadata)!=null&&Ee.n7jupd_message?24:(He=(Ae=e.metadata)==null?void 0:Ae.exclusive_key)!=null&&He.startsWith("widget_state")||(Re=e.metadata)!=null&&Re.rebase_system_message||e.content.content_type===qe.SystemMessage||e.content.content_type===qe.SystemContent?25:(_e=e.metadata)!=null&&_e.rebase_developer_message||e.content.content_type===qe.DeveloperContent?26:24;if(e.author.role===Ke.User&&(e.content.content_type===qe.UserEditableContext||(pe=e.metadata)!=null&&pe.is_user_system_message))return 30}return e.content.content_type===qe.Text||e.content.content_type===qe.MultimodalText?27:33}function Oae(e){return e.create_time&&e.create_time>17172e5?Q.addError("[Unknown tool] Encountered a message with an unknown tool. Rendering as Unknown message type, which is not visible.",{message:e}):Q.addError("[Unknown tool] Encountered a message with an unknown tool, which is most likely an old plugin. Rendering as Unknown message type, which may not appear as expected.",{message:e}),33}function p6e(e){var t;return((t=e.metadata)==null?void 0:t.finish_details)!=null}function k_(e){return e.content.content_type===qe.Text?e.content.parts.some(t=>t.length>0):e.content.content_type===qe.MultimodalText?jA.getPartsAsString(e).length>0:!1}function Tae(e){const t=e.author.role===Ke.User,n=e.metadata&&"s2s_stream_sequence"in e.metadata,r=e.content.content_type===qe.MultimodalText&&e.content.parts.some(i=>typeof i!="string"&&i.content_type===Bn.AudioTranscription);return t&&n&&r}function NW(e){var t;return k_(e)?!0:"text"in e.content?e.content.text.length>0:"result"in e.content?e.content.result.length>0:!!((t=e.clientMetadata)!=null&&t.errCode&&Object.values(dh).some(n=>{var r;return n===((r=e.clientMetadata)==null?void 0:r.errCode)}))}function g6e(e){var t,n;return e.author.name==="a8km123"||((t=e.metadata)==null?void 0:t.reasoning_status)||((n=e.metadata)==null?void 0:n.is_visually_hidden_from_conversation)}function wae(e){var t,n,r,i,s,o,a;if(e.author.name==="a8km123"&&((t=e.metadata)!=null&&t.async_task_id))return!0;if(!FA(e))return!1;switch(e.content.content_type){case qe.StructuredThoughts:{const{thoughts:c}=e.content;return c.some(l=>{var u,d,f,h,p,g;return((f=(d=(u=l.summary)==null?void 0:u.trim())==null?void 0:d.length)!=null?f:0)>0||((g=(p=(h=l.content)==null?void 0:h.trim())==null?void 0:p.length)!=null?g:0)>0})}case qe.ReasoningRecap:{const{content:c}=e.content;return((r=(n=c==null?void 0:c.trim())==null?void 0:n.length)!=null?r:0)>0}case qe.Code:case qe.ExecutionOutput:case qe.TetherBrowsingCode:{const{text:c}=e.content;return((s=(i=c==null?void 0:c.trim())==null?void 0:i.length)!=null?s:0)>0}case qe.TetherBrowsingDisplay:{const{result:c}=e.content;return((a=(o=c==null?void 0:c.trim())==null?void 0:o.length)!=null?a:0)>0}case qe.ComputerOutput:return!0;case qe.Text:case qe.MultimodalText:return k_(e);default:return!1}}function m6e(e){var t,n;return((n=(t=e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="stop"}function Aae(e){var t,n;return((n=(t=e==null?void 0:e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="max_tokens"}function _6e(e){var t,n;return((n=(t=e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="interrupted"}function xae(e){var t;return((t=e.metadata)==null?void 0:t.message_type)==="continue"}function JT(e){if(e==null||!e.includes("."))return null;const[t,n]=e.split(".");return{namespace:t,functionName:n}}function Iae(e,t){return{id:fr(),author:{role:Ke.System},content:{content_type:qe.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function v6e(e,t,n,r=fr()){return{id:r,author:{role:Ke.Assistant},content:{content_type:qe.Text,parts:Array.isArray(e)?e:[e]},metadata:t,clientMetadata:n}}function Nae(e,t,n){const r={role:Ke.User};return n&&(r.metadata=n),{id:fr(),author:r,create_time:Date.now()/1e3,content:typeof e=="string"?{content_type:qe.Text,parts:[e]}:e,metadata:t}}function y6e(e){return Iae(["The user is referring to this in particular:\n".concat(e)],{exclude_after_next_user_message:!0})}function C6e(e){return Nae(e,{is_visually_hidden_from_conversation:!0})}function b6e(e){return{id:fr(),author:{role:Ke.System},content:e,metadata:{rebase_system_message:!0},recipient:"all"}}function pp(e){return e==="api_tool"||e==="kanzi_app"||e==="scopes"}function Fb(e){return!1}function bD(e){if(!e)return!1;const t=e.split("__");return t.findIndex(n=>n==="jit_plugin")===t.length-1}function ED(e){return e==="gmail"||e==="gcal"||e==="gcontacts"}function SD(e){var t;return e.author.role===Ke.Assistant?(t=e.metadata)==null?void 0:t.gizmo_id:void 0}function ja(e){var t;return e.author.role===Ke.User&&!((t=e.metadata)!=null&&t.is_user_system_message)}function Rae(e){var t;return(t=e.metadata)==null?void 0:t.is_contextual_retry_user_message}function RW(e){var t;return ja(e)&&!Rae(e)||((t=e.author.metadata)==null?void 0:t.is_system_initiated_conversation)===!0}function FA(e){var t;return((t=e.metadata)==null?void 0:t.reasoning_status)!=null}function Tu(e){var i,s;const t=us(e);return t===24||t===25||t===26||t===31||t===32||t===16||t===30||t===33||!(t===48||t===49)&&!(t===61)&&!((i=e.metadata)!=null&&i.targeted_reply_label)&&((s=e.metadata)==null?void 0:s.is_visually_hidden_from_conversation)===!0}function Zg(e){switch(us(e)){case 25:case 26:case 30:case 16:return!0;default:return!1}}function Pae(e){return jA.isMultimodalTextMessage(e)&&e.content.parts.some(t=>typeof t!="string"&&(t.content_type===Bn.VideoAssetPointer||t.content_type===Bn.ImageAssetPointer))}function em(e){return!!(Pae(e)||Tae(e)||kae(e)&&NW(e)||wae(e))}function kae(e){var t,n,r,i,s,o,a,c;if(Tu(e))return!1;if(((r=(n=(t=e.metadata)==null?void 0:t.attachments)==null?void 0:n.length)!=null?r:0)>0||(i=e.metadata)!=null&&i.chatgpt_sdk||(s=e.metadata)!=null&&s.async_completion_id)return!0;if((o=e.metadata)!=null&&o.reasoning_status)return!1;if((a=e.clientMetadata)!=null&&a.errCode&&Object.values(dh).some(l=>{var u;return l===((u=e.clientMetadata)==null?void 0:u.errCode)}))return!0;switch(us(e)){case 27:case 66:return k_(e);case 3:return NW(e);case 48:case 62:case 61:case 5:case 6:case 52:return!0;case 35:return!!((c=e.metadata)!=null&&c.async_task_id);default:return!1}}function Mae(e){var r;if(Tu(e))return!1;const t=us(e),n=k_(e);return t===27?n:!!(n&&t===74&&((r=e.metadata)==null?void 0:r.async_task_type)===IW.PRO_MODE)}function E6e(e){return Tu(e)?!1:us(e)===49&&e.status==="finished_successfully"&&e.recipient==="all"}function S6e(e){const t=e.recipient;return!!t&&(t.includes("image_gen")||t.includes("image_gen")||t.includes("t2uay3k"))}var Ub,OD;function PW(){if(OD)return Ub;OD=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return Ub=e,Ub}var Bb,TD;function Dae(){if(TD)return Bb;TD=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Bb=t,Bb}var Gb,wD;function Lae(){if(wD)return Gb;wD=1;var e=Dae(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Gb=n,Gb}var Wb,AD;function kW(){if(AD)return Wb;AD=1;var e=Lae(),t=ji(),n=lh(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function c(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=s.test(l);return d||o.test(l)?a(l.slice(2),d?2:8):i.test(l)?r:+l}return Wb=c,Wb}var qb,xD;function jae(){if(xD)return qb;xD=1;var e=kW(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return qb=r,qb}var Vb,ID;function Fae(){if(ID)return Vb;ID=1;var e=jae();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Vb=t,Vb}var $b,ND;function MW(){if(ND)return $b;ND=1;var e=PW(),t=Ou(),n=Fae(),r=Math.max,i=Math.min;function s(o,a,c){var l=o==null?0:o.length;if(!l)return-1;var u=l-1;return c!==void 0&&(u=n(c),u=c<0?r(l+u,0):i(u,l-1)),e(o,t(a,3),u,!0)}return $b=s,$b}var Uae=MW();const DW=Gt(Uae),Bae="contentReference",LW="writing",O6e=[LW],Gae=e=>{if("render_as"in e&&typeof e.render_as=="string")return e.render_as};function Wae(e,t=[]){const n=M_(t);return UA(n,e,{includeDirectives:!1})}function T6e(e,t=[]){const n=M_(t);return UA(n,e,{includeDirectives:!0})}function w6e(e,t=[],n,r,i=!0,s){var u;const o=M_(t,r);let a=0,c=o.filter(({index:d,displayType:f})=>d!=null&&f).reduce((d,{index:f,newContentReference:h})=>((h.type==="grouped_webpages"||h.type==="grouped_webpages_v2"||h.type==="grouped_webpages_model_predicted_fallback")&&(h.items=h.items.map(p=>I(S({},p),{section_index:a++}))),d[f]=h,d),[]),l=UA(o,e);return i&&(l=qae(l)),c=Vae(s,c),n&&((u=s==null?void 0:s.length)!=null?u:0)===0&&({updatedText:l,updatedReferences:c}=$ae(n,c,l)),{processedText:l,displayedContentReferences:c}}function M_(e=[],t){return[...e.entries()].sort(([,i],[,s])=>i.start_idx-s.start_idx||i.end_idx-s.end_idx).reduce((i,[s,o])=>{var l;let a,c;switch(o.type){case"invalid":case"hidden":a=I(S({},o),{type:"hidden",invalid:o.type==="invalid"});break;case"image_v2":case"nav_list":case"tldr":case"optimistic_image_citation":case"sources_footnote":case"sports_standings":case"sports_schedule":case"navigation":case"checkout_confirmation":case"video":case"file_navlist":o.type==="tldr"&&o.used_as_navigation||o.type==="navigation"?a=I(S({},o),{type:"hidden",invalid:!0}):(c="block",a=S({},o));break;case"file":case"python":case"container":case"title_citation":case"location_search":case"time":case"entity":case"map":case"product_entity":case"grouped_webpages":case"grouped_webpages_v2":case"grouped_webpages_model_predicted_fallback":case"attribution":case"image_inline":case"strix":c="inline",a=S({},o);break;case"webpage":case"webpage_extended":c="inline",a={type:"grouped_webpages",matched_text:o.matched_text,start_idx:o.start_idx,end_idx:o.end_idx,alt:o.alt,refs:o.refs,prompt_text:o.prompt_text,items:[S({},o)],safe_urls:o.safe_urls};break;case"entity_metadata":case"calculator":case"stock":case"forecast":case"businesses_map":case"products":case"product_reviews":case"product_rationale":case"image_group":case"dil":c="block",a=S({},o);break;case"product":{c=((l=Gae(o))!=null?l:"inline")==="table"?"inline":"block",a=S({},o);break}default:a=I(S({},o),{type:"hidden",invalid:!0}),c="alt";break}return i.push({originalContentReference:o,newContentReference:a,index:s,displayType:c}),t&&i.push({originalContentReference:o,newContentReference:S({type:"debug",matched_text:o.matched_text.replace(/(^ã€|ã€‘$)/g,"")},o.type==="webpage_extended"&&o.pub_date&&{pub_date:new Date(o.pub_date*1e3).toLocaleString()}),index:s}),i},[])}const XT="â€‹",A6e="îˆ€";function UA(e,t,n={includeDirectives:!0}){var o,a;let r="",i=0;const s=ooe(t);for(const c of e){const{originalContentReference:l,displayType:u,index:d}=c,{start_idx:f,end_idx:h}=l,p=s.slice(i,f);if(r+=CM(p),i=h,u)if(n.includeDirectives)switch(u){case"block":r+="\n"+QT(d,"leaf")+"\n";break;case"inline":{r.endsWith("```")&&(r+="\n"),r.length!==0&&r[r.length-1].match(/[:\\]/)&&(r+=XT),/https?:\/\/[^\s]*$/.test(r)&&(r+=" "),r+=QT(d,"inline");break}case"alt":r+=(o=l.alt)!=null?o:"";break}else r+=(a=l.alt)!=null?a:""}return r+=CM(s.slice(i)),r}function QT(e,t){const n=t==="leaf"?"::":":";return"".concat(n).concat(Bae,"[oaicite:").concat(e,"]{index=").concat(e,"}")}function qae(e){let t=e;t=t.replace(/ã€[^ã€‘]*$/g,"");const n=t.match(/(\n|^):::/g);return n&&n.length%2===1&&(t+="\n:::"),t=t.replace(/^\d+$/,""),t}function Vae(e,t){return t.map(r=>{var i,s,o,a,c,l,u;if(r.type==="python"){const d=e==null?void 0:e.find(f=>{var h,p;return((p=(h=f.metadata)==null?void 0:h.python_citation)==null?void 0:p.citation_id)===r.citation_id});return I(S({},r),{cited_message:d,highlighted_text:RD((o=(s=(i=d==null?void 0:d.metadata)==null?void 0:i.python_citation)==null?void 0:s.annotated_text)!=null?o:"",r.starting_line,r.ending_line)})}else if(r.type==="container"){const d=e==null?void 0:e.find(f=>{var h,p;return((p=(h=f.metadata)==null?void 0:h.container_citation)==null?void 0:p.citation_id)===r.citation_id});return I(S({},r),{cited_message:d,highlighted_text:RD((u=(l=(c=(a=d==null?void 0:d.metadata)==null?void 0:a.container_citation)==null?void 0:c.annotated_parts)==null?void 0:l.join("\n"))!=null?u:"",r.starting_line,r.ending_line)})}return r})}function $ae(e,t,n){const r=e.find(s=>us(s)===Ce.CodeInterpreter),i=e.find(s=>us(s)===Ce.CodeInterpreterTool);if(r!=null&&i!=null){const s=t.length;n.endsWith("```")&&(n+="\n"),n+=" "+XT+QT(s,"inline")+XT,t.push({type:"code_execution",codeMessage:r,codeExecutionOutputMessage:i})}return{updatedText:n,updatedReferences:t}}function RD(e,t,n){const r=e.split("\n"),i=r.findIndex(c=>c.startsWith("".concat(t,":"))),s=r.findIndex(c=>c.startsWith("".concat(n,":")));return i===-1||s===-1||s<i?null:r.slice(i,s+1).map(c=>c.replace(/^L\d+:\s*/,"").trim()).join("\n")}function Hae(e,t){var i;if(!t||Object.keys(t).length===0)return e;const n=e.split("\n");let r=!1;for(let s=0;s<n.length;s++){const o=n[s];if(PD(o)){r=!r;continue}if(r)continue;const a=o.trim(),c=zae(a);if(!c)continue;const l=c.attributes,u=Yae(l);if(!u)continue;const d=(i=t[u])==null?void 0:i.content;if(typeof d!="string")continue;let f=s+1;for(;f<n.length;){const g=n[f];if(PD(g)){r=!r,f++;continue}if(!r&&g.trim()===":::")break;f++}if(f>=n.length)continue;const h=d.split("\n"),p=f-(s+1);n.splice(s+1,p,...h),s=s+h.length}return n.join("\n")}function PD(e){return e.trimStart().startsWith("```")}function zae(e){var r;const t=new RegExp("^:::".concat(LW,"\\{([^}]*)\\}$")),n=e.match(t);return n?{attributes:(r=n[1])!=null?r:""}:null}function Yae(e){var r,i,s;const t=/(?:^|\s)id\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s}]+))/,n=e.match(t);if(n)return(s=(i=(r=n[1])!=null?r:n[2])!=null?i:n[3])!=null?s:void 0}function jW(e,t={shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!1}){var n,r,i,s,o;if(t.shouldGetVisibleText&&!Mae(e))return"";switch(e.content.content_type){case qe.Text:{let a=e.content.parts.join("");return(n=e.metadata)!=null&&n.writing_blocks&&(a=Hae(a,e.metadata.writing_blocks)),t.shouldGetTextFromContentReferences&&((r=e.metadata)!=null&&r.content_references)&&(a=Wae(a,e.metadata.content_references)),a}case qe.MultimodalText:return jA.getPartsAsString(e,!t.shouldGetVisibleText);case qe.TetherBrowsingDisplay:return e.content.result;case qe.TetherQuote:case qe.TetherBrowsingCode:case qe.Code:case qe.ExecutionOutput:case qe.SystemError:return e.content.text;case qe.SystemMessage:case qe.SystemContent:return(o=(s=(i=e==null?void 0:e.metadata)==null?void 0:i.__internal)==null?void 0:s.rendered_harmony_string)!=null?o:JSON.stringify(e.content,null,2);case qe.UserEditableContext:return"".concat(e.content.user_profile,"\n").concat(e.content.user_instructions);case qe.SonicWebpage:return"[".concat(e.content.ref_id,"] ").concat(e.content.title," (").concat(e.content.url,")");case qe.StructuredThoughts:return e.content.thoughts.map(a=>"**".concat(a.summary,"**\n\n").concat(a.content)).join("\n\n");case qe.ReasoningRecap:return e.content.content;default:return""}}var Hb,kD;function Kae(){if(kD)return Hb;kD=1;var e=Ou(),t=Eu(),n=Su();function r(i){return function(s,o,a){var c=Object(s);if(!t(s)){var l=e(o,3);s=n(s),o=function(d){return l(c[d],d,c)}}var u=i(s,o,a);return u>-1?c[l?s[u]:u]:void 0}}return Hb=r,Hb}var zb,MD;function Jae(){if(MD)return zb;MD=1;var e=Kae(),t=MW(),n=e(t);return zb=n,zb}var Xae=Jae();const Zp=Gt(Xae),Yb=-1;var FW=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.StructuredThoughts=2]="StructuredThoughts",e[e.ReasoningRecap=3]="ReasoningRecap",e[e.Browsing=4]="Browsing",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.JITPlugin=6]="JITPlugin",e[e.DILWidget=7]="DILWidget",e[e.RetrievalBrowsing=8]="RetrievalBrowsing",e[e.ParallelBrowsing=9]="ParallelBrowsing",e[e.Dalle=10]="Dalle",e[e.Canmore=11]="Canmore",e[e.Container=12]="Container",e[e.GizmoEditor=13]="GizmoEditor",e[e.SearchResult=14]="SearchResult",e[e.Debug=15]="Debug",e[e.SearchGPTQuery=16]="SearchGPTQuery",e[e.l1p9k3u=17]="l1p9k3u",e[e.a8km123=18]="a8km123",e[e.f959b8c=19]="f959b8c",e[e.b1de6e2_c=20]="b1de6e2_c",e[e.b1de6e2_s=21]="b1de6e2_s",e[e.b1de6e2_d=22]="b1de6e2_d",e[e.b1de6e2_rm=23]="b1de6e2_rm",e[e.is_loading_message=24]="is_loading_message",e[e.b47u8ra0_t=25]="b47u8ra0_t",e[e.de1d73e=26]="de1d73e",e[e.oiw209h=27]="oiw209h",e[e.t2uay3k=28]="t2uay3k",e[e.Oboe=29]="Oboe",e[e.UserSettings=30]="UserSettings",e[e.CoTSearchTool=31]="CoTSearchTool",e[e.n7jupd=32]="n7jupd",e[e.n7jupd_x=33]="n7jupd_x",e[e.n7jupd_a=34]="n7jupd_a",e[e.n7jupd_n=35]="n7jupd_n",e[e.n7jupd_p=36]="n7jupd_p",e[e.n7jupd_image_gen=37]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=38]="n7jupd_native_api_tool",e[e.APIToolElicitation=39]="APIToolElicitation",e[e.PIMBlock=40]="PIMBlock",e[e.Mochi=41]="Mochi",e[e.SuperWidget=42]="SuperWidget",e[e.Croquette=43]="Croquette",e[e.kaur1br5=44]="kaur1br5",e[e.e1ld0dvz=45]="e1ld0dvz",e[e.Glaux=46]="Glaux",e[e.Strix=47]="Strix",e[e.Mercury=48]="Mercury",e[e.async_task_result_message=49]="async_task_result_message",e))(FW||{});const UW={[Ce.StructuredThoughts]:2,[Ce.ReasoningRecap]:3,[Ce.Browsing]:4,[Ce.BrowseTool]:4,[Ce.SearchGPTQuery]:16,[Ce.RetrievalBrowsing]:8,[Ce.RetrievalBrowsingTool]:8,[Ce.ParallelBrowsing]:9,[Ce.ParallelBrowsingTool]:9,[Ce.JITPlugin]:6,[Ce.JITPluginTool]:6,[Ce.JITPluginGoogleTool]:6,[Ce.DILWidget]:7,[Ce.Dalle]:10,[Ce.DalleTool]:10,[Ce.t2uay3k]:28,[Ce.t2uay3k_c]:28,[Ce.oiw209h]:27,[Ce.oiw209h_c]:27,[Ce.Container]:12,[Ce.CodeInterpreter]:5,[Ce.CodeInterpreterTool]:5,[Ce.UserSettings]:30,[Ce.UserSettingsTool]:30,[Ce.a8km123]:18,[Ce.f959b8c]:19,[Ce.b1de6e2_c]:20,[Ce.b1de6e2_s]:21,[Ce.b1de6e2_d]:22,[Ce.b1de6e2_rm]:23,[Ce.async_task_result_message]:49,[Ce.l1p9k3u]:17,[Ce.is_loading_message]:24,[Ce.b47u8ra0_t]:25,[Ce.de1d73e]:26,[Ce.GizmoEditor]:13,[Ce.SearchResultTool]:14,[Ce.ImagePreloadTool]:14,[Ce.CanmoreTool]:11,[Ce.CoTSearchToolCall]:31,[Ce.CoTSearchToolResult]:31,[Ce.n7jupd_c]:32,[Ce.n7jupd_r]:32,[Ce.n7jupd_t]:32,[Ce.n7jupd_m]:32,[Ce.n7jupd_x]:33,[Ce.n7jupd_a]:34,[Ce.n7jupd_native_api_tool]:38,[Ce.n7jupd_n]:35,[Ce.n7jupd_p]:36,[Ce.kaur1br5]:44,[Ce.Mercury]:48,[Ce.PIMBlock]:40,[Ce.Mochi]:41,[Ce.SuperWidget]:42,[Ce.Croquette]:43,[Ce.n7jupd_image_gen]:37,[Ce.e1ld0dvz]:45,[Ce.Glaux]:46,[Ce.Strix]:47,[Ce.APIToolElicitation]:39};function Qae(e){switch(e){case Ce.JITPlugin:case Ce.Dalle:case Ce.t2uay3k:case Ce.oiw209h:case Ce.DILWidget:case Ce.CoTSearchToolCall:case Ce.CodeInterpreter:case Ce.UserSettings:case Ce.PIMBlock:return!0;default:return!1}}function Zae(e,t,n){var r;return(e==null?void 0:e.type)===6&&Zg(n)?!0:!e||e.type!==t||Qae(us(n))||e.type===12&&!((r=n.author.name)!=null&&r.startsWith(jd.CONTAINER))?!1:e.type===t}function x6e(e){return UW[us(e)]}function DD(e,t,n){return mi(t,r=>{var c;if(e===Ke.User&&!em(n))return r;if(FA(n)){let l;const u=(c=n.metadata)==null?void 0:c.reasoning_group_id;u?l=Zp(r,f=>f.type===Yb&&f.reasoningGroupId===u):l=Us(r);let d;(l==null?void 0:l.type)===Yb?d=l:(d={type:Yb,groups:[],reasoningGroupId:u},r.push(d)),r=d.groups}const i=us(n);if(i===Ce.no_render)return;const s=UW[i],o=Us(r),a=(o==null?void 0:o.type)!==15?o:Zp(r,l=>l.type!==15);i===Ce.Text&&((a==null?void 0:a.type)===1||(a==null?void 0:a.type)===0)&&jW(n)!=null&&(xae(n)||Aae(a.messages[a.messages.length-1]))?(a.type=1,a.messages.push(n)):s===18&&r.some(l=>l.type===18)?Zp(r,u=>u.type===18).messages.push(n):Zae(a,s,n)?a.messages.push(n):r.push({type:s!=null?s:Tu(n)?15:0,messages:[n]})})}function BA(e,t){const n=e.getNodeByIdOrMessageId(t),r=n.id!==e.rootId?BA(e,n.parentId):ece;return tce(r,n.message)}const ece=Object.freeze([]),tce=UJ(nce);function nce(e,t){var s,o,a;const n=[...e],r=Us(n),i=RW(t);if(r&&rce(r,t)){const c=[...r.messages,t],l=DD(r.role,r.messageGroups,t),u=r.role===Ke.System?LD(t):r.role,d=(s=SD(t))!=null?s:r.gizmoId;let f=r.authorId,h=r.modelSlug;n[n.length-1]=I(S({},r),{messages:c,messageGroups:l,role:u,isPrompt:r.isPrompt||i,gizmoId:d,authorId:f,modelSlug:h,hasDisplayableMessages:r.hasDisplayableMessages||em(t),userContinuationRootTurnId:r.userContinuationRootTurnId,userContinuationParentTurnId:r.userContinuationParentTurnId,userContinuationSuccessorTurnId:r.userContinuationSuccessorTurnId})}else{const c=(o=t.clientMetadata)==null?void 0:o.requestId,l=LD(t),u=l===Ke.Assistant&&c&&c!==(r==null?void 0:r.id)?c:t.id,d=em(t);let f=null,h=null;if(l===Ke.User&&d){const p=DW(n,g=>g.hasDisplayableMessages);if(p!==-1){const g=n[p];g.role===Ke.User?(f=(a=g.userContinuationRootTurnId)!=null?a:g.id,h=g.id,n[p]=I(S({},g),{userContinuationSuccessorTurnId:u})):(f=u,h=u)}}n.push({id:u,role:l,messages:[t],messageGroups:DD(l,[],t),isPrompt:i,gizmoId:SD(t),hasDisplayableMessages:d,userContinuationRootTurnId:f,userContinuationParentTurnId:h,userContinuationSuccessorTurnId:null})}return n}function LD(e){return Zg(e)?Ke.System:e.author.role===Ke.Tool?Ke.Assistant:e.author.role===Ke.Developer?Ke.System:e.author.role}function rce(e,t){var n,r,i,s,o,a,c,l;if((n=t.metadata)!=null&&n.is_indepth_feedback)return!1;if((r=t.metadata)!=null&&r.async_completion_id){const u=Us(e.messages);return!!((i=u==null?void 0:u.metadata)!=null&&i.async_task_id&&u.metadata.async_task_id===((s=t.metadata)==null?void 0:s.async_task_id))}return(a=(o=Us(e.messages))==null?void 0:o.metadata)!=null&&a.reasoning_status&&((c=t.metadata)!=null&&c.reasoning_status)||e.role===t.author.role?!0:e.role===Ke.User&&t.recipient==="bio"?!1:((l=Us(e.messageGroups))==null?void 0:l.type)===FW.JITPlugin&&Zg(t)?!0:Zg(t)?e.role===Ke.Root||e.role===Ke.System:Tu(t)||(e.role===Ke.System||e.role===Ke.Developer)&&!e.isPrompt?!0:t.author.role===Ke.Tool?e.role===Ke.Assistant:!1}function ice(){"use forget";const e=H.c(2),t=Jt();let n;return e[0]!==t.pathname?(n=ace(t.pathname),e[0]=t.pathname,e[1]=n):n=e[1],n}function sce(e){const n=new URL("http://example.com".concat(e)).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(n)return n[1]}function oce(e){const t=e.split("-");return t.length>1&&t[0]==="g"?(t==null?void 0:t[1])==="p"?"g-p-".concat(t[2]):"g-".concat(t[1]):e}function ace(e){const t=sce(e);if(t)return oce(t)}const BW=e=>{var t,n;return["models",JSON.stringify({IIM:(t=e==null?void 0:e.IIM)!=null?t:!1,isGizmo:(n=e==null?void 0:e.isGizmo)!=null?n:!1})]},cce=()=>["gizmo-models"],lce="models",uce=1,dce=e=>{var t;return En({retry:5,enabled:(t=e==null?void 0:e.enabled)!=null?t:!0,queryKey:BW(e),queryFn:async()=>{const n=Pi(await Z.safeGet("/models",{authOption:en.SendIfAvailable,parameters:{query:{iim:e==null?void 0:e.IIM,is_gizmo:e==null?void 0:e.isGizmo}}}));return pce(n)},placeholderData:e==null?void 0:e.placeholderData})},fce=Be(e=>hn(e,hce));function hce(e=!0){return En({retry:5,enabled:e,queryKey:cce(),queryFn:async()=>{const t=Pi(await Z.safeGet("/models/gpts",{authOption:en.SendIfAvailable}));return gce(t)}})}function pce(e){var t,n,r;return{categories:e.categories.concat().reverse().map(mce),groups:(n=(t=e.internal_groups)==null?void 0:t.map(_ce))!=null?n:[],defaultModelSlug:(r=e.default_model_slug)!=null?r:null,modelPickerVersion:e.model_picker_version,models:new Map(e.models.map(i=>[i.slug,GW(i)])),title:e.title,secondaryTitle:e.secondary_title}}function gce(e){return{editor:e.editor,model_override:e.model_override}}function GW(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features,enableInfer:e.enable_infer,enableInferOptOut:e.enable_infer_opt_out,reasoningType:e.reasoning_type,configurableThinkingEffort:e.configurable_thinking_effort}}function mce(O){var w=O,{default_model:e,tagline:t,color:n,human_category_name:r,category:i,human_category_short_name:s,human_category_shorter_name:o,subscription_level:a,short_explainer:c,subcategory:l,render_header_type:u,title:d,is_beta:f,is_alpha:h,model_badge:p,supported_features:g,supported_models:m,disabled_by_admin:v,date_updated:y,action_pill_short_name:T,slash_command_enabled:b}=w,C=W(w,["default_model","tagline","color","human_category_name","category","human_category_short_name","human_category_shorter_name","subscription_level","short_explainer","subcategory","render_header_type","title","is_beta","is_alpha","model_badge","supported_features","supported_models","disabled_by_admin","date_updated","action_pill_short_name","slash_command_enabled"]);return S({color:n,tagline:t,defaultModel:e,label:r,shortLabel:s,description:c,shorterLabel:o!=null?o:s,subscriptionLevel:a,categoryId:i,subcategory:l,renderHeaderType:u,isBeta:f,isAlpha:h,modelBadge:p,title:d,supportedFeatures:g,supportedModels:m!=null?m:[],dateUpdated:y,actionPillShortName:T,slashCommandEnabled:b,disabledByAdmin:v!=null?v:!1},C)}function _ce({group:e,human_group_name:t,human_group_short_name:n,model_ids:r}){return{group:e,label:t,shortLabel:n,modelIds:r}}const jD=new WeakMap;function vce(e){let t=jD.get(e);if(!t){const n=new Map([...e.models.entries()].filter(([,r])=>r.tags.includes("history_off_approved")));t={models:n,defaultModelSlug:e.defaultModelSlug,categories:e.categories.filter(r=>n.has(r.defaultModel)),groups:e.groups.map(r=>I(S({},r),{modelIds:r.modelIds.filter(i=>n.has(i))})).filter(r=>r.modelIds.length>0)},jD.set(e,t)}return t}const eg=new BroadcastChannel("plugin_oauth_channel"),I6e=e=>{eg.postMessage(e)};function FD(){return _.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:_.jsx(bt,{id:"PoPvGE",defaultMessage:"Alpha"})})}const WW=e=>E.createElement("svg",S({width:20,height:20,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M9.5 2.9375V5.5625M9.5 13.4375V16.0625M2.9375 9.5H5.5625M13.4375 9.5H16.0625",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"}),E.createElement("path",{d:"M4.86011 4.85961L6.71627 6.71577M12.2847 12.2842L14.1409 14.1404M4.86011 14.1404L6.71627 12.2842M12.2847 6.71577L14.1409 4.85961",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"})),N6e=Object.freeze(Object.defineProperty({__proto__:null,default:WW},Symbol.toStringTag,{value:"Module"}));function uf({className:e}){return _.jsx(WW,{className:ve("motion-safe:animate-spin",e)})}function R6e({className:e}){return _.jsx("div",{className:"flex h-full w-full items-center justify-center",children:_.jsx(uf,{className:e})})}function Cr(e){return e?"":void 0}function yce(e,t){return e.getAttribute(t)!=null}function P6e(e,t,n){qW(e,t,Cr(n))}function qW(e,t,n){e&&(n!=null?e.setAttribute(t,n):e.removeAttribute(t))}const Cce=new Set(["primary"]);function no(m){var v=m,{children:e,onClick:t,className:n,contentWrapperClassName:r,color:i="primary",label:s,disabled:o=!1,visuallyDisabled:a=!1,loading:c=!1,size:l="medium",fullWidth:u=!1,contentsFullWidth:d=!1,icon:f,iconClassName:h,style:p}=v,g=W(v,["children","onClick","className","contentWrapperClassName","color","label","disabled","visuallyDisabled","loading","size","fullWidth","contentsFullWidth","icon","iconClassName","style"]);var w;const y=a||o||c,T=c||o,b=ve(y&&!Cce.has(i)&&"opacity-50",T&&"cursor-not-allowed","btn relative",i==="primary"&&"btn-primary",i==="primary-inverse"&&"btn-primary-inverse",i==="green"&&"btn-green",i==="purple"&&"btn-purple",i==="accent"&&"btn-accent",i==="secondary"&&"btn-secondary",i==="custom"&&"btn-custom",i==="danger"&&"btn-danger",i==="danger-outline"&&"btn-danger-outline",i==="blue"&&"btn-blue",i==="ghost"&&"btn-ghost",l==="small"&&"btn-small",l==="large"&&"btn-large",u&&"w-full",n),C=f?_.jsxs("div",{className:ve("flex w-full","items-center justify-center",r,{"gap-1.5":l==="medium"||l==="large","gap-1":l==="small"}),children:[c?_.jsx(uf,{className:ve(e?"-ms-0.5":"-mx-1",l==="small"&&"icon-sm",(l==="medium"||l==="large")&&"icon")}):_.jsx(f,{"aria-label":"",className:ve(e?"-ms-0.5":"-mx-1",l==="small"&&"icon-sm",(l==="medium"||l==="large")&&"icon",h)}),e]}):_.jsxs("div",{className:ve("flex items-center justify-center",r,d&&"w-full"),children:[e,c&&_.jsx(uf,{className:ve(l==="small"&&"icon-sm ms-1",(l==="medium"||l==="large")&&"icon ms-1.5")})]});switch(g.as){case"link":case"a":{const O=g,{openNewTab:A}=O,x=W(O,["openNewTab"]);return _.jsx(Um,I(S({},x),{"aria-label":s,to:(w=g.to)!=null?w:"/",target:A===!0?"_blank":"_self",onClick:t,className:b,"data-visually-disabled":Cr(y),style:p,children:C}))}default:return _.jsx("button",I(S({className:b,ref:g.ref,"aria-label":s,onClick:t,disabled:T,"data-visually-disabled":Cr(y)},g),{style:p,children:C}))}}no.displayName="Button";function bce(){return IB()?8:1}function VW(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function Ece(e){return!D_(e)&&!VW(e)}function D_(e){const t="nativeEvent"in e?e.nativeEvent:e;return t.isComposing||t.keyCode===229}function Sce(e){const{key:t,currentTarget:n}=e,r=n instanceof HTMLInputElement;return Ece(e)&&(t==="Tab"||t==="ArrowDown"||t==="ArrowUp"||t==="ArrowLeft"&&(!r||n.selectionStart===0||n.selectionEnd===0)||t==="ArrowRight"&&(!r||n.selectionEnd===n.selectionStart&&n.selectionStart===n.value.length))}const Oce=B(()=>k(()=>import("./dr1v3i80rkhviakg.js"),__vite__mapDeps([17,1])),{loading:e=>z(e)}),Tce=B(()=>k(()=>import("./fyw02vlaiv2vq6cj.js").then(e=>e.zL),__vite__mapDeps([3,1,4])),{loading:e=>z(e)}),ro=e=>{"use forget";var Qe;const t=H.c(89),j=e,{as:n,icon:r,trailing:i,highlightTrailing:s,showHighlightTrailing:o,trailingColor:a,label:c,badge:l,secondary:u,className:d,color:f,size:h,active:p,highlighted:g,hasManagedFocus:m,subMenu:v,fillContainer:y,children:T,iconOnly:b,iconAriaLabel:C}=j,O=W(j,["as","icon","trailing","highlightTrailing","showHighlightTrailing","trailingColor","label","badge","secondary","className","color","size","active","highlighted","hasManagedFocus","subMenu","fillContainer","children","iconOnly","iconAriaLabel"]),w=o===void 0?!1:o,A=a===void 0?"tertiary":a,x=h===void 0?"default":h,R=p===void 0?!1:p,P=g===void 0?!1:g,L=m===void 0?!1:m,D=v===void 0?!1:v,F=y===void 0?!1:y,G=b===void 0?!1:b;let Y;if(E.isValidElement(T)&&!c&&!l)Y=T;else{let Pe;t[0]!==c?(Pe=c&&_.jsx(Ace,{children:c}),t[0]=c,t[1]=Pe):Pe=t[1];let fe;t[2]!==l?(fe=l&&_.jsx(xce,{children:l}),t[2]=l,t[3]=fe):fe=t[3];let ge;t[4]!==T||t[5]!==Pe||t[6]!==fe?(ge=_.jsxs("div",{className:"flex min-w-0 grow items-center gap-2.5 group-data-no-contents-gap:gap-0",children:[Pe,T,fe]}),t[4]=T,t[5]=Pe,t[6]=fe,t[7]=ge):ge=t[7],Y=ge}if(u){let Pe;t[8]!==u?(Pe=_.jsx("div",{className:"not-group-data-disabled:text-token-text-tertiary leading-dense mb-0.5 text-xs group-data-sheet-item:mt-0.5 group-data-sheet-item:mb-0",children:u}),t[8]=u,t[9]=Pe):Pe=t[9];let fe;t[10]!==Y||t[11]!==Pe?(fe=_.jsxs("div",{className:"min-w-0",children:[Y,Pe]}),t[10]=Y,t[11]=Pe,t[12]=fe):fe=t[12],Y=fe}if(r){const Pe=x==="large"?"icon-lg":"icon";let fe;t[13]!==Pe?(fe=ve("flex items-center justify-center group-disabled:opacity-50 group-data-disabled:opacity-50",Pe),t[13]=Pe,t[14]=fe):fe=t[14];let ge;t[15]!==r||t[16]!==C||t[17]!==G?(ge=typeof r!="function"?r:_.jsx(r,{className:"icon","aria-hidden":G?"false":"true","aria-label":G?C:void 0}),t[15]=r,t[16]=C,t[17]=G,t[18]=ge):ge=t[18];let Le;t[19]!==fe||t[20]!==ge?(Le=_.jsx("div",{className:fe,children:ge}),t[19]=fe,t[20]=ge,t[21]=Le):Le=t[21];const se=!G&&Y;let ke;t[22]!==Le||t[23]!==se?(ke=_.jsxs(_.Fragment,{children:[Le,se]}),t[22]=Le,t[23]=se,t[24]=ke):ke=t[24],Y=ke}let V;if(i){const Pe=A==="tertiary"&&"text-token-text-tertiary";let fe;t[25]!==Pe?(fe=ve("trailing",Pe),t[25]=Pe,t[26]=fe):fe=t[26];const ge=s?-1:void 0;let Le;t[27]!==i?(Le=typeof i!="function"?i:_.jsx(i,{className:"icon","aria-hidden":"true"}),t[27]=i,t[28]=Le):Le=t[28];let se;t[29]!==fe||t[30]!==ge||t[31]!==Le?(se=_.jsx("div",{className:fe,tabIndex:ge,children:Le}),t[29]=fe,t[30]=ge,t[31]=Le,t[32]=se):se=t[32],V=se}if(s){const Pe=A==="tertiary"&&"text-token-text-tertiary";let fe;t[33]!==Pe?(fe=ve("trailing highlight",Pe),t[33]=Pe,t[34]=fe):fe=t[34];let ge;t[35]!==s?(ge=typeof s!="function"?s:_.jsx(s,{className:"icon","aria-hidden":"true"}),t[35]=s,t[36]=ge):ge=t[36];let Le;t[37]!==fe||t[38]!==ge?(Le=_.jsx("div",{className:fe,children:ge}),t[37]=fe,t[38]=ge,t[39]=Le):Le=t[39];const se=Le;let ke;t[40]!==se||t[41]!==V?(ke=V?_.jsxs("div",{className:"trailing-pair",children:[se,V]}):se,t[40]=se,t[41]=V,t[42]=ke):ke=t[42],V=ke}if(D){let Pe;t[43]===Symbol.for("react.memo_cache_sentinel")?(Pe=_.jsx(Oce,{className:"icon-sm -me-0.25"}),t[43]=Pe):Pe=t[43];const fe=Pe;let ge;t[44]!==V?(ge=V?_.jsxs("div",{className:"flex items-center gap-1 self-stretch",children:[V,fe]}):fe,t[44]=V,t[45]=ge):ge=t[45],V=ge}if(V&&!G){if(r){const fe=x==="large"?"gap-2":"gap-1.5";let ge;t[46]!==fe?(ge=ve("flex min-w-0 items-center",fe),t[46]=fe,t[47]=ge):ge=t[47];let Le;t[48]!==Y||t[49]!==ge?(Le=_.jsx("div",{className:ge,children:Y}),t[48]=Y,t[49]=ge,t[50]=Le):Le=t[50],Y=Le}let Pe;t[51]!==Y||t[52]!==V?(Pe=_.jsxs(_.Fragment,{children:[Y,V]}),t[51]=Y,t[52]=V,t[53]=Pe):Pe=t[53],Y=Pe}const M=n,te=E.useRef(null),$=E.useRef(!1);let ie,ue;t[54]!==P?(ie=()=>{if($.current){$.current=!1;return}P&&requestAnimationFrame(()=>{var Pe;(Pe=te.current)==null||Pe.scrollIntoView({block:"nearest"})})},ue=[P],t[54]=P,t[55]=ie,t[56]=ue):(ie=t[55],ue=t[56]),E.useEffect(ie,ue);const me=O.disabled?-1:0,J=Cr((Qe=O.disabled)!=null?Qe:!1);let K;t[57]!==R?(K=Cr(R),t[57]=R,t[58]=K):K=t[58];let ne;t[59]!==P?(ne=Cr(P),t[59]=P,t[60]=ne):ne=t[60];let X;t[61]!==D?(X=Cr(D),t[61]=D,t[62]=X):X=t[62];let ee;t[63]!==F?(ee=Cr(F),t[63]=F,t[64]=ee):ee=t[64];let ye;t[65]!==w?(ye=Cr(w),t[65]=w,t[66]=ye):ye=t[66];const de=x==="large"?"large":void 0,oe=f!=="default"?f:void 0,Ee=!L&&"hoverable",Ae=r&&!V&&(x==="large"?"gap-2":"gap-1.5"),He=x==="large"&&G&&"p-2";let Re;t[67]!==d||t[68]!==Ee||t[69]!==Ae||t[70]!==He?(Re=ve("group __menu-item",Ee,Ae,He,d),t[67]=d,t[68]=Ee,t[69]=Ae,t[70]=He,t[71]=Re):Re=t[71];let _e;t[72]!==O?(_e=Pe=>{var fe;$.current=!0,(fe=O.onPointerMoveCapture)==null||fe.call(O,Pe)},t[72]=O,t[73]=_e):_e=t[73];let pe;return t[74]!==M||t[75]!==Y||t[76]!==O||t[77]!==me||t[78]!==J||t[79]!==K||t[80]!==ne||t[81]!==X||t[82]!==ee||t[83]!==ye||t[84]!==de||t[85]!==oe||t[86]!==Re||t[87]!==_e?(pe=_.jsx(M,I(S({ref:te,tabIndex:me,"data-disabled":J,"data-active":K,"data-highlighted":ne,"data-has-submenu":X,"data-fill":ee,"data-revealed":ye,"data-size":de,"data-color":oe,className:Re},O),{onPointerMoveCapture:_e,children:Y})),t[74]=M,t[75]=Y,t[76]=O,t[77]=me,t[78]=J,t[79]=K,t[80]=ne,t[81]=X,t[82]=ee,t[83]=ye,t[84]=de,t[85]=oe,t[86]=Re,t[87]=_e,t[88]=pe):pe=t[88],pe},wce=n=>{var r=n,{external:e}=r,t=W(r,["external"]);return _.jsx(ro,S(S({as:Um},e?{highlightTrailing:_.jsx(Tce,{className:"icon-sm"}),target:"_blank",rel:"noopener noreferrer"}:null),t))},GA=e=>{var o;const s=e,{row:t,className:n}=s,r=W(s,["row","className"]),i=(o=e.as)!=null?o:"button";return _.jsx(ro,I(S({"data-sheet-item":!0},r),{as:i,className:ve("bg-token-bg-tertiary dark:bg-token-bg-secondary mx-0 w-full py-4 leading-5",t?"justify-between px-4 text-start":"flex-col justify-center px-0",n)}))},Ace=E.memo(function({children:t}){return _.jsx("div",{className:"truncate",ref:n=>{n!=null&&n.textContent&&n.scrollWidth>n.clientWidth&&(n.title=n.textContent)},children:t})}),xce=({children:e,className:t})=>_.jsx("span",{className:ve("__menu-item-badge",t),children:e}),k6e=s=>{var o=s,{disabled:e,icon:t,children:n,className:r}=o,i=W(o,["disabled","icon","children","className"]);return _.jsx("button",I(S({disabled:e,tabIndex:e?void 0:0,"data-trailing-button":Cr(!0),className:ve("__menu-item-trailing-btn",r)},i),{onClick:a=>{var c;a.preventDefault(),a.stopPropagation(),(c=i.onClick)==null||c.call(i,a)},onDoubleClick:a=>{var c;a.preventDefault(),a.stopPropagation(),(c=i.onDoubleClick)==null||c.call(i,a)},onPointerDown:a=>{var c;(c=i.onPointerDown)==null||c.call(i,a),a.preventDefault(),a.stopPropagation()},onMouseDown:a=>{var c;(c=i.onMouseDown)==null||c.call(i,a),a.preventDefault(),a.stopPropagation()},children:_.jsx("div",{children:t?_.jsx(t,{className:"icon","aria-hidden":"true"}):n})}))},M6e=r=>{var i=r,{children:e,className:t}=i,n=W(i,["children","className"]);return _.jsx(Um,I(S({"data-trailing-button":Cr(!0),className:ve("__menu-item-trailing-lnk",t)},n),{onClick:s=>{var o;s.preventDefault(),s.stopPropagation(),(o=n.onClick)==null||o.call(n,s)},onDoubleClick:s=>{var o;s.preventDefault(),s.stopPropagation(),(o=n.onDoubleClick)==null||o.call(n,s)},children:e}))},Ice=r=>{var i=r,{as:e,className:t}=i,n=W(i,["as","className"]);const s=e;return _.jsx(s,S({className:ve("__menu-label",t)},n))};function Nce({size:e="long"}){const t=e==="long"?220:120,[n]=E.useState(()=>.75+.25*Math.random());return _.jsx(ro,{as:"div",disabled:!0,children:_.jsx("div",{className:"loading-results-shimmer h-4 rounded-sm",style:{width:Math.round(n*t)}})})}const Rce=e=>{"use forget";var C;const t=H.c(32);let n,r,i,s,o,a,c,l,u;t[0]!==e?(C=e,{holdFocus:c,selectAllOnFocus:l,onClick:r,onFocus:i,onKeyDownCapture:s,onSubmit:o,border:u,className:n}=C,a=W(C,["holdFocus","selectAllOnFocus","onClick","onFocus","onKeyDownCapture","onSubmit","border","className"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9]);const d=c===void 0?!1:c,f=l===void 0?!0:l,h=u===void 0?!0:u;let p;t[10]!==n?(p=ve("text-token-text-primary bg-token-bg-primary data-border:border-token-border-default relative m-[-1px] mx-1.5 w-[calc(100%---spacing(3))] min-w-[200px] rounded-[10px] border-transparent px-2.5 py-2 text-sm focus:ring-0 focus:ring-offset-0 focus:outline-hidden disabled:opacity-50 data-border:border-1 dark:bg-transparent",n),t[10]=n,t[11]=p):p=t[11];let g;t[12]!==d?(g=Cr(d),t[12]=d,t[13]=g):g=t[13];let m;t[14]!==h?(m=Cr(h),t[14]=h,t[15]=m):m=t[15];let v;t[16]!==r?(v=O=>{r==null||r(O),O.preventDefault()},t[16]=r,t[17]=v):v=t[17];let y;t[18]!==i||t[19]!==f?(y=O=>{i==null||i(O),f&&O.currentTarget.select()},t[18]=i,t[19]=f,t[20]=y):y=t[20];let T;t[21]!==s||t[22]!==o?(T=O=>{s==null||s(O);const{key:w}=O;Sce(O)||(O.stopPropagation(),w==="Enter"&&(o==null||o(O)))},t[21]=s,t[22]=o,t[23]=T):T=t[23];let b;return t[24]!==a||t[25]!==p||t[26]!==g||t[27]!==m||t[28]!==v||t[29]!==y||t[30]!==T?(b=_.jsx("input",S({type:"text",className:p,"data-hold-focus":g,"data-border":m,autoComplete:"off",onClick:v,onFocus:y,onKeyDownCapture:T},a)),t[24]=a,t[25]=p,t[26]=g,t[27]=m,t[28]=v,t[29]=y,t[30]=T,t[31]=b):b=t[31],b};function Ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Pce(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function L_(...e){return t=>e.forEach(n=>Pce(n,t))}function dn(...e){return E.useCallback(L_(...e),e)}function kce(e,t){const n=E.createContext(t),r=s=>{const l=s,{children:o}=l,a=W(l,["children"]),c=E.useMemo(()=>a,Object.values(a));return _.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(s){const o=E.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error("`".concat(s,"` must be used within `").concat(e,"`"))}return[r,i]}function wu(e,t=[]){let n=[];function r(s,o){const a=E.createContext(o),c=n.length;n=[...n,o];const l=d=>{var y;const v=d,{scope:f,children:h}=v,p=W(v,["scope","children"]),g=((y=f==null?void 0:f[e])==null?void 0:y[c])||a,m=E.useMemo(()=>p,Object.values(p));return _.jsx(g.Provider,{value:m,children:h})};l.displayName=s+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[e])==null?void 0:g[c])||a,p=E.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error("`".concat(d,"` must be used within `").concat(s,"`"))}return[l,u]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const c=(a==null?void 0:a[e])||s;return E.useMemo(()=>({["__scope".concat(e)]:I(S({},a),{[e]:c})}),[a,c])}};return i.scopeName=e,[r,Mce(i,...t)]}function Mce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(s)["__scope".concat(l)];return S(S({},a),d)},{});return E.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return n.scopeName=t.scopeName,n}function ii(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Rc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Dce({defaultProp:t,onChange:n}),s=e!==void 0,o=s?e:r,a=ii(n),c=E.useCallback(l=>{if(s){const d=typeof l=="function"?l(e):l;d!==e&&a(d)}else i(l)},[s,e,i,a]);return[o,c]}function Dce({defaultProp:e,onChange:t}){const n=E.useState(e),[r]=n,i=E.useRef(r),s=ii(t);return E.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function Lce(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var mc=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{};function $W(e){const[t,n]=E.useState(void 0);return mc(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var nu=E.forwardRef((e,t)=>{const o=e,{children:n}=o,r=W(o,["children"]),i=E.Children.toArray(n),s=i.find(jce);if(s){const a=s.props.children,c=i.map(l=>l===s?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:l);return _.jsx(ZT,I(S({},r),{ref:t,children:E.isValidElement(a)?E.cloneElement(a,void 0,c):null}))}return _.jsx(ZT,I(S({},r),{ref:t,children:n}))});nu.displayName="Slot";var ZT=E.forwardRef((e,t)=>{const i=e,{children:n}=i,r=W(i,["children"]);if(E.isValidElement(n)){const s=Uce(n);return E.cloneElement(n,I(S({},Fce(r,n.props)),{ref:t?L_(t,s):s}))}return E.Children.count(n)>1?E.Children.only(null):null});ZT.displayName="SlotClone";var HW=({children:e})=>_.jsx(_.Fragment,{children:e});function jce(e){return E.isValidElement(e)&&e.type===HW}function Fce(e,t){const n=S({},t);for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]=S(S({},i),s):r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return S(S({},e),n)}function Uce(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Bce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ot=Bce.reduce((e,t)=>{const n=E.forwardRef((r,i)=>{const c=r,{asChild:s}=c,o=W(c,["asChild"]),a=s?nu:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(a,I(S({},o),{ref:i}))});return n.displayName="Primitive.".concat(t),I(S({},e),{[t]:n})},{});function zW(e,t){e&&ww.flushSync(()=>e.dispatchEvent(t))}var WA="Switch",[Gce]=wu(WA),[Wce,qce]=Gce(WA),YW=E.forwardRef((e,t)=>{const T=e,{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:l,form:u}=T,d=W(T,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[f,h]=E.useState(null),p=dn(t,b=>h(b)),g=E.useRef(!1),m=f?u||!!f.closest("form"):!0,[v=!1,y]=Rc({prop:i,defaultProp:s,onChange:l});return _.jsxs(Wce,{scope:n,checked:v,disabled:a,children:[_.jsx(Ot.button,I(S({type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":XW(v),"data-disabled":a?"":void 0,disabled:a,value:c},d),{ref:p,onClick:Ve(e.onClick,b=>{y(C=>!C),m&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})})),m&&_.jsx(Vce,{control:f,bubbles:!g.current,name:r,value:c,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});YW.displayName=WA;var KW="SwitchThumb",JW=E.forwardRef((e,t)=>{const s=e,{__scopeSwitch:n}=s,r=W(s,["__scopeSwitch"]),i=qce(KW,n);return _.jsx(Ot.span,I(S({"data-state":XW(i.checked),"data-disabled":i.disabled?"":void 0},r),{ref:t}))});JW.displayName=KW;var Vce=e=>{const c=e,{control:t,checked:n,bubbles:r=!0}=c,i=W(c,["control","checked","bubbles"]),s=E.useRef(null),o=Lce(n),a=$W(t);return E.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[o,n,r]),_.jsx("input",I(S({type:"checkbox","aria-hidden":!0,defaultChecked:n},i),{tabIndex:-1,ref:s,style:I(S(S({},e.style),a),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function XW(e){return e?"checked":"unchecked"}var $ce=YW,Hce=JW;const QW=s=>{var o=s,{size:e,className:t,icon:n,withinLabel:r}=o,i=W(o,["size","className","icon","withinLabel"]);return _.jsx($ce,I(S({className:ve("radix-state-checked:bg-blue-400 focus-visible:ring-token-text-primary relative box-content aspect-7/4 shrink-0 rounded-full bg-gray-200 p-[2px] focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:opacity-50 dark:bg-gray-600",e==="small"?"h-3":"h-4",t)},i),{children:_.jsx(Hce,{className:"radix-state-checked:translate-x-[calc(var(--to-end-unit,1)*100%*(7/4-1))] flex aspect-square h-full items-center justify-center rounded-full bg-white transition-transform duration-100",children:n})}))};function zce(e,t){const n=E.useLayoutEffect;n(e,t)}const Yce=()=>{var e;return(e=document==null?void 0:document.body)!=null?e:null},ZW=E.createContext(Yce);function D6e(e){"use forget";const t=H.c(17),{children:n,className:r,open:i,onClose:s,closedBy:o}=e,a=E.useRef(null);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>a.current,t[0]=c):c=t[0];const l=c;let u,d;t[1]!==i?(u=()=>{const T=a.current;if(!(!i||!T))return i==="modal"?T.showModal():T.show(),()=>{T.close()}},d=[i],t[1]=i,t[2]=u,t[3]=d):(u=t[2],d=t[3]),E.useEffect(u,d);let f;t[4]!==s?(f=T=>{T.target===T.currentTarget&&(s==null||s())},t[4]=s,t[5]=f):f=t[5];const h=f;let p;t[6]!==o||t[7]!==s?(p=T=>{o&&["any","closerequest"].includes(o)&&T.key==="Escape"&&(s==null||s())},t[6]=o,t[7]=s,t[8]=p):p=t[8];const g=p,m=i===!0;let v;t[9]!==n?(v=_.jsx(ZW,{value:l,children:n}),t[9]=n,t[10]=v):v=t[10];let y;return t[11]!==r||t[12]!==h||t[13]!==g||t[14]!==m||t[15]!==v?(y=_.jsx("dialog",{className:r,open:m,ref:a,onClick:h,onKeyUp:g,children:v}),t[11]=r,t[12]=h,t[13]=g,t[14]=m,t[15]=v,t[16]=y):y=t[16],y}function eq(){"use forget";const e=H.c(7),[t,n]=E.useState(null),r=E.use(ZW);let i;e[0]!==r?(i=r(),e[0]=r,e[1]=i):i=e[1];const s=i;let o,a;e[2]!==s?(o=()=>{n(s)},a=[s],e[2]=s,e[3]=o,e[4]=a):(o=e[3],a=e[4]),zce(o,a);let c;return e[5]!==t?(c=t!=null?{container:t}:{},e[5]=t,e[6]=c):c=e[6],c}function UD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tq(...e){return t=>{let n=!1;const r=e.map(i=>{const s=UD(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():UD(e[i],null)}}}}function L6e(...e){return E.useCallback(tq(...e),e)}function Kce(e){const t=Jce(e),n=E.forwardRef((r,i)=>{const l=r,{children:s}=l,o=W(l,["children"]),a=E.Children.toArray(s),c=a.find(Qce);if(c){const u=c.props.children,d=a.map(f=>f===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:f);return _.jsx(t,I(S({},o),{ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,d):null}))}return _.jsx(t,I(S({},o),{ref:i,children:s}))});return n.displayName="".concat(e,".Slot"),n}var nq=Kce("Slot");function Jce(e){const t=E.forwardRef((n,r)=>{const o=n,{children:i}=o,s=W(o,["children"]);if(E.isValidElement(i)){const a=ele(i),c=Zce(s,i.props);return i.type!==E.Fragment&&(c.ref=r?tq(r,a):a),E.cloneElement(i,c)}return E.Children.count(i)>1?E.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Xce=Symbol("radix.slottable");function Qce(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xce}function Zce(e,t){const n=S({},t);for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]=S(S({},i),s):r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return S(S({},e),n)}function ele(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function tle(e,t=globalThis==null?void 0:globalThis.document){const n=ii(e);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var nle="DismissableLayer",e1="dismissableLayer.update",rle="dismissableLayer.pointerDownOutside",ile="dismissableLayer.focusOutside",BD,rq=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fh=E.forwardRef((e,t)=>{var A;const w=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a}=w,c=W(w,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),l=E.useContext(rq),[u,d]=E.useState(null),f=(A=u==null?void 0:u.ownerDocument)!=null?A:globalThis==null?void 0:globalThis.document,[,h]=E.useState({}),p=dn(t,x=>d(x)),g=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(m),y=u?g.indexOf(u):-1,T=l.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,C=ole(x=>{const R=x.target,P=[...l.branches].some(L=>L.contains(R));!b||P||(i==null||i(x),o==null||o(x),x.defaultPrevented||a==null||a())},f),O=ale(x=>{const R=x.target;[...l.branches].some(L=>L.contains(R))||(s==null||s(x),o==null||o(x),x.defaultPrevented||a==null||a())},f);return tle(x=>{y===l.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&a&&(x.preventDefault(),a()))},f),E.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(BD=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),GD(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=BD)}},[u,f,n,l]),E.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),GD())},[u,l]),E.useEffect(()=>{const x=()=>h({});return document.addEventListener(e1,x),()=>document.removeEventListener(e1,x)},[]),_.jsx(Ot.div,I(S({},c),{ref:p,style:S({pointerEvents:T?b?"auto":"none":void 0},e.style),onFocusCapture:Ve(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,C.onPointerDownCapture)}))});fh.displayName=nle;var sle="DismissableLayerBranch",iq=E.forwardRef((e,t)=>{const n=E.useContext(rq),r=E.useRef(null),i=dn(t,r);return E.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),_.jsx(Ot.div,I(S({},e),{ref:i}))});iq.displayName=sle;function ole(e,t=globalThis==null?void 0:globalThis.document){const n=ii(e),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){sq(rle,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ale(e,t=globalThis==null?void 0:globalThis.document){const n=ii(e),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&sq(ile,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function GD(){const e=new CustomEvent(e1);document.dispatchEvent(e)}function sq(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?zW(i,s):i.dispatchEvent(s)}var j6e=fh,F6e=iq,cle=gJ.useId||(()=>{}),lle=0;function ss(e){const[t,n]=E.useState(cle());return mc(()=>{n(r=>r!=null?r:String(lle++))},[e]),e||(t?"radix-".concat(t):"")}const ule=["top","right","bottom","left"],zo=Math.min,br=Math.max,tm=Math.round,gp=Math.floor,Yo=e=>({x:e,y:e}),dle={left:"right",right:"left",bottom:"top",top:"bottom"},fle={start:"end",end:"start"};function t1(e,t,n){return br(e,zo(t,n))}function Js(e,t){return typeof e=="function"?e(t):e}function Xs(e){return e.split("-")[0]}function Au(e){return e.split("-")[1]}function qA(e){return e==="x"?"y":"x"}function VA(e){return e==="y"?"height":"width"}function xu(e){return["top","bottom"].includes(Xs(e))?"y":"x"}function $A(e){return qA(xu(e))}function hle(e,t,n){n===void 0&&(n=!1);const r=Au(e),i=$A(e),s=VA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=nm(o)),[o,nm(o)]}function ple(e){const t=nm(e);return[n1(e),t,n1(t)]}function n1(e){return e.replace(/start|end/g,t=>fle[t])}function gle(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function mle(e,t,n,r){const i=Au(e);let s=gle(Xs(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(n1)))),s}function nm(e){return e.replace(/left|right|bottom|top/g,t=>dle[t])}function _le(e){return S({top:0,right:0,bottom:0,left:0},e)}function oq(e){return typeof e!="number"?_le(e):{top:e,right:e,bottom:e,left:e}}function rm(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function WD(e,t,n){let{reference:r,floating:i}=e;const s=xu(t),o=$A(t),a=VA(o),c=Xs(t),l=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(c){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Au(t)){case"start":h[o]-=f*(n&&l?-1:1);break;case"end":h[o]+=f*(n&&l?-1:1);break}return h}const vle=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=WD(l,r,c),f=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:m,fn:v}=a[g],{x:y,y:T,data:b,reset:C}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});u=y!=null?y:u,d=T!=null?T:d,h=I(S({},h),{[m]:S(S({},h[m]),b)}),C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:u,y:d}=WD(l,f,c)),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function df(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Js(t,e),p=oq(h),m=a[f?d==="floating"?"reference":"floating":d],v=rm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),y=d==="floating"?I(S({},o.floating),{x:r,y:i}):o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},C=rm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:T,strategy:c}):y);return{top:(v.top-C.top+p.top)/b.y,bottom:(C.bottom-v.bottom+p.bottom)/b.y,left:(v.left-C.left+p.left)/b.x,right:(C.right-v.right+p.right)/b.x}}const yle=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=Js(e,t)||{};if(l==null)return{};const d=oq(u),f={x:n,y:r},h=$A(i),p=VA(h),g=await o.getDimensions(l),m=h==="y",v=m?"top":"left",y=m?"bottom":"right",T=m?"clientHeight":"clientWidth",b=s.reference[p]+s.reference[h]-f[h]-s.floating[p],C=f[h]-s.reference[h],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let w=O?O[T]:0;(!w||!await(o.isElement==null?void 0:o.isElement(O)))&&(w=a.floating[T]||s.floating[p]);const A=b/2-C/2,x=w/2-g[p]/2-1,R=zo(d[v],x),P=zo(d[y],x),L=R,D=w-g[p]-P,F=w/2-g[p]/2+A,G=t1(L,F,D),Y=!c.arrow&&Au(i)!=null&&F!==G&&s.reference[p]/2-(F<L?R:P)-g[p]/2<0,V=Y?F<L?F-L:F-D:0;return{[h]:f[h]+V,data:S({[h]:G,centerOffset:F-G-V},Y&&{alignmentOffset:V}),reset:Y}}}),Cle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=t,L=Js(e,t),{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0}=L,m=W(L,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Xs(i),y=Xs(a)===a,T=await(c.isRTL==null?void 0:c.isRTL(l.floating)),b=f||(y||!g?[nm(a)]:ple(a));!f&&p!=="none"&&b.push(...mle(a,g,p,T));const C=[a,...b],O=await df(t,m),w=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&w.push(O[v]),d){const D=hle(i,o,T);w.push(O[D[0]],O[D[1]])}if(A=[...A,{placement:i,overflows:w}],!w.every(D=>D<=0)){var x,R;const D=(((x=s.flip)==null?void 0:x.index)||0)+1,F=C[D];if(F)return{data:{index:D,overflows:A},reset:{placement:F}};let G=(R=A.filter(Y=>Y.overflows[0]<=0).sort((Y,V)=>Y.overflows[1]-V.overflows[1])[0])==null?void 0:R.placement;if(!G)switch(h){case"bestFit":{var P;const Y=(P=A.map(V=>[V.placement,V.overflows.filter(M=>M>0).reduce((M,te)=>M+te,0)]).sort((V,M)=>V[1]-M[1])[0])==null?void 0:P[0];Y&&(G=Y);break}case"initialPlacement":G=a;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function qD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function VD(e){return ule.some(t=>e[t]>=0)}const ble=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,s=Js(e,t),{strategy:r="referenceHidden"}=s,i=W(s,["strategy"]);switch(r){case"referenceHidden":{const o=await df(t,I(S({},i),{elementContext:"reference"})),a=qD(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:VD(a)}}}case"escaped":{const o=await df(t,I(S({},i),{altBoundary:!0})),a=qD(o,n.floating);return{data:{escapedOffsets:a,escaped:VD(a)}}}default:return{}}}}};async function Ele(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Xs(n),a=Au(n),c=xu(n)==="y",l=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,d=Js(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:S({mainAxis:0,crossAxis:0,alignmentAxis:null},d);return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*u,y:f*l}:{x:f*l,y:h*u}}const Sle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,c=await Ele(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:I(S({},c),{placement:o})}}}},Ole=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,m=Js(e,t),{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:T}=v;return{x:y,y:T}}}}=m,c=W(m,["mainAxis","crossAxis","limiter"]),l={x:n,y:r},u=await df(t,c),d=xu(Xs(i)),f=qA(d);let h=l[f],p=l[d];if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",T=h+u[v],b=h-u[y];h=t1(T,h,b)}if(o){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",T=p+u[v],b=p-u[y];p=t1(T,p,b)}const g=a.fn(I(S({},t),{[f]:h,[d]:p}));return I(S({},g),{data:{x:g.x-n,y:g.y-r}})}}},Tle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Js(e,t),u={x:n,y:r},d=xu(i),f=qA(d);let h=u[f],p=u[d];const g=Js(a,t),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:S({mainAxis:0,crossAxis:0},g);if(c){const T=f==="y"?"height":"width",b=s.reference[f]-s.floating[T]+m.mainAxis,C=s.reference[f]+s.reference[T]-m.mainAxis;h<b?h=b:h>C&&(h=C)}if(l){var v,y;const T=f==="y"?"width":"height",b=["top","left"].includes(Xs(i)),C=s.reference[d]-s.floating[T]+(b&&((v=o.offset)==null?void 0:v[d])||0)+(b?0:m.crossAxis),O=s.reference[d]+s.reference[T]+(b?0:((y=o.offset)==null?void 0:y[d])||0)-(b?m.crossAxis:0);p<C?p=C:p>O&&(p=O)}return{[f]:h,[d]:p}}}},wle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,O=Js(e,t),{apply:o=()=>{}}=O,a=W(O,["apply"]),c=await df(t,a),l=Xs(n),u=Au(n),d=xu(n)==="y",{width:f,height:h}=r.floating;let p,g;l==="top"||l==="bottom"?(p=l,g=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=l,p=u==="end"?"top":"bottom");const m=h-c[p],v=f-c[g],y=!t.middlewareData.shift;let T=m,b=v;if(d){const w=f-c.left-c.right;b=u||y?zo(v,w):w}else{const w=h-c.top-c.bottom;T=u||y?zo(m,w):w}if(y&&!u){const w=br(c.left,0),A=br(c.right,0),x=br(c.top,0),R=br(c.bottom,0);d?b=f-2*(w!==0||A!==0?w+A:br(c.left,c.right)):T=h-2*(x!==0||R!==0?x+R:br(c.top,c.bottom))}await o(I(S({},t),{availableWidth:b,availableHeight:T}));const C=await i.getDimensions(s.floating);return f!==C.width||h!==C.height?{reset:{rects:!0}}:{}}}};function j_(){return typeof window<"u"}function Iu(e){return aq(e)?(e.nodeName||"").toLowerCase():"#document"}function Ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ms(e){var t;return(t=(aq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aq(e){return j_()?e instanceof Node||e instanceof Ar(e).Node:!1}function Ai(e){return j_()?e instanceof Element||e instanceof Ar(e).Element:!1}function ds(e){return j_()?e instanceof HTMLElement||e instanceof Ar(e).HTMLElement:!1}function $D(e){return!j_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ar(e).ShadowRoot}function hh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=xi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Ale(e){return["table","td","th"].includes(Iu(e))}function F_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function HA(e){const t=zA(),n=Ai(e)?xi(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xle(e){let t=Ko(e);for(;ds(t)&&!ru(t);){if(HA(t))return t;if(F_(t))return null;t=Ko(t)}return null}function zA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ru(e){return["html","body","#document"].includes(Iu(e))}function xi(e){return Ar(e).getComputedStyle(e)}function U_(e){return Ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ko(e){if(Iu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$D(e)&&e.host||ms(e);return $D(t)?t.host:t}function cq(e){const t=Ko(e);return ru(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&hh(t)?t:cq(t)}function ff(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=cq(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ar(i);if(s){const a=r1(o);return t.concat(o,o.visualViewport||[],hh(i)?i:[],a&&n?ff(a):[])}return t.concat(i,ff(i,[],n))}function r1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lq(e){const t=xi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ds(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=tm(n)!==s||tm(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function YA(e){return Ai(e)?e:e.contextElement}function Ml(e){const t=YA(e);if(!ds(t))return Yo(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=lq(t);let o=(s?tm(n.width):n.width)/r,a=(s?tm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ile=Yo(0);function uq(e){const t=Ar(e);return!zA()||!t.visualViewport?Ile:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Nle(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ar(e)?!1:t}function _c(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=YA(e);let o=Yo(1);t&&(r?Ai(r)&&(o=Ml(r)):o=Ml(e));const a=Nle(s,n,r)?uq(s):Yo(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=Ar(s),h=r&&Ai(r)?Ar(r):r;let p=f,g=r1(p);for(;g&&r&&h!==p;){const m=Ml(g),v=g.getBoundingClientRect(),y=xi(g),T=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,b=v.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;c*=m.x,l*=m.y,u*=m.x,d*=m.y,c+=T,l+=b,p=Ar(g),g=r1(p)}}return rm({width:u,height:d,x:c,y:l})}function Rle(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=ms(r),a=t?F_(t.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},l=Yo(1);const u=Yo(0),d=ds(r);if((d||!d&&!s)&&((Iu(r)!=="body"||hh(o))&&(c=U_(r)),ds(r))){const f=_c(r);l=Ml(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x,y:n.y*l.y-c.scrollTop*l.y+u.y}}function Ple(e){return Array.from(e.getClientRects())}function i1(e,t){const n=U_(e).scrollLeft;return t?t.left+n:_c(ms(e)).left+n}function kle(e){const t=ms(e),n=U_(e),r=e.ownerDocument.body,i=br(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=br(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+i1(e);const a=-n.scrollTop;return xi(r).direction==="rtl"&&(o+=br(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Mle(e,t){const n=Ar(e),r=ms(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const l=zA();(!l||l&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function Dle(e,t){const n=_c(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ds(e)?Ml(e):Yo(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function HD(e,t,n){let r;if(t==="viewport")r=Mle(e,n);else if(t==="document")r=kle(ms(e));else if(Ai(t))r=Dle(t,n);else{const i=uq(e);r=I(S({},t),{x:t.x-i.x,y:t.y-i.y})}return rm(r)}function dq(e,t){const n=Ko(e);return n===t||!Ai(n)||ru(n)?!1:xi(n).position==="fixed"||dq(n,t)}function Lle(e,t){const n=t.get(e);if(n)return n;let r=ff(e,[],!1).filter(a=>Ai(a)&&Iu(a)!=="body"),i=null;const s=xi(e).position==="fixed";let o=s?Ko(e):e;for(;Ai(o)&&!ru(o);){const a=xi(o),c=HA(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||hh(o)&&!c&&dq(e,o))?r=r.filter(u=>u!==o):i=a,o=Ko(o)}return t.set(e,r),r}function jle(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?F_(t)?[]:Lle(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=HD(t,u,i);return l.top=br(d.top,l.top),l.right=zo(d.right,l.right),l.bottom=zo(d.bottom,l.bottom),l.left=br(d.left,l.left),l},HD(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Fle(e){const{width:t,height:n}=lq(e);return{width:t,height:n}}function Ule(e,t,n){const r=ds(t),i=ms(t),s=n==="fixed",o=_c(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const c=Yo(0);if(r||!r&&!s)if((Iu(t)!=="body"||hh(i))&&(a=U_(t)),r){const h=_c(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&(c.x=i1(i));let l=0,u=0;if(i&&!r&&!s){const h=i.getBoundingClientRect();u=h.top+a.scrollTop,l=h.left+a.scrollLeft-i1(i,h)}const d=o.left+a.scrollLeft-c.x-l,f=o.top+a.scrollTop-c.y-u;return{x:d,y:f,width:o.width,height:o.height}}function Kb(e){return xi(e).position==="static"}function zD(e,t){if(!ds(e)||xi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ms(e)===n&&(n=n.ownerDocument.body),n}function fq(e,t){const n=Ar(e);if(F_(e))return n;if(!ds(e)){let i=Ko(e);for(;i&&!ru(i);){if(Ai(i)&&!Kb(i))return i;i=Ko(i)}return n}let r=zD(e,t);for(;r&&Ale(r)&&Kb(r);)r=zD(r,t);return r&&ru(r)&&Kb(r)&&!HA(r)?n:r||xle(e)||n}const Ble=async function(e){const t=this.getOffsetParent||fq,n=this.getDimensions,r=await n(e.floating);return{reference:Ule(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Gle(e){return xi(e).direction==="rtl"}const Wle={convertOffsetParentRelativeRectToViewportRelativeRect:Rle,getDocumentElement:ms,getClippingRect:jle,getOffsetParent:fq,getElementRects:Ble,getClientRects:Ple,getDimensions:Fle,getScale:Ml,isElement:Ai,isRTL:Gle};function qle(e,t){let n=null,r;const i=ms(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:l,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=gp(u),p=gp(i.clientWidth-(l+d)),g=gp(i.clientHeight-(u+f)),m=gp(l),y={rootMargin:-h+"px "+-p+"px "+-g+"px "+-m+"px",threshold:br(0,zo(1,c))||1};let T=!0;function b(C){const O=C[0].intersectionRatio;if(O!==c){if(!T)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(b,I(S({},y),{root:i.ownerDocument}))}catch(C){n=new IntersectionObserver(b,y)}n.observe(e)}return o(!0),s}function Vle(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=YA(e),u=i||s?[...l?ff(l):[],...ff(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=l&&a?qle(l,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=h)==null||T.observe(t)})),n()}),l&&!c&&h.observe(l),h.observe(t));let p,g=c?_c(e):null;c&&m();function m(){const v=_c(e);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,p=requestAnimationFrame(m)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const $le=Sle,Hle=Ole,zle=Cle,Yle=wle,Kle=ble,YD=yle,Jle=Tle,Xle=(e,t,n)=>{const r=new Map,i=S({platform:Wle},n),s=I(S({},i.platform),{_c:r});return vle(e,t,I(S({},i),{platform:s}))};var tg=typeof document<"u"?E.useLayoutEffect:E.useEffect;function im(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!im(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!im(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function hq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KD(e,t){const n=hq(e);return Math.round(t*n)/n}function Jb(e){const t=E.useRef(e);return tg(()=>{t.current=e}),t}function Qle(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,d]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=E.useState(r);im(f,r)||h(r);const[p,g]=E.useState(null),[m,v]=E.useState(null),y=E.useCallback(M=>{M!==O.current&&(O.current=M,g(M))},[]),T=E.useCallback(M=>{M!==w.current&&(w.current=M,v(M))},[]),b=s||p,C=o||m,O=E.useRef(null),w=E.useRef(null),A=E.useRef(u),x=c!=null,R=Jb(c),P=Jb(i),L=Jb(l),D=E.useCallback(()=>{if(!O.current||!w.current)return;const M={placement:t,strategy:n,middleware:f};P.current&&(M.platform=P.current),Xle(O.current,w.current,M).then(te=>{const $=I(S({},te),{isPositioned:L.current!==!1});F.current&&!im(A.current,$)&&(A.current=$,ww.flushSync(()=>{d($)}))})},[f,t,n,P,L]);tg(()=>{l===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(M=>I(S({},M),{isPositioned:!1})))},[l]);const F=E.useRef(!1);tg(()=>(F.current=!0,()=>{F.current=!1}),[]),tg(()=>{if(b&&(O.current=b),C&&(w.current=C),b&&C){if(R.current)return R.current(b,C,D);D()}},[b,C,D,R,x]);const G=E.useMemo(()=>({reference:O,floating:w,setReference:y,setFloating:T}),[y,T]),Y=E.useMemo(()=>({reference:b,floating:C}),[b,C]),V=E.useMemo(()=>{const M={position:n,left:0,top:0};if(!Y.floating)return M;const te=KD(Y.floating,u.x),$=KD(Y.floating,u.y);return a?S(I(S({},M),{transform:"translate("+te+"px, "+$+"px)"}),hq(Y.floating)>=1.5&&{willChange:"transform"}):{position:n,left:te,top:$}},[n,a,Y.floating,u.x,u.y]);return E.useMemo(()=>I(S({},u),{update:D,refs:G,elements:Y,floatingStyles:V}),[u,D,G,Y,V])}const Zle=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?YD({element:r.current,padding:i}).fn(n):{}:r?YD({element:r,padding:i}).fn(n):{}}}},eue=(e,t)=>I(S({},$le(e)),{options:[e,t]}),tue=(e,t)=>I(S({},Hle(e)),{options:[e,t]}),nue=(e,t)=>I(S({},Jle(e)),{options:[e,t]}),rue=(e,t)=>I(S({},zle(e)),{options:[e,t]}),iue=(e,t)=>I(S({},Yle(e)),{options:[e,t]}),sue=(e,t)=>I(S({},Kle(e)),{options:[e,t]}),oue=(e,t)=>I(S({},Zle(e)),{options:[e,t]});var aue="Arrow",pq=E.forwardRef((e,t)=>{const o=e,{children:n,width:r=10,height:i=5}=o,s=W(o,["children","width","height"]);return _.jsx(Ot.svg,I(S({},s),{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})}))});pq.displayName=aue;var cue=pq;function KA(e,t=[]){let n=[];function r(s,o){const a=E.createContext(o),c=n.length;n=[...n,o];function l(d){const v=d,{scope:f,children:h}=v,p=W(v,["scope","children"]),g=(f==null?void 0:f[e][c])||a,m=E.useMemo(()=>p,Object.values(p));return _.jsx(g.Provider,{value:m,children:h})}function u(d,f){const h=(f==null?void 0:f[e][c])||a,p=E.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error("`".concat(d,"` must be used within `").concat(s,"`"))}return l.displayName=s+"Provider",[l,u]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const c=(a==null?void 0:a[e])||s;return E.useMemo(()=>({["__scope".concat(e)]:I(S({},a),{[e]:c})}),[a,c])}};return i.scopeName=e,[r,lue(i,...t)]}function lue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(s)["__scope".concat(l)];return S(S({},a),d)},{});return E.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return n.scopeName=t.scopeName,n}var JA="Popper",[gq,B_]=KA(JA),[uue,mq]=gq(JA),_q=e=>{const{__scopePopper:t,children:n}=e,[r,i]=E.useState(null);return _.jsx(uue,{scope:t,anchor:r,onAnchorChange:i,children:n})};_q.displayName=JA;var vq="PopperAnchor",yq=E.forwardRef((e,t)=>{const c=e,{__scopePopper:n,virtualRef:r}=c,i=W(c,["__scopePopper","virtualRef"]),s=mq(vq,n),o=E.useRef(null),a=dn(t,o);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:_.jsx(Ot.div,I(S({},i),{ref:a}))});yq.displayName=vq;var XA="PopperContent",[due,fue]=gq(XA),Cq=E.forwardRef((e,t)=>{var ee,ye,de,oe,Ee,Ae,He,Re;const X=e,{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p}=X,g=W(X,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),m=mq(XA,n),[v,y]=E.useState(null),T=dn(t,_e=>y(_e)),[b,C]=E.useState(null),O=$W(b),w=(ee=O==null?void 0:O.width)!=null?ee:0,A=(ye=O==null?void 0:O.height)!=null?ye:0,x=r+(s!=="center"?"-"+s:""),R=typeof u=="number"?u:S({top:0,right:0,bottom:0,left:0},u),P=Array.isArray(l)?l:[l],L=P.length>0,D={padding:R,boundary:P.filter(pue),altBoundary:L},{refs:F,floatingStyles:G,placement:Y,isPositioned:V,middlewareData:M}=Qle({strategy:"fixed",placement:x,whileElementsMounted:(..._e)=>Vle(..._e,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[eue({mainAxis:i+A,alignmentAxis:o}),c&&tue(S({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?nue():void 0},D)),c&&rue(S({},D)),iue(I(S({},D),{apply:({elements:_e,rects:pe,availableWidth:j,availableHeight:Qe})=>{const{width:Pe,height:fe}=pe.reference,ge=_e.floating.style;ge.setProperty("--radix-popper-available-width","".concat(j,"px")),ge.setProperty("--radix-popper-available-height","".concat(Qe,"px")),ge.setProperty("--radix-popper-anchor-width","".concat(Pe,"px")),ge.setProperty("--radix-popper-anchor-height","".concat(fe,"px"))}})),b&&oue({element:b,padding:a}),gue({arrowWidth:w,arrowHeight:A}),f&&sue(S({strategy:"referenceHidden"},D))]}),[te,$]=Sq(Y),ie=ii(p);mc(()=>{V&&(ie==null||ie())},[V,ie]);const ue=(de=M.arrow)==null?void 0:de.x,me=(oe=M.arrow)==null?void 0:oe.y,J=((Ee=M.arrow)==null?void 0:Ee.centerOffset)!==0,[K,ne]=E.useState();return mc(()=>{v&&ne(window.getComputedStyle(v).zIndex)},[v]),_.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:S(I(S({},G),{transform:V?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(Ae=M.transformOrigin)==null?void 0:Ae.x,(He=M.transformOrigin)==null?void 0:He.y].join(" ")}),((Re=M.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:_.jsx(due,{scope:n,placedSide:te,onArrowChange:C,arrowX:ue,arrowY:me,shouldHideArrow:J,children:_.jsx(Ot.div,I(S({"data-side":te,"data-align":$},g),{ref:T,style:I(S({},g.style),{animation:V?void 0:"none"})}))})})});Cq.displayName=XA;var bq="PopperArrow",hue={top:"bottom",right:"left",bottom:"top",left:"right"},Eq=E.forwardRef(function(t,n){const a=t,{__scopePopper:r}=a,i=W(a,["__scopePopper"]),s=fue(bq,r),o=hue[s.placedSide];return _.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:_.jsx(cue,I(S({},i),{ref:n,style:I(S({},i.style),{display:"block"})}))})});Eq.displayName=bq;function pue(e){return e!==null}var gue=e=>({name:"transformOrigin",options:e,fn(t){var m,v,y,T,b;const{placement:n,rects:r,middlewareData:i}=t,o=((m=i.arrow)==null?void 0:m.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[l,u]=Sq(n),d={start:"0%",center:"50%",end:"100%"}[u],f=((y=(v=i.arrow)==null?void 0:v.x)!=null?y:0)+a/2,h=((b=(T=i.arrow)==null?void 0:T.y)!=null?b:0)+c/2;let p="",g="";return l==="bottom"?(p=o?d:"".concat(f,"px"),g="".concat(-c,"px")):l==="top"?(p=o?d:"".concat(f,"px"),g="".concat(r.floating.height+c,"px")):l==="right"?(p="".concat(-c,"px"),g=o?d:"".concat(h,"px")):l==="left"&&(p="".concat(r.floating.width+c,"px"),g=o?d:"".concat(h,"px")),{data:{x:p,y:g}}}});function Sq(e){const[t,n="center"]=e.split("-");return[t,n]}var QA=_q,Oq=yq,Tq=Cq,wq=Eq,mue="Portal",ph=E.forwardRef((e,t)=>{var c;const a=e,{container:n}=a,r=W(a,["container"]),[i,s]=E.useState(!1);mc(()=>s(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?cd.createPortal(_.jsx(Ot.div,I(S({},r),{ref:t})),o):null});ph.displayName=mue;var U6e=ph;function _ue(e,t){return E.useReducer((n,r)=>{const i=t[n][r];return i!=null?i:n},e)}var Fi=e=>{const{present:t,children:n}=e,r=vue(t),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=dn(r.ref,yue(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Fi.displayName="Presence";function vue(e){const[t,n]=E.useState(),r=E.useRef({}),i=E.useRef(e),s=E.useRef("none"),o=e?"mounted":"unmounted",[a,c]=_ue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=mp(r.current);s.current=a==="mounted"?l:"none"},[a]),mc(()=>{const l=r.current,u=i.current;if(u!==e){const f=s.current,h=mp(l);e?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),mc(()=>{var l;if(t){let u;const d=(l=t.ownerDocument.defaultView)!=null?l:window,f=p=>{const m=mp(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=mp(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function mp(e){return(e==null?void 0:e.animationName)||"none"}function yue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Cue="VisuallyHidden",ZA=E.forwardRef((e,t)=>_.jsx(Ot.span,I(S({},e),{ref:t,style:S({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)})));ZA.displayName=Cue;var bue=ZA,[G_]=wu("Tooltip",[B_]),W_=B_(),Aq="TooltipProvider",Eue=700,s1="tooltip.open",[Sue,ex]=G_(Aq),xq=e=>{const{__scopeTooltip:t,delayDuration:n=Eue,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[o,a]=E.useState(!0),c=E.useRef(!1),l=E.useRef(0);return E.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),_.jsx(Sue,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(l.current),a(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:E.useCallback(u=>{c.current=u},[]),disableHoverableContent:i,children:s})};xq.displayName=Aq;var q_="Tooltip",[Oue,gh]=G_(q_),Iq=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=e,c=ex(q_,e.__scopeTooltip),l=W_(t),[u,d]=E.useState(null),f=ss(),h=E.useRef(0),p=o!=null?o:c.disableHoverableContent,g=a!=null?a:c.delayDuration,m=E.useRef(!1),[v=!1,y]=Rc({prop:r,defaultProp:i,onChange:w=>{w?(c.onOpen(),document.dispatchEvent(new CustomEvent(s1))):c.onClose(),s==null||s(w)}}),T=E.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),b=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,y(!0)},[y]),C=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),O=E.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,y(!0),h.current=0},g)},[g,y]);return E.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),_.jsx(QA,I(S({},l),{children:_.jsx(Oue,{scope:t,contentId:f,open:v,stateAttribute:T,trigger:u,onTriggerChange:d,onTriggerEnter:E.useCallback(()=>{c.isOpenDelayed?O():b()},[c.isOpenDelayed,O,b]),onTriggerLeave:E.useCallback(()=>{p?C():(window.clearTimeout(h.current),h.current=0)},[C,p]),onOpen:b,onClose:C,disableHoverableContent:p,children:n})}))};Iq.displayName=q_;var o1="TooltipTrigger",Nq=E.forwardRef((e,t)=>{const f=e,{__scopeTooltip:n}=f,r=W(f,["__scopeTooltip"]),i=gh(o1,n),s=ex(o1,n),o=W_(n),a=E.useRef(null),c=dn(t,a,i.onTriggerChange),l=E.useRef(!1),u=E.useRef(!1),d=E.useCallback(()=>l.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),_.jsx(Oq,I(S({asChild:!0},o),{children:_.jsx(Ot.button,I(S({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r),{ref:c,onPointerMove:Ve(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ve(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ve(e.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ve(e.onFocus,()=>{l.current||i.onOpen()}),onBlur:Ve(e.onBlur,i.onClose),onClick:Ve(e.onClick,i.onClose)}))}))});Nq.displayName=o1;var tx="TooltipPortal",[Tue,wue]=G_(tx,{forceMount:void 0}),Rq=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=gh(tx,t);return _.jsx(Tue,{scope:t,forceMount:n,children:_.jsx(Fi,{present:n||s.open,children:_.jsx(ph,{asChild:!0,container:i,children:r})})})};Rq.displayName=tx;var iu="TooltipContent",Pq=E.forwardRef((e,t)=>{const n=wue(iu,e.__scopeTooltip),a=e,{forceMount:r=n.forceMount,side:i="top"}=a,s=W(a,["forceMount","side"]),o=gh(iu,e.__scopeTooltip);return _.jsx(Fi,{present:r||o.open,children:o.disableHoverableContent?_.jsx(kq,I(S({side:i},s),{ref:t})):_.jsx(Aue,I(S({side:i},s),{ref:t}))})}),Aue=E.forwardRef((e,t)=>{const n=gh(iu,e.__scopeTooltip),r=ex(iu,e.__scopeTooltip),i=E.useRef(null),s=dn(t,i),[o,a]=E.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:d}=r,f=E.useCallback(()=>{a(null),d(!1)},[d]),h=E.useCallback((p,g)=>{const m=p.currentTarget,v={x:p.clientX,y:p.clientY},y=Nue(v,m.getBoundingClientRect()),T=Rue(v,y),b=Pue(g.getBoundingClientRect()),C=Mue([...T,...b]);a(C),d(!0)},[d]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(c&&u){const p=m=>h(m,u),g=m=>h(m,c);return c.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[c,u,h,f]),E.useEffect(()=>{if(o){const p=g=>{const m=g.target,v={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(m))||(u==null?void 0:u.contains(m)),T=!kue(v,o);y?f():T&&(f(),l())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,u,o,l,f]),_.jsx(kq,I(S({},e),{ref:s}))}),[xue,Iue]=G_(q_,{isInside:!1}),kq=E.forwardRef((e,t)=>{const d=e,{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o}=d,a=W(d,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),c=gh(iu,n),l=W_(n),{onClose:u}=c;return E.useEffect(()=>(document.addEventListener(s1,u),()=>document.removeEventListener(s1,u)),[u]),E.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),_.jsx(fh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:_.jsxs(Tq,I(S(S({"data-state":c.stateAttribute},l),a),{ref:t,style:I(S({},a.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[_.jsx(HW,{children:r}),_.jsx(xue,{scope:n,isInside:!0,children:_.jsx(bue,{id:c.contentId,role:"tooltip",children:i||r})})]}))})});Pq.displayName=iu;var Mq="TooltipArrow",Dq=E.forwardRef((e,t)=>{const o=e,{__scopeTooltip:n}=o,r=W(o,["__scopeTooltip"]),i=W_(n);return Iue(Mq,n).isInside?null:_.jsx(wq,I(S(S({},i),r),{ref:t}))});Dq.displayName=Mq;function Nue(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Rue(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Pue(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function kue(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,c=t[s].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(i=!i)}return i}function Mue(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Due(t)}function Due(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Lue=xq,jue=Iq,Fue=Nq,Uue=Rq,Bue=Pq,Gue=Dq;function Wue(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Lq(t))&&(r&&(r+=" "),r+=n);return r}function Lq(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Lq(e[r]))&&(n&&(n+=" "),n+=t);return n}function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a1.apply(this,arguments)}function que(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var nx="-";function Vue(e){var t=Hue(e);function n(i){var s=i.split(nx);return s[0]===""&&s.length!==1&&s.shift(),jq(s,t)||$ue(i)}function r(i){return e.conflictingClassGroups[i]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function jq(e,t){var n;if(e.length===0)return t.classGroupId;var r=e[0],i=t.nextPart.get(r),s=i?jq(e.slice(1),i):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(nx);return(n=t.validators.find(function(a){var c=a.validator;return c(o)}))==null?void 0:n.classGroupId}}var JD=/^\[(.+)\]$/;function $ue(e){if(JD.test(e)){var t=JD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Hue(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=Yue(Object.entries(e.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];c1(a,r,o,t)}),r}function c1(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var s=i===""?t:XD(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(zue(i)){c1(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],c=o[1];c1(c,XD(t,a),n,r)})})}function XD(e,t){var n=e;return t.split(nx).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function zue(e){return e.isThemeGetter}function Yue(e,t){return t?e.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],l=a[1];return[t+c,l]})):o});return[r,s]}):e}var Fq="!";function Kue(e){var t=e.separator||":";return function(r){for(var i=0,s=[],o=0,a=0;a<r.length;a++){var c=r[a];i===0&&c===t[0]&&(t.length===1||r.slice(a,a+t.length)===t)&&(s.push(r.slice(o,a)),o=a+t.length),c==="["?i++:c==="]"&&i--}var l=s.length===0?r:r.substring(o),u=l.startsWith(Fq),d=u?l.substring(1):l;return{modifiers:s,hasImportantModifier:u,baseClassName:d}}}function Jue(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Xue(e){return a1({cache:que(e.cacheSize),splitModifiers:Kue(e)},Vue(e))}var Que=/\s+/;function Zue(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(Que).map(function(o){var a=n(o),c=a.modifiers,l=a.hasImportantModifier,u=a.baseClassName,d=r(u);if(!d)return{isTailwindClass:!1,originalClassName:o};var f=Jue(c).join(":"),h=l?f+Fq:f;return{isTailwindClass:!0,modifierId:h,classGroupId:d,originalClassName:o}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,l=a+c;return s.has(l)?!1:(s.add(l),i(c).forEach(function(u){return s.add(a+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function ede(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,s,o=a;function a(l){var u=t[0],d=t.slice(1),f=d.reduce(function(h,p){return p(h)},u());return r=Xue(f),i=r.cache.get,s=r.cache.set,o=c,c(l)}function c(l){var u=i(l);if(u)return u;var d=Zue(l,r);return s(l,d),d}return function(){return o(Wue.apply(null,arguments))}}function kt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var la=/^\[(.+)\]$/,tde=/^\d+\/\d+$/,nde=new Set(["px","full","screen"]),rde=/^(\d+)?(xs|sm|md|lg|xl)$/,ide=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh)/,sde=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function di(e){return!Number.isNaN(Number(e))||nde.has(e)||tde.test(e)||Ia(e)}function Ia(e){var t,n=(t=la.exec(e))==null?void 0:t[1];return n?n.startsWith("length:")||ide.test(n):!1}function ode(e){var t,n=(t=la.exec(e))==null?void 0:t[1];return n?n.startsWith("size:"):!1}function ade(e){var t,n=(t=la.exec(e))==null?void 0:t[1];return n?n.startsWith("position:"):!1}function cde(e){var t,n=(t=la.exec(e))==null?void 0:t[1];return n?n.startsWith("url(")||n.startsWith("url:"):!1}function QD(e){var t,n=(t=la.exec(e))==null?void 0:t[1];return n?!Number.isNaN(Number(n))||n.startsWith("number:"):!1}function Jn(e){var t,n=(t=la.exec(e))==null?void 0:t[1];return n?Number.isInteger(Number(n)):Number.isInteger(Number(e))}function Nn(e){return la.test(e)}function Ju(){return!0}function go(e){return rde.test(e)}function lde(e){var t,n=(t=la.exec(e))==null?void 0:t[1];return n?sde.test(n):!1}function ude(){var e=kt("colors"),t=kt("spacing"),n=kt("blur"),r=kt("brightness"),i=kt("borderColor"),s=kt("borderRadius"),o=kt("borderSpacing"),a=kt("borderWidth"),c=kt("contrast"),l=kt("grayscale"),u=kt("hueRotate"),d=kt("invert"),f=kt("gap"),h=kt("gradientColorStops"),p=kt("inset"),g=kt("margin"),m=kt("opacity"),v=kt("padding"),y=kt("saturate"),T=kt("scale"),b=kt("sepia"),C=kt("skew"),O=kt("space"),w=kt("translate"),A=function(){return["auto","contain","none"]},x=function(){return["auto","hidden","clip","visible","scroll"]},R=function(){return["auto",t]},P=function(){return["",di]},L=function(){return["auto",Jn]},D=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},G=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Y=function(){return["start","end","center","between","around","evenly"]},V=function(){return["","0",Nn]},M=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]};return{cacheSize:500,theme:{colors:[Ju],spacing:[di],blur:["none","",go,Ia],brightness:[Jn],borderColor:[e],borderRadius:["none","","full",go,Ia],borderSpacing:[t],borderWidth:P(),contrast:[Jn],grayscale:V(),hueRotate:[Jn],invert:V(),gap:[t],gradientColorStops:[e],inset:R(),margin:R(),opacity:[Jn],padding:[t],saturate:[Jn],scale:[Jn],sepia:V(),skew:[Jn,Nn],space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",Nn]}],container:["container"],columns:[{columns:[go]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(D(),[Nn])}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:[Jn]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nn]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Jn]}],"grid-cols":[{"grid-cols":[Ju]}],"col-start-end":[{col:["auto",{span:[Jn]}]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ju]}],"row-start-end":[{row:["auto",{span:[Jn]}]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:Y()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(Y(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Y(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",di]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[go]},go,Ia]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",di]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",go,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QD]}],"font-family":[{font:[Ju]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ia]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",di]}],"list-style-type":[{list:["none","disc","decimal",Nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",di]}],"underline-offset":[{"underline-offset":["auto",di]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ia]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",Nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(D(),[ade])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ode]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cde]}],"bg-color":[{bg:[e]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[di]}],"outline-w":[{outline:[di]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[di]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",go,lde]}],"shadow-color":[{shadow:[Ju]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":G()}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",go,Nn]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nn]}],duration:[{duration:[Jn]}],ease:[{ease:["linear","in","out","in-out",Nn]}],delay:[{delay:[Jn]}],animate:[{animate:["none","spin","ping","pulse","bounce",Nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Jn,Nn]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[di,QD]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],"col-start-end":["col-start","col-end"],"row-start-end":["row-start","row-end"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var dde=ede(ude),fde=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hde=fde,Uq=Symbol("isTwElement?"),pde=(e,t)=>e.reduce((n,r,i)=>n.concat(r||[],t[i]||[]),[]),gde=(e,t="")=>{let n=e.join(" ").trim().replace(/\n/g," ").replace(/\s{2,}/g," ").split(" ").filter(i=>i!==","),r=t?t.split(" "):[];return dde(...n.concat(r).filter(i=>i!==" "))},mde=([e])=>e.charAt(0)!=="$",Xb=e=>e[Uq]===!0,Bq=e=>(t,...n)=>{let r=(i=[])=>{let s=Et.forwardRef((o,a)=>{let p=o,{$as:c=e,style:l={}}=p,u=W(p,["$as","style"]),d=Xb(e)?e:c,f=i?i.reduce((g,m)=>Object.assign(g,typeof m=="function"?m(o):m),{}):{},h=Xb(d)?u:Object.fromEntries(Object.entries(u).filter(mde));return Et.createElement(d,S(I(S({},h),{style:S(S({},f),l),ref:a,className:gde(pde(t,n.map(g=>g(I(S({},u),{$as:c})))),u.className)}),Xb(e)?{$as:c}:{}))});return s[Uq]=!0,typeof e!="string"?s.displayName=e.displayName||e.name||"tw.Component":s.displayName="tw."+e,s.withStyle=o=>r(i.concat(o)),s};return r()},_de=hde.reduce((e,t)=>I(S({},e),{[t]:Bq(t)}),{}),vde=Object.assign(Bq,_de),io=vde;const yde=B(()=>k(()=>Promise.resolve().then(()=>rIe),void 0),{loading:e=>z(e)}),so=e=>{"use forget";const t=H.c(70),{ariaLive:n,triggerAs:r,disabled:i,label:s,secondaryLabel:o,contentClassName:a,customPaddingClassName:c,customBorderClassName:l,customBackgroundColorClassName:u,theme:d,cornerRadius:f,side:h,sideOffset:p,align:g,alignOffset:m,withArrow:v,wide:y,narrow:T,interactive:b,usePortal:C,className:O,children:w,delayDuration:A,closeOnOutsideClick:x,open:R,onOpenChange:P,onDismissClick:L,isLeftArrow:D,labelTextAlign:F,ignoreTriggerOnOutsideClick:G,labelOrientation:Y,defaultOpen:V,labelClassName:M,secondaryLabelClassName:te}=e,$=r===void 0?"span":r,ie=d===void 0?"default":d,ue=f===void 0?"lg":f,me=h===void 0?"bottom":h,J=p===void 0?8:p,K=g===void 0?"center":g,ne=m===void 0?0:m,X=v===void 0?!1:v,ee=y===void 0?!1:y,ye=T===void 0?!1:T,de=b===void 0?!1:b,oe=C===void 0?!0:C,Ee=A===void 0?0:A,Ae=x===void 0?!0:x,He=D===void 0?!1:D,Re=F===void 0?"center":F,_e=G===void 0?!1:G,pe=Y===void 0?"vertical":Y,j=V===void 0?!1:V,Qe=_t(),Pe=E.useRef(null);if(i){let pn;return t[0]!==w?(pn=_.jsx(_.Fragment,{children:w}),t[0]=w,t[1]=pn):pn=t[1],pn}if(!s){let pn;return t[2]!==$||t[3]!==w||t[4]!==O?(pn=$?_.jsx($,{className:O,children:w}):w,t[2]=$,t[3]=w,t[4]=O,t[5]=pn):pn=t[5],pn}let fe;e:switch(ie){case"white":{fe="light bg-white";break e}case"primary":{fe="bg-token-main-surface-primary";break e}case"default":fe="dark bg-black"}u!=null&&(fe=u);const ge=Re==="left"?"text-start":"text-center";let Le;t[6]!==Ae||t[7]!==_e?(Le=Ae?_e?pn=>{var bs;(bs=Pe.current)!=null&&bs.contains(pn.target)&&pn.preventDefault()}:void 0:Ide,t[6]=Ae,t[7]=_e,t[8]=Le):Le=t[8];const se=c!=null?c:"px-2 py-1",ke=ie==="white"&&"shadow-xs",tt="rounded-".concat(ue),nt=!X&&"overflow-hidden",rt=ee?"max-w-sm":ye?"max-w-2xs":"max-w-xs";let On;t[9]!==fe||t[10]!==a||t[11]!==l||t[12]!==se||t[13]!==ke||t[14]!==tt||t[15]!==nt||t[16]!==rt?(On=ve("relative z-50 transition-opacity select-none",se,ke,tt,nt,l,fe,rt,a),t[9]=fe,t[10]=a,t[11]=l,t[12]=se,t[13]=ke,t[14]=tt,t[15]=nt,t[16]=rt,t[17]=On):On=t[17];const Kn=pe==="horizontal"?"flex gap-2":void 0;let on;t[18]!==M||t[19]!==ge?(on=ve("text-token-text-primary text-xs font-semibold whitespace-pre-wrap",ge,M),t[18]=M,t[19]=ge,t[20]=on):on=t[20];let Ft;t[21]!==s||t[22]!==on?(Ft=_.jsx("div",{className:on,children:s}),t[21]=s,t[22]=on,t[23]=Ft):Ft=t[23];let Wt;t[24]!==o||t[25]!==te||t[26]!==ge?(Wt=o&&_.jsx("div",{className:ve("text-token-text-tertiary text-xs font-medium whitespace-pre-wrap",ge,te),children:o}),t[24]=o,t[25]=te,t[26]=ge,t[27]=Wt):Wt=t[27];let Qt;t[28]!==fe||t[29]!==He||t[30]!==X?(Qt=X&&_.jsx(Gue,{asChild:!0,children:He?_.jsx(Ede,{className:fe}):_.jsx(bde,{className:fe})}),t[28]=fe,t[29]=He,t[30]=X,t[31]=Qt):Qt=t[31];let Gr;t[32]!==Kn||t[33]!==Ft||t[34]!==Wt||t[35]!==Qt?(Gr=_.jsxs("div",{className:Kn,children:[Ft,Wt,Qt]}),t[32]=Kn,t[33]=Ft,t[34]=Wt,t[35]=Qt,t[36]=Gr):Gr=t[36];let Gi;t[37]!==Qe||t[38]!==L?(Gi=L&&_.jsx(yde,{role:"button","aria-label":Qe.formatMessage(Sde.dismissTooltip),tabIndex:0,className:"icon -me-1 cursor-pointer text-gray-400",onClick:L}),t[37]=Qe,t[38]=L,t[39]=Gi):Gi=t[39];let Wi;t[40]!==Gr||t[41]!==Gi?(Wi=_.jsxs("div",{className:"flex items-center gap-1",children:[Gr,Gi]}),t[40]=Gr,t[41]=Gi,t[42]=Wi):Wi=t[42];let fo;t[43]!==K||t[44]!==ne||t[45]!==n||t[46]!==me||t[47]!==J||t[48]!==Le||t[49]!==On||t[50]!==Wi?(fo=_.jsx(Bue,{onEscapeKeyDown:xde,collisionPadding:8,onPointerDownOutside:Le,"aria-live":n,side:me,sideOffset:J,alignOffset:ne,align:K,className:On,children:Wi}),t[43]=K,t[44]=ne,t[45]=n,t[46]=me,t[47]=J,t[48]=Le,t[49]=On,t[50]=Wi,t[51]=fo):fo=t[51];const li=fo,qi=!de,Vi=_e?Nde:void 0;let _r;t[52]!==$||t[53]!==w||t[54]!==O?(_r=$?_.jsx(Ode,{as:$,className:O,children:w}):w,t[52]=$,t[53]=w,t[54]=O,t[55]=_r):_r=t[55];let $i;t[56]!==Vi||t[57]!==_r?($i=_.jsx(Fue,{asChild:!0,ref:Pe,onClick:Vi,children:_r}),t[56]=Vi,t[57]=_r,t[58]=$i):$i=t[58];let Hi;t[59]!==li||t[60]!==oe?(Hi=oe?_.jsx(Cde,{children:_.jsx(ZD,{children:li})}):_.jsx(ZD,{children:li}),t[59]=li,t[60]=oe,t[61]=Hi):Hi=t[61];let ho;return t[62]!==j||t[63]!==Ee||t[64]!==P||t[65]!==R||t[66]!==qi||t[67]!==$i||t[68]!==Hi?(ho=_.jsxs(jue,{delayDuration:Ee,disableHoverableContent:qi,defaultOpen:j,open:R,onOpenChange:P,children:[$i,Hi]}),t[62]=j,t[63]=Ee,t[64]=P,t[65]=R,t[66]=qi,t[67]=$i,t[68]=Hi,t[69]=ho):ho=t[69],ho};function Cde(e){"use forget";const t=H.c(3),{children:n}=e,r=eq();let i;return t[0]!==n||t[1]!==r?(i=_.jsx(Uue,I(S({},r),{children:n})),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}var uB;const bde=io.div(uB||(uB=zi(["relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10"])));var dB;const Ede=io.div(dB||(dB=zi(["relative top-[-4px] end-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10"]))),Sde=Tt({dismissTooltip:{id:"Tooltip.dismissTooltip",defaultMessage:"Close Tooltip"}}),Ode=e=>{"use forget";var c;const t=H.c(15);let n,r,i;if(t[0]!==e?(c=e,{as:n,children:r}=c,i=W(c,["as","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]),!E.isValidElement(r)){let l;return t[4]!==n||t[5]!==r||t[6]!==i?(l=_.jsx(n,I(S({},i),{children:r})),t[4]=n,t[5]=r,t[6]=i,t[7]=l):l=t[7],l}const s=i["aria-describedby"];let o;t[8]!==r||t[9]!==s?(o=_.jsx(nq,{"aria-describedby":s,children:r}),t[8]=r,t[9]=s,t[10]=o):o=t[10];let a;return t[11]!==n||t[12]!==i||t[13]!==o?(a=_.jsx(n,I(S({},i),{onFocusCapture:i.onFocus,children:o})),t[11]=n,t[12]=i,t[13]=o,t[14]=a):a=t[14],a},sm=E.createContext(!1),ZD=e=>{"use forget";const t=H.c(5),{children:n}=e,i=E.use(sm)&&"sr-only!";let s;t[0]!==i?(s=ve(i),t[0]=i,t[1]=s):s=t[1];let o;return t[2]!==n||t[3]!==s?(o=_.jsx(nq,{className:s,children:n}),t[2]=n,t[3]=s,t[4]=o):o=t[4],o},Tde=e=>{"use forget";const t=H.c(2),{children:n}=e;let r;return t[0]!==n?(r=_.jsx(sm.Provider,{value:!1,children:n}),t[0]=n,t[1]=r):r=t[1],r},wde=e=>{"use forget";var d;const t=H.c(6),{children:n}=e,r=E.use(sm),[i,s]=E.useState(!1);let o;t[0]!==r||t[1]!==n?(o=r?n:E.cloneElement(n,{onOpenChange:f=>{var h,p;s(f),(p=(h=n.props).onOpenChange)==null||p.call(h,f)}}),t[0]=r,t[1]=n,t[2]=o):o=t[2];const a=o,c=(d=n.props.open)!=null?d:i,l=r===!0||c;let u;return t[3]!==a||t[4]!==l?(u=_.jsx(sm.Provider,{value:l,children:a}),t[3]=a,t[4]=l,t[5]=u):u=t[5],u};function Ade(){document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))}function xde(e){e.preventDefault(),e.stopPropagation(),queueMicrotask(Ade)}function Ide(e){return e.preventDefault()}function Nde(e){e.preventDefault()}function Gq(e){const t=e+"CollectionProvider",[n,r]=KA(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:g}=h,m=Et.useRef(null),v=Et.useRef(new Map).current;return _.jsx(i,{scope:p,itemMap:v,collectionRef:m,children:g})};o.displayName=t;const a=e+"CollectionSlot",c=Et.forwardRef((h,p)=>{const{scope:g,children:m}=h,v=s(a,g),y=dn(p,v.collectionRef);return _.jsx(nu,{ref:y,children:m})});c.displayName=a;const l=e+"CollectionItemSlot",u="data-radix-collection-item",d=Et.forwardRef((h,p)=>{const C=h,{scope:g,children:m}=C,v=W(C,["scope","children"]),y=Et.useRef(null),T=dn(p,y),b=s(l,g);return Et.useEffect(()=>(b.itemMap.set(y,S({ref:y},v)),()=>void b.itemMap.delete(y))),_.jsx(nu,{[u]:"",ref:T,children:m})});d.displayName=l;function f(h){const p=s(e+"CollectionConsumer",h);return Et.useCallback(()=>{const m=p.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll("[".concat(u,"]")));return Array.from(p.itemMap.values()).sort((b,C)=>v.indexOf(b.ref.current)-v.indexOf(C.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},f,r]}var Wq=E.createContext(void 0),Rde=e=>{const{dir:t,children:n}=e;return _.jsx(Wq.Provider,{value:t,children:n})};function rx(e){const t=E.useContext(Wq);return e||t||"ltr"}var Qb="rovingFocusGroup.onEntryFocus",Pde={bubbles:!1,cancelable:!0},V_="RovingFocusGroup",[l1,qq,kde]=Gq(V_),[Mde,$_]=KA(V_,[kde]),[Dde,Lde]=Mde(V_),Vq=E.forwardRef((e,t)=>_.jsx(l1.Provider,{scope:e.__scopeRovingFocusGroup,children:_.jsx(l1.Slot,{scope:e.__scopeRovingFocusGroup,children:_.jsx(jde,I(S({},e),{ref:t}))})}));Vq.displayName=V_;var jde=E.forwardRef((e,t)=>{const A=e,{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1}=A,d=W(A,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),f=E.useRef(null),h=dn(t,f),p=rx(s),[g=null,m]=Rc({prop:o,defaultProp:a,onChange:c}),[v,y]=E.useState(!1),T=ii(l),b=qq(n),C=E.useRef(!1),[O,w]=E.useState(0);return E.useEffect(()=>{const x=f.current;if(x)return x.addEventListener(Qb,T),()=>x.removeEventListener(Qb,T)},[T]),_.jsx(Dde,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:E.useCallback(x=>m(x),[m]),onItemShiftTab:E.useCallback(()=>y(!0),[]),onFocusableItemAdd:E.useCallback(()=>w(x=>x+1),[]),onFocusableItemRemove:E.useCallback(()=>w(x=>x-1),[]),children:_.jsx(Ot.div,I(S({tabIndex:v||O===0?-1:0,"data-orientation":r},d),{ref:h,style:S({outline:"none"},e.style),onMouseDown:Ve(e.onMouseDown,()=>{C.current=!0}),onFocus:Ve(e.onFocus,x=>{const R=!C.current;if(x.target===x.currentTarget&&R&&!v){const P=new CustomEvent(Qb,Pde);if(x.currentTarget.dispatchEvent(P),!P.defaultPrevented){const L=b().filter(V=>V.focusable),D=L.find(V=>V.active),F=L.find(V=>V.id===g),Y=[D,F,...L].filter(Boolean).map(V=>V.ref.current);zq(Y,u)}}C.current=!1}),onBlur:Ve(e.onBlur,()=>y(!1))}))})}),$q="RovingFocusGroupItem",Hq=E.forwardRef((e,t)=>{const p=e,{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s}=p,o=W(p,["__scopeRovingFocusGroup","focusable","active","tabStopId"]),a=ss(),c=s||a,l=Lde($q,n),u=l.currentTabStopId===c,d=qq(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=l;return E.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),_.jsx(l1.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:_.jsx(Ot.span,I(S({tabIndex:u?0:-1,"data-orientation":l.orientation},o),{ref:t,onMouseDown:Ve(e.onMouseDown,g=>{r?l.onItemFocus(c):g.preventDefault()}),onFocus:Ve(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:Ve(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){l.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Bde(g,l.orientation,l.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=d().filter(T=>T.focusable).map(T=>T.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const T=y.indexOf(g.currentTarget);y=l.loop?Gde(y,T+1):y.slice(T+1)}setTimeout(()=>zq(y))}})}))})});Hq.displayName=$q;var Fde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ude(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Bde(e,t,n){const r=Ude(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Fde[r]}function zq(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Gde(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Yq=Vq,Kq=Hq,ix="Tabs",[Wde]=wu(ix,[$_]),Jq=$_(),[qde,sx]=Wde(ix),Xq=E.forwardRef((e,t)=>{const h=e,{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic"}=h,l=W(h,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),u=rx(a),[d,f]=Rc({prop:r,onChange:i,defaultProp:s});return _.jsx(qde,{scope:n,baseId:ss(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:c,children:_.jsx(Ot.div,I(S({dir:u,"data-orientation":o},l),{ref:t}))})});Xq.displayName=ix;var Qq="TabsList",Zq=E.forwardRef((e,t)=>{const a=e,{__scopeTabs:n,loop:r=!0}=a,i=W(a,["__scopeTabs","loop"]),s=sx(Qq,n),o=Jq(n);return _.jsx(Yq,I(S({asChild:!0},o),{orientation:s.orientation,dir:s.dir,loop:r,children:_.jsx(Ot.div,I(S({role:"tablist","aria-orientation":s.orientation},i),{ref:t}))}))});Zq.displayName=Qq;var e7="TabsTrigger",t7=E.forwardRef((e,t)=>{const d=e,{__scopeTabs:n,value:r,disabled:i=!1}=d,s=W(d,["__scopeTabs","value","disabled"]),o=sx(e7,n),a=Jq(n),c=i7(o.baseId,r),l=s7(o.baseId,r),u=r===o.value;return _.jsx(Kq,I(S({asChild:!0},a),{focusable:!i,active:u,children:_.jsx(Ot.button,I(S({type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},s),{ref:t,onMouseDown:Ve(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ve(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ve(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(r)})}))}))});t7.displayName=e7;var n7="TabsContent",r7=E.forwardRef((e,t)=>{const f=e,{__scopeTabs:n,value:r,forceMount:i,children:s}=f,o=W(f,["__scopeTabs","value","forceMount","children"]),a=sx(n7,n),c=i7(a.baseId,r),l=s7(a.baseId,r),u=r===a.value,d=E.useRef(u);return E.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),_.jsx(Fi,{present:i||u,children:({present:h})=>_.jsx(Ot.div,I(S({"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0},o),{ref:t,style:I(S({},e.style),{animationDuration:d.current?"0s":void 0}),children:h&&s}))})});r7.displayName=n7;function i7(e,t){return"".concat(e,"-trigger-").concat(t)}function s7(e,t){return"".concat(e,"-content-").concat(t)}var B6e=Xq,G6e=Zq,Vde=t7,$de=r7;const Hde=B(()=>k(()=>import("./jomh3l3gijuxdblp.js"),__vite__mapDeps([18,1])),{loading:e=>z(e)}),zde=B(()=>k(()=>import("./dr1v3i80rkhviakg.js"),__vite__mapDeps([17,1])),{loading:e=>z(e)});var Yde=(e=>(e.ArchivedChats="ArchivedChats",e))(Yde||{}),H_=(e=>(e.General="General",e.Notifications="Notifications",e.Personalization="Personalization",e.Connectors="Connectors",e.ConnectorsAdvanced="Connectors/Advanced",e.DataControls="DataControls",e.Schedules="Schedules",e.Orders="Orders",e.Security="Security",e.ParentalControls="ParentalControls",e.Hazelnuts="Hazelnuts",e.Account="Account",e.Internal="Internal",e))(H_||{});function Kde(e){return e.startsWith("#settings")}function W6e(e){return e.startsWith("#settings/Account")}function q6e(e){if(!Kde(e))return null;const t=e.split("?")[0].split("/")[1];if(Object.values(H_).includes(t))return t;switch(t){case"Subscription":case"BuilderProfile":case"Referrals":return"Account";case"ConnectorSettings":return"Connectors";case"SecureSignIn":return"Security";case"Record":return"Personalization";case"AmphoraControls":return"ParentalControls"}return"General"}function V6e(e,t={}){const{dataControlsRoute:n,parentalControlsMemberId:r}=t;let i=e&&e!=="General"?"settings/".concat(e):"settings";return e==="DataControls"&&n!=null&&(i+="/".concat(n)),e==="ParentalControls"&&typeof r=="string"&&r.length>0&&(i+="/member/".concat(encodeURIComponent(r))),nf({hash:i})}const $6e=e=>_.jsx(ro,S({as:Vde,fillContainer:!0},e));function H6e({value:e,children:t}){return _.jsx($de,{className:"text-token-text-primary relative flex w-full flex-col overflow-y-auto px-4 text-sm max-md:max-h-[calc(100vh-150px)] md:min-h-[380px]",value:e,children:t})}const Jde=({title:e,description:t,learnMoreHref:n,children:r,noBorder:i=!1,headerTrailingContent:s,headerInteractable:o=!1})=>{let a;if(e){let c=o?e:_.jsx("div",{className:"truncate select-none",children:e});n&&(c=_.jsxs("div",{className:"flex items-center gap-2",children:[c,_.jsx(so,{label:_.jsx(bt,{id:"WbGW2C",defaultMessage:"Learn more"}),contentClassName:"touch:hidden",side:"right",triggerAs:null,children:_.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-token-text-tertiary not-touch:mt-0.5 flex shrink-0 items-center gap-1 text-sm",children:_.jsx(Hde,{className:"icon-sm"})})})]}));const l=t?_.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:t}):null;a=s?_.jsxs("div",{className:ve("min-h-header-height grid items-start gap-x-4 gap-y-1 py-3","grid-cols-[minmax(0,1fr)_auto]",!i&&"border-token-border-default border-b"),children:[_.jsxs("h3",{className:"min-w-0 text-lg font-normal",children:[c,l]}),_.jsx("div",{className:"justify-self-end",children:s})]}):_.jsx("div",{className:ve("min-h-header-height flex items-center py-3",!i&&"border-token-border-default border-b"),children:_.jsxs("h3",{className:"w-full text-lg font-normal",children:[c,l]})})}return _.jsxs("section",{className:"relative mb-4 not-has-[>div,>section,>h1,>h2,>h3,>h4,>h5,>h6]:hidden",children:[a,r]})};function Xde({children:e}){return _.jsx("div",{className:"border-token-border-light flex min-h-15 items-center border-b py-2 last-of-type:border-none",children:_.jsx("div",{className:"w-full",children:e})})}function z6e(e){"use forget";const t=H.c(8),{labelMessage:n,value:r,testId:i}=e;let s;t[0]!==n?(s=_.jsx("div",{className:"text-token-text-primary text-sm",children:_.jsx(bt,S({},n))}),t[0]=n,t[1]=s):s=t[1];let o;t[2]!==r?(o=_.jsx("div",{className:"text-token-text-secondary min-w-0 text-end text-sm break-words",children:r}),t[2]=r,t[3]=o):o=t[3];let a;return t[4]!==s||t[5]!==o||t[6]!==i?(a=_.jsxs("div",{className:"flex w-full items-start justify-between gap-4","data-testid":i,children:[s,o]}),t[4]=s,t[5]=o,t[6]=i,t[7]=a):a=t[7],a}var fB;const u1=io.div(fB||(fB=zi(["text-xs text-token-text-tertiary pe-12 my-1"])));function Y6e({label:e,disabled:t,enabled:n,onChange:r,description:i,toggleTooltip:s,isLoading:o=!1,testId:a,compactDescription:c=!1,centerToggleVertically:l=!1,showAlphaPill:u=!1,ariaLabel:d,toggleLeftAdornment:f}){const h=typeof e=="string"?e:d,p=h?{"aria-label":h}:{"aria-hidden":!0},g=_.jsx(QW,S({disabled:t,checked:n,onCheckedChange:r,size:"normal","data-testid":a},p)),m=s?_.jsx(so,{label:s,side:"top",children:g}):g;return l?_.jsxs("div",{className:"flex justify-between gap-2",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&_.jsx(FD,{})]}),i!=null&&_.jsx(u1,{className:c?"mt-0.5":void 0,children:i})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[f,o?_.jsx(uf,{}):m]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&_.jsx(FD,{})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[f,o?_.jsx(uf,{}):m]})]}),i!=null&&_.jsx(u1,{className:c?"mt-0.5":void 0,children:i})]})}function K6e({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:i,description:s,testId:o}){const a=s?"items-start":"items-center";return _.jsxs("div",{className:ve("flex",a,"justify-between"),children:[_.jsxs("div",{children:[_.jsx("div",{children:n}),s!=null&&_.jsx(u1,{children:s})]}),_.jsx(no,{className:"shrink-0",color:e,disabled:!!t,onClick:i,"data-testid":o,children:r})]})}function J6e({onClick:e,label:t,stateLabel:n,testId:r}){return _.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{children:t}),_.jsxs("div",{className:"text-token-text-secondary flex min-h-[38px] items-center",children:[n&&_.jsx("div",{className:"me-1 flex items-center",children:n}),_.jsx(zde,{className:"icon-sm"})]})]})})}function X6e(e){return Z.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}}})}function zr(){if(typeof window>"u")return;const{hash:e,search:t}=window.location,n=r=>{var o;const i=r.startsWith("?")?r.slice(1):r;return(o=new URLSearchParams(i).get("referrer"))!=null?o:void 0};if(e&&e.includes("?")){const r=e.substring(e.indexOf("?")+1),i=n(r);if(i)return i}return n(t)}const Q6e=e=>(e==null?void 0:e.visibility)==="HIDDEN",Z6e="connector_bd313622bce5485cb3d0b338715f7108",ox="connector_3f8d1a79f27c4c7ba1a897ab13bf37dc",Qde="slack_codex_oauth_client",ax="connector_8cbe1e9e357f4ec79fa9f1a8aa78f4c1",Zde="slack_codex_bot_oauth_client",cx="connector_fdb98b59c8d44f678b086d20e82bd316",efe="linear_codex_bot_oauth_client",om={gdrive_sync_connector:"gdrive_sync_connector",slack_sync_connector:"slack_sync_connector",github_sync_connector:"github_sync_connector",notion_sync_connector:"notion_sync_connector",sharepoint_sync_connector:"sharepoint_sync_connector",sharepoint_admin_sync_connector:"sharepoint_admin_sync_connector",teams_sync_connector:"teams_sync_connector",teams_admin_sync_connector:"teams_admin_sync_connector",linear_sync_connector:"linear_sync_connector",jira_sync_connector:"jira_sync_connector",jira_servicemanagement_sync_connector:"jira_servicemanagement_sync_connector",intercom_sync_connector:"intercom_sync_connector",hubspot_sync_connector:"hubspot_sync_connector",salesforce_sync_connector:"salesforce_sync_connector",confluence_sync_connector:"confluence_sync_connector",dropbox_sync_connector:"dropbox_sync_connector",box_sync_connector:"box_sync_connector",aha_sync_connector:"aha_sync_connector",asana_sync_connector:"asana_sync_connector",azure_devops_sync_connector:"azure_devops_sync_connector",basecamp_sync_connector:"basecamp_sync_connector",clickup_sync_connector:"clickup_sync_connector",freshdesk_sync_connector:"freshdesk_sync_connector",freshservice_sync_connector:"freshservice_sync_connector",front_sync_connector:"front_sync_connector",gitlab_sync_connector:"gitlab_sync_connector",gorgias_sync_connector:"gorgias_sync_connector",helpscout_sync_connector:"helpscout_sync_connector",ironclad_sync_connector:"ironclad_sync_connector",pipedrive_sync_connector:"pipedrive_sync_connector",salesforce_service_cloud_sync_connector:"salesforce_service_cloud_sync_connector",shortcut_sync_connector:"shortcut_sync_connector",teamwork_sync_connector:"teamwork_sync_connector",zendesk_sync_connector:"zendesk_sync_connector",zoho_sync_connector:"zoho_sync_connector",zoho_desk_sync_connector:"zoho_desk_sync_connector"},tfe={google_drive_oauth:N.GDRIVE_ACTION_CONNECTOR,google_drive_dwd:N.GDRIVE_ACTION_CONNECTOR,slack:N.SLACK_CONNECTOR,github:N.GITHUB_CONNECTOR,notion:N.NOTION_CONNECTOR,sharepoint:N.SHAREPOINT_CONNECTOR,sharepoint_admin:N.SHAREPOINT_ADMIN_CONNECTOR,teams:N.TEAMS_CONNECTOR,teams_admin:N.TEAMS_ADMIN_CONNECTOR,linear:N.LINEAR_CONNECTOR,jira:N.JIRA_CONNECTOR,jira_servicemanagement:N.JIRA_SERVICEMANAGEMENT_CONNECTOR,intercom:N.INTERCOM_CONNECTOR,hubspot:N.HUBSPOT_CONNECTOR,salesforce:N.SALESFORCE_CONNECTOR,confluence:N.CONFLUENCE_CONNECTOR,dropbox:N.DROPBOX_CONNECTOR,box:N.BOX_CONNECTOR,aha:N.AHA_CONNECTOR,asana:N.ASANA_CONNECTOR,azure_devops:N.AZURE_DEVOPS_CONNECTOR,basecamp:N.BASECAMP_CONNECTOR,clickup:N.CLICKUP_CONNECTOR,freshdesk:N.FRESHDESK_CONNECTOR,freshservice:N.FRESHSERVICE_CONNECTOR,front:N.FRONT_CONNECTOR,gitlab:N.GITLAB_CONNECTOR,gorgias:N.GORGIAS_CONNECTOR,help_scout:N.HELP_SCOUT_CONNECTOR,ironclad:N.IRONCLAD_CONNECTOR,pipedrive:N.PIPEDRIVE_CONNECTOR,salesforce_service_cloud:N.SALESFORCE_SERVICE_CLOUD_CONNECTOR,shortcut:N.SHORTCUT_CONNECTOR,teamwork:N.TEAMWORK_CONNECTOR,zendesk:N.ZENDESK_CONNECTOR,zoho:N.ZOHO_CONNECTOR,zoho_desk:N.ZOHO_DESK_CONNECTOR},Pc={[N.NOTION_CONNECTOR]:{access:"connector_37316be7febe4224b3d31465bae4dbd7",sync:"connector_1ee51bd730c272434e1b17c46f8a2397"},[N.INTERCOM_CONNECTOR]:{access:"connector_25f8569426254c019971d2481ddda775",sync:"connector_9f3d361ec84b4c6588a7129a2d4e3cb3"},[N.HUBSPOT_CONNECTOR]:{access:"connector_2a3c0c472f6f4238b47d41acfb317307",sync:"connector_6529c30f7e3590253d20626b8f971879"}},Pt={[N.GDRIVE_ACTION_CONNECTOR]:"connector_5f3c8c41a1e54ad7a76272c89e2554fa",[N.GITHUB_CONNECTOR]:"connector_76869538009648d5b282a4bb21c3d157",[N.LINEAR_CONNECTOR]:"connector_686fad9b54914a35b75be6d06a0f6f31",[N.DROPBOX_CONNECTOR]:"connector_14e85e16800b4e53bc6246019a83a307",[N.HUBSPOT_CONNECTOR]:"connector_2a3c0c472f6f4238b47d41acfb317307",[N.SALESFORCE_CONNECTOR]:"connector_6095bdb01e9482eb0cac719f6ba313cd",[N.AHA_CONNECTOR]:"connector_251970f16cb647d4b76fc445753f9276",[N.ASANA_CONNECTOR]:"connector_4886707321be47efb8b9369ebb877881",[N.AZURE_DEVOPS_CONNECTOR]:"connector_da257d66000a45c683fe44e411037409",[N.BASECAMP_CONNECTOR]:"connector_4d2f184d2773465f977823d8d03a059a",[N.CLICKUP_CONNECTOR]:"connector_f9447fe87aae4b598f8ca9dc03483c9a",[N.FRESHDESK_CONNECTOR]:"connector_5da92388bc1842fe8f33f04eb59a7d29",[N.FRESHSERVICE_CONNECTOR]:"connector_b1ec778333b24ed3adbff456d0207475",[N.FRONT_CONNECTOR]:"connector_d38d1f35825b4ebebf977ff9fe20841e",[N.GITLAB_CONNECTOR]:"connector_0c9786b2f41f41558056126bdb46c9bd",[N.GORGIAS_CONNECTOR]:"connector_16ebbb3c9f7e449d94a61eb0473dd9dc",[N.HELP_SCOUT_CONNECTOR]:"connector_b969d12728c04baeb585eb9299be3b6d",[N.IRONCLAD_CONNECTOR]:"connector_f317b2c679f84ad5b6f2af12fb6f609a",[N.PIPEDRIVE_CONNECTOR]:"connector_36803b8cc4164d84aa3fbfc7ddb420e1",[N.SALESFORCE_SERVICE_CLOUD_CONNECTOR]:"connector_97fbcfe6da0d4a4282ebb47f6e01e56b",[N.SHORTCUT_CONNECTOR]:"connector_7a9cae0e3c7c4fadb98be0028af7d346",[N.SHAREPOINT_CONNECTOR]:"connector_1e4f6a44acf14e3ca1d96672f8c945bc",[N.SHAREPOINT_ADMIN_CONNECTOR]:"connector_5ae2fd76f08447718080f11bc2faac6c",[N.TEAMS_CONNECTOR]:"connector_246af0940da3457da0e751171dc1ce60",[N.TEAMS_ADMIN_CONNECTOR]:"connector_601cc22bb3b740599c7274cf7e8084e8",[N.TEAMWORK_CONNECTOR]:"connector_86de01a2aaf544b0a039013db9bcfae7",[N.ZENDESK_CONNECTOR]:"connector_30434c47d61341d69dc82aaffa23f5c6",[N.ZOHO_CONNECTOR]:"connector_fd0f007550a242459d6dd1f923668769",[N.ZOHO_DESK_CONNECTOR]:"connector_bc42113c21de4f94a5b5259c2aa914f6",[N.GCAL_CONNECTOR]:"connector_947e0d954944416db111db556030eea6",[N.GMAIL_CONNECTOR]:"connector_2128aebfecb84f64a069897515042a44",[N.GOOGLE_CONTACTS_CONNECTOR]:"connector_c0f748249d6a42aea4b00fd375570ded",[N.OUTLOOK_EMAIL_CONNECTOR]:"connector_4aaab2856305417b993eca9a216aaf6e",[N.OUTLOOK_CALENDAR_CONNECTOR]:"connector_e6a7394682e24467ac68c60696f275a4",[N.BOX_CONNECTOR]:"connector_2fc94c70cbb74b7caa6d07bf7231202e",[N.INTERCOM_CONNECTOR]:"connector_25f8569426254c019971d2481ddda775",[N.NOTION_CONNECTOR]:"connector_37316be7febe4224b3d31465bae4dbd7",[N.CANVA_CONNECTOR]:"connector_ef718304ffe64e31947b71887e3d51fa",[N.SLACK_CONNECTOR]:"connector_0f9c9d4592e54d0a9a12b3f44a1e2010",[N.SLACK_CODEX_CONNECTOR]:ox,[N.SLACK_CODEX_BOT_CONNECTOR]:ax,[N.LINEAR_CODEX_BOT_CONNECTOR]:cx,[N.CONFLUENCE_CONNECTOR]:"connector_258b4e1b0cb61498ac3907daf4072fa7",[N.JIRA_CONNECTOR]:"connector_141ed0ff031248bb8e5b5584de945cef",[N.JIRA_SERVICEMANAGEMENT_CONNECTOR]:"connector_cfcd99fd238d43c888544acd294b3f31"},Ii={connector_5f3c8c41a1e54ad7a76272c89e2554fa:N.GDRIVE_ACTION_CONNECTOR,connector_76869538009648d5b282a4bb21c3d157:N.GITHUB_CONNECTOR,connector_686fad9b54914a35b75be6d06a0f6f31:N.LINEAR_CONNECTOR,connector_14e85e16800b4e53bc6246019a83a307:N.DROPBOX_CONNECTOR,connector_2a3c0c472f6f4238b47d41acfb317307:N.HUBSPOT_CONNECTOR,connector_6095bdb01e9482eb0cac719f6ba313cd:N.SALESFORCE_CONNECTOR,connector_251970f16cb647d4b76fc445753f9276:N.AHA_CONNECTOR,connector_4886707321be47efb8b9369ebb877881:N.ASANA_CONNECTOR,connector_da257d66000a45c683fe44e411037409:N.AZURE_DEVOPS_CONNECTOR,connector_4d2f184d2773465f977823d8d03a059a:N.BASECAMP_CONNECTOR,connector_f9447fe87aae4b598f8ca9dc03483c9a:N.CLICKUP_CONNECTOR,connector_5da92388bc1842fe8f33f04eb59a7d29:N.FRESHDESK_CONNECTOR,connector_b1ec778333b24ed3adbff456d0207475:N.FRESHSERVICE_CONNECTOR,connector_d38d1f35825b4ebebf977ff9fe20841e:N.FRONT_CONNECTOR,connector_0c9786b2f41f41558056126bdb46c9bd:N.GITLAB_CONNECTOR,connector_16ebbb3c9f7e449d94a61eb0473dd9dc:N.GORGIAS_CONNECTOR,connector_b969d12728c04baeb585eb9299be3b6d:N.HELP_SCOUT_CONNECTOR,connector_f317b2c679f84ad5b6f2af12fb6f609a:N.IRONCLAD_CONNECTOR,connector_36803b8cc4164d84aa3fbfc7ddb420e1:N.PIPEDRIVE_CONNECTOR,connector_97fbcfe6da0d4a4282ebb47f6e01e56b:N.SALESFORCE_SERVICE_CLOUD_CONNECTOR,connector_7a9cae0e3c7c4fadb98be0028af7d346:N.SHORTCUT_CONNECTOR,connector_86de01a2aaf544b0a039013db9bcfae7:N.TEAMWORK_CONNECTOR,connector_30434c47d61341d69dc82aaffa23f5c6:N.ZENDESK_CONNECTOR,connector_fd0f007550a242459d6dd1f923668769:N.ZOHO_CONNECTOR,connector_bc42113c21de4f94a5b5259c2aa914f6:N.ZOHO_DESK_CONNECTOR,connector_1e4f6a44acf14e3ca1d96672f8c945bc:N.SHAREPOINT_CONNECTOR,connector_5ae2fd76f08447718080f11bc2faac6c:N.SHAREPOINT_ADMIN_CONNECTOR,connector_246af0940da3457da0e751171dc1ce60:N.TEAMS_CONNECTOR,connector_601cc22bb3b740599c7274cf7e8084e8:N.TEAMS_ADMIN_CONNECTOR,connector_947e0d954944416db111db556030eea6:N.GCAL_CONNECTOR,connector_2128aebfecb84f64a069897515042a44:N.GMAIL_CONNECTOR,connector_c0f748249d6a42aea4b00fd375570ded:N.GOOGLE_CONTACTS_CONNECTOR,connector_4aaab2856305417b993eca9a216aaf6e:N.OUTLOOK_EMAIL_CONNECTOR,connector_e6a7394682e24467ac68c60696f275a4:N.OUTLOOK_CALENDAR_CONNECTOR,connector_2fc94c70cbb74b7caa6d07bf7231202e:N.BOX_CONNECTOR,connector_25f8569426254c019971d2481ddda775:N.INTERCOM_CONNECTOR,connector_9f3d361ec84b4c6588a7129a2d4e3cb3:N.INTERCOM_CONNECTOR,connector_37316be7febe4224b3d31465bae4dbd7:N.NOTION_CONNECTOR,connector_1ee51bd730c272434e1b17c46f8a2397:N.NOTION_CONNECTOR,connector_ef718304ffe64e31947b71887e3d51fa:N.CANVA_CONNECTOR,connector_6887fff96c948190aa97fd69c3041dea:N.UAE_PASS_CONNECTOR,connector_0f9c9d4592e54d0a9a12b3f44a1e2010:N.SLACK_CONNECTOR,[ox]:N.SLACK_CODEX_CONNECTOR,[ax]:N.SLACK_CODEX_BOT_CONNECTOR,[cx]:N.LINEAR_CODEX_BOT_CONNECTOR,connector_258b4e1b0cb61498ac3907daf4072fa7:N.CONFLUENCE_CONNECTOR,connector_141ed0ff031248bb8e5b5584de945cef:N.JIRA_CONNECTOR,connector_cfcd99fd238d43c888544acd294b3f31:N.JIRA_SERVICEMANAGEMENT_CONNECTOR,connector_6529c30f7e3590253d20626b8f971879:N.HUBSPOT_CONNECTOR};function nfe(e){return Object.keys(Ii).includes(e)}function rfe(e){return!(e==="web"||e==="cloud"||e in Pt||e in om)}function ife(e){return typeof window<"u"?"".concat(window.location.origin,"/connector_platform_oauth_redirect"):""}const sfe="https://github.com/apps/chatgpt-codex-connector";function ofe(e){return"".concat(sfe,"/").concat(e)}const eGe={[N.GITHUB_CONNECTOR]:it.GitHub,[N.GDRIVE_ACTION_CONNECTOR]:it.GoogleDrive,[N.DROPBOX_CONNECTOR]:it.Dropbox,[N.LINEAR_CONNECTOR]:it.Linear,[N.SHAREPOINT_CONNECTOR]:it.Sharepoint,[N.TEAMS_CONNECTOR]:it.Teams,[N.OUTLOOK_EMAIL_CONNECTOR]:it.OutlookEmail,[N.OUTLOOK_CALENDAR_CONNECTOR]:it.OutlookCalendar,[N.BOX_CONNECTOR]:it.Box,[N.INTERCOM_CONNECTOR]:it.Intercom,[N.GCAL_CONNECTOR]:it.GoogleCalendar,[N.GMAIL_CONNECTOR]:it.Gmail,[N.GOOGLE_CONTACTS_CONNECTOR]:it.GoogleContacts,[N.HUBSPOT_CONNECTOR]:it.Hubspot,[N.SALESFORCE_CONNECTOR]:it.Salesforce,[N.AHA_CONNECTOR]:it.Aha,[N.ASANA_CONNECTOR]:it.Asana,[N.AZURE_DEVOPS_CONNECTOR]:it.AzureDevOps,[N.BASECAMP_CONNECTOR]:it.Basecamp,[N.CLICKUP_CONNECTOR]:it.Clickup,[N.FRESHDESK_CONNECTOR]:it.Freshdesk,[N.FRESHSERVICE_CONNECTOR]:it.Freshservice,[N.FRONT_CONNECTOR]:it.Front,[N.GITLAB_CONNECTOR]:it.Gitlab,[N.GORGIAS_CONNECTOR]:it.Gorgias,[N.HELP_SCOUT_CONNECTOR]:it.HelpScout,[N.IRONCLAD_CONNECTOR]:it.Ironclad,[N.PIPEDRIVE_CONNECTOR]:it.Pipedrive,[N.SALESFORCE_SERVICE_CLOUD_CONNECTOR]:it.SalesforceServiceCloud,[N.SHORTCUT_CONNECTOR]:it.Shortcut,[N.TEAMWORK_CONNECTOR]:it.Teamwork,[N.ZENDESK_CONNECTOR]:it.Zendesk,[N.ZOHO_CONNECTOR]:it.Zoho,[N.ZOHO_DESK_CONNECTOR]:it.ZohoDesk,[N.CANVA_CONNECTOR]:it.Canva,[N.NOTION_CONNECTOR]:it.Notion,[N.SLACK_CONNECTOR]:it.Slack,[N.SLACK_CODEX_CONNECTOR]:it.Slack,[N.CONFLUENCE_CONNECTOR]:it.Confluence,[N.JIRA_CONNECTOR]:it.Jira,[N.JIRA_SERVICEMANAGEMENT_CONNECTOR]:it.JiraServiceManagement,[N.SLACK_CODEX_BOT_CONNECTOR]:it.Slack,[N.LINEAR_CODEX_BOT_CONNECTOR]:it.Linear},afe=e=>[...Object.values(N),...Object.values(qg)].includes(e)?e:null,tGe=e=>e.map(t=>afe(t)).filter(t=>t!=null);async function cfe({redirectUri:e,connectorPlatformParams:t,redirectTo:n,onError:r,openPopup:i=!1,toaster:s,intl:o,productSku:a}){var l,u,d;Se.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_initiated",{event:"start",type:t.connectorId});const{ConnectorsAnalytics:c}=await k(async()=>{const{ConnectorsAnalytics:f}=await Promise.resolve().then(()=>EMe);return{ConnectorsAnalytics:f}},void 0);c.logOAuthInitiated({connector_id_metadata:c.createIdMetadataFromId(t.connectorId,(l=zr())!=null?l:"unknown_referrer"),referrer:(u=zr())!=null?u:"unknown_referrer",authType:"OAUTH",scopes:t.oauthClientScopes});try{const f={connector_id:t.connectorId,oauth_client_id:t.oauthClientId,name:t.name,action_names:t.actionNames,requested_scopes:t.oauthClientScopes,callback_url:e,post_auth_url:n,slack_team_id:(d=t.slackTeamId)!=null?d:void 0,link_params:t.linkParams&&Object.keys(t.linkParams).length>0?t.linkParams:void 0};let h=await Z.safePost("/aip/connectors/links/oauth",{requestBody:f,additionalHeaders:a?{[Cn]:a}:void 0});h.email_challenge_sent&&await new Promise((m,v)=>{const y=At();let T=!1;Di(y,eL,{onVerify:async b=>{h=await Z.safePost("/aip/connectors/links/oauth",{requestBody:I(S({},f),{otp_code:b}),additionalHeaders:a?{[Cn]:a}:void 0}),T=!0,nA(y,eL),m()},onResendOtp:async()=>{await Z.safePost("/aip/connectors/links/oauth",{requestBody:f,additionalHeaders:a?{[Cn]:a}:void 0})},onClose:()=>{T||v(null)}})});let p=null;nfe(t.connectorId)&&Ii[t.connectorId]===N.HUBSPOT_CONNECTOR?p=h.redirect_url+"&utm_source=chatgpt":p=h.redirect_url;let g=null;if(i&&(g=window.open("about:blank","_blank")),!g)window.location.href=p;else if(g)return g.location.href=p,new Promise(m=>{const v=y=>{var x,R,P,L;const{error:T,errorDesc:b,errorType:C,connectorId:O,success:w,linkId:A}=y.data;if(y.origin===window.location.origin&&!(O&&t.connectorId!==O)){if(w)Se.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_success",{success:!0,type:t.connectorId}),c.logOAuthCompleted({connector_id_metadata:c.createIdMetadataFromId(t.connectorId,(x=zr())!=null?x:"unknown_referrer"),referrer:(R=zr())!=null?R:"unknown_referrer",authType:"OAUTH",scopes:t.oauthClientScopes,success:!0}),s==null||s.success(o.formatMessage(Zb.createLinkSuccess,{connectorName:t.name})),m({success:!0,linkId:A,message:""});else{Se.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_error",{success:!1,type:t.connectorId,errorType:C}),C!=="oauth_failed_scope_mismatch"&&(s==null||s.danger(o.formatMessage(Zb.createLinkError,{connectorName:t.name}),{toastId:"connector_oauth_connect",loggingTitle:Zb.createLinkError.defaultMessage,loggingDescription:"Failed to link connector"}));const D="".concat(T).concat(b?": ".concat(b):"");c.logOAuthCompleted({connector_id_metadata:c.createIdMetadataFromId(t.connectorId,(P=zr())!=null?P:"unknown_referrer"),referrer:(L=zr())!=null?L:"unknown_referrer",authType:"OAUTH",scopes:t.oauthClientScopes,success:!1,errorType:C,errorMessage:D}),m({errorType:C,success:w,message:D})}eg.removeEventListener("message",v,!1)}};eg.addEventListener("message",v,!1),g.addEventListener("beforeunload",()=>{eg.removeEventListener("message",v,!1)})})}catch(f){if(r)r(f);else throw f}}const nGe={box:N.BOX_CONNECTOR,dropbox:N.DROPBOX_CONNECTOR,github:N.GITHUB_CONNECTOR,gmail:N.GMAIL_CONNECTOR,"google drive":N.GDRIVE_ACTION_CONNECTOR,"google calendar":N.GCAL_CONNECTOR,outlook:N.OUTLOOK_EMAIL_CONNECTOR,"outlook email":N.OUTLOOK_EMAIL_CONNECTOR,"outlook calendar":N.OUTLOOK_CALENDAR_CONNECTOR,sharepoint:N.SHAREPOINT_CONNECTOR,linear:N.LINEAR_CONNECTOR,teams:N.TEAMS_CONNECTOR,intercom:N.INTERCOM_CONNECTOR,hubspot:N.HUBSPOT_CONNECTOR,salesforce:N.SALESFORCE_CONNECTOR,notion:N.NOTION_CONNECTOR,canva:N.CANVA_CONNECTOR,slack:N.SLACK_CONNECTOR,confluence:N.CONFLUENCE_CONNECTOR,jira:N.JIRA_CONNECTOR,"jira service management":N.JIRA_SERVICEMANAGEMENT_CONNECTOR,slack_codex_connector:N.SLACK_CODEX_CONNECTOR,slack_codex_bot_connector:N.SLACK_CODEX_BOT_CONNECTOR,linear_codex_bot_connector:N.LINEAR_CODEX_BOT_CONNECTOR},Zb=Tt({createLinkSuccess:{id:"KVbj6o",defaultMessage:"{connectorName} is now connected."},createLinkError:{id:"Y6p1d0",defaultMessage:"There was a problem connecting {connectorName}. Try again later."}});function _p(e){switch(e){case N.GOOGLE_CONTACTS_CONNECTOR:return"gcontacts";case N.GMAIL_CONNECTOR:return"gmail";case N.GCAL_CONNECTOR:return"gcal";default:return null}}function lfe(e){switch(e){case"gmail":return N.GMAIL_CONNECTOR;case"gcal":return N.GCAL_CONNECTOR;case"gcontacts":return N.GOOGLE_CONTACTS_CONNECTOR;default:return null}}function rGe(e,t){var n,r,i,s,o;switch(e){case"gmail":return Pt[N.GMAIL_CONNECTOR];case"gcal":return Pt[N.GCAL_CONNECTOR];case"gcontacts":return Pt[N.GOOGLE_CONTACTS_CONNECTOR];case"api_tool":{const a=(i=(r=(n=t==null?void 0:t[t.length-1])==null?void 0:n.metadata)==null?void 0:r.jit_plugin_data)==null?void 0:i.from_server;return(a==null?void 0:a.type)==="oauth_required"?(s=a.body.connector_id)!=null?s:null:(a==null?void 0:a.type)==="link_required"&&(o=a.body.connector_id)!=null?o:null}default:return null}}const ufe={aha_sync_connector:"Aha!",asana_sync_connector:"Asana",azure_devops_sync_connector:"Azure DevOps",basecamp_sync_connector:"Basecamp",box_sync_connector:"Box",dropbox_sync_connector:"Dropbox",github_sync_connector:"GitHub",gdrive_sync_connector:"Google Drive",clickup_sync_connector:"ClickUp",notion_sync_connector:"Notion",slack_sync_connector:"Slack",sharepoint_sync_connector:"SharePoint",sharepoint_admin_sync_connector:"SharePoint",teams_sync_connector:"Microsoft Teams",teams_admin_sync_connector:"Microsoft Teams",linear_sync_connector:"Linear",jira_sync_connector:"Jira",jira_servicemanagement_sync_connector:"Jira Service Management",confluence_sync_connector:"Confluence",intercom_sync_connector:"Intercom",hubspot_sync_connector:"HubSpot",salesforce_sync_connector:"Salesforce",freshdesk_sync_connector:"Freshdesk",freshservice_sync_connector:"Freshservice",front_sync_connector:"Front",gitlab_sync_connector:"GitLab",gorgias_sync_connector:"Gorgias",helpscout_sync_connector:"Help Scout",ironclad_sync_connector:"Ironclad",pipedrive_sync_connector:"Pipedrive",salesforce_service_cloud_sync_connector:"Salesforce Service Cloud",shortcut_sync_connector:"Shortcut",teamwork_sync_connector:"Teamwork",zendesk_sync_connector:"Zendesk",zoho_sync_connector:"Zoho",zoho_desk_sync_connector:"Zoho Desk"},dfe=e=>{var t;return(t=ufe[e.user_connection_details.connection_type])!=null?t:e.connection_display_info.display_name},eL=B(()=>k(()=>import("./kc5mxsu5ebs47oju.js"),__vite__mapDeps([19,1,20,12,3,4])).then(e=>e.ConnectorEmailVerifyModal)),ffe=[ae.Slurm,ae.Research,sA],tL="cloud",o7=e=>[...e.values()].some(r=>r==null?void 0:r.has(tL))?new Map([...e].map(([r,i])=>[r,new Set([...i].filter(s=>s!==tL))])):new Map(e),hfe=e=>{const t=new Map([[void 0,new Set(Object.keys(om))],[ae.Slurm,new Set(Object.keys(om))],[ae.Research,new Set(["web"])],[sA,new Set(["web"])]]);try{const n=pfe(e);n&&n.forEach((r,i)=>{ffe.includes(i)&&t.set(i,new Set(r))})}catch(n){}return t},a7="v1.1",c7=e=>{var n;const t=bn.getItem(zt.SelectedSources,e);if(!t)return{};try{const{version:r,data:i}=JSON.parse(t);if(r!==a7)return bn.removeItem(zt.SelectedSources),{};const s=new Map([...i.selected_sources].map(([a,c])=>[a,new Set(c)])),o=new Map(((n=i.selected_mcp_sources)!=null?n:[]).map(([a,c])=>[a,new Set(c)]));return{selectedSources:s,selectedMCPSources:o}}catch(r){return{}}},pfe=e=>{const t=c7(e).selectedSources;return o7(t!=null?t:new Map)},gfe=e=>c7(e).selectedMCPSources,mfe=e=>{const t=gfe(e);return t&&t.delete(ae.Glaux),t!=null?t:new Map},iGe=({selectedSourcesMap:e,selectedMCPSourcesMap:t,scope:n})=>{if(!e&&!t){bn.removeItem(zt.SelectedSources);return}const r=o7(e!=null?e:new Map),i={selected_sources:[...r!=null?r:new Map].map(([o,a])=>[o,[...a]]),selected_mcp_sources:[...t!=null?t:new Map].map(([o,a])=>[o,[...a]])},s={version:a7,data:i};bn.setItem(zt.SelectedSources,JSON.stringify(s),n)},_fe="placeholder-";function nL(e){return e.startsWith(_fe)}var Mt;const Ba=class Ba{constructor(t){Nt(this,Mt);U(this,"rootId");const n={};let r;for(const i of t)n[i.id]=i,!r&&i.message.author.role===Ke.Root&&(r=i.id);if(!r)throw new Error("Missing root node");Ut(this,Mt,n),this.rootId=r}static emptyTree(){return new Ba([Ba.createRootNode("client-created-root")])}static createNode(t,n,r=[],i){const s=i!=null?i:t.id;if(s===n)throw new Error("createNode: parent.id and node.id cannot be the same: ".concat(s));return{id:s,parentId:n,children:r,message:t}}static createRootNode(t){const n={id:t,author:{role:Ke.Root},content:{content_type:qe.Text,parts:[]}};return Ba.createNode(n,"")}get nodes(){return Object.values(he(this,Mt))}messageIdToNodeId(t){var n;return(n=this.messageIdToExistingNodeId(t))!=null?n:t}messageIdToExistingNodeId(t){var n;if(he(this,Mt)[t]!=null)return t;for(const r of Object.values(he(this,Mt)))if(((n=r.message)==null?void 0:n.id)===t)return l7(r.id,r.message.id),r.id}containsNodeOrMessageId(t){return this.messageIdToExistingNodeId(t)!=null}getNodeByIdOrMessageId(t){const n=this.getNodeIfExists(t);if(n)return n;const r=nL(t);throw Se.logEventWithStatsig("chatgpt_conversation_tree__node_not_found","chatgpt_web_conversation_tree_node_not_found",{rootId:this.rootId,nodeOrMessageId:t,isNodeStartWithPlaceholder:r}),Qn.count(Wn.DEFAULT,"chatgpt_web_conversation_tree_node_not_found",[{key:"isNodeStartWithPlaceholder",value:r?"true":"false"}]),Q.addError(new Error("web client getNodeByIdOrMessageId - no node found by id ".concat(t," isNodeStartWithPlaceholder: ").concat(r))),new Error("getNodeByIdOrMessageId - no node found by id: ".concat(t))}getNodeIfExists(t){const n=this.messageIdToExistingNodeId(t);if(n)return he(this,Mt)[n]}findNode(t,n,r=this.rootId){const i=this.getNodeIfExists(r);let s=this.getNodeIfExists(n);for(;i&&s&&s!==i;){if(t(s))return s;s=this.getNodeIfExists(s.parentId)}}findFirst(t){let n=this.getNodeByIdOrMessageId(this.rootId);for(;n&&n.children.length===1;)if(n=this.getNodeByIdOrMessageId(n.children[0]),t(n))return n}findFirstFromLeaf(t,n){let r,i=this.getNodeByIdOrMessageId(n);for(;i;)t(i)&&(r=i),i=this.getNodeIfExists(i.parentId);return r}findFirstFromLeafToParent(t,n,r){let i,s=this.getNodeByIdOrMessageId(n);for(;s&&(t(s)&&(i=s),s.parentId!==r);)s=this.getNodeIfExists(s.parentId);return i}getLeafFromNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;)n=this.getNodeByIdOrMessageId(n.children[0]);return n}getLeafFromNodeAvoidingPlaceholders(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;){const r=n.children.find(i=>!nL(i));r?n=this.getNodeByIdOrMessageId(r):n=this.getNodeByIdOrMessageId(n.children[0])}return n}getDescendants(t){const n=[],r=[t];for(;r.length>0;){const i=r.shift();if(!i)break;const s=this.getNodeByIdOrMessageId(i);r.push(...s.children),n.push(...s.children)}return n}getParent(t){const n=this.getNodeByIdOrMessageId(t).parentId;return this.getNodeByIdOrMessageId(n)}getBranchFromLeaf(t){let n=[],r=this.getNodeByIdOrMessageId(t);for(;r!=null;){if(n.includes(r)){Q.addError("Infinite loop detected in getBranchFromLeaf. Branch already contains node ".concat(r==null?void 0:r.id,". Parent id: ").concat(r==null?void 0:r.parentId,"."),{branch:n});break}if(n.push(r),r.message.author.role===Ke.Root)break;r=this.getNodeByIdOrMessageId(r.parentId)}return n=n.reverse(),n}addMessageNode(t,n){const r=this.messageIdToNodeId(n.id),i=this.getNodeByIdOrMessageId(t),s=Ba.createNode(n,i.id,[],r);return Ut(this,Mt,mi(he(this,Mt),o=>{o[s.id]=s;const a=o[s.parentId];a.children.includes(s.id)||a.children.push(s.id)})),s.id}prependNode(t,n){const r=this.messageIdToNodeId(n.id),i=this.getNodeByIdOrMessageId(t),s=Ba.createNode(n,i.parentId,[i.id],r);Ut(this,Mt,mi(he(this,Mt),o=>{o[s.id]=s;const a=o[s.parentId];a.children=a.children.filter(l=>l!==i.id),a.children.includes(s.id)||a.children.push(s.id);const c=o[i.id];c.parentId=s.id}))}deleteNode(t){const n=this.getNodeByIdOrMessageId(t);Ut(this,Mt,mi(he(this,Mt),r=>{const i=n.parentId,s=n.children;for(const a of s){const c=r[this.messageIdToNodeId(a)];c.parentId=i}const o=r[this.messageIdToNodeId(i)];if(o==null){console.warn("Cannot deleteNode with nodeId: ".concat(t," - parent not found. Either this is root or in an orphaned branch"));return}o.children=o.children.flatMap(a=>this.messageIdToNodeId(a)===this.messageIdToNodeId(n.id)?s:[a]),delete r[n.id]}))}moveNode(t,n){Ut(this,Mt,mi(he(this,Mt),r=>{const i=this.getDescendants(n);if(i.includes(t)){Q.addError("Cannot moveNode with nodeId: ".concat(n," - new parent is already a descendant."),{parentId:t,descendants:i});return}const s=r[this.messageIdToNodeId(n)],o=r[this.messageIdToNodeId(s.parentId)];if(o==null){console.warn("Cannot moveNode with nodeId: ".concat(n," - old parent not found. Either this is root or in an orphaned branch"));return}o.children=o.children.filter(c=>c!==s.id);const a=r[this.messageIdToNodeId(t)];if(a==null){console.warn("Cannot moveNode with nodeId: ".concat(n," - new parent not found."));return}a.children.includes(s.id)||a.children.push(s.id),s.parentId=t}))}clearNodeMessageParts(t){Ut(this,Mt,mi(he(this,Mt),n=>{const r=n[this.messageIdToNodeId(t)];r&&r.message&&"parts"in r.message.content&&(r.message.content.parts=[])}))}updateNodeMetadata(t,n){Ut(this,Mt,mi(he(this,Mt),r=>{const i=r[this.messageIdToNodeId(t)];i&&(i.message.clientMetadata=S(S({},i==null?void 0:i.message.clientMetadata),n))}))}updateNodeMessage(t,n){Ut(this,Mt,mi(he(this,Mt),r=>{const i=r[this.messageIdToNodeId(t)];if(i){const s=i.message.clientMetadata;i.message=s?I(S({},n),{clientMetadata:s}):n}}))}updateNodeMessageMetadata(t,n){Ut(this,Mt,mi(he(this,Mt),r=>{const i=r[this.messageIdToNodeId(t)];i&&(i.message.metadata=S(S({},i.message.metadata),n))}))}prettyPrint(t=this.rootId,n=0){const r=this.getNodeByIdOrMessageId(t),i=jW(r.message);let s="".concat("	".repeat(n),"->").concat(t," - ").concat(i.replaceAll("\n","\\n"),"\n");const o=r.children.map(a=>this.getNodeByIdOrMessageId(a));for(const a of o)s+=this.prettyPrint(a.id,n+1);return s}};Mt=new WeakMap;let vc=Ba;const rL=new Set;function l7(e,t,n){const r=new Error("Found TreeNode where message.id ".concat(t," != node.id ").concat(e));console.warn(r),rL.has(e)||(rL.add(e),n?Q.addAction("tree_node_id_mismatch_api",{nodeId:e,messageId:t,conversationId:n}):Q.addAction("tree_node_id_mismatch_client",{nodeId:e,messageId:t}))}function vfe(e,t){var a;const n=new Set,r=new Set,i=new Set,s=new Map;return((a=e.moderation_results)!=null?a:[]).forEach(c=>{var l;s.set(c.message_id,c),c.blocked?r.add(c.message_id):c.flagged&&n.add(c.message_id),(l=c.disclaimers)!=null&&l.length&&!c.blocked&&i.add(c.message_id)}),{nodes:Object.values(e.mapping).map(({id:c,parent:l,children:u,message:d})=>{var m,v,y,T,b,C;if(!l)return vc.createRootNode(c);if(!d)throw new Error("Missing message for node ".concat(c));c!==d.id&&l7(c,d.id,t);const f={},h=s.get(d.id);let p=!1;if(r.has(d.id)){const O=(m=h==null?void 0:h.should_disable_conversation)!=null?m:!1,w=(y=(v=h==null?void 0:h.metadata)==null?void 0:v.model_incompatibility)!=null?y:!1,A=(b=(T=h==null?void 0:h.metadata)==null?void 0:T.safety_limited)!=null?b:!1;Object.assign(f,{isSafetyLimited:A}),Object.assign(f,yae({isSafetyLimited:A,shouldDisableConversation:O,isModelIncompatibility:w})),p=!0}else n.has(d.id)&&Object.assign(f,fae);if(i.has(d.id)){const O=s.get(d.id);(C=O==null?void 0:O.disclaimers)!=null&&C.length&&Object.assign(f,vae(O.disclaimers,p))}const g=I(S({},d),{clientMetadata:f});return vc.createNode(g,l,u,c)},{}),initialCurrentLeafId:e.current_node}}var vp={exports:{}},iL;function yfe(){if(iL)return vp.exports;iL=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(C,O,w){return Function.prototype.apply.call(C,O,w)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(b){console&&console.warn&&console.warn(b)}var i=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}vp.exports=s,vp.exports.once=v,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(b){if(typeof b!="number"||b<0||i(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");o=b}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function c(b){return b._maxListeners===void 0?s.defaultMaxListeners:b._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(C){for(var O=[],w=1;w<arguments.length;w++)O.push(arguments[w]);var A=C==="error",x=this._events;if(x!==void 0)A=A&&x.error===void 0;else if(!A)return!1;if(A){var R;if(O.length>0&&(R=O[0]),R instanceof Error)throw R;var P=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw P.context=R,P}var L=x[C];if(L===void 0)return!1;if(typeof L=="function")t(L,this,O);else for(var D=L.length,F=p(L,D),w=0;w<D;++w)t(F[w],this,O);return!0};function l(b,C,O,w){var A,x,R;if(a(O),x=b._events,x===void 0?(x=b._events=Object.create(null),b._eventsCount=0):(x.newListener!==void 0&&(b.emit("newListener",C,O.listener?O.listener:O),x=b._events),R=x[C]),R===void 0)R=x[C]=O,++b._eventsCount;else if(typeof R=="function"?R=x[C]=w?[O,R]:[R,O]:w?R.unshift(O):R.push(O),A=c(b),A>0&&R.length>A&&!R.warned){R.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=b,P.type=C,P.count=R.length,r(P)}return b}s.prototype.addListener=function(C,O){return l(this,C,O,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,O){return l(this,C,O,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(b,C,O){var w={fired:!1,wrapFn:void 0,target:b,type:C,listener:O},A=u.bind(w);return A.listener=O,w.wrapFn=A,A}s.prototype.once=function(C,O){return a(O),this.on(C,d(this,C,O)),this},s.prototype.prependOnceListener=function(C,O){return a(O),this.prependListener(C,d(this,C,O)),this},s.prototype.removeListener=function(C,O){var w,A,x,R,P;if(a(O),A=this._events,A===void 0)return this;if(w=A[C],w===void 0)return this;if(w===O||w.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete A[C],A.removeListener&&this.emit("removeListener",C,w.listener||O));else if(typeof w!="function"){for(x=-1,R=w.length-1;R>=0;R--)if(w[R]===O||w[R].listener===O){P=w[R].listener,x=R;break}if(x<0)return this;x===0?w.shift():g(w,x),w.length===1&&(A[C]=w[0]),A.removeListener!==void 0&&this.emit("removeListener",C,P||O)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var O,w,A;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[C]),this;if(arguments.length===0){var x=Object.keys(w),R;for(A=0;A<x.length;++A)R=x[A],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=w[C],typeof O=="function")this.removeListener(C,O);else if(O!==void 0)for(A=O.length-1;A>=0;A--)this.removeListener(C,O[A]);return this};function f(b,C,O){var w=b._events;if(w===void 0)return[];var A=w[C];return A===void 0?[]:typeof A=="function"?O?[A.listener||A]:[A]:O?m(A):p(A,A.length)}s.prototype.listeners=function(C){return f(this,C,!0)},s.prototype.rawListeners=function(C){return f(this,C,!1)},s.listenerCount=function(b,C){return typeof b.listenerCount=="function"?b.listenerCount(C):h.call(b,C)},s.prototype.listenerCount=h;function h(b){var C=this._events;if(C!==void 0){var O=C[b];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(b,C){for(var O=new Array(C),w=0;w<C;++w)O[w]=b[w];return O}function g(b,C){for(;C+1<b.length;C++)b[C]=b[C+1];b.pop()}function m(b){for(var C=new Array(b.length),O=0;O<C.length;++O)C[O]=b[O].listener||b[O];return C}function v(b,C){return new Promise(function(O,w){function A(R){b.removeListener(C,x),w(R)}function x(){typeof b.removeListener=="function"&&b.removeListener("error",A),O([].slice.call(arguments))}T(b,C,x,{once:!0}),C!=="error"&&y(b,A,{once:!0})})}function y(b,C,O){typeof b.on=="function"&&T(b,"error",C,O)}function T(b,C,O,w){if(typeof b.on=="function")w.once?b.once(C,O):b.on(C,O);else if(typeof b.addEventListener=="function")b.addEventListener(C,function A(x){w.once&&b.removeEventListener(C,A),O(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b)}return vp.exports}var Cfe=yfe();const bfe=Gt(Cfe);class lx{constructor(){U(this,"emitter",new bfe);this.emitter.setMaxListeners(1e3)}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}publish(t){this.emitter.emit(t.kind,t),this.emitter.emit("anyEvent",t)}}const Efe=new lx;function z_(e,t,n=Object.is){if(e===t)return!0;if(typeof e!="object"||e==null||typeof t!="object"||t==null)return n(e,t);if(Array.isArray(e)&&Array.isArray(t)){const i=e.length;if(t.length!==i)return!1;for(let s=0;s<i;s++)if(!n(e[s],t[s]))return!1;return!0}const r=Object.getPrototypeOf(e);if(Object.getPrototypeOf(t)!==r)return!1;if(e instanceof Map){const i=t;if(e.size!==i.size)return!1;for(const[s,o]of e.entries())if(!n(o,i.get(s)))return!1;return!0}if(Symbol.iterator in e&&Symbol.iterator in t){const i=e,o=t[Symbol.iterator]();for(const a of i){const c=o.next();if(c.done||!n(a,c.value))return!1}return o.next().done===!0}if(r===Object.prototype||r==null){const i=e,s=t,o=Object.keys(i),a=o.length;if(Object.keys(s).length!==a)return!1;for(let c=0;c<a;++c){const l=o[c];if(!Object.prototype.hasOwnProperty.call(s,l)||!n(i[l],s[l]))return!1}return!0}return!1}var eE,sL;function Sfe(){if(sL)return eE;sL=1;function e(t){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];o&&(s[i++]=o)}return s}return eE=e,eE}var Ofe=Sfe();const ux=Gt(Ofe),Tfe="text/plain",wfe="us-ascii",tE=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),Afe=new Set(["https:","http:","file:"]),xfe=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!Afe.has(t)}catch(t){return!1}},Ife=(e,{stripHash:t})=>{var d,f;const n=new RegExp("^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$").exec(e);if(!n)throw new Error("Invalid URL: ".concat(e));let{type:r,data:i,hash:s}=n.groups;const o=r.split(";");s=t?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);const c=(f=(d=o.shift())==null?void 0:d.toLowerCase())!=null?f:"",u=[...o.map(h=>{let[p,g=""]=h.split("=").map(m=>m.trim());return p==="charset"&&(g=g.toLowerCase(),g===wfe)?"":"".concat(p).concat(g?"=".concat(g):"")}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||c&&c!==Tfe)&&u.unshift(c),"data:".concat(u.join(";"),",").concat(a?i.trim():i).concat(s?"#".concat(s):"")};function Nfe(e,t){if(t=S({defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0},t),typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol="".concat(t.defaultProtocol,":")),e=e.trim(),/^data:/i.test(e))return Ife(e,t);if(xfe(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){const o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let a=0,c="";for(;;){const u=o.exec(i.pathname);if(!u)break;const d=u[0],f=u.index,h=i.pathname.slice(a,f);c+=h.replace(/\/{2,}/g,"/"),c+=d,a=f+d.length}const l=i.pathname.slice(a,i.pathname.length);c+=l.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname).replace(/\\/g,"%5C")}catch(o){}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/");const a=o[o.length-1];tE(a,t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const o of[...i.searchParams.keys()])tE(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(i.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const o of[...i.searchParams.keys()])tE(o,t.keepQueryParameters)||i.searchParams.delete(o);if(t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch(o){}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,"")),t.removeExplicitPort&&i.port&&(i.port="");const s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}const Rfe={},Pfe=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=f=>{const h=o(f);if(!u(d,h)){const p=d;a(d=h,p)}},c!=null&&c.fireImmediately&&a(d,d)}return i(l)},e(t,n,r)},kfe=Pfe;function Mfe(e,t){let n;try{n=e()}catch(i){return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const hf=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return hf(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return hf(r)(n)}}}},Dfe=(e,t)=>(n,r,i)=>{let s=S({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,v)=>S(S({},v),m)},t),o=!1;const a=new Set,c=new Set;let l;try{l=s.getStorage()}catch(m){}if(!l)return e((...m)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),n(...m)},r,i);const u=hf(s.serialize),d=()=>{const m=s.partialize(S({},r()));let v;const y=u({state:m,version:s.version}).then(T=>l.setItem(s.name,T)).catch(T=>{v=T});if(v)throw v;return y},f=i.setState;i.setState=(m,v)=>{f(m,v),d()};const h=e((...m)=>{n(...m),d()},r,i);let p;const g=()=>{var m;if(!l)return;o=!1,a.forEach(y=>y(r()));const v=((m=s.onRehydrateStorage)==null?void 0:m.call(s,r()))||void 0;return hf(l.getItem.bind(l))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var T;return p=s.merge(y,(T=r())!=null?T:h),n(p,!0),d()}).then(()=>{v==null||v(p,void 0),o=!0,c.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return i.persist={setOptions:m=>{s=S(S({},s),m),m.getStorage&&(l=m.getStorage())},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},g(),p||h},Lfe=(e,t)=>(n,r,i)=>{let s=S({storage:Mfe(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>S(S({},m),g)},t),o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return e((...g)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),n(...g)},r,i);const u=()=>{const g=s.partialize(S({},r()));return l.setItem(s.name,{state:g,version:s.version})},d=i.setState;i.setState=(g,m)=>{d(g,m),u()};const f=e((...g)=>{n(...g),u()},r,i);i.getInitialState=()=>f;let h;const p=()=>{var g,m;if(!l)return;o=!1,a.forEach(y=>{var T;return y((T=r())!=null?T:f)});const v=((m=s.onRehydrateStorage)==null?void 0:m.call(s,(g=r())!=null?g:f))||void 0;return hf(l.getItem.bind(l))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var T;return h=s.merge(y,(T=r())!=null?T:f),n(h,!0),u()}).then(()=>{v==null||v(h,void 0),h=r(),o=!0,c.forEach(y=>y(h))}).catch(y=>{v==null||v(void 0,y)})};return i.persist={setOptions:g=>{s=S(S({},s),g),g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},s.skipHydration||p(),h||f},jfe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Rfe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Dfe(e,t)):Lfe(e,t),Ffe=jfe;function u7(e,t){var n,r;return(r=(n=e.findNode(i=>d7(i,t),t))==null?void 0:n.children)!=null?r:Bfe}function Ufe(e,t){return u7(e,t).find(n=>{var r;return n===t||n===((r=e.findNode(i=>i.id===n||d7(i,t),t))==null?void 0:r.id)})}function d7(e,t){return e.id!==t&&(e.children.length>1||!Tu(e.message))}const Bfe=Object.freeze([]);function Gfe(){return"".concat(rA).concat(fr())}let Wfe=0;function sGe(){return Wfe++}function mh(e){return e.startsWith(rA)}const f7=()=>vc.emptyTree(),qfe=new Set(Object.keys(Ii)),h7=e=>{var n;const t=(n=e==null?void 0:e.metadata)==null?void 0:n.system_hints;return t!=null&&t.length?t.some(r=>typeof r=="string"&&qfe.has(r)):!1},p7=e=>e.nodes.some(t=>h7(t.message)),Vfe=Object.freeze({});var $fe=(e=>(e.NewChat="NewChat",e.Server="Server",e.User="User",e.Generated="Generated",e.Unknown="Unknown",e))($fe||{});const pi={};function Hfe(e,t){pi[e]&&(clearTimeout(pi[e]),delete pi[e]);const n=3e4;pi[e]=setTimeout(()=>{var s;const r=Qi();if(r.threads[e]==null){clearTimeout(pi[e]),delete pi[e];return}if(((s=r.threadRetainCounts[e])!=null?s:0)>0){clearTimeout(pi[e]),delete pi[e];return}g7.deleteThread(e),clearTimeout(pi[e]),delete pi[e]},n)}function zfe(e){return e}const Yfe=zfe,_h=ir(Yfe(vu(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}})))),Qi=_h.getState,Na=_h.setState;function dx(e,t=Qi()){return mh(e)?t.clientNewThreadIdToServerIdMapping[e]:e}function oGe(e,t=Qi()){var r;const n=(r=Object.entries(t.clientNewThreadIdToServerIdMapping).find(([i,s])=>s===e))==null?void 0:r[0];return n!=null?n:e}const aGe=e=>_h(t=>e?dx(e,t):void 0);function d1(e,t=Qi()){var n;return(n=t.clientNewThreadIdToServerIdMapping[e])!=null?n:e}function vh(e,t=Qi()){const n=d1(e,t);return t.threads[n]}function Kfe(e,t){const n=E.useRef(void 0);return E.useMemo(()=>[],[t.clientThreadId]),r=>{const i=e(r);return z_(n.current,i)||(n.current=i),n.current}}function yh(e,t,n){return _h(Kfe(r=>t(e&&vh(e,r)),{disablePerfDetector:(n==null?void 0:n.disablePerfDetector)===!0,clientThreadId:e}))}function yl(e,t){Na(n=>{const r=vh(e,n);r&&t(r)})}const Jfe=["utm_source"],oL=e=>{try{return Nfe(e,{stripWWW:!1,removeTrailingSlash:!0,sortQueryParameters:!0,removeQueryParameters:Jfe})}catch(t){return e}},Xfe=e=>{var t;return((t=e==null?void 0:e.search_result_groups)!=null?t:[]).flatMap(n=>{var r;return(r=n.entries)!=null?r:[]}).map(n=>n==null?void 0:n.url)},Me={getGizmoId:e=>(e==null?void 0:e.mode.kind)===zs.GizmoInteraction||(e==null?void 0:e.mode.kind)===zs.GizmoTest?e.mode.gizmo_id:void 0,getTree:e=>{var t;return(t=e==null?void 0:e.tree)!=null?t:f7()},getBranch:(e,t=Me.getCurrentLeafId(e))=>{var n;return(n=e==null?void 0:e.tree.getBranchFromLeaf(t))!=null?n:[]},getThreadTitleSource:e=>{var t;return(t=e==null?void 0:e.titleSource)!=null?t:"Unknown"},getThreadCreateTime:e=>e==null?void 0:e.createTime,getIsNewConversation:e=>Me.getCurrentLeafId(e)===Me.getTree(e).rootId,getCurrentLeafId:e=>{var t;return(t=e==null?void 0:e.currentLeafId)!=null?t:Me.getTree(e).rootId},getCurrentNode:e=>Me.getNode(e,Me.getCurrentLeafId(e)),getNode:(e,t)=>Me.getTree(e).getNodeByIdOrMessageId(t),getParentNode:(e,t)=>Me.getTree(e).getParent(t),getParentPromptNode:(e,t=Me.getCurrentLeafId(e))=>Me.findNode(e,n=>RW(n.message),t),getAsyncTurns:e=>{var t;return(t=e==null?void 0:e.asyncTurns)!=null?t:Vfe},isThreadUrlSafe:(e,t)=>{var n;return(n=e==null?void 0:e.safeUrls.map(r=>oL(r)).includes(oL(t)))!=null?n:!1},getTurnContentReferences:(e,t)=>{var n;return ux((n=Me.getConversationTurnAtIndex(e,t).messages.flatMap(Zfe))!=null?n:[])},isArchived:e=>{var t;return(t=e==null?void 0:e.isArchived)!=null?t:!1},isStarred:e=>{var t;return(t=e==null?void 0:e.isStarred)!=null?t:!1},shouldRefetchConvoOnFinalize:e=>{var t;return(t=e==null?void 0:e.shouldRefetchConvoOnFinalize)!=null?t:!1},getUpdateTime:e=>{var t;return(t=e==null?void 0:e.update_time)!=null?t:e!=null&&e.createTime?e.createTime.getTime()/1e3:null},hasUserMessage:e=>Me.findNode(e,t=>ja(t.message))!=null,lastUserMessage:e=>{var t,n;return(n=(t=Me.findNode(e,r=>ja(r.message)))==null?void 0:t.message)!=null?n:null},firstUserMessage:e=>{var t,n;return(n=(t=Me.findFirstFromLeaf(e,r=>ja(r.message)))==null?void 0:t.message)!=null?n:null},isLastActorMessage:(e,t)=>Me.getTree(e).findNode(n=>n.message.author.role===Ke.Assistant||n.message.author.role===Ke.User||n.message.author.role===Ke.Tool&&n.message.author.name===jd.A8KM123,Me.getCurrentLeafId(e),t)==null,findNode:(e,t,n=Me.getCurrentLeafId(e))=>Me.getTree(e).findNode(t,n),findFirstFromLeaf(e,t,n=Me.getCurrentLeafId(e)){return Me.getTree(e).findFirstFromLeaf(t,n)},isMessageTurnEnded:(e,t=Me.getCurrentLeafId(e))=>{var n;return(n=e==null?void 0:e.tree.getNodeByIdOrMessageId(t).message.end_turn)!=null?n:!1},getConversationTurns:(e,t=Me.getCurrentLeafId(e))=>BA(Me.getTree(e),t),getConversationTurnIds:e=>Qfe(Me.getConversationTurns(e)),getConversationTurnAtIndex:(e,t,n=Me.getCurrentLeafId(e))=>{const r=Me.getConversationTurns(e,n);if(t>=r.length)throw new Error("Turn index ".concat(t," out of bounds"));return r[t]},getConversationLastTurn:(e,t=Me.getCurrentLeafId(e))=>Us(Me.getConversationTurns(e,t)),getConversationSearchEntryUrls:(e,t=Me.getCurrentLeafId(e))=>Me.getConversationTurns(e,t).flatMap(n=>n.messages).flatMap(n=>Xfe(n==null?void 0:n.metadata)),getConversationTurnIndex:(e,t=Me.getCurrentLeafId(e))=>Me.getConversationTurns(e).findIndex(r=>r.messages.some(i=>i.id===t)),hasUserContextPrompt:e=>{var t;return Me.getTree(e).findFirst(n=>{var r;return((r=n.message.metadata)==null?void 0:r.is_user_system_message)!=null})!=null||((t=e==null?void 0:e.sharedConversationMetadata)==null?void 0:t.hasUserEditableContextFlag)!=null},hasModelEditableContext:e=>Me.findNode(e,t=>t.message.content.content_type==="model_editable_context")!=null,hasRecentPIMWarning:e=>{var n;const t=e==null?void 0:e.tree.getBranchFromLeaf(e.currentLeafId);if(!t)return!1;for(let r=t.length-1;r>=0;r--){if(t[r].message.author.role===Ke.User)return!1;if((n=t[r].message.metadata)!=null&&n.is_pim_warning)return!0}return!1},getRequestId:(e,t=Me.getCurrentLeafId(e))=>{var n,r;return(r=(n=Me.findNode(e,i=>{var s;return((s=i.message.clientMetadata)==null?void 0:s.requestId)!=null},t))==null?void 0:n.message.clientMetadata)==null?void 0:r.requestId},getLastMessageSystemHints:e=>{var n,r;const t=Me.findNode(e,i=>ja(i.message));return(r=(n=t==null?void 0:t.message.metadata)==null?void 0:n.system_hints)!=null?r:[]},getVariantIds:(e,t=Me.getCurrentLeafId(e))=>u7(Me.getTree(e),t),getCurrentVariantId:(e,t=Me.getCurrentLeafId(e))=>Ufe(Me.getTree(e),t),getIsDoNotRemember:e=>{var t;return(t=e==null?void 0:e.is_do_not_remember)!=null?t:!1},getSuperWidgetMessages:(e,t)=>(t!=null?Me.getConversationTurnAtIndex(e,t).messages:Me.getConversationTurns(e).flatMap(r=>r.messages)).filter(r=>r.content.content_type==="super_widget"),getLastAssistantMessage:e=>Me.getConversationTurns(e).flatMap(t=>t.messages).filter(t=>t.author.role===Ke.Assistant).at(-1),getUserMessages:e=>Me.getConversationTurns(e).flatMap(t=>t.messages).filter(ja),isReasoningResponseMessage:(e,t)=>{var r;const n=(r=Me.getParentNode(e,t))==null?void 0:r.message;return n!=null&&FA(n)},getSteeringAsyncTaskId:e=>{var t;return(t=e==null?void 0:e.steeringAsyncTaskId)!=null?t:null},findAsyncTaskMetadataNode:(e,t)=>{if(t){const n=Me.findNode(e,r=>{const i=r.message.metadata;return(i==null?void 0:i.b1de6e2_s)===!0&&(i==null?void 0:i.async_task_id)===t||r.message.author.name===jd.A8KM123&&(i==null?void 0:i.async_task_id)===t});if(n)return n}return Me.findNode(e,n=>{const r=n.message.metadata;return(r==null?void 0:r.b1de6e2_s)===!0||n.message.author.name===jd.A8KM123&&(r==null?void 0:r.async_task_id)!=null})},hasContinuedFromAsyncTask:(e,t,n)=>{var s,o;const r=(o=(s=Me.findFirstFromLeaf(e,a=>{var c;return((c=a.message.metadata)==null?void 0:c.async_task_id)===n}))==null?void 0:s.message)!=null?o:null;return r?Me.getTree(e).findFirstFromLeafToParent(a=>em(a.message)&&a.message.id!==t,t,r.id)!=null:!1},getIsReadOnly:e=>{var t;return(t=e==null?void 0:e.isReadOnly)!=null?t:!1}};let aL=0,cL,lL=[];function Qfe(e){var r;const t=e.length,n=(r=Us(e))==null?void 0:r.id;return(aL!==t||cL!==n)&&(aL=t,cL=n,lL=e.map(i=>i.id)),lL}const nE={updateTree(e,t){const n=t(e.tree,Me.getCurrentLeafId(e));e._treeVersion++,n&&(e.currentLeafId=n),!e.hasIKConvo&&p7(e.tree)&&(e.hasIKConvo=!0)},setCurrentBranch(e,t){nE.updateTree(e,n=>n.getLeafFromNode(t).id)},appendMessage(e,t){nE.updateTree(e,(n,r)=>n.addMessageNode(r,t)),!e.hasIKConvo&&h7(t)&&(e.hasIKConvo=!0)},setShouldRefetchConvoOnFinalize(e,t){e.shouldRefetchConvoOnFinalize=t},setRequestIdOnCurrentLeaf(e,t){nE.updateTree(e,(n,r)=>{n.updateNodeMetadata(r,{requestId:t})})}},g7={initThread:({clientThreadId:e,conversationMode:t,userId:n=void 0,accountId:r=void 0,disableConversationNavigation:i=void 0,skipFollowupMcpCheck:s=void 0,pulseCardId:o=void 0})=>{const a=d1(e);Qi().threads[a]==null&&Na(c=>{const l=vc.emptyTree();c.threads[a]={disableConversationNavigation:i,createTime:new Date,isArchived:!1,isStarred:!1,shouldRefetchConvoOnFinalize:!1,mode:EM(t),contextScopes:null,defaultModelId:null,tree:l,_treeVersion:0,title:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,stopConduitToken:null,titleSource:"NewChat",currentLeafId:l.rootId,safeUrls:[],selectedSources:hfe({userId:n,workspaceId:r}),selectedMCPSources:mfe({userId:n,workspaceId:r}),startedWithByoMcp:void 0,hasRemovedWebSource:!1,hasModifiedSources:!1,isLoading:!mh(a),docsReferencedByURL:{},hasIKConvo:!1,conversationOrigin:null,selectedGithubRepos:new Map,hasModifiedGithubRepos:!1,disabledToolIds:null,is_do_not_remember:!1,prepareRequestBlocked:!1,lastCompletionFinishedTimestamp:null,interruptionInProgress:!1,asyncTurns:{},skipFollowupMcpCheck:s!=null?s:!1,steeringAsyncTaskId:null,isReadOnly:!1,pulseCardId:o!=null?o:null}})},setServerIdForNewThread:(e,t)=>{Qi().clientNewThreadIdToServerIdMapping[e]===void 0&&Na(n=>{n.threads[t]=n.threads[e],delete n.threads[e],n.clientNewThreadIdToServerIdMapping[e]=t})},updateThreadFromServer:(e,t,n={})=>{var T,b,C,O,w,A,x,R,P,L,D,F,G,Y;const r=d1(e),{skipIfExisting:i,continuingFromSharedConversationId:s,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwnerId:a,continuingFromSharedPostId:c,forkFromSharedPost:l,branchingFromConversationId:u,branchingFromMessageId:d}=n;if(i&&((T=Qi().threads[r])==null?void 0:T.isLoading)===!1)return;const f=vfe(t,r),h=new vc(f.nodes),p=(b=f.initialCurrentLeafId)!=null?b:h.rootId,g="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&t.model!=null?GW(t.model):void 0}:void 0;let m;for(const V of h.getBranchFromLeaf(p)){const M=V.message;if(!(M.author.role!==Ke.User&&((C=M.metadata)==null?void 0:C.invoked_resource)===void 0)&&(((O=M.metadata)==null?void 0:O.invoked_resource)!==void 0||((x=(A=(w=M.metadata)==null?void 0:w.selected_sources)==null?void 0:A.length)!=null?x:0)>0||((L=(P=(R=M.metadata)==null?void 0:R.selected_mcp_sources)==null?void 0:P.length)!=null?L:0)>0)){m=((F=(D=M.metadata)==null?void 0:D.selected_mcp_sources)!=null?F:[]).some($=>$.status==="ONLY_ME")||((Y=(G=M.metadata)==null?void 0:G.invoked_resource)==null?void 0:Y.publish_status)==="private";break}}const v=t.context_scopes,y=v&&v.length>0?Array.from(v):void 0;Na(V=>{var te,$,ie,ue,me,J,K,ne,X,ee,ye,de,oe,Ee,Ae,He,Re,_e,pe,j,Qe,Pe,fe;const M=V.threads[r];V.threads[r]={createTime:"create_time"in t?new Date(t.create_time*1e3):void 0,isArchived:(te=t.is_archived)!=null?te:!1,isStarred:($=t.is_starred)!=null?$:!1,shouldRefetchConvoOnFinalize:(ie=M==null?void 0:M.shouldRefetchConvoOnFinalize)!=null?ie:!1,is_do_not_remember:(ue=t.is_do_not_remember)!=null?ue:!1,selectedSources:M!=null&&M.hasModifiedSources?M.selectedSources:new Map,selectedMCPSources:M!=null&&M.hasModifiedSources?M.selectedMCPSources:new Map,mentionedSources:M==null?void 0:M.mentionedSources,selectedGithubRepos:(me=M==null?void 0:M.selectedGithubRepos)!=null?me:new Map,hasModifiedGithubRepos:(J=M==null?void 0:M.hasModifiedGithubRepos)!=null?J:!1,defaultModelId:(ne=(K=t.default_model_slug)!=null?K:M==null?void 0:M.defaultModelId)!=null?ne:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,stopConduitToken:null,mode:t.gizmo_id!=null?{kind:zs.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:zs.PrimaryAssistant},contextScopes:(X=y!=null?y:M==null?void 0:M.contextScopes)!=null?X:null,sharedConversationMetadata:EM(g),title:(ee=t.title)!=null?ee:null,titleSource:"Server",tree:h,_treeVersion:0,currentLeafId:p,isLoading:!1,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwner:(()=>{var ke,tt,nt,rt;const ge=M==null?void 0:M.sharedProjectConversationOwner,Le=(tt=a!=null?a:(ke=t==null?void 0:t.owner)==null?void 0:ke.user_id)!=null?tt:ge==null?void 0:ge.id,se=(rt=(nt=t==null?void 0:t.owner)==null?void 0:nt.name)!=null?rt:ge==null?void 0:ge.name;return Le!=null||se!=null?{id:Le,name:se}:void 0})(),continuingFromSharedConversationId:s,continuingFromSharedPostId:c,forkFromSharedPost:l,continuingSharedConversationLastMessageId:(s!=null||c!=null||l)&&!u?p:void 0,branchingFromConversationId:u,branchingFromMessageId:d,safeUrls:(ye=t.safe_urls)!=null?ye:[],hasRemovedWebSource:(de=M==null?void 0:M.hasRemovedWebSource)!=null?de:!1,hasModifiedSources:(oe=M==null?void 0:M.hasModifiedSources)!=null?oe:!1,docsReferencedByURL:(Ee=M==null?void 0:M.docsReferencedByURL)!=null?Ee:{},hasIKConvo:p7(h),conversationOrigin:(He=(Ae=M==null?void 0:M.conversationOrigin)!=null?Ae:t.conversation_origin)!=null?He:null,disabledToolIds:(Re=t.disabled_tool_ids)!=null?Re:[],update_time:(_e=t.update_time)!=null?_e:null,scrollToMessageId:M==null?void 0:M.scrollToMessageId,scrollToMessageIsAssistant:M==null?void 0:M.scrollToMessageIsAssistant,prepareRequestBlocked:(pe=M==null?void 0:M.prepareRequestBlocked)!=null?pe:!1,lastCompletionFinishedTimestamp:(j=M==null?void 0:M.lastCompletionFinishedTimestamp)!=null?j:null,interruptionInProgress:!1,asyncTurns:{},pulseCardId:(Qe=t.sugar_item_id)!=null?Qe:null,steeringAsyncTaskId:(Pe=M==null?void 0:M.steeringAsyncTaskId)!=null?Pe:null,startedWithByoMcp:(M==null?void 0:M.startedWithByoMcp)||m,isReadOnly:(fe=t.is_read_only)!=null?fe:!1}}),Efe.publish({kind:"createConversation",clientThreadId:e})},deleteThread:e=>{Na(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{Na(t=>{var n;t.threadRetainCounts[e]=((n=t.threadRetainCounts[e])!=null?n:0)+1}),clearTimeout(pi[e])},releaseThread:e=>{Qi().threads[e]!=null&&(Na(t=>{var n;t.threadRetainCounts[e]=Math.max(((n=t.threadRetainCounts[e])!=null?n:0)-1,0)}),!(Qi().threadRetainCounts[e]>0)&&Hfe(e))},resetThread:e=>{yl(e,t=>{t.tree=f7(),t.currentLeafId=t.tree.rootId})}};function cGe(e){yl(e,t=>{t.steeringAsyncTaskId=null})}const lGe=e=>{const t=ice();return yh(e,n=>n?Me.getGizmoId(n):t)};function uGe({clientThreadId:e}){return yh(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>{var i;return((i=r.message.clientMetadata)==null?void 0:i.errCode)===dh.ContentPolicy&&r.message.clientMetadata.shouldDisableConversation}):!1})}function dGe({clientThreadId:e}){return yh(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>{var i;return((i=r.message.clientMetadata)==null?void 0:i.errCode)===dh.ContentPolicy&&r.message.clientMetadata.isSafetyLimited}):!1})}const fGe=e=>{var t,n;return(n=(t=e==null?void 0:e.metadata)==null?void 0:t.search_result_groups)!=null?n:[]},Zfe=e=>{var t,n;return(n=(t=e==null?void 0:e.metadata)==null?void 0:t.content_references)!=null?n:[]},hGe=e=>{var n,r;const t=(r=(n=e==null?void 0:e.metadata)==null?void 0:n.search_model_queries)==null?void 0:r.queries;return Array.isArray(t)?t:[]},Y_="kaur1br5",m7="".concat(Y_,"_context");function ehe(e){const t=vh(e);if(!t)return;const n=Me.getConversationTurns(t).flatMap(r=>r.messages);for(let r=n.length-1;r>=0;r--){const i=n[r];if(i.author.role===Ke.Tool&&i.author.name===m7)return i}}function uL(e){var n,r;const t=e.metadata;return{content:e.content,attachments:(n=t==null?void 0:t.attachments)!=null?n:[],browserContext:t==null?void 0:t[Y_],exclusiveKey:(r=t==null?void 0:t.exclusive_key)!=null?r:void 0}}function the(e,t){return MA(uL(e),uL(t))}const dL=9e4;class nhe extends Error{constructor(n){super("sidebar whisper timed out after ".concat(n,"ms"));U(this,"timeoutMs");this.name="SidebarWhisperTimeoutError",this.timeoutMs=n}}const rhe="unqfp8es";let as;Hn()&&x_().then(e=>as=e).catch(()=>{});function Jo(){return as==null?void 0:as.getHost()}function _7(){"use forget";const e=H.c(3),[t,n]=E.useState(she);let r,i;return e[0]!==t?(r=()=>{if(t||!Hn())return;let s=!0;return x_().then(o=>{s&&n(o.getHost())}).catch(ihe),()=>{s=!1}},i=[t],e[0]=t,e[1]=r,e[2]=i):(r=e[1],i=e[2]),E.useEffect(r,i),t}function ihe(){}function she(){return Jo()}function pGe(){return as==null?void 0:as.getLinkHandler()}function gGe(){return as==null?void 0:as.getProductEventHandler()}function v7(e){return(e==null?void 0:e.includes(ae.Agent))===!0}async function mGe(e,t,n,r){const i=await x_();return await new Promise((s,o)=>{const a=setTimeout(()=>o(new nhe(dL)),dL);ohe(e,t,n,r,i).then(c=>{clearTimeout(a),s(c)}).catch(c=>{clearTimeout(a),o(c)})})}async function ohe(e,t,n,r,i){if(v7(n))return;const s=await i.getSidebarWhisperContent();if(!s)throw new Error("Client didn't return whisper content");return await C7(s,y7(e==null?void 0:e.url),e,t,n,r)}function ahe(e,t){return e.map(n=>S({id:n.fileid,name:n.name,size:n.size,mime_type:n.mimetype,source:"aura_tab_context"},t&&{[Y_]:{source:{url:t.url,host:t.url?new URL(t.url).hostname:void 0,title:t.title}}}))}function y7(e){if(e)try{const t=new URL(e);return t.search="",t.hash="","".concat(rhe," - ").concat(t.toString())}catch(t){return}}function che(e,t){const n=[];t!=null&&t.length&&n.push(...t);const r="-",i={content_type:"app_pairing_content",workspaces:[{id:r,content_type:"browser_window"}],context_parts:e.map(s=>{var o,a,c;return{content:(o=s.content)!=null?o:void 0,url:(a=s.url)!=null?a:void 0,title:(c=s.title)!=null?c:void 0,workspace_id:r,content_type:"browser_text"}}),custom_instructions:null};return n.push(i),{content_type:qe.MultimodalText,parts:n}}function lhe(e,t){if(t.length>0){const n=e;return{content_type:qe.MultimodalText,parts:[...t,n]}}return{content_type:qe.Text,parts:[e]}}async function C7(e,t,n,r,i,s){if(v7(i))return;const{imageAssetPointers:o,content:a,files:c,embeddedDocumentContexts:l,customInstructions:u}=e,d=l!=null?l:[],f=d.length>0;if(!a&&!f)throw new Error("Whisper content is missing content");const h=a!=null?a:"",p=(o!=null?o:[]).map(b=>({content_type:Bn.ImageAssetPointer,asset_pointer:b.assetPointer,size_bytes:b.sizeBytes,width:b.width,height:b.height})),g=f?che(d,p):lhe(h,p),m=d.reduce((b,C)=>{var O,w;return b+((w=(O=C.content)==null?void 0:O.length)!=null?w:0)},0);Qn.hist(Wn.DEFAULT,"aura-tab-context.web-whisper-content",{hasDocumentContent:f?"true":"false",hasAttachments:c&&c.length>0?"true":"false",hasImages:p.length>0?"true":"false"},m);const v=S(I(S({is_visually_hidden_from_conversation:!0},t&&{exclusive_key:t}),{attachments:ahe(c!=null?c:[],n)}),await uhe(n,r,"context",i)),y={id:fr(),author:{role:Ke.Tool,name:m7},create_time:Date.now()/1e3,content:g,recipient:"all",metadata:v};if(s){const b=ehe(s);if(b&&the(b,y)){$l.debug("Sidechat Context:Skipping duplicate context tool message",{clientThreadId:s,duplicateMessageId:b.id});return}else $l.debug("Sidechat Context: Adding tool message",{clientThreadId:s,messageId:y.id})}const T=[y];if(u&&u.trim().length>0&&T.push({id:fr(),author:{role:Ke.Developer},recipient:"all",create_time:Date.now()/1e3,content:{content_type:qe.Text,parts:[u]},metadata:S({is_visually_hidden_from_conversation:!0},t&&{exclusive_key:"".concat(t,"-instructions")})}),T.length!==0)return T}async function _Ge(e,t,n,r){if(!(!e||!Hn()||!Xr.whisperContent))return await C7(Xr.whisperContent,y7(e.url),e,t,n,r)}async function uhe(e,t,n,r){const i=(r==null?void 0:r.includes(ae.Agent))===!0;let s,o;if(!i&&(e!=null&&e.selection)){const u=e.selection;o=aoe(u),s=u.length>1e3?u.substring(0,1e3):u}let a;try{const u=Jo();u&&(a=await u.getClientID())}catch(u){}let c;try{const u=Jo();u&&(c=await u.getClientCapabilityVersion())}catch(u){}const l=I(S({origin:t,type:n,client_id:a,client_capability_version:c},(e==null?void 0:e.blocked)===!0?{client_bl_active:!0}:{}),{sources:e?[S(S({id:e.id,url:e.url,host:new URL(e.url).hostname,title:e.title},s&&{selection:s,selection_word_count:o}),e.base64favicon&&{base64favicon:e.base64favicon})]:[]});return{[Y_]:l}}const b7="fetchAccounts";async function E7({accessToken:e,eventPrefix:t=b7,acceptWorkspaceId:n}){try{await Z.safePost("/accounts/{account_id}/invites/accept",{parameters:{path:{account_id:n}},accessToken:e,authOption:en.SendIfAvailable}),De.deleteCookie(Te.AcceptAccountId),Q.addAction("".concat(t,".accept_invite.success"),{acceptWorkspaceId:n})}catch(r){Q.addAction("".concat(t,".accept_invite.error"),{acceptWorkspaceId:n,error:r instanceof Error?r.message:String(r)})}}function dhe({accessToken:e,eventPrefix:t=b7}={}){const n=De.getCookie(Te.AcceptAccountId);if(n)return E7({accessToken:e,eventPrefix:t,acceptWorkspaceId:n})}const fhe=Be(()=>we(!1));function fx(e){var t;return(t=e==null?void 0:e.startsWith("referrals"))!=null?t:!1}function vGe(){const{hash:e}=Jt(),t=fx(e.slice(1)),[n]=wc(),r=n.get("program");return{isOpen:t,program:r}}function yGe(){const{hash:e}=Jt(),t=fx(e.slice(1)),[n]=wc(),r=n.get("code");return{isOpen:t,referralCode:r}}function hhe(){const{hash:e}=Jt();return fx(e.slice(1))}const phe=E.createContext({postWithProfile:null,setIsReportModalOpen:e=>{}});function ghe(){"use forget";const e=E.useContext(phe);return!!(e!=null&&e.postWithProfile)}Te.IntercomDeviceIdProd;function mhe(){return _he()}function _he(){var e;return(e=De.getBooleanCookie(Te.HasLoggedInBefore))!=null?e:!1}const S7="has-dismissed-login-modal",CGe=()=>{"use forget";const e=H.c(16),t=re(),[n,r]=E.useState(bhe),i=hhe();let s;e[0]!==t?(s=St(t),e[0]=t,e[1]=s):s=e[1];const o=!s;let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=mhe(),e[2]=a):a=e[2];const c=a,l=ghe();let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=Hn(),e[3]=u):u=e[3];const d=u;let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{r(!0),sessionStorage.setItem(S7,"true")},e[4]=f):f=e[4];const h=f;let p;if(e[5]!==t?(p=()=>fhe(t),e[5]=t,e[6]=p):p=e[6],Fe(p)){let y;return e[7]===Symbol.for("react.memo_cache_sentinel")?(y={isOpen:!1},e[7]=y):y=e[7],y}let m;e[8]!==t||e[9]!==n||e[10]!==l||e[11]!==i||e[12]!==o?(m=o&&!n&&c&&!i&&!l&&!d&&!Che()&&vhe(t),e[8]=t,e[9]=n,e[10]=l,e[11]=i,e[12]=o,e[13]=m):m=e[13];let v;return e[14]!==m?(v={isOpen:m,onClose:h},e[14]=m,e[15]=v):v=e[15],v},vhe=e=>!fu()||O7(e),yhe=e=>!fu()||O7(e),O7=e=>un(e,"3233347819").get("enable_login_modal_for_mobile",!1),bGe=e=>un(e,"3233347819").get("is_login_spinner_enabled",!1),EGe=e=>un(e,"3233347819").get("is_login_modal_spinner_enabled",!1),Che=()=>document.referrer===""?!1:new URL(document.referrer).pathname.startsWith("/auth/logout");function bhe(){return sessionStorage.getItem(S7)!=null}const Ehe=Xw.OpenAISidetron;function She(e){if(xt(e).isElectron)return Ehe}function Ohe(e,t){const n=She(e);return n!=null?n:Xw.OpenAI}async function The(e,{fallbackScreenHint:t="login_or_signup",useFallbackScreenHint:n=!1,callbackUrl:r=window.location.href,additionalAuthParams:i={},callback:s,shouldOpenPaymentModalOnAuth:o=!1,skipLoginModal:a=!0,loginModalSubtitleVariant:c}={}){const l=Ohe(e,new URL(window.location.href).searchParams),u=un(e,"2667897829"),d=xt(e).isBusinessIp2===!0,f=i!=null&&Object.entries(i).length>0,h=r!=null&&r!==window.location.href;if(d&&t==="signup"&&!n&&!o&&!f&&!h&&u.get("enabled_business_ip_targeting",!1)){s==null||s(l);try{await fL(e)}catch(C){}const b=new URL(window.location.href);b.pathname="/team-sign-up",window.location.assign(b.toString());return}let g=t;!n&&g!=="login_or_signup"&&un(e,"1803944755").get("enable_unified_login_or_signup_start_page_at_chatgpt_web",!1)&&(g="login_or_signup"),o&&De.setBooleanCookie(Te.ShowPaymentModal,!0,{maxAge:360*60});const m=fr();De.setCookie(Te.AuthSessionLoggingId,m),s==null||s(l);const{login_hint:v,connection:y}=i;if(!yhe(e)||a||v||y){try{await fL(e)}catch(b){}return CB.signIn(l,{callbackUrl:r},S(I(S({prompt:"login",screen_hint:g},Jg(ri())),{[Bg]:m}),i))}Di(e,JG,{callbackUrl:r,authorizationParams:S(I(S({},Jg(ri())),{[Bg]:m}),i),subtitleVariant:c})}async function fL(e,t=1e3){const n=hr(e);await Promise.race([n.flush(),new Promise(r=>setTimeout(r,t))])}const whe=be.FREE,Ahe=kd.OWNER;function T7(e){return Date.parse(e)/1e3}function ll(e){if(e==null)return;const t=T7(e);if(!isNaN(t))return t}class xhe{constructor(t){this.data=t}get id(){return this.data.id}get residencyRegion(){return this.data.residencyRegion}get computeResidency(){return this.data.computeResidency}get computeResidencyDisplayName(){return this.data.computeResidencyDisplayName}get computeResidencyDescription(){return this.data.computeResidencyDescription}get isHipaaCompliantWorkspace(){var t;return(t=this.data.isHipaaCompliantWorkspace)!=null?t:!1}get structure(){return this.data.structure}get workspaceType(){return this.data.workspaceType}get eligibleForReactivation(){return this.data.eligibleForReactivation}get organizationId(){return this.data.organizationId}get name(){return this.data.name}get features(){return this.data.features}get eligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}getEligiblePromoCampaign(t){var n;return(n=this.eligiblePromoCampaigns)==null?void 0:n[t]}getEligiblePromoCampaignId(t){var n;return(n=this.getEligiblePromoCampaign(t))==null?void 0:n.id}isEligibleForPlanPromo(t){return!!this.getEligiblePromoCampaignId(t)}isEqual(t){return MA(this.data,t.data)}get planType(){return this.data.subscriptionStatus.planType}get canAccessWithCurrentSession(){return this.data.canAccessWithCurrentSession}get ssoConnectionName(){return this.data.ssoConnectionName}get isDelinquent(){return this.data.subscriptionStatus.isDelinquent}get gracePeriodId(){return this.data.subscriptionStatus.gracePeriodId}get accountUserId(){return this.data.accountUserId}get normalizedAccountUserId(){return this.isPersonalAccount()?this.authUserId:this.data.accountUserId}get authUserId(){var t;return(t=this.data.accountUserId)==null?void 0:t.split("__")[0]}get subscriptionAnalyticsParams(){const{subscriptionStatus:t}=this.data;return{currentPlanType:t.planType,subscriptionStatus:{billingPeriod:t.billingPeriod,hasPaidSubscription:t.hasPaidSubscription,subscriptionPlan:t.subscriptionPlan,subscriptionExpiresAt:t.subscriptionExpiresAt,wasPaidCustomer:t.wasPaidCustomer}}}isResellerHosted(){return this.data.subscriptionStatus.isResellerHosted}isEnterprisey(){return O_(this.data.subscriptionStatus.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isSelfServeBusiness()||this.isFreeWorkspace()}isPro(){return this.data.subscriptionStatus.planType===be.PRO}isEdu(){return ch(this.data.subscriptionStatus.planType)}isQuorum(){return this.data.subscriptionStatus.planType===be.QUORUM}isSelfServeBusiness(){return this.data.subscriptionStatus.planType===be.SELF_SERVE_BUSINESS}isFreeWorkspace(){return this.data.subscriptionStatus.planType===be.FREE_WORKSPACE}isK12(){return this.data.subscriptionStatus.planType===be.K12}isGo(){return this.data.subscriptionStatus.planType===be.GO}isPlus(){return this.data.subscriptionStatus.planType===be.PLUS}isFree(){return this.data.subscriptionStatus.planType===be.FREE}isCBP(){return this.data.subscriptionStatus.planType===be.ENTERPRISE_CBP||this.data.subscriptionStatus.planType===be.EDUCATION_CBP}isWorkspaceAccount(){return this.data.structure===er.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}getDaysUntilPlanRenews(){const t=this.data.subscriptionStatus.subscriptionRenewsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getDaysUntilSubscriptionCancelAt(){const t=this.data.subscriptionStatus.subscriptionCancelsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getDaysUntilPlanDiscountExpires(){var r;const t=ll((r=this.data.subscriptionStatus.discount)==null?void 0:r.discount_expires_at);if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}isPersonalAccount(){return this.data.structure===er.PERSONAL}hasPaidSubscription(){return this.data.subscriptionStatus.hasPaidSubscription}isActiveSubscriptionGratis(){return this.data.subscriptionStatus.isActiveSubscriptionGratis}getSubscriptionBillingCurrency(){return this.data.subscriptionStatus.billingCurrency}mustGetSubscriptionBillingCurrency(t){const n=this.getSubscriptionBillingCurrency();return n!==void 0?(Q.addAction("chatgpt_present_subscription_billing_currency",{subscriptionBillingCurrency:n,callLocation:t}),ST(At(),"chatgpt_present_subscription_billing_currency",void 0,{subscriptionBillingCurrency:n,callLocation:t}),n):(Q.addError(new Error("chatgpt_missing_subscription_billing_currency"),{callLocation:t}),ST(At(),"chatgpt_missing_subscription_billing_currency",void 0,{callLocation:t}),Pse)}willRenewSubscription(){return this.data.subscriptionStatus.lastActiveSubscription.will_renew}willPlanChange(){return!!this.data.subscriptionStatus.scheduledPlanChange}getDaysUntilPlanChanges(){var r;const t=(r=this.data.subscriptionStatus.scheduledPlanChange)==null?void 0:r.changesAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getNextPlanType(){var t,n;return(n=(t=this.data.subscriptionStatus.scheduledPlanChange)==null?void 0:t.planType)!=null?n:null}getLastActiveSubscription(){return this.data.subscriptionStatus.lastActiveSubscription}isDeactivated(){return this.data.deactivated}canInviteMembers(){return this.isSelfServeBusiness()||this.isEnterprisey()&&(this.isOwnerOfAccount()||this.isAdminOfAccount())}isOwnerOfAccount(){return this.data.role===kd.OWNER}isAdminOfAccount(){return this.data.role===kd.ADMIN}isStandardUserOfAccount(){return this.data.role===kd.STANDARD}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}hasCustomerObject(){return this.data.subscriptionStatus.hasCustomerObject}getProcessorEntity(){return this.data.subscriptionStatus.processorEntity}wasPaidCustomer(){return!this.data.subscriptionStatus.hasPaidSubscription&&this.data.subscriptionStatus.wasPaidCustomer}isOrWasPaidCustomer(){return this.data.subscriptionStatus.hasPaidSubscription||this.data.subscriptionStatus.wasPaidCustomer}isEligibleForCancellationPromotion(){return this.data.subscriptionStatus.isEligibleForCancellationPromotion}getEligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}}class hx{constructor(t){this.data=t}static fromLightAccount(t,n){return new hx({lightAccount:t,authUserId:n})}get id(){return this.data.lightAccount.id}get authUserId(){return this.data.authUserId}get structure(){return this.data.lightAccount.structure}get planType(){return this.data.lightAccount.planType}get isDelinquent(){return this.data.lightAccount.isDelinquent}get gracePeriodId(){return this.data.lightAccount.gracePeriodId}get accountUserId(){return this.data.authUserId?this.data.authUserId+"__"+this.data.lightAccount.id:void 0}get normalizedAccountUserId(){return this.isPersonalAccount()?this.data.authUserId:this.accountUserId}isEnterprise(){return cW(this.planType)}isEnterprisey(){return O_(this.planType)}isK12(){return this.planType===be.K12}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isSelfServeBusiness()||this.isFreeWorkspace()}isGo(){return this.planType===be.GO}isPro(){return this.planType===be.PRO}isEdu(){return ch(this.planType)}isSelfServeBusiness(){return this.planType===be.SELF_SERVE_BUSINESS}isEnterpriseCBP(){return this.planType===be.ENTERPRISE_CBP}isPlus(){return this.planType===be.PLUS}isFree(){return this.planType===be.FREE}isCBP(){return this.planType===be.ENTERPRISE_CBP||this.planType===be.EDUCATION_CBP}isFreeWorkspace(){return this.planType===be.FREE_WORKSPACE}hasPaidSubscription(){return CW(this.planType)}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}isWorkspaceAccount(){return this.structure===er.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}isPersonalAccount(){return this.structure===er.PERSONAL}hasPlusFeatures(){return this.planType!==be.FREE}}const Ihe=eo(e=>{var t,n,r,i,s,o,a,c,l,u,d;return new xhe({id:e.account.account_id,residencyRegion:e.account.account_residency_region,computeResidency:e.account.account_compute_residency,computeResidencyDisplayName:e.account.account_compute_residency_display_name,computeResidencyDescription:e.account.account_compute_residency_description,accountUserId:e.account.account_user_id,name:(t=e.account.name)!=null?t:null,profilePictureId:e.account.profile_picture_id,profilePictureUrl:e.account.profile_picture_url,structure:e.account.structure,workspaceType:e.account.workspace_type,role:(n=e.account.account_user_role)!=null?n:Ahe,organizationId:e.account.organization_id,deactivated:e.account.is_deactivated,eligibleForReactivation:e.account.eligible_for_reactivation,ekmConfig:e.account.ekm_config,isHipaaCompliantWorkspace:e.account.is_hipaa_compliant_workspace,isFedrampCompliantWorkspace:e.account.is_fedramp_compliant_workspace,subscriptionStatus:{billingPeriod:e.entitlement.billing_period,hasPaidSubscription:e.entitlement.has_active_subscription||!1,isActiveSubscriptionGratis:e.entitlement.is_active_subscription_gratis||!1,billingCurrency:e.entitlement.billing_currency,subscriptionPlan:e.entitlement.subscription_plan,planType:(r=e.account.plan_type)!=null?r:whe,subscriptionRenewsAt:ll(e.entitlement.renews_at),subscriptionCancelsAt:ll(e.entitlement.cancels_at),subscriptionExpiresAt:ll(e.entitlement.expires_at),scheduledPlanChange:e.entitlement.scheduled_plan_change?{changesAt:T7(e.entitlement.scheduled_plan_change.changes_at),planType:e.entitlement.scheduled_plan_change.plan_type}:void 0,wasPaidCustomer:(i=e.account.has_previously_paid_subscription)!=null?i:!1,hasCustomerObject:(o=(s=e.account.processor)==null?void 0:s.a001.has_customer_object)!=null?o:!1,processorEntity:(a=e.account.processor)==null?void 0:a.a001.processor_entity,lastActiveSubscription:e.last_active_subscription,isResellerHosted:(c=e.account.reseller_hosted_account)!=null?c:!1,discount:e.entitlement.discount,isEligibleForCancellationPromotion:(l=e.entitlement.is_eligible_for_cp)!=null?l:!1,isDelinquent:e.entitlement.is_delinquent,becameDelinquentAt:ll(e.entitlement.became_delinquent_timestamp),gracePeriodEndAt:ll(e.entitlement.grace_period_end_timestamp),gracePeriodId:e.entitlement.grace_period_id},features:[...e.features].sort(),canAccessWithCurrentSession:e.can_access_with_session!==!1,ssoConnectionName:(u=e.sso_connection_name)!=null?u:null,eligiblePromoCampaigns:(d=e.eligible_promo_campaigns)!=null?d:{}})});function Nhe(e){return e.account_ordering.map(t=>Ihe(e.accounts[t]))}function Rhe(e,t){const n=e.filter(i=>i.canAccessWithCurrentSession);if(typeof t=="string"){const i=n.find(s=>s.id===t);if(i!==void 0)return i;if(t===Fs){const s=n.find(o=>o.structure===er.PERSONAL);if(s!==void 0)return s}}if(n.length===1||!n.some(i=>i.structure===er.WORKSPACE))return n[0]}function Phe(e,t){if(e){if(e.structure===er.WORKSPACE)return e.id;if(t.some(r=>r.structure===er.WORKSPACE))return Fs}}async function khe(){return await dhe({eventPrefix:"fetchAccountState"}),await Z.safeGet("/accounts/check/{version}",{parameters:{path:{version:MX},query:{timezone_offset_min:new Date().getTimezoneOffset().toString()}},intercomEventOnError:"fetch-error:accounts:get",authOption:en.SendIfAvailable})}const hL=e=>e!=null&&typeof e=="object"&&"account"in e&&typeof e.account=="object"&&e.account!=null&&"account_id"in e.account;function Mhe(e,t){return hL(e)&&hL(t)&&e.isEqual(t)?e:mJ(e,t)}const Dhe=En({queryKey:["account-status"],queryFn:khe,structuralSharing:Mhe,staleTime:1/0});function w7(){return Dhe}const Lhe=Be(e=>hn(e,w7)),jhe=e=>{var i;const t=(i=De.getCookie(Te.Workspace))!=null?i:void 0,n=Nhe(e),r=Rhe(n,t);return{accountItems:n,currentAccount:r,currentAccountId:r==null?void 0:r.id}},px=Be(()=>we({}));Be(()=>we(null));const Fd=Be(e=>Oe(()=>{px(e);const t=Lhe(e);return t.isLoading||t.data==null?t:I(S({},t),{data:jhe(t.data)})})),Ch=Be(e=>Oe(()=>{if(t_()){const n=Fd(e),{data:r}=n,i=W(n,["data"]);return I(S({},i),{isLoading:!0,data:void 0})}return Fd(e)}));function A7(e){var t;return(t=e==null?void 0:e.accountItems.find(n=>n.id===e.currentAccountId))!=null?t:null}const Dr=Be(e=>Oe(()=>A7(Ch(e).data)));function Fhe(e){return nn(()=>Dr(e))}function f1(e){e!=null?De.setCookie(Te.Workspace,e,{maxAge:gG}):De.deleteCookie(Te.Workspace)}function Uhe(e){De.setCookie(Te.WorkspaceResidencyRegion,e,{maxAge:gG})}function x7(e,t){var r;const n=De.getCookie(Te.Workspace);return e.structure===er.WORKSPACE?(f1(e.id),Uhe(e.residencyRegion)):e.structure===er.PERSONAL&&t&&f1(Fs),De.deleteCookie(Te.DowngradeAccountEnabled),De.deleteCookie(Te.DogfoodingAccountType),{accountCookieChanged:(n!=null?n:Fs)!==((r=De.getCookie(Te.Workspace))!=null?r:Fs)}}function SGe(e,t,n,r=!0){const i=nn(()=>Ch(e).data);if(i==null)return{updatedAccount:!1};const s=i.accountItems.find(o=>o.id===n);return s==null?{updatedAccount:!1}:(x7(s,r),px.set(e,{}),{updatedAccount:!0})}function OGe(e,t,n,r,i,s=!0){const o=nn(()=>Ch(n).data);if(o==null)return{willRedirect:!1,updatedAccount:!1};const a=o.accountItems.find(f=>f.id===t);if(a==null)return{willRedirect:!1,updatedAccount:!1};const c=Hn(),l=nn(()=>lG(n)),u=Mi(n)&&!St(n);if(c&&!(l||u)){const f=Jo();return f==null||f.onSwitchAccount(t),{willRedirect:!0,updatedAccount:!1}}const{accountCookieChanged:d}=x7(a,s);if(!a.canAccessWithCurrentSession){const f=a.ssoConnectionName?{connection:a.ssoConnectionName}:void 0,h=r.formatMessage(pL.workspacePlaceholder),p=a.data.name||h;return i.info(r.formatMessage(pL.authenticateNotice,{workspaceName:p})),The(n,{fallbackScreenHint:"login",additionalAuthParams:f}),{willRedirect:!0,updatedAccount:!0}}return d?mA():px.set(n,{}),{willRedirect:!1,updatedAccount:!0}}function TGe(){"use forget";const e=H.c(2),t=re();let n;return e[0]!==t?(n=()=>Ch(t),e[0]=t,e[1]=n):n=e[1],Fe(n)}function _s(){"use forget";const e=H.c(2),t=re();let n;return e[0]!==t?(n=()=>Dr(t),e[0]=t,e[1]=n):n=e[1],Fe(n)}const at=ut(e=>{var i,s;const t=sa(e),n=(i=t==null?void 0:t.user)==null?void 0:i.id,r=(s=t==null?void 0:t.account)!=null?s:null;return r?hx.fromLightAccount(r,n):null}),Bhe=Be(e=>Oe(()=>{var t,n;return(n=(t=Dr(e))==null?void 0:t.isHipaaCompliantWorkspace)!=null?n:!1}));function wGe(){"use forget";const e=H.c(2),t=re();let n;return e[0]!==t?(n=()=>Bhe(t),e[0]=t,e[1]=n):n=e[1],Fe(n)}const I7=Be(e=>Oe(()=>{var t,n;return(n=(t=Dr(e))==null?void 0:t.features)!=null?n:[]}));function Ghe(){"use forget";const e=H.c(2),t=re();let n;return e[0]!==t?(n=()=>I7(t),e[0]=t,e[1]=n):n=e[1],Fe(n)}function AGe(e){"use forget";const t=H.c(3),n=re();let r;return t[0]!==n||t[1]!==e?(r=()=>{var i,s;return(s=(i=I7(n))==null?void 0:i.includes(e))!=null?s:!1},t[0]=n,t[1]=e,t[2]=r):r=t[2],Fe(r)}function xGe(e){return e.accountItems.some(t=>t.hasPaidFeatures())}function IGe(e){return!(e==null?void 0:e.accountItems.every(n=>n.isPlus()||n.isFree()||n.isGo()))}function NGe(e,t){const n=Dr(e);if(!(n==null?void 0:n.isRBACEnabled()))return!0;const{data:i}=zG(e);return i!=null&&i.some(s=>s.systemHint===t)}const pL=Tt({authenticateNotice:{id:"zALe8U",defaultMessage:"You need to authenticate to access {workspaceName}. Redirecting..."},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"}});function gx(e,t){return Xt({queryKey:["workspace-settings",e],queryFn:e?()=>Z.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):bB,select:n=>n&&t?t(n):n,enabled:!!e})}function Whe(e){return En({queryKey:["workspace-settings",e],queryFn:e!=null?()=>Z.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):bB})}const mx=Be(e=>{var n;const t=(n=at(e))==null?void 0:n.getWorkspaceId();return hn(e,()=>Whe(t))});function qhe(e,t){var r,i;const{data:n}=mx(e);if(n)return(i=(r=n.permissions)==null?void 0:r.includes(t))!=null?i:!1}const Vhe=["default","blue","green","yellow","pink","orange","custom"],$he=["purple"],Hhe=["black"],zhe=e=>{var a;const t=(a=at(e))==null?void 0:a.planType,n=t===be.PLUS,r=t===be.PRO,i=t===be.SELF_SERVE_BUSINESS||O_(t),o=!ch(t)&&(n||r||i)||Hn();return[...Vhe,...o?$he:[],...r?Hhe:[]]};function N7(e){return Hn()?!0:un(e,"1187049270").get("themes_enabled",!1)}const R7=ut(e=>ir(()=>{var t,n;return(n=bn.getItem(K_(),{userId:(t=at(e))==null?void 0:t.normalizedAccountUserId}))!=null?n:"default"})),_x=(e,t)=>{var n;R7(e).setState(t),bn.setItem(K_(),t,{userId:(n=at(e))==null?void 0:n.normalizedAccountUserId})},Yhe=(e,t)=>{Hn()&&(P7(t),_x(e,t))};function RGe(){const e=re(),t=N7(e),n=R7(e)(),r=Nse();return t?{isLoading:!1,value:n,setValue:i=>{r.mutate({setting:pc.ChatTheme,value:i}),_x(e,i)}}:{isLoading:!1,value:"default",setValue:()=>{}}}const Khe=()=>{var n;const e=re();if(!N7(e))return null;const t=Xp(K_(),{userId:(n=at(e))==null?void 0:n.normalizedAccountUserId});return _.jsx("script",{nonce:xt(e).cspScriptNonce,suppressHydrationWarning:!0,children:"!function(){try{const t=localStorage.getItem(".concat(JSON.stringify(t),');document.documentElement.dataset.chatTheme="string"==typeof t?JSON.parse(t):void 0}catch(e){}}();')})};function Jhe(e){const t=zhe(e),n=at(e),r=Oe(()=>{var o,a,c,l,u;if(Hn()){const d=bn.getItem(K_(),{userId:n==null?void 0:n.normalizedAccountUserId});return{theme:FT(d,t,"default")}}const i=(c=(a=(o=bu(e).data)==null?void 0:o.settings)==null?void 0:a[pc.ChatTheme])!=null?c:bn.getItem(zt.ChatTheme,{userId:n==null?void 0:n.normalizedAccountUserId});let s;if(i==="custom"&&hne(e)&&(n!=null&&n.isWorkspacePlan())&&(n!=null&&n.id)){const d=mx(e).data,f=bn.getItem(zt.ChatThemeCustomWorkspace,{userId:n==null?void 0:n.normalizedAccountUserId});s={light:(l=d==null?void 0:d.beta_settings_dict.workspace_chat_theme_light)!=null?l:f==null?void 0:f.light,dark:(u=d==null?void 0:d.beta_settings_dict.workspace_chat_theme_dark)!=null?u:f==null?void 0:f.dark}}return{theme:FT(i,t,"default"),customTheme:s}});return Tee(()=>{var o,a;const{theme:i,customTheme:s}=r();P7(i),i==="custom"&&s&&Xhe({light:(o=s.light)!=null?o:null,dark:(a=s.dark)!=null?a:null}),_x(e,i)})}function K_(){return Hn()?zt.ChatThemeOverride:zt.ChatTheme}function P7(e){document.documentElement.dataset.chatTheme=e}const PGe=["user-msg-bg","user-msg-text","submit-btn-bg","submit-btn-text","secondary-btn-bg","secondary-btn-text","user-selection-bg","entity-accent","attribution-highlight-bg"],gL="workspace-chat-theme";function Os(e){return e?e.replace(/[;}]/g,"").trim():""}function mL(e,t,n){const r=t==="light"?'[data-chat-theme="'.concat(e,'"]'):'[data-chat-theme="'.concat(e,'"].dark, [data-chat-theme="').concat(e,'"] .dark');return"".concat(r," {\n  --theme-user-msg-bg: ").concat(Os(n["user-msg-bg"]),";\n  --theme-user-msg-text: ").concat(Os(n["user-msg-text"]),";\n  --theme-submit-btn-bg: ").concat(Os(n["submit-btn-bg"]),";\n  --theme-submit-btn-text: ").concat(Os(n["submit-btn-text"]),";\n  --theme-secondary-btn-bg: ").concat(Os(n["secondary-btn-bg"]),";\n  --theme-secondary-btn-text: ").concat(Os(n["secondary-btn-text"]),";\n  --theme-user-selection-bg: ").concat(Os(n["user-selection-bg"]),";\n  --theme-attribution-highlight-bg: ").concat(Os(n["attribution-highlight-bg"]),";\n  --theme-entity-accent: ").concat(Os(n["entity-accent"]),";\n}")}function Xhe(e){if(typeof document>"u")return;const{light:t,dark:n}=e;if(!t&&!n)return;const r=document.getElementById(gL);let i;r&&r instanceof HTMLStyleElement?i=r:(i=document.createElement("style"),i.id=gL,document.head.appendChild(i));const s=[];t&&s.push(mL("custom","light",t)),n&&s.push(mL("custom","dark",n)),i.textContent=s.join("\n\n")}var Qhe=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e))(Qhe||{});const J_={small:640,medium:768,large:1024,xlarge:1280};function kc(e,t){const n=Ms(()=>window.matchMedia(e));return oi(()=>n().matches,r=>$o(n(),{change:r}),{name:"@media ".concat(e),getServerFallback:t})}function bh(e){return[()=>Fe(e),()=>nn(e)]}const k7=kc("(prefers-reduced-motion: reduce)",()=>!1),[kGe]=bh(k7),Mc=kc("(min-width: ".concat(J_.small,"px)"),()=>!$J()),[MGe]=bh(Mc),DGe=()=>!Mc(),M7=kc("(min-width: ".concat(J_.medium,"px)"),()=>Iw()||Nw()),[Zhe,epe]=bh(M7),tpe=kc("(min-width: ".concat(J_.large,"px)"),Nw),[LGe]=bh(tpe),jGe=kc("(min-width: ".concat(J_.xlarge,"px)"),()=>!1),npe=kc("(pointer: coarse)",NB),[FGe,D7]=bh(npe),L7=kc("(hover: hover)",Nw);function UGe(){return!Fe(M7)}function rpe(){const e={composer:{autofocusDisabled$:we(fu()||lR()),reset:()=>{e.composer.autofocusDisabled$.set(D7()||lR())}},projects:{createOrUpdateProject$:we(void 0),moveConversationToProject$:we(void 0),renamingProjectId$:we(void 0),reset:()=>{e.projects.renamingProjectId$.set(void 0)}}};return e}const ipe=ut(rpe),spe="{{.assetPrefix}}/assets/chatgpt-share-og-u7j5uyao.webp",ope={src:spe},ape="{{.assetPrefix}}/assets/favicon-180x180-od45eci6.webp",cpe={src:ape},lpe="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVfSURBVHgB5VuLUeMwEJWZKyBUgK8Cch2khHRwpgJCBQkVJFSQpAKggtBBuAocKiBUsKcX24wtZHlXlpIwvJkdYyLJ2q/WKzlRkUFEqb6MNF1rSksalNc6dpr25fWfpldQkiQ79d2gmR5pmmvKqT+2mpYYU50z9AQHmqaBmG5DrimjwqrOAzXG3+l4yMtnpuqU0BO4PTLjNkFk6tiA5DVt6HyQ07GsgU6v9TZgThMVE1RE9nPHVMUAFUvRd8GSy1fCaaQH3OrLUH0vIIn609WoUwClNDMVCPv9Xu12u88rkKbp4TocDtVgMFABsdJCuFG+oGKt7Y3NZkOTyYQ0o4RhXYQ24/GYVqsVvb8HibVz5QMqor03MPnZbEZao51MuyjLMsrznHpCtjpQsc57iT8U44EFAV5SxQV55vMwda6Zj0ajA1Mg/K39n9UPruGJDZf5jDywWCxaJw5rQAyAgLr8mhMvYGGemHQxD9PPSQhMqE1jy+WSfIG+bYJAoPQIkugwcAlgSkK0MT+dTkNFcZrP59aYAtfxwCyY9m3MQ2Pb7ZZCAwHQZg1wFyHsVkBC34ev2pgPsGS1AhZlC5aIP0LMbALIub1t2ojNfAWbEOAewmfnJvMiZ8LSZWohhtm3AcyaMcEjHozqAlhye+HhtoB3bDw+Pn6ZB9xSgEVdAGz1mdqH6Z8K0HoPK8jr0Z/Xw6J91zqP37BSxIoNtkAstIIUAhhzW4MhrvbrSyTahcoJTJhWIMwSswslKHQ8Pz837nU21tr25eXl82+89z88PKgY0PGnca/fFZQAQ1jAI1dcZuR1RX5kb6rfUsUCLMucl8DantgBEMyaDHXBXK8RQGPAdAOsEExs4QKsGhRKWA3bGXZ7jraCxj3Ms+4aoVCV1Cq8vb0pJgYQQMppWdXvPnsyandaM1/ixP39vQoNUwCmslxdL5QnuMVLWEG9LSwgtBVcXV017k1lueAtAAlMYQk0FB3RBQCTr2sE5upaPn3w8fHRuJeU1iGAHafh5eVl456jRTBursvmuh0CPvGp6vpLFcdSOnF9fd24f3197exzc9Pck9DL4IEaM9CTv7u76xwPAdWMJ/UxXHN1YN8rEXIlHGbaDLIlQrZXayUshkoSNANPcAH2ommu/WZqXMd6vW7c397eflmuDioQBERbW1hO/f+wEE6OUnUXlcLMGqDr9RO1OsWoFkFb3L0EjgUJs82x6HXYTIeVw9zgHhACytcckwRzLmqDKTxBGnzofrADEtQDzbw7Vn7PgWmRwuLM9tMR9A27rBqgCBEEtrqgcBNmWReAqJZkWkHMgodkDtIhGuGQBG5gswL4+rFg25ARaj9XJjCuZIR6lK/IY5dGDBvzHnEoswkAFQ6RHZtm6DkZNtq24qSbItR2VoCEVgC/t63hoXeJMJZN2J7Pmak2kIcVtG1aqjJ17SMI12kT/M9jNyqnrpMiuoHYkcFk2wkPCAduIZksxnMds+lhYZnJb9IihI0qPnIQAW91eqe29Xe8CyBPB6GKU73ZIZfHOz3yelSLXBUdvBXqbM/nON0uSZLfrJbU45CU61RHH4I1oNTuCdkhqVIIvda0UIIA4wFOm/gdoiZBiuwSBJIkybE5tEXUh8YDZJgzF4+co7IrffmrAgD+DT9H3R5+D6p8GVfEhSpGBDoyu9Z+n7ka/PjD0qyqcDnQWn0frDnMi0HCTPFEWKiYoGJ1+JmfzNSE4HWiNCI2dIpP6KgoqOZ0OhxP6w4hwBpmRxbEe/nMoJ+X9EIpiNgWkZ8d4zZQUWNckeD4XQfTyEhHKgJYiVAfUBGchiVVn9B3fT6P3SpsFr7E/nz+P3T08cw43Z8wAAAAAElFTkSuQmCC",upe="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3crect%20width='64'%20height='64'%20rx='32'%20fill='white'%20/%3e%3cpath%20d='M34.2043%2037.0916H41.6359'%20stroke='black'%20stroke-width='3.42172'%20stroke-linecap='round'%20/%3e%3cpath%20d='M32.089%2053.6889C28.2099%2053.6889%2024.6248%2052.7289%2021.3334%2050.809C18.0421%2048.8499%2015.4169%2046.2247%2013.4578%2042.9334C11.5378%2039.642%2010.5779%2036.0569%2010.5779%2032.1778C10.5779%2028.2987%2011.5378%2024.7136%2013.4578%2021.4222C15.4169%2018.1309%2018.0421%2015.5253%2021.3334%2013.6054C24.6248%2011.6462%2028.2099%2010.6667%2032.089%2010.6667C35.968%2010.6667%2039.5532%2011.6462%2042.8445%2013.6054C46.1359%2015.5253%2048.7415%2018.1309%2050.6614%2021.4222C52.6205%2024.7136%2053.6001%2028.2987%2053.6001%2032.1778C53.6001%2036.0569%2052.6205%2039.642%2050.6614%2042.9334C48.7415%2046.2247%2046.1359%2048.8499%2042.8445%2050.809C39.5532%2052.7289%2035.968%2053.6889%2032.089%2053.6889ZM32.089%2049.6923C35.2628%2049.6923%2038.1818%2048.9087%2040.8462%2047.3414C43.5498%2045.7741%2045.6853%2043.6582%2047.2526%2040.9938C48.8199%2038.2902%2049.6035%2035.3516%2049.6035%2032.1778C49.6035%2029.004%2048.8199%2026.0849%2047.2526%2023.4205C45.6853%2020.717%2043.5498%2018.5815%2040.8462%2017.0142C38.1818%2015.4469%2035.2628%2014.6633%2032.089%2014.6633C28.9152%2014.6633%2025.9765%2015.4469%2023.273%2017.0142C20.6086%2018.5815%2018.4927%2020.717%2016.9254%2023.4205C15.3581%2026.0849%2014.5745%2029.004%2014.5745%2032.1778C14.5745%2035.3516%2015.3581%2038.2902%2016.9254%2040.9938C18.4927%2043.6582%2020.6086%2045.7741%2023.273%2047.3414C25.9765%2048.9087%2028.9152%2049.6923%2032.089%2049.6923ZM24.2133%2039.7008C23.6648%2039.7008%2023.1946%2039.5049%2022.8028%2039.1131C22.411%2038.7212%2022.215%2038.2511%2022.215%2037.7025C22.215%2037.3499%2022.313%2037.0364%2022.5089%2036.7621L25.2713%2032.0602L22.6265%2027.5935C22.3522%2027.1625%2022.215%2026.7706%2022.215%2026.418C22.215%2025.9086%2022.411%2025.458%2022.8028%2025.0662C23.1946%2024.6744%2023.6648%2024.4785%2024.2133%2024.4785C24.9186%2024.4785%2025.4672%2024.7919%2025.859%2025.4188L29.0328%2030.8848C29.2679%2031.2766%2029.3854%2031.6684%2029.3854%2032.0602C29.3854%2032.4521%2029.2679%2032.8439%2029.0328%2033.2357L25.859%2038.7017C25.4672%2039.3678%2024.9186%2039.7008%2024.2133%2039.7008ZM34.2048%2039.1131C33.6563%2039.1131%2033.1861%2038.9172%2032.7943%2038.5253C32.4025%2038.1335%2032.2065%2037.6633%2032.2065%2037.1148C32.2065%2036.6054%2032.4025%2036.1548%2032.7943%2035.763C33.1861%2035.3712%2033.6563%2035.1752%2034.2048%2035.1752H41.7279C42.2372%2035.1752%2042.6878%2035.3712%2043.0796%2035.763C43.4715%2036.1548%2043.6674%2036.6054%2043.6674%2037.1148C43.6674%2037.6633%2043.4715%2038.1335%2043.0796%2038.5253C42.6878%2038.9172%2042.2372%2039.1131%2041.7279%2039.1131H34.2048Z'%20fill='black'%20/%3e%3c/svg%3e",dpe="{{.assetPrefix}}/assets/favicon-eex17e9e.ico",fpe="{{.assetPrefix}}/assets/favicon-l4nq08hd.svg";function hpe(e){if(typeof document>"u")throw new Error("not supported in SSR");const t=document.createElement("template");return t.innerHTML=e,t.innerHTML}function ppe(e){return"data:image/svg+xml;utf8,".concat(encodeURIComponent(e))}const BGe=n=>{var r=n,{svgString:e}=r,t=W(r,["svgString"]);const i=E.useMemo(()=>hpe(e),[e]);return i?_.jsx("img",S({src:ppe(i)},t)):null},GGe=({svgString:e,className:t,color:n})=>_.jsx(ah,{name:"StringToSVG",fallback:_.jsx("div",{className:t}),children:_.jsx("div",{className:ve("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e},style:{color:n}})}),rE=Tt({description:{id:"meta.description.Oct2025Update",defaultMessage:"ChatGPT is your AI chatbot for everyday use. Chat with the most advanced AI to explore ideas, solve problems, and learn faster."},keywords:{id:"meta.keywords",defaultMessage:"ai chat,ai,chap gpt,chat gbt,chat gpt 3,chat gpt login,chat gpt website,chat gpt,chat gtp,chat openai,chat,chatai,chatbot gpt,chatg,chatgpt login,chatgpt,gpt chat,open ai,openai chat,openai chatgpt,openai"},ogDescription:{id:"meta.ogDescription.Nov2025Update",defaultMessage:"ChatGPT helps you get answers, find inspiration, and be more productive."}}),gpe=[{property:"og:title",content:"ChatGPT"},{property:"og:image",content:ope.src}];function mpe(e){const t=new URL(e,window.location.origin);return g_(j7(t.pathname))!=null?window.location.origin:t.toString()}function j7(e){return e.replace(/\//g,"")}function iE(e,t){const n=new URL(e,window.location.origin),r=e==="/",i=g_(j7(n.pathname))!=null;return t===oh?i?window.location.origin:n.toString():((r||i)&&t?n.pathname="/".concat(t,"/"):!i&&t&&n.searchParams.set("locale",t),n.toString())}function _pe(){const e=_t(),t=re(),n=Jt();return EB().some(s=>{var o;return(o=s.handle)==null?void 0:o.hasRouteMeta})||n.pathname.startsWith("/gg/")?null:_.jsxs(_.Fragment,{children:[_.jsx("meta",{name:"description",content:e.formatMessage(rE.description)}),_.jsx("meta",{name:"keyword",content:e.formatMessage(rE.keywords)}),_.jsx("meta",{property:"og:description",content:e.formatMessage(rE.ogDescription)}),_.jsx("meta",{property:"og:url",content:iE("/",xt(t).locale)}),_.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),Tre().map(s=>_.jsx("link",{rel:"alternate",hrefLang:s,href:iE(n.pathname,s)},s)),_.jsx("link",{rel:"alternate",hrefLang:"x-default",href:mpe(n.pathname)}),_.jsx("link",{rel:"canonical",href:iE(n.pathname)})]})}function vpe(){"use forget";const e=H.c(6),t=re();let n;e[0]!==t?(n=un(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=n):n=e[1];const r=n;let i;e[2]!==r?(i=r&&_.jsx("link",{rel:"manifest",href:"/manifest.json"}),e[2]=r,e[3]=i):i=e[3];let s;return e[4]!==i?(s=_.jsx(_.Fragment,{children:i}),e[4]=i,e[5]=s):s=e[5],s}function ype(){"use forget";const e=H.c(4),t=re();let n;e[0]!==t?(n=$e(t,"271523926"),e[0]=t,e[1]=n):n=e[1];const r=n,i=window.location.origin;let s;return e[2]!==r?(s=r?_.jsx("link",{rel:"preconnect",href:i}):null,e[2]=r,e[3]=s):s=e[3],s}function Cpe(){"use forget";const e=H.c(5),{pathname:t}=Jt();if(t!=="/")return null;let n,r,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@graph":[{"@type":"Organization",name:"ChatGPT",description:"ChatGPT is your AI chatbot for everyday use. Chat with the most advanced AI to explore ideas, solve problems, and learn faster.",url:window.location.origin,logo:window.location.origin+"/favicon.ico",sameAs:["https://x.com/ChatGPTapp","https://www.linkedin.com/company/openai/","https://github.com/openai","https://www.youtube.com/OpenAI"],parentOrganization:{"@type":"Organization",name:"OpenAI",url:"https://openai.com"}}]};n="organization-ld",r="application/ld+json",i=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=i}else n=e[0],r=e[1],i=e[2];let s;return e[3]!==i?(s=_.jsx("script",{id:n,type:r,children:i}),e[3]=i,e[4]=s):s=e[4],s}function bpe(){"use forget";const e=H.c(5),{pathname:t}=Jt();if(t!=="/")return null;let n,r,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@type":"WebSite",url:window.location.origin+"/",name:"ChatGPT"};n="website-ld",r="application/ld+json",i=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=i}else n=e[0],r=e[1],i=e[2];let s;return e[3]!==i?(s=_.jsx("script",{id:n,type:r,children:i}),e[3]=i,e[4]=s):s=e[4],s}function Epe(){"use forget";const e=H.c(5),{pathname:t}=Jt();if(t!=="/")return null;let n,r,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@type":"WebPage",url:window.location.origin+"/",name:"ChatGPT â€“ AI Chat & AI Chatbot",description:"Explore ChatGPT, the AI chat platform that helps with content generation, problem-solving, and interactive AI conversations.",publisher:{"@type":"Organization",name:"ChatGPT",logo:{"@type":"ImageObject",url:window.location.origin+"/favicon.ico"}}};n="webpage-ld",r="application/ld+json",i=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=i}else n=e[0],r=e[1],i=e[2];let s;return e[3]!==i?(s=_.jsx("script",{id:n,type:r,children:i}),e[3]=i,e[4]=s):s=e[4],s}function Spe(){"use forget";const e=H.c(14),t=re(),{pathname:n}=Jt();let r;e[0]!==n?(r=!n.startsWith("/share")&&!n.startsWith("/s")&&!n.startsWith("/canvas/shared")&&!n.startsWith("/gg"),e[0]=n,e[1]=r):r=e[1];const i=r;let s;e[2]!==t?(s=un(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[2]=t,e[3]=s):s=e[3];const o=s;let a,c;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=_.jsx("link",{rel:"preconnect",href:"{{.assetPrefix}}"}),c=_.jsx("link",{rel:"preconnect",href:window.location.origin}),e[4]=a,e[5]=c):(a=e[4],c=e[5]);let l;e[6]!==i?(l=i&&_.jsx("meta",{name:"robots",content:"index, follow"}),e[6]=i,e[7]=l):l=e[7];let u;e[8]===Symbol.for("react.memo_cache_sentinel")?(u=_.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),e[8]=u):u=e[8];let d;e[9]!==o?(d=o&&_.jsx("meta",{name:"apple-itunes-app",content:"app-id=6448311069"}),e[9]=o,e[10]=d):d=e[10];let f;return e[11]!==l||e[12]!==d?(f=_.jsxs(_.Fragment,{children:[a,c,l,u,d]}),e[11]=l,e[12]=d,e[13]=f):f=e[13],f}function _L({href:e}){return _.jsxs(_.Fragment,{children:[_.jsx("link",{rel:"icon",href:e,type:"image/svg+xml"}),_.jsx("link",{rel:"icon",href:e,type:"image/svg+xml",media:"(prefers-color-scheme: dark)"})]})}function Ope(){"use forget";const e=H.c(5),{pathname:t}=Jt();let n;e[0]!==t?(n=t.startsWith("/codex")?_.jsxs(_.Fragment,{children:[_.jsx("link",{rel:"icon",href:lpe,sizes:"32x32"}),_.jsx(_L,{href:upe})]}):_.jsxs(_.Fragment,{children:[_.jsx("link",{rel:"icon",href:dpe,sizes:"32x32"}),_.jsx(_L,{href:fpe})]}),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=_.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:cpe.src}),e[2]=r):r=e[2];let i;return e[3]!==n?(i=_.jsxs(_.Fragment,{children:[n,r]}),e[3]=n,e[4]=i):i=e[4],i}const Tpe=we(!1),WGe=()=>Fe(Tpe),wpe=NG(zt.SeparateMode,()=>!1);function Ape(e,t=!1){return un(e,"790459319",{disableExposureLog:t}).get("voice_integrated_ux")}function qGe(e){"use forget";const t=H.c(3),n=Fe(xpe);let r;return t[0]!==e||t[1]!==n?(r=Ape(e)&&!n,t[0]=e,t[1]=n,t[2]=r):r=t[2],r}function xpe(){return wpe()}function VGe(){const e=At();un(e,"790459319").get("voice_integrated_ux")}const Ipe=we({type:"unrequested",granted:!1,active:!1,forceMuted:!1,label:""}),$Ge=()=>Fe(Ipe),F7=we(null);function HGe(){return F7()}const zGe=()=>Fe(F7),YGe=we(!1),Npe=we(null),KGe=()=>Fe(Npe),Rpe=we(!1),JGe=()=>Fe(Rpe),Ja=Ic(()=>({activeRequests:{}})),vx=Be(()=>r_(Ja)),XGe=(e,t)=>{var n;return(n=vx(e).activeRequests[t])!=null?n:null};function QGe(e){"use forget";const t=H.c(2);let n;return t[0]!==e?(n=r=>U7(e,r),t[0]=e,t[1]=n):n=t[1],Xf(Ja,n)}const Ppe=(e,t)=>U7(t,vx(e));function U7(e,t=Ja.getState()){return e!=null&&t.activeRequests[e]!=null}const kpe=()=>!1;function ZGe(){"use forget";const e=Xf(Ja,Mpe),t=kpe();return e||t}function Mpe(e){return Object.keys(e.activeRequests).length>0}const eWe=e=>Object.keys(vx(e).activeRequests).length>0,Dpe={addRequest(e,t,n){Ja.setState(r=>({activeRequests:I(S({},r.activeRequests),{[e]:{id:e,abortController:t,turnTracker:n}})}))},removeRequest(e){Ja.setState(t=>{const n=S({},t.activeRequests);return delete n[e],{activeRequests:n}})},abortRequest(e){const{activeRequests:t}=Ja.getState();return t[e]!=null?(t[e].abortController.abort(),Dpe.removeRequest(e),!0):!1}},B7=Bm("Conversation"),Lr=Jw(B7),Eh=ut(()=>({conversations:{},newClientIdToServerId:{},allKnownConversationIds$:we([])}));function G7(e,t,n){const{conversations:r}=Eh(e),i=S({ctx:e,id:t,serverId$:we(dx(t))},n);return r[t]=i,Lpe(e),i}function tWe(e,t){return G7(e,Gfe(),t)}function yx(e,t,n){const{conversations:r,newClientIdToServerId:i}=Eh(e);if(r[t]!=null)return r[t];if(mh(t)){const s=i[t];if(s!=null&&r[s]!=null)return r[s]}return G7(e,t,n)}function nWe(e,t,n){const r=yx(e,t);r.serverId$.set(n);const{conversations:i,newClientIdToServerId:s}=Eh(e);delete i[t],i[n]=r,mh(t)&&(s[t]=n,g7.setServerIdForNewThread(t,n))}function rWe(e){const{conversations:t,allKnownConversationIds$:n}=Eh(e);return n(),Object.values(t)}let sE;function Lpe(e){sE==null&&(sE=window.setTimeout(()=>{const{conversations:t,allKnownConversationIds$:n}=Eh(e);n.set(Object.keys(t)),sE=void 0},100))}const jpe=E.createContext(void 0);function iWe(){"use forget";return E.use(jpe)}const Sh=Lr(e=>r_(_h,{selector:t=>vh(e.id,t)}));function ua(e,t){return Lr(n=>Oe(()=>e(Sh(n)),t))}ua(e=>e==null?void 0:e.title);const Fpe=ua(Me.getIsNewConversation),Upe=ua(e=>e==null?void 0:e.defaultModelId),W7=ua(Me.getTree),q7=ua(Me.getCurrentLeafId),sWe=Lr(e=>Oe(()=>BA(W7(e),q7(e)))),Bpe=(e,t,n=q7(e))=>W7(e).findNode(t,n),oWe=ua(e=>e==null?void 0:e.mode),X_=Lr(e=>Oe(()=>{var t;return(t=Me.getGizmoId(Sh(e)))!=null?t:e.urlGizmoId}));Lr(e=>Oe(()=>{var t,n;return(n=(t=Sh(e))==null?void 0:t.isLoading)!=null?n:!mh(e.id)}));const Gpe=ua(Me.getRequestId),aWe=Lr(e=>Oe(()=>Ppe(e.ctx,Gpe(e)))),cWe=ua(e=>e==null?void 0:e.startedWithByoMcp);function V7(e){var t;return e.author.role===Ke.Assistant&&!!((t=e.metadata)!=null&&t.thinking_effort)}function lWe(e,t){var r;const n=Me.getNode(e,t);return n!=null&&n.message&&V7(n.message)?(r=n.message.metadata)==null?void 0:r.thinking_effort:void 0}function Wpe(e){return Me.findNode(e,t=>V7(t.message))}const $7=Be(e=>Oe(()=>{const{data:t}=bu(e);return t?sW(t):rW(e)})),qpe=(e,t,n,r)=>{var i,s;if(e.value){const o=(s=(i=t.marks.startend)==null?void 0:i.create(n))!=null?s:null;return t.text(e.value,o?[o,...r!=null?r:[]]:r)}return null};function Pn(e){this.content=e}Pn.prototype={constructor:Pn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new Pn(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Pn(n)},addToStart:function(e,t){return new Pn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Pn(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new Pn(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Pn.from(e),e.size?new Pn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Pn.from(e),e.size?new Pn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Pn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Pn.from=function(e){if(e instanceof Pn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Pn(t)};function H7(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=H7(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function z7(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),c=o.nodeSize;if(o==a){n-=c,r-=c;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let l=0,u=Math.min(o.text.length,a.text.length);for(;l<u&&o.text[o.text.length-l-1]==a.text[a.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let l=z7(o.content,a.content,n-1,r-1);if(l)return l}n-=c,r-=c}}class le{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let c=this.content[o],l=a+c.nodeSize;if(l>t&&r(c,i+a,s||null,o)!==!1&&c.content.size){let u=a+1;c.nodesBetween(Math.max(0,t-u),Math.min(c.content.size,n-u),r,i+u)}a=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,c)=>{let l=a.isText?a.text.slice(Math.max(t,c)-c,n-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=l},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new le(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],c=o+a.nodeSize;c>t&&((o<t||c>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=c}return new le(r,i)}cutByIndex(t,n){return t==n?le.empty:t==0&&n==this.content.length?this:new le(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new le(i,s)}addToStart(t){return new le([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new le(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return H7(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return z7(this,t,n,r)}findIndex(t,n=-1){if(t==0)return yp(0,t);if(t==this.size)return yp(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position ".concat(t," outside of fragment (").concat(this,")"));for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=t)return o==t||n>0?yp(r+1,o):yp(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return le.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return le.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new le(n||t,r)}static from(t){if(!t)return le.empty;if(t instanceof le)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new le([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const oE={index:0,offset:0};function yp(e,t){return oE.index=e,oE.offset=t,oE}function am(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!am(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!am(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class pt{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&am(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError("There is no mark type ".concat(n.type," in this schema"));let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return pt.none;if(t instanceof pt)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}pt.none=[];class cm extends Error{}class Ie{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=K7(this.content,t+this.openStart,n);return r&&new Ie(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Ie(Y7(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ie.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ie(le.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ie(t,r,i)}}Ie.empty=new Ie(le.empty,0,0);function Y7(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(Y7(s.content,t-i-1,n-i-1)))}function K7(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=K7(o.content,t-s-1,n);return a&&e.replaceChild(i,o.copy(a))}function Vpe(e,t,n){if(n.openStart>e.depth)throw new cm("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new cm("Inconsistent open depths");return J7(e,t,n,0)}function J7(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=J7(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return Qa(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=$pe(n,e);return Qa(s,Q7(e,o,a,t,r))}else return Qa(s,lm(e,t,r))}function X7(e,t){if(!t.type.compatibleContent(e.type))throw new cm("Cannot join "+t.type.name+" onto "+e.type.name)}function h1(e,t,n){let r=e.node(n);return X7(r,t.node(n)),r}function Xa(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Ud(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(Xa(e.nodeAfter,r),s++));for(let a=s;a<o;a++)Xa(i.child(a),r);t&&t.depth==n&&t.textOffset&&Xa(t.nodeBefore,r)}function Qa(e,t){return e.type.checkContent(t),e.copy(t)}function Q7(e,t,n,r,i){let s=e.depth>i&&h1(e,t,i+1),o=r.depth>i&&h1(n,r,i+1),a=[];return Ud(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(X7(s,o),Xa(Qa(s,Q7(e,t,n,r,i+1)),a)):(s&&Xa(Qa(s,lm(e,t,i+1)),a),Ud(t,n,i,a),o&&Xa(Qa(o,lm(n,r,i+1)),a)),Ud(r,null,i,a),new le(a)}function lm(e,t,n){let r=[];if(Ud(null,e,n,r),e.depth>n){let i=h1(e,t,n+1);Xa(Qa(i,lm(e,t,n+1)),r)}return Ud(t,null,n,r),new le(r)}function $pe(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(le.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class pf{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return pt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ype(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:c}=o.content.findIndex(s),l=s-c;if(r.push(o,a,i+c),!l||(o=o.child(a),o.isText))break;s=l-1,i+=c+1}return new pf(n,r,s)}static resolveCached(t,n){let r=vL.get(t);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else vL.set(t,r=new Hpe);let i=r.elts[r.i]=pf.resolve(t,n);return r.i=(r.i+1)%zpe,i}}class Hpe{constructor(){this.elts=[],this.i=0}}const zpe=12,vL=new WeakMap;class Ype{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Kpe=Object.create(null);let Za=class p1{constructor(t,n,r,i=pt.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||le.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&am(this.attrs,n||t.defaultAttrs||Kpe)&&pt.sameSet(this.marks,r||pt.none)}copy(t=null){return t==this.content?this:new p1(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new p1(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Ie.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),l=i.node(o).content.cut(i.pos-a,s.pos-a);return new Ie(l,i.depth-o,s.depth-o)}replace(t,n,r){return Vpe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return pf.resolveCached(this,t)}resolveNoCache(t){return pf.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Z7(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=le.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=pt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!pt.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(n=>n.type.name)));this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=le.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Za.prototype.text=void 0;class um extends Za{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Z7(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new um(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new um(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Z7(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class yc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Jpe(t,n);if(r.next==null)return yc.empty;let i=e8(r);r.next&&r.err("Unexpected trailing text");let s=rge(nge(i));return ige(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let c=o.matchFragment(t,r);if(c&&(!n||c.validEnd))return le.from(a.map(l=>l.createAndFill()));for(let l=0;l<o.next.length;l++){let{type:u,next:d}=o.next[l];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:c}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError("There's no ".concat(t,"th edge in this content match"));return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join("\n")}}yc.empty=new yc(!0);class Jpe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function e8(e){let t=[];do t.push(Xpe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Xpe(e){let t=[];do t.push(Qpe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Qpe(e){let t=tge(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Zpe(e,t);else break;return t}function yL(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Zpe(e,t){let n=yL(e),r=n;return e.eat(",")&&(e.next!="}"?r=yL(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function ege(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(t)>-1&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function tge(e){if(e.eat("(")){let t=e8(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=ege(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function nge(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,c){let l={term:c,to:a};return t[o].push(l),l}function i(o,a){o.forEach(c=>c.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((c,l)=>c.concat(s(l,a)),[]);if(o.type=="seq")for(let c=0;;c++){let l=s(o.exprs[c],a);if(c==o.exprs.length-1)return l;i(l,a=n())}else if(o.type=="star"){let c=n();return r(a,c),i(s(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return i(s(o.expr,a),c),i(s(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let c=a;for(let l=0;l<o.min;l++){let u=n();i(s(o.expr,c),u),c=u}if(o.max==-1)i(s(o.expr,c),c);else for(let l=o.min;l<o.max;l++){let u=n();r(c,u),i(s(o.expr,c),u),c=u}return[r(c)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function t8(e,t){return t-e}function CL(e,t){let n=[];return r(t),n.sort(t8);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:c}=s[o];!a&&n.indexOf(c)==-1&&r(c)}}}function rge(e){let t=Object.create(null);return n(CL(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:c})=>{if(!a)return;let l;for(let u=0;u<i.length;u++)i[u][0]==a&&(l=i[u][1]);CL(e,c).forEach(u=>{l||i.push([a,l=[]]),l.indexOf(u)==-1&&l.push(u)})})});let s=t[r.join(",")]=new yc(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(t8);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function ige(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:c,next:l}=i.next[a];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(l)==-1&&r.push(l)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function n8(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function r8(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function i8(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError("Unsupported attribute ".concat(i," for ").concat(n," of type ").concat(i));for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function s8(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new oge(e,r,t[r]);return n}let bL=class o8{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=s8(t,r.attrs),this.defaultAttrs=n8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:r8(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Za(this,this.computeAttrs(t),le.from(n),pt.setFrom(r))}createChecked(t=null,n,r){return n=le.from(n),this.checkContent(n),new Za(this,this.computeAttrs(t),n,pt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=le.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(le.empty,!0);return s?new Za(this,t,n.append(s),pt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(t.toString().slice(0,50)))}checkAttrs(t){i8(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:pt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new o8(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function sge(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError("Expected value of type ".concat(r," for attribute ").concat(t," on type ").concat(e,", got ").concat(s))}}class oge{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?sge(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Q_{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=s8(t,i.attrs),this.excluded=null;let s=n8(this.attrs);this.instance=s?new pt(this,s):null}create(t=null){return!t&&this.instance?this.instance:new pt(this,r8(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new Q_(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){i8(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class age{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Pn.from(t.nodes),n.marks=Pn.from(t.marks||{}),this.nodes=bL.compile(this.spec.nodes,this),this.marks=Q_.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=yc.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?EL(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:EL(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof bL){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new um(r,r.defaultAttrs,t,pt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Za.fromJSON(this,t)}markFromJSON(t){return pt.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function EL(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let c=e.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function cge(e){return e.tag!=null}function lge(e){return e.style!=null}class gf{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(cge(i))this.tags.push(i);else if(lge(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new OL(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new OL(this,n,!0);return r.addAll(t,n.from,n.to),Ie.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(fge(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=TL(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=TL(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new gf(t,gf.schemaRules(t)))}}const a8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},uge={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},c8={ol:!0,ul:!0},dm=1,fm=2,Bd=4;function SL(e,t,n){return t!=null?(t?dm:0)|(t==="full"?fm:0):e&&e.whitespace=="pre"?dm|fm:n&~Bd}class Cp{constructor(t,n,r,i,s,o,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=pt.none,this.stashMarks=[],this.match=o||(a&Bd?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(le.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&dm)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=le.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):hge(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!a8.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class OL{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=SL(null,n.preserveWhitespace,0)|(r?Bd:0);i?s=new Cp(i.type,i.attrs,pt.none,pt.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Cp(null,null,pt.none,pt.none,!0,null,o):s=new Cp(t.schema.topNodeType,null,pt.none,pt.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.style;if(!r||!r.length)return n();let i=this.readStyles(t.style);if(!i)return;let[s,o]=i,a=this.top;for(let c=0;c<o.length;c++)this.removePendingMark(o[c],a);for(let c=0;c<s.length;c++)this.addPendingMark(s[c]);n();for(let c=0;c<s.length;c++)this.removePendingMark(s[c],a);for(let c=0;c<o.length;c++)this.addPendingMark(o[c])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&fm||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&dm)r.options&fm?n=n.replace(/\r\n?/g,"\n"):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=t.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;c8.hasOwnProperty(r)&&this.parser.normalizeLists&&dge(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(s?s.ignore:uge.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let o,a=this.top,c=this.needsBlock;if(a8.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}s&&s.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),o&&this.sync(a),this.needsBlock=c}else this.withStyleRules(t,()=>{this.addElementByRule(t,s,s.consuming===!1?i:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=pt.none,r=pt.none;if(t.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=t.getPropertyValue(s);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(s,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{c.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[c.mark].create(c.attrs).addToSet(n),c.consuming===!1)a=c;else break}}return[n,r]}addElementByRule(t,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(t):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=t;typeof n.contentElement=="string"?c=t.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(t):n.contentElement&&(c=n.contentElement),this.findAround(t,c,!0),this.addAll(c)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,n,r){let i=n||0;for(let s=n?t.childNodes[n]:t.firstChild,o=r==null?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(t);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let o=SL(t,i,s.options);s.options&Bd&&s.content.length==0&&(o|=Bd),this.nodes.push(new Cp(t,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,c)=>{for(;a>=0;a--){let l=n[a];if(l==""){if(a==n.length-1||a==0)continue;for(;c>=s;c--)if(o(a-1,c))return!0;return!1}else{let u=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!u||u.name!=l&&u.groups.indexOf(l)==-1)return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=pge(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function dge(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&c8.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function fge(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function TL(e){let t={};for(let n in e)t[n]=e[n];return t}function hge(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let c=0;c<a.edgeCount;c++){let{type:l,next:u}=a.edge(c);if(l==t||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}function pge(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Nu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=aE(n).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,c=0;for(;a<s.length&&c<o.marks.length;){let l=o.marks[c];if(!this.marks[l.type.name]){c++;continue}if(!l.eq(s[a][0])||l.type.spec.spanning===!1)break;a++,c++}for(;a<s.length;)i=s.pop()[1];for(;c<o.marks.length;){let l=o.marks[c++],u=this.serializeMark(l,o.isInline,n);u&&(s.push([l,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=ng(aE(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&ng(aE(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return ng(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Nu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=wL(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return wL(t.marks)}}function wL(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function aE(e){return e.document||window.document}const AL=new WeakMap;function gge(e){let t=AL.get(e);return t===void 0&&AL.set(e,t=mge(e)),t}function mge(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function ng(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=gge(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,c=n?e.createElementNS(n,i):e.createElement(i),l=t[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let d in l)if(l[d]!=null){let f=d.indexOf(" ");f>0?c.setAttributeNS(d.slice(0,f),d.slice(f+1),l[d]):c.setAttribute(d,l[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:p}=ng(e,f,n,r);if(c.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:c,contentDOM:a}}const l8=65535,u8=Math.pow(2,16);function _ge(e,t){return e+t*u8}function xL(e){return e&l8}function vge(e){return(e-(e&l8))/u8}const d8=1,f8=2,rg=4,h8=8;class g1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&h8)>0}get deletedBefore(){return(this.delInfo&(d8|rg))>0}get deletedAfter(){return(this.delInfo&(f8|rg))>0}get deletedAcross(){return(this.delInfo&rg)>0}}class Tr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Tr.empty)return Tr.empty}recover(t){let n=0,r=xL(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+vge(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>t)break;let l=this.ranges[a+s],u=this.ranges[a+o],d=c+l;if(t<=d){let f=l?t==c?-1:t==d?1:n:n,h=c+i+(f<0?0:u);if(r)return h;let p=t==(n<0?c:d)?null:_ge(a/3,t-c),g=t==c?f8:t==d?d8:rg;return(n<0?t!=c:t!=d)&&(g|=h8),new g1(h,g,p)}i+=u-l}return r?t+i:new g1(t+i,0,null)}touches(t,n){let r=0,i=xL(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>t)break;let l=this.ranges[a+s],u=c+l;if(t<=u&&a==i*3)return!0;r+=this.ranges[a+o]-l}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),c=o+(this.inverted?0:s),l=this.ranges[i+n],u=this.ranges[i+r];t(a,a+l,c,c+u),s+=u-l}}invert(){return new Tr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Tr.empty:new Tr(t<0?[0,-t,0]:[0,0,t])}}Tr.empty=new Tr([]);class Dl{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new Dl(this.maps,this.mirror,t,n)}copy(){return new Dl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Dl;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(t,n);if(a.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,t=this.maps[c].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new g1(t,i,null)}}const cE=Object.create(null);class zn{getMap(){return Tr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=cE[n.stepType];if(!r)throw new RangeError("No step type ".concat(n.stepType," defined"));return r.fromJSON(t,n)}static jsonID(t,n){if(t in cE)throw new RangeError("Duplicate use of step JSON ID "+t);return cE[t]=n,n.prototype.jsonID=t,n}}class cn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new cn(t,null)}static fail(t){return new cn(null,t)}static fromReplace(t,n,r,i){try{return cn.ok(t.replace(n,r,i))}catch(s){if(s instanceof cm)return cn.fail(s.message);throw s}}}function Cx(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(Cx(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return le.fromArray(r)}class ko extends zn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ie(Cx(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return cn.fromReplace(t,this.from,this.to,s)}invert(){return new ns(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ko(n.pos,r.pos,this.mark)}merge(t){return t instanceof ko&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ko(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ko(n.from,n.to,t.markFromJSON(n.mark))}}zn.jsonID("addMark",ko);class ns extends zn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Ie(Cx(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return cn.fromReplace(t,this.from,this.to,r)}invert(){return new ko(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ns(n.pos,r.pos,this.mark)}merge(t){return t instanceof ns&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ns(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ns(n.from,n.to,t.markFromJSON(n.mark))}}zn.jsonID("removeMark",ns);class Mo extends zn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return cn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return cn.fromReplace(t,this.pos,this.pos+1,new Ie(le.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Mo(this.pos,n.marks[i]);return new Mo(this.pos,this.mark)}}return new su(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Mo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mo(n.pos,t.markFromJSON(n.mark))}}zn.jsonID("addNodeMark",Mo);class su extends zn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return cn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return cn.fromReplace(t,this.pos,this.pos+1,new Ie(le.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Mo(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new su(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new su(n.pos,t.markFromJSON(n.mark))}}zn.jsonID("removeNodeMark",su);class qn extends zn{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&m1(t,this.from,this.to)?cn.fail("Structure replace would overwrite content"):cn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Tr([this.from,this.to-this.from,this.slice.size])}invert(t){return new qn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new qn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof qn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ie.empty:new Ie(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new qn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ie.empty:new Ie(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new qn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qn(n.from,n.to,Ie.fromJSON(t,n.slice),!!n.structure)}}zn.jsonID("replace",qn);class xr extends zn{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(m1(t,this.from,this.gapFrom)||m1(t,this.gapTo,this.to)))return cn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return cn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?cn.fromReplace(t,this.from,this.to,r):cn.fail("Content does not fit in gap")}getMap(){return new Tr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new xr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new xr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xr(n.from,n.to,n.gapFrom,n.gapTo,Ie.fromJSON(t,n.slice),n.insert,!!n.structure)}}zn.jsonID("replaceAround",xr);function m1(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function yge(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(c,l,u)=>{if(!c.isInline)return;let d=c.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(l,t),h=Math.min(l+c.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=h:i.push(o=new ns(f,h,d[g])));a&&a.to==f?a.to=h:s.push(a=new ko(f,h,r))}}),i.forEach(c=>e.step(c)),s.forEach(c=>e.step(c))}function Cge(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let c=null;if(r instanceof Q_){let l=o.marks,u;for(;u=r.isInSet(l);)(c||(c=[])).push(u),l=u.removeFromSet(l)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let l=Math.min(a+o.nodeSize,n);for(let u=0;u<c.length;u++){let d=c[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==s-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=l,f.step=s):i.push({style:d,from:Math.max(a,t),to:l,step:s})}}}),i.forEach(o=>e.step(new ns(o.from,o.to,o.style)))}function p8(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),o=[],a=t+1;for(let c=0;c<s.childCount;c++){let l=s.child(c),u=a+l.nodeSize,d=r.matchType(l.type);if(!d)o.push(new qn(a,u,Ie.empty));else{r=d;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||e.step(new ns(a,u,l.marks[f]));if(i&&l.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(l.text);)p||(p=new Ie(le.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new qn(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let c=r.fillBefore(le.empty,!0);e.replace(a,a,new Ie(c,0,0))}for(let c=o.length-1;c>=0;c--)e.step(o[c])}function bge(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function bx(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!bge(i,s,o))break}return null}function Ege(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),c=o,l=a,u=le.empty,d=0;for(let p=s,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=le.from(r.node(p).copy(u)),d++):c--;let f=le.empty,h=0;for(let p=s,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,f=le.from(i.node(p).copy(f)),h++):l++;e.step(new xr(c,l,o,a,new Ie(u.append(f),d,h),u.size-d,!0))}function Sge(e,t,n=null,r=e){let i=Oge(e,t),s=i&&Tge(r,t);return s?i.map(IL).concat({type:t,attrs:n}).concat(s.map(IL)):null}function IL(e){return{type:e,attrs:null}}function Oge(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function Tge(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:t).contentMatch;for(let l=r;c&&l<i;l++)c=c.matchType(n.child(l).type);return!c||!c.validEnd?null:o}function wge(e,t,n){let r=le.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=le.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new xr(i,s,i,s,new Ie(r,0,0),n.length,!0))}function Age(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&Nge(e.doc,e.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!h?c=!1:!f&&h&&(c=!0)}c===!1&&Ige(e,o,a,s),p8(e,e.mapping.slice(s).map(a,1),r,void 0,c===null);let l=e.mapping.slice(s),u=l.map(a,1),d=l.map(a+o.nodeSize,1);return e.step(new xr(u,d,u+1,d-1,new Ie(le.from(r.create(i,null,o.marks)),0,0),1,!0)),c===!0&&xge(e,o,a,s),!1}})}function xge(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let c=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function Ige(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+s);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function Nge(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Rge(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new xr(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new Ie(le.from(o),0,0),1,!0))}function ig(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,u=n-2;l>s;l--,u--){let d=i.node(l),f=i.index(l);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(a,a,c?c.type:i.node(s+1).type)}function Pge(e,t,n=1,r){let i=e.doc.resolve(t),s=le.empty,o=le.empty;for(let a=i.depth,c=i.depth-n,l=n-1;a>c;a--,l--){s=le.from(i.node(a).copy(s));let u=r&&r[l];o=le.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}e.step(new qn(t,t,new Ie(s.append(o),n,n),!0))}function g8(e,t){let n=e.resolve(t),r=n.index();return kge(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function kge(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function Mge(e,t,n){let r=new qn(t-n,t+n,Ie.empty,!0);e.step(r)}function Dge(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Lge(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(a>0?1:0),l=r.node(o),u=!1;if(s==1)u=l.canReplace(c,c,i);else{let d=l.contentMatchAt(c).findWrapping(i.firstChild.type);u=d&&l.canReplaceWith(c,c,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Ex(e,t,n=t,r=Ie.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return m8(i,s,r)?new qn(t,n,r):new jge(i,s,r).fit()}function m8(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class jge{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=le.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=le.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let c=new Ie(s,o,a);return t>-1?new xr(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new qn(r.pos,i.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=lE(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:l}=this.frontier[a],u,d=null;if(n==1&&(o?l.matchType(o.type)||(d=l.fillBefore(le.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&l.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=lE(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ie(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=lE(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new Ie(Cd(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ie(Cd(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,c=o.openStart-t,l=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let h=a.size+t-(o.content.size-o.openEnd);for(;l<a.childCount;){let g=a.child(l),m=d.matchType(g.type);if(!m)break;l++,(l>1||c==0||g.content.size)&&(d=m,u.push(_8(g.mark(f.allowedMarks(g.marks)),l==1?c:0,l==a.childCount?h:-1)))}let p=l==a.childCount;p||(h=-1),this.placed=bd(this.placed,n,le.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=a;g<h;g++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=p?t==0?Ie.empty:new Ie(Cd(o.content,t-1,1),t-1,h<0?o.openEnd:t-1):new Ie(Cd(o.content,t,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!uE(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=uE(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:c,type:l}=this.frontier[a],u=uE(t,a,l,c,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=bd(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=bd(this.placed,this.depth,le.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(le.empty,!0);n.childCount&&(this.placed=bd(this.placed,this.frontier.length,n))}}function Cd(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Cd(e.firstChild.content,t-1,n)))}function bd(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(bd(e.lastChild.content,t-1,n)))}function lE(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function _8(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,_8(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(le.empty,!0)))),e.copy(r)}function uE(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Fge(n,s.content,o)?a:null}function Fge(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Uge(e){return e.spec.defining||e.spec.definingForContent}function Bge(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(m8(i,s,r))return e.step(new qn(t,n,r));let o=y8(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==h&&o.splice(1,0,-f)}let c=o.indexOf(a),l=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(l.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=l[f],p=Uge(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=l[h];if(p)for(let g=0;g<o.length;g++){let m=o[(g+c)%o.length],v=!0;m<0&&(v=!1,m=-m);let y=i.node(m-1),T=i.index(m-1);if(y.canReplaceWith(T,T,p.type,p.marks))return e.replace(i.before(m),v?s.after(m):n,new Ie(v8(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=o[f];h<0||(t=i.before(h),n=s.after(h))}}function v8(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(v8(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore(le.empty,!0))}return e}function Gge(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=Dge(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Ie(le.from(r),0,0))}function Wge(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=y8(r,i);for(let o=0;o<s.length;o++){let a=s[o],c=o==s.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}function y8(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Ll extends zn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return cn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return cn.fromReplace(t,this.pos,this.pos+1,new Ie(le.from(i),0,n.isLeaf?0:1))}getMap(){return Tr.empty}invert(t){return new Ll(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ll(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ll(n.pos,n.attr,n.value)}}zn.jsonID("attr",Ll);class mf extends zn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return cn.ok(r)}getMap(){return Tr.empty}invert(t){return new mf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new mf(n.attr,n.value)}}zn.jsonID("docAttr",mf);let ou=class extends Error{};ou=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};ou.prototype=Object.create(Error.prototype);ou.prototype.constructor=ou;ou.prototype.name="TransformError";class qge{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Dl}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new ou(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Ie.empty){let i=Ex(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Ie(le.from(r),0,0))}delete(t,n){return this.replace(t,n,Ie.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Bge(this,t,n,r),this}replaceRangeWith(t,n,r){return Gge(this,t,n,r),this}deleteRange(t,n){return Wge(this,t,n),this}lift(t,n){return Ege(this,t,n),this}join(t,n=1){return Mge(this,t,n),this}wrap(t,n){return wge(this,t,n),this}setBlockType(t,n=t,r,i=null){return Age(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return Rge(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Ll(t,n,r)),this}setDocAttribute(t,n){return this.step(new mf(t,n)),this}addNodeMark(t,n){return this.step(new Mo(t,n)),this}removeNodeMark(t,n){if(!(n instanceof pt)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new su(t,n)),this}split(t,n=1,r){return Pge(this,t,n,r),this}addMark(t,n,r){return yge(this,t,n,r),this}removeMark(t,n,r){return Cge(this,t,n,r),this}clearIncompatible(t,n,r){return p8(this,t,n,r),this}}const dE=Object.create(null);class lt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Vge(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ie.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:l}=o[a],u=t.mapping.slice(s);t.replaceRange(u.map(c.pos),u.map(l.pos),a?Ie.empty:n),a==0&&PL(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],c=t.mapping.slice(r),l=c.map(o.pos),u=c.map(a.pos);s?t.deleteRange(l,u):(t.replaceRangeWith(l,u,n),PL(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new ct(t):ul(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?ul(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):ul(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Ir(t.node(0))}static atStart(t){return ul(t,t,0,0,1)||new Ir(t)}static atEnd(t){return ul(t,t,t.content.size,t.childCount,-1)||new Ir(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=dE[n.type];if(!r)throw new RangeError("No selection type ".concat(n.type," defined"));return r.fromJSON(t,n)}static jsonID(t,n){if(t in dE)throw new RangeError("Duplicate use of selection JSON ID "+t);return dE[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ct.between(this.$anchor,this.$head).getBookmark()}}lt.prototype.visible=!0;class Vge{constructor(t,n){this.$from=t,this.$to=n}}let NL=!1;function RL(e){!NL&&!e.parent.inlineContent&&(NL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ct extends lt{constructor(t,n=t){RL(t),RL(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return lt.near(r);let i=t.resolve(n.map(this.anchor));return new ct(i.parent.inlineContent?i:r,r)}replace(t,n=Ie.empty){if(super.replace(t,n),n==Ie.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ct&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Z_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ct(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=lt.findFrom(n,r,!0)||lt.findFrom(n,-r,!0);if(s)n=s.$head;else return lt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(lt.findFrom(t,-r,!0)||lt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new ct(t,n)}}lt.jsonID("text",ct);class Z_{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Z_(t.map(this.anchor),t.map(this.head))}resolve(t){return ct.between(t.resolve(this.anchor),t.resolve(this.head))}}class Xe extends lt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?lt.near(s):new Xe(s)}content(){return new Ie(le.from(this.node),0,0)}eq(t){return t instanceof Xe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Sx(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Xe(t.resolve(n.anchor))}static create(t,n){return new Xe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Xe.prototype.visible=!1;lt.jsonID("node",Xe);class Sx{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Z_(r,r):new Sx(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Xe.isSelectable(r)?new Xe(n):lt.near(n)}}class Ir extends lt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ie.empty){if(n==Ie.empty){t.delete(0,t.doc.content.size);let r=lt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Ir(t)}map(t){return new Ir(t)}eq(t){return t instanceof Ir}getBookmark(){return $ge}}lt.jsonID("all",Ir);const $ge={map(){return this},resolve(e){return new Ir(e)}};function ul(e,t,n,r,i,s=!1){if(t.inlineContent)return ct.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&Xe.isSelectable(a))return Xe.create(e,n-(i<0?a.nodeSize:0))}else{let c=ul(e,a,n+i,i<0?a.childCount:0,i,s);if(c)return c}n+=a.nodeSize*i}return null}function PL(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof qn||i instanceof xr))return;let s=e.mapping.maps[r],o;s.forEach((a,c,l,u)=>{o==null&&(o=u)}),e.setSelection(lt.near(e.doc.resolve(o),n))}const kL=1,bp=2,ML=4;class Hge extends qge{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|kL)&~bp,this.storedMarks=null,this}get selectionSet(){return(this.updated&kL)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=bp,this}ensureMarks(t){return pt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bp)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~bp,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||pt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(lt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ML,this}get scrolledIntoView(){return(this.updated&ML)>0}}function DL(e,t){return!t||!e?e:e.bind(t)}class Ed{constructor(t,n,r){this.name=t,this.init=DL(n.init,r),this.apply=DL(n.apply,r)}}const zge=[new Ed("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Ed("selection",{init(e,t){return e.selection||lt.atStart(t.doc)},apply(e){return e.selection}}),new Ed("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Ed("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class fE{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=zge.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ed(r.key,r.spec.state,r))})}}class Cl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=i?i[o].n:0,l=i?i[o].state:this,u=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,l,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Cl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new Hge(this)}static create(t){let n=new fE(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Cl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new fE(this.schema,t.plugins),r=n.fields,i=new Cl(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new fE(t.schema,t.plugins),s=new Cl(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Za.fromJSON(t.schema,n.doc);else if(o.name=="selection")s.selection=lt.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],l=c.spec.state;if(c.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=l.fromJSON.call(c,t,n[a],s);return}}s[o.name]=o.init(t,s)}}),s}}function C8(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=C8(i,t,{})),n[r]=i}return n}class jr{constructor(t){this.spec=t,this.props={},t.props&&C8(t.props,this,this.props),this.key=t.key?t.key.key:b8("plugin")}getState(t){return t[this.key]}}const hE=Object.create(null);function b8(e){return e in hE?e+"$"+ ++hE[e]:(hE[e]=0,e+"$")}class ai{constructor(t="key"){this.key=b8(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const E8=new ai("contentReference"),uWe=e=>{const t=M_(e).map(({newContentReference:n})=>n);return new jr({key:E8,state:{init:(n,{doc:r})=>({displayedContentReferences:t}),apply:(n,r)=>r},props:{}})},LL=30,Yge=["p",0],Kge=["br"],S8={paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p",preserveWhitespace:"full"}],toDOM(){return Yge}},text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return Kge}},doc:{content:"block+"}};S8.template_variable={group:"inline",inline:!0,atom:!0,attrs:{key:{default:""},id:{default:""},value:{default:""}},toDOM:e=>{const t=e.attrs.value||e.attrs.key,n=t.length>LL?t.slice(0,LL)+"...":t;return["span",{"data-bracket-tag-id":e.attrs.id,class:"pm-bracket-tag","data-template-key":e.attrs.key},n]},parseDOM:[{tag:"span[data-bracket-tag-id]",getAttrs:e=>({id:e.getAttribute("data-bracket-tag-id"),key:e.getAttribute("data-template-key"),value:e.textContent})}]};const Jge={ecosystemMentionMark:{attrs:{id:{default:null},kind:{default:null},keyword:{default:null}},inclusive:!1,excludes:"",parseDOM:[{tag:"span.ecosystem-mention",getAttrs:e=>({id:e.dataset.id||null,keyword:e.dataset.keyword||null,kind:e.dataset.kind||null})}],toDOM(e){const{id:t,kind:n,keyword:r}=e.attrs;return["span",{class:"ecosystem-mention","data-id":t!=null?t:"","data-keyword":r!=null?r:"","data-kind":n!=null?n:""},0]}}},hm=new age({nodes:S8,marks:Jge}),O8=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Xge(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Ox=(e,t,n)=>{let r=Xge(e,n);if(!r)return!1;let i=T8(r);if(!i){let o=r.blockRange(),a=o&&bx(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&N8(e,i,t))return!0;if(r.parent.content.size==0&&(au(s,"end")||Xe.isSelectable(s))){let o=Ex(e.doc,r.before(),r.after(),Ie.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(au(s,"end")?lt.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Xe.create(a.doc,i.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function au(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Qge=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=T8(r)}let o=s&&s.nodeBefore;return!o||!Xe.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Xe.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function T8(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Zge(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const eme=(e,t,n)=>{let r=Zge(e,n);if(!r)return!1;let i=w8(r);if(!i)return!1;let s=i.nodeAfter;if(N8(e,i,t))return!0;if(r.parent.content.size==0&&(au(s,"start")||Xe.isSelectable(s))){let o=Ex(e.doc,r.before(),r.after(),Ie.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(au(s,"start")?lt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Xe.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},tme=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=w8(r)}let o=s&&s.nodeAfter;return!o||!Xe.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Xe.create(e.doc,s.pos)).scrollIntoView()),!0)};function w8(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const nme=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function Tx(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const rme=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Tx(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),c=e.tr.replaceWith(a,a,o.createAndFill());c.setSelection(lt.near(c.doc.resolve(a),1)),t(c.scrollIntoView())}return!0},A8=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Ir||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Tx(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(ct.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},x8=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ig(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&bx(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function ime(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Xe&&t.selection.node.isBlock)return!r.parentOffset||!ig(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=t.tr;(t.selection instanceof ct||t.selection instanceof Ir)&&o.deleteSelection();let a=r.depth==0?null:Tx(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=s&&a?[{type:a}]:void 0,l=ig(o.doc,o.mapping.map(r.pos),1,c);if(!c&&!l&&ig(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),l=!0),l&&(o.split(o.mapping.map(r.pos),1,c),!s&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),d=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const I8=ime(),sme=(e,t)=>(t&&t(e.tr.setSelection(new Ir(e.doc))),!0);function ome(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||g8(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function N8(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(ome(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let d=t.pos+i.nodeSize,f=le.empty;for(let g=s.length-1;g>=0;g--)f=le.from(s[g].create(null,f));f=le.from(r.copy(f));let h=e.tr.step(new xr(t.pos-1,d,t.pos,d,new Ie(f,1,0),s.length,!0)),p=d+2*s.length;g8(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let c=lt.findFrom(t,1),l=c&&c.$from.blockRange(c.$to),u=l&&bx(l);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(l,u).scrollIntoView()),!0;if(a&&au(i,"start",!0)&&au(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let g=le.empty;for(let v=f.length-1;v>=0;v--)g=le.from(f[v].copy(g));let m=e.tr.step(new xr(t.pos-f.length,t.pos+i.nodeSize,t.pos+p,t.pos+i.nodeSize-p,new Ie(g,f.length,0),0,!0));n(m.scrollIntoView())}return!0}}return!1}function R8(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(ct.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const ame=R8(-1),cme=R8(1);function dWe(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Sge(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function fWe(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(c,l)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)i=!0;else{let u=n.doc.resolve(l),d=u.index();i=u.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];s.setBlockType(a,c,e,t)}r(s.scrollIntoView())}return!0}}function lme(e,t,n){for(let r=0;r<t.length;r++){let{$from:i,$to:s}=t[r],o=i.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(n)}),o)return!0}return!1}function hWe(e,t=null){return function(n,r){let{empty:i,$cursor:s,ranges:o}=n.selection;if(i&&!s||!lme(n.doc,o,e))return!1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let a=!1,c=n.tr;for(let l=0;!a&&l<o.length;l++){let{$from:u,$to:d}=o[l];a=n.doc.rangeHasMark(u.pos,d.pos,e)}for(let l=0;l<o.length;l++){let{$from:u,$to:d}=o[l];if(a)c.removeMark(u.pos,d.pos,e);else{let f=u.pos,h=d.pos,p=u.nodeAfter,g=d.nodeBefore,m=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,v=g&&g.isText?/\s*$/.exec(g.text)[0].length:0;f+m<h&&(f+=m,h-=v),c.addMark(f,h,e.create(t))}}r(c.scrollIntoView())}return!0}}function ev(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let pE=ev(O8,Ox,Qge),jL=ev(O8,eme,tme);const Is={Enter:ev(nme,A8,x8,I8),"Mod-Enter":rme,Backspace:pE,"Mod-Backspace":pE,"Shift-Backspace":pE,Delete:jL,"Mod-Delete":jL,"Mod-a":sme},P8={"Ctrl-h":Is.Backspace,"Alt-Backspace":Is["Mod-Backspace"],"Ctrl-d":Is.Delete,"Ctrl-Alt-Backspace":Is["Mod-Delete"],"Alt-Delete":Is["Mod-Delete"],"Alt-d":Is["Mod-Delete"],"Ctrl-a":ame,"Ctrl-e":cme};for(let e in Is)P8[e]=Is[e];const ume=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,FL=ume?P8:Is;function k8(e){var t,n,r;if(e.childCount===0)return!0;if(e.childCount===1&&((t=e.firstChild)!=null&&t.isTextblock)){const i=e.firstChild.content;if(i.size===0)return!0;if(i.childCount===1&&((n=i.firstChild)!=null&&n.isText))return/^\s*$/.test((r=i.firstChild.text)!=null?r:"")}return!1}function dme(e){let t="",n=!1;const r=[];function i(s){if(n=!1,s.type.name==="paragraph")return s.descendants(o=>i(o)),t+="\n",n=!0,!1;if(s.marks.find(o=>o.type===hm.marks.ecosystemMentionMark))return r.push({symbol:UT.EcosystemMention,startIndex:t.length,endIndex:t.length+s.textContent.length}),t+=s.textContent,!1;if(s.type.name==="command_token"){const o=fme(s.textContent);return r.push({symbol:UT.SystemHint,startIndex:t.length,endIndex:t.length+o.length}),t+=o,!1}else{if(s.type.name==="template_variable")return t+=s.attrs.value||s.attrs.key,!1;s.isText&&s.text!==void 0&&(t+=s.text)}}return e.descendants(s=>i(s)),n&&t.endsWith("\n")&&(t=t.slice(0,-1)),{content:t,metadata:{custom_symbol_offsets:r}}}function fme(e){return e.replace(new RegExp("[\\u{E0000}-\\u{E007F}]+","gu"),"")}const wx=ev(A8,x8,I8);function pWe(e,t){const{schema:n}=e.state,r=t.split(/\r?\n/),i=le.fromArray(r.map(s=>s===""?n.nodes.paragraph.create():n.nodes.paragraph.create(null,n.text(s))));e.dispatch(e.state.tr.replaceWith(0,e.state.doc.content.size,i)),e.hasFocus()&&e.dispatch(e.state.tr.setSelection(ct.atEnd(e.state.doc)).scrollIntoView())}function gWe(e){e.hasFocus()?e.dispatch(e.state.tr.scrollIntoView()):(e.focus(),e.dispatch(e.state.tr.setSelection(ct.atEnd(e.state.doc)).scrollIntoView()))}function mWe(e){return hme(e,0,e.state.doc.content.size)}function hme(e,t,n){e.dispatch(e.state.tr.delete(t,n))}function _We(e,t){M8(e,t,!1,!1)}function vWe(e,t){e.dispatch(e.state.tr.setSelection(ct.create(e.state.doc,0))),wx(e.state,e.dispatch),e.dispatch(e.state.tr.insertText(t,0))}function M8(e,t,n=!1,r=!0){if(n){gme(e,t);return}const{schema:i}=e.state,s=t.split("\n");if(r&&e.dispatch(e.state.tr.deleteSelection()),e.dispatch(e.state.tr.insertText(s[0])),s.length>1){wx(e.state,e.dispatch);const o=s.slice(1),a=le.fromArray(o.map(l=>i.nodes.paragraph.create(null,l===""?null:i.text(l)))),c=new Ie(a,0,0);e.dispatch(e.state.tr.replaceSelection(c)),Ox(e.state,e.dispatch,e)}}const pme=/oaicite:(\d+)/g;function gme(e,t){const{schema:n}=e.state,r=t.split("\n");e.dispatch(e.state.tr.deleteSelection());const{tr:i}=e.state,{$from:s}=i.selection;s.parent.isTextblock||(i.insert(s.pos,n.nodes.paragraph.create()),e.dispatch(i),e.focus());const{selection:o}=e.state,{$from:a}=o,c=r[0],l=UL(c,n,e),u=le.fromArray(l);let d=u;a.parent.type.validContent(u)||(d=n.nodes.paragraph.create(null,u));const f=new Ie(le.from(d),0,0);if(e.dispatch(e.state.tr.replaceSelection(f)),r.length>1){wx(e.state,e.dispatch);const p=r.slice(1).map(v=>{const y=UL(v,n,e);return n.nodes.paragraph.create(null,y)}),g=le.fromArray(p),m=new Ie(g,0,0);e.dispatch(e.state.tr.replaceSelection(m)),Ox(e.state,e.dispatch,e)}}function UL(e,t,n){const r=[];let i=0,s;if(!!!E8.get(n.state))return[t.text(e)];for(;(s=pme.exec(e))!=null;){if(s.index>i){const l=e.slice(i,s.index);r.push(t.text(l))}const a=s[1],c=mme(a,t);r.push(c),i=s.index+s[0].length}if(i<e.length){const a=e.slice(i);r.push(t.text(a))}return r}function mme(e,t){const n=qpe({value:"oaicite:"+e},t);if(n==null)throw new Error("Failed to create text node for content reference");const r={index:e,displayLayout:"inline"},i=le.fromArray([n]);return t.nodes.contentReference.create(r,i)}const yWe=e=>hr(e).checkGate("223382091");function CWe(e,t){const r=e.state.tr;let i=0;return r.doc.descendants((s,o)=>{if(s.isText&&s.text){if(typeof t=="string"&&s.text.startsWith(t))i=t.length;else if(t instanceof RegExp){const a=s.text.match(t);(a==null?void 0:a.index)===0&&(i=a[0].length)}if(i){const a=s.text.substring(i).trimStart();i=s.text.length-a.length,r.delete(o,o+i)}}return!s.isLeaf}),i>0?(e.dispatch(r),!0):!1}function bWe(e,t,n){const i=e.state.tr,s=[];i.doc.descendants((o,a)=>{!o.isText||o.text===void 0||s.push({node:o,pos:a})}),s.reverse(),s.forEach(({node:o,pos:a})=>{!o.isText||o.text===void 0||o.text.includes(t)&&i.insertText(o.text.replaceAll(t,n),a,a+o.text.length)}),e.dispatch(i)}const D8=new ai("transactionEventPlugin"),_1="prosemirrorDispatchTransaction";function L8(e,t){const{eventTarget:n}=D8.getState(e.state);return n.addEventListener(_1,t),()=>{n.removeEventListener(_1,t)}}function _me(e){return new jr({key:D8,state:{init(){return{eventTarget:e}},apply(t,n){return n}}})}function vme(e,t){let n=!1;return Oe(()=>n=!t()&&(n||e()))}var gE,BL;function yme(){if(BL)return gE;BL=1;var e=Li(),t=function(){return e.Date.now()};return gE=t,gE}var mE,GL;function j8(){if(GL)return mE;GL=1;var e=ji(),t=yme(),n=kW(),r="Expected a function",i=Math.max,s=Math.min;function o(a,c,l){var u,d,f,h,p,g,m=0,v=!1,y=!1,T=!0;if(typeof a!="function")throw new TypeError(r);c=n(c)||0,e(l)&&(v=!!l.leading,y="maxWait"in l,f=y?i(n(l.maxWait)||0,c):f,T="trailing"in l?!!l.trailing:T);function b(D){var F=u,G=d;return u=d=void 0,m=D,h=a.apply(G,F),h}function C(D){return m=D,p=setTimeout(A,c),v?b(D):h}function O(D){var F=D-g,G=D-m,Y=c-F;return y?s(Y,f-G):Y}function w(D){var F=D-g,G=D-m;return g===void 0||F>=c||F<0||y&&G>=f}function A(){var D=t();if(w(D))return x(D);p=setTimeout(A,O(D))}function x(D){return p=void 0,T&&u?b(D):(u=d=void 0,h)}function R(){p!==void 0&&clearTimeout(p),m=0,u=g=d=p=void 0}function P(){return p===void 0?h:x(t())}function L(){var D=t(),F=w(D);if(u=arguments,d=this,g=D,F){if(p===void 0)return C(g);if(y)return clearTimeout(p),p=setTimeout(A,c),b(g)}return p===void 0&&(p=setTimeout(A,c)),h}return L.cancel=R,L.flush=P,L}return mE=o,mE}var Cme=j8();const bme=Gt(Cme);var _E,WL;function Eme(){if(WL)return _E;WL=1;var e=j8(),t=ji(),n="Expected a function";function r(i,s,o){var a=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),e(i,s,{leading:a,maxWait:s,trailing:c})}return _E=r,_E}var Sme=Eme();const F8=Gt(Sme),sg=new ai("contextConnectorPaste");function Ome(){return new jr({key:sg,state:{init:()=>({}),apply(e,t){const n=e.getMeta(sg);return n!=null?n:t}},props:{transformPasted(e,t){var r;const n=(r=sg.getState(t.state))==null?void 0:r.transformPasted;return n?n(e,t):e}}})}function EWe(e,t){e.dispatch(e.state.tr.setMeta(sg,t))}const U8={shift:!1,ctrl:!1,meta:!1},v1=ir(()=>U8),Tme=v1.getState;function wme(e){return at(e)?UB(e,"4147197039"):null}const Ame=5e3;function xme(e,t){var o;const n=wme(e);if(Tme().shift||!t||t.length<Ame)return!1;const i=(o=n==null?void 0:n.get("paste_threshold",0))!=null?o:0;return i>0?t.length>=i:!1}async function SWe(e){const t=await k(()=>import("./i9tvkxrf32evxthr.js"),__vite__mapDeps([21,1,22]));await new Promise(r=>setTimeout(r,0));const n=t.getFileTypeGuess(e);return await new Promise(r=>setTimeout(r,0)),n}const Ime=20,OWe=({enabled:e=!0,includeAll:t=!1,limit:n=Ime})=>ta({queryKey:["prompt-templates",{includeAll:t,limit:n}],enabled:e,initialPageParam:void 0,getNextPageParam:r=>{var i;return(i=r.query_continuation)!=null?i:void 0},queryFn:({pageParam:r})=>{const i={include_all:t,limit:n};return r&&(i.query_continuation=r),Z.safeGet("/templated_prompts/",{parameters:{query:i}})}}),Nme=20,TWe=({search:e,includeAll:t=!1,enabled:n=!0,limit:r=Nme})=>ta({queryKey:["prompt-templates-search",{includeAll:t,limit:r,search:e}],enabled:n&&e.length>0,initialPageParam:void 0,getNextPageParam:i=>{var s;return(s=i.query_continuation)!=null?s:void 0},queryFn:async({pageParam:i})=>{const s={q:e,include_all:t,limit:r};return i&&(s.query_continuation=i),Z.safeGet("/templated_prompts/search",{parameters:{query:s}})}});function Rme(e){var o;const t="3058946295",n="2236370269";return((o=$e(e,"46455729"))!=null?o:!1)?!0:(un(e,n),UB(e,t).get("enabled",!1))}const wWe=({onError:e,onSuccess:t})=>Kt({mutationFn:n=>Z.safePost("/templated_prompts/",{requestBody:n}),onError:e,onSuccess:t}),AWe=({onError:e,onSuccess:t})=>Kt({mutationFn:({promptId:n,prompt:r})=>Z.safePatch("/templated_prompts/{prompt_id}",{parameters:{path:{prompt_id:n}},requestBody:r}),onError:e,onSuccess:t}),xWe=({onError:e,onSuccess:t,share:n})=>Kt({mutationFn:r=>Z.safePost("/templated_prompts/{prompt_id}/toggle_share",{parameters:{path:{prompt_id:r}},requestBody:{shared_to_workspace:n}}),onError:e,onSuccess:t}),IWe=({onError:e,onSuccess:t})=>Kt({mutationFn:({promptId:n,relationship:r})=>Z.safePost("/templated_prompts/{prompt_id}/update_subscription",{parameters:{path:{prompt_id:n}},requestBody:{relationship:r}}),onError:e,onSuccess:t}),NWe=({onError:e,onSuccess:t})=>Kt({mutationFn:n=>Z.safePost("/templated_prompts/{prompt_id}/increment_invocation",{parameters:{path:{prompt_id:n}}}),onError:e,onSuccess:t});var Xo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},pm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Pme=typeof navigator<"u"&&/Mac/.test(navigator.platform),kme=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var kn=0;kn<10;kn++)Xo[48+kn]=Xo[96+kn]=String(kn);for(var kn=1;kn<=24;kn++)Xo[kn+111]="F"+kn;for(var kn=65;kn<=90;kn++)Xo[kn]=String.fromCharCode(kn+32),pm[kn]=String.fromCharCode(kn);for(var vE in Xo)pm.hasOwnProperty(vE)||(pm[vE]=Xo[vE]);function Mme(e){var t=Pme&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||kme&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?pm:Xo)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Dme=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Lme(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a++){let c=t[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Dme?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function jme(e){let t=Object.create(null);for(let n in e)t[Lme(n)]=e[n];return t}function yE(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function B8(e){return new jr({props:{handleKeyDown:G8(e)}})}function G8(e){let t=jme(e);return function(n,r){let i=Mme(r),s,o=t[yE(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[yE(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Xo[r.keyCode])&&s!=i){let a=t[yE(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Mn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},_f=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let y1=null;const As=function(e,t,n){let r=y1||(y1=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},Fme=function(){y1=null},Cc=function(e,t,n,r){return n&&(qL(e,t,n,r,-1)||qL(e,t,n,r,1))},Ume=/^(img|br|input|textarea|hr)$/i;function qL(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Zi(e))){let s=e.parentNode;if(!s||s.nodeType!=1||Oh(e)||Ume.test(e.nodeName)||e.contentEditable=="false")return!1;t=Mn(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Zi(e):0}else return!1}}function Zi(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Bme(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Zi(e)}else if(e.parentNode&&!Oh(e))t=Mn(e),e=e.parentNode;else return null}}function Gme(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Oh(e))t=Mn(e)+1,e=e.parentNode;else return null}}function Wme(e,t,n){for(let r=t==0,i=t==Zi(e);r||i;){if(e==n)return!0;let s=Mn(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Zi(e)}}function Oh(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const tv=function(e){return e.focusNode&&Cc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Fa(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function qme(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Vme(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const fs=typeof navigator<"u"?navigator:null,VL=typeof document<"u"?document:null,da=fs&&fs.userAgent||"",C1=/Edge\/(\d+)/.exec(da),W8=/MSIE \d/.exec(da),b1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(da),ur=!!(W8||b1||C1),Fo=W8?document.documentMode:b1?+b1[1]:C1?+C1[1]:0,Ni=!ur&&/gecko\/(\d+)/i.test(da);Ni&&+(/Firefox\/(\d+)/.exec(da)||[0,0])[1];const E1=!ur&&/Chrome\/(\d+)/.exec(da),$n=!!E1,q8=E1?+E1[1]:0,tr=!ur&&!!fs&&/Apple Computer/.test(fs.vendor),cu=tr&&(/Mobile\/\w+/.test(da)||!!fs&&fs.maxTouchPoints>2),Hr=cu||(fs?/Mac/.test(fs.platform):!1),$me=fs?/Win/.test(fs.platform):!1,_i=/Android \d/.test(da),Th=!!VL&&"webkitFontSmoothing"in VL.documentElement.style,Hme=Th?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function zme(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ts(e,t){return typeof e=="number"?e:e[t]}function Yme(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function $L(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let o=n||e.dom;o;o=_f(o)){if(o.nodeType!=1)continue;let a=o,c=a==s.body,l=c?zme(s):Yme(a),u=0,d=0;if(t.top<l.top+Ts(r,"top")?d=-(l.top-t.top+Ts(i,"top")):t.bottom>l.bottom-Ts(r,"bottom")&&(d=t.bottom-t.top>l.bottom-l.top?t.top+Ts(i,"top")-l.top:t.bottom-l.bottom+Ts(i,"bottom")),t.left<l.left+Ts(r,"left")?u=-(l.left-t.left+Ts(i,"left")):t.right>l.right-Ts(r,"right")&&(u=t.right-l.right+Ts(i,"right")),u||d)if(c)s.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,g=a.scrollTop-h;t={left:t.left-p,top:t.top-g,right:t.right-p,bottom:t.bottom-g}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Kme(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(s,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=n-20){r=a,i=c.top;break}}return{refDOM:r,refTop:i,stack:V8(e.dom)}}function V8(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=_f(r));return t}function Jme({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;$8(n,r==0?0:r-t)}function $8(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Xc=null;function Xme(e){if(e.setActive)return e.setActive();if(Xc)return e.focus(Xc);let t=V8(e);e.focus(Xc==null?{get preventScroll(){return Xc={preventScroll:!0},!0}}:void 0),Xc||(Xc=!1,$8(t,0))}function H8(e,t){let n,r=2e8,i,s=0,o=t.top,a=t.top,c,l;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=As(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&g&&(s=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!c&&p.left<=t.left&&p.right>=t.left&&(c=u,l={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=d+1)}}return!n&&c&&(n=c,i=l,r=0),n&&n.nodeType==3?Qme(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:H8(n,i)}function Qme(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=_o(r,1);if(s.top!=s.bottom&&Ax(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function Ax(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Zme(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function e_e(e,t,n){let{node:r,offset:i}=H8(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function t_e(e,t,n,r){let i=-1;for(let s=t,o=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let c=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&c.left>r.left||c.top>r.top?i=a.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function z8(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=e.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let l=a[c];if(Ax(t,l))return z8(o,t,l)}}if((s=(s+1)%r)==i)break}return e}function n_e(e,t){let n=e.dom.ownerDocument,r,i=0,s=Vme(n,t.left,t.top);s&&({node:r,offset:i}=s);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=e.dom.getBoundingClientRect();if(!Ax(t,l)||(o=z8(e.dom,t,l),!o))return null}if(tr)for(let l=o;r&&l;l=_f(l))l.draggable&&(r=void 0);if(o=Zme(o,t),r){if(Ni&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let l;Th&&i&&r.nodeType==1&&(l=r.childNodes[i-1]).nodeType==1&&l.contentEditable=="false"&&l.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=t_e(e,r,i,t))}a==null&&(a=e_e(e,o,t));let c=e.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function HL(e){return e.top<e.bottom||e.left<e.right}function _o(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(HL(r))return r}return Array.prototype.find.call(n,HL)||e.getBoundingClientRect()}const r_e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Y8(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),o=Th||Ni;if(r.nodeType==3)if(o&&(r_e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=_o(As(r,i,i),n);if(Ni&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let l=_o(As(r,i-1,i-1),-1);if(l.top==c.top){let u=_o(As(r,i,i+1),-1);if(u.top!=c.top)return Xu(u,u.left<l.left)}}return c}else{let c=i,l=i,u=n<0?1:-1;return n<0&&!i?(l++,u=-1):n>=0&&i==r.nodeValue.length?(c--,u=1):n<0?c--:l++,Xu(_o(As(r,c,l),u),u<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Zi(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return CE(c.getBoundingClientRect(),!1)}if(s==null&&i<Zi(r)){let c=r.childNodes[i];if(c.nodeType==1)return CE(c.getBoundingClientRect(),!0)}return CE(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Zi(r))){let c=r.childNodes[i-1],l=c.nodeType==3?As(c,Zi(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(l)return Xu(_o(l,1),!1)}if(s==null&&i<Zi(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let l=c?c.nodeType==3?As(c,0,o?0:1):c.nodeType==1?c:null:null;if(l)return Xu(_o(l,-1),!0)}return Xu(_o(r.nodeType==3?As(r):r,-n),n>=0)}function Xu(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function CE(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function K8(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function i_e(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return K8(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=Y8(e,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=As(a,0,a.nodeValue.length).getClientRects();else continue;for(let l=0;l<c.length;l++){let u=c[l];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const s_e=/[\u0590-\u08ac]/;function o_e(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=e.domSelection();return!s_e.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:K8(e,t,()=>{let{focusNode:c,focusOffset:l,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),m=p&&!h.contains(p.nodeType==1?p:p.parentNode)||c==p&&l==g;try{a.collapse(u,d),c&&(c!=u||l!=d)&&a.extend&&a.extend(c,l)}catch(v){}return f!=null&&(a.caretBidiLevel=f),m})}let zL=null,YL=null,KL=!1;function a_e(e,t,n){return zL==t&&YL==n?KL:(zL=t,YL=n,KL=n=="up"||n=="down"?i_e(e,t,n):o_e(e,t,n))}const ei=0,JL=1,Ga=2,hs=3;class wh{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ei,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Mn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof X8){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof J8&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Mn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Mn(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let c=this.children[a],l=o+c.size;if(i==-1&&t<=l){let u=o+c.border;if(t>=u&&n<=l-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,u);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Mn(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(l>n||a==this.children.length-1)){n=l;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Mn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),o=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],g=h+p.size;if(s>h&&o<g)return p.setSelection(t-h-p.border,n-h-p.border,r,i);h=g}let a=this.domFromPos(t,t?-1:1),c=n==t?a:this.domFromPos(n,n?-1:1),l=r.getSelection(),u=!1;if((Ni||tr)&&t==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]=="\n"),u&&h==f.nodeValue.length)for(let p=f,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=c={node:g.parentNode,offset:Mn(g)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Ni&&l.focusNode&&l.focusNode!=c.node&&l.focusNode.nodeType==1){let f=l.focusNode.childNodes[l.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&tr)&&Cc(a.node,a.offset,l.anchorNode,l.anchorOffset)&&Cc(c.node,c.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||t==n)&&!u){l.collapse(a.node,a.offset);try{t!=n&&l.extend(c.node,c.offset),d=!0}catch(f){}}if(!d){if(t>n){let h=a;a=c,c=h}let f=document.createRange();f.setEnd(c.node,c.offset),f.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+s.border,c=o-s.border;if(t>=a&&n<=c){this.dirty=t==r||n==o?Ga:JL,t==a&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=hs:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ga:hs}r=o}this.dirty=Ga}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Ga:JL;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class J8 extends wh{constructor(t,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==ei&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class c_e extends wh{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class bc extends wh{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Nu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new bc(t,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&hs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=hs&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=ei){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ei}}slice(t,n,r){let i=bc.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=T1(s,n,o,r)),t>0&&(s=T1(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Uo extends wh{constructor(t,n,r,i,s,o,a,c,l){super(t,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,s,o){let a=s.nodeViews[n.type.name],c,l=a&&a(n,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,i),u=l&&l.dom,d=l&&l.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Nu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=eV(u,r,n),l?c=new l_e(t,n,r,i,u,d||null,f,l,s,o+1):n.isText?new nv(t,n,r,i,u,f,s):new Uo(t,n,r,i,u,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>le.empty)}return t}matchesNode(t,n,r){return this.dirty==ei&&t.eq(this.node)&&O1(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,c=new d_e(this,o&&o.node,t);p_e(this.node,this.innerDeco,(l,u,d)=>{l.spec.marks?c.syncToMarks(l.spec.marks,r,t):l.type.side>=0&&!d&&c.syncToMarks(u==this.node.childCount?pt.none:this.node.child(u).marks,r,t),c.placeWidget(l,t,i)},(l,u,d,f)=>{c.syncToMarks(l.marks,r,t);let h;c.findNodeMatch(l,u,d,f)||a&&t.state.selection.from>i&&t.state.selection.to<i+l.nodeSize&&(h=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(l,u,d,h,t)||c.updateNextNode(l,u,d,t,f,i)||c.addNode(l,u,d,t,i),i+=l.nodeSize}),c.syncToMarks([],r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Ga)&&(o&&this.protectLocalComposition(t,o),Q8(this.contentDOM,this.children,t),cu&&g_e(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof ct)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=m_e(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new c_e(this,s,n,i);t.input.compositionNodes.push(o),this.children=T1(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==hs||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ei}updateOuterDeco(t){if(O1(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Z8(this.dom,this.nodeDOM,S1(this.outerDeco,this.node,n),S1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function XL(e,t,n,r,i){eV(r,t,e);let s=new Uo(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class nv extends Uo{constructor(t,n,r,i,s,o,a){super(t,n,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==hs||this.dirty!=ei&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ei||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=ei,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new nv(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=hs)}get domAtom(){return!1}isText(t){return this.node.text==t}}class X8 extends wh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ei&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class l_e extends Uo{constructor(t,n,r,i,s,o,a,c,l,u){super(t,n,r,i,s,o,a,l,u),this.spec=c}update(t,n,r,i){if(this.dirty==hs)return!1;if(this.spec.update){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Q8(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=QL(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(o instanceof bc){let c=r?r.previousSibling:e.lastChild;Q8(o.contentDOM,o.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=QL(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Gd=function(e){e&&(this.nodeName=e)};Gd.prototype=Object.create(null);const Wa=[new Gd];function S1(e,t,n){if(e.length==0)return Wa;let r=n?Wa[0]:new Gd,i=[r];for(let s=0;s<e.length;s++){let o=e[s].type.attrs;if(o){o.nodeName&&i.push(r=new Gd(o.nodeName));for(let a in o){let c=o[a];c!=null&&(n&&i.length==1&&i.push(r=new Gd(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return i}function Z8(e,t,n,r){if(n==Wa&&r==Wa)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let c;a&&a.nodeName==o.nodeName&&i!=e&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=Wa[0]),i=c}u_e(i,a||Wa[0],o)}return i}function u_e(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function eV(e,t,n){return Z8(e,e,Wa,S1(t,n,e.nodeType!=1))}function O1(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function QL(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class d_e{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=f_e(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=ei,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let l=this.top.children[c];if(l.matchesMark(t[s])&&!this.isLocked(l.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=bc.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let l=this.top.children[a];if(l.matchesNode(t,n,r)&&!this.preMatch.matched.has(l)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let o=this.top.children[i];return o.dirty==hs&&o.dom==o.contentDOM&&(o.dirty=Ga),o.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Uo){let l=this.preMatch.matched.get(c);if(l!=null&&l!=s)return!1;let u=c.dom,d,f=this.isLocked(u)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=hs&&O1(n,c.outerDeco));if(!f&&c.update(t,n,r,i))return this.destroyBetween(this.index,a),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(c,t,n,r,i,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Ga,d.updateChildren(i,o+1),d.dirty=ei),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=Uo.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let c of a.children)c.parent=a}return t.destroy(),a}addNode(t,n,r,i,s){let o=Uo.create(this.top,t,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new J8(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof bc;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof nv)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((tr||$n)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new X8(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function f_e(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let l=n.children[r-1];if(l instanceof bc)n=l,r=l.children.length;else{a=l,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=e.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function h_e(e,t){return e.type.side-t.type.side}function p_e(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let l=0;l<e.childCount;l++){let u=e.child(l);r(u,i,t.forChild(s,u),l),s+=u.nodeSize}return}let o=0,a=[],c=null;for(let l=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let m=i[o++];m.widget&&(u?(d||(d=[u])).push(m):u=m)}if(u)if(d){d.sort(h_e);for(let m=0;m<d.length;m++)n(d[m],l,!!c)}else n(u,l,!!c);let f,h;if(c)h=-1,f=c,c=null;else if(l<e.childCount)h=l,f=e.child(l++);else break;for(let m=0;m<a.length;m++)a[m].to<=s&&a.splice(m--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+f.nodeSize;if(f.isText){let m=p;o<i.length&&i[o].from<m&&(m=i[o].from);for(let v=0;v<a.length;v++)a[v].to<m&&(m=a[v].to);m<p&&(c=f.cut(m-s),f=f.cut(0,m-s),p=m,h=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=f.isInline&&!f.isLeaf?a.filter(m=>!m.inline):a.slice();r(f,g,t.forChild(s,f),h),s=p}}function g_e(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function m_e(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let o=e.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<e.childCount;){let l=e.child(i++);if(s+=l.nodeSize,!l.isText)break;c+=l.text}if(s>=n){if(s>=r&&c.slice(r-t.length-a,r-a)==t)return r-t.length;let l=a<r?c.lastIndexOf(t,r-a-1):-1;if(l>=0&&l+t.length+a>=n)return a+l;if(n==r&&c.length>=r+t.length-a&&c.slice(r-a,r-a+t.length)==t)return r}}return-1}function T1(e,t,n,r,i){let s=[];for(let o=0,a=0;o<e.length;o++){let c=e[o],l=a,u=a+=c.size;l>=n||u<=t?s.push(c):(l<t&&s.push(c.slice(0,t-l,r)),i&&(s.push(i),i=void 0),u>n&&s.push(c.slice(n-l,c.size,r)))}return s}function xx(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),c,l;if(tv(n)){for(c=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&Xe.isSelectable(u)&&i.parent&&!(u.isInline&&Wme(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;l=new Xe(o==d?a:r.resolve(d))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;c=r.resolve(u)}if(!l){let u=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;l=Ix(e,c,a,u)}return l}function tV(e){return e.editable?e.hasFocus():rV(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Bs(e,t=!1){let n=e.state.selection;if(nV(e,n),!!tV(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&$n){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Cc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)v_e(e);else{let{anchor:r,head:i}=n,s,o;ZL&&!(n instanceof ct)&&(n.$from.parent.inlineContent||(s=e3(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=e3(e,n.to))),e.docView.setSelection(r,i,e.root,t),ZL&&(s&&t3(s),o&&t3(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&__e(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const ZL=tr||$n&&q8<63;function e3(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(tr&&i&&i.contentEditable=="false")return bE(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return bE(i);if(s)return bE(s)}}function bE(e){return e.contentEditable="true",tr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function t3(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function __e(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!tV(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function v_e(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Mn(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&ur&&Fo<=11&&(r.disabled=!0,r.disabled=!1)}function nV(e,t){if(t instanceof Xe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(n3(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else n3(e)}function n3(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Ix(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||ct.between(t,n,r)}function r3(e){return e.editable&&!e.hasFocus()?!1:rV(e)}function rV(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function y_e(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Cc(t.node,t.offset,n.anchorNode,n.anchorOffset)}function w1(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&lt.findFrom(s,t)}function bo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function i3(e,t,n){let r=e.state.selection;if(r instanceof ct)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return bo(e,new ct(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=w1(e.state,t);return i&&i instanceof Xe?bo(e,i):!1}else if(!(Hr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?Xe.isSelectable(s)?bo(e,new Xe(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Th?bo(e,new ct(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Xe&&r.node.isInline)return bo(e,new ct(t>0?r.$to:r.$from));{let i=w1(e.state,t);return i?bo(e,i):!1}}}function gm(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Wd(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Qc(e,t){return t<0?C_e(e):b_e(e)}function C_e(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,o=!1;for(Ni&&n.nodeType==1&&r<gm(n)&&Wd(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Wd(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(iV(n))break;{let a=n.previousSibling;for(;a&&Wd(a,-1);)i=n.parentNode,s=Mn(a),a=a.previousSibling;if(a)n=a,r=gm(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?A1(e,n,r):i&&A1(e,i,s)}function b_e(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=gm(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Wd(a,1))s=n,o=++r;else break}else{if(iV(n))break;{let a=n.nextSibling;for(;a&&Wd(a,1);)s=a.parentNode,o=Mn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=gm(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&A1(e,s,o)}function iV(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function E_e(e,t){for(;e&&t==e.childNodes.length&&!Oh(e);)t=Mn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function S_e(e,t){for(;e&&!t&&!Oh(e);)t=Mn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function A1(e,t,n){if(t.nodeType!=3){let s,o;(o=E_e(t,n))?(t=o,n=0):(s=S_e(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(tv(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Bs(e)},50)}function s3(e,t){let n=e.state.doc.resolve(t);if(!($n||$me)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function o3(e,t,n){let r=e.state.selection;if(r instanceof ct&&!r.empty||n.indexOf("s")>-1||Hr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=w1(e.state,t);if(o&&o instanceof Xe)return bo(e,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Ir?lt.near(o,t):lt.findFrom(o,t);return a?bo(e,a):!1}return!1}function a3(e,t){if(!(e.state.selection instanceof ct))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=e.state.tr;return t<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),e.dispatch(o),!0}return!1}function c3(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function O_e(e){if(!tr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;c3(e,r,"true"),setTimeout(()=>c3(e,r,"false"),20)}return!1}function T_e(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function w_e(e,t){let n=t.keyCode,r=T_e(t);if(n==8||Hr&&n==72&&r=="c")return a3(e,-1)||Qc(e,-1);if(n==46&&!t.shiftKey||Hr&&n==68&&r=="c")return a3(e,1)||Qc(e,1);if(n==13||n==27)return!0;if(n==37||Hr&&n==66&&r=="c"){let i=n==37?s3(e,e.state.selection.from)=="ltr"?-1:1:-1;return i3(e,i,r)||Qc(e,i)}else if(n==39||Hr&&n==70&&r=="c"){let i=n==39?s3(e,e.state.selection.from)=="ltr"?1:-1:1;return i3(e,i,r)||Qc(e,i)}else{if(n==38||Hr&&n==80&&r=="c")return o3(e,-1,r)||Qc(e,-1);if(n==40||Hr&&n==78&&r=="c")return O_e(e)||o3(e,1,r)||Qc(e,1);if(r==(Hr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function sV(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=e.someProp("clipboardSerializer")||Nu.fromSchema(e.state.schema),a=dV(),c=a.createElement("div");c.appendChild(o.serializeFragment(r,{document:a}));let l=c.firstChild,u,d=0;for(;l&&l.nodeType==1&&(u=uV[l.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p),d++}l=c.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice","".concat(i," ").concat(s).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n)));let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:c,text:f,slice:t}}function oV(e,t,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!t)return null;let c=t&&(r||s||!n);if(c){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return t?new Ie(le.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):Ie.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)a=d;else{let f=i.marks(),{schema:h}=e.state,p=Nu.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=o.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(h.text(g,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=I_e(n),Th&&N_e(o);let l=o&&o.querySelector("[data-pm-slice]"),u=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||gf.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!A_e.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=R_e(l3(a,+u[1],+u[2]),u[4]);else if(a=Ie.maxOpen(x_e(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=l3(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const A_e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function x_e(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,o=[];if(e.forEach(a=>{if(!o)return;let c=i.findWrapping(a.type),l;if(!c)return o=null;if(l=o.length&&s.length&&cV(c,s,a,o[o.length-1],0))o[o.length-1]=l;else{o.length&&(o[o.length-1]=lV(o[o.length-1],s.length));let u=aV(a,c);o.push(u),i=i.matchType(u.type),s=c}}),o)return le.from(o)}return e}function aV(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,le.from(e));return e}function cV(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=cV(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(le.from(aV(n,e,i+1))))}}function lV(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,lV(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(le.empty,!0);return e.copy(n.append(r))}function x1(e,t,n,r,i,s){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(s=0),i<r-1&&(a=x1(a,t,n,r,i+1,s)),i>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(le.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function l3(e,t,n){return t<e.openStart&&(e=new Ie(x1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ie(x1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const uV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let u3=null;function dV(){return u3||(u3=document.implementation.createHTMLDocument("title"))}function I_e(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=dV().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&uV[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=e,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function N_e(e){let t=e.querySelectorAll($n?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function R_e(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(a){return e}let{content:i,openStart:s,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let c=n.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;i=le.from(c.create(r[a+1],i)),s++,o++}return new Ie(i,s,o)}const nr={},rr={},P_e={touchstart:!0,touchmove:!0};class k_e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function M_e(e){for(let t in nr){let n=nr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{L_e(e,r)&&!Nx(e,r)&&(e.editable||!(r.type in rr))&&n(e,r)},P_e[t]?{passive:!0}:void 0)}tr&&e.dom.addEventListener("input",()=>null),I1(e)}function Do(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function D_e(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function I1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>Nx(e,r))})}function Nx(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function L_e(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function j_e(e,t){!Nx(e,t)&&nr[t.type]&&(e.editable||!(t.type in rr))&&nr[t.type](e,t)}rr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!hV(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(_i&&$n&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),cu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Fa(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||w_e(e,n)?n.preventDefault():Do(e,"key")};rr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};rr.keypress=(e,t)=>{let n=t;if(hV(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Hr&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof ct)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function rv(e){return{left:e.clientX,top:e.clientY}}function F_e(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Rx(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,a=>o>s.depth?a(e,n,s.nodeAfter,s.before(o),i,!0):a(e,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function jl(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function U_e(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Xe.isSelectable(r)?(jl(e,new Xe(n)),!0):!1}function B_e(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Xe&&(r=n.node);let s=e.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Xe.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(jl(e,Xe.create(e.state.doc,i)),!0):!1}function G_e(e,t,n,r,i){return Rx(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?B_e(e,n):U_e(e,n))}function W_e(e,t,n,r){return Rx(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function q_e(e,t,n,r){return Rx(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||V_e(e,n,r)}function V_e(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(jl(e,ct.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)jl(e,ct.create(r,a+1,a+1+o.content.size));else if(Xe.isSelectable(o))jl(e,Xe.create(r,a));else continue;return!0}}function Px(e){return mm(e)}const fV=Hr?"metaKey":"ctrlKey";nr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Px(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&F_e(n,e.input.lastClick)&&!n[fV]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=e.posAtCoords(rv(n));o&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new $_e(e,o,n,!!r)):(s=="doubleClick"?W_e:q_e)(e,o.pos,o.inside,n)?n.preventDefault():Do(e,"pointer"))};class $_e{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[fV],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),o=n.inside;else{let u=t.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,c=a?t.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:l}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||l instanceof Xe&&l.from<=o&&l.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ni&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Do(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(rv(t))),this.updateAllowDefault(t),this.allowDefault||!n?Do(this.view,"pointer"):G_e(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||tr&&this.mightDrag&&!this.mightDrag.node.isAtom||$n&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(jl(this.view,lt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Do(this.view,"pointer")}move(t){this.updateAllowDefault(t),Do(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}nr.touchstart=e=>{e.input.lastTouch=Date.now(),Px(e),Do(e,"pointer")};nr.touchmove=e=>{e.input.lastTouch=Date.now(),Do(e,"pointer")};nr.contextmenu=e=>Px(e);function hV(e,t){return e.composing?!0:tr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const H_e=_i?5e3:-1;rr.compositionstart=rr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),mm(e,!0),e.markCursor=null;else if(mm(e),Ni&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){e.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}e.input.composing=!0}pV(e,H_e)};rr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,pV(e,20))};function pV(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>mm(e),t))}function gV(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Y_e());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function z_e(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Bme(t.focusNode,t.focusOffset),r=Gme(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Y_e(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function mm(e,t=!1){if(!(_i&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),gV(e),t||e.docView&&e.docView.dirty){let n=xx(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function K_e(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const vf=ur&&Fo<15||cu&&Hme<604;nr.copy=rr.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=vf?null:n.clipboardData,o=r.content(),{dom:a,text:c}=sV(e,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",c)):K_e(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function J_e(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function X_e(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?yf(e,r.value,null,i,t):yf(e,r.textContent,r.innerHTML,i,t)},50)}function yf(e,t,n,r,i){let s=oV(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,i,s||Ie.empty)))return!0;if(!s)return!1;let o=J_e(s),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function mV(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}rr.paste=(e,t)=>{let n=t;if(e.composing&&!_i)return;let r=vf?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&yf(e,mV(r),r.getData("text/html"),i,n)?n.preventDefault():X_e(e,n)};class _V{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const vV=Hr?"altKey":"ctrlKey";nr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(rv(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Xe?i.to-1:i.to))){if(r&&r.mightDrag)o=Xe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(o=Xe.create(e.state.doc,d.posBefore))}}let a=(o||e.state.selection).content(),{dom:c,text:l,slice:u}=sV(e,a);(!n.dataTransfer.files.length||!$n||q8>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(vf?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",vf||n.dataTransfer.setData("text/plain",l),e.dragging=new _V(u,!n[vV],o)};nr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};rr.dragover=rr.dragenter=(e,t)=>t.preventDefault();rr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(rv(n));if(!i)return;let s=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",p=>{o=p(o,e)}):o=oV(e,mV(n.dataTransfer),vf?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[vV]);if(e.someProp("handleDrop",p=>p(e,n,o||Ie.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let c=o?Lge(e.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let l=e.state.tr;if(a){let{node:p}=r;p?p.replace(l):l.deleteSelection()}let u=l.mapping.map(c),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=l.doc;if(d?l.replaceRangeWith(u,u,o.content.firstChild):l.replaceRange(u,u,o),l.doc.eq(f))return;let h=l.doc.resolve(u);if(d&&Xe.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new Xe(h));else{let p=l.mapping.map(c);l.mapping.maps[l.mapping.maps.length-1].forEach((g,m,v,y)=>p=y),l.setSelection(Ix(e,h,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))};nr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Bs(e)},20))};nr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};nr.beforeinput=(e,t)=>{if($n&&_i&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,Fa(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in rr)nr[e]=rr[e];function Cf(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class _m{constructor(t,n){this.toDOM=t,this.spec=n||ec,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Dn(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof _m&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Cf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Bo{constructor(t,n){this.attrs=t,this.spec=n||ec}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Dn(s,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Bo&&Cf(this.attrs,t.attrs)&&Cf(this.spec,t.spec)}static is(t){return t.type instanceof Bo}destroy(){}}class kx{constructor(t,n){this.attrs=t,this.spec=n||ec}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Dn(s.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof kx&&Cf(this.attrs,t.attrs)&&Cf(this.spec,t.spec)}destroy(){}}class Dn{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Dn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Dn(t,t,new _m(n,r))}static inline(t,n,r,i){return new Dn(t,n,new Bo(r,i))}static node(t,n,r,i){return new Dn(t,n,new kx(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Bo}get widget(){return this.type instanceof _m}}const dl=[],ec={};class wt{constructor(t,n){this.local=t.length?t:dl,this.children=n.length?n:dl}static create(t,n){return n.length?vm(n,t,0,ec):Gn}find(t,n,r){let i=[];return this.findInner(t==null?0:t,n==null?1e9:n,i,0,r),i}findInner(t,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,i+a,s)}}map(t,n,r){return this==Gn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||ec)}mapInner(t,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(t,r,i);c&&c.type.valid(n,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Q_e(this.children,o||[],t,n,r,i,s):o?new wt(o.sort(tc),dl):Gn}add(t,n){return n.length?this==Gn?wt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((a,c)=>{let l=c+r,u;if(u=CV(n,a,l)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(a,u,l+1):i.splice(s,0,c,c+a.nodeSize,vm(u,a,l+1,ec)),s+=3}});let o=yV(s?bV(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new wt(o.length?this.local.concat(o).sort(tc):this.local,i||this.children)}remove(t){return t.length==0||this==Gn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,c=r[s+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<c&&(t[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let l=r[s+2].removeInner(o,a+1);l!=Gn?r[s+2]=l:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new wt(i,r):Gn}forChild(t,n){if(this==Gn)return this;if(n.isLeaf)return wt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>s&&c.type instanceof Bo){let l=Math.max(s,c.from)-s,u=Math.min(o,c.to)-s;l<u&&(i||(i=[])).push(c.copy(l,u))}}if(i){let a=new wt(i.sort(tc),dl);return r?new To([a,r]):a}return r||Gn}eq(t){if(this==t)return!0;if(!(t instanceof wt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Mx(this.localsInner(t))}localsInner(t){if(this==Gn)return dl;if(t.inlineContent||!this.local.some(Bo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Bo||n.push(this.local[r]);return n}}wt.empty=new wt([],[]);wt.removeOverlap=Mx;const Gn=wt.empty;class To{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,ec));return To.from(r)}forChild(t,n){if(n.isLeaf)return wt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=Gn&&(s instanceof To?r=r.concat(s.members):r.push(s))}return To.from(r)}eq(t){if(!(t instanceof To)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Mx(r?n:n.sort(tc)):dl}static from(t){switch(t.length){case 0:return Gn;case 1:return t[0];default:return new To(t.every(n=>n instanceof wt)?t:t.reduce((n,r)=>n.concat(r instanceof wt?r:r.members),[]))}}}function Q_e(e,t,n,r,i,s,o){let a=e.slice();for(let l=0,u=s;l<n.maps.length;l++){let d=0;n.maps[l].forEach((f,h,p,g)=>{let m=g-p-(h-f);for(let v=0;v<a.length;v+=3){let y=a[v+1];if(y<0||f>y+u-d)continue;let T=a[v]+u-d;h>=T?a[v+1]=f<=T?-2:-1:f>=u&&m&&(a[v]+=m,a[v+1]+=m)}d+=m}),u=n.maps[l].map(u,-1)}let c=!1;for(let l=0;l<a.length;l+=3)if(a[l+1]<0){if(a[l+1]==-2){c=!0,a[l+1]=-1;continue}let u=n.map(e[l]+s),d=u-i;if(d<0||d>=r.content.size){c=!0;continue}let f=n.map(e[l+1]+s,-1),h=f-i,{index:p,offset:g}=r.content.findIndex(d),m=r.maybeChild(p);if(m&&g==d&&g+m.nodeSize==h){let v=a[l+2].mapInner(n,m,u+1,e[l]+s+1,o);v!=Gn?(a[l]=d,a[l+1]=h,a[l+2]=v):(a[l+1]=-2,c=!0)}else c=!0}if(c){let l=Z_e(a,e,t,n,i,s,o),u=vm(l,r,0,o);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new wt(t.sort(tc),a)}function yV(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Dn(i.from+t,i.to+t,i.type))}return n}function Z_e(e,t,n,r,i,s,o){function a(c,l){for(let u=0;u<c.local.length;u++){let d=c.local[u].map(r,i,l);d?n.push(d):o.onRemove&&o.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)a(c.children[u+2],c.children[u]+l+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&a(e[c+2],t[c]+s+1);return n}function CV(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,o;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function bV(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function vm(e,t,n,r){let i=[],s=!1;t.forEach((a,c)=>{let l=CV(e,a,c+n);if(l){s=!0;let u=vm(l,a,n+c+1,r);u!=Gn&&i.push(c,c+a.nodeSize,u)}});let o=yV(s?bV(e):e,-n).sort(tc);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new wt(o,i):Gn}function tc(e,t){return e.from-t.from||e.to-t.to}function Mx(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),d3(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),d3(t,i,r.copy(s.from,r.to)));break}}}return t}function d3(e,t,n){for(;t<e.length&&tc(n,e[t])>0;)t++;e.splice(t,0,n)}function EE(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Gn&&t.push(r)}),e.cursorWrapper&&t.push(wt.create(e.state.doc,[e.cursorWrapper.deco])),To.from(t)}const eve={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},tve=ur&&Fo<=11;class nve{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class rve{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new nve,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ur&&Fo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),tve&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,eve)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(r3(this.view)){if(this.suppressingSelectionUpdates)return Bs(this.view);if(ur&&Fo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Cc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=_f(s))n.add(s);for(let s=t.anchorNode;s;s=_f(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&r3(t)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,c=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],c);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Ni&&c.length){let u=c.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||ove(t,d)!=h)&&f.remove()}}}let l=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&tv(r)&&(l=xx(t))&&l.eq(lt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Bs(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),ive(t)),this.handleDOMChange(s,o,a,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Bs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(ur&&Fo<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==t.target?Mn(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),c=s&&s.parentNode==t.target?Mn(s):t.target.childNodes.length,l=r.localPosFromDOM(t.target,c,1);return{from:a,to:l}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let f3=new WeakMap,h3=!1;function ive(e){if(!f3.has(e)&&(f3.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Ni,h3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),h3=!0}}function p3(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return Cc(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function sve(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return p3(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?p3(e,n):null}function ove(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function ave(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=e.docView.parseRange(t,n),c=e.domSelectionRange(),l,u=c.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(l=[{node:u,offset:c.anchorOffset}],tv(c)||l.push({node:c.focusNode,offset:c.focusOffset})),$n&&e.input.lastKeyCode===8)for(let m=s;m>i;m--){let v=r.childNodes[m-1],y=v.pmViewDesc;if(v.nodeName=="BR"&&!y){s=m;break}if(!y||y.size)break}let d=e.state.doc,f=e.someProp("domParser")||gf.fromSchema(e.state.schema),h=d.resolve(o),p=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:l,ruleFromNode:cve,context:h});if(l&&l[0].pos!=null){let m=l[0].pos,v=l[1]&&l[1].pos;v==null&&(v=m),p={anchor:m+o,head:v+o}}return{doc:g,sel:p,from:o,to:a}}function cve(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(tr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||tr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const lve=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function uve(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let x=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,R=xx(e,x);if(R&&!e.state.selection.eq(R)){if($n&&_i&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",L=>L(e,Fa(13,"Enter"))))return;let P=e.state.tr.setSelection(R);x=="pointer"?P.setMeta("pointer",!0):x=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),e.dispatch(P)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let c=e.state.selection,l=ave(e,t,n),u=e.state.doc,d=u.slice(l.from,l.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=hve(d.content,l.doc.content,l.from,f,h);if((cu&&e.input.lastIOSEnter>Date.now()-225||_i)&&i.some(x=>x.nodeType==1&&!lve.test(x.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",x=>x(e,Fa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&c instanceof ct&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:c.from,endA:c.to,endB:c.to};else{if(l.sel){let x=g3(e,e.state.doc,l.sel);if(x&&!x.eq(e.state.selection)){let R=e.state.tr.setSelection(x);s&&R.setMeta("composition",s),e.dispatch(R)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof ct&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),ur&&Fo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" Â "&&(p.start--,p.endA--,p.endB--);let g=l.doc.resolveNoCache(p.start-l.from),m=l.doc.resolveNoCache(p.endB-l.from),v=u.resolve(p.start),y=g.sameParent(m)&&g.parent.inlineContent&&v.end()>=p.endA,T;if((cu&&e.input.lastIOSEnter>Date.now()-225&&(!y||i.some(x=>x.nodeName=="DIV"||x.nodeName=="P"))||!y&&g.pos<l.doc.content.size&&!g.sameParent(m)&&(T=lt.findFrom(l.doc.resolve(g.pos+1),1,!0))&&T.head==m.pos)&&e.someProp("handleKeyDown",x=>x(e,Fa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&fve(u,p.start,p.endA,g,m)&&e.someProp("handleKeyDown",x=>x(e,Fa(8,"Backspace")))){_i&&$n&&e.domObserver.suppressSelectionUpdates();return}$n&&_i&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),_i&&!y&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,m=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{e.someProp("handleKeyDown",function(x){return x(e,Fa(13,"Enter"))})},20));let b=p.start,C=p.endA,O,w,A;if(y){if(g.pos==m.pos)ur&&Fo<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bs(e),20)),O=e.state.tr.delete(b,C),w=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(A=dve(g.parent.content.cut(g.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))O=e.state.tr,A.type=="add"?O.addMark(b,C,A.mark):O.removeMark(b,C,A.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let x=g.parent.textBetween(g.parentOffset,m.parentOffset);if(e.someProp("handleTextInput",R=>R(e,b,C,x)))return;O=e.state.tr.insertText(x,b,C)}}if(O||(O=e.state.tr.replace(b,C,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let x=g3(e,O.doc,l.sel);x&&!($n&&_i&&e.composing&&x.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(x.head==b||x.head==O.mapping.map(C)-1)||ur&&x.empty&&x.head==b)&&O.setSelection(x)}w&&O.ensureMarks(w),s&&O.setMeta("composition",s),e.dispatch(O.scrollIntoView())}function g3(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Ix(e,t.resolve(n.anchor),t.resolve(n.head))}function dve(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,o,a,c;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",c=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",c=u=>u.mark(a.removeFromSet(u.marks));else return null;let l=[];for(let u=0;u<t.childCount;u++)l.push(c(t.child(u)));if(le.from(l).eq(e))return{mark:a,type:o}}function fve(e,t,n,r,i){if(n-t<=i.pos-r.pos||SE(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=e.resolve(SE(s,!0,!0));return!o.parent.isTextblock||o.pos>n||SE(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function SE(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function hve(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let c=Math.max(0,s-Math.min(o,a));r-=o+c-s}if(o<s&&e.size<t.size){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<t.size&&m3(t.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-o),o=s}else if(a<s){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<e.size&&m3(e.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function m3(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class pve{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new k_e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(b3),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=y3(this),v3(this),this.nodeViews=C3(this),this.docView=XL(this.state.doc,_3(this),EE(this),this.dom,this),this.domObserver=new rve(this,(r,i,s,o)=>uve(this,r,i,s,o)),this.domObserver.start(),M_e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&I1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(b3),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(gV(this),o=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=C3(this);mve(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&I1(this),this.editable=y3(this),v3(this);let c=EE(this),l=_3(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,l,c);(d||!t.selection.eq(i.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Kme(this);if(o){this.domObserver.stop();let h=d&&(ur||$n)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&gve(i.selection,t.selection);if(d){let p=$n?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=z_e(this)),(s||!this.docView.update(t.doc,l,c,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=XL(t.doc,l,c,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&y_e(this))?Bs(this,h):(nV(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&Jme(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Xe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&$L(this,n.getBoundingClientRect(),t)}else $L(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new _V(t.slice,t.move,i<0?void 0:Xe.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(ur){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Xme(this.dom),Bs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return n_e(this,t)}coordsAtPos(t,n=1){return Y8(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return a_e(this,n||this.state,t)}pasteHTML(t,n){return yf(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return yf(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(D_e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],EE(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Fme())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return j_e(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return tr&&this.root.nodeType===11&&qme(this.dom.ownerDocument)==this.dom&&sve(this,t)||t}domSelection(){return this.root.getSelection()}}function _3(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Dn.node(0,e.state.doc.content.size,t)]}function v3(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Dn.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function y3(e){return!e.someProp("editable",t=>t(e.state)===!1)}function gve(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function C3(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function mve(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function b3(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const _ve=Lr(()=>we(!1)),EV=Be(()=>we(null));function RWe({ctx:e,prompt:t,referer:n,conversationId:r}){var i,s,o,a,c,l;Se.logEventWithStatsig("chatgpt_web_prompt_used","chatgpt_web_prompt_used",{referer:n,hint:(i=t.system_hint)!=null?i:"none",sources:((s=t.sources)!=null?s:[]).join(","),hasSources:((a=(o=t.sources)==null?void 0:o.length)!=null?a:0)>0,sourceCount:(l=(c=t.sources)==null?void 0:c.length)!=null?l:0}),EV.set(e,{prompt:t,skipConversationId:r})}function PWe(e){EV.set(e,null)}function vve({id:e,label:t,value:n,className:r,onCommit:i,onExit:s,maxChars:o=30}){const a=E.useRef(null),[c,l]=E.useState(n!=null?n:""),u=E.useRef(!1),d=E.useRef(-1),f=E.useRef(!1),h=150,g=Math.min(Math.max(1,(c||t||"").length),o);return _.jsx("input",{ref:a,type:"text",value:c,placeholder:t,size:g,"data-template-input-id":e,className:[r!=null?r:""].join(" "),onMouseDownCapture:m=>{f.current=!0,m.stopPropagation()},onPointerDownCapture:m=>m.stopPropagation(),onClickCapture:m=>m.stopPropagation(),onFocusCapture:m=>m.stopPropagation(),onMouseDown:m=>{},onFocus:m=>{const v=performance.now();if(!(f.current||v<window.__tmpl_last_pointerdown_at+200)&&v-d.current<h){m.currentTarget.blur();return}f.current=!1,u.current&&(m.currentTarget.select(),u.current=!1)},onChange:m=>l(m.target.value),onKeyDown:m=>{m.key==="Enter"||m.key==="Tab"?(m.preventDefault(),m.stopPropagation(),i(c),setTimeout(()=>{s==null||s(),m.currentTarget.blur()},0)):m.key==="Escape"&&(m.preventDefault(),m.stopPropagation(),s==null||s(),m.currentTarget.blur())},onBlur:()=>{d.current=performance.now(),f.current=!1,i(c)}})}const Ep=/(\[[^\]]+\]|\{[^\}]+\})/g,E3="pm-bracket-tag",S3=30;function yve(e,t){if(!e.length)return null;let n=0,r=Number.POSITIVE_INFINITY;for(let i=0;i<e.length;i++){const s=Math.abs(e[i].from-t);s<r&&(r=s,n=i)}return n}const fl=new ai("bracketTag"),Cve="pm-bracket-tag--hidden",bve="pm-template-input";let $r=null;const OE=new WeakMap;let hl=null,SV=0;function Eve(){var n;const e=performance.now();if(e<SV)return!1;const t=(n=window.__tmpl_last_blur_at)!=null?n:-1;return e-t<150}function Sve(e){if(!e.isConnected||e.disabled)return!1;const t=getComputedStyle(e);return!(t.visibility==="hidden"||t.display==="none"||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))}function O3(e){var r;return((r=e.getRootNode().activeElement)!=null?r:document.activeElement)===e||e.matches(":focus")}function Dx(e,t=5,n=5){let r=0;const i=n,s=()=>{if(Eve())return;const o=document.querySelector('input[data-template-input-id="'.concat(e,'"]'));if(!o||!Sve(o))return r++<t?setTimeout(s,i):void 0;if(!O3(o))try{o.focus({preventScroll:!0}),requestAnimationFrame(()=>{if(O3(o)){try{o.select()}catch(a){}return}})}catch(a){r++<t&&setTimeout(s,i)}};requestAnimationFrame(s)}function Ove(e,t,n){const r=[];for(let i=0;i<t.length;i++){const s=t[i],o=s.id===n?"".concat(E3," ").concat(Cve):E3;r.push(Dn.inline(s.from,s.to,{class:o,"data-bracket-tag-id":s.id,"data-bracket-tag-index":String(i),"data-label":s.label},{tagId:s.id,index:i})),s.id===n&&(r.push(Dn.widget(s.from,()=>{const a=document.createElement("span");a.setAttribute("data-template-input-container",s.id),a.setAttribute("contenteditable","false"),a.className="inline-block min-w-0 align-baseline";const c=d=>{$r&&T3($r,s.id,d)},l=()=>{window.__tmpl_last_blur_at=performance.now(),$r&&Tve($r,s.id)},u=_J.createRoot(a);return OE.set(a,u),u.render(_.jsx(vve,{id:s.id,label:s.label,value:s.value,className:bve,onCommit:c,onExit:l})),requestAnimationFrame(()=>{Dx(s.id)}),a},{key:"input-".concat(s.id),side:-1,ignoreSelection:!0,stopEvent:a=>{const c=a.target;return a.type==="blur"||a.type==="focusout"?!1:!!(c!=null&&c.closest("[data-template-input-container]")||c!=null&&c.closest("input[data-template-input-id]"))},destroy:a=>{var u,d;const c=document.querySelector('input[data-template-input-id="'.concat(s.id,'"]'));if(c&&$r){const f=Lx($r.state.doc,s.id),h=f!=null?$r.state.doc.nodeAt(f):null,p=(d=(u=h==null?void 0:h.attrs)==null?void 0:u.value)!=null?d:"",g=c.value;g!==p&&T3($r,s.id,g)}const l=OE.get(a);l&&(l.unmount(),OE.delete(a))}})),r.push(Dn.widget(s.to,()=>{const a=document.createElement("span");return a.setAttribute("data-template-spacer",s.id),a.style.display="inline-block",a.style.width="0",a.style.lineHeight="inherit",a.contentEditable="false",a},{side:1,ignoreSelection:!0,key:"spacer-".concat(s.id)})))}return wt.create(e,r)}function Lx(e,t){let n=null;return e.descendants((r,i)=>r.type.name==="template_variable"&&r.attrs.id===t?(n=i,!1):!0),n}function T3(e,t,n){const r=Lx(e.state.doc,t);if(r==null)return;const i=e.state.doc.nodeAt(r);if(!i||i.type.name!=="template_variable")return;const s=i.type.create(I(S({},i.attrs),{value:n})),o=e.state.tr.replaceWith(r,r+i.nodeSize,s);setTimeout(()=>{e.dispatch(o)},0)}function Tve(e,t){const n=Lx(e.state.doc,t);if(n==null)return;const r=e.state.doc.nodeAt(n);if(!r)return;const i=n+r.nodeSize,s=ct.create(e.state.doc,i);e.dispatch(e.state.tr.setSelection(s).scrollIntoView()),e.focus()}function w3(e,t){const n=fl.getState(e.state);if(!n)return!1;const r=n.tags;if(r.length===0)return!1;let i=n.activeId?r.findIndex(a=>a.id===n.activeId):-1;if(i===-1){const a=e.state.selection.from;if(i=r.findIndex(c=>c.from<=a&&c.to>a),i===-1){const c=yve(r.map(l=>({from:l.from,to:l.to,text:l.label,id:l.id,key:l.key,label:l.label})),a);i=c!=null?c:t===1?-1:r.length}}const s=i+t;if(s<0||s>=r.length)return!1;const o=r[s];return e.dispatch(e.state.tr.setSelection(ct.create(e.state.doc,o.from,o.to))),!0}function TE(e){const t=()=>{hl=null,Dx(e)};window.addEventListener("pointerup",()=>requestAnimationFrame(t),{once:!0,passive:!0})}function wve(e){const t=()=>e!=null&&nn(()=>_ve(e)),n=new jr({key:fl,appendTransaction(i,s,o){if(!t())return;if(!i.some(u=>u.docChanged))return null;const c=[];if(o.doc.descendants((u,d)=>{if(!u||!u.isText)return!0;const f=u.text||"",h=new RegExp(Ep.source,Ep.flags.includes("g")?Ep.flags:Ep.flags+"g");let p;for(;p=h.exec(f);){const g=d+p.index,m=g+p[0].length,v=p[0].length>=2?p[0].slice(1,-1):p[0];c.push({from:g,to:m,label:v})}return!0}),c.length===0)return null;let l=o.tr;for(let u=c.length-1;u>=0;u--){const d=c[u];l=l.delete(d.from,d.to);const f=o.schema.nodes.template_variable.create({key:d.label,id:"".concat(d.from,"-").concat(d.to),value:""});l=l.insert(d.from,f)}return l},state:{init:()=>({decorations:wt.empty,tags:[],activeIndex:null,activeId:null}),apply:(i,s,o,a)=>{if(!t())return s;const c=[];a.doc.descendants((h,p)=>{var g;if(h.type.name==="template_variable"){const m=(g=h.attrs.value)!=null?g:"",v=m||h.attrs.key,y=v.length>S3?v.slice(0,S3)+"...":v;c.push({from:p,to:p+h.nodeSize,label:h.attrs.key,id:h.attrs.id,key:h.attrs.key,text:y,value:m})}return!0});const l=a.selection.from,u=c.findIndex(h=>l>=h.from&&l<h.to);let d=u!==-1?c[u].id:null;!d&&hl&&c.some(h=>h.id===hl)&&(d=hl);const f=Ove(a.doc,c,d);return I(S({},s),{decorations:f,tags:c,activeIndex:u!==-1?u:s.activeIndex,activeId:d})}},props:{decorations(i){const s=fl.getState(i);return s?s.decorations:null},handleDOMEvents:{mousedown(i,s){var f;if(!t())return!1;const o=performance.now();window.__tmpl_last_pointerdown_at=o,SV=o+700;const a=s.target;if(a!=null&&a.closest("[data-template-input-container]")||a!=null&&a.closest("input[data-template-input-id]")){s.preventDefault(),s.stopPropagation();const h=(f=fl.getState(i.state))==null?void 0:f.activeId;return h&&(hl=h,TE(h)),!0}const c=a==null?void 0:a.closest("[data-bracket-tag-id]");if(!c)return!1;s.preventDefault(),s.stopPropagation();const l=c.getAttribute("data-bracket-tag-id"),u=fl.getState(i.state);if(!u||!l)return!0;hl=l;const d=u.tags.find(h=>h.id===l);return d&&(i.dispatch(i.state.tr.setSelection(ct.create(i.state.doc,d.from,d.to))),TE(l)),!0},mouseup(i,s){const o=s.target;return o!=null&&o.closest("[data-bracket-tag-id]")||o!=null&&o.closest("[data-template-input-container]")||o!=null&&o.closest("input[data-template-input-id]")?(s.preventDefault(),s.stopPropagation(),!0):!1},click(i,s){const o=s.target;return o!=null&&o.closest("[data-bracket-tag-id]")||o!=null&&o.closest("[data-template-input-container]")||o!=null&&o.closest("input[data-template-input-id]")?(s.preventDefault(),s.stopPropagation(),!0):!1}}},view(i){$r=i;let s=null;return{update(o){var c,l;$r=o;const a=(l=(c=fl.getState(o.state))==null?void 0:c.activeId)!=null?l:null;a&&a!==s&&(Dx(a),TE(a)),s=a},destroy(){$r===i&&($r=null)}}}}),r=B8({Tab:(i,s,o)=>o?w3(o,1):!1,"Shift-Tab":(i,s,o)=>o?w3(o,-1):!1});return[n,r]}class $t extends lt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return $t.valid(r)?new $t(r):lt.near(r)}content(){return Ie.empty}eq(t){return t instanceof $t&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new $t(t.resolve(n.pos))}getBookmark(){return new jx(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!Ave(t)||!xve(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&$t.valid(t))return t;let i=t.pos,s=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){s=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let c=t.doc.resolve(i);if($t.valid(c))return c}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Xe.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=t.doc.resolve(i);if($t.valid(a))return a}return null}}}$t.prototype.visible=!1;$t.findFrom=$t.findGapCursorFrom;lt.jsonID("gapcursor",$t);class jx{constructor(t){this.pos=t}map(t){return new jx(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return $t.valid(n)?new $t(n):lt.near(n)}}function Ave(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function xve(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Ive(){return new jr({props:{decorations:kve,createSelectionBetween(e,t,n){return t.pos==n.pos&&$t.valid(n)?new $t(n):null},handleClick:Rve,handleKeyDown:Nve,handleDOMEvents:{beforeinput:Pve}}})}const Nve=G8({ArrowLeft:Sp("horiz",-1),ArrowRight:Sp("horiz",1),ArrowUp:Sp("vert",-1),ArrowDown:Sp("vert",1)});function Sp(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let o=r.selection,a=t>0?o.$to:o.$from,c=o.empty;if(o instanceof ct){if(!s.endOfTextblock(n)||a.depth==0)return!1;c=!1,a=r.doc.resolve(t>0?a.after():a.before())}let l=$t.findGapCursorFrom(a,t,c);return l?(i&&i(r.tr.setSelection(new $t(l))),!0):!1}}function Rve(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!$t.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Xe.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new $t(r))),!0)}function Pve(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof $t))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=le.empty;for(let o=r.length-1;o>=0;o--)i=le.from(r[o].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new Ie(i,0,0));return s.setSelection(ct.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function kve(e){if(!(e.selection instanceof $t))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",wt.create(e.doc,[Dn.widget(e.selection.head,t,{key:"gapcursor"})])}var ym=200,xn=function(){};xn.prototype.append=function(t){return t.length?(t=xn.from(t),!this.length&&t||t.length<ym&&this.leafAppend(t)||this.length<ym&&t.leafPrepend(this)||this.appendInner(t)):this};xn.prototype.prepend=function(t){return t.length?xn.from(t).append(this):this};xn.prototype.appendInner=function(t){return new Mve(this,t)};xn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?xn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};xn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};xn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};xn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},n,r),i};xn.from=function(t){return t instanceof xn?t:t&&t.length?new OV(t):xn.empty};var OV=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var c=s;c<o;c++)if(i(this.values[c],a+c)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var c=s-1;c>=o;c--)if(i(this.values[c],a+c)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=ym)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=ym)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(xn);xn.empty=new OV([]);var Mve=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(xn);const Dve=500;class vi{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=t.tr,a,c,l=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new Ki(d.map));let h=d.step.map(i.slice(s)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],l.push(new Ki(p,void 0,void 0,l.length+u.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,c=new vi(this.items.slice(0,r).append(u.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(t,n,r,i){let s=[],o=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new Ki(t.mapping.maps[u],d,n),h;(h=c&&c.merge(f))&&(f=h,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(c=f)}let l=o-r.depth;return l>jve&&(a=Lve(a,l),o-=l),new vi(a.append(s),o)}remapping(t,n){let r=new Dl;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new vi(this.items.append(t.map(n=>new Ki(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let c=n;this.items.forEach(f=>{let h=s.getMirror(--c);if(h==null)return;o=Math.min(o,h);let p=s.maps[h];if(f.step){let g=t.steps[h].invert(t.docs[h]),m=f.selection&&f.selection.map(s.slice(c+1,h));m&&a++,r.push(new Ki(p,g,m))}else r.push(new Ki(p))},i);let l=[];for(let f=n;f<o;f++)l.push(new Ki(s.maps[f]));let u=this.items.slice(0,i).append(l).append(r),d=new vi(u,a);return d.emptyItemCount()>Dve&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(n.slice(r)),l=c&&c.getMap();if(r--,l&&n.appendMap(l,r),c){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new Ki(l.invert(),c,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new vi(xn.from(i.reverse()),s)}}vi.empty=new vi(xn.empty,0);function Lve(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Ki{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Ki(n.getMap().invert(),n,this.selection)}}}class Eo{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const jve=20;function Fve(e,t,n,r){let i=n.getMeta(nc),s;if(i)return i.historyState;n.getMeta(Gve)&&(e=new Eo(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(nc))return o.getMeta(nc).redo?new Eo(e.done.addTransform(n,void 0,r,og(t)),e.undone,A3(n.mapping.maps),e.prevTime,e.prevComposition):new Eo(e.done,e.undone.addTransform(n,void 0,r,og(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),c=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Uve(n,e.prevRanges)),l=o?wE(e.prevRanges,n.mapping):A3(n.mapping.maps);return new Eo(e.done.addTransform(n,c?t.selection.getBookmark():void 0,r,og(t)),vi.empty,l,n.time,a==null?e.prevComposition:a)}else return(s=n.getMeta("rebased"))?new Eo(e.done.rebased(n,s),e.undone.rebased(n,s),wE(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Eo(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),wE(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function Uve(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function A3(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,o)=>t.push(s,o));return t}function wE(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function Bve(e,t,n){let r=og(t),i=nc.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),c=new Eo(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(nc,{redo:n,historyState:c})}let AE=!1,x3=null;function og(e){let t=e.plugins;if(x3!=t){AE=!1,x3=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){AE=!0;break}}return AE}const nc=new ai("history"),Gve=new ai("closeHistory");function Wve(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new jr({key:nc,state:{init(){return new Eo(vi.empty,vi.empty,null,0,-1)},apply(t,n,r){return Fve(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?wV:r=="historyRedo"?N1:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function TV(e,t){return(n,r)=>{let i=nc.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=Bve(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const wV=TV(!1,!0),N1=TV(!0,!0),Fl=new ai("customKeymapPlugin");function kWe(e,t){var r;const{allHandlers:n=[]}=(r=Fl.getState(e.state))!=null?r:{};return e.dispatch(e.state.tr.setMeta(Fl,{allHandlers:[t,...n]})),()=>{e.dispatch(e.state.tr.setMeta(Fl,{allHandlers:n.filter(i=>i!==t)}))}}function qve(e={allHandlers:[]}){return new jr({key:Fl,state:{init(){return S({},e)},apply(t,n){const r=t.getMeta(Fl);return r?S(S({},n),r):n}},props:{handleKeyDown(t,n){var i;if(D_(n))return!1;const{allHandlers:r=[]}=(i=Fl.getState(t.state))!=null?i:{};for(const s of r){const o=s[n.key];if(o&&o(n))return!0}}}})}const Vve=e=>$e(e,"1605274664"),I3=new ai("ecosystemSuggestionsPluginBetter"),Ra={SELF_APPLIED:"eco/self-applied",UPDATE_CONFIG:"eco/update-config"};function $ve(){return{activeSystemHintType:null,activeConnectorSystemTypes:new Set,keywordToSystemHintMap:{},matches:new Set,regex:void 0}}function Hve(e){const{markType:t}=e;return new jr({key:I3,state:{init(){return $ve()},apply(n,r){var o;const i=(o=n.getMeta(Ra.UPDATE_CONFIG))!=null?o:{};return S(S({},r),i)}},appendTransaction(n,r,i){var m,v;if(!n.some(y=>y.getMeta(Ra.UPDATE_CONFIG))&&(!n.some(y=>y.docChanged)||n.some(y=>y.getMeta(Ra.SELF_APPLIED))))return null;const{regex:s,activeSystemHintType:o,activeConnectorSystemTypes:a,keywordToSystemHintMap:c,matches:l}=(m=I3.getState(i))!=null?m:{},u=i.tr,{node:d,pos:f}=(v=Yve(i.doc))!=null?v:{};if(!d||f===void 0)return null;const p=hm.topNodeType.createChecked(null,le.from(d));if(!s||!c||o&&!kl(o))return u.removeMark(0,p.content.size,t).scrollIntoView(),u.steps.length&&u.setMeta(Ra.SELF_APPLIED,!0),u;const g=new Set;return p.descendants((y,T,b,C)=>{var O;if(y.marks.find(w=>w.type===t)){const w=(O=y.textContent)!=null?O:"";return(!s.test(w)||C!==0)&&u.removeMark(f+T,f+T+y.nodeSize,t).scrollIntoView(),!1}return!0}),p.descendants((y,T)=>{var O;if(!y.isTextblock)return;const b=y.textBetween(0,y.content.size);if(!b)return;s.lastIndex=0;let C;for(;C=s.exec(b);){const w=N3(y,f+T,C.index),A=N3(y,f+T,C.index+C[0].length),x=(O=c[C[1].toLowerCase()])!=null?O:{},{systemHint:R,name:P}=x;R&&g.add({systemHintType:R,keyword:C[1]});const L=zve(u.doc,w,A,t);if(o&&kl(o)&&(a!=null&&a.has(R))){if(!L){const D=t.create({id:P,kind:"app",keyword:C[1]});u.addMark(w,A,D).scrollIntoView()}}else L&&u.removeMark(w,A,t).scrollIntoView();s.lastIndex=C.index+C[0].length}}),u.steps.length||!Kve(g,l)?(u.setMeta(Ra.SELF_APPLIED,!0),u.setMeta(Ra.UPDATE_CONFIG,{matches:g}),u):null},view(n){return{destroy(){}}}})}function MWe(e,t){const n=e.state.tr.setMeta(Ra.UPDATE_CONFIG,t);e.dispatch(n)}function N3(e,t,n){var s,o,a,c;let r=t+1,i=0;for(let l=0;l<e.childCount;l++){const u=e.child(l),d=u.isText&&(c=(a=(s=u.text)==null?void 0:s.length)!=null?a:(o=u.textContent)==null?void 0:o.length)!=null?c:0;if(i+d>=n)return u.isText?r+(n-i):r;i+=d,r+=u.nodeSize}return r}function zve(e,t,n,r){let i=!1;return e.nodesBetween(t,n,s=>s.marks.find(o=>o.type===r)?(i=!0,!1):!0),i}function Yve(e){let t=null;return e.descendants((n,r)=>n.isTextblock&&!t?(t={node:n,pos:r},!1):!0),t}function Kve(e,t){if(!e||!t||e.size!==t.size)return!1;const n=[...t];for(const r of e)if(!n.some(i=>i.systemHintType===r.systemHintType&&i.keyword===r.keyword))return!1;return!0}var xE,R3;function Jve(){if(R3)return xE;R3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return xE=e,xE}var IE,P3;function Fx(){if(P3)return IE;P3=1;var e=AW();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return IE=t,IE}var NE,k3;function Ux(){if(k3)return NE;k3=1;var e=Fx(),t=v_(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var c=s[o];(!(r.call(s,o)&&t(c,a))||a===void 0&&!(o in s))&&e(s,o,a)}return NE=i,NE}var RE,M3;function iv(){if(M3)return RE;M3=1;var e=Ux(),t=Fx();function n(r,i,s,o){var a=!s;s||(s={});for(var c=-1,l=i.length;++c<l;){var u=i[c],d=o?o(s[u],r[u],u,s,r):void 0;d===void 0&&(d=r[u]),a?t(s,u,d):e(s,u,d)}return s}return RE=n,RE}var PE,D3;function Xve(){if(D3)return PE;D3=1;var e=iv(),t=Su();function n(r,i){return r&&e(i,t(i),r)}return PE=n,PE}var kE,L3;function Qve(){if(L3)return kE;L3=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return kE=e,kE}var ME,j3;function Zve(){if(j3)return ME;j3=1;var e=ji(),t=PA(),n=Qve(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),c=[];for(var l in o)l=="constructor"&&(a||!i.call(o,l))||c.push(l);return c}return ME=s,ME}var DE,F3;function Bx(){if(F3)return DE;F3=1;var e=mW(),t=Zve(),n=Eu();function r(i){return n(i)?e(i,!0):t(i)}return DE=r,DE}var LE,U3;function eye(){if(U3)return LE;U3=1;var e=iv(),t=Bx();function n(r,i){return r&&e(i,t(i),r)}return LE=n,LE}var Sd={exports:{}};Sd.exports;var B3;function tye(){return B3||(B3=1,(function(e,t){var n=Li(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var d=l.length,f=a?a(d):new l.constructor(d);return l.copy(f),f}e.exports=c})(Sd,Sd.exports)),Sd.exports}var jE,G3;function nye(){if(G3)return jE;G3=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return jE=e,jE}var FE,W3;function rye(){if(W3)return FE;W3=1;var e=iv(),t=AA();function n(r,i){return e(r,t(r),i)}return FE=n,FE}var UE,q3;function AV(){if(q3)return UE;q3=1;var e=_W(),t=e(Object.getPrototypeOf,Object);return UE=t,UE}var BE,V3;function xV(){if(V3)return BE;V3=1;var e=wA(),t=AV(),n=AA(),r=pW(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return BE=s,BE}var GE,$3;function iye(){if($3)return GE;$3=1;var e=iv(),t=xV();function n(r,i){return e(r,t(r),i)}return GE=n,GE}var WE,H3;function IV(){if(H3)return WE;H3=1;var e=hW(),t=xV(),n=Bx();function r(i){return e(i,n,t)}return WE=r,WE}var qE,z3;function sye(){if(z3)return qE;z3=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return qE=n,qE}var VE,Y3;function Gx(){if(Y3)return VE;Y3=1;var e=fW();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return VE=t,VE}var $E,K3;function oye(){if(K3)return $E;K3=1;var e=Gx();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return $E=t,$E}var HE,J3;function aye(){if(J3)return HE;J3=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return HE=t,HE}var zE,X3;function cye(){if(X3)return zE;X3=1;var e=yu(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return zE=r,zE}var YE,Q3;function lye(){if(Q3)return YE;Q3=1;var e=Gx();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return YE=t,YE}var KE,Z3;function uye(){if(Z3)return KE;Z3=1;var e=Gx(),t=oye(),n=aye(),r=cye(),i=lye(),s="[object Boolean]",o="[object Date]",a="[object Map]",c="[object Number]",l="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",g="[object Float32Array]",m="[object Float64Array]",v="[object Int8Array]",y="[object Int16Array]",T="[object Int32Array]",b="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",w="[object Uint32Array]";function A(x,R,P){var L=x.constructor;switch(R){case h:return e(x);case s:case o:return new L(+x);case p:return t(x,P);case g:case m:case v:case y:case T:case b:case C:case O:case w:return i(x,P);case a:return new L;case c:case d:return new L(x);case l:return n(x);case u:return new L;case f:return r(x)}}return KE=A,KE}var JE,e2;function dye(){if(e2)return JE;e2=1;var e=ji(),t=Object.create,n=(function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return JE=n,JE}var XE,t2;function fye(){if(t2)return XE;t2=1;var e=dye(),t=AV(),n=PA();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return XE=r,XE}var QE,n2;function hye(){if(n2)return QE;n2=1;var e=A_(),t=ca(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return QE=r,QE}var ZE,r2;function pye(){if(r2)return ZE;r2=1;var e=hye(),t=w_(),n=RA(),r=n&&n.isMap,i=r?t(r):e;return ZE=i,ZE}var eS,i2;function gye(){if(i2)return eS;i2=1;var e=A_(),t=ca(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return eS=r,eS}var tS,s2;function mye(){if(s2)return tS;s2=1;var e=gye(),t=w_(),n=RA(),r=n&&n.isSet,i=r?t(r):e;return tS=i,tS}var nS,o2;function _ye(){if(o2)return nS;o2=1;var e=OA(),t=Jve(),n=Ux(),r=Xve(),i=eye(),s=tye(),o=nye(),a=rye(),c=iye(),l=vW(),u=IV(),d=A_(),f=sye(),h=uye(),p=fye(),g=Mr(),m=IA(),v=pye(),y=ji(),T=mye(),b=Su(),C=Bx(),O=1,w=2,A=4,x="[object Arguments]",R="[object Array]",P="[object Boolean]",L="[object Date]",D="[object Error]",F="[object Function]",G="[object GeneratorFunction]",Y="[object Map]",V="[object Number]",M="[object Object]",te="[object RegExp]",$="[object Set]",ie="[object String]",ue="[object Symbol]",me="[object WeakMap]",J="[object ArrayBuffer]",K="[object DataView]",ne="[object Float32Array]",X="[object Float64Array]",ee="[object Int8Array]",ye="[object Int16Array]",de="[object Int32Array]",oe="[object Uint8Array]",Ee="[object Uint8ClampedArray]",Ae="[object Uint16Array]",He="[object Uint32Array]",Re={};Re[x]=Re[R]=Re[J]=Re[K]=Re[P]=Re[L]=Re[ne]=Re[X]=Re[ee]=Re[ye]=Re[de]=Re[Y]=Re[V]=Re[M]=Re[te]=Re[$]=Re[ie]=Re[ue]=Re[oe]=Re[Ee]=Re[Ae]=Re[He]=!0,Re[D]=Re[F]=Re[me]=!1;function _e(pe,j,Qe,Pe,fe,ge){var Le,se=j&O,ke=j&w,tt=j&A;if(Qe&&(Le=fe?Qe(pe,Pe,fe,ge):Qe(pe)),Le!==void 0)return Le;if(!y(pe))return pe;var nt=g(pe);if(nt){if(Le=f(pe),!se)return o(pe,Le)}else{var rt=d(pe),On=rt==F||rt==G;if(m(pe))return s(pe,se);if(rt==M||rt==x||On&&!fe){if(Le=ke||On?{}:p(pe),!se)return ke?c(pe,i(Le,pe)):a(pe,r(Le,pe))}else{if(!Re[rt])return fe?pe:{};Le=h(pe,rt,se)}}ge||(ge=new e);var Kn=ge.get(pe);if(Kn)return Kn;ge.set(pe,Le),T(pe)?pe.forEach(function(Wt){Le.add(_e(Wt,j,Qe,Wt,pe,ge))}):v(pe)&&pe.forEach(function(Wt,Qt){Le.set(Qt,_e(Wt,j,Qe,Qt,pe,ge))});var on=tt?ke?u:l:ke?C:b,Ft=nt?void 0:on(pe);return t(Ft||pe,function(Wt,Qt){Ft&&(Qt=Wt,Wt=pe[Qt]),n(Le,Qt,_e(Wt,j,Qe,Qt,pe,ge))}),Le}return nS=_e,nS}var rS,a2;function vye(){if(a2)return rS;a2=1;var e=_ye(),t=1,n=4;function r(i){return e(i,t|n)}return rS=r,rS}var yye=vye();const R1=Gt(yye),Wx=ut(e=>{var s,o;const t=(s=rn(e,"463092697"))==null?void 0:s.value,n=R1(t);let r=(o=n==null?void 0:n.enabledConnectors)!=null?o:[];return $e(e,"3881721129")||(r=r.filter(a=>a!==N.GITHUB_CONNECTOR)),n&&(n.enabledConnectors=r),n}),NV=()=>{const e=re();return E.useMemo(()=>Wx(e),[e])},Cye=e=>{const t=Wx(e);return{enabled:!!(t!=null&&t.softmentionEnabled)}};function bye(){return{trackingKeywordsRegex:void 0,decorations:wt.empty,highlightedKeywords:new Set,matchedKeywords:new Set}}const RV=({tr:e,regex:t,prevHighlightedKeywords:n,prevMatchedKeywords:r})=>{const i=[],s=new Set,o=new Set;return t?(e.doc.descendants((a,c)=>{if(!a.isText||!a.text)return;const l=a.text;for(const u of l.matchAll(t)){if(s.add(u[1]),!n.has(u[1])&&r.has(u[1]))continue;o.add(u[1]);const d=c+u.index,f=d+u[0].length;i.push(Dn.inline(d,f,{class:"hint-pill"},{keyword:u[1]}))}}),{decorations:wt.create(e.doc,i),matchedKeywords:s,highlightedKeywords:o}):{decorations:wt.empty,matchedKeywords:s,highlightedKeywords:o}};function DWe(e){var n;const t=Go.getState(e);return[...(n=t==null?void 0:t.matchedKeywords)!=null?n:[]]}const LWe=(e,t)=>{const{state:n,dispatch:r}=t,i=n.tr,s=Go.getState(n);if(s){const o=e.length>0?new RegExp("\\b(".concat(e.join("|"),")\\b"),"gi"):void 0,{decorations:a,highlightedKeywords:c,matchedKeywords:l}=RV({tr:i,regex:o,prevHighlightedKeywords:s.highlightedKeywords,prevMatchedKeywords:s.matchedKeywords});i.setMeta(Go,I(S({},s),{trackingKeywordsRegex:o,decorations:a,highlightedKeywords:c,matchedKeywords:l}))}r(i)},jWe=(e,t)=>{if(e.length===0)return;const{state:n,dispatch:r}=t,i=n.tr,s=Go.getState(n);if(s){const o=s.decorations.remove(s.decorations.find(void 0,void 0,a=>a.keyword&&e.includes(a.keyword)));i.setMeta(Go,I(S({},s),{decorations:o,highlightedKeywords:new Set([...s.highlightedKeywords].filter(a=>!e.includes(a)))}))}r(i)},Go=new ai("keywordPlugin");function Eye(){return new jr({key:Go,state:{init(){return bye()},apply(e,t){if(e.getMeta(Go))return S(S({},t),e.getMeta(Go));if(!e.docChanged)return t;const{decorations:n,matchedKeywords:r,highlightedKeywords:i}=RV({tr:e,regex:t.trackingKeywordsRegex,prevHighlightedKeywords:t.highlightedKeywords,prevMatchedKeywords:t.matchedKeywords});return I(S({},t),{decorations:n,highlightedKeywords:i,matchedKeywords:r})}},props:{decorations(e){const t=this.getState(e);return t?t.decorations:wt.empty}}})}const qa=new ai("menuSelectorPlugin");function c2(e){e.dispatch(e.state.tr.setMeta(qa,{active:!1,onMenuAction:void 0}))}function FWe(e,t){e.dispatch(e.state.tr.setMeta(qa,{active:!0,onMenuAction:t}))}const UWe=eo(e=>oi(()=>{var t,n;return(n=(t=qa.getState(e.state))==null?void 0:t.active)!=null?n:!1},t=>L8(e,t),{getServerFallback:()=>!1}));function Sye(e={submitKeys:["Enter","Tab"],cancelKeys:["Escape"],checkStrictMatchKeys:[" "]}){return new jr({key:qa,state:{init(){return I(S({},e),{active:!1})},apply(t,n){const r=t.getMeta(qa);return r?S(S({},n),r):n}},props:{handleKeyDown(t,n){var i,s,o,a,c,l;const r=qa.getState(t.state);if(!(r!=null&&r.active))return!1;if(!n.isComposing)return r.submitKeys.includes(n.key)?(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),c2(t),(s=(i=r.onMenuAction)==null?void 0:i.call(r,"submit"))!=null?s:!0):r.cancelKeys.includes(n.key)?(n.preventDefault(),(o=r.onMenuAction)==null||o.call(r,"cancel"),c2(t),!0):n.key==="ArrowUp"?(n.preventDefault(),(a=r.onMenuAction)==null||a.call(r,"up"),!0):n.key==="ArrowDown"?(n.preventDefault(),(c=r.onMenuAction)==null||c.call(r,"down"),!0):r.checkStrictMatchKeys.includes(n.key)&&(l=r.onMenuAction)!=null&&l.call(r,"checkMatch")?(n.preventDefault(),!0):!1},handleDOMEvents:{blur:t=>{var r;const n=qa.getState(t.state);(r=n==null?void 0:n.onMenuAction)==null||r.call(n,"cancel")}}}})}const Od=new ai("placeholderPlugin");function BWe(e,t){e.dispatch(e.state.tr.setMeta(Od,{placeholder:t}))}function Oye(e){return new jr({key:Od,state:{init(){return{placeholder:e}},apply(t,n){return t.getMeta(Od)?{placeholder:t.getMeta(Od).placeholder}:n}},props:{decorations(t){var i;const{doc:n}=t;if(n.childCount===1&&((i=n.firstChild)==null?void 0:i.isTextblock)&&n.firstChild.content.size===0){const s=[],{placeholder:o}=Od.getState(t);return t.doc.descendants((a,c)=>{const l=Dn.node(c,c+a.nodeSize,{class:"placeholder","data-placeholder":o});s.push(l)}),wt.create(n,s)}}}})}let P1;try{P1=new RegExp("^(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]*)$|\\s(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]+)$","u")}catch(e){P1=/^(\/|@)([\w.:_-]*)$|\s(\/|@)([\w.:_-]+)$/}function Tye(e,t){var r,i,s,o;if(e.depth===0)return;const n=(i=(r=e.nodeBefore)==null?void 0:r.text)==null?void 0:i.match(P1);if(n){const a=(s=n[1])!=null?s:n[3],c=(o=n[2])!=null?o:n[4],l=e.pos-c.length-1,u=e.pos;return c.length>0&&t?void 0:{triggerSymbol:a,queryText:c,range:{from:l,to:u}}}}const Td=new ai("systemHintPlugin");function wye(e,t){return e.setMeta(Td,t),e}function GWe(e){e.dispatch(wye(e.state.tr,I(S({},k1()),{isDismissed:!0})))}function k1(){return{triggerSymbol:"",queryText:"",active:!1,range:void 0,isDismissed:!1}}function l2(e){const{active:t,range:n,triggerSymbol:r,queryText:i,onHintMatch:s}=e;if(s)return s(!t||!n?void 0:{triggerSymbol:r,text:i,range:n})}function Aye(){return new jr({key:Td,state:{init(){return k1()},apply(e,t,n,r){const i=e.getMeta(Td),s=S(S(S({},k1()),t),i),o=e.selection;if(o.from!==o.to||r.doc.eq(n.doc))return l2(s),s;const a=o.$from,c=Tye(a,t.isDismissed);return s.active=c!=null,c&&(s.triggerSymbol=c.triggerSymbol,s.queryText=c.queryText,s.range=c.range,s.isDismissed=!1),l2(s),s}},view(){return{update(e,t){var s,o,a,c;const n=Td.getState(t),r=Td.getState(e.state);if(n.active===r.active&&((s=n.range)==null?void 0:s.from)===((o=r.range)==null?void 0:o.from)&&n.setReferencePosition===r.setReferencePosition)return;const i=r.range;!r.active||!i?(a=r.setReferencePosition)==null||a.call(r,null):(c=r.setReferencePosition)==null||c.call(r,{getBoundingClientRect:()=>xye(e.coordsAtPos(i.from))})}}}})}function xye({left:e,right:t,top:n,bottom:r}){return new DOMRect(e,n,t-e,r-n)}function Iye(e,t){const n=new EventTarget,r=Cye(e).enabled,i=Vve(e),s=Rme(e),o=new pve(null,{state:Cl.create({schema:hm,plugins:[Wve(),Sye(),Aye(),...i?[Hve({markType:hm.marks.ecosystemMentionMark})]:[],...r?[Eye()]:[],...s?[...wve(t)]:[],qve(),B8(I(S({},FL),{"Shift-Enter":FL.Enter,"Mod-z":wV,"Mod-y":N1,"Mod-Shift-z":N1})),_me(n),Oye(""),Ive(),Ome()]}),dispatchTransaction(c){const l=o.state.apply(c);o.updateState(l),c.docChanged&&n.dispatchEvent(new Event(_1))},handlePaste(c,l){var d;const u=(d=l.clipboardData)==null?void 0:d.getData("text/plain");return u===void 0?!1:(l.defaultPrevented||xme(e,u)||M8(c,u),!0)},clipboardTextSerializer(c){return dme(c.content).content}}),a=t&&kre(t);return a!=null&&k8(o.state.doc)&&o.dispatch(o.state.tr.insertText(a)),o}class Nye{constructor(t,n){this.ctx=t,this.conversation=n}}const sv=Bm("Composer"),fa=Jw(sv),M1=sv(()=>({current:null})),lu=sv(e=>Iye(e.ctx,e.conversation)),PV=fa(e=>oi(()=>lu(e).state,t=>L8(lu(e),F8(t,50)))),WWe=fa(e=>Oe(()=>PV(e).doc.content.size,{getServerFallback:()=>0})),Rye=fa(e=>Oe(()=>k8(PV(e).doc),{getServerFallback:()=>!0})),Pye=fa(()=>we(!1)),qWe=fa(e=>vme(()=>Pye(e),()=>Rye(e))),kye=fa(e=>oi(()=>lu(e).hasFocus(),t=>$o(lu(e).dom,{focus:t,blur:t}),{getServerFallback:()=>!1})),VWe=fa(e=>{const t=oi(()=>{const n=M1(e);return n.current!=null&&(n.current.contains(document.activeElement)||n.current.querySelector('[data-state="open"]')!=null)},n=>{const r=bme(n,150);return $o(document,{focusin:r,focusout:r})},{getServerFallback:()=>!1});return Oe(()=>t()||kye(e))}),$We=fa(e=>oi(()=>{const t=M1(e);return t.current!=null&&t.current.matches(":hover")},t=>{var r;const n=M1(e);return $o((r=n.current)!=null?r:lu(e).dom,{pointerenter:t,pointerleave:t})},{getServerFallback:()=>!1})),HWe=sv(e=>{const t=we(void 0),n=Oe(()=>{var s,o,a;if(!St(e.ctx))return;const r=e.conversation;if(!r)return;const i=(o=(s=Wpe(Sh(r)))==null?void 0:s.message.metadata)==null?void 0:o.thinking_effort;return(a=i!=null?i:$7(e.ctx).effort)!=null?a:"standard"},{getServerFallback:()=>rW(e.ctx).effort});return{composerThinkingEffort$:Oe(()=>{var r;return(r=t())!=null?r:n()}),setThinkingEffort:r=>{t.set(r)}}}),D1=E.createContext(null),zWe=e=>{"use forget";const t=H.c(7),{children:n,conversation:r,ignoreParentComposerController:i}=e,s=i===void 0?!1:i,o=re(),a=s?null:E.use(D1);let c;t[0]!==r||t[1]!==o||t[2]!==a?(c=a!=null?a:new Nye(o,r),t[0]=r,t[1]=o,t[2]=a,t[3]=c):c=t[3];const l=c;let u;return t[4]!==n||t[5]!==l?(u=_.jsx(D1.Provider,{value:l,children:n}),t[4]=n,t[5]=l,t[6]=u):u=t[6],u},Mye=()=>{"use forget";const e=H.c(2),t=E.use(D1);let n;return e[0]!==t?(n=Pi(t),e[0]=t,e[1]=n):n=e[1],n},YWe="g-2fkFE8rbu",kV={UNSET:"unset",GLOBAL:"global",PROJECT:"project",PROJECT_V2:"project_v2"};var Bt=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e[e.EMAIL=10]="EMAIL",e))(Bt||{});const MV={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},KWe={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},JWe={can_read:!0,can_view_config:!0,can_write:!0,can_delete:!1,can_export:!1,can_share:!1},gt={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var Dye=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(Dye||{});const XWe=e=>{var t;return(t=e.gizmo.tags)==null?void 0:t.includes("first_party")},QWe=e=>{var t;return e.gizmo.gizmo_type!=="snorlax"&&!((t=e.gizmo.tags)!=null&&t.includes("unreviewable"))};var Cm=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(Cm||{}),qx=(e=>(e.FILE_SERVICE="fs",e))(qx||{});function Lye(e){return e.type===10||e.type===1||e.type===2}const u2=[1,2,3,4];function ZWe(e){return e.length===0?null:e.reduce((t,n)=>u2.indexOf(n.type)<u2.indexOf(t.type)?t:n,e[0])}function eqe(e,t,n){return t=t.filter(r=>r.type===gt.User||r.type===gt.Group),e===gt.Private||e===gt.User||e===gt.Group?[{type:gt.Private,capabilities:MV},...t]:[...t,{type:e,capabilities:n}]}class DV{constructor(t){this.response=t}}var bl=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(bl||{});const jye=Fye(ut),Ah=Uye(ut);function Fye(e){return(t,n=LV)=>{const r=e(i=>bA((...s)=>t(i,...s),n));return(i,...s)=>r(i)(...s)}}function Uye(e){return(t,n=LV)=>{const r=e(s=>bA((...o)=>t(s,...o),n));return Z6((s,...o)=>r(s)(...o),t.length)}}function LV(...e){return e.length===1?e[0]:JSON.stringify(e)}const Gs=({chunk:e,href:t})=>_.jsx("a",{href:t,target:"_blank",className:"underline",rel:"noreferrer",children:e}),q=Tt({modelsTitle:{id:"t+hUfA",defaultMessage:"Models"},modelsDescription:{id:"zFj9MF",defaultMessage:"Manage access to models for members"},gpt5ThinkingDescription:{id:"67pSQk",defaultMessage:"Thinks longer for better answers."},gpt5ThinkingProDescription:{id:"AmHfHH",defaultMessage:"Research-grade intelligence."},gpt5ThinkingMiniAutoswitcherDescription:{id:"LU9gpS",defaultMessage:"If enabled, Auto will route to Thinking Mini instead of Thinking when reasoning is requested."},gpt5ThinkingMiniAutoswitcherDisableDescription:{id:"+yI/qj",defaultMessage:"Default on because Thinking is not enabled. Auto will route to Thinking Mini when reasoning is requested."},legacyModelsTitle:{id:"5MXz0X",defaultMessage:"Enable legacy models"},legacyModelsDescription:{id:"83N6uo",defaultMessage:"Allow members to use legacy models. This is a global setting for the workspace."},additionalModelsTitle:{id:"2ljqlu",defaultMessage:"Enable additional models"},additionalModelsDescription:{id:"DDljrd",defaultMessage:"Allow members to use additional models."},gpt41Description:{id:"J2sMy+",defaultMessage:"Great for quick coding and analysis."},gptO3Description:{id:"sG0ZYa",defaultMessage:"A powerful engine for complex, multi-step analysis."},gptO4MiniDescription:{id:"kH5Wky",defaultMessage:"Fast, cost-efficient reasoning for code, math and visual tasks."},imageGenTitle:{id:"iPlNq5",defaultMessage:"Image generation"},imageGenDescription:{id:"6NZOo3",defaultMessage:"Allows users create AI-generated images inside ChatGPT."},webSearchTitle:{id:"Qzwh18",defaultMessage:"Web search"},webSearchDescription:{id:"2MpcaO",defaultMessage:"Manage whether ChatGPT and GPTs created in this workspace can browse the internet. When enabled, it may send search queries and general location information to Bing, but this data is not linked to or associated with user accounts. This does not apply to third-party GPTs. <link>Learn more</link>"},webSearchDescriptionOfflineOnly:{id:"At35Ka",defaultMessage:"Manage whether ChatGPT and GPTs created in this workspace have access to information from the internet."},browserMemoriesTitle:{id:"jD9khW",defaultMessage:"Enable browser memories"},browserMemoriesDescription:{id:"wNjI5l",defaultMessage:"Allow ChatGPT to reference membersâ€™ browsing history when answering questions inside ChatGPT Atlas."},browserMemoriesDisabledReason:{id:"izWkrN",defaultMessage:"Enable ChatGPT Atlas to manage browser memories."},codexTitle:{id:"FwoibD",defaultMessage:"Allow members to use Codex Cloud"},codexDescription:{id:"JQ2JjX",defaultMessage:"Manage whether members can use Codex Cloud to run tasks across Web, Mobile, Code Review or Slack."},codexAdminTitle:{id:"DWWOuu",defaultMessage:"Allow members to administer Codex"},codexAdminDescription:{id:"xJJfEk",defaultMessage:"Allow members to administer Codex, including managing environments and access to Codex workspace analytics."},codexSlackPostingTitle:{id:"Ep5Rui",defaultMessage:"Allow Codex Slack app to post answers on task completion"},codexSlackPostingDescription:{id:"xgvDqU",defaultMessage:"When enabled, Codex posts its full answer back to Slack upon task completion. Otherwise, posts only a link to the task."},codexCliTitle:{id:"xFwkH8",defaultMessage:"Allow members to use Codex Local"},codexCliDescription:{id:"PDBmsc",defaultMessage:"Manage whether members can use Codex locally in the CLI or IDE extension."},codexAgentNetworkTitle:{id:"+0TP+Y",defaultMessage:"Allow Codex agent to access the internet"},codexAgentNetworkDescription:{id:"xIYqvo",defaultMessage:"Allows environments to be created with agent internet access enabled when completing cloud tasks."},codexDeviceCodeAuthTitle:{id:"2NBb84",defaultMessage:"Enable device code authentication for Codex CLI"},codexDeviceCodeAuthDescription:{id:"FHe1M9",defaultMessage:"Allow developers to sign-in with device codes when using Codex CLI in a non-interactive environment."},disabledReasonGithub:{id:"HNofTP",defaultMessage:"Disabled because there's no active GitHub connector."},recordTitle:{id:"AXkmJg",defaultMessage:"Record"},recordDescription:{id:"l0y0CK",defaultMessage:"Manage whether users can use ChatGPT to record, transcribe, and summarize longform audio. Recordings will be used solely for transcription purposes and will not be stored by OpenAI. <link>Learn more</link>"},recordReferencePastTranscriptsTitle:{id:"ZsmGaz",defaultMessage:"Allow ChatGPT to reference past notes and transcripts"},recordReferencePastTranscriptsDescription:{id:"OlM3tz",defaultMessage:"Allow members to reference past notes and transcripts in ChatGPT Record."},deepResearchTitle:{id:"xd3kLo",defaultMessage:"Deep research"},deepResearchDescription:{id:"b5K/+B",defaultMessage:"Lets users run in-depth research with web-connected and multi-step reasoning tools."},advanceVoiceTitle:{id:"BBl2PG",defaultMessage:"Advanced voice capabilities"},advanceVoiceDescription:{id:"Tfn5Vm",defaultMessage:"Enables real-time voice interaction with AI, including speech recognition and lifelike responses."},gptSectionTitle:{id:"lDlJlK",defaultMessage:"GPTs"},gptSectionDescription:{id:"MMDdKL",defaultMessage:"Choose which GPT access this role has"},gptCrudTitle:{id:"ySiNVL",defaultMessage:"Create and manage GPTs"},gptCrudDescription:{id:"aCMqKu",defaultMessage:"Allow members to create and manage GPTs"},gptShareWorkspaceTitle:{id:"arwdQz",defaultMessage:"Publish GPTs to workspace"},gptShareWorkspaceDescription:{id:"O0HyJZ",defaultMessage:"Allow members to publish GPTs they own to the workspace GPT Store"},gptShareExternalTitle:{id:"zl4S+n",defaultMessage:"Publish GPTs externally"},gptShareExternalDescription:{id:"wXPceF",defaultMessage:"Controls ability to share with others outside the org (via email or link)"},gptAllowAllThirdPartyTitle:{id:"ZYlBcx",defaultMessage:"Allow all third party GPTs"},gptAllowAllThirdPartyDescription:{id:"NVpEpJ",defaultMessage:"If enabled, user will have access to all 3P GPTs"},gptAllowSpecificThirdPartyTitle:{id:"7oaevm",defaultMessage:"Allow owner-approved GPTs only"},gptAllowSpecificThirdPartyDescription:{id:"ubkAtB",defaultMessage:"If enabled, user will have access to approved 3P GPTs"},projectSectionTitle:{id:"muqJOY",defaultMessage:"Projects"},projectSectionDescription:{id:"oDGRtQ",defaultMessage:"Choose which project access this role has"},projectCrudTitle:{id:"PDOJ0T",defaultMessage:"Create and manage projects"},projectCrudDescription:{id:"MfPKqd",defaultMessage:"Allow members to create and manage projects"},projectSharingTitle:{id:"EuQBCj",defaultMessage:"Share projects"},projectSharingDescription:{id:"G3e5oH",defaultMessage:"Allow members to share projects"},projectShareTitle:{id:"EuQBCj",defaultMessage:"Share projects"},projectShareDescription:{id:"G3e5oH",defaultMessage:"Allow members to share projects"},sharingTitle:{id:"8DIoJe",defaultMessage:"Sharing"},memberVisibilityTitle:{id:"y3ObUc",defaultMessage:"Member & group visibility"},memberRoleViewTitle:{id:"322WJh",defaultMessage:"View workspace members and groups"},memberRoleViewDescription:{id:"PVt0a7",defaultMessage:"Allow members to view workspace member and group lists, including assigned roles."},memoryTitle:{id:"h6Ufv3",defaultMessage:"Memory"},memoryDescription:{id:"NpeSvG",defaultMessage:"Manage whether members can enable memory. This allows ChatGPT to become more helpful by remembering details and preferences across chats. <link>Learn more</link>"},canvasCodeExecutionTitle:{id:"sB8WQp",defaultMessage:"Canvas code execution"},canvasCodeExecutionDescription:{id:"kkkA1m",defaultMessage:"Allow members to run code snippets within the canvas."},canvasCodeNetworkAccessTitle:{id:"L5mfFJ",defaultMessage:"Canvas code network access"},canvasCodeNetworkAccessDescription:{id:"OF7Jbc",defaultMessage:"Allow members to execute code with network access within the canvas."},thisFeatureDisabledForOrg:{id:"nAfvpE",defaultMessage:"This feature is disabled in this workspace"},videoScreenSharingTitle:{id:"GSzhi0",defaultMessage:"Allow members to share their screen or video while using voice mode"},videoScreenSharingDescription:{id:"WZkcdj",defaultMessage:"Allow members to share their screen or video while using voice mode"},canvasTitle:{id:"OuhDUU",defaultMessage:"Canvas"},searchTitle:{id:"rY8bdY",defaultMessage:"Search"},voiceTitle:{id:"e83f8K",defaultMessage:"Voice"},codexLocal:{id:"futdpv",defaultMessage:"Codex Local"},codex:{id:"8AIfDC",defaultMessage:"Codex Cloud"},codexSectionWarningDescription:{id:"Yu6Yi8",defaultMessage:"Access to Codex is restricted by default for this workspace. Codex may allow end users to share data, which could include protected health information (PHI), with third parties. You should ensure that your use of Codex complies with your obligations under HIPAA. For information to enable Codex, please see <link>here</link>."},recordAccessTitle:{id:"vFQuqV",defaultMessage:"Allow members to use ChatGPT record"},codeOnMacTitle:{id:"/WX4Ho",defaultMessage:"Code on macOS"},shareChatWithWorkspaceTitle:{id:"kKfDOF",defaultMessage:"Members can share chats with workspace."},shareChatTitle:{id:"x8jgoP",defaultMessage:"Allow members to share a chat or canvas with..."},shareChatProjectTitle:{id:"LQ2EVd",defaultMessage:"Allow members to share a chat, canvas, or project with..."},memoryAccessTitle:{id:"EVIMwx",defaultMessage:"Allow members to use memory"},chatRetentionPolicyTitle:{id:"HOkfAn",defaultMessage:"Chat retention policy"},chatRetentionPolicyDescription:{id:"b5pfhv",defaultMessage:"Contact your account manager to change this setting."},githubConnectorDescription:{id:"hk4rtN",defaultMessage:"Codex Cloud requires the GitHub Connector.{br}You can enable it in <settingsLink>Connector Settings</settingsLink>"},workWithCodeOnMacTitle:{id:"RKSSiR",defaultMessage:"Allow code edits on macOS"},workWithCodeOnMacDescription:{id:"eixe1y",defaultMessage:"Control whether users in this workspace can allow ChatGPT to edit code files when using the macOS desktop app. This lets ChatGPT read and edit the content of specific apps on their desktop to provide better responses. <link>Learn more</link>"},appleIntelligenceTitle:{id:"b5tisR",defaultMessage:"Allow members to link Apple Intelligence"},appleIntelligenceDescription:{id:"b2Jsop",defaultMessage:"Manage whether members can link with Apple Intelligence."},appleIntelligenceMDMTitle:{id:"0wNa7q",defaultMessage:"Apple Intelligence MDM"},appleIntelligenceMDMDescription:{id:"ZgxOdq",defaultMessage:"Only allow linking this workspace with Apple Intelligence on MDM managed devices."},imageGenSectionTitle:{id:"fKZG6M",defaultMessage:"Images"},mdmSectionTitle:{id:"jh/ICj",defaultMessage:"MDM"},mdmDisableCopyPasteTitle:{id:"iby11U",defaultMessage:"Disable copy and paste"},mdmDisableFileUploadTitle:{id:"4Mdk8I",defaultMessage:"Disable file upload"},mdmDisableFileDownloadTitle:{id:"S75iuY",defaultMessage:"Disable file download"},mdmRequirePinUnlockTitle:{id:"DAUS4M",defaultMessage:"Require PIN unlock"},mdmRequireBiometricUnlockTitle:{id:"8rpAr5",defaultMessage:"Require biometric unlock"},auraTitle:{id:"FkLlnI",defaultMessage:"ChatGPT Atlas"},auraDescription:{id:"JIsaXj",defaultMessage:"Allow members to use the ChatGPT Atlas web browser. ChatGPT Atlas is currently available in beta for Enterprise customers on macOS devices. <link>Learn more</link>"},agentModeTitle:{id:"t4P9Ws",defaultMessage:"Agent mode"},agentModeDescription:{id:"rE0L/V",defaultMessage:"Allow members to use agent mode. <link>Learn more</link>"},agentModeDisabledReason:{id:"/E6A5q",defaultMessage:"Agent mode is disabled because Web search is not enabled."},atlasSectionTitle:{id:"v/hDLj",defaultMessage:"ChatGPT Atlas"},deepResearchDisabledReason:{id:"QvYF92",defaultMessage:"Deep research is disabled because Web search is not enabled."},connectedDataSectionTitle:{id:"QE+kpm",defaultMessage:"Connected data"},createMcpConnectorTitle:{id:"pkZaDB",defaultMessage:"Developer mode / Create custom MCP connectors"},createMcpConnectorDescription:{id:"YHq4B3",defaultMessage:"If enabled, user will have access to developer mode and creation of custom MCP connectors"},connectorRoleTitle:{id:"jeAMAA",defaultMessage:"Allow members to use connectors"},devModeSectionTitle:{id:"Gzg+k9",defaultMessage:"Developer mode"},devModeAccessTitle:{id:"yj3VSi",defaultMessage:"Allow members to use Developer mode"},enhancedCitationsTitle:{id:"HAq1Nb",defaultMessage:"Enhanced Citations"},enhancedCitationsDescription:{id:"q/O+On",defaultMessage:"Allow members to use enhanced citations."},enableEnhancedCitationsTitle:{id:"CrTKPZ",defaultMessage:"Enable enhanced citations"},enableEnhancedCitationsDescription:{id:"jTNWHr",defaultMessage:"Enabling enhanced citations will allow members to access features that surface evidence-based results."},gpt51Title:{id:"VZgugE",defaultMessage:"GPT-5.1"},gpt51Description:{id:"MQoBSI",defaultMessage:"Flagship model for the latest generation of ChatGPT."},gpt51ReasoningTitle:{id:"OyK7ds",defaultMessage:"GPT-5.1 Thinking"},gpt51ReasoningDescription:{id:"2anVOn",defaultMessage:"Thinks longer for better answers."},gpt51ProTitle:{id:"QTEOWq",defaultMessage:"GPT-5.1 Pro"},gpt51ProDescription:{id:"QoIE6D",defaultMessage:"Research-grade intelligence."}});var ha=(e=>(e.GPT51Access="chatgpt.workspace.model.GPT-5.1.access",e.GPT51ReasoningAccess="chatgpt.workspace.model.GPT-5.1-reasoning.access",e.GPT51ProAccess="chatgpt.workspace.model.GPT-5.1-pro.access",e.GPT5ThinkingAccess="chatgpt.workspace.model.GPT-5-reasoning.access",e.GPT5ThinkingProAccess="chatgpt.workspace.model.GPT-5-pro.access",e.GPT5ThinkingMiniAccess="chatgpt.workspace.model.GPT-5-reasoning-mini.access",e.GPT41Access="chatgpt.workspace.model.GPT-4.1.access",e.GPT45Access="chatgpt.workspace.model.GPT-4.5.access",e.GPTO3Access="chatgpt.workspace.model.o3.access",e.GPTO3ProAccess="chatgpt.workspace.model.o3-pro.access",e.GPTO4MiniAccess="chatgpt.workspace.model.o4-mini.access",e.GPTO4MiniHighAccess="chatgpt.workspace.model.o4-mini-high.access",e.CrudGPT="chatgpt.workspace.gpt.crud",e.ShareWorkspaceGPT="chatgpt.workspace.gpt.share_workspace",e.ShareExternalGPT="chatgpt.workspace.gpt.share_external",e.AllowAllThirdPartyGPT="chatgpt.workspace.gpt.allow_all_third_party",e.AllowSpecificThirdPartyGPT="chatgpt.workspace.gpt.allow_specific_third_party",e.CrudProject="chatgpt.workspace.project.crud",e.ShareProject="chatgpt.workspace.project.share",e.MemberRoleView="chatgpt.workspace.member.role.view",e.ShareChatWithWorkspace="chatgpt.workspace.feature.share-chat-with-workspace.access",e.AllowCodexAccess="chatgpt.workspace.feature.allow-codex-access.access",e.AllowCodexLocalAccess="chatgpt.workspace.feature.allow-codex-local-access.access",e.CodexAdminAccess="chatgpt.workspace.feature.codex-admin.access",e.CodexAgentNetworkAccess="chatgpt.workspace.feature.codex-agent-network-access.access",e.CodexDeviceCodeAuthAccess="chatgpt.workspace.feature.codex-device-code-auth.access",e.CodexSlackPostingAccess="chatgpt.workspace.feature.codex-slack-posting.access",e.ImageGenAccess="chatgpt.workspace.feature.image-gen.access",e.SearchAccess="chatgpt.workspace.feature.search.access",e.DeepResearchAccess="chatgpt.workspace.feature.deep-research.access",e.VoiceAccess="chatgpt.workspace.feature.voice.access",e.HiveAccess="chatgpt.workspace.feature.hive.access",e.HiveKnowledgeRetrievalAccess="chatgpt.workspace.feature.hive-knowledge-retrieval.access",e.MemoryAccess="chatgpt.workspace.feature.memory.access",e.CanvasCodeExecutionAccess="chatgpt.workspace.feature.canvas-code-execution.access",e.CanvasCodeNetworkAccess="chatgpt.workspace.feature.canvas-code-network-access.access",e.VideoScreenSharingAccess="chatgpt.workspace.feature.video-screen-sharing.access",e.AppPairingAccess="chatgpt.workspace.feature.app-pairing.access",e.ClientApplicationAppleAccess="chatgpt.workspace.feature.client-application-apple.access",e.AuraAccess="chatgpt.workspace.feature.aura.access",e.BrowserMemoriesAccess="chatgpt.workspace.feature.aura-browser-memories.access",e.AgentModeAccess="chatgpt.workspace.feature.agent-mode.access",e.CreateMcpConnector="chatgpt.workspace.connector.mcp.create",e.DeveloperModeConnector="chatgpt.workspace.connector.dev_mode",e.UseConnector="chatgpt.workspace_connector.use",e.EnhancedCitations="chatgpt.workspace.feature.enhanced-citations.access",e))(ha||{});const Bye=({isRbacEnabled:e,isSharedProjectsEnabled:t,includeBetaSettingsAdvanced:n,isQuorum:r})=>({title:q.sharingTitle,availableForQuorum:!r,entries:[...n&&e?[{rbac:!0,title:q.shareChatWithWorkspaceTitle,permissionName:"chatgpt.workspace.feature.share-chat-with-workspace.access"}]:[{rbac:!1,title:t?q.shareChatProjectTitle:q.shareChatTitle,settingName:"share_chat"}]]}),Gye=()=>({title:q.memberVisibilityTitle,availableForQuorum:!0,entries:[{rbac:!0,title:q.memberRoleViewTitle,description:q.memberRoleViewDescription,permissionName:"chatgpt.workspace.member.role.view"}]}),Wye=()=>({title:q.memoryTitle,availableForQuorum:!0,entries:[{rbac:!1,title:q.memoryAccessTitle,description:q.memoryDescription,descriptionValues:{link:e=>_.jsx(Gs,{chunk:e,href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq"})},settingName:"memory_access"},{rbac:!1,title:q.chatRetentionPolicyTitle,description:q.chatRetentionPolicyDescription,settingName:"rentention_policy"}]}),qye=({isRbacEnabled:e,includeBetaSettingsAdvanced:t})=>({title:q.canvasTitle,availableForQuorum:!0,entries:e&&t?[{rbac:!0,title:q.canvasCodeExecutionTitle,description:q.canvasCodeExecutionDescription,permissionName:"chatgpt.workspace.feature.canvas-code-execution.access"},{rbac:!0,title:q.canvasCodeNetworkAccessTitle,description:q.canvasCodeNetworkAccessDescription,permissionName:"chatgpt.workspace.feature.canvas-code-network-access.access"}]:[{rbac:!1,title:q.canvasCodeExecutionTitle,description:q.canvasCodeExecutionDescription,settingName:"canvas_code_execution"},{rbac:!1,title:q.canvasCodeNetworkAccessTitle,description:q.canvasCodeNetworkAccessDescription,settingName:"canvas_code_network_access"}]}),Vye=({isRbacEnabled:e,showDeepResearchToggle:t,includeBetaSettings:n,includeAgentMode:r,isQuorum:i,isSearchEnabled:s})=>({title:q.searchTitle,availableForQuorum:!0,entries:[...n&&e?[{rbac:!0,title:q.webSearchTitle,description:i?q.webSearchDescriptionOfflineOnly:q.webSearchDescription,descriptionValues:{link:o=>_.jsx(Gs,{chunk:o,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},permissionName:"chatgpt.workspace.feature.search.access"}]:[{rbac:!1,title:q.webSearchTitle,description:i?q.webSearchDescriptionOfflineOnly:q.webSearchDescription,descriptionValues:{link:o=>_.jsx(Gs,{chunk:o,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},settingName:"web_search"}],...t?[{rbac:!0,title:q.deepResearchTitle,description:q.deepResearchDescription,permissionName:"chatgpt.workspace.feature.deep-research.access",disabled:!s,disabledReason:s?void 0:q.deepResearchDisabledReason}]:[],...r?[{rbac:!0,title:q.agentModeTitle,disabledForQuorum:i,description:q.agentModeDescription,descriptionValues:{link:o=>_.jsx(Gs,{chunk:o,href:"https://help.openai.com/en/articles/11752874-chatgpt-agent"})},permissionName:"chatgpt.workspace.feature.agent-mode.access",disabled:!s,disabledReason:s?i?q.thisFeatureDisabledForOrg:void 0:q.agentModeDisabledReason}]:[]]}),$ye={title:q.imageGenSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:q.imageGenTitle,description:q.imageGenDescription,permissionName:"chatgpt.workspace.feature.image-gen.access"}]},Hye=({isRbacEnabled:e,includeFeatures:t,includeBetaSettingsAdvanced:n})=>({title:q.voiceTitle,availableForQuorum:!0,entries:[...t&&e?[{rbac:!0,title:q.advanceVoiceTitle,description:q.advanceVoiceDescription,permissionName:"chatgpt.workspace.feature.voice.access"}]:[],...n&&e?[{rbac:!0,title:q.videoScreenSharingTitle,description:q.videoScreenSharingDescription,permissionName:"chatgpt.workspace.feature.video-screen-sharing.access"}]:[{rbac:!1,title:q.videoScreenSharingTitle,description:q.videoScreenSharingDescription,settingName:"video_screen_sharing"}]]}),zye=({includeAura:e,includeBrowserMemories:t,isRbacEnabled:n})=>{if(!e||!n)return null;const r=[{rbac:!0,title:q.auraTitle,description:q.auraDescription,descriptionValues:{link:i=>_.jsx(Gs,{chunk:i,href:"https://help.openai.com/en/collections/16051538-chatgpt-atlas"})},permissionName:"chatgpt.workspace.feature.aura.access"}];return t&&r.push({rbac:!0,title:q.browserMemoriesTitle,description:q.browserMemoriesDescription,permissionName:"chatgpt.workspace.feature.aura-browser-memories.access",disabledReason:q.browserMemoriesDisabledReason}),{title:q.atlasSectionTitle,availableForQuorum:!0,entries:r}},Yye=({isRbacEnabled:e,includeBetaSettings:t,githubConnectorEnabled:n,isCodexEnabledInRBACRole:r,isQuorum:i,isRoleSpecificPage:s,showDeviceCodeAuthToggle:o})=>{const a=!n&&!r,c=[],l=[];return t&&e?(l.push({rbac:!0,title:q.codexTitle,description:q.codexDescription,permissionName:"chatgpt.workspace.feature.allow-codex-access.access",disabled:a,disabledReason:a?q.disabledReasonGithub:void 0}),l.push({rbac:!0,title:q.codexAdminTitle,description:q.codexAdminDescription,permissionName:"chatgpt.workspace.feature.codex-admin.access",disabled:a,disabledReason:a?q.disabledReasonGithub:void 0}),c.push({rbac:!0,title:q.codexCliTitle,description:q.codexCliDescription,permissionName:"chatgpt.workspace.feature.allow-codex-local-access.access"}),l.push({rbac:!0,title:q.codexSlackPostingTitle,description:q.codexSlackPostingDescription,permissionName:"chatgpt.workspace.feature.codex-slack-posting.access"}),o&&c.push({rbac:!0,title:q.codexDeviceCodeAuthTitle,description:q.codexDeviceCodeAuthDescription,permissionName:"chatgpt.workspace.feature.codex-device-code-auth.access",disabled:a,disabledReason:a?q.disabledReasonGithub:void 0})):(l.push({rbac:!1,title:q.codexTitle,description:q.codexDescription,settingName:"codex_access"}),l.push({rbac:!1,title:q.codexAdminTitle,description:q.codexAdminDescription,settingName:"codex_admin"}),c.push({rbac:!1,title:q.codexCliTitle,description:q.codexCliDescription,settingName:"codex_local_access"}),l.push({rbac:!1,title:q.codexSlackPostingTitle,description:q.codexSlackPostingDescription,settingName:"codex_slack_posting"}),o&&c.push({rbac:!1,title:q.codexDeviceCodeAuthTitle,description:q.codexDeviceCodeAuthDescription,settingName:"codex_device_code_auth"})),[{title:q.codexLocal,availableForQuorum:!i||s,description:i?q.codexSectionWarningDescription:void 0,descriptionValues:i?{link:u=>_.jsx(Gs,{chunk:u,href:"https://cdn.openai.com/osa/chatgpt-regulated-workspace.pdf"})}:void 0,entries:c},{title:q.codex,availableForQuorum:!i||s,description:i?q.codexSectionWarningDescription:void 0,descriptionValues:i?{link:u=>_.jsx(Gs,{chunk:u,href:"https://cdn.openai.com/osa/chatgpt-regulated-workspace.pdf"})}:void 0,entries:[{rbac:!0,title:"GitHub",description:q.githubConnectorDescription,descriptionValues:{br:_.jsx("br",{}),settingsLink:u=>_.jsx(Um,{to:"/admin/ca",className:"underline",children:u})},permissionName:"codex_github_connector"},...l,...t&&e?[{rbac:!0,title:q.codexAgentNetworkTitle,description:q.codexAgentNetworkDescription,permissionName:"chatgpt.workspace.feature.codex-agent-network-access.access"}]:[{rbac:!1,title:q.codexAgentNetworkTitle,description:q.codexAgentNetworkDescription,settingName:"codex_agent_network"}]]}]},Kye=({isRbacEnabled:e,isInSupportedDrRegion:t,includeBetaSettings:n})=>({title:q.recordTitle,availableForEnterprise:!0,availableForQuorum:!0,description:q.recordDescription,descriptionValues:{link:r=>_.jsx(Gs,{chunk:r,href:"https://help.openai.com/en/articles/11487532"})},entries:n&&e?[{rbac:!0,title:q.recordAccessTitle,permissionName:"chatgpt.workspace.feature.hive.access"},...t?[{rbac:!0,title:q.recordReferencePastTranscriptsTitle,description:q.recordReferencePastTranscriptsDescription,permissionName:"chatgpt.workspace.feature.hive-knowledge-retrieval.access"}]:[]]:[{rbac:!1,title:q.recordAccessTitle,settingName:"record_access"},...t?[{rbac:!1,title:q.recordReferencePastTranscriptsTitle,description:q.recordReferencePastTranscriptsDescription,settingName:"record_reference_past_transcripts"}]:[]]}),Jye=({isAppleIntelligenceToggleEnabled:e,isAppleIntelligenceMdmToggleEnabled:t})=>({title:q.codeOnMacTitle,availableForQuorum:!0,entries:[{rbac:!1,title:q.workWithCodeOnMacTitle,description:q.workWithCodeOnMacDescription,descriptionValues:{link:n=>_.jsx(Gs,{chunk:n,href:"https://help.openai.com/en/articles/10119604-work-with-apps-on-macos"})},settingName:"apps_access"},...e?[{rbac:!1,title:q.appleIntelligenceTitle,description:q.appleIntelligenceDescription,settingName:"apple_intelligence_access"}]:[],...e&&t?[{rbac:!1,title:q.appleIntelligenceMDMTitle,description:q.appleIntelligenceMDMDescription,settingName:"apple_intelligence_mdm_access"}]:[]]}),Xye=({isRbacEnabled:e,includeModels:t,legacyModelsEnabled:n,isEnterprisey:r,includeThinkingMini:i,gpt5ThinkingEnabled:s,isCBP:o})=>({title:q.modelsTitle,availableForEnterprise:!0,availableForQuorum:!0,description:q.modelsDescription,entries:[...i&&e&&o?[{rbac:!0,title:"Redirect Auto Router to Thinking Mini",disabled:!s,disabledReason:s?void 0:q.gpt5ThinkingMiniAutoswitcherDisableDescription,description:q.gpt5ThinkingMiniAutoswitcherDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning-mini.access"}]:[],...t&&e?[{rbac:!0,title:"GPT-5 Thinking",description:q.gpt5ThinkingDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning.access"},{rbac:!0,title:"GPT-5 Pro",description:q.gpt5ThinkingProDescription,permissionName:"chatgpt.workspace.model.GPT-5-pro.access"}]:[],...r?[{rbac:!1,title:q.legacyModelsTitle,description:q.legacyModelsDescription,settingName:"legacy_models"}]:[{rbac:!1,title:q.additionalModelsTitle,description:q.additionalModelsDescription,settingName:"legacy_models"}],...t&&e&&n?[{rbac:!0,title:"GPT-4.1",description:q.gpt41Description,permissionName:"chatgpt.workspace.model.GPT-4.1.access"},{rbac:!0,title:"o3",description:q.gptO3Description,permissionName:"chatgpt.workspace.model.o3.access"},{rbac:!0,title:"o4-mini",description:q.gptO4MiniDescription,permissionName:"chatgpt.workspace.model.o4-mini.access"}]:[]]}),Qye=()=>({title:q.gptSectionTitle,availableForQuorum:!0,description:q.gptSectionDescription,entries:[{rbac:!0,title:q.gptCrudTitle,description:q.gptCrudDescription,permissionName:"chatgpt.workspace.gpt.crud"},{rbac:!0,title:q.gptShareWorkspaceTitle,description:q.gptShareWorkspaceDescription,permissionName:"chatgpt.workspace.gpt.share_workspace"},{rbac:!0,disabledForQuorum:!0,title:q.gptShareExternalTitle,description:q.gptShareExternalDescription,permissionName:"chatgpt.workspace.gpt.share_external"},{rbac:!0,disabledForQuorum:!0,title:q.gptAllowAllThirdPartyTitle,description:q.gptAllowAllThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_all_third_party"},{rbac:!0,disabledForQuorum:!0,title:q.gptAllowSpecificThirdPartyTitle,description:q.gptAllowSpecificThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_specific_third_party"}]}),Zye={rbac:!0,title:q.projectSharingTitle,description:q.projectSharingDescription,permissionName:"chatgpt.workspace.project.share"};q.auraTitle;const eCe=e=>({title:q.projectSectionTitle,availableForQuorum:!0,description:q.projectSectionDescription,entries:ux([{rbac:!0,title:q.projectCrudTitle,description:q.projectCrudDescription,permissionName:"chatgpt.workspace.project.crud"},e?Zye:null])}),tCe={title:q.mdmSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:q.mdmDisableCopyPasteTitle,permissionName:"chatgpt.workspace.mdm.disable_copy_paste"},{rbac:!0,title:q.mdmDisableFileUploadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.upload"},{rbac:!0,title:q.mdmDisableFileDownloadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.download"}]},nCe=()=>({title:q.connectedDataSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:q.connectorRoleTitle,permissionName:"chatgpt.workspace_connector.use",nestedKey:"chatgpt.workspace_connector.use"},{rbac:!0,title:q.createMcpConnectorTitle,description:q.createMcpConnectorDescription,permissionName:"chatgpt.workspace.connector.mcp.create",additionalPermissionNames:["chatgpt.workspace.connector.dev_mode"]}]}),rCe=()=>({title:q.enhancedCitationsTitle,availableForQuorum:!0,description:q.enhancedCitationsDescription,entries:[{rbac:!0,title:q.enableEnhancedCitationsTitle,description:q.enableEnhancedCitationsDescription,permissionName:"chatgpt.workspace.feature.enhanced-citations.access"}]}),iCe={rbac:!0,title:q.gpt51Title,description:q.gpt51Description,permissionName:"chatgpt.workspace.model.GPT-5.1.access"},sCe={rbac:!0,title:q.gpt51ReasoningTitle,description:q.gpt51ReasoningDescription,permissionName:"chatgpt.workspace.model.GPT-5.1-reasoning.access"};q.gpt51ProTitle,q.gpt51ProDescription;function tqe({isCBP:e,isRbacEnabled:t,githubConnectorEnabled:n,isInSupportedDrRegion:r,includeFeatures:i,includeModels:s,isSharedProjectsEnabled:o,isSearchEnabled:a,isEnterprisey:c,showHiveToggle:l,showDeepResearchToggle:u,includeBetaSettings:d,includeBetaSettingsAdvanced:f,includeGizmoPermissions:h,isAppleIntelligenceToggleEnabled:p,isAppleIntelligenceMdmToggleEnabled:g,isMDMEnabled:m,includeAgentMode:v,includeAura:y,includeBrowserMemories:T,isQuorum:b,legacyModelsEnabled:C,includeConnectorPermissions:O,includeThinkingMini:w,isCodexEnabledInRBACRole:A,showProjectSharing:x,isRoleSpecificPage:R,showDeviceCodeAuthToggle:P,gpt5ThinkingEnabled:L,isEnhancedCitationsRolledOut:D}){const F=zye({includeAura:y,includeBrowserMemories:T,isRbacEnabled:t});return[...F?[F]:[],Bye({isRbacEnabled:t,isSharedProjectsEnabled:o,includeBetaSettingsAdvanced:f,isQuorum:b}),...t?[Gye()]:[],Wye(),qye({isRbacEnabled:t,includeBetaSettingsAdvanced:f}),Vye({isRbacEnabled:t,showDeepResearchToggle:u,includeBetaSettings:d,includeAgentMode:v,isQuorum:b,isSearchEnabled:a}),...i&&t?[$ye]:[],Hye({isRbacEnabled:t,includeFeatures:i,includeBetaSettingsAdvanced:f}),...c?Yye({isRbacEnabled:t,includeBetaSettings:d,githubConnectorEnabled:n,isCodexEnabledInRBACRole:A,isQuorum:b,isRoleSpecificPage:R,showDeviceCodeAuthToggle:P}):[],...l?[Kye({isRbacEnabled:t,isInSupportedDrRegion:r,includeBetaSettings:d})]:[],Jye({isAppleIntelligenceToggleEnabled:p,isAppleIntelligenceMdmToggleEnabled:g}),Xye({isRbacEnabled:t,includeModels:s,legacyModelsEnabled:C,isEnterprisey:c,includeThinkingMini:w,gpt5ThinkingEnabled:L,isCBP:e}),...t&&h?[Qye()]:[],...t&&h?[eCe(x)]:[],...t&&m?[tCe]:[],...t&&O?[nCe()]:[],...b&&D?[rCe()]:[]]}const nqe=e=>{let t=[];return e&&(t=t.concat({name:"GPT-5.1 Models",description:"The latest models from OpenAI.",newReleaseEntries:[iCe,sCe],newReleaseOptOutFlag:ws.GPT51_GA_OPT_OUT,shouldDisableForQuorum:!1,releaseDate:"November 24, 2025",helpCenterLink:void 0,shouldHideOptOutButton:!0})),t},rqe=e=>$e(e,"1355972088"),Fr=e=>rn(e,"2826703856"),iqe=e=>Fr(e).get("self_serve_page_enabled",!1),sqe=e=>Fr(e).get("models_display_in_rbac_page",!1),oqe=e=>Fr(e).get("features_display_in_rbac_page",!1),aqe=e=>Fr(e).get("beta_settings_display_in_rbac_page",!1),cqe=e=>Fr(e).get("beta_settings_display_in_rbac_page_advanced",!1),lqe=e=>Fr(e).get("gpt_settings_display_in_rbac_page",!1),oCe=e=>Fr(e).get("enable_gpt_fe_controls",!1),aCe=e=>Fr(e).get("enable_project_fe_controls",!1),uqe=e=>$e(e,"1277555238"),dqe=e=>Fr(e).get("enable_agent_mode",!1),fqe=e=>Fr(e).get("enable_aura",!1),hqe=e=>Fr(e).get("enable_browser_memories",!1),pqe=e=>Fr(e).get("enable_thinking_mini",!1),gqe=e=>$e(e,"2401070674"),cCe=e=>$e(e,"1627064618"),mqe=e=>$e(e,"1513410899"),_qe=e=>Fr(e).get("enable_gpt51_toggle",!1),lCe="o4-mini",Vx=e=>{var c,l;const t=re(),n=_s(),r=n==null?void 0:n.getWorkspaceId(),i=aCe(t),{data:s,isLoading:o}=gx(r);if(!(n!=null&&n.isWorkspaceAccount()))return{hasWorkspacePermission:!0,isLoading:!1};const a=(l=(c=s==null?void 0:s.permissions)==null?void 0:c.includes(e))!=null?l:!1;return{hasWorkspacePermission:i?a:!0,isLoading:o}},vqe=()=>{const{hasWorkspacePermission:e,isLoading:t}=Vx(ha.CrudProject);return{canCreate:e,isLoading:t}},yqe=e=>{var i,s;const{hasWorkspacePermission:t,isLoading:n}=Vx(ha.CrudProject);return{canEdit:(s=t&&((i=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:i.can_write))!=null?s:!1,isLoading:n}},Cqe=e=>{var i,s;re();const{hasWorkspacePermission:t,isLoading:n}=Vx(ha.CrudProject);return{canDelete:(s=t&&((i=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:i.can_delete))!=null?s:!1,isLoading:n}};function jV(e,t){return!1}function bqe(e,t){if(t!=null)return uCe(e,t)?Cm.PROJECT:Cm.GPT}function uCe(e,t){return oo(t)&&FV(e)}function FV(e){return $e(e,"491279851")}function oo(e){return(e==null?void 0:e.slice(0,4))==="g-p-"}function $x(e){return e!=null&&!oo(e)}function Eqe(e,t){return!$x(e)&&!t}function ov(e){return oo(e.gizmo.id)}function dCe(e){return ov(e)&&e.gizmo.share_recipient===gt.Private&&e.gizmo.sharing.subjects.length===0}function fCe(e){return ov(e)&&!dCe(e)}function Sqe(e,t){return!(bn.getItem(zt.TasksHasSeenProjectDisclaimerBanner)!=null)&&e===lCe&&ov(t)&&t.files.length>0}const hCe=Lr(()=>we(void 0));function Oqe({gizmo:e,user_id:t}){return e.gizmo.author.user_id===t?!0:e.gizmo.sharing.subjects.some(n=>n.type===Bt.USER&&n.user_id===t)}const L1={},pCe=["added","updated","removed"];let d2=!1;function gCe(e,t){d2||(d2=!0,t.getQueryCache().subscribe(n=>{var i,s;const r=n.query.queryHash;if(n.query.state.status==="success"&&r in L1&&pCe.includes(n.type)){const{cacheKey:o,cacheVersion:a}=L1[r];$re((s=(i=Fhe(e))==null?void 0:i.id)!=null?s:null,o,n.query.state.data,a)}}))}function mCe(e,t,n,r,i){gCe(e,t),L1[Wm(n)]={cacheKey:r,cacheVersion:i}}function av(e,t,n){"use forget";const r=H.c(5),i=l_(),s=re();if(!i)return;let o;return r[0]!==e||r[1]!==t||r[2]!==s||r[3]!==n?(o=UV(s,e,t,n),r[0]=e,r[1]=t,r[2]=s,r[3]=n,r[4]=o):o=r[4],o}function UV(e,t,n,r){const i=at(e),s=tn(e);return mCe(e,s,r,t,n),()=>{var a;const o=Vre((a=i==null?void 0:i.id)!=null?a:null,t,n);if(o!=null)return o}}function _Ce(e,t){var r,i,s;const n=(s=(i=(r=sa(e))==null?void 0:r.account)==null?void 0:i.id)!=null?s:null;Hre(n,t)}const vCe="q",Tqe="disable_auto_send",wqe="author",BV="owner_user_id",f2="tab";function Aqe(e,t={}){const{gizmo:n,project:r,ownerUserId:i,accountUserId:s,superWidgetTab:o}=t;if(n&&r)throw new Error("Cannot provide both GPT and project");if(n&&!$x(n.gizmo.id))throw new Error("Invalid gizmo ID");if(r&&!oo(r.id))throw new Error("Invalid project ID ".concat(r.id));const a=new URLSearchParams;if(r&&i&&i!==s){a.set(BV,i),o&&a.set(f2,o);const d="".concat(rc(h2(r)),"/shared/c/").concat(e,"?").concat(a.toString());return nf(d).toString()}let c="/c/".concat(e);r?c="".concat(rc(h2(r)),"/c/").concat(e):n&&(c="".concat(rc(bf(n)),"/c/").concat(e)),o&&a.set(f2,o);const l=a.toString(),u=l?"".concat(c,"?").concat(l):c;return nf(u).toString()}function xqe(e,t,n){const r="".concat(rc(bf(t)),"/shared/c/").concat(e,"?").concat(BV,"=").concat(n);returnwindow.location.origin.concat(r)}function bf(e){var t,n;return(n=(t=e.gizmo.short_url)!=null?t:e.gizmo.id)!=null?n:"-"}function h2(e){var t,n;return(n=(t=e.short_url)!=null?t:e.id)!=null?n:"-"}function rc(e){return"/g/".concat(e)}function Iqe(){return"/gpts"}function Nqe(){return"/schedules"}function Rqe(){return"/gpts/mine"}function GV(e){return e?"/gpts/editor/".concat(e):"/gpts/editor"}function Pqe(e){const t=yCe();return e==null?t:GV(e)}function yCe(e){return GV(e)}function CCe(e){if(!e)return null;try{return new URL(e).hostname}catch(t){return null}}function kqe(e){const t=CCe(e);return t?t.replace(/^www\./,""):e}const cv="client-correlated-secret";function p2(){const e=localStorage.getItem(cv);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function WV(){p2()==null&&localStorage.setItem(cv,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=p2();if(t==null)throw new Error("Failed to get key from storage");return t}function bCe(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function ECe(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function SCe(e){const t=new URL(e),n=Xt({queryKey:[cv,"generate-challenge",e.search],queryFn:async()=>ECe(await crypto.subtle.sign("HMAC",await WV(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function Mqe(){const e=location==null?void 0:location.search,t=location==null?void 0:location.hash;return Xt({queryKey:[cv,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await WV(),bCe(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}class jt{static getMyGizmos(){return st("gizmo_api.get_my_gizmos",()=>Ze.get("".concat(Je,"/gizmos?mine=true")))}static getGizmosByUser(t){return st("gizmo_api.get_gizmos_by_user",()=>Ze.get("".concat(Je,"/gizmos/u/").concat(t)))}static getGizmo(t,n){const r=n?"?draft=true":"";return st("gizmo_api.get_gizmo",()=>Ze.get("".concat(Je,"/gizmos/").concat(t).concat(r)))}static getGizmoPublic(t){return st("gizmo_api.get_gizmo_public",()=>cie.safeGet("/gizmos/{gizmo_id_or_short_url}",{parameters:{path:{gizmo_id_or_short_url:t}},authOption:en.Anonymous}))}static shareGizmo(t,n){return st("gizmo_api.share",()=>Ze.post("".concat(Je,"/gizmos/").concat(t,"/share"),n))}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),st("gizmo_api.discovery",()=>Ze.get(n?"".concat(Hp,"/gizmos/discovery_anon?").concat(r):"".concat(Hp,"/gizmos/discovery?").concat(r),{authOption:en.SendIfAvailable}))}static async getGizmoDiscoveryCut(t,n){const r=s=>{const o={};s!=null&&(o.cursor=s),(n==null?void 0:n.limit)!=null&&(o.limit="".concat(n.limit)),(n==null?void 0:n.locale)!=null&&(o.locale=n.locale);const a="".concat(Hp,"/gizmos/discovery/").concat(t);return st("gizmo_api.discovery",()=>Ze.get(a,{params:o,authOption:en.SendIfAvailable}))},i=await r(n==null?void 0:n.cursor);return i.list.items.length===0&&i.list.cursor!=null?(await new Promise(s=>setTimeout(s,Math.random()*30)),await r(i.list.cursor)):i}static getGizmoBootstrap(t){return st("gizmo_api.bootstrap",()=>Ze.get("".concat(Je,"/gizmos/bootstrap?limit=").concat(t)))}static getGizmoPinned(){return st("gizmo_api.pinned",()=>Ze.get("".concat(Je,"/gizmos/pinned")))}static getGizmoSearch(t,n=null){return n?st("gizmo_api.search_with_cursor",()=>Ze.get("".concat(Je,"/gizmos/search?q=").concat(t,"&cursor=").concat(n," "))):st("gizmo_api.search",()=>Ze.get("".concat(Je,"/gizmos/search?q=").concat(t)))}static getGizmoSearchForWorkspace(t,n=null){return n?st("gizmo_api.search_workspace_cursor",()=>Ze.get("".concat(Je,"/gizmos/search?q=").concat(t,"&workspace_only=true&cursor=").concat(n))):st("gizmo_api.search_workspace",()=>Ze.get("".concat(Je,"/gizmos/search?q=").concat(t,"&workspace_only=true")))}static async postGizmoAppeal(t,n,r,i,s){await st("gizmo_api.appeal",()=>Ze.post("".concat(Je,"/gizmos/").concat(n,"/appeal"),{reason:r,share_recipient:i,categories:s})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await st("gizmo_api.cancel_appeal",()=>Ze.post("".concat(Je,"/gizmos/").concat(n,"/cancel_appeal"),{})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?st("gizmo_api.upsert_gizmo",()=>Ze.post("".concat(Je,"/gizmos?gizmo_id=").concat(n),t)):st("gizmo_api.upsert_gizmo",()=>Ze.post("".concat(Je,"/gizmos"),t))}static promoteDraft(t,n){return st("gizmo_api.promote",()=>Ze.post("".concat(Je,"/gizmos/").concat(n,"/promote"),t))}static deleteGizmo(t){return st("gizmo_api.delete_gizmos",()=>Z.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}}))}static getBuilderProfile(){return st("gizmo_api.gizmo_creator_profile",()=>Ze.get("".concat(Je,"/gizmo_creator_profile")))}static updateBuilderProfile(t){return st("gizmo_api.gizmo_creator_profile",()=>Ze.post("".concat(Je,"/gizmo_creator_profile"),t))}static unverifySocialAuth(t){return st("gizmo_api.delete_socials",()=>Z.safeDelete("/gizmo_creator_profile/socials/{verifier_type}",{parameters:{path:{verifier_type:t}}}))}static async updateGizmoSidebar(t,n,r,i,s){const o=await st("gizmo_api.update_sidebar",()=>Ze.post("".concat(Je,"/gizmos/").concat(r,"/sidebar"),{action:i}));switch(i){case"keep":Se.logEvent("Sidebar Gizmo Keep",{location:s}),n.handleGizmoSidebarKeep(t,r);break;case"hide":Se.logEvent("Sidebar Gizmo Hide",{location:s}),n.handleGizmoSidebarHide(t,r);break}return o}static async removeFromRecent(t,n){const r=await st("gizmo_api.remove_recent",()=>Ze.post("".concat(Je,"/gizmos/").concat(n,"/remove_recent"),{}));return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return st("gizmo_api.fetch_openapi",()=>Ze.post("".concat(Je,"/gizmos/fetch_openapi"),{url:t}))}static validateOpenAPISpec(t){return st("gizmo_api.validate_openapi",()=>Ze.post("".concat(Je,"/gizmos/validate_openapi"),{raw_spec:t}))}static transformToOpenAPISpec(t,n){return st("gizmo_api.transform_openapi",()=>Ze.post("".concat(Je,"/gizmos/transform_openapi"),I(S({},t),{auth:n})))}static async doOAuthRedirect(t,n,r,i,s){const o=await st("gizmo_api.oauth_redirect",()=>Ze.post("".concat(Je,"/gizmos/oauth_redirect"),{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:i,draft:s}));window.location.href=o.redirect_uri}static async upsertUserActionSettings(t,n,r){return st("gizmo_api.action_settings",()=>Ze.post("".concat(Je,"/gizmos/action_settings"),{gizmo_action_id:t,domain:n,action_settings:r}))}static async getUserActionSettings(t){return st("gizmo_api.user_action_settings",()=>Ze.get("".concat(Je,"/gizmos/user_action_settings?gizmo_id=").concat(t)))}static async generateCategory(t,n){return st("gizmo_api.gen_category",()=>Ze.post("".concat(Je,"/gizmos/gen_category"),{name:t,instructions:n}))}static async getConversations(t,n=null){return st("gizmo_api.conversations",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/conversations"),{params:S({},n?{cursor:n}:{})}))}static async getProjectConversations(t,n=null){return st("gizmo_api.conversations",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/conversations"),{params:S({},n?{cursor:n}:{})}))}static async getCategories(){return st("gizmo_api.categories",()=>Ze.get("".concat(Je,"/gizmos/categories")))}static async getUserReview(t){return st("gizmo_api.get_gizmo_reviews",()=>Ze.get("".concat(Je,"/gizmo_reviews/").concat(t)))}static async upsertUserReview(t,n,r,i){return st("gizmo_api.upsert_gizmo_reviews",()=>Ze.post("".concat(Je,"/gizmo_reviews/").concat(t),{rating:n,message:r,include_from:i}))}static async sendFeedbackEmail(t,n,r){return st("gizmo_api.feedback",()=>Ze.post("".concat(Je,"/gizmos/").concat(t,"/feedback"),{message:n,include_from:r}))}static async getAbout(t){return st("gizmo_api.about",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/about")))}static async getCreatorSlice({creatorId:t}){return st("gizmo_api.gizmo_creators",()=>Ze.get("".concat(Je,"/gizmo_creators/").concat(t,"/gizmos")))}static async getVersion({gizmoId:t,version:n}){return n==null?st("gizmo_api.latest_version",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/version/latest"))):st("gizmo_api.version",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/version/").concat(n)))}static async listVersions({gizmoId:t,limit:n,cursor:r}){const i={};return n&&(i.limit=n),r&&(i.cursor=r),st("gizmo_api.versions",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/versions"),{params:i}))}static async copyGizmo({gizmoId:t}){return st("gizmo_api.copy",()=>Ze.post("".concat(Je,"/gizmos/").concat(t,"/copy")))}}async function st(e,t){return Q.addAction("".concat(e,".start")),t().catch(n=>{throw Q.addAction("".concat(e,".failure"),{error:n}),n})}async function OCe(){const e=await Z.safeGet("/me",{authOption:en.SendIfAvailable});return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created,phone_number:e.phone_number,first_name:e.first_name,email_domain_type:["government","professional","education","social","unknown","missing"].includes(e.email_domain_type)?e.email_domain_type:"unknown"}}const Hx=En({queryKey:["user"],queryFn:OCe,staleTime:1/0}),TCe=Be(e=>hn(e,()=>Hx));function Dqe(){"use forget";const e=H.c(2),t=re();let n;return e[0]!==t?(n=()=>TCe(t).data,e[0]=t,e[1]=n):n=e[1],Fe(n)}const wCe={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function ACe(e){"use forget";const t=H.c(3),n=re();let r;return t[0]!==n||t[1]!==e?(r=()=>{const i=(()=>{var a,c;const{data:s}=Ch(n);if(s==null)return wCe;const o=Dr(n);return{currentWorkspace:(a=o==null?void 0:o.data)!=null?a:null,subscriptionStatus:(c=o==null?void 0:o.data.subscriptionStatus)!=null?c:null,workspaces:s.accountItems.map(xCe)}})();return e?e(i):i},t[0]=n,t[1]=e,t[2]=r):r=t[2],Fe(r)}function xCe(e){return e.data}const Lqe={isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===er.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>ch(e==null?void 0:e.planType),isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&O_(e.planType),isTeamPlan:({subscriptionStatus:e})=>(e==null?void 0:e.planType)===be.SELF_SERVE_BUSINESS,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,businessWorkspaceId:({currentWorkspace:e})=>(e==null?void 0:e.structure)===er.WORKSPACE?e.id:void 0,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e==null?void 0:e.accountUserId};function jqe(){"use forget";var e;return(e=_s())==null?void 0:e.data.subscriptionStatus.lastActiveSubscription}function Fqe(e){return e.email_domain_type==="professional"||e.email_domain_type==="government"||e.email_domain_type==="unknown"}function Uqe(e){return e.email_domain_type==="professional"||e.email_domain_type==="unknown"}const zx=e=>{var c,l;const t=re(),n=_s(),r=n==null?void 0:n.getWorkspaceId(),i=oCe(t),{data:s,isLoading:o}=gx(r);if(!(n!=null&&n.isWorkspaceAccount()))return{hasWorkspacePermission:!0,isLoading:!1};const a=(l=(c=s==null?void 0:s.permissions)==null?void 0:c.includes(e))!=null?l:!1;return{hasWorkspacePermission:i?a:!0,isLoading:o}},Bqe=()=>{const e=_s(),{hasWorkspacePermission:t,isLoading:n}=zx(ha.CrudGPT);return{canCreate:(e==null?void 0:e.hasPaidFeatures())&&t,isLoading:n}};function Gqe(e){var i,s;const{hasWorkspacePermission:t,isLoading:n}=zx(ha.CrudGPT);return{canDelete:(s=t&&((i=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:i.can_delete))!=null?s:!1,isLoading:n}}function Wqe(e){var i,s;const{hasWorkspacePermission:t,isLoading:n}=zx(ha.CrudGPT);return{canEdit:(s=t&&((i=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:i.can_write))!=null?s:!1,isLoading:n}}function qqe(e){var t,n;return{canViewConfig:(n=(t=e.gizmo.current_user_permission)==null?void 0:t.can_view_config)!=null?n:!1}}function ICe(e,t,n){const r=t==null?void 0:t.name;switch(e){case gt.Link:return n.formatMessage(Op.privacyAnyoneWithLink);case gt.Private:return n.formatMessage(Op.privacyOnlyMe);case gt.Group:case gt.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case gt.Marketplace:return n.formatMessage(Op.privacyMarketplace);case gt.Workspace:return n.formatMessage(Op.privacyWorkspace,{workspaceName:r});case gt.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function Vqe(e){const t=_t(),n=ACe(r=>r.currentWorkspace);return ICe(e,n,t)}function NCe(e){return"gizmo"in e}function RCe(e){return"id"in e}function $qe(e){return"".concat(e.replaceAll(".","_").replaceAll("-","_"),"__jit_plugin")}const Op=Tt({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),Hqe="GPT Builder",qV="gizmo-bootstrap",VV=1;function zqe(e){if(e)return"ChatGPT - ".concat(e)}function Yqe(e){returnwindow.location.origin.concat(rc(e))}function PCe(e,t){return $e(e,"491279851")&&oo(t.gizmo.id)?nf("".concat(rc(bf(t)),"/project")):nf(rc(bf(t)))}function Kqe(e,t,n){"use forget";const r=H.c(4);let i;if(r[0]!==e||r[1]!==t||r[2]!==n){const s=PCe(e,t);i=new URL(s,window.location.origin),n!=null&&i.searchParams.set(vCe,n),r[0]=e,r[1]=t,r[2]=n,r[3]=i}else i=r[3];return SCe(i)}function Jqe(e){return"/g/".concat(bf(e))}function Xqe(e){return NCe(e)&&e.gizmo.live_version===0||RCe(e)&&e.liveVersion===0}function Qqe(e,t){"use forget";const n=H.c(3);let r;return n[0]!==t||n[1]!==e?(r={queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:()=>jt.getGizmoDiscovery(e,t)},n[0]=t,n[1]=e,n[2]=r):r=n[2],Xt(r)}function Zqe(e){"use forget";const t=H.c(10),{cutId:n,locale:r,limit:i,cursor:s,enabled:o}=e,a=o===void 0?!0:o;let c,l;t[0]!==n||t[1]!==i||t[2]!==r?(c=["gizmos","discovery",{cutId:n,locale:r,limit:i}],l=d=>{const{pageParam:f}=d;return jt.getGizmoDiscoveryCut(n,{locale:r,cursor:f,limit:i})},t[0]=n,t[1]=i,t[2]=r,t[3]=c,t[4]=l):(c=t[3],l=t[4]);let u;return t[5]!==s||t[6]!==a||t[7]!==c||t[8]!==l?(u={queryKey:c,queryFn:l,initialPageParam:s,getNextPageParam:kCe,enabled:a},t[5]=s,t[6]=a,t[7]=c,t[8]=l,t[9]=u):u=t[9],ta(u)}function kCe(e){var t;return(t=e.list.cursor)!=null?t:void 0}const e7e=Be(e=>hn(e,()=>En({queryKey:["gizmos","discovery",{cutId:"recent",limit:20}],queryFn:()=>jt.getGizmoDiscoveryCut("recent",{limit:20}),enabled:St(e)}))),t7e=Be(e=>hn(e,()=>En({queryKey:["gizmos","pinned"],enabled:St(e),queryFn:jt.getGizmoPinned})));function ic(e=2){return En({queryKey:["gizmos","bootstrap"],experimental_prefetchInRender:!0,queryFn:async()=>jt.getGizmoBootstrap(e).then(t=>(Q.addFirstTiming("load.gizmoBootstrap"),{gizmos:Object.values(t).flat().filter(r=>r).filter(r=>{var i;return((i=r.resource.gizmo)==null?void 0:i.gizmo_type)!==Cm.PROJECT}).map(r=>({resource:r.resource,flair:r.flair}))}))})}const n7e=Be(e=>hn(e,ic));function r7e(){"use forget";const e=H.c(5),t=re(),r=$e(t,"1524046265")?20:2;let i;e[0]!==r?(i=ic(r),e[0]=r,e[1]=i):i=e[1];const s=i,o=av(qV,VV,s.queryKey);let a;return e[2]!==o||e[3]!==s?(a=I(S({},s),{initialData:o}),e[2]=o,e[3]=s,e[4]=a):a=e[4],Xt(a)}function i7e(){"use forget";const e=H.c(5),t=re(),r=$e(t,"1524046265")?20:2;let i;e[0]!==r?(i=ic(r),e[0]=r,e[1]=i):i=e[1];const s=i,o=av(qV,VV,s.queryKey);let a;return e[2]!==o||e[3]!==s?(a=I(S({},s),{initialData:o}),e[2]=o,e[3]=s,e[4]=a):a=e[4],SB(a)}function g2(e,t){const n=e.filter(i=>i.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(i=>i.flair.kind===bl.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const s7e={handleGizmoInteracted(e,t){const n=e.getQueryData(fn(e,t).queryKey);n==null||oo(t)||e.setQueryData(ic().queryKey,r=>{if(r==null)return r;const i=r.gizmos.find(s=>s.resource.gizmo.id===t);return(i==null?void 0:i.flair.kind)===bl.FirstParty||(i==null?void 0:i.flair.kind)===bl.SidebarKeep?r:{gizmos:g2(r.gizmos,{resource:n,flair:{kind:bl.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(fn(e,t).queryKey);n!=null&&e.setQueryData(ic().queryKey,r=>r==null?r:{gizmos:g2(r.gizmos,{resource:n,flair:{kind:bl.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(ic().queryKey,n=>n!=null&&n.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}},MCe=Ah((e,t)=>hn(e,()=>fn(tn(e),t,!1,!St(e)))),o7e=Ah((e,t)=>hn(e,()=>fn(tn(e),t,!0,!St(e))));function a7e(e,t){"use forget";const n=H.c(7),r=t===void 0?!1:t,i=Yt(),s=re();let o;n[0]!==s?(o=St(s),n[0]=s,n[1]=o):o=n[1];const a=!o;let c;return n[2]!==r||n[3]!==e||n[4]!==a||n[5]!==i?(c=fn(i,e,r,a),n[2]=r,n[3]=e,n[4]=a,n[5]=i,n[6]=c):c=n[6],Xt(c)}function c7e(e){"use forget";const t=H.c(3),n=Yt();let r;return t[0]!==e||t[1]!==n?(r=fn(n,e),t[0]=e,t[1]=n,t[2]=r):r=t[2],Xt(r)}const l7e=e=>{"use forget";const t=H.c(9),{gizmoId:n,limit:r,cursor:i}=e;let s;t[0]!==i||t[1]!==n||t[2]!==r?(s=["gizmo","versions",{gizmoId:n,limit:r,cursor:i}],t[0]=i,t[1]=n,t[2]=r,t[3]=s):s=t[3];let o;t[4]!==n?(o=()=>jt.listVersions({gizmoId:n}),t[4]=n,t[5]=o):o=t[5];let a;return t[6]!==s||t[7]!==o?(a={queryKey:s,queryFn:o},t[6]=s,t[7]=o,t[8]=a):a=t[8],Xt(a)};function u7e(e){"use forget";const t=H.c(5),{gizmoId:n,draft:r,version:i}=e,s=Yt();let o;return t[0]!==r||t[1]!==n||t[2]!==s||t[3]!==i?(o=i?{queryKey:["gizmo","version",{gizmoId:n,version:i}],queryFn:()=>jt.getVersion({gizmoId:n,version:i}),enabled:n!=null}:fn(s,n,r),t[0]=r,t[1]=n,t[2]=s,t[3]=i,t[4]=o):o=t[4],Xt(o)}function d7e(e,t){"use forget";const n=H.c(7);let r,i;n[0]!==e?(r=["gizmo","userActionSettings",{gizmoId:e}],i=()=>jt.getUserActionSettings(e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const s=e!=null&&t;let o;return n[3]!==r||n[4]!==i||n[5]!==s?(o={queryKey:r,queryFn:i,enabled:s},n[3]=r,n[4]=i,n[5]=s,n[6]=o):o=n[6],Xt(o)}function fn(e,t,n=!1,r=!1){return En({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>r?jt.getGizmoPublic(t):jt.getGizmo(t,n),enabled:t!=null,initialData:()=>{var o,a;if(n===!0)return;const i=e.getQueryData(ic().queryKey);if(i!=null)return(o=i.gizmos.find(c=>c.resource.gizmo.id===t))==null?void 0:o.resource;const s=e.getQueryData(["gizmos","discovery"]);if(s!=null)for(const c of s.cuts){const l=(a=c.list.items.find(u=>u.resource.gizmo.id===t))==null?void 0:a.resource;if(l!=null)return l}}})}function f7e(e,t){return e.fetchQuery(fn(e,t))}function h7e(e){"use forget";const t=H.c(7);let n,r;t[0]!==e?(n=["gizmo",{search:e}],r=()=>jt.getGizmoSearch(e),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const i=e.length>0;let s;return t[3]!==n||t[4]!==r||t[5]!==i?(s={queryKey:n,queryFn:r,enabled:i},t[3]=n,t[4]=r,t[5]=i,t[6]=s):s=t[6],Xt(s)}function p7e(e,t){"use forget";const n=H.c(7);let r,i;n[0]!==e?(r=["gizmo-search-workspace",{search:e}],i=()=>jt.getGizmoSearchForWorkspace(e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const s=e.length>0&&t;let o;return n[3]!==r||n[4]!==i||n[5]!==s?(o={queryKey:r,queryFn:i,enabled:s},n[3]=r,n[4]=i,n[5]=s,n[6]=o):o=n[6],Xt(o)}function g7e(e,t,n,r){"use forget";const i=H.c(14),s=t===void 0?!1:t,o=n===void 0?!1:n,a=r===void 0?null:r,c=o?"gizmo-search-workspace":"gizmo";let l;i[0]!==a||i[1]!==e?(l={query:e,cursor:a},i[0]=a,i[1]=e,i[2]=l):l=i[2];let u;i[3]!==c||i[4]!==l?(u=[c,l],i[3]=c,i[4]=l,i[5]=u):u=i[5];let d;i[6]!==e||i[7]!==o?(d=h=>{const{pageParam:p}=h;return o?jt.getGizmoSearchForWorkspace(e,p):jt.getGizmoSearch(e,p)},i[6]=e,i[7]=o,i[8]=d):d=i[8];let f;return i[9]!==a||i[10]!==s||i[11]!==u||i[12]!==d?(f={queryKey:u,queryFn:d,initialPageParam:a,getNextPageParam:DCe,enabled:s},i[9]=a,i[10]=s,i[11]=u,i[12]=d,i[13]=f):f=i[13],ta(f)}function DCe(e){var t;return(t=e.cursor)!=null?t:void 0}function m7e(){"use forget";const e=H.c(2),t=Yt();let n;return e[0]!==t?(n={mutationFn:LCe,onSettled:r=>{r&&(t.setQueryData(fn(t,r.gizmo.id,!0).queryKey,r),t.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}},e[0]=t,e[1]=n):n=e[1],Kt(n)}function LCe(e){const{gizmoId:t,editorData:n}=e,{instructions:r,name:i,description:s,emoji:o,theme:a,profilePictureId:c,profilePictureUrl:l,promptStarters:u,tools:d,files:f,defaultModel:h,trainingDisabled:p}=n,g={instructions:r,display:{name:i,description:s,emoji:o,theme:a,profile_pic_id:c,profile_picture_url:l,prompt_starters:u},tools:d,files:f.map(jCe),training_disabled:p,default_model:h!=null?h:void 0};return jt.upsertDraft(g,t)}function jCe(e){return I(S({},e),{location:qx.FILE_SERVICE})}function _7e(){"use forget";const e=H.c(2),t=Yt();let n;return e[0]!==t?(n={mutationFn:FCe,onSettled:r=>{t.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),t.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),r&&t.setQueryData(fn(t,r.gizmo.id,!1).queryKey,r)}},e[0]=t,e[1]=n):n=e[1],Kt(n)}async function FCe(e){const{gizmoId:t,data:n}=e,{sharingRecipient:r,categories:i}=n,s=await jt.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:i},t);if(s.error)throw new DV(s);return s.resource}function v7e(){"use forget";const e=H.c(2),t=Yt();let n;return e[0]!==t?(n={mutationFn:UCe,onSettled:()=>{t.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}},e[0]=t,e[1]=n):n=e[1],Kt(n)}async function UCe(e){const{gizmoId:t}=e;return jt.deleteGizmo(t)}function y7e(){"use forget";const e=H.c(7),t=Yt(),n=Fn();let r;e[0]!==t?(r=o=>{t.setQueryData(["builderProfile"],o)},e[0]=t,e[1]=r):r=e[1];let i;e[2]!==n?(i=o=>{n.warning(o.message)},e[2]=n,e[3]=i):i=e[3];let s;return e[4]!==r||e[5]!==i?(s={mutationFn:BCe,onSuccess:r,onError:i},e[4]=r,e[5]=i,e[6]=s):s=e[6],Kt(s)}function BCe(e){const{name:t,hideName:n,websiteUrl:r,willReceiveSupportEmails:i}=e;return jt.updateBuilderProfile({name:t,hide_name:n,website_url:r,will_receive_support_emails:i})}function C7e(){"use forget";const e=H.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["builderProfile"],queryFn:GCe},e[0]=t):t=e[0],Xt(t)}function GCe(){return jt.getBuilderProfile()}function b7e(){"use forget";const e=H.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:WCe},e[0]=t):t=e[0],Kt(t)}function WCe(e){const{gizmoId:t}=e;return jt.copyGizmo({gizmoId:t})}function E7e(){"use forget";const e=H.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["gizmoCategories"],queryFn:qCe},e[0]=t):t=e[0],Xt(t)}function qCe(){return jt.getCategories()}function S7e(e,t,n){const r=$e(e,"2632917233");return!!(n!=null&&[zs.PrimaryAssistant,zs.GizmoInteraction].includes(n)&&(r||t!=null&&t.includes(mG.GPT_4)))}function O7e(e,t){"use forget";const n=H.c(12),r=Yt(),i=Fn();let s;n[0]!==e?(s=async l=>{const{rating:u,message:d,includeFrom:f}=l;await jt.upsertUserReview(e,u,d,f)},n[0]=e,n[1]=s):s=n[1];let o;n[2]!==e||n[3]!==t||n[4]!==r?(o=()=>{r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},n[2]=e,n[3]=t,n[4]=r,n[5]=o):o=n[5];let a;n[6]!==i?(a=l=>{i.danger(l.message,{toastId:"gizmo_review_error",loggingTitle:"useUpsertUserReviewMutation",loggingDescription:l.message})},n[6]=i,n[7]=a):a=n[7];let c;return n[8]!==s||n[9]!==o||n[10]!==a?(c={mutationFn:s,onSuccess:o,onError:a},n[8]=s,n[9]=o,n[10]=a,n[11]=c):c=n[11],Kt(c)}function $V(e,t){if(t!=null)return e.models.get(t)}function VCe(e){return $V(e,e.defaultModelSlug)}const ag=ut(e=>{var i;const t=St(e),n=(i=at(e))==null?void 0:i.hasPaidFeatures(),r=t?n?[m2(e),YCe(),KCe(),JCe(),XCe()]:[zCe(),m2(e)]:[HCe()];return{title:n?"GPT-5":"ChatGPT",secondaryTitle:"",modelPickerVersion:t?2:1,defaultModelSlug:HV(e),categories:r,groups:[],models:$Ce(QCe(e),ZCe(e),ebe(e),tbe(e),nbe(e),rbe(e),ibe(),sbe(e),obe(e),abe(e),cbe(e),lbe(e))}});function HV(e){var n;return((n=at(e))==null?void 0:n.hasPaidFeatures())?"gpt-5":"auto"}function $Ce(...e){return new Map(e.map(t=>[t.id,t]))}const HCe=()=>({categoryId:"auto",color:"#000000",defaultModel:"auto",description:"",label:"Auto",shortLabel:"",shorterLabel:"",tagline:"",subscriptionLevel:oa.FREE,renderHeaderType:aa.SHORT_LABEL,supportedFeatures:[Ge.ATTACHMENT,Ge.AUDIO,Ge.CUSTOM_INSTRUCTIONS,Ge.GIZMO_PROJECT,Ge.IMAGE,Ge.TARGETED_REPLY,Ge.TOOL_SEARCH,Ge.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),zCe=()=>({categoryId:"auto_acd64",color:"#000000",defaultModel:"auto",description:"",label:"Auto",shortLabel:"",shorterLabel:"",tagline:"",subscriptionLevel:oa.FREE,renderHeaderType:aa.SHORT_LABEL,supportedFeatures:[Ge.AUDIO,Ge.CUSTOM_INSTRUCTIONS,Ge.GIZMO_PROJECT,Ge.TARGETED_REPLY,Ge.TOOL_SEARCH,Ge.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),m2=e=>{var t;return{categoryId:"gpt_5_auto",color:"#5B41F9",defaultModel:"gpt-5",description:"",label:(t=at(e))!=null&&t.hasPaidFeatures()?"Auto":"GPT-5",shortLabel:"5",shorterLabel:"5",tagline:"",subscriptionLevel:oa.FREE,renderHeaderType:aa.SHORT_LABEL,supportedFeatures:[Ge.ATTACHMENT,Ge.CANVAS_SUPPORTED,Ge.CUSTOM_INSTRUCTIONS,Ge.GIZMO_PROJECT,Ge.IMAGE,Ge.TARGETED_REPLY,Ge.TOOL_SEARCH,Ge.TOOL_USE],supportedModels:["gpt-5"],slashCommandEnabled:!1,disabledByAdmin:!1}},YCe=()=>({categoryId:"gpt_5_instant",color:"#5B41F9",defaultModel:"gpt-5-instant",description:"",label:"Instant",shortLabel:"5 Instant",shorterLabel:"5 Instant",tagline:"",subscriptionLevel:oa.PLUS,renderHeaderType:aa.SHORT_LABEL,supportedFeatures:[Ge.ATTACHMENT,Ge.CANVAS_SUPPORTED,Ge.CUSTOM_INSTRUCTIONS,Ge.GIZMO_PROJECT,Ge.IMAGE,Ge.TARGETED_REPLY,Ge.TOOL_SEARCH,Ge.TOOL_USE],supportedModels:["gpt-5-instant"],slashCommandEnabled:!1,disabledByAdmin:!1}),KCe=()=>({categoryId:"gpt_5_reasoning",color:"#5B41F9",defaultModel:"gpt-5-thinking",description:"",label:"Thinking",shortLabel:"5 Thinking",shorterLabel:"5 Thinking",tagline:"",subscriptionLevel:oa.PLUS,renderHeaderType:aa.SHORT_LABEL,supportedFeatures:[Ge.ATTACHMENT,Ge.CANVAS_SUPPORTED,Ge.CUSTOM_INSTRUCTIONS,Ge.GIZMO_PROJECT,Ge.IMAGE,Ge.TARGETED_REPLY,Ge.TOOL_SEARCH,Ge.TOOL_USE],supportedModels:["gpt-5-thinking"],slashCommandEnabled:!0,disabledByAdmin:!1}),JCe=()=>({categoryId:"gpt_5_pro",color:"#5B41F9",defaultModel:"gpt-5-pro",description:"",label:"Pro",shortLabel:"5 Pro",shorterLabel:"5 Pro",tagline:"",subscriptionLevel:oa.PLUS,renderHeaderType:aa.SHORT_LABEL,supportedFeatures:[Ge.ATTACHMENT,Ge.CUSTOM_INSTRUCTIONS,Ge.GIZMO_PROJECT,Ge.IMAGE,Ge.TARGETED_REPLY,Ge.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),XCe=()=>({categoryId:"AG8PqS2q",color:"#00BCE5",defaultModel:"gpt-4o",description:"",label:"GPT-4o",shortLabel:"4o",shorterLabel:"4o",subcategory:"Legacy models",tagline:"",subscriptionLevel:oa.PLUS,renderHeaderType:aa.SHORT_LABEL,supportedFeatures:[Ge.ATTACHMENT,Ge.AUDIO,Ge.CANVAS_SUPPORTED,Ge.CUSTOM_INSTRUCTIONS,Ge.GIZMO_PROJECT,Ge.IMAGE,Ge.TARGETED_REPLY,Ge.TOOL_SEARCH,Ge.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),zV=(e,t)=>({id:t,maxTokens:10240,title:t,description:"",tags:[],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.OFF,enabledTools:ci(e)}),QCe=e=>({id:"auto",maxTokens:St(e)?16384:10240,title:"Auto",description:"",tags:["history_off_approved","gpt4","gpt4o"],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.OFF,enabledTools:ci(e)}),ZCe=e=>{var t;return{id:"gpt-5",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT-5",description:"",tags:["gpt4","history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.AUTO,enabledTools:ci(e)}},ebe=e=>{var t;return{id:"gpt-5-instant",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT-5 Instant",description:"",tags:["gpt4","history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.OFF,enabledTools:ci(e)}},tbe=e=>{var t;return{id:"gpt-5-thinking",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?4e5:16384,title:"GPT-5 Thinking",description:"",tags:["history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.ON,enabledTools:ci(e),configurableThinkingEffort:!0}},nbe=e=>{var t;return{id:"gpt-5-mini",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT-5-mini",description:"",tags:["gpt4o","gpt3.5","gpt4","history_off_approved"],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.OFF,enabledTools:ci(e)}},rbe=e=>{var t;return{id:"gpt-5-t-mini",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?196608:16384,title:"GPT-5 Thinking Mini",description:"",tags:["history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.ON,enabledTools:ci(e)}},ibe=()=>({id:"gpt-5-pro",maxTokens:209608,title:"GPT-5 Pro",description:"",tags:["history_off_approved"],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.PRO,enabledTools:["tools","tools2","search"]}),sbe=e=>{var t;return{id:"gpt-4o",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:10240,title:"GPT-4o",description:"",tags:["history_off_approved","gpt4","gpt4o"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.OFF,enabledTools:ci(e)}},obe=e=>{var t;return{id:"gpt-4-1",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:10240,title:"GPT-4.1",description:"",tags:["history_off_approved","gpt4"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.OFF,enabledTools:ci(e)}},abe=e=>({id:"gpt-4-1-mini",maxTokens:8191,title:"GPT-4.1-mini",description:"",tags:["gpt3.5","history_off_approved","gpt4","gpt4o"],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.OFF,enabledTools:ci(e,{noCanvas:!0})}),cbe=e=>({id:"o3",maxTokens:196608,title:"o3",description:"",tags:["history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.ON,enabledTools:ci(e)}),lbe=e=>{var t;return{id:"o4-mini",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?196608:16384,title:"o4-mini",description:"",tags:["history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:gr.ON,enabledTools:ci(e)}};function ci(e,t){var n;return["tools","tools2","search",t!=null&&t.noCanvas?null:"canvas",St(e)?"image_gen_tool_enabled":"dalle_3",(n=at(e))!=null&&n.hasPaidFeatures()?"app_pairing":null].filter(r=>r!=null)}const Ur={type:Ro.Retrieval,can_accept_all_mime_types:!0,image_mime_types:["image/png","image/gif","image/webp","image/jpeg"],accepted_mime_types:["application/javascript","application/json","application/msword","application/pdf","application/rtf","application/toml","application/vnd.apple.keynote","application/vnd.apple.pages","application/vnd.ms-powerpoint","application/vnd.oasis.opendocument.text","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/x-powershell","application/x-rust","application/x-scala","application/x-sql","application/x-yaml","message/rfc822","text/calendar","text/css","text/html","text/javascript","text/jsx","text/markdown","text/plain","text/rtf","text/tsx","text/vbscript","text/x-asm","text/x-astro","text/x-c","text/x-c++","text/x-clojure","text/x-csharp","text/x-dart","text/x-diff","text/x-ejs","text/x-elixir","text/x-erb","text/x-erlang","text/x-go","text/x-groovy","text/x-handlebars","text/x-haskell","text/x-jade","text/x-java","text/x-jinja2","text/x-julia","text/x-kotlin","text/x-liquid","text/x-lisp","text/x-lua","text/x-makefile","text/x-mustache","text/x-objectivec","text/x-objectivec++","text/x-perl","text/x-php","text/x-pug","text/x-python","text/x-r","text/x-rst","text/x-ruby","text/x-rust","text/x-scala","text/x-script.python","text/x-sh","text/x-shellscript","text/x-swift","text/x-tex","text/x-tmpl","text/x-twig","text/x-typescript","text/x-vcard","text/xml"]},YV=e=>KV(e.ctx,{isGizmo:X_(e)!=null}),KV=(e,{isGizmo:t})=>{var n;return(n=JV(e,t).data)!=null?n:ag(e)},ube=Lr(e=>Oe(()=>{const t=JV(e.ctx,X_(e)!=null);return t.isSuccess&&!t.isStale})),JV=(e,t)=>t?fbe(e):dbe(e),dbe=Be(e=>XV(e,!1)),fbe=Be(e=>XV(e,!0));function XV(e,t){let n;if(t)n=()=>ag(e);else{const i=UV(e,lce,uce,BW());n=()=>{var s;return(s=i())!=null?s:ag(e)}}const r=hn(e,()=>dce({isGizmo:t,IIM:!1,placeholderData:n}),{getServerData:()=>ag(e)});return hbe(e,r)}function hbe(e,t){return Oe(()=>{const n=t();return Rre(e)&&n.data?I(S({},n),{data:vce(n.data)}):n})}const iS="model",j1=Lr(e=>we(()=>{const t=uA();if(t.searchParams.has(iS)){const n=t.searchParams.get(iS);if(t.searchParams.delete(iS),window.history.replaceState(window.history.state,"",t.toString()),n&&!Vg(e.ctx,n))return n}return null}));function T7e(e,t){j1.set(e,t)}const pbe=Lr(e=>Oe(()=>{var r,i,s,o,a;const t=e.ctx;if(th(t)){const c=sS(e,j1(e));return c!=null?c:_2(t)}return(a=(o=sS(e,j1(e)))!=null?o:sS(e,(s=(i=(r=Upe(e))!=null?r:gbe(e))!=null?i:Fpe(e)?$7(e.ctx).model:null)!=null?s:YV(e).defaultModelSlug))!=null?a:_2(e.ctx)}));function gbe(e){var i,s,o,a;const{ctx:t}=e,n=X_(e);if(!n||!$x(n))return;const r=(i=MCe(t,n).data)==null?void 0:i.gizmo;if((s=at(t))!=null&&s.hasPaidFeatures()){const c=(o=fce(t).data)==null?void 0:o.model_override;if(r!=null&&r.default_model)return(a=c==null?void 0:c[r.default_model])!=null?a:r.default_model}if(r!=null&&r.created_at&&new Date(r.created_at)<new Date("2025-08-13"))return"gpt-4o"}const _2=Be(e=>Oe(()=>{const t=KV(e,{isGizmo:!1}),n=VCe(t);if(n)return n;const{defaultModelSlug:r}=t;return Q.addError(new Error("[models] Could not create default model"),{defaultModelSlug:r}),zV(e,r!=null?r:HV(e))}));function sS(e,t){if(!t||_re(e.ctx).some(r=>r.model_slug===t))return;const n=$V(YV(e),t);return!n&&!ube(e)?zV(e.ctx,t):n}function mbe(e){return(e==null?void 0:e.data.residencyRegion)!==""&&(e==null?void 0:e.data.residencyRegion)!=="no_constraint"}function Ru(){const e=re();return Fe(()=>QV(e))}function QV(e){const t=Dr(e);return mbe(t)?rn(e,"3131667714").get("regions",[]).includes(t==null?void 0:t.data.residencyRegion):!0}var ZV=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e.SB_1B9A6CB4="sb_1b9a6cb4",e))(ZV||{});function Pu(){const e=re();return Fe(()=>Yx(e))}function Yx(e){return!St(e)||!QV(e)?!1:rn(e,"1001765573").get("ca_enabled",!1)}function _be(e){return rn(e,"1001765573").get("onboarding_paused",!1)}function w7e(){const e=Ru(),t=re(),n=rn(t,"1001765573");return e?{isEnabled:n.get("ca_enabled",!1),isComingSoon:n.get("ca_coming_soon",!1)}:{isEnabled:!1,isComingSoon:!1}}function A7e(){const e=Ru(),t=re(),n=rn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sk_enabled",!1):!1}function x7e(){const e=Ru(),t=re(),n=rn(t,"1001765573");if(!e)return!1;const r=$e(t,"3881721129");return n.get("ca_enabled",!1)&&n.get("ca_github_sync_enabled",!1)&&r}function I7e(){const e=Ru(),t=re(),n=rn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sharepoint_sync_enabled",!1):!1}function vbe(e){const t=Ru(),n=re(),r=rn(n,"1001765573");return t?r.get("ca_enabled",!1)&&r.get("ca_".concat(e,"_sync_enabled"),!1):!1}function N7e(e){return rn(e,"1001765573").get("github_onboarding_paused",!1)}function R7e(){const e=Ru(),t=re(),n=rn(t,"1001765573");return e?n.get("ca_personal_enabled",!1):!1}function P7e(e){const t=rn(e,"1001765573");if(!t.get("ca_enabled",!1))return null;const r=t.get("feedback_format",null);return r&&Object.values(ZV).includes(r)?r:null}const k7e=e=>yh(e,t=>Me.getConversationTurns(t).some(n=>n.messages.some(ybe))),ybe=e=>!!(e.author.role===Ke.Tool&&e.author.name==="file_search"&&e.metadata&&e.metadata.command===vG.Spinner&&e.metadata.retrieval_search_sources&&e.metadata.retrieval_search_sources.some(t=>t.product_type==="contextual_answers"||t.product_type==="slurm"));function M7e(e){return $e(e,"4147309512")}class Qo{static async admin_list_knowledge_connectors(t){return await Z.safeGet("/ca/v2/admin/list_knowledge_connectors",{parameters:{query:{account_id:t}}})}static async admin_list_connection_instances(t){return await Z.safeGet("/ca/v2/admin/list_connection_instances",{parameters:{query:{account_id:t}}})}static async admin_get_connection_instance(t,n){return await Z.safeGet("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_create_connection_instance(t,n,r){return r===""&&(r=null),await Z.safePost("/ca/v2/admin/create_connection_instance",{requestBody:{connection_config:n,connection_name:r!=null?r:null},parameters:{query:{account_id:t}}})}static async admin_request_connect_quickstart(t,n,r){return await Z.safeGet("/ca/v2/admin/request_connect_quickstart",{parameters:{query:{account_id:t,connection_id:n,after_flow_redirect_to:r}}})}static async admin_connect_and_quickstart(t,n,r,i){return await Z.safePost("/ca/v2/admin/connect_and_quickstart",{parameters:{query:{account_id:t}},requestBody:{plugin_id:n,code:r,state:i}})}static async admin_edit_name_connection_instance(t,n,r){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_name",{requestBody:r,parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_activate_connection_instance(t,n){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/activate",{requestBody:{},parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_delete_connection_instance(t,n){return await Z.safeDelete("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_allow_user(t,n,r){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/allow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_disallow_user(t,n,r){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/disallow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_get_access_policy(t,n){return await Z.safeGet("/ca/v2/admin/connection_instance/{connection_id}/get_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_update_access_policy(t,n,r){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{allow_all_in_workspace:r}})}static async admin_connection_update_credential(t,n,{admin_email:r,credential_id:i,new_service_credential_content:s}){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_credential",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{admin_email:r,credential_id:i,new_service_credential_content:s}})}static async admin_connection_list_item_scopes(t,n,r,i=null){return await Z.safeGet("/ca/v2/admin/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:n},query:{page_token:i,account_id:t,object_type:r}}})}static async admin_connection_update_item_default_scope(t,n,r,i){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_item_default_scope",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,default_selection:i}})}static async admin_connection_block_items(t,n,r,i){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:i}})}static async admin_connection_unblock_items(t,n,r,i){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:i}})}static async user_activate_workspace_connection_and_user({link_id:t,user_extension:n}){return await Z.safePost("/ca/v2/user/activate_workspace_connection_and_user",{requestBody:n?{link_id:t,user_extension:n}:{link_id:t}})}static async user_connection_status(){return await Z.safeGet("/ca/v2/user/connection_status",{})}static async user_connection_list_item_scopes(t,n,r=null){return await Z.safeGet("/ca/v2/user/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:t},query:{page_token:r,object_type:n}}})}static async user_connection_block_items(t,n,r){return await Z.safePost("/ca/v2/user/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_unblock_items(t,n,r){return await Z.safePost("/ca/v2/user/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_sync_configuration(t){return await Z.safeGet("/ca/v2/user/connection_instance/{connection_id}/user_configuration",{parameters:{path:{connection_id:t}}})}static async user_connection_update_sync_configuration(t,n){return await Z.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/user_configuration",{parameters:{path:{synced_knowledge_store_id:t}},requestBody:{extension:n}})}static async user_get_file_picker_token(t){return await Z.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/file_picker_token",{parameters:{path:{synced_knowledge_store_id:t}}})}static async user_request_connect(t,n,r){return await Z.safeGet("/ca/v2/user/request_connect",{parameters:{query:S({connection_id:t,after_flow_redirect_to:n},r?{use_connectors_platform_flow:r}:{})}})}static async user_request_connect_upgrade_to_sync({link_id:t,user_extension:n}){return await Z.safePost("/ca/v2/user/upgrade_to_sync",{requestBody:{link_id:t,user_extension:n}})}static async user_connection_oauth_callback(t,n,r){return await Z.safePost("/ca/v2/user/connect_and_activate",{requestBody:{plugin_id:t,code:n,state:r}})}static async user_delete_sync(t){return await Z.safePost("/ca/v2/user/delete_synced",{requestBody:{link_id:t}})}static async user_disconnect(t){return await Z.safePost("/ca/v2/user/disconnect",{requestBody:{connection_id:t}})}}const D7e=({skip:e=!1}={})=>{const t=re(),{data:n,isLoading:r}=Fe(()=>Ec.if$(t,!e));return{gDriveOAuthConnectionId:E.useMemo(()=>{const s=n==null?void 0:n.connection_statuses;return s&&s.length===1&&s[0].user_connection_details.auth_status==="not_connected"&&s[0].user_connection_details.knowledge_connector_type==="google_drive_oauth"?s[0].user_connection_details.connection_instance_id:null},[n]),refetch:()=>Ec.refetch(t),isLoading:r}},e$=e=>{const{data:t}=Ec(e);return t?t$(t):!1};function t$(e){return e.connection_statuses.some(t=>["partially_activated","activated"].includes(t.user_connection_details.activation_status))}const Cbe=1.5,bbe=120*1e3;let n$=0;function v2(e){return Math.min(e*Cbe**(n$-1),bbe)}const Ec=Be(e=>hn(e,()=>En({queryKey:["user_connection_status"],queryFn:()=>(n$++,Qo.user_connection_status()),refetchInterval:t=>{const n=t.state.status==="success"&&t.state.data&&!t.state.data.connection_statuses.some(i=>i.user_connection_details.activation_status==="activating"||i.user_connection_details.activation_status==="partially_activated");return t.state.status==="success"&&t.state.data&&t.state.data.connection_statuses.some(i=>(i.user_connection_details.auth_status==="user_connected"||i.user_connection_details.auth_status==="admin_connected")&&!(i.user_connection_details.activation_status==="activating"||i.user_connection_details.activation_status==="partially_activated"||i.user_connection_details.activation_status==="activated"))?v2(2*1e3):n?!1:v2(30*1e3)}}),{enabled$:()=>Yx(e)}));function Kx(e){return Ec.refetch(e)}const lv=e=>e!=null;function Ebe(e=!1){return["fetchConnectorLinkData",e]}function r$(e,t,n){const r=["fetchPlatformConnectorData",e,!!t];return n!==void 0&&r.push(!!n),r}const L7e=(e,t)=>["connectors",e,t].filter(lv),j7e=(e,t)=>["roles",e,t].filter(lv),F7e=(e,t,n)=>["permissions",e,t,n].filter(lv),U7e=(e,t)=>["connectorTos",e,t].filter(lv),Sbe=e=>$e(e,"3999836663");function uv(e){var s,o,a,c;const t=!!((o=(s=rn(e,"463092697"))==null?void 0:s.value)!=null&&o.enabled),n=!!((c=(a=rn(e,"1001765573"))==null?void 0:a.value)!=null&&c.ca_enabled),r=$e(e,"3544641259"),i=$e(e,"3933797510");return t||n||r||i||Sbe(e)}function i$(e){return $e(e,"1694249257")}function Obe(e){return $e(e,"3292039316")}var oS,y2;function Tbe(){if(y2)return oS;y2=1;function e(t,n,r,i){for(var s=-1,o=t==null?0:t.length;++s<o;){var a=t[s];n(i,a,r(a),t)}return i}return oS=e,oS}var aS,C2;function wbe(){if(C2)return aS;C2=1;var e=TW();function t(n,r,i,s){return e(n,function(o,a,c){r(s,o,i(o),c)}),s}return aS=t,aS}var cS,b2;function Abe(){if(b2)return cS;b2=1;var e=Tbe(),t=wbe(),n=Ou(),r=Mr();function i(s,o){return function(a,c){var l=r(a)?e:t,u=o?o():{};return l(a,s,n(c,2),u)}}return cS=i,cS}var lS,E2;function xbe(){if(E2)return lS;E2=1;var e=Fx(),t=Abe(),n=Object.prototype,r=n.hasOwnProperty,i=t(function(s,o,a){r.call(s,a)?s[a].push(o):e(s,a,[o])});return lS=i,lS}var Ibe=xbe();const Nbe=Gt(Ibe),Rbe=async(e,t,n,r,i)=>(await Z.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],purpose:n},parameters:{query:{skip_actions:r,external_logos:i}},additionalHeaders:t?{[Cn]:t}:void 0})).connectors;function B7e(e,t,n,r,i){"use forget";const s=H.c(14),o=e===void 0?!0:e,a=t===void 0?void 0:t,c=n===void 0?void 0:n,l=r===void 0?!1:r,u=void 0,d=re();let f;s[0]!==d||s[1]!==o||s[2]!==a||s[3]!==c||s[4]!==u?(f=()=>Zo.if$(d,{productSku:a,purpose:c,skipLogos:u},o),s[0]=d,s[1]=o,s[2]=a,s[3]=c,s[4]=u,s[5]=f):f=s[5];const{data:h,isLoading:p,isFetching:g,error:m}=Fe(f);let v;s[6]!==h||s[7]!==l?(v=dv(h,l),s[6]=h,s[7]=l,s[8]=v):v=s[8];let y;return s[9]!==m||s[10]!==g||s[11]!==p||s[12]!==v?(y={platformConnectors:v,isLoading:p,isFetching:g,error:m},s[9]=m,s[10]=g,s[11]=p,s[12]=v,s[13]=y):y=s[13],y}const Zo=Ah((e,t)=>hn(e,()=>kbe(e,t)),e=>JSON.stringify([e==null?void 0:e.productSku,e==null?void 0:e.purpose,e==null?void 0:e.skipLogos,e==null?void 0:e.skipActions])),Pbe=(e,t)=>{const{data:n}=Zo(e,t);return n&&dv(n)};function kbe(e,t){var s,o,a;const n=(s=t==null?void 0:t.skipLogos)!=null?s:Obe(e),r=(o=t==null?void 0:t.skipActions)!=null?o:i$(e),i=(a=at(e))==null?void 0:a.normalizedAccountUserId;return En({queryKey:r$(t==null?void 0:t.purpose,n,r),queryFn:async()=>await Rbe(Pi(i),t==null?void 0:t.productSku,t==null?void 0:t.purpose,r,n),enabled:i!=null&&uv(e)})}const Mbe=new Map;function dv(e,t=!1){return e?t?Dbe(e):Lbe(e):Mbe}const Dbe=eo(e=>new Map(e.map(t=>[t.id,t]))),Lbe=eo(e=>{const t=e.filter(n=>{var r;return((r=n.labels)==null?void 0:r.admin_only_connector)!=="true"});return new Map(t.map(n=>[n.id,n]))}),jbe=async(e,t=!1,n=void 0)=>{const r=await Z.safePost("/aip/connectors/links/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],link_refresh_strategy:t?"BLOCKING":"NONE"},additionalHeaders:n?{[Cn]:n}:void 0});return Nbe(r.links,({connector_id:i})=>i)};function fv({skip:e=!1,fetchValidLinksOnly:t=!1,productSku:n}={}){const r=re(),i=a$(r,t,n);e&&(i.enabled=!1);const{data:s,isLoading:o,isFetching:a,error:c,refetch:l}=Xt(i);return{connectorLinks:E.useMemo(()=>s!=null?s:new Map,[s]),isLoading:o,isFetching:a,error:c,refetch:l}}const s$=(e,{fetchValidLinksOnly:t=!1,productSku:n}={})=>o$(e,t,n),o$=Ah((e,t,n)=>hn(e,()=>a$(e,t,n)));function a$(e,t,n){const r=at(e),i=r==null?void 0:r.normalizedAccountUserId,s=uv(e);return En({queryKey:Ebe(t),enabled:i!=null&&s,queryFn:()=>jbe(Pi(i),t,n),select:o=>new Map(Object.entries(o))})}function G7e({skip:e=!1,productSku:t}={}){const n=re();E.useEffect(()=>{e||(Zo.prefetch(n,{productSku:t}),o$.prefetch(n,!1,t))},[n,e,t])}function Fbe(e,t,n){return Z.safePatch("/user_system_messages",{requestBody:{conversation_id:t,message_id:n,personality_type_selection:e,enabled:!0}})}function Ube(h){var p=h,{conversationId:e=null,messageId:t=null,aboutUserMessage:n,aboutModelMessage:r,personalityTypeMessage:i,nameUserMessage:s="",roleUserMessage:o="",traitsModelMessage:a="",otherUserMessage:c="",disabledTools:l,enabled:u,skipPersonalityUpdates:d=!1}=p,f=W(p,["conversationId","messageId","aboutUserMessage","aboutModelMessage","personalityTypeMessage","nameUserMessage","roleUserMessage","traitsModelMessage","otherUserMessage","disabledTools","enabled","skipPersonalityUpdates"]);const g=I(S({about_user_message:n,about_model_message:r,name_user_message:s,role_user_message:o,traits_model_message:a,other_user_message:c,disabled_tools:l,enabled:u},f),{conversation_id:e,message_id:t});return d||Object.assign(g,{personality_type_selection:i}),Z.safePatch("/user_system_messages",{requestBody:g})}function Bbe(e,t,n){return Z.safePatch("/user_system_messages",{requestBody:{conversation_id:t,message_id:n,personality_traits:e,enabled:!0}})}function uu(){return En({queryKey:["userContext"],queryFn:()=>Z.safeGet("/user_system_messages"),select:Gbe})}function Gbe(e){const f=e,{about_user_message:t,about_model_message:n,personality_type_selection:r,name_user_message:i,role_user_message:s,traits_model_message:o,other_user_message:a,disabled_tools:c,enabled:l,object:u}=f,d=W(f,["about_user_message","about_model_message","personality_type_selection","name_user_message","role_user_message","traits_model_message","other_user_message","disabled_tools","enabled","object"]);return I(S({},d),{aboutUserMessage:t!=null?t:"",aboutModelMessage:n!=null?n:"",personalityTypeMessage:r!=null?r:"",nameUserMessage:i!=null?i:"",roleUserMessage:s!=null?s:"",traitsModelMessage:o!=null?o:"",otherUserMessage:a!=null?a:"",disabledTools:c!=null?c:[],enabled:l!=null?l:!0})}const xh=Be(e=>hn(e,()=>I(S({},uu()),{enabled:St(e)}))),W7e=Be(e=>Oe(()=>{var t,n;return(n=(t=xh(e).data)==null?void 0:t.personalityTypeMessage)!=null?n:"default"})),q7e=Be(e=>Oe(()=>{const t=xh(e);if(!t||!t.data||!("personality_traits"in t.data))return new Map;const r=t.data.personality_traits;return new Map(Object.entries(r).map(([i,s])=>[i,s||"default"]))})),V7e=Be(e=>Oe(()=>{var t,n;return(n=(t=xh(e).data)==null?void 0:t.enabled)!=null?n:!1})),Wbe=ut(e=>n_(e,{mutationFn:async({personalityType:t,conversationId:n,messageId:r})=>(Q.addAction("chatgpt_settings_update_personality_type",{personality_type:t}),await Fbe(t,n,r)),onSettled:(t,n)=>{const r=tn(e);t!=null&&!n?r.setQueryData(uu().queryKey,t):r.invalidateQueries(uu())}}));function $7e(e,t,n,r,i){const s=tn(e);i!=null&&i.optimistic&&s.setQueryData(uu().queryKey,c=>c&&I(S({},c),{personality_type_selection:t}));const{mutate:o,result$:a}=Wbe(e);return o({personalityType:t,conversationId:n,messageId:r}),a}const qbe=ut(e=>n_(e,{mutationFn:async({traits:t,conversationId:n,messageId:r})=>(Q.addAction("chatgpt_settings_update_personality_traits",{traits:t}),await Bbe(t,n,r)),onSettled:(t,n)=>{const r=tn(e);(t==null||n)&&r.invalidateQueries(uu())}}));function H7e(e,t,n,r,i){const s={};t.forEach((l,u)=>{s[u]=l!=null?l:"default"});const o=tn(e);i!=null&&i.optimistic&&o.setQueryData(uu().queryKey,l=>l&&I(S({},l),{personality_traits:s}));const{mutate:a,result$:c}=qbe(e);return a({traits:s,conversationId:n,messageId:r}),c}B(()=>k(()=>import("./fjpqjlv08i02xcat.js"),__vite__mapDeps([23,1])),{loading:e=>z(e)});const Vbe=B(()=>k(()=>import("./d8urt6z8czylb5p6.js"),__vite__mapDeps([24,1])),{loading:e=>z(e)}),$be=B(()=>k(()=>import("./bnipcvjraeep7qjy.js"),__vite__mapDeps([25,1])),{loading:e=>z(e)}),Tp=B(()=>k(()=>import("./dvfjdfwc50k8htst.js"),__vite__mapDeps([26,1])),{loading:e=>z(e)}),Hbe=B(()=>k(()=>import("./m7doe4pqk3hjrm1e.js"),__vite__mapDeps([27,1])),{loading:e=>z(e)}),zbe=B(()=>k(()=>import("./d5o1u4o4wu2s3dug.js"),__vite__mapDeps([28,1])),{loading:e=>z(e)}),Ybe=B(()=>k(()=>import("./ghusiygna4o32qi1.js"),__vite__mapDeps([29,1])),{loading:e=>z(e)}),Kbe=B(()=>k(()=>import("./idxkrx2slxhzm8qh.js"),__vite__mapDeps([30,1])),{loading:e=>z(e)}),Jbe=B(()=>k(()=>import("./l9as1ndnevgs02tf.js"),__vite__mapDeps([31,1])),{loading:e=>z(e)}),Xbe=B(()=>k(()=>import("./dpqzzp55l4zwk93g.js"),__vite__mapDeps([32,1])),{loading:e=>z(e)}),S2=B(()=>k(()=>import("./e2n6syult3e6hs2j.js"),__vite__mapDeps([33,1])),{loading:e=>z(e)}),Qbe=B(()=>k(()=>import("./b45jol6jjw62r4vk.js"),__vite__mapDeps([34,1])),{loading:e=>z(e)}),O2=B(()=>k(()=>import("./l48iylqopn5miofx.js"),__vite__mapDeps([35,1])),{loading:e=>z(e)}),Zbe=B(()=>k(()=>import("./iz9ybw36zj0rjajq.js"),__vite__mapDeps([36,1])),{loading:e=>z(e)}),eEe=B(()=>k(()=>import("./qsma96iq2r14xcmh.js"),__vite__mapDeps([37,1])),{loading:e=>z(e)}),tEe=B(()=>k(()=>import("./h5j364hdjn039hzj.js"),__vite__mapDeps([38,1])),{loading:e=>z(e)}),nEe=B(()=>k(()=>import("./jwueg8vspq9yhps2.js"),__vite__mapDeps([39,1])),{loading:e=>z(e)}),uS=B(()=>k(()=>import("./e9c4tgzw8sr4ptnc.js"),__vite__mapDeps([40,1])),{loading:e=>z(e)}),rEe=B(()=>k(()=>import("./hjef14qauats368u.js"),__vite__mapDeps([41,1])),{loading:e=>z(e)}),iEe=B(()=>k(()=>import("./h4evwzl4k6skj8r7.js"),__vite__mapDeps([42,1])),{loading:e=>z(e)}),T2=B(()=>k(()=>import("./oydzwmbjqxhwp1ek.js"),__vite__mapDeps([43,1])),{loading:e=>z(e)}),w2=B(()=>k(()=>import("./blthqd9nl25rhbvi.js"),__vite__mapDeps([44,1])),{loading:e=>z(e)}),A2=B(()=>k(()=>import("./g688vfij3wo711sf.js"),__vite__mapDeps([45,1])),{loading:e=>z(e)}),x2=B(()=>k(()=>import("./okzlvevr93wa1zvp.js"),__vite__mapDeps([46,1])),{loading:e=>z(e)}),sEe=B(()=>k(()=>import("./dvib5d1jxvc518h5.js"),__vite__mapDeps([47,1])),{loading:e=>z(e)}),oEe=B(()=>k(()=>import("./h48j4g76f726xzx4.js"),__vite__mapDeps([48,1])),{loading:e=>z(e)}),aEe=B(()=>k(()=>import("./c0ojy1t76yvdowjm.js"),__vite__mapDeps([49,1])),{loading:e=>z(e)}),cEe=B(()=>k(()=>import("./kl9nc8lw2zbngsxu.js"),__vite__mapDeps([50,1])),{loading:e=>z(e)}),lEe=B(()=>k(()=>import("./hegd51otv5xzo53u.js"),__vite__mapDeps([51,1])),{loading:e=>z(e)}),uEe=B(()=>k(()=>import("./firqr8dqm1h7owx1.js"),__vite__mapDeps([52,1])),{loading:e=>z(e)}),dEe=B(()=>k(()=>import("./1z12ka0sjzwi5bk4.js"),__vite__mapDeps([53,1])),{loading:e=>z(e)}),fEe=B(()=>k(()=>import("./kjvygvhx30u8mxny.js"),__vite__mapDeps([54,1])),{loading:e=>z(e)}),hEe=B(()=>k(()=>import("./buq7rcr26b24qglf.js"),__vite__mapDeps([55,1])),{loading:e=>z(e)}),pEe=B(()=>k(()=>import("./l9asex3m3rhov6mj.js"),__vite__mapDeps([56,1])),{loading:e=>z(e)}),gEe=B(()=>k(()=>import("./icogg96ipnevhswg.js"),__vite__mapDeps([57,1])),{loading:e=>z(e)}),mEe=B(()=>k(()=>import("./l4q37jna5u8671pr.js"),__vite__mapDeps([58,1])),{loading:e=>z(e)}),_Ee=B(()=>k(()=>import("./fo0x0epn1mhbz6yk.js"),__vite__mapDeps([59,1])),{loading:e=>z(e)}),vEe=B(()=>k(()=>import("./kbwf70iamjdvta7y.js"),__vite__mapDeps([60,1])),{loading:e=>z(e)});var sn=(e=>(e.CODEX="CODEX",e.PROMPT_TEXT_AREA="PROMPT_TEXT_AREA",e.CONNECTOR_SETTING="CONNECTOR_SETTING",e.ADMIN_SETTING="ADMIN_SETTING",e.SLURM="SLURM",e.DEEP_RESEARCH="DEEP_RESEARCH",e.JIT_PLUGIN="JIT_PLUGIN",e.N7JUPD="N7JUPD",e))(sn||{});const yEe=Tt({github:{id:"platformConnectors.github",defaultMessage:"GitHub"},hubspot:{id:"platformConnectors.hubspot",defaultMessage:"HubSpot"},googleDrive:{id:"platformConnectors.googleDrive",defaultMessage:"Google Drive"},gmail:{id:"platformConnectors.gmail",defaultMessage:"Gmail"},googleContacts:{id:"platformConnectors.googleContacts",defaultMessage:"Google Contacts"},gcal:{id:"platformConnectors.gcal",defaultMessage:"Google Calendar"},dropbox:{id:"platformConnectors.dropbox",defaultMessage:"Dropbox"},linear:{id:"platformConnectors.linear",defaultMessage:"Linear"},sharepoint:{id:"platformConnectors.sharepoint",defaultMessage:"SharePoint"},outlookEmail:{id:"GJeJu+",defaultMessage:"Outlook Email"},outlookCalendar:{id:"ZaCgzD",defaultMessage:"Outlook Calendar"},teams:{id:"1F0GKN",defaultMessage:"Teams"},box:{id:"l5cshA",defaultMessage:"Box"},intercom:{id:"IeKzI2",defaultMessage:"Intercom"},notion:{id:"ewTDRt",defaultMessage:"Notion"},canva:{id:"2oFmyl",defaultMessage:"Canva"},confluence:{id:"9OL98Q",defaultMessage:"Confluence"},jira:{id:"Nm71Up",defaultMessage:"Jira"},jiraServiceManagement:{id:"cjC5DU",defaultMessage:"Jira Service Management"},slack:{id:"Do199+",defaultMessage:"Slack"},aha:{id:"MJ13Xc",defaultMessage:"Aha!"},asana:{id:"b+LuOp",defaultMessage:"Asana"},azureDevops:{id:"EMGnXy",defaultMessage:"Azure DevOps"},basecamp:{id:"WtFh36",defaultMessage:"Basecamp"},clickup:{id:"pP1J7F",defaultMessage:"ClickUp"},freshdesk:{id:"62IXlT",defaultMessage:"Freshdesk"},freshservice:{id:"i1akfj",defaultMessage:"Freshservice"},front:{id:"bP9Vhb",defaultMessage:"Front"},gitlab:{id:"U3zBPE",defaultMessage:"GitLab"},gorgias:{id:"TwMCWh",defaultMessage:"Gorgias"},helpScout:{id:"7ST8TO",defaultMessage:"Help Scout"},ironclad:{id:"EgicM8",defaultMessage:"Ironclad"},pipedrive:{id:"PZc8St",defaultMessage:"Pipedrive"},salesforceServiceCloud:{id:"p3e7aq",defaultMessage:"Salesforce Service Cloud"},shortcut:{id:"fMr0j2",defaultMessage:"Shortcut"},teamwork:{id:"NC9s7t",defaultMessage:"Teamwork"},zendesk:{id:"eAbTKh",defaultMessage:"Zendesk"},zoho:{id:"2Xpxq+",defaultMessage:"Zoho"},zohoDesk:{id:"QWma/o",defaultMessage:"Zoho Desk"},disabledByAdmin:{id:"2+q1p8",defaultMessage:"Your admin has not enabled this connector."}}),CEe={},bEe={},ze=S(S(S({},yEe),CEe),bEe),z7e={[N.GITHUB_CONNECTOR]:{title:ze.github,icon:oEe},[N.GDRIVE_ACTION_CONNECTOR]:{title:ze.googleDrive,icon:T2},[qg.GDRIVE_SYNC_CONNECTOR]:{title:ze.googleDrive,icon:T2},[N.DROPBOX_CONNECTOR]:{title:ze.dropbox,icon:uEe},[N.HUBSPOT_CONNECTOR]:{title:ze.hubspot,icon:uS},[N.AHA_CONNECTOR]:{title:ze.aha,icon:vEe},[N.ASANA_CONNECTOR]:{title:ze.asana,icon:_Ee},[N.AZURE_DEVOPS_CONNECTOR]:{title:ze.azureDevops,icon:mEe},[N.BASECAMP_CONNECTOR]:{title:ze.basecamp,icon:gEe},[N.CLICKUP_CONNECTOR]:{title:ze.clickup,icon:fEe},[N.LINEAR_CONNECTOR]:{title:ze.linear,icon:O2},[N.SHAREPOINT_CONNECTOR]:{title:ze.sharepoint,icon:S2},[N.SHAREPOINT_ADMIN_CONNECTOR]:{title:ze.sharepoint,icon:S2},[N.TEAMS_CONNECTOR]:{title:ze.teams,icon:Jbe},[N.OUTLOOK_EMAIL_CONNECTOR]:{title:ze.outlookEmail,icon:Xbe},[N.OUTLOOK_CALENDAR_CONNECTOR]:{title:ze.outlookCalendar,icon:Qbe},[N.BOX_CONNECTOR]:{title:ze.box,icon:pEe},[N.INTERCOM_CONNECTOR]:{title:ze.intercom,icon:nEe},[N.FRESHDESK_CONNECTOR]:{title:ze.freshdesk,icon:lEe},[N.FRESHSERVICE_CONNECTOR]:{title:ze.freshservice,icon:cEe},[N.FRONT_CONNECTOR]:{title:ze.front,icon:aEe},[N.GITLAB_CONNECTOR]:{title:ze.gitlab,icon:sEe},[N.GORGIAS_CONNECTOR]:{title:ze.gorgias,icon:iEe},[N.HELP_SCOUT_CONNECTOR]:{title:ze.helpScout,icon:rEe},[N.NOTION_CONNECTOR]:{title:ze.notion,icon:Kbe},[N.GOOGLE_CONTACTS_CONNECTOR]:{title:ze.googleContacts,icon:w2},[Jp.GOOGLE_CONTACTS_CONNECTOR]:{title:ze.googleContacts,icon:w2},[N.GCAL_CONNECTOR]:{title:ze.gcal,icon:A2},[Jp.GCAL_CONNECTOR]:{title:ze.gcal,icon:A2},[N.GMAIL_CONNECTOR]:{title:ze.gmail,icon:x2},[Jp.GMAIL_CONNECTOR]:{title:ze.gmail,icon:x2},[N.CANVA_CONNECTOR]:{title:ze.canva,icon:hEe},[N.CONFLUENCE_CONNECTOR]:{title:ze.confluence,icon:dEe},[N.JIRA_CONNECTOR]:{title:ze.jira,icon:Zbe},[N.JIRA_SERVICEMANAGEMENT_CONNECTOR]:{title:ze.jiraServiceManagement,icon:eEe},[N.SLACK_CONNECTOR]:{title:ze.slack,icon:Tp},[N.SLACK_CODEX_CONNECTOR]:{title:ze.slack,icon:Tp},[N.SLACK_CODEX_BOT_CONNECTOR]:{title:ze.slack,icon:Tp},[N.LINEAR_CODEX_BOT_CONNECTOR]:{title:ze.linear,icon:O2},[N.IRONCLAD_CONNECTOR]:{title:ze.ironclad,icon:tEe},[N.PIPEDRIVE_CONNECTOR]:{title:ze.pipedrive,icon:Ybe},[N.SALESFORCE_SERVICE_CLOUD_CONNECTOR]:{title:ze.salesforceServiceCloud,icon:zbe},[N.SHORTCUT_CONNECTOR]:{title:ze.shortcut,icon:Hbe},[N.TEAMWORK_CONNECTOR]:{title:ze.teamwork,icon:$be},[N.ZENDESK_CONNECTOR]:{title:ze.zendesk,icon:Vbe},[N.ZOHO_CONNECTOR]:{title:ze.zoho,icon:uS},[N.ZOHO_DESK_CONNECTOR]:{title:ze.zohoDesk,icon:uS},[qg.SLACK_SYNC_CONNECTOR]:{title:ze.slack,icon:Tp}},EEe={github:N.GITHUB_CONNECTOR,google_drive:N.GDRIVE_ACTION_CONNECTOR,dropbox:N.DROPBOX_CONNECTOR,linear:N.LINEAR_CONNECTOR,hubspot:N.HUBSPOT_CONNECTOR,sharepoint:N.SHAREPOINT_CONNECTOR,google_calendar:N.GCAL_CONNECTOR,gmail:N.GMAIL_CONNECTOR,google_contacts:N.GOOGLE_CONTACTS_CONNECTOR,teams:N.TEAMS_CONNECTOR,outlook_email:N.OUTLOOK_EMAIL_CONNECTOR,outlook_calendar:N.OUTLOOK_CALENDAR_CONNECTOR,box:N.BOX_CONNECTOR,intercom:N.INTERCOM_CONNECTOR,notion:N.NOTION_CONNECTOR,canva:N.CANVA_CONNECTOR,slack:N.SLACK_CONNECTOR,slack_codex:N.SLACK_CODEX_CONNECTOR},c$=[];function Ih(e,{includeDisabledByAdmin:t=!1,productSku:n,purpose:r,skipLogos:i}={}){const{data:s,isLoading:o}=Zo(e,{productSku:n,purpose:r,skipLogos:i});if(o)return;if(!s)return c$;const a=SEe(s);return t?a:OEe(a)}const SEe=eo(e=>{const t=e.filter(r=>r.connector_type!=="MCP"&&Ii[r.id]).map(r=>I(S({},r),{type:Ii[r.id]})),n=e.filter(r=>r.connector_type==="MCP").map(r=>I(S({},r),{type:Si.MCP_CONNECTOR}));return[...t,...n]}),OEe=eo(e=>e.filter(t=>t.status!=="DISABLED_BY_ADMIN"));function TEe(e){return l$(e)&&$e(e,"3544641259")}const wEe=ut(e=>{const t=rn(e,"3747383021"),n=TEe(e),r=Object.entries(EEe).reduce((o,[a,c])=>(t.get(a,!1)&&o.push(c),o),[]),s=t.get("mcp",!1)?[...r,Si.MCP_CONNECTOR]:r;return{enabled:n,availableConnectorsType:n?s:[]}});function l$(e){return $e(e,"733205176")}function Y7e(e){return $e(e,"3207737252")}function AEe(e){return $e(e,"3927245414")}const Jx=ut(e=>{var n,r;const t=rn(e,"463092697");return(r=(n=t==null?void 0:t.value)==null?void 0:n.autoConnectors)!=null?r:[]}),u$=Be(e=>Oe(()=>{const{data:t,isLoading:n}=xh(e);if(n)return{enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!0};const{disabledTools:r=[]}=t!=null?t:{},i=r.map(lfe).filter(a=>a!=null);return i.includes(N.GMAIL_CONNECTOR)&&i.includes(N.GCAL_CONNECTOR)&&i.push(N.GOOGLE_CONTACTS_CONNECTOR),{enabledAutoConnectors:Jx(e).filter(a=>!i.includes(a)),disabledAutoConnectors:i,isLoading:!1}})),d$=e=>f$(e).enabled,f$=ut(e=>{var s,o,a;const t=Wx(e),n=!!((s=t==null?void 0:t.enabled)!=null&&s),r=(o=t==null?void 0:t.autoConnectors)!=null?o:[],i=(a=t==null?void 0:t.enabledConnectors)!=null?a:[];return{enabled:n,availableConnectorsType:n?i:[],autoConnectors:r}}),xEe=({includeDisabledByAdmin:e}={})=>{const t=re(),{enabled:n,availableConnectorsType:r}=wEe(t),i=Fe(()=>{if(n)return Ih(t,{includeDisabledByAdmin:e,productSku:sn.DEEP_RESEARCH})}),s=n&&!i,o=E.useMemo(()=>i?i.filter(a=>r.includes(a.type)):[],[r,i]);return n?{enabled:!0,availableConnectors:o,isLoading:s}:{enabled:!1,availableConnectors:[],isLoading:!1}},hv=(e,t={})=>IEe(e,t),IEe=Ah((e,{includeDisabledByAdmin:t,includeAutoConnectors:n,filterDisabledAutoConnectors:r})=>Oe(()=>{var d;if(!d$(e))return[];const i=f$(e);let s=i.availableConnectorsType;const o=$e(e,"2768222595"),{enabledAutoConnectors:a,isLoading:c}=o&&((d=i.autoConnectors)!=null?d:[]).length>0&&r?u$(e):{enabledAutoConnectors:[],isLoading:!1};if(c)return;const l=o?r?a:Jx(e):[],u=Ih(e,{includeDisabledByAdmin:t,productSku:sn.SLURM});if(u)return n&&(s=[...new Set([...s,...l])]),s.flatMap(f=>f===Si.MCP_CONNECTOR?u==null?void 0:u.filter(h=>h.type===f):[u==null?void 0:u.find(h=>h.type===f)]).filter(f=>!!f)}),e=>JSON.stringify([!!e.includeDisabledByAdmin,!!e.includeAutoConnectors,!!e.filterDisabledAutoConnectors])),K7e=({purpose:e=void 0}={})=>{const t=re(),n=uv(t),r=Fe(()=>{if(n)return Ih(t,{includeDisabledByAdmin:!0,productSku:sn.CONNECTOR_SETTING,purpose:e})}),i=n&&!r;return{enabled:!!(r&&r.length>0),isLoading:i,availableConnectors:r!=null?r:c$}},h$=e=>{"use forget";const t=H.c(17),{availableConnectors:n,fetchValidLinksOnly:r,productSku:i}=e,s=r===void 0?!1:r;let o;t[0]!==s||t[1]!==i?(o={fetchValidLinksOnly:s,productSku:i},t[0]=s,t[1]=i,t[2]=o):o=t[2];const{connectorLinks:a,isLoading:c}=fv(o);let l;t[3]!==a?(l=new Set(Array.from(a.values()).flatMap(kEe)),t[3]=a,t[4]=l):l=t[4];const u=l;let d;if(t[5]!==n||t[6]!==u){let g;t[8]!==u?(g=m=>m.type!==Si.MCP_CONNECTOR&&u.has(m.type),t[8]=u,t[9]=g):g=t[9],d=new Set(n.filter(g).map(MEe)),t[5]=n,t[6]=u,t[7]=d}else d=t[7];const f=d;let h;t[10]!==n||t[11]!==a?(h=new Map,a.forEach((g,m)=>{if(!n.some(y=>y.id===m))return;const v=Ii[m];v&&g.forEach(y=>{h.set(y.id,v)})}),t[10]=n,t[11]=a,t[12]=h):h=t[12];let p;return t[13]!==f||t[14]!==c||t[15]!==h?(p={connectedTypes:f,isLoading:c,linkIdToConnectedType:h},t[13]=f,t[14]=c,t[15]=h,t[16]=p):p=t[16],p},NEe=e=>{"use forget";const t=H.c(13);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r,includeAutoConnectors:i}=n,s=r===void 0?!0:r,o=i===void 0?!1:i,a=re();let c;t[2]!==a||t[3]!==o?(c=()=>hv(a,{includeAutoConnectors:o}),t[2]=a,t[3]=o,t[4]=c):c=t[4];const l=Fe(c);let u;t[5]!==a||t[6]!==s?(u=d$(a)&&s,t[5]=a,t[6]=s,t[7]=u):u=t[7];let d;t[8]!==l?(d=l!=null?l:[],t[8]=l,t[9]=d):d=t[9];let f;return t[10]!==u||t[11]!==d?(f={enabled:u,availableConnectors:d,productSku:sn.SLURM},t[10]=u,t[11]=d,t[12]=f):f=t[12],h$(f)},J7e=e=>{"use forget";const t=H.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,i=r===void 0?!0:r,{enabled:s,availableConnectors:o}=xEe(),a=s&&i;let c;return t[2]!==o||t[3]!==a?(c={enabled:a,availableConnectors:o,fetchValidLinksOnly:!0,productSku:sn.DEEP_RESEARCH},t[2]=o,t[3]=a,t[4]=c):c=t[4],h$(c)},REe=()=>{const e=NV();return!!(e!=null&&e.enablePopupRedirect)},X7e=({includeAutoConnectors:e=!1})=>{const t=re(),{connectedTypes:n,isLoading:r}=NEe({includeAutoConnectors:e}),{data:i,isLoading:s}=Fe(()=>Ec(t));if(r||s)return{anyConnectorEnabled:!1,anyAccessConnectorEnabled:!1,anySyncConnectorEnabled:!1,isLoading:!0};const o=n.size>0,a=i?t$(i):!1;return{anyConnectorEnabled:o||a,anyAccessConnectorEnabled:o,anySyncConnectorEnabled:a,isLoading:!1}};function PEe(e){return Ii[e.connector_id]}function kEe(e){return e.map(PEe)}function MEe(e){return e.type}function DEe(e,t,n){var r;try{const i=JSON.parse((r=window.localStorage.getItem(e))!=null?r:"");return n(i)?i:t}catch(i){return t}}function LEe(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const I2=ir(e=>({data:{},setItem:(t,n)=>e(r=>({data:I(S({},r.data),{[t]:n})}))}));function jEe(e,t,n){const[r,i]=E.useState(!1),s=I2(c=>c.data[e]),o=I2(c=>c.setItem);E.useEffect(()=>{if(!r){const c=DEe(e,t,n);o(e,c),i(!0)}},[r,e,t,n,o]),E.useEffect(()=>{r&&LEe(e,s)},[e,s,r]);const a=c=>{o(e,c)};return[s!=null?s:t,a]}function Rt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ue(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function cg(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cg=function(n){return typeof n}:cg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cg(e)}function We(e){Ue(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||cg(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function pv(e,t){Ue(2,arguments);var n=We(e),r=Rt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function p$(e,t){Ue(2,arguments);var n=We(e),r=Rt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function FEe(e,t){Ue(2,arguments);var n=We(e).getTime(),r=Rt(t);return new Date(n+r)}var UEe={};function ku(){return UEe}function bm(e,t){var n,r,i,s,o,a,c,l;Ue(1,arguments);var u=ku(),d=Rt((n=(r=(i=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=We(e),h=f.getDay(),p=(h<d?7:0)+h-d;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function F1(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Em(e){Ue(1,arguments);var t=We(e);return t.setHours(0,0,0,0),t}var BEe=864e5;function GEe(e,t){Ue(2,arguments);var n=Em(e),r=Em(t),i=n.getTime()-F1(n),s=r.getTime()-F1(r);return Math.round((i-s)/BEe)}function g$(e,t){Ue(2,arguments);var n=Rt(t),r=n*7;return pv(e,r)}function WEe(e,t){Ue(2,arguments);var n=Rt(t);return p$(e,n*12)}function dS(e,t){Ue(2,arguments);var n=We(e),r=We(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var Xx=6e4,m$=36e5;function _$(e,t){Ue(2,arguments);var n=Em(e),r=Em(t);return n.getTime()===r.getTime()}function lg(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lg=function(n){return typeof n}:lg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lg(e)}function qEe(e){return Ue(1,arguments),e instanceof Date||lg(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VEe(e){if(Ue(1,arguments),!qEe(e)&&typeof e!="number")return!1;var t=We(e);return!isNaN(Number(t))}function $Ee(e,t){Ue(2,arguments);var n=We(e),r=We(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function N2(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Q7e(e,t){Ue(2,arguments);var n=We(e),r=We(t),i=N2(n,r),s=Math.abs(GEe(n,r));n.setDate(n.getDate()-i*s);var o=+(N2(n,r)===-i),a=i*(s-o);return a===0?0:a}function HEe(e,t){return Ue(2,arguments),We(e).getTime()-We(t).getTime()}var R2={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},zEe="trunc";function YEe(e){return e?R2[e]:R2[zEe]}function Z7e(e,t,n){Ue(2,arguments);var r=HEe(e,t)/Xx;return YEe(void 0)(r)}function v$(e){Ue(1,arguments);var t=We(e);return t.setHours(23,59,59,999),t}function KEe(e){Ue(1,arguments);var t=We(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function JEe(e){Ue(1,arguments);var t=We(e);return v$(t).getTime()===KEe(t).getTime()}function e8e(e,t){Ue(2,arguments);var n=We(e),r=We(t),i=dS(n,r),s=Math.abs($Ee(n,r)),o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);var a=dS(n,r)===-i;JEe(We(e))&&s===1&&dS(e,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function t8e(e,t){var n;Ue(1,arguments);var r=e||{},i=We(r.start),s=We(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],c=i;c.setHours(0,0,0,0);var l=Number((n=void 0)!==null&&n!==void 0?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)a.push(We(c)),c.setDate(c.getDate()+l),c.setHours(0,0,0,0);return a}function n8e(e,t){Ue(1,arguments);var n=e||{},r=We(n.start),i=We(n.end),s=i.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var o=bm(r,t),a=bm(i,t);o.setHours(15),a.setHours(15),s=a.getTime();for(var c=[],l=o;l.getTime()<=s;)l.setHours(0),c.push(We(l)),l=g$(l,1),l.setHours(15);return c}function r8e(e){Ue(1,arguments);var t=We(e);return t.setDate(1),t.setHours(0,0,0,0),t}function i8e(e,t){var n,r,i,s,o,a;Ue(1,arguments);var c=ku(),l=Rt((n=(r=(i=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(o=c.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:0);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=We(e),d=u.getDay(),f=(d<l?-7:0)+6-(d-l);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}function s8e(){return v$(Date.now())}function XEe(e,t){Ue(2,arguments);var n=Rt(t);return FEe(e,-n)}var QEe=864e5;function ZEe(e){Ue(1,arguments);var t=We(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/QEe)+1}function Sm(e){Ue(1,arguments);var t=1,n=We(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function y$(e){Ue(1,arguments);var t=We(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Sm(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Sm(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function eSe(e){Ue(1,arguments);var t=y$(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Sm(n);return r}var tSe=6048e5;function nSe(e){Ue(1,arguments);var t=We(e),n=Sm(t).getTime()-eSe(t).getTime();return Math.round(n/tSe)+1}function Om(e,t){var n,r,i,s,o,a,c,l;Ue(1,arguments);var u=ku(),d=Rt((n=(r=(i=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=We(e),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function C$(e,t){var n,r,i,s,o,a,c,l;Ue(1,arguments);var u=We(e),d=u.getUTCFullYear(),f=ku(),h=Rt((n=(r=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var g=Om(p,t),m=new Date(0);m.setUTCFullYear(d,0,h),m.setUTCHours(0,0,0,0);var v=Om(m,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function rSe(e,t){var n,r,i,s,o,a,c,l;Ue(1,arguments);var u=ku(),d=Rt((n=(r=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=C$(e,t),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=Om(h,t);return p}var iSe=6048e5;function sSe(e,t){Ue(1,arguments);var n=We(e),r=Om(n,t).getTime()-rSe(n,t).getTime();return Math.round(r/iSe)+1}function Ct(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var mo={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Ct(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Ct(r+1,2)},d:function(t,n){return Ct(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Ct(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ct(t.getUTCHours(),n.length)},m:function(t,n){return Ct(t.getUTCMinutes(),n.length)},s:function(t,n){return Ct(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ct(s,n.length)}},Zc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oSe={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return mo.y(t,n)},Y:function(t,n,r,i){var s=C$(t,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ct(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ct(o,n.length)},R:function(t,n){var r=y$(t);return Ct(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Ct(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ct(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ct(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return mo.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ct(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var s=sSe(t,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ct(s,n.length)},I:function(t,n,r){var i=nSe(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ct(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):mo.d(t,n)},D:function(t,n,r){var i=ZEe(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ct(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ct(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ct(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ct(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),s;switch(i===12?s=Zc.noon:i===0?s=Zc.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),s;switch(i>=17?s=Zc.evening:i>=12?s=Zc.afternoon:i>=4?s=Zc.morning:s=Zc.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return mo.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):mo.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ct(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ct(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):mo.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):mo.s(t,n)},S:function(t,n){return mo.S(t,n)},X:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return k2(o);case"XXXX":case"XX":return Pa(o);case"XXXXX":case"XXX":default:return Pa(o,":")}},x:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"x":return k2(o);case"xxxx":case"xx":return Pa(o);case"xxxxx":case"xxx":default:return Pa(o,":")}},O:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+P2(o,":");case"OOOO":default:return"GMT"+Pa(o,":")}},z:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+P2(o,":");case"zzzz":default:return"GMT"+Pa(o,":")}},t:function(t,n,r,i){var s=i._originalDate||t,o=Math.floor(s.getTime()/1e3);return Ct(o,n.length)},T:function(t,n,r,i){var s=i._originalDate||t,o=s.getTime();return Ct(o,n.length)}};function P2(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=t;return n+String(i)+o+Ct(s,2)}function k2(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ct(Math.abs(e)/60,2)}return Pa(e,t)}function Pa(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),s=Ct(Math.floor(i/60),2),o=Ct(i%60,2);return r+s+n+o}var M2=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},b$=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},aSe=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return M2(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",M2(i,n)).replace("{{time}}",b$(s,n))},cSe={p:b$,P:aSe},lSe=["D","DD"],uSe=["YY","YYYY"];function dSe(e){return lSe.indexOf(e)!==-1}function fSe(e){return uSe.indexOf(e)!==-1}function D2(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var hSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pSe=function(t,n,r){var i,s=hSe[t];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function fS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var gSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_Se={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vSe={date:fS({formats:gSe,defaultWidth:"full"}),time:fS({formats:mSe,defaultWidth:"full"}),dateTime:fS({formats:_Se,defaultWidth:"full"})},ySe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CSe=function(t,n,r,i){return ySe[t]};function Qu(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[a]}var l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}var bSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ESe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ASe=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xSe={ordinalNumber:ASe,era:Qu({values:bSe,defaultWidth:"wide"}),quarter:Qu({values:ESe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Qu({values:SSe,defaultWidth:"wide"}),day:Qu({values:OSe,defaultWidth:"wide"}),dayPeriod:Qu({values:TSe,defaultWidth:"wide",formattingValues:wSe,defaultFormattingWidth:"wide"})};function Zu(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?NSe(a,function(d){return d.test(o)}):ISe(a,function(d){return d.test(o)}),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;var u=t.slice(o.length);return{value:l,rest:u}}}function ISe(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function NSe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function RSe(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(i.length);return{value:o,rest:a}}}var PSe=/^(\d+)(th|st|nd|rd)?/i,kSe=/\d+/i,MSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DSe={any:[/^b/i,/^(a|c)/i]},LSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jSe={any:[/1/i,/2/i,/3/i,/4/i]},FSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},USe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VSe={ordinalNumber:RSe({matchPattern:PSe,parsePattern:kSe,valueCallback:function(t){return parseInt(t,10)}}),era:Zu({matchPatterns:MSe,defaultMatchWidth:"wide",parsePatterns:DSe,defaultParseWidth:"any"}),quarter:Zu({matchPatterns:LSe,defaultMatchWidth:"wide",parsePatterns:jSe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Zu({matchPatterns:FSe,defaultMatchWidth:"wide",parsePatterns:USe,defaultParseWidth:"any"}),day:Zu({matchPatterns:BSe,defaultMatchWidth:"wide",parsePatterns:GSe,defaultParseWidth:"any"}),dayPeriod:Zu({matchPatterns:WSe,defaultMatchWidth:"any",parsePatterns:qSe,defaultParseWidth:"any"})},$Se={code:"en-US",formatDistance:pSe,formatLong:vSe,formatRelative:CSe,localize:xSe,match:VSe,options:{weekStartsOn:0,firstWeekContainsDate:1}},HSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YSe=/^'([^]*?)'?$/,KSe=/''/g,JSe=/[a-zA-Z]/;function o8e(e,t,n){var r,i,s,o,a,c,l,u,d,f,h,p,g,m;Ue(2,arguments);var v=String(t),y=ku(),T=(r=(i=void 0)!==null&&i!==void 0?i:y.locale)!==null&&r!==void 0?r:$Se,b=Rt((s=(o=(a=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&a!==void 0?a:y.firstWeekContainsDate)!==null&&o!==void 0?o:(l=y.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Rt((d=(f=(h=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&h!==void 0?h:y.weekStartsOn)!==null&&f!==void 0?f:(g=y.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&d!==void 0?d:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var O=We(e);if(!VEe(O))throw new RangeError("Invalid time value");var w=F1(O),A=XEe(O,w),x={firstWeekContainsDate:b,weekStartsOn:C,locale:T,_originalDate:O},R=v.match(zSe).map(function(P){var L=P[0];if(L==="p"||L==="P"){var D=cSe[L];return D(P,T.formatLong)}return P}).join("").match(HSe).map(function(P){if(P==="''")return"'";var L=P[0];if(L==="'")return XSe(P);var D=oSe[L];if(D)return fSe(P)&&D2(P,t,String(e)),dSe(P)&&D2(P,t,String(e)),D(A,P,T.localize,x);if(L.match(JSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return P}).join("");return R}function XSe(e){var t=e.match(YSe);return t?t[1].replace(KSe,"'"):e}function QSe(e){Ue(1,arguments);var t=Rt(e);return We(t*1e3)}function ZSe(e){Ue(1,arguments);var t=We(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function a8e(e){Ue(1,arguments);var t=We(e),n=t.getMonth();return n}function e0e(e){Ue(1,arguments);var t=We(e),n=t.getTime();return n}function t0e(e){return Ue(1,arguments),Math.floor(e0e(e)/1e3)}function c8e(e){return Ue(1,arguments),We(e).getFullYear()}function l8e(e,t,n){var r;Ue(1,arguments);var i;return n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,i).format(e)}function u8e(e,t){Ue(2,arguments);var n=We(e),r=We(t);return n.getTime()>r.getTime()}function d8e(e,t){Ue(2,arguments);var n=We(e),r=We(t);return n.getTime()<r.getTime()}function f8e(e,t){Ue(2,arguments);var n=We(e),r=We(t);return n.getTime()===r.getTime()}function h8e(e,t,n){Ue(2,arguments);var r=bm(e,n),i=bm(t,n);return r.getTime()===i.getTime()}function p8e(e,t){Ue(2,arguments);var n=We(e),r=We(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function n0e(e,t){Ue(2,arguments);var n=We(e),r=We(t);return n.getFullYear()===r.getFullYear()}function g8e(e){return Ue(1,arguments),n0e(e,Date.now())}function m8e(e){return Ue(1,arguments),_$(e,Date.now())}function _8e(e){return Ue(1,arguments),_$(e,pv(Date.now(),1))}function v8e(e,t){Ue(2,arguments);var n=Rt(t);return pv(e,-n)}function y8e(e,t){var n;Ue(1,arguments);var r=Rt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=o0e(e),s;if(i.date){var o=a0e(i.date,r);s=c0e(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),c=0,l;if(i.time&&(c=l0e(i.time),isNaN(c)))return new Date(NaN);if(i.timezone){if(l=u0e(i.timezone),isNaN(l))return new Date(NaN)}else{var u=new Date(a+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+c+l)}var wp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},r0e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,i0e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,s0e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function o0e(e){var t={},n=e.split(wp.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],wp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wp.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=wp.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function a0e(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function c0e(e,t){if(t===null)return new Date(NaN);var n=e.match(r0e);if(!n)return new Date(NaN);var r=!!n[4],i=ed(n[1]),s=ed(n[2])-1,o=ed(n[3]),a=ed(n[4]),c=ed(n[5])-1;if(r)return g0e(t,a,c)?d0e(t,a,c):new Date(NaN);var l=new Date(0);return!h0e(t,s,o)||!p0e(t,i)?new Date(NaN):(l.setUTCFullYear(t,s,Math.max(i,o)),l)}function ed(e){return e?parseInt(e):1}function l0e(e){var t=e.match(i0e);if(!t)return NaN;var n=hS(t[1]),r=hS(t[2]),i=hS(t[3]);return m0e(n,r,i)?n*m$+r*Xx+i*1e3:NaN}function hS(e){return e&&parseFloat(e.replace(",","."))||0}function u0e(e){if(e==="Z")return 0;var t=e.match(s0e);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return _0e(r,i)?n*(r*m$+i*Xx):NaN}function d0e(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var f0e=[31,null,31,30,31,30,31,31,30,31,30,31];function E$(e){return e%400===0||e%4===0&&e%100!==0}function h0e(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(f0e[t]||(E$(e)?29:28))}function p0e(e,t){return t>=1&&t<=(E$(e)?366:365)}function g0e(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function m0e(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function _0e(e,t){return t>=0&&t<=59}function v0e(e,t){Ue(2,arguments);var n=We(e),r=Rt(t),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=ZSe(o);return n.setMonth(r,Math.min(s,a)),n}function ug(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ug=function(n){return typeof n}:ug=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ug(e)}function C8e(e,t){if(Ue(2,arguments),ug(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=We(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=v0e(n,t.month)),t.date!=null&&n.setDate(Rt(t.date)),t.hours!=null&&n.setHours(Rt(t.hours)),t.minutes!=null&&n.setMinutes(Rt(t.minutes)),t.seconds!=null&&n.setSeconds(Rt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(Rt(t.milliseconds)),n)}function b8e(e,t){Ue(2,arguments);var n=Rt(t);return p$(e,-n)}function E8e(e,t){Ue(2,arguments);var n=Rt(t);return g$(e,-n)}function S8e(e,t){Ue(2,arguments);var n=Rt(t);return WEe(e,-n)}const y0e=3,C0e=3;function b0e(e){return un(e,"1092897457",{disableExposureLog:!0}).get("is_tatertot_enabled",!0)?$e(e,"3240576626"):!1}function E0e(e){return e?new Date>pv(e,y0e):!0}function O8e(e){var c;const[t,n]=jEe(zt.TatertotInContextUpsellBannerV2,null,l=>l!=null&&typeof l=="object"&&typeof l.messageId=="string"&&typeof l.lastSeenAt=="number"&&typeof l.interacted=="boolean"&&typeof l.viewCount=="number"),r=$e(re(),"3240576626"),i=t?QSe(t.lastSeenAt):null,s=t&&(c=t.viewCount)!=null?c:0;return{canBeSeen:e!==""&&(!t||s<=C0e&&(E0e(i)||t.messageId===e&&t.interacted===!1))&&r,markSeen:l=>{const u={messageId:e,lastSeenAt:t0e(new Date),interacted:l,viewCount:(t?t.viewCount:0)+(l?0:1)};Qn.count(Wn.TATERTOT,"tatertot_upsell_banner_shown"),n(u),localStorage.setItem(zt.TatertotInContextUpsellBannerV2,JSON.stringify(u))}}}var pS,L2;function S0e(){if(L2)return pS;L2=1;function e(t){return t!==t}return pS=e,pS}var gS,j2;function O0e(){if(j2)return gS;j2=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return gS=e,gS}var mS,F2;function T0e(){if(F2)return mS;F2=1;var e=PW(),t=S0e(),n=O0e();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return mS=r,mS}var _S,U2;function w0e(){if(U2)return _S;U2=1;var e=T0e();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return _S=t,_S}var vS,B2;function A0e(){if(B2)return vS;B2=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return vS=e,vS}var yS,G2;function S$(){if(G2)return yS;G2=1;function e(){}return yS=e,yS}var CS,W2;function x0e(){if(W2)return CS;W2=1;var e=yW(),t=S$(),n=TA(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return CS=i,CS}var bS,q2;function O$(){if(q2)return bS;q2=1;var e=lW(),t=w0e(),n=A0e(),r=uW(),i=x0e(),s=TA(),o=200;function a(c,l,u){var d=-1,f=t,h=c.length,p=!0,g=[],m=g;if(u)p=!1,f=n;else if(h>=o){var v=l?null:i(c);if(v)return s(v);p=!1,f=r,m=new e}else m=l?[]:g;e:for(;++d<h;){var y=c[d],T=l?l(y):y;if(y=u||y!==0?y:0,p&&T===T){for(var b=m.length;b--;)if(m[b]===T)continue e;l&&m.push(T),g.push(y)}else f(m,T,u)||(m!==g&&m.push(T),g.push(y))}return g}return bS=a,bS}var ES,V2;function I0e(){if(V2)return ES;V2=1;var e=O$();function t(n){return n&&n.length?e(n):[]}return ES=t,ES}var N0e=I0e();const R0e=Gt(N0e),P0e="hints",k0e="system_hints";function T$(e,t){const n=M0e(t==null?void 0:t.availableHints),r=[P0e,k0e].flatMap(i=>e.getAll(i)).flatMap(i=>i.split(",")).flatMap(i=>{var a,c;const s=i.trim();if(!s)return[];const o=(c=(a=Jne(s))!=null?a:n.get(s))!=null?c:n.get(s.toLowerCase());return o?[o]:[]});return R0e(r)}function M0e(e){var n,r;const t=new Map;if(!e)return t;for(const i of e)SS(t,i.systemHint,i.systemHint),(n=i.aliases)==null||n.forEach(s=>SS(t,s,i.systemHint)),(r=i.keywordInvocations)==null||r.forEach(s=>SS(t,s,i.systemHint));return t}function SS(e,t,n){if(!t)return;const r=t.trim();r&&(e.set(r,n),e.set(r.toLowerCase(),n))}const D0e=Lr(e=>Oe(()=>{var n;const t=Bpe(e,r=>ja(r.message));return(n=t==null?void 0:t.message.metadata)==null?void 0:n.system_hints}));var U1=(e=>(e.Hover="hover",e.Enable="enable",e.Disable="disable",e))(U1||{}),dg=(e=>(e.SuggestionTrigger="suggestion_trigger",e.SuggestionClick="suggestion_click",e.SuggestionAccept="suggestion_accept",e.Enable="enable",e.Disable="disable",e.PrefixMatch="prefix_match",e.PrefixRemove="prefix_remove",e.AtMention="at_mention",e.SlashCommand="slash_command",e.ConnectorPromptShown="connector_prompt_shown",e.ConnectorPromptAccept="connector_prompt_accept",e.ConnectorPromptReject="connector_prompt_reject",e.ConnectorSettingsConnectClick="connector_settings_connect_click",e.ConnectorLinkContinueClick="connector_link_continue_click",e))(dg||{});const L0e=new Map([["suggestion_trigger",["Composer System Hint Suggestion Shown","composer_system_hint_suggestion_shown"]],["suggestion_click",["Composer System Hint Suggestion Clicked","composer_system_hint_suggestion_clicked"]],["suggestion_accept",["Composer System Hint Suggestion Selected","composer_system_hint_suggestion_selected"]],["enable",["Composer System Hint Elevated Selected","composer_system_hint_elevated_selected"]],["disable",["Composer System Hint Elevated Deselected","composer_system_hint_elevated_deselected"]],["prefix_match",["Composer System Hint Connector Prefix Selected","composer_system_hint_connector_prefix_selected"]],["prefix_remove",["Composer System Hint Connector Prefix Removed","composer_system_hint_connector_prefix_removed"]],["at_mention",["Composer System Hint Connector At Mention Selected","composer_system_hint_connector_at_mention_selected"]],["slash_command",["Composer System Hint Connector Slash Command Selected","composer_system_hint_connector_slash_command_selected"]],["connector_prompt_shown",["Composer System Hint Connector Prompt Shown","composer_system_hint_connector_prompt_shown"]],["connector_prompt_accept",["Composer System Hint Connector Prompt Accepted","composer_system_hint_connector_prompt_accepted"]],["connector_prompt_reject",["Composer System Hint Connector Prompt Rejected","composer_system_hint_connector_prompt_rejected"]],["connector_settings_connect_click",["Composer System Hint Connector Settings Connect Click","composer_system_hint_connector_settings_connect_click"]],["connector_link_continue_click",["Composer System Hint Connector Link Continue Click","composer_system_hint_connector_link_continue_click"]]]),j0e=new Map([[ae.Search,{hover:["Composer Search Button Hovered","composer_search_button_hovered"],enable:["Composer Search Button Clicked","composer_search_button_clicked"],disable:["Composer Search Button Clicked","composer_search_button_clicked"]}],[ae.Think,{hover:["Composer Think Button Hovered","composer_think_button_hovered"],enable:["Composer Think Button Enabled","composer_think_button_enabled"],disable:["Composer Think Button Disabled","composer_think_button_disabled"]}],[ae.Research,{hover:["Composer Research Button Hovered","composer_research_button_hovered"],enable:["Composer Research Button Enabled","composer_research_button_enabled"],disable:["Composer Research Button Disabled","composer_research_button_disabled"]}],[ae.Agent,{hover:["Composer Agent System Hint Button Hovered","composer_agent_system_hint_button_hovered"],enable:["Composer Agent System Hint Button Enabled","composer_agent_system_hint_button_enabled"],disable:["Composer Agent System Hint Button Disabled","composer_agent_system_hint_button_disabled"]}],[ae.PictureV2,{hover:["Composer Create Image Button Hovered","composer_create_image_button_hovered"],enable:["Composer Create Image Button Enabled","composer_create_image_button_enabled"],disable:["Composer Create Image Button Disabled","composer_create_image_button_disabled"]}],[ae.Slurm,{hover:["Composer Slurm Button Hovered","composer_slurm_button_hovered"],enable:["Composer Slurm Button Enabled","composer_slurm_button_enabled"],disable:["Composer Slurm Button Disabled","composer_slurm_button_disabled"]}]]);function $2(e,t,n){var s,o;const[r,i]=(o=(s=j0e.get(e))==null?void 0:s[t])!=null?o:[];r&&i&&Se.logEventWithStatsig(r,i,n)}function OS(e,t,n){var o;const r=I(S({},n),{connector_id:e.replace(/^connector:/,"")}),[i,s]=(o=L0e.get(t))!=null?o:[];i&&s&&Se.logEventWithStatsig(i,s,r)}function F0e(e){return xt(e).windowStyle==="chatbar_view"}const U0e=()=>!Mc()&&!L7(),B0e=Be(e=>Oe(()=>{var i;const t=()=>{const s=un(e,"3081064739");Q.addAction("chatgpt_bottom_sheet_exposed",{is_in_plus_menu:s.get("composer-plus-menu",!1),detent_size:s.get("detent-size",""),can_bounce:s.get("can-bounce",!1),prefetch_system_hints:s.get("prefetch-system-hints",!1),system_hints_order:s.get("system-hints-by-plan",!1),no_explicit_add_from_social:s.get("no-explicit-add-from-social",!1)})},n=()=>St(e)&&!Mi(e)&&!F0e(e)&&!VJ()&&U0e(),r=un(e,"3081064739",{disableExposureLog:!0});return{backClosesSheet:r.get("back-closes-sheet",!1),canBounce:r.get("can-bounce",!1),plusMenuInComposer:r.get("composer-plus-menu",!1),detentSize:(i=r.get("detent-size",""))!=null?i:"370px",expose:t,isEligible$:n,noExplicitAddFromSocial:r.get("no-explicit-add-from-social",!1),prefetchSystemHints:r.get("prefetch-system-hints",!1),systemHintsByPlan:r.get("system-hints-by-plan",!1)?G0e:void 0}})),G0e={pro:["picture_v2","picture","reason","research","search","tatertot","agent","slurm","canvas","video"],free:["picture_v2","picture","reason","research","search","tatertot","agent"],go:["picture_v2","picture","reason","research","search","tatertot","agent"],plus:["picture_v2","picture","research","search","slurm","agent","tatertot","canvas","video"]},W0e=(e,t,n)=>{if(!n)return!0;const r=Dr(e);return r==null?void 0:r!=null&&(r.isAdminOfAccount()||r.isOwnerOfAccount())?!0:qhe(e,t)},q0e=Be(e=>Oe(()=>{if($e(e,"2042715633"))return!0;const n=cCe(e);if(!n)return!0;const r=W0e(e,ha.DeveloperModeConnector,n);return r!=null?r:!1})),Qx=Be(e=>Oe(()=>q0e(e)&&Ise(e,pc.DeveloperMode)===!0));function T8e(e){if(!$e(e,"735368229"))return!1;const t=Dr(e);return t!=null&&!(t.isSelfServeBusiness()&&t.isStandardUserOfAccount())}function Ui(e){return rn(e,"3401870206")}function Zx(e){return Ui(e).get("enabled",!1)}function w8e(e){return $e(e,"2545765670")}function A8e(e){return Ui(e).get("latest_model","alpha:gpt-5-t-mini:alpha.gpt5_mini_scout_v4_2")}function x8e(e){return Ui(e).get("nux_type","")}function I8e(e){return Ui(e).get("enable_toggling",!1)}function N8e(e){return Ui(e).get("enable_github_repo_selection",!1)}function R8e(e){return Ui(e).get("max_repos",3)}function V0e(e){return Ui(e).get("force_system_hint",!1)}function $0e(e){return Ui(e).get("available_connectors",[])}function H0e(e){return Ui(e).get("available_sync_connectors",[])}function P8e(e){if(!Yx(e))return[];const n=H0e(e),r=Ih(e,{});if(!r)return;const i=Ec(e);if(i)return n.map(s=>{var o;return(o=i.data)==null?void 0:o.connection_statuses.find(a=>a.user_connection_details.connection_type===s)}).filter(s=>{if(!s)return!1;if(s.user_connection_details.auth_status==="admin_connected")return!0;const a=s.user_connection_details.connector_id;return a?!!r.find(l=>l.id===a):!1})}function w$(e){return Ui(e).get("enable_all_mcps",!1)===!0}function k8e(){return["gdrive_sync_connector","github_connector","gmail_connector","notion_sync_connector","slack_sync_connector"]}function M8e(e,t){if(!(e!=null&&e.id))return!1;const n=Ui(t);if(!n.get("enabled"))return!1;const r=n.get("latest_model");return!!(r&&e.id===r||new Set(n.get("glaux_model_ids",[])).has(e.id)||n.get("glaux_model_prefixes",[]).some(o=>e.id.startsWith(String(o))))}function D8e(e){return e!=null&&e==="glaux"}const z0e="slurm_mcp_",Y0e=["search","fetch"];function K0e(e){var r;const t=(r=e.actions)!=null?r:[];if(t.length===0)return!1;const n=new Map(t.map(i=>[i.name,i]));return Y0e.every(i=>{const s=n.get(i);return s!=null&&s.is_consequential===!1})}const J0e=e=>e.startsWith(z0e)?Si.MCP_CONNECTOR:Ii[e],L8e=Be(e=>Oe(()=>{if(!Zx(e))return new Set;const n=A$(e),r=s$(e,{fetchValidLinksOnly:!0});if(r.isLoading||!n)return;const i=new Set((r==null?void 0:r.data)&&Array.from(r.data.values()).flatMap(o=>o.map(a=>J0e(a.connector_id)).filter(a=>!!a))),s=w$(e);return new Set(n.filter(o=>{var a;return(s&&o.type===Si.MCP_CONNECTOR&&((a=o.conformance)==null?void 0:a.implements_retrievable)===!0||o.type!==Si.MCP_CONNECTOR)&&i.has(o.type)}).map(o=>o.type))})),A$=Be(e=>Oe(()=>x$(e,!1))),j8e=Be(e=>Oe(()=>x$(e,!0)));function x$(e,t){if(!Zx(e))return[];const r=$0e(e),i=w$(e),s=Qx(e),{data:o,isLoading:a}=Zo(e,{skipActions:!1});if(a)return;const c=dv(o),l=Array.from(c.values()),u=l.filter(m=>m.connector_type!=="MCP").map(m=>I(S({},m),{type:Ii[m.id]})),d=l.filter(m=>{var v,y;return m.connector_type==="MCP"&&((v=m.conformance)==null?void 0:v.implements_retrievable)&&(m.status!=="ONLY_ME"||s)&&!((y=m.branding)!=null&&y.is_discoverable_app)&&K0e(m)}).map(m=>I(S({},m),{type:Si.MCP_CONNECTOR})),f=[...u,...d].filter(m=>!!m.type&&(t||m.status!=="DISABLED_BY_ADMIN")),h=new Set(r);return i&&h.add(Si.MCP_CONNECTOR),Array.from(h).flatMap(m=>m===Si.MCP_CONNECTOR?f.filter(v=>v.type===m):[f.find(v=>v.type===m)]).filter(m=>!!m)}const X0e=Be(e=>Oe(()=>{var n;if(!((n=Dr(e))!=null&&n.isEnterprisey())||V0e(e))return!0;const t=A$(e);return e$(e)||t!=null&&t.length>0})),H2=50,eI=Be(()=>we([]));function Q0e(e){"use forget";const t=H.c(5),{children:n}=e,r=re(),i=Jt(),s=vJ();let o,a;return t[0]!==s||t[1]!==r||t[2]!==i?(o=()=>{eI.set(r,c=>{const l={action:s,location:i},u=[...c,l];return u.length>H2?u.slice(u.length-H2):u})},a=[s,r,i],t[0]=s,t[1]=r,t[2]=i,t[3]=o,t[4]=a):(o=t[3],a=t[4]),E.useEffect(o,a),n}function Z0e(e,t){return vte(e)||(t==null?void 0:t.hasPaidFeatures())}function eOe(e){var r,i;const t=at(e);return CW((r=t==null?void 0:t.planType)!=null?r:be.FREE)||Z0e((i=sa(e))==null?void 0:i.user,t)&&!!1}const tOe=B(()=>k(()=>import("./kw03hsqv96j7mp48.js"),__vite__mapDeps([61,1])),{loading:e=>z(e)}),nOe=({icon:e,title:t,badge:n,description:r,statusIndicator:i,showGitHubConfigure:s})=>{const o=ofe("installations/select_target");return _.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[_.jsxs("div",{className:"me-4 flex items-center gap-3 text-start text-sm",children:[e,!r&&!n?t:_.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[_.jsxs("div",{className:"flex flex-row items-center gap-2",children:[_.jsx("div",{children:t}),n]}),_.jsx("div",{className:"text-token-text-secondary text-xs",children:r})]})]}),s&&_.jsx(no,{onClick:()=>{window.open(o,"_blank")},color:"secondary",size:"small",children:_.jsx(tOe,{className:"icon-sm"})}),i]})};function F8e(e,t){const n=E.useRef(e);E.useEffect(()=>{n.current=e},[e]),E.useEffect(()=>{function r(){n.current()}if(t!=null){const i=window.setInterval(r,t);return()=>clearInterval(i)}},[t])}const Ef=E.createContext({});function Dc(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const tI=typeof window<"u",Mu=tI?E.useLayoutEffect:E.useEffect,Nh=E.createContext(null);function nI(e,t){e.indexOf(t)===-1&&e.push(t)}function gv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ps=(e,t,n)=>n>t?t:n<e?e:n;let Sf=()=>{};const Qs={},I$=e=>new RegExp("^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$","u").test(e);function N$(e){return typeof e=="object"&&e!==null}const R$=e=>new RegExp("^0[^.\\s]+$","u").test(e);function rI(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=e=>e,rOe=(e,t)=>n=>t(e(n)),Rh=(...e)=>e.reduce(rOe),Sc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class iI{constructor(){this.subscriptions=[]}add(t){return nI(this.subscriptions,t),()=>gv(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ti=e=>e*1e3,Qr=e=>e/1e3;function sI(e,t){return t?e*(1e3/t):0}const iOe=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},P$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,sOe=1e-7,oOe=12;function aOe(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=P$(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>sOe&&++a<oOe);return o}function Ph(e,t,n,r){if(e===t&&n===r)return dr;const i=s=>aOe(s,0,1,e,n);return s=>s===0||s===1?s:P$(i(s),t,r)}const k$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,M$=e=>t=>1-e(1-t),D$=Ph(.33,1.53,.69,.99),oI=M$(D$),L$=k$(oI),j$=e=>(e*=2)<1?.5*oI(e):.5*(2-Math.pow(2,-10*(e-1))),aI=e=>1-Math.sin(Math.acos(e)),F$=M$(aI),U$=k$(aI),cOe=Ph(.42,0,1,1),lOe=Ph(0,0,.58,1),B$=Ph(.42,0,.58,1),G$=e=>Array.isArray(e)&&typeof e[0]!="number";function W$(e,t){return G$(e)?e[iOe(0,e.length,t)]:e}const q$=e=>Array.isArray(e)&&typeof e[0]=="number",uOe={linear:dr,easeIn:cOe,easeInOut:B$,easeOut:lOe,circIn:aI,circInOut:U$,circOut:F$,backIn:oI,backInOut:L$,backOut:D$,anticipate:j$},dOe=e=>typeof e=="string",B1=e=>{if(q$(e)){Sf(e.length===4);const[t,n,r,i]=e;return Ph(t,n,r,i)}else if(dOe(e))return uOe[e];return e},Ap=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fOe(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,d=!1,f=!1)=>{const p=f&&i?n:r;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,l.process(u))}};return l}const hOe=40;function V$(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ap.reduce((T,b)=>(T[b]=fOe(s),T),{}),{setup:a,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:h,postRender:p}=o,g=()=>{const T=Qs.useManualTiming?i.timestamp:performance.now();n=!1,Qs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,hOe),1)),i.timestamp=T,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},m=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:Ap.reduce((T,b)=>{const C=o[b];return T[b]=(O,w=!1,A=!1)=>(n||m(),C.schedule(O,w,A)),T},{}),cancel:T=>{for(let b=0;b<Ap.length;b++)o[Ap[b]].cancel(T)},state:i,steps:o}}const{schedule:mt,cancel:Ri,state:An,steps:TS}=V$(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let fg;function pOe(){fg=void 0}const lr={now:()=>(fg===void 0&&lr.set(An.isProcessing||Qs.useManualTiming?An.timestamp:performance.now()),fg),set:e=>{fg=e,queueMicrotask(pOe)}},$$=e=>t=>typeof t=="string"&&t.startsWith(e),cI=$$("--"),gOe=$$("var(--"),lI=e=>gOe(e)?mOe.test(e.split("/*")[0].trim()):!1,mOe=new RegExp("var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$","iu"),Du={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Of=I(S({},Du),{transform:e=>ps(0,1,e)}),xp=I(S({},Du),{default:1}),qd=e=>Math.round(e*1e5)/1e5,uI=new RegExp("-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","gu");function _Oe(e){return e==null}const vOe=new RegExp("^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$","iu"),dI=(e,t)=>n=>!!(typeof n=="string"&&vOe.test(n)&&n.startsWith(e)||t&&!_Oe(n)&&Object.prototype.hasOwnProperty.call(n,t)),H$=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(uI);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yOe=e=>ps(0,255,e),wS=I(S({},Du),{transform:e=>Math.round(yOe(e))}),Va={test:dI("rgb","red"),parse:H$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+wS.transform(e)+", "+wS.transform(t)+", "+wS.transform(n)+", "+qd(Of.transform(r))+")"};function COe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const G1={test:dI("#"),parse:COe,transform:Va.transform},kh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),vo=kh("deg"),cs=kh("%"),Ye=kh("px"),bOe=kh("vh"),EOe=kh("vw"),z2=I(S({},cs),{parse:e=>cs.parse(e)/100,transform:e=>cs.transform(e*100)}),El={test:dI("hsl","hue"),parse:H$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+cs.transform(qd(t))+", "+cs.transform(qd(n))+", "+qd(Of.transform(r))+")"},an={test:e=>Va.test(e)||G1.test(e)||El.test(e),parse:e=>Va.test(e)?Va.parse(e):El.test(e)?El.parse(e):G1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Va.transform(e):El.transform(e),getAnimatableNone:e=>{const t=an.parse(e);return t.alpha=0,an.transform(t)}},SOe=new RegExp("(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))","giu");function OOe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(uI))==null?void 0:t.length)||0)+(((n=e.match(SOe))==null?void 0:n.length)||0)>0}const z$="number",Y$="color",TOe="var",wOe="var(",Y2="${}",AOe=new RegExp("var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","giu");function Tf(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(AOe,c=>(an.test(c)?(r.color.push(s),i.push(Y$),n.push(an.parse(c))):c.startsWith(wOe)?(r.var.push(s),i.push(TOe),n.push(c)):(r.number.push(s),i.push(z$),n.push(parseFloat(c))),++s,Y2)).split(Y2);return{values:n,split:a,indexes:r,types:i}}function K$(e){return Tf(e).values}function J$(e){const{split:t,types:n}=Tf(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===z$?s+=qd(i[o]):a===Y$?s+=an.transform(i[o]):s+=i[o]}return s}}const xOe=e=>typeof e=="number"?0:an.test(e)?an.getAnimatableNone(e):e;function IOe(e){const t=K$(e);return J$(e)(t.map(xOe))}const ea={test:OOe,parse:K$,createTransformer:J$,getAnimatableNone:IOe};function AS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NOe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=AS(c,a,e+1/3),s=AS(c,a,e),o=AS(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Tm(e,t){return n=>n>0?t:e}const Dt=(e,t,n)=>e+(t-e)*n,xS=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ROe=[G1,Va,El],POe=e=>ROe.find(t=>t.test(e));function K2(e){const t=POe(e);if(!t)return!1;let n=t.parse(e);return t===El&&(n=NOe(n)),n}const J2=(e,t)=>{const n=K2(e),r=K2(t);if(!n||!r)return Tm(e,t);const i=S({},n);return s=>(i.red=xS(n.red,r.red,s),i.green=xS(n.green,r.green,s),i.blue=xS(n.blue,r.blue,s),i.alpha=Dt(n.alpha,r.alpha,s),Va.transform(i))},W1=new Set(["none","hidden"]);function kOe(e,t){return W1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function MOe(e,t){return n=>Dt(e,t,n)}function fI(e){return typeof e=="number"?MOe:typeof e=="string"?lI(e)?Tm:an.test(e)?J2:jOe:Array.isArray(e)?X$:typeof e=="object"?an.test(e)?J2:DOe:Tm}function X$(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>fI(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function DOe(e,t){const n=S(S({},e),t),r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=fI(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function LOe(e,t){var i;const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][r[o]],c=(i=e.values[a])!=null?i:0;n[s]=c,r[o]++}return n}const jOe=(e,t)=>{const n=ea.createTransformer(t),r=Tf(e),i=Tf(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?W1.has(e)&&!i.values.length||W1.has(t)&&!r.values.length?kOe(e,t):Rh(X$(LOe(r,i),i.values),n):Tm(e,t)};function Q$(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Dt(e,t,n):fI(e)(e,t)}const FOe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>mt.update(t,n),stop:()=>Ri(t),now:()=>An.isProcessing?An.timestamp:lr.now()}},Z$=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},wm=2e4;function hI(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<wm;)t+=n,r=e.next(t);return t>=wm?1/0:t}function e9(e,t=100,n){const r=n(I(S({},e),{keyframes:[0,t]})),i=Math.min(hI(r),wm);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Qr(i)}}const UOe=5;function t9(e,t,n){const r=Math.max(t-UOe,0);return sI(n-e(r),t-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},IS=.001;function BOe({duration:e=Vt.duration,bounce:t=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let i,s,o=1-t;o=ps(Vt.minDamping,Vt.maxDamping,o),e=ps(Vt.minDuration,Vt.maxDuration,Qr(e)),o<1?(i=l=>{const u=l*o,d=u*e,f=u-n,h=q1(l,o),p=Math.exp(-d);return IS-f/h*p},s=l=>{const d=l*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(l,2)*e,p=Math.exp(-d),g=q1(Math.pow(l,2),o);return(-i(l)+IS>0?-1:1)*((f-h)*p)/g}):(i=l=>{const u=Math.exp(-l*e),d=(l-n)*e+1;return-IS+u*d},s=l=>{const u=Math.exp(-l*e),d=(n-l)*(e*e);return u*d});const a=5/e,c=WOe(i,s,a);if(e=Ti(e),isNaN(c))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:e};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const GOe=12;function WOe(e,t,n){let r=n;for(let i=1;i<GOe;i++)r=r-e(r)/t(r);return r}function q1(e,t){return e*Math.sqrt(1-t*t)}const qOe=["duration","bounce"],VOe=["stiffness","damping","mass"];function X2(e,t){return t.some(n=>e[n]!==void 0)}function $Oe(e){let t=S({velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1},e);if(!X2(e,VOe)&&X2(e,qOe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ps(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=I(S({},t),{mass:Vt.mass,stiffness:i,damping:s})}else{const n=BOe(e);t=I(S(S({},t),n),{mass:Vt.mass}),t.isResolvedFromDuration=!0}return t}function wf(e=Vt.visualDuration,t=Vt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=$Oe(I(S({},n),{velocity:-Qr(n.velocity||0)})),p=f||0,g=l/(2*Math.sqrt(c*u)),m=o-s,v=Qr(Math.sqrt(c/u)),y=Math.abs(m)<5;r||(r=y?Vt.restSpeed.granular:Vt.restSpeed.default),i||(i=y?Vt.restDelta.granular:Vt.restDelta.default);let T;if(g<1){const C=q1(v,g);T=O=>{const w=Math.exp(-g*v*O);return o-w*((p+g*v*m)/C*Math.sin(C*O)+m*Math.cos(C*O))}}else if(g===1)T=C=>o-Math.exp(-v*C)*(m+(p+v*m)*C);else{const C=v*Math.sqrt(g*g-1);T=O=>{const w=Math.exp(-g*v*O),A=Math.min(C*O,300);return o-w*((p+g*v*m)*Math.sinh(A)+C*m*Math.cosh(A))/C}}const b={calculatedDuration:h&&d||null,next:C=>{const O=T(C);if(h)a.done=C>=d;else{let w=C===0?p:0;g<1&&(w=C===0?Ti(p):t9(T,C,O));const A=Math.abs(w)<=r,x=Math.abs(o-O)<=i;a.done=A&&x}return a.value=a.done?o:O,a},toString:()=>{const C=Math.min(hI(b),wm),O=Z$(w=>b.next(C*w).value,C,30);return C+"ms "+O},toTransition:()=>{}};return b}wf.applyToOptions=e=>{const t=e9(e,100,wf);return e.ease=t.ease,e.duration=Ti(t.duration),e.type="keyframes",e};function V1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=A=>a!==void 0&&A<a||c!==void 0&&A>c,p=A=>a===void 0?c:c===void 0||Math.abs(a-A)<Math.abs(c-A)?a:c;let g=n*t;const m=d+g,v=o===void 0?m:o(m);v!==m&&(g=v-d);const y=A=>-g*Math.exp(-A/r),T=A=>v+y(A),b=A=>{const x=y(A),R=T(A);f.done=Math.abs(x)<=l,f.value=f.done?v:R};let C,O;const w=A=>{h(f.value)&&(C=A,O=wf({keyframes:[f.value,p(f.value)],velocity:t9(T,A,f.value),damping:i,stiffness:s,restDelta:l,restSpeed:u}))};return w(0),{calculatedDuration:null,next:A=>{let x=!1;return!O&&C===void 0&&(x=!0,b(A),w(A)),C!==void 0&&A>=C?O.next(A-C):(!x&&b(A),f)}}}function HOe(e,t,n){const r=[],i=n||Qs.mix||Q$,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||dr:t;a=Rh(c,a)}r.push(a)}return r}function pI(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Sf(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=HOe(t,r,i),c=a.length,l=u=>{if(o&&u<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Sc(e[d],e[d+1],u);return a[d](f)};return n?u=>l(ps(e[0],e[s-1],u)):l}function n9(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Sc(0,t,r);e.push(Dt(n,1,i))}}function gI(e){const t=[0];return n9(t,e.length-1),t}function zOe(e,t){return e.map(n=>n*t)}function YOe(e,t){return e.map(()=>t||B$).splice(0,e.length-1)}function Vd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=G$(r)?r.map(B1):B1(r),s={done:!1,value:t[0]},o=zOe(n&&n.length===t.length?n:gI(t),e),a=pI(o,t,{ease:Array.isArray(i)?i:YOe(t,i)});return{calculatedDuration:e,next:c=>(s.value=a(c),s.done=c>=e,s)}}const KOe=e=>e!==null;function mI(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(KOe),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const JOe={decay:V1,inertia:V1,tween:Vd,keyframes:Vd,spring:wf};function r9(e){typeof e.type=="string"&&(e.type=JOe[e.type])}class _I{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const XOe=e=>e/100;class mv extends _I{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==lr.now()&&this.tick(lr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;r9(t);const{type:n=Vd,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const c=n||Vd;c!==Vd&&typeof a[0]!="number"&&(this.mixKeyframes=Rh(XOe,Q$(a[0],a[1])),a=[0,100]);const l=c(I(S({},t),{keyframes:a}));s==="mirror"&&(this.mirroredGenerator=c(I(S({},t),{keyframes:[...a].reverse(),velocity:-o}))),l.calculatedDuration===null&&(l.calculatedDuration=hI(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=l}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:h,type:p,onUpdate:g,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,b=r;if(d){const A=Math.min(this.currentTime,i)/a;let x=Math.floor(A),R=A%1;!R&&A>=1&&(R=1),R===1&&x--,x=Math.min(x,d+1),!!(x%2)&&(f==="reverse"?(R=1-R,h&&(R-=h/a)):f==="mirror"&&(b=o)),T=ps(0,1,R)*a}const C=y?{done:!1,value:u[0]}:b.next(T);s&&(C.value=s(C.value));let{done:O}=C;!y&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return w&&p!==V1&&(C.value=mI(u,this.options,m,this.speed)),g&&g(C.value),w&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return Qr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qr(t)}get time(){return Qr(this.currentTime)}set time(t){var n;t=Ti(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(lr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=FOe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(lr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function QOe(e){var t;for(let n=1;n<e.length;n++)(t=e[n])!=null||(e[n]=e[n-1])}const $a=e=>e*180/Math.PI,$1=e=>{const t=$a(Math.atan2(e[1],e[0]));return H1(t)},ZOe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:$1,rotateZ:$1,skewX:e=>$a(Math.atan(e[1])),skewY:e=>$a(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},H1=e=>(e=e%360,e<0&&(e+=360),e),Q2=$1,Z2=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ej=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),eTe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Z2,scaleY:ej,scale:e=>(Z2(e)+ej(e))/2,rotateX:e=>H1($a(Math.atan2(e[6],e[5]))),rotateY:e=>H1($a(Math.atan2(-e[2],e[0]))),rotateZ:Q2,rotate:Q2,skewX:e=>$a(Math.atan(e[4])),skewY:e=>$a(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function z1(e){return e.includes("scale")?1:0}function Y1(e,t){if(!e||e==="none")return z1(t);const n=e.match(new RegExp("^matrix3d\\(([-\\d.e\\s,]+)\\)$","u"));let r,i;if(n)r=eTe,i=n;else{const a=e.match(new RegExp("^matrix\\(([-\\d.e\\s,]+)\\)$","u"));r=ZOe,i=a}if(!i)return z1(t);const s=r[t],o=i[1].split(",").map(nTe);return typeof s=="function"?s(o):o[s]}const tTe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Y1(n,t)};function nTe(e){return parseFloat(e.trim())}const Lu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ju=new Set(Lu),tj=e=>e===Du||e===Ye,rTe=new Set(["x","y","z"]),iTe=Lu.filter(e=>!rTe.has(e));function sTe(e){const t=[];return iTe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const sc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Y1(t,"x"),y:(e,{transform:t})=>Y1(t,"y")};sc.translateX=sc.x;sc.translateY=sc.y;const oc=new Set;let K1=!1,J1=!1,X1=!1;function i9(){if(J1){const e=Array.from(oc).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=sTe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}J1=!1,K1=!1,oc.forEach(e=>e.complete(X1)),oc.clear()}function s9(){oc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(J1=!0)})}function oTe(){X1=!0,s9(),i9(),X1=!1}class vI{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(oc.add(this),K1||(K1=!0,mt.read(s9),mt.resolveKeyframes(i9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}QOe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oc.delete(this)}cancel(){this.state==="scheduled"&&(oc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aTe=e=>e.startsWith("--");function cTe(e,t,n){aTe(t)?e.style.setProperty(t,n):e.style[t]=n}const o9=rI(()=>window.ScrollTimeline!==void 0),lTe={};function uTe(e,t){const n=rI(e);return()=>{var r;return(r=lTe[t])!=null?r:n()}}const a9=uTe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),wd=([e,t,n,r])=>"cubic-bezier(".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,")"),nj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wd([0,.65,.55,1]),circOut:wd([.55,0,1,.45]),backIn:wd([.31,.01,.66,-.59]),backOut:wd([.33,1.53,.69,.99])};function c9(e,t){if(e)return typeof e=="function"?a9()?Z$(e,t):"ease-out":q$(e)?wd(e):Array.isArray(e)?e.map(n=>c9(n,t)||nj.easeOut):nj[e]}function dTe(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},l=void 0){const u={[t]:n};c&&(u.offset=c);const d=c9(a,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),e.animate(u,f)}function yI(e){return typeof e=="function"&&"applyToOptions"in e}function fTe(n){var r=n,{type:e}=r,t=W(r,["type"]);var i,s;return yI(e)&&a9()?e.applyToOptions(t):((i=t.duration)!=null||(t.duration=300),(s=t.ease)!=null||(t.ease="easeOut"),t)}class hTe extends _I{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,Sf(typeof t.type!="string");const l=fTe(t);this.animation=dTe(n,r,i,l,s),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=mI(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):cTe(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qr(t)}get time(){return Qr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ti(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&o9()?(this.animation.timeline=t,dr):n(this)}}const l9={anticipate:j$,backInOut:L$,circInOut:U$};function pTe(e){return e in l9}function gTe(e){typeof e.ease=="string"&&pTe(e.ease)&&(e.ease=l9[e.ease])}const rj=10;class mTe extends hTe{constructor(t){gTe(t),r9(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){var u;const l=this.options,{motionValue:n,onUpdate:r,onComplete:i,element:s}=l,o=W(l,["motionValue","onUpdate","onComplete","element"]);if(!n)return;if(t!==void 0){n.set(t);return}const a=new mv(I(S({},o),{autoplay:!1})),c=Ti((u=this.finishedTime)!=null?u:this.time);n.setWithVelocity(a.sample(c-rj).value,a.sample(c).value,rj),a.stop()}}const ij=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ea.test(e)||e==="0")&&!e.startsWith("url("));function _Te(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function vTe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=ij(i,t),a=ij(s,t);return!o||!a?!1:_Te(e)||(n==="spring"||yI(n))&&r}function Q1(e){e.duration=0,e.type="keyframes"}const yTe=new Set(["opacity","clipPath","filter","transform"]),CTe=rI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bTe(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return CTe()&&n&&yTe.has(n)&&(n!=="transform"||!l)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const ETe=40;class STe extends _I{constructor(f){var h=f,{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:l,element:u}=h,d=W(h,["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"]);var m;super(),this.stop=()=>{var v,y;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=lr.now();const p=S({autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:l,element:u},d),g=(u==null?void 0:u.KeyframeResolver)||vI;this.keyframeResolver=new g(a,(v,y,T)=>this.onKeyframesResolved(v,y,p,!T),c,l,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:l,onUpdate:u}=r;this.resolvedAt=lr.now(),vTe(t,s,o,a)||((Qs.instantAnimations||!c)&&(u==null||u(mI(t,r,n))),t[0]=t[t.length-1],Q1(r),r.repeat=0);const d=i?this.resolvedAt?this.resolvedAt-this.createdAt>ETe?this.resolvedAt:this.createdAt:this.createdAt:void 0,f=I(S({startTime:d,finalKeyframe:n},r),{keyframes:t}),h=!l&&bTe(f)?new mTe(I(S({},f),{element:f.motionValue.owner.current})):new mv(f);h.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),oTe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class OTe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return sj(this.animations,"duration")}get iterationDuration(){return sj(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function sj(e,t){let n=0;for(let r=0;r<e.length;r++){const i=e[r][t];i!==null&&i>n&&(n=i)}return n}class TTe extends OTe{then(t,n){return this.finished.finally(t).then(()=>{})}}const wTe=new RegExp("^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)","u");function ATe(e){const t=wTe.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(n!=null?n:r),i]}function u9(e,t,n=1){const[r,i]=ATe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return I$(o)?parseFloat(o):o}return lI(i)?u9(i,t,n+1):i}function CI(e,t){var n,r;return(r=(n=e==null?void 0:e[t])!=null?n:e==null?void 0:e.default)!=null?r:e}const d9=new Set(["width","height","top","left","right","bottom",...Lu]),xTe={test:e=>e==="auto",parse:e=>e},f9=e=>t=>t.test(e),h9=[Du,Ye,cs,vo,EOe,bOe,xTe],oj=e=>h9.find(f9(e));function ITe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||R$(e):!0}const NTe=new Set(["brightness","contrast","saturate","opacity"]);function RTe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(uI)||[];if(!r)return e;const i=n.replace(r,"");let s=NTe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const PTe=new RegExp("\\b([a-z-]*)\\(.*?\\)","gu"),Z1=I(S({},ea),{getAnimatableNone:e=>{const t=e.match(PTe);return t?t.map(RTe).join(" "):e}}),aj=I(S({},Du),{transform:Math.round}),kTe={rotate:vo,rotateX:vo,rotateY:vo,rotateZ:vo,scale:xp,scaleX:xp,scaleY:xp,scaleZ:xp,skew:vo,skewX:vo,skewY:vo,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:Of,originX:z2,originY:z2,originZ:Ye},bI=I(S({borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye},kTe),{zIndex:aj,fillOpacity:Of,strokeOpacity:Of,numOctaves:aj}),MTe=I(S({},bI),{color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Z1,WebkitFilter:Z1}),p9=e=>MTe[e];function g9(e,t){let n=p9(e);return n!==Z1&&(n=ea),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const DTe=new Set(["auto","none","0"]);function LTe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!DTe.has(s)&&Tf(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=g9(n,i)}class jTe extends vI{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),lI(l))){const u=u9(l,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!d9.has(r)||t.length!==2)return;const[i,s]=t,o=oj(i),a=oj(s);if(o!==a)if(tj(o)&&tj(a))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else sc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||ITe(t[i]))&&r.push(i);r.length&&LTe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=sc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function EI(e,t,n){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(r=n==null?void 0:n[e])!=null?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const m9=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function SI(e){return N$(e)&&"offsetHeight"in e}const cj=30,FTe=e=>!isNaN(parseFloat(e)),$d={current:void 0};class UTe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=lr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=lr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=FTe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new iI);const r=this.events[t].add(n);return t==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return $d.current&&$d.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cj);return sI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yi(e,t){return new UTe(e,t)}const{schedule:OI}=V$(queueMicrotask,!1),gi={x:!1,y:!1};function _9(){return gi.x||gi.y}function BTe(e){return e==="x"||e==="y"?gi[e]?null:(gi[e]=!0,()=>{gi[e]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function v9(e,t){const n=EI(e),r=new AbortController,i=I(S({passive:!0},t),{signal:r.signal});return[n,i,()=>r.abort()]}function lj(e){return!(e.pointerType==="touch"||_9())}function GTe(e,t,n={}){const[r,i,s]=v9(e,n),o=a=>{if(!lj(a))return;const{target:c}=a,l=t(c,a);if(typeof l!="function"||!c)return;const u=d=>{lj(d)&&(l(d),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const y9=(e,t)=>t?e===t?!0:y9(e,t.parentElement):!1,TI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,WTe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qTe(e){return WTe.has(e.tagName)||e.tabIndex!==-1}const hg=new WeakSet;function uj(e){return t=>{t.key==="Enter"&&e(t)}}function NS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VTe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=uj(()=>{if(hg.has(n))return;NS(n,"down");const i=uj(()=>{NS(n,"up")}),s=()=>NS(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function dj(e){return TI(e)&&!_9()}function $Te(e,t,n={}){const[r,i,s]=v9(e,n),o=a=>{const c=a.currentTarget;if(!dj(a))return;hg.add(c);const l=t(c,a),u=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),hg.has(c)&&hg.delete(c),dj(h)&&typeof l=="function"&&l(h,{success:p})},d=h=>{u(h,c===window||c===document||n.useGlobalTarget||y9(c,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),SI(a)&&(a.addEventListener("focus",l=>VTe(l,i)),!qTe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function _v(e){return N$(e)&&"ownerSVGElement"in e}const pg=new WeakMap;let yo;const C9=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+"Size"]:_v(r)&&"getBBox"in r?r.getBBox()[t]:r[n],HTe=C9("inline","width","offsetWidth"),zTe=C9("block","height","offsetHeight");function YTe({target:e,borderBoxSize:t}){var n;(n=pg.get(e))==null||n.forEach(r=>{r(e,{get width(){return HTe(e,t)},get height(){return zTe(e,t)}})})}function KTe(e){e.forEach(YTe)}function JTe(){typeof ResizeObserver>"u"||(yo=new ResizeObserver(KTe))}function XTe(e,t){yo||JTe();const n=EI(e);return n.forEach(r=>{let i=pg.get(r);i||(i=new Set,pg.set(r,i)),i.add(t),yo==null||yo.observe(r)}),()=>{n.forEach(r=>{const i=pg.get(r);i==null||i.delete(t),i!=null&&i.size||yo==null||yo.unobserve(r)})}}const gg=new Set;let Sl;function QTe(){Sl=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};gg.forEach(t=>t(e))},window.addEventListener("resize",Sl)}function ZTe(e){return gg.add(e),Sl||QTe(),()=>{gg.delete(e),!gg.size&&typeof Sl=="function"&&(window.removeEventListener("resize",Sl),Sl=void 0)}}function e1e(e,t){return typeof e=="function"?ZTe(e):XTe(e,t)}function b9(e,t){let n;const r=()=>{const{currentTime:i}=t,o=(i===null?0:i.value)/100;n!==o&&e(o),n=o};return mt.preUpdate(r,!0),()=>Ri(r)}function E9(e){return _v(e)&&e.tagName==="svg"}function t1e(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function U8e(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(i,s)=>{const o=typeof n=="number"?n:t1e(n,s),a=Math.abs(o-i);let c=e*a;if(r){const l=s*e;c=B1(r)(c/l)*l}return t+c}}function n1e(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],s=e[2+n],o=e[3+n],a=pI(i,s,o);return t?a(r):a}const ln=e=>!!(e&&e.getVelocity);function r1e(e,t,n){const r=e.get();let i=null,s=r,o;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,c=()=>{i&&(i.stop(),i=null)},l=()=>{c(),i=new mv(I(S({keyframes:[hj(e.get()),hj(s)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01},n),{onUpdate:o}))};if(e.attach((u,d)=>{s=u,o=f=>d(fj(f,a)),mt.postRender(l)},c),ln(t)){const u=t.on("change",f=>e.set(fj(f,a))),d=e.on("destroy",u);return()=>{u(),d()}}return c}function fj(e,t){return t?e+t:e}function hj(e){return typeof e=="number"?e:parseFloat(e)}const i1e=[...h9,an,ea],s1e=e=>i1e.find(f9(e)),Mh=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function pj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function o1e(...e){return t=>{let n=!1;const r=e.map(i=>{const s=pj(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():pj(e[i],null)}}}}function a1e(...e){return E.useCallback(o1e(...e),e)}class c1e extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=SI(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function l1e({children:e,isPresent:t,anchorX:n,root:r}){const i=E.useId(),s=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(Mh),c=a1e(s,e==null?void 0:e.ref);return E.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f,right:h}=o.current;if(t||!s.current||!l||!u)return;const p=n==="left"?"left: ".concat(f):"right: ".concat(h);s.current.dataset.motionPopId=i;const g=document.createElement("style");a&&(g.nonce=a);const m=r!=null?r:document.head;return m.appendChild(g),g.sheet&&g.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(l,"px !important;\n            height: ").concat(u,"px !important;\n            ").concat(p,"px !important;\n            top: ").concat(d,"px !important;\n          }\n        ")),()=>{m.contains(g)&&m.removeChild(g)}},[t]),_.jsx(c1e,{isPresent:t,childRef:s,sizeRef:o,children:E.cloneElement(e,{ref:c})})}const u1e=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const l=Dc(d1e),u=E.useId();let d=!0,f=E.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return s&&d&&(f=S({},f)),E.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),E.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=_.jsx(l1e,{isPresent:n,anchorX:a,root:c,children:e})),_.jsx(Nh.Provider,{value:f,children:e})};function d1e(){return new Map}function S9(e=!0){const t=E.useContext(Nh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=E.useId();E.useEffect(()=>{if(e)return i(s)},[e]);const o=E.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}function B8e(){return f1e(E.useContext(Nh))}function f1e(e){return e===null?!0:e.isPresent}const Ip=e=>e.key||"";function gj(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const G8e=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[l,u]=S9(o),d=E.useMemo(()=>gj(e),[e]),f=o&&!l?[]:d.map(Ip),h=E.useRef(!0),p=E.useRef(d),g=Dc(()=>new Map),[m,v]=E.useState(d),[y,T]=E.useState(d);Mu(()=>{h.current=!1,p.current=d;for(let O=0;O<y.length;O++){const w=Ip(y[O]);f.includes(w)?g.delete(w):g.get(w)!==!0&&g.set(w,!1)}},[y,f.length,f.join("-")]);const b=[];if(d!==m){let O=[...d];for(let w=0;w<y.length;w++){const A=y[w],x=Ip(A);f.includes(x)||(O.splice(w,0,A),b.push(A))}return s==="wait"&&b.length&&(O=b),T(gj(O)),v(d),null}const{forceRender:C}=E.useContext(Ef);return _.jsx(_.Fragment,{children:y.map(O=>{const w=Ip(O),A=o&&!l?!1:d===y||f.includes(w),x=()=>{if(g.has(w))g.set(w,!0);else return;let R=!0;g.forEach(P=>{P||(R=!1)}),R&&(C==null||C(),T(p.current),o&&(u==null||u()),r&&r())};return _.jsx(u1e,{isPresent:A,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:A?void 0:x,anchorX:a,children:O},w)})})},h1e=E.createContext(null);function p1e(){const e=E.useRef(!1);return Mu(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function g1e(){const e=p1e(),[t,n]=E.useState(0),r=E.useCallback(()=>{e.current&&n(t+1)},[t]);return[E.useCallback(()=>mt.postRender(r),[r]),t]}const m1e=e=>!e.isLayoutDirty&&e.willUpdate(!1);function mj(){const e=new Set,t=new WeakMap,n=()=>e.forEach(m1e);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const i=t.get(r);i&&(i(),t.delete(r)),n()},dirty:n}}const O9=e=>e===!0,_1e=e=>O9(e===!0)||e==="id",W8e=({children:e,id:t,inherit:n=!0})=>{const r=E.useContext(Ef),i=E.useContext(h1e),[s,o]=g1e(),a=E.useRef(null),c=r.id||i;a.current===null&&(_1e(n)&&c&&(t=t?c+"-"+t:c),a.current={id:t,group:O9(n)&&r.group||mj()});const l=E.useMemo(()=>I(S({},a.current),{forceRender:s}),[o]);return _.jsx(Ef.Provider,{value:l,children:e})},T9=E.createContext({strict:!1}),_j={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},du={};for(const e in _j)du[e]={isEnabled:t=>_j[e].some(n=>!!t[n])};function v1e(e){for(const t in e)du[t]=S(S({},du[t]),e[t])}const y1e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Am(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||y1e.has(e)}let w9=e=>!Am(e);function C1e(e){typeof e=="function"&&(w9=t=>t.startsWith("on")?!Am(t):e(t))}try{C1e(require("@emotion/is-prop-valid").default)}catch(e){}function b1e(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(w9(i)||n===!0&&Am(i)||!t&&!Am(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const vv=E.createContext({});function yv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Af(e){return typeof e=="string"||Array.isArray(e)}const wI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AI=["initial",...wI];function Cv(e){return yv(e.animate)||AI.some(t=>Af(e[t]))}function A9(e){return!!(Cv(e)||e.variants)}function E1e(e,t){if(Cv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Af(n)?n:void 0,animate:Af(r)?r:void 0}}return e.inherit!==!1?t:{}}function S1e(e){const{initial:t,animate:n}=E1e(e,E.useContext(vv));return E.useMemo(()=>({initial:t,animate:n}),[vj(t),vj(n)])}function vj(e){return Array.isArray(e)?e.join(" "):e}const xf={};function O1e(e){for(const t in e)xf[t]=e[t],cI(t)&&(xf[t].isCSSVariable=!0)}function x9(e,{layout:t,layoutId:n}){return ju.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xf[e]||e==="opacity")}const T1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w1e=Lu.length;function A1e(e,t,n){let r="",i=!0;for(let s=0;s<w1e;s++){const o=Lu[s],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const l=m9(a,bI[o]);if(!c){i=!1;const u=T1e[o]||o;r+="".concat(u,"(").concat(l,") ")}n&&(t[o]=l)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function xI(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const c in t){const l=t[c];if(ju.has(c)){o=!0;continue}else if(cI(c)){i[c]=l;continue}else{const u=m9(l,bI[c]);c.startsWith("origin")?(a=!0,s[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=A1e(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=s;r.transformOrigin="".concat(c," ").concat(l," ").concat(u)}}const II=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function I9(e,t,n){for(const r in t)!ln(t[r])&&!x9(r,n)&&(e[r]=t[r])}function x1e({transformTemplate:e},t){return E.useMemo(()=>{const n=II();return xI(n,t,e),Object.assign({},n.vars,n.style)},[t])}function I1e(e,t){const n=e.style||{},r={};return I9(r,n,e),Object.assign(r,x1e(e,t)),r}function N1e(e,t){const n={},r=I1e(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const R1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},P1e={offset:"strokeDashoffset",array:"strokeDasharray"};function k1e(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?R1e:P1e;e[s.offset]=Ye.transform(-r);const o=Ye.transform(t),a=Ye.transform(n);e[s.array]="".concat(o," ").concat(a)}function N9(e,d,c,l,u){var f=d,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0}=f,a=W(f,["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"]);var g,m;if(xI(e,a,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=(g=h.transformOrigin)!=null?g:"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(m=u==null?void 0:u.transformBox)!=null?m:"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&k1e(h,i,s,o,!1)}const R9=()=>I(S({},II()),{attrs:{}}),P9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function M1e(e,t,n,r){const i=E.useMemo(()=>{const s=R9();return N9(s,t,P9(r),e.transformTemplate,e.style),I(S({},s.attrs),{style:S({},s.style)})},[t]);if(e.style){const s={};I9(s,e.style,e),i.style=S(S({},s),i.style)}return i}const D1e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NI(e){return typeof e!="string"||e.includes("-")?!1:!!(D1e.indexOf(e)>-1||new RegExp("[A-Z]","u").test(e))}function L1e(e,t,n,{latestValues:r},i,s=!1){const a=(NI(e)?M1e:N1e)(t,r,i,e),c=b1e(t,typeof e=="string",s),l=e!==E.Fragment?I(S(S({},c),a),{ref:n}):{},{children:u}=t,d=E.useMemo(()=>ln(u)?u.get():u,[u]);return E.createElement(e,I(S({},l),{children:d}))}function yj(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function RI(e,t,n,r){if(typeof t=="function"){const[i,s]=yj(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=yj(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function mg(e){return ln(e)?e.get():e}function j1e({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:F1e(n,r,i,e),renderState:t()}}function F1e(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=mg(s[h]);let{initial:o,animate:a}=e;const c=Cv(e),l=A9(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!yv(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const g=RI(e,h[p]);if(g){const f=g,{transitionEnd:m,transition:v}=f,y=W(f,["transitionEnd","transition"]);for(const T in y){let b=y[T];if(Array.isArray(b)){const C=u?b.length-1:0;b=b[C]}b!==null&&(i[T]=b)}for(const T in m)i[T]=m[T]}}}return i}const k9=e=>(t,n)=>{const r=E.useContext(vv),i=E.useContext(Nh),s=()=>j1e(e,t,r,i);return n?s():Dc(s)};function PI(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(ln(r[o])||t.style&&ln(t.style[o])||x9(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const U1e=k9({scrapeMotionValuesFromProps:PI,createRenderState:II});function M9(e,t,n){const r=PI(e,t,n);for(const i in e)if(ln(e[i])||ln(t[i])){const s=Lu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const B1e=k9({scrapeMotionValuesFromProps:M9,createRenderState:R9}),G1e=Symbol.for("motionComponentSymbol");function Ol(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function W1e(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ol(n)&&(n.current=r))},[t])}const kI=e=>e.replace(new RegExp("([a-z])([A-Z])","gu"),"$1-$2").toLowerCase(),q1e="framerAppearId",D9="data-"+kI(q1e),L9=E.createContext({});function V1e(e,t,n,r,i){var g,m;const{visualElement:s}=E.useContext(vv),o=E.useContext(T9),a=E.useContext(Nh),c=E.useContext(Mh).reducedMotion,l=E.useRef(null);r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const u=l.current,d=E.useContext(L9);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&$1e(l.current,n,i,d);const f=E.useRef(!1);E.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const h=n[D9],p=E.useRef(!!h&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,h))&&((m=window.MotionHasOptimisedAnimation)==null?void 0:m.call(window,h)));return Mu(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,h)}),p.current=!1),u.enteringChildren=void 0)}),u}function $1e(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:j9(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ol(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function j9(e){if(e)return e.options.allowProjection!==!1?e.projection:j9(e.parent)}function RS(e,{forwardMotionProps:t=!1}={},n,r){var a,c;n&&v1e(n);const i=NI(e)?B1e:U1e;function s(l,u){let d;const f=I(S(S({},E.useContext(Mh)),l),{layoutId:H1e(l)}),{isStatic:h}=f,p=S1e(l),g=i(l,h);if(!h&&tI){z1e();const m=Y1e(f);d=m.MeasureLayout,p.visualElement=V1e(e,g,f,r,m.ProjectionNode)}return _.jsxs(vv.Provider,{value:p,children:[d&&p.visualElement?_.jsx(d,S({visualElement:p.visualElement},f)):null,L1e(e,l,W1e(g,p.visualElement,u),g,h,t)]})}s.displayName="motion.".concat(typeof e=="string"?e:"create(".concat((c=(a=e.displayName)!=null?a:e.name)!=null?c:"",")"));const o=E.forwardRef(s);return o[G1e]=e,o}function H1e({layoutId:e}){const t=E.useContext(Ef).id;return t&&e!==void 0?t+"-"+e:e}function z1e(e,t){E.useContext(T9).strict}function Y1e(e){const{drag:t,layout:n}=du;if(!t&&!n)return{};const r=S(S({},t),n);return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function K1e(e,t){if(typeof Proxy>"u")return RS;const n=new Map,r=(s,o)=>RS(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,RS(o,void 0,e,t)),n.get(o))})}function F9({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function J1e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function X1e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function PS(e){return e===void 0||e===1}function ew({scale:e,scaleX:t,scaleY:n}){return!PS(e)||!PS(t)||!PS(n)}function ka(e){return ew(e)||U9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function U9(e){return Cj(e.x)||Cj(e.y)}function Cj(e){return e&&e!=="0%"}function xm(e,t,n){const r=e-n,i=t*r;return n+i}function bj(e,t,n,r,i){return i!==void 0&&(e=xm(e,i,r)),xm(e,n,r)+t}function tw(e,t=0,n=1,r,i){e.min=bj(e.min,t,n,r,i),e.max=bj(e.max,t,n,r,i)}function B9(e,{x:t,y:n}){tw(e.x,t.translate,t.scale,t.originPoint),tw(e.y,n.translate,n.scale,n.originPoint)}const Ej=.999999999999,Sj=1.0000000000001;function Q1e(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&wl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,B9(e,o)),r&&ka(s.latestValues)&&wl(e,s.latestValues))}t.x<Sj&&t.x>Ej&&(t.x=1),t.y<Sj&&t.y>Ej&&(t.y=1)}function Tl(e,t){e.min=e.min+t,e.max=e.max+t}function Oj(e,t,n,r,i=.5){const s=Dt(e.min,e.max,i);tw(e,t,n,s,r)}function wl(e,t){Oj(e.x,t.x,t.scaleX,t.scale,t.originX),Oj(e.y,t.y,t.scaleY,t.scale,t.originY)}function G9(e,t){return F9(X1e(e.getBoundingClientRect(),t))}function Z1e(e,t,n){const r=G9(e,n),{scroll:i}=t;return i&&(Tl(r.x,i.offset.x),Tl(r.y,i.offset.y)),r}const Tj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:Tj(),y:Tj()}),wj=()=>({min:0,max:0}),qt=()=>({x:wj(),y:wj()}),Im={current:null},MI={current:!1};function W9(){if(MI.current=!0,!!tI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Im.current=e.matches;e.addEventListener("change",t),t()}else Im.current=!1}const If=new WeakMap;function ewe(e,t,n){for(const r in t){const i=t[r],s=n[r];if(ln(i))e.addValue(r,i);else if(ln(s))e.addValue(r,yi(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,yi(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Aj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=lr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,mt.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget=S({},c),this.initialValues=n.initial?S({},c):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Cv(n),this.isVariantNode=A9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const f=this.scrapeMotionValuesFromProps(n,{},this),{willChange:u}=f,d=W(f,["willChange"]);for(const h in d){const p=d[h];c[h]!==void 0&&ln(p)&&p.set(c[h])}}mount(t){var n;this.current=t,If.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),MI.current||W9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Im.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){var n;this.children.add(t),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ju.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in du){const n=du[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Aj.length;r++){const i=Aj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ewe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=yi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var i;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!=null?i:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(I$(r)||R$(r))?r=parseFloat(r):!s1e(r)&&ea.test(n)&&(r=g9(t,n)),this.setBaseTarget(t,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=RI(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ln(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new iI),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){OI.render(this.render)}}class V9 extends q9{constructor(){super(...arguments),this.KeyframeResolver=jTe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent="".concat(n))}))}}function $9(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function twe(e){return window.getComputedStyle(e)}class H9 extends V9{constructor(){super(...arguments),this.type="html",this.renderInstance=$9}readValueFromInstance(t,n){var r;if(ju.has(n))return(r=this.projection)!=null&&r.isProjecting?z1(n):tTe(t,n);{const i=twe(t),s=(cI(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return G9(t,n)}build(t,n,r){xI(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return PI(t,n,r)}}const z9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nwe(e,t,n,r){$9(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(z9.has(i)?i:kI(i),t.attrs[i])}class Y9 extends V9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ju.has(n)){const r=p9(n);return r&&r.default||0}return n=z9.has(n)?n:kI(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return M9(t,n,r)}build(t,n,r){N9(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){nwe(t,n,r,i)}mount(t){this.isSVGTag=P9(t.tagName),super.mount(t)}}const rwe=(e,t)=>NI(e)?new Y9(t):new H9(t,{allowProjection:e!==E.Fragment});function Ul(e,t,n){const r=e.getProps();return RI(r,t,n!==void 0?n:r.custom,e)}const nw=e=>Array.isArray(e);function iwe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yi(n))}function swe(e){return nw(e)?e[e.length-1]||0:e}function DI(e,t){let o=Ul(e,t)||{},{transitionEnd:r={},transition:i={}}=o,s=W(o,["transitionEnd","transition"]);s=S(S({},s),r);for(const a in s){const c=swe(s[a]);iwe(e,a,c)}}function owe(e){return!!(ln(e)&&e.add)}function rw(e,t){const n=e.getValue("willChange");if(owe(n))return n.add(t);if(!n&&Qs.WillChange){const r=new Qs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function K9(e){return e.props[D9]}const awe=e=>e!==null;function cwe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(awe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const lwe={type:"spring",stiffness:500,damping:25,restSpeed:10},uwe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dwe={type:"keyframes",duration:.8},fwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hwe=(e,{keyframes:t})=>t.length>2?dwe:ju.has(e)?e.startsWith("scale")?uwe(t[1]):lwe:fwe;function pwe(d){var f=d,{when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:l}=f,u=W(f,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(u).length}const LI=(e,t,n,r={},i,s)=>o=>{const a=CI(r,e)||{},c=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ti(c);const u=I(S({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i});pwe(a)||Object.assign(u,hwe(e,u)),u.duration&&(u.duration=Ti(u.duration)),u.repeatDelay&&(u.repeatDelay=Ti(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Q1(u),u.delay===0&&(d=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(d=!0,Q1(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&t.get()!==void 0){const f=cwe(u.keyframes,a);if(f!==void 0){mt.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new mv(u):new STe(u)};function gwe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function jI(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var d;let u=t,{transition:s=e.getDefaultTransition(),transitionEnd:o}=u,a=W(u,["transition","transitionEnd"]);r&&(s=r);const c=[],l=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const h=e.getValue(f,(d=e.latestValues[f])!=null?d:null),p=a[f];if(p===void 0||l&&gwe(l,f))continue;const g=S({delay:n},CI(s||{},f)),m=h.get();if(m!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===m&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const T=K9(e);if(T){const b=window.MotionHandoffAnimation(T,f,mt);b!==null&&(g.startTime=b,v=!0)}}rw(e,f),h.start(LI(f,h,p,e.shouldReduceMotion&&d9.has(f)?{type:!1}:g,e,v));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{mt.update(()=>{o&&DI(e,o)})}),c}function J9(e,t,n,r=0,i=1){const s=Array.from(e).sort((l,u)=>l.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function iw(e,t,n={}){var c;const r=Ul(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(jI(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return mwe(e,t,l,u,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function mwe(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(iw(c,t,I(S({},o),{delay:n+(typeof r=="function"?0:r)+J9(e.variantChildren,c,r,i,s)})).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function X9(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>iw(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=iw(e,t,n);else{const i=typeof t=="function"?Ul(e,t,n.custom):t;r=Promise.all(jI(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Q9(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const _we=AI.length;function Z9(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Z9(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<_we;n++){const r=AI[n],i=e.props[r];(Af(i)||i===!1)&&(t[r]=i)}return t}const vwe=[...wI].reverse(),ywe=wI.length;function Cwe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>X9(e,n,r)))}function bwe(e){let t=Cwe(e),n=xj(),r=!0;const i=c=>(l,u)=>{var f;const d=Ul(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const h=d,{transition:p,transitionEnd:g}=h,m=W(h,["transition","transitionEnd"]);l=S(S(S({},l),m),g)}return l};function s(c){t=c(e)}function o(c){const{props:l}=e,u=Z9(e.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let m=0;m<ywe;m++){const v=vwe[m],y=n[v],T=l[v]!==void 0?l[v]:u[v],b=Af(T),C=v===c?y.isActive:null;C===!1&&(p=m);let O=T===u[v]&&T!==l[v]&&b;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),y.protectedKeys=S({},h),!y.isActive&&C===null||!T&&!y.prevProp||yv(T)||typeof T=="boolean")continue;const w=Ewe(y.prevProp,T);let A=w||v===c&&y.isActive&&!O&&b||m>p&&b,x=!1;const R=Array.isArray(T)?T:[T];let P=R.reduce(i(v),{});C===!1&&(P={});const{prevResolvedValues:L={}}=y,D=S(S({},L),P),F=V=>{A=!0,f.has(V)&&(x=!0,f.delete(V)),y.needsAnimating[V]=!0;const M=e.getValue(V);M&&(M.liveStyle=!1)};for(const V in D){const M=P[V],te=L[V];if(h.hasOwnProperty(V))continue;let $=!1;nw(M)&&nw(te)?$=!Q9(M,te):$=M!==te,$?M!=null?F(V):f.add(V):M!==void 0&&f.has(V)?F(V):y.protectedKeys[V]=!0}y.prevProp=T,y.prevResolvedValues=P,y.isActive&&(h=S(S({},h),P)),r&&e.blockInitialAnimation&&(A=!1);const G=O&&w;A&&(!G||x)&&d.push(...R.map(V=>{const M={type:v};if(typeof V=="string"&&r&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,$=Ul(te,V);if(te.enteringChildren&&$){const{delayChildren:ie}=$.transition||{};M.delay=J9(te.enteringChildren,e,ie)}}return{animation:V,options:M}}))}if(f.size){const m={};if(typeof l.initial!="boolean"){const v=Ul(e,Array.isArray(l.initial)?l.initial[0]:l.initial);v&&v.transition&&(m.transition=v.transition)}f.forEach(v=>{const y=e.getBaseTarget(v),T=e.getValue(v);T&&(T.liveStyle=!0),m[v]=y!=null?y:null}),d.push({animation:m})}let g=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(d):Promise.resolve()}function a(c,l){var d;if(n[c].isActive===l)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(c,l)}),n[c].isActive=l;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=xj()}}}function Ewe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Q9(t,e):!1}function Sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xj(){return{animate:Sa(!0),whileInView:Sa(),whileHover:Sa(),whileTap:Sa(),whileDrag:Sa(),whileFocus:Sa(),exit:Sa()}}class pa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Swe extends pa{constructor(t){super(t),t.animationState||(t.animationState=bwe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();yv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Owe=0;class Twe extends pa{constructor(){super(...arguments),this.id=Owe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wwe={animation:{Feature:Swe},exit:{Feature:Twe}};function Nf(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Dh(e){return{point:{x:e.pageX,y:e.pageY}}}const Awe=e=>t=>TI(t)&&e(t,Dh(t));function Hd(e,t,n,r){return Nf(e,t,Awe(n),r)}const eH=1e-4,xwe=1-eH,Iwe=1+eH,tH=.01,Nwe=0-tH,Rwe=0+tH;function Zn(e){return e.max-e.min}function Pwe(e,t,n){return Math.abs(e-t)<=n}function Ij(e,t,n,r=.5){e.origin=r,e.originPoint=Dt(t.min,t.max,e.origin),e.scale=Zn(n)/Zn(t),e.translate=Dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=xwe&&e.scale<=Iwe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Nwe&&e.translate<=Rwe||isNaN(e.translate))&&(e.translate=0)}function zd(e,t,n,r){Ij(e.x,t.x,n.x,r?r.originX:void 0),Ij(e.y,t.y,n.y,r?r.originY:void 0)}function Nj(e,t,n){e.min=n.min+t.min,e.max=e.min+Zn(t)}function kwe(e,t,n){Nj(e.x,t.x,n.x),Nj(e.y,t.y,n.y)}function Rj(e,t,n){e.min=t.min-n.min,e.max=e.min+Zn(t)}function Yd(e,t,n){Rj(e.x,t.x,n.x),Rj(e.y,t.y,n.y)}function qr(e){return[e("x"),e("y")]}const nH=({current:e})=>e?e.ownerDocument.defaultView:null,Pj=(e,t)=>Math.abs(e-t);function Mwe(e,t){const n=Pj(e.x,t.x),r=Pj(e.y,t.y);return Math.sqrt(n**2+r**2)}class rH{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=MS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Mwe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=An;this.history.push(I(S({},g),{timestamp:m}));const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=kS(h,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=MS(f.type==="pointercancel"?this.lastMoveEventInfo:kS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!TI(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Dh(t),c=kS(a,this.transformPagePoint),{point:l}=c,{timestamp:u}=An;this.history=[I(S({},l),{timestamp:u})];const{onSessionStart:d}=n;d&&d(t,MS(c,this.history)),this.removeListeners=Rh(Hd(this.contextWindow,"pointermove",this.handlePointerMove),Hd(this.contextWindow,"pointerup",this.handlePointerUp),Hd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function kS(e,t){return t?{point:t(e.point)}:e}function kj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function MS({point:e},t){return{point:e,delta:kj(e,iH(t)),offset:kj(e,Dwe(t)),velocity:Lwe(t,.1)}}function Dwe(e){return e[0]}function iH(e){return e[e.length-1]}function Lwe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=iH(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ti(t)));)n--;if(!r)return{x:0,y:0};const s=Qr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jwe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Dt(n,e,r.max):Math.min(e,n)),e}function Mj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Fwe(e,{top:t,left:n,bottom:r,right:i}){return{x:Mj(e.x,n,i),y:Mj(e.y,t,r)}}function Dj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Uwe(e,t){return{x:Dj(e.x,t.x),y:Dj(e.y,t.y)}}function Bwe(e,t){let n=.5;const r=Zn(e),i=Zn(t);return i>r?n=Sc(t.min,t.max-r,e.min):r>i&&(n=Sc(e.min,e.max-i,t.min)),ps(0,1,n)}function Gwe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const sw=.35;function Wwe(e=sw){return e===!1?e=0:e===!0&&(e=sw),{x:Lj(e,"left","right"),y:Lj(e,"top","bottom")}}function Lj(e,t,n){return{min:jj(e,t),max:jj(e,n)}}function jj(e,t){return typeof e=="number"?e:e[t]||0}const qwe=new WeakMap;class Vwe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dh(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BTe(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(v=>{let y=this.getAxisMotionValue(v).get()||0;if(cs.test(y)){const{projection:T}=this.visualElement;if(T&&T.layout){const b=T.layout.layoutBox[v];b&&(y=Zn(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&mt.postRender(()=>g(d,f)),rw(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=$we(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(d,f)},c=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>qr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new rH(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:nH(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&mt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Np(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=jwe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Ol(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Fwe(r.layoutBox,t):this.constraints=!1,this.elastic=Wwe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Gwe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ol(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Z1e(r,i.root,this.visualElement.getTransformPagePoint());let o=Uwe(i.layout.layoutBox,s);if(n){const a=n(J1e(o));this.hasMutatedConstraints=!!a,a&&(o=F9(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=qr(u=>{if(!Np(u,n,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p=S(S({type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},s),d);return this.startAxisValueAnimation(u,p)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return rw(this.visualElement,t),r.start(LI(t,r,0,n,this.visualElement,!1))}stopAnimation(){qr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n="_drag".concat(t.toUpperCase()),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qr(n=>{const{drag:r}=this.getProps();if(!Np(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Dt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ol(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=Bwe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qr(o=>{if(!Np(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(Dt(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;qwe.set(this.visualElement,this);const t=this.visualElement.current,n=Hd(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ol(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),mt.read(r);const o=Nf(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(qr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=sw,dragMomentum:a=!0}=t;return I(S({},t),{drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a})}}function Np(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $we(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Hwe extends pa{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new Vwe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fj=e=>(t,n)=>{e&&mt.postRender(()=>e(t,n))};class zwe extends pa{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new rH(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nH(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Fj(t),onStart:Fj(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&mt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Hd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _g={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const td={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ye.test(e))e=parseFloat(e);else return e;const n=Uj(e,t.target.x),r=Uj(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Ywe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ea.parse(e);if(i.length>5)return r;const s=ea.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=c;const l=Dt(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),s(i)}};let DS=!1;class Kwe extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;O1e(Jwe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),DS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(I(S({},s.options),{onExitComplete:()=>this.safeToRemove()}))),_g.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,DS=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||mt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),OI.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;DS=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sH(e){const[t,n]=S9(),r=E.useContext(Ef);return _.jsx(Kwe,I(S({},e),{layoutGroup:r,switchLayoutGroup:E.useContext(L9),isPresent:t,safeToRemove:n}))}const Jwe={borderRadius:I(S({},td),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:td,borderTopRightRadius:td,borderBottomLeftRadius:td,borderBottomRightRadius:td,boxShadow:Ywe};function oH(e,t,n){const r=ln(e)?e:yi(e);return r.start(LI("",r,t,n)),r.animation}const Xwe=(e,t)=>e.depth-t.depth;class Qwe{constructor(){this.children=[],this.isDirty=!1}add(t){nI(this.children,t),this.isDirty=!0}remove(t){gv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Xwe),this.isDirty=!1,this.children.forEach(t)}}function Zwe(e,t){const n=lr.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Ri(r),e(s-t))};return mt.setup(r,!0),()=>Ri(r)}const aH=["TopLeft","TopRight","BottomLeft","BottomRight"],eAe=aH.length,Bj=e=>typeof e=="string"?parseFloat(e):e,Gj=e=>typeof e=="number"||Ye.test(e);function tAe(e,t,n,r,i,s){var o,a,c,l;i?(e.opacity=Dt(0,(o=n.opacity)!=null?o:1,nAe(r)),e.opacityExit=Dt((a=t.opacity)!=null?a:1,0,rAe(r))):s&&(e.opacity=Dt((c=t.opacity)!=null?c:1,(l=n.opacity)!=null?l:1,r));for(let u=0;u<eAe;u++){const d="border".concat(aH[u],"Radius");let f=Wj(t,d),h=Wj(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||Gj(f)===Gj(h)?(e[d]=Math.max(Dt(Bj(f),Bj(h),r),0),(cs.test(h)||cs.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=Dt(t.rotate||0,n.rotate||0,r))}function Wj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nAe=cH(0,.5,F$),rAe=cH(.5,.95,dr);function cH(e,t,n){return r=>r<e?0:r>t?1:n(Sc(e,t,r))}function qj(e,t){e.min=t.min,e.max=t.max}function Wr(e,t){qj(e.x,t.x),qj(e.y,t.y)}function Vj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $j(e,t,n,r,i){return e-=t,e=xm(e,1/n,r),i!==void 0&&(e=xm(e,1/i,r)),e}function iAe(e,t=0,n=1,r=.5,i,s=e,o=e){if(cs.test(t)&&(t=parseFloat(t),t=Dt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Dt(s.min,s.max,r);e===s&&(a-=t),e.min=$j(e.min,t,n,a,i),e.max=$j(e.max,t,n,a,i)}function Hj(e,t,[n,r,i],s,o){iAe(e,t[n],t[r],t[i],t.scale,s,o)}const sAe=["x","scaleX","originX"],oAe=["y","scaleY","originY"];function zj(e,t,n,r){Hj(e.x,t,sAe,n?n.x:void 0,r?r.x:void 0),Hj(e.y,t,oAe,n?n.y:void 0,r?r.y:void 0)}function Yj(e){return e.translate===0&&e.scale===1}function lH(e){return Yj(e.x)&&Yj(e.y)}function Kj(e,t){return e.min===t.min&&e.max===t.max}function aAe(e,t){return Kj(e.x,t.x)&&Kj(e.y,t.y)}function Jj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uH(e,t){return Jj(e.x,t.x)&&Jj(e.y,t.y)}function Xj(e){return Zn(e.x)/Zn(e.y)}function Qj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cAe{constructor(){this.members=[]}add(t){nI(this.members,t),t.scheduleRender()}remove(t){if(gv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lAe(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(o,"px) ")),(t.x!==1||t.y!==1)&&(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;l&&(r="perspective(".concat(l,"px) ").concat(r)),u&&(r+="rotate(".concat(u,"deg) ")),d&&(r+="rotateX(".concat(d,"deg) ")),f&&(r+="rotateY(".concat(f,"deg) ")),h&&(r+="skewX(".concat(h,"deg) ")),p&&(r+="skewY(".concat(p,"deg) "))}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+="scale(".concat(a,", ").concat(c,")")),r||"none"}const LS=["","X","Y","Z"],uAe=1e3;let dAe=0;function jS(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function dH(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=K9(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&dH(r)}function fH({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=dAe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pAe),this.nodes.forEach(vAe),this.nodes.forEach(yAe),this.nodes.forEach(gAe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qwe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new iI),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=_v(o)&&!E9(o),this.instance=o;const{layoutId:a,layout:c,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{d=window.innerWidth}),e(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,u&&u(),u=Zwe(f,250),_g.hasAnimatedSinceResize&&(_g.hasAnimatedSinceResize=!1,this.nodes.forEach(tF)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||l.getDefaultTransition()||OAe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:m}=l.getProps(),v=!this.targetLayout||!uH(this.targetLayout,h),y=!d&&f;if(this.options.layoutRoot||this.resumeFrom||y||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T=I(S({},CI(p,"layout")),{onPlay:g,onComplete:m});(l.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(u,y)}else d||tF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CAe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eF);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_Ae),this.nodes.forEach(fAe),this.nodes.forEach(hAe)):this.nodes.forEach(eF),this.clearAllSnapshots();const a=lr.now();An.delta=ps(0,1e3/60,a-An.timestamp),An.timestamp=a,An.isProcessing=!0,TS.update.process(An),TS.preRender.process(An),TS.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,OI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mAe),this.sharedNodes.forEach(bAe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zn(this.snapshot.measuredBox.x)&&!Zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lH(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||ka(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),TAe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return qt();const a=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(wAe))){const{scroll:u}=this.root;u&&(Tl(a.x,u.offset.x),Tl(a.y,u.offset.y))}return a}removeElementScroll(o){var c;const a=qt();if(Wr(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Wr(a,o),Tl(a.x,d.offset.x),Tl(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const c=qt();Wr(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&wl(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ka(u.latestValues)&&wl(c,u.latestValues)}return ka(this.latestValues)&&wl(c,this.latestValues),c}removeTransform(o){const a=qt();Wr(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!ka(l.latestValues))continue;ew(l.latestValues)&&l.updateSnapshot();const u=qt(),d=l.measurePageBox();Wr(u,d),zj(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return ka(this.latestValues)&&zj(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options=I(S(S({},this.options),o),{crossfade:o.crossfade!==void 0?o.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Yd(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kwe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wr(this.target,this.layout.layoutBox),B9(this.target,this.targetDelta)):Wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Yd(this.relativeTargetOrigin,this.target,h.target),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ew(this.parent.latestValues)||U9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===An.timestamp&&(c=!1),c)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;Wr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Q1e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qt());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vj(this.prevProjectionDelta.x,this.projectionDelta.x),Vj(this.prevProjectionDelta.y,this.projectionDelta.y)),zd(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Qj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Al(),this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u=S({},this.latestValues),d=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=qt(),h=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=h!==p,m=this.getStack(),v=!m||m.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(SAe));this.animationProgress=0;let T;this.mixTargetDelta=b=>{const C=b/1e3;nF(d.x,o.x,C),nF(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EAe(this.relativeTarget,this.relativeTargetOrigin,f,C),T&&aAe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=qt()),Wr(T,this.relativeTarget)),g&&(this.animationValues=u,tAe(u,l,this.latestValues,C,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(l=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||l.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{_g.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yi(0)),this.currentAnimation=oH(this.motionValue,[0,1e3],I(S({},o),{velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uAe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&hH(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||qt();const d=Zn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=Zn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Wr(a,c),wl(a,u),zd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cAe),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&jS("z",o,l,this.animationValues);for(let u=0;u<LS.length;u++)jS("rotate".concat(LS[u]),o,l,this.animationValues),jS("skew".concat(LS[u]),o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}applyProjectionStyles(o,a){var p,g;if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=mg(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=mg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ka(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=lAe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(d=c(u,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin="".concat(f.origin*100,"% ").concat(h.origin*100,"% 0"),l.animationValues?o.opacity=l===this?(g=(p=u.opacity)!=null?p:this.latestValues.opacity)!=null?g:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in xf){if(u[m]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:T}=xf[m],b=d==="none"?u[m]:v(u[m],l);if(y){const C=y.length;for(let O=0;O<C;O++)o[y[O]]=b}else T?this.options.visualElement.renderState.vars[m]=b:o[m]=b}this.options.layoutId&&(o.pointerEvents=l===this?mg(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Zj),this.root.sharedNodes.clear()}}}function fAe(e){e.updateLayout()}function hAe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?qr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=Zn(f);f.min=r[d].min,f.max=f.min+h}):hH(s,t.layoutBox,r)&&qr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=Zn(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=Al();zd(a,r,t.layoutBox);const c=Al();o?zd(c,e.applyTransform(i,!0),t.measuredBox):zd(c,r,t.layoutBox);const l=!lH(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=qt();Yd(p,t.layoutBox,f.layoutBox);const g=qt();Yd(g,r,h.layoutBox),uH(p,g)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function pAe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gAe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mAe(e){e.clearSnapshot()}function Zj(e){e.clearMeasurements()}function eF(e){e.isLayoutDirty=!1}function _Ae(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vAe(e){e.resolveTargetDelta()}function yAe(e){e.calcProjection()}function CAe(e){e.resetSkewAndRotation()}function bAe(e){e.removeLeadSnapshot()}function nF(e,t,n){e.translate=Dt(t.translate,0,n),e.scale=Dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rF(e,t,n,r){e.min=Dt(t.min,n.min,r),e.max=Dt(t.max,n.max,r)}function EAe(e,t,n,r){rF(e.x,t.x,n.x,r),rF(e.y,t.y,n.y,r)}function SAe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OAe={duration:.45,ease:[.4,0,.1,1]},iF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sF=iF("applewebkit/")&&!iF("chrome/")?Math.round:dr;function oF(e){e.min=sF(e.min),e.max=sF(e.max)}function TAe(e){oF(e.x),oF(e.y)}function hH(e,t,n){return e==="position"||e==="preserve-aspect"&&!Pwe(Xj(t),Xj(n),.2)}function wAe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const AAe=fH({attachResizeListener:(e,t)=>Nf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),FS={current:void 0},pH=fH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!FS.current){const e=new AAe({});e.mount(window),e.setOptions({layoutScroll:!0}),FS.current=e}return FS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xAe={pan:{Feature:zwe},drag:{Feature:Hwe,ProjectionNode:pH,MeasureLayout:sH}};function aF(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&mt.postRender(()=>s(t,Dh(t)))}class IAe extends pa{mount(){const{current:t}=this.node;t&&(this.unmount=GTe(t,(n,r)=>(aF(this.node,r,"Start"),i=>aF(this.node,i,"End"))))}unmount(){}}class NAe extends pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rh(Nf(this.node.current,"focus",()=>this.onFocus()),Nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cF(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&mt.postRender(()=>s(t,Dh(t)))}class RAe extends pa{mount(){const{current:t}=this.node;t&&(this.unmount=$Te(t,(n,r)=>(cF(this.node,r,"Start"),(i,{success:s})=>cF(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ow=new WeakMap,US=new WeakMap,PAe=e=>{const t=ow.get(e.target);t&&t(e)},kAe=e=>{e.forEach(PAe)};function MAe(n){var r=n,{root:e}=r,t=W(r,["root"]);const i=e||document;US.has(i)||US.set(i,{});const s=US.get(i),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(kAe,S({root:e},t))),s[o]}function DAe(e,t,n){const r=MAe(t);return ow.set(e,n),r.observe(e),()=>{ow.delete(e),r.unobserve(e)}}const LAe={some:0,all:1};class jAe extends pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:LAe[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=l?u:d;f&&f(c)};return DAe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(FAe(t,n))&&this.startObserver()}unmount(){}}function FAe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const UAe={inView:{Feature:jAe},tap:{Feature:RAe},focus:{Feature:NAe},hover:{Feature:IAe}},BAe={layout:{ProjectionNode:pH,MeasureLayout:sH}},GAe=S(S(S(S({},wwe),UAe),xAe),BAe),gH=K1e(GAe,rwe);function V8e(e,t,n){E.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const WAe=50,lF=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),qAe=()=>({time:0,x:lF(),y:lF()}),VAe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function uF(e,t,n,r){const i=n[t],{length:s,position:o}=VAe[t],a=i.current,c=n.time;i.current=e["scroll".concat(o)],i.scrollLength=e["scroll".concat(s)]-e["client".concat(s)],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Sc(0,i.scrollLength,i.current);const l=r-c;i.velocity=l>WAe?0:sI(i.current-a,l)}function $Ae(e,t,n){uF(e,"x",t,n),uF(e,"y",t,n),t.time=n}function HAe(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(SI(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const aw={start:0,center:.5,end:1};function dF(e,t,n=0){let r=0;if(e in aw&&(e=aw[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?r=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?r=i/100*document.documentElement.clientWidth:e.endsWith("vh")?r=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(r=t*e),n+r}const zAe=[0,0];function YAe(e,t,n,r){let i=Array.isArray(e)?e:zAe,s=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,aw[e]?e:"0"]),s=dF(i[0],n,r),o=dF(i[1],t),s-o}const KAe={All:[[0,0],[1,1]]},JAe={x:0,y:0};function XAe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function QAe(e,t,n){const{offset:r=KAe.All}=n,{target:i=e,axis:s="y"}=n,o=s==="y"?"height":"width",a=i!==e?HAe(i,e):JAe,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:XAe(i),l={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let u=!t[s].interpolate;const d=r.length;for(let f=0;f<d;f++){const h=YAe(r[f],l[o],c[o],a[s]);!u&&h!==t[s].interpolatorOffsets[f]&&(u=!0),t[s].offset[f]=h}u&&(t[s].interpolate=pI(t[s].offset,gI(r),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=ps(0,1,t[s].interpolate(t[s].current))}function ZAe(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function exe(e,t,n,r={}){return{measure:i=>{ZAe(e,r.target,n),$Ae(e,n,i),(r.offset||r.target)&&QAe(e,n,r)},notify:()=>t(n)}}const nd=new WeakMap,fF=new WeakMap,BS=new WeakMap,hF=e=>e===document.scrollingElement?window:e;function mH(e,r={}){var i=r,{container:t=document.scrollingElement}=i,n=W(i,["container"]);if(!t)return dr;let s=BS.get(t);s||(s=new Set,BS.set(t,s));const o=qAe(),a=exe(t,e,o,n);if(s.add(a),!nd.has(t)){const l=()=>{for(const h of s)h.measure(An.timestamp);mt.preUpdate(u)},u=()=>{for(const h of s)h.notify()},d=()=>mt.read(l);nd.set(t,d);const f=hF(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&fF.set(t,e1e(t,d)),f.addEventListener("scroll",d,{passive:!0}),d()}const c=nd.get(t);return mt.read(c,!1,!0),()=>{var d;Ri(c);const l=BS.get(t);if(!l||(l.delete(a),l.size))return;const u=nd.get(t);nd.delete(t),u&&(hF(t).removeEventListener("scroll",u),(d=fF.get(t))==null||d(),window.removeEventListener("resize",u))}}const pF=new Map;function txe(e){const t={value:0},n=mH(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function _H(r){var i=r,{source:e,container:t}=i,n=W(i,["source","container"]);var u,d,f,h;const{axis:s}=n;e&&(t=e);const o=(u=pF.get(t))!=null?u:new Map;pF.set(t,o);const a=(d=n.target)!=null?d:"self",c=(f=o.get(a))!=null?f:{},l=s+((h=n.offset)!=null?h:[]).join(",");return c[l]||(c[l]=!n.target&&o9()?new ScrollTimeline({source:t,axis:s}):txe(S({container:t},n))),c[l]}function nxe(e,t){const n=_H(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),b9(i=>{r.time=r.iterationDuration*i},n))})}function rxe(e){return e.length===2}function ixe(e,t){return rxe(e)?mH(n=>{e(n[t.axis].progress,n)},t):b9(e,_H(t))}function sxe(e,i={}){var s=i,{axis:t="y",container:n=document.scrollingElement}=s,r=W(s,["axis","container"]);if(!n)return dr;const o=S({axis:t,container:n},r);return typeof e=="function"?ixe(e,o):nxe(e,o)}const oxe=()=>({scrollX:yi(0),scrollY:yi(0),scrollXProgress:yi(0),scrollYProgress:yi(0)}),Rp=e=>e?!e.current:!1;function $8e(r={}){var i=r,{container:e,target:t}=i,n=W(i,["container","target"]);const s=Dc(oxe),o=E.useRef(null),a=E.useRef(!1),c=E.useCallback(()=>(o.current=sxe((l,{x:u,y:d})=>{s.scrollX.set(u.current),s.scrollXProgress.set(u.progress),s.scrollY.set(d.current),s.scrollYProgress.set(d.progress)},I(S({},n),{container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),()=>{var l;(l=o.current)==null||l.call(o)}),[e,t,JSON.stringify(n.offset)]);return Mu(()=>{if(a.current=!1,Rp(e)||Rp(t)){a.current=!0;return}else return c()},[c]),E.useEffect(()=>{if(a.current)return Sf(!Rp(e)),Sf(!Rp(t)),c()},[c]),s}function vH(e){const t=Dc(()=>yi(e)),{isStatic:n}=E.useContext(Mh);if(n){const[,r]=E.useState(e);E.useEffect(()=>t.on("change",r),[])}return t}function yH(e,t){const n=vH(t()),r=()=>n.set(t());return r(),Mu(()=>{const i=()=>mt.preRender(r,!1,!0),s=e.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Ri(r)}}),n}function axe(e){$d.current=[],e();const t=yH($d.current,e);return $d.current=void 0,t}function cxe(e,t,n,r){if(typeof e=="function")return axe(e);const i=typeof t=="function"?t:n1e(t,n,r);return Array.isArray(e)?gF(e,i):gF([e],([s])=>i(s))}function gF(e,t){const n=Dc(()=>[]);return yH(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function H8e(e,t={}){const{isStatic:n}=E.useContext(Mh),r=()=>ln(e)?e.get():e;if(n)return cxe(r);const i=vH(r());return E.useInsertionEffect(()=>r1e(i,e,t),[i,JSON.stringify(t)]),i}function z8e(){!MI.current&&W9();const[e]=E.useState(Im.current);return e}function lxe(e){e.values.forEach(t=>t.stop())}function cw(e,t){[...t].reverse().forEach(r=>{const i=e.getVariant(r);i&&DI(e,i),e.variantChildren&&e.variantChildren.forEach(s=>{cw(s,t)})})}function uxe(e,t){if(Array.isArray(t))return cw(e,t);if(typeof t=="string")return cw(e,[t]);DI(e,t)}function dxe(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const i=[];return e.forEach(s=>{i.push(X9(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return e.forEach(r=>{uxe(r,n)})},stop(){e.forEach(n=>{lxe(n)})},mount(){return()=>{t.stop()}}};return t}function FI(e){return typeof e=="object"&&!Array.isArray(e)}function CH(e,t,n,r){return typeof e=="string"&&FI(t)?EI(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function fxe(e,t,n){return e*(t+1)}function mF(e,t,n,r){var i;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):(i=r.get(t))!=null?i:e}function hxe(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(gv(e,i),r--)}}function pxe(e,t,n,r,i,s){hxe(e,i,s);for(let o=0;o<t.length;o++)e.push({value:t[o],at:Dt(i,s,r[o]),easing:W$(n,o)})}function gxe(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function mxe(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const _xe="easeInOut";function vxe(e,s={},r,i){var o=s,{defaultTransition:t={}}=o,n=W(o,["defaultTransition"]);const a=t.duration||.3,c=new Map,l=new Map,u={},d=new Map;let f=0,h=0,p=0;for(let g=0;g<e.length;g++){const m=e[g];if(typeof m=="string"){d.set(m,h);continue}else if(!Array.isArray(m)){d.set(m.name,mF(h,m.at,f,d));continue}let[v,y,T={}]=m;T.at!==void 0&&(h=mF(h,T.at,f,d));let b=0;const C=(O,w,A,x=0,R=0)=>{const P=yxe(O),X=w,{delay:L=0,times:D=gI(P),type:F="keyframes",repeat:G,repeatType:Y,repeatDelay:V=0}=X,M=W(X,["delay","times","type","repeat","repeatType","repeatDelay"]);let{ease:te=t.ease||"easeOut",duration:$}=w;const ie=typeof L=="function"?L(x,R):L,ue=P.length,me=yI(F)?F:i==null?void 0:i[F||"keyframes"];if(ue<=2&&me){let ee=100;if(ue===2&&Exe(P)){const oe=P[1]-P[0];ee=Math.abs(oe)}const ye=S({},M);$!==void 0&&(ye.duration=Ti($));const de=e9(ye,ee,me);te=de.ease,$=de.duration}$!=null||($=a);const J=h+ie;D.length===1&&D[0]===0&&(D[1]=1);const K=D.length-P.length;if(K>0&&n9(D,K),P.length===1&&P.unshift(null),G){$=fxe($,G);const ee=[...P],ye=[...D];te=Array.isArray(te)?[...te]:[te];const de=[...te];for(let oe=0;oe<G;oe++){P.push(...ee);for(let Ee=0;Ee<ee.length;Ee++)D.push(ye[Ee]+(oe+1)),te.push(Ee===0?"linear":W$(de,Ee-1))}gxe(D,G)}const ne=J+$;pxe(A,P,te,D,J,ne),b=Math.max(ie+$,b),p=Math.max(ne,p)};if(ln(v)){const O=_F(v,l);C(y,T,vF("default",O))}else{const O=CH(v,y,r,u),w=O.length;for(let A=0;A<w;A++){y=y,T=T;const x=O[A],R=_F(x,l);for(const P in y)C(y[P],Cxe(T,P),vF(P,R),A,w)}}f=h,h+=b}return l.forEach((g,m)=>{for(const v in g){const y=g[v];y.sort(mxe);const T=[],b=[],C=[];for(let w=0;w<y.length;w++){const{at:A,value:x,easing:R}=y[w];T.push(x),b.push(Sc(0,p,A)),C.push(R||"easeOut")}b[0]!==0&&(b.unshift(0),T.unshift(T[0]),C.unshift(_xe)),b[b.length-1]!==1&&(b.push(1),T.push(null)),c.has(m)||c.set(m,{keyframes:{},transition:{}});const O=c.get(m);O.keyframes[v]=T,O.transition[v]=S(I(S({},t),{duration:p,ease:C,times:b}),n)}}),c}function _F(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function vF(e,t){return t[e]||(t[e]=[]),t[e]}function yxe(e){return Array.isArray(e)?e:[e]}function Cxe(e,t){return e&&e[t]?S(S({},e),e[t]):S({},e)}const bxe=e=>typeof e=="number",Exe=e=>e.every(bxe);function Sxe(e,t){return e in t}class Oxe extends q9{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Sxe(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return qt()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function Txe(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=_v(e)&&!E9(e)?new Y9(t):new H9(t);n.mount(e),If.set(e,n)}function wxe(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Oxe(t);n.mount(e),If.set(e,n)}function Axe(e,t){return ln(e)||typeof e=="number"||typeof e=="string"&&!FI(t)}function bH(e,t,n,r){const i=[];if(Axe(e,t))i.push(oH(e,FI(t)&&t.default||t,n&&(n.default||n)));else{const s=CH(e,t,r),o=s.length;for(let a=0;a<o;a++){const c=s[a],l=c instanceof Element?Txe:wxe;If.has(c)||l(c);const u=If.get(c),d=S({},n);"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(a,o)),i.push(...jI(u,I(S({},t),{transition:d}),{}))}}return i}function xxe(e,t,n){const r=[];return vxe(e,t,n,{spring:wf}).forEach(({keyframes:s,transition:o},a)=>{r.push(...bH(a,s,o))}),r}function Ixe(e){return Array.isArray(e)&&e.some(Array.isArray)}function Nxe(e){function t(n,r,i){let s=[],o;if(Ixe(n))s=xxe(n,r,e);else{const c=i||{},{onComplete:l}=c,u=W(c,["onComplete"]);typeof l=="function"&&(o=l),s=bH(n,r,u,e)}const a=new TTe(s);return o&&a.finished.then(o),a}return t}const Y8e=Nxe();function Rxe(){const e=Dc(dxe);return Mu(e.mount,[]),e}const K8e=Rxe;var vg={exports:{}},Pxe=vg.exports,yF;function kxe(){return yF||(yF=1,(function(e){(function(t,n,r){function i(c){var l=this,u=a();l.next=function(){var d=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=d|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(c),l.s0<0&&(l.s0+=1),l.s1-=u(c),l.s1<0&&(l.s1+=1),l.s2-=u(c),l.s2<0&&(l.s2+=1),u=null}function s(c,l){return l.c=c.c,l.s0=c.s0,l.s1=c.s1,l.s2=c.s2,l}function o(c,l){var u=new i(c),d=l&&l.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&s(d,u),f.state=function(){return s(u,{})}),f}function a(){var c=4022871197,l=function(u){u=String(u);for(var d=0;d<u.length;d++){c+=u.charCodeAt(d);var f=.02519603282416938*c;c=f>>>0,f-=c,f*=c,c=f>>>0,f-=c,c+=f*4294967296}return(c>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=o:this.alea=o})(Pxe,e)})(vg)),vg.exports}var yg={exports:{}},Mxe=yg.exports,CF;function Dxe(){return CF||(CF=1,(function(e){(function(t,n,r){function i(a){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var d=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^d^d>>>8},a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,c.next()}function s(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c}function o(a,c){var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.xor128=o})(Mxe,e)})(yg)),yg.exports}var Cg={exports:{}},Lxe=Cg.exports,bF;function jxe(){return bF||(bF=1,(function(e){(function(t,n,r){function i(a){var c=this,l="";c.next=function(){var d=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(d^d<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,u==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function s(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c.v=a.v,c.d=a.d,c}function o(a,c){var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.xorwow=o})(Lxe,e)})(Cg)),Cg.exports}var bg={exports:{}},Fxe=bg.exports,EF;function Uxe(){return EF||(EF=1,(function(e){(function(t,n,r){function i(a){var c=this;c.next=function(){var u=c.x,d=c.i,f,h;return f=u[d],f^=f>>>7,h=f^f<<24,f=u[d+1&7],h^=f^f>>>10,f=u[d+3&7],h^=f^f>>>3,f=u[d+4&7],h^=f^f<<7,f=u[d+7&7],f=f^f<<13,h^=f^f<<9,u[d]=h,c.i=d+1&7,h};function l(u,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}l(c,a)}function s(a,c){return c.x=a.x.slice(),c.i=a.i,c}function o(a,c){a==null&&(a=+new Date);var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(u.x&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.xorshift7=o})(Fxe,e)})(bg)),bg.exports}var Eg={exports:{}},Bxe=Eg.exports,SF;function Gxe(){return SF||(SF=1,(function(e){(function(t,n,r){function i(a){var c=this;c.next=function(){var u=c.w,d=c.X,f=c.i,h,p;return c.w=u=u+1640531527|0,p=d[f+34&127],h=d[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=d[f]=p^h,c.i=f,p+(u^u>>>16)|0};function l(u,d){var f,h,p,g,m,v=[],y=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,y=Math.max(y,d.length)),p=0,g=-32;g<y;++g)d&&(h^=d.charCodeAt((g+32)%d.length)),g===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,g>=0&&(m=m+1640531527|0,f=v[g&127]^=h+m,p=f==0?p+1:0);for(p>=128&&(v[(d&&d.length||0)&127]=-1),p=127,g=512;g>0;--g)h=v[p+34&127],f=v[p=p+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,v[p]=h^f;u.w=m,u.X=v,u.i=p}l(c,a)}function s(a,c){return c.i=a.i,c.w=a.w,c.X=a.X.slice(),c}function o(a,c){a==null&&(a=+new Date);var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(u.X&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.xor4096=o})(Bxe,e)})(Eg)),Eg.exports}var Sg={exports:{}},Wxe=Sg.exports,OF;function qxe(){return OF||(OF=1,(function(e){(function(t,n,r){function i(a){var c=this,l="";c.next=function(){var d=c.b,f=c.c,h=c.d,p=c.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^p,p=p-d|0,c.b=d=d<<20^d>>>12^f,c.c=f=f-h|0,c.d=h<<16^f>>>16^p,c.a=p-d|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,a===Math.floor(a)?(c.a=a/4294967296|0,c.b=a|0):l+=a;for(var u=0;u<l.length+20;u++)c.b^=l.charCodeAt(u)|0,c.next()}function s(a,c){return c.a=a.a,c.b=a.b,c.c=a.c,c.d=a.d,c}function o(a,c){var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.tychei=o})(Wxe,e)})(Sg)),Sg.exports}var Og={exports:{}};const Vxe={},$xe=Object.freeze(Object.defineProperty({__proto__:null,default:Vxe},Symbol.toStringTag,{value:"Module"})),Hxe=yJ($xe);var zxe=Og.exports,TF;function Yxe(){return TF||(TF=1,(function(e){(function(t,n,r){var i=256,s=6,o=52,a="random",c=r.pow(i,s),l=r.pow(2,o),u=l*2,d=i-1,f;function h(b,C,O){var w=[];C=C==!0?{entropy:!0}:C||{};var A=v(m(C.entropy?[b,T(n)]:b==null?y():b,3),w),x=new p(w),R=function(){for(var P=x.g(s),L=c,D=0;P<l;)P=(P+D)*i,L*=i,D=x.g(1);for(;P>=u;)P/=2,L/=2,D>>>=1;return(P+D)/L};return R.int32=function(){return x.g(4)|0},R.quick=function(){return x.g(4)/4294967296},R.double=R,v(T(x.S),n),(C.pass||O||function(P,L,D,F){return F&&(F.S&&g(F,x),P.state=function(){return g(x,{})}),D?(r[a]=P,L):P})(R,A,"global"in C?C.global:this==r,C.state)}function p(b){var C,O=b.length,w=this,A=0,x=w.i=w.j=0,R=w.S=[];for(O||(b=[O++]);A<i;)R[A]=A++;for(A=0;A<i;A++)R[A]=R[x=d&x+b[A%O]+(C=R[A])],R[x]=C;(w.g=function(P){for(var L,D=0,F=w.i,G=w.j,Y=w.S;P--;)L=Y[F=d&F+1],D=D*i+Y[d&(Y[F]=Y[G=d&G+L])+(Y[G]=L)];return w.i=F,w.j=G,D})(i)}function g(b,C){return C.i=b.i,C.j=b.j,C.S=b.S.slice(),C}function m(b,C){var O=[],w=typeof b,A;if(C&&w=="object")for(A in b)try{O.push(m(b[A],C-1))}catch(x){}return O.length?O:w=="string"?b:b+"\0"}function v(b,C){for(var O=b+"",w,A=0;A<O.length;)C[d&A]=d&(w^=C[d&A]*19)+O.charCodeAt(A++);return T(C)}function y(){try{var b;return f&&(b=f.randomBytes)?b=b(i):(b=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(b)),T(b)}catch(w){var C=t.navigator,O=C&&C.plugins;return[+new Date,t,O,t.screen,T(n)]}}function T(b){return String.fromCharCode.apply(0,b)}if(v(r.random(),n),e.exports){e.exports=h;try{f=Hxe}catch(b){}}else r["seed"+a]=h})(typeof self<"u"?self:zxe,[],Math)})(Og)),Og.exports}var GS,wF;function Kxe(){if(wF)return GS;wF=1;var e=kxe(),t=Dxe(),n=jxe(),r=Uxe(),i=Gxe(),s=qxe(),o=Yxe();return o.alea=e,o.xor128=t,o.xorwow=n,o.xorshift7=r,o.xor4096=i,o.tychei=s,GS=o,GS}var Jxe=Kxe();const Xxe=Gt(Jxe);function Qxe({lines:e=1,variance:t=0,size:n="base",width:r=50,widthVariance:i=50,className:s}){const[o]=E.useState(()=>EH(e,r,i,t));let a="";switch(n){case"sm":a="h-3 mb-2 mt-0.5";break;case"base":a="h-4 my-2";break;case"lg":a="h-5 my-2";break}return _.jsx(_.Fragment,{children:o.map((c,l)=>_.jsx("div",{className:ve("bg-token-sidebar-surface-secondary dark:bg-token-border-default relative w-full overflow-hidden rounded-md",a,s),style:{width:"".concat(c,"%")},children:_.jsx(gH.div,{className:"absolute start-0 top-0 h-full w-full rotate-45 bg-linear-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+l}}})},l))})}function J8e({lines:e=1,indexOffset:t=0,variance:n=0,width:r=50,widthVariance:i=50,gapFrequency:s=0,scaleUpAnimation:o,className:a,heightSize:c,delay:l}){const u=E.useMemo(()=>EH(e,r,i,n),[e,n,r,i]);return _.jsx(Zxe,{className:a,children:u.map((d,f)=>_.jsx(tIe,{index:f+t,width:d,className:ve(s>0&&(f+1)%s===0&&"mb-snc-1"),heightSize:c,customAnimation:o?{initial:{scaleX:o.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:o.duration,ease:"easeInOut",delay:f*.07+(l!=null?l:0)}}}:void 0},f))})}var hB;const Zxe=io.div(hB||(hB=zi(["flex flex-col items-start gap-2"]))),eIe={sm:"h-3.5",md:"h-5",lg:"h-6"};function tIe({index:e,width:t,className:n,customAnimation:r,heightSize:i="md"}){const{initial:s,animate:o,transition:a}=r!=null?r:{initial:{},animate:{},transition:{}};return _.jsx(gH.div,{className:ve(eIe[i],"bg-token-border-default origin-start rounded-md dark:bg-white/10",n),style:{width:"".concat(t,"%")},initial:S({opacity:1},s),animate:S({opacity:[1,.4]},o),transition:S({opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:e*.07}},a)})}function EH(e,t,n,r){const i=Xxe([e,t,n,r].join("-"));return Array.from({length:e+i()*(r!=null?r:0)},()=>t+i()*n)}let Nm;async function SH(){return Nm=await k(()=>import("./oz9ghbc5dbv04e9k.js"),__vite__mapDeps([62,1])),Nm}function AF(e){"use forget";const t=H.c(2);if("children"in e){let n;return t[0]!==e.children?(n=_.jsx(_.Fragment,{children:e.children}),t[0]=e.children,t[1]=n):n=t[1],n}return null}function Tn(e,t){const n=B(()=>SH().then(s=>e(s)),{loading:t});function r(s){"use forget";const o=H.c(5),[a]=E.useState(i);if(a){let l;return o[0]!==a||o[1]!==s?(l=_.jsx(a,S({},s)),o[0]=a,o[1]=s,o[2]=l):l=o[2],l}let c;return o[3]!==s?(c=_.jsx(n,S({},s)),o[3]=s,o[4]=c):c=o[4],c}function i(){if(Nm)return e(Nm)}return r}const Ds={Root:Tn(e=>e.Sheet.Root,AF),Trigger:Tn(e=>e.Sheet.Trigger,AF),View:Tn(e=>e.Sheet.View),Backdrop:Tn(e=>e.Sheet.Backdrop),Content:Tn(e=>e.Sheet.Content),BleedingBackground:Tn(e=>e.Sheet.BleedingBackground),Handle:Tn(e=>e.Sheet.Handle),Outlet:Tn(e=>e.Sheet.Outlet),Portal:Tn(e=>e.Sheet.Portal),Title:Tn(e=>e.Sheet.Title),Description:Tn(e=>e.Sheet.Description),SpecialWrapper:{Root:Tn(e=>e.Sheet.SpecialWrapper.Root),Content:Tn(e=>e.Sheet.SpecialWrapper.Content)}},nIe={Root:Tn(e=>e.AutoFocusTarget.Root)},WS={Root:Tn(e=>e.Scroll.Root),Trigger:Tn(e=>e.Scroll.Trigger),View:Tn(e=>e.Scroll.View),Content:Tn(e=>e.Scroll.Content)},OH=e=>E.createElement("svg",S({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M14.2548 4.75488C14.5282 4.48152 14.9717 4.48152 15.2451 4.75488C15.5184 5.02825 15.5184 5.47175 15.2451 5.74512L10.9902 10L15.2451 14.2549L15.3349 14.3652C15.514 14.6369 15.4841 15.006 15.2451 15.2451C15.006 15.4842 14.6368 15.5141 14.3652 15.335L14.2548 15.2451L9.99995 10.9902L5.74506 15.2451C5.4717 15.5185 5.0282 15.5185 4.75483 15.2451C4.48146 14.9718 4.48146 14.5282 4.75483 14.2549L9.00971 10L4.75483 5.74512L4.66499 5.63477C4.48589 5.3631 4.51575 4.99396 4.75483 4.75488C4.99391 4.51581 5.36305 4.48594 5.63471 4.66504L5.74506 4.75488L9.99995 9.00977L14.2548 4.75488Z"})),rIe=Object.freeze(Object.defineProperty({__proto__:null,default:OH},Symbol.toStringTag,{value:"Module"})),bv=o=>{var a=o,{onClick:e,bg:t="transparent",className:n,iconSize:r="md",ref:i}=a,s=W(a,["onClick","bg","className","iconSize","ref"]);const c=_t();return _.jsx("button",I(S({"data-testid":"close-button",ref:i,onClick:e,className:ve("hover:bg-token-surface-hover dark:hover:bg-token-main-surface-tertiary keyboard-focused:bg-token-surface-hover flex h-9 w-9 items-center justify-center rounded-lg",t==="transparent"?"bg-transparent":"bg-token-main-surface-primary",n),"aria-label":c.formatMessage({id:"Px7S/2",defaultMessage:"Close"})},s),{children:_.jsx(OH,{className:r==="lg"?"icon-lg":"icon"})}))};bv.displayName="CloseButton";function iIe(){}const sIe=()=>{"use forget";const e=H.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=_.jsx("p",{className:"text-token-text-primary text-base font-semibold",children:"ChatGPT"}),e[0]=t):t=e[0];let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=_.jsx("div",{className:"content-sheet:content-sheet-inset-section pt-1!",children:_.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t,_.jsx(Ds.Trigger,{action:"dismiss",asChild:!0,children:_.jsx(bv,{type:"button",className:"bg-token-bg-tertiary text-token-text-primary h-[1lh]! w-[1lh]! shrink-0 rounded-full",onClick:iIe})})]})}),e[1]=n):n=e[1],n},oIe=(e,t)=>(s=>{var o=s,{as:r}=o,i=W(o,["as"]);const a=r||e;return t(_.jsx(a,S({},i)))}),lw="__sheetHistory__";let aIe=0;function TH(e){if(typeof e!="object"||e===null||!Reflect.get(e,lw))return;const t=Reflect.get(e,"id");if(typeof t!="string")return;const n=Reflect.get(e,"name"),r=Reflect.get(e,"url");return{[lw]:!0,id:t,name:typeof n=="string"?n:void 0,url:typeof r=="string"?r:void 0}}function cIe(e){return TH(e.state)}function lIe({currentUrl:e,ctx:t,navigate:n,onPresentedChange:r,name:i,url:s,onHistoryPop:o}){if(!i&&!s)throw new Error("createHistoryPopEffect requires either a name or a url to be provided");const a={[lw]:!0,id:"sheet-history-".concat(aIe++),name:i,url:s};n(s!=null?s:e,{state:a});let c=!0,l;const u=()=>{l&&(l(),l=void 0)};if("navigation"in window&&window.navigation){const h=window.navigation,p=g=>{var y,T;if(!c||g.navigationType!=="traverse"||g.canIntercept!==!0||typeof g.intercept!="function")return;const m=(T=(y=h.currentEntry)==null?void 0:y.getState)==null?void 0:T.call(y),v=TH(m);!v||v.id!==a.id||g.intercept({scroll:"manual",handler:()=>{c&&(u(),c=!1,r(!1),o==null||o())}})};h.addEventListener("navigate",p),l=()=>{h.removeEventListener("navigate",p)}}if("CloseWatcher"in window){const h=new window.CloseWatcher;h.onclose=p=>{p.preventDefault(),u(),c=!1,r(!1),o==null||o()}}const d=Vo(()=>eI(t),h=>{if(!c||h.length===0||h[h.length-1].action!=="POP")return;let g;for(let m=h.length-1;m>=0;m-=1){const v=cIe(h[m].location);if(v){g=v;break}}!g||g.id!==a.id||(c=!1,u(),r(!1),o==null||o())});return()=>{u(),d(),c&&(c=!1,n(-1))}}function uIe(e){const t=E.useRef(e);return E.useInsertionEffect(()=>{t.current=e},[e]),E.useMemo(()=>((...n)=>{qm()&&dIe();const{current:r}=t;return r(...n)}),[])}function dIe(){throw new Error("A function wrapped in useStableCallback can't be called during rendering.")}const wH=ut(()=>({anySheetOpen$:we(!1)}));function fIe(e){"use forget";var O;const t=H.c(34);let n,r,i,s,o,a,c,l;t[0]!==e?(O=e,{children:n,behavior:l,sheetName:o,sheetUrl:c,onHistoryPop:r,onPresentedChange:i,presented:s}=O,a=W(O,["children","behavior","sheetName","sheetUrl","onHistoryPop","onPresentedChange","presented"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8]);const u=l===void 0?"default":l,d=re(),f=Zs(),h=Jt(),p=E.useRef(!1);let g;t[9]!==d||t[10]!==i?(g=w=>{wH(d).anySheetOpen$.set(w),i==null||i(w)},t[9]=d,t[10]=i,t[11]=g):g=t[11];const m=uIe(g);let v;t[12]!==d||t[13]!==h.hash||t[14]!==h.pathname||t[15]!==h.search||t[16]!==f||t[17]!==r||t[18]!==m||t[19]!==o||t[20]!==c?(v=()=>lIe({ctx:d,navigate:f,currentUrl:"".concat(h.pathname).concat(h.search).concat(h.hash),onPresentedChange:m,name:o,url:c,onHistoryPop:r}),t[12]=d,t[13]=h.hash,t[14]=h.pathname,t[15]=h.search,t[16]=f,t[17]=r,t[18]=m,t[19]=o,t[20]=c,t[21]=v):v=t[21];const y=E.useEffectEvent(v);let T;t[22]!==u||t[23]!==y||t[24]!==s?(T=()=>{if(u==="history"){if(s==null){p.current;return}if(s)return y()}},t[22]=u,t[23]=y,t[24]=s,t[25]=T):T=t[25];let b;t[26]!==u||t[27]!==s?(b=[u,s],t[26]=u,t[27]=s,t[28]=b):b=t[28],E.useEffect(T,b);let C;return t[29]!==n||t[30]!==m||t[31]!==s||t[32]!==a?(C=_.jsx(Ds.Root,I(S({license:"commercial","data-content-sheet-root":!0},a),{presented:s,onPresentedChange:m,children:n})),t[29]=n,t[30]=m,t[31]=s,t[32]=a,t[33]=C):C=t[33],C}function hIe(e){"use forget";var A;const t=H.c(25);let n,r,i,s,o,a;t[0]!==e?(A=e,{children:n,className:r,nativeEdgeSwipePrevention:a,onTravel:s,onCloseComplete:i}=A,o=W(A,["children","className","nativeEdgeSwipePrevention","onTravel","onCloseComplete"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6]);const c=a===void 0?!1:a,l=E.useRef(null),u=Fe(Mc),d=u?"center":"bottom",[f,h]=E.useState(null),p=re();let g;t[7]!==p?(g=wH(p),t[7]=p,t[8]=g):g=t[8];const m=g,v=E.useRef(0);let y;t[9]!==i||t[10]!==s||t[11]!==m?(y=x=>{const L=x,{progress:R}=L,P=W(L,["progress"]);if(!l.current)return s==null?void 0:s(S({progress:R},P));R===0&&v.current>0?(m.anySheetOpen$.set(!1),i==null||i()):R<.999?h(null):(m.anySheetOpen$.set(!0),h("opened")),v.current=R,s==null||s(S({progress:R},P))},t[9]=i,t[10]=s,t[11]=m,t[12]=y):y=t[12];const T=y,b="view-".concat(u);let C;t[13]!==r?(C=ve("top-0 bottom-[initial] h-[max(100dvh,100%)] [--sheet-radius-amount:16px] sm:h-full",r),t[13]=r,t[14]=C):C=t[14];let O;t[15]===Symbol.for("react.memo_cache_sentinel")?(O={focus:!1},t[15]=O):O=t[15];let w;return t[16]!==n||t[17]!==d||t[18]!==c||t[19]!==o||t[20]!==b||t[21]!==C||t[22]!==T||t[23]!==f?(w=_.jsx(Ds.View,I(S({className:C,"data-sheet-travel-state":f,"data-ignore-for-page-load":!0,contentPlacement:d,tracks:"bottom",swipeOvershoot:!1,nativeEdgeSwipePrevention:c,onTravel:T,onDismissAutoFocus:O,ref:l},o),{children:n}),b),t[16]=n,t[17]=d,t[18]=c,t[19]=o,t[20]=b,t[21]=C,t[22]=T,t[23]=f,t[24]=w):w=t[24],w}function pIe(e){"use forget";const t=H.c(2),n=E.useRef(null);let r;return t[0]!==e?(r=_.jsx(Ds.Backdrop,S({ref:n},e)),t[0]=e,t[1]=r):r=t[1],r}const gIe={normal:"max-h-[calc(100%-max(env(safe-area-inset-top),6px))]",large:"max-h-[calc(100%-max(env(safe-area-inset-top),36px))]",xlarge:"max-h-[calc(100%-max(env(safe-area-inset-top),56px))]"};function mIe(e){"use forget";var O;const t=H.c(28);let n,r,i,s,o,a,c,l;t[0]!==e?(O=e,{children:r,canBounce:n,hasBounced$:s,size:c,className:i,ref:o,topMargin:l}=O,a=W(O,["children","canBounce","hasBounced$","size","className","ref","topMargin"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8]);const u=c===void 0?"fill":c,d=l===void 0?"normal":l;let f;t[9]!==s?(f=()=>{var w;return(w=s==null?void 0:s())!=null?w:!1},t[9]=s,t[10]=f):f=t[10];const h=Fe(f),p=gIe[d],g=u==="fit"&&"h-min ".concat(p),m=u==="fill"&&"h-[calc(100%-max(env(safe-area-inset-top),6px))] sm:h-[calc(100%-4rem)]",v=n?h?"peek-top-end-animation":"peek-top-animation":void 0;let y;t[11]!==i||t[12]!==g||t[13]!==m||t[14]!==v?(y=ve("max-w-md [border-radius:var(--sheet-radius,var(--sheet-radius-amount))] pb-4 [border:1px_solid_transparent]! focus:outline-hidden max-sm:[--sheet-radius:var(--sheet-radius-amount)_var(--sheet-radius-amount)_0_0] sm:w-[calc(800px-1.25rem)]",g,m,v,i),t[11]=i,t[12]=g,t[13]=m,t[14]=v,t[15]=y):y=t[15];let T;t[16]!==n||t[17]!==s?(T=()=>{n&&s&&s.set(!0)},t[16]=n,t[17]=s,t[18]=T):T=t[18];let b;t[19]!==s?(b=()=>{s==null||s.set(!0)},t[19]=s,t[20]=b):b=t[20];let C;return t[21]!==r||t[22]!==o||t[23]!==a||t[24]!==y||t[25]!==T||t[26]!==b?(C=_.jsx(Ds.Content,I(S({className:y,onPointerDown:T,onAnimationEnd:b},a),{ref:o,children:r})),t[21]=r,t[22]=o,t[23]=a,t[24]=y,t[25]=T,t[26]=b,t[27]=C):C=t[27],C}const Ws={Root:fIe,Portal:Ds.Portal,View:hIe,Backdrop:pIe,Content:mIe,Trigger:Ds.Trigger,Handle:Ds.Handle,Title:Ds.Title};function _Ie(e){"use forget";var c;const t=H.c(12);let n,r,i;t[0]!==e?(c=e,{children:n,className:r}=c,i=W(c,["children","className"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]);let s;t[4]!==r?(s=ve("min-h-0",r),t[4]=r,t[5]=s):s=t[5];let o;t[6]!==n?(o=_.jsx(WS.Content,{className:"align-content-start grid",tabIndex:-1,children:n}),t[6]=n,t[7]=o):o=t[7];let a;return t[8]!==i||t[9]!==s||t[10]!==o?(a=_.jsx(WS.Root,{asChild:!0,children:_.jsx(WS.View,I(S({className:s,safeArea:"visual-viewport",scrollTimelineName:"--sheet-scroller"},i),{children:o}))}),t[8]=i,t[9]=s,t[10]=o,t[11]=a):a=t[11],a}function vIe(e){"use forget";var v;const t=H.c(21);let n,r,i,s,o,a;t[0]!==e?(v=e,{className:r,children:n,handle:s,showHeader:o,topMargin:a}=v,i=W(v,["className","children","handle","showHeader","topMargin"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6]);const c=s===void 0?"auto":s,l=o===void 0?!1:o,u=Fe(Mc),d=c==="auto"?!u:c,f=d?"grid-rows-[min-content_min-content_1fr_min-content]":"grid-rows-[min-content_1fr_min-content]";let h;t[7]!==r||t[8]!==f?(h=ve("bg-token-bg-primary content-sheet popup @container/sheet-content grid [--padding:1rem]",f,r),t[7]=r,t[8]=f,t[9]=h):h=t[9];let p;t[10]!==d?(p=d&&_.jsx(nIe.Root,{timing:"present",className:"flex justify-center focus-visible:outline-none",children:_.jsx(yIe,{})}),t[10]=d,t[11]=p):p=t[11];let g;t[12]!==l?(g=l&&_.jsx(sIe,{}),t[12]=l,t[13]=g):g=t[13];let m;return t[14]!==n||t[15]!==i||t[16]!==h||t[17]!==p||t[18]!==g||t[19]!==a?(m=_.jsxs(Ws.Content,I(S({className:h,topMargin:a},i),{children:[p,g,n]})),t[14]=n,t[15]=i,t[16]=h,t[17]=p,t[18]=g,t[19]=a,t[20]=m):m=t[20],m}function yIe(e){"use forget";var o;const t=H.c(8);let n,r;t[0]!==e?(o=e,{className:n}=o,r=W(o,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let i;t[3]!==n?(i=ve("bg-token-bg-secondary! dark:bg-token-bg-tertiary! col-start-1 col-end-[-1] mt-1.5 h-1 self-start justify-self-center rounded-full select-none",n),t[3]=n,t[4]=i):i=t[4];let s;return t[5]!==r||t[6]!==i?(s=_.jsx(Ws.Handle,S({className:i},r)),t[5]=r,t[6]=i,t[7]=s):s=t[7],s}function CIe(e){"use forget";const t=H.c(8);let n,r,i;if(t[0]!==e){const o=e,{children:a}=o,c=W(o,["children"]);n=a,r=c,i=ve("min-h-header-height relative grid grid-cols-[1fr_min-content] items-center justify-between gap-3 py-2.5 ps-4 pe-2 select-none",c.className),t[0]=e,t[1]=n,t[2]=r,t[3]=i}else n=t[1],r=t[2],i=t[3];let s;return t[4]!==n||t[5]!==r||t[6]!==i?(s=_.jsx("header",I(S({},r),{className:i,children:n})),t[4]=n,t[5]=r,t[6]=i,t[7]=s):s=t[7],s}function bIe(e){"use forget";const t=H.c(5);let n;t[0]!==e.className?(n=ve("text-token-text-primary m-0 w-full min-w-0 overflow-hidden text-lg font-normal overflow-ellipsis whitespace-nowrap [text-box-trim:trim-both]",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=_.jsx(Ws.Title,I(S({},e),{className:n})),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}function EIe(e){"use forget";const t=H.c(5);let n;t[0]!==e.className?(n=ve("z-10 grid grid-flow-col justify-end gap-3 px-[var(--padding)] pt-4",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=_.jsx("footer",I(S({},e),{className:n})),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}const SIe=oIe(no,e=>_.jsx(Ws.Trigger,{action:"dismiss",asChild:!0,children:e}));function OIe(e){"use forget";var l;const t=H.c(12);let n,r,i,s;t[0]!==e?(l=e,{fullBleed:i,className:r,children:n}=l,s=W(l,["fullBleed","className","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=!i&&"px-(--thread-content-margin)";let a;t[5]!==r||t[6]!==o?(a=ve(o,r),t[5]=r,t[6]=o,t[7]=a):a=t[7];let c;return t[8]!==n||t[9]!==s||t[10]!==a?(c=_.jsx("section",I(S({"data-content-sheet-section":!0,className:a},s),{children:n})),t[8]=n,t[9]=s,t[10]=a,t[11]=c):c=t[11],c}function TIe(e){"use forget";var f;const t=H.c(11);let n,r,i;t[0]!==e?(f=e,{children:n,springPreset:i}=f,r=W(f,["children","springPreset"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]);const s=i===void 0?"brisk":i,o=Fe(Mc),c=Fe(k7)||o;let l;t[4]!==c||t[5]!==s?(l={preset:s,skip:c},t[4]=c,t[5]=s,t[6]=l):l=t[6];const u=l;let d;return t[7]!==u||t[8]!==n||t[9]!==r?(d=_.jsx(Ws.View,I(S({enteringAnimationSettings:u,exitingAnimationSettings:u},r),{children:n})),t[7]=u,t[8]=n,t[9]=r,t[10]=d):d=t[10],d}function wIe(e){"use forget";var c;const t=H.c(9);let n,r;t[0]!==e?(c=e,{className:n}=c,r=W(c,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const s=Fe(Mc)&&"before:starting:backdrop-blur-0 fixed inset-0 z-50 bg-transparent opacity-100! before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 before:starting:opacity-0";let o;t[3]!==n||t[4]!==s?(o=ve(s,n),t[3]=n,t[4]=s,t[5]=o):o=t[5];let a;return t[6]!==r||t[7]!==o?(a=_.jsx(Ws.Backdrop,S({themeColorDimming:!1,className:o},r)),t[6]=r,t[7]=o,t[8]=a):a=t[8],a}const es={Root:Ws.Root,Trigger:Ws.Trigger,Portal:Ws.Portal,View:TIe,Backdrop:wIe,Content:vIe,HeaderBar:CIe,Title:bIe,FooterBar:EIe,DismissAction:SIe,ScrollRoot:_Ie,ContentSection:OIe},AH=e=>E.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M12.0961 2.91371C12.3297 2.68688 12.6984 2.64794 12.9779 2.83852C13.2571 3.02905 13.3554 3.38601 13.2299 3.68618L13.1615 3.81118L6.91152 12.9772C6.79412 13.1494 6.60631 13.2604 6.39882 13.2799C6.19137 13.2994 5.98565 13.226 5.83828 13.0788L2.08828 9.32875L1.99843 9.2184C1.81921 8.94677 1.84928 8.57767 2.08828 8.33852C2.3274 8.0994 2.69648 8.06947 2.96816 8.24868L3.07851 8.33852L6.23085 11.4909L12.0053 3.02211L12.0961 2.91371Z"})),AIe=Object.freeze(Object.defineProperty({__proto__:null,default:AH},Symbol.toStringTag,{value:"Module"})),xIe={threshold:1,rootMargin:"0%"};function xH({target:e,onChange:t,options:n=xIe}){if(!e)return;const r=new IntersectionObserver(s=>{const o=Array.isArray(r.thresholds)?r.thresholds:[r.thresholds];s.forEach(a=>{const c=a.isIntersecting&&o.some(l=>a.intersectionRatio>=l);t(c,a)})},n);function i(){r.disconnect()}return r.observe(e),i}function X8e(e){return t=>xH(I(S({},e),{target:t}))}function IIe({setIsScrolledToEdge:e,className:t,options:n}){return _.jsx("div",{"aria-hidden":!0,"data-edge":!0,className:ve("pointer-events-none h-px w-px",t),ref:r=>xH({target:r,onChange:i=>e(!i),options:n})})}var pB;const NIe=io.button(pB||(pB=zi(["\ntext-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent\nleading-none outline-hidden cursor-pointer\nhover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary\nkeyboard-focused:bg-token-main-surface-secondary\nradix-state-active:text-token-text-secondary\nradix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent\ndata-no-hover-bg:hover:bg-transparent dark:data-no-hover-bg:hover:bg-transparent\n"]))),Q8e="z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none";var gB;const IH=io.div(gB||(gB=zi(["z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none data-[unbound-width]:min-w-[unset] data-[custom-padding]:py-0"])));var mB;const Z8e=io.div(mB||(mB=zi(["popover overflow-auto rounded-2xl dark:bg-[#353535] bg-clip-padding bg-token-main-surface-primary p-2 shadow-long"]))),RIe=({isOpen:e,onClose:t})=>{var i,s;const n=E.useRef(null),r=(s=(i=n.current)==null?void 0:i.ownerDocument.body)!=null?s:null;return E.useEffect(()=>{if(!r||!e)return;const o=a=>{(!a.relatedTarget||a.relatedTarget instanceof HTMLElement&&!r.contains(a.relatedTarget))&&t()};return r.addEventListener("blur",o,{capture:!0}),()=>r.removeEventListener("blur",o,{capture:!0})},[e,r]),{triggerRef:n,container:r}};var qS=0;function NH(){E.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:xF()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:xF()),qS++,()=>{qS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),qS--}},[])}function xF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var VS="focusScope.autoFocusOnMount",$S="focusScope.autoFocusOnUnmount",IF={bubbles:!1,cancelable:!0},PIe="FocusScope",UI=E.forwardRef((e,t)=>{const g=e,{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s}=g,o=W(g,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[a,c]=E.useState(null),l=ii(i),u=ii(s),d=E.useRef(null),f=dn(t,m=>c(m)),h=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let m=function(b){if(h.paused||!a)return;const C=b.target;a.contains(C)?d.current=C:Co(d.current,{select:!0})},v=function(b){if(h.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||Co(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const O of b)O.removedNodes.length>0&&Co(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const T=new MutationObserver(y);return a&&T.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),T.disconnect()}}},[r,a,h.paused]),E.useEffect(()=>{if(a){RF.add(h);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(VS,IF);a.addEventListener(VS,l),a.dispatchEvent(y),y.defaultPrevented||(kIe(FIe(RH(a)),{select:!0}),document.activeElement===m&&Co(a))}return()=>{a.removeEventListener(VS,l),setTimeout(()=>{const y=new CustomEvent($S,IF);a.addEventListener($S,u),a.dispatchEvent(y),y.defaultPrevented||Co(m!=null?m:document.body,{select:!0}),a.removeEventListener($S,u),RF.remove(h)},0)}}},[a,l,u,h]);const p=E.useCallback(m=>{if(!n&&!r||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const T=m.currentTarget,[b,C]=MIe(T);b&&C?!m.shiftKey&&y===C?(m.preventDefault(),n&&Co(b,{select:!0})):m.shiftKey&&y===b&&(m.preventDefault(),n&&Co(C,{select:!0})):y===T&&m.preventDefault()}},[n,r,h.paused]);return _.jsx(Ot.div,I(S({tabIndex:-1},o),{ref:f,onKeyDown:p}))});UI.displayName=PIe;function kIe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Co(r,{select:t}),document.activeElement!==n)return}function MIe(e){const t=RH(e),n=NF(t,e),r=NF(t.reverse(),e);return[n,r]}function RH(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function NF(e,t){for(const n of e)if(!DIe(n,{upTo:t}))return n}function DIe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function LIe(e){return e instanceof HTMLInputElement&&"select"in e}function Co(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&LIe(e)&&t&&e.select()}}var RF=jIe();function jIe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=PF(e,t),e.unshift(t)},remove(t){var n;e=PF(e,t),(n=e[0])==null||n.resume()}}}function PF(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function FIe(e){return e.filter(t=>t.tagName!=="A")}var UIe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},el=new WeakMap,Pp=new WeakMap,kp={},HS=0,PH=function(e){return e&&(e.host||PH(e.parentNode))},BIe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=PH(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},GIe=function(e,t,n,r){var i=BIe(t,Array.isArray(e)?e:[e]);kp[n]||(kp[n]=new WeakMap);var s=kp[n],o=[],a=new Set,c=new Set(i),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};i.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",g=(el.get(f)||0)+1,m=(s.get(f)||0)+1;el.set(f,g),s.set(f,m),o.push(f),g===1&&p&&Pp.set(f,!0),m===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),a.clear(),HS++,function(){o.forEach(function(d){var f=el.get(d)-1,h=s.get(d)-1;el.set(d,f),s.set(d,h),f||(Pp.has(d)||d.removeAttribute(r),Pp.delete(d)),h||d.removeAttribute(n)}),HS--,HS||(el=new WeakMap,el=new WeakMap,Pp=new WeakMap,kp={})}},WIe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=UIe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),GIe(r,i,n,"aria-hidden")):function(){return null}},Tg="right-scroll-bar-position",wg="width-before-scroll-bar",qIe="with-scroll-bars-hidden",VIe="--removed-body-scroll-bar-size";function zS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $Ie(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var kF=new WeakMap;function HIe(e,t){var n=$Ie(null,function(r){return e.forEach(function(i){return zS(i,r)})});return E.useLayoutEffect(function(){var r=kF.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||zS(a,null)}),s.forEach(function(a){i.has(a)||zS(a,o)})}kF.set(n,e)},[e]),n}function zIe(e){return e}function YIe(e,t){t===void 0&&(t=zIe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var u=o;o=[],u.forEach(s)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return i}function KIe(e){e===void 0&&(e={});var t=YIe(null);return t.options=So({async:!0,ssr:!1},e),t}var kH=function(e){var t=e.sideCar,n=OB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,So({},n))};kH.isSideCarExport=!0;function JIe(e,t){return e.useMedium(t),kH}var MH=KIe(),YS=function(){},Ev=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:YS,onWheelCapture:YS,onTouchMoveCapture:YS}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,p=e.inert,g=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,y=e.gapMode,T=OB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,C=HIe([n,t]),O=So(So({},T),i);return E.createElement(E.Fragment,null,u&&E.createElement(b,{sideCar:MH,removeScrollBar:l,shards:d,noIsolation:h,inert:p,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?E.cloneElement(E.Children.only(a),So(So({},O),{ref:C})):E.createElement(v,So({},O,{className:c,ref:C}),a))});Ev.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ev.classNames={fullWidth:wg,zeroRight:Tg};var XIe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QIe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=XIe();return t&&e.setAttribute("nonce",t),e}function ZIe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eNe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tNe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=QIe())&&(ZIe(t,n),eNe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nNe=function(){var e=tNe();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},DH=function(){var e=nNe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},rNe={left:0,top:0,right:0,gap:0},KS=function(e){return parseInt(e||"",10)||0},iNe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[KS(n),KS(r),KS(i)]},sNe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rNe;var t=iNe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},oNe=DH(),Bl="data-scroll-locked",aNe=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),"\n  .".concat(qIe," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(Bl,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),n==="margin"&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Tg," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(wg," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(Tg," .").concat(Tg," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(wg," .").concat(wg," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Bl,"] {\n    ").concat(VIe,": ").concat(a,"px;\n  }\n")},MF=function(){var e=parseInt(document.body.getAttribute(Bl)||"0",10);return isFinite(e)?e:0},cNe=function(){E.useEffect(function(){return document.body.setAttribute(Bl,(MF()+1).toString()),function(){var e=MF()-1;e<=0?document.body.removeAttribute(Bl):document.body.setAttribute(Bl,e.toString())}},[])},lNe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;cNe();var s=E.useMemo(function(){return sNe(i)},[i]);return E.createElement(oNe,{styles:aNe(s,!t,i,n?"":"!important")})},uw=!1;if(typeof window<"u")try{var Mp=Object.defineProperty({},"passive",{get:function(){return uw=!0,!0}});window.addEventListener("test",Mp,Mp),window.removeEventListener("test",Mp,Mp)}catch(e){uw=!1}var tl=uw?{passive:!1}:!1,uNe=function(e){return e.tagName==="TEXTAREA"},LH=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!uNe(e)&&n[t]==="visible")},dNe=function(e){return LH(e,"overflowY")},fNe=function(e){return LH(e,"overflowX")},DF=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=jH(e,r);if(i){var s=FH(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hNe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},pNe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},jH=function(e,t){return e==="v"?dNe(t):fNe(t)},FH=function(e,t){return e==="v"?hNe(t):pNe(t)},gNe=function(e,t){return e==="h"&&t==="rtl"?-1:1},mNe=function(e,t,n,r,i){var s=gNe(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,c=t.contains(a),l=!1,u=o>0,d=0,f=0;do{var h=FH(e,a),p=h[0],g=h[1],m=h[2],v=g-m-s*p;(p||v)&&jH(e,a)&&(d+=v,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(l=!0),l},Dp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},LF=function(e){return[e.deltaX,e.deltaY]},jF=function(e){return e&&"current"in e?e.current:e},_Ne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vNe=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},yNe=0,nl=[];function CNe(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(yNe++)[0],s=E.useState(DH)[0],o=E.useRef(e);E.useEffect(function(){o.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=CJ([e.lockRef.current],(e.shards||[]).map(jF),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=E.useCallback(function(g,m){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Dp(g),y=n.current,T="deltaX"in g?g.deltaX:y[0]-v[0],b="deltaY"in g?g.deltaY:y[1]-v[1],C,O=g.target,w=Math.abs(T)>Math.abs(b)?"h":"v";if("touches"in g&&w==="h"&&O.type==="range")return!1;var A=DF(w,O);if(!A)return!0;if(A?C=w:(C=w==="v"?"h":"v",A=DF(w,O)),!A)return!1;if(!r.current&&"changedTouches"in g&&(T||b)&&(r.current=C),!C)return!0;var x=r.current||C;return mNe(x,m,g,x==="h"?T:b)},[]),c=E.useCallback(function(g){var m=g;if(!(!nl.length||nl[nl.length-1]!==s)){var v="deltaY"in m?LF(m):Dp(m),y=t.current.filter(function(C){return C.name===m.type&&(C.target===m.target||m.target===C.shadowParent)&&_Ne(C.delta,v)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var T=(o.current.shards||[]).map(jF).filter(Boolean).filter(function(C){return C.contains(m.target)}),b=T.length>0?a(m,T[0]):!o.current.noIsolation;b&&m.cancelable&&m.preventDefault()}}},[]),l=E.useCallback(function(g,m,v,y){var T={name:g,delta:m,target:v,should:y,shadowParent:bNe(v)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(b){return b!==T})},1)},[]),u=E.useCallback(function(g){n.current=Dp(g),r.current=void 0},[]),d=E.useCallback(function(g){l(g.type,LF(g),g.target,a(g,e.lockRef.current))},[]),f=E.useCallback(function(g){l(g.type,Dp(g),g.target,a(g,e.lockRef.current))},[]);E.useEffect(function(){return nl.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,tl),document.addEventListener("touchmove",c,tl),document.addEventListener("touchstart",u,tl),function(){nl=nl.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,tl),document.removeEventListener("touchmove",c,tl),document.removeEventListener("touchstart",u,tl)}},[]);var h=e.removeScrollBar,p=e.inert;return E.createElement(E.Fragment,null,p?E.createElement(s,{styles:vNe(i)}):null,h?E.createElement(lNe,{gapMode:e.gapMode}):null)}function bNe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ENe=JIe(MH,CNe);var BI=E.forwardRef(function(e,t){return E.createElement(Ev,So({},e,{ref:t,sideCar:ENe}))});BI.classNames=Ev.classNames;var dw=["Enter"," "],SNe=["ArrowDown","PageUp","Home"],UH=["ArrowUp","PageDown","End"],ONe=[...SNe,...UH],TNe={ltr:[...dw,"ArrowRight"],rtl:[...dw,"ArrowLeft"]},wNe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lh="Menu",[Rf,ANe,xNe]=Gq(Lh),[Lc,BH]=wu(Lh,[xNe,B_,$_]),jh=B_(),GH=$_(),[WH,ga]=Lc(Lh),[INe,Fh]=Lc(Lh),qH=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,a=jh(t),[c,l]=E.useState(null),u=E.useRef(!1),d=ii(s),f=rx(i);return E.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),_.jsx(QA,I(S({},a),{children:_.jsx(WH,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:l,children:_.jsx(INe,{scope:t,onClose:E.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})}))};qH.displayName=Lh;var NNe="MenuAnchor",GI=E.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=W(s,["__scopeMenu"]),i=jh(n);return _.jsx(Oq,I(S(S({},i),r),{ref:t}))});GI.displayName=NNe;var WI="MenuPortal",[RNe,VH]=Lc(WI,{forceMount:void 0}),$H=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=ga(WI,t);return _.jsx(RNe,{scope:t,forceMount:n,children:_.jsx(Fi,{present:n||s.open,children:_.jsx(ph,{asChild:!0,container:i,children:r})})})};$H.displayName=WI;var ti="MenuContent",[PNe,qI]=Lc(ti),HH=E.forwardRef((e,t)=>{const n=VH(ti,e.__scopeMenu),a=e,{forceMount:r=n.forceMount}=a,i=W(a,["forceMount"]),s=ga(ti,e.__scopeMenu),o=Fh(ti,e.__scopeMenu);return _.jsx(Rf.Provider,{scope:e.__scopeMenu,children:_.jsx(Fi,{present:r||s.open,children:_.jsx(Rf.Slot,{scope:e.__scopeMenu,children:o.modal?_.jsx(kNe,I(S({},i),{ref:t})):_.jsx(MNe,I(S({},i),{ref:t}))})})})}),kNe=E.forwardRef((e,t)=>{const n=ga(ti,e.__scopeMenu),r=E.useRef(null),i=dn(t,r);return E.useEffect(()=>{const s=r.current;if(s)return WIe(s)},[]),_.jsx(VI,I(S({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ve(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),MNe=E.forwardRef((e,t)=>{const n=ga(ti,e.__scopeMenu);return _.jsx(VI,I(S({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),VI=E.forwardRef((e,t)=>{const te=e,{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p}=te,g=W(te,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),m=ga(ti,n),v=Fh(ti,n),y=jh(n),T=GH(n),b=ANe(n),[C,O]=E.useState(null),w=E.useRef(null),A=dn(t,w,m.onContentChange),x=E.useRef(0),R=E.useRef(""),P=E.useRef(0),L=E.useRef(null),D=E.useRef("right"),F=E.useRef(0),G=p?BI:E.Fragment,Y=p?{as:nu,allowPinchZoom:!0}:void 0,V=$=>{var ee,ye;const ie=R.current+$,ue=b().filter(de=>!de.disabled),me=document.activeElement,J=(ee=ue.find(de=>de.ref.current===me))==null?void 0:ee.textValue,K=ue.map(de=>de.textValue),ne=HNe(K,ie,J),X=(ye=ue.find(de=>de.textValue===ne))==null?void 0:ye.ref.current;(function de(oe){R.current=oe,window.clearTimeout(x.current),oe!==""&&(x.current=window.setTimeout(()=>de(""),1e3))})(ie),X&&setTimeout(()=>X.focus())};E.useEffect(()=>()=>window.clearTimeout(x.current),[]),NH();const M=E.useCallback($=>{var ue,me;return D.current===((ue=L.current)==null?void 0:ue.side)&&YNe($,(me=L.current)==null?void 0:me.area)},[]);return _.jsx(PNe,{scope:n,searchRef:R,onItemEnter:E.useCallback($=>{M($)&&$.preventDefault()},[M]),onItemLeave:E.useCallback($=>{var ie;M($)||((ie=w.current)==null||ie.focus(),O(null))},[M]),onTriggerLeave:E.useCallback($=>{M($)&&$.preventDefault()},[M]),pointerGraceTimerRef:P,onPointerGraceIntentChange:E.useCallback($=>{L.current=$},[]),children:_.jsx(G,I(S({},Y),{children:_.jsx(UI,{asChild:!0,trapped:i,onMountAutoFocus:Ve(s,$=>{var ie;$.preventDefault(),(ie=w.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:_.jsx(fh,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:_.jsx(Yq,I(S({asChild:!0},T),{dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:O,onEntryFocus:Ve(c,$=>{v.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(Tq,I(S(S({role:"menu","aria-orientation":"vertical","data-state":lz(m.open),"data-radix-menu-content":"",dir:v.dir},y),g),{ref:A,style:S({outline:"none"},g.style),onKeyDown:Ve(g.onKeyDown,$=>{const ue=$.target.closest("[data-radix-menu-content]")===$.currentTarget,me=$.ctrlKey||$.altKey||$.metaKey,J=$.key.length===1;ue&&($.key==="Tab"&&$.preventDefault(),!me&&J&&V($.key));const K=w.current;if($.target!==K||!ONe.includes($.key))return;$.preventDefault();const X=b().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);UH.includes($.key)&&X.reverse(),VNe(X)}),onBlur:Ve(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(x.current),R.current="")}),onPointerMove:Ve(e.onPointerMove,Pf($=>{const ie=$.target,ue=F.current!==$.clientX;if($.currentTarget.contains(ie)&&ue){const me=$.clientX>F.current?"right":"left";D.current=me,F.current=$.clientX}}))}))}))})})}))})});HH.displayName=ti;var DNe="MenuGroup",$I=E.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=W(i,["__scopeMenu"]);return _.jsx(Ot.div,I(S({role:"group"},r),{ref:t}))});$I.displayName=DNe;var LNe="MenuLabel",zH=E.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=W(i,["__scopeMenu"]);return _.jsx(Ot.div,I(S({},r),{ref:t}))});zH.displayName=LNe;var Rm="MenuItem",FF="menu.itemSelect",Sv=E.forwardRef((e,t)=>{const d=e,{disabled:n=!1,onSelect:r}=d,i=W(d,["disabled","onSelect"]),s=E.useRef(null),o=Fh(Rm,e.__scopeMenu),a=qI(Rm,e.__scopeMenu),c=dn(t,s),l=E.useRef(!1),u=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(FF,{bubbles:!0,cancelable:!0});f.addEventListener(FF,p=>r==null?void 0:r(p),{once:!0}),zW(f,h),h.defaultPrevented?l.current=!1:o.onClose()}};return _.jsx(YH,I(S({},i),{ref:c,disabled:n,onClick:Ve(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),l.current=!0},onPointerUp:Ve(e.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ve(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||dw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))});Sv.displayName=Rm;var YH=E.forwardRef((e,t)=>{const p=e,{__scopeMenu:n,disabled:r=!1,textValue:i}=p,s=W(p,["__scopeMenu","disabled","textValue"]),o=qI(Rm,n),a=GH(n),c=E.useRef(null),l=dn(t,c),[u,d]=E.useState(!1),[f,h]=E.useState("");return E.useEffect(()=>{var m;const g=c.current;g&&h(((m=g.textContent)!=null?m:"").trim())},[s.children]),_.jsx(Rf.ItemSlot,{scope:n,disabled:r,textValue:i!=null?i:f,children:_.jsx(Kq,I(S({asChild:!0},a),{focusable:!r,children:_.jsx(Ot.div,I(S({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s),{ref:l,onPointerMove:Ve(e.onPointerMove,Pf(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ve(e.onPointerLeave,Pf(g=>o.onItemLeave(g))),onFocus:Ve(e.onFocus,()=>d(!0)),onBlur:Ve(e.onBlur,()=>d(!1))}))}))})}),jNe="MenuCheckboxItem",KH=E.forwardRef((e,t)=>{const s=e,{checked:n=!1,onCheckedChange:r}=s,i=W(s,["checked","onCheckedChange"]);return _.jsx(ez,{scope:e.__scopeMenu,checked:n,children:_.jsx(Sv,I(S({role:"menuitemcheckbox","aria-checked":Pm(n)?"mixed":n},i),{ref:t,"data-state":YI(n),onSelect:Ve(i.onSelect,()=>r==null?void 0:r(Pm(n)?!0:!n),{checkForDefaultPrevented:!1})}))})});KH.displayName=jNe;var JH="MenuRadioGroup",[FNe,UNe]=Lc(JH,{value:void 0,onValueChange:()=>{}}),XH=E.forwardRef((e,t)=>{const o=e,{value:n,onValueChange:r}=o,i=W(o,["value","onValueChange"]),s=ii(r);return _.jsx(FNe,{scope:e.__scopeMenu,value:n,onValueChange:s,children:_.jsx($I,I(S({},i),{ref:t}))})});XH.displayName=JH;var QH="MenuRadioItem",ZH=E.forwardRef((e,t)=>{const o=e,{value:n}=o,r=W(o,["value"]),i=UNe(QH,e.__scopeMenu),s=n===i.value;return _.jsx(ez,{scope:e.__scopeMenu,checked:s,children:_.jsx(Sv,I(S({role:"menuitemradio","aria-checked":s},r),{ref:t,"data-state":YI(s),onSelect:Ve(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})}))})});ZH.displayName=QH;var HI="MenuItemIndicator",[ez,BNe]=Lc(HI,{checked:!1}),tz=E.forwardRef((e,t)=>{const o=e,{__scopeMenu:n,forceMount:r}=o,i=W(o,["__scopeMenu","forceMount"]),s=BNe(HI,n);return _.jsx(Fi,{present:r||Pm(s.checked)||s.checked===!0,children:_.jsx(Ot.span,I(S({},i),{ref:t,"data-state":YI(s.checked)}))})});tz.displayName=HI;var GNe="MenuSeparator",nz=E.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=W(i,["__scopeMenu"]);return _.jsx(Ot.div,I(S({role:"separator","aria-orientation":"horizontal"},r),{ref:t}))});nz.displayName=GNe;var WNe="MenuArrow",rz=E.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=W(s,["__scopeMenu"]),i=jh(n);return _.jsx(wq,I(S(S({},i),r),{ref:t}))});rz.displayName=WNe;var zI="MenuSub",[qNe,iz]=Lc(zI),sz=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,s=ga(zI,t),o=jh(t),[a,c]=E.useState(null),[l,u]=E.useState(null),d=ii(i);return E.useEffect(()=>(s.open===!1&&d(!1),()=>d(!1)),[s.open,d]),_.jsx(QA,I(S({},o),{children:_.jsx(WH,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:_.jsx(qNe,{scope:t,contentId:ss(),triggerId:ss(),trigger:a,onTriggerChange:c,children:n})})}))};sz.displayName=zI;var Ad="MenuSubTrigger",oz=E.forwardRef((e,t)=>{const n=ga(Ad,e.__scopeMenu),r=Fh(Ad,e.__scopeMenu),i=iz(Ad,e.__scopeMenu),s=qI(Ad,e.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=s,l={__scopeMenu:e.__scopeMenu},u=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>u,[u]),E.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),c(null)}},[a,c]),_.jsx(GI,I(S({asChild:!0},l),{children:_.jsx(YH,I(S({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":lz(n.open)},e),{ref:L_(t,i.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ve(e.onPointerMove,Pf(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ve(e.onPointerLeave,Pf(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const g=(p=n.content)==null?void 0:p.dataset.side,m=g==="right",v=m?-5:5,y=f[m?"left":"right"],T=f[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:y,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x:y,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ve(e.onKeyDown,d=>{var h;const f=s.searchRef.current!=="";e.disabled||f&&d.key===" "||TNe[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})}))}))});oz.displayName=Ad;var az="MenuSubContent",cz=E.forwardRef((e,t)=>{const n=VH(ti,e.__scopeMenu),u=e,{forceMount:r=n.forceMount}=u,i=W(u,["forceMount"]),s=ga(ti,e.__scopeMenu),o=Fh(ti,e.__scopeMenu),a=iz(az,e.__scopeMenu),c=E.useRef(null),l=dn(t,c);return _.jsx(Rf.Provider,{scope:e.__scopeMenu,children:_.jsx(Fi,{present:r||s.open,children:_.jsx(Rf.Slot,{scope:e.__scopeMenu,children:_.jsx(VI,I(S({id:a.contentId,"aria-labelledby":a.triggerId,align:"start"},i),{ref:l,side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ve(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ve(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ve(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=wNe[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})}))})})})});cz.displayName=az;function lz(e){return e?"open":"closed"}function Pm(e){return e==="indeterminate"}function YI(e){return Pm(e)?"indeterminate":e?"checked":"unchecked"}function VNe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function $Ne(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function HNe(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=$Ne(e,Math.max(s,0));i.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function zNe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,c=t[s].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(i=!i)}return i}function YNe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return zNe(n,t)}function Pf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var KNe=qH,JNe=GI,XNe=$H,QNe=HH,ZNe=$I,eRe=zH,tRe=Sv,nRe=KH,rRe=XH,iRe=ZH,sRe=tz,oRe=nz,aRe=rz,cRe=sz,lRe=oz,uRe=cz,KI="DropdownMenu",[dRe]=wu(KI,[BH]),Yn=BH(),[fRe,uz]=dRe(KI),dz=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,c=Yn(t),l=E.useRef(null),[u=!1,d]=Rc({prop:i,defaultProp:s,onChange:o});return _.jsx(fRe,{scope:t,triggerId:ss(),triggerRef:l,contentId:ss(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(f=>!f),[d]),modal:a,children:_.jsx(KNe,I(S({},c),{open:u,onOpenChange:d,dir:r,modal:a,children:n}))})};dz.displayName=KI;var fz="DropdownMenuTrigger",hz=E.forwardRef((e,t)=>{const a=e,{__scopeDropdownMenu:n,disabled:r=!1}=a,i=W(a,["__scopeDropdownMenu","disabled"]),s=uz(fz,n),o=Yn(n);return _.jsx(JNe,I(S({asChild:!0},o),{children:_.jsx(Ot.button,I(S({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i),{ref:L_(t,s.triggerRef),onPointerDown:Ve(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:Ve(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})}))}))});hz.displayName=fz;var hRe="DropdownMenuPortal",pz=e=>{const i=e,{__scopeDropdownMenu:t}=i,n=W(i,["__scopeDropdownMenu"]),r=Yn(t);return _.jsx(XNe,S(S({},r),n))};pz.displayName=hRe;var gz="DropdownMenuContent",mz=E.forwardRef((e,t)=>{const a=e,{__scopeDropdownMenu:n}=a,r=W(a,["__scopeDropdownMenu"]),i=uz(gz,n),s=Yn(n),o=E.useRef(!1);return _.jsx(QNe,I(S(S({id:i.contentId,"aria-labelledby":i.triggerId},s),r),{ref:t,onCloseAutoFocus:Ve(e.onCloseAutoFocus,c=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Ve(e.onInteractOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:I(S({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});mz.displayName=gz;var pRe="DropdownMenuGroup",_z=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(ZNe,I(S(S({},i),r),{ref:t}))});_z.displayName=pRe;var gRe="DropdownMenuLabel",vz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(eRe,I(S(S({},i),r),{ref:t}))});vz.displayName=gRe;var mRe="DropdownMenuItem",yz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(tRe,I(S(S({},i),r),{ref:t}))});yz.displayName=mRe;var _Re="DropdownMenuCheckboxItem",Cz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(nRe,I(S(S({},i),r),{ref:t}))});Cz.displayName=_Re;var vRe="DropdownMenuRadioGroup",bz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(rRe,I(S(S({},i),r),{ref:t}))});bz.displayName=vRe;var yRe="DropdownMenuRadioItem",Ez=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(iRe,I(S(S({},i),r),{ref:t}))});Ez.displayName=yRe;var CRe="DropdownMenuItemIndicator",Sz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(sRe,I(S(S({},i),r),{ref:t}))});Sz.displayName=CRe;var bRe="DropdownMenuSeparator",Oz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(oRe,I(S(S({},i),r),{ref:t}))});Oz.displayName=bRe;var ERe="DropdownMenuArrow",SRe=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(aRe,I(S(S({},i),r),{ref:t}))});SRe.displayName=ERe;var ORe=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:s}=e,o=Yn(t),[a=!1,c]=Rc({prop:r,defaultProp:s,onChange:i});return _.jsx(cRe,I(S({},o),{open:a,onOpenChange:c,children:n}))},TRe="DropdownMenuSubTrigger",Tz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(lRe,I(S(S({},i),r),{ref:t}))});Tz.displayName=TRe;var wRe="DropdownMenuSubContent",wz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=Yn(n);return _.jsx(uRe,I(S(S({},i),r),{ref:t,style:I(S({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});wz.displayName=wRe;var Az=dz,JI=hz,ARe=pz,xRe=mz,IRe=_z,NRe=vz,Ov=yz,xz=Cz,RRe=bz,PRe=Ez,kRe=Sz,MRe=Oz,DRe=ORe,LRe=Tz,jRe=wz;const mr=E.createContext({activeDetent$:we(void 0),fullyExpanded$:we(!1),mode:"dropdown",store:{isSheetVisible$:we(!1),isSheetOpen$:we(!1),keepSheetOpen$:we(!1)}}),XI=E.createContext({});function eVe(e){var n,r,i;const t={};return I(S({},t),{isSheetVisible$:we((n=t.isSheetVisible$)!=null?n:!1),isSheetOpen$:we((r=t.isSheetOpen$)!=null?r:!1),keepSheetOpen$:we((i=t.keepSheetOpen$)!=null?i:!1)})}const FRe=B(()=>k(()=>import("./hnt9dcet90ca5vg9.js"),__vite__mapDeps([63,1])),{loading:e=>z(e)}),URe=B(()=>k(()=>import("./cus6e9b5l060ctey.js"),__vite__mapDeps([64,1])),{loading:e=>z(e)}),Iz=6,Nz=function(t){"use forget";var _e,pe;const n=H.c(77);let r,i,s,o,a,c,l,u,d,f,h,p,g,m,v;n[0]!==t?(_e=t,{children:i,className:s,style:h,size:p,align:r,addBottomGradient:g,sheetContentClassName:f,nativeEdgeSwipePrevention:m,ref:u,sheetSize:v,onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c}=_e,d=W(_e,["children","className","style","size","align","addBottomGradient","sheetContentClassName","nativeEdgeSwipePrevention","ref","sheetSize","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside"]),n[0]=t,n[1]=r,n[2]=i,n[3]=s,n[4]=o,n[5]=a,n[6]=c,n[7]=l,n[8]=u,n[9]=d,n[10]=f,n[11]=h,n[12]=p,n[13]=g,n[14]=m,n[15]=v):(r=n[1],i=n[2],s=n[3],o=n[4],a=n[5],c=n[6],l=n[7],u=n[8],d=n[9],f=n[10],h=n[11],p=n[12],g=n[13],m=n[14],v=n[15]);const y=p===void 0?"default":p,T=g===void 0?!1:g,b=m===void 0?!1:m,C=v===void 0?"fit":v,{detents:O,mode:w,store:A}=E.use(mr),[x,R]=E.useState(!1),P=E.useRef(!1),L=E.useRef(!1),D=E.useRef(!1),F=Fe(A.keepSheetOpen$);let G,Y,V,M;if(n[16]!==d?(pe=d,{canBounce:G,hasBounced$:Y,showHeader:M}=pe,V=W(pe,["canBounce","hasBounced$","showHeader"]),n[16]=d,n[17]=G,n[18]=Y,n[19]=V,n[20]=M):(G=n[17],Y=n[18],V=n[19],M=n[20]),w==="sheet"){const j=!F;let Qe;n[21]!==j?(Qe={dismiss:j},n[21]=j,n[22]=Qe):Qe=n[22];let Pe;n[23]===Symbol.for("react.memo_cache_sentinel")?(Pe=_.jsx(es.Backdrop,{}),n[23]=Pe):Pe=n[23];let fe;n[24]!==i||n[25]!==f?(fe=_.jsx(es.ScrollRoot,{children:_.jsx(es.ContentSection,{"data-content-sheet-content-section":!0,className:f,children:i})}),n[24]=i,n[25]=f,n[26]=fe):fe=n[26];let ge;n[27]!==G||n[28]!==s||n[29]!==Y||n[30]!==u||n[31]!==V||n[32]!==C||n[33]!==M||n[34]!==h||n[35]!==fe?(ge=_.jsx(es.Content,I(S({size:C,ref:u,className:s,style:h,canBounce:G,hasBounced$:Y,showHeader:M},V),{children:fe})),n[27]=G,n[28]=s,n[29]=Y,n[30]=u,n[31]=V,n[32]=C,n[33]=M,n[34]=h,n[35]=fe,n[36]=ge):ge=n[36];let Le;return n[37]!==O||n[38]!==b||n[39]!==Qe||n[40]!==ge?(Le=_.jsxs(es.View,{detents:O,nativeEdgeSwipePrevention:b,onClickOutside:Qe,children:[Pe,ge]}),n[37]=O,n[38]=b,n[39]=Qe,n[40]=ge,n[41]=Le):Le=n[41],Le}const te=V.alignOffset?"".concat(V.alignOffset,"px"):void 0;let $;n[42]!==te?($={"--radix-align-offset":te},n[42]=te,n[43]=$):$=n[43];const ie=$,ue=r!=null?r:"start";let me;n[44]!==ie||n[45]!==h?(me=S(S({},ie),h),n[44]=ie,n[45]=h,n[46]=me):me=n[46];const J=y==="default",K=y==="large",ne=y==="small",X=y==="medium",ee=y==="auto";let ye;n[47]!==s||n[48]!==K||n[49]!==ne||n[50]!==X||n[51]!==ee||n[52]!==J?(ye=ve("[--trigger-width:calc(var(--radix-dropdown-menu-trigger-width)-2*var(--radix-align-offset))]",{"min-w-[max(var(--trigger-width),min(280px,95vw))]":J,"min-w-[max(var(--trigger-width),min(350px,95vw))]":K,"min-w-[max(var(--trigger-width),min(125px,95vw))]":ne,"min-w-[max(var(--trigger-width),min(200px,95vw))]":X,"min-w-(--trigger-width)":ee},"max-h-[var(--radix-dropdown-menu-content-available-height)] overflow-y-auto select-none",s),n[47]=s,n[48]=K,n[49]=ne,n[50]=X,n[51]=ee,n[52]=J,n[53]=ye):ye=n[53];let de;n[54]!==o?(de=j=>{const Qe=P.current,Pe=L.current,fe=D.current;P.current=!1,L.current=!1,D.current=!1,!fe&&!Qe&&!Pe&&(o==null||o(j))},n[54]=o,n[55]=de):de=n[55];let oe;n[56]!==a?(oe=j=>{a==null||a(j),P.current=!0},n[56]=a,n[57]=oe):oe=n[57];let Ee;n[58]!==l?(Ee=j=>{l==null||l(j),L.current=!0},n[58]=l,n[59]=Ee):Ee=n[59];let Ae;n[60]!==c?(Ae=j=>{c==null||c(j),D.current=!0},n[60]=c,n[61]=Ae):Ae=n[61];let He;n[62]!==T||n[63]!==x?(He=T&&_.jsxs(_.Fragment,{children:[_.jsx(IIe,{setIsScrolledToEdge:R},"dropdownBottomEdgeScrollObserver"),_.jsx("div",{className:"pointer-events-none absolute start-0 end-0 bottom-0 h-20 transition-opacity duration-100",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--main-surface-primary))",opacity:x?1:0}})]}),n[62]=T,n[63]=x,n[64]=He):He=n[64];let Re;return n[65]!==i||n[66]!==u||n[67]!==V||n[68]!==ye||n[69]!==de||n[70]!==oe||n[71]!==Ee||n[72]!==Ae||n[73]!==He||n[74]!==ue||n[75]!==me?(Re=_.jsx(Tde,{children:_.jsxs(IH,I(S({ref:u,$as:xRe,sideOffset:4,align:ue,collisionPadding:Iz,style:me,className:ye,onCloseAutoFocus:de,onEscapeKeyDown:oe,onPointerDownOutside:Ee,onFocusOutside:Ae},V),{children:[i,He]}))}),n[65]=i,n[66]=u,n[67]=V,n[68]=ye,n[69]=de,n[70]=oe,n[71]=Ee,n[72]=Ae,n[73]=He,n[74]=ue,n[75]=me,n[76]=Re):Re=n[76],Re};function BRe(e){"use forget";var c;const t=H.c(13);let n,r;t[0]!==e?(c=e,{ref:r}=c,n=W(c,["ref"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const{mode:i}=E.use(mr);let s;t[3]!==n?(s=l=>{var u;l.stopPropagation(),(u=n.onFocusCapture)==null||u.call(n,l)},t[3]=n,t[4]=s):s=t[4];const o=s;if(i==="sheet"){let l;return t[5]!==o||t[6]!==n||t[7]!==r?(l=_.jsx(es.Trigger,{asChild:!0,children:_.jsx("button",S({ref:r,onFocusCapture:o},n))}),t[5]=o,t[6]=n,t[7]=r,t[8]=l):l=t[8],l}let a;return t[9]!==o||t[10]!==n||t[11]!==r?(a=_.jsx(NIe,I(S({$as:JI,ref:r},n),{onFocusCapture:o})),t[9]=o,t[10]=n,t[11]=r,t[12]=a):a=t[12],a}function GRe(e){"use forget";var g;const t=H.c(22);let n,r,i,s;t[0]!==e?(g=e,{ref:s,onClick:r,onFocusCapture:i}=g,n=W(g,["ref","onClick","onFocusCapture"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const{mode:o,store:a}=E.use(mr);let c;t[5]!==a?(c=()=>a==null?void 0:a.isSheetVisible$(),t[5]=a,t[6]=c):c=t[6];const l=Fe(c);let u;t[7]!==r?(u=m=>{m.preventDefault(),r==null||r(m)},t[7]=r,t[8]=u):u=t[8];const d=u;let f;t[9]!==i?(f=m=>{m.stopPropagation(),i==null||i(m)},t[9]=i,t[10]=f):f=t[10];const h=f;if(o==="sheet"){const m=l?"open":"closed",v=d;let y;return t[11]!==h||t[12]!==n||t[13]!==s||t[14]!==m||t[15]!==v?(y=_.jsx(es.Trigger,S({ref:s,"data-state":m,onFocusCapture:h,onClick:v},n)),t[11]=h,t[12]=n,t[13]=s,t[14]=m,t[15]=v,t[16]=y):y=t[16],y}let p;return t[17]!==d||t[18]!==h||t[19]!==n||t[20]!==s?(p=_.jsx(JI,S({ref:s,onClick:d,onFocusCapture:h},n)),t[17]=d,t[18]=h,t[19]=n,t[20]=s,t[21]=p):p=t[21],p}function Rz({children:e}){const{mode:t}=E.use(mr),n=eq();return t==="sheet"?_.jsx(es.Portal,I(S({},n),{children:e})):_.jsx(ARe,I(S({},n),{children:e}))}function jc(r){var i=r,{onPointerMove:e,onPointerLeave:t}=i,n=W(i,["onPointerMove","onPointerLeave"]);return I(S({},n),{onPointerMove:s=>{e==null||e(s),UF(s)},onPointerLeave:s=>{t==null||t(s),UF(s)}})}const UF=e=>{if(!e.defaultPrevented&&e.pointerType!=="touch"){const t=e.currentTarget.ownerDocument.activeElement;t&&yce(t,"data-hold-focus")&&e.preventDefault()}},Pz=e=>{const a=e,{disabled:t,ref:n,onSelect:r}=a,i=W(a,["disabled","ref","onSelect"]),[s,o]=Et.useState(!1);return _.jsx("div",I(S({role:"menuitem","data-highlighted":s?"":void 0,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,ref:n},i),{onFocus:c=>{var l;o(!0),(l=e.onFocus)==null||l.call(e,c)},onBlur:c=>{var l;o(!1),(l=e.onBlur)==null||l.call(e,c)},onSelect:c=>{r==null||r(c.nativeEvent)},children:e.children}))},WRe=e=>{const{mode:t}=E.use(mr);return _.jsx(ro,S({as:t==="sheet"?Pz:Ov,hasManagedFocus:!0},jc(e)))},qRe=e=>{const{mode:t}=E.use(mr),n=t==="sheet"?Pz:Ov;return _.jsx(n,I(S({asChild:!0},jc({})),{children:_.jsx(ro,S({},e))}))};function VRe(r){var i=r,{className:e,noMargin:t}=i,n=W(i,["className","noMargin"]);return _.jsx(MRe,S({className:ve("bg-token-border-default h-px",!t&&"mx-4 my-1",e)},n))}const $Re=r=>{var i=r,{separator:e=!0,className:t}=i,n=W(i,["separator","className"]);const{mode:s}=E.use(mr),o=_.jsx(IRe,S({className:ve("empty:hidden [:not(:has(div:not([role=group])))]:hidden",e&&"before:bg-token-border-default content-sheet:before:my-3 content-sheet:before:mx-6 before:mx-4 before:my-1 before:block before:h-px first:before:hidden [&:nth-child(1_of_:has(div:not([role=group])))]:before:hidden",t)},n));return s==="sheet"?_.jsx(ah,{name:"DropdownGroup",fallback:_.jsx(_.Fragment,{}),children:o}):o};function HRe(e){const c=e,{children:t,value:n,defaultValue:r,defaultChecked:i}=c,o=W(c,["children","value","defaultValue","defaultChecked"]),{onRadioGroupChange:a}=E.use(XI);return _.jsxs("label",I(S({},o),{children:[t,_.jsx("input",{type:"radio",className:"sr-only",value:n,defaultValue:r,defaultChecked:i,onChange:l=>{a==null||a(l.target.value)}})]}))}const zRe=e=>{"use forget";const t=H.c(7),{mode:n}=E.use(mr),r=n==="sheet"?HRe:PRe,i=n==="sheet"?"large":e.size;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=_.jsx(kz,{}),t[0]=s):s=t[0];let o;t[1]!==e?(o=jc(e),t[1]=e,t[2]=o):o=t[2];let a;return t[3]!==r||t[4]!==i||t[5]!==o?(a=_.jsx(ro,S({as:r,hasManagedFocus:!0,size:i,trailingColor:"primary",trailing:s},o)),t[3]=r,t[4]=i,t[5]=o,t[6]=a):a=t[6],a};function kz(){return _.jsxs(_.Fragment,{children:[_.jsx(kRe,{children:_.jsx(AH,{className:"icon-sm"})}),_.jsx("div",{className:"icon-sm group-radix-state-checked:hidden"})]})}const YRe=Et.forwardRef(function(t,n){const s=t,{className:r}=s,i=W(s,["className"]);return _.jsx(IH,S({ref:n,$as:jRe,className:ve("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",r),sideOffset:2,alignOffset:t.align==="end"?-6:-14,collisionPadding:Iz},i))}),KRe=e=>_.jsx(ro,S({subMenu:!0,as:LRe,hasManagedFocus:!0},jc(e)));function tVe({triggerButton:e,children:t,size:n="default",open:r,onOpenChange:i,onCloseAutoFocus:s,contentAlign:o,side:a,sideOffset:c=0,alignOffset:l=0,contentClassName:u,testId:d,tooltip:f,tooltipSideOffset:h,contentRef:p,modal:g=!1}){const[m,v]=E.useState(r!=null?r:!1),y=r!==void 0,T=Fe(L7),b=A=>{y||v(A),i==null||i(A)},{triggerRef:C}=RIe({isOpen:!!m||!!r,onClose:()=>b(!1)}),O=_.jsx(JI,{asChild:!0,ref:C,"data-testid":d?"".concat(d,"-button"):void 0,children:e}),w=f?_.jsx(so,{label:f,disabled:!T,triggerAs:null,sideOffset:h,children:O}):O;return _.jsxs(Az,{modal:g,open:r!=null?r:m,onOpenChange:b,children:[w,_.jsx(Rz,{children:_.jsx(Nz,{ref:p,size:n,align:o,alignOffset:l,side:a,sideOffset:c,className:u,onCloseAutoFocus:s,onClick:A=>{A.stopPropagation()},children:t})})]})}function JRe(e){return _.jsx(Ice,S({as:NRe},e))}function XRe(e){"use forget";const t=H.c(22),{children:n,className:r,behavior:i,sheetName:s,sheetUrl:o}=e,{store:a,activeDetent$:c,detents:l,fullyExpanded$:u}=E.use(mr),d=Fe(a.isSheetVisible$),f=Fe(c);let h;t[0]!==a.isSheetOpen$||t[1]!==a.keepSheetOpen$?(h=()=>{H6(()=>{a.keepSheetOpen$.set(!1),a.isSheetOpen$.set(!1)})},t[0]=a.isSheetOpen$,t[1]=a.keepSheetOpen$,t[2]=h):h=t[2];let p;t[3]!==c||t[4]!==l||t[5]!==u||t[6]!==e?(p=v=>{var y;if(c.set(v),(y=e.onActiveDetentChange)==null||y.call(e,v),l&&l.length>0){const T=v===(l==null?void 0:l.length)+1;u.set(T)}},t[3]=c,t[4]=l,t[5]=u,t[6]=e,t[7]=p):p=t[7];let g;t[8]!==e||t[9]!==a.isSheetOpen$?(g=v=>{var y;a.isSheetOpen$.set(v),(y=e.onOpenChange)==null||y.call(e,v)},t[8]=e,t[9]=a.isSheetOpen$,t[10]=g):g=t[10];let m;return t[11]!==f||t[12]!==i||t[13]!==n||t[14]!==r||t[15]!==d||t[16]!==s||t[17]!==o||t[18]!==h||t[19]!==p||t[20]!==g?(m=_.jsx(es.Root,{activeDetent:f,className:r,behavior:i,sheetName:s,sheetUrl:o,onHistoryPop:h,onActiveDetentChange:p,onPresentedChange:g,presented:d,children:n}),t[11]=f,t[12]=i,t[13]=n,t[14]=r,t[15]=d,t[16]=s,t[17]=o,t[18]=h,t[19]=p,t[20]=g,t[21]=m):m=t[21],m}function QRe(e){"use forget";var f;const t=H.c(20);let n,r,i,s,o,a,c,l,u;t[0]!==e?(f=e,{className:r,detents:i,mode:s,open:o,store:u,behavior:n,sheetName:c,sheetUrl:l}=f,a=W(f,["className","detents","mode","open","store","behavior","sheetName","sheetUrl"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9]);let d;return t[10]!==n||t[11]!==r||t[12]!==i||t[13]!==s||t[14]!==o||t[15]!==a||t[16]!==c||t[17]!==l||t[18]!==u?(d=_.jsx(wde,{children:s==="sheet"&&u?_.jsx(mr,{value:{mode:s!=null?s:"dropdown",store:u,detents:i,activeDetent$:we(void 0),fullyExpanded$:we(!1)},children:_.jsx(XRe,S({className:r,behavior:n,sheetName:c,sheetUrl:l},a))}):_.jsx(Az,I(S({},a),{open:o}))}),t[10]=n,t[11]=r,t[12]=i,t[13]=s,t[14]=o,t[15]=a,t[16]=c,t[17]=l,t[18]=u,t[19]=d):d=t[19],d}function ZRe(e){const o=e,{children:t,container:n}=o,r=W(o,["children","container"]),{mode:i}=E.use(mr),s=i==="sheet"?es.Portal:Rz;return _.jsx(s,I(S({},r),{container:n,children:t}))}function ePe(e){"use forget";var d;const t=H.c(16);let n,r,i,s;t[0]!==e?(d=e,{children:n,defaultValue:i,defaultChecked:r}=d,s=W(d,["children","defaultValue","defaultChecked"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=s,{onRadioGroupChange:a}=E.use(XI);let c;t[5]!==a||t[6]!==s?(c=f=>{var h;f.preventDefault(),f.stopPropagation(),(h=s.onCheckedChange)==null||h.call(s,f.target.checked),a==null||a(f.target.value)},t[5]=a,t[6]=s,t[7]=c):c=t[7];let l;t[8]!==r||t[9]!==i||t[10]!==c?(l=_.jsx("input",{type:"checkbox",className:"sr-only",defaultValue:i,defaultChecked:r,onChange:c}),t[8]=r,t[9]=i,t[10]=c,t[11]=l):l=t[11];let u;return t[12]!==n||t[13]!==o||t[14]!==l?(u=_.jsxs("label",I(S({},o),{children:[n,l]})),t[12]=n,t[13]=o,t[14]=l,t[15]=u):u=t[15],u}const tPe=e=>{const{mode:t}=E.use(mr);return _.jsx(ro,S({as:t==="sheet"?ePe:xz,hasManagedFocus:!0,onSelect:n=>{n.preventDefault()},onClick:n=>{n.stopPropagation()},trailingColor:"primary",trailing:_.jsx(QW,{size:"small",disabled:e.disabled,checked:e.checked===!0,"aria-hidden":!0})},jc(e)))};function nPe(o){var a=o,{checked:e,onCheckedChange:t,children:n,onClick:r,className:i}=a,s=W(a,["checked","onCheckedChange","children","onClick","className"]);const c=l=>{l.preventDefault()};return _.jsx(xz,I(S({checked:e,onCheckedChange:t,onSelect:c,onClick:r,className:ve(i,"mx-2 flex cursor-pointer items-center rounded-md p-3 text-sm","hover:bg-token-main-surface-secondary keyboard-focused:bg-token-main-surface-secondary","radix-disabled:pointer-events-none radix-disabled:opacity-50 focus:outline-none","radix-state-open:bg-token-main-surface-secondary")},s),{children:_.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[n,e?_.jsx(URe,{className:"icon-sm text-token-text-primary"}):_.jsx(FRe,{className:"icon-sm text-token-text-tertiary"})]})}))}function rPe(e){return _.jsx(Ov,I(S({asChild:!0},jc({})),{children:_.jsx(wce,S({},e))}))}const iPe=e=>_.jsx(Ov,I(S({asChild:!0,onSelect:t=>{t.preventDefault()}},jc({})),{children:_.jsx(Rce,S({},e))}));function sPe(e){const{store:t}=E.use(mr);return _.jsx(XI,{value:{onRadioGroupChange:n=>{var r;(r=e.onValueChange)==null||r.call(e,n),t.isSheetOpen$.set(!1)}},children:_.jsx("section",S({},e))})}function oPe(e){"use forget";const t=H.c(3),{mode:n}=E.use(mr),r=n==="sheet"?sPe:RRe;let i;return t[0]!==r||t[1]!==e?(i=_.jsx(r,S({},e)),t[0]=r,t[1]=e,t[2]=i):i=t[2],i}function aPe(e){return _.jsx(GA,S({as:"button"},e))}function cPe(e){return _.jsx(GA,I(S({},e),{as:"button",row:!0}))}const rd={Root:QRe,Trigger:BRe,BasicTrigger:GRe,Portal:ZRe,Content:Nz,Item:WRe,ItemAs:qRe,HeaderItem:aPe,HeaderItemRow:cPe,HeaderItemAs:GA,Separator:VRe,Group:$Re,RadioGroup:oPe,RadioItem:zRe,RadioItemCheck:kz,Sub:DRe,SubContent:YRe,SubMenuTrigger:KRe,Label:JRe,CheckboxItem:tPe,MultiSelectCheckboxItem:nPe,LinkItem:rPe,InputItem:iPe,Shimmer:Nce},lPe=["https:","mailto:","tel:"],uPe=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch(n){return}if(lPe.includes(t.protocol))return t.href},dPe=E.forwardRef((s,i)=>{var o=s,{href:e,target:t="_blank",children:n}=o,r=W(o,["href","target","children"]);return _.jsx("a",I(S({ref:i,href:uPe(e),target:t,rel:"noopener",alt:e},r),{children:n}))});dPe.displayName="ExternalLink";function BF(e){"use forget";var h;const t=H.c(14);let n,r,i,s,o;t[0]!==e?(h=e,{className:r,openNewTab:s,children:n,underline:o}=h,i=W(h,["className","openNewTab","children","underline"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5]);const a=s===void 0?!1:s,l=(o===void 0?!0:o)&&"underline";let u;t[6]!==r||t[7]!==l?(u=ve("cursor-pointer font-normal",l,r),t[6]=r,t[7]=l,t[8]=u):u=t[8];const d=a?"_blank":"_self";let f;return t[9]!==n||t[10]!==i||t[11]!==u||t[12]!==d?(f=_.jsx("a",I(S({rel:"noopener",className:u,target:d},i),{children:n})),t[9]=n,t[10]=i,t[11]=u,t[12]=d,t[13]=f):f=t[13],f}function Tv({percentage:e,thickness:t=1/12,className:n,outerCircleClassName:r,sizeOverride:i,transitionDuration:s,transitionTimingFunction:o,onTransitionEnd:a}){const c=i!=null?i:120,l=c*t,d=(c-l)/2-l-2;return _.jsxs("svg",{width:c,height:c,viewBox:"0 0 ".concat(c," ").concat(c),className:n,children:[_.jsxs("g",{style:{transformOrigin:"50% 50%",animation:"spin 1s linear infinite"},className:r,children:[_.jsx("path",{fill:"url(#b)",fillOpacity:".7",fillRule:"evenodd",d:"\n        M".concat(c," ").concat(c/2,"\n        A").concat(c/2," ").concat(c/2," 0 1 0 0 ").concat(c/2,"\n        A").concat(c/2," ").concat(c/2," 0 0 0 ").concat(c," ").concat(c/2,"\n        Z\n        M").concat(c*.1042," ").concat(c/2,"\n        A").concat(c*.3956," ").concat(c*.3956," 0 1 0 ").concat(c-c*.1042," ").concat(c/2,"\n        A").concat(c*.3956," ").concat(c*.3956," 0 0 0 ").concat(c*.1042," ").concat(c/2,"\n        Z\n      "),clipRule:"evenodd"}),_.jsx("defs",{children:_.jsxs("radialGradient",{id:"b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(".concat(c/2-c*.0625," 0 0 ").concat(c/2-c*.0625," ").concat(c*.0625," ").concat(c/2,")"),gradientUnits:"userSpaceOnUse",children:[_.jsx("stop",{stopColor:"#0285FF"}),_.jsx("stop",{offset:"1",stopColor:"#0285FF",stopOpacity:".3"})]})})]}),_.jsx("path",{className:"origin-[50%_50%] transition-[stroke-dashoffset]",d:e===100?"M ".concat(c/2," ").concat(c/2,"\n         m 0 -").concat(d,"\n         a ").concat(d," ").concat(d," 0 1 1 0 ").concat(2*d,"\n         a ").concat(d," ").concat(d," 0 1 1 0 -").concat(2*d,"\n         Z"):"M ".concat(c/2," ").concat(c/2,"\n         L ").concat(c/2," ").concat(c/2-d,"\n         A ").concat(d," ").concat(d," 0 ").concat(e>50?1:0," 1\n         ").concat(c/2+d*Math.sin(2*Math.PI*e/100),"\n         ").concat(c/2-d*Math.cos(2*Math.PI*e/100),"\n         Z"),fill:"currentColor",style:{transitionDuration:s,transitionTimingFunction:o},onTransitionEnd:a})]})}function nVe(e,t,n){const r=Math.floor((e.getTime()-t.getTime())/1e3);if(r<60)return n.formatMessage({id:"hr1xff",defaultMessage:"{diffInSecs}s"},{diffInSecs:r});if(r<600){const s=Math.floor(r/60),o=r%60;return n.formatMessage({id:"7KZ91/",defaultMessage:"{mins}m {secs}s"},{mins:s,secs:o})}if(r<3600){const s=Math.floor(r/60);return n.formatMessage({id:"IkyEWY",defaultMessage:"{mins}m"},{mins:s})}const i=Math.floor(r/3600);if(r<3600*10){const s=Math.floor(r%3600/60);return n.formatMessage({id:"z9qVYm",defaultMessage:"{hours}h {mins}m"},{hours:i,mins:s})}return n.formatMessage({id:"vAHzUw",defaultMessage:"{hours}h"},{hours:i})}const fPe=({givenDate:e,now:t,intl:n,format:r="abbreviated"})=>{const i=Math.max(0,Math.floor((t.getTime()-e.getTime())/1e3)),o=60*60,a=o*24,c=a*7,l=a*30,u=a*365;if(i<60)return r==="abbreviated"?n.formatMessage({id:"hepLPr",defaultMessage:"{seconds}s ago"},{seconds:i}):n.formatMessage({id:"cLJFUT",defaultMessage:"{seconds} seconds ago"},{seconds:i});if(i<3600){const f=Math.floor(i/60);return r==="abbreviated"?n.formatMessage({id:"ZyHv9I",defaultMessage:"{minutes}m ago"},{minutes:f}):n.formatMessage({id:"RfRx5t",defaultMessage:"{minutes} minutes ago"},{minutes:f})}else if(i<a){const f=Math.floor(i/o);return r==="abbreviated"?n.formatMessage({id:"2p4Gd3",defaultMessage:"{hours}h ago"},{hours:f}):n.formatMessage({id:"0d1QfF",defaultMessage:"{hours} hours ago"},{hours:f})}else if(i<c){const f=Math.floor(i/a);return r==="abbreviated"?n.formatMessage({id:"KPjpqR",defaultMessage:"{days}d ago"},{days:f}):n.formatMessage({id:"n68thd",defaultMessage:"{days} days ago"},{days:f})}else if(i<l){const f=Math.floor(i/c);return r==="abbreviated"?n.formatMessage({id:"CT/+6h",defaultMessage:"{weeks}w ago"},{weeks:f}):n.formatMessage({id:"L0HKJO",defaultMessage:"{weeks, plural, one {# week ago} other {# weeks ago}}"},{weeks:f})}else if(i<u){const f=Math.floor(i/l);return r==="abbreviated"?n.formatMessage({id:"Qj+4rv",defaultMessage:"{months}mo ago"},{months:f}):n.formatMessage({id:"ttL843",defaultMessage:"{months, plural, one {# month ago} other {# months ago}}"},{months:f})}const d=Math.floor(i/u);return r==="abbreviated"?n.formatMessage({id:"cPSC5x",defaultMessage:"{years}y ago"},{years:d}):n.formatMessage({id:"SxfwDT",defaultMessage:"{years, plural, one {# year ago} other {# years ago}}"},{years:d})},hPe=30;function rVe(e,t){if(t==null)return null;const n=new Date(t*1e3),r=e.locale,i=Math.max(Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)),0);if(i>hPe)return e.formatDate(n,{dateStyle:"medium"});const s=e.formatRelativeTime(-i,"day",{numeric:"auto"});return r.startsWith("en")?s.charAt(0).toUpperCase()+s.slice(1):s}function QI(){const e=re();return xt(e).isElectron}function pPe({children:e}){return _.jsx(so,{label:_.jsx(bt,{id:"8yqd2N",defaultMessage:"Temporarily unavailable"}),children:e})}const gPe=B(()=>k(()=>import("./fyw02vlaiv2vq6cj.js").then(e=>e.zv),__vite__mapDeps([3,1,4])),{loading:e=>z(e)}),mPe={medium:{container:"h-12 w-12",icon:"h-8 w-8",padding:"p-2"},small:{container:"h-10 w-10",icon:"h-7 w-7",padding:"p-1.5"}},_Pe=e=>{"use forget";var h;const t=H.c(12),{size:n}=e,r=n===void 0?"medium":n,[i,s]=E.useState(!1),o=_s(),a=mPe[r];if(!(o!=null&&o.data.profilePictureUrl)||i){const p="bg-token-bg-primary inline-flex items-center justify-center rounded-xl border-[0.5px] shadow-sm ".concat(a.container," ").concat(a.padding),g="text-token-text-primary ".concat(a.icon);let m;t[0]!==g?(m=_.jsx(gPe,{className:g}),t[0]=g,t[1]=m):m=t[1];let v;return t[2]!==p||t[3]!==m?(v=_.jsx("span",{className:p,children:m}),t[2]=p,t[3]=m,t[4]=v):v=t[4],v}const c="overflow-hidden rounded-xl border-[0.5px] bg-black shadow-sm ".concat(a.container),l=(h=o.data.name)!=null?h:"";let u;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(!0),t[5]=u):u=t[5];let d;t[6]!==o.data.profilePictureUrl||t[7]!==l?(d=_.jsx("img",{src:o.data.profilePictureUrl,alt:l,onError:u,className:"h-full w-full object-cover"}),t[6]=o.data.profilePictureUrl,t[7]=l,t[8]=d):d=t[8];let f;return t[9]!==c||t[10]!==d?(f=_.jsx("span",{className:c,children:d}),t[9]=c,t[10]=d,t[11]=f):f=t[11],f},vPe=e=>{"use forget";const t=H.c(20),{title:n,description:r,connectorIcon:i,connectorDeveloper:s,onClose:o}=e;let a;t[0]!==o?(a=_.jsx("div",{className:"flex justify-end",children:_.jsx(bv,{onClick:o})}),t[0]=o,t[1]=a):a=t[1];let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=_.jsx(_Pe,{}),t[2]=c):c=t[2];let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=_.jsxs("div",{className:"flex gap-1",children:[_.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),_.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),_.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"})]}),t[3]=l):l=t[3];let u;t[4]!==i?(u=_.jsxs("div",{className:"flex items-center gap-2.5",children:[c,l,i]}),t[4]=i,t[5]=u):u=t[5];let d;t[6]!==n?(d=_.jsx("div",{className:"pt-3 text-center text-xl font-semibold",children:n}),t[6]=n,t[7]=d):d=t[7];let f;t[8]!==s?(f=s&&_.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:_.jsx(bt,I(S({},yPe.developedBy),{values:{developer:s}}))}),t[8]=s,t[9]=f):f=t[9];let h;t[10]!==r?(h=r&&_.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:r}),t[10]=r,t[11]=h):h=t[11];let p;t[12]!==u||t[13]!==d||t[14]!==f||t[15]!==h?(p=_.jsxs("div",{className:"flex flex-col items-center",children:[u,d,f,h]}),t[12]=u,t[13]=d,t[14]=f,t[15]=h,t[16]=p):p=t[16];let g;return t[17]!==a||t[18]!==p?(g=_.jsxs(_.Fragment,{children:[a,p]}),t[17]=a,t[18]=p,t[19]=g):g=t[19],g},yPe=Tt({developedBy:{id:"yPpO4G",defaultMessage:"Developed by {developer}"}}),CPe=Pt[N.GDRIVE_ACTION_CONNECTOR],iVe=Pt[N.GITHUB_CONNECTOR],sVe=Pt[N.LINEAR_CONNECTOR],oVe=Pt[N.SHAREPOINT_CONNECTOR],aVe=Pt[N.DROPBOX_CONNECTOR],cVe=Pt[N.BOX_CONNECTOR],lVe=Pc[N.NOTION_CONNECTOR].access,uVe=Pc[N.NOTION_CONNECTOR].sync,dVe=Pc[N.HUBSPOT_CONNECTOR].access,fVe=Pc[N.HUBSPOT_CONNECTOR].sync,hVe=Pc[N.INTERCOM_CONNECTOR].access,pVe=Pc[N.INTERCOM_CONNECTOR].sync,gVe=Pt[N.SLACK_CONNECTOR],fw="#settings/".concat(H_.Connectors),mVe="connectors",Mz="connector",ZI="add-connector-link",Dz="show-settings-behind-connector-link",_Ve="link_success",bPe="connector-toggle",EPe="create-connector",eN="product-sku",Lz="redirectAfter",tN="noRedirect",SPe="system-hint-type",nN="referrer",rN="auth-type-override",vVe="toggle-all",iN="slack_workspace",sN="slack_team_id",oN="sync-only";var jz=(e=>(e.ConversationFollowup="conversation_followup",e.UpgradeAccountOnboarding="upgrade_account_onboarding",e.JitPluginMessage="jit_plugin_message",e.MessageSuggestion="message_suggestion",e.ConnectorNuxModal="connector_nux_modal",e.SourcesDropdown="sources_dropdown",e.SourcePills="source_pills",e.SuggestedPrompts="suggested_prompts",e.SettingsConnectorsTab="settings_connectors_tab",e.PulseConnectorsProactiveToggle="pulse_connectors_proactive_toggle",e.AdminSettingsConnectors="admin_settings_connectors",e.ConnectorToggle="connector_toggle",e.Codex="codex",e.AgentConnectBanner="agent_connect_banner",e.CompanyKnowledgeNuxModal="company_knowledge_nux_modal",e.NewWorkspaceUserOnboardingFlow="new_workspace_user_onboarding_flow",e))(jz||{});function OPe(){return l_()?window:null}var TPe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rl=new WeakMap,Lp=new WeakMap,jp={},JS=0,Fz=function(e){return e&&(e.host||Fz(e.parentNode))},wPe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Fz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},APe=function(e,t,n,r){var i=wPe(t,Array.isArray(e)?e:[e]);jp[n]||(jp[n]=new WeakMap);var s=jp[n],o=[],a=new Set,c=new Set(i),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};i.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var h=f.getAttribute(r),p=h!==null&&h!=="false",g=(rl.get(f)||0)+1,m=(s.get(f)||0)+1;rl.set(f,g),s.set(f,m),o.push(f),g===1&&p&&Lp.set(f,!0),m===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}})};return u(t),a.clear(),JS++,function(){o.forEach(function(d){var f=rl.get(d)-1,h=s.get(d)-1;rl.set(d,f),s.set(d,h),f||(Lp.has(d)||d.removeAttribute(r),Lp.delete(d)),h||d.removeAttribute(n)}),JS--,JS||(rl=new WeakMap,rl=new WeakMap,Lp=new WeakMap,jp={})}},xPe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=TPe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),APe(r,i,n,"aria-hidden")):function(){return null}},aN="Dialog",[Uz,IPe]=wu(aN),[NPe,Bi]=Uz(aN),cN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=E.useRef(null),c=E.useRef(null),[l=!1,u]=Rc({prop:r,defaultProp:i,onChange:s});return _.jsx(NPe,{scope:t,triggerRef:a,contentRef:c,contentId:ss(),titleId:ss(),descriptionId:ss(),open:l,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};cN.displayName=aN;var Bz="DialogTrigger",lN=E.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,r=W(o,["__scopeDialog"]),i=Bi(Bz,n),s=dn(t,i.triggerRef);return _.jsx(Ot.button,I(S({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vN(i.open)},r),{ref:s,onClick:Ve(e.onClick,i.onOpenToggle)}))});lN.displayName=Bz;var uN="DialogPortal",[RPe,Gz]=Uz(uN,{forceMount:void 0}),dN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Bi(uN,t);return _.jsx(RPe,{scope:t,forceMount:n,children:E.Children.map(r,o=>_.jsx(Fi,{present:n||s.open,children:_.jsx(ph,{asChild:!0,container:i,children:o})}))})};dN.displayName=uN;var km="DialogOverlay",fN=E.forwardRef((e,t)=>{const n=Gz(km,e.__scopeDialog),o=e,{forceMount:r=n.forceMount}=o,i=W(o,["forceMount"]),s=Bi(km,e.__scopeDialog);return s.modal?_.jsx(Fi,{present:r||s.open,children:_.jsx(PPe,I(S({},i),{ref:t}))}):null});fN.displayName=km;var PPe=E.forwardRef((e,t)=>{const s=e,{__scopeDialog:n}=s,r=W(s,["__scopeDialog"]),i=Bi(km,n);return _.jsx(BI,{as:nu,allowPinchZoom:!0,shards:[i.contentRef],children:_.jsx(Ot.div,I(S({"data-state":vN(i.open)},r),{ref:t,style:S({pointerEvents:"auto"},r.style)}))})}),Oc="DialogContent",hN=E.forwardRef((e,t)=>{const n=Gz(Oc,e.__scopeDialog),o=e,{forceMount:r=n.forceMount}=o,i=W(o,["forceMount"]),s=Bi(Oc,e.__scopeDialog);return _.jsx(Fi,{present:r||s.open,children:s.modal?_.jsx(kPe,I(S({},i),{ref:t})):_.jsx(MPe,I(S({},i),{ref:t}))})});hN.displayName=Oc;var kPe=E.forwardRef((e,t)=>{const n=Bi(Oc,e.__scopeDialog),r=E.useRef(null),i=dn(t,n.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return xPe(s)},[]),_.jsx(Wz,I(S({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ve(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ve(e.onFocusOutside,s=>s.preventDefault())}))}),MPe=E.forwardRef((e,t)=>{const n=Bi(Oc,e.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return _.jsx(Wz,I(S({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),Wz=E.forwardRef((e,t)=>{const u=e,{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s}=u,o=W(u,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),a=Bi(Oc,n),c=E.useRef(null),l=dn(t,c);return NH(),_.jsxs(_.Fragment,{children:[_.jsx(UI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:_.jsx(fh,I(S({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vN(a.open)},o),{ref:l,onDismiss:()=>a.onOpenChange(!1)}))}),_.jsxs(_.Fragment,{children:[_.jsx(LPe,{titleId:a.titleId}),_.jsx(FPe,{contentRef:c,descriptionId:a.descriptionId})]})]})}),pN="DialogTitle",gN=E.forwardRef((e,t)=>{const s=e,{__scopeDialog:n}=s,r=W(s,["__scopeDialog"]),i=Bi(pN,n);return _.jsx(Ot.h2,I(S({id:i.titleId},r),{ref:t}))});gN.displayName=pN;var qz="DialogDescription",mN=E.forwardRef((e,t)=>{const s=e,{__scopeDialog:n}=s,r=W(s,["__scopeDialog"]),i=Bi(qz,n);return _.jsx(Ot.p,I(S({id:i.descriptionId},r),{ref:t}))});mN.displayName=qz;var Vz="DialogClose",_N=E.forwardRef((e,t)=>{const s=e,{__scopeDialog:n}=s,r=W(s,["__scopeDialog"]),i=Bi(Vz,n);return _.jsx(Ot.button,I(S({type:"button"},r),{ref:t,onClick:Ve(e.onClick,()=>i.onOpenChange(!1))}))});_N.displayName=Vz;function vN(e){return e?"open":"closed"}var $z="DialogTitleWarning",[DPe,Hz]=kce($z,{contentName:Oc,titleName:pN,docsSlug:"dialog"}),LPe=({titleId:e})=>{const t=Hz($z),n="`".concat(t.contentName,"` requires a `").concat(t.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(t.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(t.docsSlug);return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},jPe="DialogDescriptionWarning",FPe=({contentRef:e,descriptionId:t})=>{const n=Hz(jPe),r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return E.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},zz=cN,UPe=lN,Yz=dN,Kz=fN,Jz=hN,Xz=gN,Qz=mN,Zz=_N;const yVe=Object.freeze(Object.defineProperty({__proto__:null,Close:Zz,Content:Jz,Description:Qz,Dialog:cN,DialogClose:_N,DialogContent:hN,DialogDescription:mN,DialogOverlay:fN,DialogPortal:dN,DialogTitle:gN,DialogTrigger:lN,Overlay:Kz,Portal:Yz,Root:zz,Title:Xz,Trigger:UPe,WarningProvider:DPe,createDialogScope:IPe},Symbol.toStringTag,{value:"Module"}));function Kd(e){"use forget";var l;const t=H.c(9);let n,r,i,s;t[0]!==e?(l=e,{color:i,title:s,children:r}=l,n=W(l,["color","title","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=i===void 0?"secondary":i,a=s!=null?s:r;let c;return t[5]!==n||t[6]!==o||t[7]!==a?(c=_.jsx(no,I(S({as:"button",color:o},n),{children:a})),t[5]=n,t[6]=o,t[7]=a,t[8]=c):c=t[8],c}function BPe(e){"use forget";var g;const t=H.c(16),{isOpen:n,onClose:r,children:i,shouldIgnoreClickOutside:s,className:o,testId:a}=e,c=s===void 0?!1:s;let l;t[0]!==r||t[1]!==c?(l=m=>{c||m===!1&&r(!1)},t[0]=r,t[1]=c,t[2]=l):l=t[2];const u=(g=OPe())==null?void 0:g.document.body;let d;t[3]!==o?(d=ve("absolute inset-0",o),t[3]=o,t[4]=d):d=t[4];let f;t[5]!==i||t[6]!==d||t[7]!==a?(f=_.jsx("div",{className:d,"data-testid":a,"data-ignore-for-page-load":!0,children:i}),t[5]=i,t[6]=d,t[7]=a,t[8]=f):f=t[8];let h;t[9]!==u||t[10]!==f?(h=_.jsx(Yz,{container:u,children:f}),t[9]=u,t[10]=f,t[11]=h):h=t[11];let p;return t[12]!==n||t[13]!==l||t[14]!==h?(p=_.jsx(zz,{open:n,onOpenChange:l,children:h}),t[12]=n,t[13]=l,t[14]=h,t[15]=p):p=t[15],p}function GPe(e){"use forget";const t=H.c(6),{className:n,children:r,showBackground:i}=e,o=(i===void 0?!0:i)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let a;t[0]!==n||t[1]!==o?(a=ve("fixed inset-0 z-50",o,n),t[0]=n,t[1]=o,t[2]=a):a=t[2];let c;return t[3]!==r||t[4]!==a?(c=_.jsx(Kz,{className:a,"data-modal-layer":"overlay",children:r}),t[3]=r,t[4]=a,t[5]=c):c=t[5],c}function WPe(e){"use forget";const t=H.c(23),{className:n,children:r,position:i,size:s,removePopoverStyling:o,shadow:a,onEscapeKeyDown:c,removeBackground:l,ariaLabelledBy:u,ariaDescribedBy:d,containerClassName:f}=e,h=i===void 0?"center":i,p=o===void 0?!1:o,g=a===void 0?"normal":a,m=l===void 0?!1:l,v=s!=="fullscreen"&&(h==="start"||h==="end"?"grid grid-cols-[0px_1fr_0px]":"grid grid-cols-[10px_1fr_10px]"),y=s!=="fullscreen"&&h==="center"&&"grid-rows-[minmax(10px,1fr)_auto_minmax(10px,1fr)] md:grid-rows-[minmax(20px,0.8fr)_auto_minmax(20px,1fr)]",T=s!=="fullscreen"&&(h==="start"||h==="end")&&"grid-rows-[0px_auto_0px]",b=h==="bottom"&&"grid-rows-[minmax(10px,1fr)_auto_10px] md:grid-rows-[minmax(20px,1fr)_auto_20px]",C=s!=="fullscreen"&&h==="top"&&"grid-rows-[10px_auto_minmax(10px,1fr)] md:grid-rows-[20px_auto_minmax(20px,1fr)]";let O;t[0]!==f||t[1]!==v||t[2]!==y||t[3]!==T||t[4]!==b||t[5]!==C?(O=ve("z-50 h-full w-full overflow-y-auto",v,y,T,b,C,f),t[0]=f,t[1]=v,t[2]=y,t[3]=T,t[4]=b,t[5]=C,t[6]=O):O=t[6];const w=!p&&"popover",A=!m&&"bg-token-bg-primary",x=h!=="start"&&h!=="end"&&"start-1/2 ltr:-translate-x-1/2 rtl:translate-x-1/2",R=s!=="fullscreen"&&(h==="start"?"justify-self-start rounded-se-2xl rounded-ee-2xl":h==="end"?"justify-self-end rounded-ss-2xl rounded-es-2xl":"rounded-2xl"),P=g==="normal"&&"shadow-long";let L;t[7]!==n||t[8]!==w||t[9]!==A||t[10]!==x||t[11]!==R||t[12]!==P?(L=ve(w,A,"relative col-auto col-start-2 row-auto row-start-2 h-full w-full text-start",x,R,P,n),t[7]=n,t[8]=w,t[9]=A,t[10]=x,t[11]=R,t[12]=P,t[13]=L):L=t[13];let D;t[14]!==d||t[15]!==u||t[16]!==r||t[17]!==c||t[18]!==L?(D=_.jsx(Jz,{"aria-labelledby":u,"aria-describedby":d,onEscapeKeyDown:c,className:L,"data-modal-layer":"content",children:r}),t[14]=d,t[15]=u,t[16]=r,t[17]=c,t[18]=L,t[19]=D):D=t[19];let F;return t[20]!==O||t[21]!==D?(F=_.jsx("div",{className:O,children:D}),t[20]=O,t[21]=D,t[22]=F):F=t[22],F}function qPe(e){"use forget";const t=H.c(16),{title:n,description:r,icon:i}=e;let s;t[0]!==n?(s=n&&_.jsx(Xz,{className:"text-token-text-primary text-lg font-normal",children:n}),t[0]=n,t[1]=s):s=t[1];let o;t[2]!==r?(o=r&&_.jsx(Qz,{asChild:!0,children:_.jsx("div",{className:"text-token-text-tertiary ms-0.5 mt-0.5 text-xs",children:r})}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==s||t[5]!==o?(a=_.jsxs("div",{className:"flex max-w-full min-w-0 grow flex-col",children:[s,o]}),t[4]=s,t[5]=o,t[6]=a):a=t[6];const c=a;if(!i)return c;const l=!r&&"items-center";let u;t[7]!==l?(u=ve("flex max-w-full min-w-0 gap-1.5",l),t[7]=l,t[8]=u):u=t[8];let d;t[9]!==i||t[10]!==r?(d=typeof i!="function"?i:_.jsx(i,{className:ve("icon",r&&"mt-1"),"aria-label":""}),t[9]=i,t[10]=r,t[11]=d):d=t[11];let f;return t[12]!==c||t[13]!==u||t[14]!==d?(f=_.jsxs("div",{className:u,children:[d,c]}),t[12]=c,t[13]=u,t[14]=d,t[15]=f):f=t[15],f}function VPe(e){"use forget";const t=H.c(26),{title:n,accessory:r,description:i,hasSeparator:s,icon:o,closeButton:a,backButton:c,textCenter:l,visuallyHiddenHeader:u,className:d,closeButtonSide:f}=e,h=s===void 0?!1:s,p=u===void 0?!1:u,g=f===void 0?"right":f;if(!n)return null;let m;t[0]!==a?(m=a&&_.jsx(Zz,{asChild:!0,children:a}),t[0]=a,t[1]=m):m=t[1];const v=m,y=l&&"flex-1 justify-center text-center";let T;t[2]!==y?(T=ve("flex max-w-full items-center",y),t[2]=y,t[3]=T):T=t[3];let b;t[4]!==c?(b=c&&_.jsx("div",{className:"me-2",children:c}),t[4]=c,t[5]=b):b=t[5];const C=g==="left"&&v;let O;t[6]!==i||t[7]!==o||t[8]!==n?(O=_.jsx(qPe,{title:n,description:i,icon:o}),t[6]=i,t[7]=o,t[8]=n,t[9]=O):O=t[9];let w;t[10]!==T||t[11]!==b||t[12]!==C||t[13]!==O?(w=_.jsxs("div",{className:T,children:[b,C,O]}),t[10]=T,t[11]=b,t[12]=C,t[13]=O,t[14]=w):w=t[14];const A=g==="right"&&v;let x;t[15]!==r||t[16]!==A?(x=_.jsxs("div",{className:"flex h-[max-content] items-center gap-2",children:[r,A]}),t[15]=r,t[16]=A,t[17]=x):x=t[17];let R;t[18]!==d||t[19]!==h||t[20]!==w||t[21]!==x?(R=_.jsxs(HPe,{hasSeparator:h,className:d,children:[w,x]}),t[18]=d,t[19]=h,t[20]=w,t[21]=x,t[22]=R):R=t[22];const P=R;let L;return t[23]!==P||t[24]!==p?(L=p?_.jsx(ZA,{children:P}):P,t[23]=P,t[24]=p,t[25]=L):L=t[25],L}function $Pe(e){"use forget";const t=H.c(9),{primaryButton:n,secondaryButton:r,isSpacedBetween:i,modalHasContent:s,textCenter:o,className:a}=e,c=i===void 0?!1:i,l=s===void 0?!0:s,u=o===void 0?!1:o,d=a===void 0?"":a;if(n==null&&r==null)return null;const f=u&&"justify-center",h=c&&"justify-between",p=l&&"mt-5 sm:mt-4";let g;t[0]!==d||t[1]!==f||t[2]!==h||t[3]!==p?(g=ve("flex flex-col gap-3 sm:flex-row-reverse",f,h,p,d),t[0]=d,t[1]=f,t[2]=h,t[3]=p,t[4]=g):g=t[4];let m;return t[5]!==n||t[6]!==r||t[7]!==g?(m=_.jsxs("div",{className:g,children:[n,r]}),t[5]=n,t[6]=r,t[7]=g,t[8]=m):m=t[8],m}const HPe=e=>{"use forget";const t=H.c(6),{hasSeparator:n,className:r,children:i}=e,s=n&&"border-token-border-light border-b";let o;t[0]!==r||t[1]!==s?(o=ve("min-h-header-height flex justify-between p-2.5 ps-4 select-none",s,r),t[0]=r,t[1]=s,t[2]=o):o=t[2];let a;return t[3]!==i||t[4]!==o?(a=_.jsx("header",{className:o,children:i}),t[3]=i,t[4]=o,t[5]=a):a=t[5],a},xl={Root:BPe,Overlay:GPe,Content:WPe,Header:VPe,Actions:$Pe,Button:Kd},zPe=B(()=>k(()=>import("./nlj7ey81i8rm36n9.js"),__vite__mapDeps([65,1])),{loading:e=>z(e)}),eY=e=>{"use forget";var v;const t=H.c(21);let n,r,i,s,o,a;t[0]!==e?(v=e,{onClick:r,bg:o,className:n,iconSize:a,ref:i}=v,s=W(v,["onClick","bg","className","iconSize","ref"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6]);const c=o===void 0?"transparent":o,l=a===void 0?"md":a,u=_t(),d=c==="transparent"?"bg-transparent":"bg-token-bg-primary";let f;t[7]!==n||t[8]!==d?(f=ve("hover:bg-token-bg-tertiary keyboard-focused:focus-ring flex h-8 w-8 items-center justify-center rounded-full",d,n),t[7]=n,t[8]=d,t[9]=f):f=t[9];let h;t[10]!==u?(h=u.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),t[10]=u,t[11]=h):h=t[11];const p=l==="lg"?"icon-lg":"icon";let g;t[12]!==p?(g=_.jsx(zPe,{className:p}),t[12]=p,t[13]=g):g=t[13];let m;return t[14]!==r||t[15]!==i||t[16]!==s||t[17]!==f||t[18]!==h||t[19]!==g?(m=_.jsx("button",I(S({"data-testid":"back-button",ref:i,onClick:r,className:f,"aria-label":h},s),{children:g})),t[14]=r,t[15]=i,t[16]=s,t[17]=f,t[18]=h,t[19]=g,t[20]=m):m=t[20],m};eY.displayName="BackButton";const YPe=B(()=>k(()=>import("./ej64vaxnu3jjmfxe.js"),__vite__mapDeps([66,1])).then(e=>e.ContentModalSheet),{fallback:()=>null});function Fu(e){"use forget";const t=H.c(76),{ariaLabelledBy:n,ariaDescribedBy:r,children:i,rootClassName:s,textCenter:o,className:a,description:c,icon:l,isBottomSheet:u,isOpen:d,onClose:f,onBack:h,onCloseComplete:p,primaryButton:g,secondaryButton:m,footerContent:v,size:y,title:T,headerAccessory:b,type:C,noPadding:O,hasSeparator:w,hideSeparator:A,showCloseButton:x,showBackButton:R,shouldIgnoreClickOutside:P,closeButton:L,closeButtonClassName:D,isScrollable:F,allowVerticalContentToOverflow:G,position:Y,removePopoverStyling:V,showOverlayBackground:M,shadow:te,visuallyHiddenHeader:$,headerClassName:ie,contentClassName:ue,footerClassName:me,modalActionsClassName:J,footerIsSpacedBetween:K,onEscapeKeyDown:ne,testId:X,contentRef:ee,closeButtonSide:ye,removeBackground:de,contentContainerClassName:oe}=e,Ee=d===void 0?!1:d,Ae=y===void 0?"normal":y,He=O===void 0?!1:O,Re=w===void 0?!1:w,_e=A===void 0?!0:A,pe=x===void 0?!1:x,j=R===void 0?!1:R,Qe=P===void 0?!1:P,Pe=F===void 0?!0:F,fe=G===void 0?!1:G,ge=Y===void 0?"center":Y,Le=V===void 0?!1:V,se=M===void 0?!0:M,ke=te===void 0?"normal":te,tt=$===void 0?!1:$,nt=ye===void 0?"right":ye,rt=de===void 0?!1:de,On=!!T&&!tt,Kn=!!i,on=Re||!_e;if(u){let Jh;return t[0]!==e?(Jh=_.jsx(YPe,S({},e)),t[0]=e,t[1]=Jh):Jh=t[1],Jh}let Ft;t[2]!==p||t[3]!==f?(Ft=()=>{f(!0),p==null||p()},t[2]=p,t[3]=f,t[4]=Ft):Ft=t[4];const Wt=o&&"text-center",Qt=Ae==="normal",Gr=Ae==="large",Gi=Ae==="xlarge",Wi=Ae==="fullscreen",fo=!fe;let li;t[5]!==a||t[6]!==Wt||t[7]!==Qt||t[8]!==Gr||t[9]!==Gi||t[10]!==Wi||t[11]!==fo?(li=ve("flex flex-col focus:outline-hidden",Wt,{"max-w-md":Qt,"max-w-lg":Gr,"max-w-xl":Gi,"h-full w-full":Wi,"overflow-hidden":fo},a),t[5]=a,t[6]=Wt,t[7]=Qt,t[8]=Gr,t[9]=Gi,t[10]=Wi,t[11]=fo,t[12]=li):li=t[12];let qi;t[13]!==L||t[14]!==D||t[15]!==f||t[16]!==pe?(qi=pe&&(L!=null?L:_.jsx(bv,{onClick:()=>f(!0),className:D})),t[13]=L,t[14]=D,t[15]=f,t[16]=pe,t[17]=qi):qi=t[17];let Vi;t[18]!==h||t[19]!==f||t[20]!==j?(Vi=j&&_.jsx(eY,{onClick:()=>h?h(!0):f(!0)}),t[18]=h,t[19]=f,t[20]=j,t[21]=Vi):Vi=t[21];let _r;t[22]!==nt||t[23]!==c||t[24]!==b||t[25]!==ie||t[26]!==l||t[27]!==on||t[28]!==qi||t[29]!==Vi||t[30]!==o||t[31]!==T||t[32]!==C||t[33]!==tt?(_r=_.jsx(xl.Header,{icon:l,title:T,accessory:b,type:C,textCenter:o,closeButton:qi,backButton:Vi,description:c,hasSeparator:on,visuallyHiddenHeader:tt,className:ie,closeButtonSide:nt}),t[22]=nt,t[23]=c,t[24]=b,t[25]=ie,t[26]=l,t[27]=on,t[28]=qi,t[29]=Vi,t[30]=o,t[31]=T,t[32]=C,t[33]=tt,t[34]=_r):_r=t[34];const $i=fe?"overflow-y-visible":Pe?"overflow-y-auto":"overflow-y-hidden",Hi=Ae!=="fullscreen"&&!He,ho=!on&&On&&!He;let pn;t[35]!==ue||t[36]!==$i||t[37]!==Hi||t[38]!==ho?(pn=ve("grow",$i,{"p-4":Hi,"pt-1":ho},ue),t[35]=ue,t[36]=$i,t[37]=Hi,t[38]=ho,t[39]=pn):pn=t[39];let bs;t[40]!==me||t[41]!==v||t[42]!==K||t[43]!==Kn||t[44]!==J||t[45]!==g||t[46]!==m?(bs=_.jsx(KPe,{primaryButton:g,secondaryButton:m,footerContent:v,modalHasContent:Kn,className:me,isSpacedBetween:K,modalActionsClassName:J}),t[40]=me,t[41]=v,t[42]=K,t[43]=Kn,t[44]=J,t[45]=g,t[46]=m,t[47]=bs):bs=t[47];let Wc;t[48]!==i||t[49]!==ee||t[50]!==pn||t[51]!==bs?(Wc=_.jsxs("div",{className:pn,ref:ee,children:[i,bs]}),t[48]=i,t[49]=ee,t[50]=pn,t[51]=bs,t[52]=Wc):Wc=t[52];let qc;t[53]!==r||t[54]!==n||t[55]!==oe||t[56]!==ne||t[57]!==ge||t[58]!==rt||t[59]!==Le||t[60]!==ke||t[61]!==Ae||t[62]!==li||t[63]!==_r||t[64]!==Wc?(qc=_.jsxs(xl.Content,{ariaLabelledBy:n,ariaDescribedBy:r,size:Ae,position:ge,className:li,containerClassName:oe,removePopoverStyling:Le,shadow:ke,onEscapeKeyDown:ne,removeBackground:rt,children:[_r,Wc]}),t[53]=r,t[54]=n,t[55]=oe,t[56]=ne,t[57]=ge,t[58]=rt,t[59]=Le,t[60]=ke,t[61]=Ae,t[62]=li,t[63]=_r,t[64]=Wc,t[65]=qc):qc=t[65];let Vc;t[66]!==se||t[67]!==qc?(Vc=_.jsx(xl.Overlay,{showBackground:se,children:qc}),t[66]=se,t[67]=qc,t[68]=Vc):Vc=t[68];let Kh;return t[69]!==Ee||t[70]!==s||t[71]!==Qe||t[72]!==Ft||t[73]!==Vc||t[74]!==X?(Kh=_.jsx(xl.Root,{isOpen:Ee,onClose:Ft,shouldIgnoreClickOutside:Qe,className:s,testId:X,children:Vc}),t[69]=Ee,t[70]=s,t[71]=Qe,t[72]=Ft,t[73]=Vc,t[74]=X,t[75]=Kh):Kh=t[75],Kh}function KPe(e){"use forget";const t=H.c(14),{primaryButton:n,secondaryButton:r,footerContent:i,textCenter:s,className:o,isSpacedBetween:a,modalActionsClassName:c,modalHasContent:l}=e,u=n!=null||r!=null;if(!(u||i))return null;let d;t[0]!==o?(d=ve("flex w-full flex-row items-center justify-end text-sm select-none",o),t[0]=o,t[1]=d):d=t[1];let f;t[2]!==u||t[3]!==a||t[4]!==c||t[5]!==l||t[6]!==n||t[7]!==r||t[8]!==s?(f=u?_.jsx("div",{className:ve(a?"grow":"flex-0"),children:_.jsx(xl.Actions,{className:ve(c,"flex w-full flex-row-reverse"),textCenter:s,primaryButton:n,secondaryButton:r,modalHasContent:l,isSpacedBetween:a})}):null,t[2]=u,t[3]=a,t[4]=c,t[5]=l,t[6]=n,t[7]=r,t[8]=s,t[9]=f):f=t[9];let h;return t[10]!==i||t[11]!==d||t[12]!==f?(h=_.jsxs("div",{className:d,children:[i,f]}),t[10]=i,t[11]=d,t[12]=f,t[13]=h):h=t[13],h}const JPe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='106'%20fill='none'%3e%3cg%20clip-path='url(%23a)'%3e%3cg%20filter='url(%23b)'%3e%3cpath%20fill='%23fff'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3cpath%20stroke='%23000'%20stroke-linejoin='bevel'%20stroke-opacity='.1'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3c/g%3e%3cpath%20fill='%23000'%20d='M49.287%2048.12v-3.905c0-.263.075-.45.337-.601l7.246-4.205c.977-.563%202.216-.826%203.417-.826%204.58%200%207.471%203.53%207.471%207.321%200%20.3%200%20.714-.075%201.051l-7.584-4.43c-.375-.225-.788-.263-1.239%200l-9.573%205.594ZM66.03%2061.972V53.3c0-.488-.187-.825-.638-1.088l-9.611-5.594%203.379-1.953a.717.717%200%200%201%20.675%200l7.284%204.205c2.065%201.202%203.492%203.83%203.492%206.345%200%202.966-1.802%205.707-4.58%206.758Zm-18.734-7.471-3.342-1.99c-.262-.15-.338-.338-.338-.6v-8.373c0-4.092%203.117-7.171%207.36-7.171a7.23%207.23%200%200%201%204.504%201.577l-7.546%204.392c-.45.263-.638.601-.638%201.09v11.075Zm6.533%203.754-4.543-2.553v-5.406l4.543-2.553%204.505%202.553v5.406l-4.505%202.553Zm2.815%2011.376a7.23%207.23%200%200%201-4.505-1.577l7.546-4.392c.45-.263.639-.601.639-1.09V51.499l3.379%201.99c.262.15.337.338.337.6v8.373c0%204.093-3.153%207.171-7.396%207.171Zm-8.86-8.297L40.5%2057.13c-2.065-1.202-3.491-3.83-3.491-6.345%200-3.004%201.84-5.707%204.618-6.758v8.71c0%20.488.187.826.638%201.09l9.574%205.556-3.38%201.952a.718.718%200%200%201-.675%200Zm-.45%206.082c-4.318%200-7.472-3.229-7.472-7.246%200-.375.038-.75.075-1.089l7.546%204.355c.451.263.826.263%201.277%200l9.574-5.556v3.904c0%20.263-.075.451-.338.601l-7.246%204.205c-.976.563-2.215.826-3.417.826Zm9.31%204.243c4.506%200%208.26-3.23%209.086-7.51%204.205-1.05%206.908-4.955%206.908-8.935%200-2.628-1.126-5.143-3.191-6.983.188-.788.338-1.614.338-2.403%200-5.294-4.318-9.273-9.274-9.273a9.197%209.197%200%200%200-3.003.525c-1.69-1.69-3.98-2.74-6.533-2.74-4.505%200-8.26%203.228-9.086%207.508-4.205%201.052-6.908%204.956-6.908%208.936%200%202.628%201.127%205.144%203.191%206.983-.187.789-.337%201.615-.337%202.403%200%205.294%204.317%209.274%209.273%209.274a9.2%209.2%200%200%200%203.004-.526c1.69%201.69%203.98%202.74%206.532%202.74Z'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M.81%200h106v106H.81z'%20/%3e%3c/clipPath%3e%3cfilter%20id='b'%20width='105'%20height='105'%20x='1.311'%20y='4.5'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%20%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20/%3e%3cfeOffset%20dy='4'%20/%3e%3cfeGaussianBlur%20stdDeviation='12'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'%20/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1235_2762'%20/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_1235_2762'%20result='shape'%20/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function tY(i){var s=i,{children:e,className:t,style:n}=s,r=W(s,["children","className","style"]);return _.jsx("svg",I(S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t},r),{style:n,children:e}))}const XPe=({className:e})=>_.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:e,xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M15.75 12V5.99999C15.7497 5.73694 15.6803 5.4786 15.5487 5.25086C15.417 5.02312 15.2278 4.83401 15 4.70249L9.75 1.70249C9.52197 1.57084 9.26331 1.50153 9 1.50153C8.73669 1.50153 8.47803 1.57084 8.25 1.70249L3 4.70249C2.7722 4.83401 2.58299 5.02312 2.45135 5.25086C2.31971 5.4786 2.25027 5.73694 2.25 5.99999V12C2.25027 12.263 2.31971 12.5214 2.45135 12.7491C2.58299 12.9769 2.7722 13.166 3 13.2975L8.25 16.2975C8.47803 16.4291 8.73669 16.4985 9 16.4985C9.26331 16.4985 9.52197 16.4291 9.75 16.2975L15 13.2975C15.2278 13.166 15.417 12.9769 15.5487 12.7491C15.6803 12.5214 15.7497 12.263 15.75 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),QPe="ChatGPT",yN=({className:e})=>_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[_.jsx("text",{x:"-9999",y:"-9999",children:QPe}),_.jsx("path",{d:"M9.20509 8.76511V6.50545C9.20509 6.31513 9.27649 6.17234 9.44293 6.0773L13.9861 3.46088C14.6046 3.10413 15.342 2.93769 16.103 2.93769C18.9573 2.93769 20.7651 5.14983 20.7651 7.50454C20.7651 7.67098 20.7651 7.86129 20.7412 8.05161L16.0316 5.2924C15.7462 5.12596 15.4607 5.12596 15.1753 5.2924L9.20509 8.76511ZM19.8135 17.5659V12.1664C19.8135 11.8333 19.6708 11.5955 19.3854 11.429L13.4152 7.95633L15.3656 6.83833C15.5321 6.74328 15.6749 6.74328 15.8413 6.83833L20.3845 9.45474C21.6928 10.216 22.5728 11.8333 22.5728 13.4031C22.5728 15.2108 21.5025 16.8758 19.8135 17.5657V17.5659ZM7.80173 12.8088L5.8513 11.6671C5.68486 11.5721 5.61346 11.4293 5.61346 11.239V6.00613C5.61346 3.46111 7.56389 1.53433 10.2042 1.53433C11.2033 1.53433 12.1307 1.86743 12.9159 2.46202L8.2301 5.17371C7.94475 5.34015 7.80195 5.57798 7.80195 5.91109V12.809L7.80173 12.8088ZM12 15.2349L9.20509 13.6651V10.3351L12 8.76534L14.7947 10.3351V13.6651L12 15.2349ZM13.7958 22.4659C12.7967 22.4659 11.8693 22.1328 11.0841 21.5382L15.7699 18.8265C16.0553 18.6601 16.198 18.4222 16.198 18.0891V11.1912L18.1723 12.3329C18.3388 12.4279 18.4102 12.5707 18.4102 12.761V17.9939C18.4102 20.5389 16.4359 22.4657 13.7958 22.4657V22.4659ZM8.15848 17.1617L3.61528 14.5452C2.30696 13.784 1.42701 12.1667 1.42701 10.5969C1.42701 8.76534 2.52115 7.12414 4.20987 6.43428V11.8574C4.20987 12.1905 4.35266 12.4284 4.63802 12.5948L10.5846 16.0436L8.63415 17.1617C8.46771 17.2567 8.32492 17.2567 8.15848 17.1617ZM7.897 21.0625C5.20919 21.0625 3.23488 19.0407 3.23488 16.5432C3.23488 16.3529 3.25875 16.1626 3.2824 15.9723L7.96817 18.6839C8.25352 18.8504 8.53911 18.8504 8.82446 18.6839L14.7947 15.2351V17.4948C14.7947 17.6851 14.7233 17.8279 14.5568 17.9229L10.0136 20.5393C9.39518 20.8961 8.6578 21.0625 7.89677 21.0625H7.897ZM13.7958 23.8929C16.6739 23.8929 19.0762 21.8474 19.6235 19.1357C22.2874 18.4459 24 15.9484 24 13.4034C24 11.7383 23.2865 10.121 22.002 8.95542C22.121 8.45588 22.1924 7.95633 22.1924 7.45702C22.1924 4.0557 19.4331 1.51045 16.2458 1.51045C15.6037 1.51045 14.9852 1.60549 14.3668 1.81968C13.2963 0.773071 11.8215 0.107086 10.2042 0.107086C7.32606 0.107086 4.92383 2.15256 4.37653 4.86425C1.7126 5.55411 0 8.05161 0 10.5966C0 12.2617 0.713506 13.879 1.99795 15.0446C1.87904 15.5441 1.80764 16.0436 1.80764 16.543C1.80764 19.9443 4.56685 22.4895 7.75421 22.4895C8.39632 22.4895 9.01478 22.3945 9.63324 22.1803C10.7035 23.2269 12.1783 23.8929 13.7958 23.8929Z",fill:"currentColor"})]});function ZPe({className:e}){const t=_t();return _.jsx("img",{src:JPe,alt:t.formatMessage({id:"VJmCc9",defaultMessage:"ChatGPT logo"}),className:e})}const eke=({className:e})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1180 320",width:"118",height:"32",fill:"currentColor",className:e,children:_.jsx("path",{d:"M367.44 153.84c0 52.32 33.6 88.8 80.16 88.8s80.16-36.48 80.16-88.8-33.6-88.8-80.16-88.8-80.16 36.48-80.16 88.8zm129.6 0c0 37.44-20.4 61.68-49.44 61.68s-49.44-24.24-49.44-61.68 20.4-61.68 49.44-61.68 49.44 24.24 49.44 61.68zM614.27 242.64c35.28 0 55.44-29.76 55.44-65.52s-20.16-65.52-55.44-65.52c-16.32 0-28.32 6.48-36.24 15.84V114h-28.8v169.2h28.8v-56.4c7.92 9.36 19.92 15.84 36.24 15.84zm-36.96-69.12c0-23.76 13.44-36.72 31.2-36.72 20.88 0 32.16 16.32 32.16 40.32s-11.28 40.32-32.16 40.32c-17.76 0-31.2-13.2-31.2-36.48zM747.65 242.64c25.2 0 45.12-13.2 54-35.28L776.93 198c-3.84 12.96-15.12 20.16-29.28 20.16-18.48 0-31.44-13.2-33.6-34.8h88.32v-9.6c0-34.56-19.44-62.16-55.92-62.16s-60 28.56-60 65.52c0 38.88 25.2 65.52 61.2 65.52zm-1.44-106.8c18.24 0 26.88 12 27.12 25.92h-57.84c4.32-17.04 15.84-25.92 30.72-25.92zM823.98 240h28.8v-73.92c0-18 13.2-27.6 26.16-27.6 15.84 0 22.08 11.28 22.08 26.88V240h28.8v-83.04c0-27.12-15.84-45.36-42.24-45.36-16.32 0-27.6 7.44-34.8 15.84V114h-28.8zM1014.17 67.68 948.89 240h30.48l14.64-39.36h74.4l14.88 39.36h30.96l-65.28-172.32zm16.8 34.08 27.36 72h-54.24zM1163.69 68.18h-30.72V240.5h30.72zM297.06 130.97a79.712 79.712 0 0 0-6.85-65.48c-17.46-30.4-52.56-46.04-86.84-38.68A79.747 79.747 0 0 0 143.24 0C108.2-.08 77.11 22.48 66.33 55.82a79.754 79.754 0 0 0-53.31 38.67c-17.59 30.32-13.58 68.54 9.92 94.54a79.712 79.712 0 0 0 6.85 65.48c17.46 30.4 52.56 46.04 86.84 38.68a79.687 79.687 0 0 0 60.13 26.8c35.06.09 66.16-22.49 76.94-55.86a79.754 79.754 0 0 0 53.31-38.67c17.57-30.32 13.55-68.51-9.94-94.51zM176.78 299.08a59.77 59.77 0 0 1-38.39-13.88c.49-.26 1.34-.73 1.89-1.07l63.72-36.8a10.36 10.36 0 0 0 5.24-9.07v-89.83l26.93 15.55c.29.14.48.42.52.74v74.39c-.04 33.08-26.83 59.9-59.91 59.97zM47.94 244.05a59.71 59.71 0 0 1-7.15-40.18c.47.28 1.3.79 1.89 1.13l63.72 36.8c3.23 1.89 7.23 1.89 10.47 0l77.79-44.92v31.1c.02.32-.13.63-.38.83L129.87 266c-28.69 16.52-65.33 6.7-81.92-21.95zM31.17 104.96c7-12.16 18.05-21.46 31.21-26.29 0 .55-.03 1.52-.03 2.2v73.61c-.02 3.74 1.98 7.21 5.23 9.06l77.79 44.91L118.44 224c-.27.18-.61.21-.91.08l-64.42-37.22c-28.63-16.58-38.45-53.21-21.95-81.89zm221.26 51.49-77.79-44.92 26.93-15.54c.27-.18.61-.21.91-.08l64.42 37.19c28.68 16.57 38.51 53.26 21.94 81.94a59.94 59.94 0 0 1-31.2 26.28v-75.81c.03-3.74-1.96-7.2-5.2-9.06zm26.8-40.34c-.47-.29-1.3-.79-1.89-1.13l-63.72-36.8a10.375 10.375 0 0 0-10.47 0l-77.79 44.92V92c-.02-.32.13-.63.38-.83l64.41-37.16c28.69-16.55 65.37-6.7 81.91 22a59.95 59.95 0 0 1 7.15 40.1zm-168.51 55.43-26.94-15.55a.943.943 0 0 1-.52-.74V80.86c.02-33.12 26.89-59.96 60.01-59.94 14.01 0 27.57 4.92 38.34 13.88-.49.26-1.33.73-1.89 1.07L116 72.67a10.344 10.344 0 0 0-5.24 9.06l-.04 89.79zM125.35 140 160 119.99l34.65 20V180L160 200l-34.65-20z"})}),nY=e=>_.jsxs(tY,I(S({viewBox:"0 0 36 36",fill:"none"},e),{children:[_.jsx("circle",{cx:"18",cy:"18",r:"18",fill:"#3c46ff"}),_.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.358 14.641 5.056-5.055A2 2 0 0 1 13.828 9h8.343a2 2 0 0 1 1.414.586l5.056 5.055a2 2 0 0 1 .055 2.771l-9.226 9.996a2 2 0 0 1-2.94 0l-9.227-9.996a2 2 0 0 1 .055-2.77Zm6.86-1.939-.426 1.281a2.07 2.07 0 0 1-1.31 1.31l-1.28.426a.296.296 0 0 0 0 .561l1.28.428a2.07 2.07 0 0 1 1.31 1.309l.427 1.28c.09.27.471.27.56 0l.428-1.28a2.07 2.07 0 0 1 1.309-1.31l1.281-.427a.296.296 0 0 0 0-.56l-1.281-.428a2.07 2.07 0 0 1-1.309-1.309l-.427-1.28a.296.296 0 0 0-.561 0z",fill:"#fff"})]})),tke=({className:e})=>_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[_.jsx("rect",{x:"2",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),_.jsx("path",{d:"M2 12H1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M22 12H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("rect",{x:"17",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),_.jsx("path",{d:"M7 12L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M16 12H17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M9 3L15 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),nke=({className:e})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",fill:"none",className:e,children:_.jsx("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.9 1.6 1.2 11a1.3 1.3 0 0 0 1.2 2h11.2a1.3 1.3 0 0 0 1.2-2L9 1.6a1.3 1.3 0 0 0-2.2 0Z"})}),rke=({className:e})=>_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[_.jsx("path",{d:"M8.78158 8.60266L9.8188 5.49098C10.037 4.83634 10.963 4.83634 11.1812 5.49098L12.2184 8.60266C12.7187 10.1035 13.8965 11.2813 15.3973 11.7816L18.509 12.8188C19.1637 13.037 19.1637 13.963 18.509 14.1812L15.3973 15.2184C13.8965 15.7187 12.7187 16.8965 12.2184 18.3973L11.1812 21.509C10.963 22.1637 10.037 22.1637 9.8188 21.509L8.78158 18.3973C8.28128 16.8965 7.10354 15.7187 5.60266 15.2184L2.49098 14.1812C1.83634 13.963 1.83634 13.037 2.49098 12.8188L5.60266 11.7816C7.10354 11.2813 8.28128 10.1035 8.78158 8.60266Z",fill:"currentColor"}),_.jsx("path",{d:"M17.1913 3.69537L17.6794 2.23105C17.7821 1.92298 18.2179 1.92298 18.3206 2.23105L18.8087 3.69537C19.0441 4.40167 19.5983 4.9559 20.3046 5.19133L21.769 5.67944C22.077 5.78213 22.077 6.21787 21.769 6.32056L20.3046 6.80867C19.5983 7.0441 19.0441 7.59833 18.8087 8.30463L18.3206 9.76895C18.2179 10.077 17.7821 10.077 17.6794 9.76895L17.1913 8.30463C16.9559 7.59833 16.4017 7.0441 15.6954 6.80867L14.231 6.32056C13.923 6.21787 13.923 5.78213 14.231 5.67944L15.6954 5.19133C16.4017 4.9559 16.9559 4.40167 17.1913 3.69537Z",fill:"currentColor"})]}),CVe=Object.freeze(Object.defineProperty({__proto__:null,GPT4FilledIcon:rke,Hexagon:XPe,IconBase:tY,NoModelTrainingIcon:tke,OpenaiLockup:eke,OpenaiLogo:yN,OpenaiLogoConditionalSvg:ZPe,TriangleIcon:nke,WorkspaceDefaultAvatar:nY},Symbol.toStringTag,{value:"Module"})),ike=B(()=>k(()=>import("./mfltpwlb4iyi1q6i.js"),__vite__mapDeps([67,1])),{loading:e=>z(e)}),ske=B(()=>k(()=>import("./n7wxdtzxeekb5r6v.js"),__vite__mapDeps([68,1])),{loading:e=>z(e)}),oke=B(()=>k(()=>import("./d8urt6z8czylb5p6.js"),__vite__mapDeps([24,1])),{loading:e=>z(e)}),ake=B(()=>k(()=>import("./bnipcvjraeep7qjy.js"),__vite__mapDeps([25,1])),{loading:e=>z(e)}),cke=B(()=>k(()=>import("./dvfjdfwc50k8htst.js"),__vite__mapDeps([26,1])),{loading:e=>z(e)}),lke=B(()=>k(()=>import("./m7doe4pqk3hjrm1e.js"),__vite__mapDeps([27,1])),{loading:e=>z(e)}),uke=B(()=>k(()=>import("./kfciwy69uk039ng9.js"),__vite__mapDeps([69,1])),{loading:e=>z(e)}),dke=B(()=>k(()=>import("./d5o1u4o4wu2s3dug.js"),__vite__mapDeps([28,1])),{loading:e=>z(e)}),fke=B(()=>k(()=>import("./ghusiygna4o32qi1.js"),__vite__mapDeps([29,1])),{loading:e=>z(e)}),hke=B(()=>k(()=>import("./idxkrx2slxhzm8qh.js"),__vite__mapDeps([30,1])),{loading:e=>z(e)}),pke=B(()=>k(()=>import("./l9as1ndnevgs02tf.js"),__vite__mapDeps([31,1])),{loading:e=>z(e)}),gke=B(()=>k(()=>import("./l48iylqopn5miofx.js"),__vite__mapDeps([35,1])),{loading:e=>z(e)}),mke=B(()=>k(()=>import("./iz9ybw36zj0rjajq.js"),__vite__mapDeps([36,1])),{loading:e=>z(e)}),_ke=B(()=>k(()=>import("./qsma96iq2r14xcmh.js"),__vite__mapDeps([37,1])),{loading:e=>z(e)}),vke=B(()=>k(()=>import("./h5j364hdjn039hzj.js"),__vite__mapDeps([38,1])),{loading:e=>z(e)}),yke=B(()=>k(()=>import("./jwueg8vspq9yhps2.js"),__vite__mapDeps([39,1])),{loading:e=>z(e)}),Cke=B(()=>k(()=>import("./e9c4tgzw8sr4ptnc.js"),__vite__mapDeps([40,1])),{loading:e=>z(e)}),bke=B(()=>k(()=>import("./hjef14qauats368u.js"),__vite__mapDeps([41,1])),{loading:e=>z(e)}),Eke=B(()=>k(()=>import("./h4evwzl4k6skj8r7.js"),__vite__mapDeps([42,1])),{loading:e=>z(e)}),Ske=B(()=>k(()=>import("./oydzwmbjqxhwp1ek.js"),__vite__mapDeps([43,1])),{loading:e=>z(e)}),Oke=B(()=>k(()=>import("./dvib5d1jxvc518h5.js"),__vite__mapDeps([47,1])),{loading:e=>z(e)}),Tke=B(()=>k(()=>import("./h48j4g76f726xzx4.js"),__vite__mapDeps([48,1])),{loading:e=>z(e)}),wke=B(()=>k(()=>import("./c0ojy1t76yvdowjm.js"),__vite__mapDeps([49,1])),{loading:e=>z(e)}),Ake=B(()=>k(()=>import("./kl9nc8lw2zbngsxu.js"),__vite__mapDeps([50,1])),{loading:e=>z(e)}),xke=B(()=>k(()=>import("./hegd51otv5xzo53u.js"),__vite__mapDeps([51,1])),{loading:e=>z(e)}),Ike=B(()=>k(()=>import("./firqr8dqm1h7owx1.js"),__vite__mapDeps([52,1])),{loading:e=>z(e)}),Nke=B(()=>k(()=>import("./1z12ka0sjzwi5bk4.js"),__vite__mapDeps([53,1])),{loading:e=>z(e)}),Rke=B(()=>k(()=>import("./kjvygvhx30u8mxny.js"),__vite__mapDeps([54,1])),{loading:e=>z(e)}),Pke=B(()=>k(()=>import("./l9asex3m3rhov6mj.js"),__vite__mapDeps([56,1])),{loading:e=>z(e)}),kke=B(()=>k(()=>import("./icogg96ipnevhswg.js"),__vite__mapDeps([57,1])),{loading:e=>z(e)}),Mke=B(()=>k(()=>import("./l4q37jna5u8671pr.js"),__vite__mapDeps([58,1])),{loading:e=>z(e)}),Dke=B(()=>k(()=>import("./fo0x0epn1mhbz6yk.js"),__vite__mapDeps([59,1])),{loading:e=>z(e)}),Lke=B(()=>k(()=>import("./kbwf70iamjdvta7y.js"),__vite__mapDeps([60,1])),{loading:e=>z(e)}),jke=B(()=>k(()=>import("./kz0466kav0wlxeny.js"),__vite__mapDeps([70,1])),{loading:e=>z(e)}),Fke=B(()=>k(()=>import("./djnoeg41q6agq9or.js"),__vite__mapDeps([71,1])),{loading:e=>z(e)}),dt=e=>()=>_.jsx(hMe,{ConnectorIcon:e}),hw=dt(Ske),Uke=dt(cke),Bke=dt(Tke),GF=dt(uke),Gke=dt(Ike),Wke=dt(Pke),qke=dt(gke),Vke=dt(yke),$ke=dt(Cke),Hke=dt(Nke),zke=dt(hke),Yke=dt(Lke),Kke=dt(Dke),Jke=dt(Mke),Xke=dt(kke),Qke=dt(Rke),Zke=dt(xke),eMe=dt(Ake),tMe=dt(wke),nMe=dt(Oke),rMe=dt(Eke),iMe=dt(bke),sMe=dt(vke),bVe=dt(mke),EVe=dt(_ke),oMe=dt(fke),aMe=dt(dke),cMe=dt(lke),lMe=dt(ake),WF=dt(pke),uMe=dt(oke),dMe=dt(ike),fMe=dt(ske),hMe=({ConnectorIcon:e})=>_.jsxs("div",{className:"-mb-2 flex items-center justify-center gap-4 ps-2.5 pt-4",children:[_.jsx(yN,{className:"h-12 w-12"}),_.jsxs("div",{className:"text-token-text-secondary",children:[_.jsx(Fke,{className:"icon-sm me-1.5"}),_.jsx(jke,{className:"icon-sm ms-1.5"})]}),_.jsx(e,{width:48,height:48})]}),pMe={google_drive_oauth:hw,google_drive_dwd:hw,slack:Uke,github:Bke,sharepoint:GF,sharepoint_admin:GF,dropbox:Gke,box:Wke,linear:qke,intercom:Vke,hubspot:$ke,confluence:Hke,notion:zke,aha:Yke,asana:Kke,azure_devops:Jke,basecamp:Xke,clickup:Qke,freshdesk:Zke,freshservice:eMe,front:tMe,gitlab:nMe,gorgias:rMe,help_scout:iMe,ironclad:sMe,pipedrive:oMe,salesforce_service_cloud:aMe,shortcut:cMe,teamwork:lMe,teams:WF,teams_admin:WF,zendesk:uMe,zoho:dMe,zoho_desk:fMe},SVe=e=>{const t=pMe[e];return t?_.jsx(t,{}):null},CN=({footerContent:e,primaryButton:t,secondaryButton:n})=>!e&&!t&&!n?null:_.jsxs("div",{className:"border-token-border-default flex items-center justify-between border-t p-6",children:[_.jsxs("div",{children:[e," "]}),_.jsxs("div",{className:"flex gap-2",children:[n,t]})]}),rY=new Set(Object.values(Pt)),iY=new Set(Object.values(Pc).map(e=>e.sync)),gMe=new Set(Object.values(om));function mMe(e){const t=e.replace(/_connector$/,"").replace(/_action$/,"").replace(/_bot$/,"").replace(/_codex$/,"");return t==="gdrive"||t.startsWith("gdrive_")?"google_drive":t}function _Me(e){return e==="ECOSYSTEM_DIRECTORY"?"3p_published":e==="TENANT_CATALOG"?"3p_not_published":"1p"}function vMe(e){const t=Ii[e];return t?mMe(t):rfe(e)?"mcp":"unknown"}function Mm(e){return e?iY.has(e)||e.includes("_sync_connector")?!0:gMe.has(e):!1}function sY(e){return e?rY.has(e):!1}function yMe(e,t){return e&&e.connector_type==="MCP"?!0:!t||rY.has(t)||iY.has(t)?!1:!oY(t)}function oY(e){return Ii[e]!==void 0}function CMe(e,t){var n;if(t)return t;if(e)return((n=e.labels)==null?void 0:n.admin_only_connector)==="true"||e.distribution_channel==="TENANT_CATALOG"?"workspace":"user"}function qF(e){var a,c,l,u,d,f,h,p,g,m,v,y,T,b;const t=(c=(a=e.connector)==null?void 0:a.id)!=null?c:e.connectorId;if(!t)throw new Error("_buildConnectorIdMetadata: connectorId is required to build metadata");const n=new Set,r=(C,O)=>{O&&n.add(C)},i=(l=e.traitOverrides)!=null?l:{};r("access",(u=i.access)!=null?u:sY(t)),r("sync",(d=i.sync)!=null?d:Mm(t)),r("mcp",(f=i.mcp)!=null?f:yMe(e.connector,t)),r("ecosystem",(p=i.ecosystem)!=null?p:((h=e.connector)==null?void 0:h.distribution_channel)==="ECOSYSTEM_DIRECTORY"),r("retrievable",(v=i.retrievable)!=null?v:!!((m=(g=e.connector)==null?void 0:g.conformance)!=null&&m.implements_retrievable));const s=(T=e.ownerOverride)!=null?T:_Me((y=e.connector)==null?void 0:y.distribution_channel),o=(b=e.authScopeOverride)!=null?b:CMe(e.connector,e.authScopeOverride);return I(S({connector_id:t,connector_traits:Array.from(n),connector_owner:s},o?{auth_scope:o}:{}),{referrer:e.referrer})}function VF(e){if(e.kindOverride)return e.kindOverride;const t=e.connector_id_metadata.connector_id;return t?Mm(t)?"1p_sync":sY(t)||oY(t)?"1p_access":"3p_mcp":"3p_mcp"}function bMe(e,t){const n=new Set,r=new Set;for(const s of e){if(typeof s!="string")continue;if(Pt[s]){n.add(s);continue}if(s.startsWith("connector_")){Mm(s)?r.add(s):n.add(s);continue}Mm(s)&&r.add(s)}const i=Array.from(t,s=>{var o;return(o=s.name)!=null?o:"Unknown MCP"});return{accessConnectorIds:Array.from(n),syncConnectorIds:Array.from(r),mcpConnectorIds:i}}function il(e){const{connector_id:t,connector_owner:n,auth_scope:r,connector_traits:i}=e;return I(S({connector_id:t,service_key:vMe(t),connector_owner:n},r?{auth_scope:r}:{}),{connector_traits:i})}function XS(e){return Array.from(new Set(e))}const Ma={createIdMetadataFromConnector(e,t,n={}){return qF({connector:e,referrer:t,traitOverrides:n.traitOverrides,ownerOverride:n.ownerOverride,authScopeOverride:n.authScopeOverride})},createIdMetadataFromId(e,t,n={}){return qF({connectorId:e,referrer:t,traitOverrides:n.traitOverrides,ownerOverride:n.ownerOverride,authScopeOverride:n.authScopeOverride})},logEntryPointShown({referrer:e}){Se.logEventWithStatsig("connectors.entry_point_shown","connectors.entry_point_shown",{referrer:e})},logModalShown(e){const t=e.connector_id_metadata,n=S(S(S(S(I(S({},il(t)),{referrer:e.referrer}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{}),e.mfaState?{mfa:e.mfaState}:{}),e.authType?{auth_type:e.authType}:{}),typeof e.skippedByAdmin=="boolean"?{skipped_by_admin:e.skippedByAdmin}:{});Se.logEventWithStatsig("connectors.modal_shown","connectors.modal_shown",n)},logModalContinue(e){const t=e.connector_id_metadata,n=S(I(S({},il(t)),{action:e.action,referrer:e.referrer}),e.authType?{auth_type:e.authType}:{});Se.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",n)},logOAuthInitiated(e){const t=e.connector_id_metadata,n=S(S(I(S({},il(t)),{referrer:e.referrer,kind:VF(e)}),e.scopes?{scopes:e.scopes}:{}),e.authType?{auth_type:e.authType}:{});Se.logEventWithStatsig("connectors.oauth_initiated","connectors.oauth_initiated",n)},logOAuthCompleted(e){const t=e.connector_id_metadata,n=S(S(I(S(S(I(S({},il(t)),{success:e.success,referrer:e.referrer}),e.errorType?{errorType:e.errorType}:{}),e.errorMessage?{errorMessage:e.errorMessage}:{}),{kind:VF(e)}),e.scopes?{scopes:e.scopes}:{}),e.authType?{auth_type:e.authType}:{});Se.logEventWithStatsig("connectors.oauth_complete","connectors.oauth_complete",n)},logSelectionChanged(e){const t=bMe(e.selectedSources,e.selectedMCPSources),n=S({referrer:e.referrer,selected_access_connector_ids:t.accessConnectorIds,selected_sync_connector_ids:t.syncConnectorIds,selected_mcp_connector_ids:t.mcpConnectorIds},e.triggerHint?{trigger_hint:e.triggerHint}:{});Se.logEventWithStatsig("connectors.selected","connectors.selected",n)},logTurnInteraction(e){Se.logEventWithStatsig("connectors.turn_interaction","connectors.turn_interaction",S({searched_access_connector_ids:XS(e.accessConnectorIds),searched_sync_connector_ids:XS(e.syncConnectorIds),searched_mcp_connector_ids:XS(e.mcpConnectorIds)},e.triggerHint?{trigger_hint:e.triggerHint}:{}))},logUpgradeToSyncInitiated(e){const t=e.connector_id_metadata,n=S(I(S({},il(t)),{referrer:e.referrer}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{});Se.logEventWithStatsig("connectors.upgrade_to_sync_init","connectors.upgrade_to_sync_init",n)},logUpgradeToSyncCompleted(e){const t=e.connector_id_metadata,n=S(S(S(I(S({},il(t)),{success:e.success,referrer:e.referrer}),e.errorType?{errorType:e.errorType}:{}),e.errorMessage?{errorMessage:e.errorMessage}:{}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{});Se.logEventWithStatsig("connectors.upgrade_to_sync_complete","connectors.upgrade_to_sync_complete",n)}},EMe=Object.freeze(Object.defineProperty({__proto__:null,ConnectorsAnalytics:Ma},Symbol.toStringTag,{value:"Module"})),aY=new BroadcastChannel("oauth_channel"),OVe=e=>{aY.postMessage(e)},QS=e=>{if(!e)return;const t=tfe[e];return t?Pt[t]:void 0};async function cY({connectionId:e,connectorType:t,redirectTo:n,location:r,isReconnect:i,intl:s,isAdminQuickstartFlow:o=!1,accountId:a}){var d,f;const c=window.open("about:blank","_blank");if(!c)throw new Error(s.formatMessage(Fp.popupBlocked));if(o&&!a)throw new Error(s.formatMessage(Fp.somethingWentWrong));let l;try{l=await(o?Qo.admin_request_connect_quickstart(a!=null?a:"",e,n):Qo.user_request_connect(e,n,!0))}catch(h){throw c.close(),new Error(s.formatMessage(Fp.somethingWentWrong))}Se.logEventWithStatsig("Contextual Answers User OAuth Initiated","chatgpt_contextual_answers_user_oauth_initiated",{connectorType:t,location:r,isReconnect:i,isAdminQuickstartFlow:o});const u=QS(t);return u&&Ma.logOAuthInitiated({connector_id_metadata:Ma.createIdMetadataFromId(u,(d=zr())!=null?d:"contextual_answers.".concat(r),{traitOverrides:{sync:!0}}),referrer:(f=zr())!=null?f:"contextual_answers.".concat(r),authType:"OAUTH",scopes:null,kindOverride:"1p_sync"}),c.location.href=l.oauth_flow_url,new Promise(h=>{const p=g=>{var C,O,w,A;const{error:m,errorDesc:v,errorType:y,pluginId:T,success:b}=g.data;if(g.origin===window.location.origin&&!(l.plugin_id&&l.plugin_id!==T))if(b){Se.logEventWithStatsig("Contextual Answers User OAuth Completed","chatgpt_contextual_answers_user_oauth_completed",{connectorType:t,isAdminQuickstartFlow:o});const x=QS(t);x&&Ma.logOAuthCompleted({connector_id_metadata:Ma.createIdMetadataFromId(x,(C=zr())!=null?C:"contextual_answers.".concat(r),{traitOverrides:{sync:!0}}),referrer:(O=zr())!=null?O:"contextual_answers.".concat(r),authType:"OAUTH",scopes:null,success:!0,kindOverride:"1p_sync"}),h({success:!0,message:s.formatMessage(Fp.connectedDriveSyncDesc)})}else{Se.logEventWithStatsig("Contextual Answers User OAuth Failed","chatgpt_contextual_answers_user_oauth_failed",{connectorType:t,errorType:y,isAdminQuickstartFlow:o});const x="".concat(m).concat(v?": ".concat(v):""),R=QS(t);R&&Ma.logOAuthCompleted({connector_id_metadata:Ma.createIdMetadataFromId(R,(w=zr())!=null?w:"contextual_answers.".concat(r),{traitOverrides:{sync:!0}}),referrer:(A=zr())!=null?A:"contextual_answers.".concat(r),authType:"OAUTH",scopes:null,success:!1,errorType:y,errorMessage:x,kindOverride:"1p_sync"}),h({errorType:y,success:b,message:x})}};aY.addEventListener("message",p,!1),c.addEventListener("beforeunload",()=>{window.removeEventListener("message",p,!1)})})}const Fp=Tt({popupBlocked:{id:"67rWk2",defaultMessage:"Popup blocked. Please allow popups for this site."},connectedDriveSyncDesc:{id:"CACallback.connectedDriveSyncDesc.2",defaultMessage:"Google Drive is now connected and syncing."},somethingWentWrong:{id:"RvtOjD",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),SMe=B(()=>k(()=>import("./dch45l9yrtbjo93p.js"),__vite__mapDeps([5,1])),{loading:e=>z(e)}),OMe=B(()=>k(()=>import("./iwr3smf9emayvqcc.js"),__vite__mapDeps([72,1])),{loading:e=>z(e)}),TMe=B(()=>k(()=>import("./g4sz9o46wpmsris2.js"),__vite__mapDeps([73,1])),{loading:e=>z(e)}),lY=B(()=>k(()=>import("./oydzwmbjqxhwp1ek.js"),__vite__mapDeps([43,1])),{loading:e=>z(e)}),wMe=B(()=>k(()=>import("./dpf52wv18uwxh9t9.js"),__vite__mapDeps([74,1])),{loading:e=>z(e)}),AMe=B(()=>k(()=>import("./omh7pce8seqk5731.js"),__vite__mapDeps([75,1,76,77,3,4,78,79,80])).then(e=>e.GoogleRedirectContent)),bN={type:"success",size:"custom",className:"max-w-xl",showCloseButton:!0,shouldIgnoreClickOutside:!0,hideSeparator:!0,noPadding:!0,title:_.jsx(hw,{})},xMe=({onClose:e,isAdminFlow:t,isAdminQuickstartFlow:n=!1,connectionId:r,location:i,accountId:s,onSuccess:o,excludeModalWrapper:a=!1})=>{var v,y;const c=(y=(v=NV())==null?void 0:v.enabled)!=null?y:!1,l=!t&&c,[u,d]=E.useState(l?"cta":"disclaimer"),[f,h]=E.useState(),p=_t(),g=E.useCallback(()=>{o==null||o(),e==null||e()},[e,o]),m={connectionId:r,connectorType:"google_drive_oauth",location:i,isAdminQuickstartFlow:n,accountId:s,onSuccess:g,onError:T=>{h(T),d("error")}};switch(u){case"disclaimer":return _.jsx(IMe,{isOpen:!0,onClose:e,excludeModalWrapper:a,isAdminFlow:t,isAdminQuickstartFlow:n,secondaryButton:_.jsx(Kd,{title:p.formatMessage(pl.cancel),color:"secondary",onClick:e}),primaryButton:_.jsx(Kd,{color:"primary",onClick:()=>d("cta"),children:p.formatMessage(pl.continue)})});case"cta":return l?_.jsx(RMe,S({onClose:e,isReconnect:!1,excludeModalWrapper:a},m)):_.jsx(NMe,{isOpen:!0,onClose:e,excludeModalWrapper:a,secondaryButton:_.jsx(Kd,{title:p.formatMessage(pl.back),color:"secondary",onClick:()=>d("disclaimer")}),primaryButton:_.jsx($F,S({label:p.formatMessage(pl.loginWithGoogle)},m))});case"error":return l?_.jsx(kMe,S({onClose:e,error:f,excludeModalWrapper:a,isReconnect:!0},m)):_.jsx(PMe,{isOpen:!0,onClose:e,error:f,excludeModalWrapper:a,primaryButton:_.jsx($F,S({label:p.formatMessage(pl.reconnect),isReconnect:!0},m))})}};function IMe({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:i,isAdminFlow:s,isAdminQuickstartFlow:o}){const a=_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"px-6 pt-4 pb-10",children:[_.jsx("div",{className:"text-xl font-medium",children:_.jsx(bt,{id:"zjbSLP",defaultMessage:"Connect your organizationâ€™s Google Drive "})}),_.jsx("div",{className:"text-md text-token-text-secondary mt-3",children:o?_.jsx(bt,{id:"YCbpE/",defaultMessage:"Linking ChatGPT to Google Drive gives you more tailored answers based on your organization's context. Once you connect, others in your org can too."}):_.jsx(bt,{id:"+hD78k",defaultMessage:"{userText}Connecting ChatGPT to Google Drive helps you get more personalized, up-to-date answersâ€”grounded in your organizationâ€™s content. ChatGPT semantically searches your Drive and only surfaces content youâ€™re authorized to view.",values:{userText:!s&&_.jsx(bt,{id:"kg6Qe+",defaultMessage:"Your admin has enabled internal knowledge for your workspace. "})}})}),_.jsx("div",{className:"mt-6 text-lg font-medium",children:_.jsx(bt,{id:"x/LOXH",defaultMessage:"What to expect"})}),_.jsxs("ul",{className:"text-md text-token-text-secondary ms-6 mt-4",children:[_.jsx("li",{className:"mb-2 list-disc",children:_.jsx(bt,{id:"iBETBV",defaultMessage:"Continuous sync: Your documents, spreadsheets, and presentations stay up to date in ChatGPT."})}),_.jsx("li",{className:"mb-2 list-disc",children:_.jsx(bt,{id:"u/D1Mk",defaultMessage:"Privacy first: ChatGPT always respects your Google Drive permissions â€” it can only access what you can."})}),_.jsx("li",{className:"list-disc",children:_.jsx(bt,{id:"uHiJ04",defaultMessage:"Youâ€™re in control: Disconnect anytime to instantly revoke access."})})]}),o&&_.jsxs("div",{className:"bg-token-main-surface-secondary text-token-text-primary mt-6 flex w-full flex-row items-center gap-4 rounded-xl p-4",children:[_.jsx(SMe,{className:"icon-lg"}),_.jsx("span",{className:"text-token-text-secondary text-sm",children:_.jsx(bt,{id:"k5y2IZ",defaultMessage:"<b>Note</b>: Only users with the <i>same</i> Google Workspace domain can connect. Your email should look like <code>example.com</code> â€” personal accounts wonâ€™t work. Be sure youâ€™re using the right one.",values:{b:c=>_.jsx("strong",{children:c}),i:c=>_.jsx("em",{children:c}),code:c=>_.jsx("code",{children:c})}})})]})]}),_.jsx(CN,{secondaryButton:r,primaryButton:i})]});return n?a:_.jsx(Fu,I(S({},bN),{isOpen:e,onClose:t,testId:"modal-gdrive-disclaimer",children:a}))}function NMe({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:i}){const s=_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"px-6 pt-4 pb-10",children:[_.jsx("div",{className:"mb-3 text-xl font-medium",children:_.jsx(bt,{id:"X4Rl7H",defaultMessage:"Allow full access"})}),_.jsx("div",{children:_.jsx(bt,{id:"laPpDC",defaultMessage:"<b>Important:</b> In the next step, make sure to keep all boxes checked. ChatGPT requires access to the full list of Google permissions.",values:{b:o=>_.jsx("strong",{children:o})}})})]}),_.jsx(CN,{secondaryButton:r,primaryButton:i})]});return n?s:_.jsx(Fu,I(S({},bN),{isOpen:e,onClose:t,testId:"modal-gdrive-cta",children:s}))}function RMe(r){var i=r,{onClose:e,excludeModalWrapper:t}=i,n=W(i,["onClose","excludeModalWrapper"]);const{loading:s,initiateOAuthFlow:o}=EN(n),a=_.jsx(AMe,{connectorIcon:_.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:_.jsx(lY,{height:32,width:32})}),connectorName:"Google Drive",connectorId:CPe,onClose:e,isConnecting:s,onContinue:()=>o()});return t?a:_.jsx(Fu,{rootClassName:"z-100",testId:"modal-gdrive-cta-slurm",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:a})}const uY=({intl:e,error:t})=>{var i;let n,r;switch(t==null?void 0:t.errorType){case"ca/oauth_api_access_error":{n=e.formatMessage({id:"LrBpzI",defaultMessage:"Permissions required"}),r=e.formatMessage({id:"E0lVhb",defaultMessage:"In order to sync your drive you must give ChatGPT the appropriate permissions. Please try again and select all the required checkboxes."});break}case"ca/oauth_missing_user_info_domain":{n=e.formatMessage({id:"CDqa2q",defaultMessage:"Cannot connect this account"}),r=e.formatMessage({id:"6Can6p",defaultMessage:"The Google account you are trying to connect does not belong to a Google Workspace domain. Google accounts that do not belong to a Google Workspace (such as personal Gmail accounts) are not eligible to connect to this specific feature at this time."});break}case"ca/oauth_has_existing_linked_openai_account":{n=e.formatMessage({id:"QSfIDZ",defaultMessage:"This Google account is already connected to a different ChatGPT account"}),r=e.formatMessage({id:"Z9Bj8k",defaultMessage:"The Google account you are trying to link is already connected to a different ChatGPT user for this Google Drive connection."});break}case"ca/oauth_connection_not_allowed":{n=e.formatMessage({id:"I3ekm6",defaultMessage:"Your ChatGPT account is not enabled for this connection"}),r=e.formatMessage({id:"0Vbazl",defaultMessage:"Your ChatGPT administrator has not enabled this connection for your account."});break}default:n=e.formatMessage({id:"ojfL45",defaultMessage:"Something went wrong"}),r=(i=t==null?void 0:t.message)!=null?i:e.formatMessage({id:"5MOzf8",defaultMessage:"We were unable to connect your Google account. Please check your settings and try again."})}return{title:n,body:r}};function PMe({isOpen:e,onClose:t,excludeModalWrapper:n,primaryButton:r,error:i}){const s=_t(),{title:o,body:a}=uY({intl:s,error:i}),c=_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"px-6 pt-4 pb-10",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xl font-medium",children:[_.jsx(wMe,{className:"icon-lg"}),o]}),_.jsx("div",{children:a})]}),_.jsx(CN,{primaryButton:r})]});return n?c:_.jsx(Fu,I(S({},bN),{isOpen:e,onClose:t,testId:"modal-gdrive-error",children:c}))}function kMe(i){var s=i,{onClose:e,error:t,excludeModalWrapper:n}=s,r=W(s,["onClose","error","excludeModalWrapper"]);const o=_t(),{title:a,body:c}=uY({intl:o,error:t}),{loading:l,initiateOAuthFlow:u}=EN(r),d=_.jsxs(_.Fragment,{children:[_.jsx(vPe,{onClose:e,connectorIcon:_.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:_.jsx(lY,{height:32,width:32})}),title:a}),_.jsxs("div",{className:"border-token-border-default text-token-text-secondary mt-8 mb-6 flex items-center gap-4 rounded-xl border p-4 text-sm",children:[_.jsx(OMe,{className:"icon-lg"}),c]}),_.jsx(no,{className:"w-full",size:"large",onClick:()=>u(),loading:l,children:o.formatMessage(pl.reconnect)})]});return n?d:_.jsx(Fu,{testId:"modal-gdrive-error-slurm",rootClassName:"z-100",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:d})}const EN=({connectorType:e,connectionId:t,location:n,isReconnect:r=!1,isAdminQuickstartFlow:i,accountId:s,onSuccess:o,onError:a})=>{const[c,l]=E.useState(!1),u=_t(),d=Fn(),f=E.useCallback(async()=>{try{l(!0);const{message:h,errorType:p,success:g}=await cY({connectorType:e,connectionId:t,location:n,isReconnect:r,intl:u,isAdminQuickstartFlow:i,accountId:s});g?(d.success(h),o==null||o()):(d.danger(h,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:h}),a==null||a({errorType:p,message:h}))}catch(h){a==null||a(),h instanceof Error&&d.danger(h.message,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:h.message})}finally{l(!1)}},[e,t,n,r,u,i,s,d,o,a]);return{loading:c,initiateOAuthFlow:f}},$F=n=>{var r=n,{label:e}=r,t=W(r,["label"]);const{loading:i,initiateOAuthFlow:s}=EN(t);return _.jsx(Kd,{loading:i,onClick:s,color:"primary",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(TMe,{}),e]})})},pl=Tt({back:{id:"RDaXnk",defaultMessage:"Back"},cancel:{id:"CfN1/v",defaultMessage:"Cancel"},continue:{id:"XGnWba",defaultMessage:"Continue"},loginWithGoogle:{id:"9ImAmL",defaultMessage:"Log in with Google"},reconnect:{id:"0qUCBD",defaultMessage:"Reconnect"},encounteredError:{id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),MMe=({connectorType:e,connectionId:t,location:n,refetch:r,renderButton:i})=>{const s=_t(),[o,a]=E.useState(!1),c=Fn(),l=QI(),u=re(),d=_be(u),f=e==="google_drive_oauth",h=E.useCallback(async()=>{try{a(!0),await cY({connectorType:e,connectionId:t,location:n,intl:s})}catch(y){y instanceof Error?c.danger(y.message,{toastId:"ca_oauth_button"}):c.danger(s.formatMessage({id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}),{toastId:"ca_oauth_button",loggingTitle:"Encountered an error connecting your account.",loggingDescription:"Error message shown when a user tries to link their account but it fails."})}finally{a(!1),r==null||r()}},[t,e,s,n,r,c]),[p,g]=E.useState(!1),m=i({disabled:l||d,isLoading:o,onClick:()=>{f?g(!0):h()}}),v=m;return l?_.jsx(so,{label:s.formatMessage(DMe.gdriveTooltip),children:m}):d?_.jsx(pPe,{children:m}):_.jsxs(_.Fragment,{children:[v,p&&_.jsx(xMe,{isAdminFlow:!1,onClose:()=>g(!1),connectionId:t,location:n,onSuccess:r})]})},DMe=Tt({gdriveTooltip:{id:"9DbE+w",defaultMessage:"Cannot connect, please use the web version instead"}}),LMe=B(()=>k(()=>import("./dch45l9yrtbjo93p.js"),__vite__mapDeps([5,1])),{loading:e=>z(e)}),jMe=B(()=>k(()=>import("./okh4b2ff15s9ojmh.js"),__vite__mapDeps([81,1])),{loading:e=>z(e)}),FMe=B(()=>k(()=>import("./ezd0hym0jr36348y.js"),__vite__mapDeps([82,1])),{loading:e=>z(e)}),UMe=B(()=>k(()=>Promise.resolve().then(()=>AIe),void 0),{loading:e=>z(e)}),dY=({startDate:e,now:t,scale:n})=>{const r=t.getTime()-e.getTime();if(r<=0)return 0;const i=r/n,s=Math.min(1,Math.log1p(i*9)/Math.log1p(10));return Math.round(s*100)},fY=(e=1e3)=>{const[t,n]=E.useState(new Date);return E.useEffect(()=>{const r=setInterval(()=>{n(new Date)},e);return()=>clearInterval(r)},[e]),t},BMe=({connection:e})=>{const t=_t(),n=fY(),r=e.user_connection_details.initialized_at,i=r?dY({startDate:new Date(r),now:n,scale:1e3*60*60*3})/2:25;return _.jsx(so,{label:t.formatMessage({id:"69GKr/",defaultMessage:"Syncing may take 8 hours or longer"}),side:"right",children:_.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[_.jsx(Tv,{sizeOverride:18,percentage:i}),_.jsx(bt,{id:"fYaL40",defaultMessage:"Syncing"})]})})},GMe=({className:e,connection:t,ignoreLabel:n=!1})=>{const r=_t(),i=fY(),s=t.user_connection_details.initialized_at,o=s?dY({startDate:new Date(s),now:i,scale:1e3*60*60*6})/2+50:75;return _.jsx(so,{label:r.formatMessage({id:"lsQnba",defaultMessage:"Last 30 days synced"}),secondaryLabel:r.formatMessage({id:"j+cskE",defaultMessage:"Full sync can take up to few days"}),side:"right",children:_.jsxs("div",{className:ve("text-caption-regular text-token-text-tertiary flex items-center gap-2",e),children:[_.jsx(Tv,{sizeOverride:18,percentage:o,className:"text-blue-400"}),!n&&_.jsx(bt,{id:"k4otrZ",defaultMessage:"Partially synced"})]})})},WMe=({connection:e,location:t,inactiveButtonOverride:n})=>{var c;const r=re(),[i,s]=E.useState(new Date);E.useEffect(()=>{const l=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(l)},[]);const o=_t();switch(e.user_connection_details.activation_status){case"activated":{const l=(c=e.user_connection_details.last_delta_sync_completed_at)!=null?c:e.user_connection_details.last_full_sync_completed_at;return l?_.jsx("div",{className:"text-body-small-regular",children:fPe({now:i,givenDate:new Date(l),intl:o})}):_.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[_.jsx(UMe,{className:"icon-sm"}),_.jsx(bt,{id:"SWdiTP",defaultMessage:"Synced"})]})}case"activating":return _.jsx(BMe,{connection:e});case"partially_activated":return _.jsx(GMe,{connection:e});case"inactive":return n||_.jsx(qMe,{connection:e,refetch:()=>Kx(r),location:t})}},HF="https://help.openai.com/en/articles/10929079-google-workspace-admin-managed-setup#h_856676fdde",hY=({displayName:e,connectorType:t})=>_.jsx(so,{withArrow:!0,interactive:!0,label:_.jsx(BF,{openNewTab:!0,underline:!1,href:HF,children:_.jsx(bt,{id:"H0Humf",defaultMessage:"We were unable to connect your account to {connector_name}. Click to learn more.",values:{connector_name:t==="google_drive_dwd"?"Google Drive":e}})}),sideOffset:0,children:_.jsx(BF,{className:"hover:bg-token-interactive-bg-secondary-hover block rounded-full p-2",href:HF,openNewTab:!0,children:_.jsx(LMe,{className:"icon"})})}),TVe=({connection:e})=>{switch(e.user_connection_details.auth_status){case"admin_connected":return _.jsx(bt,{id:"Isczat",defaultMessage:"Connected"});case"admin_managed_disconnected":return _.jsx(hY,{displayName:e.connection_display_info.display_name,connectorType:e.user_connection_details.knowledge_connector_type});case"not_connected":return _.jsx(bt,{id:"9ZiK24",defaultMessage:"Connect"});case"user_connected":return _.jsx(Tv,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},qMe=({connection:e,refetch:t,location:n})=>{const r=E.useMemo(()=>{switch(e.user_connection_details.auth_status){case"admin_connected":return _.jsx(no,{disabled:!0,size:"small",color:"ghost",children:_.jsx(bt,{id:"Isczat",defaultMessage:"Connected"})});case"admin_managed_disconnected":return _.jsx(hY,{displayName:e.connection_display_info.display_name});case"not_connected":return _.jsx(VMe,{connection:e,location:n,refetch:t});case"user_connected":return _.jsx(Tv,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},[e,n,t]);return _.jsx(_.Fragment,{children:r})},VMe=({connection:e,location:t,refetch:n})=>{const r=({disabled:i,isLoading:s,onClick:o})=>_.jsx(no,{size:"small",disabled:i,loading:s,onClick:o,color:"secondary",children:_.jsx(bt,{id:"9ZiK24",defaultMessage:"Connect"})});return _.jsx(MMe,{connectorType:e.user_connection_details.knowledge_connector_type,connectionId:e.user_connection_details.connection_instance_id,location:t,refetch:n,renderButton:r})},$Me=["admin_connected","admin_managed_disconnected"];function HMe({connection:e,refetch:t}){const n=Fn(),[r,i]=E.useState(!1);if($Me.includes(e.user_connection_details.auth_status))return null;const s=async()=>{try{i(!0),await Qo.user_disconnect(e.user_connection_details.connection_instance_id),n.success("Successfully disconnected your account.")}catch(o){n.danger("Encountered an error disconnecting your account. Please try again later.",{toastId:"ca_disconnect_button"})}finally{i(!1),t==null||t()}};return _.jsxs(rd.Root,{children:[_.jsx(rd.BasicTrigger,{children:_.jsx("button",{type:"button",className:"text-token-text-secondary focus-visible:bg-token-surface-hover enabled:hover:bg-token-surface-hover disabled:text-token-text-quaternary h-8 rounded-lg px-2 focus-visible:outline-0",children:_.jsx(FMe,{className:"icon-sm"})})}),_.jsx(rd.Portal,{children:_.jsx(rd.Content,{size:"small",align:"end",children:_.jsx(rd.Item,{disabled:r,onClick:s,icon:_.jsx(jMe,{}),color:"danger",children:_.jsx(bt,{id:"iHFV22",defaultMessage:"Disconnect"})})})})]})}const Uu=e=>{"use forget";const t=H.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,i=r===void 0?!0:r,s=Pu();let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=["user_connection_status"],t[2]=o):o=t[2];const a=s&&i;let c;return t[3]!==a?(c={queryKey:o,queryFn:Qo.user_connection_status,enabled:a},t[3]=a,t[4]=c):c=t[4],Xt(c)},zMe=new Set(["slack_sync_connector"]);function wVe(){const{data:e,isLoading:t,refetch:n}=Uu(),r=E.useMemo(()=>e==null?void 0:e.connection_statuses.filter(i=>zMe.has(i.user_connection_details.connection_type)),[e]);return E.useEffect(()=>{Se.logEventWithStatsig("Contextual Answers User Settings Modal Shown","chatgpt_contextual_answers_user_settings_modal_shown")},[]),r!=null&&r.length?_.jsx(Jde,{description:_.jsx(bt,{id:"yjIap+",defaultMessage:"These connectors are only available to a limited number of users."}),title:_.jsx(bt,{id:"5C8Bnt",defaultMessage:"Beta connectors"}),children:_.jsx("div",{className:"border-b",children:t?_.jsx("div",{className:"p-2",children:_.jsx(Qxe,{lines:4})}):r!=null&&r.length?_.jsx("div",{children:r.map(i=>{var s,o;return _.jsx(Xde,{children:_.jsx(nOe,{icon:_.jsx("img",{src:(s=i.connection_display_info.icon_url)!=null?s:"",alt:i.connection_display_info.display_name,className:"icon-lg"}),title:i.connection_display_info.display_name,statusIndicator:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(WMe,{connection:i,location:"user_settings"}),((o=i.user_connection_details)==null?void 0:o.activation_status)!=="inactive"&&_.jsx(HMe,{connection:i,refetch:n})]})})},i.user_connection_details.connection_instance_id)})}):_.jsx("p",{className:"text-token-text-secondary my-2",children:_.jsx(bt,{id:"nzXh59",defaultMessage:"No connections found."})})})}):null}const YMe=B(()=>k(()=>import("./ftbklkne5vchqwja.js"),__vite__mapDeps([83,1])),{loading:e=>z(e)}),KMe=B(()=>k(()=>import("./idvmimdr84st2so4.js"),__vite__mapDeps([84,1])),{loading:e=>z(e)}),JMe=B(()=>k(()=>import("./net5f1925ssn3thy.js"),__vite__mapDeps([85,1])),{loading:e=>z(e)}),XMe=B(()=>k(()=>import("./pj0tlj9i65oz4g7u.js"),__vite__mapDeps([86,1])),{loading:e=>z(e)}),QMe=B(()=>k(()=>import("./d8cmrw5lg3ncoab2.js"),__vite__mapDeps([87,1])),{loading:e=>z(e)}),ZMe=B(()=>k(()=>import("./gsc4el4a1mly7vaf.js"),__vite__mapDeps([88,1])),{loading:e=>z(e)}),eDe=B(()=>k(()=>import("./dvfjdfwc50k8htst.js"),__vite__mapDeps([26,1])),{loading:e=>z(e)}),tDe=B(()=>k(()=>import("./idxkrx2slxhzm8qh.js"),__vite__mapDeps([30,1])),{loading:e=>z(e)}),nDe=B(()=>k(()=>import("./hk404s80nkkano79.js"),__vite__mapDeps([89,1])),{loading:e=>z(e)}),rDe=B(()=>k(()=>import("./iz9ybw36zj0rjajq.js"),__vite__mapDeps([36,1])),{loading:e=>z(e)}),iDe=B(()=>k(()=>import("./oydzwmbjqxhwp1ek.js"),__vite__mapDeps([43,1])),{loading:e=>z(e)}),sDe=B(()=>k(()=>import("./1z12ka0sjzwi5bk4.js"),__vite__mapDeps([53,1])),{loading:e=>z(e)}),AVe=({className:e,contextConnector:t,extension:n})=>{const r=_t(),i=oDe(t,n);return _.jsx("div",{className:"".concat(e," dark:bg-token-main-surface-secondary flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10"),children:_.jsx(i,{className:"w-[20px]","aria-label":r.formatMessage({id:"ccc.fileIcon",defaultMessage:"File icon for {contextConnector}"},{contextConnector:t})})})};function oDe(e,t){switch(e){case xe.CONFLUENCE:return sDe;case xe.GDRIVE:switch(t){case"doc":case"docx":return ZMe;case"xls":case"xlsx":return QMe;case"ppt":case"pptx":return XMe;default:return iDe}case xe.JIRA:return rDe;case xe.NOTION_OPEN_CONNECTOR:return tDe;case xe.O365_BUSINESS:case xe.O365_PERSONAL:case xe.O365:switch(t){case"doc":case"docx":return YMe;case"xls":case"xlsx":return JMe;case"ppt":case"pptx":return KMe;default:return nDe}case xe.SLACK_OPEN_CONNECTOR:return eDe}}const aDe=B(()=>k(()=>import("./dvfjdfwc50k8htst.js"),__vite__mapDeps([26,1])),{loading:e=>z(e)}),cDe=B(()=>k(()=>import("./kfciwy69uk039ng9.js"),__vite__mapDeps([69,1])),{loading:e=>z(e)}),lDe=B(()=>k(()=>import("./idxkrx2slxhzm8qh.js"),__vite__mapDeps([30,1])),{loading:e=>z(e)}),uDe=B(()=>k(()=>import("./e2n6syult3e6hs2j.js"),__vite__mapDeps([33,1])),{loading:e=>z(e)}),dDe=B(()=>k(()=>import("./iz9ybw36zj0rjajq.js"),__vite__mapDeps([36,1])),{loading:e=>z(e)}),fDe=B(()=>k(()=>import("./oydzwmbjqxhwp1ek.js"),__vite__mapDeps([43,1])),{loading:e=>z(e)}),hDe=B(()=>k(()=>import("./1z12ka0sjzwi5bk4.js"),__vite__mapDeps([53,1])),{loading:e=>z(e)});function xVe(e){switch(e){case xe.CONFLUENCE:return hDe;case xe.GDRIVE:return fDe;case xe.JIRA:return dDe;case xe.NOTION_OPEN_CONNECTOR:return lDe;case xe.O365_PERSONAL:case xe.O365:return uDe;case xe.O365_BUSINESS:return cDe;case xe.SLACK_OPEN_CONNECTOR:return aDe}}var id={},zF;function pDe(){if(zF)return id;zF=1,Object.defineProperty(id,"__esModule",{value:!0});function e(t,n){if(n)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}return id.assertNever=e,id.default=e,id}var gDe=pDe();const mDe=Gt(gDe),_De=gn({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),vDe=gn({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),IVe=Tt({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function NVe(e,t,n){var r,i;switch(e){case xe.CONFLUENCE:return"Confluence";case xe.GDRIVE:return"Google Drive";case xe.JIRA:return"Jira";case xe.NOTION_OPEN_CONNECTOR:return"Notion";case xe.O365:return n?"OneDrive":"Microsoft OneDrive";case xe.O365_PERSONAL:return n?"OneDrive":(r=t==null?void 0:t.formatMessage(_De))!=null?r:"Microsoft OneDrive (personal)";case xe.O365_BUSINESS:return n?"Sharepoint":(i=t==null?void 0:t.formatMessage(vDe))!=null?i:"Microsoft OneDrive (work/school)";case xe.SLACK_OPEN_CONNECTOR:return"Slack"}}function yDe(e,t){switch(e){case xe.CONFLUENCE:return"Confluence Page";case xe.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case xe.JIRA:return"Jira Issue";case xe.NOTION_OPEN_CONNECTOR:return"Notion Page";case xe.O365:case xe.O365_PERSONAL:case xe.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case xe.SLACK_OPEN_CONNECTOR:return"Slack"}mDe(e)}function RVe({contextConnector:e,extension:t}){return _.jsx(_.Fragment,{children:yDe(e,t)})}const SN=ut(e=>{const t=sa(e),n=t==null?void 0:t.user,r=rn(e,"1967546325"),i=r.get("gdrivePicker",!1),s=r.get("o365Picker",!1),o=r.get("gdriveLink",!1),a=r.get("o365PersonalLink",!1),c=r.get("o365BusinessLink",!1),l=r.get("testCtor1Link",!1),u=r.get("testCtor2Link",!1),d=r.get("testCtor3Link",!1),f=r.get("oversmokeLink",!1),h=rn(e,"3747383021"),p=$e(e,"3544641259")&&h.get("github",!1),g=r.get("gdrivePercentage",0),m=r.get("o365Percentage",0),v=r.get("testCtor1Percentage",0),y=r.get("testCtor2Percentage",0),T=r.get("testCtor3Percentage",0),b=r.get("oversmokePercentage",0),C=r.get("loadTestPercentage",0),O=r.get("showWorkspaceSettings",!1),w=n?CDe(n.id):null;return{confluenceLinkStatus:fi(l,w,v),gdriveLinkStatus:fi(o,w,g),gdriveStatus:fi(i,w,g),jiraLinkStatus:fi(u,w,y),notionLinkStatus:fi(d,w,T),o365BusinessLinkStatus:fi(c,w,m),o365PersonalLinkStatus:fi(a,w,m),o365Status:fi(s,w,m),slackLinkStatus:fi(f,w,b),githubLinkStatus:fi(p,w,100),loadTest:fi(!0,w,C)==="true",showWorkspaceSettings:O}});function fi(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function CDe(e){const n=bDe(e)%100;return Math.abs(n)}function bDe(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const EDe=new Map;function PVe(){const e=re(),{confluenceLinkStatus:t,gdriveLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:i,o365BusinessLinkStatus:s,o365PersonalLinkStatus:o,slackLinkStatus:a}=SN(e);return ON(n,s,o,t,r,i,a)}function kVe(){const e=re(),{gdriveStatus:t,o365Status:n}=SN(e);return ON(t,n,n)}function SDe(){const e=re(),{gdriveStatus:t,o365Status:n,confluenceLinkStatus:r,jiraLinkStatus:i,notionLinkStatus:s,slackLinkStatus:o,githubLinkStatus:a}=SN(e);return ON(t,n,n,a,r,i,s,o)}function ON(e,t,n,r=null,i=null,s=null,o=null,a=null){var ue,me,J,K,ne,X,ee;const c=re(),l=at(c),u=l==null?void 0:l.getWorkspaceId(),d=[xe.GDRIVE,xe.O365_PERSONAL,xe.O365_BUSINESS,...i==="true"||i==="ifConnected"?[xe.CONFLUENCE]:[],...s==="true"||s==="ifConnected"?[xe.JIRA]:[],...o==="true"||o==="ifConnected"?[xe.NOTION_OPEN_CONNECTOR]:[],...a==="true"||a==="ifConnected"?[xe.SLACK_OPEN_CONNECTOR]:[]],{connectors:f,isLoading:h,error:p,refetch:g}=ODe(d),{data:m,isLoading:v,error:y,refetch:T}=gx(u),b=!u||((ue=m==null?void 0:m.beta_settings)==null?void 0:ue[ws.CONTEXT_CONNECTOR_CONFLUENCE]),C=!u||((me=m==null?void 0:m.beta_settings)==null?void 0:me[ws.CONTEXT_CONNECTOR_GDRIVE]),O=!u||((J=m==null?void 0:m.beta_settings)==null?void 0:J[ws.CONTEXT_CONNECTOR_JIRA]),w=!u||((K=m==null?void 0:m.beta_settings)==null?void 0:K[ws.CONTEXT_CONNECTOR_NOTION]),A=!u||((ne=m==null?void 0:m.beta_settings)==null?void 0:ne[ws.CONTEXT_CONNECTOR_O365_PERSONAL]),x=!u||((X=m==null?void 0:m.beta_settings)==null?void 0:X[ws.CONTEXT_CONNECTOR_O365_BUSINESS]),R=!u||((ee=m==null?void 0:m.beta_settings)==null?void 0:ee[ws.CONTEXT_CONNECTOR_SLACK]),P=f.get(xe.CONFLUENCE),L=f.get(xe.GDRIVE),D=f.get(xe.JIRA),F=f.get(xe.NOTION_OPEN_CONNECTOR),G=f.get(xe.O365_PERSONAL),Y=f.get(xe.O365_BUSINESS),V=f.get(xe.SLACK_OPEN_CONNECTOR),M=(ye,de)=>ye==="true"||ye==="ifConnected"&&de,te=E.useMemo(()=>{var Qe;const ye=!!i&&M(i,!!(P!=null&&P.access_token)),de=!!(L!=null&&L.access_token),oe=M(e,de),Ee=!!s&&M(s,!!(D!=null&&D.access_token)),Ae=!!o&&M(o,!!(F!=null&&F.access_token)),He=!!((Qe=G==null?void 0:G.access_token)!=null?Qe:Y!=null&&Y.access_token),Re=M(t,He),_e=M(n,He),pe=!!a&&M(a,!!(V!=null&&V.access_token)),j=[ye&&P&&b?[xe.CONFLUENCE,P]:null,oe&&L&&C?[xe.GDRIVE,L]:null,Ee&&D&&O?[xe.JIRA,D]:null,Ae&&F&&w?[xe.NOTION_OPEN_CONNECTOR,F]:null,_e&&G&&A?[xe.O365_PERSONAL,G]:null,Re&&Y&&x?[xe.O365_BUSINESS,Y]:null,pe&&V&&R?[xe.SLACK_OPEN_CONNECTOR,V]:null];return new Map(ux(j))},[P,i,L,e,D,s,F,o,Y,V,t,G,n,b,a,C,w,O,A,x,R]);let $=null,ie=g;return p?($=p,ie=g):y&&($=y,ie=T),{connectorConfig:te,isLoading:h||v,error:$,refetch:ie}}function ODe(e){const t=re(),n=!St(t),{data:r,isLoading:i,error:s,refetch:o}=Xt({queryKey:["fetchConnectorData",e],queryFn:TDe,refetchInterval:1800*1e3,enabled:!n});return{connectors:E.useMemo(()=>!r||!r.length||s?EDe:new Map(r.map(c=>[c.type,c])),[r,s]),isLoading:i,error:s,refetch:o}}async function TDe({queryKey:e}){const[t,n]=e;let r=null;try{r=await Z.safeGet("/connectors/check",{parameters:{query:{connector_names:n}}})}catch(s){throw Q.addAction("Server Error while retrieving context connector entry",{cause:s}),s}return!r||!r.connectors?[]:r.connectors.map(s=>{var u;const l=s,{type:o}=l,a=W(l,["type"]),c=o;if(a.access_token){if(c===xe.O365_PERSONAL)return I(S({type:c},a),{onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}});if(c===xe.O365_BUSINESS){const d=(u=a.onedrive_business_metadata)==null?void 0:u.base_url;if(d){const f=new URL(d);return I(S({type:c},a),{onedrive_endpoint_hint:{type:"business",baseUrl:d,parsedUrl:"https://".concat(f.hostname,"/_layouts/15/FilePicker.aspx")}})}}}return S({type:c},a)})}const MVe="ChatGPT",DVe="Untitled",LVe=10,wDe=50,ADe=300,xDe=8e3,jVe=12,FVe=300;function IDe(e){return e.resource!==void 0}const Vn={Private:"private",Email:"email",User:"user",Group:"group",WorkspaceLink:"workspace_link",Link:"link"};function UVe(e){return e.type===Bt.EMAIL||e.type===Bt.USER||e.type===Bt.GROUP}function NDe(e){var t,n,r,i,s,o,a,c,l;return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:(t=e.gizmo.display.description)!=null?t:"",emoji:(n=e.gizmo.display.emoji)!=null?n:void 0,theme:(r=e.gizmo.display.theme)!=null?r:void 0,profilePictureId:(i=e.gizmo.display.profile_pic_id)!=null?i:void 0,profilePictureUrl:(s=e.gizmo.display.profile_picture_url)!=null?s:void 0,promptStarters:(o=e.gizmo.display.prompt_starters)!=null?o:[],tools:R1(e.tools),files:R1(e.files),sharing:RDe(e.gizmo.sharing),trainingDisabled:(a=e.gizmo.training_disabled)!=null?a:!1,memoryScope:(c=e.gizmo.memory_scope)!=null?c:kV.UNSET,sharingTargets:e.gizmo.sharing_targets.map(kDe),liveVersion:(l=e.gizmo.live_version)!=null?l:0,contextStuffingBudget:e.gizmo.context_stuffing_budget}}function RDe(e){return{subjects:e.subjects.map(t=>{var n;switch(t.type){case Bt.EMAIL:return{type:t.type,user_email:t.user_email,capabilities:t.capabilities};case Bt.USER:return{type:t.type,user_id:t.user_id,capabilities:t.capabilities,user_name:t.user_name,user_email:t.user_email,avatar_url:(n=t.avatar_url)!=null?n:null};case Bt.GROUP:return{type:t.type,group_id:t.group_id,group_name:t.group_name,capabilities:t.capabilities};case Bt.WORKSPACE:return{type:t.type,capabilities:t.capabilities};case Bt.ALL:return{type:t.type,capabilities:t.capabilities}}throw new Error("Unknown subject type")}),recipient:PDe(e.recipient)}}function PDe(e){switch(e){case gt.Group:return Vn.Group;case gt.Link:return Vn.Link;case gt.Marketplace:throw new Error("Marketplace sharing not supported for projects");case gt.Private:return Vn.Private;case gt.User:return Vn.User;case gt.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case gt.WorkspaceLink:return Vn.WorkspaceLink}}function kDe(e){switch(e.recipient){case gt.Group:return{recipient:Vn.Group,allowed:e.allowed,moderated_fields:e.moderated_fields};case gt.Link:return{recipient:Vn.Link,allowed:e.allowed,moderated_fields:e.moderated_fields};case gt.Marketplace:throw new Error("Marketplace sharing not supported for projects");case gt.Private:return{recipient:Vn.Private,allowed:e.allowed,moderated_fields:e.moderated_fields};case gt.User:return{recipient:Vn.User,allowed:e.allowed,moderated_fields:e.moderated_fields};case gt.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case gt.WorkspaceLink:return{recipient:Vn.WorkspaceLink,allowed:e.allowed,moderated_fields:e.moderated_fields}}}const YF=[Bt.EMAIL,Bt.USER,Bt.GROUP,Bt.WORKSPACE,Bt.ALL];function BVe(e){return e.length===0?null:e.reduce((t,n)=>YF.indexOf(n.type)<YF.indexOf(t.type)?t:n,e[0])}function GVe(e,t){if(t==null)return e;function n(r){return typeof r=="object"&&r!=null?Array.isArray(r)?r.map(n):Object.fromEntries(Object.entries(r).map(([i,s])=>[i,n(s)])):r===null?void 0:r}return t=n(t),S(S({},e),t)}var MDe=(e=>(e[e.Loading=0]="Loading",e[e.UploadingProfilePic=1]="UploadingProfilePic",e[e.GeneratingProfilePic=2]="GeneratingProfilePic",e[e.GizmoNameTooLong=3]="GizmoNameTooLong",e[e.GizmoDescriptionTooLong=4]="GizmoDescriptionTooLong",e[e.GizmoInstructionsTooLong=5]="GizmoInstructionsTooLong",e[e.NameEmpty=6]="NameEmpty",e[e.MissingPublicActionPrivacyPolicyURL=7]="MissingPublicActionPrivacyPolicyURL",e[e.MissingCategory=8]="MissingCategory",e))(MDe||{});function WVe(e){switch(e){case 0:return"Loading";case 1:return"Uploading profile picture";case 2:return"Generating profile picture";case 3:return"GPT name too long";case 4:return"GPT description too long";case 5:return"GPT instructions too long";case 6:return"GPT name cannot be empty";case 7:return"Public actions require valid privacy policy URLs";case 8:return"Public GPTs must have a category"}}function DDe(e){return e==="link"||e==="marketplace"}function LDe(e){try{return new URL(e),!0}catch(t){return!1}}function qVe(e,t,n){var a,c,l,u,d,f;const r=e.name.length>wDe,i=((c=(a=e.description)==null?void 0:a.length)!=null?c:0)>ADe,s=((u=(l=e.instructions)==null?void 0:l.length)!=null?u:0)>xDe,o=[];if((e==null?void 0:e.name)===""&&o.push(6),r&&o.push(3),i&&o.push(4),s&&o.push(5),t!=null&&DDe(t)){const h=(d=e.tools)==null?void 0:d.filter(p=>p.type===a_.JIT_PLUGIN);for(const p of h){const g=(f=p.metadata)==null?void 0:f.privacy_policy_url;if(g==null||!LDe(g)){o.push(7);break}}}return t===gt.Marketplace&&n==null&&o.push(8),o}const VVe={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:gt.Private,subjects:[]},tools:[{type:a_.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null,firstPartyProjectType:null},jDe={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:Vn.Private,subjects:[]},tools:[{type:a_.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},$Ve=Tt({instructionsWarning:{id:"gizmo.instructionsWarning",defaultMessage:"Conversations with your GPT can potentially include part or all of the instructions provided."}}),pw=5,Tc="snorlaxConversations";var _B;const HVe=io.div(_B||(_B=zi(["text-sm text-red-500"]))),FDe=5,UDe=25,BDe=40,GDe=e=>{switch(e){case be.FREE:case be.FREE_WORKSPACE:return FDe;case be.GO:case be.PLUS:case be.EDUCATION_CBP:case be.QUORUM:case be.DEPRECATED_EDU:case be.K12:return UDe;case be.DEPRECATED_ENTERPRISE:case be.PRO:case be.SELF_SERVE_BUSINESS:case be.ENTERPRISE_CBP:return BDe}};function zVe({accountPlanType:e,numFiles:t}){return!e||![be.FREE,be.GO,be.PLUS].includes(e)?!1:t>=GDe(e)}const WDe=5,Dm=new Set;class Fc{static upsert(t){return Z.safePost("/gizmos/snorlax/upsert",{requestBody:t})}static addHealthGoals(t,n){return Z.safePost("/gizmos/snorlax/{gizmo_id}/health-goals",{parameters:{path:{gizmo_id:t}},requestBody:{health_goals:n}})}static getSnorlaxSidebar(t=null){return Ze.get("".concat(Je,"/gizmos/snorlax/sidebar"),{params:I(S({},t?{cursor:t}:{}),{conversations_per_gizmo:"0",owned_only:"true",limit:"".concat(pw)})})}static async getSnorlaxHistory(t=null){const n=[];let r=t,i=0;for(;i<15;){i++;const s=await Ze.get("".concat(Je,"/gizmos/snorlax/sidebar"),{params:S({conversations_per_gizmo:"".concat(WDe),owned_only:"true"},r?{cursor:r}:{})});if(n.push(...s.items),r=s.cursor,n.length>pw||!r)break;i===5&&Qn.count(Wn.DEFAULT,"projects.history.empty.load_more_5"),i===10&&Qn.count(Wn.DEFAULT,"projects.history.empty.load_more_10")}return r&&n.length===0&&Qn.count(Wn.DEFAULT,"projects.history.empty.load_more_15"),{items:n,cursor:r}}static async fetchSnorlaxHistory(t=null,n){const r=await this.getSnorlaxHistory(t);Q.addFirstTiming("load.snorlaxHistory");const{items:i}=r;i.forEach(o=>{const a=o.gizmo.gizmo.id;n.setQueryData(fn(n,a).queryKey,c=>{if(!c)return o.gizmo}),n.setQueryData([Tc,{gizmoId:a}],c=>{if(!c)return Dm.add(a),{pages:[o.conversations],pageParams:[]}})});const s=i.map(o=>({gizmo:o.gizmo}));return I(S({},r),{items:s})}static delete(t){return Z.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}})}static join(t){return Z.safePost("/gizmos/snorlax/join",{parameters:{query:{gizmo_id:t}}})}static decline(t){return Z.safePost("/gizmos/snorlax/decline",{requestBody:{project_id:t}})}static leave(t){return Z.safePost("/gizmos/snorlax/leave",{requestBody:t})}}const TN=Tt({newChatInProject:{id:"proj-new-chat-placeholder",defaultMessage:"New chat in {projectName}"},emptyFileInstructions:{id:"si7jJz",defaultMessage:"Add documents, code files, images, and more. {gizmoNameText} can access their contents when you chat inside the project."},emptyFileGizmoName:{id:"xr5T2P",defaultMessage:"{gizmoName}"},moveConversationToProject:{id:"M97tb/",defaultMessage:"Move to project"},moveConversationToNamedProject:{id:"OA1Ljx",defaultMessage:"Move to {projectName}"},removeConversationFromProject:{id:"xSI3aZ",defaultMessage:"Remove from {projectName}"},moveConversation:{id:"GM4pWN",defaultMessage:"Move this conversation"},moveConversationToProjectError:{id:"mA7nfR",defaultMessage:"Failed to move the conversation to the project"},newProjectButton:{id:"2qkMU1",defaultMessage:"New project"},newProjectButtonWithNoProjects:{id:"nL/Xy7",defaultMessage:"Projects"},nameTooLong:{id:"feWA6K",defaultMessage:"Project names cannot be longer than {length} characters."},createProjectDisabledByAdmin:{id:"WosQBt",defaultMessage:"Create project is disabled by your admin"},createProjectSubmit:{id:"AHBOEO",defaultMessage:"Create project"},createProjectCancel:{id:"DxU9sm",defaultMessage:"Cancel"},projectNameLabel:{id:"aBtY0G",defaultMessage:"Project name"},projectNameDescription:{id:"NQrF3x",defaultMessage:"Give your project a name"},projectNamePlaceholder:{id:"XS7JR8",defaultMessage:"E.g. Birthday Party Planning"},newChatProjectDropdownItem:{id:"MutDla",defaultMessage:"New chat in {name}"},cancel:{id:"iz2OBQ",defaultMessage:"Cancel"},save:{id:"gTdsTU",defaultMessage:"Save"},removeFile:{id:"COAUqx",defaultMessage:"Remove file"},customInstructionsTitle:{id:"K7k/ns",defaultMessage:"Add instructions"},customInstructionsReadOnlyTitle:{id:"DC+Brl",defaultMessage:"Instructions not yet added"},customInstructionsDescription:{id:"mpKjkc",defaultMessage:"Tailor the way ChatGPT responds in this project"},customInstructionsReadOnlyDescription:{id:"lTa/PV",defaultMessage:"When a project owner or editor adds instructions, ChatGPT will tailor its responses"},filesCount:{id:"XKCsL9",defaultMessage:"{count} {count, plural, one {file} other {files}}"},interpreterOnlyLabel:{id:"/Bdw7C",defaultMessage:"File contents may not be accessible"},defaultColor:{id:"1nrbk9",defaultMessage:"Default color"},editColor:{id:"2r5j3V",defaultMessage:"Edit color"},editCustomInstructionsTitle:{id:"nedukh",defaultMessage:"Instructions"},editCustomInstructionsSubtitle:{id:"NgP+hF",defaultMessage:"How can ChatGPT best help you with this project?"},readOnlyCustomInstructionsTitle:{id:"kK/uLW",defaultMessage:"Custom instructions for ChatGPT to best help with this project"},editCustomInstructionsDescription:{id:"PNY7g9",defaultMessage:"You can ask ChatGPT to focus on certain topics, or ask it to use a certain tone or format for responses."},addInstructionsDropdownLabel:{id:"ArKRrM",defaultMessage:"Add instructions"},editInstructionsDropdownLabel:{id:"p3KE0Q",defaultMessage:"Edit instructions"},viewOnlyInstructionsDropdownLabel:{id:"wAT0FX",defaultMessage:"View instructions"},viewOnlyCustomInstructionsModalHeaderLabel:{id:"Kd53xN",defaultMessage:"View-only"},viewOnlyCustomInstructionsModalHeaderTooltip:{id:"hN4/oD",defaultMessage:"You can only chat in this project."},searchingProjectFiles:{id:"dZazsY",defaultMessage:"Searching project files"},addAction:{id:"vTkTuN",defaultMessage:"Add Action"},editActions:{id:"Lx3frs",defaultMessage:"Edit Actions"},addCustomInstructions:{id:"rEdrLS",defaultMessage:"Add custom instructions"},instructionsTooLong:{id:"hwBx62",defaultMessage:"Project instructions cannot be longer than {length} characters."},dragInstructions:{id:"yA3Jxu",defaultMessage:"Add anything"},dragAllAccepted:{id:"CJNN+O",defaultMessage:"Drop any file here to add it to the project"},dragTooManyFiles:{id:"O2Xr4P",defaultMessage:"Too many files"},unknownError:{id:"Eu2Hdz",defaultMessage:"Unknown error occurred"},dragTooManyFilesError:{id:"FJ8M/t",defaultMessage:"Error uploading: Projects can't contain more than {maxFileLimit} files"},dragTooManyFilesDescription:{id:"ZFLPRQ",defaultMessage:"Projects can't contain more than {maxFileLimit} files"},addFilesToProject:{id:"yMVX4l",defaultMessage:"Add files"},filesThatCanBeReferenced:{id:"0mQnwH",defaultMessage:"Add documents, code files, images, and more. {projectName} can access their contents when you chat inside the project."},projectFilesModalTitle:{id:"o6Ozbv",defaultMessage:"Project files"},addFilesButtonLabel:{id:"yMVX4l",defaultMessage:"Add files"},viewFilesButtonLabel:{id:"2lu9im",defaultMessage:"Files not yet added"},filesControlDescription:{id:"Y/Z2lM",defaultMessage:"Chats in this project can access file content"},projectCopyInProgressBanner:{id:"R1WXsJ",defaultMessage:"Your chats are still being copied and will appear here shortly."},noFilesReadOnlyDescription:{id:"HNxajn",defaultMessage:"When a project owner or editor adds files to this project, chats can access their contents"},projectDetailsSectionLabel:{id:"9y2Kag",defaultMessage:"Details"},hideProjectDetailsTooltip:{id:"Ar0X7X",defaultMessage:"Hide project details"},showProjectDetailsTooltip:{id:"a8ust8",defaultMessage:"Show project details"},showProjectDetailsButton:{id:"ni4Lkt",defaultMessage:"Show project details"},projectsHeading:{id:"GHFgIA",defaultMessage:"Projects"},seeMoreProjectItems:{id:"znMnZ9",defaultMessage:"See more"},emptyChatsInProjectTitle:{id:"BzycLE",defaultMessage:"Start a new chat, or drag an old one in"},chatsInProjectTitle:{id:"jgAOuP",defaultMessage:"Chats in this project"},projectSettingsSubmitButton:{id:"TayvQF",defaultMessage:"Save"},loadingProjects:{id:"oKi2Bo",defaultMessage:"Loading projects"},seeAllChats:{id:"PwRmke",defaultMessage:"See All"},newChatTitle:{id:"m3Az3N",defaultMessage:"New chat"},unableToLoadHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingHistory:{id:"IoImQ5",defaultMessage:"Retry"},showProjectDetailsDropdown:{id:"LUjGtd",defaultMessage:"Show project details"},deleteProjectModalTitle:{id:"pPgHKT",defaultMessage:"Delete project?"},deleteProjectModalButton:{id:"w2DKG5",defaultMessage:"Delete"},cancelDeleteProjectModalButton:{id:"E7RoUe",defaultMessage:"Cancel"},deleteProjectModalDescription:{id:"Vl4p9p",defaultMessage:"<bold>This will permanently delete all project files and chats.</bold> To save chats, move them to your chat list or another project before deleting."},deleteProjectDropdownButton:{id:"dD0vWg",defaultMessage:"Delete project"},deleteProjectFailedToast:{id:"KAw2h3",defaultMessage:"Failed to delete project. Please try again."},leaveProjectDropdownButton:{id:"FCEK0r",defaultMessage:"Leave project"},reportProjectButtonLabel:{id:"snorlax.project.reportButton",defaultMessage:"Report project"},leaveProjectModalTitle:{id:"VTNOvq",defaultMessage:"Leave {projectName}?"},leaveProjectModalButton:{id:"YZjX2E",defaultMessage:"Leave"},cancelLeaveProjectModalButton:{id:"56ATCt",defaultMessage:"Cancel"},leaveProjectModalDescription:{id:"80hv7n",defaultMessage:"<bold>You'll lose access to all project content, including your chats.</bold> To keep your chats, save a copy by checking the box below or move them to your chat list or another project before leaving."},leaveProjectSaveCopyLabel:{id:"emsuo1",defaultMessage:"Save a copy of my chats"},leaveProjectSaveCopyDescription:{id:"iwhK/O",defaultMessage:"A copy of this project will be made with only your chats. This can take a few minutes."},leaveProjectFailedToast:{id:"w6BO+i",defaultMessage:"Failed to leave project. Please try again."},projectInstructionsPlaceholder:{id:"w/NZvS",defaultMessage:"e.g. â€œRespond in Spanish. Reference the latest JavaScript documentation. Keep answers short and focused.â€"},newProjectButtonTooltip:{id:"oh2NTp",defaultMessage:"New project"},editProjectNameDropdownButton:{defaultMessage:"Rename project",id:"snorlax.edit-actions.rename-project"},hideChatsForProjectTooltip:{id:"ZjBLTY",defaultMessage:"Hide chats"},projectHelperBoxTitle:{id:"QIriII",defaultMessage:"What's a project?"},projectHelperBoxDescription:{id:"QEsg2b",defaultMessage:"Projects keep chats, files, and custom instructions in one place. Use them for ongoing work, or just to keep things tidy."},projectsNuxTooltipTitle:{id:"Ub7Cl2",defaultMessage:"Introducing projects"},projectsUpdateTooltipTitle:{id:"OyZXt4",defaultMessage:"Projects can do more"},projectsToFreeTitle:{id:"mWKZ6S",defaultMessage:"New"},projectsNuxTooltipDescription:{id:"aLohnf",defaultMessage:"Keep chats, files, and custom instructions all in one place. Ideal for organizing work or shaping big ideas."},projectsUpdateTooltipDescription:{id:"ZzivYc",defaultMessage:"Now you can run deep research and use voice mode within your projects."},projectShareButton:{id:"Sc1ypd",defaultMessage:"Share"},firstPartyProjectShareForbidden:{id:"ABFn5a",defaultMessage:"Default projects cannot be shared."},projectShareTitle:{id:"lYXaUt",defaultMessage:"Share this project"},projectShareChatTitle:{id:"YgsrLO",defaultMessage:"Share link to chat"},shareProjectExternalInviteNonMemberTooltip:{id:"snorlax.shareProjectExternalInviteNonMemberTooltip",defaultMessage:"This user is not a member of this workspace"},shareProjectExternalInviteBlockedTooltip:{id:"snorlax.shareProjectExternalInviteBlockedTooltip",defaultMessage:"You can't invite this email"},shareProjectPermissionCanEdit:{id:"snorlax.shareProjectPermissionCanEdit",defaultMessage:"Can edit"},shareProjectPermissionCanChat:{id:"snorlax.shareProjectPermissionCanChat",defaultMessage:"Can chat"},shareProjectPermissionUnknown:{id:"snorlax.shareProjectPermissionUnknown",defaultMessage:"Unknown"},shareProjectPermissionEditDescription:{id:"snorlax.shareProjectPermissionEditDescription",defaultMessage:"Chat and edit project content"},shareProjectPermissionViewDescription:{id:"snorlax.shareProjectPermissionViewDescription",defaultMessage:"Chat and view project content"},shareProjectGroupMembersCount:{id:"snorlax.shareProjectGroupMembersCount",defaultMessage:"{numMembers, plural, one {1 member} other {# members}}"},shareProjectSearchPeopleOrGroups:{id:"snorlax.shareProjectSearchPeopleOrGroups",defaultMessage:"Search people or groups"},shareProjectSearchPeopleGroupsOrEmail:{id:"snorlax.shareProjectSearchPeopleGroupsOrEmail",defaultMessage:"Search people, groups, or enter an email"},shareProjectInviteEmailOption:{id:"snorlax.shareProjectInviteEmailOption",defaultMessage:'Invite "{email}"'},shareProjectInviteEmailPressEnter:{id:"snorlax.shareProjectInviteEmailPressEnter",defaultMessage:"Press enter to invite this email"},shareProjectEnterEmailNoOptions:{id:"snorlax.shareProjectEnterEmailNoOptions",defaultMessage:"Enter an email to invite people outside of your workspace"},shareProjectMemberAlreadyAdded:{id:"snorlax.shareProjectMemberAlreadyAdded",defaultMessage:"That person is already added"},shareOutsideWorkspaceTitle:{id:"snorlax.shareOutsideWorkspaceTitle",defaultMessage:"Invite users to workspace?"},shareOutsideWorkspaceSummarySingle:{id:"snorlax.shareOutsideWorkspaceSummarySingle",defaultMessage:"{invitee} isnâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceSummaryMultiple:{id:"snorlax.shareOutsideWorkspaceSummaryMultiple",defaultMessage:"{firstInvitee} and {others} arenâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceSummaryFallback:{id:"snorlax.shareOutsideWorkspaceSummaryFallback",defaultMessage:"{inviteeGroup} arenâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceDefaultSummarySubject:{id:"snorlax.shareOutsideWorkspaceDefaultSummarySubject",defaultMessage:"These users"},shareOutsideWorkspaceInviteAfter:{id:"snorlax.shareOutsideWorkspaceInviteAfter",defaultMessage:"You can invite them to this project after they are added."},shareOutsideWorkspaceOthersLabel:{id:"snorlax.shareOutsideWorkspaceOthersLabel",defaultMessage:"{count, plural, one {# other} other {# others}}"},shareOutsideWorkspaceSendButton:{id:"snorlax.shareOutsideWorkspaceSendButton",defaultMessage:"{count, plural, one {Send workspace invite} other {Send workspace invites}}"},shareOutsideWorkspaceCancelButton:{id:"snorlax.shareOutsideWorkspaceCancelButton",defaultMessage:"Cancel"},shareOutsideWorkspaceSuccessTitle:{id:"snorlax.shareOutsideWorkspaceSuccessTitle",defaultMessage:"Invite sent"},shareOutsideWorkspaceSuccessBody:{id:"snorlax.shareOutsideWorkspaceSuccessBody",defaultMessage:"{count, plural, one {You have successfully invited <bold># user</bold> to {workspaceName}. You can invite them to this project after they join.} other {You have successfully invited <bold># users</bold> to {workspaceName}. You can invite them to this project after they join.}}"},shareOutsideWorkspaceSuccessButton:{id:"snorlax.shareOutsideWorkspaceSuccessButton",defaultMessage:"Done"},shareOutsideWorkspaceErrorTitle:{id:"snorlax.shareOutsideWorkspaceErrorTitle",defaultMessage:"Invite failed"},shareOutsideWorkspaceErrorBody:{id:"snorlax.shareOutsideWorkspaceErrorBody",defaultMessage:"There was an error inviting members to your workspace. Try again later."},shareProjectEmailPlaceholder:{id:"snorlax.shareProjectEmailPlaceholder",defaultMessage:"Email, separated by commas"},showChatsForProjectTooltip:{id:"FcBR2j",defaultMessage:"Show chats"},projectFileRateLimitBannerTitle:{id:"ghJIms",defaultMessage:"File limit reached"},projectFileRateLimitBannerPlusDescription:{id:"WOJ2H5",defaultMessage:"You can add up to {freeFileLimit} files on the free plan. Upgrade to plus to add {paidFileLimit} files."},projectFileRateLimitBannerProDescription:{id:"jXcJWN",defaultMessage:"You can add up to {paidFileLimit} files on the {planType} plan. Upgrade to pro to add {proFileLimit} files."},upgradeToPlus:{id:"ZO/XN9",defaultMessage:"Upgrade plan"},projectJoinModalWithCreatorTitle:{id:"q1fGPT",defaultMessage:"{projectCreator} invited you to join the project"},projectJoinModalWithoutCreatorTitle:{id:"j9rPp1",defaultMessage:"You've been invited to join the project"},membersCount:{id:"seSpmx",defaultMessage:"{count} {count, plural, one {member} other {members}}"},joinProjectButtonLabel:{id:"71Z5aG",defaultMessage:"Join project"},declineInviteButtonLabel:{id:"GSiZxu",defaultMessage:"Decline"}}),qDe="starredConversations",pY=B7(()=>we(null));function YVe(e){return pY(e)()}function VDe(e,t){const n=pY(e);$De(nn(()=>n()),t)&&n.set(t)}function $De(e,t){return!((e==null?void 0:e.value)===jT.REALTIME&&(t==null?void 0:t.value)===jT.STREAMING)}const HDe="disable_history",KVe="user_latency_tools",JVe="mfa",XVe="chatgpt_allow_workspace_instruction",QVe="chatgpt_allow_workspace_policy",ZVe="workspace_ip_allowlist";var zDe=(e=>(e.BrowsingAvailable="browsing_available",e.Sunshine="sunshine_available",e.WorkspaceGPTCustomActions="workspace_gpt_custom_actions",e.WorkspaceShareLinks="workspace_share_links",e.GizmoSupportEmails="gizmo_support_emails",e.D3Editor="d3_editor",e.D3EditorAllGpts="d3_editor_gpts",e.DataAnalysisV2="graphite",e.ChartSerialization="chart_serialization",e.SearchTool="search_tool",e.SearchToolHoldout="search_tool_holdout",e.MemoryInSearch="memory_in_search",e.Canvas="canvas",e.CanvasCodeExecution="canvas_code_execution",e.CanvasCodeNetworkAccess="canvas_code_network_access",e.DisableWritingBlockRendering="disable_writing_block_rendering",e.GizmoCanvasToggle="gizmo_canvas_toggle",e.Moonshine="moonshine",e.VideoScreenSharing="video_screen_sharing",e.DeepResearch="caterpillar",e.AllowVoiceUse="breeze_available",e.ImageGenToggle="image_gen_toggle",e.EditInCanvas="edit_in_canvas",e.MagicEditEnabled="magic_edit_enabled",e))(zDe||{});const YDe=28,wN="conversationHistory",KF="conversation-history",KDe=1,AN=ut(()=>we([]));function e$e(e,t,n){if(!$e(e,"1753085879"))return;AN(e).set(i=>{const s=i.findIndex(o=>o.conversationId===t);if(s!==-1){const o=i.slice();return o[s]=I(S({},o[s]),{title:n}),o}return[{conversationId:t,title:n},...i]})}function gY(e=!1){return TB({queryKey:[wN],queryFn:async({pageParam:t})=>{const n=await Z.safeGet("/conversations",{parameters:{query:{offset:t,limit:YDe,order:"updated",is_archived:!1,is_starred:!1,request_p_scope:e}},intercomEventOnError:"fetch-error:conversations:get",authOption:en.SendIfAvailable});return Q.addFirstTiming("load.conversationHistory"),H6(()=>{const r=AN(At()),i=nn(()=>r());for(const s of n.items){if(s.async_status!=null){const o=yx(At(),s.id);VDe(o,{source:hG.SERVER,value:s.async_status})}i.some(o=>o.conversationId===s.id)&&r.set(o=>o.filter(a=>a.conversationId!==s.id))}}),n},initialPageParam:0,getNextPageParam:t=>{var r,i,s;const n=((r=t.offset)!=null?r:0)+((i=t.limit)!=null?i:0);return n<((s=t.total)!=null?s:0)?n:void 0}})}function t$e(e){"use forget";var V,M;const t=H.c(32);let n;t[0]!==e?(n=e===void 0?{requestPScope:!1}:e,t[0]=e,t[1]=n):n=t[1];const{requestPScope:r}=n,i=Ghe();let s;t[2]!==i?(s=(V=i==null?void 0:i.includes(HDe))!=null?V:!1,t[2]=i,t[3]=s):s=t[3];const o=s,a=re();let c;t[4]!==a?(c=at(a),t[4]=a,t[5]=c):c=t[5];const u=!o&&!!c,d=QI();let f;t[6]!==a?(f=()=>AN(a)(),t[6]=a,t[7]=f):f=t[7];const h=Fe(f),p=d;let g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g=[wN],t[8]=g):g=t[8];const m=av(KF,KDe,g);let v;t[9]!==r?(v=gY(r),t[9]=r,t[10]=v):v=t[10];const y=p?"always":!0,T=p?"always":!0;let b;t[11]!==u||t[12]!==m||t[13]!==v||t[14]!==y||t[15]!==T?(b=I(S({},v),{enabled:u,refetchOnReconnect:y,refetchOnWindowFocus:T,placeholderData:m}),t[11]=u,t[12]=m,t[13]=v,t[14]=y,t[15]=T,t[16]=b):b=t[16];const{data:C,fetchNextPage:O,hasNextPage:w,isLoading:A,isFetchingNextPage:x,isError:R,refetch:P}=ta(b);let L,D;t[17]!==a||t[18]!==R?(L=()=>{R&&_Ce(a,KF)},D=[R,a],t[17]=a,t[18]=R,t[19]=L,t[20]=D):(L=t[19],D=t[20]),E.useEffect(L,D);let F;if(t[21]!==(C==null?void 0:C.pages)||t[22]!==h){const te=(M=C==null?void 0:C.pages.flatMap(XDe))!=null?M:[];F=[...h.map(JDe).filter(ie=>!te.some(ue=>ue.id===ie.id)),...te],t[21]=C==null?void 0:C.pages,t[22]=h,t[23]=F}else F=t[23];const G=F;let Y;return t[24]!==G||t[25]!==O||t[26]!==w||t[27]!==R||t[28]!==x||t[29]!==A||t[30]!==P?(Y={conversations:G,fetchNextPage:O,hasNextPage:w,refetch:P,isLoading:A,isFetchingNextPage:x,isError:R},t[24]=G,t[25]=O,t[26]=w,t[27]=R,t[28]=x,t[29]=A,t[30]=P,t[31]=Y):Y=t[31],Y}function JDe(e){return{id:e.conversationId,title:e.title}}function XDe(e){return e.items}function QDe(e,t){e.invalidateQueries({queryKey:[wN]}),e.invalidateQueries({queryKey:[qDe]}),t?e.invalidateQueries({queryKey:[Tc,{gizmoId:t}]}):e.invalidateQueries({queryKey:[Tc]})}function n$e(e,t){t&&oo(t)&&e.invalidateQueries({queryKey:[Tc,{gizmoId:t}]})}function r$e(e,t,n){tn(e).setQueryData(gY().queryKey,r=>{if(r!==void 0){if(!Array.isArray(r.pages)){Q.addError("Bad conversation history",{pages:r.pages});return}return mi(r,i=>{for(const s of i.pages)for(const o of s.items)o.id===t&&(o.title=n)})}})}const gw="_tm",Jd="_m";var xN=(e=>(e.SHARE_NOT_FOUND="share_not_found",e.SHARED_POST_NOT_FOUND="shared_post_not_found",e.GIZMO_NOT_FOUND="gizmo_not_found",e.PROJECT_NOT_FOUND="project_not_found",e.NO_ACCESS="no_access",e.OAUTH_SUCCESS="oauth_success",e.OAUTH_FAILED_GENERIC="oauth_failed_generic",e.OAUTH_FAILED_SCOPE_MISMATCH="oauth_failed_scope_mismatch",e.OAUTH_FAILED_EMAIL_DOMAIN_ENFORCEMENT="oauth_failed_email_domain_enforcement",e.CUSTOM_ERROR="c_err",e.CUSTOM_MSG="c_msg",e.ACCOUNT_TRANSFER_ERROR="account_transfer_error",e.MFA_ENABLED="mfa_enabled",e.ENABLE_MFA_ERROR="enable_mfa_error",e.ENABLE_MFA_EMAIL_REQUIRED="enable_mfa_email_required",e.DISABLE_MFA_SUCCESS="disable_mfa_success",e.DISABLE_MFA_TIMEOUT="disable_mfa_timeout",e.CANVAS_NOT_FOUND="canvas_not_found",e))(xN||{});function mY(e,t="/",n){const r=typeof window<"u",i=new URL(t,r?window.location.origin:window.location.origin);return i.searchParams.set(gw,e),(e==="c_err"||e==="c_msg")&&(n?i.searchParams.set(Jd,n):i.searchParams.set(Jd,"An error has occurred")),i.pathname+i.search+i.hash}function ZDe(){const[e]=wc(),{pathname:t,hash:n}=Jt(),r=Zs(),i=_t(),s=Fn();E.useEffect(()=>{const o=e.get(gw);if(o!==void 0){const a=(c,l,u,d,f)=>{const h=typeof c=="string"?c:i.formatMessage(c);s[d](h,{id:l,duration:u,hasCloseButton:f});const p=new URLSearchParams(e);p.delete(gw),p.delete(Jd),r({search:"?".concat(p.toString()),hash:n},{replace:!0})};switch(o){case"share_not_found":Q.addAction("global_toast.conversation_inaccessible",{path:t}),a(yr.conversationInaccessible,"share_not_found",10,"warning",!0);break;case"shared_post_not_found":a(yr.sharedPostNotFound,"shared_post_not_found",10,"warning",!0);break;case"gizmo_not_found":a(yr.gizmoNotFound,"gizmo_not_found",10,"warning",!0);break;case"project_not_found":a(yr.projectNotFound,"project_not_found",10,"warning",!0);break;case"no_access":a(yr.noAccess,"no_access",5,"warning",!0);break;case"oauth_success":a(yr.oauthSuccess,"oauth_success",5,"success",!0);break;case"oauth_failed_generic":a(yr.oauthFailedGeneric,"oauth_failed_generic",5,"warning",!0);break;case"oauth_failed_scope_mismatch":a(yr.oauthFailedScopeMismatch,"oauth_failed_scope_mismatch",5,"warning",!0);break;case"oauth_failed_email_domain_enforcement":a(yr.oauthFailedEmailDomainEnforcement,"oauth_failed_email_domain_enforcement",5,"warning",!0);break;case"c_msg":a(e.get(Jd),"c_msg",10,"success",!0);break;case"c_err":a(e.get(Jd),"c_err",5,"warning",!0);break;case"account_transfer_error":a({id:"globalToasts.accountTransferError",defaultMessage:"Error transferring account. To retry, go to Settings â†’ Merge.",description:"Error when unable to transfer their personal account to the workspace"},"account_transfer_error",5,"warning",!0);break;case"mfa_enabled":a({id:"enableMfa.success",defaultMessage:"Multi-factor authentication enabled",description:"Confirmation toast after an MFA enable action is successfully executed"},"mfa_enabled",5,"success",!0);break;case"enable_mfa_error":a({id:"enrollMfa.failure",defaultMessage:"Error occurred. Please try again.",description:"Error toast after MFA token request failed"},"enable_mfa_error",5,"warning",!0);break;case"enable_mfa_email_required":a(yr.enableMfaEmailRequired,"enable_mfa_email_required",5,"warning",!0);break;case"disable_mfa_success":a(yr.disableMfaSuccess,"disable_mfa_success",5,"success",!0);break;case"disable_mfa_timeout":a(yr.disableMfaTimeout,"disable_mfa_timeout",5,"warning",!0);break;case"canvas_not_found":a(yr.canvasNotFound,"canvas_not_found",5,"warning",!1);break}}},[i,s,t,e,r,n])}const yr=Tt({conversationInaccessible:{id:"globalToasts.conversationInaccessible",defaultMessage:"Conversation inaccessible or not found. You may need to switch accounts or request access if this conversation exists."},sharedPostNotFound:{id:"globalToasts.sharedPostNotFound",defaultMessage:"This share is inaccessible or not found."},gizmoNotFound:{id:"globalToasts.gizmoNotFound",defaultMessage:"This GPT is inaccessible or not found. Ensure you're using the right account."},projectNotFound:{id:"globalToasts.projectNotFound",defaultMessage:"This project is inaccessible or not found. Ensure you're using the right account."},noAccess:{id:"globalToasts.noAccess",defaultMessage:"You do not currently have access to this feature"},oauthSuccess:{id:"globalToasts.oauthSuccess",defaultMessage:"Your account is now connected"},oauthFailedGeneric:{id:"globalToasts.oauthFailedGeneric",defaultMessage:"Something went wrong with setting up the connection"},oauthFailedScopeMismatch:{id:"globalToasts.oauthFailedScopeMismatch",defaultMessage:"Not all requested permissions were granted"},oauthFailedEmailDomainEnforcement:{id:"globalToasts.oauthFailedEmailDomainEnforcement",defaultMessage:"Your company has an enterprise workspace that manages connector access. Contact your enterprise admin to get access."},enableMfaEmailRequired:{id:"enableMfa.emailRequired",defaultMessage:"Add an email address to your account to set up multi-factor authentication."},disableMfaSuccess:{id:"disableMfa.success",defaultMessage:"Multi-factor authentication disabled"},disableMfaTimeout:{id:"disableMfa.timeout",defaultMessage:"Your last log in was too long ago, please try again"},canvasNotFound:{id:"canvasNotFound",defaultMessage:"This canvas is inaccessible or not found. Ensure you are logged in, verify youâ€™re in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."}}),wr="snorlax-history",Xd="NEW_SNORLAX_KEY",eLe="snorlax-history",tLe=1,i$e=Be(e=>hn(e,()=>En({queryKey:["snorlax","recent",{limit:pw}],queryFn:()=>Fc.getSnorlaxSidebar(),enabled:$e(e,"491279851")})));function _Y(e,t){return{mutationFn:async({update:n,id:r})=>{var w,A,x,R;if(!r)throw new Error("No gizmo ID found for upsert");let i,s;if(r===Xd)i=jDe;else{if(s=t.getQueryData(fn(t,r,!1).queryKey),s||(s=await jt.getGizmo(r,!1)),!s)throw new Error("No existing gizmo resource found for upsert");i=NDe(s)}const o=typeof n=="function"?n(i):S(S({},i),n);if(MA(o,i))return{id:r};const{id:a,instructions:c,name:l,description:u,emoji:d,theme:f,profilePictureId:h,profilePictureUrl:p,promptStarters:g,files:m,sharing:v,trainingDisabled:y}=o;if(((A=(w=s==null?void 0:s.gizmo)==null?void 0:w.gizmo_snorlax_type)!=null?A:null)&&v.subjects.length>0)throw new Error(TN.firstPartyProjectShareForbidden.defaultMessage);if(a!==r&&r!==Xd)throw new Error("Error updating project. ID mismatch");const b=(x=o.memoryScope)!=null?x:kV.UNSET,C={gizmo_id:r!==Xd?r:void 0,instructions:c,display:{name:l,description:u,emoji:d,theme:f,profile_pic_id:h,profile_picture_url:p,prompt_starters:g},tools:[],memory_scope:b,files:m.map(P=>I(S({},P),{location:qx.FILE_SERVICE})),training_disabled:y,sharing:[...v.subjects.some(P=>!Lye(P))?[]:[{type:gt.Private,capabilities:MV}],...v.subjects.map(rLe)],categories:void 0},O=await Fc.upsert(C);if(O.error)throw new DV;return{id:(R=O.resource)==null?void 0:R.gizmo.id,resource:O.resource}},scope:{id:"snorlax"},onSettled:n=>{n!=null&&n.resource&&(t.setQueryData(fn(t,n.resource.gizmo.id,!1).queryKey,n.resource),jV(e,n.resource)||t.setQueryData([wr],vY({gizmo:n.resource}))),Uh(t)}}}function s$e(){const e=re(),t=Yt();return Kt(_Y(e,t))}function vY(e){const t={items:[e],cursor:null};return n=>n?I(S({},n),{pages:n.pages.map((r,i)=>i===0?I(S({},r),{items:[e,...r.items.filter(s=>s.gizmo.gizmo.id!==e.gizmo.gizmo.id)]}):I(S({},r),{items:r.items.filter(s=>s.gizmo.gizmo.id!==e.gizmo.gizmo.id)}))}):{pages:[t],pageParams:[]}}const nLe={[Bt.EMAIL]:Vn.Email,[Bt.USER]:Vn.User,[Bt.GROUP]:Vn.Group,[Bt.WORKSPACE]:Vn.WorkspaceLink,[Bt.ALL]:Vn.Link};function rLe(e){const t=nLe[e.type];if(!t)throw new Error("Unknown sharing subject type: "+e.type);return I(S({},e),{type:t})}function o$e(e=null){const t=re(),n=FV(t),r=Yt(),i=av(eLe,tLe,[wr]),{data:s,fetchNextPage:o,hasNextPage:a,isLoading:c,isFetchingNextPage:l,isError:u,refetch:d}=ta({queryKey:[wr],queryFn:async({pageParam:h})=>Fc.fetchSnorlaxHistory(h,r),initialPageParam:e,getNextPageParam:h=>{var p;return(p=h.cursor)!=null?p:void 0},enabled:n,placeholderData:i});return{snorlaxes:E.useMemo(()=>{var h;return(h=s==null?void 0:s.pages.flatMap(p=>p.items))!=null?h:[]},[s]),data:s,fetchNextPage:o,hasNextPage:a,refetch:d,isLoading:c,isFetchingNextPage:l,isError:u}}function a$e(e){"use forget";const t=H.c(4),n=Yt();let r,i;t[0]!==e||t[1]!==n?(r=()=>{Dm.has(e)&&(n.invalidateQueries({queryKey:yY(e)}),Dm.delete(e))},i=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=i):(r=t[2],i=t[3]),E.useEffect(r,i)}function yY(e){return[Tc,{gizmoId:e}]}function CY(e){return TB({queryKey:yY(e),queryFn:async({pageParam:t})=>(Dm.delete(e),await jt.getProjectConversations(e,t)),enabled:oo(e),initialPageParam:"0",getNextPageParam:t=>{var n;return(n=t.cursor)!=null?n:void 0}})}function c$e(e){const{data:t,fetchNextPage:n,hasNextPage:r,isLoading:i,isPending:s,isFetchingNextPage:o,isError:a,isFetching:c,refetch:l}=ta(CY(e));return{items:E.useMemo(()=>{var d;return(d=t==null?void 0:t.pages.flatMap(f=>f.items))!=null?d:[]},[t]),data:t,fetchNextPage:n,hasNextPage:r,refetch:l,isLoading:i,isPending:s,isFetching:c,isFetchingNextPage:o,isError:a}}function Uh(e){e.invalidateQueries({queryKey:[wr]})}function bY(e){return t=>{var n;return t&&I(S({},t),{pages:(n=t==null?void 0:t.pages)==null?void 0:n.map(r=>I(S({},r),{items:r.items.filter(i=>i.gizmo.gizmo.id!==e)}))})}}function l$e(){const e=Yt(),t=Zs();return Kt({mutationFn:async({gizmoId:n})=>(await Fc.join(n),{gizmoId:n}),onError:n=>{const r=MB(n);t(mY(xN.CUSTOM_ERROR,void 0,r))},onSettled:async(n,r,{gizmoId:i})=>{Uh(e),i&&await e.invalidateQueries({queryKey:fn(e,i,!1).queryKey,refetchType:"all"})}})}function u$e(){const e=Yt(),t=Zs();return Kt({mutationFn:async({gizmoId:n})=>(await Fc.decline(n),{gizmoId:n}),onError:n=>{const r=MB(n);t(mY(xN.CUSTOM_ERROR,void 0,r))},onSettled:async(n,r,{gizmoId:i})=>{Uh(e),i&&await e.invalidateQueries({queryKey:fn(e,i,!1).queryKey,refetchType:"all"})}})}function d$e(){const e=Yt(),t=re(),n=S_(t);return Kt({mutationFn:async({gizmoId:r})=>(await Fc.delete(r),{gizmoId:r}),onMutate:async({gizmoId:r})=>{await e.cancelQueries({queryKey:fn(e,r,!1).queryKey}),await e.cancelQueries({queryKey:[wr]}),await e.cancelQueries({queryKey:[Tc,{gizmoId:r}]});const i=e.getQueryData([wr]);return e.setQueryData([wr],bY(r)),{prevProjectHistoryData:i}},onError:(r,i,s)=>{s!=null&&s.prevProjectHistoryData&&e.setQueryData([wr],s.prevProjectHistoryData),n.danger(TN.deleteProjectFailedToast,{toastId:"snorlax_deletion_modal_delete_project_failed",hasCloseButton:!0})},onSettled:r=>{const i=r==null?void 0:r.gizmoId;Uh(e),QDe(e,i),i&&e.invalidateQueries({queryKey:fn(e,i,!1).queryKey})}})}function f$e(){const e=Yt(),t=re(),n=S_(t);return Kt({mutationFn:async({gizmoId:r,saveCopy:i})=>{const s=await Fc.leave({gizmo_id:r,save_copy:i});return{gizmoId:r,resource:IDe(s)?s.resource:void 0}},onMutate:async({gizmoId:r})=>{await e.cancelQueries({queryKey:fn(e,r,!1).queryKey}),await e.cancelQueries({queryKey:[wr]}),await e.cancelQueries({queryKey:[Tc,{gizmoId:r}]});const i=e.getQueryData([wr]);return e.setQueryData([wr],bY(r)),{prevProjectHistoryData:i}},onError:(r,i,s)=>{s!=null&&s.prevProjectHistoryData&&e.setQueryData([wr],s.prevProjectHistoryData),n.danger(TN.leaveProjectFailedToast,{toastId:"snorlax_leave_modal_leave_project_failed",hasCloseButton:!0})},onSettled:r=>{r!=null&&r.resource&&(e.setQueryData(fn(e,r.resource.gizmo.id,!1).queryKey,r.resource),jV(t,r.resource)||e.setQueryData([wr],vY({gizmo:r.resource}))),Uh(e)}})}const JF=new Map;function h$e(e){const t=JF.get(e);if(t)return t;const n=F8(iLe,2e3,{trailing:!0});return JF.set(e,n),n}async function iLe({projectId:e,upsertProjectMutation:t,pendingFileUpsertMutationsRef:n}){const r=[],i=o=>{const a=n.current;return a.forEach(({update:c})=>{o=c(o)}),r.push(...a),o};await t.mutateAsync({id:e,update:i}),r.forEach(({onSuccess:o})=>{o==null||o()});const s=r.map(({mutationId:o})=>o);n.current=n.current.filter(({mutationId:o})=>!s.includes(o))}const sLe=(e,t)=>{const n=Iee(e,()=>CY(t.id)),r=we(!1),i=we(!1),s=Oe(()=>n().hasNextPage&&!o()),o=Oe(()=>!i()&&(n().fetchStatus==="fetching"||r()||n().isFetchingNextPage)),a={awaitingManualRetry$:i,all$:Oe(()=>{var c,l;return(l=(c=n().data)==null?void 0:c.pages.flatMap(u=>u.items))!=null?l:null}),preload$:()=>{n().refetch()},canFetchMore$:Oe(()=>s()&&!o()&&!n().isFetchingNextPage&&!r()&&n().fetchStatus==="idle"&&!a.awaitingManualRetry$()),cursor$:Oe(()=>{var u;const c=n().data;if(!c||!Array.isArray(c.pages)||c.pages.length===0)return null;const l=c.pages[c.pages.length-1];return(u=l==null?void 0:l.cursor)!=null?u:null}),canShowConversations$:Oe(()=>{const c=a.all$();return!!(c&&c.length>0||o()||i())}),fetchMore$:()=>{r.set(!0),n().fetchNextPage(),setTimeout(()=>r.set(!1),1e3)},failureCount$:Oe(()=>n().failureCount),error$:Oe(()=>n().error),isFetchNextPageError$:Oe(()=>n().isFetchNextPageError),hasNextPage$:s,isLoading$:o};return Vo(()=>({isFetchNextPageError:a.isFetchNextPageError$(),failureCount:a.failureCount$()}),({isFetchNextPageError:c,failureCount:l})=>{c&&l>0&&a.awaitingManualRetry$.set(!0)}),a},Bh=ut(()=>we({}));function oLe(e,t){var s;const n=Bh(e),r=wv(n(),"theme",t.gizmo.id);let i;return r===void 0?i=(s=t.gizmo.display.theme)!=null?s:null:i=r,i}function aLe(e,t){var s;const n=Bh(e),r=wv(n(),"emoji",t.gizmo.id);return(s=r!=null?r:t.gizmo.display.emoji)!=null?s:null}function cLe(e,t){var s;const n=Bh(e),r=wv(n(),"name",t.gizmo.id);return(s=r!=null?r:t.gizmo.display.name)!=null?s:null}function EY(e,t){const n=Bh(e);return wv(n(),"pendingFiles",t)}const wv=(e,t,n)=>{if(n===Xd||!n)return;const r="".concat(n,"-").concat(t);return e[r]},xd=(e,t,n,r)=>{if(t===Xd)return;Bh(e).set(s=>{const o="".concat(t,"-").concat(n),a=S({},s);return r===void 0?delete a[o]:a[o]=r,a})},ZS=(e,t,n)=>{xd(e,t,n,void 0)};function lLe({ctx:e,id:t,theme:n,emoji:r,name:i,pendingFiles:s}){if(n!==void 0&&xd(e,t,"theme",n),r!==void 0&&xd(e,t,"emoji",r),i!==void 0&&xd(e,t,"name",i),s!==void 0){let o=EY(e,t);o==null&&(o=new Map),s.value!=null?o.set(s.key,s.value):o.delete(s.key),xd(e,t,"pendingFiles",o)}}const uLe=B(()=>k(()=>import("./fi9pz14lf1jqif2s.js"),__vite__mapDeps([90,1])),{loading:e=>z(e)}),dLe=B(()=>k(()=>import("./jwrlms16vytf9igx.js"),__vite__mapDeps([91,1])),{loading:e=>z(e)}),fLe=B(()=>k(()=>import("./k1pxpxz5eh0wfeof.js"),__vite__mapDeps([92,1])),{loading:e=>z(e)}),hLe=B(()=>k(()=>import("./od77trkaevjbh6nh.js"),__vite__mapDeps([93,1])),{loading:e=>z(e)}),pLe=B(()=>k(()=>import("./idin79ykthuhz6zq.js"),__vite__mapDeps([94,1])),{loading:e=>z(e)}),gLe=B(()=>k(()=>import("./ifd4z3yxzwgg9875.js"),__vite__mapDeps([95,1])),{loading:e=>z(e)}),mLe=B(()=>k(()=>import("./mn65tj3soksytsvb.js"),__vite__mapDeps([96,1])),{loading:e=>z(e)}),_Le=B(()=>k(()=>import("./j0d0pmnv3d7jilu4.js"),__vite__mapDeps([97,1])),{loading:e=>z(e)}),vLe=B(()=>k(()=>import("./k49mffpofbtsmbsj.js"),__vite__mapDeps([98,1])),{loading:e=>z(e)}),yLe=B(()=>k(()=>import("./pcpn90oik7mt89yj.js"),__vite__mapDeps([99,1])),{loading:e=>z(e)}),CLe=B(()=>k(()=>import("./j4p4w74o1oeu6aq1.js"),__vite__mapDeps([100,1])),{loading:e=>z(e)}),XF=B(()=>k(()=>import("./i6e9mof2ergj60ky.js"),__vite__mapDeps([101,1])),{loading:e=>z(e)}),QF=B(()=>k(()=>import("./fyw02vlaiv2vq6cj.js").then(e=>e.zu),__vite__mapDeps([3,1,4])),{loading:e=>z(e)}),bLe=B(()=>k(()=>import("./b1ysmkfbechoun0g.js"),__vite__mapDeps([102,1])),{loading:e=>z(e)}),ZF=B(()=>k(()=>import("./fqy57c2iy2xliuz9.js"),__vite__mapDeps([103,1])),{loading:e=>z(e)}),e4=B(()=>k(()=>import("./20q3iuutgud8fc8a.js"),__vite__mapDeps([104,1])),{loading:e=>z(e)}),ELe=B(()=>k(()=>import("./o0j54eux3slox97p.js"),__vite__mapDeps([105,1])),{loading:e=>z(e)}),SLe=B(()=>k(()=>import("./mv59uia51hlqeiwb.js"),__vite__mapDeps([106,1])),{loading:e=>z(e)}),OLe=B(()=>k(()=>import("./jj7wmm5qo5qzg1m1.js"),__vite__mapDeps([107,1])),{loading:e=>z(e)}),TLe=B(()=>k(()=>import("./kxu1gp8b3z2ozjpe.js"),__vite__mapDeps([108,1])),{loading:e=>z(e)});function wLe(e){switch(e){case"genius":return OLe;case"idea":return ZF;case"code":return CLe;case"data-vis":return TLe;case"dalle":return mLe;case"local":return bLe;case"math":return gLe;case"misc":return vLe;case"news":return hLe;case"teach-or-explain":return e4;case"read-or-analyze":return fLe;case"rank-or-rate":return pLe;case"current-event":return QF;case"shop":return dLe;case"travel":return yLe;case"weather":return _Le;case"work":return e4;case"write":return uLe;case"vision":return SLe;case"file-upload-document":return ELe;case"browse":return QF;case"onboarding":return XF;case"for-you":return XF;default:return ZF}}function ALe(e){switch(e){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"for-you":return"#ED6262";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const Il=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function xLe(e){switch(e){case"write":case"shop":return Il[0];case"idea":case"travel":return Il[1];case"code":case"vision":return Il[2];case"teach-or-explain":case"misc":default:return Il[3]}}function p$e({category:e,useV2Colors:t}){if(e==null)return null;const n=wLe(e);return _.jsx(n,{className:"icon",style:{color:t?ALe(e):xLe(e)}})}const SY=B(()=>k(()=>import("./luhdaml0ts1hcscs.js"),__vite__mapDeps([109,1])),{loading:e=>z(e)}),OY=e=>{var s,o,a,c;const t=e.split(" ").map(l=>l.trim()).filter(Boolean);if(t.length===0)return"";const n=(o=(s=t[0])==null?void 0:s[0])!=null?o:"",r=t.length>1&&(c=(a=t[t.length-1])==null?void 0:a[0])!=null?c:"";return(t.length>1?"".concat(n).concat(r):n).toUpperCase()},ILe=e=>{const t=["bg-blue-800","bg-red-800","bg-green-800","bg-blue-500","bg-yellow-800","bg-gray-800","bg-orange-800"],n=e.split("").map(r=>r.charCodeAt(0)).reduce((r,i)=>r+i,0);return t[n%t.length]},NLe=({IconComponent:e,className:t,size:n="default",rounded:r=!1})=>_.jsx("div",{className:ve("relative flex items-center justify-center",ac[n],r?"rounded-full":"rounded-xs",t),children:_.jsx(e,{className:TY[n]})}),g$e=({iconName:e,className:t,size:n="default"})=>{let r=yN;return e==="user"&&(r=SY),_.jsx(NLe,{IconComponent:r,className:t,size:n})},ac={default:"h-6 w-6 shrink-0",small:"h-5 w-5 shrink-0",medium:"h-7 w-7 shrink-0",large:"h-12 w-12 shrink-0"},TY={default:"icon",small:"icon-sm",medium:"icon",large:"icon-lg"},t4=({user:e,size:t="default",isLoading:n,dotted:r=!1})=>{var s;const i=_t();return _.jsx("div",{className:ve("flex overflow-hidden rounded-full select-none",r?"border-global-border-heavy border-token-border-heavy border border-dashed":"bg-gray-500/30",ac[t]),children:_.jsx(wY,{fallback:!n&&_.jsx(RLe,{user:e,size:t,dotted:r}),src:(s=e==null?void 0:e.picture)!=null?s:void 0,alt:i.formatMessage({id:"avatar.profileimage",defaultMessage:"Profile image"}),className:ve(ac[t],n&&"invisible","object-cover")})})};function RLe({user:e,size:t,dotted:n=!1}){var i;const r=OY((i=e==null?void 0:e.name)!=null?i:"");return _.jsx("div",{className:ve("flex h-full w-full items-center justify-center",n?"text-token-text-tertiary":"bg-blue-300 text-white dark:bg-blue-500"),children:r?_.jsx("div",{className:ve(t==="small"||t==="default"?"text-xs":"indent-[0.1em] text-sm tracking-widest"),children:r}):_.jsx(SY,{className:TY[t]})})}function wY(i){var s=i,{fallback:e,src:t,alt:n}=s,r=W(s,["fallback","src","alt"]);const[o,a]=E.useState(!1);return o||!t?e:_.jsx("img",I(S({src:t,alt:n},r),{onError:()=>{a(!0)},referrerPolicy:"no-referrer"}))}const PLe=({size:e="default",src:t,alt:n})=>_.jsx("div",{className:ve("overflow-hidden rounded-full bg-gray-500/30 select-none",ac[e]),children:_.jsx(wY,{fallback:_.jsx(nY,{className:ac[e]}),src:t!=null?t:void 0,alt:n!=null?n:"",className:ac[e]})});function m$e({iconSize:e="default",workspace:t,showPlanTypeBadge:n=!1}){const r=re(),i=at(r),s=_s(),o=t!=null?t:s,{data:a,isLoading:c}=Xt(Hx),l=xt(r),u=a!=null?a:"user"in l?l.user:void 0,d=!o||c,h=n&&!d&&((i==null?void 0:i.isPro())||(i==null?void 0:i.isPlus()))&&hr(r).getLayer("2775247110").get("show_plan_type_badge",!1)&&(i!=null&&i.isPlus()?_.jsx(MLe,{}):i!=null&&i.isPro()?_.jsx(kLe,{}):null);return o&&!o.isPersonalAccount()?_.jsx(PLe,{src:o.data.profilePictureUrl,size:e}):h?_.jsxs("div",{className:"relative",children:[_.jsx(t4,{user:u,size:e,isLoading:d}),h]}):_.jsx(t4,{user:u,size:e,isLoading:d})}const kLe=()=>_.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex items-center justify-center rounded-full bg-black text-[8px] font-medium text-white",style:{height:"0.75rem",width:"1.4rem",letterSpacing:"-0.4px"},children:"PRO"}),MLe=()=>_.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex h-3 items-center justify-center rounded-full bg-white text-[8px] font-medium text-black",style:{width:"1.6rem",boxShadow:"0 0 0 1.1px rgba(128, 128, 128, 0.1)",letterSpacing:"-0.5px"},children:"PLUS"});function _$e({name:e,size:t="default",className:n,initialsCount:r=1}){let i="";return r===1?i=e.charAt(0):i=e.split(" ").slice(0,2).map(s=>s[0]).join(""),_.jsx("div",{className:ve("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",ac[t],n),style:{backgroundColor:DLe(e)},children:i})}function DLe(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return Il[Math.abs(t)%Il.length]}const LLe=e=>{var t;return e.type===Bt.EMAIL?{id:e.user_email,label:e.user_email}:e.type===Bt.GROUP?{id:e.group_id,label:e.group_name}:e.type===Bt.USER?{id:e.user_id,label:(t=e.user_name)!=null?t:"Unknown",sublabel:e.user_email}:null};var vB;const AY=io.div(vB||(vB=zi(["icon-lg relative flex items-center justify-center rounded-full text-[10px]"]))),v$e=({monograms:e,variant:t="knockout",showTooltip:n=!0})=>{const i=e.slice(0,2),s=e.length-2;return _.jsxs("div",{className:"flex",children:[i.map((o,a)=>_.jsx("div",{className:ve("relative rounded-full not-first:ms-[-6px]",t==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:i.length-a},children:_.jsx(jLe,{monogram:o,showTooltip:n})},o.id)),s>0&&_.jsx("div",{className:ve("relative ms-[-6px] rounded-full first:ms-0",t==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:0},children:_.jsx(AY,{className:"text-token-text-primary bg-token-main-surface-tertiary",children:_.jsx(bt,{id:"QY9mVO",values:{remaining:s},defaultMessage:"+{remaining}"})})})]})},jLe=({monogram:e,zIndex:t=0,className:n,showTooltip:r=!0})=>{const i=re(),s=at(i),o=s==null?void 0:s.isWorkspaceAccount();if(!e)return null;const a=_.jsx(AY,{className:ve("text-white group-data-[disabled]/sharing-row:opacity-50",ILe(e.id),n),style:{zIndex:t},children:OY(e.label)});return r?_.jsx(so,{label:e.label,secondaryLabel:!o&&e.sublabel,contentClassName:"touch:hidden",labelClassName:"max-w-[200px] truncate",secondaryLabelClassName:"max-w-[200px] truncate",side:"top",children:a}):a},FLe="Loading project",Bu=Bm("Project"),y$e=E.createContext(null),ULe=Bu(e=>Oe(()=>{var t,n;return(n=(t=Dr(e.ctx))==null?void 0:t.isWorkspaceAccount())!=null?n:!1})),BLe=Bu(e=>Oe(()=>{var o,a;const t=Dr(e.ctx),r=(t==null?void 0:t.getWorkspaceId())!=null?mx(e.ctx).data:void 0;return $e(e.ctx,"2913573978")?(o=r==null?void 0:r.beta_settings)==null?void 0:o.project_sharing:((a=r==null?void 0:r.share_settings)==null?void 0:a.chat_share_setting)!==fG.NO_ONE})),GLe=Bu(e=>Oe(()=>{const t=BLe(e)(),n=ULe(e)();return $e(e.ctx,"773249106")&&(t!=null?t:!n)})),xY=Bu(e=>Oe(()=>{var s,o,a,c;const t=e.gizmo$(),n=(a=(o=(s=t==null?void 0:t.gizmo)==null?void 0:s.sharing)==null?void 0:o.subjects)!=null?a:[],r=[],i=(c=t==null?void 0:t.gizmo)==null?void 0:c.author;return i&&i.display_name&&r.push({id:i.user_id,label:i.display_name,sublabel:i.user_email}),n.forEach(l=>{const u=LLe(l);u&&r.push(u)}),r})),C$e=Bu(e=>Oe(()=>xY(e)().length>1)),b$e=Bu(e=>Oe(()=>{var i,s,o;const t=e.gizmo$(),n=(o=(s=(i=t==null?void 0:t.gizmo)==null?void 0:i.sharing)==null?void 0:s.subjects)!=null?o:[],r=xY(e)();return r.length<=1?!1:GLe(e)()&&n.length>0&&r.length>1})),WLe=(e,t)=>{const n=tn(e),r=hn(e,()=>fn(n,t)),i={ctx:e,id:t,serverState$:r,queueUpdate$:async({theme:s,emoji:o,name:a,options:c,withPostUpdate:l=!0})=>{if(lLe({ctx:e,id:t,theme:s,emoji:o,name:a}),l){const{resource:u}=await i.postUpdate$(c);return{id:i.id,resource:u}}return{id:i.id}},lastScrollPosition$:we(null),mobileHeaderState$:we(null),postUpdate$:async s=>{var c,l,u,d;const{mutate:o,result$:a}=n_(e,_Y(e,n));return o({update:S({name:(c=i.title$())!=null?c:void 0,theme:(l=i.theme$())!=null?l:void 0,emoji:(u=i.emoji$())!=null?u:void 0},s),id:i.id}),await $6(()=>!a().isPending),ZS(e,i.id,"name"),ZS(e,i.id,"theme"),ZS(e,i.id,"emoji"),{id:i.id,resource:(d=a().data)==null?void 0:d.resource}},conversations$:we(()=>sLe(e,i)),isSkeleton$:Oe(()=>r().data===void 0),gizmo$:Oe(()=>{var s;return(s=r().data)!=null?s:null}),status$:Oe(()=>{const s=i.conversations$().all$();return s?s.length>0?"has-conversations":"empty":"loading"}),theme$:Oe(()=>{const s=r().data;return s?oLe(e,s):null}),isShared$:Oe(()=>{const s=r().data;return s?fCe(s):null}),emoji$:Oe(()=>{var a;const s=r().data;if(!s)return null;const o=aLe(e,s);return(a=o!=null?o:s.gizmo.display.emoji)!=null?a:null}),title$:Oe(()=>{var c;const s=r().data;if(i.isSkeleton$())return FLe;if(!s)return null;const a=cLe(e,s);return(c=a!=null?a:s.gizmo.display.name)!=null?c:null}),filesCount$:Oe(()=>{var a,c;const s=r().data;if(!s)return null;const o=EY(e,s.gizmo.id);return((a=s.files.length)!=null?a:0)+((c=o==null?void 0:o.size)!=null?c:0)})};return i},qLe=jye(WLe),VLe=Lr(e=>Oe(()=>{var n;const t=(n=Sh(e))==null?void 0:n.contextScopes;return t?Array.from(t):null},{name:"conversation-context-scopes"}));function $Le(e,t){return()=>{if(!t||!at(e))return;const r=yx(e,t),i=VLe(r);if(i){if(!i.includes("GLOBAL"))return["GLOBAL",...i]}else{const s=X_(r);return s&&oo(s)&&qLe(e,s).gizmo$(),["GLOBAL"]}return i}}const HLe=10,zLe=4,mw={duration:20,hasCloseButton:!0},YLe=512,E$e=YLe*1024*1024;B(()=>k(()=>import("./pj0tlj9i65oz4g7u.js"),__vite__mapDeps([86,1])),{loading:e=>z(e)});B(()=>k(()=>import("./d8cmrw5lg3ncoab2.js"),__vite__mapDeps([87,1])),{loading:e=>z(e)});B(()=>k(()=>import("./gsc4el4a1mly7vaf.js"),__vite__mapDeps([88,1])),{loading:e=>z(e)});const KLe="application/vnd.google-apps.spreadsheet",JLe="application/vnd.google-apps.presentation",XLe="application/vnd.google-apps.document",QLe=["xlsx","pptx","docx","page","issue"],ZLe={[KLe]:"xlsx",[JLe]:"pptx",[XLe]:"docx"};function S$e(e){var t;return e&&(t=ZLe[e.split(";")[0]])!=null?t:null}function e3e(e){return QLe.includes(e)}function t3e(e){return e&&e3e(e)?e:null}var _n=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e[e.Codex=6]="Codex",e))(_n||{});function O$e(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:t3e(e.synthetic_extension),type:e.type}}var Ns=(e=>(e.Uploading="uploading",e.Ready="ready",e))(Ns||{}),e0,n4;function n3e(){if(n4)return e0;n4=1;var e=Ux(),t=I_(),n=T_(),r=ji(),i=uh();function s(o,a,c,l){if(!r(o))return o;a=t(a,o);for(var u=-1,d=a.length,f=d-1,h=o;h!=null&&++u<d;){var p=i(a[u]),g=c;if(p==="__proto__"||p==="constructor"||p==="prototype")return o;if(u!=f){var m=h[p];g=l?l(m,p,h):void 0,g===void 0&&(g=r(m)?m:n(a[u+1])?[]:{})}e(h,p,g),h=h[p]}return o}return e0=s,e0}var t0,r4;function IY(){if(r4)return t0;r4=1;var e=N_(),t=n3e(),n=I_();function r(i,s,o){for(var a=-1,c=s.length,l={};++a<c;){var u=s[a],d=e(i,u);o(d,u)&&t(l,n(u,i),d)}return l}return t0=r,t0}var n0,i4;function r3e(){if(i4)return n0;i4=1;var e=IY(),t=OW();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return n0=n,n0}var r0,s4;function i3e(){if(s4)return r0;s4=1;var e=bW();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return r0=t,r0}var i0,o4;function s3e(){if(o4)return i0;o4=1;var e=i3e(),t=wW(),n=xW();function r(i){return n(t(i,void 0,e),i+"")}return i0=r,i0}var s0,a4;function o3e(){if(a4)return s0;a4=1;var e=r3e(),t=s3e(),n=t(function(r,i){return r==null?{}:e(r,i)});return s0=n,s0}var a3e=o3e();const c3e=Gt(a3e),T$e=["none","delay","indexed"],w$e=["none","Adaptive","ChunkedCatchup","Punctuation"],l3e={label:"Auto",value:""},u3e="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",d3e=()=>S({fConversationEndpoint:"default",tokenBufferType:null,wordFadeType:null,showCompletionPerfData:!0,forceParagen:!1,forceParagenModel:l3e,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:u3e,forceRateLimit:!1,recordRendering:!1,recordTransformedConvoJson:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,forceShowConvoRating:!1,jsonViewerFilters:{},forceParallelSwitch:"auto",autoSwitcherTreatmentOverride:void 0,juiceScore:null,multimodalJuiceScore:null},{}),NY=ir(Ffe(d3e,{name:zt.DebugSettings,partialize:e=>c3e(e,["fConversationEndpoint","showCompletionPerfData","jsonViewerFilters","recordRendering","recordTransformedConvoJson","showDebugConversationTurns"])})),f3e=()=>NY.getState(),A$e=e=>NY.setState(e);function x$e(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function I$e(e){return e.startsWith("file_")?"sediment://"+e:"file-service://"+e}function N$e(e){return e.startsWith("file-service://")}function _w(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(Rn.fileZeroBytes,n);case"file_too_large":return e.formatMessage(Rn.fileTooLarge,n);case"over_user_quota":return e.formatMessage(Rn.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(Rn.fileNotFound,n);case"file_timed_out":return e.formatMessage(Rn.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(Rn.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(Rn.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(Rn.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(Rn.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(Rn.fileEmpty,n);case"too_many_tokens":return e.formatMessage(Rn.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(Rn.fileEncrypted,n);case"file_corrupted":return e.formatMessage(Rn.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(Rn.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(Rn.unknownError)}}function R$e(){const e=_t();return E.useCallback((t,n)=>_w(e,t,n),[e])}const P$e=1e3*60*58;async function h3e(e,t,n=!1,r,i,s){var d;const[,o,a]=(d=/^(.*?)(\?.*)?$/.exec(e))!=null?d:[],c=new URLSearchParams(a),l=o.replaceAll("#","*"),u=await Z.safeGet("/files/download/{file_id}",{parameters:{path:{file_id:l},query:I(S({gizmo_id:t,post_id:s},Object.fromEntries(c.entries())),{conversation_id:r,inline:i})},authOption:n?en.Anonymous:void 0});if(u.status===rf.Success||u.status===rf.Retry)return u;throw new Lt("Could not get file download link","error_code"in u?u.error_code:"unknown_error")}function k$e(){const e=re(),{session:t}=_te(e),n=!St(e),r=Fn();return async(i,s)=>{if(!n&&t==null)return r.danger(Rn.fileDownloadFailed,{toastId:"file_download_failed"}),!1;try{const o=await h3e(i,void 0,n);if(o.status!==rf.Success)throw new Error("File is not ready to download: "+JSON.stringify(o));const a=o.download_url,c=document.createElement("a");c.href=a,c.download=s,c.click(),window.open(a,"_blank")}catch(o){return r.danger(Rn.fileDownloadFailed,{toastId:"file_download_failed"}),!1}return!0}}function IN(e,t){var n;return((t==null?void 0:t.kind)===zs.GizmoInteraction||(t==null?void 0:t.kind)===zs.GizmoTest)&&!(t!=null&&t.gizmo&&ov(t==null?void 0:t.gizmo))?(n=t.gizmo)==null?void 0:n.product_features:e==null?void 0:e.product_features}function M$e(e,t,n){var i,s,o,a;const r=IN(e,t);return n===ae.Research?_n.Retrieval:((i=r==null?void 0:r.attachments)==null?void 0:i.type)===Ro.CodeInterpreter?_n.Interpreter:((s=r==null?void 0:r.attachments)==null?void 0:s.type)===Ro.Multimodal?_n.Multimodal:((o=r==null?void 0:r.attachments)==null?void 0:o.type)===Ro.Retrieval?_n.Retrieval:((a=r==null?void 0:r.attachments)==null?void 0:a.type)===Ro.ContextConnector?_n.ContextConnector:_n.None}function RY(e){var r;const t=(r=e.split(".").pop())==null?void 0:r.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t!=null?t:""]||""}function p3e(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function PY(e,t,n){const r=RY(e);return r&&(t=r),n&&(t=p3e(t)),t}function g3e(e,t,n,r,i){if(i==null)return e;const s=PY(t,n,r),{accepted_mime_types:o,can_accept_all_mime_types:a}=i;return o==null||o.length===0||!a||o.includes(s)?e:_n.Interpreter}function D$e(e,t,n,r){var o,a,c;const i=PY(n,t,r),s=(o=e==null?void 0:e.product_features)==null?void 0:o.attachments;if(s!=null)return(a=s.accepted_mime_types)!=null&&a.includes(i)?s.type:(c=s.image_mime_types)!=null&&c.includes(i)?Ro.Multimodal:Ro.CodeInterpreter}function L$e(e,t){var r,i;const n=IN(e,t);return(r=n==null?void 0:n.attachments)!=null&&r.can_accept_all_mime_types||(i=n==null?void 0:n.attachments)==null?void 0:i.accepted_mime_types}function j$e(e,t){var i;const n=IN(e,t),{attachments:r}=n!=null?n:{};return r!=null&&r.image_mime_types?r.image_mime_types:(r==null?void 0:r.type)==="multimodal"?(i=r.accepted_mime_types)!=null?i:m3e:[]}const m3e=["image/png","image/jpeg","image/gif","image/webp"],c4={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"],"application/pdf":[".pdf"],"text/plain":[".txt"]};function _3e(e){return e.reduce((t,n)=>(n in c4?t[n]=c4[n]:n.includes("/")&&(t[n]=[".".concat(n.split("/")[1])]),t),{})}function F$e(e){return E.useMemo(()=>e===void 0?{}:{accept:_3e(e)},[e])}function NN(e){var t;return(t=e.split(".").pop())==null?void 0:t.toLowerCase()}function U$e(e){const t=NN(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function B$e(e){const t=(e!=null?e:"").toLowerCase();return t==="pdf"?"PDF":t.length===0?"":t.charAt(0).toUpperCase()+t.slice(1)}function G$e(e){const t=NN(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function W$e(e){const t=NN(e);return t!=null&&["xls","xlsx"].includes(t)}function kY(e,t,n="fit"){return new Promise((r,i)=>{const s=new FileReader;s.onerror=o=>{Q.addError(new Error("File reading has failed:",{cause:o})),i(new Error("Failed to read the file."))},s.onload=o=>{const a=new Image;a.onerror=c=>{Q.addError(new Error("Image loading has failed:",{cause:c})),i(new Error("Failed to load the image."))},a.onload=()=>{const c=document.createElement("canvas");let l,u=0,d=0;switch(n){case"fill":l=t/Math.min(a.width,a.height);break;case"square":l=t/Math.min(a.width,a.height);break;case"fit":l=t/Math.max(a.width,a.height);break}const f=a.width*l,h=a.height*l;n==="square"?(c.width=t,c.height=t,u=(t-f)/2,d=(t-h)/2):(c.width=f,c.height=h);const p=c.getContext("2d");if(p==null){Q.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),i(new Error("Failed to create canvas context."));return}p.drawImage(a,u,d,f,h);const g=e.type||"image/png";c.toBlob(m=>{m?r(new File([m],e.name,{type:g})):(Q.addError("Blob creation failed. Blob is null."),i(new Error("Failed to create blob from image data.")))},g)},o.target==null?(Q.addError("Event target is null. Failed to load image."),i("Failed to load image.")):a.src=o.target.result},s.readAsDataURL(e)})}function q$e(e,t){return kY(e,t,"square")}function V$e(e){var r,i;const t=(r=e.name.split("/"))!=null?r:[];return((i=t[t.length-1])!=null?i:"").replace(/[-_]/g," ").split(".")[0]}function v3e(e,t){return t?e.slice(0,-t.length-1):e}function $$e(){const e=re(),t=un(e,"3278106051"),n=un(e,"2356508715");return E.useMemo(()=>()=>!t.get("allow_receiver_see_user_uploaded_files")&&!n.get("allow_receiver_see_user_uploaded_files"),[t,n])}const Rn=Tt({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}});let o0=null;async function y3e(){return o0||(o0=(await k(async()=>{const{default:e}=await import("./bio6zqk7sn9h2l92.js");return{default:e}},[])).default),o0}const Up={duration:20,hasCloseButton:!0};function C3e(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function vw(e){return new Promise((t,n)=>{const r=new FileReader,i=new Image;r.onload=()=>{i.onload=()=>t(i),i.onerror=s=>n(s),i.src=r.result},r.readAsDataURL(e)})}function RN(e){if(!(!e||e.length===0))return e}async function b3e(e,t,n,r,i){var s;try{const o=await Z.safePost("/files",{authOption:i?en.Anonymous:void 0,requestBody:{file_name:e,file_size:t,use_case:n.kind,gizmo_id:n.kind===mn.Gizmo?n.gizmoId:void 0,timezone_offset_min:new Date().getTimezoneOffset(),reset_rate_limits:!!r}});if(o.status===rf.Error)throw Se.logEvent("Create File Entry Error",{error_code:o.error_code,error_type_name:"FileServiceErrorResponse",error_msg:o.error_code,error_stack:""}),new Lt("Could not create file",o.error_code);return o}catch(o){throw o instanceof Lt||(o instanceof m_?Se.logEvent("Create File Entry Error",{error_type_name:"ClientRequestMismatchedAuthError",error_msg:o.message,error_stack:o.stack}):o instanceof Ht?Se.logEvent("Create File Entry Error",{error_type_name:((s=o.detail)==null?void 0:s.type)==="throttled"?"RequestThrottled":"RequestError",error_msg:o.message,error_stack:o.stack}):o instanceof Error?Se.logEvent("Create File Entry Error",{error_type_name:o.name,error_msg:o.message,error_stack:o.stack}):Se.logEvent("Create File Entry Error",{error_type_name:"UnknownError",error_msg:String(o),error_stack:""})),o}}function MY(e){const t=e.split("."),n=t[t.length-1];return n==="error"||n==="cancelled"||n==="failed"||n==="unknown"}function DY(e){if(!e)return;let t;if(e.thumbnail&&typeof e.thumbnail=="object"){const r=e.thumbnail,i=r.file_id,s=r.width,o=r.height,a=r.size_bytes;typeof i=="string"&&typeof s=="number"&&typeof o=="number"&&typeof a=="number"&&(t={fileId:i,width:s,height:o,sizeBytes:a})}const n=typeof e.transcript=="string"?e.transcript:void 0;if(t||n)return{thumbnail:t,transcript:n}}async function LY(e,t,n){var r,i;try{const l=Ze.streamedJsonPost("".concat(Je,"/files/process_upload_stream"),e,{authOption:n?en.Anonymous:void 0});let u,d,f;try{for(var s=oR(l),o,a,c;o=!(a=await s.next()).done;o=!1){const h=a.value;if(MY(h.event)){const m="Error stream processing upload: indexing failed: ".concat(h.event);throw new Lt(m,h.event,h.extra)}h.progress!=null&&(t==null||t(h.progress)),((r=h==null?void 0:h.extra)==null?void 0:r.total_tokens)!=null&&(u=h.extra.total_tokens);const p=(i=h==null?void 0:h.extra)==null?void 0:i.metadata_object_id;typeof p=="string"&&p.length>0&&(f=p);const g=DY(h.extra);g&&(d=g)}}catch(a){c=[a]}finally{try{o&&(a=s.return)&&await a.call(s)}finally{if(c)throw c[0]}}return u||d||f?{fileTokenSize:u,libraryFileId:f,thumbnail:d==null?void 0:d.thumbnail,transcript:d==null?void 0:d.transcript}:void 0}catch(l){throw l instanceof Lt||l instanceof Ht&&l.isClientError()?l:new Lt("Error stream processing upload: ".concat(l),"stream_process_error")}}async function jY(e,t,n,r,i,s,o){var f;const a={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let c=Or.Initial;Se.logEvent("Upload File Initiated",{client:"web",useCase:i.kind,uploadEntry:"local"}),ft.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:i.kind,uploadEntry:"local"});const l=(f=o.usesRetrievalIndex)!=null?f:!1,u=l?performance.now():void 0,d=f3e().resetRateLimits;try{const{file_id:h,upload_url:p}=await b3e(t.name,t.size,i,!!d,o.isUnauthenticated);s.onFileCreated(e,h,p),c=Or.FileCreated,s.onFileUploadProgress(e,a.ENTRY_CREATED);const g=i.kind===mn.Gizmo?i.gizmoId:void 0,m={client:"web",useCase:i.kind,uploadEntry:"local",fileId:h,fileSize:t.size};Se.logEvent("Blob Store Upload Started",m);const v=b=>b.toLowerCase().includes("/api/estuary/upload_content_and_finalize"),y=b=>b.toLowerCase().includes("/api/estuary/upload_content_bytes");let T;if(v(p)){const{finalStatus:b,metadata:C}=await A3e({file:t,cdnUrl:p,fileId:h,fileName:t.name,useCaseType:i,shouldIndexForRetrieval:l,gizmoId:g,handlers:s,tempId:e,imageDimensions:o.imageDimensions,milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED},contextScopes:o.contextScopes});T=C,c=b}else if(y(p)){const{finalStatus:b,metadata:C}=await w3e({file:t,destinationUrl:p,fileId:h,fileName:t.name,useCaseType:i,shouldIndexForRetrieval:l,gizmoId:g,onOverallProgress:O=>{s.onFileUploadProgress(e,O)},onUploadComplete:()=>{s.onFileUploadProgress(e,a.FILE_UPLOADED)},milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED},contextScopes:o.contextScopes});T=C,c=b,s.onFileUploaded(e,h,o.imageDimensions,T)}else{const b=await x3e(t,p,w=>{s.onFileUploadProgress(e,a.ENTRY_CREATED+(a.FILE_UPLOADED-a.ENTRY_CREATED)*w)});if(s.onFileUploadProgress(e,a.FILE_UPLOADED),b.status!==201)throw Se.logEvent("Blob Store Upload Error",I(S({},m),{error_type_name:"HTTPStatus".concat(b.status),error_msg:"HTTP status ".concat(b.status,": ").concat(b.statusText),error_stack:""})),new Lt("File upload to blobstore failed","failed_upload_to_blobstore");Se.logEvent("Blob Store Upload Completed",m),c=Or.FileUploaded;const C=RN(o.contextScopes),O=S({file_id:h,use_case:i.kind,gizmo_id:g,index_for_retrieval:l,file_name:t.name},C&&{context_scopes:C});T=await LY(O,w=>{s.onFileUploadProgress(e,a.FILE_UPLOADED+(a.FILE_PROCESSED-a.FILE_UPLOADED)*w/100)},o.isUnauthenticated),c=Or.FileProcessed,s.onFileUploaded(e,h,o.imageDimensions,T),l&&(c=Or.RetrievalIndexCreated)}u!=null&&St(At())&&Z.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-u,type:"file"}})}catch(h){FY(n,r,t.name,h);let p="NotInstanceOfError";h instanceof Ht?p="".concat(h.name,"_").concat(h.status):(h instanceof Error||h instanceof Lt)&&(p=h.name),s.onError(e,"error",p,i,c)}}async function H$e(e,t,n,r,i,s){const{width:o,height:a}=await vw(t);return jY(e,t,n,r,{kind:i},s,{imageDimensions:{width:o,height:a}})}async function E3e(e,t){var r,i,s,o,a;const n=await Z.safeGet("/files/{file_id}",{parameters:{path:{file_id:e},query:t!=null?{gizmo_id:t}:void 0}});return{name:n.name,status:(s=(i=(r=n.metadata)==null?void 0:r.retrieval)==null?void 0:i.status)!=null?s:Pl.Processing,error_code:(a=(o=n.metadata)==null?void 0:o.retrieval)==null?void 0:a.error_code,file_size_tokens:n.file_size_tokens}}async function S3e(e,t){const n=Date.now()+6e4,r=s=>new Promise(o=>setTimeout(o,s));let i=0;for(;Date.now()<n;){const s=await E3e(e,t);if(s.status===Pl.Success||s.status===Pl.Skipped)return s;if(s.status===Pl.Failed)throw new Lt("Context extraction failed",s.error_code);i++,await r(Math.min(1e3,100*i))}throw new Lt("Retrieval indexing timed out")}function O3e(e){var t,n;if(e.code==="file.indexing.error"){const r=(t=e.extra)==null?void 0:t.file_parse_error_code;return typeof r=="string"?r:"file.indexing.error"}return(n=e.code)!=null?n:"internal_error"}function FY(e,t,n,r){var i;if(r instanceof Lt&&r.code!=null){const s=_w(e,O3e(r));t.danger(s,I(S({},Up),{toastId:"file_upload_error",loggingTitle:s,loggingDescription:s}))}else if(r instanceof Ht&&((i=r.detail)==null?void 0:i.type)==="throttled"){const s=r.message,o="file-upload-rate-limit";nn(()=>{var c,l;return(l=(c=t.toasts$)==null?void 0:c.call(t))!=null?l:[]}).some(c=>String(c.id).startsWith(o)&&c.isShown!==!1)||t.info(s,I(S({},Up),{id:o}))}else if(r instanceof m_){const s=e.formatMessage(yw.noAuthFileUpload);t.info(s,Up)}else{const s=_w(e,"default_upload_error",{fileName:n});t.danger(s,I(S({},Up),{toastId:"file_upload_error",loggingTitle:s,loggingDescription:s}))}}const yw=Tt({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'},noAuthFileUpload:{id:"useFilePickerState.noAuthFileUpload",defaultMessage:"Log in to analyze files and images for free."}});async function T3e(e){var te;const{file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:c,onUploadComplete:l,milestones:u,contextScopes:d}=e,f=new FormData;f.append("file",t);const p=(te=new URL(n,window.location.origin).searchParams.get("upload_url"))!=null?te:n;f.append("upload_url",p),f.append("file_id",r),f.append("file_name",i),f.append("use_case",s.kind),f.append("index_for_retrieval",String(!!o)),a&&f.append("gizmo_id",a);const g=RN(d);g&&f.append("context_scopes",JSON.stringify(g));const m=Qf(At()),v=ri(),y={[s_]:v,[i_]:Jf};m&&(y.Authorization="Bearer ".concat(m));const T=De.getCookie(Te.Workspace);typeof T=="string"&&T.trim().length>0&&T.trim()!==Fs&&(y["ChatGPT-Account-ID"]=encodeURIComponent(T.trim()));let b=!1;const C=$=>{c(u.entry+(u.uploaded-u.entry)*$)},O=$=>{c(u.uploaded+(u.processed-u.uploaded)*($/100))},w=1e4,A=120,x=96;let R,P=0,L=!1,D=0,F=0;function G($){return 1-Math.pow(1-$,3)}function Y(){if(!L)return;const $=performance.now()-P,ie=Math.min(1,$/w),ue=x*G(ie),me=Math.max(F,Math.min(x,ue),D);if(me>F&&(F=me,O(me)),D>=100){M();return}R=window.setTimeout(Y,me>=x&&D===0?A*4:A)}function V(){L||(L=!0,P=performance.now(),Y())}function M($=!1){L=!1,R!==void 0&&(window.clearTimeout(R),R=void 0),$&&(F=100,O(100))}return await new Promise(($,ie)=>{const ue=new XMLHttpRequest;ue.open("POST",n,!0),ue.withCredentials=!0;for(const[oe,Ee]of Object.entries(y))ue.setRequestHeader(oe,Ee);let me="",J,K=!1,ne;function X(oe){if(!K){K=!0;try{ue.abort()}catch(Ee){}ie(oe instanceof Lt?oe:new Lt("Error stream processing upload: ".concat(String(oe)),"stream_process_error"))}}let ee;function ye(oe){var Ee,Ae;for(;;){const He=me.indexOf("\n");if(He===-1)break;const Re=me.slice(0,He).trim();if(me=me.slice(He+1),!!Re)try{const _e=JSON.parse(Re);if(MY(_e.event)){M(),X(new Lt("Error stream processing upload: indexing failed: ".concat(_e.event),_e.event,_e.extra));return}_e.progress!=null&&(D=_e.progress,D>F&&(F=D,O(D)),D>=100&&M(!0)),_e.event==="file.processing.metadata"&&(D=100,M(!0)),((Ee=_e==null?void 0:_e.extra)==null?void 0:Ee.total_tokens)!=null&&(J=_e.extra.total_tokens);const pe=DY(_e.extra);pe&&(ne=pe);const j=(Ae=_e==null?void 0:_e.extra)==null?void 0:Ae.metadata_object_id;typeof j=="string"&&j.length>0&&(ee=j)}catch(_e){if(!oe){me=Re+"\n"+me;break}}}}ue.upload.onprogress=oe=>{if(!oe.lengthComputable)return;const Ee=oe.loaded/oe.total;C(Ee),Ee===1&&!b&&(b=!0,l(),V())};let de=0;ue.onreadystatechange=()=>{if(ue.readyState===XMLHttpRequest.LOADING||ue.readyState===XMLHttpRequest.DONE){const oe=ue.responseText.substring(de);de=ue.responseText.length,me+=oe,ye(ue.readyState===XMLHttpRequest.DONE)}if(ue.readyState===XMLHttpRequest.DONE){if(ue.status>=400){M(),X(new Lt("File upload to blobstore failed","failed_upload_to_blobstore"));return}M(F<100),$(J||ne||ee?{fileTokenSize:J,libraryFileId:ee,thumbnail:ne==null?void 0:ne.thumbnail,transcript:ne==null?void 0:ne.transcript}:{})}};try{ue.send(f)}catch(oe){X(oe)}})}async function w3e(e){var w;const{file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:c,onUploadComplete:l,milestones:u,contextScopes:d}=e,f=new FormData;f.append("file",t);const p=(w=new URL(n,window.location.origin).searchParams.get("upload_url"))!=null?w:n;f.append("upload_url",p);const g=Qf(At()),m=ri(),v={[s_]:m,[i_]:Jf};g&&(v.Authorization="Bearer ".concat(g));const y=De.getCookie(Te.Workspace);typeof y=="string"&&y.trim().length>0&&y.trim()!==Fs&&(v["ChatGPT-Account-ID"]=encodeURIComponent(y.trim())),await new Promise((A,x)=>{const R=new XMLHttpRequest;R.open("POST",n,!0),R.withCredentials=!0;for(const[P,L]of Object.entries(v))R.setRequestHeader(P,L);R.upload.onprogress=P=>{if(!P.lengthComputable)return;const L=P.loaded/P.total;c(u.entry+(u.uploaded-u.entry)*L),L===1&&l()},R.onreadystatechange=()=>{if(R.readyState===XMLHttpRequest.DONE){if(R.status>=400){x(new Lt("File upload to Estuary failed: HTTP ".concat(R.status),"failed_upload_to_blobstore"));return}A()}};try{R.send(f)}catch(P){x(P instanceof Lt?P:new Lt("Error uploading to Estuary: ".concat(String(P)),"stream_process_error"))}});const T=RN(d),b=S({file_id:r,use_case:s.kind,gizmo_id:a,index_for_retrieval:o,file_name:i},T&&{context_scopes:T}),C=await LY(b,A=>{c(u.uploaded+(u.processed-u.uploaded)*A/100)});return{finalStatus:o?Or.RetrievalIndexCreated:Or.FileProcessed,metadata:C}}async function A3e(e){const{file:t,cdnUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,handlers:c,tempId:l,imageDimensions:u,milestones:d,contextScopes:f}=e,h=await T3e({file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:g=>{c.onFileUploadProgress(l,g)},onUploadComplete:()=>{c.onFileUploadProgress(l,d.uploaded)},milestones:d,contextScopes:f});let p=Or.FileProcessed;return c.onFileUploaded(l,r,u,h),o&&(p=Or.RetrievalIndexCreated),{finalStatus:p,metadata:h}}async function x3e(e,t,n,r){const i=await y3e();return await i.request({method:"put",url:t,data:e,headers:{"x-ms-blob-type":"BlockBlob","x-ms-version":"2020-04-08","Content-Type":e.type},onUploadProgress:s=>{s.progress!==void 0&&n&&n(s.progress)}}).catch(function(s){var a;let o=S({},r);throw i&&s instanceof i.AxiosError&&((a=s.response)!=null&&a.status)?o=I(S({},o),{error_type_name:"AxiosHTTPError".concat(s.response.status),error_msg:s.message,error_stack:s.stack}):s instanceof Error&&(o=I(S({},o),{error_type_name:s.name,error_msg:s.message,error_stack:s.stack})),Se.logEvent("Blob Store Upload Error",o),new Lt("File upload to blobstore failed","failed_upload_to_blobstore")})}function UY(e){return e===_n.Multimodal?zLe:HLe}function BY(e,t){return t==null?e:Math.max(0,Math.min(e,t))}function I3e(){"use forget";var t;const e=vre(N3e);return(t=e==null?void 0:e.remaining)!=null?t:null}function N3e(e){return e.feature_name===Zr.FILE_UPLOAD}function R3e(){var n;const{limitsProgress:e}=Oi.getState(),t=e.find(r=>r.feature_name===Zr.FILE_UPLOAD);return(n=t==null?void 0:t.remaining)!=null?n:null}function P3e(e){"use forget";const t=H.c(9),n=I3e();let r,i,s;if(t[0]!==n||t[1]!==e){const a=UY(e);r=a,i=n,s=BY(a,n),t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=s}else r=t[2],i=t[3],s=t[4];let o;return t[5]!==r||t[6]!==i||t[7]!==s?(o={baseLimit:r,remaining:i,maxUploads:s},t[5]=r,t[6]=i,t[7]=s,t[8]=o):o=t[8],o}function k3e(e){const t=R3e(),n=UY(e);return{baseLimit:n,remaining:t,maxUploads:BY(n,t)}}function z$e(e){"use forget";return P3e(e).maxUploads}function M3e(e){return k3e(e).maxUploads}const{useDebugValue:D3e}=Et,{useSyncExternalStoreWithSelector:L3e}=nG,j3e=e=>e;function PN(e,t=j3e,n){const r=L3e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return D3e(r),r}const l4=(e,t)=>{const n=Ic(e),r=(i,s=t)=>PN(n,i,s);return Object.assign(r,n),r},Y$e=(e,t)=>e?l4(e,t):l4,GY={files:[],connectorFileData:{}},WY=E.createContext(null);function K$e(e){"use forget";const t=H.c(5),{children:n,initialState:r}=e,i=r===void 0?GY:r;let s;t[0]!==i?(s=()=>Ic(()=>i),t[0]=i,t[1]=s):s=t[1];const[o]=E.useState(s);let a;return t[2]!==n||t[3]!==o?(a=_.jsx(WY.Provider,{value:o,children:n}),t[2]=n,t[3]=o,t[4]=a):a=t[4],a}function qY(){"use forget";const e=E.use(WY);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function J$e(e,t){"use forget";const n=qY();return PN(n,e,t)}const X$e={hasUploadInProgress:({files:e})=>e.some(t=>t.status===Ns.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===Ns.Ready)},a0=2048;async function u4(e){let t=e,{width:n,height:r}=await vw(t);if(n>a0||r>a0)try{const i=await kY(t,a0),s=await vw(i);n=s.width,r=s.height,t=i}catch(i){Q.addError(new Error("Error resizing image:",{cause:i}))}return{file:t,width:n,height:r}}async function F3e(e,t,n,r,i,s,o,a,c){const l=performance.now();Se.logEvent("Upload File Initiated",{client:"web",useCase:r.kind,contextConnector:s.contextConnector,fileSourceType:s.type}),ft.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:r.kind,contextConnector:s.contextConnector,fileSourceType:s.type});let u=Or.Initial;const d=$Y(e);try{const f=await Z.safePost("/connectors/upload/{connector_name}",{parameters:{path:{connector_name:s.contextConnector}},requestBody:{id:t,upload_use_case:r.kind,mime_type:n.type,name:n.name,gizmo_id:o,drive_id:s.o365DriveId,manifest:s.manifest}});switch(r.kind===mn.Gizmo&&(r=I(S({},r),{kind:i.includes(VY(n))?mn.Multimodal:mn.MyFiles})),f.type){case"error":throw U3e(f.error);case"file":{switch(d.onFileCreated(t,f.file.id,"",s.contextConnector),u=Or.FileProcessed,r.kind){case mn.MyFiles:{d.onFileUploadProgress(t,90);const h=await S3e(f.file.file_id,o);(h==null?void 0:h.status)===Pl.Skipped&&c.danger(a.formatMessage(yw.retrievalSkippedFile,{fileName:h.name}),I(S({},mw),{toastId:"retrieval_index_skipped",loggingTitle:yw.retrievalSkippedFile.defaultMessage,loggingDescription:"Retrieval index skipped"})),d.onFileUploaded(t,f.file.file_id,void 0,{fileTokenSize:h.file_size_tokens,mimeType:f.file.mime_type}),u=Or.RetrievalIndexCreated;break}case mn.Multimodal:{d.onFileUploaded(t,f.file.file_id,{width:512,height:512},{mimeType:f.file.mime_type});break}case mn.AceUpload:{d.onFileUploaded(t,f.file.file_id,void 0,{mimeType:f.file.mime_type});break}case mn.DalleAgent:case mn.Gizmo:case mn.ProfilePicture:default:throw new Lt("Use case not supported by cloud doc: ".concat(r.kind))}break}case"folder":throw new Lt("Folder type not supported")}St(At())&&Z.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-l,type:s.contextConnector}})}catch(f){Q.addError(new Error("Failed to upload connected file by ".concat(s.contextConnector),{cause:f}));const h=v3e(n.name,s==null?void 0:s.syntheticExtension);FY(a,c,h,f);let p="NotInstanceOfError";f instanceof Ht?p="".concat(f.name,"_").concat(f.status):(f instanceof Error||f instanceof Lt)&&(p=f.name),d.onError(t,"error","connector_upload_"+p,{kind:mn.MyFiles},u)}}function VY(e){return e.type||RY(e.name)}function U3e({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new Lt(n,r)}else return Ht.createWithErrorMessage("/connectors/upload","server",n,void 0,Error(n))}const Lo={reset:e=>{e.setState(GY)},restoreFiles:(e,t)=>{e.setState({files:t})},uploadFile:async(e,t,n,r,i,s,o,a={},c,l,u=!1,d=!1)=>{const{gizmoId:f,isUnauthenticated:h,contextScopes:p}=a,g=e.getState().files,m=g3e(r,n.name,n.type,l==null?void 0:l.contextConnector,c),v={tempId:t,gizmoId:a.gizmoId,status:Ns.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:l,contextConnector:l==null?void 0:l.contextConnector,source:u?"library":l?"connector":"local"},y=M3e(m);if(!u&&g.length>=y)Se.logEvent("Uploaded Max Files Error"),o.danger(s.formatMessage(Bp.maxUploadsAtATime,{maxUploads:y,fileName:n.name}),I(S({},mw),{toastId:"max_uploads_at_a_time",loggingTitle:Bp.maxUploadsAtATime.defaultMessage,loggingDescription:"Max uploads at a time"}));else if(!u&&g.some(T=>T.tempId===t))Se.logEvent("Uploaded Duplicate File Error"),o.danger(s.formatMessage(Bp.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"â€¦":n.name}),I(S({},mw),{toastId:"duplicate_file_attached",loggingTitle:Bp.duplicateFileAttached.defaultMessage,loggingDescription:"Duplicate file attached"}));else{(m!==_n.Retrieval?!0:d?u:!0)&&e.setState(({files:O})=>({files:[...O,v]}));let b;const C={isUnauthenticated:h,contextScopes:p};if(i.includes(n.type)){if(b={kind:mn.Multimodal},!l){const O=await u4(n);n=O.file,C.imageDimensions={width:O.width,height:O.height}}}else if(["video/mp4","video/quicktime"].includes(n.type)&&i.includes("image/png")&&$e(At(),"3681682292"))b={kind:"multimodal_video"};else if(m===_n.Codex){b={kind:mn.Codex};const O=await u4(n);n=O.file,C.imageDimensions={width:O.width,height:O.height}}else switch(m){case _n.Multimodal:throw new Error("Multimodal file upload not supported mime type, ".concat(n.type,"\nSupported mime types: ")+i.join(", "));case _n.Interpreter:b={kind:mn.AceUpload};break;case _n.Retrieval:b={kind:u?mn.LibraryFiles:mn.MyFiles},C.usesRetrievalIndex=!0;break;case _n.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case _n.ContextConnector:case _n.None:return}f!=null&&(b={kind:mn.Gizmo,gizmoId:f}),a.skipUpload||(l?await F3e(e,t,n,b,i,l,a.gizmoId,s,o):await jY(t,n,s,o,b,$Y(e),C))}},createFileCompleted:(e,t,n,r,i)=>{const s=e.getState().files,o=s.findIndex(c=>c.tempId===t),a=s[o];if(o>=0&&a.status===Ns.Uploading){const c=[...s];c.splice(o,1,I(S({},a),{progress:10,fileId:n,cdnUrl:r,contextConnector:i})),e.setState({files:c})}},updateProgress:(e,t,n)=>{const r=e.getState().files,i=r.findIndex(o=>o.tempId===t),s=r[i];if(i>=0&&s.status===Ns.Uploading){const o=[...r];o.splice(i,1,I(S({},s),{progress:n})),e.setState({files:o})}},uploadCompleted:(e,t,n,r,i,s)=>{var c,l,u,d;const o=e.getState().files,a=o.findIndex(f=>f.tempId===t);if(a>=0&&o[a].status===Ns.Uploading&&o[a].fileId!=null){const f=o[a],h=[...o],p=I(S({},f),{tempId:t,status:Ns.Ready,progress:100,fileSpec:S(S({name:f.file.name,id:f.fileId,size:f.file.size,contextConnectorInfo:f.contextConnectorInfo,mimeType:(c=i==null?void 0:i.mimeType)!=null?c:VY(f.file)},r||{}),i||{}),libraryFileId:(l=i==null?void 0:i.libraryFileId)!=null?l:f.libraryFileId});h.splice(a,1,p);const g=S({},e.getState().connectorFileData);s&&(g[s==null?void 0:s.file_id]=s),e.setState({files:h,connectorFileData:g}),Se.logEvent("Upload File Completed",{status:f.status,fileId:f.fileId,contextConnector:(u=f.contextConnector)!=null?u:"local"}),ft.logEvent("chatgpt_file_upload_completed",null,{status:f.status,contextConnector:(d=f.contextConnector)!=null?d:"local"})}},remove:(e,t,n,r,i,s)=>{var c,l;const o=e.getState().files,a=o.findIndex(u=>u.tempId===t);if(a>=0){const u=o[a];n==="error"?(Se.logEvent("Upload File Error",{status:u.status,fileId:u.fileId,client:"web",errorClassName:r!=null?r:"undefined",useCaseType:i,uploadStatus:s!=null?s:"undefined",contextConnector:u.contextConnector}),ft.logEvent("chatgpt_file_upload_error",null,{client:"web",errorClassName:r!=null?r:"undefined",useCaseType:(c=i==null?void 0:i.kind)!=null?c:"undefined",uploadStatus:s!=null?s:"undefined",contextConnector:(l=u.contextConnector)!=null?l:"undefined"})):Se.logEvent("Remove File",{status:u.status,fileId:u.fileId});const d=[...o];d.splice(a,1),e.setState({files:d})}},attachLibraryFile:(e,t)=>{var a,c;const n=new File([],t.name,{type:t.mimeType}),r=C3e(n),i=e.getState().files;if(i.some(l=>l.fileId===t.id))return;const s=((a=t.mimeType)==null?void 0:a.startsWith("image/"))===!0,o={tempId:r,status:Ns.Ready,file:n,fileId:t.id,cdnUrl:null,progress:100,source:"library",libraryFileId:t.libraryFileId,fileSpec:S({id:t.id,name:t.name,size:(c=t.size)!=null?c:0,mimeType:t.mimeType},s?{width:512,height:512}:{})};e.setState({files:[...i,o]})}},$Y=e=>({onFileCreated:Lo.createFileCompleted.bind(null,e),onFileUploadProgress:Lo.updateProgress.bind(null,e),onFileUploaded:Lo.uploadCompleted.bind(null,e),onError:Lo.remove.bind(null,e)}),Bp=Tt({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}}),B3e=Et.createContext({mode:void 0,getGizmoId:void 0}),G3e=()=>E.useContext(B3e),c0={filePickerStarted:e=>{Se.logEvent("Context Connectors: Picker Started",{contextConnector:e})},filePickerLoaded:e=>{Se.logEvent("Context Connectors: Picker Loaded",{contextConnector:e})},filePickerPicked:(e,t)=>{Se.logEvent("Context Connectors: Picker Picked",{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{Se.logEvent("Context Connectors: Picker Cancelled",{contextConnector:e})},linkPasted:e=>{Se.logEvent("Context Connectors: Link Pasted",S({},e))},linkMetadataFetchStarted:e=>{Se.logEvent("Context Connectors: Link Metadata Fetch Started",{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{Se.logEvent("Context Connectors: Link Metadata Fetch Succeeded",{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{Se.logEvent("Context Connectors: Link Metadata Fetch Failed",{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{Se.logEvent("Context Connectors: OAuth Upsell Button Click",{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{Se.logEvent("Context Connectors: Expired Access Token Used",{contextConnector:e,useCase:t})}};function Q$e(e,t,n,r){"use forget";const i=H.c(16),s=Fn(),o=_t(),{getGizmoId:a}=G3e(),[c,l]=E.useState();let u,d;i[0]!==a?(u=()=>{a?a().then(T=>l(T)):l(void 0)},d=[a],i[0]=a,i[1]=u,i[2]=d):(u=i[1],d=i[2]),E.useEffect(u,d);const f=Xf(t),h=qY(),p=re();let g;i[3]!==e||i[4]!==p?(g=$Le(p,e),i[3]=e,i[4]=p,i[5]=g):g=i[5];const m=Fe(g);let v;return i[6]!==r||i[7]!==e||i[8]!==f||i[9]!==m||i[10]!==c||i[11]!==o||i[12]!==n||i[13]!==h||i[14]!==s?(v=T=>{const b=vh(e),{docsReferencedByURL:C}=b!=null?b:{};if(C==null)return;const O=Array.isArray(m)&&m.length>0?m:void 0;for(const w of T){const{id:A,type:x,handler:R}=w,P="".concat(x,":").concat(A),L=C[P],F=h.getState().files.find(G=>G.tempId===A);if(L!=null&&L!=="failed"&&F){s.success(o.formatMessage(Gp.fileAlreadyAttached),{hasCloseButton:!0});continue}e:switch(R.type){case"fetch":{yl(e,G=>{G.docsReferencedByURL[P]="pending"}),Lo.uploadFile(h,A,new File([],o.formatMessage(Gp.fileLoading)),_n.None,n,o,s,S({skipUpload:!0,gizmoId:c},O?{contextScopes:O}:{}),r,{contextConnector:x,sourceUrl:w.url,syntheticExtension:null,type:sf.Link}),c0.linkMetadataFetchStarted(x),R.tryFetch().then(G=>{if(Lo.remove(h,A,"none"),G==null)return null;const{id:Y,title:V,connector:M,mimeType:te,url:$,syntheticExtension:ie,o365DriveId:ue,manifest:me}=G;c0.linkMetadataFetchSucceeded(x,te),yl(e,K=>{K.docsReferencedByURL[P]="fetched"});let J=V;M===xe.GDRIVE&&(J=ie?"".concat(V,".").concat(ie):V),Lo.uploadFile(h,Y,new File([],J,{type:te.split(";")[0]}),_n.Retrieval,n,o,s,S({gizmoId:c},O?{contextScopes:O}:{}),r,{contextConnector:M,sourceUrl:$,syntheticExtension:ie,type:sf.Link,o365DriveId:ue,manifest:me})}).catch(G=>{c0.linkMetadataFetchFailed(x,G),G instanceof Ht&&G.status===404&&x===xe.NOTION_OPEN_CONNECTOR?(s.danger(Gp.fileNotAccessible,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),f.appendMessageIfNotDismissed({connector:x,type:"not-connected"})):s.danger(Gp.fileFetchFailed,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),yl(e,Y=>{Y.docsReferencedByURL[P]="failed"}),Lo.remove(h,A,"none")});break e}case"prompt":f.appendMessageIfNotDismissed({connector:x,type:R.message}),yl(e,G=>{G.docsReferencedByURL[P]="prompted"})}}},i[6]=r,i[7]=e,i[8]=f,i[9]=m,i[10]=c,i[11]=o,i[12]=n,i[13]=h,i[14]=s,i[15]=v):v=i[15],v}const Gp=Tt({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loadingâ€¦"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}}),HY=()=>{const e=QI(),{connectorConfig:t,isLoading:n,error:r,refetch:i}=SDe(),s=t.has(xe.CONFLUENCE)&&!e,o=t.has(xe.GDRIVE)&&!e,a=t.has(xe.JIRA)&&!e,c=t.has(xe.NOTION_OPEN_CONNECTOR)&&!e,l=(t.has(xe.O365_PERSONAL)||t.has(xe.O365_BUSINESS))&&!e,u=t.has(xe.SLACK_OPEN_CONNECTOR)&&!e;return{isConfluenceEnabled:s,isGdriveEnabled:o,isJiraEnabled:a,isNotionOpenConnectorEnabled:c,isO365Enabled:l,isSlackOpenConnectorEnabled:u,connectorConfig:t,isLoading:n,hasContextConnectorEnabled:s||o||a||c||l||u,error:r,refetch:i}},W3e=({connectorId:e,redirectAfter:t,systemHintType:n,referrer:r,showSettingsBehindConnectorLink:i,authTypeOverride:s,noRedirect:o,slackWorkspace:a,slackTeamId:c,syncOnly:l}={})=>zY(u=>{u.set(ZI,"true"),u.set(eN,sn.CONNECTOR_SETTING),e&&u.set(Mz,e),t&&u.set(Lz,t),n&&u.set(SPe,n),r&&u.set(nN,r),s&&u.set(rN,s),i&&u.set(Dz,"true"),o&&u.set(tN,"true"),a&&u.set(iN,a),c&&u.set(sN,c),l&&u.set(oN,"true")}),Z$e=()=>{const e=Zs();return(t={})=>e(W3e(t),{replace:!0})},e9e=()=>{const e=Zs();return()=>e(zY(t=>{t.delete(ZI),t.delete(eN),t.delete(nN),t.delete(rN),t.delete(tN),t.delete(iN),t.delete(sN),t.delete(oN)}),{replace:!0})};function zY(e){const t=window.location.hash,[n,r]=t.split("?"),i=new URLSearchParams(r);e(i);const s=i.toString();return fw+(s?"?".concat(s):"")}const t9e=()=>{const{hash:e}=Jt(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(ZI)==="true"},n9e=()=>{const{hash:e}=Jt(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(Dz)==="true"},r9e=()=>{const{hash:e}=Jt(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(bPe)==="true"},i9e=()=>{const{hash:e}=Jt(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(EPe)==="true"},s9e=()=>{const e=Zs();return t=>{const n=window.location.hash,[r,i]=n.split("?"),s=new URLSearchParams(i);t?s.set("connector",t):s.delete("connector");const o=s.toString()?"".concat(r,"?").concat(s.toString()):r;e(o,{replace:!0})}},ao=e=>{const{hash:t}=Jt();return E.useMemo(()=>{var i;const n=t.indexOf("?");return n===-1?void 0:(i=new URLSearchParams(t.slice(n+1)).get(e))!=null?i:void 0},[t,e])},o9e=()=>ao(Lz),a9e=()=>ao(tN),c9e=()=>ao(nN),q3e=fne(Object.values(sn),void 0),l9e=()=>q3e(ao(eN)),u9e=()=>ao(oN),d9e=()=>ao(Mz),f9e=()=>ao(iN),h9e=()=>ao(sN),p9e=()=>{const e=ao(rN);return e==="OAUTH"||e==="NONE"?e:void 0},d4=e=>{if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e)},YY=e=>typeof e=="object"&&e!=null,V3e=e=>typeof e=="object"&&e!=null,$3e=e=>YY(e);function g9e(e){if(!V3e(e))return[];if(!YY(e.properties))return[];const t=Array.isArray(e.required)?e.required.filter(n=>typeof n=="string"):[];return Object.entries(e.properties).map(([n,r])=>{const i=$3e(r)?r:{},s=typeof i.title=="string"?i.title:n,o=typeof i.type=="string"?i.type:"string",a=typeof i.description=="string"?i.description:void 0;let c;Array.isArray(i.enum)&&(c=i.enum.map(u=>d4(u)).filter(u=>u!==void 0));const l=d4(i.default);return{name:n,title:s,type:o,required:t.includes(n),description:a,enumValues:c,defaultValue:l!=null?l:void 0}})}const H3e=e=>e.defaultValue!==void 0?e.defaultValue:e.enumValues&&e.enumValues.length>0?e.enumValues[0]:"",m9e=(e,t)=>e.reduce((n,r)=>{const i=t[r.name];return i!==void 0&&(!r.enumValues||r.enumValues.includes(i))?n[r.name]=i:n[r.name]=H3e(r),n},{}),_9e=(e,t,n)=>{var s;const r={},i={};for(const o of e){const a=(s=t[o.name])!=null?s:"",c=o.enumValues&&o.enumValues.length>0?a:a.trim();o.required&&!c&&(r[o.name]=n.formatMessage(X3e.requiredFieldError)),c&&(i[o.name]=c)}return{sanitizedLinkParams:Object.keys(i).length>0?i:void 0,errors:r}},z3e=(e,t)=>t&&e.supported_auth.some(n=>n.type===t)?t:e.supported_auth.some(n=>n.type==="OAUTH")?"OAUTH":"NONE",Y3e=e=>Z.safePost("/aip/connectors/links/noauth",{requestBody:{connector_id:e.id,name:e.name,action_names:[]},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}}),K3e=async({connector:e,redirectAfter:t,shouldRedirectToConnectorDetails:n=!1,onError:r,openPopup:i,toaster:s,intl:o,productSku:a,connectorIdOverride:c,slackTeamIdOverride:l,linkParams:u})=>{const d=c!=null?c:e.id,f={connectorId:d,name:e.name,actionNames:null,oauthClientId:d===ox?Qde:d===ax?Zde:d===cx?efe:null,oauthClientScopes:null,slackTeamId:l,linkParams:u};return await cfe({redirectUri:ife(),connectorPlatformParams:f,redirectTo:t||(n?"".concat(fw,"?connector=").concat(d):fw),onError:r,openPopup:i,toaster:s,intl:o,productSku:a})},J3e=async({connector:e,shouldRedirectToConnectorDetails:t=!1,openPopup:n,toaster:r,intl:i,authTypeOverride:s,redirectAfter:o})=>{switch(z3e(e,s)){case"OAUTH":return await K3e({connector:e,redirectAfter:o,shouldRedirectToConnectorDetails:t,openPopup:n,toaster:r,intl:i,productSku:sn.CONNECTOR_SETTING}),null;case"NONE":return await Y3e(e)}},v9e=(e,t,n,r)=>Z.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:t,connector_id:e}},requestBody:{enabled_actions:n,enabled_roles:r}}),X3e=Tt({sectionTitle:{id:"addConnectorLinkModal.linkParams.sectionTitle",defaultMessage:"Provide account details"},sectionDescription:{id:"addConnectorLinkModal.linkParams.sectionDescription",defaultMessage:"We need a bit more information from you before continuing."},baseUrlHelper:{id:"addConnectorLinkModal.linkParams.baseUrlHelper",defaultMessage:"You can usually find these values in your URL (for example, {exampleUrl})."},requiredFieldsToast:{id:"addConnectorLinkModal.linkParams.requiredFieldsToast",defaultMessage:"Fill in the required fields to continue."},requiredFieldError:{id:"addConnectorLinkModal.linkParams.requiredFieldError",defaultMessage:"This field is required."},fieldPlaceholder:{id:"addConnectorLinkModal.linkParams.fieldPlaceholder",defaultMessage:"Enter {label}"},fieldLabelRequired:{id:"addConnectorLinkModal.linkParams.fieldLabelRequired",defaultMessage:"{label} (required)"}}),y9e=(e,t,n)=>Z.safePut("/accounts/{account_id}/connectors/{connector_id}/enabled_actions",{parameters:{path:{account_id:t,connector_id:e}},requestBody:{enabled_actions:n}}),Q3e=()=>{const e=Pu(),t=Uu(),n=E.useMemo(()=>{var o;return(o=t.data)==null?void 0:o.connection_statuses.filter(a=>["google_drive_oauth","google_drive_dwd"].includes(a.user_connection_details.knowledge_connector_type))},[t.data]),r=HY(),i=r.connectorConfig.get(xe.GDRIVE),s=r.isGdriveEnabled&&!!i;return{isLoading:t.isLoading||r.isLoading,fileUploadConfig:s?i:null,internalKnowledgeEnabled:e,internalKnowledgeConfigs:e&&(n!=null&&n.length)?n:null}},C9e=()=>{var r;const e=Pu(),t=Uu(),n=(r=t.data)==null?void 0:r.connection_statuses.some(i=>i.user_connection_details.connection_type==="github_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},b9e=()=>{var r;const e=Pu(),t=Uu(),n=(r=t.data)==null?void 0:r.connection_statuses.some(i=>i.user_connection_details.connection_type==="sharepoint_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},E9e=e=>{const t=_s(),n=!(t!=null&&t.isPersonalAccount())&&(t==null?void 0:t.planType)!==be.SELF_SERVE_BUSINESS,r=vbe(e),{isEnabled:i,isLoading:s}=Z3e(e==="help_scout"?"helpscout_sync_connector":"".concat(e,"_sync_connector"));return n?r&&(i!=null?i:!1)&&!s:r},Z3e=e=>{var i;const t=Pu(),n=Uu(),r=(i=n.data)==null?void 0:i.connection_statuses.some(s=>s.user_connection_details.connection_type===e);return{isLoading:n.isLoading,isEnabled:t&&r}},e2e=()=>{const e=HY(),t=e.connectorConfig.get(xe.O365_PERSONAL),n=e.connectorConfig.get(xe.O365_BUSINESS);return{isLoading:e.isLoading,personalConfig:e.isO365Enabled&&(t!=null&&t.access_token)?t:null,businessConfig:e.isO365Enabled&&(n!=null&&n.access_token)?n:null}},S9e=()=>{var v,y,T,b,C,O,w,A;const e=re(),t=Pu(),n=Fe(()=>Zo.if$(e,{productSku:sn.CONNECTOR_SETTING},t)),r=fv({fetchValidLinksOnly:!0,productSku:sn.CONNECTOR_SETTING}),{fileUploadConfig:i,internalKnowledgeConfigs:s}=Q3e(),o=e2e(),a=Fe(()=>hv(e)),c=((y=(v=r.connectorLinks.get(Pt[N.GDRIVE_ACTION_CONNECTOR]))==null?void 0:v.length)!=null?y:0)>0||((T=s==null?void 0:s.filter(x=>x.user_connection_details.auth_status!=="not_connected").length)!=null?T:0)>0,l=((C=(b=r.connectorLinks.get(Pt[N.SHAREPOINT_CONNECTOR]))==null?void 0:b.length)!=null?C:0)>0,u=!!(i!=null&&i.access_token),d=!!((O=o.businessConfig)!=null&&O.access_token),f=(w=n.data)==null?void 0:w.find(x=>x.id===Pt[N.GDRIVE_ACTION_CONNECTOR]),h=f&&f.status!=="DISABLED_BY_ADMIN"||((A=s==null?void 0:s.filter(x=>x.user_connection_details.auth_status==="not_connected").length)!=null?A:0)>0,p=a!=null&&a.some(x=>x.type===N.SHAREPOINT_CONNECTOR&&x.status!=="DISABLED_BY_ADMIN");return{canUpgradeGDrive:u&&!c&&h,canUpgradeSharepoint:d&&!l&&p,isLoading:n.isLoading||r.isLoading}};async function O9e(e){return(await Z.safeGet("/aip/connectors/mcp/oauth_config",{parameters:{query:{mcp_url:e}},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}})).oauth_config}function T9e(e){return Z.safePost("/aip/connectors/mcp/refresh_actions",{requestBody:{link_id:e},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}})}function w9e(e,t){return Z.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{actions:t},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}})}function A9e(e,t){return Z.safePatch("/aip/connectors/{connector_id}/description",{parameters:{path:{connector_id:e}},requestBody:{description:t},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}})}function x9e(e,t){return Z.safePatch("/aip/connectors/{connector_id}/model_description",{parameters:{path:{connector_id:e}},requestBody:{model_description:t},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}})}function I9e(e,t){return Z.safePatch("/aip/connectors/{connector_id}/logo",{parameters:{path:{connector_id:e}},requestBody:{logo_url:t},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}})}function t2e(e){return Z.safeGet("/aip/connectors/{connector_id}/conformance",{parameters:{path:{connector_id:e}},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}})}function n2e(e){return Z.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}},additionalHeaders:{[Cn]:sn.CONNECTOR_SETTING}})}const r2e=Tt({gdriveBrandName:{id:"81dp6y",defaultMessage:"Google Drive"}}),N9e=(e,t)=>e==="gdrive_action_connector"?t.formatMessage(r2e.gdriveBrandName):e;async function R9e(e,t,n){const r="https://chat.openai.com/aip/".concat(e.id,"/oauth/callback"),i=t,s=await Z.safeGet("/aip/p/{id}/user-settings/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:r,redirect_to:i}}});window.location.href=s.redirect_uri}async function P9e(e,t,n,r){const i=await Z.safeGet("/connectors/{id}/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:n,entry_point:t,redirect_to:r}}});window.location.href=i.redirect_uri}async function i2e(e,t){e&&await Z.safeDelete("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},additionalHeaders:t?{[Cn]:t}:void 0})}async function s2e(e,t){await Z.safeDelete("/aip/connectors/links",{requestBody:{connector_id:e},additionalHeaders:t?{[Cn]:t}:void 0})}function k9e(e){switch(e){case sf.Link:return"link_paste_popover";case sf.Picker:return"file_upload_menu"}}async function M9e(e){await Z.safeDelete("/connectors/user_setting/{connector_name}",{parameters:{path:{connector_name:e}}}),window.location.reload()}function D9e(e,t,n){return o2e(e,Pt[t],n)}function o2e(e,t,n){const r=Pbe(e,n);return r&&a2e(r,t)}function a2e(e,t){const n=e.get(t);return!!n&&n.status!=="DISABLED_BY_ADMIN"}function c2e(e,t,n){const r=re(),i=uv(r),s=_t(),o=Fn(),{data:a,isLoading:c,error:l,refetch:u}=Xt({queryKey:["connector-client-data",e],queryFn:async()=>{const d=await Z.safeGet("/aip/connectors/oauth_clients",{parameters:{query:{service:t}},additionalHeaders:n?{[Cn]:n}:void 0});return d.oauth_clients?d.oauth_clients:(o.danger(s.formatMessage({id:"OfpT7B",defaultMessage:"Request error fetching oauth clients"}),{id:"fetch-oauth-clients-error",duration:3,hasCloseButton:!0}),[])},enabled:i});return{oAuthClients:a,isLoading:c,error:l,refetch:u}}function L9e(){"use forget";const e=H.c(2),t=Yt();let n;return e[0]!==t?(n=()=>{t.invalidateQueries({refetchType:"all",queryKey:r$()}),t.invalidateQueries(I(S({},eu("connectors")),{refetchType:"all"}))},e[0]=t,e[1]=n):n=e[1],n}function j9e(e,t,n="/",r,i,s){var G;const o=re(),{data:a,isLoading:c,error:l}=Fe(()=>Zo(o,{productSku:r})),u=dv(a),{connectorLinks:d,isLoading:f,error:h,refetch:p}=fv({productSku:r}),{oAuthClients:g,isLoading:m,error:v,refetch:y}=c2e(e,t,r),T=l2e(),b=E.useCallback(()=>{Zo.refetch(o,{productSku:r}),p(),y()},[o,r,p,y]),C=Pt[e],O=u.get(C),w=E.useMemo(()=>{var Y;return(Y=d.get(C))!=null?Y:[]},[d,C]),A=w[0],x=w.length>0,R=A==null?void 0:A.id,P=E.useCallback(Y=>{const V=typeof Y=="string"&&Y?Y:R;V&&T(V,()=>{b()},r)},[T,b,R,r]),L=(G=l!=null?l:h)!=null?G:v,D=c||f||m,F=E.useCallback(()=>{if(!D){if(!O){i==null||i();return}if(!(g!=null&&g.length)){s==null||s();return}window.location.hash="#settings/".concat(H_.Connectors,"?connector=").concat(C,"&add-connector-link=true&redirectAfter=").concat(n,"&product-sku=").concat(r,"&referrer=").concat(jz.Codex)}},[D,O,g,C,i,s,n,r]);return E.useMemo(()=>({isLoading:D,isConnected:x,openConnectorModal:F,openGithubModal:F,error:L,refetch:b,handleDisconnect:P,link:A,links:w,platformConnector:O}),[D,x,F,L,b,P,A,w,O])}function F9e(e,t,n){"use forget";var g,m;const r=H.c(20),i=re(),s=e==null?void 0:e.id;let o;r[0]!==s?(o=["connector-actions",s],r[0]=s,r[1]=o):o=r[1];let a;r[2]!==(e==null?void 0:e.id)||r[3]!==i||r[4]!==(n==null?void 0:n.forceEnable)?(a=!!(n!=null&&n.forceEnable)||!!(e!=null&&e.id)&&i$(i),r[2]=e==null?void 0:e.id,r[3]=i,r[4]=n==null?void 0:n.forceEnable,r[5]=a):a=r[5];let c;r[6]!==e||r[7]!==t?(c=()=>Z.safeGet("/aip/connectors/{connector_id}/actions",{parameters:{path:{connector_id:e.id}},additionalHeaders:t?{[Cn]:t}:void 0}),r[6]=e,r[7]=t,r[8]=c):c=r[8];let l;r[9]!==o||r[10]!==a||r[11]!==c?(l={queryKey:o,enabled:a,queryFn:c},r[9]=o,r[10]=a,r[11]=c,r[12]=l):l=r[12];const{data:u,isLoading:d,refetch:f}=Xt(l);let h;r[13]!==(e==null?void 0:e.actions)||r[14]!==(u==null?void 0:u.actions)?(h=(m=(g=u==null?void 0:u.actions)!=null?g:e==null?void 0:e.actions)!=null?m:[],r[13]=e==null?void 0:e.actions,r[14]=u==null?void 0:u.actions,r[15]=h):h=r[15];let p;return r[16]!==d||r[17]!==f||r[18]!==h?(p={actions:h,isLoading:d,refetch:f},r[16]=d,r[17]=f,r[18]=h,r[19]=p):p=r[19],p}function U9e(e){"use forget";const t=H.c(18),n=re(),r=_t(),i=Fn(),s=REe();let o;t[0]!==n?(o=tn(n),t[0]=n,t[1]=o):o=t[1];const a=o;let c;t[2]!==n?(c=()=>Qx(n),t[2]=n,t[3]=c):c=t[3];const l=Fe(c);let u;t[4]!==n?(u=AEe(n),t[4]=n,t[5]=u):u=t[5];const d=u;let f;t[6]!==r||t[7]!==d||t[8]!==l||t[9]!==s||t[10]!==e||t[11]!==i?(f=async g=>{const O=g,{supported_auth:m,oauth_client_params:v,skipSafetyChecks:y}=O,T=W(O,["supported_auth","oauth_client_params","skipSafetyChecks"]),{connector:b}=await Z.safePost("/aip/connectors/mcp",{requestBody:I(S(S({},T),y===void 0?{}:{skip_safety_checks:y}),{auth_request:{supported_auth:m,oauth_client_params:v}}),additionalHeaders:e?{[Cn]:e}:void 0});if(b.supported_auth.length===0){const w=await t2e(b.id);if(!l&&!d&&!w.implements_retrievable)return await n2e(b.id),{connector:null,link:null,implementsRetrievable:!1}}const C=await J3e({connector:b,shouldRedirectToConnectorDetails:!0,openPopup:s,toaster:i,intl:r,authTypeOverride:g.authTypeOverride,redirectAfter:g.redirectAfter});return{connector:b,link:C,implementsRetrievable:!0}},t[6]=r,t[7]=d,t[8]=l,t[9]=s,t[10]=e,t[11]=i,t[12]=f):f=t[12];let h;t[13]!==a?(h=()=>{a.invalidateQueries()},t[13]=a,t[14]=h):h=t[14];let p;return t[15]!==f||t[16]!==h?(p={mutationFn:f,onSettled:h},t[15]=f,t[16]=h,t[17]=p):p=t[17],Kt(p)}function B9e(){const e=_t(),t=Fn(),n=Yt();return async(i,s,o)=>{try{await s2e(i,o),await n.invalidateQueries(),s==null||s()}catch(a){t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function l2e(){const e=_t(),t=Fn(),n=_s(),r=fv(),i=Yt();return async(o,a,c)=>{try{await i2e(o,c),i.invalidateQueries({queryKey:["fetchConnectorLinkData",n==null?void 0:n.normalizedAccountUserId]}),await r.refetch(),a==null||a()}catch(l){t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function G9e(){const e=re(),t=_s(),n=_t(),r=Fn();return Kt({mutationKey:["upgradeConnectorToSync"],mutationFn:({link:i,user_extension:s})=>t!=null&&t.isPersonalAccount()?Qo.user_request_connect_upgrade_to_sync({link_id:i.id,user_extension:s}):Qo.user_activate_workspace_connection_and_user({link_id:i.id,user_extension:s}),onMutate:({link:i,isConnectingAndUpgrading:s=!1})=>{Se.logEventWithStatsig("Connectors - Upgrade To Sync Initiated","chatgpt_connectors_upgrade_to_sync_initiated",{connector_id:i.connector_id,isConnectingAndUpgrading:s?"true":"false"})},onSuccess:(i,{link:s,isConnectingAndUpgrading:o=!1})=>{Kx(e),r.success(o?n.formatMessage({id:"rfbIpd",defaultMessage:"{connector} is now connected and syncing."},{connector:s.name}):n.formatMessage({id:"yhtO5d",defaultMessage:"{connector} is now syncing."},{connector:s.name})),Se.logEventWithStatsig("Connectors - Upgrade To Sync Success","chatgpt_connectors_upgrade_to_sync_success",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})},onError:(i,{link:s,isConnectingAndUpgrading:o=!1})=>{if(o)r.warning(n.formatMessage({id:"wag12O",defaultMessage:"{connector} is now connected, but not syncing. Try enabling sync again."},{connector:s.name}));else{const a=i instanceof Ht&&i.status===409?n.formatMessage({id:"Tedt6I",defaultMessage:"Connector name already exists"}):n.formatMessage({id:"tumE6A",defaultMessage:"There was a problem syncing {connector}. Try again later."},{connector:s.name});r.danger(a,{toastId:"upgrade_connector_to_sync",loggingTitle:i instanceof Ht&&i.status===409?"Connector name already exists":"There was a problem syncing {connector}. Try again later."})}Se.logEventWithStatsig("Connectors - Upgrade To Sync Error","chatgpt_connectors_upgrade_to_sync_error",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})}})}function W9e(){const e=re(),t=_t(),n=Fn(),{refetch:r}=Uu();return async s=>{try{await Qo.user_delete_sync(s),r(),Kx(e),n.success(t.formatMessage({id:"Nktfkq",defaultMessage:"Successfully disabled sync."}))}catch(o){n.danger(gn({id:"+R+5ol",defaultMessage:"Error disabling sync for your connector."}),{toastId:"disable_sync_on_connector"})}}}function KY(e){var n;if(!((n=Dr(e))!=null&&n.isEnterprisey()))return!0;const t=hv(e);return e$(e)||t!=null&&t.length>0}const u2e={enabledAutoConnectors:[],isLoading:!1};function q9e({platformConnectors:e,enabled:t}){const n=re(),{isLoading:r,data:i}=Fe(()=>xh.if$(n,t)),y=i!=null?i:{},{disabledTools:s=[]}=y,o=W(y,["disabledTools"]),a=Yt(),{isPending:c,mutate:l}=Kt({mutationFn:async({data:T})=>await Ube(T),onSettled:(T,b)=>{const C=["userContext"];T!=null&&!b?a.setQueryData(C,T):a.invalidateQueries({queryKey:C})},onError:T=>(Se.logEventWithStatsig("chatgpt_web_disable_auto_connectors_for_teams_error","chatgpt_web_disable_auto_connectors_for_teams_error",{errorMessage:T.message}),T)}),u=Jx(n),{enabledAutoConnectors:d,isLoading:f}=Fe(()=>t?u$(n):u2e),[h,p]=E.useState(!1),g=E.useMemo(()=>u.filter(T=>{var b;return e.has(Pt[T])&&((b=e.get(Pt[T]))==null?void 0:b.status)==="DISABLED_BY_ADMIN"}),[u,e]),{newDisabledTools:m,maybeNewEnabledTools:v}=E.useMemo(()=>{if(!t)return{newDisabledTools:[],maybeNewEnabledTools:[]};const T=[],b=[];return d.length>0&&d.forEach(C=>{var O;g.includes(C)&&!s.includes((O=_p(C))!=null?O:"")&&T.push(C)}),g.length<u.length&&g.length<u.length&&u.forEach(C=>{var O;!g.includes(C)&&s.includes(((O=_p(C))!=null?O:"").concat("_admin_disabled"))&&b.push(C)}),{newDisabledTools:T,maybeNewEnabledTools:b}},[t,d,s,u,g]);E.useEffect(()=>{if(!t||r||c||h||f||m.length===0&&v.length===0)return;const T=new Set(s);v.forEach(b=>{const C=_p(b);C&&(T.delete(C),T.delete("".concat(C,"_admin_disabled")))}),m.forEach(b=>{const C=_p(b);C&&(T.add(C),T.add("".concat(C,"_admin_disabled")))}),l({data:S({disabledTools:Array.from(T)},o)}),p(!0)},[r,c,l,m,v,o,h,s,f,t])}const d2e=Be(()=>we({})),f2e=Be(e=>Oe(()=>{var T,b,C,O,w,A,x,R,P,L,D,F,G,Y,V;const t=Mi(e);if(!St(e)){const M=un(e,"2526598250");return{dynamicPlaceholderEnabled:M.get("dynamic-placeholder-enabled",!1),isSingleLine:t||M.get("single-line",!1),isCombinedList:M.get("combined-list",!1),plusButtonLabel:M.get("plus-button-label",!1),loggedOutAttachLabel:M.get("logged-out-attach-label",!0),loggedOutAttachPlusIcon:M.get("logged-out-attach-plus-icon",!1),loggedOutVoiceLabel:M.get("logged-out-voice-label",!0),loggedOutHideToolButtons:M.get("logged-out-hide-tool-buttons",!1),isImageGenButtonEnabled:M.get("is_image_gen_button_enabled",!1),fontSize:M.get("font-size","base"),plusButtonAddsFiles:M.get("plus-button-adds-files",!1),disableMotion:M.get("disable-motion",!1),attachfileRateLimitMessageVariant:"title_and_description",attachfileRateLimitMessageShowIcon:!0,fullyCollapsedToolMenu:!1,showSlashHint:!1,showModelsInPlusMenu:!1,showSelectedModelInComposer:!1,showModelSlashCommands:!1,showThinkingEffortPicker:!1,systemHintsByPlan:{free:[]}}}const n=un(e,"790459319"),r=d2e(e),i=(T=r.dynamicPlaceholderEnabled)!=null?T:n.get("dynamic-placeholder-enabled",!1),s=(b=r.isSingleLine)!=null?b:t||n.get("single-line",!1),o=(C=r.isCombinedList)!=null?C:n.get("combined-list",!1),a=(O=r.fontSize)!=null?O:n.get("font-size","base"),c=(w=r.attachfileRateLimitMessageVariant)!=null?w:n.get("attachfile-rate-limit-message-variant","title_and_description"),l=(A=r.attachfileRateLimitMessageShowIcon)!=null?A:n.get("attachfile-rate-limit-message-show-icon",!0),u=(x=r.fullyCollapsedToolMenu)!=null?x:n.get("fully-collapsed-tool-menu",!1),d=(R=r.showSlashHint)!=null?R:n.get("show-slash-hint",!1),f=(P=r.plusButtonLabel)!=null?P:n.get("plus-button-label",!1),h=(L=r.showModelsInPlusMenu)!=null?L:n.get("models-in-plus-menu",!1),p=(D=r.showSelectedModelInComposer)!=null?D:n.get("show-selected-model-in-composer",!1),g=(F=r.showModelSlashCommands)!=null?F:n.get("model-slash-commands",!1),m=(G=r.showThinkingEffortPicker)!=null?G:n.get("show-juice-control",!1),v=(Y=r.systemHintsByPlan)!=null?Y:n.get("system-hints-by-plan",{free:[]}),y=(V=r.disableMotion)!=null?V:n.get("disable-motion",!1);return{dynamicPlaceholderEnabled:i,isSingleLine:s,isCombinedList:o,fontSize:a,attachfileRateLimitMessageVariant:c,attachfileRateLimitMessageShowIcon:l,fullyCollapsedToolMenu:u,showSlashHint:d,plusButtonLabel:f,showModelsInPlusMenu:h,showSelectedModelInComposer:p,showModelSlashCommands:g,showThinkingEffortPicker:m,systemHintsByPlan:v,disableMotion:y,plusButtonAddsFiles:!1,loggedOutAttachLabel:!0,loggedOutAttachPlusIcon:!1,loggedOutVoiceLabel:!0,loggedOutHideToolButtons:!1,isImageGenButtonEnabled:!1}}));var l0,f4;function h2e(){if(f4)return l0;f4=1;var e=Ou(),t=O$();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return l0=n,l0}var p2e=h2e();const g2e=Gt(p2e),m2e=new Set(["gdrive_sync_connector","slack_sync_connector","github_sync_connector","notion_sync_connector","sharepoint_admin_sync_connector","confluence_sync_connector","jira_sync_connector","jira_servicemanagement_sync_connector"]),_2e=new Set(["github_sync_connector"]),kN=Be(e=>Oe(()=>{const t=v2e(e),n=JY(e),r=x2e(e);if(t)return r?t:MN(t,n)},{equals:z_})),v2e=Be(e=>Oe(()=>{var v,y;const{data:t,isPending:n}=zG(e),{data:r}=Mie(e),i=KY(e),s=X0e(e),o=Qx(e);if(n)return;if(!t)return[];const a=MN(t,r),c=eOe(e),l=$e(e,"1627380539"),u=rn(e,"3401870206").get("hide_use_connectors",!1),{systemHintsByPlan:d,showModelsInPlusMenu:f}=f2e(e),h=a.filter(T=>!(T.systemHint===ae.Think&&c&&(!l||f)||T.systemHint===ae.Slurm&&(!i||u)||T.systemHint===ae.Glaux&&!s||T.systemHint===ae.ApiTool&&!o)),p=(v=B0e(e).systemHintsByPlan)!=null?v:d,g=(y=at(e))==null?void 0:y.planType;return h.sort(O2e(p,g,Zx(e)))},{equals:z_})),JY=Be(e=>Oe(()=>{var p;const t=KY(e);if(!t)return[];const n=Ih(e,{productSku:sn.SLURM}),r=hv(e),{data:i,isLoading:s}=Ec.if$(e,!!t),{data:o,isLoading:a}=s$(e,{fetchValidLinksOnly:!0});if(!n||!r||s||a)return;const l=g2e((p=i==null?void 0:i.connection_statuses)!=null?p:[],g=>g.user_connection_details.connection_instance_id).filter(g=>C2e(g)),d=n.filter(g=>{var m;return(r.some(v=>v.id===g.id)||g.connector_type==="MCP")&&(!((m=g.branding)!=null&&m.is_discoverable_app)||g.conformance.implements_retrievable)&&(o==null?void 0:o.has(g.id))&&!l.some(v=>{var y,T;return v.user_connection_details.backing_link_id===((T=(y=o.get(g.id))==null?void 0:y[0])==null?void 0:T.id)||g.id===Pt[N.GDRIVE_ACTION_CONNECTOR]&&v.user_connection_details.connection_type==="gdrive_sync_connector"})&&![Pt[N.GMAIL_CONNECTOR],Pt[N.GOOGLE_CONTACTS_CONNECTOR],Pt[N.GCAL_CONNECTOR]].includes(g.id)&&g.type!==N.SLACK_CODEX_CONNECTOR&&g.type!==N.SLACK_CODEX_BOT_CONNECTOR}).map(g=>y2e(g)),f=l.map(g=>b2e(g));return[...MN(d,f)].sort((g,m)=>g.name.localeCompare(m.name))},{equals:z_})),V9e=Be(e=>Oe(()=>!JY(e)));function MN(e,t){if(!t||t.length===0)return e;const n=new Map;return e.forEach(r=>{n.set(r.systemHint,r)}),t.forEach(r=>{n.set(r.systemHint,r)}),Array.from(n.values())}const y2e=eo(e=>{var t,n,r,i;return{systemHint:bG(e.id),aliases:DN(e.name,e.service),name:e.name,actionLabel:e.name,shortLabel:e.name,description:(t=e.description)!=null?t:e.name,logo:(n=e.logo_url)!=null?n:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],composerBarButtonInfo:void 0,suggestedPrompt:void 0,isAuto:!1,category:"tool",persistBetweenMessages:!0,requiresOptIn:e.status==="ONLY_ME",isConnector:!0,keywordInvocations:XY(e.name,e.service),hideFromInitialSelection:!1,badgeType:E2e(e),isDangerous:e.status==="ONLY_ME",connectorLogoUrl:(r=e.logo_url)!=null?r:void 0,connectorLogoUrlDark:(i=e.logo_url_dark)!=null?i:void 0}});function C2e(e){const t=e.user_connection_details.connection_type;return _2e.has(t)?!1:m2e.has(t)?!(t==="sharepoint_sync_connector"&&e.user_connection_details.activation_status!=="activated"||!["partially_activated","activating","activated"].includes(e.user_connection_details.activation_status)):S2e(e)}const b2e=eo(e=>{var i,s,o,a;const{connection_type:t}=e.user_connection_details,n=e.connection_display_info,r=dfe(e);return{systemHint:bG(t),aliases:DN(r,t!=null?t:void 0),name:r,actionLabel:r,shortLabel:r,description:(i=n.description)!=null?i:r,logo:(s=n.icon_url)!=null?s:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],composerBarButtonInfo:void 0,suggestedPrompt:void 0,isAuto:!1,category:"tool",persistBetweenMessages:!0,requiresOptIn:!1,isConnector:!0,keywordInvocations:XY(r,t!=null?t:void 0),hideFromInitialSelection:!1,badgeText:void 0,isDangerous:!1,connectorLogoUrl:(o=n.icon_url)!=null?o:void 0,connectorLogoUrlDark:(a=n.icon_dark_url)!=null?a:void 0}});function DN(...e){const t=new Set;return e.forEach(n=>{n&&(t.add(n),t.add(n.toLowerCase()))}),Array.from(t)}function XY(...e){return DN(...e)}function E2e(e){if(e.connector_type==="MCP")return e.status==="ONLY_ME"?Qp.DEV:e.supports_full_actions&&e.status==="ENABLED"?Qp.BETA:Qp.CUSTOM}function S2e(e){switch(e.user_connection_details.activation_status){case"activated":case"partially_activated":return!0;case"activating":case"inactive":return!1}}function O2e(e,t,n){const r=T2e(e,t),i=r&&r.length>0?r:w2e(t,n);return(s,o)=>{const a=i.indexOf(s.systemHint),c=i.indexOf(o.systemHint),l=a===-1?Number.MAX_SAFE_INTEGER:a,u=c===-1?Number.MAX_SAFE_INTEGER:c;return l===u?0:l>u?1:-1}}function T2e(e,t){if(t===be.FREE)return e.free;if(t===be.PRO)return e.pro;if(t===be.PLUS)return e.plus;if(t===be.GO)return e.go}function w2e(e,t){switch(e){case void 0:case be.FREE:return[ae.PictureV2,ae.Picture,ae.Think,ae.Agent,ae.Research,ae.Tatertot,ae.Slurm,ae.Search,ae.Canvas,ae.Video];case be.K12:case be.EDUCATION_CBP:case be.DEPRECATED_EDU:return[ae.ApiTool,ae.Tatertot,ae.PictureV2,ae.Picture,ae.Think,ae.Agent,ae.Research,t?ae.Glaux:ae.Slurm,ae.Search,ae.Canvas,ae.Video];case be.GO:case be.PLUS:case be.PRO:return[ae.ApiTool,ae.Research,ae.PictureV2,ae.Picture,ae.Think,ae.Agent,ae.Slurm,ae.Tatertot,ae.Search,ae.Canvas,ae.Video];case be.ENTERPRISE_CBP:case be.FREE_WORKSPACE:case be.SELF_SERVE_BUSINESS:case be.QUORUM:case be.DEPRECATED_ENTERPRISE:return[ae.ApiTool,t?ae.Glaux:ae.Slurm,ae.Research,ae.Think,ae.Agent,ae.PictureV2,ae.Picture,ae.Search,ae.Canvas,ae.Video]}}const A2e=/^\/g\/[^/]+\/project(?:\/|$)|\/g\/g-p-[^/]+\/c\/[^/]+/;function x2e(e){var r,i;const t=eI(e),n=(i=(r=t[t.length-1])==null?void 0:r.location.pathname)!=null?i:typeof window<"u"?window.location.pathname:void 0;return n?A2e.test(n):!1}let I2e=0;const QY=E.createContext(null);function N2e({children:e}){const[t]=E.useState(()=>({}));return E.createElement(QY.Provider,{value:t},e)}function LN(e){var i;if(e===void 0)return LN;const t=typeof e=="function"?e:()=>e;let n;const r=E.createContext(null);return i=class{static useState(o=R2e,a){return PN(this.useStore(),o,a)}static useStore(){return this.useStoreWithInit()}static useStoreSignal(){const o=this.useStore();if(this.storeSignalMap.has(o))return this.storeSignalMap.get(o);const a=r_(o);return this.storeSignalMap.set(o,a),a}static useStoreWithInit(...o){var u;const a=E.useContext(r),c=E.useContext(QY);if(a)return a;const l=(u=this.name)!=null?u:"Store";if(!c)throw new Error("No StoreScope found. Must use ".concat(l," within a <StoreScopeProvider> or <").concat(l,".Provider>."));if(n||(n="".concat(l,":").concat(I2e++)),n in c)return c[n];if(typeof t=="function"&&t.length>0&&o.length===0)throw new Error("Not initialized. First call ".concat(l,".useStoreWithInit(value) or <").concat(l,".Provider store={() => new ").concat(l,"(value)}>"));return c[n]=new this(...o)}static Provider({store:o,children:a}){const[c]=E.useState(o);return E.createElement(r.Provider,{value:c},a)}constructor(o){const a=t(o);Object.assign(this,Ic(typeof a=="function"?a:()=>a))}},U(i,"storeSignalMap",new WeakMap),i}function R2e(e){return e}const Ha=e=>{var n;const t={turn_index:(n=e.turnIndex)==null?void 0:n.toString(),thread_id:e.threadId,conversation_id:e.clientThreadId?dx(e.clientThreadId):void 0,message_id:e==null?void 0:e.messageId};return Object.fromEntries(Object.entries(t).filter(([r,i])=>i!==void 0))};var P2e=(e=>(e.ANNUAL="Annual",e.MONTHLY="Monthly",e))(P2e||{}),ZY=(e=>(e.SLASH_COMMAND="slash_command",e))(ZY||{}),k2e=(e=>(e.CONVERSATION_COMPOSER_WEB_ICON="conversation_composer_web_icon",e.CONVERSATION_COMPOSER_TOOL_MENU="conversation_composer_tool_menu",e.CONVERSATION_COMPOSER_SLASH_SEARCH="conversation_composer_slash_search",e.CONVERSATION_REGENERATE_WITH_SEARCH="conversation_regenerate_with_search",e.CONVERSATION_REGENERATE_WITHOUT_SEARCH="conversation_regenerate_without_search",e.URL_SEARCH_HINT="url_search_hint",e.URL_NO_SEARCH_HINT="url_no_search_hint",e.SAFARI_MACOS_BROWSER_BAR="safari_macos_browser_bar",e.SAFARI_IOS_BROWSER_BAR="safari_ios_browser_bar",e.CHROME_BROWSER_BAR="chrome_browser_bar",e))(k2e||{});function M2e(e,t=1e3,n=100){document.activeElement!==e&&e.focus();const r=Date.now(),i=setInterval(()=>{document.activeElement!==e&&e.focus(),Date.now()-r>=t&&clearInterval(i)},n)}class gs extends LN()(({initialHint:n=null,locked:r=!1})=>({locked:r,activeSystemHintType:n,activeConnectorSystemTypes:new Set,activeSystemHintTrigger:void 0})){constructor(){super(...arguments);U(this,"getActiveSystemHintType",()=>this.getState().activeSystemHintType);U(this,"getActiveConnectorSystemTypes",()=>this.getState().activeConnectorSystemTypes);U(this,"addConnectorSystemHint",(n,r,i,s)=>{var u,d,f;const{activeSystemHintType:o,activeConnectorSystemTypes:a,locked:c}=this.getState();if(c&&(i==null?void 0:i.locked)===void 0||(i==null?void 0:i.ifPrevSystemHint)!==void 0&&i.ifPrevSystemHint!==o)return;const l=new Set((u=r==null?void 0:r.filter(h=>h.isDangerous).map(h=>h.systemHint))!=null?u:[]);if(!a.has(n)){if(s)this.setState({activeConnectorSystemTypes:new Set([...a,n])});else if(l&&l.has(n)){const h=new Set([...a,n].filter(p=>l.has(p)));this.setState({activeConnectorSystemTypes:h})}else if(l){const h=new Set([...a,n].filter(p=>!l.has(p)));this.setState({activeConnectorSystemTypes:h})}(i==null?void 0:i.triggerSource)===ZY.SLASH_COMMAND&&OS(n,dg.SlashCommand,Ha((d=i==null?void 0:i.analyticsMetadata)!=null?d:{})),OS(n,dg.Enable,Ha((f=i==null?void 0:i.analyticsMetadata)!=null?f:{}))}kl(o)||this.setActiveSystemHint(oA,r,i)});U(this,"removeConnectorSystemHint",(n,r)=>{var a;const{activeSystemHintType:i,activeConnectorSystemTypes:s,locked:o}=this.getState();if(!(o&&(r==null?void 0:r.locked)===void 0||(r==null?void 0:r.ifPrevSystemHint)!==void 0&&r.ifPrevSystemHint!==i)&&s.has(n)){const c=new Set(s);c.delete(n),OS(n,dg.Disable,Ha((a=r==null?void 0:r.analyticsMetadata)!=null?a:{})),this.setState({activeSystemHintType:kl(i)&&c.size===0?null:i,activeConnectorSystemTypes:c})}});U(this,"getPersistedSystemHintTrigger",n=>{if(!this.getState().locked&&this.getState().activeSystemHintType===n)return this.getState().activeSystemHintTrigger})}setActiveSystemHint(n,r,i,s){var l;const{locked:o,activeSystemHintType:a,activeConnectorSystemTypes:c}=this.getState();if(!(o&&(i==null?void 0:i.locked)===void 0||(i==null?void 0:i.ifPrevSystemHint)!==void 0&&i.ifPrevSystemHint!==a)){if($g(n)){this.addConnectorSystemHint(n,r!=null?r:[],i,s);return}L2e(a,n,i==null?void 0:i.analyticsMetadata,i==null?void 0:i.triggerSource),this.setState({locked:(l=i==null?void 0:i.locked)!=null?l:o,activeSystemHintType:n,activeSystemHintTrigger:n?i==null?void 0:i.triggerSource:void 0,activeConnectorSystemTypes:kl(n)?c:new Set})}}}const H9e=()=>{"use forget";return gs.useState(W2e)},z9e=()=>{"use forget";return gs.useState(q2e)};function Y9e(){"use forget";const e=H.c(2),t=gs.useStoreSignal();let n;return e[0]!==t?(n=Oe(()=>t().activeSystemHintType),e[0]=t,e[1]=n):n=e[1],n}function D2e(e,t,n,r,i,s){e.setActiveSystemHint(n,r,i,s),D7()&&n&&M2e(lu(t).dom)}const K9e=()=>{"use forget";var l;const e=H.c(9),t=re(),n=gs.useStore(),r=Mye();let i;e[0]!==t?(i=()=>kN(t),e[0]=t,e[1]=i):i=e[1];const s=Fe(i);let o;e[2]!==t?(o=(l=at(t))==null?void 0:l.isWorkspacePlan(),e[2]=t,e[3]=o):o=e[3];const a=o;let c;return e[4]!==r||e[5]!==a||e[6]!==n||e[7]!==s?(c=(u,d)=>D2e(n,r,u,s,d,a),e[4]=r,e[5]=a,e[6]=n,e[7]=s,e[8]=c):c=e[8],c},J9e=()=>{"use forget";var c;const e=H.c(8),t=re(),n=gs.useStore();let r;e[0]!==t?(r=()=>kN(t),e[0]=t,e[1]=r):r=e[1];const i=Fe(r);let s;e[2]!==t?(s=(c=at(t))==null?void 0:c.isWorkspacePlan(),e[2]=t,e[3]=s):s=e[3];const o=s;let a;return e[4]!==o||e[5]!==n||e[6]!==i?(a=(l,u)=>n.addConnectorSystemHint(l,i!=null?i:[],u,o),e[4]=o,e[5]=n,e[6]=i,e[7]=a):a=e[7],a},X9e=()=>{"use forget";const e=H.c(2),t=gs.useStore();let n;return e[0]!==t?(n=(r,i)=>t.removeConnectorSystemHint(r,i),e[0]=t,e[1]=n):n=e[1],n};function h4({persistSearchMode:e,persistTatertotMode:t,persistAgentMode:n,forcedSystemHintType:r,completionMetadataHints:i,systemHintsFromSearchParams:s}){return r||(s.length>0?s[0]:e?ae.Search:t?ae.Tatertot:n?ae.Agent:i?i[0]:null)}function L2e(e,t,n,r){var i,s;t?($2(t,U1.Enable,Ha(n!=null?n:{})),t===ae.Agent&&Q.addAction("agent.hint.enabled",{client_thread_id:String((i=n==null?void 0:n.clientThreadId)!=null?i:"")})):e&&($2(e,U1.Disable,Ha(n!=null?n:{})),e===ae.Agent&&Q.addAction("agent.hint.disabled",{client_thread_id:String((s=n==null?void 0:n.clientThreadId)!=null?s:"")})),t===ae.Search?Se.logEventWithStatsig("Search Mode Engaged","search_mode_engaged",I(S({},Ha(n!=null?n:{})),{triggerSource:r})):t==null&&e===ae.Search&&Se.logEventWithStatsig("Search Mode Disabled","search_mode_disabled",Ha(n!=null?n:{}))}function Q9e(e){"use forget";var He,Re;const t=H.c(75),{children:n,conversation:r,forcedSystemHintType:i}=e,s=re(),[o]=wc();let a;t[0]!==s?(a=Mi(s),t[0]=s,t[1]=a):a=t[1];const c=a;let l;t[2]!==s?(l=()=>kN(s),t[2]=s,t[3]=l):l=t[3];const u=Fe(l);let d;t[4]!==o||t[5]!==u?(d=T$(o,{availableHints:u}),t[4]=o,t[5]=u,t[6]=d):d=t[6];const f=d;let h;t[7]!==r?(h=()=>pbe(r),t[7]=r,t[8]=h):h=t[8];const p=Fe(h);let g;t[9]!==p.enabledTools?(g=(He=p.enabledTools)==null?void 0:He.includes(_G.Search),t[9]=p.enabledTools,t[10]=g):g=t[10];const m=!!g;let v;t[11]!==r?(v=()=>{var _e;return(_e=D0e(r))!=null?_e:[]},t[11]=r,t[12]=v):v=t[12];const y=Fe(v),T=yh(r.id,j2e),b=c&&T;let C;t[13]!==y||t[14]!==m||t[15]!==b?(C=!b&&(y==null?void 0:y.includes(ae.Search))&&m,t[13]=y,t[14]=m,t[15]=b,t[16]=C):C=t[16];const O=C;let w;t[17]!==s||t[18]!==y?(w=(y==null?void 0:y.includes(ae.Tatertot))&&b0e(s),t[17]=s,t[18]=y,t[19]=w):w=t[19];const A=w;let x;t[20]!==s||t[21]!==y?(x=y.includes(ae.Agent)&&l$(s),t[20]=s,t[21]=y,t[22]=x):x=t[22];const R=x;let P;t[23]===Symbol.for("react.memo_cache_sentinel")?(P=[],t[23]=P):P=t[23];let L=P,D,F;if(t[24]!==y||t[25]!==u){let _e;t[28]!==u?(_e=pe=>{var j;return(j=u==null?void 0:u.find(Qe=>Qe.systemHint===pe))==null?void 0:j.persistBetweenMessages},t[28]=u,t[29]=_e):_e=t[29],D=y.find(_e),F=$g(D),t[24]=y,t[25]=u,t[26]=D,t[27]=F}else D=t[26],F=t[27];if(F){D=oA;let _e;if(t[30]!==y||t[31]!==u){let pe;t[33]!==u?(pe=j=>{var Qe;return $g(j)&&((Qe=u==null?void 0:u.find(Pe=>Pe.systemHint===j))==null?void 0:Qe.persistBetweenMessages)},t[33]=u,t[34]=pe):pe=t[34],_e=y.filter(pe),t[30]=y,t[31]=u,t[32]=_e}else _e=t[32];L=_e}let G;t[35]!==L||t[36]!==D?(G=[D,L],t[35]=L,t[36]=D,t[37]=G):G=t[37];const[Y,V]=G;let M;t[38]!==r?(M=()=>hCe(r),t[38]=r,t[39]=M):M=t[39];const te=Fe(M);let $;t[40]!==te||t[41]!==i||t[42]!==R||t[43]!==O||t[44]!==A||t[45]!==f?($=()=>{const _e=h4({persistSearchMode:O,persistTatertotMode:A,persistAgentMode:R,forcedSystemHintType:i,completionMetadataHints:te,systemHintsFromSearchParams:f});return new gs({initialHint:_e,locked:i!=null})},t[40]=te,t[41]=i,t[42]=R,t[43]=O,t[44]=A,t[45]=f,t[46]=$):$=t[46];const[ie]=E.useState($),ue=E.useRef(r.id);let me;t[47]!==f?(me=f.join(","),t[47]=f,t[48]=me):me=t[48];const J=me,K=E.useRef(J);let ne;t[49]!==s?(ne=(Re=at(s))==null?void 0:Re.isWorkspacePlan(),t[49]=s,t[50]=ne):ne=t[50];const X=ne;let ee,ye;t[51]!==te||t[52]!==V||t[53]!==r.id||t[54]!==i||t[55]!==R||t[56]!==O||t[57]!==A||t[58]!==X||t[59]!==ie||t[60]!==J||t[61]!==b||t[62]!==Y||t[63]!==u||t[64]!==f?(ee=()=>{const _e=()=>{const j=h4({persistSearchMode:O,persistTatertotMode:A,persistAgentMode:R,forcedSystemHintType:i,completionMetadataHints:te,systemHintsFromSearchParams:f});ie.setActiveSystemHint(j,u,{locked:i!=null},X),K.current=J};ue.current!==r.id?(ie.setActiveSystemHint(null),_e(),ue.current=r.id):f.length>0&&J!==K.current&&i==null&&!ie.getState().locked&&_e();const pe=ie.getActiveSystemHintType();O&&pe!==ae.Search?ie.setActiveSystemHint(ae.Search,u,{analyticsMetadata:{clientThreadId:r.id}},X):A&&pe!==ae.Tatertot?ie.setActiveSystemHint(ae.Tatertot,u,{analyticsMetadata:{clientThreadId:r.id}},X):Y&&((Y!==ae.Search||!b)&&ie.setActiveSystemHint(Y,u,{analyticsMetadata:{clientThreadId:r.id}},X),V.forEach(j=>{ie.addConnectorSystemHint(j,u,{analyticsMetadata:{clientThreadId:r.id}},X)}))},ye=[r.id,te,i,O,A,R,ie,Y,V,f,J,u,X,b],t[51]=te,t[52]=V,t[53]=r.id,t[54]=i,t[55]=R,t[56]=O,t[57]=A,t[58]=X,t[59]=ie,t[60]=J,t[61]=b,t[62]=Y,t[63]=u,t[64]=f,t[65]=ee,t[66]=ye):(ee=t[65],ye=t[66]),E.useEffect(ee,ye);const de=E.useRef(i);let oe,Ee;t[67]!==i||t[68]!==ie||t[69]!==u?(oe=()=>{if(u==null||u.length===0){de.current=i;return}const _e=i!=null?u.find(pe=>pe.systemHint===i):void 0;i!=null&&_e!=null?ie.setActiveSystemHint(i,u,{locked:!0}):ie.getState().locked&&ie.setActiveSystemHint(null,u,{locked:!1}),de.current=i},Ee=[u,ie,i],t[67]=i,t[68]=ie,t[69]=u,t[70]=oe,t[71]=Ee):(oe=t[70],Ee=t[71]),E.useEffect(oe,Ee);let Ae;return t[72]!==n||t[73]!==ie?(Ae=_.jsx(gs.Provider,{store:ie,children:n}),t[72]=n,t[73]=ie,t[74]=Ae):Ae=t[74],Ae}function j2e(e){if(!e)return!1;const t=Me.getConversationTurns(e),n=t.findIndex(U2e),r=DW(t,F2e);return n!==-1&&n===r}function F2e(e){return e.role===Ke.User}function U2e(e){return e.role===Ke.User}function B2e(e){"use forget";const t=H.c(3),{children:n}=e,[r]=E.useState(G2e);let i;return t[0]!==n||t[1]!==r?(i=_.jsx(gs.Provider,{store:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}function G2e(){return new gs({initialHint:null,locked:!0})}const Z9e=e=>{const t=e.getActiveSystemHintType(),n=e.getActiveConnectorSystemTypes();return kl(t)?[...n]:t?[t]:[]};function W2e(e){return e.activeSystemHintType}function q2e(e){return e.activeConnectorSystemTypes}function V2e(e){"use forget";const{children:t,fallback:n}=e,r=n===void 0?null:n;return l_()?t:r}var Vl,Ao;class $2e{constructor(){Nt(this,Vl);Nt(this,Ao,t=>(he(this,Vl)||Ut(this,Vl,k(()=>import("./kfrdmkli83ureki3.js").then(n=>n.au),[]).then(n=>n==null?void 0:n.datadogLogs)),he(this,Vl).then(n=>n&&t(n))))}init(t){he(this,Ao).call(this,n=>n.init(t))}setGlobalContextProperty(t,n){he(this,Ao).call(this,r=>r.setGlobalContextProperty(t,n))}setUser(t){he(this,Ao).call(this,n=>n.setUser(t))}get logger(){return{setHandler:t=>{he(this,Ao).call(this,n=>n.logger.setHandler(t))}}}createLogger(t,n){return new H2e(he(this,Ao),t,n)}}Vl=new WeakMap,Ao=new WeakMap;var Uf,Vr;class H2e{constructor(t,n,r){Nt(this,Uf);Nt(this,Vr,t=>he(this,Uf).then(n=>n&&t(n)));Ut(this,Uf,t(i=>i.createLogger(n,r)))}ok(t,n,r){he(this,Vr).call(this,i=>i.ok(t,n,r))}debug(t,n,r){he(this,Vr).call(this,i=>i.debug(t,n,r))}info(t,n,r){he(this,Vr).call(this,i=>i.info(t,n,r))}notice(t,n,r){he(this,Vr).call(this,i=>i.notice(t,n,r))}warn(t,n,r){he(this,Vr).call(this,i=>i.warn(t,n,r))}error(t,n,r){he(this,Vr).call(this,i=>i.error(t,n,r))}critical(t,n,r){he(this,Vr).call(this,i=>i.critical(t,n,r))}alert(t,n,r){he(this,Vr).call(this,i=>i.alert(t,n,r))}emerg(t,n,r){he(this,Vr).call(this,i=>i.emerg(t,n,r))}}Uf=new WeakMap,Vr=new WeakMap;const sl=new $2e,z2e="datadoghq.com",Y2e="pub1f79f8ac903a5872ae5f53026d20a77c";class K2e{initialize(){var r;const t=Gm?(r=ot==null?void 0:ot.getTelemetryConfig)==null?void 0:r.call(ot):void 0,n=t!==void 0?t.datadogService:XJ();sl.init({clientToken:Y2e,site:z2e,service:n,env:"prod",version:"7b4ad770564e1a05033d9481af8a607f0f63bc7b",sessionSampleRate:100,forwardErrorsToLogs:!1,beforeSend:i=>(i.view.url=Id(i.view.url),i.http&&i.http.url&&(i.http.url=Id(i.http.url)),!0)}),sl.setGlobalContextProperty("track","stable"),sl.setGlobalContextProperty("is_electron_desktop_app",t!==void 0),sl.logger.setHandler(["http"])}setUser(t,n){var i;const r={user_id:t.id,account_plan_type:(i=n==null?void 0:n.planType)!=null?i:"none",workspace_id:n==null?void 0:n.id};sl.setUser(r)}createLogger(t,n="info",r="http",i){return sl.createLogger(t,{level:n,handler:r,context:i})}}const p4=new K2e;function eK(e){const t=new URL(window.location.href);if(!t.searchParams.has(e))return;t.searchParams.delete(e);const n=t.pathname+t.search+t.hash;history.replaceState(null,"",n)}let g4=!1;if(RB()){const e=(function(){return window.location.pathname!=="/search"?void 0:{sessionSampleRate:100,traceSampleRate:100}})();Q.initialize(e)}function J2e(e,t,n){if(n){const r=De.getCookie(Te.Workspace),i=r===Fs?void 0:r,s=n.structure===er.WORKSPACE?n.id:void 0;i!==s&&Q.addAction("bootstrap_client.account_cookie_mismatch",{accountCookieValue:r,lightAccount:n})}$6(()=>!Fd(e).isLoading&&Fd(e).data!=null,()=>{const r=Pi(Fd(e).data),i=A7(r),s=De.getCookie(Te.Workspace),o=Phe(i,r.accountItems);s!==o&&f1(o)})}function X2e(e,t,n){var i;if(g4)return;g4=!0;const r=hr(e);if(r.checkGate("4011688770")&&k(()=>import("./fsp9mrnpm2kgku9u.js"),__vite__mapDeps([110,3,1,4])).then(s=>s==null?void 0:s.initOpenTelemetry()),r.on("gate_evaluation",({gate:s})=>{Q.addFeatureFlagEvaluation(s.name,s.value)}),eK("refresh_account"),window.addEventListener("vite:preloadError",s=>{$e(e,"2590364241")||s.preventDefault(),Q.addAction("vite:preloadError",{payload:s.payload})}),ri(),_se(),Q.addTiming("chatgpt.web.bootstrapClient",{serialTimingGroup:"pageLoad"}),Q.addAction("bootstrap_client.start"),RB()&&(p4.initialize(),UX(e)),t.authStatus===Jl.LoggedIn){const s=t.user,o=(i=t.session)==null?void 0:i.account;Q.addAction("bootstrap_client.has_session_user"),J2e(e,n,o),Qre(s,o,t.intercomHash),Q.setUser(s,o),p4.setUser(s,o),Se.initialize({userInfo:{currentAccount:o!=null?o:null,sessionUser:s}}),Q.addAction("bootstrap_client.success.is_authenticated",{hasCurrentAccount:!0})}else Q.addAction("bootstrap_client.does_not_have_session_user"),Se.initialize(),Q.addAction("bootstrap_client.success.is_not_authenticated");fetch("".concat(Je,"/edge")).catch(()=>{})}function Q2e({root:e,autoFocus:t=!1}){if(!e)return null;const n=["a[href]:not([data-skip-to-content])","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(", "),r=Array.from(e.querySelectorAll(n));let i=null;for(const s of r)if(s.offsetWidth>0&&s.offsetHeight>0){i=s;break}return t&&(i==null||i.focus()),i}const Z2e=e=>({country:xt(e).userCountry});function m4(e){return e!=null&&e in DX}const u0=3600*24*30*6,tK=e=>{De.setBooleanCookie(Te.ConsentAnalytics,e.consent_analytics,{maxAge:u0,domain:Yv}),De.setBooleanCookie(Te.ConsentMarketing,e.consent_marketing,{maxAge:u0,domain:Yv}),De.setBooleanCookie(Te.AllowNonessential,e.consent_analytics&&e.consent_marketing,{maxAge:u0,domain:Yv}),Q.addAction("update-cookie-consent.cookie.success")};async function nK(e){if(tK(e),xt(At()).authStatus===Jl.LoggedIn)try{await Z.safePost("/user_granular_consent",{authOption:en.Required,requestBody:{granular_consent:{analytics:e.consent_analytics,marketing:e.consent_marketing}}}),Q.addAction("update-cookie-consent.backend.success")}catch(n){Q.addError(n)}}const Av=En({queryKey:["cookie-consent"],queryFn:async()=>{var s,o,a,c;const{isUserInPioneerHR:e,userCountry:t}=xt(Pi(At()));if(!e){const l=De.getBooleanCookie(Te.ConsentAnalytics),u=De.getBooleanCookie(Te.ConsentMarketing);return l!=null||u!=null?{consent_analytics:l!=null?l:!1,consent_marketing:u!=null?u:!1,is_consent_required:!0}:(Q.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1})}if(t!=null&&!m4(t))return Q.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1};if(m4(t)&&!e)return Q.addAction("get-cookie-consent.use-anonymous-default.consent-required-essential-only",{country:t}),{consent_analytics:!1,consent_marketing:!1,is_consent_required:!0};let n;try{const l=await Z.safeGet("/user_granular_consent",{authOption:en.Required});n={consent_analytics:(o=(s=l.granular_consent)==null?void 0:s.analytics)!=null?o:null,consent_marketing:(c=(a=l.granular_consent)==null?void 0:a.marketing)!=null?c:null,is_consent_required:l.is_consent_required},Q.addAction("get-cookie-consent.use-authenticated",{country:t})}catch(l){l instanceof m_||Q.addError(l,{country:t}),n={consent_analytics:null,consent_marketing:null,is_consent_required:!0}}const r=De.getBooleanCookie(Te.ConsentAnalytics),i=De.getBooleanCookie(Te.ConsentMarketing);return n.consent_analytics!=null&&n.consent_marketing!=null&&(r!==n.consent_analytics||i!==n.consent_marketing)?(tK({consent_analytics:n.consent_analytics,consent_marketing:n.consent_marketing}),Q.addAction("get-cookie-consent.update-cookie-consent-cookie",{country:t})):r!==void 0&&i!==void 0&&n.is_consent_required&&n.consent_analytics==null&&n.consent_marketing==null&&(nK({consent_analytics:r!=null?r:!1,consent_marketing:i!=null?i:!1}),Q.addAction("get-cookie-consent.update-cookie-consent-backend",{country:t}),n=I(S({},n),{consent_analytics:r!=null?r:!1,consent_marketing:i!=null?i:!1})),n}}),eHe=e=>{const t=re(),{country:n}=Z2e(t),r=Yt();return Kt(I(S({},e),{mutationFn:i=>nK(i),onSuccess:(i,s,o)=>{var a;(a=e==null?void 0:e.onSuccess)==null||a.call(e,i,s,o),r.setQueryData(Av.queryKey,c=>{if(!c){Q.addError(new Error("Cookie consent query data is undefined during mutation"));return}return I(S({},c),{consent_analytics:s.consent_analytics,consent_marketing:s.consent_marketing})})},onError:(i,s,o)=>{var a;(a=e==null?void 0:e.onError)==null||a.call(e,i,s,o),Q.addError(i,{country:n})}}))},Ji=class Ji extends LN()(()=>{var n;return{cookieConsentBannerClosed:!1,cookieConsentBannerIgnored:(n=De.getBooleanCookie(Te.CookieBannerIgnored))!=null?n:!1,onCloseSideEffect:()=>{},manuallySetVisibility:!1}}){constructor(){super(...arguments);U(this,"closeCookieConsentBanner",n=>{const r=S({cookieConsentBannerClosed:!0},n?{cookieConsentBannerIgnored:!0}:{});this.setState(r),n&&De.setBooleanCookie(Te.CookieBannerIgnored,!0)});U(this,"setOnCloseSideEffect",n=>{this.setState(r=>I(S({},r),{onCloseSideEffect:n}))});U(this,"setManualVisibility",n=>{this.setState(r=>I(S({},r),{manuallySetVisibility:n}))})}};U(Ji,"useWasClosed",()=>Ji.useState(n=>n.cookieConsentBannerClosed)),U(Ji,"useWasIgnored",()=>Ji.useState(n=>n.cookieConsentBannerIgnored)),U(Ji,"useOnCloseSideEffect",()=>Ji.useState(n=>n.onCloseSideEffect)),U(Ji,"useManuallySetVisibility",()=>Ji.useState(n=>n.manuallySetVisibility));let Qd=Ji;const tHe=()=>{const e=re(),t=Qd.useStore(),n=!St(e),{data:r,isLoading:i}=Xt(Av),s=Qd.useWasClosed(),o=Qd.useWasIgnored(),a=i,l=!a&&n&&!(s||o)&&(r==null?void 0:r.is_consent_required)&&(r==null?void 0:r.consent_analytics)==null&&(r==null?void 0:r.consent_marketing)==null;return{shouldShowCookieBanner:l!=null?l:!1,isCookieConsentBannerLoading:a,closeCookieConsentBanner:t.closeCookieConsentBanner,ignoreCookieConsentBanner:()=>t.closeCookieConsentBanner(!0)}};var Da=(e=>(e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.Msclkid="msclkid",e))(Da||{});function nHe(e){switch(e){case"gclid":return De.getMarketingCookie(Te.Gclid);case"fbclid":return De.getMarketingCookie(Te.Fbclid);case"rdt_cid":return De.getMarketingCookie(Te.Rdtcid);case"ttclid":return De.getMarketingCookie(Te.Tiktokclid);case"li_fat_id":return De.getMarketingCookie(Te.Liclid);case"msclkid":return De.getMarketingCookie(Te.Msclkid)}}function eje(e){switch(e){case"gclid":return Te.Gclid;case"fbclid":return Te.Fbclid;case"rdt_cid":return Te.Rdtcid;case"ttclid":return Te.Tiktokclid;case"li_fat_id":return Te.Liclid;case"msclkid":return Te.Msclkid}}function tje({searchParams:e,clidLifetimeSeconds:t=1440*60,eligibleExplorers:n}){for(const r of n){if(e.get(r)==null)continue;const i=eje(r),s=e.get(r);De.setMarketingCookie(i,s,{path:"/",maxAge:t})}}let rK=!1;const nje=e=>{const t=xt(e);if(!t.eligibleMarketing)return;const n=new URLSearchParams(window.location.search);tje({searchParams:n,eligibleExplorers:[...t.eligibleMarketing.isUserEligibleForPioneer?[Da.Gclid]:[],...t.eligibleMarketing.isUserEligibleForMaverick?[Da.Fbclid]:[],...t.eligibleMarketing.isUserEligibleForTrailBlazer?[Da.Rdtcid]:[],...t.eligibleMarketing.isUserEligibleForStratos?[Da.Tiktokclid]:[],...t.eligibleMarketing.isUserEligibleForSeeker?[Da.Liclid]:[],...t.eligibleMarketing.isUserEligibleForWayfinder?[Da.Msclkid]:[]]}),rK=!0},rje=(e,t)=>{const n=xt(e).userCountry;new yB(t,Av).subscribe(i=>{if(i.isPending)return;const s=i.data;if(!s)return;(s.is_consent_required?s.consent_marketing:!0)?(De.setAllowMarketingCookies_CLIENT_ONLY(!0),Q.addAction("marketing-tracking.non-essential-cookies.allowed",{country:n}),rK||(nje(e),Q.addAction("marketing-tracking.non-essential-cookies.marketing-tracking-functions-run",{country:n}))):(De.setAllowMarketingCookies_CLIENT_ONLY(!1),Q.addAction("marketing-tracking.non-essential-cookies.disallowed",{country:n}))})};async function ije(){if(!("container"in document.documentElement.style)){performance.mark("polyfill.containerQuery.start");try{await k(()=>import("./gdtyl57qnlda5zz4.js"),[])}catch(e){return Q.addError(new Error("Error loading polyfill: containerQuery",{cause:e})),Promise.reject(e)}performance.mark("polyfill.containerQuery.end"),performance.measure("polyfill.containerQuery","polyfill.containerQuery.start","polyfill.containerQuery.end")}}async function sje(){if(!Array.prototype.findLast)try{await k(()=>import("./jg95zh081yf4855z.js"),__vite__mapDeps([111,1]))}catch(e){return Q.addError(new Error("Error loading polyfill: findLast",{cause:e})),Promise.reject(e)}}async function oje(){if(!CSS.supports("animation-timeline: --works")||window.ViewTimeline===void 0){performance.mark("polyfill.scrollTimeline.start");try{await k(()=>import("./eeezjd3114pm20gw.js"),[])}catch(e){return Q.addAction("Error loading polyfill: scrollTimeline",{cause:e}),Promise.reject(e)}performance.mark("polyfill.scrollTimeline.end"),performance.measure("polyfill.scrollTimeline","polyfill.scrollTimeline.start","polyfill.scrollTimeline.end")}}var _4={},v4={},sd,y4;function Sn(){if(y4)return sd;y4=1;var e=function(t){return t&&t.Math===Math&&t};return sd=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof gl=="object"&&gl)||e(typeof sd=="object"&&sd)||(function(){return this})()||Function("return this")(),sd}var d0={},f0,C4;function vs(){return C4||(C4=1,f0=function(e){try{return!!e()}catch(t){return!0}}),f0}var h0,b4;function co(){if(b4)return h0;b4=1;var e=vs();return h0=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),h0}var p0,E4;function xv(){if(E4)return p0;E4=1;var e=vs();return p0=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),p0}var g0,S4;function ys(){if(S4)return g0;S4=1;var e=xv(),t=Function.prototype.call;return g0=e?t.bind(t):function(){return t.apply(t,arguments)},g0}var m0={},O4;function aje(){if(O4)return m0;O4=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return m0.f=n?function(i){var s=t(this,i);return!!s&&s.enumerable}:e,m0}var _0,T4;function iK(){return T4||(T4=1,_0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),_0}var v0,w4;function Br(){if(w4)return v0;w4=1;var e=xv(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return v0=e?r:function(i){return function(){return n.apply(i,arguments)}},v0}var y0,A4;function Iv(){if(A4)return y0;A4=1;var e=Br(),t=e({}.toString),n=e("".slice);return y0=function(r){return n(t(r),8,-1)},y0}var C0,x4;function cje(){if(x4)return C0;x4=1;var e=Br(),t=vs(),n=Iv(),r=Object,i=e("".split);return C0=t(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return n(s)==="String"?i(s,""):r(s)}:r,C0}var b0,I4;function Nv(){return I4||(I4=1,b0=function(e){return e==null}),b0}var E0,N4;function jN(){if(N4)return E0;N4=1;var e=Nv(),t=TypeError;return E0=function(n){if(e(n))throw new t("Can't call method on "+n);return n},E0}var S0,R4;function FN(){if(R4)return S0;R4=1;var e=cje(),t=jN();return S0=function(n){return e(t(n))},S0}var O0,P4;function Un(){if(P4)return O0;P4=1;var e=typeof document=="object"&&document.all;return O0=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},O0}var T0,k4;function lo(){if(k4)return T0;k4=1;var e=Un();return T0=function(t){return typeof t=="object"?t!==null:e(t)},T0}var w0,M4;function Uc(){if(M4)return w0;M4=1;var e=Sn(),t=Un(),n=function(r){return t(r)?r:void 0};return w0=function(r,i){return arguments.length<2?n(e[r]):e[r]&&e[r][i]},w0}var A0,D4;function UN(){if(D4)return A0;D4=1;var e=Br();return A0=e({}.isPrototypeOf),A0}var x0,L4;function Gh(){if(L4)return x0;L4=1;var e=Sn(),t=e.navigator,n=t&&t.userAgent;return x0=n?String(n):"",x0}var I0,j4;function sK(){if(j4)return I0;j4=1;var e=Sn(),t=Gh(),n=e.process,r=e.Deno,i=n&&n.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&t&&(o=t.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=t.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),I0=a,I0}var N0,F4;function oK(){if(F4)return N0;F4=1;var e=sK(),t=vs(),n=Sn(),r=n.String;return N0=!!Object.getOwnPropertySymbols&&!t(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&e&&e<41}),N0}var R0,U4;function aK(){if(U4)return R0;U4=1;var e=oK();return R0=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",R0}var P0,B4;function cK(){if(B4)return P0;B4=1;var e=Uc(),t=Un(),n=UN(),r=aK(),i=Object;return P0=r?function(s){return typeof s=="symbol"}:function(s){var o=e("Symbol");return t(o)&&n(o.prototype,i(s))},P0}var k0,G4;function Rv(){if(G4)return k0;G4=1;var e=String;return k0=function(t){try{return e(t)}catch(n){return"Object"}},k0}var M0,W4;function ma(){if(W4)return M0;W4=1;var e=Un(),t=Rv(),n=TypeError;return M0=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")},M0}var D0,q4;function BN(){if(q4)return D0;q4=1;var e=ma(),t=Nv();return D0=function(n,r){var i=n[r];return t(i)?void 0:e(i)},D0}var L0,V4;function lje(){if(V4)return L0;V4=1;var e=ys(),t=Un(),n=lo(),r=TypeError;return L0=function(i,s){var o,a;if(s==="string"&&t(o=i.toString)&&!n(a=e(o,i))||t(o=i.valueOf)&&!n(a=e(o,i))||s!=="string"&&t(o=i.toString)&&!n(a=e(o,i)))return a;throw new r("Can't convert object to primitive value")},L0}var j0={exports:{}},F0,$4;function Wh(){return $4||($4=1,F0=!1),F0}var U0,H4;function GN(){if(H4)return U0;H4=1;var e=Sn(),t=Object.defineProperty;return U0=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch(i){e[n]=r}return r},U0}var z4;function WN(){if(z4)return j0.exports;z4=1;var e=Wh(),t=Sn(),n=GN(),r="__core-js_shared__",i=j0.exports=t[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.45.1",mode:e?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),j0.exports}var B0,Y4;function lK(){if(Y4)return B0;Y4=1;var e=WN();return B0=function(t,n){return e[t]||(e[t]=n||{})},B0}var G0,K4;function uje(){if(K4)return G0;K4=1;var e=jN(),t=Object;return G0=function(n){return t(e(n))},G0}var W0,J4;function uo(){if(J4)return W0;J4=1;var e=Br(),t=uje(),n=e({}.hasOwnProperty);return W0=Object.hasOwn||function(i,s){return n(t(i),s)},W0}var q0,X4;function uK(){if(X4)return q0;X4=1;var e=Br(),t=0,n=Math.random(),r=e(1.1.toString);return q0=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++t+n,36)},q0}var V0,Q4;function Cs(){if(Q4)return V0;Q4=1;var e=Sn(),t=lK(),n=uo(),r=uK(),i=oK(),s=aK(),o=e.Symbol,a=t("wks"),c=s?o.for||o:o&&o.withoutSetter||r;return V0=function(l){return n(a,l)||(a[l]=i&&n(o,l)?o[l]:c("Symbol."+l)),a[l]},V0}var $0,Z4;function dje(){if(Z4)return $0;Z4=1;var e=ys(),t=lo(),n=cK(),r=BN(),i=lje(),s=Cs(),o=TypeError,a=s("toPrimitive");return $0=function(c,l){if(!t(c)||n(c))return c;var u=r(c,a),d;if(u){if(l===void 0&&(l="default"),d=e(u,c,l),!t(d)||n(d))return d;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),i(c,l)},$0}var H0,e5;function dK(){if(e5)return H0;e5=1;var e=dje(),t=cK();return H0=function(n){var r=e(n,"string");return t(r)?r:r+""},H0}var z0,t5;function fK(){if(t5)return z0;t5=1;var e=Sn(),t=lo(),n=e.document,r=t(n)&&t(n.createElement);return z0=function(i){return r?n.createElement(i):{}},z0}var Y0,n5;function hK(){if(n5)return Y0;n5=1;var e=co(),t=vs(),n=fK();return Y0=!e&&!t(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),Y0}var r5;function pK(){if(r5)return d0;r5=1;var e=co(),t=ys(),n=aje(),r=iK(),i=FN(),s=dK(),o=uo(),a=hK(),c=Object.getOwnPropertyDescriptor;return d0.f=e?c:function(u,d){if(u=i(u),d=s(d),a)try{return c(u,d)}catch(f){}if(o(u,d))return r(!t(n.f,u,d),u[d])},d0}var K0={},J0,i5;function fje(){if(i5)return J0;i5=1;var e=co(),t=vs();return J0=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),J0}var X0,s5;function Bc(){if(s5)return X0;s5=1;var e=lo(),t=String,n=TypeError;return X0=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")},X0}var o5;function qh(){if(o5)return K0;o5=1;var e=co(),t=hK(),n=fje(),r=Bc(),i=dK(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c="enumerable",l="configurable",u="writable";return K0.f=e?n?function(f,h,p){if(r(f),h=i(h),r(p),typeof f=="function"&&h==="prototype"&&"value"in p&&u in p&&!p[u]){var g=a(f,h);g&&g[u]&&(f[h]=p.value,p={configurable:l in p?p[l]:g[l],enumerable:c in p?p[c]:g[c],writable:!1})}return o(f,h,p)}:o:function(f,h,p){if(r(f),h=i(h),r(p),t)try{return o(f,h,p)}catch(g){}if("get"in p||"set"in p)throw new s("Accessors not supported");return"value"in p&&(f[h]=p.value),f},K0}var Q0,a5;function gK(){if(a5)return Q0;a5=1;var e=co(),t=qh(),n=iK();return Q0=e?function(r,i,s){return t.f(r,i,n(1,s))}:function(r,i,s){return r[i]=s,r},Q0}var Z0={exports:{}},eO,c5;function hje(){if(c5)return eO;c5=1;var e=co(),t=uo(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,i=t(n,"name"),s=i&&(function(){}).name==="something",o=i&&(!e||e&&r(n,"name").configurable);return eO={EXISTS:i,PROPER:s,CONFIGURABLE:o},eO}var tO,l5;function qN(){if(l5)return tO;l5=1;var e=Br(),t=Un(),n=WN(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(i){return r(i)}),tO=n.inspectSource,tO}var nO,u5;function pje(){if(u5)return nO;u5=1;var e=Sn(),t=Un(),n=e.WeakMap;return nO=t(n)&&/native code/.test(String(n)),nO}var rO,d5;function gje(){if(d5)return rO;d5=1;var e=lK(),t=uK(),n=e("keys");return rO=function(r){return n[r]||(n[r]=t(r))},rO}var iO,f5;function mK(){return f5||(f5=1,iO={}),iO}var sO,h5;function _K(){if(h5)return sO;h5=1;var e=pje(),t=Sn(),n=lo(),r=gK(),i=uo(),s=WN(),o=gje(),a=mK(),c="Object already initialized",l=t.TypeError,u=t.WeakMap,d,f,h,p=function(y){return h(y)?f(y):d(y,{})},g=function(y){return function(T){var b;if(!n(T)||(b=f(T)).type!==y)throw new l("Incompatible receiver, "+y+" required");return b}};if(e||s.state){var m=s.state||(s.state=new u);m.get=m.get,m.has=m.has,m.set=m.set,d=function(y,T){if(m.has(y))throw new l(c);return T.facade=y,m.set(y,T),T},f=function(y){return m.get(y)||{}},h=function(y){return m.has(y)}}else{var v=o("state");a[v]=!0,d=function(y,T){if(i(y,v))throw new l(c);return T.facade=y,r(y,v,T),T},f=function(y){return i(y,v)?y[v]:{}},h=function(y){return i(y,v)}}return sO={set:d,get:f,has:h,enforce:p,getterFor:g},sO}var p5;function vK(){if(p5)return Z0.exports;p5=1;var e=Br(),t=vs(),n=Un(),r=uo(),i=co(),s=hje().CONFIGURABLE,o=qN(),a=_K(),c=a.enforce,l=a.get,u=String,d=Object.defineProperty,f=e("".slice),h=e("".replace),p=e([].join),g=i&&!t(function(){return d(function(){},"length",{value:8}).length!==8}),m=String(String).split("String"),v=Z0.exports=function(y,T,b){f(u(T),0,7)==="Symbol("&&(T="["+h(u(T),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),b&&b.getter&&(T="get "+T),b&&b.setter&&(T="set "+T),(!r(y,"name")||s&&y.name!==T)&&(i?d(y,"name",{value:T,configurable:!0}):y.name=T),g&&b&&r(b,"arity")&&y.length!==b.arity&&d(y,"length",{value:b.arity});try{b&&r(b,"constructor")&&b.constructor?i&&d(y,"prototype",{writable:!1}):y.prototype&&(y.prototype=void 0)}catch(O){}var C=c(y);return r(C,"source")||(C.source=p(m,typeof T=="string"?T:"")),y};return Function.prototype.toString=v(function(){return n(this)&&l(this).source||o(this)},"toString"),Z0.exports}var oO,g5;function VN(){if(g5)return oO;g5=1;var e=Un(),t=qh(),n=vK(),r=GN();return oO=function(i,s,o,a){a||(a={});var c=a.enumerable,l=a.name!==void 0?a.name:s;if(e(o)&&n(o,l,a),a.global)c?i[s]=o:r(s,o);else{try{a.unsafe?i[s]&&(c=!0):delete i[s]}catch(u){}c?i[s]=o:t.f(i,s,{value:o,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return i},oO}var aO={},cO,m5;function mje(){if(m5)return cO;m5=1;var e=Math.ceil,t=Math.floor;return cO=Math.trunc||function(r){var i=+r;return(i>0?t:e)(i)},cO}var lO,_5;function yK(){if(_5)return lO;_5=1;var e=mje();return lO=function(t){var n=+t;return n!==n||n===0?0:e(n)},lO}var uO,v5;function _je(){if(v5)return uO;v5=1;var e=yK(),t=Math.max,n=Math.min;return uO=function(r,i){var s=e(r);return s<0?t(s+i,0):n(s,i)},uO}var dO,y5;function vje(){if(y5)return dO;y5=1;var e=yK(),t=Math.min;return dO=function(n){var r=e(n);return r>0?t(r,9007199254740991):0},dO}var fO,C5;function CK(){if(C5)return fO;C5=1;var e=vje();return fO=function(t){return e(t.length)},fO}var hO,b5;function yje(){if(b5)return hO;b5=1;var e=FN(),t=_je(),n=CK(),r=function(i){return function(s,o,a){var c=e(s),l=n(c);if(l===0)return!i&&-1;var u=t(a,l),d;if(i&&o!==o){for(;l>u;)if(d=c[u++],d!==d)return!0}else for(;l>u;u++)if((i||u in c)&&c[u]===o)return i||u||0;return!i&&-1}};return hO={includes:r(!0),indexOf:r(!1)},hO}var pO,E5;function Cje(){if(E5)return pO;E5=1;var e=Br(),t=uo(),n=FN(),r=yje().indexOf,i=mK(),s=e([].push);return pO=function(o,a){var c=n(o),l=0,u=[],d;for(d in c)!t(i,d)&&t(c,d)&&s(u,d);for(;a.length>l;)t(c,d=a[l++])&&(~r(u,d)||s(u,d));return u},pO}var gO,S5;function bje(){return S5||(S5=1,gO=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),gO}var O5;function Eje(){if(O5)return aO;O5=1;var e=Cje(),t=bje(),n=t.concat("length","prototype");return aO.f=Object.getOwnPropertyNames||function(i){return e(i,n)},aO}var mO={},T5;function Sje(){return T5||(T5=1,mO.f=Object.getOwnPropertySymbols),mO}var _O,w5;function Oje(){if(w5)return _O;w5=1;var e=Uc(),t=Br(),n=Eje(),r=Sje(),i=Bc(),s=t([].concat);return _O=e("Reflect","ownKeys")||function(a){var c=n.f(i(a)),l=r.f;return l?s(c,l(a)):c},_O}var vO,A5;function Tje(){if(A5)return vO;A5=1;var e=uo(),t=Oje(),n=pK(),r=qh();return vO=function(i,s,o){for(var a=t(s),c=r.f,l=n.f,u=0;u<a.length;u++){var d=a[u];!e(i,d)&&!(o&&e(o,d))&&c(i,d,l(s,d))}},vO}var yO,x5;function bK(){if(x5)return yO;x5=1;var e=vs(),t=Un(),n=/#|\.prototype\./,r=function(c,l){var u=s[i(c)];return u===a?!0:u===o?!1:t(l)?e(l):!!l},i=r.normalize=function(c){return String(c).replace(n,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return yO=r,yO}var CO,I5;function Gc(){if(I5)return CO;I5=1;var e=Sn(),t=pK().f,n=gK(),r=VN(),i=GN(),s=Tje(),o=bK();return CO=function(a,c){var l=a.target,u=a.global,d=a.stat,f,h,p,g,m,v;if(u?h=e:d?h=e[l]||i(l,{}):h=e[l]&&e[l].prototype,h)for(p in c){if(m=c[p],a.dontCallGetSet?(v=t(h,p),g=v&&v.value):g=h[p],f=o(u?p:l+(d?".":"#")+p,a.forced),!f&&g!==void 0){if(typeof m==typeof g)continue;s(m,g)}(a.sham||g&&g.sham)&&n(m,"sham",!0),r(h,p,m,a)}},CO}var bO,N5;function EK(){if(N5)return bO;N5=1;var e=Sn(),t=Gh(),n=Iv(),r=function(i){return t.slice(0,i.length)===i};return bO=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":n(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"})(),bO}var EO,R5;function $N(){if(R5)return EO;R5=1;var e=EK();return EO=e==="NODE",EO}var SO,P5;function SK(){if(P5)return SO;P5=1;var e=Sn();return SO=e,SO}var OO,k5;function wje(){if(k5)return OO;k5=1;var e=Br(),t=ma();return OO=function(n,r,i){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[i]))}catch(s){}},OO}var TO,M5;function Aje(){if(M5)return TO;M5=1;var e=lo();return TO=function(t){return e(t)||t===null},TO}var wO,D5;function xje(){if(D5)return wO;D5=1;var e=Aje(),t=String,n=TypeError;return wO=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")},wO}var AO,L5;function Ije(){if(L5)return AO;L5=1;var e=wje(),t=lo(),n=jN(),r=xje();return AO=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,s={},o;try{o=e(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch(a){}return function(c,l){return n(c),r(l),t(c)&&(i?o(c,l):c.__proto__=l),c}})():void 0),AO}var xO,j5;function Nje(){if(j5)return xO;j5=1;var e=qh().f,t=uo(),n=Cs(),r=n("toStringTag");return xO=function(i,s,o){i&&!o&&(i=i.prototype),i&&!t(i,r)&&e(i,r,{configurable:!0,value:s})},xO}var IO,F5;function Rje(){if(F5)return IO;F5=1;var e=vK(),t=qh();return IO=function(n,r,i){return i.get&&e(i.get,r,{getter:!0}),i.set&&e(i.set,r,{setter:!0}),t.f(n,r,i)},IO}var NO,U5;function Pje(){if(U5)return NO;U5=1;var e=Uc(),t=Rje(),n=Cs(),r=co(),i=n("species");return NO=function(s){var o=e(s);r&&o&&!o[i]&&t(o,i,{configurable:!0,get:function(){return this}})},NO}var RO,B5;function kje(){if(B5)return RO;B5=1;var e=UN(),t=TypeError;return RO=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")},RO}var PO,G5;function Mje(){if(G5)return PO;G5=1;var e=Cs(),t=e("toStringTag"),n={};return n[t]="z",PO=String(n)==="[object z]",PO}var kO,W5;function OK(){if(W5)return kO;W5=1;var e=Mje(),t=Un(),n=Iv(),r=Cs(),i=r("toStringTag"),s=Object,o=n((function(){return arguments})())==="Arguments",a=function(c,l){try{return c[l]}catch(u){}};return kO=e?n:function(c){var l,u,d;return c===void 0?"Undefined":c===null?"Null":typeof(u=a(l=s(c),i))=="string"?u:o?n(l):(d=n(l))==="Object"&&t(l.callee)?"Arguments":d},kO}var MO,q5;function Dje(){if(q5)return MO;q5=1;var e=Br(),t=vs(),n=Un(),r=OK(),i=Uc(),s=qN(),o=function(){},a=i("Reflect","construct"),c=/^\s*(?:class|function)\b/,l=e(c.exec),u=!c.test(o),d=function(p){if(!n(p))return!1;try{return a(o,[],p),!0}catch(g){return!1}},f=function(p){if(!n(p))return!1;switch(r(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!l(c,s(p))}catch(g){return!0}};return f.sham=!0,MO=!a||t(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?f:d,MO}var DO,V5;function Lje(){if(V5)return DO;V5=1;var e=Dje(),t=Rv(),n=TypeError;return DO=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor")},DO}var LO,$5;function jje(){if($5)return LO;$5=1;var e=Bc(),t=Lje(),n=Nv(),r=Cs(),i=r("species");return LO=function(s,o){var a=e(s).constructor,c;return a===void 0||n(c=e(a)[i])?o:t(c)},LO}var jO,H5;function Fje(){if(H5)return jO;H5=1;var e=xv(),t=Function.prototype,n=t.apply,r=t.call;return jO=typeof Reflect=="object"&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),jO}var FO,z5;function Uje(){if(z5)return FO;z5=1;var e=Iv(),t=Br();return FO=function(n){if(e(n)==="Function")return t(n)},FO}var UO,Y5;function HN(){if(Y5)return UO;Y5=1;var e=Uje(),t=ma(),n=xv(),r=e(e.bind);return UO=function(i,s){return t(i),s===void 0?i:n?r(i,s):function(){return i.apply(s,arguments)}},UO}var BO,K5;function Bje(){if(K5)return BO;K5=1;var e=Uc();return BO=e("document","documentElement"),BO}var GO,J5;function Gje(){if(J5)return GO;J5=1;var e=Br();return GO=e([].slice),GO}var WO,X5;function Wje(){if(X5)return WO;X5=1;var e=TypeError;return WO=function(t,n){if(t<n)throw new e("Not enough arguments");return t},WO}var qO,Q5;function TK(){if(Q5)return qO;Q5=1;var e=Gh();return qO=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),qO}var VO,Z5;function wK(){if(Z5)return VO;Z5=1;var e=Sn(),t=Fje(),n=HN(),r=Un(),i=uo(),s=vs(),o=Bje(),a=Gje(),c=fK(),l=Wje(),u=TK(),d=$N(),f=e.setImmediate,h=e.clearImmediate,p=e.process,g=e.Dispatch,m=e.Function,v=e.MessageChannel,y=e.String,T=0,b={},C="onreadystatechange",O,w,A,x;s(function(){O=e.location});var R=function(F){if(i(b,F)){var G=b[F];delete b[F],G()}},P=function(F){return function(){R(F)}},L=function(F){R(F.data)},D=function(F){e.postMessage(y(F),O.protocol+"//"+O.host)};return(!f||!h)&&(f=function(G){l(arguments.length,1);var Y=r(G)?G:m(G),V=a(arguments,1);return b[++T]=function(){t(Y,void 0,V)},w(T),T},h=function(G){delete b[G]},d?w=function(F){p.nextTick(P(F))}:g&&g.now?w=function(F){g.now(P(F))}:v&&!u?(A=new v,x=A.port2,A.port1.onmessage=L,w=n(x.postMessage,x)):e.addEventListener&&r(e.postMessage)&&!e.importScripts&&O&&O.protocol!=="file:"&&!s(D)?(w=D,e.addEventListener("message",L,!1)):C in c("script")?w=function(F){o.appendChild(c("script"))[C]=function(){o.removeChild(this),R(F)}}:w=function(F){setTimeout(P(F),0)}),VO={set:f,clear:h},VO}var $O,eU;function qje(){if(eU)return $O;eU=1;var e=Sn(),t=co(),n=Object.getOwnPropertyDescriptor;return $O=function(r){if(!t)return e[r];var i=n(e,r);return i&&i.value},$O}var HO,tU;function AK(){if(tU)return HO;tU=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var n={item:t,next:null},r=this.tail;r?r.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t){var n=this.head=t.next;return n===null&&(this.tail=null),t.item}}},HO=e,HO}var zO,nU;function Vje(){if(nU)return zO;nU=1;var e=Gh();return zO=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",zO}var YO,rU;function $je(){if(rU)return YO;rU=1;var e=Gh();return YO=/web0s(?!.*chrome)/i.test(e),YO}var KO,iU;function Hje(){if(iU)return KO;iU=1;var e=Sn(),t=qje(),n=HN(),r=wK().set,i=AK(),s=TK(),o=Vje(),a=$je(),c=$N(),l=e.MutationObserver||e.WebKitMutationObserver,u=e.document,d=e.process,f=e.Promise,h=t("queueMicrotask"),p,g,m,v,y;if(!h){var T=new i,b=function(){var C,O;for(c&&(C=d.domain)&&C.exit();O=T.get();)try{O()}catch(w){throw T.head&&p(),w}C&&C.enter()};!s&&!c&&!a&&l&&u?(g=!0,m=u.createTextNode(""),new l(b).observe(m,{characterData:!0}),p=function(){m.data=g=!g}):!o&&f&&f.resolve?(v=f.resolve(void 0),v.constructor=f,y=n(v.then,v),p=function(){y(b)}):c?p=function(){d.nextTick(b)}:(r=n(r,e),p=function(){r(b)}),h=function(C){T.head||p(),T.add(C)}}return KO=h,KO}var JO,sU;function zje(){return sU||(sU=1,JO=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(n){}}),JO}var XO,oU;function zN(){return oU||(oU=1,XO=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),XO}var QO,aU;function Vh(){if(aU)return QO;aU=1;var e=Sn();return QO=e.Promise,QO}var ZO,cU;function $h(){if(cU)return ZO;cU=1;var e=Sn(),t=Vh(),n=Un(),r=bK(),i=qN(),s=Cs(),o=EK(),a=Wh(),c=sK(),l=t&&t.prototype,u=s("species"),d=!1,f=n(e.PromiseRejectionEvent),h=r("Promise",function(){var p=i(t),g=p!==String(t);if(!g&&c===66||a&&!(l.catch&&l.finally))return!0;if(!c||c<51||!/native code/.test(p)){var m=new t(function(T){T(1)}),v=function(T){T(function(){},function(){})},y=m.constructor={};if(y[u]=v,d=m.then(function(){})instanceof v,!d)return!0}return!g&&(o==="BROWSER"||o==="DENO")&&!f});return ZO={CONSTRUCTOR:h,REJECTION_EVENT:f,SUBCLASSING:d},ZO}var eT={},lU;function Gu(){if(lU)return eT;lU=1;var e=ma(),t=TypeError,n=function(r){var i,s;this.promise=new r(function(o,a){if(i!==void 0||s!==void 0)throw new t("Bad Promise constructor");i=o,s=a}),this.resolve=e(i),this.reject=e(s)};return eT.f=function(r){return new n(r)},eT}var uU;function Yje(){if(uU)return v4;uU=1;var e=Gc(),t=Wh(),n=$N(),r=Sn(),i=SK(),s=ys(),o=VN(),a=Ije(),c=Nje(),l=Pje(),u=ma(),d=Un(),f=lo(),h=kje(),p=jje(),g=wK().set,m=Hje(),v=zje(),y=zN(),T=AK(),b=_K(),C=Vh(),O=$h(),w=Gu(),A="Promise",x=O.CONSTRUCTOR,R=O.REJECTION_EVENT,P=O.SUBCLASSING,L=b.getterFor(A),D=b.set,F=C&&C.prototype,G=C,Y=F,V=r.TypeError,M=r.document,te=r.process,$=w.f,ie=$,ue=!!(M&&M.createEvent&&r.dispatchEvent),me="unhandledrejection",J="rejectionhandled",K=0,ne=1,X=2,ee=1,ye=2,de,oe,Ee,Ae,He=function(se){var ke;return f(se)&&d(ke=se.then)?ke:!1},Re=function(se,ke){var tt=ke.value,nt=ke.state===ne,rt=nt?se.ok:se.fail,On=se.resolve,Kn=se.reject,on=se.domain,Ft,Wt,Qt;try{rt?(nt||(ke.rejection===ye&&Pe(ke),ke.rejection=ee),rt===!0?Ft=tt:(on&&on.enter(),Ft=rt(tt),on&&(on.exit(),Qt=!0)),Ft===se.promise?Kn(new V("Promise-chain cycle")):(Wt=He(Ft))?s(Wt,Ft,On,Kn):On(Ft)):Kn(tt)}catch(Gr){on&&!Qt&&on.exit(),Kn(Gr)}},_e=function(se,ke){se.notified||(se.notified=!0,m(function(){for(var tt=se.reactions,nt;nt=tt.get();)Re(nt,se);se.notified=!1,ke&&!se.rejection&&j(se)}))},pe=function(se,ke,tt){var nt,rt;ue?(nt=M.createEvent("Event"),nt.promise=ke,nt.reason=tt,nt.initEvent(se,!1,!0),r.dispatchEvent(nt)):nt={promise:ke,reason:tt},!R&&(rt=r["on"+se])?rt(nt):se===me&&v("Unhandled promise rejection",tt)},j=function(se){s(g,r,function(){var ke=se.facade,tt=se.value,nt=Qe(se),rt;if(nt&&(rt=y(function(){n?te.emit("unhandledRejection",tt,ke):pe(me,ke,tt)}),se.rejection=n||Qe(se)?ye:ee,rt.error))throw rt.value})},Qe=function(se){return se.rejection!==ee&&!se.parent},Pe=function(se){s(g,r,function(){var ke=se.facade;n?te.emit("rejectionHandled",ke):pe(J,ke,se.value)})},fe=function(se,ke,tt){return function(nt){se(ke,nt,tt)}},ge=function(se,ke,tt){se.done||(se.done=!0,tt&&(se=tt),se.value=ke,se.state=X,_e(se,!0))},Le=function(se,ke,tt){if(!se.done){se.done=!0,tt&&(se=tt);try{if(se.facade===ke)throw new V("Promise can't be resolved itself");var nt=He(ke);nt?m(function(){var rt={done:!1};try{s(nt,ke,fe(Le,rt,se),fe(ge,rt,se))}catch(On){ge(rt,On,se)}}):(se.value=ke,se.state=ne,_e(se,!1))}catch(rt){ge({done:!1},rt,se)}}};if(x&&(G=function(ke){h(this,Y),u(ke),s(de,this);var tt=L(this);try{ke(fe(Le,tt),fe(ge,tt))}catch(nt){ge(tt,nt)}},Y=G.prototype,de=function(ke){D(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:K,value:null})},de.prototype=o(Y,"then",function(ke,tt){var nt=L(this),rt=$(p(this,G));return nt.parent=!0,rt.ok=d(ke)?ke:!0,rt.fail=d(tt)&&tt,rt.domain=n?te.domain:void 0,nt.state===K?nt.reactions.add(rt):m(function(){Re(rt,nt)}),rt.promise}),oe=function(){var se=new de,ke=L(se);this.promise=se,this.resolve=fe(Le,ke),this.reject=fe(ge,ke)},w.f=$=function(se){return se===G||se===Ee?new oe(se):ie(se)},!t&&d(C)&&F!==Object.prototype)){Ae=F.then,P||o(F,"then",function(ke,tt){var nt=this;return new G(function(rt,On){s(Ae,nt,rt,On)}).then(ke,tt)},{unsafe:!0});try{delete F.constructor}catch(se){}a&&a(F,Y)}return e({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:G}),Ee=i.Promise,c(G,A,!1,!0),l(A),v4}var dU={},tT,fU;function xK(){return fU||(fU=1,tT={}),tT}var nT,hU;function Kje(){if(hU)return nT;hU=1;var e=Cs(),t=xK(),n=e("iterator"),r=Array.prototype;return nT=function(i){return i!==void 0&&(t.Array===i||r[n]===i)},nT}var rT,pU;function IK(){if(pU)return rT;pU=1;var e=OK(),t=BN(),n=Nv(),r=xK(),i=Cs(),s=i("iterator");return rT=function(o){if(!n(o))return t(o,s)||t(o,"@@iterator")||r[e(o)]},rT}var iT,gU;function Jje(){if(gU)return iT;gU=1;var e=ys(),t=ma(),n=Bc(),r=Rv(),i=IK(),s=TypeError;return iT=function(o,a){var c=arguments.length<2?i(o):a;if(t(c))return n(e(c,o));throw new s(r(o)+" is not iterable")},iT}var sT,mU;function Xje(){if(mU)return sT;mU=1;var e=ys(),t=Bc(),n=BN();return sT=function(r,i,s){var o,a;t(r);try{if(o=n(r,"return"),!o){if(i==="throw")throw s;return s}o=e(o,r)}catch(c){a=!0,o=c}if(i==="throw")throw s;if(a)throw o;return t(o),s},sT}var oT,_U;function NK(){if(_U)return oT;_U=1;var e=HN(),t=ys(),n=Bc(),r=Rv(),i=Kje(),s=CK(),o=UN(),a=Jje(),c=IK(),l=Xje(),u=TypeError,d=function(h,p){this.stopped=h,this.result=p},f=d.prototype;return oT=function(h,p,g){var m=g&&g.that,v=!!(g&&g.AS_ENTRIES),y=!!(g&&g.IS_RECORD),T=!!(g&&g.IS_ITERATOR),b=!!(g&&g.INTERRUPTED),C=e(p,m),O,w,A,x,R,P,L,D=function(G){return O&&l(O,"normal"),new d(!0,G)},F=function(G){return v?(n(G),b?C(G[0],G[1],D):C(G[0],G[1])):b?C(G,D):C(G)};if(y)O=h.iterator;else if(T)O=h;else{if(w=c(h),!w)throw new u(r(h)+" is not iterable");if(i(w)){for(A=0,x=s(h);x>A;A++)if(R=F(h[A]),R&&o(f,R))return R;return new d(!1)}O=a(h,w)}for(P=y?h.next:O.next;!(L=t(P,O)).done;){try{R=F(L.value)}catch(G){l(O,"throw",G)}if(typeof R=="object"&&R&&o(f,R))return R}return new d(!1)},oT}var aT,vU;function Qje(){if(vU)return aT;vU=1;var e=Cs(),t=e("iterator"),n=!1;try{var r=0,i={next:function(){return{done:!!r++}},return:function(){n=!0}};i[t]=function(){return this},Array.from(i,function(){throw 2})}catch(s){}return aT=function(s,o){try{if(!o&&!n)return!1}catch(l){return!1}var a=!1;try{var c={};c[t]=function(){return{next:function(){return{done:a=!0}}}},s(c)}catch(l){}return a},aT}var cT,yU;function RK(){if(yU)return cT;yU=1;var e=Vh(),t=Qje(),n=$h().CONSTRUCTOR;return cT=n||!t(function(r){e.all(r).then(void 0,function(){})}),cT}var CU;function Zje(){if(CU)return dU;CU=1;var e=Gc(),t=ys(),n=ma(),r=Gu(),i=zN(),s=NK(),o=RK();return e({target:"Promise",stat:!0,forced:o},{all:function(c){var l=this,u=r.f(l),d=u.resolve,f=u.reject,h=i(function(){var p=n(l.resolve),g=[],m=0,v=1;s(c,function(y){var T=m++,b=!1;v++,t(p,l,y).then(function(C){b||(b=!0,g[T]=C,--v||d(g))},f)}),--v||d(g)});return h.error&&f(h.value),u.promise}}),dU}var bU={},EU;function eFe(){if(EU)return bU;EU=1;var e=Gc(),t=Wh(),n=$h().CONSTRUCTOR,r=Vh(),i=Uc(),s=Un(),o=VN(),a=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(l){return this.then(void 0,l)}}),!t&&s(r)){var c=i("Promise").prototype.catch;a.catch!==c&&o(a,"catch",c,{unsafe:!0})}return bU}var SU={},OU;function tFe(){if(OU)return SU;OU=1;var e=Gc(),t=ys(),n=ma(),r=Gu(),i=zN(),s=NK(),o=RK();return e({target:"Promise",stat:!0,forced:o},{race:function(c){var l=this,u=r.f(l),d=u.reject,f=i(function(){var h=n(l.resolve);s(c,function(p){t(h,l,p).then(u.resolve,d)})});return f.error&&d(f.value),u.promise}}),SU}var TU={},wU;function nFe(){if(wU)return TU;wU=1;var e=Gc(),t=Gu(),n=$h().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:n},{reject:function(i){var s=t.f(this),o=s.reject;return o(i),s.promise}}),TU}var AU={},lT,xU;function rFe(){if(xU)return lT;xU=1;var e=Bc(),t=lo(),n=Gu();return lT=function(r,i){if(e(r),t(i)&&i.constructor===r)return i;var s=n.f(r),o=s.resolve;return o(i),s.promise},lT}var IU;function iFe(){if(IU)return AU;IU=1;var e=Gc(),t=Uc(),n=Wh(),r=Vh(),i=$h().CONSTRUCTOR,s=rFe(),o=t("Promise"),a=n&&!i;return e({target:"Promise",stat:!0,forced:n||i},{resolve:function(l){return s(a&&this===o?r:this,l)}}),AU}var NU;function sFe(){return NU||(NU=1,Yje(),Zje(),eFe(),tFe(),nFe(),iFe()),_4}var RU={},PU;function PK(){if(PU)return RU;PU=1;var e=Gc(),t=Gu();return e({target:"Promise",stat:!0},{withResolvers:function(){var r=t.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}}),RU}var uT,kU;function oFe(){if(kU)return uT;kU=1,sFe(),PK();var e=ys(),t=Un(),n=SK(),r=n.Promise,i=r.withResolvers;return uT=function(){return e(i,t(this)?this:r)},uT}var dT,MU;function aFe(){if(MU)return dT;MU=1;var e=oFe();return dT=e,dT}var DU={},LU;function cFe(){return LU||(LU=1,PK()),DU}var fT,jU;function lFe(){if(jU)return fT;jU=1;var e=aFe();return cFe(),fT=e,fT}lFe();async function uFe(){performance.mark("polyfill.all.start"),await Promise.allSettled([sje(),ije(),oje()]),performance.mark("polyfill.all.end"),performance.measure("polyfill.all","polyfill.all.start","polyfill.all.end")}const Lm=["light","dark"],YN="(prefers-color-scheme: dark)",dFe=typeof window>"u",KN=E.createContext(void 0),fFe={setTheme:e=>{},themes:[]},kK=()=>{var e;return(e=E.useContext(KN))!==null&&e!==void 0?e:fFe},hFe=e=>E.useContext(KN)?Et.createElement(E.Fragment,null,e.children):Et.createElement(gFe,e),pFe=["light","dark"],gFe=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=pFe,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:c,children:l,nonce:u})=>{const[d,f]=E.useState(()=>FU(i,o)),[h,p]=E.useState(()=>FU(i)),g=c?Object.values(c):s,m=E.useCallback(b=>{let C=b;if(!C)return;b==="system"&&n&&(C=UU());const O=c?c[C]:C,w=t?_Fe():null,A=document.documentElement;if(a==="class"?(A.classList.remove(...g),O&&A.classList.add(O)):O?A.setAttribute(a,O):A.removeAttribute(a),r){const x=Lm.includes(o)?o:null,R=Lm.includes(C)?C:x;A.style.colorScheme=R}w==null||w()},[]),v=E.useCallback(b=>{f(b);try{localStorage.setItem(i,b)}catch(C){}},[e]),y=E.useCallback(b=>{const C=UU(b);p(C),d==="system"&&n&&!e&&m("system")},[d,e]);E.useEffect(()=>{const b=window.matchMedia(YN);return b.addListener(y),y(b),()=>b.removeListener(y)},[y]),E.useEffect(()=>{const b=C=>{C.key===i&&v(C.newValue||o)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[v]),E.useEffect(()=>{m(e!=null?e:d)},[e,d]);const T=E.useMemo(()=>({theme:d,setTheme:v,forcedTheme:e,resolvedTheme:d==="system"?h:d,themes:n?[...s,"system"]:s,systemTheme:n?h:void 0}),[d,v,e,h,n,s]);return Et.createElement(KN.Provider,{value:T},Et.createElement(mFe,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:o,attribute:a,value:c,children:l,attrs:g,nonce:u}),l)},mFe=E.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:c})=>{const l=s==="system",u=n==="class"?"var d=document.documentElement,c=d.classList;c.remove(".concat(a.map(p=>"'".concat(p,"'")).join(","),");"):"var d=document.documentElement,n='".concat(n,"',s='setAttribute';"),d=i?Lm.includes(s)&&s?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(s,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,g=!1,m=!0)=>{const v=o?o[p]:p,y=g?p+"|| ''":"'".concat(v,"'");let T="";return i&&m&&!g&&Lm.includes(p)&&(T+="d.style.colorScheme = '".concat(p,"';")),n==="class"?T+=g||v?"c.add(".concat(y,")"):"null":v&&(T+="d[s](n,".concat(y,")")),T},h=e?"!function(){".concat(u).concat(f(e),"}()"):r?"!function(){try{".concat(u,"var e=localStorage.getItem('").concat(t,"');if('system'===e||(!e&&").concat(l,")){var t='").concat(YN,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(f("dark"),"}else{").concat(f("light"),"}}else if(e){").concat(o?"var x=".concat(JSON.stringify(o),";"):"").concat(f(o?"x[e]":"e",!0),"}").concat(l?"":"else{"+f(s,!1,!1)+"}").concat(d,"}catch(e){}}()"):"!function(){try{".concat(u,"var e=localStorage.getItem('").concat(t,"');if(e){").concat(o?"var x=".concat(JSON.stringify(o),";"):"").concat(f(o?"x[e]":"e",!0),"}else{").concat(f(s,!1,!1),";}").concat(d,"}catch(t){}}();");return Et.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})},()=>!0),FU=(e,t)=>{if(dFe)return;let n;try{n=localStorage.getItem(e)||void 0}catch(r){}return n||t},_Fe=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},UU=e=>(e||(e=window.matchMedia(YN)),e.matches?"dark":"light");function MK(e){return e==="system"||DK(e)}function DK(e){return e==="dark"||e==="light"}function vFe(e){if(!MK(e))throw new Error("Unexpected theme ".concat(e))}function rHe(){const{theme:e,setTheme:t}=kK();function n(r){vFe(r),r!==e&&t(r)}return[MK(e)?e:"system",n]}function yFe(){const e=kK().resolvedTheme;if(DK(e))return e}function iHe(){return yFe()==="dark"}function sHe(){return document.documentElement.classList.contains("dark")}const LK=new Set;let kf=[];const Cw=new Set;function CFe(){for(const e of Cw)try{e()}catch(t){}}function JN(e){kf=e,CFe()}function od(e){if(!e.id)return;const t=kf.slice(),n=t.findIndex(r=>r.id===e.id);n>=0?t[n]=S(S({},t[n]),e):t.unshift(e),JN(t)}function bFe(e){for(const t of e)t&&LK.add(t)}function EFe(e){return e?LK.has(e):!1}function SFe(e){return Cw.add(e),()=>{Cw.delete(e)}}function OFe(){return kf}function TFe(e){if(!e)return;const t=kf.findIndex(r=>r.id===e);if(t===-1)return;const n=kf.slice();n[t]=I(S({},n[t]),{reacted_to_at:new Date().toISOString()}),JN(n)}async function wFe(e){await Z.safePost("/amphora/notifications/{notification_id}/reacted",{parameters:{path:{notification_id:e}}})}async function AFe(e=20){return await Z.safeGet("/amphora/notifications",{parameters:{query:{limit:e}}})}const jK=B(()=>k(()=>import("./j9u6evnjj6nboy1i.js"),__vite__mapDeps([112,1,113,114,3,4])).then(e=>e.InviteBannerModal)),xFe=B(()=>k(()=>import("./o81nr171nzv6h75q.js"),__vite__mapDeps([115,1,113,114,3,4])).then(e=>e.InviteInfoModal));B(()=>k(()=>import("./fhzx5e1g2e03ku0v.js"),__vite__mapDeps([116,1,3,4,113,114])).then(e=>e.InviteAcceptedBannerModal));function IFe(e,t,n){Di(e,jK,{notificationId:t,payload:n})}function NFe(e,t,n,r){nA(e,jK),Di(e,xFe,{payload:t,notificationId:n,profileImageUrl:r})}const RFe=B(()=>k(()=>import("./l2obu9yyz566vb08.js"),__vite__mapDeps([117,1,3,4])).then(e=>e.FamilyUnlinkBannerModal));function PFe(e,t,n){Di(e,RFe,{notificationId:t,payload:n})}const kFe=B(()=>k(()=>import("./oh36odqeyhvgtyd9.js").then(e=>e.s),__vite__mapDeps([118,1,114,3,4,119,120,121,122,123,124])).then(e=>e.SelfHarmBannerModal));function MFe(e,t,n){Di(e,kFe,{notificationId:t,payload:n})}const bw=new Set;async function oHe(e){try{e&&(await wFe(e),TFe(e),bw.delete(e))}catch(t){}}const DFe=B(()=>k(()=>import("./o06ruoql9r1v6ywj.js"),__vite__mapDeps([125,1,3,4])).then(e=>e.SettingUpdatedBannerModal));function LFe(e,t){if(t){if(bw.has(t))return;bw.add(t)}const n=tn(e);(async()=>{try{await Z.safePost("/amphora/clear_settings_cache")}catch(i){}try{const i=ks();await n.invalidateQueries(i),await n.prefetchQuery(i)}catch(i){}const r=i=>{const s=i.queryKey;if(!Array.isArray(s)||s.length<2||!(typeof s[0]=="string"&&s[0]==="amphora"))return!1;const a=s[s.length-1];return typeof a=="string"&&a==="permissions"};try{await n.invalidateQueries({predicate:r})}catch(i){}try{await n.refetchQueries({predicate:r,type:"inactive"})}catch(i){}})()}function jFe(e,t,n){Di(e,DFe,{notificationId:t,payload:n})}function FK(e){var i;const t=sa(e),n=Date.now(),r=new Date(n).toISOString();return{user_id:(i=t==null?void 0:t.user)==null?void 0:i.id,timestamp_ms:n,timestamp_iso:r}}function FFe(e){Se.logEvent("U18 Model Policy Banner Shown",S({},FK(e)))}function aHe(e,t){Se.logEvent("U18 Model Policy Banner Clicked",I(S({},FK(e)),{cta:t}))}B(()=>k(()=>import("./gcw6ddmmhzijkr87.js"),__vite__mapDeps([126,1,3,4,127])).then(e=>e.U18InfoModal));const UFe=B(()=>k(()=>import("./gcw6ddmmhzijkr87.js"),__vite__mapDeps([126,1,3,4,127])).then(e=>e.U18BannerModal));function BFe(e,t){FFe(e),Di(e,UFe,{notificationId:t})}async function GFe(){return await Z.safeGet("/amphora")}const Ew=En({queryKey:["amphora"],queryFn:GFe,staleTime:1/0});function cHe(){return Xt(Ew).data}async function WFe(e){var r;await e.invalidateQueries({queryKey:Ew.queryKey,exact:!0});const t=e.getQueryData(Ew.queryKey),n=(r=t==null?void 0:t.id)!=null?r:null;n&&await e.invalidateQueries({predicate:({queryKey:i})=>!Array.isArray(i)||i[0]!=="amphora"||i.length!==3?!1:i[1]===n})}const Sw=new lx;var Bf;class qFe{constructor(){U(this,"start",0);U(this,"connectTime",0);U(this,"hasLoggedGetSocketURL",!1);U(this,"didLogPingFromWorker",!1);U(this,"didLogPingFromServer",!1);U(this,"pingId",fr());U(this,"actionMetadata",{});U(this,"onFetchSocketURL",()=>{if(!this.hasLoggedGetSocketURL){const t=performance.now()-this.start;this.actionMetadata.socket_url_duration=t,this.actionMetadata.socket_url_time=t,Q.addAction("ws.get-socket-url",this.actionMetadata),Qn.hist(Wn.WEBSOCKET,"get-socket-url",[],t),this.hasLoggedGetSocketURL=!0}});Nt(this,Bf,({payload:t})=>{const{ping_id:n,source:r}=t;if(!(n!=null&&n!==this.pingId)){if(r==="server"&&!this.didLogPingFromServer){this.didLogPingFromServer=!0;const i=performance.now()-this.start,s=i-this.connectTime;this.actionMetadata.receive_server_ping_time=i,this.actionMetadata.receive_server_ping_duration=s,Q.addAction("ws.receive-server-ping",this.actionMetadata),Qn.hist(Wn.WEBSOCKET,"receive-server-ping",[],s)}if((r==="worker"||r==null)&&!this.didLogPingFromWorker){this.didLogPingFromWorker=!0;const i=performance.now()-this.start,s=i-this.connectTime;this.actionMetadata.receive_ping_time=i,this.actionMetadata.receive_ping_duration=s,Q.addAction("ws.receive-ping",this.actionMetadata),Qn.hist(Wn.WEBSOCKET,"receive-ping",[],s)}this.didLogPingFromWorker&&this.didLogPingFromServer&&Sw.off("ping",he(this,Bf))}})}onInit(){Q.addAction("ws.init"),Qn.count(Wn.WEBSOCKET,"init"),this.start=performance.now()}onConnect(){if(!(this.connectTime>0))try{this.connectTime=performance.now()-this.start;const t=this.connectTime-Number(this.actionMetadata.socket_url_time);this.actionMetadata.connect_time=this.connectTime,this.actionMetadata.connect_duration=t,Q.addAction("ws.connect",this.actionMetadata),Qn.hist(Wn.WEBSOCKET,"connect",[],t),Sw.on("ping",he(this,Bf)),Q.addAction("ws.send-ping",this.actionMetadata),Z.safePost("/celsius/ping",{requestBody:{ping_id:this.pingId}})}catch(t){Q.addAction("ws.error",{error:t}),Qn.count(Wn.WEBSOCKET,"error")}}}Bf=new WeakMap;const VFe=ut(e=>$e(e,"1281927149")?new qFe:void 0);function $Fe(e,t){let n=null;const r=()=>{const i=Date.now(),s=n!=null?i-n.time:null;return n!=null&&s!=null&&s<t?(Q.addAction("websocket-url-cache.hit",{timeSinceLastValue:s}),n.promise):(Q.addAction("websocket-url-cache.miss",{timeSinceLastValue:s}),n={promise:e().catch(o=>{throw Q.addAction("websocket-url-cache.error"),n=null,o}),time:i},n.promise)};return r.invalidate=()=>{Q.addAction("websocket-url-cache.invalidate"),n=null},r}const HFe=async()=>(await Z.safeGet("/celsius/ws/user")).websocket_url,zFe=$Fe(HFe,15e5),BU=Be(()=>oi(()=>document.hasFocus(),e=>{const t=()=>e();return window.addEventListener("focus",t),window.addEventListener("blur",t),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",t),document.removeEventListener("visibilitychange",t)}},{name:"isWindowFocused",getServerFallback:()=>!0}));(!globalThis.EventTarget||!globalThis.Event)&&console.error("\n  PartySocket requires a global 'EventTarget' class to be available!\n  You can polyfill this global by adding this to your code before any partysocket imports: \n  \n  ```\n  import 'partysocket/event-target-polyfill';\n  ```\n  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.\n");var UK=class extends Event{constructor(n,r){super("error",r);U(this,"message");U(this,"error");this.message=n.message,this.error=n}},BK=class extends Event{constructor(t=1e3,n="",r){super("close",r);U(this,"code");U(this,"reason");U(this,"wasClean",!0);this.code=t,this.reason=n}},hT={Event,ErrorEvent:UK,CloseEvent:BK};function YFe(e,t){if(!e)throw new Error(t)}function KFe(e){return new e.constructor(e.type,e)}function JFe(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new BK(e.code||1999,e.reason||"unknown reason",e):"error"in e?new UK(e.error,e):new Event(e.type,e)}var GU,XFe=typeof process<"u"&&typeof((GU=process.versions)==null?void 0:GU.node)<"u"&&typeof document>"u",Wp=XFe?JFe:KFe,Oa={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},WU=!1,QFe=class La extends EventTarget{constructor(n,r,i={}){super();U(this,"_ws");U(this,"_retryCount",-1);U(this,"_uptimeTimeout");U(this,"_connectTimeout");U(this,"_shouldReconnect",!0);U(this,"_connectLock",!1);U(this,"_binaryType","blob");U(this,"_closeCalled",!1);U(this,"_messageQueue",[]);U(this,"_debugLogger",console.log.bind(console));U(this,"_url");U(this,"_protocols");U(this,"_options");U(this,"onclose",null);U(this,"onerror",null);U(this,"onmessage",null);U(this,"onopen",null);U(this,"_handleOpen",n=>{this._debug("open event");const{minUptime:r=Oa.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),YFe(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(i=>{var s;return(s=this._ws)==null?void 0:s.send(i)}),this._messageQueue=[],this.onopen&&this.onopen(n),this.dispatchEvent(Wp(n))});U(this,"_handleMessage",n=>{this._debug("message event"),this.onmessage&&this.onmessage(n),this.dispatchEvent(Wp(n))});U(this,"_handleError",n=>{this._debug("error event",n.message),this._disconnect(void 0,n.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(n),this._debug("exec error listeners"),this.dispatchEvent(Wp(n)),this._connect()});U(this,"_handleClose",n=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(n),this.dispatchEvent(Wp(n))});this._url=n,this._protocols=r,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return La.CONNECTING}get OPEN(){return La.OPEN}get CLOSING(){return La.CLOSING}get CLOSED(){return La.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((r,i)=>(typeof i=="string"?r+=i.length:i instanceof Blob?r+=i.size:r+=i.byteLength,r),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?La.CLOSED:La.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(n=1e3,r){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,r)}reconnect(n,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,r),this._connect())}send(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{const{maxEnqueuedMessages:r=Oa.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}}_debug(...n){this._options.debug&&this._debugLogger("RWS>",...n)}_getNextDelay(){const{reconnectionDelayGrowFactor:n=Oa.reconnectionDelayGrowFactor,minReconnectionDelay:r=Oa.minReconnectionDelay,maxReconnectionDelay:i=Oa.maxReconnectionDelay}=this._options;let s=0;return this._retryCount>0&&(s=r*n**(this._retryCount-1),s>i&&(s=i)),this._debug("next delay",s),s}_wait(){return new Promise(n=>{setTimeout(n,this._getNextDelay())})}_getNextProtocols(n){if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(typeof n=="function"){const r=n();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){const r=n();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:n=Oa.maxRetries,connectionTimeout:r=Oa.connectionTimeout}=this._options;if(this._retryCount>=n){this._debug("max retries reached",this._retryCount,">=",n);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([i,s])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!WU&&(console.error("â€¼ï¸ No WebSocket implementation available. You should define options.WebSocket. \n\nFor example, if you're using node.js, run `npm install ws`, and then in your code:\n\nimport PartySocket from 'partysocket';\nimport WS from 'ws';\n\nconst partysocket = new PartySocket({\n  host: \"127.0.0.1:1999\",\n  room: \"test-room\",\n  WebSocket: WS\n});\n\n"),WU=!0);const o=this._options.WebSocket||WebSocket;this._debug("connect",{url:i,protocols:s}),this._ws=s?new o(i,s):new o(i),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(i=>{this._connectLock=!1,this._handleError(new hT.ErrorEvent(Error(i.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new hT.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(n=1e3,r){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(n,r),this._handleClose(new hT.CloseEvent(n,r,this))}catch(i){}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */const GK=ut(e=>new t4e(e));function ZFe(e,t){return GK(e).getTopic(t)}const qU={maxRetries:20,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.5,maxReconnectionDelay:1/0},e4e={maxRetries:5,minReconnectionDelay:2e3+Math.random()*8e3,reconnectionDelayGrowFactor:2,maxReconnectionDelay:1/0};var si,WK,qK,VK,$K,HK;class t4e{constructor(t){Nt(this,si);U(this,"ws");U(this,"pingTest");U(this,"nextRequestId",1);U(this,"commandCallbacks",{});U(this,"topics",new Map);U(this,"isTransportOpen",!1);U(this,"isBatchingCommands",!1);U(this,"batchCommands",[]);U(this,"keepaliveInterval");this.ctx=t}init(){var n;this.pingTest=VFe(this.ctx),(n=this.pingTest)==null||n.onInit();const t=new QFe(async()=>{var i;const r=await zFe();return(i=this.pingTest)==null||i.onFetchSocketURL(),r},void 0,qU);this.ws=t,t.addEventListener("open",()=>{$c(this,si,WK).call(this)}),t.addEventListener("close",()=>{$c(this,si,VK).call(this)}),t.addEventListener("message",r=>{$c(this,si,$K).call(this,r)}),t.addEventListener("error",r=>{$c(this,si,HK).call(this,r)}),$c(this,si,qK).call(this)}connect(){this.ws.reconnect()}disconnect(){this.ws.close()}getTopic(t){const n=this.topics.get(t);if(n)return n;const r=new n4e(t,this);return this.topics.set(t,r),r}startBatchCommands(){this.isBatchingCommands=!0,this.batchCommands=[]}endBatchCommands(){this.isBatchingCommands=!1,this.ws.send(JSON.stringify(this.batchCommands)),this.batchCommands=[]}async sendCommand(t){const n=this.nextRequestId++;this.commandCallbacks[n]=Promise.withResolvers();const r={id:n,command:t};this.isBatchingCommands?this.batchCommands.push(r):this.ws.send(JSON.stringify([r]));const i=await this.commandCallbacks[n].promise;return delete this.commandCallbacks[n],i}}si=new WeakSet,WK=function(){var t;(t=this.pingTest)==null||t.onConnect(),this.isTransportOpen=!0,this.startBatchCommands(),this.sendCommand({type:"connect",presence:{type:"presence",state:nn(()=>BU(this.ctx))?"foreground":"background"}});for(const n of this.topics.values())n.state===1&&n.subscribe();this.endBatchCommands(),$e(this.ctx,"3274829134")&&(this.keepaliveInterval=setInterval(()=>{this.ws.send(JSON.stringify({type:"keepalive-ping"}))},2e4))},qK=function(){Vo(()=>BU(this.ctx),t=>{this.ws._options=t?qU:e4e,this.isTransportOpen&&this.sendCommand({type:"presence",state:t?"foreground":"background"})})},VK=function(){this.isTransportOpen=!1;for(const t of this.topics.values())t.handleDisconnect();this.endBatchCommands(),this.keepaliveInterval&&(clearInterval(this.keepaliveInterval),this.keepaliveInterval=void 0)},$K=function(t){const n=JSON.parse(t.data);if(Array.isArray(n)){const i=n;for(const s of i)if("type"in s&&s.type==="message"){const{topic_id:o}=s,a=this.topics.get(o);a&&a.handleMessage(s)}else"id"in s&&"reply"in s&&this.commandCallbacks[s.id].resolve(s.reply)}else{const r=n,{type:s}=r,o=W(r,["type"]),a=S({kind:s},o);Sw.publish(a)}},HK=function(t){Q.addAction("websocket error",{error:t.error,message:t.message})};var Ka,xo;class n4e{constructor(t,n){U(this,"state",2);U(this,"offset",null);Nt(this,Ka,new lx);Nt(this,xo,!1);this.topicId=t,this.client=n}onMessage(t){return he(this,Ka).on("message",n=>t(n.payload))}onPotentialMissedMessages(t){return he(this,Ka).on("recovery-failed",()=>t())}handleMessage(t){he(this,Ka).publish({kind:"message",payload:t.payload}),t.offset!=null&&t.offset!==""&&(this.offset=t.offset)}handleDisconnect(){this.state=1,Ut(this,xo,!1)}async subscribe(t={}){var n;if(t.includeAllHistory&&this.offset==null&&(this.offset="0"),this.state!==0&&(this.state=1,this.client.isTransportOpen&&!he(this,xo))){Ut(this,xo,!0);const r=this.offset,i=await this.client.sendCommand(S({type:"subscribe",topic_id:this.topicId},r!=null?{offset:r}:{}));if(Ut(this,xo,!1),i.type==="subscribe"&&i.topic_id===this.topicId){if(this.state=0,this.offset=(n=i.last_offset)!=null?n:null,i.recovered&&i.catchups!=null)for(const s of i.catchups)this.handleMessage(s);r!=null&&!i.recovered&&he(this,Ka).publish({kind:"recovery-failed"})}else throw new Error("Unexpected reply to subscribe command")}}unsubscribe(){this.state!==2&&((this.state===0||he(this,xo))&&this.client.sendCommand({type:"unsubscribe",topic_id:this.topicId}),this.state=2)}}Ka=new WeakMap,xo=new WeakMap;function uHe(){"use forget";return E.useSyncExternalStore(SFe,OFe)}const r4e=B(()=>k(()=>import("./i6ahu3iuwhz5y2lv.js"),__vite__mapDeps([128,1,3,4])).then(e=>e.QuietHoursModal));function zK(e,t){if(t.notification_type!=="setting-defaulted")return!1;const n=t.payload;return(n==null?void 0:n.name)==="3VyEPC5dTP_model_instructions_enabled"&&(n!=null&&n.value)?(BFe(e,t.id),!0):!1}function YK(e,t,n){if(t.notification_type!=="setting-updated"||!t.id)return!1;const r=t.payload;return n&&LFe(e,t.id),r!=null&&r.clear_cache_only?!1:(jFe(e,t.id,r),!0)}function KK(e,t,n){if(t.notification_type!=="family-invite")return!1;const r=t.payload;return n==="loader"?NFe(e,r,t.id):IFe(e,t.id,r),!0}function JK(e,t){if(t.notification_type!=="family-unlink")return!1;const n=t.payload;PFe(e,t.id,n);const r=tn(e);return WFe(r),!0}function XK(e,t){if(t.notification_type!=="self-harm")return!1;const n=t.payload;return MFe(e,t.id,n),!0}function i4e(e){(async()=>{var t,n,r;try{const i=await AFe(20),s=((t=i.items)!=null?t:[]).map(o=>o.id).filter(Boolean);bFe(s),JN((n=i.items)!=null?n:[]);for(const o of(r=i.items)!=null?r:[])!o.reacted_to_at&&(zK(e,o)||YK(e,o,!1)||KK(e,o,"loader")||JK(e,o)||XK(e,o))}catch(i){}})()}function s4e(e){ZFe(e,"app_notifications").onMessage(n=>{if(n!=null&&n.type&&!["setting-defaulted","setting-updated","self-harm","family-invite","family-unlink"].includes(n.type))return;const r=n.notification_id;if(!EFe(r)){if((n==null?void 0:n.type)==="setting-defaulted"){const i={id:r!=null?r:"",notification_type:n.type,payload:n.payload};od(i),zK(e,i)}else if((n==null?void 0:n.type)==="self-harm"){const i={id:r!=null?r:"",notification_type:n.type,payload:n.payload};od(i),XK(e,i)}else if((n==null?void 0:n.type)==="setting-updated"){if(!r)return;const i={id:r,notification_type:n.type,payload:n.payload};od(i),YK(e,i,!0)}else if((n==null?void 0:n.type)==="family-invite"){const i={id:r!=null?r:"",notification_type:n.type,payload:n.payload};od(i),KK(e,i,"topic")}else if((n==null?void 0:n.type)==="family-unlink"){const i={id:r!=null?r:"",notification_type:n.type,payload:n.payload};od(i),JK(e,i)}}})}const o4e=Be(e=>Oe(()=>{var n;const t=(n=bu(e).data)==null?void 0:n.settings;return t==null?void 0:t.rKAMeJfyrM_settings})),VU=Be(()=>we(!1));function $U(e){if(!e)return null;const[t,n]=e.split(":").map(s=>parseInt(s,10)||0),r=Math.min(23,Math.max(0,t)),i=Math.min(59,Math.max(0,n));return r*60+i}function a4e(e){if(e==null||e.enabled===!1)return!1;const t=$U(e.start_time),n=$U(e.end_time);if(t==null||n==null)return!1;const r=new Date,i=r.getHours()*60+r.getMinutes();return t===n?!1:t<n?i>=t&&i<n:i>=t||i<n}function c4e(e){Vo(()=>!VU(e)&&a4e(o4e(e)),t=>{t&&(VU.set(e,!0),Di(e,r4e))},{fireImmediately:!0})}function l4e(e){s4e(e),i4e(e),c4e(e)}function u4e(e){if(!$e(e,"4141006638"))return;const t=GK(e);t.init(),t.getTopic("conversations").subscribe(),t.getTopic("app_notifications").subscribe()}function d4e(e){St(e)&&(Jhe(e),u4e(e),l4e(e),SH())}let HU=!1;function f4e(e){HU||(HU=!0,d4e(e))}var h4e=S$();const p4e=Gt(h4e);function g4e(e){return T$(new URL(e,window.location.origin).searchParams).includes(ae.Search)}var m4e=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e.LogoutConfirm="logout-confirm",e.NotificationFeed="notification-feed",e.DeepResearchShare="deep-research-share",e))(m4e||{});function _4e({isOpen:e}){De.setCookie(Te.NavigationState,e?"1":"0",{maxAge:2*365*24*60*60})}const v4e={isThreadHeaderVisible:!0,isSlideoverSidebarOpen:void 0,isPopoverSidebarOpen:!1,isVoiceActive:!1,isConversationScrolledFromTop:!1,sharingModalThreadId:void 0,deepResearchShareTaskId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null,noAuthMadlibsModalOpen:!1,onboardingConvoState:null,autoHighlightNicknameInput:!1,shouldShowThreadModelPickerDot:!1},Hh=ut(()=>ir()(()=>v4e));function Pv(e){"use no forget";const t=re(),n=Hh(t);return e?n(e):n()}function QK(){const e=At();return Hh(e).getState()}function vt(e){const t=At();Hh(t).setState(e)}const dHe={isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},pT={setBrowseMode:e=>{vt(t=>I(S({},t),{browseMode:e}))},setIsConversationScrolledFromTop:e=>{vt(t=>I(S({},t),{isConversationScrolledFromTop:e}))},enterGizmoEditor:()=>{vt({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{vt({browseMode:"conversation"})},setAutoHighlightNicknameInput:e=>{vt({autoHighlightNicknameInput:e})},setSidebarOpen(e){y4e()?pT.setPopoverSidebarOpen(e):pT.setSlideoverSidebarOpen(e)},setPopoverSidebarOpen:e=>{var t;vt(({isPopoverSidebarOpen:n})=>({isPopoverSidebarOpen:e!=null?e:!n})),e||(t=Jo())==null||t.closeSidebarOverlay()},setSlideoverSidebarOpen:e=>{vt(({isSlideoverSidebarOpen:t})=>{const n=e!=null?e:!(t!=null?t:ZK());return _4e({isOpen:n}),Se.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!n,action:"button_click"}),{isSlideoverSidebarOpen:n}}),eJ=!1},hideThreadHeader:()=>{vt({isThreadHeaderVisible:!1})},showThreadHeader:()=>{vt({isThreadHeaderVisible:!0})},openSharingModal(e,t){vt({sharingModalThreadId:e}),Se.logEvent("Share Conversation: Open Modal",{location:t})},closeSharingModal(){vt({sharingModalThreadId:void 0})},openFeedbackModal(e){vt({feedbackModalThreadId:e})},closeFeedbackModal(){vt({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){vt({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){vt({purchaseWorkspaceData:e})},setActiveSidebar(e){vt({activeSidebar:e})},setThreadModelPickerAlertDot:e=>{vt(({shouldShowThreadModelPickerDot:t})=>(t!==e&&Se.logEvent("Notifications: Thread Model Picker Alert Dot",{shown:e}),{shouldShowThreadModelPickerDot:e}))},toggleActiveSidebar(e){vt(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){vt(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){vt({activeStageSidebar:e})},toggleModal(e){vt(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){vt(t=>{if(t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){vt(t=>{if(!t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},openDeepResearchShare(e){vt(t=>I(S({},t),{deepResearchShareTaskId:e})),pT.openModal("deep-research-share")},closeAllActiveModals(){QK().activeModals.size>0&&vt({activeModals:new Set})},hideLatencyDevTools:()=>{vt({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{vt({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e,t=!1){vt(n=>n.displayAnnouncementTooltip&&!t?n:{displayAnnouncementTooltip:e})},setNoAuthMadlibsModalOpen:e=>{vt({noAuthMadlibsModalOpen:e}),bn.setItem(zt.NoAuthMadlibsModalState,"seen")},setOnboardingConvoState:e=>{vt({onboardingConvoState:e})}};function fHe(e){return Pv(t=>t.activeModals.has(e))}function ZK(){if(eJ)return!1;const e=De.getCookie(Te.NavigationState);return e!=null?e==="1":!0}let eJ=g4e(window.location.href);function y4e(){var r;const e=QK().activeStageSidebar,t=epe(),n=(r=uG(At()))!=null?r:!1;return e||!t||n}function C4e(){"use forget";const e=H.c(2),t=re(),n=Pv(b4e),r=Zhe();let i;return e[0]!==t?(i=uG(t),e[0]=t,e[1]=i):i=e[1],n||!r||i}function b4e(e){return e.activeStageSidebar}function hHe(){const e=re(),t=C4e(),n=Pv(r=>r.isSlideoverSidebarOpen);return St(e)&&!t&&(n!=null?n:ZK())}function pHe(){return Pv(e=>e.activeModals.has("blocking-initial-component"))}function gHe(){const e=re(),[t,n]=E.useState(!1);return E.useEffect(()=>Hh(e).subscribe(i=>{i.activeModals.has("blocking-initial-component")&&n(s=>s||i.activeModals.has("blocking-initial-component"))}),[e]),t}const E4e={isActive:!1,query:"",activeIndex:void 0,mouseInteractionsDisabled:!1},XN=ir(vu(()=>S({},E4e))),zU=XN.getState,qp=XN.setState,mHe={getQuery:(e=zU())=>e.query,getMouseInteractionsDisabled:()=>zU().mouseInteractionsDisabled},S4e={setIsActive:e=>{qp({isActive:e})},setQuery:e=>{qp({query:e})},setActiveIndex:e=>{qp(t=>{t.activeIndex=e,t.mouseInteractionsDisabled=!0})},setMouseInteractionsDisabled:e=>{qp(t=>{t.mouseInteractionsDisabled=e})}};function tJ(e,t){"use forget";const n=H.c(29),r=re(),i=Fn(),s=_t(),[o,a]=wc();let c;n[0]!==o?(c=o.get("inv_ws_name"),n[0]=o,n[1]=c):c=n[1];const l=c;let u;n[2]!==o?(u=o.get("accept_wId"),n[2]=o,n[3]=u):u=n[3];const d=u,f=t==="/"&&d&&l;let h;n[4]!==s||n[5]!==l||n[6]!==a||n[7]!==i?(h=()=>{a(O4e,{replace:!0}),i.success(s.formatMessage(Vp.invitedMessage,{workspace_name:l}),{description:s.formatMessage(Vp.separateWindow),hasCloseButton:!0,duration:600,id:"mini-workspace-invice"})},n[4]=s,n[5]=l,n[6]=a,n[7]=i,n[8]=h):h=n[8];const p=h,g=E.useRef(!1);let m;n[9]!==s||n[10]!==l||n[11]!==f||n[12]!==i?(m=()=>{g.current||!f||(g.current=!0,i.info(s.formatMessage(Vp.addingToWorkspace,{workspace_name:l}),{description:s.formatMessage(Vp.separateWindow),hasCloseButton:!0,duration:0,id:"mini-workspace-invice"}))},n[9]=s,n[10]=l,n[11]=f,n[12]=i,n[13]=m):m=n[13],E.useEffect(m);const v=E.useRef(!1);let y;n[14]!==r||n[15]!==p||n[16]!==e||n[17]!==d||n[18]!==f?(y=()=>{v.current||!f||!g.current||!e||(v.current=!0,E7({accessToken:Qf(r),eventPrefix:"miniObserver",acceptWorkspaceId:d}).then(()=>{e.onAcceptedWorkspaceInvite(d),p()}).catch(()=>{v.current=!1}))},n[14]=r,n[15]=p,n[16]=e,n[17]=d,n[18]=f,n[19]=y):y=n[19];let T;n[20]!==r||n[21]!==p||n[22]!==e||n[23]!==s||n[24]!==d||n[25]!==l||n[26]!==f||n[27]!==i?(T=[r,p,e,s,d,l,f,i],n[20]=r,n[21]=p,n[22]=e,n[23]=s,n[24]=d,n[25]=l,n[26]=f,n[27]=i,n[28]=T):T=n[28],E.useEffect(y,T)}function O4e(e){return e.delete("inv_ws_name"),e.delete("accept_wId"),e}const Vp=Tt({addingToWorkspace:{id:"MiniObserver.addingToWorkspace",defaultMessage:"Adding you to the {workspace_name} workspace..."},invitedMessage:{id:"MiniObserver.invitedMessage",defaultMessage:"You have been added to the {workspace_name} workspace!"},separateWindow:{id:"MiniObserver.separateWindow",defaultMessage:"The workspace will be opened in a separate window"}});function nJ(e){const t=Fe(Xr.wantsSetChatTheme$);E.useEffect(()=>{if(!t)return;Xr.wantsSetChatTheme$.set(!1);const n=Xr.chatTheme;Xr.chatTheme=void 0,n&&Yhe(e,n)},[t,e])}function T4e(){"use forget";const e=H.c(31),t=re(),n=Jt(),r=Zs(),[i]=wc(),s=E.useRef(null);let o;e[0]!==t?(o=St(t),e[0]=t,e[1]=o):o=e[1];const a=o;let c;e[2]!==t?(c=at(t),e[2]=t,e[3]=c):c=e[3];const l=c;nJ(t);const u=_7();tJ(u,n.pathname);let d;e[4]!==u||e[5]!==a||e[6]!==(l==null?void 0:l.id)?(d=()=>{u&&(a?u.recordAvailableSessionAuth(l==null?void 0:l.id):u.onMissingSessionAuth())},e[4]=u,e[5]=a,e[6]=l==null?void 0:l.id,e[7]=d):d=e[7];const f=l==null?void 0:l.id;let h;e[8]!==u||e[9]!==a||e[10]!==f?(h=[u,a,f],e[8]=u,e[9]=a,e[10]=f,e[11]=h):h=e[11],E.useEffect(d,h);let p,g;e[12]!==t||e[13]!==a?(p=()=>Vo(w4e,b=>{if(!b)return;Xr.wantsAuthSessionContext$.set(!1);const C=Xr.authSessionContext;if(C)e:switch(C.behavior){case"justLoggedInAccessToken":{a&&Qw(t,C.authToken.accessToken);break e}case"reloadPageIfLoggedOut":{a||window.location.reload();break e}}}),g=[a,t],e[12]=t,e[13]=a,e[14]=p,e[15]=g):(p=e[14],g=e[15]),E.useEffect(p,g);let m;e[16]!==t||e[17]!==n.hash||e[18]!==n.pathname||e[19]!==n.state||e[20]!==r||e[21]!==i?(m=()=>Vo(()=>Hs(t),b=>{var O,w;if(!Mi(t))return;const C=x4e({currentWindowStyle:A4e(b),initialWindowStyle:aG(t),windowStyleFromUrl:(O=i.get(eh))!=null?O:void 0,currentLocationPathName:n.pathname,previousLocationPathName:(w=s.current)==null?void 0:w.pathname});if(C!==b){Hs.set(t,C);return}I4e(C,{ctx:t,locationPathname:n.pathname,locationHash:n.hash,locationState:n.state,searchParams:i,navigate:r})},{fireImmediately:!0}),e[16]=t,e[17]=n.hash,e[18]=n.pathname,e[19]=n.state,e[20]=r,e[21]=i,e[22]=m):m=e[22];let v;e[23]!==t||e[24]!==n||e[25]!==r||e[26]!==i?(v=[n.pathname,n.search,n.hash,n.state,n,i,r,t,s],e[23]=t,e[24]=n,e[25]=r,e[26]=i,e[27]=v):v=e[27],E.useEffect(m,v);let y,T;return e[28]!==n?(T=()=>{s.current=n},y=[n,s],e[28]=n,e[29]=y,e[30]=T):(y=e[29],T=e[30]),E.useEffect(T,y),N4e(),null}function w4e(){return Xr.wantsAuthSessionContext$()}function A4e(e){if(e==="mainPage")return"new_page_view";if(e==="sidebar")return"sidebar_view";switch(e){case"new_page_overlay_view":return"new_page_overlay_view";case"new_page_view":return"new_page_view";case"sidebar_view":return"sidebar_view"}return"new_page_view"}function x4e({currentWindowStyle:e,initialWindowStyle:t,windowStyleFromUrl:n,currentLocationPathName:r,previousLocationPathName:i}){const s=r==="/",o=i==="/";return s&&t==="sidebar_view"||n===tf.value&&e!=="new_page_view"?"sidebar_view":e==="new_page_view"&&s&&i!=null&&!o?"new_page_overlay_view":e==="new_page_overlay_view"&&!s?"new_page_view":e}function I4e(e,{ctx:t,locationPathname:n,locationHash:r,locationState:i,searchParams:s,navigate:o}){switch(e){case"new_page_overlay_view":gT(s,o,n,r,i,sG),xte(t),mT("new_page_overlay_view");break;case"new_page_view":gT(s,o,n,r,i,Gg),Ate(t),mT();break;case"sidebar_view":gT(s,o,n,r,i,tf),wte(t),mT("sidebar_view");break}}function gT(e,t,n,r,i,{name:s,value:o}){if(e.get(s)===o)return;const a=new URLSearchParams(e);a.set(s,o),t({pathname:n,search:a.toString(),hash:r||void 0},{replace:!0,preventScrollReset:!0,state:i})}function mT(e){const t="data-window-style";e?document.body.setAttribute(t,e):document.body.removeAttribute(t)}function N4e(){"use forget";const e=H.c(7),t=re(),n=XN(R4e);let r;e[0]!==t?(r=()=>oG(t),e[0]=t,e[1]=r):r=e[1];const i=Fe(r),s=E.useRef(n);let o,a;e[2]!==t||e[3]!==i||e[4]!==n?(o=()=>{var d;const c=s.current;if(s.current=n,!(c&&!n&&i))return;S4e.setIsActive(!1),Hh(t).getState().isPopoverSidebarOpen||(d=Jo())==null||d.closeSidebarOverlay()},a=[n,i,t],e[2]=t,e[3]=i,e[4]=n,e[5]=o,e[6]=a):(o=e[5],a=e[6]),E.useEffect(o,a)}function R4e(e){return e.isActive}function YU(e,t,n,r,{name:i,value:s}){const o=new URLSearchParams(e);o.get(i)!==s&&(o.set(i,s),r({pathname:t,search:o.toString(),hash:n},{replace:!0}))}function P4e(){"use forget";const e=H.c(24),t=Jt(),n=Zs(),[r,i]=kte(M4e),s=re();let o;e[0]!==s?(o=St(s),e[0]=s,e[1]=o):o=e[1];const a=o;let c;e[2]!==s?(c=at(s),e[2]=s,e[3]=c):c=e[3];const l=c;nJ(s);const u=_7();tJ(u,t.pathname);let d;e[4]!==u||e[5]!==a||e[6]!==(l==null?void 0:l.id)?(d=()=>{u&&(a?u.recordAvailableSessionAuth(l==null?void 0:l.id):u.onMissingSessionAuth())},e[4]=u,e[5]=a,e[6]=l==null?void 0:l.id,e[7]=d):d=e[7];const f=l==null?void 0:l.id;let h;e[8]!==u||e[9]!==a||e[10]!==f?(h=[u,a,f],e[8]=u,e[9]=a,e[10]=f,e[11]=h):h=e[11],E.useEffect(d,h);let p,g;e[12]!==a||e[13]!==s?(p=()=>Vo(k4e,y=>{if(!y)return;Xr.wantsAuthSessionContext$.set(!1);const T=Xr.authSessionContext;if(T)e:switch(T.behavior){case"justLoggedInAccessToken":{a&&Qw(s,T.authToken.accessToken);break e}case"reloadPageIfLoggedOut":{a||window.location.reload();break e}}}),g=[a,s],e[12]=a,e[13]=s,e[14]=p,e[15]=g):(p=e[14],g=e[15]),E.useEffect(p,g);let m,v;return e[16]!==r||e[17]!==i||e[18]!==t.hash||e[19]!==t.pathname||e[20]!==t.search||e[21]!==n?(m=()=>{r&&YU(t.search,t.pathname,t.hash,n,Tte),i&&YU(t.search,t.pathname,t.hash,n,tf),i?document.body.setAttribute("data-window-style","sidebar_view"):document.body.removeAttribute("data-window-style")},v=[t.pathname,t.search,t.hash,n,r,i],e[16]=r,e[17]=i,e[18]=t.hash,e[19]=t.pathname,e[20]=t.search,e[21]=n,e[22]=m,e[23]=v):(m=e[22],v=e[23]),E.useEffect(m,v),null}function k4e(){return Xr.wantsAuthSessionContext$()}function M4e(e){return[eA(e),th(e)]}const D4e=()=>(E.useEffect(()=>{const e=({shiftKey:r,metaKey:i,ctrlKey:s})=>{v1.setState({shift:r,meta:i,ctrl:s})},t=()=>{v1.setState(U8)},n={passive:!0,capture:!0};return document.addEventListener("keydown",e,n),document.addEventListener("keyup",e,n),document.addEventListener("visibilitychange",t,n),()=>{document.removeEventListener("keydown",e,n),document.removeEventListener("keyup",e,n),document.removeEventListener("visibilitychange",t,n)}},[]),null);class rJ{constructor(){U(this,"cacheK1",new Map)}get(t,n){var r;return(r=this.cacheK1.get(t))==null?void 0:r.get(n)}set(t,n,r){let i=this.cacheK1.get(t);i||(i=new Map,this.cacheK1.set(t,i)),i.set(n,r)}delete(t,n){const r=this.cacheK1.get(t);r&&(r.delete(n),r.size===0&&this.cacheK1.delete(t))}}const KU=new rJ,Ow=new rJ;function L4e(e,t){const n=Ow.get(e,t);if(n==null){const r=wre(e,t).catch(()=>Md);return Ow.set(e,t,r),r}return n}function j4e(e,t){"use forget";const n=H.c(6);if(e===oh)return Md;let r;n[0]!==e||n[1]!==t?(r=KU.get(e,t),n[0]=e,n[1]=t,n[2]=r):r=n[2];const i=r;if(i!=null)return i;let s;n[3]!==e||n[4]!==t?(s=L4e(e,t),n[3]=e,n[4]=t,n[5]=s):s=n[5];const o=s,a=E.use(o);return a===Md?Md:(KU.set(e,t,a),Ow.delete(e,t),a)}function F4e(e){"use forget";const t=H.c(10),{children:n,locale:r}=e,i=re();let s;t[0]!==i||t[1]!==r?(s=IG(r)&&un(i,"2884982660").get("load-machine-translated",!1),t[0]=i,t[1]=r,t[2]=s):s=t[2];const a=j4e(r,s),c=xG.has(r)?"rtl":"ltr";let l;t[3]!==n||t[4]!==c?(l=_.jsx(Rde,{dir:c,children:n}),t[3]=n,t[4]=c,t[5]=l):l=t[5];let u;return t[6]!==r||t[7]!==a||t[8]!==l?(u=_.jsx(bJ,{defaultLocale:oh,locale:r,messages:a,children:l}),t[6]=r,t[7]=a,t[8]=l,t[9]=u):u=t[9],u}const U4e=({children:e})=>{const t=LJ().locale;return E.useEffect(()=>{var i;const n=(i=navigator.language)!=null?i:"",r=g_(n);Se.logEvent("Locale Loaded",{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r}),ft.logEvent("chatgpt_locale_loaded",t,{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r!=null?r:""})},[t]),_.jsx(F4e,{locale:t,children:e})};var _T,JU;function B4e(){if(JU)return _T;JU=1;var e=Cu(),t=Mr(),n=ca(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return _T=i,_T}var G4e=B4e();const W4e=Gt(G4e);var vT,XU;function q4e(){if(XU)return vT;XU=1;var e=DA(),t=Ou(),n=IY(),r=IV();function i(s,o){if(s==null)return{};var a=e(r(s),function(c){return[c]});return o=t(o),n(s,a,function(c,l){return o(c,l[0])})}return vT=i,vT}var V4e=q4e();const $4e=Gt(V4e);function H4e(e,t=0){return new Promise(n=>{requestAnimationFrame(()=>{setTimeout(()=>{n(e())},t)})})}const zh=we("livekit"),_He=()=>Fe(()=>zh()),vHe=()=>H4e(()=>zh()),Yh=we(""),yHe=()=>Fe(()=>Yh()),CHe=()=>{requestAnimationFrame(()=>{Yh.set("")})};function Ne(e,t,n){return r=>{requestAnimationFrame(()=>{var a;const i=zh(),s=(a=r==null?void 0:r.voice_session_id)!=null?a:Yh(),o=I(S({},r),{message:t,protocol:i,voice_session_id:s});Q.addAction(e,o),n&&ST(At(),n,void 0,$4e(o,c=>W4e(c)))})}}function ad(e,t){return(n,r)=>{requestAnimationFrame(()=>{var a;const i=zh(),s=(a=r==null?void 0:r.voice_session_id)!=null?a:Yh(),o=I(S(S({},r),t?{message:t}:{}),{protocol:i,voice_session_id:s});try{const c=n.name,l=n.message;o.error=c,o.errMessage=l}catch(c){o.error=String(n)}Q.addAction(e,o)})}}function Ta(e){return(t,n)=>{requestAnimationFrame(()=>{var s;const r=zh(),i=(s=n==null?void 0:n.voice_session_id)!=null?s:Yh();t instanceof Ht||Q.addError(t,I(S({},n),{status:"error",name:e,protocol:r,voice_session_id:i}))})}}const QU={audioPlayer:{error:Ta("audio-player")},readAloud:{click:Ne("read-aloud","click"),error:Ta("read-aloud")},messagePlayback:{click:Ne("message-playback","click")},toggleVideoButton:{click:Ne("toggle-video-button","click")},toggleMuteButton:{click:Ne("toggle-mute-button","click"),error:Ta("toggle-mute-button")},toggleScreenShareButton:{click:Ne("toggle-screenshare-button","click")},composerSpeechButton:{hover:Ne("composer-speech-button","hover")},voiceSessionEndedByUser:{click:Ne("voice-session-ended-by-user","click")},voiceSessionStarted:{click:Ne("voice-session-started","click")},voiceSessionDuration:{duration:Ne("voice-session-duration","duration")},voiceSessionListening:{stateChange:Ne("voice-session-listening","stateChange")},voiceSessionListeningIntently:{stateChange:Ne("voice-session-listening-intently","stateChange")},voiceSessionThinking:{stateChange:Ne("voice-session-thinking","stateChange")},voiceSessionSpeaking:{stateChange:Ne("voice-session-speaking","stateChange")},voiceSessionHalted:{stateChange:Ne("voice-session-halted","stateChange")},voiceSessionDisconnected:{stateChange:Ne("voice-session-disconnected","stateChange")},voiceMode:{connect:Ne("voice-mode","connect"),error:Ne("voice-mode","error")},previews:{click:Ne("previews","click"),error:Ta("previews")},getToken:{request:Ne("get-token","request"),success:Ne("get-token","success"),failure:Ne("get-token","failure")},getVoiceStatus:{request:Ne("get-voice-status","request"),success:Ne("get-voice-status","success"),failure:Ne("get-voice-status","failure")},livekit:{connectCalled:Ne("livekit","connectCalled"),success:Ne("livekit","success"),failure:Ta("livekit")},bloop:{performance:Ne("bloop","performance")},voiceSelectionShown:{click:Ne("voice-selection-shown","click","voice_selection_shown")},voiceSelected:{click:Ne("voice-selected","click")},voiceAdvancedDisclosureShown:{success:Ne("voice-advanced-disclosure-shown","success")},voiceAdvancedDisclosureAccepted:{click:Ne("voice-advanced-disclosure-accepted","click")},rateLimitReached:{success:Ne("rate-limit-reached","success"),modalShown:Ne("rate-limit-reached","modalShown")},upsell:{upgradeToPlus:Ne("upsell","upgradeToPlus"),upgradeToPro:Ne("upsell","upgradeToPro"),upgradeToApp:Ne("upsell","upgradeToApp"),appUpsellShown:Ne("upsell","appUpsellShown"),appUpsellDismissed:Ne("upsell","appUpsellDismissed")},feedbackShown:{success:Ne("feedback-shown","success")},feedbackThumbsUp:{success:Ne("feedback-thumbs-up","success")},feedbackThumbsDown:{success:Ne("feedback-thumbs-down","success")},feedbackDetails:{audio_issues:Ne("feedback-details","audio_issues"),response_quality:Ne("feedback-details","response_quality"),interruptions:Ne("feedback-details","interruptions"),transcription_issues:Ne("feedback-details","transcription_issues"),inaudible_issues:Ne("feedback-details","inaudible_issues"),other:Ne("feedback-details","other"),inputText:Ne("feedback-details","inputText")},connectionLatency:{success:Ne("connection-latency","success"),failure:Ta("connection-latency")},firstListeningLatency:{success:Ne("first-listening-latency","success")},permissions:{denied:Ne("permissions-denied")},voiceSessionFirstListening:{stateChange:Ne("voice-session-first-listening","stateChange")},voiceSessionFirstSpeaking:{stateChange:Ne("voice-session-first-speaking","stateChange")},defaultMediaDeviceChanged:{success:Ne("default-media-device-changed","success"),failure:Ta("default-media-device-changed")},voiceStatusCache:{hit:Ne("voice-status-cache","hit"),failed:Ne("voice-status-cache","failed"),ineligible:Ne("voice-status-cache","ineligible"),skipped:Ne("voice-status-cache","skipped"),error:ad("voice-status-cache","error")},certificateCache:{hit:Ne("certificate-cache","hit"),miss:Ne("certificate-cache","miss"),expired:Ne("certificate-cache","expired"),disabled:Ne("certificate-cache","disabled"),unsupported:ad("certificate-cache","unsupported")},peerConnectionCache:{hit:Ne("peer-connection-cache","hit"),miss:Ne("peer-connection-cache","miss"),unsupported:ad("peer-connection-cache","unsupported")},certificateLocalDb:{hit:Ne("certificate-local-db","hit"),generated:Ne("certificate-local-db","generated"),saveFailed:ad("certificate-local-db","saveFailed"),loadFailed:ad("certificate-local-db","loadFailed")},settings:{separateModeChanged:Ne("separate-mode-changed")}},or=ir(kfe(vu(()=>({playerNode:null,playerApi:null,playerState:{sourceUrl:null,isPlaying:!1}}))));function bHe(){return or(e=>e.playerApi)}function EHe(e){return or(t=>e(t.playerState))}function SHe(){return or.getState().playerApi}function OHe(){return or.getState().playerState}const z4e=E.memo(function(){const t=E.useRef(null),n=or(r=>r.playerNode);return E.useEffect(()=>{const r=t.current;r&&!n&&(r.onplay=()=>{or.setState(i=>{i.playerState.isPlaying=!0})},r.onpause=()=>{or.setState(i=>{i.playerState.isPlaying=!1})},r.ontimeupdate=()=>{or.setState(i=>{i.playerState.currentTime=r.currentTime})},r.ondurationchange=()=>{or.setState(i=>{i.playerState.duration=r.duration})},r.onerror=i=>{typeof i=="string"?QU.audioPlayer.error(new Error(i)):i.target&&"error"in i.target&&QU.audioPlayer.error(i.target.error)},or.setState({playerNode:r,playerApi:new Y4e(r)}))},[n]),_.jsx("audio",{className:"fixed start-0 bottom-0 hidden h-0 w-0",autoPlay:!0,crossOrigin:"anonymous",ref:t})});class Y4e{constructor(t){this.player=t}get state(){return or.getState().playerState}changeSource(t){this.player.src&&this.player.src!==t&&this.stop(),this.player.src=t,or.setState(n=>{n.playerState.sourceUrl=t})}async play(){this.state.isPlaying||await this.player.play()}pause(){this.state.isPlaying&&this.player.pause()}stop(){this.pause(),this.player.removeAttribute("src"),or.setState(t=>{t.playerState.sourceUrl=null,t.playerState.currentTime=void 0,t.playerState.duration=void 0})}setCurrentTime(t){this.player.currentTime=t}setSpeed(t){this.player.playbackRate=t,this.player.defaultPlaybackRate=t}}function THe(e){const t=or.getState().playerNode;if(!t)return!1;const n=t.canPlayType(e);return n==="probably"||n==="maybe"}function K4e(e){"use forget";const t=H.c(4),{children:n}=e;let r;return t[2]!==n?(r=_.jsx(Ase,{children:n}),t[2]=n,t[3]=r):r=t[3],r}const J4e=e=>{"use forget";const t=H.c(11),{children:n}=e,r=re();let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=Hn(),t[0]=i):i=t[0];const s=i;let o;t[1]!==n?(o=_.jsx(N2e,{children:n}),t[1]=n,t[2]=o):o=t[2];let a,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=_.jsx(z4e,{}),c=_.jsx(D4e,{}),t[3]=a,t[4]=c):(a=t[3],c=t[4]);let l;t[5]!==r?(l=s?nh(r)?_.jsx(T4e,{}):_.jsx(P4e,{}):null,t[5]=r,t[6]=l):l=t[6];let u;t[7]===Symbol.for("react.memo_cache_sentinel")?(u=_.jsx(Tse,{}),t[7]=u):u=t[7];let d;return t[8]!==o||t[9]!==l?(d=_.jsx(Lue,{children:_.jsx(U4e,{children:_.jsxs(K4e,{children:[o,a,c,l,u]})})}),t[8]=o,t[9]=l,t[10]=d):d=t[10],d},X4e=({resetError:e,componentStack:t,error:n})=>(E.useEffect(()=>{Q.addError(n),ot==null||ot.publish(Ho.ERROR_THROWN,{error:n})},[n]),_.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[_.jsx("h2",{children:"Content failed to load"}),!1,_.jsx(no,{color:"secondary",onClick:e,children:"Try again"}),!1]})),QN=we(!1),wHe=QN;function Q4e(e){const t=$o(e.document,{keydown:e5e,keyup:Ag,visibilitychange:Ag}),n=$o(e,{blur:Ag});return()=>{t(),n()}}const Z4e=500;let Nl;function e5e(e){t5e(e)?Nl!=null||(Nl=setTimeout(()=>{QN.set(!0)},Z4e)):Nl&&Ag()}function t5e(e){return!D_(e)&&e.key===(IB()?"Meta":"Control")&&VW(e)===bce()}function Ag(){clearTimeout(Nl),Nl=void 0,QN.set(!1)}var hi={},ZU;function n5e(){if(ZU)return hi;ZU=1,Object.defineProperty(hi,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=1;i<20;i++)r["f"+i]=111+i;function s(f,h,p){h&&!("byKey"in h)&&(p=h,h=null),Array.isArray(f)||(f=[f]);var g=f.map(function(y){return c(y,h)}),m=function(T){return g.some(function(b){return l(b,T)})},v=p==null?m:m(p);return v}function o(f,h){return s(f,h)}function a(f,h){return s(f,{byKey:!0},h)}function c(f,h){var p=h&&h.byKey,g={};f=f.replace("++","+add");var m=f.split("+"),v=m.length;for(var y in t)g[t[y]]=!1;var T=!0,b=!1,C=void 0;try{for(var O=m[Symbol.iterator](),w;!(T=(w=O.next()).done);T=!0){var A=w.value,x=A.endsWith("?")&&A.length>1;x&&(A=A.slice(0,-1));var R=d(A),P=t[R];if(A.length>1&&!P&&!n[A]&&!r[R])throw new TypeError('Unknown modifier: "'+A+'"');(v===1||!P)&&(p?g.key=R:g.which=u(A)),P&&(g[P]=x?null:!0)}}catch(L){b=!0,C=L}finally{try{!T&&O.return&&O.return()}finally{if(b)throw C}}return g}function l(f,h){for(var p in f){var g=f[p],m=void 0;if(g!=null&&(p==="key"&&h.key!=null?m=h.key.toLowerCase():p==="which"?m=g===91&&h.which===93?91:h.which:m=h[p],!(m==null&&g===!1)&&m!==g))return!1}return!0}function u(f){f=d(f);var h=r[f]||f.toUpperCase().charCodeAt(0);return h}function d(f){return f=f.toLowerCase(),f=n[f]||f,f}return hi.default=s,hi.isHotkey=s,hi.isCodeHotkey=o,hi.isKeyHotkey=a,hi.parseHotkey=c,hi.compareHotkey=l,hi.toKeyCode=u,hi.toKeyName=d,hi}var r5e=n5e();const i5e=Gt(r5e),s5e=ut(()=>{const e=we([]),t=we(void 0),n=Oe(()=>{const a=t();return e().filter(c=>tB(c,a))});function r(...a){return e.set(c=>[...a,...c]),()=>{e.set(c=>c.filter(l=>!a.includes(l)))}}function i(a){const c=nn(t);return t.set(a),()=>t.set(c)}function s(a){return $o(a.document,{keydown:o})}function o(a){if(a.key===void 0||a.repeat||D_(a)||a.defaultPrevented)return;const l=nn(e),u=nn(t);for(const d of l)if(o5e(d,a)&&tB(d,u)&&d.action(a)!==!1){Se.logEventWithStatsig("Keyboard Shortcut","keyboard_shortcut",{keyboardActionKey:d.key}),Q.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:d.key}),a.preventDefault();return}}return{actions$:n,addAction:r,limitActionGroups:i,registerEventListener:s}}),eB=new WeakMap;function o5e(e,t){let n=eB.get(e);if(!n){const{keyboardBinding:r,altKeyboardBindings:i}=e,s=[r,...i!=null?i:[]].map(o=>o.join("+"));n=i5e(s,{byKey:!0}),eB.set(e,n)}return n(t)}function tB(e,t){return!(e.enabled===!1||t!=null&&!t.includes(e.group))}function a5e(){const[e,t]=wc(),n=_t(),r=Fn(),i=e.get(Zv),s=e.get(ey),o=_s();E.useEffect(()=>{var l;let a=!1;if(o&&i==="true"){let u;o.isWorkspacePlan()?u=(l=o.name)!=null?l:"Workspace":u="Personal",r.info(n.formatMessage({id:"S4JoJY",defaultMessage:"Switched to {name}"},{name:u})),a=!0}let c=!1;if(typeof s=="string"&&c5e(s)){const u=iJ[s];r.danger(n.formatMessage(u),{toastId:"error_query_param",loggingTitle:s,loggingDescription:u.defaultMessage?String(u.defaultMessage):""}),c=!0}(e.has(Zv)||e.has(ey))&&t(u=>(a&&u.delete(Zv),c&&u.delete(ey),u),{replace:!0})},[i,o,s,n,e,t,r])}function c5e(e){return e in iJ}const iJ=Tt({invalidToken:{id:"UAhT32",defaultMessage:"The token is invalid"},continueFromApiGeneric:{id:"FHUH8C",defaultMessage:"Unable to continue your conversation"}});class ZN{constructor(t){U(this,"subscribers");this.subscribers=ZN.createTypedEmitterAllEventSubscribers(t)||{}}publish(t,n){const r=this.subscribers[t]||{};for(const i of Object.values(r))i(n)}subscribe(t,n){const r=fr();this.subscribers[t]||(this.subscribers[t]={});const i=this.subscribers[t];return i[r]=n,()=>{delete i[r]}}static createTypedEmitterAllEventSubscribers(t){return t.reduce((n,r)=>(n[r]={},n),{})}}class l5e extends ZN{constructor(){super(Object.values(SA))}getVersion(){return 1}}const u5e=new l5e;function d5e(){const e=re(),n=hr(e).getContext().user,r=sa(e),i=at(e);E.useEffect(()=>{var s;ot&&(r!=null&&r.accessToken&&((s=r==null?void 0:r.user)!=null&&s.id)?ot.publish(Ho.LOGIN_CHANGED,{userId:r.user.id,accountId:i==null?void 0:i.id,authToken:r.accessToken,statsigUser:n,email:r.user.email}):ot.publish(Ho.LOGOUT,{statsigUser:n}))},[i==null?void 0:i.id,r==null?void 0:r.accessToken,r==null?void 0:r.user,i,n])}function AHe(e){const t=re(),n=xt(t).windowStyle;E.useEffect(()=>{if(ot)return u5e.subscribe(SA.WINDOW_VISIBILITY_STATE_CHANGED,r=>{r.windowType===n&&r.state==="hidden"&&e()})},[e,n])}function xHe(){return ot?ot.takePhoto():Promise.resolve(void 0)}function IHe(){return ot?ot.requestSystemPermission(eW.MICROPHONE):Promise.resolve(!0)}function NHe(){return ot?ot.takeScreenshot():Promise.resolve(void 0)}function f5e({children:e}){a5e(),PB&&d5e();const t=re();return E.useEffect(()=>s5e(t).registerEventListener(window),[t]),E.useEffect(()=>Q4e(window),[]),_.jsx(_.Fragment,{children:e})}const nB="pioneer-script-ouia2h4";function h5e(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function p5e(){const e=window.gtag,t=window.dataLayer,n=Array.isArray(t)&&t.some(r=>Array.isArray(r)&&r[0]==="js");return typeof e=="function"&&n}function g5e(e,t){if(!document.getElementById(nB))try{const i=document.createElement("script");i.id=nB,i.src="https://www.googletagmanager.com/gtag/js?id=".concat(t),i.nonce=e,i.async=!0,document.body.appendChild(i)}catch(i){ft.logEvent("chatgpt_pioneer_cookie_error")}const r=h5e();return p5e()||r("js",new Date),r}const m5e=14400*1e3,_5e=ut(()=>({current:!1}));function v5e(e){return e?e.is_consent_required?!!e.consent_analytics:!0:!1}async function y5e(e){const t=tn(e);try{return await t.fetchQuery(I(S({},Av),{staleTime:m5e}))}catch(n){return}}async function C5e(e,t,{path:n,title:r,location:i}={}){if(typeof window>"u")return;const{cspScriptNonce:s}=xt(e);if(!s)return;const o=await y5e(e);if(!v5e(o))return;const a=g5e(s,t),c=_5e(e);c.current||(a("config",t,{send_page_view:!1}),c.current=!0);const l=r!=null?r:document.title,u=i!=null?i:window.location.href,d=n!=null?n:window.location.pathname+window.location.search+window.location.hash;a("event","page_view",{send_to:t,page_title:l,page_location:u,page_path:d})}const b5e=B(()=>k(()=>import("./dch45l9yrtbjo93p.js"),__vite__mapDeps([5,1])),{loading:e=>z(e)}),E5e=3600*24*30*3,S5e=B(()=>k(()=>import("./czndp739wd893pq6.js").then(e=>e.G),__vite__mapDeps([129,1,3,4,130,131,132,133,134,135,136,137,138,139,140,10,141,142,143,144,145,20,12,146,147,148,149,150,151,152,153,154,155,156,157,158,159,11,160,161,162,163,164,165,166,77,167,119,120,121,122,123,124,168,169,170,171,172,173,80,174,175,127,176,177,178,9,179,180])).then(e=>e.GlobalModalsComponent));ure();function O5e(){return ZDe(),null}PB&&k(()=>import("./hyhlhiufwizfpil2.js"),__vite__mapDeps([181,3,1,4])).then(e=>e.initDesktop()),Hn()&&k(()=>import("./2xqkqmwoatp8lqi2.js"),__vite__mapDeps([182,1,3,4])).then(e=>e.initHost());Pi(window.location.origin,"import.meta.env.VITE_APP_URL");function T5e({children:e}){"use no forget";const t=re(),[n,r]=E.useState(!1),i=Jt();E.useEffect(()=>{window._oaiHandleSessionExpired=function(o,a){var c;window.location.href.includes("/auth/login")||(Hn()&&((c=Jo())==null||c.onMissingSessionAuth()),r(!0),Se.logEvent("Account: Force Login Modal Shown",{content:"".concat(o,": ").concat(a)}))}},[]);function s(o){var a;try{const c=o.match(/^\/share\/(.+)$/);let l=De.getCookie(Te.SharedConversationId);if(!l&&c&&(l=c[1],De.setCookie(Te.SharedConversationId,l,{maxAge:E5e})),typeof l=="string"&&l&&(a=ft.getUser())!=null&&a.customIDs){const u=ft.getUser();u!=null&&u.customIDs&&(u.customIDs.shared_conversation_id=l)}}catch(c){c instanceof Error?$l.error("Error in shared conversation cookie code:",{message:c.message,stack:c.stack}):$l.error("Unknown error in shared conversation cookie code:",{error:c})}}return E.useEffect(()=>{s(i.pathname),Se.logPageView(),ft.logEvent("chatgpt_page_view",null,YT()),C5e(t,"G-9SHBSK2D9J",{path:i.pathname+i.search+i.hash,title:document.title,location:window.location.href}),eK("openaicom-did")},[t,i.pathname,i.search,i.hash]),_.jsx(_.Fragment,{children:_.jsx(ah,{name:"ui_boundary_error",fallback:({resetError:o,componentStack:a,error:c})=>_.jsx(X4e,{resetError:o,componentStack:a,error:c}),logRequestErrors:!0,children:_.jsx(J4e,{children:_.jsxs(f5e,{children:[e,null,_.jsx(O5e,{}),_.jsx(w5e,{isOpen:n,onLogInClick:()=>{r(!1)}}),_.jsx(S5e,{}),_.jsx(gne,{}),_.jsx(_pe,{}),!1]})})})})}const w5e=e=>{"use forget";const t=H.c(16),{isOpen:n,onLogInClick:r}=e,i=_t();let s;t[0]!==i?(s=i.formatMessage(yT.forceLogInModalTitle),t[0]=i,t[1]=s):s=t[1];let o;t[2]!==i?(o=i.formatMessage(yT.forceLogInModalDescription),t[2]=i,t[3]=o):o=t[3];let a;t[4]!==r?(a=async()=>{var f;if(Hn()){(f=Jo())==null||f.onMissingSessionAuth();return}const d=await CB.signOut({redirect:!1,callbackUrl:"/auth/login?next=".concat(encodeURIComponent(location.pathname+location.search+location.hash))});location.href=d.url,r()},t[4]=r,t[5]=a):a=t[5];let c;t[6]!==i?(c=i.formatMessage(yT.forceLogInModalButton),t[6]=i,t[7]=c):c=t[7];let l;t[8]!==a||t[9]!==c?(l=_.jsx(xl.Button,{onClick:a,title:c}),t[8]=a,t[9]=c,t[10]=l):l=t[10];let u;return t[11]!==n||t[12]!==s||t[13]!==o||t[14]!==l?(u=_.jsx(Fu,{testId:"modal-expired-session",isOpen:n,icon:b5e,title:s,description:o,type:"warning",onClose:p4e,primaryButton:l}),t[11]=n,t[12]=s,t[13]=o,t[14]=l,t[15]=u):u=t[15],u},yT=Tt({forceLogInModalTitle:{id:"App.forceLogInModalTitle",defaultMessage:"Your session has expired"},forceLogInModalDescription:{id:"App.forceLogInModalDescription",defaultMessage:"Please log in again to continue using the app."},forceLogInModalButton:{id:"App.forceLogInModalButton",defaultMessage:"Log in"}}),A5e=300*1e3;function sJ(e){return Math.min(Math.max(e,0),A5e)}function rB(e){return{entryType:e.entryType,duration:e.duration,name:e.name,startTime:e.startTime,target:e.target instanceof Element?wB(e.target,void 0):void 0}}async function x5e(e){var T,b;const t=await k(()=>import("./gtzzcebfbasf2ow3.js"),[]);if(!t)return;const{onCLS:n,onFCP:r,onLCP:i,onINP:s}=t,o=new Promise(C=>n(C)),a=new Promise(C=>r(C)),c=new Promise(C=>i(C));$e(e,"622488229")&&s(C=>{const O=sJ(C.value);try{Q.addAction("web-vitals.inp-long",{id:C.id,delta:C.delta,rating:C.rating,attribution:{interactionTarget:C.attribution.interactionTarget,nextPaintTime:C.attribution.nextPaintTime,interactionTime:C.attribution.interactionTime,interactionType:C.attribution.interactionType,processedEventEntries:C.attribution.processedEventEntries.map(rB),inputDelay:C.attribution.inputDelay,processingDuration:C.attribution.processingDuration,presentationDelay:C.attribution.presentationDelay,loadState:C.attribution.loadState},navigationType:C.navigationType,name:C.name,value:C.value,entries:C.entries.map(rB)})}catch(w){}ft.logEvent("chatgpt_long_web_inp",O,{value:String(C.value),value_trimmed:String(O)})},{durationThreshold:500});const l=xt(e),u={country:(T=l.userCountry)!=null?T:"unknown",continent:(b=l.userContinent)!=null?b:"unknown",device:fu()?"mobile":"desktop",track:"stable",cluster:l.cluster},d=C=>O=>Qn.hist(Wn.DEFAULT,"web.vitals.".concat(C),u,O.value);o.then(d("cls")),a.then(d("fcp")),c.then(d("lcp"));const[f,h,p]=await Promise.all([o,a,c]),g=C=>Math.min(Math.max(C,0),300*1e3),m=g(f.value),v=g(h.value),y=g(p.value);ft.logEvent("chatgpt_web_vitals",y,{cls:String(f.value),fcp:String(h.value),lcp:String(p.value),cls_trimmed:String(m),fcp_trimmed:String(v),lcp_trimmed:String(y)})}function I5e(e){const t=window.__reactRouterManifest,n=new Set([t.entry].concat(e.map(i=>t.routes[i])).flatMap(i=>[i.module,...i.imports].map(s=>new URL(s,location.origin).toString()))),r=performance.getEntriesByType("resource").filter(i=>n.has(i.name));if(r.length===n.size){const i={transfer_size:r.reduce((o,a)=>o+a.transferSize,0),encoded_body_size:r.reduce((o,a)=>o+a.encodedBodySize,0),decoded_body_size:r.reduce((o,a)=>o+a.decodedBodySize,0)},s={max_encoded_body_size:Math.max(...r.map(o=>o.encodedBodySize)),max_decoded_body_size:Math.max(...r.map(o=>o.decodedBodySize)),max_transfer_size:Math.max(...r.map(o=>o.transferSize))};Q.addAction("pageLoad.jsResourceSizes",I(S(S({},i),s),{count:r.length,route_id:e[e.length-1],route_ids:e}))}else Q.addAction("pageLoad.jsResourceSizes.missing",{missing:n.difference?Array.from(n.difference(new Set(r.map(i=>i.name)))):null})}const N5e=30;function R5e(){const e=bn.getItem(zt.LastPageLoadDate),t=new Date,n=typeof e=="string"?new Date(e):null,r=Math.min(n!=null?Math.floor((t.getTime()-n.getTime())/(1e3*60*60)):1/0,N5e*24),i=Math.floor(r/24);bn.setItem(zt.LastPageLoadDate,t.toISOString()),Q.addAction("time_since_last_page_load",{hoursSinceLastPageLoad:r,daysSinceLastPageLoad:i})}function P5e(){const e=window.document;let t,n;const r=s=>{t=s,cancelAnimationFrame(n),requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{t=void 0})})},i={capture:!0,passive:!0};e.addEventListener("pointerdown",s=>{r(s.pointerType==="touch"?"touch":"mouse")},i),e.addEventListener("keydown",()=>{r("keyboard")},i),e.addEventListener("focusin",()=>{qW(e.documentElement,"data-focus-mode",t)},i)}function k5e(e,t){try{return e()}catch(n){return t(n)}}function oJ(e){return e instanceof Element?e:e.parentElement?oJ(e.parentElement):null}function xg(e){const t=oJ(e);if(t){const n=wB(t,void 0);if(n)return n}return e.nodeName}const M5e=e=>e.type==="childList"?e.addedNodes.length>0?"added ".concat(xg(e.addedNodes[e.addedNodes.length-1])):e.removedNodes.length>0?"removed ".concat(e.removedNodes[e.removedNodes.length-1].nodeName," from ").concat(xg(e.target)):"unknown ".concat(e.type):e.type==="characterData"?"characterData in ".concat(xg(e.target)):"unknown ".concat(e.type),iB="checkVisibility"in Element.prototype?e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}):e=>!e.hasAttribute("aria-hidden")&&!e.classList.contains("hidden");function D5e(e){if(document.head.contains(e))return!1;if(e instanceof Element)return iB(e);if(e instanceof Text){const t=e.parentElement;if(t!=null)return iB(t)}return!0}function eR(e){const t=[],n=e(r=>t.push(r));return()=>(n(),t)}class L5e{constructor(){U(this,"timeouts",new Set)}add(t,n){const r=setTimeout(()=>{this.timeouts.delete(r),t()},n);this.timeouts.add(r)}clear(){for(const t of this.timeouts)clearTimeout(t);this.timeouts.clear()}}function CT(e,t){try{if(e.type&&!PerformanceObserver.supportedEntryTypes.includes(e.type))return()=>{};const n=new PerformanceObserver(r=>{for(const i of r.getEntries())t(i)});return n.observe(e),()=>n.disconnect()}catch(n){return()=>{}}}function j5e({idleTimeout:e=5e3,minIdleGap:t=100,filter:n}={}){return new Promise((r,i)=>{let s=null;const o=()=>{s!=null&&clearTimeout(s),s=setTimeout(c,e)};o();const a=eR(l=>{function u(f){(!n||n(f))&&(l({start:f.startTime,end:f.startTime+f.duration}),o())}const d=[CT({type:"resource",buffered:!0},u),CT({type:"longtask",buffered:!0,durationThreshold:0},u),CT({type:"navigation",buffered:!0},u)];return()=>{for(const f of d)f()}});function c(){try{const l=a();r(F5e(l,t))}catch(l){i(l)}}})}function F5e(e,t){const n=[];for(const{start:i,end:s}of e)n.push({t:i,delta:1}),n.push({t:s,delta:-1});n.sort((i,s)=>i.t===s.t?i.delta-s.delta:i.t-s.t);let r=0;for(let i=0;i<n.length;i++)if(r+=n[i].delta,r===0){const s=n[i].t,o=n[i+1];if(!o||o.t-s>=t)return s}throw new Error("no idle gap found")}function U5e(e){return"".concat(e.type," ").concat(e.target instanceof Node?xg(e.target):"(unknown target ".concat(e.target,")"))}function B5e(e){return eR(t=>{const n=new L5e;function r(i){const s=performance.now();n.add(()=>{t({start:s,end:performance.now(),label:U5e(i)})})}for(const i of e)window.addEventListener(i,r,{capture:!0});return()=>{for(const i of e)window.removeEventListener(i,r,{capture:!0});n.clear()}})}function G5e(e){return eR(t=>{const n=new MutationObserver(r=>{const i=Zp(r,e);i&&t({time:performance.now(),label:k5e(()=>M5e(i),s=>"error describing mutation: ".concat(s))})});return n.observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!1}),()=>n.disconnect()})}const W5e=["pointerdown","touchend","input","keydown","mouseleave","mouseenter","drop","beforeinput","pointerenter","dragend","pointercancel","compositionupdate","mousedown","dragleave","dragover","mouseup","pointerover","lostpointercapture","mouseover","gotpointercapture","dblclick","keyup","keypress","pointerup","compositionstart","auxclick","dragstart","touchstart","compositionend","pointerout","dragenter","touchcancel","click","contextmenu","mouseout","pointerleave"];function q5e(e){return e instanceof Element&&e.hasAttribute("data-ignore-for-page-load")}function aJ(e){return D5e(e)&&!q5e(e)}function V5e(e){for(const t of e)if(aJ(t))return!0;return!1}async function $5e(){if(typeof PerformanceObserver!="function")return{label:"no performance observer"};const e=W5e.filter(l=>!/(enter|leave|over|out)$/.test(l)),t=B5e(e),n=G5e(l=>l.type==="childList"&&V5e(l.addedNodes)||l.type==="characterData"&&aJ(l.target)),r=await j5e({filter:l=>l.duration!==0&&!(l.entryType==="resource"&&EJ(qB,l.name))}),i=t(),s=n(),o=i.find(l=>s.some(u=>l.start<u.time&&u.time<=l.end));if(o!=null&&o.start<r)return{label:"mutating input before page loaded",firstMutatingInput:o,pageIdle:r};const a=s.filter(l=>l.time<r+200),c=a.at(-1);return c?I(S({},c),{mutationsBeforeIdle:a.length,mutationsBeforeIdleList:a,pageIdle:r,firstMutatingInput:o}):{label:"no mutations before page idle",pageIdle:r,firstMutatingInput:o}}function H5e(){$5e().then(e=>{if("pageIdle"in e&&Q.addFirstTiming("pageLoad.pageIdle",{time:performance.timeOrigin+e.pageIdle}),"time"in e&&e.time!=null){const t=e.time,n=sJ(t);Q.addFirstTiming("pageLoad.lastMutation",{time:performance.timeOrigin+t}),Q.addAction("pageLoad.lastMutation",e),ft.logEvent("chatgpt_web_last_mutation_time",void 0,{raw_duration_ms:String(t),trimmed_duration_ms:String(n)})}else Q.addAction("pageLoad.withoutTiming",e);if("mutationsBeforeIdleList"in e)for(const t of e.mutationsBeforeIdleList)Q.addAction("pageLoad.mutation",t)})}const z5e=E.createContext(null);function $p({queryOptions:e}){"use no forget";const t=re(),n=tn(t);E.use(z5e);const r=Wm(e.queryKey);S({},e);const i=e,s="getNextPageParam"in i;return s?n.prefetchInfiniteQuery(i):n.prefetchQuery(i),_.jsx(ah,{name:"AwaitQuery: "+r,children:_.jsx(E.Suspense,{fallback:null,children:s?_.jsx(K5e,{queryOptions:i}):_.jsx(Y5e,{queryOptions:i})})})}function Y5e(e){"use forget";const{queryOptions:t}=e;return SB(t),null}function K5e(e){"use forget";const{queryOptions:t}=e;return SJ(t),null}function J5e(e){"use forget";const t=H.c(10),{shouldPrefetchAccount:n,shouldPrefetchUser:r,shouldPrefetchSystemHints:i}=e;let s;t[0]!==n?(s=n&&_.jsx($p,{queryOptions:w7()}),t[0]=n,t[1]=s):s=t[1];let o;t[2]!==r?(o=r&&_.jsx($p,{queryOptions:Hx}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==i?(a=i&&_.jsxs(_.Fragment,{children:[_.jsx($p,{queryOptions:eu("basic")}),_.jsx($p,{queryOptions:eu("connectors")})]}),t[4]=i,t[5]=a):a=t[5];let c;return t[6]!==s||t[7]!==o||t[8]!==a?(c=_.jsxs(_.Fragment,{children:[s,o,a]}),t[6]=s,t[7]=o,t[8]=a,t[9]=c):c=t[9],c}uFe(),P5e();const RHe=()=>!1,PHe=()=>[{title:"ChatGPT"},...gpe];function X5e(e){"use forget";const t=H.c(51),{ctx:n,children:r,clientBootstrap:i,isSearchPage:s,isOrlaWindowStyle:o,isOrlaUserAgent:a,isEdgeToEdge:c,isElectron:l,isIos:u,isAndroidChrome:d,windowStyle:f,ddTraceMetadata:h,jsp:p,lang:g,shouldUseScrollRestoration:m}=e,v=(g&&xG.has(g),"ltr");let y;t[0]!==n?(y=pu(n,"cache-cookies")?{"data-cache-cookies":"true"}:{},t[0]=n,t[1]=y):y=t[1];const T=l===!0||!1;let b;t[2]!==a||t[3]!==o||t[4]!==s||t[5]!==T?(b=ve({"snc-root":s,"mini-root":o,"mini-ua-root":a,"sdtrn-root":T}),t[2]=a,t[3]=o,t[4]=s,t[5]=T,t[6]=b):b=t[6];let C;t[7]===Symbol.for("react.memo_cache_sentinel")?(C=_.jsx("meta",{charSet:"UTF-8"}),t[7]=C):C=t[7];const O="width=device-width, initial-scale=1".concat(u?", maximum-scale=1":"").concat(c?", viewport-fit=cover":"");let w;t[8]!==O?(w=_.jsx("meta",{name:"viewport",content:O}),t[8]=O,t[9]=w):w=t[9];let A;t[10]===Symbol.for("react.memo_cache_sentinel")?(A=_.jsx(NJ,{}),t[10]=A):A=t[10];let x;t[11]!==d?(x=d?_.jsx(vpe,{}):null,t[11]=d,t[12]=x):x=t[12];let R,P,L,D,F;t[13]===Symbol.for("react.memo_cache_sentinel")?(F=_.jsx(ype,{}),R=_.jsx(Spe,{}),P=_.jsx(Cpe,{}),L=_.jsx(bpe,{}),D=_.jsx(Epe,{}),t[13]=R,t[14]=P,t[15]=L,t[16]=D,t[17]=F):(R=t[13],P=t[14],L=t[15],D=t[16],F=t[17]);let G;t[18]!==h?(G=h?_.jsxs(_.Fragment,{children:[_.jsx("meta",{name:"dd-trace-id",content:h.traceId}),_.jsx("meta",{name:"dd-trace-time",content:"".concat(h.traceTime)})]}):null,t[18]=h,t[19]=G):G=t[19];let Y,V;t[20]===Symbol.for("react.memo_cache_sentinel")?(Y=_.jsx(Ope,{}),V=_.jsx(RJ,{}),t[20]=Y,t[21]=V):(Y=t[20],V=t[21]);let M;t[22]!==i.cspScriptNonce?(M=_.jsx("script",{nonce:i.cspScriptNonce,suppressHydrationWarning:!0,children:'!function initScrollTimelineInline(){try{if(CSS.supports("animation-timeline: --works"))return;var t=new Map;document.addEventListener("animationstart",(n=>{if(!(n.target instanceof HTMLElement))return;const e=n.target.getAnimations().filter((t=>t.animationName===n.animationName));t.set(n.target,e)})),document.addEventListener("scrolltimelineload",(n=>{t.forEach(((t,e)=>{t.forEach((t=>{n.detail.upgradeAnimation(t,e)}))})),t.clear()}),{once:!0})}catch{}}();'}),t[22]=i.cspScriptNonce,t[23]=M):M=t[23];let te;t[24]!==G||t[25]!==M||t[26]!==w||t[27]!==x?(te=_.jsxs("head",{children:[C,w,A,x,F,R,P,L,D,G,Y,V,M]}),t[24]=G,t[25]=M,t[26]=w,t[27]=x,t[28]=te):te=t[28];let $;t[29]!==o||t[30]!==s?($=ve({snc:s,mini:o}),t[29]=o,t[30]=s,t[31]=$):$=t[31];let ie;t[32]!==i.cspScriptNonce||t[33]!==m?(ie=m?_.jsx(xJ,{nonce:i.cspScriptNonce}):null,t[32]=i.cspScriptNonce,t[33]=m,t[34]=ie):ie=t[34];let ue;t[35]!==i.cspScriptNonce?(ue=_.jsx(IJ,{nonce:i.cspScriptNonce}),t[35]=i.cspScriptNonce,t[36]=ue):ue=t[36];let me;t[37]!==r||t[38]!==$||t[39]!==ie||t[40]!==ue||t[41]!==f?(me=_.jsxs("body",{className:$,"data-window-style":f,children:[r,ie,ue]}),t[37]=r,t[38]=$,t[39]=ie,t[40]=ue,t[41]=f,t[42]=me):me=t[42];let J;return t[43]!==v||t[44]!==p||t[45]!==g||t[46]!==y||t[47]!==te||t[48]!==me||t[49]!==b?(J=_.jsxs("html",I(S({lang:g,"data-build":Jf,dir:v,"data-jsp":p},y),{className:b,suppressHydrationWarning:!0,children:[te,me]})),t[43]=v,t[44]=p,t[45]=g,t[46]=y,t[47]=te,t[48]=me,t[49]=b,t[50]=J):J=t[50],J}const kHe=OJ(function(t){"use forget";var Re,_e;const n=H.c(55),{clientBootstrap:r,disablePrefetch:i,shouldPrefetchAccount:s,shouldPrefetchUser:o,shouldPrefetchSystemHints:a,dd:c,jsp:l,statsigGateEvaluationsPromise:u,promoteCss:d,disableSSR:f}=TJ(),h=s===void 0?!1:s,p=o===void 0?!1:o,g=a===void 0?!1:a;{Xn.setGlobalContextProperty("cluster",r.cluster),Q.addFeatureFlagEvaluation("disable_prefetch",i),Q.addFeatureFlagEvaluation("promote_css",d),Q.addFeatureFlagEvaluation("disable_ssr",!!f);for(const[pe,j]of Object.entries((_e=(Re=r.session)==null?void 0:Re.rumViewTags)!=null?_e:{}))Xn.setViewContextProperty(pe,j)}let m;n[0]!==r?(m=()=>{var j;const pe=(j=At())!=null?j:xB();return FJ(pe,r),pe},n[0]=r,n[1]=m):m=n[1];const v=m;let y;n[2]!==v?(y=()=>v(),n[2]=v,n[3]=y):y=n[3];const[T,b]=E.useState(y);T||(Q.addError(new Error("Context not generated during intialization.")),b(v()));let C;n[4]!==T?(C=tn(T),n[4]=T,n[5]=C):C=n[5];const O=C;let w,A;n[6]!==T?(w=()=>{f4e(T)},A=[T],n[6]=T,n[7]=w,n[8]=A):(w=n[7],A=n[8]),E.useEffect(w,A),wee();let x,R;n[9]!==T?(x=()=>{R5e(),x5e(T),pu(T,"disable-pli")||H5e(),nUe(T)},R=[T],n[9]=T,n[10]=x,n[11]=R):(x=n[10],R=n[11]),E.useEffect(x,R);const P=EB();let L;n[12]!==P?(L=P.map(eUe),n[12]=P,n[13]=L):L=n[13];const D=L;let F;n[14]!==P?(F=P.some(Z5e),n[14]=P,n[15]=F):F=n[15];const G=F;let Y;n[16]!==r||n[17]!==T||n[18]!==O||n[19]!==D||n[20]!==u?(Y=()=>{{rje(T,O),X2e(T,r,O),u.then(Q5e);try{I5e(D)}catch(pe){const j=pe;Q.addError(j)}}return!0},n[16]=r,n[17]=T,n[18]=O,n[19]=D,n[20]=u,n[21]=Y):Y=n[21],E.useState(Y);const{pathname:V}=Jt();let M;n[22]!==V?(M=V.startsWith("/search"),n[22]=V,n[23]=M):M=n[23];const te=M;let $;n[24]!==T?($=Mi(T),n[24]=T,n[25]=$):$=n[25];const ie=$;let ue;n[26]===Symbol.for("react.memo_cache_sentinel")?(ue=Hn(),n[26]=ue):ue=n[26];const me=ue;let J;n[27]!==T?(J=hr(T).checkGate("1536947154"),n[27]=T,n[28]=J):J=n[28];const K=J,ne=!!f;let X;n[29]===Symbol.for("react.memo_cache_sentinel")?(X=_.jsx(Q0e,{}),n[29]=X):X=n[29];let ee;n[30]===Symbol.for("react.memo_cache_sentinel")?(ee=_.jsx(Khe,{}),n[30]=ee):ee=n[30];let ye;n[31]===Symbol.for("react.memo_cache_sentinel")?(ye=_.jsx(wJ,{}),n[31]=ye):ye=n[31];let de;n[32]!==h||n[33]!==g||n[34]!==p?(de=_.jsxs(T5e,{children:[ye,_.jsx(J5e,{shouldPrefetchAccount:h,shouldPrefetchUser:p,shouldPrefetchSystemHints:g})]}),n[32]=h,n[33]=g,n[34]=p,n[35]=de):de=n[35];let oe;n[36]!==O||n[37]!==de?(oe=_.jsxs(AJ,{client:O,children:[ee,de]}),n[36]=O,n[37]=de,n[38]=oe):oe=n[38];let Ee;n[39]!==ne||n[40]!==oe?(Ee=_.jsxs(B2e,{children:[X,_.jsx(hFe,{attribute:"class",children:_.jsx(tUe,{disableSSR:ne,children:oe})})]}),n[39]=ne,n[40]=oe,n[41]=Ee):Ee=n[41];let Ae;n[42]!==ie||n[43]!==r||n[44]!==T||n[45]!==c||n[46]!==K||n[47]!==te||n[48]!==l||n[49]!==G||n[50]!==Ee?(Ae=_.jsx(X5e,{ctx:T,clientBootstrap:r,lang:r.locale,isIos:r.isIos,isAndroidChrome:r.isAndroidChrome,isElectron:r.isElectron,isEdgeToEdge:K,isOrlaWindowStyle:ie,isOrlaUserAgent:me,isSearchPage:te,ddTraceMetadata:c,jsp:l,windowStyle:r.windowStyle,shouldUseScrollRestoration:G,children:Ee}),n[42]=ie,n[43]=r,n[44]=T,n[45]=c,n[46]=K,n[47]=te,n[48]=l,n[49]=G,n[50]=Ee,n[51]=Ae):Ae=n[51];let He;return n[52]!==T||n[53]!==Ae?(He=_.jsx(kJ,{sessionContext:T,children:Ae}),n[52]=T,n[53]=Ae,n[54]=He):He=n[54],He});function Q5e(e){for(const[t,n]of Object.entries(e))Q.addFeatureFlagEvaluation(t,n)}function Z5e(e){const t=e.handle;return t==null?void 0:t.useScrollRestoration}function eUe(e){return e.id}function tUe(e){"use forget";const t=H.c(4),{children:n,disableSSR:r}=e;if(!r){let s;return t[0]!==n?(s=_.jsx(_.Fragment,{children:n}),t[0]=n,t[1]=s):s=t[1],s}let i;return t[2]!==n?(i=_.jsx(V2e,{fallback:null,children:n}),t[2]=n,t[3]=i):i=t[3],i}function nUe(e){ipe(e).composer.autofocusDisabled$()&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{var r;const n=(r=document.querySelector("h1"))!=null?r:Q2e({root:document.body});n instanceof HTMLElement&&typeof n.focus=="function"&&n.focus()})})}export{Qn as $,en as A,Xr as B,hG as C,Q as D,sce as E,rc as F,kV as G,a7e as H,_te as I,$e as J,gre as K,bme as L,yh as M,St as N,vh as O,dx as P,nn as Q,Z as R,Tc as S,g7 as T,Rre as U,Me as V,Je as W,oL as X,Hn as Y,x_ as Z,Se as _,At as a,eie as a$,Wn as a0,U7 as a1,jT as a2,S6e as a3,$l as a4,Dpe as a5,ae as a6,ft as a7,R_ as a8,kae as a9,z as aA,no as aB,Fu as aC,DGe as aD,B7 as aE,we as aF,Lr as aG,Oe as aH,oWe as aI,X_ as aJ,o7e as aK,MCe as aL,Ffe as aM,eA as aN,NG as aO,bn as aP,o6e as aQ,Y_ as aR,The as aS,ST as aT,Be as aU,Ise as aV,pc as aW,mi as aX,pUe as aY,Ht as aZ,Zre as a_,jW as aa,nE as ab,gae as ac,yae as ad,fae as ae,vae as af,De as ag,Te as ah,$4e as ai,f3e as aj,un as ak,at as al,be as am,_h as an,Efe as ao,r$e as ap,f2 as aq,f7e as ar,Aqe as as,Jl as at,zt as au,jd as av,qe as aw,jA as ax,Ke as ay,B as az,YVe as b,dce as b$,DG as b0,Qf as b1,voe as b2,rX as b3,dUe as b4,kB as b5,uUe as b6,_A as b7,LG as b8,K9e as b9,tX as bA,fUe as bB,Tu as bC,hr as bD,Bn as bE,m7 as bF,Ou as bG,q4e as bH,p4 as bI,us as bJ,Ce as bK,Fhe as bL,p6e as bM,m6e as bN,Y$e as bO,z_ as bP,it as bQ,eGe as bR,Nae as bS,tn as bT,sGe as bU,dA as bV,bqe as bW,Cm as bX,hCe as bY,OBe as bZ,cGe as b_,gs as ba,Po as bb,Mae as bc,rn as bd,Ane as be,Ze as bf,_fe as bg,xt as bh,sHe as bi,nX as bj,pbe as bk,Pi as bl,nWe as bm,QDe as bn,nh as bo,Mi as bp,hUe as bq,Di as br,sA as bs,eX as bt,dh as bu,$fe as bv,e$e as bw,M8e as bx,n$e as by,v6e as bz,R1 as c,$J as c$,LN as c0,X$e as c1,M$e as c2,j$e as c3,_n as c4,I$e as c5,kfe as c6,H9e as c7,qY as c8,pT as c9,WBe as cA,QW as cB,B_ as cC,Rc as cD,QA as cE,wu as cF,ss as cG,dn as cH,Ot as cI,Ve as cJ,Oq as cK,Fi as cL,ph as cM,xPe as cN,BI as cO,nu as cP,NH as cQ,UI as cR,fh as cS,Tq as cT,wq as cU,KA as cV,$_ as cW,Kq as cX,rx as cY,Yq as cZ,oi as c_,Iae as ca,Zx as cb,A8e as cc,D7 as cd,D8e as ce,Une as cf,ux as cg,KUe as ch,JUe as ci,lne as cj,fne as ck,une as cl,$o as cm,FT as cn,aGe as co,_G as cp,so as cq,LW as cr,UGe as cs,Ghe as ct,zDe as cu,io as cv,iWe as cw,BGe as cx,ve as cy,Nse as cz,Fe as d,hv as d$,IB as d0,ks as d1,xse as d2,Yte as d3,ACe as d4,Lqe as d5,Fee as d6,kd as d7,gt as d8,TGe as d9,j6e as dA,ZA as dB,zW as dC,mc as dD,Z2e as dE,SUe as dF,Yv as dG,m4 as dH,m4e as dI,q6e as dJ,Kde as dK,V6e as dL,H_ as dM,BF as dN,I7 as dO,iHe as dP,bv as dQ,gH as dR,JVe as dS,_s as dT,S9e as dU,NV as dV,Ma as dW,jz as dX,Pt as dY,N as dZ,G8e as d_,p4e as da,xl as db,fse as dc,wUe as dd,sJ as de,PLe as df,nBe as dg,xGe as dh,IGe as di,UB as dj,Dqe as dk,IPe as dl,zz as dm,Yz as dn,Kz as dp,DPe as dq,Jz as dr,HW as ds,Xz as dt,Qz as du,Zz as dv,UPe as dw,Gq as dx,ii as dy,F6e as dz,ir as e,Uoe as e$,Cu as e0,ca as e1,mhe as e2,ghe as e3,Tne as e4,XG as e5,uf as e6,jEe as e7,A7 as e8,zce as e9,Pv as eA,oh as eB,Md as eC,Gm as eD,kGe as eE,Pd as eF,rd as eG,xce as eH,gr as eI,Qx as eJ,YV as eK,$V as eL,lWe as eM,k2e as eN,VBe as eO,DUe as eP,lG as eQ,r6e as eR,ut as eS,GK as eT,H6 as eU,MB as eV,$6 as eW,P$e as eX,F8 as eY,Us as eZ,BU as e_,LBe as ea,Pre as eb,ZPe as ec,MGe as ed,wne as ee,Eee as ef,fhe as eg,NUe as eh,Hx as ei,Zhe as ej,fu as ek,Ute as el,$Ue as em,Dte as en,GGe as eo,b0e as ep,Xne as eq,kN as er,hhe as es,Che as et,vhe as eu,gx as ev,Kd as ew,XPe as ex,nke as ey,F0e as ez,vu as f,m8e as f$,zoe as f0,P_ as f1,tae as f2,eWe as f3,Oo as f4,tu as f5,u6e as f6,TN as f7,fn as f8,ah as f9,Wx as fA,A$ as fB,P8e as fC,BJ as fD,oGe as fE,Zp as fF,O_ as fG,vqe as fH,o$e as fI,pw as fJ,Uh as fK,nA as fL,V2e as fM,c7e as fN,wGe as fO,qDe as fP,lx as fQ,WJ as fR,Aw as fS,T8e as fT,q0e as fU,s5e as fV,UBe as fW,BBe as fX,GBe as fY,Yqe as fZ,Rne as f_,DW as fa,MA as fb,GEe as fc,tVe as fd,Qo as fe,ua as ff,x7e as fg,Y9e as fh,vte as fi,R8e as fj,Ec as fk,w$ as fl,R7e as fm,NEe as fn,J7e as fo,Uu as fp,Si as fq,Dr as fr,u$ as fs,L8e as ft,CG as fu,B7e as fv,fv as fw,rfe as fx,iGe as fy,o7 as fz,yx as g,AV as g$,_8e as g0,Nne as g1,ice as g2,_Be as g3,Ine as g4,Ge as g5,Vg as g6,qBe as g7,T7e as g8,cie as g9,g2e as gA,IH as gB,Lce as gC,$W as gD,kW as gE,Dse as gF,u1 as gG,Q7e as gH,rWe as gI,pHe as gJ,gHe as gK,ZD as gL,yqe as gM,Cqe as gN,uIe as gO,ULe as gP,BLe as gQ,GLe as gR,b$e as gS,xY as gT,jV as gU,NDe as gV,v$e as gW,Ha as gX,Fx as gY,v_ as gZ,Eu as g_,mG as ga,Nbe as gb,KV as gc,Fqe as gd,eOe as ge,Wne as gf,fce as gg,uCe as gh,IW as gi,l6e as gj,h6e as gk,c6e as gl,Wqe as gm,Bqe as gn,qqe as go,Pqe as gp,XWe as gq,QWe as gr,jt as gs,Jqe as gt,FV as gu,fCe as gv,Eqe as gw,qLe as gx,t4 as gy,eae as gz,PCe as h,YUe as h$,iv as h0,Bx as h1,tye as h2,lye as h3,nye as h4,fye as h5,xA as h6,Mr as h7,IA as h8,VG as h9,lCe as hA,x$e as hB,G$e as hC,O$e as hD,Ic as hE,Xf as hF,P6e as hG,Fae as hH,dPe as hI,rA as hJ,_ne as hK,aUe as hL,QGe as hM,XGe as hN,tY as hO,F8e as hP,Zfe as hQ,k_ as hR,Lne as hS,kUe as hT,xre as hU,NIe as hV,zse as hW,mY as hX,xN as hY,XUe as hZ,QUe as h_,ji as ha,gW as hb,OA as hc,Foe as hd,Joe as he,Xoe as hf,y6e as hg,sBe as hh,UT as hi,kc as hj,Jo as hk,uPe as hl,zUe as hm,h3e as hn,rf as ho,V$e as hp,AGe as hq,NN as hr,RVe as hs,v3e as ht,U$e as hu,AVe as hv,MJ as hw,$$e as hx,xme as hy,L7 as hz,oo as i,DA as i$,dne as i0,sn as i1,nGe as i2,Yb as i3,x6e as i4,FW as i5,LGe as i6,doe as i7,vre as i8,d6e as i9,er as iA,eHe as iB,Av as iC,Xde as iD,Y6e as iE,tHe as iF,Qd as iG,Iqe as iH,y4e as iI,Nqe as iJ,Dne as iK,kne as iL,Sbe as iM,PUe as iN,Kce as iO,L6e as iP,Qle as iQ,eue as iR,tue as iS,rue as iT,iue as iU,oue as iV,sue as iW,nue as iX,Vle as iY,Z8e as iZ,Pne as i_,NY as ia,yFe as ib,w$e as ic,T$e as id,phe as ie,sne as ig,LJ as ih,THe as ii,bHe as ij,EHe as ik,QU as il,SHe as im,OHe as io,Ah as ip,hn as iq,n_ as ir,Vo as is,wce as it,ro as iu,Ice as iv,nf as iw,aX as ix,wHe as iy,oG as iz,a_ as j,PVe as j$,Su as j0,wH as j1,B0e as j2,mr as j3,f2e as j4,M6e as j5,Lo as j6,C3e as j7,xw as j8,WGe as j9,MWe as jA,lu as jB,kl as jC,cBe as jD,OS as jE,dg as jF,PV as jG,I3 as jH,oBe as jI,LWe as jJ,jWe as jK,DWe as jL,tGe as jM,l_ as jN,Ate as jO,wte as jP,Tte as jQ,tf as jR,Hs as jS,pWe as jT,eq as jU,xe as jV,c0 as jW,sf as jX,P9e as jY,k9e as jZ,mw as j_,a6e as ja,Z7e as jb,AN as jc,epe as jd,u8e as je,$x as jf,k6e as jg,f6e as jh,Ppe as ji,SBe as jj,n7e as jk,eo as jl,jne as jm,ZUe as jn,cne as jo,Tee as jp,sWe as jq,ot as jr,C6e as js,b6e as jt,uhe as ju,woe as jv,Vve as jw,J9e as jx,X9e as jy,z9e as jz,wN as k,B$e as k$,NVe as k0,mDe as k1,S$e as k2,G3e as k3,FD as k4,z8e as k5,NGe as k6,gWe as k7,CWe as k8,IN as k9,sv as kA,UWe as kB,kye as kC,RWe as kD,kWe as kE,RCe as kF,YWe as kG,o8e as kH,jY as kI,mn as kJ,p_ as kK,lBe as kL,vBe as kM,uBe as kN,RUe as kO,SN as kP,yN as kQ,Dye as kR,S_ as kS,iBe as kT,i3e as kU,xVe as kV,IVe as kW,gGe as kX,NHe as kY,xHe as kZ,pBe as k_,VY as ka,SWe as kb,Ece as kc,Ape as kd,wpe as ke,lGe as kf,w7 as kg,QSe as kh,t0e as ki,tBe as kj,Mye as kk,Mne as kl,H7e as km,Jne as kn,P0e as ko,D2e as kp,_ve as kq,pv as kr,mre as ks,Z$e as kt,ja as ku,Ii as kv,fBe as kw,O8e as kx,Pse as ky,ane as kz,yl as l,g$e as l$,ube as l0,Qp as l1,Cr as l2,ipe as l3,J$e as l4,V9e as l5,$g as l6,Q8e as l7,ofe as l8,Sce as l9,vWe as lA,npe as lB,M1 as lC,yce as lD,qWe as lE,VWe as lF,cWe as lG,Fpe as lH,Bpe as lI,ov as lJ,WDe as lK,bl as lL,av as lM,Nce as lN,t$e as lO,ZFe as lP,HEe as lQ,s8e as lR,hHe as lS,M7 as lT,OPe as lU,$te as lV,GJ as lW,v8e as lX,IIe as lY,tpe as lZ,NLe as l_,D_ as la,iVe as lb,wEe as lc,Y7e as ld,Ih as le,Tv as lf,vVe as lg,H4e as lh,ri as li,zh as lj,Cfe as lk,PN as ll,_He as lm,cUe as ln,qGe as lo,Rye as lp,Ns as lq,ct as lr,Pye as ls,BWe as lt,k7 as lu,lR as lv,oUe as lw,IHe as lx,_We as ly,bWe as lz,EM as m,cLe as m$,nHe as m0,Da as m1,g5e as m2,tne as m3,Q9e as m4,fR as m5,VW as m6,pGe as m7,eh as m8,Gg as m9,Bne as mA,bG as mB,_Ve as mC,d9e as mD,Qxe as mE,B6e as mF,G6e as mG,$de as mH,Vde as mI,E6e as mJ,Aae as mK,mbe as mL,K8e as mM,xWe as mN,IWe as mO,oa as mP,VCe as mQ,Abe as mR,CW as mS,Fne as mT,Ite as mU,fGe as mV,M7e as mW,Xxe as mX,k7e as mY,Zie as mZ,TW as m_,_Ge as ma,JI as mb,R9e as mc,NCe as md,p$e as me,hBe as mf,iS as mg,fHe as mh,x8e as mi,w8e as mj,ch as mk,Pu as ml,Q3e as mm,om as mn,aWe as mo,O7e as mp,Zqe as mq,Mc as mr,Sae as ms,jGe as mt,W8e as mu,P7e as mv,ZV as mw,vG as mx,kqe as my,ybe as mz,zs as n,PW as n$,c$e as n0,_7 as n1,rVe as n2,IUe as n3,tke as n4,aa as n5,Z0e as n6,sa as n7,MVe as n8,gY as n9,kHe as nA,bT as nB,jpe as nC,zWe as nD,tWe as nE,Gfe as nF,REe as nG,G9e as nH,I6e as nI,Z6e as nJ,c3e as nK,R6e as nL,OVe as nM,aY as nN,Bae as nO,OGe as nP,mA as nQ,hGe as nR,y$e as nS,a$e as nT,jLe as nU,K$e as nV,Nye as nW,Jg as nX,AUe as nY,RBe as nZ,ope as n_,vCe as na,wqe as nb,Mqe as nc,k0e as nd,T$ as ne,Tqe as nf,pu as ng,One as nh,vHe as ni,Sw as nj,jye as nk,W7e as nl,CY as nm,HUe as nn,Nre as no,GUe as np,eK as nq,up as nr,FBe as ns,xUe as nt,hse as nu,dse as nv,Ete as nw,Wm as nx,RHe as ny,PHe as nz,YDe as o,Ch as o$,Goe as o0,gpe as o1,SGe as o2,cfe as o3,ife as o4,i6e as o5,one as o6,PBe as o7,Ohe as o8,ene as o9,CPe as oA,Cre as oB,R$e as oC,Lt as oD,d7e as oE,d$e as oF,f$e as oG,xqe as oH,Nr as oI,nne as oJ,s$e as oK,xDe as oL,HVe as oM,eVe as oN,Gne as oO,JT as oP,rGe as oQ,TUe as oR,C4e as oS,EWe as oT,Zte as oU,Qte as oV,Xte as oW,Ie as oX,le as oY,Sre as oZ,AG as o_,X7e as oa,Kre as ob,BFe as oc,DD as od,vc as oe,RGe as of,zhe as og,Zo as oh,dv as oi,Ho as oj,u5e as ok,SA as ol,s6e as om,es as on,DBe as oo,CGe as op,Bg as oq,hp as or,cl as os,md as ot,MBe as ou,cW as ov,yre as ow,f1 as ox,Kx as oy,s$ as oz,Fn as p,N$e as p$,F7 as p0,Npe as p1,Rpe as p2,k8e as p3,cY as p4,Yx as p5,e$ as p6,Xqe as p7,C7e as p8,E7e as p9,t6e as pA,Qse as pB,A_ as pC,PA as pD,i5e as pE,Noe as pF,bW as pG,Fs as pH,oce as pI,wr as pJ,j9e as pK,Kqe as pL,L9e as pM,L7e as pN,j7e as pO,F7e as pP,cxe as pQ,$8e as pR,V8e as pS,Jde as pT,tIe as pU,XN as pV,S4e as pW,wFe as pX,TFe as pY,oHe as pZ,aHe as p_,qVe as pa,MDe as pb,eqe as pc,MV as pd,Kte as pe,Jte as pf,jqe as pg,pve as ph,ha as pi,n6e as pj,m$e as pk,_2 as pl,w6e as pm,A6e as pn,g_ as po,F4e as pp,yVe as pq,z$e as pr,L$e as ps,F$e as pt,E$e as pu,$Le as pv,m3e as pw,M3e as px,YLe as py,IBe as pz,BV as q,P2e as q$,r7e as q0,s7e as q1,VUe as q2,N7e as q3,C9e as q4,vPe as q5,wWe as q6,AWe as q7,Ep as q8,nce as q9,ZWe as qA,_$e as qB,JWe as qC,v7e as qD,OY as qE,ILe as qF,l7e as qG,b7e as qH,xne as qI,GV as qJ,zVe as qK,GDe as qL,h$e as qM,rBe as qN,lLe as qO,D$e as qP,Ro as qQ,NB as qR,gDe as qS,kBe as qT,Hh as qU,Sne as qV,U6e as qW,Ire as qX,oLe as qY,aLe as qZ,ws as q_,HWe as qa,l$e as qb,u$e as qc,Lye as qd,Mme as qe,Xo as qf,pm as qg,Vie as qh,fk as qi,Rme as qj,MUe as qk,OWe as ql,TWe as qm,NWe as qn,z7e as qo,_6e as qp,ZGe as qq,uGe as qr,em as qs,wae as qt,g6e as qu,nL as qv,k$e as qw,CBe as qx,Bt as qy,KWe as qz,mh as r,LLe as r$,fPe as r0,jae as r1,FUe as r2,Vte as r3,jUe as r4,EGe as r5,B2e as r6,WEe as r7,p$ as r8,C8e as r9,eN as rA,Lz as rB,nN as rC,fw as rD,jr as rE,Sge as rF,g8 as rG,qpe as rH,fWe as rI,gte as rJ,gqe as rK,tqe as rL,nqe as rM,mVe as rN,U9e as rO,O9e as rP,l2e as rQ,J3e as rR,J8e as rS,_Pe as rT,U7e as rU,Cn as rV,p9e as rW,z3e as rX,Xd as rY,wDe as rZ,BVe as r_,a8e as ra,c8e as rb,e8e as rc,BA as rd,Zxe as re,Uqe as rf,Ube as rg,bte as rh,X8e as ri,vH as rj,F9e as rk,Pbe as rl,T9e as rm,Oqe as rn,C$e as ro,Hxe as rp,D1 as rq,efe as rr,cx as rs,h9e as rt,Qde as ru,ox as rv,iN as rw,sN as rx,ZI as ry,Mz as rz,VDe as s,OH as s$,UVe as s0,Vn as s1,XT as s2,yCe as s3,Gqe as s4,DVe as s5,Vqe as s6,h7e as s7,p7e as s8,g7e as s9,B8e as sA,KGe as sB,TCe as sC,xh as sD,xBe as sE,Sh as sF,Y8e as sG,$We as sH,aBe as sI,dGe as sJ,mGe as sK,nhe as sL,KVe as sM,N9e as sN,Yie as sO,Yne as sP,S9 as sQ,nae as sR,$7e as sS,Dl as sT,xn as sU,ai as sV,FL as sW,ev as sX,B8 as sY,age as sZ,i7e as s_,U8e as sa,Qqe as sb,Pc as sc,D9e as sd,Ru as se,oqe as sf,sqe as sg,aqe as sh,cqe as si,lqe as sj,uqe as sk,dqe as sl,fqe as sm,hqe as sn,rqe as so,cCe as sp,pqe as sq,_qe as sr,fG as ss,Hte as st,iqe as su,zte as sv,BUe as sw,ps as sx,D6e as sy,Ene as sz,dBe as t,gBe as t$,bue as t0,qn as t1,wt as t2,Dn as t3,ZVe as t4,yHe as t5,vt as t6,AHe as t7,B3e as t8,Rqe as t9,l$ as tA,Sqe as tB,t7e as tC,e7e as tD,i$e as tE,afe as tF,wye as tG,hme as tH,c2 as tI,ZY as tJ,FWe as tK,GWe as tL,N8e as tM,dfe as tN,Jx as tO,ze as tP,I8e as tQ,_be as tR,xMe as tS,W3e as tT,TVe as tU,BMe as tV,GMe as tW,xEe as tX,d$ as tY,j8e as tZ,TEe as t_,WVe as ta,q$e as tb,H$e as tc,$Ve as td,jVe as te,ADe as tf,FVe as tg,LVe as th,$qe as ti,u7e as tj,m7e as tk,_7e as tl,GVe as tm,VVe as tn,DV as to,XVe as tp,QVe as tq,hne as tr,PGe as ts,t_ as tt,lW as tu,w0e as tv,w_ as tw,uW as tx,A0e as ty,DEe as tz,re as u,zBe as u$,EV as u0,G7e as u1,q9e as u2,Zne as u3,WWe as u4,P3e as u5,PWe as u6,mWe as u7,dme as u8,Z9e as u9,Jke as uA,Kke as uB,Yke as uC,zke as uD,$ke as uE,Vke as uF,qke as uG,Wke as uH,Gke as uI,Hke as uJ,GF as uK,Bke as uL,Uke as uM,hw as uN,CN as uO,SVe as uP,pPe as uQ,IMe as uR,NMe as uS,$F as uT,PMe as uU,Ds as uV,y8e as uW,RA as uX,Moe as uY,Toe as uZ,qUe as u_,S7e as ua,Q$e as ub,Hqe as uc,kVe as ud,k8 as ue,ABe as uf,wBe as ug,fMe as uh,dMe as ui,uMe as uj,WF as uk,lMe as ul,cMe as um,aMe as un,oMe as uo,EVe as up,bVe as uq,sMe as ur,iMe as us,rMe as ut,nMe as uu,tMe as uv,eMe as uw,Zke as ux,Qke as uy,Xke as uz,BW as v,JGe as v$,HBe as v0,YBe as v1,KBe as v2,JBe as v3,XBe as v4,QBe as v5,ZBe as v6,e6e as v7,g8e as v8,mHe as v9,VGe as vA,Yh as vB,Xie as vC,Cl as vD,Wve as vE,Sye as vF,Oye as vG,qve as vH,Ive as vI,hm as vJ,N1 as vK,wV as vL,_3e as vM,RIe as vN,dHe as vO,$oe as vP,sUe as vQ,xr as vR,lt as vS,ig as vT,Ype as vU,bx as vV,dWe as vW,Vge as vX,rme as vY,hWe as vZ,yWe as v_,mee as va,Hse as vb,d8e as vc,r8e as vd,S8e as ve,v0e as vf,p8e as vg,E8e as vh,b8e as vi,bm as vj,i8e as vk,KEe as vl,l8e as vm,n8e as vn,h8e as vo,t8e as vp,f8e as vq,uA as vr,Wte as vs,bGe as vt,LUe as vu,mP as vv,UUe as vw,_d as vx,HGe as vy,CHe as vz,TBe as w,e2e as w$,$Ge as w0,Ipe as w1,YGe as w2,zGe as w3,Tpe as w4,rHe as w5,J_ as w6,Qhe as w7,qae as w8,Iw as w9,bA as wA,Rce as wB,bce as wC,H8e as wD,A$e as wE,Id as wF,WUe as wG,ine as wH,rne as wI,D7e as wJ,vGe as wK,yGe as wL,WFe as wM,cHe as wN,uHe as wO,K6e as wP,NFe as wQ,qg as wR,nOe as wS,HY as wT,M9e as wU,WMe as wV,Q6e as wW,A9e as wX,x9e as wY,I9e as wZ,s9e as w_,Nw as wa,eBe as wb,ko as wc,ns as wd,Xe as we,Ir as wf,E8 as wg,Lge as wh,uWe as wi,gf as wj,M8 as wk,mBe as wl,T6e as wm,$T as wn,NBe as wo,rm as wp,K3e as wq,MMe as wr,y9e as ws,mqe as wt,K7e as wu,X6e as wv,v9e as ww,o2e as wx,r$ as wy,w7e as wz,kte as x,lh as x$,B9e as x0,n2e as x1,Ebe as x2,w9e as x3,W9e as x4,_De as x5,vDe as x6,ax as x7,I7e as x8,b9e as x9,Y3e as xA,Mie as xB,y7e as xC,$6e as xD,lUe as xE,uv as xF,q7e as xG,V7e as xH,$Be as xI,W6e as xJ,t9e as xK,n9e as xL,r9e as xM,i9e as xN,e9e as xO,Yde as xP,H6e as xQ,N7 as xR,z6e as xS,EBe as xT,yBe as xU,bBe as xV,W$e as xW,Poe as xX,R0e as xY,yDe as xZ,W4e as x_,E9e as xa,oVe as xb,sVe as xc,aVe as xd,cVe as xe,uVe as xf,lVe as xg,fVe as xh,dVe as xi,pVe as xj,hVe as xk,J6e as xl,W0e as xm,gVe as xn,A7e as xo,wVe as xp,u9e as xq,l9e as xr,g9e as xs,m9e as xt,X3e as xu,_9e as xv,o9e as xw,a9e as xx,c9e as xy,f9e as xz,QI as y,qse as y0,Kae as y1,O6e as y2,Li as y3,_$ as y4,nVe as y5,_ee as y6,OUe as y7,F6 as y8,x6 as y9,I6 as ya,ni as yb,vn as yc,Mg as yd,zf as ye,Xm as yf,Rl as yg,je as yh,Hm as yi,Uw as yj,jn as yk,Ln as yl,pr as ym,zqe as yn,$p as yo,jX as yp,jBe as yq,N6e as yr,$xe as ys,rIe as yt,AIe as yu,CVe as yv,th as z};
//# sourceMappingURL=kw08ajijqinojrwh.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fyw02vlaiv2vq6cj.js","assets/kfrdmkli83ureki3.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/conversation-small-lq38g8zw.css","assets/n6eim64jp78x17ti.js","assets/d24clsve229czwkp.js","assets/lg0oi3tmjv8kv2p4.js","assets/b3ungmqo5x8kj4fh.js","assets/h3fuzfk2fgvggqan.js","assets/iwr3smf9emayvqcc.js","assets/blk1aidbonmx8pb6.js","assets/es2rtlpx3e8ow3h1.js","assets/l4tfku3ir46rktkb.js","assets/gcjboak0179zspd8.js","assets/cg2tzhli3epljguj.js","assets/i9e855s7wyoxeff7.js","assets/fw3ln85zsg8szaqb.js","assets/xv5cvge3spv3jpvn.js","assets/ydzvfm0toss4freg.js","assets/lcx1qzdvrvh4xmnf.js","assets/oppbmh012axflnpf.js","assets/jgtgxlzsiw2y9b3q.js","assets/0cct8y3c72h08jxe.js","assets/ll76ypq7mdcbhtdc.js","assets/do0kdqk6x0fa68qx.js","assets/0gm9vowjt2kwou85.js","assets/bxgk09qvxvkate6l.js","assets/nm8ilf9kbsyolp9f.js","assets/m3joncw451cqbul2.js","assets/gy1lpvuoewmzh42c.js","assets/ipjj058rvhjq2uu2.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js"])))=>i.map(i=>d[i]);
var qi=Object.defineProperty,Vi=Object.defineProperties;var Ji=Object.getOwnPropertyDescriptors;var Kn=Object.getOwnPropertySymbols;var Ki=Object.prototype.hasOwnProperty,Yi=Object.prototype.propertyIsEnumerable;var Yn=(t,e,o)=>e in t?qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,yt=(t,e)=>{for(var o in e||(e={}))Ki.call(e,o)&&Yn(t,o,e[o]);if(Kn)for(var o of Kn(e))Yi.call(e,o)&&Yn(t,o,e[o]);return t},Jt=(t,e)=>Vi(t,Ji(e));import{h as Tt,d as Qo,r as C,j as s,M as Ot,e as As,c as Rt,_ as st,o as Qi,a as Xi,a9 as Zi}from"./kfrdmkli83ureki3.js";import{u as He,_ as pt,aP as us,au as ps,gF as el,ky as tl,a6 as re,e7 as Xo,mf as vs,cy as lt,dQ as sl,az as ot,N as ss,r as Oa,M as Ut,dk as Zo,d9 as ol,ak as Qt,bd as Ua,J as jt,aA as At,V as ut,br as ms,al as La,tz as nl,kk as en,d as ue,aB as Qn,d_ as Fa,dR as gs,me as al,x as so,tA as rl,z as $t,bk as za,g as Zs,e9 as Ho,c7 as oo,ed as il,j9 as no,n as Ha,tB as ll,bs as Go,ay as Ga,bM as cl,fn as dl,fi as ul,jx as Wa,qn as pl,aH as eo,eK as tn,ga as ml,eH as fl,tC as gl,tD as hl,tE as _l,gA as sn,jE as yl,gX as bl,jF as xl,kR as on,qj as $a,ql as Sl,eJ as nn,l as Kt,dL as wl,dM as qa,jB as tt,k8 as kl,kq as Va,ly as Cl,tF as Wo,fx as Gt,iR as Ml,iS as Tl,iU as Al,iQ as vl,co as Ja,jl as Il,eG as it,k7 as Yt,iu as Pl,cq as an,iY as El,tG as jl,fb as Ka,tH as Rl,tI as qs,kT as Eo,eN as Dl,tJ as Bl,tK as Nl,tL as Ol,gB as Ul,y as Ll,kP as Fl,j4 as rn,fw as Ya,fg as Qa,ce as Wt,tM as Xa,dW as zl,dX as Cs,O as $o,dZ as Qe,dP as Za,tN as ao,Y as to,dT as er,tO as ln,dY as os,oy as Xn,fq as tr,tP as Zn,lb as Hl,p3 as sr,tQ as cn,kt as dn,p as or,tR as Gl,p4 as Wl,tS as $l,qo as ql,lf as Vl,tT as un,fk as pn,mE as Jl,rD as Kl,le as nr,i1 as qo,e6 as Yl,tU as Ql,tV as Xl,tW as Zl,l8 as ec,fm as tc,tX as sc,tY as oc,d$ as nc,fC as ac,tZ as rc,qa as ar,l3 as rr,g7 as ir,t_ as ic,pl as lr,aD as lc,lp as Vo,c8 as cc,f1 as ea,f2 as jo,gj as dc,gi as uc,gl as pc,b_ as Ro,k3 as mc,ct as fc,w as gc,t$ as hc,b9 as _c,u0 as yc,bp as bc,kO as xc,j2 as Sc,aV as wc,aW as kc,ba as Jo,ml as Cc,q3 as Mc,jz as cr,u1 as Tc,fv as Ac,gU as vc,u2 as Ic,c2 as ta,k_ as Pc,bh as Ec,hw as jc,l6 as sa,u3 as oa,g6 as Rc,g8 as Dc,cd as Bc,c4 as Do,c3 as Nc,ps as Oc,l4 as na,c1 as Uc,u4 as Lc,u5 as Fc,P as Bo,a2 as aa,fu as ra,jT as Vs,u6 as zc,u7 as ia,ne as Hc,k9 as Gc,pv as Wc,cm as la,pt as $c,pu as qc,hF as Vc,j6 as Js,B as ca,ld as Jc,er as Kc,gO as No,u8 as da,$ as Oo,a0 as Uo,u9 as ua,Q as Yc,c9 as pa,lq as Qc,ix as Xc,ua as Zc,kE as ed,ub as td,jI as sd,f7 as od,uc as nd,is as ma,qU as ad,jG as fa,ud as rd,fV as id,L as ld,ue as cd,uf as dd,ug as ud,D as pd,jC as dr,sK as md,eU as ga,l0 as fd,kf as gd,H as hd,g2 as _d,gh as yd,eL as bd,mK as xd}from"./kw08ajijqinojrwh.js";import{qS as Sd,qT as Lo,aF as wd,aG as kd,aH as ur,aI as Ms,qU as ha,qV as Cd,iD as ze,qW as pr,qX as Md,qY as Td,nH as Ad,aN as Ss,aA as ns,qZ as vd,j as Id,q_ as Pd,ny as mr,q$ as Ed,o2 as jd,r0 as fr,my as _a,jD as gr,r1 as Rd,r2 as Dd,j9 as vt,jb as fs,r3 as z,r4 as Bd,r5 as Nd,M as Od,r6 as Ud,jm as ya,r7 as hr,r8 as Ld,r9 as Fd,ra as ba,rb as zd,rc as Hd,rd as Gd,re as Wd,rf as $d,rg as qd,rh as Vd,ri as Jd,rj as Kd,rk as Yd,rl as Qd,rm as xa,rn as Xd,ro as Zd,rp as eu,rq as tu,rr as su,rs as ou,rt as nu,ru as au,rv as ru,rw as iu,fA as lu,rx as cu,ry as du,rz as uu,rA as pu,jJ as mu,kA as fu,rB as gu,rC as hu,rD as _u,rE as yu,rF as bu,rG as xu,rH as Su,rI as wu,rJ as ku,rK as Cu,rL as Mu,rM as Tu,rN as Au,rO as vu,rP as Iu,rQ as Pu,rR as Eu,rS as ju,rT as Ru,rU as Du,rV as Bu,rW as Nu,fP as Ou,rX as _r,nL as Uu,rY as Lu,rZ as Fu,r_ as zu,r$ as Hu,jn as Gu,fK as yr,s0 as Sa,s1 as Ko,gB as br,bB as xr,s2 as Wu,s3 as $u,s4 as qu,bt as Vu,hW as wa,kY as ws,s5 as ks,s6 as Ju,s7 as Sr,s8 as Ku,s9 as Yu,sa as Qu,sb as Xu,sc as Zu,sd as ep,br as Ts,bF as tp,se as sp,sf as op,sg as np,sh as ap,mT as rp,si as ip,sj as ka,sk as wr,sl as lp,sm as cp,c8 as kr,sn as Cr,so as Mr,sp as Tr,sq as Fo,sr as dp,ss as up,st as zo,su as pp,sv as mp,sw as fp,m4 as gp,sx as Yo,sy as hp,sz as _p,sA as yp,sB as Ar,sC as bp,sD as xp,sE as Sp,sF as Ca,sG as wp,sH as kp,sI as Cp,sJ as Mp,sK as Tp,P as Ma,sL as Ap,sM as vp,sN as _s,lr as Ip,sO as Pp,sP as Ep,gd as jp,sQ as Rp,gf as Dp,sR as Bp,l$ as Np,sS as Op,sT as Up,sU as Lp,sV as Fp,sW as zp,h0 as Hp,h2 as Ta,sX as Aa,sY as Gp,sZ as Wp,s_ as $p,s$ as qp,c9 as Vp,jR as Jp,gN as Kp,mg as Yp,t0 as Qp,t1 as Xp,t2 as va,gu as ys,t3 as ds,t4 as Ia,nd as Zp,o6 as Pa,t5 as em,t6 as tm,t7 as sm,t8 as om,t9 as Ea,ta as nm,go as am,tb as rm,tc as im,le as lm,lf as cm,lg as dm,td as um,nB as pm,te as mm,hK as fm,tf as gm,mZ as bt,tg as hm,th as _m,ti as ym,tj as bm,tk as xm,tl as Sm,tm as Ks,tn as wm,aX as km,fM as Cm,to as Mm,tp as Tm,tq as Am,tr as vm,ts as Im,tt as Pm,tu as Em,tv as jm,tw as Rm,tx as Dm,ty as Bm,tz as Nm,tA as Om,tB as Um,tC as Lm,tD as Fm,gI as zm,km as Hm,d9 as Gm,cL as Wm,tE as $m,tF as qm,tG as Vm,tH as Jm,tI as Km,kJ as Ym}from"./fyw02vlaiv2vq6cj.js";import{P as Qm,u as Xm}from"./fwbhrttgqnv5nm9m.js";import{P as Zm}from"./w4rmhhxvug61xnae.js";import{b as ef}from"./lg0oi3tmjv8kv2p4.js";import{P as tf,u as sf,h as of}from"./nh6x5pasrftsddpw.js";import{u as nf}from"./c7lf6x6u521mpx19.js";function af(){const t=He(),e=Tt(),o=Qo(),{shouldShowBanner:n,referralCode:a,discountValue:l,discountDuration:r}=Sd();if(C.useEffect(()=>{n&&a&&l&&r&&(Lo.logShowRefereeRedemptionBanner(a),pt.logUpsellOrModalEvent(wd,{eventId:"referee_redemption_announcement_banner_shown",type:kd.UPSELL_OR_MODAL_TYPE_NUX_BANNER}))},[n,a,l,r]),!n||!l||!r)return null;const i=rf(e,l,r);return s.jsx(ur,{onPrimaryCtaClick:()=>{Ms(t,ha),Lo.logClickRefereeRedeemButton(a),us.removeItem(ps.ReferralCode),o(Cd(a))},primaryCtaText:s.jsx(Ot,{id:"refereeRedemptionBannerPrimaryCta",defaultMessage:"Redeem"}),onDismiss:()=>{Ms(t,ha),Lo.logCloseRefereeRedemptionBanner(a),us.removeItem(ps.ReferralCode)},title:i,content:s.jsx(Ot,{id:"xoQacW",defaultMessage:"Verify you are a student to get your first month of Plus for free."})})}function rf(t,e,o){var r,i;const a=(i=(r=el(e.currency_code).code.defaultMessage)==null?void 0:r.toString())!=null?i:tl,l=t.formatNumber(e.value,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:2});return e.value===Zm?s.jsx(Ot,{id:"refereeRedemptionFree",defaultMessage:"Finish redeeming your free month of Plus"}):s.jsx(Ot,{id:"refereeRedemptionDiscount",defaultMessage:"Get ChatGPT Plus for {discount} off for the {months, plural, one {first month} other {first # months}}.",values:{discount:l,months:o.num_periods}})}const j=As({personal_trainer_title:{id:"curated-starter-prompts.personal_trainer.title-2",defaultMessage:"Be my personal trainer"},personal_trainer_body:{id:"curated-starter-prompts.personal_trainer.body-3",defaultMessage:"Create a strength training plan"},personal_trainer_prompt:{id:"curated-starter-prompts.personal_trainer.prompt",defaultMessage:"Create a strength training plan with daily check-ins and guidance on exercises, sets, and progression."},upgrade_skin_care_title:{id:"curated-starter-prompts.upgrade_skin_care.title",defaultMessage:"Upgrade my skin care"},upgrade_skin_care_body:{id:"curated-starter-prompts.upgrade_skin_care.body",defaultMessage:"Use my selfie for skincare tips"},upgrade_skin_care_prompt:{id:"curated-starter-prompts.upgrade_skin_care.prompt",defaultMessage:"I want good advice with skin care and makeup. Based on a selfie, get me advice for skin and hair, along with any products. Ask for a selfie if not provided."},is_this_scam_title:{id:"curated-starter-prompts.is_this_scam.title",defaultMessage:"Is this text a scam?"},is_this_scam_body:{id:"curated-starter-prompts.is_this_scam.body",defaultMessage:"Tell me if this text is a scam"},is_this_scam_prompt:{id:"curated-starter-prompts.is_this_scam.prompt",defaultMessage:"I just got this weird text message. Here's a screenshot. Do you think it’s a scam or some kind of phishing attempt?"},motivate_me_title:{id:"curated-starter-prompts.motivate_me.title",defaultMessage:"Motivate me"},motivate_me_body:{id:"curated-starter-prompts.motivate_me.body-2",defaultMessage:"Help with procrastination"},motivate_me_prompt:{id:"curated-starter-prompts.motivate_me.prompt",defaultMessage:"I'm struggling to get started. Motivate me. Break things down into the very small tasks to make it easy. Ask me questions for context."},meal_prep_title:{id:"curated-starter-prompts.meal_prep.title",defaultMessage:"Simplify meal prep"},meal_prep_body:{id:"curated-starter-prompts.meal_prep.body-2",defaultMessage:"Create a protein-packed meal plan"},meal_prep_prompt:{id:"curated-starter-prompts.meal_prep.prompt",defaultMessage:"Create a plan for meal prep with a grocery list. I want more protein and less carbs. I have a limited budget. Keep it simple."},morning_routine_title:{id:"curated-starter-prompts.morning_routine.title",defaultMessage:"Build my morning routine"},morning_routine_body:{id:"curated-starter-prompts.morning_routine.body-2",defaultMessage:"Build a morning routine for focus"},morning_routine_prompt:{id:"curated-starter-prompts.morning_routine.prompt",defaultMessage:"Help me build a better morning routine. I want to start my days with more focus. Be my coach and keep me honest."},budget_title:{id:"curated-starter-prompts.budget.title",defaultMessage:"Make my budget"},budget_body:{id:"curated-starter-prompts.budget.body",defaultMessage:"Make my weekly budget"},budget_prompt:{id:"curated-starter-prompts.budget.prompt",defaultMessage:"I want to get control of my bills. Here's what is due, my monthly paycheck, other expenses. I'd like help getting on top of this and then trying to save some money."},color_theory_title:{id:"curated-starter-prompts.color_theory.title",defaultMessage:"Do my color theory analysis"},color_theory_body:{id:"curated-starter-prompts.color_theory.body",defaultMessage:"Do my color theory analysis"},color_theory_prompt:{id:"curated-starter-prompts.color_theory.prompt",defaultMessage:"Take a look at this picture of me. Using color theory, tell me my season and suggest my best colors for clothing and makeup. Ask for a picture if not provided."},fix_procrastination_title:{id:"curated-starter-prompts.fix_procrastination.title-2",defaultMessage:"Help with procrastination"},fix_procrastination_body:{id:"curated-starter-prompts.fix_procrastination.body",defaultMessage:"Help me start a project I put off"},fix_procrastination_prompt:{id:"curated-starter-prompts.fix_procrastination.prompt",defaultMessage:"I'm struggling to get started. Motivate me. Break things down into the very small tasks to make it easy. Ask me questions for context."},decode_this_text_message_title:{id:"curated-starter-prompts.decode_this_text_message.title",defaultMessage:"Decode this text message"},decode_this_text_message_body:{id:"curated-starter-prompts.decode_this_text_message.body",defaultMessage:"Decode this text message"},decode_this_text_message_prompt:{id:"curated-starter-prompts.decode_this_text_message.prompt",defaultMessage:"Decode this text and explain possible intentions behind it. I want to understand what the person might really mean."},help_me_get_recognized_title:{id:"curated-starter-prompts.help_me_get_recognized.title",defaultMessage:"Help me get recognized"},help_me_get_recognized_body:{id:"curated-starter-prompts.help_me_get_recognized.body",defaultMessage:"Help me get recognition for my work"},help_me_get_recognized_prompt:{id:"curated-starter-prompts.help_me_get_recognized.prompt",defaultMessage:"I'm not getting recognized for everything I'm doing. Be my personal coach. Ask me questions and help me advocate for myself."},anime_style_portrait_title:{id:"curated-starter-prompts.anime_style_portrait.title",defaultMessage:"Anime-style portrait"},anime_style_portrait_body:{id:"curated-starter-prompts.anime_style_portrait.body",defaultMessage:"Make an anime-style portrait of me"},anime_style_portrait_prompt:{id:"curated-starter-prompts.anime_style_portrait.prompt-2",defaultMessage:"Recreate this photo in a playful anime style. Ask for a photo if not provided."},action_figure_portrait_title:{id:"curated-starter-prompts.action_figure_portrait.title",defaultMessage:"Action figure portrait"},action_figure_portrait_body:{id:"curated-starter-prompts.action_figure_portrait.body",defaultMessage:"Turn me into an action figure"},action_figure_portrait_prompt:{id:"curated-starter-prompts.action_figure_portrait.prompt",defaultMessage:"Use my photo to create a 3D superhero action figure of me. Label the box and include my pet as a sidekick. Ask for my name and picture if not provided."},b_w_raindrop_portrait_title:{id:"curated-starter-prompts.b_w_raindrop_portrait.title-2",defaultMessage:"Cinematic raindrop portrait"},b_w_raindrop_portrait_body:{id:"curated-starter-prompts.b_w_raindrop_portrait.body-2",defaultMessage:"Make a cinematic raindrop portrait"},b_w_raindrop_portrait_prompt:{id:"curated-starter-prompts.b_w_raindrop_portrait.prompt-2",defaultMessage:"Make this photo a black and white portrait of the subject emerging from water. Make it feel cinematic. Ask for a photo if not provided."},b_w_studio_portrait_title:{id:"curated-starter-prompts.b_w_studio_portrait.title",defaultMessage:"Studio Portrait in B&W"},b_w_studio_portrait_body:{id:"curated-starter-prompts.b_w_studio_portrait.body",defaultMessage:"Make a studio portrait in B&W"},b_w_studio_portrait_prompt:{id:"curated-starter-prompts.b_w_studio_portrait.prompt",defaultMessage:"Fashion photography portrait, black and white. high fashion, editorial lighting, cinematic."},create_a_puppet_title:{id:"curated-starter-prompts.create_a_puppet.title",defaultMessage:"Create a puppet"},create_a_puppet_body:{id:"curated-starter-prompts.create_a_puppet.body",defaultMessage:"Create a puppet"},create_a_puppet_prompt:{id:"curated-starter-prompts.create_a_puppet.prompt",defaultMessage:"Make a puppet from this photo. Ask for a photo if not provided."},document_summary_title:{id:"curated-starter-prompts.document_summary.title",defaultMessage:"Read this document"},document_summary_body:{id:"curated-starter-prompts.document_summary.body",defaultMessage:"Read this document"},document_summary_prompt:{id:"curated-starter-prompts.document_summary.prompt",defaultMessage:"Give me the key points from this document. Start simple, and I'll ask follow-up questions. Ask for a document if not provided."},recommend_a_movie_title:{id:"curated-starter-prompts.recommend_a_movie.title",defaultMessage:"Recommend a movie"},recommend_a_movie_body:{id:"curated-starter-prompts.recommend_a_movie.body",defaultMessage:"Recommend a movie"},recommend_a_movie_prompt:{id:"curated-starter-prompts.recommend_a_movie.prompt",defaultMessage:"What are well-reviewed movies I should watch tonight? I love action and comedies."},create_a_quiz_title:{id:"curated-starter-prompts.create_a_quiz.title",defaultMessage:"Create a quiz"},create_a_quiz_body:{id:"curated-starter-prompts.create_a_quiz.body",defaultMessage:"Create a quiz"},create_a_quiz_prompt:{id:"curated-starter-prompts.create_a_quiz.prompt",defaultMessage:"I have an exam this week. Create a quiz based on my notes and ask questions one at a time."},language_coach_spanish_title:{id:"curated-starter-prompts.language_coach_spanish.title",defaultMessage:"Be my language coach"},language_coach_spanish_body:{id:"curated-starter-prompts.language_coach_spanish.body",defaultMessage:"Help me practice Spanish vocabulary and gently correct my mistakes."},language_coach_spanish_prompt:{id:"curated-starter-prompts.language_coach_spanish.prompt",defaultMessage:"I'm trying to master some Spanish vocabulary before traveling to Mexico. Can you practice with me and gently correct my mistakes when I get something wrong?"},friendly_text_roommate_title:{id:"curated-starter-prompts.friendly_text_roommate.title",defaultMessage:"Make this text sound friendlier"},friendly_text_roommate_body:{id:"curated-starter-prompts.friendly_text_roommate.body",defaultMessage:"Make this text to my roommate kinder, please"},friendly_text_roommate_prompt:{id:"curated-starter-prompts.friendly_text_roommate.prompt",defaultMessage:"My roommate plays heavy metal music really loud late at night. Can you draft a friendly text that asks him to turn it down after 10 PM?"},packing_list_camping_title:{id:"curated-starter-prompts.packing_list_camping.title",defaultMessage:"Make a packing list"},packing_list_camping_body:{id:"curated-starter-prompts.packing_list_camping.body",defaultMessage:"Create a minimal packing list for a camping trip"},packing_list_camping_prompt:{id:"curated-starter-prompts.packing_list_camping.prompt",defaultMessage:"I'm planning on going camping for the first time with friends this weekend and don't have much room to bring stuff with me. Can you create a packing list with just the bare essentials?"},gift_under_20_title:{id:"curated-starter-prompts.gift_under_20.title",defaultMessage:"Find a great gift under $20"},gift_under_20_body:{id:"curated-starter-prompts.gift_under_20.body",defaultMessage:"Give me gift ideas under $20 for a friend"},gift_under_20_prompt:{id:"curated-starter-prompts.gift_under_20.prompt",defaultMessage:"My friend loves kpop music and they have a birthday coming up. Can you recommend a gift for them that's under $20?"},plan_game_night_mystery_title:{id:"curated-starter-prompts.plan_game_night_mystery.title",defaultMessage:"Plan a game night"},plan_game_night_mystery_body:{id:"curated-starter-prompts.plan_game_night_mystery.body",defaultMessage:"Plan a themed game night with six friends"},plan_game_night_mystery_prompt:{id:"curated-starter-prompts.plan_game_night_mystery.prompt",defaultMessage:"I want to host a murder mystery party with my friends. Can you help plan the mystery and suggest fun food and drinks to serve?"},decluttering_plan_4_weeks_title:{id:"curated-starter-prompts.decluttering_plan_4_weeks.title",defaultMessage:"Make a decluttering plan"},decluttering_plan_4_weeks_body:{id:"curated-starter-prompts.decluttering_plan_4_weeks.body",defaultMessage:"Create a 4 week, 10 mins-per-day decluttering plan"},decluttering_plan_4_weeks_prompt:{id:"curated-starter-prompts.decluttering_plan_4_weeks.prompt",defaultMessage:"I want to have more kitchen countertop space. Can you help me create a decluttering plan so I can make more space? I only want to spend 10 minutes per day on it over the next 4 weeks."},fridge_recipes_three_title:{id:"curated-starter-prompts.fridge_recipes_three.title",defaultMessage:"Recipes for what's in my fridge"},fridge_recipes_three_body:{id:"curated-starter-prompts.fridge_recipes_three.body",defaultMessage:"Give me 3 quick recipes with chicken, lettuce, and salsa"},fridge_recipes_three_prompt:{id:"curated-starter-prompts.fridge_recipes_three.prompt",defaultMessage:"I'm stumped on what to make for dinner. Can you create three easy recipes for me based on the leftover chicken, lettuce, and cheese I have in my fridge?"},desk_stretch_routine_title:{id:"curated-starter-prompts.desk_stretch_routine.title",defaultMessage:"Make a daily desk stretch routine"},desk_stretch_routine_body:{id:"curated-starter-prompts.desk_stretch_routine.body",defaultMessage:"Draft a desk-friendly, 5-minute stretch routine"},desk_stretch_routine_prompt:{id:"curated-starter-prompts.desk_stretch_routine.prompt",defaultMessage:"I have a lot of back pain at my desk job. Can you suggest some 5-minute stretches that I can do discreetly at the office?"},prep_for_appointment_title:{id:"curated-starter-prompts.prep_for_appointment.title",defaultMessage:"Prep for an appointment"},prep_for_appointment_body:{id:"curated-starter-prompts.prep_for_appointment.body",defaultMessage:"Write questions + checklist for my PT visit"},prep_for_appointment_prompt:{id:"curated-starter-prompts.prep_for_appointment.prompt",defaultMessage:"I have a mild cough and a runny nose. Help me prep for my doctor's visit with a checklist."},decode_bill_title:{id:"curated-starter-prompts.decode_bill.title",defaultMessage:"Decode this bill"},decode_bill_body:{id:"curated-starter-prompts.decode_bill.body",defaultMessage:"Explain this charge and what I owe, simply."},decode_bill_prompt:{id:"curated-starter-prompts.decode_bill.prompt",defaultMessage:"I'll upload my bill. Help me understand why I was charged this amount and how much I owe in plain language."},decision_pros_cons_title:{id:"curated-starter-prompts.decision_pros_cons.title",defaultMessage:"Help me make a decision"},decision_pros_cons_body:{id:"curated-starter-prompts.decision_pros_cons.body",defaultMessage:"Compare A vs B: give me pros, cons, and a recommendation"},decision_pros_cons_prompt:{id:"curated-starter-prompts.decision_pros_cons.prompt",defaultMessage:"I'm trying to decide what to buy. Can you give me pros, cons and a recommendation?"},organize_notes_title:{id:"curated-starter-prompts.organize_notes.title",defaultMessage:"Organize my notes"},organize_notes_body:{id:"curated-starter-prompts.organize_notes.body",defaultMessage:"Turn these notes into an outline + actions."},organize_notes_prompt:{id:"curated-starter-prompts.organize_notes.prompt",defaultMessage:"Summarize this document and give me a list of key points and action items"},excel_shortcuts_cheatsheet_title:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.title",defaultMessage:"Write an Excel cheat sheet"},excel_shortcuts_cheatsheet_body:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.body",defaultMessage:"Write a one-page Excel shortcuts cheat sheet."},excel_shortcuts_cheatsheet_prompt:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.prompt",defaultMessage:"I'm trying to get better at making spreadsheets. Can you make me a one-page cheat sheet to help me be more productive?"},presentation_outline_title:{id:"curated-starter-prompts.presentation_outline.title",defaultMessage:"Start a presentation outline"},presentation_outline_body:{id:"curated-starter-prompts.presentation_outline.body",defaultMessage:"Outline a 6-slide deck with key points"},presentation_outline_prompt:{id:"curated-starter-prompts.presentation_outline.prompt",defaultMessage:"I'm putting together a presentation on the digestive system for school. Outline a 6-slide deck with key points to help me get started."},social_media_captions_title:{id:"curated-starter-prompts.social_media_captions.title",defaultMessage:"Draft social media captions"},social_media_captions_body:{id:"curated-starter-prompts.social_media_captions.body",defaultMessage:"Write 5 short captions for a summer trip Instagram post"},social_media_captions_prompt:{id:"curated-starter-prompts.social_media_captions.prompt",defaultMessage:"Here's an Instagram campaign I'm running. Write short captions for each of the images."},true_crime_watch_list_title:{id:"curated-starter-prompts.true_crime_watch_list.title",defaultMessage:"Make a true crime watch list"},true_crime_watch_list_body:{id:"curated-starter-prompts.true_crime_watch_list.body",defaultMessage:"Recommend true crime books, videos, and podcasts"},true_crime_watch_list_prompt:{id:"curated-starter-prompts.true_crime_watch_list.prompt",defaultMessage:"Recommend books, videos, and podcasts about true crime that I might like."},help_me_translate_title:{id:"curated-starter-prompts.help_me_translate.title",defaultMessage:"Help me translate"},help_me_translate_body:{id:"curated-starter-prompts.help_me_translate.body",defaultMessage:"Help me translate"},help_me_translate_prompt:{id:"curated-starter-prompts.help_me_translate.prompt",defaultMessage:"Help me translate between English and another language. Explain tone and nuance where helpful."},professional_email_boss_title:{id:"curated-starter-prompts.professional_email_boss.title",defaultMessage:"Write a professional email"},professional_email_boss_body:{id:"curated-starter-prompts.professional_email_boss.body",defaultMessage:"Draft a clear email to my boss about a project that I want to kick off."},professional_email_boss_prompt:{id:"curated-starter-prompts.professional_email_boss.prompt",defaultMessage:"Draft a clear email to my boss about a project that I want to kick off."},summarize_financial_news_title:{id:"curated-starter-prompts.summarize_financial_news.title",defaultMessage:"Summarize this"},summarize_financial_news_body:{id:"curated-starter-prompts.summarize_financial_news.body",defaultMessage:"Summarize the latest financial news with three takeaways that are relevant for me."},summarize_financial_news_prompt:{id:"curated-starter-prompts.summarize_financial_news.prompt",defaultMessage:"Summarize the latest financial news with three takeaways that are relevant for me."},breathing_meditation_title:{id:"curated-starter-prompts.breathing_meditation.title",defaultMessage:"Lead a breathing meditation"},breathing_meditation_body:{id:"curated-starter-prompts.breathing_meditation.body",defaultMessage:"Lead a 5-minute breathing meditation"},breathing_meditation_prompt:{id:"curated-starter-prompts.breathing_meditation.prompt",defaultMessage:"Lead a 5-minute breathing meditation."},voice_mock_interview_title:{id:"curated-starter-prompts.voice_mock_interview.title",defaultMessage:"Mock interview coach"},voice_mock_interview_body:{id:"curated-starter-prompts.voice_mock_interview.body",defaultMessage:"Do a voice mock interview for [role] and give feedback"},voice_mock_interview_prompt:{id:"curated-starter-prompts.voice_mock_interview.prompt",defaultMessage:"Do a voice mock interview for [role] and give feedback."},toast_speech_coach_title:{id:"curated-starter-prompts.toast_speech_coach.title",defaultMessage:"Toast coach"},toast_speech_coach_body:{id:"curated-starter-prompts.toast_speech_coach.body",defaultMessage:"Listen to my toast; coach pacing, pauses, and tone"},toast_speech_coach_prompt:{id:"curated-starter-prompts.toast_speech_coach.prompt",defaultMessage:"Listen to my toast; coach my pacing, pauses, and tone."},logo_ideas_simple_title:{id:"curated-starter-prompts.logo_ideas_simple.title",defaultMessage:"Create simple logo ideas"},logo_ideas_simple_body:{id:"curated-starter-prompts.logo_ideas_simple.body",defaultMessage:"Create simple logo ideas for my business, they should be clean and modern"},logo_ideas_simple_prompt:{id:"curated-starter-prompts.logo_ideas_simple.prompt",defaultMessage:"Create simple logo ideas for my business, they should be clean and modern"},translation_generic_title:{id:"curated-starter-prompts.translation_generic.title",defaultMessage:"Translation"},translation_generic_body:{id:"curated-starter-prompts.translation_generic.body",defaultMessage:"Translate text between languages"},translation_generic_prompt:{id:"curated-starter-prompts.translation_generic.prompt",defaultMessage:"Translate the following text to [language]. Keep it natural and explain any tricky phrases."},professional_profile_picture_title:{id:"curated-starter-prompts.professional_profile_picture.title",defaultMessage:"Make a professional profile picture"},professional_profile_picture_body:{id:"curated-starter-prompts.professional_profile_picture.body",defaultMessage:"Create a professional headshot of me using this photo"},professional_profile_picture_prompt:{id:"curated-starter-prompts.professional_profile_picture.prompt",defaultMessage:"Create a professional headshot of me using this photo. I'll upload the photo."},visualize_concept_benzene_title:{id:"curated-starter-prompts.visualize_concept_benzene.title",defaultMessage:"Visualize a concept"},visualize_concept_benzene_body:{id:"curated-starter-prompts.visualize_concept_benzene.body",defaultMessage:"Create an image to help me visualize the 3D molecular structure for benzene."},visualize_concept_benzene_prompt:{id:"curated-starter-prompts.visualize_concept_benzene.prompt",defaultMessage:"Please create an image to help me visualize the 3D molecular structure for benzene."},redesign_this_room_title:{id:"curated-starter-prompts.redesign_this_room.title",defaultMessage:"Redesign this room"},redesign_this_room_body:{id:"curated-starter-prompts.redesign_this_room.body",defaultMessage:"Make this room a mid-century modern style with new paint and furniture."},redesign_this_room_prompt:{id:"curated-starter-prompts.redesign_this_room.prompt",defaultMessage:"Redesign this room with new paint and furniture. I'll upload a photo of the room."},make_me_an_action_figure_title:{id:"curated-starter-prompts.make_me_an_action_figure.title",defaultMessage:"Make me an action figure"},make_me_an_action_figure_body:{id:"curated-starter-prompts.make_me_an_action_figure.body",defaultMessage:"Draw a picture of me as a real-life action figure. Include my interests, like gardening and baking, in the packaging."},make_me_an_action_figure_prompt:{id:"curated-starter-prompts.make_me_an_action_figure.prompt",defaultMessage:"Draw a picture of me as a real-life action figure. Include my interests, like gardening and baking, in the packaging. I'll upload my photo."},promo_code_title:{id:"curated-starter-prompts.promo_code.title",defaultMessage:"Find shopping promo codes"},promo_code_body:{id:"curated-starter-prompts.promo_code.body",defaultMessage:"Find shopping promo codes"},promo_code_prompt:{id:"curated-starter-prompts.promo_code.prompt",defaultMessage:"Find promo codes or coupons for my favorite sites. Confirm they're active."},tailor_lesson_plan_title:{id:"curated-starter-prompts.tailor_lesson_plan.title",defaultMessage:"Tailor a lesson plan"},tailor_lesson_plan_body:{id:"curated-starter-prompts.tailor_lesson_plan.body",defaultMessage:"Tailor a lesson plan"},tailor_lesson_plan_prompt:{id:"curated-starter-prompts.tailor_lesson_plan.prompt",defaultMessage:"Draft a first-pass lesson plan for my class that I can refine. Use anything you already know about my grade level, subject, and teaching context — and if you're missing key details, please ask me before you begin. The plan should include: 1) A clear, student-friendly learning objective 2) A timed schedule (warm-up, direct instruction, guided practice, independent work, closure) 3) Materials needed 4) 2 to 3 quick formative check-for-understanding strategies. Keep this as a helpful starting draft that I can adjust to my teaching style."},questions_on_different_levels_title:{id:"curated-starter-prompts.questions_on_different_levels.title",defaultMessage:"Questions on different levels"},questions_on_different_levels_body:{id:"curated-starter-prompts.questions_on_different_levels.body",defaultMessage:"Generate practice problems"},questions_on_different_levels_prompt:{id:"curated-starter-prompts.questions_on_different_levels.prompt",defaultMessage:"Generate practice problems on a topic (ask me to specify the topic). Include a mix of easy, medium, and challenging problems and label the difficulty. Provide a fully worked solution for each problem that shows each step clearly so I can confirm accuracy or share with students who need support. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_quiz_title:{id:"curated-starter-prompts.create_quiz.title",defaultMessage:"Create a quiz"},create_quiz_body:{id:"curated-starter-prompts.create_quiz.body",defaultMessage:"Draft instructions for assignments"},create_quiz_prompt:{id:"curated-starter-prompts.create_quiz.prompt",defaultMessage:"Help me write clear, student-facing instructions for an assignment in my class on a topic (ask me to specify the topic). Include: 1) Step-by-step directions for what students need to do 2) A short summary of how it will be graded (criteria or rubric overview) 3) A clear due date format 4) Any formatting or submission requirements. Use friendly, concise language that students will easily understand. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},design_activity_title:{id:"curated-starter-prompts.design_activity.title",defaultMessage:"Design an activity"},design_activity_body:{id:"curated-starter-prompts.design_activity.body",defaultMessage:"Design a first-week activity"},design_activity_prompt:{id:"curated-starter-prompts.design_activity.prompt",defaultMessage:"Design a first-week classroom community-building activity for my class that helps students get to know each other and teaches basic routines. Provide: a catchy activity name, a brief script I can use to introduce it, step-by-step directions, estimated time, and any printable or question prompts I could put on a handout or slide.If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_worksheet_title:{id:"curated-starter-prompts.create_worksheet.title",defaultMessage:"Create a worksheet"},create_worksheet_body:{id:"curated-starter-prompts.create_worksheet.body",defaultMessage:"Brainstorm unique worksheet ideas"},create_worksheet_prompt:{id:"curated-starter-prompts.create_worksheet.prompt",defaultMessage:"Brainstorm 8 to 10 creative worksheet ideas to help my students practice on a topic (ask me to specify the topic). For each idea, briefly describe the activity format (e.g., puzzle, matching, error correction, mini-scenarios) and what skills it targets, so I can quickly turn them into printable worksheets. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_slide_deck_title:{id:"curated-starter-prompts.create_slide_deck.title",defaultMessage:"Create a slide"},create_slide_deck_body:{id:"curated-starter-prompts.create_slide_deck.body",defaultMessage:"Create a presentation for your next lesson"},create_slide_deck_prompt:{id:"curated-starter-prompts.create_slide_deck.prompt",defaultMessage:"Outline a slide-by-slide presentation. Ask me to specify the topic. For each slide, specify: the title, bullet-point content, any visuals or diagrams I should include, and 1–2 questions I can ask students. Aim for about 6 slides and keep the language accessible for this grade level. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_resource_title:{id:"curated-starter-prompts.create_resource.title",defaultMessage:"Create reading materials"},create_resource_body:{id:"curated-starter-prompts.create_resource.body",defaultMessage:"Write an informational article about"},create_resource_prompt:{id:"curated-starter-prompts.create_resource.prompt",defaultMessage:"Write a 600-word informational article about a topic (ask me to specify the topic). Use clear headings, bold 6 to 8 key vocabulary words with simple definitions in parentheses, and end with 4 comprehension questions (2 literal, 2 inferential) plus 2 discussion questions. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need to complete this!"},make_topic_more_engaging_title:{id:"curated-starter-prompts.make_topic_more_engaging.title",defaultMessage:"Make a topic more engaging"},make_topic_more_engaging_body:{id:"curated-starter-prompts.make_topic_more_engaging.body",defaultMessage:"Make a topic more engaging"},make_topic_more_engaging_prompt:{id:"curated-starter-prompts.make_topic_more_engaging.prompt",defaultMessage:"Help me make a topic more engaging for my students. Ask me to specify the topic. Suggest: 1 strong analogy or metaphor, 1 quick demo or hands-on activity, 1 short story or scenario I could tell, and 1 game or interactive activity—each with simple, concrete steps I can use in class. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need"},image_gen_prompt_title:{id:"curated-starter-prompts.image_gen_prompt.title",defaultMessage:"Generate an image"},image_gen_prompt_body:{id:"curated-starter-prompts.image_gen_prompt.body",defaultMessage:"Generate a fun image for teaching a topic"},image_gen_prompt_prompt:{id:"curated-starter-prompts.image_gen_prompt.prompt",defaultMessage:"Generate a simple, colorful visual of a topic for my class. Ask me to specify the topic. Use a familiar metaphor or example (e.g., pizza slices, building blocks, animals). If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_learning_objectives_title:{id:"curated-starter-prompts.create_learning_objectives.title",defaultMessage:"Create learning objectives"},create_learning_objectives_body:{id:"curated-starter-prompts.create_learning_objectives.body",defaultMessage:"Create learning objectives for your next unit"},create_learning_objectives_prompt:{id:"curated-starter-prompts.create_learning_objectives.prompt",defaultMessage:"Draft 5 to 8 clear, student-friendly learning objectives for my next unit on a topic (ask me to specify the topic). Organize them from foundational to advanced, and include the relevant standard code next to each one. Use any information you already know about my grade level, subject, or teaching context — if anything's missing, just ask me to confirm it. Ask me to upload curriculum or standards document, it is optional but will help align everything accurately."},plan_project_activity_title:{id:"curated-starter-prompts.plan_project_activity.title",defaultMessage:"Plan a project activity"},plan_project_activity_body:{id:"curated-starter-prompts.plan_project_activity.body",defaultMessage:"Plan a project-based activity"},plan_project_activity_prompt:{id:"curated-starter-prompts.plan_project_activity.prompt",defaultMessage:"Design a project-based learning activity on a topic (ask me to specify the topic) for my students. Include: 1) an engaging project overview 2) driving question 3) step-by-step timeline (with checkpoints) 4) suggested group roles 5) a simple rubric outline with 3 to 4 criteria (e.g., content understanding, collaboration, creativity, presentation). If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."}});function vr(){const t=Tt();return[{type:ze.Starter,id:"morning_routine",title:t.formatMessage(j.morning_routine_title),body:t.formatMessage(j.morning_routine_body),prompt:t.formatMessage(j.morning_routine_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-sun-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-sun-sm@2x.png",accentColor:"#F9C00D",isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"be_my_personal_trainer",title:t.formatMessage(j.personal_trainer_title),body:t.formatMessage(j.personal_trainer_body),prompt:t.formatMessage(j.personal_trainer_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-fitness-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-fitness-sm@2x.png",accentColor:"#000000",isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"fix_procrastination",title:t.formatMessage(j.fix_procrastination_title),body:t.formatMessage(j.fix_procrastination_body),prompt:t.formatMessage(j.fix_procrastination_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"upgrade_skin_care",title:t.formatMessage(j.upgrade_skin_care_title),body:t.formatMessage(j.upgrade_skin_care_body),prompt:t.formatMessage(j.upgrade_skin_care_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-skincare-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-skincare-sm@2x.png",accentColor:"#F3A38C",requires_file_upload:!0,isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"meal_prep",title:t.formatMessage(j.meal_prep_title),body:t.formatMessage(j.meal_prep_body),prompt:t.formatMessage(j.meal_prep_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-food@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-food-40@2x.png",accentColor:"#E66E04",isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"budget",title:t.formatMessage(j.budget_title),body:t.formatMessage(j.budget_body),prompt:t.formatMessage(j.budget_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-preadsheet@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-preadsheet-40@2x.png",accentColor:"#F8907F",source:"CURATED"},{type:ze.Starter,id:"color_theory",title:t.formatMessage(j.color_theory_title),body:t.formatMessage(j.color_theory_body),prompt:t.formatMessage(j.color_theory_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-color-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-color-sm@2x.png",accentColor:"#EABD7E",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"help_me_get_recognized",title:t.formatMessage(j.help_me_get_recognized_title),body:t.formatMessage(j.help_me_get_recognized_body),prompt:t.formatMessage(j.help_me_get_recognized_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-award@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-award-40@2x.png",source:"CURATED"},{type:ze.Starter,id:"anime_style_portrait",title:t.formatMessage(j.anime_style_portrait_title),body:t.formatMessage(j.anime_style_portrait_body),prompt:t.formatMessage(j.anime_style_portrait_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-anime@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-anime-40@2x.png",coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/anime@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/anime.png",requires_file_upload:!0,systemHints:[re.PictureV2],source:"CURATED"},{type:ze.Starter,id:"action_figure_portrait",title:t.formatMessage(j.action_figure_portrait_title),body:t.formatMessage(j.action_figure_portrait_body),prompt:t.formatMessage(j.action_figure_portrait_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-actionfigure@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-actionfigure-40@2x.png",coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/action-figure@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/action-figure.png",requires_file_upload:!0,systemHints:[re.PictureV2],source:"CURATED"},{type:ze.Starter,id:"b_w_raindrop_portrait",title:t.formatMessage(j.b_w_raindrop_portrait_title),body:t.formatMessage(j.b_w_raindrop_portrait_body),prompt:t.formatMessage(j.b_w_raindrop_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/raindrop-bnw@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/raindrop-bnw.png",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"b_w_studio_portrait",title:t.formatMessage(j.b_w_studio_portrait_title),body:t.formatMessage(j.b_w_studio_portrait_body),prompt:t.formatMessage(j.b_w_studio_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/studio-bnw@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/studio-bnw.png",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"create_a_puppet",title:t.formatMessage(j.create_a_puppet_title),body:t.formatMessage(j.create_a_puppet_body),prompt:t.formatMessage(j.create_a_puppet_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/create-puppet@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/create-puppet.png",requires_file_upload:!0,systemHints:[re.PictureV2],source:"CURATED"},{type:ze.Starter,id:"document_summary",title:t.formatMessage(j.document_summary_title),body:t.formatMessage(j.document_summary_body),prompt:t.formatMessage(j.document_summary_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-paper-pen@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-paper-pen-40@2x.png",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"recommend_a_movie",title:t.formatMessage(j.recommend_a_movie_title),body:t.formatMessage(j.recommend_a_movie_body),prompt:t.formatMessage(j.recommend_a_movie_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-movies@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-movies-40@2x.png",source:"CURATED"},{type:ze.Starter,id:"create_a_quiz",title:t.formatMessage(j.create_a_quiz_title),body:t.formatMessage(j.create_a_quiz_body),prompt:t.formatMessage(j.create_a_quiz_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"promo_code",title:t.formatMessage(j.promo_code_title),body:t.formatMessage(j.promo_code_body),prompt:t.formatMessage(j.promo_code_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",source:"CURATED"}]}function lf(){"use forget";const t=Rt.c(112),e=Tt();let o;t[0]!==e?(o=e.formatMessage(j.tailor_lesson_plan_title),t[0]=e,t[1]=o):o=t[1];let n;t[2]!==e?(n=e.formatMessage(j.tailor_lesson_plan_body),t[2]=e,t[3]=n):n=t[3];let a;t[4]!==e?(a=e.formatMessage(j.tailor_lesson_plan_prompt),t[4]=e,t[5]=a):a=t[5];let l;t[6]!==o||t[7]!==n||t[8]!==a?(l={type:ze.Starter,id:"tailor_lesson_plan",title:o,body:n,prompt:a,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[6]=o,t[7]=n,t[8]=a,t[9]=l):l=t[9];let r;t[10]!==e?(r=e.formatMessage(j.questions_on_different_levels_title),t[10]=e,t[11]=r):r=t[11];let i;t[12]!==e?(i=e.formatMessage(j.questions_on_different_levels_body),t[12]=e,t[13]=i):i=t[13];let g;t[14]!==e?(g=e.formatMessage(j.questions_on_different_levels_prompt),t[14]=e,t[15]=g):g=t[15];let m;t[16]!==r||t[17]!==i||t[18]!==g?(m={type:ze.Starter,id:"questions_on_different_levels",title:r,body:i,prompt:g,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[16]=r,t[17]=i,t[18]=g,t[19]=m):m=t[19];let x;t[20]!==e?(x=e.formatMessage(j.create_quiz_title),t[20]=e,t[21]=x):x=t[21];let S;t[22]!==e?(S=e.formatMessage(j.create_quiz_body),t[22]=e,t[23]=S):S=t[23];let y;t[24]!==e?(y=e.formatMessage(j.create_quiz_prompt),t[24]=e,t[25]=y):y=t[25];let c;t[26]!==y||t[27]!==x||t[28]!==S?(c={type:ze.Starter,id:"create_quiz_k12",title:x,body:S,prompt:y,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[26]=y,t[27]=x,t[28]=S,t[29]=c):c=t[29];let _;t[30]!==e?(_=e.formatMessage(j.design_activity_title),t[30]=e,t[31]=_):_=t[31];let b;t[32]!==e?(b=e.formatMessage(j.design_activity_body),t[32]=e,t[33]=b):b=t[33];let h;t[34]!==e?(h=e.formatMessage(j.design_activity_prompt),t[34]=e,t[35]=h):h=t[35];let k;t[36]!==_||t[37]!==b||t[38]!==h?(k={type:ze.Starter,id:"design_activity",title:_,body:b,prompt:h,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-color-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-color-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[36]=_,t[37]=b,t[38]=h,t[39]=k):k=t[39];let v;t[40]!==e?(v=e.formatMessage(j.create_worksheet_title),t[40]=e,t[41]=v):v=t[41];let d;t[42]!==e?(d=e.formatMessage(j.create_worksheet_body),t[42]=e,t[43]=d):d=t[43];let U;t[44]!==e?(U=e.formatMessage(j.create_worksheet_prompt),t[44]=e,t[45]=U):U=t[45];let f;t[46]!==v||t[47]!==d||t[48]!==U?(f={type:ze.Starter,id:"create_worksheet",title:v,body:d,prompt:U,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-preadsheet@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-preadsheet-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[46]=v,t[47]=d,t[48]=U,t[49]=f):f=t[49];let I;t[50]!==e?(I=e.formatMessage(j.create_resource_title),t[50]=e,t[51]=I):I=t[51];let P;t[52]!==e?(P=e.formatMessage(j.create_resource_body),t[52]=e,t[53]=P):P=t[53];let O;t[54]!==e?(O=e.formatMessage(j.create_resource_prompt),t[54]=e,t[55]=O):O=t[55];let w;t[56]!==I||t[57]!==P||t[58]!==O?(w={type:ze.Starter,id:"create_resource",title:I,body:P,prompt:O,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[56]=I,t[57]=P,t[58]=O,t[59]=w):w=t[59];let T;t[60]!==e?(T=e.formatMessage(j.make_topic_more_engaging_title),t[60]=e,t[61]=T):T=t[61];let $;t[62]!==e?($=e.formatMessage(j.make_topic_more_engaging_body),t[62]=e,t[63]=$):$=t[63];let p;t[64]!==e?(p=e.formatMessage(j.make_topic_more_engaging_prompt),t[64]=e,t[65]=p):p=t[65];let A;t[66]!==T||t[67]!==$||t[68]!==p?(A={type:ze.Starter,id:"make_topic_more_engaging",title:T,body:$,prompt:p,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-sun-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-sun-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[66]=T,t[67]=$,t[68]=p,t[69]=A):A=t[69];let L;t[70]!==e?(L=e.formatMessage(j.image_gen_prompt_title),t[70]=e,t[71]=L):L=t[71];let q;t[72]!==e?(q=e.formatMessage(j.image_gen_prompt_body),t[72]=e,t[73]=q):q=t[73];let X;t[74]!==e?(X=e.formatMessage(j.image_gen_prompt_prompt),t[74]=e,t[75]=X):X=t[75];let K;t[76]===Symbol.for("react.memo_cache_sentinel")?(K=[re.PictureV2],t[76]=K):K=t[76];let M;t[77]!==L||t[78]!==q||t[79]!==X?(M={type:ze.Starter,id:"image_gen_prompt",title:L,body:q,prompt:X,category:"dalle",iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-painting.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-painting-sm.png",accentColor:"#F9C00D",systemHints:K,source:"CURATED"},t[77]=L,t[78]=q,t[79]=X,t[80]=M):M=t[80];let ee;t[81]!==e?(ee=e.formatMessage(j.plan_project_activity_title),t[81]=e,t[82]=ee):ee=t[82];let Q;t[83]!==e?(Q=e.formatMessage(j.plan_project_activity_body),t[83]=e,t[84]=Q):Q=t[84];let F;t[85]!==e?(F=e.formatMessage(j.plan_project_activity_prompt),t[85]=e,t[86]=F):F=t[86];let Z;t[87]!==ee||t[88]!==Q||t[89]!==F?(Z={type:ze.Starter,id:"plan_project_activity",title:ee,body:Q,prompt:F,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-paper-pen@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-paper-pen-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[87]=ee,t[88]=Q,t[89]=F,t[90]=Z):Z=t[90];let ne;t[91]!==e?(ne=e.formatMessage(j.create_learning_objectives_title),t[91]=e,t[92]=ne):ne=t[92];let D;t[93]!==e?(D=e.formatMessage(j.create_learning_objectives_body),t[93]=e,t[94]=D):D=t[94];let Y;t[95]!==e?(Y=e.formatMessage(j.create_learning_objectives_prompt),t[95]=e,t[96]=Y):Y=t[96];let pe;t[97]!==ne||t[98]!==D||t[99]!==Y?(pe={type:ze.Starter,id:"create_learning_objectives",title:ne,body:D,prompt:Y,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-checklist@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-checklist-40@2x.png",accentColor:"#F9C00D",source:"CURATED",requires_file_upload:!0},t[97]=ne,t[98]=D,t[99]=Y,t[100]=pe):pe=t[100];let _e;return t[101]!==c||t[102]!==k||t[103]!==f||t[104]!==w||t[105]!==A||t[106]!==l||t[107]!==M||t[108]!==Z||t[109]!==pe||t[110]!==m?(_e=[l,m,c,k,f,w,A,M,Z,pe],t[101]=c,t[102]=k,t[103]=f,t[104]=w,t[105]=A,t[106]=l,t[107]=M,t[108]=Z,t[109]=pe,t[110]=m,t[111]=_e):_e=t[111],_e}function ja(t,e=[],o=4,n=2){if(!t||t.length===0)return[];const a=c=>c.category==="dalle"||!!c.coverImageUrl,l=(c,_)=>c.id!=null&&_.id!=null?c.id===_.id:c===_,r=(c,_)=>e.some(b=>_&&!_(b)?!1:l(b,c)),i=t.filter(c=>c.category==="dalle"&&!r(c,a));let g=i.length>0?i[Math.floor(Math.random()*i.length)]:void 0;if(!g){const c=t.filter(_=>!!_.coverImageUrl).filter(_=>!r(_,a));g=c.length>0?c[Math.floor(Math.random()*c.length)]:void 0}const x=[...t.filter(c=>!(c===g||a(c)||r(c,_=>!a(_))))].sort(()=>Math.random()-.5);if(g){const c=Math.max(0,o-1),_=[],b=new Set;for(const v of x){const d=v.iconImageUrl;if(!b.has(d)&&(b.add(d),_.push(v),_.length===c))break}if(_.length<c){for(const v of x)if(!_.includes(v)&&(_.push(v),_.length===c))break}const h=[..._],k=Math.min(Math.max(n,0),Math.max(o-1,0));return h.splice(k,0,g),h.slice(0,o)}const S=[],y=new Set;for(const c of x){const _=c.iconImageUrl;if(!y.has(_)&&(y.add(_),S.push(c),S.length===o))break}if(S.length<o){for(const c of x)if(!S.includes(c)&&(S.push(c),S.length===o))break}return S.slice(0,o)}const cf=As({subtitle:{id:"starter-prompt-banner.subtitle",defaultMessage:"Just add a picture — ChatGPT will do the rest. <tryNow>Try now</tryNow>"}});function df(){"use forget";const[t]=Xo("oai/apps/hasDismissedStarterPromptBanner",!1,uf);return!t}function uf(t){return typeof t=="boolean"}function pf(t){"use forget";var Q;const e=Rt.c(35),{className:o}=t,n=pr(),a=Md(),[l,r]=Xo("oai/apps/hasDismissedStarterPromptBanner",!1,gf),i=vr(),g=Td(),m=He(),y=Ad(m,!1).get("image_gen_prompts_type","evergreen")==="trending"?g:i;let c;e[0]!==y?(c=y.filter(ff),e[0]=y,e[1]=c):c=e[1];const _=c,b=_[Math.floor(Math.random()*_.length)];let h,k;e[2]!==b?(h=()=>{var F;b&&pt.logEventWithStatsig("Show Image Gen Prompt","chatgpt_prompt_show_suggestion",{type:b.type,id:b.id,index:0,theme:(F=b.theme)!=null?F:""})},k=[b],e[2]=b,e[3]=h,e[4]=k):(h=e[3],k=e[4]),C.useEffect(h,k);const v=vs();if(!b)return null;let d;e[5]!==b?(d=[b],e[5]=b,e[6]=d):d=e[6];const U=d,f=v,I=b.title,P=(Q=b.coverImageUrl)!=null?Q:b.coverThumbnailImageUrl;let O;e[7]!==U||e[8]!==n||e[9]!==f||e[10]!==a||e[11]!==b?(O=F=>{var ne;if(f){F.preventDefault();return}if(F.stopPropagation(),b.requires_file_upload===!0&&((ne=b.systemHints)==null?void 0:ne.includes(re.PictureV2))){a(F,b,U,0);return}n(F,b,U,0)},e[7]=U,e[8]=n,e[9]=f,e[10]=a,e[11]=b,e[12]=O):O=e[12];const w=O;if(l)return null;let T;e[13]!==o?(T=lt("relative",o),e[13]=o,e[14]=T):T=e[14];const $=f?"opacity-60":"";let p;e[15]!==$?(p=lt("border-token-border-default bg-tertiary flex w-full items-center gap-3 rounded-2xl border shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)]",$),e[15]=$,e[16]=p):p=e[16];let A;e[17]!==P?(A=P?s.jsx("div",{className:"py-3 ps-3",children:s.jsx("div",{className:"border-token-border-default borde h-14 w-14 -rotate-2 overflow-hidden rounded-xl p-0.5 shadow-lg",children:s.jsx("img",{src:P,alt:"","aria-hidden":"true",className:"h-full w-full rounded-lg object-cover"})})}):null,e[17]=P,e[18]=A):A=e[18];let L;e[19]!==I?(L=s.jsx("div",{className:"text-token-text-primary truncate text-sm leading-5 font-medium sm:text-base",children:I}),e[19]=I,e[20]=L):L=e[20];let q;e[21]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx("div",{className:"text-token-text-secondary mt-1 text-xs leading-5 sm:text-sm",children:s.jsx(Ot,Jt(yt({},cf.subtitle),{values:{tryNow:mf}}))}),e[21]=q):q=e[21];let X;e[22]!==L?(X=s.jsxs("div",{className:"min-w-0 flex-1 py-3 text-start",children:[L,q]}),e[22]=L,e[23]=X):X=e[23];let K;e[24]!==r?(K=s.jsx(sl,{className:"me-1 mt-1 self-start",iconSize:"md",onClick:F=>{F.stopPropagation(),r(!0)}}),e[24]=r,e[25]=K):K=e[25];let M;e[26]!==w||e[27]!==X||e[28]!==K||e[29]!==p||e[30]!==A?(M=s.jsxs("div",{role:"button",tabIndex:0,className:p,onClick:w,children:[A,X,K]}),e[26]=w,e[27]=X,e[28]=K,e[29]=p,e[30]=A,e[31]=M):M=e[31];let ee;return e[32]!==M||e[33]!==T?(ee=s.jsx("div",{className:T,children:M}),e[32]=M,e[33]=T,e[34]=ee):ee=e[34],ee}function mf(t){return s.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-500 sm:text-sm dark:text-blue-400",children:s.jsx("span",{children:t})})}function ff(t){var e;return(e=t.systemHints)==null?void 0:e.includes(re.PictureV2)}function gf(t){return typeof t=="boolean"}const hf=ot(()=>st(()=>import("./fyw02vlaiv2vq6cj.js").then(t=>t.zN),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),_f=ot(()=>st(()=>import("./n6eim64jp78x17ti.js"),__vite__mapDeps([5,1,0,2,3,4,6,7,8])).then(t=>t.default)),Ra=As({bannerBody:{id:"gqtTeH",defaultMessage:"Work smarter and better with coworkers in your organization"},dismissBanner:{id:"hbc/Bs",defaultMessage:"Dismiss banner"}});function yf(t){"use forget";const e=Rt.c(17),{clientThreadId:o,canShowBanner:n}=t,a=n===void 0?!1:n,l=He();let r;e[0]!==l?(r=ss(l),e[0]=l,e[1]=r):r=e[1];const i=r;let g;e[2]!==o?(g=Oa(o),e[2]=o,e[3]=g):g=e[3];const m=g,x=Ut(o,Sf),{eligible:S}=Ss(ns.hasSeenJoinWorkspaceBanner),y=m&&!x,c=Zo(),_=(c==null?void 0:c.email_domain_type)==="professional",b=i&&_&&a&&y&&m&&!x&&S,{data:h,isLoading:k}=ol();let v;e[4]!==(h==null?void 0:h.accountItems)?(v=h==null?void 0:h.accountItems.some(xf),e[4]=h==null?void 0:h.accountItems,e[5]=v):v=e[5];const d=!!v;let U;e[6]!==l?(U=Qt(l,"3217430380",{disableExposureLog:!0}).get("enable_workspace_discovery",!1),e[6]=l,e[7]=U):U=e[7];const I=!k&&!d&&U&&b;let P;if(e[8]!==l){const F=us.getItem(ps.WorkspaceDiscoveryInfo),Z=Ua(l,"2801792036").get("cache_ttl_ms",6048e5);P=vd(F,Z),e[8]=l,e[9]=P}else P=e[9];const{isFresh:O,hasWorkspacesToJoin:w}=P;let T;e[10]!==l?(T=jt(l,"69563813"),e[10]=l,e[11]=T):T=e[11];const p=!O&&T&&I,{data:A,isFetching:L}=Id(p),q=A==null?void 0:A.workspaces.some(bf);if(!(!L&&(O?!!w:!!q)&&I)){let F;return e[12]===Symbol.for("react.memo_cache_sentinel")?(F={shouldShow:!1},e[12]=F):F=e[12],F}let M;e[13]!==l?(M=Qt(l,"1200251816").get("enable-join-workspaces-banner",!1),e[13]=l,e[14]=M):M=e[14];const ee=M;let Q;return e[15]!==ee?(Q={shouldShow:ee},e[15]=ee,e[16]=Q):Q=e[16],Q}function bf(t){return!t.requested}function xf(t){return t.isEnterprisey()}function Sf(t){return ut.hasUserMessage(t)}function Sh(){"use forget";const t=Rt.c(24),e=He();let o;t[0]!==e?(o=()=>{Ms(e,ns.hasSeenJoinWorkspaceBanner)},t[0]=e,t[1]=o):o=t[1];const n=o;let a;t[2]!==n?(a=()=>{pt.logEventWithStatsig("Thread Join Workspace Banner Button Dismissed","chatgpt_thread_join_workspace_banner_button_dismissed"),n()},t[2]=n,t[3]=a):a=t[3];const l=a;let r;t[4]===Symbol.for("react.memo_cache_sentinel")?(r=[],t[4]=r):r=t[4],C.useEffect(wf,r);let i;t[5]!==e||t[6]!==n?(i=()=>{pt.logEventWithStatsig("Thread Join Workspace Banner Button Clicked","chatgpt_thread_join_workspace_banner_button_clicked"),n(),ms(e,_f,{mode:"dismissible",section:"both",source:"join_workspace_banner"})},t[5]=e,t[6]=n,t[7]=i):i=t[7];const g=i;let m;t[8]===Symbol.for("react.memo_cache_sentinel")?(m=lt("group flex w-full items-center justify-center gap-1.5 rounded-full py-2 ps-3 sm:justify-start sm:gap-2","bg-primary shadow-short","hover:bg-token-surface-hover motion-safe:transition-colors motion-safe:duration-150 motion-safe:ease-out","focus-visible:ring-token-text-tertiary focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden","pe-7"),t[8]=m):m=t[8];let x;t[9]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("span",{className:"hidden text-[#5856D6] sm:inline",children:s.jsx(hf,{className:"icon-sm","aria-hidden":"true"})}),t[9]=x):x=t[9];let S,y;t[10]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsxs("span",{className:"flex items-center gap-1.5",children:[x,s.jsx("span",{className:"text-token-text-primary text-[13px] leading-[18px] sm:text-sm sm:leading-5",children:s.jsx(Ot,yt({},Ra.bannerBody))})]}),y=s.jsx("span",{className:lt("inline-flex items-center gap-1 text-sm font-medium","text-[#5856D6]"),children:s.jsx("span",{children:s.jsx(Ot,{id:"V/M/bo",defaultMessage:"Find Workspaces"})})}),t[10]=S,t[11]=y):(S=t[10],y=t[11]);let c;t[12]!==g?(c=s.jsxs("button",{type:"button",onClick:g,className:m,children:[S,y]}),t[12]=g,t[13]=c):c=t[13];let _;t[14]!==l?(_=U=>{U.stopPropagation(),l()},t[14]=l,t[15]=_):_=t[15];let b,h;t[16]===Symbol.for("react.memo_cache_sentinel")?(b=lt("mt-0.15 absolute end-1.5 top-1/2 -translate-y-1/2 rounded-full p-1","text-token-text-secondary hover:bg-token-main-surface-tertiary","focus-visible:ring-token-text-tertiary focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden"),h=s.jsx(Pd,{className:"icon-xs","aria-hidden":"true"}),t[16]=b,t[17]=h):(b=t[16],h=t[17]);let k;t[18]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("span",{className:"sr-only",children:s.jsx(Ot,yt({},Ra.dismissBanner))}),t[18]=k):k=t[18];let v;t[19]!==_?(v=s.jsxs("button",{type:"button",onClick:_,className:b,children:[h,k]}),t[19]=_,t[20]=v):v=t[20];let d;return t[21]!==v||t[22]!==c?(d=s.jsxs("div",{className:"relative",children:[c,v]}),t[21]=v,t[22]=c,t[23]=d):d=t[23],d}function wf(){pt.logEventWithStatsig("Thread Join Workspace Banner Button Shown","chatgpt_thread_join_workspace_banner_button_shown")}const kf=ot(()=>st(()=>import("./kw08ajijqinojrwh.js").then(t=>t.yt),__vite__mapDeps([2,1,3])),{loading:t=>At(t)}),Cf=ot(()=>st(()=>import("./h3fuzfk2fgvggqan.js"),__vite__mapDeps([9,1])),{loading:t=>At(t)}),Da=t=>typeof t=="boolean";function Ba({clientThreadId:t,onClick:e}){C.useEffect(()=>{Rd(t)},[t]);const o=Tt();return s.jsx(gs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},className:"inline-block",children:s.jsx(gr,{onClick:()=>{Dd(t),e()},label:o.formatMessage(Xs.moreStarterPrompts)})})}function Mf({starterPrompt:t,starterPrompts:e,index:o,disabled:n,onSelectStarterPrompt:a}){var m;const l=He(),r=(m=t.theme)!=null?m:t.title,i=pr(),g=t.category==="onboarding"?x=>{Ms(l,ns.hasUsedConversationalOnboardingStarterPrompt),i(x,t,e,o)}:x=>a==null?void 0:a(x,t,e,o);return s.jsx(gr,{disabled:n,onClick:g,icon:s.jsx(al,{category:t.category,useV2Colors:!0}),label:r})}const Tf=5,Af=3;function Ir({starterPrompts:t,onSelectStarterPrompt:e,disabled:o,clientThreadId:n,onExpand:a,mobileLayout:l=!1}){const r=l?Af:Tf,[i,g]=C.useState(r),[m,x]=C.useState(!1),S=C.useRef(null),y=t.length<=i;C.useEffect(()=>{_a(t.slice(0,r),n)},[n]),C.useEffect(()=>{if(!m&&!y&&S.current){const _=S.current,b=_.getBoundingClientRect(),h=b.width,k=Array.from(_.children);let v=0;for(let d=0;d<k.length&&k[d].getBoundingClientRect().right-b.left<=h;d++)v++;g(v),x(!0)}},[t,y,m]);const c=()=>{const _=t.slice(i,t.length).map(b=>Jt(yt({},b),{isAdditional:!0}));_.length>0&&_a(_,n),g(t.length),a()};return s.jsxs("div",{"data-testid":"starter-prompt-chips",className:lt("mt-5 flex items-center justify-center gap-x-2 transition-opacity xl:gap-x-2.5",m&&t.length>0?"opacity-100":"opacity-[0.01]",l?"flex-wrap":"flex-nowrap"),children:[s.jsxs("ul",{className:lt("relative flex items-stretch gap-x-2 gap-y-4 overflow-hidden py-2 sm:gap-y-2 xl:gap-x-2.5 xl:gap-y-2.5",y||l?"flex-wrap justify-center":"flex-nowrap justify-start"),ref:S,children:[t.slice(0,i).map((_,b)=>{var h;return s.jsx(gs.li,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},children:s.jsx(Mf,{starterPrompt:_,starterPrompts:t,index:b,disabled:o,onSelectStarterPrompt:e})},(h=_.id)!=null?h:b)}),l&&t.length>i&&s.jsx(Ba,{clientThreadId:n,onClick:c})]}),!l&&t.length>i&&s.jsx(Ba,{clientThreadId:n,onClick:c})]})}const wh=t=>{"use forget";const e=Rt.c(17),{clientThreadId:o,currentModelId:n}=t,[a,l]=C.useState(!1),r=vs();let i;e[0]!==o||e[1]!==n?(i={shouldBeEnabledForDefaultAssistant:!0,clientThreadId:o,limit:8,modelSlug:n},e[0]=o,e[1]=n,e[2]=i):i=e[2];const{promptStarters:g,shouldShowStarterPrompts:m,onSelectStarterPrompt:x}=fr(i);let S,y,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(S={opacity:0},y={opacity:1},c={duration:.3},e[3]=S,e[4]=y,e[5]=c):(S=e[3],y=e[4],c=e[5]);const _=m&&!a&&"h-[116px]";let b;e[6]!==_?(b=lt(_),e[6]=_,e[7]=b):b=e[7];let h;e[8]!==o||e[9]!==r||e[10]!==x||e[11]!==g||e[12]!==m?(h=m&&g&&s.jsx(Ir,{starterPrompts:g,onSelectStarterPrompt:x,disabled:r,clientThreadId:o,onExpand:()=>l(!0),mobileLayout:!0}),e[8]=o,e[9]=r,e[10]=x,e[11]=g,e[12]=m,e[13]=h):h=e[13];let k;return e[14]!==b||e[15]!==h?(k=s.jsx(gs.div,{initial:S,animate:y,transition:c,className:b,children:h}),e[14]=b,e[15]=h,e[16]=k):k=e[16],k},kh=t=>{"use forget";const e=Rt.c(20),{currentModelId:o,clientThreadId:n}=t,a=He(),l=!ss(a),r=jd(),[i,g]=C.useState(!1),m=vs();let x;e[0]!==n||e[1]!==o?(x={shouldBeEnabledForDefaultAssistant:!0,clientThreadId:n,limit:8,modelSlug:o},e[0]=n,e[1]=o,e[2]=x):x=e[2];const{promptStarters:S,shouldShowStarterPrompts:y,onSelectStarterPrompt:c}=fr(x);let _;e[3]!==n?(_={clientThreadId:n,canShowBanner:!0},e[3]=n,e[4]=_):_=e[4];const{shouldShow:b}=yf(_),h=y&&S;if(b&&!h)return null;let k,v,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(k={opacity:0},v={opacity:1},d={duration:.3},e[5]=k,e[6]=v,e[7]=d):(k=e[5],v=e[6],d=e[7]);const U=!r&&"min-h-[108px]",f=l&&i||r?"":"h-[70px]";let I;e[8]!==U||e[9]!==f?(I=lt("max-w-full max-sm:hidden",U,f),e[8]=U,e[9]=f,e[10]=I):I=e[10];let P;e[11]!==n||e[12]!==m||e[13]!==c||e[14]!==S||e[15]!==h?(P=h&&s.jsx(Ir,{starterPrompts:S,onSelectStarterPrompt:c,disabled:m,clientThreadId:n,onExpand:()=>g(!0)}),e[11]=n,e[12]=m,e[13]=c,e[14]=S,e[15]=h,e[16]=P):P=e[16];let O;return e[17]!==I||e[18]!==P?(O=s.jsx(gs.div,{initial:k,animate:v,transition:d,className:I,children:P}),e[17]=I,e[18]=P,e[19]=O):O=e[19],O};function vf({className:t,layout:e="grid",hideShuffleButton:o}){var P;const n=Tt(),a=vs(),l=He(),r=La(l),i=(P=r==null?void 0:r.isK12())!=null?P:!1,[g,m]=Xo("starter_prompt_tiles_dismissed",!1,Da),[x,S]=C.useState(null);C.useEffect(()=>{if(!i){S(!1);return}typeof window>"u"||S(nl("starter_prompt_tiles_dismissed",!1,Da))},[i]);const y=vr(),c=lf(),_=i&&c.length>0?c:y,b=i&&(g||x===!0),h=i&&x==null,k=en(),v=ue(mr(k).shouldShowAutocomplete$),[d,U]=C.useState(ja(_,[],4,e==="carousel"?1:2)),f=()=>{U(ja(_,d,4,2))};if(!_||_.length===0||b||h)return null;const I=()=>{m(!0)};return s.jsxs("div",{className:lt("flex w-full flex-col gap-y-4 transition-opacity",t,v?"pointer-events-none opacity-0":"opacity-100"),children:[s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("div",{className:"text-token-text-secondary text-base leading-7 sm:text-sm",children:n.formatMessage(Xs.trySomethingNew)}),s.jsxs("div",{className:"flex items-center gap-1",children:[!o&&s.jsx(Qn,{type:"button",onClick:f,label:n.formatMessage(Xs.shuffleTiles),color:"ghost",size:"medium",icon:Cf}),i&&s.jsx(Qn,{type:"button",onClick:I,label:n.formatMessage(Xs.dismissStarterPrompts),color:"ghost",size:"medium",icon:kf})]})]}),s.jsx("div",{"data-testid":"starter-prompt-tiles",className:lt(e==="grid"?"grid grid-cols-2 gap-4 sm:flex sm:flex-row":"-mx-(--thread-content-margin) flex flex-row gap-3 overflow-x-auto px-(--thread-content-margin) pb-4 sm:gap-4"),children:Array.from({length:4}).map((O,w)=>{const T=d[w];return T?s.jsx("div",{className:lt("max-sm:short:h-[116px] relative h-[132px] sm:h-[144px]",e==="carousel"?"flex-1 max-sm:w-[164px] max-sm:flex-none":"w-full flex-1 sm:basis-0"),children:s.jsx(Fa,{initial:!1,children:s.jsx(gs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeOut"},className:"absolute inset-0 h-full w-full",children:s.jsx(Ed,{starterPrompt:T,allPrompts:_,index:w,disabled:a,className:"h-full w-full"})},T.id)})},w):s.jsx("div",{},w)})})]})}const Xs=As({moreStarterPrompts:{id:"SplashScreenV2.moreStarterPrompts",defaultMessage:"More"},trySomethingNew:{id:"StarterPromptTiles.trySomethingNew",defaultMessage:"Try something new"},shuffleTiles:{id:"StarterPromptTiles.shuffle",defaultMessage:"Shuffle"},dismissStarterPrompts:{id:"StarterPromptTiles.dismiss",defaultMessage:"Close"}}),If=ot(()=>st(()=>import("./iwr3smf9emayvqcc.js"),__vite__mapDeps([10,1])),{loading:t=>At(t)}),Pf=ot(()=>st(()=>import("./blk1aidbonmx8pb6.js"),__vite__mapDeps([11,1,0,2,3,4,12])).then(t=>t.JawboneNotificationsBanner)),Ef=C.memo(function({className:e}){const o=He(),n=ue(()=>$t(o)),{store:a}=vt(),l=a.useIsHeaderContentAreaPopulated(),r=a.useContentAreaId(fs.HeaderTop);let i=r===z.AgentModeAnnouncementBanner?"z-0":Bd.PromptTextareaHeader;const g=Qt(o,"2206338824");return r===z.BannersRateLimit&&g.get("web_design_style","control")==="composer_banner"&&(i="-z-1"),s.jsx("div",{className:lt(e!=null?e:"absolute start-0 end-0 bottom-full",i,n&&"start-2 end-2"),children:s.jsx(Nd,{shouldRender:l,contentArea:fs.Header,children:s.jsxs("div",{className:"mb-2 flex flex-col gap-3.5 pt-2",children:[s.jsx(jf,{}),s.jsx(Rf,{})]})})})});function jf(){const t=He(),{store:e}=vt(),o=e.useSharedProps(m=>m==null?void 0:m.clientThreadId),n=e.useContentAreaId(fs.HeaderTop),a=Od(t),l=ue(()=>o&&za(Zs(t,o)).id),r=so($t);let i;switch(n){case z.ProjectConversationTaskNoFileAccess:i=s.jsx(Of,{});break;case z.AdvancedVoiceOnMobileAnnouncement:i=s.jsx(su,{clientThreadId:o});break;case z.BannerSignup:i=s.jsx(Nf,{});break;case z.BannerTermsDisclaimer:i=s.jsx(Uf,{});break;case z.NewUserBannerTermsDisclaimer:i=s.jsx(Lf,{});break;case z.PromptTextareaAction:i=s.jsx(Ff,{});break;case z.BannersRateLimit:i=s.jsx(zf,{});break;case z.BannersBeaconUI:i=s.jsx(Hf,{});break;case z.BannerSidekickAnnouncement:i=s.jsx(tu,{});break;case z.SearchBrowserExtensionAnnouncement:i=s.jsx(eu,{});break;case z.MoonshineAnnouncement:i=s.jsx(Zd,{});break;case z.GoldenHourAnnouncementBanner:i=!1;break;case z.SearchBrowserExtensionReactiveAnnouncement:i=s.jsx(Xd,{});break;case z.BannerMemoryAlmostFull:i=s.jsx(xa,{memoryAlmostFullVariant:!0});break;case z.BannerMemoryFull:i=s.jsx(xa,{});break;case z.Box:i=s.jsxs("div",{id:"Box",className:"flex h-20 w-full items-center justify-center gap-2 bg-red-500 p-2",children:["box",s.jsxs("div",{className:"flex h-full w-full items-center justify-center gap-2 bg-blue-500 p-2",children:["inner",s.jsx("div",{className:"flex h-full w-full items-center justify-center bg-yellow-400 text-center",children:"actual content"})]})]});break;case z.JawboneAnnouncement:a?i=s.jsx(Pf,{}):i=null;break;case z.JawboneMaxActiveAnnouncement:a?i=s.jsx(Qd,{}):i=null;break;case z.PromoRedemptionAnnouncement:i=s.jsx(Qm,{});break;case z.OperatorAnnouncement:i=s.jsx(Yd,{});break;case z.BannerPlusUpsell:i=s.jsx(Kd,{});break;case z.PlusFreeTrialHomepageAnnouncementBanner:i=s.jsx(Jd,{});break;case z.BannerNoAuthTrials:i=s.jsx(Vd,{});break;case z.ReferrerRedemptionAvailableAnnouncement:i=s.jsx(qd,{});break;case z.RefereeRedemptionAvailableAnnouncement:i=s.jsx(af,{});break;case z.ReferralProgramUpsellAnnouncement:i=s.jsx($d,{});break;case z.TatertotIntakeFormAnnouncement:i=!1;break;case z.StudentsUpsellAnnouncement:i=s.jsx(Wd,{});break;case z.ModelDeprecationBanner:i=Gd(l);break;case z.TeamSeatsPromoAnnouncement:i=s.jsx(Hd,{});break;case z.TeamsContextualAnswersUpsell:i=s.jsx(zd,{});break;case z.AgentModeAnnouncementBanner:i=rl(t)&&!r&&s.jsx(Ud,{});break;case z.LanguageUpsellBanner:i=s.jsx(Fd,{onDismissSideEffect:()=>{pt.logEventWithStatsig("Language Upsell Banner Dismissed","chatgpt_web_language_upsell_banner_dismissed"),ba.set(t,!0)},onPrimaryCtaClickSideEffect:()=>{pt.logEventWithStatsig("Language Upsell Banner Primary CTA Clicked","chatgpt_web_language_upsell_banner_primary_cta_clicked"),ba.set(t,!0)}});break;case z.StarterPrompts:i=s.jsx(vf,{hideShuffleButton:!0,layout:"carousel"});break;case z.ImageGenBanner:i=s.jsx(pf,{className:"mb-3"});break;case z.SystemHintSuggestion:i=s.jsx(Ld,{});break;default:i=null;break}const g=!!i;return C.useEffect(()=>{ya.set(t,g)},[t,g]),C.useEffect(()=>()=>{ya.set(t,!1)},[t]),i}function Rf(){const{store:t}=vt(),e=t.useContentAreaId(fs.HeaderBottom);let o;switch(e){case hr.DallePromptControls:o=s.jsx(Bf,{});break;default:o=null;break}return o}const Df=ot(()=>st(()=>import("./l4tfku3ir46rktkb.js"),__vite__mapDeps([13,1,2,3,0,4])).then(t=>t.default));function Bf(){const{store:t}=vt(),e=t.useSharedProps(o=>o==null?void 0:o.composerController);return e?s.jsx(Df,{composerController:e}):null}function Nf(){const t=He(),{store:e}=vt(),o=e.useSharedProps(l=>l==null?void 0:l.clientThreadId),n=lu(t),a=cu(t);return o?n?s.jsx(du,{threadId:o,showSignUp:a}):s.jsx(uu,{threadId:o,showLogin:a}):null}function Of(){return C.useEffect(()=>()=>{us.getItem(ps.TasksHasSeenProjectDisclaimerBanner)||us.setItem(ps.TasksHasSeenProjectDisclaimerBanner,!0)},[]),s.jsx(ur,{icon:s.jsx(If,{}),title:s.jsx(Ot,{id:"ibX3g7",defaultMessage:"Tasks can’t access project files"}),content:s.jsx(Ot,{id:"fm94Tm",defaultMessage:"There’s a task in this conversation — just FYI, it won’t be able to access project files."}),onDismiss:()=>{us.setItem(ps.TasksHasSeenProjectDisclaimerBanner,!0)}})}function Uf(){const{store:t}=vt(),e=t.useSharedProps(o=>o==null?void 0:o.clientThreadId);return e?s.jsx(iu,{threadId:e}):null}function Lf(){const{store:t}=vt(),e=t.useSharedProps(o=>o==null?void 0:o.clientThreadId);return e?s.jsx(ru,{threadId:e}):null}function Ff(){const{store:t}=vt(),e=t.useSharedProps();return e?s.jsx(au,yt({},e)):null}function zf(){const{store:t}=vt(),e=t.useSharedProps(n=>n==null?void 0:n.clientThreadId),o=t.useSharedProps(n=>n==null?void 0:n.composerController);return!e||!o?null:s.jsx(nu,{clientThreadId:e,composerController:o})}function Hf(){const{store:t}=vt(),e=t.useSharedProps(a=>a==null?void 0:a.openFileDialog),o=t.useSharedProps(a=>a==null?void 0:a.clientThreadId),n=t.useSharedProps(a=>a==null?void 0:a.composerController);return!o||!n||!e?null:s.jsx(ou,{clientThreadId:o,openFileDialog:e})}const Gf=5,Wf=C.memo(function(e){return $f(e),qf(e),pu({clientThreadId:e.clientThreadId,composerController:e.composerController,openFileDialog:e.openFileDialog}),Vf(),null});function $f(t){"use no forget";const{store:e}=vt(),o=e.useSetSharedProps();Ho(()=>{o(t)},[t,o])}function qf(t){"use no forget";const{clientThreadId:e,canContinue:o}=t,{store:n}=vt(),a=He(),l=C.useRef({top:n.useContentAreaApi(fs.HeaderTop),bottom:n.useContentAreaApi(fs.HeaderBottom)}).current,r=mu(e),{shouldShowBannerSignup:i,shouldShowBannerTermsDisclaimer:g}=Jf(e),{isOpen:m}=fu(),x=gu(e),S=hu(e),y=_u(t);yu(t);const c=bu(),_=xu(t),{shouldShowMemoryFull:b}=Su(e),{shouldShowMemoryAlmostFull:h}=wu(e),k=ku(t),v=Cu(e),d=Mu(e),U=Xm(),{eligible:f}=Ss(Tu),I=Au(),P=vu(),O=Iu(),w=Pu(),{eligible:T}=Ss(ns.hasSeenTeamSeatsPromoAnnouncement),$=Eu(e),p=ju(e),A=Ru(),L=Du({clientThreadId:e}),q=Bu(),X=Nu(e),K=ue(()=>za(Zs(a,e)).id),M=Ou(e),ee=oo(),Q=_r(a),{eligible:F}=Ss(ns.hasSeenAgentModeAnnouncementBanner),Z=ue(()=>Gu(Zs(a,e)).activeSystemHintSuggestionChips$().length>0),ne=F&&Q&&ee!==Go,D=il(),Y=Oa(e),pe=Uu({shouldBeEnabledForDefaultAssistant:Y&&!D,clientThreadId:e}),_e=df(),Le=pe==="hscroll",Pe=pe==="image_gen_banner"&&_e,Ne=no()&&Lu();Ho(()=>{g?l.top.set(z.BannerTermsDisclaimer):m?l.top.set(z.NewUserBannerTermsDisclaimer):K&&(M==null?void 0:M.kind)===Ha.GizmoInteraction&&M.gizmo&&ll(K,M.gizmo)?l.top.set(z.ProjectConversationTaskNoFileAccess):k.eligible?l.top.set(z.AdvancedVoiceOnMobileAnnouncement):x?l.top.set(z.BannersRateLimit):S?l.top.set(z.BannersBeaconUI):L&&Fu(a)?l.top.set(z.PlusFreeTrialHomepageAnnouncementBanner):A?l.top.set(z.BannerPlusUpsell):q?l.top.set(z.BannerNoAuthTrials):v?l.top.set(z.JawboneAnnouncement):d?l.top.set(z.JawboneMaxActiveAnnouncement):y.eligible?l.top.set(z.BannerSidekickAnnouncement):c?l.top.set(z.MoonshineAnnouncement):_?l.top.set(z.SearchBrowserExtensionReactiveAnnouncement):U?l.top.set(z.PromoRedemptionAnnouncement):f?l.top.set(z.OperatorAnnouncement):O?l.top.set(z.ReferralProgramUpsellAnnouncement):o?l.top.set(z.PromptTextareaAction):i?l.top.set(z.BannerSignup):b?l.top.set(z.BannerMemoryFull):h?l.top.set(z.BannerMemoryAlmostFull):I?l.top.set(z.ReferrerRedemptionAvailableAnnouncement):P?l.top.set(z.RefereeRedemptionAvailableAnnouncement):w?l.top.set(z.StudentsUpsellAnnouncement):T?l.top.set(z.TeamSeatsPromoAnnouncement):$?l.top.set(z.ModelDeprecationBanner):p?l.top.set(z.TeamsContextualAnswersUpsell):X?l.top.set(z.LanguageUpsellBanner):ne?l.top.set(z.AgentModeAnnouncementBanner):Le?l.top.set(z.StarterPrompts):Pe?l.top.set(z.ImageGenBanner):Z?l.top.set(z.SystemHintSuggestion):l.top.set(null),Ne&&l.top.set("IntegratedVoiceModeNuxBanner")},[l,ee,L,o,g,m,i,x,y,b,h,k,ne,T,Le,Pe,Z,Ne]),Ho(()=>{r&&l.bottom.set(hr.DallePromptControls)},[l,r])}function Vf(){const{store:t}=vt();C.useEffect(()=>()=>{t.reset()},[t])}function Jf(t){const e=He(),o=!ss(e),n=Qt(e,"3637408529",{disableExposureLog:!0}),l=Qt(e,"3637408529").get("no_auth_banner_signup_rate_limit",Gf),r=n.get("should_show_no_auth_signup_banner",!0),i=zu(y=>y.bannerDisclaimerClientThreadId),g=Hu(),m={shouldShowBannerTermsDisclaimer:!1,shouldShowBannerSignup:!1},[x,S]=Ut(t,y=>{var c;return[ut.getConversationTurns(y).filter(_=>_.role===Ga.User).length,Kf((c=ut.getCurrentNode(y))==null?void 0:c.message)]});return t&&(m.shouldShowBannerTermsDisclaimer=S&&o&&x===1&&!g&&(i==null||i===t),m.shouldShowBannerSignup=r&&S&&o&&x>0&&x%l===0),m}function Kf(t){return(t==null?void 0:t.author.role)===Ga.Assistant&&cl(t)}const Yf=ot(()=>st(()=>import("./fyw02vlaiv2vq6cj.js").then(t=>t.zC),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),Qf=ot(()=>st(()=>import("./gcjboak0179zspd8.js"),__vite__mapDeps([14,1])),{loading:t=>At(t)}),Xf=ot(()=>st(()=>import("./fyw02vlaiv2vq6cj.js").then(t=>t.zm),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),Pr="manage-prompts",Zf=ot(()=>st(()=>import("./fyw02vlaiv2vq6cj.js").then(t=>t.zB),__vite__mapDeps([0,1,2,3,4])).then(t=>t.AgentNuxModal));function eg({hint:t,isHighlighted:e,onHighlight:o,onClick:n}){"use no forget";const a=Sr(t.systemHint),l=s.jsx(Pl,{as:"div",hasManagedFocus:!0,disabled:a.isBlocked,highlighted:e,icon:s.jsx(br,{hint:t,isNextToLabel:!0}),secondary:a.blockedLabel,onPointerMove:o,onClick:n,children:s.jsx("span",{className:"break-all",children:t.name})});return a.remainingLabel?s.jsx(an,{side:"right",labelTextAlign:a.isBlocked?"left":"center",label:a.remainingLabel,secondaryLabel:a.remainingLabelSecondary,contentClassName:"cant-hover:hidden",triggerAs:null,children:l}):l}const tg=Il(t=>{var e,o,n,a;return ks(t)?{targets:[t.command,...(e=t.aliases)!=null?e:[],...(o=t.regexMatches)!=null?o:[],t.secondary?"".concat(t.title," ").concat(t.secondary):t.title],weight:t.matchWeight}:{targets:[t.systemHint,...(n=t.aliases)!=null?n:[],...(a=t.regexMatches)!=null?a:[],t.name]}});function sg(t){"use forget";const e=Rt.c(125),{gptsAndAppsSlashCommands$:o,modelSlashCommands$:n,libraryPromptSlashCommands:a,slashCommands:l,systemHints:r,composerController:i,clientThreadId:g,layoutMode:m}=t,x=He(),S=Wu(),y=Qo(),c=Tt(),_=m==="center"?"bottom-start":"top-start";let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=[Ml({mainAxis:10,alignmentAxis:-18}),Tl({padding:6}),Al({apply:lg})],e[0]=b):b=e[0];let h;e[1]!==_?(h={placement:_,middleware:b,whileElementsMounted:El},e[1]=_,e[2]=h):h=e[2];const{refs:k,floatingStyles:v}=vl(h),[d,U]=C.useState(void 0);let f;e[3]!==i||e[4]!==k.setReference?(f=()=>{const E=tt(i);E.dispatch(jl(E.state.tr,{setReferencePosition:k.setReference,onHintMatch(ae){U(fe=>Ka(fe,ae)?fe:ae)}}))},e[3]=i,e[4]=k.setReference,e[5]=f):f=e[5];let I;e[6]!==i||e[7]!==k?(I=[i,k],e[6]=i,e[7]=k,e[8]=I):I=e[8],C.useEffect(f,I);const P=$u(),O=Ja(g),{setThreadSystemHintMode:w,clearAllSystemHintModeTriggers:T}=qu(),$=so($t);let p;e[9]!==o||e[10]!==d?(p=()=>d&&(o==null?void 0:o()),e[9]=o,e[10]=d,e[11]=p):p=e[11];const A=ue(p);let L;e[12]!==n?(L=()=>{var E;return(E=n==null?void 0:n())!=null?E:[]},e[12]=n,e[13]=L):L=e[13];const q=ue(L),X=(d==null?void 0:d.triggerSymbol)==="@",K=(d==null?void 0:d.triggerSymbol)==="/";let M;e[14]!==x?(M=$a(x),e[14]=x,e[15]=M):M=e[15];const ee=M;let Q;e[16]!==x?(Q=()=>{},e[16]=x,e[17]=Q):Q=e[17];const F=Q;let Z;e:{if($&&X){let Me;e[18]===Symbol.for("react.memo_cache_sentinel")?(Me=[],e[18]=Me):Me=e[18],Z=Me;break e}let E;e[19]!==A||e[20]!==X?(E=X?A:A==null?void 0:A.filter(ig),e[19]=A,e[20]=X,e[21]=E):E=e[21];const ae=E;let fe;if(e[22]!==c||e[23]!==K||e[24]!==a||e[25]!==y||e[26]!==F||e[27]!==ee){if(fe=[],K&&ee)if(a&&a.length>0){let Me;e[29]!==a?(Me=[...a],e[29]=a,e[30]=Me):Me=e[30],fe.push(Me);let ke;e[31]!==c?(ke=c.formatMessage({id:"composer.library.managePrompts",defaultMessage:"Manage prompts"}),e[31]=c,e[32]=ke):ke=e[32];let Ue;e[33]!==y?(Ue=()=>y("/library?tab=prompts&referer=at_cmd"),e[33]=y,e[34]=Ue):Ue=e[34];let nt;e[35]!==ke||e[36]!==Ue?(nt=[{command:Pr,title:ke,icon:void 0,onSelect:Ue}],e[35]=ke,e[36]=Ue,e[37]=nt):nt=e[37],fe.push(nt)}else{let Me;e[38]!==c?(Me=c.formatMessage({id:"composer.library.createPrompt",defaultMessage:"Create new prompt"}),e[38]=c,e[39]=Me):Me=e[39];let ke;e[40]!==c?(ke=c.formatMessage({id:"composer.library.createPromptDescription",defaultMessage:"Prompts are saved sequences of text that you can quickly add to your messages."}),e[40]=c,e[41]=ke):ke=e[41];let Ue;e[42]!==F||e[43]!==Me||e[44]!==ke?(Ue=[{command:"create-prompt",title:Me,secondary:ke,icon:void 0,onSelect:F}],e[42]=F,e[43]=Me,e[44]=ke,e[45]=Ue):Ue=e[45],fe.push(Ue)}e[22]=c,e[23]=K,e[24]=a,e[25]=y,e[26]=F,e[27]=ee,e[28]=fe}else fe=e[28];let B;e[46]!==ae?(B=ae!=null?ae:[],e[46]=ae,e[47]=B):B=e[47];let be;e[48]!==B?(be=[B],e[48]=B,e[49]=be):be=e[49];const we=be;let Xe;e[50]!==we||e[51]!==m||e[52]!==fe?(Xe=m==="bottom"?[...we,...fe]:[...fe,...we],e[50]=we,e[51]=m,e[52]=fe,e[53]=Xe):Xe=e[53];const je=Xe;if(X)Z=je;else{let Me;e[54]!==l||e[55]!==q||e[56]!==je||e[57]!==r?(Me=[l,r,q,...je],e[54]=l,e[55]=q,e[56]=je,e[57]=r,e[58]=Me):Me=e[58],Z=Me}}const ne=Z;let D;e:{if(!d){let B;e[59]===Symbol.for("react.memo_cache_sentinel")?(B=[],e[59]=B):B=e[59];let be;e[60]===Symbol.for("react.memo_cache_sentinel")?(be=[],e[60]=be):be=e[60];let we;e[61]===Symbol.for("react.memo_cache_sentinel")?(we={displayGroups:B,suggestions:be},e[61]=we):we=e[61],D=we;break e}let E,ae;if(e[62]!==ne||e[63]!==d.text||e[64]!==c||e[65]!==m){const B=d.text?[Vu(wa(ne),d.text,tg,{locale:c.locale})]:ne.map(ag),be=m==="bottom"?B.reverse().map(ng):B;E=be,ae=wa(be),e[62]=ne,e[63]=d.text,e[64]=c,e[65]=m,e[66]=E,e[67]=ae}else E=e[66],ae=e[67];let fe;e[68]!==E||e[69]!==ae?(fe={displayGroups:E,suggestions:ae},e[68]=E,e[69]=ae,e[70]=fe):fe=e[70],D=fe}const{displayGroups:Y,suggestions:pe}=D,[_e,Le]=C.useState(m==="bottom"?-1:0),Pe=_e==null?null:(_e+pe.length)%pe.length;let Ne;e[71]!==P||e[72]!==pe?(Ne=E=>{Le(ae=>{if(ae==null)return null;const fe=pe.length;for(let B=0;B<fe;B++){const be=(ae+fe+(B+1)*E)%fe,we=pe[be];if(!("systemHint"in we?P.includes(we.systemHint):we.disabled))return be}return null})},e[71]=P,e[72]=pe,e[73]=Ne):Ne=e[73];const le=ws(Ne),We=pe.length,de=We===0;let me;e[74]!==m||e[75]!==le?(me=()=>{m==="bottom"?(Le(0),le.current(-1)):(Le(-1),le.current(1))},e[74]=m,e[75]=le,e[76]=me):me=e[76];let Be;e[77]!==m||e[78]!==We||e[79]!==le?(Be=[We,m,le],e[77]=m,e[78]=We,e[79]=le,e[80]=Be):Be=e[80],C.useEffect(me,Be);const Te=Pe==null?null:pe[Pe];let Oe;e[81]!==i||e[82]!==d?(Oe=()=>{if(d!=null&&d.range){const E=tt(i);Rl(E,d.range.from,d.range.to)}},e[81]=i,e[82]=d,e[83]=Oe):Oe=e[83];const Re=Oe;let se;e[84]!==S||e[85]!==T||e[86]!==Re||e[87]!==g||e[88]!==i||e[89]!==x||e[90]!==d||e[91]!==Te||e[92]!==O||e[93]!==w?(se=E=>{var ke;const{hintToSave:ae,expectPerfectMatch:fe}=E,B=ae===void 0?Te:ae;if(!d||!B)return!1;const be=d.text.toLocaleLowerCase(),Xe=(ks(B)?B.command:B.name).toLocaleLowerCase()===be||((ke=B.aliases)==null?void 0:ke.some(Ue=>Ue.toLocaleLowerCase()===be));if(fe&&!Xe)return!1;if(Re(),qs(tt(i)),ks(B))return B.onSelect(),!0;pt.logEvent("System Hint Selected",{system_hint:B.systemHint,conversation_id:O!=null?O:Eo});const je={clientThreadId:g};T();const Me=B.systemHint===re.Search;return w(B.systemHint,!0,je,Me?Dl.CONVERSATION_COMPOSER_SLASH_SEARCH:Bl.SLASH_COMMAND),B.systemHint===re.Agent&&S==="show"&&ms(x,Zf,{clientThreadId:g!=null?g:Eo,source:"slash_agent"}),!0},e[84]=S,e[85]=T,e[86]=Re,e[87]=g,e[88]=i,e[89]=x,e[90]=d,e[91]=Te,e[92]=O,e[93]=w,e[94]=se):se=e[94];const Ee=se,Fe=ws(Ee);let ve;e[95]!==i||e[96]!==le||e[97]!==Fe||e[98]!==de?(ve=()=>{const E=tt(i);return de||Nl(E,ae=>{if(ae==="up")le.current(-1);else if(ae==="down")le.current(1);else if(ae==="cancel")qs(E),Ol(E);else{if(ae==="submit")return qs(E),Fe.current({expectPerfectMatch:!1});if(ae==="checkMatch")return Fe.current({expectPerfectMatch:!0})}}),()=>qs(E)},e[95]=i,e[96]=le,e[97]=Fe,e[98]=de,e[99]=ve):ve=e[99];let te;e[100]!==Re||e[101]!==i||e[102]!==le||e[103]!==Fe||e[104]!==Te||e[105]!==de?(te=[i,de,Te,Re,le,Fe],e[100]=Re,e[101]=i,e[102]=le,e[103]=Fe,e[104]=Te,e[105]=de,e[106]=te):te=e[106],C.useEffect(ve,te);const oe=ws(O);let ce,V;if(e[107]!==de||e[108]!==oe?(ce=()=>{var E;de||pt.logEvent("System Hint List Opened",{conversation_id:(E=oe.current)!=null?E:Eo})},V=[oe,de],e[107]=de,e[108]=oe,e[109]=ce,e[110]=V):(ce=e[109],V=e[110]),C.useEffect(ce,V),de)return null;let N;e[111]!==k?(N=E=>k.setFloating(E),e[111]=k,e[112]=N):N=e[112];const ye=pe.length>6?"max-h-[min(var(--radix-popper-available-height,50svh),--spacing(1.5)+5*var(--menu-item-height))]":"max-h-[var(--radix-popper-available-height,50svh)]";let he;e[113]!==ye?(he=lt("max-w-[min(var(--radix-popper-available-width,100vw),--spacing(100))] overflow-y-auto [scrollbar-width:none]",ye),e[113]=ye,e[114]=he):he=e[114];let G;e[115]!==i||e[116]!==Y||e[117]!==Ee||e[118]!==Pe?(G=Y.map((E,ae)=>{let fe=0;for(let B=0;B<ae;B++)fe=fe+Y[B].length;return s.jsx(it.Group,{children:E.map((B,be)=>{const we=fe+be;return ks(B)?s.jsx(Ju,{command:B,isHighlighted:we===Pe,onHighlight:()=>Le(we),onClick:()=>{Ee({hintToSave:B,expectPerfectMatch:!1}),Yt(tt(i))}},B.command):s.jsx(eg,{hint:B,isHighlighted:we===Pe,onHighlight:()=>Le(we),onClick:()=>{Ee({hintToSave:B,expectPerfectMatch:!1}),Yt(tt(i))}},B.systemHint)})},ae)}),e[115]=i,e[116]=Y,e[117]=Ee,e[118]=Pe,e[119]=G):G=e[119];let W;return e[120]!==v||e[121]!==N||e[122]!==he||e[123]!==G?(W=s.jsx(Ul,{ref:N,style:v,className:he,onPointerDown:og,children:G}),e[120]=v,e[121]=N,e[122]=he,e[123]=G,e[124]=W):W=e[124],W}function og(t){t.preventDefault()}function ng(t){return t.reverse()}function ag(t){return t.filter(rg)}function rg(t){return!ks(t)||!t.noMatchEmpty}function ig(t){return t.type!==Ko.App}function lg(t){const{elements:e,availableWidth:o,availableHeight:n}=t;e.floating.style.setProperty("--radix-popper-available-width","".concat(o,"px")),e.floating.style.setProperty("--radix-popper-available-height","".concat(n,"px"))}function cg(t){"use forget";var Fe,ve;const e=Rt.c(104),{systemHints:o,availableSystemHints:n,composerController:a,clientThreadId:l,layoutMode:r,composerLayer:i,canUseInlineTagging:g,isFileUploadEnabled:m,fileUploadDisabledReason:x,currentModelConfig:S,openFileDialog:y,connectionInstanceData:c,setActiveSystemHintType:_,selectModelId:b,gizmoId:h,hasGizmoFeatureRateLimit:k,setSelectedGizmoTag:v}=t,d=He();let U;e[0]!==l||e[1]!==d?(U=Zs(d,l),e[0]=l,e[1]=d,e[2]=U):U=e[2];const f=U,I=Tt(),P=Qo(),{connectedTypes:O}=dl(),w=Zo();let T;e[3]!==w?(T=w!=null&&ul(w),e[3]=w,e[4]=T):T=e[4];const $=T;let p;e[5]!==d?(p=()=>nn(d),e[5]=d,e[6]=p):p=e[6];const A=ue(p),{isSingleLine:L,showModelSlashCommands:q}=i,X=Wa();let K;e[7]===Symbol.for("react.memo_cache_sentinel")?(K={onError:xg},e[7]=K):K=e[7];const{mutate:M}=pl(K);c==null||c.connection_statuses;let ee;if(e[8]!==l||e[9]!==O||e[10]!==(c==null?void 0:c.connection_statuses)||e[11]!==d||e[12]!==(S==null?void 0:S.title)||e[13]!==x||e[14]!==I||e[15]!==A||e[16]!==m||e[17]!==$||e[18]!==L||e[19]!==P||e[20]!==y||e[21]!==_||e[22]!==o){if(ee=[],L){let V;e[24]===Symbol.for("react.memo_cache_sentinel")?(V=["file","attach","photo"],e[24]=V):V=e[24];const N=!m,ye=S==null?void 0:S.title;let he;e[25]!==d||e[26]!==x||e[27]!==I||e[28]!==N||e[29]!==ye?(he=yr(d,I,N,x,ye),e[25]=d,e[26]=x,e[27]=I,e[28]=N,e[29]=ye,e[30]=he):he=e[30];let G;e[31]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(Yf,{"aria-label":"",className:"icon"}),e[31]=G):G=e[31];const W=!m;let E;e[32]!==y||e[33]!==W||e[34]!==he?(E={command:"upload",aliases:V,title:he,icon:G,onSelect:y,disabled:W},e[32]=y,e[33]=W,e[34]=he,e[35]=E):E=e[35],ee.push(E)}let te;e[36]!==(c==null?void 0:c.connection_statuses)?(te=(Fe=c==null?void 0:c.connection_statuses.filter(bg).map(yg))!=null?Fe:[],e[36]=c==null?void 0:c.connection_statuses,e[37]=te):te=e[37];const oe=te,ce=o==null?void 0:o.some(_g);if($&&(O.size>0||oe.length>0)&&ce){let V;e[38]!==I?(V=I.formatMessage({id:"6YT2cp",defaultMessage:"Use all connectors"}),e[38]=I,e[39]=V):V=e[39];let N;e[40]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(Xf,{}),e[40]=N):N=e[40];let ye;e[41]!==l||e[42]!==oe||e[43]!==O||e[44]!==_?(ye=()=>{_(re.Slurm,{analyticsMetadata:{clientThreadId:l}}),Kt(l,G=>{var E,ae;const W=(ae=(E=G.selectedSources)==null?void 0:E.get(re.Slurm))!=null?ae:new Set;G.selectedSources==null&&(G.selectedSources=new Map),G.selectedSources.set(re.Slurm,new Set([...W,...O,...oe]))})},e[41]=l,e[42]=oe,e[43]=O,e[44]=_,e[45]=ye):ye=e[45];let he;e[46]!==V||e[47]!==ye?(he={command:"all-connectors",title:V,icon:N,noMatchEmpty:!0,onSelect:ye},e[46]=V,e[47]=ye,e[48]=he):he=e[48],ee.push(he)}if(A){let V;e[49]===Symbol.for("react.memo_cache_sentinel")?(V=["mcp"],e[49]=V):V=e[49];let N;e[50]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(Qf,{}),e[50]=N):N=e[50];let ye;e[51]!==P?(ye={command:"add-mcp",aliases:V,title:"Add MCP",icon:N,noMatchEmpty:!0,onSelect:()=>{P(wl(qa.Connectors))}},e[51]=P,e[52]=ye):ye=e[52],ee.push(ye)}e[8]=l,e[9]=O,e[10]=c==null?void 0:c.connection_statuses,e[11]=d,e[12]=S==null?void 0:S.title,e[13]=x,e[14]=I,e[15]=A,e[16]=m,e[17]=$,e[18]=L,e[19]=P,e[20]=y,e[21]=_,e[22]=o,e[23]=ee}else ee=e[23];const Q=ee;let F;e[53]!==f||e[54]!==b||e[55]!==q?(F=eo(()=>{if(!q)return[];const te=tn(f),oe=[];for(const ce of te.categories)ce.defaultModel!==te.defaultModelSlug&&oe.push({command:ce.defaultModel,title:ce.label,disabled:!1,icon:s.jsx(Sa,{className:"icon"}),onSelect:()=>{b(ce.defaultModel,"slash menu")}});for(const ce of te.groups)for(const V of ce.modelIds){const N=te.models.get(V);if(N&&!N.tags.includes(ml.HIDDEN)){let ye=N.title;oe.push({command:N.id,title:ye,secondary:void 0,trailing:s.jsx(fl,{children:ce.label}),noMatchEmpty:!0,matchWeight:.1,disabled:!1,icon:s.jsx(Sa,{className:"icon"}),onSelect:()=>{b(N.id,"slash menu")}})}}return oe}),e[53]=f,e[54]=b,e[55]=q,e[56]=F):F=e[56];const Z=F;let ne;e[57]!==n?(ne=n!=null?n:[],e[57]=n,e[58]=ne):ne=e[58];let D;e[59]!==ne?(D=ne.filter(hg),e[59]=ne,e[60]=D):D=e[60];const Y=D;let pe;e[61]!==n?(pe=n!=null?n:[],e[61]=n,e[62]=pe):pe=e[62];let _e;e[63]!==pe?(_e=pe.filter(gg),e[63]=pe,e[64]=_e):_e=e[64];const Le=_e;let Pe;e[65]!==X||e[66]!==Le||e[67]!==g||e[68]!==l||e[69]!==d||e[70]!==h||e[71]!==k||e[72]!==v?(Pe=eo(()=>{var G,W,E,ae,fe;if(!g)return[];const{data:te}=gl(d),{data:oe}=hl(d),{data:ce}=_l(d),V=sn([...(G=te==null?void 0:te.items)!=null?G:[],...(E=(W=oe==null?void 0:oe.list.items)==null?void 0:W.map(fg))!=null?E:[],...jt(d,"773249106")?(fe=(ae=ce==null?void 0:ce.items)==null?void 0:ae.map(mg))!=null?fe:[]:[]],pg),N=h?V.filter(B=>B.gizmo.id!==h):V,ye=Le.map(B=>{var be,we;return{command:(be=B.actionLabel)!=null?be:B.name,title:(we=B.actionLabel)!=null?we:B.name,type:Ko.App,icon:s.jsx(br,{hint:B,isNextToLabel:!0}),onSelect:()=>{X(B.systemHint),yl(B.systemHint,xl.AtMention,bl({clientThreadId:l}))}}}),he=N.map(B=>{var be;return{command:B.gizmo.display.name,title:B.gizmo.display.name,type:Ko.Gizmo,disabled:k,icon:s.jsx(xr,{simple:!0,isFirstParty:((be=B.gizmo.tags)==null?void 0:be.includes(on.FirstParty))===!0,src:B.gizmo.display.profile_picture_url,className:"icon",alt:""}),onSelect:()=>{pt.logEventWithStatsig("Composer GPT Selected","chatgpt_web_composer_gpt_selected",{gizmo:B.gizmo.id}),v(B)}}}).filter(B=>!ye.some(be=>be.command===B.command));return[...ye,...he]}),e[65]=X,e[66]=Le,e[67]=g,e[68]=l,e[69]=d,e[70]=h,e[71]=k,e[72]=v,e[73]=Pe):Pe=e[73];const Ne=Pe;let ct;e[74]!==d?(ct=$a(d),e[74]=d,e[75]=ct):ct=e[75];const le=ct;let We;e[76]!==le?(We={enabled:le},e[76]=le,e[77]=We):We=e[77];const{data:de,isLoading:me}=Sl(We);let Be;e[78]!==l||e[79]!==a||e[80]!==f||e[81]!==M||e[82]!==P||e[83]!==_?(Be=te=>{var ce,V,N;const oe=tt(a);if(kl(oe,"@"),te===Pr){P("/library?tab=prompts");return}if(te.id&&!te.created_by_openai&&M(String(te.id)),Va.set(f,!0),pt.logEventWithStatsig("chatgpt_web_prompt_used","chatgpt_web_prompt_used",{referer:"at_cmd",hint:(ce=te.system_hint)!=null?ce:"none",sources:((V=te.sources)!=null?V:[]).join(",")}),Cl(oe,te.prompt),te.system_hint&&(_(te.system_hint),(N=te.sources)!=null&&N.length)){const ye=te.sources.map(ug).filter(Wo),he=te.system_hint,G=new Set(ye.filter(dg)),W=new Set(ye.filter(Gt));Kt(l,E=>{E.selectedSources=new Map([[he,G]]),E.selectedMCPSources=new Map([[he,W]]),E.hasModifiedSources=!0})}},e[78]=l,e[79]=a,e[80]=f,e[81]=M,e[82]=P,e[83]=_,e[84]=Be):Be=e[84];const Te=Be;let Oe;e:{if(me||de==null||!le){let ce;e[85]===Symbol.for("react.memo_cache_sentinel")?(ce=[],e[85]=ce):ce=e[85],Oe=ce;break e}let te;e[86]!==de.pages[0].prompts?(te=(ve=de.pages[0].prompts)!=null?ve:[],e[86]=de.pages[0].prompts,e[87]=te):te=e[87];let oe;if(e[88]!==Te||e[89]!==te){let ce;e[91]!==Te?(ce=V=>({command:V.name,title:V.name,icon:void 0,onSelect:()=>{Te(V)}}),e[91]=Te,e[92]=ce):ce=e[92],oe=te.map(ce),e[88]=Te,e[89]=te,e[90]=oe}else oe=e[90];Oe=oe}const Re=Oe;let se;e[93]!==Y?(se=Y!=null?Y:[],e[93]=Y,e[94]=se):se=e[94];let Ee;return e[95]!==l||e[96]!==a||e[97]!==Ne||e[98]!==r||e[99]!==Re||e[100]!==Z||e[101]!==Q||e[102]!==se?(Ee=s.jsx(sg,{gptsAndAppsSlashCommands$:Ne,modelSlashCommands$:Z,libraryPromptSlashCommands:Re,slashCommands:Q,systemHints:se,composerController:a,clientThreadId:l,layoutMode:r}),e[95]=l,e[96]=a,e[97]=Ne,e[98]=r,e[99]=Re,e[100]=Z,e[101]=Q,e[102]=se,e[103]=Ee):Ee=e[103],Ee}function dg(t){return!Gt(t)}function ug(t){return t.trim()}function pg(t){return t.gizmo.id}function mg(t){return t.gizmo}function fg(t){return t.resource}function gg(t){return t.isConnector}function hg(t){return!(t.isConnector&&t.hideFromInitialSelection)}function _g(t){return t.systemHint===re.Slurm}function yg(t){return t.user_connection_details.connection_type}function bg(t){return t.user_connection_details.activation_status==="activated"&&["google_drive_oauth","google_drive_dwd"].includes(t.user_connection_details.knowledge_connector_type)}function xg(){}function Sg(t){"use forget";const e=Rt.c(35),{clientThreadId:o,modelSupportedImageMimeTypes:n,openFileDialog:a,historyDisabled:l,isDisabled:r,highlightTooltip:i,disabledReason:g,currentModelName:m,isLoadingConnectors:x,connectorConfig:S,onSelectConnector:y,showLabel:c,showUpsell:_,hideBorder:b,isSmall:h,showMenuForNoAuth:k,visualTreatment:v}=t,d=He(),U=Ll();let f;e[0]!==d?(f=Fl(d),e[0]=d,e[1]=f):f=e[1];const{gdriveStatus:I,o365Status:P}=f;let O;e[2]!==d?(O=ss(d),e[2]=d,e[3]=O):O=e[3];const w=!O,T=l?"text-white":i?"text-brand-blue-800":"",$=!_&&(I!=="false"||P!=="false"||U);let p;e[4]!==d?(p=()=>rn(d),e[4]=d,e[5]=p):p=e[5];const{loggedOutAttachPlusIcon:A}=ue(p),L=w&&!A?Ku:Yu;let q;e[6]!==T?(q=lt("icon",T),e[6]=T,e[7]=q):q=e[7];let X;e[8]!==L||e[9]!==q?(X=s.jsx(L,{"aria-label":"",className:q}),e[8]=L,e[9]=q,e[10]=X):X=e[10];const K=X,M=n.length>0;let ee;e[11]!==o||e[12]!==S||e[13]!==m||e[14]!==g||e[15]!==b||e[16]!==i||e[17]!==K||e[18]!==r||e[19]!==x||e[20]!==h||e[21]!==w||e[22]!==n||e[23]!==M||e[24]!==y||e[25]!==a||e[26]!==$||e[27]!==c||e[28]!==k||e[29]!==_||e[30]!==v?(ee=$?s.jsx(Qu,{clientThreadId:o,icon:K,showLabel:w&&c,modelSupportedImageMimeTypes:n,isLoadingConnectors:x,connectorConfig:S,onSelectConnector:y,openFileDialog:a,isDisabled:r,highlightTooltip:i,disabledReason:g,currentModelName:m}):s.jsx(tf,{isSmall:h,hideBorder:b,clientThreadId:o,openFileDialog:a,showLabel:c,showUpsell:_,icon:K,isDisabled:r,highlightTooltip:i,disabledReason:g,currentModelName:m,visualTreatment:v,showMenuForNoAuth:k,modelSupportsImages:M}),e[11]=o,e[12]=S,e[13]=m,e[14]=g,e[15]=b,e[16]=i,e[17]=K,e[18]=r,e[19]=x,e[20]=h,e[21]=w,e[22]=n,e[23]=M,e[24]=y,e[25]=a,e[26]=$,e[27]=c,e[28]=k,e[29]=_,e[30]=v,e[31]=ee):ee=e[31];const Q=ee;let F;return e[32]!==Q||e[33]!==i?(F=s.jsx(Xu,{showBackground:i,className:"bg-brand-blue-800/20",children:Q}),e[32]=Q,e[33]=i,e[34]=F):F=e[34],F}const wg=ot(()=>st(()=>import("./cg2tzhli3epljguj.js"),__vite__mapDeps([15,1])),{loading:t=>At(t)}),Er=ot(()=>st(()=>import("./fyw02vlaiv2vq6cj.js").then(t=>t.zz),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),kg=ot(()=>st(()=>import("./i9e855s7wyoxeff7.js"),__vite__mapDeps([16,1])),{loading:t=>At(t)}),Cg=ot(()=>st(()=>import("./fw3ln85zsg8szaqb.js"),__vite__mapDeps([17,1])),{loading:t=>At(t)}),jr=ot(()=>st(()=>import("./xv5cvge3spv3jpvn.js"),__vite__mapDeps([18,1])),{loading:t=>At(t)}),Mg=ot(()=>st(()=>import("./fyw02vlaiv2vq6cj.js").then(t=>t.zE),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),Na=ot(()=>st(()=>import("./ydzvfm0toss4freg.js"),__vite__mapDeps([19,1,2,3,20,21,0,4])).then(t=>t.ConnectorsOnboardingModal)),Ys=6,Tg=(t,e=!1,{systemHintType:o}={})=>{const n=t.some(g=>!g.disabled),a=e?[...t]:n?t.filter(g=>!g.disabled):[...t],l=Wt(o),r=l?new Set(sr()):null,i=g=>!r||!g.connectorType?0:r.has(g.connectorType)?1:0;return a.sort((g,m)=>{if(g.connected&&!m.connected)return-1;if(!g.connected&&m.connected)return 1;if(g!=null&&g.isAutoConnected&&!(m!=null&&m.isAutoConnected)||g.type==="web"&&m.type!=="web")return-1;if(g.type!=="web"&&m.type==="web"||e&&g.disabled&&!m.disabled)return 1;if(e&&!g.disabled&&m.disabled||g.isEcosystemConnector&&!m.isEcosystemConnector)return-1;if(!g.isEcosystemConnector&&m.isEcosystemConnector)return 1;if(l&&!g.connected&&!m.connected){const x=i(g),S=i(m);if(x!==S)return S-x}return g.name.localeCompare(m.name)}),a},ro=t=>{window.open(t,"","noopener,noreferrer")};function Xt(t){switch(t.user_connection_details.activation_status){case"activated":case"partially_activated":return!0;case"activating":case"inactive":return!1}}function Ag(t){return t.user_connection_details.auth_status==="admin_connected"||t.user_connection_details.auth_status==="user_connected"}const vg=new Set(["slack_sync_connector","github_sync_connector","notion_sync_connector","sharepoint_admin_sync_connector","teams_admin_sync_connector","confluence_sync_connector","jira_sync_connector","jira_servicemanagement_sync_connector"]),Ig=t=>{"use forget";var It,Dt,Pt,dt,Bt,Ke;const e=Rt.c(184),{isLoading:o,clientThreadId:n,enabledConnectors:a,enabledEcosystemConnectors:l,includeWebSearch:r,includeCloudBrowser:i,includeSyncConnectors:g,connectorFilterFn:m,connectorConfigMap:x,fetchValidLinksOnly:S,systemHintType:y,selectedSources:c,selectedMCPSources:_,showConnectMore:b,toggleSource:h,contentRef:k,isDeveloperMode:v,defaultAutoConnectors:d}=t,U=o===void 0?!1:o,f=r===void 0?!0:r,I=i===void 0?!1:i,P=g===void 0?!1:g,O=b===void 0?!0:b,w=He();let T;e[0]!==c?(T=c==null?void 0:c.has("cloud"),e[0]=c,e[1]=T):T=e[1];const $=!!T;let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=to(),e[2]=p):p=e[2];const A=p;let L;e[3]!==w?(L=()=>$t(w),e[3]=w,e[4]=L):L=e[4];const q=ue(L),K=y==="agent"&&A&&!$,M=Tt(),ee=er(),{openSettings:Q}=tp(),F=Ut(n,jg);let Z;e[5]!==ee||e[6]!==v?(Z=(ee==null?void 0:ee.isWorkspacePlan())&&v,e[5]=ee,e[6]=v,e[7]=Z):Z=e[7];const ne=Z,D=!v||F===!1&&!ne,Y=F===!0&&!ne;let pe;e[8]!==S?(pe={fetchValidLinksOnly:S},e[8]=S,e[9]=pe):pe=e[9];const{connectorLinks:_e,isLoading:Le}=Ya(pe);let Pe;e[10]!==w?(Pe=ln(w),e[10]=w,e[11]=Pe):Pe=e[11];const Ne=Pe;let ct;e[12]!==w||e[13]!==P?(ct=()=>pn.if$(w,P),e[12]=w,e[13]=P,e[14]=ct):ct=e[14];const{data:le,isLoading:We}=ue(ct);let de;if(e[15]!==(le==null?void 0:le.connection_statuses)||e[16]!==m){e:{const ie=sn((It=le==null?void 0:le.connection_statuses)!=null?It:[],Rg);if(m){de=(Dt=ie==null?void 0:ie.filter(De=>m(De.user_connection_details.connection_type)))!=null?Dt:[];break e}de=ie!=null?ie:[]}e[15]=le==null?void 0:le.connection_statuses,e[16]=m,e[17]=de}else de=e[17];const me=de;let Be;e[18]!==me?(Be=new Set(me.map(Dg).filter(Bg)),e[18]=me,e[19]=Be):Be=e[19];const Te=Be;let Oe;e[20]!==me?(Oe=me.some(Ng),e[20]=me,e[21]=Oe):Oe=e[21];const Re=Oe;let se;e[22]!==me?(se=me.some(Og),e[22]=me,e[23]=se):se=e[23];const Ee=se;let Fe;e[24]!==l?(Fe=new Set((l!=null?l:[]).map(Ug)),e[24]=l,e[25]=Fe):Fe=e[25];const ve=Fe;let te;if(e[26]!==a||e[27]!==ve){let ie;e[29]!==ve?(ie=De=>{var Ae;return!((Ae=De.branding)!=null&&Ae.is_discoverable_app)||De.conformance.implements_retrievable||typeof De.type=="string"&&ve.has(De.type)},e[29]=ve,e[30]=ie):ie=e[30],te=a.filter(ie),e[26]=a,e[27]=ve,e[28]=te}else te=e[28];const oe=te;let ce;e:{if(!P){let xe;e[31]!==x||e[32]!==_e||e[33]!==oe?(xe={enabledConnectors:oe,connectorConfigMap:x,connectorLinks:_e},e[31]=x,e[32]=_e,e[33]=oe,e[34]=xe):xe=e[34],ce=xe;break e}const ie=os[Qe.GDRIVE_ACTION_CONNECTOR];let De;e[35]!==_e?(De=_e.has(ie),e[35]=_e,e[36]=De):De=e[36];const Ae=De;let $e;e[37]!==me?($e=me.some(Lg),e[37]=me,e[38]=$e):$e=e[38];const at=$e;let Ct;e[39]!==me?(Ct=me.some(Fg),e[39]=me,e[40]=Ct):Ct=e[40];const H=Ct;let ge,Ce,Ie;if(e[41]!==x||e[42]!==_e||e[43]!==oe||e[44]!==H||e[45]!==Ae||e[46]!==at||e[47]!==Re||e[48]!==Ee||e[49]!==M||e[50]!==me){if(Ie=[...oe],ge=new Map(x),Ce=new Map(_e),Ae&&!Ie.some(zg)&&!at){Ie.push({id:os[Qe.GDRIVE_ACTION_CONNECTOR],type:Qe.GDRIVE_ACTION_CONNECTOR,name:"Google Drive",description:"",logo_url:sp,connector_type:"SERVICE",service:"",base_url:null,actions:[],supported_auth:[],owners:[],access_list:[],conformance:{implements_retrievable:!0}});let xe;e[54]!==M?(xe=M.formatMessage(St.contactAdmin),e[54]=M,e[55]=xe):xe=e[55];let Ze;e[56]!==xe?(Ze={disabled:!0,disabledText:xe,hasBetaTag:!1},e[56]=xe,e[57]=Ze):Ze=e[57],ge.set(Qe.GDRIVE_ACTION_CONNECTOR,Ze),Ce.delete(ie)}else H&&(Ie=Ie.filter(xe=>{var Ze;if(xe.type===Qe.GDRIVE_ACTION_CONNECTOR){const rt=(Ze=Ce.get(xe.id))==null?void 0:Ze[0];if(me.some(et=>et.user_connection_details.backing_link_id===(rt==null?void 0:rt.id))||xe.type===Qe.GDRIVE_ACTION_CONNECTOR)return!1}return!0}));me.forEach(xe=>{Xt(xe)&&xe.user_connection_details.backing_link_id?Ce.forEach((Ze,rt)=>{Ze.some(et=>et.id===xe.user_connection_details.backing_link_id)&&(Ie=Ie.filter(et=>et.id!==rt))}):Re?Ie=Ie.filter(Hg):Ee&&(Ie=Ie.filter(Gg))}),e[41]=x,e[42]=_e,e[43]=oe,e[44]=H,e[45]=Ae,e[46]=at,e[47]=Re,e[48]=Ee,e[49]=M,e[50]=me,e[51]=ge,e[52]=Ce,e[53]=Ie}else ge=e[51],Ce=e[52],Ie=e[53];let Je;e[58]!==ge||e[59]!==Ce||e[60]!==Ie?(Je={enabledConnectors:Ie,connectorConfigMap:ge,connectorLinks:Ce},e[58]=ge,e[59]=Ce,e[60]=Ie,e[61]=Je):Je=e[61],ce=Je}const{enabledConnectors:V,connectorConfigMap:N,connectorLinks:ye}=ce;let he;e[62]!==V?(he=V.some(Wg),e[62]=V,e[63]=he):he=e[63];const G=he;let W;e[64]!==w||e[65]!==G?(W=()=>({data:void 0,isLoading:!1,isSuccess:!1,error:void 0}),e[64]=w,e[65]=G,e[66]=W):W=e[66];const E=ue(W);let ae;if(e[67]!==_e||e[68]!==oe||e[69]!==Ne||e[70]!==ve||e[71]!==n||e[72]!==N||e[73]!==m||e[74]!==ye||e[75]!==k||e[76]!==w||e[77]!==d||e[78]!==Y||e[79]!==D||e[80]!==K||e[81]!==V||e[82]!==Re||e[83]!==Ee||e[84]!==I||e[85]!==P||e[86]!==f||e[87]!==M||e[88]!==$||e[89]!==_||e[90]!==c||e[91]!==E||e[92]!==me||e[93]!==Te||e[94]!==y||e[95]!==h){const ie=[];if(f){const H=Y||K;let ge;e[97]!==c?(ge=c==null?void 0:c.has("web"),e[97]=c,e[98]=ge):ge=e[98];let Ce;e[99]!==h?(Ce=()=>{h("web")},e[99]=h,e[100]=Ce):Ce=e[100];let Ie;e[101]!==M?(Ie=M.formatMessage(St.webSearch),e[101]=M,e[102]=Ie):Ie=e[102];let Je;e[103]!==H||e[104]!==ge||e[105]!==Ce||e[106]!==Ie?(Je=s.jsx(it.CheckboxItem,{icon:Er,disabled:H,checked:ge,onCheckedChange:Ce,children:Ie}),e[103]=H,e[104]=ge,e[105]=Ce,e[106]=Ie,e[107]=Je):Je=e[107],ie.push({connected:!0,type:"web",name:"web",element:Je})}if(I){let H;e[108]!==h?(H=()=>{h("cloud")},e[108]=h,e[109]=H):H=e[109];let ge;e[110]!==M?(ge=M.formatMessage(St.cloudBrowser),e[110]=M,e[111]=ge):ge=e[111];let Ce;e[112]!==Y||e[113]!==$||e[114]!==H||e[115]!==ge?(Ce=s.jsx(it.CheckboxItem,{icon:jr,disabled:Y,checked:$,onCheckedChange:H,children:ge}),e[112]=Y,e[113]=$,e[114]=H,e[115]=ge,e[116]=Ce):Ce=e[116],ie.push({connected:!0,type:"cloud",name:"cloud",element:Ce})}P&&me.forEach(H=>{var Ze,rt,et,Mt;if(m&&!m(H.user_connection_details.connection_type))return;const ge=(Ze=N==null?void 0:N.get("sync_connector"))==null?void 0:Ze.disabled,Ce=H.user_connection_details.backing_link_id,Ie=Ce?[...ye.keys()].find(Ye=>{var Zt;return(Zt=ye.get(Ye))==null?void 0:Zt.some(Ft=>Ft.id===Ce)}):null,Je=Ie?(rt=oe.find(Ye=>Ye.id===Ie))==null?void 0:rt.type:null;if(H.user_connection_details.connection_type==="gdrive_sync_connector"&&!Xt(H))return;if(!Xt(H)&&H.user_connection_details.backing_link_id&&Je)return;if(H.user_connection_details.connection_type==="github_sync_connector")return;if(!Ag(H)&&!vg.has(H.user_connection_details.connection_type))return;if(Re&&H.user_connection_details.connection_type==="sharepoint_sync_connector")return;if(Ee&&H.user_connection_details.connection_type==="teams_admin_sync_connector"||H.user_connection_details.auth_status==="admin_managed_disconnected")return;const xe=H.user_connection_details.auth_status==="admin_connected"?H.user_connection_details.activation_status!=="inactive":H.user_connection_details.auth_status!=="not_connected";ie.push({connected:xe,type:"sync",name:ao(H),connectorType:H.user_connection_details.connection_type,element:s.jsx(Dr,{connection:H,disabled:ge||K,disabledText:ge?(et=N==null?void 0:N.get("sync_connector"))==null?void 0:et.disabledText:M.formatMessage(St.connectorsNeedCloudBrowserDisabledText),isSelectedInSource:(Mt=c==null?void 0:c.has(H.user_connection_details.connection_type))!=null?Mt:!1,location:"user_dropdown",refetch:()=>Xn(w),showDetails:Te.has(H.user_connection_details.connection_type),toggleSource:Ye=>{Je&&c.has(Je)&&h(Je),h(Ye)}},H.user_connection_details.connection_instance_id)})}),c&&V.forEach(H=>{var Je,xe,Ze,rt,et,Mt,Ye,Zt;const Ce=!!((Je=ye.get(H.id))==null?void 0:Je[0]),Ie=void 0;if(H.type===tr.MCP_CONNECTOR)ie.push({connected:Ce,type:"access",name:H.name,connectorType:H.type,element:s.jsx(Pg,{connector:H,connectorLinks:ye,selectedMCPSources:_,toggleSource:h,systemHintType:y,disabled:H.status==="ONLY_ME"&&D||H.status!=="ONLY_ME"&&Y||K})});else{let Ft=Y||((Ze=(xe=N==null?void 0:N.get(H.type))==null?void 0:xe.disabled)!=null?Ze:!1),es=Ft?(rt=N==null?void 0:N.get(H.type))==null?void 0:rt.disabledText:void 0;if(H.status==="DISABLED_BY_ADMIN"?(Ft=!0,es=M.formatMessage(Zn.disabledByAdmin)):K&&(Ft=!0,es=M.formatMessage(St.connectorsNeedCloudBrowserDisabledText)),H.type===Qe.GITHUB_CONNECTOR)return;const mn=Ne.includes(H.type)&&y===re.Slurm,as=d==null?void 0:d.includes(H.type),io=typeof H.type=="string"&&ve.has(H.type)&&!!((et=H.branding)!=null&&et.is_discoverable_app)&&!H.conformance.implements_retrievable;ie.push({connected:Ce,disabled:Ft,type:"access",name:H.name,isAutoConnected:mn||as,connectorType:H.type,isEcosystemConnector:io,element:s.jsx(Rr,{connector:H,syncProgress:Ie,connectorLink:(Mt=ye.get(H.id))==null?void 0:Mt[0],disabled:Ft,disabledText:es,hasBetaTag:(Ye=N==null?void 0:N.get(H.type))==null?void 0:Ye.hasBetaTag,isSelectedInSource:(Zt=c.has(H.type))!=null?Zt:!1,systemHintType:y,toggleSource:h,isDefaultAutoConnected:as})})}});let De;e[117]!==oe||e[118]!==c?(De=c&&oe.find($g),e[117]=oe,e[118]=c,e[119]=De):De=e[119];let Ae=De;m&&!m(Qe.GITHUB_CONNECTOR)&&(Ae=void 0);let $e;e[120]!==P||e[121]!==me?($e=P?me.find(qg):void 0,e[120]=P,e[121]=me,e[122]=$e):$e=e[122];const at=$e;if(Ae||at){const H=at&&at.user_connection_details.auth_status!=="not_connected"&&at.user_connection_details.activation_status!=="inactive";let ge;e[123]!==_e?(ge=(Pt=_e.get(Hl))==null?void 0:Pt[0],e[123]=_e,e[124]=ge):ge=e[124];const Ce=ge,Ie=Ae&&!!Ce;let Je;e[125]!==N||e[126]!==Y?(Je=Y||((Bt=(dt=N==null?void 0:N.get(Qe.GITHUB_CONNECTOR))==null?void 0:dt.disabled)!=null?Bt:!1),e[125]=N,e[126]=Y,e[127]=Je):Je=e[127];let xe=Je,Ze;e[128]!==N||e[129]!==xe?(Ze=xe?(Ke=N==null?void 0:N.get(Qe.GITHUB_CONNECTOR))==null?void 0:Ke.disabledText:void 0,e[128]=N,e[129]=xe,e[130]=Ze):Ze=e[130];let rt=Ze;if((Ae==null?void 0:Ae.status)==="DISABLED_BY_ADMIN"){xe=!0;let Ye;e[131]!==M?(Ye=M.formatMessage(Zn.disabledByAdmin),e[131]=M,e[132]=Ye):Ye=e[132],rt=Ye}else if(K){xe=!0;let Ye;e[133]!==M?(Ye=M.formatMessage(St.connectorsNeedCloudBrowserDisabledText),e[133]=M,e[134]=Ye):Ye=e[134],rt=Ye}let et;e[135]!==w?(et=()=>Xn(w),e[135]=w,e[136]=et):et=e[136];let Mt;e[137]!==n||e[138]!==Ce||e[139]!==k||e[140]!==rt||e[141]!==xe||e[142]!==Ae||e[143]!==at||e[144]!==c||e[145]!==y||e[146]!==et||e[147]!==h?(Mt=s.jsx(Eg,{clientThreadId:n,githubSyncConnection:at,githubAccessConnector:Ae,connectorLink:Ce,selectedSources:c,toggleSource:h,systemHintType:y,refetch:et,contentRef:k,disabled:xe,disabledText:rt}),e[137]=n,e[138]=Ce,e[139]=k,e[140]=rt,e[141]=xe,e[142]=Ae,e[143]=at,e[144]=c,e[145]=y,e[146]=et,e[147]=h,e[148]=Mt):Mt=e[148],ie.push({disabled:xe,connected:!!H||!!Ie,type:H?"sync":"access",name:"GitHub",connectorType:Qe.GITHUB_CONNECTOR,element:Mt})}ae=Tg(ie,Y||D,{systemHintType:y}).reduce(Vg,[[],[]]),e[67]=_e,e[68]=oe,e[69]=Ne,e[70]=ve,e[71]=n,e[72]=N,e[73]=m,e[74]=ye,e[75]=k,e[76]=w,e[77]=d,e[78]=Y,e[79]=D,e[80]=K,e[81]=V,e[82]=Re,e[83]=Ee,e[84]=I,e[85]=P,e[86]=f,e[87]=M,e[88]=$,e[89]=_,e[90]=c,e[91]=E,e[92]=me,e[93]=Te,e[94]=y,e[95]=h,e[96]=ae}else ae=e[96];const[fe,B]=ae;let be;e[149]!==fe||e[150]!==B?(be={connectedRows:fe,disconnectedRows:B},e[149]=fe,e[150]=B,e[151]=be):be=e[151];const{connectedRows:we,disconnectedRows:Xe}=be;let je;e:{if(Wt(y)){let ie;e[152]===Symbol.for("react.memo_cache_sentinel")?(ie=new Set(sr()),e[152]=ie):ie=e[152];const De=ie;let Ae;if(e[153]!==Xe||e[154]!==De){let $e;e[156]!==De?($e=at=>{var Ct;return De.has((Ct=at.connectorType)!=null?Ct:"")},e[156]=De,e[157]=$e):$e=e[157],Ae=Xe.filter($e),e[153]=Xe,e[154]=De,e[155]=Ae}else Ae=e[155];je=Math.max(Ys-we.length,Ae.length);break e}je=Ys-we.length}const Me=je;if(!n||!c)return null;if(We||Le||U){let ie;return e[158]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx("div",{className:"w-50 px-4",children:s.jsx(Jl,{lines:5,size:"lg",widthVariance:0,width:100})}),e[158]=ie):ie=e[158],ie}const ke=we.length>Ys,Ue=ke&&"border-token-border-secondary mb-1.5 border-b";let nt;e[159]!==Ue?(nt=lt(Ue,"overflow-y-auto"),e[159]=Ue,e[160]=nt):nt=e[160];let wt;e[161]!==ke?(wt=ke?{maxHeight:"calc(2.25rem * ".concat(Ys+.5,")")}:void 0,e[161]=ke,e[162]=wt):wt=e[162];let xt;e[163]!==we?(xt=we.map(Jg),e[163]=we,e[164]=xt):xt=e[164];let mt;e[165]!==nt||e[166]!==wt||e[167]!==xt?(mt=s.jsx("div",{className:nt,style:wt,children:xt}),e[165]=nt,e[166]=wt,e[167]=xt,e[168]=mt):mt=e[168];let gt;e[169]!==Me||e[170]!==Xe?(gt=Xe.length>0&&Me>0&&s.jsx(s.Fragment,{children:Xe.slice(0,Me).map(Kg)}),e[169]=Me,e[170]=Xe,e[171]=gt):gt=e[171];let ht;e[172]!==w||e[173]!==K||e[174]!==M||e[175]!==q||e[176]!==Q||e[177]!==O||e[178]!==y?(ht=O&&s.jsx(it.Item,{disabled:K,icon:Cg,onPointerOver:()=>{Wt(y)&&Na.prefetch()},onSelect:()=>{pt.logEventWithStatsig("chatgpt_connectors_dropdown_connect_more_clicked","chatgpt_connectors_dropdown_connect_more_clicked"),q?ro(Kl):Wt(y)?ms(w,Na,{}):Q(qa.Connectors)},children:M.formatMessage(St.connectApps)}),e[172]=w,e[173]=K,e[174]=M,e[175]=q,e[176]=Q,e[177]=O,e[178]=y,e[179]=ht):ht=e[179];let kt;return e[180]!==mt||e[181]!==gt||e[182]!==ht?(kt=s.jsxs("div",{className:"w-70",children:[mt,gt,ht]}),e[180]=mt,e[181]=gt,e[182]=ht,e[183]=kt):kt=e[183],kt},bs=({isLoading:t=!1,clientThreadId:e,enabledConnectors:o,enabledEcosystemConnectors:n,trigger:a,includeWebSearch:l,includeCloudBrowser:r,selectedSources:i,selectedMCPSources:g,addSource:m,deleteSource:x,toggleSource:S,includeSyncConnectors:y=!1,connectorFilterFn:c,connectorConfigMap:_,fetchValidLinksOnly:b,systemHintType:h,showConnectMore:k=!0,isDeveloperMode:v,defaultAutoConnectors:d})=>{const U=He(),{refetch:f}=Ya({fetchValidLinksOnly:b}),I=Qa(),P=Wt(h)?Xa(U):!0,w=Ut(e,L=>L==null?void 0:L.startedWithByoMcp)===!0,T=C.useRef(null),$=C.useMemo(()=>{const L=n!=null?n:[],q=new Set(L.map(K=>K.id)),X=o.filter(K=>!q.has(K.id));return[...L,...X]},[o,n]),p=C.useRef(!1),A=C.useRef(!1);return C.useEffect(()=>{var q,X;const L=((q=i==null?void 0:i.size)!=null?q:0)+((X=g==null?void 0:g.size)!=null?X:0);!p.current&&L===0&&!w&&(m("web"),p.current=!0)},[i,g,m,w]),s.jsxs(it.Root,{"data-testid":"sources-pill",onOpenChange:L=>{var q,X;L?(A.current||(zl.logEntryPointShown({referrer:Cs.SourcesDropdown}),A.current=!0),f()):(!Zu(ep($o(e),h))&&P&&(x(Qe.GITHUB_CONNECTOR),I&&x("github_sync_connector")),((q=i==null?void 0:i.size)!=null?q:0)+((X=g==null?void 0:g.size)!=null?X:0)===0&&!w&&m("web"))},children:[a,s.jsx(it.Portal,{children:s.jsx(it.Content,{alignOffset:-7,size:"auto",ref:T,children:s.jsx(Ig,{isLoading:t,clientThreadId:e,enabledConnectors:$,enabledEcosystemConnectors:n,includeWebSearch:l,includeCloudBrowser:r,includeSyncConnectors:y,connectorFilterFn:c,connectorConfigMap:_,fetchValidLinksOnly:b,systemHintType:h,selectedSources:i,selectedMCPSources:g,showConnectMore:k,toggleSource:S,contentRef:T,isDeveloperMode:v,defaultAutoConnectors:d})})})]})},Qs=3,xs=({includeSyncConnectors:t,includeWebSearch:e,connectorFilterFn:o,selectedSources:n,selectedMCPSources:a,isDeveloperMode:l})=>{var $;const r=He(),i=Tt(),g=Za(),m=ue(()=>nr(r,{productSku:qo.PROMPT_TEXT_AREA})),x=m===void 0,{data:S,isLoading:y}=ue(()=>pn.if$(r,t)),c=x||y,_=e?n!=null&&n.has("web")?s.jsx(Er,{className:"icon"}):s.jsx(kg,{className:"icon"}):void 0,b=n!=null&&n.has("cloud")?s.jsx(jr,{className:"icon"}):void 0,h=[...n!=null?n:[]].filter(p=>p!=="web"&&p!=="cloud").filter(p=>o?o(p):!0).map(p=>{const A=m==null?void 0:m.find(L=>L.type===p);return A?{name:A.name,icon:s.jsx(Ts,{connector:A,size:"xsmall"})}:null}).filter(p=>!!p),k=t?Array.from(new Map((($=S==null?void 0:S.connection_statuses)!=null?$:[]).filter(p=>Xt(p)&&(o?o(p.user_connection_details.connection_type):!0)&&(n==null?void 0:n.has(p.user_connection_details.connection_type))).map(p=>{var A;return[p.user_connection_details.connection_type,{name:ao(p),icon:s.jsx("img",{src:g&&p.connection_display_info.icon_dark_url?p.connection_display_info.icon_dark_url:(A=p.connection_display_info.icon_url)!=null?A:"",alt:p.connection_display_info.display_name,className:"icon"})}]})).values()):[],v=Array.from(a!=null?a:[]).map(p=>{const A=m==null?void 0:m.find(L=>L.id===p);return A?{name:A.name,icon:s.jsx(Ts,{connector:A,size:"xsmall"})}:null}).filter(p=>!!p),d=sn([...v,...h,...k].reverse(),p=>p.name).reverse();d.sort((p,A)=>p.name.localeCompare(A.name));const U=[..._?[{name:"web",icon:_}]:[],...b?[{name:"cloud",icon:b}]:[],...d],f=U.length>Qs?[...U.slice(0,Qs-1),{name:"__plus_overflow",icon:s.jsx("span",{className:"text-token-text-secondary bg-token-bg-secondary text-caption-regular flex h-4.5 w-4.5 items-center justify-center rounded-full",children:U.length-Qs+1},"more")}]:U,P=C.useMemo(()=>Ua(r,"3282868491"),[r]).get("short_text","Connectors"),O=P==="Sources"?i.formatMessage({id:"hocZEX",defaultMessage:"Add"}):i.formatMessage({id:"UjEzZf",defaultMessage:"Add sources"}),w=P==="Sources"?null:i.formatMessage({id:"DhW8Wx",defaultMessage:"Sources"}),T=f.length===0&&!c?O:w;return s.jsx(it.BasicTrigger,{asChild:!0,children:s.jsxs("button",{type:"button",className:lt("composer-btn px-2",l&&f.length>0&&"rounded-full bg-orange-400/10 hover:bg-orange-400/20"),children:[f.length>0&&!c?s.jsx("div",{className:"flex items-center gap-1",children:f.map(p=>s.jsx("div",{className:"icon flex items-center justify-center",children:p.icon},p.name))}):s.jsx(wg,{className:"icon"}),l&&f.length>0?s.jsx("span",{className:"ms-1.5 text-orange-400 [[data-collapse-labels]_&]:sr-only",children:f.length===1?f[0].name:s.jsx(Ot,{id:"+Fsfxz",defaultMessage:"Multiple Connectors"})}):(f.length<Qs||c)&&T&&s.jsx("span",{className:"ms-1.5 [[data-collapse-labels]_&]:sr-only",children:T}),s.jsx(Mg,{className:"icon-sm xs:ms-1.5 ms-1"})]})})},Rr=({connector:t,connectorLink:e,disabled:o=!1,disabledText:n="",hasBetaTag:a=!1,isSelectedInSource:l,systemHintType:r,toggleSource:i,isDefaultAutoConnected:g=!1,syncProgress:m})=>{var A,L;const x=He(),S=Tt(),y=dn(),c=ln(x),_=cn(x),b=ue(()=>$t(x)),h=q=>{b?ro(un(q)):y(q)},k=!!e,v=l&&k,d=c.includes(t.type)&&r===re.Slurm||!_&&Wt(r)||g;if(t.type===tr.MCP_CONNECTOR)return null;const U=(A=ql[t.type])==null?void 0:A.title,f=U?S.formatMessage(U):t.name,I=s.jsx(Ts,{connector:t,size:"xsmall"}),P=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate",children:f}),a&&s.jsx(rp,{})]}),O=m==null?void 0:m.is_syncing,w=!1,T=o;let $;k?O?$=s.jsx(it.Item,{disabled:!0,label:P,icon:I,trailing:s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-2",children:[S.formatMessage(St.syncing),s.jsx(Vl,{sizeOverride:18,percentage:((L=m==null?void 0:m.sync_progress)!=null?L:0)*100,className:"text-blue-400"})]})}):d?$=s.jsx(it.Item,{disabled:T,label:P,onSelect:()=>{window.location.href=np(t.type)},icon:I,trailing:s.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:S.formatMessage(St.auto)})}):$=s.jsx(it.CheckboxItem,{disabled:o,label:P,icon:I,checked:v,onCheckedChange:()=>{i(t.type)}}):$=s.jsx(it.Item,{disabled:o||w,onSelect:()=>{h({connectorId:t.id,redirectAfter:r?"/?system_hints=".concat(r):void 0,systemHintType:r,referrer:Cs.SourcesDropdown})},label:P,icon:I,trailing:o||w?void 0:s.jsx("div",{className:"text-token-text-tertiary",children:S.formatMessage(St.connect)})});let p=null;return d?k||!o?p=S.formatMessage(St.autoConnected):p=n||S.formatMessage(St.autoConnectorDisabled):o&&(p=n),s.jsx(s.Fragment,{children:(o||d&&k)&&p?s.jsx(an,{label:p,side:"right",align:"center",contentClassName:"w-50",children:$}):$})},Pg=({connector:t,connectorLinks:e,selectedMCPSources:o,toggleSource:n,systemHintType:a,disabled:l=!1})=>{var k;const r=He(),i=Tt(),g=dn(),m=ue(()=>$t(r));if(!t.conformance.implements_retrievable&&(a===re.Research||a===re.Slurm))return null;const S=!!((k=e.get(t.id))==null?void 0:k[0]),y=o.has(t.id)&&S,c=t.name,_=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate",children:c}),s.jsx(ap,{connector:t})]}),b=s.jsx(Ts,{connector:t,size:"xsmall"}),h=v=>{m?ro(un(v)):g(v)};return s.jsx(s.Fragment,{children:S?s.jsx(it.CheckboxItem,{icon:b,checked:y,label:_,disabled:l,onCheckedChange:()=>{n(t.id)}}):s.jsx(it.Item,{onSelect:()=>{l||h({connectorId:t.id,redirectAfter:a?"/?system_hints=".concat(a):void 0,systemHintType:a,referrer:Cs.SourcesDropdown})},icon:b,label:_,trailing:s.jsx("div",{className:"text-token-text-tertiary",children:i.formatMessage(St.connect)}),disabled:l})})},Dr=({connection:t,refetch:e,location:o,isSelectedInSource:n,toggleSource:a,showDetails:l,disabled:r=!1,disabledText:i=""})=>{var ne;const g=He(),m=cn(g),x=Tt(),S=Za(),[y,c]=C.useState(!1),[_,b]=C.useState(),h=oo(),k=dn(),v=ue(()=>$t(g)),d=D=>{v?ro(un(D)):k(D)},U=()=>{a(t.user_connection_details.connection_type)},f=t.user_connection_details.connection_instance_id,I=or(),P=Gl(g),O=t.user_connection_details.knowledge_connector_type,w=O==="google_drive_oauth",T=t.user_connection_details.connection_type==="notion_sync_connector"&&t.user_connection_details.connection_instance_id.startsWith("ks--merge"),$=Wt(h)?!m&&["activated","partially_activated"].includes(t.user_connection_details.activation_status):!1,p=C.useCallback(async()=>{try{c(!0),await Wl({connectorType:O,connectionId:f,location:o,intl:x})}catch(D){D instanceof Error?I.danger(D.message,{toastId:"sources_dropdown_oauth_error"}):I.danger({defaultMessage:"Encountered an error connecting your account. Please try again later.",description:"Error message shown when a user tries to link their account but it fails."},{toastId:"sources_dropdown_oauth_error"})}finally{c(!1),e==null||e()}},[f,O,x,o,e,I]),[A,L]=C.useState(!1),q=()=>{w?Wt(h)?d({connectorId:os[Qe.GDRIVE_ACTION_CONNECTOR],redirectAfter:h?"/?system_hints=".concat(h):void 0,systemHintType:h!=null?h:void 0,referrer:Cs.SourcesDropdown,syncOnly:!0}):L(!0):T?d({connectorId:os[Qe.NOTION_CONNECTOR],redirectAfter:h?"/?system_hints=".concat(h):void 0,systemHintType:h!=null?h:void 0,referrer:Cs.SourcesDropdown,syncOnly:!0}):p()},X=t.user_connection_details.activation_status==="inactive"&&t.user_connection_details.auth_status==="not_connected",K=["activating","partially_activated"].includes(t.user_connection_details.activation_status),M=X&&!P||K,ee=s.jsx("img",{src:S&&t.connection_display_info.icon_dark_url?t.connection_display_info.icon_dark_url:(ne=t.connection_display_info.icon_url)!=null?ne:"",alt:t.connection_display_info.display_name,className:"icon"}),Q=D=>{if(D.stopPropagation(),D.preventDefault(),X){q();return}if(K){b(t);return}},F={key:t.connection_display_info.display_name,disabled:r,icon:ee,label:ao(t),secondary:l?s.jsx("div",{className:"truncate",children:t.connection_display_info.display_name}):void 0};$&&(F.trailing=s.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:x.formatMessage(St.auto)}));let Z=null;switch(t.user_connection_details.activation_status){case"activated":Z=s.jsx(it.CheckboxItem,Jt(yt({},F),{checked:n,onCheckedChange:U}));break;case"partially_activated":Z=s.jsx(it.CheckboxItem,Jt(yt({},F),{checked:n,onCheckedChange:U,secondary:s.jsx("div",{className:"group-radix-disabled:opacity-50 flex items-center gap-1.5",children:s.jsx(Zl,{className:"flex-row-reverse",connection:t})})}));break;case"activating":Z=s.jsx(it.Item,Jt(yt({},F),{style:{cursor:M?void 0:"default"},onSelect:Q,trailing:s.jsx("div",{className:"group-radix-disabled:opacity-50",children:s.jsx(Xl,{connection:t})})}));break;case"inactive":Z=s.jsx(it.Item,Jt(yt({},F),{style:{cursor:M?void 0:"default"},onSelect:Q,trailing:s.jsx("div",{className:"group-radix-disabled:opacity-50",children:y?s.jsx(Yl,{className:"icon"}):s.jsx(Ql,{connection:t,refetch:e,location:"user_dropdown"})})}));break}return s.jsxs(s.Fragment,{children:[_&&s.jsx(op,{connection:_,onClose:()=>b(void 0)}),A&&s.jsx($l,{isAdminFlow:!1,onClose:()=>L(!1),connectionId:f,location:o,onSuccess:e}),r&&i?s.jsx(an,{label:i,side:"right",align:"center",contentClassName:"w-50",children:Z}):Z]})},Eg=({clientThreadId:t,githubSyncConnection:e,githubAccessConnector:o,connectorLink:n,selectedSources:a,toggleSource:l,systemHintType:r,refetch:i,contentRef:g,disabled:m,disabledText:x})=>{var T,$;const S=He(),y=Tt(),c=ec("installations/select_target"),_=Qa(),b=Wt(r)?Xa(S):!0,k=Ut(t,p=>p==null?void 0:p.startedWithByoMcp)===!0,{data:v,isLoading:d}=ip({linkId:(T=n==null?void 0:n.id)!=null?T:""}),U=!!v,f=n==null?void 0:n.id,I=!!f&&!U;if(!o&&!e)return null;const P=p=>{const A=p==="github_sync_connector",L=p===Qe.GITHUB_CONNECTOR;if((A||L)&&o&&e){const q=a==null?void 0:a.has("github_sync_connector"),X=a==null?void 0:a.has(Qe.GITHUB_CONNECTOR);q===X&&l(A?Qe.GITHUB_CONNECTOR:"github_sync_connector")}l(p)},O=o?s.jsx(Ts,{connector:o,size:"xsmall"}):e?s.jsx("img",{src:($=e.connection_display_info.icon_url)!=null?$:"",alt:e.connection_display_info.display_name,className:"icon"}):null,w=o?o.name:e?ao(e):"";if(I&&!d&&b)return s.jsx(it.Item,{label:w,icon:O,onSelect:()=>{window.open(c,"_blank")},trailing:s.jsx("div",{className:"text-token-text-tertiary",children:y.formatMessage(St.finishSetup)})});if(e&&(Xt(e)||!o)){const p=a.has("github_sync_connector");return s.jsxs(s.Fragment,{children:[s.jsx(Dr,{connection:e,refetch:i,location:"user_dropdown",isSelectedInSource:p,toggleSource:P,showDetails:!1,disabled:d||m,disabledText:x},e.user_connection_details.connection_instance_id),p&&_&&b&&s.jsx(ka,{clientThreadId:t,allowSelectAllRepos:!1,githubSyncEnabled:!0,linkId:f,syncConnectionId:e.user_connection_details.connection_instance_id,contentRef:g})]})}else if(o){const p=a.has(Qe.GITHUB_CONNECTOR);return s.jsxs(s.Fragment,{children:[s.jsx(Rr,{connector:o,connectorLink:n,disabled:k||m,disabledText:x,hasBetaTag:!1,isSelectedInSource:p,systemHintType:r,toggleSource:P}),p&&b&&s.jsx(ka,{clientThreadId:t,linkId:n==null?void 0:n.id,allowSelectAllRepos:!1,githubSyncEnabled:!1,contentRef:g})]})}return null},St=As({contactAdmin:{id:"JGCH/x",defaultMessage:"Contact your admin to enable Google Drive for chat"},allRepositories:{id:"EzHFPp",defaultMessage:"All Repositories"},connect:{id:"OODbh3",defaultMessage:"Connect"},syncing:{id:"EQFkZV",defaultMessage:"Syncing"},connectOnMobileTooltip:{id:"Ey/eYm",defaultMessage:"Connect on your iPhone or iPad"},fetchingSyncStatus:{id:"mm1SP4",defaultMessage:"Fetching sync progress, please wait"},finishSetup:{id:"j12ad3",defaultMessage:"Finish Setup"},sourcesEnabled:{id:"aEIPI+",defaultMessage:"On"},webSearch:{id:"XoUbAe",defaultMessage:"Web search"},cloudBrowser:{id:"RA2J7e",defaultMessage:"Use cloud browser"},connectorsNeedCloudBrowserDisabledText:{id:"lm1ZXj",defaultMessage:"Connectors can only be enabled for cloud browser"},sourcesDisabled:{id:"j32+iI",defaultMessage:"Off"},connectApps:{id:"wwlf43",defaultMessage:"Connect more"},autoConnected:{id:"7IJBNd",defaultMessage:"This connector is searched automatically"},autoConnectorDisabled:{id:"KJQcAS",defaultMessage:"To enable this connector, toggle off all custom connectors"},auto:{id:"uW03xX",defaultMessage:"Auto"}});function jg(t){return t==null?void 0:t.startedWithByoMcp}function Rg(t){return t.user_connection_details.connection_instance_id}function Dg(t){return t.user_connection_details.connection_type}function Bg(t,e,o){return o.indexOf(t)!==e}function Ng(t){return Xt(t)&&t.user_connection_details.connection_type==="sharepoint_admin_sync_connector"}function Og(t){return Xt(t)&&t.user_connection_details.connection_type==="teams_admin_sync_connector"}function Ug(t){return t.type}function Lg(t){return t.user_connection_details.connection_type==="gdrive_sync_connector"}function Fg(t){return t.user_connection_details.connection_type==="gdrive_sync_connector"&&Xt(t)}function zg(t){return t.type===Qe.GDRIVE_ACTION_CONNECTOR}function Hg(t){return t.id!==os[Qe.SHAREPOINT_CONNECTOR]}function Gg(t){return t.id!==os[Qe.TEAMS_CONNECTOR]}function Wg(t){return!1}function $g(t){return t.type===Qe.GITHUB_CONNECTOR}function qg(t){return t.user_connection_details.connection_type==="github_sync_connector"}function Vg(t,e){const[o,n]=t;return e.connected?[[...o,e],n]:[o,[...n,e]]}function Jg(t){const{element:e,name:o}=t;return s.jsx(C.Fragment,{children:e},o)}function Kg(t){const{element:e}=t;return s.jsx(s.Fragment,{children:e})}function Yg({clientThreadId:t,activeSystemHint:e,selectedSources:o,selectedMCPSources:n,addSource:a,deleteSource:l,toggleSource:r,currentModelConfigId:i,connectionStatuses:g,connectedOnly:m=!1,hiddenTypes:x,hideMcpConnectors:S=!1}){var Z,ne;const y=He(),c=tc(),_=er(),b=ue(()=>nn(y)),h=(e==null?void 0:e.systemHint)===re.Research,k=(e==null?void 0:e.systemHint)===re.ApiTool,v=(e==null?void 0:e.systemHint)===re.Glaux,d=(e==null?void 0:e.systemHint)===re.Slurm,U=wr(i,e==null?void 0:e.systemHint),{availableConnectors:f,isLoading:I,enabled:P}=sc(),O=oc(y),w=ue(()=>nc(y,{includeDisabledByAdmin:!0,includeAutoConnectors:d,filterDisabledAutoConnectors:d})),T=!w,$=ue(()=>ac(y)),{availableConnectors:p,enabled:A,isLoading:L}=lp({includeDisabledByAdmin:!0}),q=ue(()=>rc(y)),{connectorConfigMap:X}=cp({clientThreadId:t}),K=ue(()=>nr(y)),M=D=>{const Y=o.size+n.size;v&&(Gt(D)&&n.has(D)&&Y<=1||!Gt(D)&&o.has(D)&&Y<=1)||r(D)},ee=d&&(((Z=g==null?void 0:g.length)!=null?Z:0)>0||O&&w&&w.length>0),Q=D=>D?S!=null&&S?D.filter(Y=>!Gt(Y.type)&&!(x!=null&&x.has(Y.type))):x?D.filter(Y=>!x.has(Y.type)):D:[],F=D=>x?!x.has(D):!0;if(P&&h)return s.jsx(bs,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:a,deleteSource:l,toggleSource:M,isLoading:I,enabledConnectors:Q(f),fetchValidLinksOnly:!0,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:b,connectorFilterFn:F,trigger:s.jsx(xs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:!1,includeWebSearch:!0,connectorFilterFn:F})});if(ee){const D=_!=null&&_.isPersonalAccount()?c:!0;return s.jsx(bs,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:a,deleteSource:l,toggleSource:M,isLoading:T,enabledConnectors:Q(w),includeWebSearch:!1,includeSyncConnectors:D,isDeveloperMode:b,connectorConfigMap:X,systemHintType:e==null?void 0:e.systemHint,connectorFilterFn:F,trigger:s.jsx(xs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:D,includeWebSearch:!1,isDeveloperMode:b,connectorFilterFn:F})})}if(k){const D=(ne=K==null?void 0:K.filter(Y=>Y.connector_type==="MCP"))!=null?ne:[];return s.jsx(bs,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:a,deleteSource:l,toggleSource:M,isLoading:!K,enabledConnectors:D,includeWebSearch:!1,includeSyncConnectors:!1,connectorConfigMap:X,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:!0,connectorFilterFn:F,trigger:s.jsx(xs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:!1,includeWebSearch:!1,isDeveloperMode:!0,connectorFilterFn:F})})}if(A&&U){const D=to();return s.jsx(bs,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:a,deleteSource:l,toggleSource:M,isLoading:L,enabledConnectors:p,fetchValidLinksOnly:!0,systemHintType:e==null?void 0:e.systemHint,includeCloudBrowser:D,isDeveloperMode:b,connectorFilterFn:F,trigger:s.jsx(xs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:!1,includeWebSearch:!0,connectorFilterFn:F})})}return v?s.jsx(bs,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:a,deleteSource:l,toggleSource:M,isLoading:!q,enabledConnectors:q!=null?q:[],includeWebSearch:!1,includeSyncConnectors:!0,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:b,connectorFilterFn:D=>{var Y;return(D.endsWith("_sync_connector")?(Y=$!=null?$:[])==null?void 0:Y.some(pe=>pe.user_connection_details.connection_type===D):!0)&&F(D)},trigger:s.jsx(xs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:!0,connectorFilterFn:D=>{var Y;return(D.endsWith("_sync_connector")?(Y=$!=null?$:[])==null?void 0:Y.some(pe=>pe.user_connection_details.connection_type===D):!0)&&F(D)},includeWebSearch:!1})}):null}function Qg({activeSystemHint:t,clientThreadId:e,connectionStatuses:o,currentModelConfig:n}){const{selectedSources:a=new Set,selectedMCPSources:l=new Set,addSource:r,deleteSource:i,toggleSource:g}=kr(e);return s.jsx(Yg,{clientThreadId:e,activeSystemHint:t,selectedSources:a,selectedMCPSources:l,addSource:r,deleteSource:i,toggleSource:g,currentModelConfigId:n==null?void 0:n.id,connectionStatuses:o})}const Xg=t=>{"use forget";var Ae;const e=Rt.c(129),{conversation:o,composerController:n,pendingFiles:a,hasFiles:l,placeholder:r,shouldUseRotatingPlaceholders:i,isTemporaryChat:g,state:m,inputState:x,disableReason:S,currentModelConfig:y,gizmoId:c,replyRegions:_,includeSidebarContextTray:b,onSubmit:h,leadingAction:k,legacyFooterActions:v,activeSystemHint:d,activeConnectorSystemHints:U,hideSystemHint:f,isSystemHintLocked:I,onRemoveSystemHint:P,onRemoveModel:O,contextualAnswerUserConnectionData:w,fileInput:T,expanded:$,expandOnMultilineInput:p,layoutMode:A,shouldShowAgentSessionModeDropdown:L,agentSessionModeNuxModal:q,isAgentSessionModeDropdownDisabled:X,forceStopButton:K}=t,M=i===void 0?!1:i,ee=f===void 0?!1:f,Q=L===void 0?!1:L,F=X===void 0?!1:X,Z=K===void 0?!1:K,ne=He(),D=so($t);let Y;e[0]!==ne?(Y=()=>nn(ne),e[0]=ne,e[1]=Y):Y=e[1];const pe=ue(Y),_e=Ut(o.id,ut.getIsNewConversation),Le=oo();let Pe;e[2]!==ne?(Pe=()=>rn(ne),e[2]=ne,e[3]=Pe):Pe=e[3];const{showSelectedModelInComposer:Ne,showThinkingEffortPicker:ct,fontSize:le,disableMotion:We}=ue(Pe);let de;e[4]!==n?(de=ar(n),e[4]=n,e[5]=de):de=e[5];const{composerThinkingEffort$:me,setThinkingEffort:Be}=de,Te=ue(me);let Oe;e[6]===Symbol.for("react.memo_cache_sentinel")?(Oe=!1,e[6]=Oe):Oe=e[6];let Re;e[7]!==U?(Re=!1,e[7]=U,e[8]=Re):Re=e[8];const se=Re,Ee=(!!(y!=null&&y.configurableThinkingEffort)||(y==null?void 0:y.id)===Cr)&&Te&&ct&&!se&&(d==null?void 0:d.systemHint)!==re.Agent&&(d==null?void 0:d.systemHint)!==re.Research;let Fe;e[9]!==o||e[10]!==ne||e[11]!==y||e[12]!==Ee||e[13]!==Ne?(Fe=()=>{var H;if(!y||!Ne&&!Ee)return[null];if(lr(ne).id===y.id)return[null];const $e=tn(o),at=$e.categories.find(ge=>{var Ce;return ge.defaultModel===y.id||((Ce=ge.supportedModels)==null?void 0:Ce.includes(y.id))});if(at)return[(H=at.actionPillShortName)!=null?H:at.label];const Ct=$e.groups.find(ge=>ge.modelIds.includes(y.id));return Ct?[Ct.label,y.title]:[y.title||y.id]},e[9]=o,e[10]=ne,e[11]=y,e[12]=Ee,e[13]=Ne,e[14]=Fe):Fe=e[14];const[ve,te]=ue(Fe);let oe;e[15]!==n?(oe=Mr(n),e[15]=n,e[16]=oe):oe=e[16];const ce=ue(oe.isWhisperActive$),V=Tr(Zg);let N;e[17]!==V?(N=Ar(),e[17]=V,e[18]=N):N=e[18];const he=l||N,G=M&&!he,W=((Ae=_==null?void 0:_.length)!=null?Ae:0)>0,[E,ae]=C.useState(W),fe=ws(W);let B;e[19]!==n||e[20]!==D?(B=()=>(lc()||D)&&!Vo(n),e[19]=n,e[20]=D,e[21]=B):B=e[21];const be=ue(B);let we,Xe;e[22]!==W?(we=()=>{W&&ae(!0)},Xe=[W],e[22]=W,e[23]=we,e[24]=Xe):(we=e[23],Xe=e[24]),C.useEffect(we,Xe);const je=no(),Me=D&&"text-sm shadow-none! dark:border-token-border-heavy border-t border-gray-100 rounded-none";let ke;e[25]!==Me?(ke=lt(Me),e[25]=Me,e[26]=ke):ke=e[26];let Ue;e[27]!==n||e[28]!==le||e[29]!==ce||e[30]!==r||e[31]!==G?(Ue=s.jsx(bp,{children:ce?s.jsx("div",{className:"max-w-full min-w-0 flex-1",children:s.jsx(xp,{composerController:n,className:"h-14"})}):s.jsx(Sp,{composerController:n,placeholder:r,fontSize:le,enableRotatingPlaceholders:G})}),e[27]=n,e[28]=le,e[29]=ce,e[30]=r,e[31]=G,e[32]=Ue):Ue=e[32];let nt;e[33]!==T?(nt=T&&s.jsx(Ca,{children:T}),e[33]=T,e[34]=nt):nt=e[34];let wt;e[35]!==W||e[36]!==fe||e[37]!==_||e[38]!==E?(wt=E&&s.jsx(Fo,{children:s.jsx(Fa,{initial:!1,onExitComplete:()=>{fe.current||ae(!1)},children:W&&s.jsx(gs.div,{initial:{height:0,opacity:0,y:12},animate:{height:"auto",opacity:1,y:0},exit:{height:0,opacity:0,y:12},transition:{duration:.2,ease:"easeOut"},className:"overflow-hidden",children:s.jsx(dp,{replyRegions:_!=null?_:[]})},"reply-regions")})}),e[35]=W,e[36]=fe,e[37]=_,e[38]=E,e[39]=wt):wt=e[39];let xt;e[40]!==(d==null?void 0:d.systemHint)||e[41]!==he||e[42]!==a||e[43]!==V?(xt=he&&s.jsx(Fo,{children:s.jsx(up,{files:a,selectedApps:V,activeSystemHintType:d==null?void 0:d.systemHint,className:"no-scrollbar horizontal-scroll-fade-mask flex flex-nowrap gap-2 overflow-x-auto px-2.5 pt-2.5 pb-1.5 [--edge-fade-distance:1rem]"})}),e[40]=d==null?void 0:d.systemHint,e[41]=he,e[42]=a,e[43]=V,e[44]=xt):xt=e[44];let mt;e[45]!==b?(mt=b&&s.jsx(Fo,{children:s.jsx(wp,{})}),e[45]=b,e[46]=mt):mt=e[46];let gt;e[47]!==k?(gt=k&&s.jsx(kp,{children:k}),e[47]=k,e[48]=gt):gt=e[48];let ht;e[49]!==je||e[50]!==v?(ht=!je&&(v==null?void 0:v.map(eh)),e[49]=je,e[50]=v,e[51]=ht):ht=e[51];let kt;e[52]!==n||e[53]!==ne||e[54]!==y||e[55]!==je||e[56]!==Ee||e[57]!==Te||e[58]!==ve||e[59]!==te||e[60]!==O||e[61]!==Be||e[62]!==Ne?(kt=!je&&Ee&&ve?s.jsx(zo,{children:s.jsx(pp,{thinkingEffort:Te,onChangeThinkingEffort:$e=>{Be($e),ir(ne).mutate({modelSlug:y.id,thinkingEffort:$e})},modelLabel:ve,modelSlug:y.id,onRemoveModel:O,onCloseAutoFocus:$e=>{rr(ne).composer.autofocusDisabled$()||($e.preventDefault(),Yt(tt(n)))}})},"effort-selector"):!je&&Ne&&ve?s.jsx(zo,{children:s.jsx(mp,{label:ve,tooltipLabel:te,onRemoveModel:O})},"active-model-pill"):null,e[52]=n,e[53]=ne,e[54]=y,e[55]=je,e[56]=Ee,e[57]=Te,e[58]=ve,e[59]=te,e[60]=O,e[61]=Be,e[62]=Ne,e[63]=kt):kt=e[63];let It;e[64]!==U||e[65]!==d||e[66]!==Le||e[67]!==o.id||e[68]!==ee||e[69]!==je||e[70]!==F||e[71]!==I||e[72]!==P||e[73]!==Q?(It=!je&&(d!=null?d:Le)&&!ee&&s.jsx(zo,{children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(fp,{clientThreadId:o.id,activeSystemHint:d,activeSystemHintType:Le,activeConnectorSystemHints:U!=null?U:[],locked:I,onRemoveSystemHint:P}),Q&&s.jsx(gp,{disabled:F})]})},"active-hint-tag"),e[64]=U,e[65]=d,e[66]=Le,e[67]=o.id,e[68]=ee,e[69]=je,e[70]=F,e[71]=I,e[72]=P,e[73]=Q,e[74]=It):It=e[74];let Dt;e[75]!==q?(Dt=q&&s.jsx(Ca,{children:q}),e[75]=q,e[76]=Dt):Dt=e[76];let Pt;e[77]!==d||e[78]!==(w==null?void 0:w.connection_statuses)||e[79]!==o.id||e[80]!==ne||e[81]!==y||e[82]!==je||e[83]!==A?(Pt=!je&&d&&y&&s.jsxs(Yo,{children:[s.jsx(Qg,{activeSystemHint:d!=null?d:void 0,clientThreadId:o.id,connectionStatuses:w==null?void 0:w.connection_statuses,currentModelConfig:y}),(d==null?void 0:d.systemHint)===re.Agent&&ic(ne)&&s.jsx(hp,{clientThreadId:o.id,activeSystemHintType:d.systemHint,layoutMode:A})]},"sources-tag"),e[77]=d,e[78]=w==null?void 0:w.connection_statuses,e[79]=o.id,e[80]=ne,e[81]=y,e[82]=je,e[83]=A,e[84]=Pt):Pt=e[84];let dt;e[85]!==(d==null?void 0:d.systemHint)||e[86]!==n||e[87]!==je?(dt=!je&&(d==null?void 0:d.systemHint)===re.PictureV2&&s.jsx(Yo,{children:s.jsx(_p,{composerController:n})},"image-style-picker"),e[85]=d==null?void 0:d.systemHint,e[86]=n,e[87]=je,e[88]=dt):dt=e[88];let Bt;e[89]!==n||e[90]!==je||e[91]!==be?(Bt=!be&&!je&&s.jsx(Cp,{composerController:n,composerType:"composer-btn"}),e[89]=n,e[90]=je,e[91]=be,e[92]=Bt):Bt=e[92];let Ke;e[93]!==n||e[94]!==o.id||e[95]!==S||e[96]!==Z||e[97]!==c||e[98]!==x||e[99]!==ce||e[100]!==h||e[101]!==m?(Ke=!ce&&s.jsx(yp,{forceStopButton:Z,inputState:x,state:m,onSubmit:h,composerController:n,clientThreadId:o.id,gizmoId:c,disableReason:S}),e[93]=n,e[94]=o.id,e[95]=S,e[96]=Z,e[97]=c,e[98]=x,e[99]=ce,e[100]=h,e[101]=m,e[102]=Ke):Ke=e[102];let ie;e[103]!==Bt||e[104]!==Ke?(ie=s.jsxs(Mp,{children:[Bt,Ke]}),e[103]=Bt,e[104]=Ke,e[105]=ie):ie=e[105];let De;return e[106]!==n||e[107]!==We||e[108]!==p||e[109]!==$||e[110]!==pe||e[111]!==_e||e[112]!==g||e[113]!==h||e[114]!==ke||e[115]!==Ue||e[116]!==nt||e[117]!==wt||e[118]!==xt||e[119]!==mt||e[120]!==gt||e[121]!==ht||e[122]!==kt||e[123]!==It||e[124]!==Dt||e[125]!==Pt||e[126]!==dt||e[127]!==ie?(De=s.jsxs(Tp,{isTemporaryChat:g,isDeveloperMode:pe,isNewConversation:_e,composerController:n,expanded:$,expandOnMultilineInput:p,onSubmit:h,backgroundClassName:ke,disableMotion:We,children:[Ue,nt,wt,xt,mt,gt,ht,kt,It,Dt,Pt,dt,ie]}),e[106]=n,e[107]=We,e[108]=p,e[109]=$,e[110]=pe,e[111]=_e,e[112]=g,e[113]=h,e[114]=ke,e[115]=Ue,e[116]=nt,e[117]=wt,e[118]=xt,e[119]=mt,e[120]=gt,e[121]=ht,e[122]=kt,e[123]=It,e[124]=Dt,e[125]=Pt,e[126]=dt,e[127]=ie,e[128]=De):De=e[128],De};function Zg(t){return t.selectedApps}function eh(t,e){return s.jsx(Yo,{children:t},"legacy-footer-action-".concat(e))}const th=ot(()=>st(()=>import("./ydzvfm0toss4freg.js"),__vite__mapDeps([19,1,2,3,20,21,0,4])).then(t=>t.ConnectorsOnboardingModal)),sh=ot(()=>st(()=>import("./fyw02vlaiv2vq6cj.js").then(t=>t.zf),__vite__mapDeps([0,1,2,3,4])).then(t=>t.TatertotNuxModal)),oh=ot(()=>st(()=>import("./jgtgxlzsiw2y9b3q.js"),__vite__mapDeps([22,1,2,3,0,4,23])).then(t=>t.GithubOnboardingModal)),nh=()=>null;function ah({onCreateNewCompletion:t,onContinueGenerating:e,account:o,currentModelId:n,currentModelConfig:a,disableDraftPersistence:l=!1,conversation:r,isNewThread:i,isCompletionInProgress:g,disabled:m=!1,disabledReason:x,canPause:S=!1,canContinue:y=!1,isInteractableSharedThread:c,headerClassName:_,hideHeader:b,onlyAllowImageUploads:h,layoutMode:k,availableSystemHints:v,isSnorlaxEnabledForGizmo:d,gizmoId:U}){"use no forget";var Fn,zn,Hn,Gn,Wn,$n,qn,Vn;Ma.markStart("PromptTextarea"),Ma.markRendered("PromptTextarea",void 0,"pageLoad");const f=He(),I=ue(()=>Ap(r)),P=I&&vp(I),O=ue(()=>_s(r)),[w,T]=Qi(),$=Ip(),p=en();Pp(p),Ep();const A=Zo(),L=o==null?void 0:o.isSelfServeBusiness(),q=o==null?void 0:o.isEnterprisey(),X=o==null?void 0:o.isEnterpriseCBP(),K=o==null?void 0:o.isEdu(),M=ss(f),ee=to(),Q=Tt(),F=or(),Z=cc(),ne=jp.useStore(),D=vc(),Y=(Fn=L||q||X||K)!=null?Fn:!1,[pe,_e,Le,Pe,Ne,ct,le]=Ut(r.id,u=>{var R,J,Se,qe,Ve,Nt;return[ut.getCurrentLeafId(u),ut.getRequestId(u),ut.findAsyncTaskMetadataNode(u,ut.getSteeringAsyncTaskId(u)),(Se=(J=(R=ut.lastUserMessage(u))==null?void 0:R.metadata)==null?void 0:J.system_hints)==null?void 0:Se.includes(re.Agent),!!(u!=null&&u.interruptionInProgress)&&!!((Ve=(qe=ut.getCurrentNode(u))==null?void 0:qe.message.metadata)!=null&&Ve.n7jupd_message),u==null?void 0:u.startedWithByoMcp,(Nt=ut.getCurrentNode(u))==null?void 0:Nt.message]}),We=(zn=Le==null?void 0:Le.message.metadata)==null?void 0:zn.async_task_id,de=ea(u=>We?u.tasks[We]:null),me=ea(u=>{var R,J;return(R=le==null?void 0:le.metadata)!=null&&R.async_completion_id&&(le==null?void 0:le.status)==="in_progress"?u.tasks[(J=le.metadata.async_task_id)!=null?J:""]:null}),Be=C.useMemo(()=>{var u;return!!((u=le==null?void 0:le.metadata)!=null&&u.async_completion_id&&(le==null?void 0:le.status)==="in_progress"&&(me==null?void 0:me.status)!==jo.CANCELLED)},[le,me]),Te=Ut(r.id,ut.getSteeringAsyncTaskId);C.useEffect(()=>{const u=de&&dc(de)===uc.THINKING,R=u&&pc(de)&&de.status!==jo.FINALIZING?de:null;!Te&&R?Kt(r.id,J=>{J.steeringAsyncTaskId=R.taskId}):Te&&!R&&u&&Ro(r.id)},[Te,de,r.id]);const Oe=!!Te,Re=Rp({clientThreadId:r.id,isKaur1br5Client:ee}),se=C.useMemo(()=>Oe?[]:v,[Oe,v]),{gizmoEditorData:Ee,mode:Fe,getGizmoId:ve}=mc(),te=fc(),oe=gc(),ce=Dp(),V=Ja(r.id),N=!!hc(),ye=Bp.useIsEnabled(r.id),he=!!vs(),G=oo(),W=C.useMemo(()=>{var u;return(u=G&&(se==null?void 0:se.find(R=>R.systemHint===G)))!=null?u:null},[se,G]),E=_c(),ae=ue(()=>yc(f)),fe=Wa(),B=G===re.Agent||(W==null?void 0:W.systemHint)===re.Agent,be=ee&&B,{agentSessionModeNuxModal:we,ensureAgentSessionModeNux:Xe}=Np({isAgentHintActive:B});Op(p);const je=_r(f),Me=bc(f),ke=so($t),Ue=xc(f),nt=ue(()=>Sc(f)),xt=ue(()=>nt.isEligible$())&&nt.plusMenuInComposer,mt=C.useRef(!1),gt=jt(f,"3457598265"),ht=ue(()=>wc(f,kc.BrowserReferenceWebHistoryInChat)===!0);C.useEffect(()=>{if(!gt||!Ue||!ke||!ht||mt.current)return;const u=tt(p),R=u==null?void 0:u.dom;if(!R)return;const J=()=>{if(mt.current)return;mt.current=!0;const Se=[];W&&Se.push(W.systemHint),md(void 0,Pa,Se,r.id).catch(()=>{})};return R.addEventListener("input",J,{once:!0}),()=>{R.removeEventListener("input",J)}},[Ue,p,ke,gt,ht,W,r.id]);const kt=Jo.useStore(),It=Jo.useState(({locked:u})=>u),Dt=Cc(),Pt=Mc(f),{data:dt,isLoading:Bt}=ue(()=>pn.if$(f,Dt)),{selectedSources:Ke,selectedMCPSources:ie,addSource:De}=kr(r.id),Ae=cr();C.useEffect(()=>{const u=w.get("add_source");u&&G&&(De(u),w.delete("add_source"),T(w))},[G,De,w,T]),C.useEffect(()=>{se!=null&&se.some(u=>u.systemHint===re.Glaux)&&w.get("company-knowledge")!=null&&(ms(f,th,{onContinue:()=>{E(re.Glaux,{analyticsMetadata:{clientThreadId:r.id}})}}),w.delete("company-knowledge"),T(w))},[w,se,f,r.id,E,T]);const{eligible:$e,isLoading:at}=Ss(ns.hasSeenTatertotNux);C.useEffect(()=>{G===re.Tatertot&&jt(f,"1586944302")&&$e&&!at&&ms(f,sh)},[G,$e,at,f]);const Ct=Up(f),H=Ct&&(((Hn=ie==null?void 0:ie.size)!=null?Hn:0)>0||D||Ae.size>0);Tc({skip:!Ct,productSku:qo.PROMPT_TEXT_AREA});const{platformConnectors:ge,isLoading:Ce}=Ac(H,qo.PROMPT_TEXT_AREA),Ie=cn(f),Je=ln(f);Ic({platformConnectors:ge,enabled:Je.length>0&&Y});const xe=C.useMemo(()=>Array.from(ie!=null?ie:[]).map(u=>ge.get(u)).filter(u=>u!==void 0),[ie,ge]),{selectedConnectorIds:Ze,selectedSyncKnowledgeStoreIds:rt}=C.useMemo(()=>{var J;if(!Ie)return{selectedConnectorIds:void 0,selectedSyncKnowledgeStoreIds:void 0};const u=new Set,R=new Set;for(const Se of Ke!=null?Ke:[]){const qe=os[Se];qe&&u.add(qe);const Ve=(J=dt==null?void 0:dt.connection_statuses)==null?void 0:J.find(Nt=>Nt.user_connection_details.connection_type===Se);Ve&&R.add(Ve.user_connection_details.connection_instance_id)}return{selectedConnectorIds:u,selectedSyncKnowledgeStoreIds:R}},[Ke,dt==null?void 0:dt.connection_statuses,Ie]),et=C.useRef(0),Mt=Qt(f,"3396794266").get("restore_prompt_on_stop",!1),Ye=C.useRef(null),Zt=Lp(),Ft=Fp(),es=no(),as=(zp(r.id)||es)&&!Be,io=C.useCallback(()=>{const u=Hp(f);u.isFeedbackModalOpen$()&&u.feedbackModalState$().type!==Ta.FeedbackConversation&&u.feedbackModalState$.set({type:Ta.FeedbackConversation})},[f]),rs=ta(a,I,G),lo=Pc(),Is=Ec(f).flags,Ps=Is==null?void 0:Is.includes(jc.NoAuthEnableFileUploads),Br=se==null||se.length>0,Nr=C.useMemo(()=>{var u;return(u=se==null?void 0:se.filter(R=>Ae.has(R.systemHint)))!=null?u:[]},[se,Ae]),Or=C.useMemo(()=>{const u=Array.from(Ae).filter(sa).map(oa);if(u.length===0)return[];const R=u.filter(J=>{var Se,qe;return Aa(J)?!0:(qe=(Se=ge.get(J))==null?void 0:Se.conformance)==null?void 0:qe.implements_retrievable});return Array.from(new Set(R))},[Ae,ge]),Ur=C.useMemo(()=>Array.from(Ae).filter(sa).map(oa).filter(u=>{var R,J;return!((J=(R=ge.get(u))==null?void 0:R.supports_full_actions)!=null&&J)&&!Aa(u)}),[Ae,ge]),co=C.useCallback(()=>{E(null,{analyticsMetadata:{clientThreadId:r.id}})},[E,r.id]),uo=ue(()=>lr(f).id),Es=C.useCallback((u,R)=>{pt.logEventWithStatsig("Model Switcher Model Changed","chatgpt_model_switcher_model_changed",{from:n,to:u,location:R}),u&&!Rc(f,u)&&ir(f).mutate({modelSlug:u}),Dc(r,u),Ro(r.id)},[n,f,r]),fn=C.useCallback(u=>{Bc()&&(u==null||u.preventDefault()),Es(uo,"remove non-default model")},[Es,uo]),js=wr(n,(Gn=W==null?void 0:W.systemHint)!=null?Gn:null),Lr=!m&&rs!==Do.None&&(M||Ps),Lt=Nc(a,I),Rs=Oc(a,I),qt=na(u=>Fe==="magic"?u.files.filter(R=>R.gizmoId!=null):u.files.filter(R=>R.gizmoId==null),Ka),[po]=C.useState(()=>Gp()),Fr=Wp(),mo=qt.length>0||Fr,fo=na(Uc.hasUploadInProgress),zr=Tr(u=>u.selectedApps),gn=Ar(),Hr=$p(r.id),Gr=C.useMemo(()=>eo(()=>qp(a,Lc(p))),[a,p]),go=ue(Gr),Ds=ue(()=>Vo(p)),hn=!Ds,_n=!go&&!fo&&(hn||mo),{composerThinkingEffort$:Wr}=ar(p),{maxUploads:$r,remaining:yn,baseLimit:qr}=Fc(rs),bn=Math.max(0,$r-qt.length),ho=bn<=0,Vr=yn!=null&&yn<qr,Jr=(W==null?void 0:W.systemHint)===re.Research,Kr=jt(f,"3544641259"),{selectedRepos:_o}=Vp(r.id),xn=(Jr||js)&&Kr&&(Ke==null?void 0:Ke.size)===0&&(ie==null?void 0:ie.size)===0,Sn=Jp({taskId:me==null?void 0:me.taskId,intl:Q,toaster:F}),Bs=(de==null?void 0:de.status)===jo.RUNNING&&!as,wn=($n=Kp((Wn=Bo(r.id))!=null?Wn:r.id))==null?void 0:$n.value,Yr=wn===aa.STREAMING,kn=wn===aa.REALTIME,Ns=g&&S||Yr||kn||Bs||Be,Os=_n&&!m&&!he&&(!Ns||as)&&!xn,{targetedContent:Us,setTargetedContent:Ls}=Yp(),Ge=Us!=null&&Us.isFocusedViewContent&&!ce?void 0:Us,Fs=rr(f);C.useEffect(()=>{!Ge||Fs.composer.autofocusDisabled$()||requestAnimationFrame(()=>requestAnimationFrame(()=>{Yt(tt(p))}))},[Ge,Fs,p]);const{getUpsellLabelType:Qr,getUpsellShowsAttach:Xr}=Qp(),yo=ue(()=>rn(f)),{isSingleLine:Zr,plusButtonAddsFiles:ei,loggedOutAttachLabel:ti,loggedOutHideToolButtons:bo,isImageGenButtonEnabled:si,showSelectedModelInComposer:oi}=yo,zt=Zr,ni=Br&&M&&(!L||!Bt)&&!ra(G)&&!zt,hs=ue(Mr(p).isWhisperActive$),ai=C.useCallback(()=>{T(u=>(u.delete("share_prompt"),u))},[T]),xo=C.useCallback(u=>{if(Va.set(r,!0),Vs(tt(p),u.prompt),u.system_hint){const R=u.system_hint;if(E(R),u.sources){const J=u.sources.map(Ve=>Ve.trim()).filter(Wo),Se=new Set(J.filter(Ve=>!Gt(Ve))),qe=new Set(J.filter(Gt));Kt(r.id,Ve=>{Ve.selectedSources=new Map([[R,Se]]),Ve.selectedMCPSources=new Map([[R,qe]]),Ve.hasModifiedSources=!0})}}},[r,p,E]);Xp(f,w.get("share_prompt"),ai,xo),C.useEffect(()=>{!ae||ae.skipConversationId===r.id||(zc(f),ia(tt(p)),xo(ae.prompt))},[p,r.id,f,xo,ae]),C.useEffect(()=>{if(!(A!=null&&A.id))return;const u=va.getAndReset(A.id,V);u&&Vs(tt(p),u.inputText)},[A==null?void 0:A.id,V,p]),C.useEffect(()=>{var R;const u=(R=w.get("prompt"))!=null?R:"";Vo(p)&&u.length>0&&Vs(tt(p),u)},[p,w]);const So=C.useCallback(()=>{G!==re.Slurm&&G!=null&&!(se!=null&&se.some(u=>u.systemHint===re.Slurm))||(W==null&&E(re.Slurm),Kt(r.id,u=>{var J,Se;const R=(Se=(J=u.selectedSources)==null?void 0:J.get(re.Slurm))!=null?Se:new Set;u.selectedSources==null&&(u.selectedSources=new Map),u.selectedSources.set(re.Slurm,new Set([...R,Qe.GITHUB_CONNECTOR]))}))},[G,W,r.id,E,se]);C.useEffect(()=>{if(w.has("github_onboarding")){const u=w.get("github_onboarding");let R=ys.ConfigureRepos;u&&[ys.ConfigureRepos,ys.SyncRepos,ys.IndexRepos].includes(u)&&(R=u),Pt&&R!==ys.ConfigureRepos?So():ms(f,oh,{initialState:R,onFinishFlow:So}),T(J=>(J.delete("github_onboarding"),J))}},[w,T,f,G,W,r.id,E,se,So,Pt]),C.useEffect(()=>{const u=Hc(w,{availableHints:se}),R=G!=null?G:u[0],J=R===re.Slurm,Se=R===re.Research,qe=R===re.ApiTool;if(!J&&!Se&&!qe)return;const Ve=w.getAll("sources");if(!Ve.length)return;const Nt=w.get("redirect_source");if(qe)for(const ft of Ve)fe(ft.trim());else{const ft=Ve.map(Vt=>Vt.trim()).filter(Wo),ls=new Set(ft.filter(Vt=>!Gt(Vt))),cs=new Set(ft.filter(Gt));Kt(r.id,Vt=>{Vt.selectedSources=new Map([[R,ls]]),Vt.selectedMCPSources=new Map([[R,cs]]),Vt.hasModifiedSources=!0})}T(ft=>(ft.delete("sources"),ft)),Nt==="suggested_ca_prompts"&&pt.logEventWithStatsig("chatgpt_contextual_answers_connector_activated","chatgpt_contextual_answers_connector_activated",{source:"suggested_ca_prompts"})},[r.id,De,w,E,T,G,fe,se]);const Et=Gc(a,I),wo=ue(Wc(f,r.id)),{handleFileAccepted:Cn}=sf(Q,ta(a,I,G),Lt,"mouse",ve,Et==null?void 0:Et.attachments,wo),ri=C.useCallback((u,R)=>{const J=ds(f);return J.keepSheetOpen$.set(!1),J.isSheetOpen$.set(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{Yt(tt(p))})}),Cn(u,R)},[p,Cn,f]),Mn=ue(ds(f).keepSheetOpen$);C.useEffect(()=>{if(!Mn)return;const u=new AbortController,R=document.getElementById("upload-camera"),J=[];function Se(){for(const ft of J)ft();u.abort(),J.length=0}function qe(ft){var cs;if(ft.target instanceof HTMLInputElement&&((cs=ft.target.files)==null?void 0:cs.length)===0)return;const ls=ds(f);ga(()=>{ls.keepSheetOpen$.set(!1),ls.isSheetOpen$.set(!1),Se()})}function Ve(){const ft=ds(f);ga(()=>{ft.keepSheetOpen$.set(!1),ft.isSheetOpen$.set(!1),Se()})}R&&J.push(la(R,{change:qe,cancel:Ve}));const Nt=document.getElementById("upload-photos");return Nt&&J.push(la(Nt,{change:qe,cancel:Ve})),Se},[Mn,f]);const Ht=!m&&!ho&&Lr&&lo==null&&!Oe,{getInputProps:ii,open:Tn}=nf(yt({disabled:!Ht,noClick:!0,onFileDialogCancel:()=>{ds(f).keepSheetOpen$.set(!1)},onDropAccepted:ri,onDropRejected:u=>{of(u,Q,F,rs),ds(f).keepSheetOpen$.set(!1)},multiple:!0,maxSize:qc,maxFiles:bn},$c(!M||h?Lt:Rs))),ts=C.useCallback(()=>{Ht&&(pt.logEventWithStatsig("Open File Viewer","chatgpt_web_file_viewer_opened",{intent:rs.toString()}),Tn())},[Ht,Tn,rs]),An=Vc(po),ko=C.useCallback(()=>{ia(tt(p)),An.clearMessages(),Ia(p).resetData();for(const u of qt)Js.remove(Z,u.tempId,"none");Zp.markAllAsSent(),jt(f,"2857215914")&&(W!=null&&W.persistBetweenMessages||E(null))},[p,An,qt,Z,W,f,E,Ae,le]),li=C.useMemo(()=>{if(ke)return Pa;if(Me)return em;if(to())return tm},[ke,Me]),vn=ue(()=>ke&&Ue&&ca.sidebarUrlTrayOpen$());sm();const ci=Jc(f),Co=ue(()=>Kc(f)),Mo=No((u,R,J)=>{var Jn;if(u.preventDefault(),m||!_n&&!R||!I||Ne)return;if(!(J!=null&&J.bypassAgentSessionModeGate)){const _t=Jt(yt({},J!=null?J:{}),{bypassAgentSessionModeGate:!0});if(Xe(()=>Mo(u,R,_t))){"persist"in u&&typeof u.persist=="function"&&u.persist();return}}const Se=da(tt(p).state.doc),qe=Se.content;Po==="streaming"&&(pt.logEventWithStatsig("chatgpt_web_conversation_stream_interrupted","chatgpt_web_conversation_stream_interrupted",{interrupted_message_length:qe.length}),Oo.count(Uo.DEFAULT,"chatgpt_web_conversation_stream_interrupted",[])),Oo.count(Uo.DEFAULT,"chatgpt_web_conversation_completion_sent",[]);const{content:Ve,attachments:Nt}=om(Z,qe,a,I,G),ft=ua(kt).some(_t=>_t===re.Slurm||_t===re.Research);Kt(r.id,_t=>{_t.hasModifiedSources=!1,_t.hasModifiedGithubRepos=!1,_t.startedWithByoMcp===void 0&&ft&&(_t.startedWithByoMcp=xe.some($s=>$s.status==="ONLY_ME"))}),Zt(),Ft(),io();const ls=Ea.getState().attachedTempTextdocs;Mt?Ye.current={content:Se.content,files:qt.map(_t=>yt({},_t)),attachedTempTextdocs:Object.fromEntries(Object.entries(ls).map(([_t,$s])=>[_t,yt({},$s)])),systemHintType:G!=null?G:null,selectedSources:Ke?[...Ke]:void 0,selectedMCPSources:ie?[...ie]:void 0}:Ye.current=null;const cs=a!=null&&a.configurableThinkingEffort||(a==null?void 0:a.id)===Cr?Yc(Wr):void 0;t(yt({clientThreadId:r.id,ctx:f,sourceEvent:u,attachments:Nt,content:Ve,contentToSend:Se,conversationMode:I,hasSelectedApps:gn,isMessageFollowupsEnabled:ye,selectedApps:zr,desktopOrigin:li,shouldCollectSidebarContext:vn,desktopSidebarContext:ca.context$(),selectedGizmoTag:O,selectedRepos:{selectedAllRepos:_o.selectedAllRepos,selectedRepos:_o.selectedRepos?[..._o.selectedRepos]:null},selectedSources:Ke,selectedMCPConnectors:xe,selectedConnectorIds:Ze,selectedSyncKnowledgeStoreIds:rt,searchConnectorIds:Or,noFullActionConnectorIds:Ur,startedWithByoMcp:ct===!0,systemHints:ua(kt),allSystemHints:Co!=null?Co:[],isN7jupdActive:js,isForceAllowCustomMcpModeEnabled:ci,thinkingEffort:cs},Ia(p).getData(Se.content))),(Jn=Ge==null?void 0:Ge.onCreateCompletion)==null||Jn.call(Ge,{serverThreadId:V,currentLeafId:pe}),(Ge==null?void 0:Ge.shouldPersistAcrossMessages)!==!0&&Ls(void 0),pa.hideThreadHeader();for(const _t of qt)_t.status===Qc.Ready&&ne.addFile(_t);Qt(f,"1925940714").get("reset_state_after_submit",!1)?Xc.postTask(ko):ko(),je&&G===Go&&Ms(f,ns.hasSeenAgentModeAnnouncementBanner)}),di=u=>{Ls(u.targetedReply),u.targetedReply&&pt.logEventWithStatsig("Targeted Reply Button Clicked","chatgpt_targeted_reply_button_clicked",{conversationId:V,sourceMessageId:u.messageId})},{maybeSetWaitingForRealtimeOnAbort:In,isWatingForRealtimeStatusChange:ui}=nm(r.id),To=C.useCallback((u,R="other")=>{In(),am(u,void 0,{clientInitiated:!0,reason:R,isLastTurnAgent:Pe,hasAgentSystemHint:G===Go})},[In,Pe,G]),Pn=C.useCallback(()=>{var u;(u=Ge==null?void 0:Ge.onCleared)==null||u.call(Ge,{serverThreadId:V,currentLeafId:pe}),Ls(void 0),Yt(tt(p))},[pe,V,Ge,Ls,p]),zs=Zc(f,a==null?void 0:a.tags,I==null?void 0:I.kind),{autocompletions$:pi,shouldShowAutocomplete$:Hs}=mr(p),mi=C.useCallback(()=>Hs()&&i,[Hs,i]),En=No(u=>rm(u,{toaster:F,canSubmit:Os,isTextContentTooLong:go,requestCompletion:Mo})),fi=Bs||kn,jn=No(u=>im(u,{canAbortCompletion:S&&g&&!fi,clientThreadId:r.id,isAutocompletionActive:mi,clearAutocompletions:()=>pi.set([]),abortCompletion:()=>To(r.id,"escape_key"),isEmpty:Ds,hasTargetedContent:Ge!=null,clearTargetedContent:Pn,hasSystemHint:W!=null,removeSystemHint:co,hasSelectedTarget:O!=null,removeSelectedTarget:()=>_s.set(r,null),hasNonDefaultModel:oi&&n!==uo,removeNonDefaultModel:fn}));C.useEffect(()=>{if(!Os)return;jt(f,"4178431533")||lm(!0).then(R=>{cm.startEnforcement(R),dm.startEnforcement(R)})},[Os,f]),C.useEffect(()=>ed(tt(p),{Enter:En,Escape:jn}),[p,En,jn]);const gi=u=>{Oe||Lm({filePickerStore:Z,event:u.nativeEvent,intl:Q,toaster:F,clientThreadId:r.id,conversationMode:I,currentModelConfig:a,getEditorGizmoId:ve,modelSupportedImageMimeTypes:Lt,activeSystemHintType:G,ctx:f,contextScopes:wo})},hi=td(r.id,po,Lt,Et==null?void 0:Et.attachments),_i=C.useCallback((u,R)=>{if(u.preventDefault(),Be){Sn.mutate();return}To(r.id,R),pt.logEventWithStatsig("Pause Completion","chatgpt_pause_completion",{threadId:Bo(r.id),currentLeafId:ut.getCurrentNode($o(r.id)).message.id,eventSource:"mouse"});const J=Ye.current;Mt&&J&&(Vs(tt(p),J.content),Js.restoreFiles(Z,J.files),Ea.setState({attachedTempTextdocs:J.attachedTempTextdocs}),J.systemHintType&&(E(J.systemHintType),Kt(r.id,Se=>{var qe,Ve;J.selectedSources&&(Se.selectedSources=(qe=Se.selectedSources)!=null?qe:new Map,Se.selectedSources.set(J.systemHintType,new Set(J.selectedSources))),J.selectedMCPSources&&(Se.selectedMCPSources=(Ve=Se.selectedMCPSources)!=null?Ve:new Map,Se.selectedMCPSources.set(J.systemHintType,new Set(J.selectedMCPSources)))})),Ye.current=null),um()},[r.id,To,p,Z,E,Mt,Be,Sn]),Rn=C.useCallback(()=>{va.set(A==null?void 0:A.id,V,pm(p))},[V,A==null?void 0:A.id,p]),Dn=Ee!=null;C.useEffect(()=>{Dn||Fs.composer.autofocusDisabled$()||Yt(tt(p))},[p,Dn,Fs]);const Bn=ws(qt);C.useEffect(()=>{var R;if(Lt.length>0)for(const J of Bn.current)mm((R=J.fileSpec)==null?void 0:R.mimeType,Rs)||Js.remove(Z,J.tempId,"none");else Js.reset(Z)},[n,Z,Rs,Lt.length,Bn]);const yi=C.useEffectEvent(()=>{_s.set(r,null)});C.useEffect(()=>{(!zs&&O||N)&&yi()},[zs,O,N]);const Ao=ue(()=>fm(r).fullscreenWidgetPlaceholder$(Q)),bi=ef();Xi();const[Gs,xi]=(()=>{const u=x?gm(x):void 0;if(u)return[u.placeholder,u.isLastingDisabledStyle];if(c)return[bt.placeholderWithName,!1];if((Ge==null?void 0:Ge.placeholderTextOverride)!=null)return[Ge.placeholderTextOverride,!1];if((a==null?void 0:a.id)===sd)return[bt.n7jupdSystemHintPlaceholder,!1];if(Te&&(de!=null&&de.taskId.startsWith("thinking")))return[bt.placeholderAsyncSteering,!1];if(W){if(ra(W.systemHint))return Ns?[bt.n7jupdActivePlaceholder,!1]:[bt.n7jupdSystemHintPlaceholder,!1];switch(W.systemHint){case re.Search:return[bt.searchPlaceholder,!1];case re.Think:return[bt.thinkPlaceholder,!1];case re.Slurm:return[bt.connectorPlaceholder,!1];case re.ApiTool:return[bt.apiToolPlaceholder,!1];case re.Research:return[bt.researchPlaceholder,!1];case re.Canvas:return[bt.canvasPlaceholder,!1];case re.Picture:return[bt.picturePlaceholder,!1];case re.PictureV2:return[bt.pictureV2Placeholder,!1];case re.Tatertot:return[bt.tatertotPlaceholder,!1];case re.Glaux:return[bt.internalSearchPlaceholder,!1]}}return[bt.placeholderAskAnythingVariant,!1]})(),Si=mo||gn,wi=yo.dynamicPlaceholderEnabled,ki=i&&wi&&!es&&!d&&!Ao&&!Si&&!fo,Ci=(()=>{var u,R;return es?Q.formatMessage(hm):d?i?Q.formatMessage(od.newChatInProject,{projectName:(u=P==null?void 0:P.gizmo.display.name)!=null?u:"this project"}):Gs?Q.formatMessage(Gs,{name:"ChatGPT"}):"​":Ao||(Gs?Q.formatMessage(Gs,{name:Ee!=null?Fe==="magic"?nd:Ee.name||"GPT":(R=P==null?void 0:P.gizmo.display.name)!=null?R:"ChatGPT",workspaceName:bi}):"​")})();C.useEffect(()=>ma(()=>fa(p),()=>{et.current=performance.now(),ad(f).getState().isThreadHeaderVisible&&pa.hideThreadHeader(),_m(r.id)&&ym(r.id)}));const{shouldHighlight$:Mi}=bm(p),vo=ue(()=>Mi()),{connectorConfig:Ws,isLoading:Ti}=rd(),{onSelectConnector:Io}=xm({connectorConfig:Ws,modelSupportedImageMimeTypes:Lt,modelAcceptedMimeTypes:Rs,attachmentsProductFeature:Et==null?void 0:Et.attachments,onOauthRedirect:Rn});Sm(Ws,Io);let Nn=null;const On=Xr(),Ai=M||On||Ps,is=rs===Do.None?Ks.ModelNotSupported:ho&&Vr?Ks.RateLimitReached:ho?Ks.HasReachedMaxFiles:lo!=null?Ks.RateLimitReached:void 0,vi=s.jsx("div",{"data-testid":"composer-action-file-upload",style:{viewTransitionName:"var(--vt-composer-attach-file-action)"},children:s.jsx(Sg,{clientThreadId:r.id,modelSupportedImageMimeTypes:Lt,openFileDialog:ts,historyDisabled:oe,highlightTooltip:vo,isLoadingConnectors:Ti,connectorConfig:Ws,onSelectConnector:Io,showLabel:Qr()==="all"&&(ss(f)||ti),showUpsell:On&&!Ps,showMenuForNoAuth:Ps,isDisabled:!Ht||hs,disabledReason:is,currentModelName:(qn=a==null?void 0:a.title)!=null?qn:"",visualTreatment:M?"composer-btn":"legacy"})},"file-upload-button");C.useEffect(()=>id(f).addAction({key:"uploadFile",action:ts,actionMessageDescriptor:yr(f,Q,!Ht,is,a==null?void 0:a.title),group:km.Chat,keyboardBinding:wm}),[f,a,is,Q,Ht,ts]);const Ii=Qt(f,"853191128"),Pi=U!=null&&U.trim().length>0,Ei=!M&&(!Pi||d)&&jt(f,"3259514411")&&Ii.get("is_tatertot_enabled",!1);zt&&!Oe&&(Nn=ei?s.jsx(Cm,{disabled:m,clientThreadId:r.id,rateLimitPopup:lo,highlightTooltip:vo,label:M?Q.formatMessage({id:"composer.plusMenu.label",defaultMessage:"Add files and more"}):Q.formatMessage({id:"composer.plusMenu.label.loggedOut.photosOnly",defaultMessage:"Add photos"}),children:s.jsx(Mm,{onClick:ts,disabled:hs})}):s.jsx(Tm,{conversation:r,composerController:p,composerDisabled:hs,layoutMode:k,shouldUseBottomSheet:xt,openFileDialog:ts,modelSupportedImageMimeTypes:Lt,isFileUploadEnabled:Ht,fileUploadDisabledReason:is,currentModelId:n,currentModelConfig:a,selectModelId:Es,connectorConfig:Ws,onSelectConnector:Io,availableSystemHints:se,activeConnectorSystemHintTypes:Ae,activeSystemHintType:G}));const[ji,Un]=C.useState(!1),Ri=xi||ui?"disabled":"default",Di=!Os,Bi=Om({promptDisabledReason:x,hasPendingFiles:fo,hasTextContent:hn,isTextContentTooLong:go,hasAsyncTaskPending:Hr,noSourceSelectedDr:!xn,isDeepResearchTaskStreaming:Bs,isThreadHardBlocked:he}),Po=Ns?"streaming":Di?"disabled":"idle",Ni=jt(f,"222560275")||n&&!n.startsWith("o1")&&!n.startsWith("o3"),Ln=[Ge!=null&&Ge.label?{type:Ge.type,value:Ge.label,onRemoveRegion:Pn}:null,O!=null?{type:"mention",value:O.gizmo.display.name,icon:s.jsx(xr,{isFirstParty:!!((Vn=O.gizmo.tags)!=null&&Vn.includes(on.FirstParty)),src:O.gizmo.display.profile_picture_url,className:"icon"}),onRemoveRegion:()=>{_s.set(r,null),Yt(tt(p))}}:null].filter(u=>u!=null);Te&&de&&de.taskId===Te&&Ln.push({type:"text",value:de.title,hideQuotes:!0,onRemoveRegion:Te.startsWith("thinking")?void 0:()=>Ro(r.id)});const Oi=C.useMemo(()=>eo(()=>i&&!$&&(W==null?void 0:W.systemHint)!==re.Research&&(W==null?void 0:W.systemHint)!==re.ApiTool&&!js&&Hs()),[i,W,js,Hs,$]),Ui=u=>{if(u.preventDefault(),u.stopPropagation(),et.current>0){const R=performance.now()-et.current;Oo.hist(Uo.DEFAULT,"final_user_input_to_submit_ms",[],R)}Po==="streaming"&&(!as||Ds)||Be?Bs?Un(!0):_i(u,Ds?"stop_button":"stop_button_with_prompt"):Mo(u)};C.useEffect(()=>{const u=Bo(r.id),R=o==null?void 0:o.normalizedAccountUserId;if(!R||l||ke||oe)return;const J=ld(Se=>{if(cd(Se.doc))dd(u);else{const qe=da(Se.doc).content;ud(u,qe,R)}},1e3);return ma(()=>fa(p),J)},[o,r.id,p,l,ke,oe,V]),C.useEffect(()=>{setTimeout(()=>{pd.addFirstTiming("composer.ttfi",{serialTimingGroup:"pageLoad"})},0)},[]);const Li=s.jsx(Wf,{canUseInlineTagging:zs,isDisabled:m,clientThreadId:r.id,currentLeafId:pe,currentRequestId:_e,canContinue:y,composerController:p,isNewThread:i,onContinueGenerating:u=>{var R;return e({event:u,conversationMode:(R=$o(r.id))==null?void 0:R.mode,systemHints:G?[G]:[]})},onResetState:ko,openFileDialog:ts,conversationMode:I}),Fi=!Ns&&I!=null&&Ni&&Am.includes(I.kind)&&s.jsx(vm,{conversation:r,onTargetedReply:di}),zi=s.jsx(Fm,{composerController:p,parsedDocumentHandler:hi}),Hi=!b&&s.jsx(Ef,{className:_}),Gi=s.jsx(Im,{modelSupportedImageMimeTypes:Lt,uploadType:Do.Multimodal,attachmentsProductFeature:Et==null?void 0:Et.attachments,contextScopes:wo}),Wi=jt(f,"3127600850"),$i=[!zt&&Ai?vi:null,null,!M&&!zt&&!bo&&!D?s.jsx(Pm,{account:o,clientBootstrapFlags:Is,features:te,currentModelConfig:a,isDisabled:hs,clientThreadId:r.id,composerController:p,gizmoId:U}):ni&&!D?s.jsx(Em,{activeSystemHintType:G,systemHints:se,composerController:p,clientThreadId:r.id,disabled:hs}):null,!M&&!zt&&!bo&&Ei&&!D?s.jsx(jm,{composerController:p,clientThreadId:r.id}):null,!M&&!zt&&!bo&&!D&&si?s.jsx(Rm,{}):null].filter(u=>u!=null);return s.jsxs(Dm.Provider,{value:po,children:[s.jsxs("div",{className:lt("pointer-events-auto relative z-1 flex h-[var(--composer-container-height,100%)] max-w-full flex-[var(--composer-container-flex,1)] flex-col"),onPaste:gi,children:[s.jsx(Bm,{onOauthRedirect:Rn}),Wi&&s.jsx(nh,{}),Hi,de&&ji&&s.jsx(Nm,{taskId:de.taskId,clientThreadId:r.id,onClose:()=>Un(!1)}),s.jsx(Xg,{hasFiles:mo,pendingFiles:qt,isUploadDisabled:!Ht,conversation:r,highlightUploadTooltip:vo,disableReason:Bi,uploadButtonDisabledReason:is,currentModelConfig:a,conversationMode:I,state:Po,inputState:Ri,gizmoId:U,includeSidebarContextTray:vn,isTemporaryChat:oe,placeholder:Ci,shouldUseRotatingPlaceholders:ki,composerController:p,onSubmit:Ui,replyRegions:Ln,leadingAction:Nn,legacyFooterActions:$i,activeSystemHint:W,activeConnectorSystemHints:Nr,shouldShowAgentSessionModeDropdown:be,hideSystemHint:It||!M&&!zt,isSystemHintLocked:It,onRemoveSystemHint:co,forceStopButton:Be,onRemoveModel:fn,contextualAnswerUserConnectionData:dt,fileInput:s.jsx("input",yt({},ii())),expanded:zt?void 0:!0,expandOnMultilineInput:zt,layoutMode:k,agentSessionModeNuxModal:we,isAgentSessionModeDropdownDisabled:Re||(Ke==null?void 0:Ke.has("cloud"))}),s.jsx(cg,{systemHints:se!=null?se:[],availableSystemHints:se!=null?se:[],composerController:p,clientThreadId:r.id,layoutMode:k,composerLayer:yo,canUseInlineTagging:zs,isFileUploadEnabled:Ht,fileUploadDisabledReason:is,currentModelConfig:a!=null?a:null,openFileDialog:ts,connectionInstanceData:dt,setActiveSystemHintType:E,selectModelId:Es,gizmoId:U!=null?U:null,hasGizmoFeatureRateLimit:N,setSelectedGizmoTag:u=>_s.set(r,u)}),!1,!dr(G)&&s.jsx(Um,{canShowAutocomplete$:Oi,layoutMode:k,composerController:p,clientThreadId:r.id})]}),zi,Li,Fi,Gi,G&&se&&s.jsx(rh,{conversation:r,availableSystemHints:se,systemHintType:G,onRemoveSystemHint:co})]})}const rh=({conversation:t,availableSystemHints:e,systemHintType:o,onRemoveSystemHint:n})=>{const a=e!=null&&!dr(o)&&e.every(S=>S.systemHint!==o),l=ue(()=>fd(t)),{isBlocked:r}=Sr(o),i=He(),g=!ss(i);C.useEffect(()=>{l&&(a||r)&&!g&&n()},[a,r,g,n,o,l]);const m=Ut(t.id,ut.getLastAssistantMessage),x=cr();return C.useEffect(()=>{var S;jt(i,"2857215914")&&(m==null?void 0:m.channel)==="final"&&((S=m==null?void 0:m.metadata)==null||S.mercury_message)},[x,m,n,i]),null},ih=ot(()=>st(()=>import("./ll76ypq7mdcbhtdc.js").then(t=>t.v),__vite__mapDeps([24,1,25,2,3,0,4,26,27,28,29,30,31,32,33,34])).then(t=>t.VoiceHintContainer));function Ch(t){"use forget";var fe,B;const e=Rt.c(72),{conversation:o,currentModelId:n,disableDraftPersistence:a,isNewThread:l,isProjectThread:r,onRequestCompletion:i,onContinueGenerating:g,headerClassName:m,hideHeader:x,onlyAllowImageUploads:S,layoutMode:y}=t,c=a===void 0?!1:a,_=r===void 0?!1:r,b=y===void 0?"bottom":y,h=He();let k;e[0]!==o?(k=()=>tn(o),e[0]=o,e[1]=k):k=e[1];const v=ue(k),[d,U,f,I,P,O]=Ut(o.id,ch);let w;e[2]!==h?(w=La(h),e[2]=h,e[3]=w):w=e[3];const T=w,$=en();let p;e[4]!==o.id?(p={clientThreadId:o.id},e[4]=o.id,e[5]=p):p=e[5];const A=zm(p);let L;e[6]===Symbol.for("react.memo_cache_sentinel")?(L={type:"just-hit-rate-limit"},e[6]=L):L=e[6];const{isOpen:q,onClose:X}=Hm(L);let K;e:{if(!A){K=!d&&U;break e}K=!1}const M=K,ee=A,Q=gd(o.id),F=Ut(o.id,ut.hasRecentPIMWarning),Z=hd(Q).data,ne=Gm();let D;e:{if(F){D="pimBlock";break e}if(I){D="readOnlyConversation";break e}if(((fe=Z==null?void 0:Z.gizmo.tags)==null?void 0:fe.includes(on.WorkspaceDisabled))&&!ne){D="workspaceDisallowsGizmo";break e}if(v.models.size===0){D="noModelsAvailable";break e}if((f==null?void 0:f.kind)===Ha.GizmoTest&&f.gizmo_id==null){D="noTestGizmoId";break e}D=null}const Y=D,pe=Zi(),_e=Wm(),Le=pe.action==="moderate";let Pe;e[7]!==h?(Pe=jt(h,"1860647109"),e[7]=h,e[8]=Pe):Pe=e[8];const Ne=Pe,ct=Jo.useState(lh),le=_d(),We=(B=Z==null?void 0:Z.gizmo.id)!=null?B:le;let de;e[9]!==h||e[10]!==We?(de=yd(h,We),e[9]=h,e[10]=We,e[11]=de):de=e[11];const me=de;let Be;e[12]!==n||e[13]!==v?(Be=bd(v,n),e[12]=n,e[13]=v,e[14]=Be):Be=e[14];const Te=Be;let Oe;e[15]!==o||e[16]!==ct?(Oe=()=>ct?[]:Jm(o),e[15]=o,e[16]=ct,e[17]=Oe):Oe=e[17];const Re=ue(Oe);let se;e[18]!==h?(se=$m(h),e[18]=h,e[19]=se):se=e[19];const Ee=!se,Fe=no();let ve;e[20]!==Re||e[21]!==$||e[22]!==o.id||e[23]!==n||e[24]!==Ee||e[25]!==A?(ve=s.jsx(qm,{availableSystemHints:Re,composerController:$,clientThreadId:o.id,currentModelId:n,isCompletionInProgress:A,expireConduit:Ee}),e[20]=Re,e[21]=$,e[22]=o.id,e[23]=n,e[24]=Ee,e[25]=A,e[26]=ve):ve=e[26];let te;e[27]!==Le||e[28]!==Ne||e[29]!==_e?(te=_e&&Le&&Ne?s.jsx(Km,{}):null,e[27]=Le,e[28]=Ne,e[29]=_e,e[30]=te):te=e[30];let oe;e[31]!==te?(oe=s.jsx("div",{className:"flex justify-center empty:hidden",children:te}),e[31]=te,e[32]=oe):oe=e[32];let ce;e[33]!==q||e[34]!==X?(ce=q?s.jsx(Ym,{onClose:X}):null,e[33]=q,e[34]=X,e[35]=ce):ce=e[35];let V;e[36]!==(T==null?void 0:T.normalizedAccountUserId)||e[37]!==o.id||e[38]!==_?(V=_&&s.jsx(Vm,{clientThreadId:o.id,accountUserId:T==null?void 0:T.normalizedAccountUserId}),e[36]=T==null?void 0:T.normalizedAccountUserId,e[37]=o.id,e[38]=_,e[39]=V):V=e[39];let N;e[40]!==o.id||e[41]!==Fe?(N=Fe?s.jsx("div",{className:"relative flex items-center justify-center",children:s.jsx(ih,{conversationId:o.id})}):null,e[40]=o.id,e[41]=Fe,e[42]=N):N=e[42];const ye=o.id,he=!!Y,G=Y!=null?Y:void 0,W=_e||P||O;let E;e[43]!==T||e[44]!==Re||e[45]!==M||e[46]!==ee||e[47]!==o||e[48]!==Te||e[49]!==n||e[50]!==c||e[51]!==We||e[52]!==m||e[53]!==x||e[54]!==A||e[55]!==l||e[56]!==me||e[57]!==b||e[58]!==g||e[59]!==i||e[60]!==S||e[61]!==he||e[62]!==G||e[63]!==W?(E=s.jsx(ah,{conversation:o,disableDraftPersistence:c,onCreateNewCompletion:i,onContinueGenerating:g,currentModelId:n,account:T,currentModelConfig:Te,isNewThread:l,isCompletionInProgress:A,className:"w-full",canContinue:M,disabled:he,disabledReason:G,canPause:ee,isInteractableSharedThread:W,headerClassName:m,hideHeader:x,onlyAllowImageUploads:S,layoutMode:b,availableSystemHints:Re,isSnorlaxEnabledForGizmo:me,gizmoId:We},ye),e[43]=T,e[44]=Re,e[45]=M,e[46]=ee,e[47]=o,e[48]=Te,e[49]=n,e[50]=c,e[51]=We,e[52]=m,e[53]=x,e[54]=A,e[55]=l,e[56]=me,e[57]=b,e[58]=g,e[59]=i,e[60]=S,e[61]=he,e[62]=G,e[63]=W,e[64]=E):E=e[64];let ae;return e[65]!==ve||e[66]!==oe||e[67]!==ce||e[68]!==V||e[69]!==N||e[70]!==E?(ae=s.jsxs(s.Fragment,{children:[ve,oe,ce,V,N,E]}),e[65]=ve,e[66]=oe,e[67]=ce,e[68]=V,e[69]=N,e[70]=E,e[71]=ae):ae=e[71],ae}function lh(t){const{locked:e}=t;return e}function ch(t){var o;const e=ut.getCurrentNode(t);return[((o=e.message.clientMetadata)==null?void 0:o.errType)!=null&&e.message.clientMetadata.errType!=="info",xd(ut.getCurrentNode(t).message),t==null?void 0:t.mode,ut.getIsReadOnly(t),!!(t!=null&&t.continuingFromSharedPostId),(t==null?void 0:t.continuingFromSharedProjectConversationId)!=null]}export{Yg as C,kh as D,wh as M,Ch as P,vf as S,Sh as T,Ef as a,df as b,yf as c,pf as d,ja as p,vr as u};
//# sourceMappingURL=hk5ml9l4i4ups2ga.js.map

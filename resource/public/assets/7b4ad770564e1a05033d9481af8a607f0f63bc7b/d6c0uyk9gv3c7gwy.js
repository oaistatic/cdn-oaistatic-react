var q=Object.defineProperty,Q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var P=(a,e,t)=>e in a?q(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,c=(a,e)=>{for(var t in e||(e={}))Z.call(e,t)&&P(a,t,e[t]);if(U)for(var t of U(e))ee.call(e,t)&&P(a,t,e[t]);return a},T=(a,e)=>Q(a,X(e));import{c as te,e as Y,r as v,j as s,M as k}from"./kfrdmkli83ureki3.js";import{u as oe,ed as se,Y as ae,oo as le,dR as F,aB as R,aS as V,_ as h,a7 as z,e5 as K,ou as ie,d_ as ne,aC as ce}from"./kw08ajijqinojrwh.js";import{g as re,L as D,c as G,a as ue}from"./n04o1mctwzj15yth.js";import{bJ as de,bK as me,bG as ge}from"./fyw02vlaiv2vq6cj.js";import"./laacu28tqafsw8cp.js";import"./oze22otsepdfaut5.js";import"./g8cpkydknwwj989v.js";import"./l3foo5601l7fb51e.js";import"./hnx3m6kxd7qfeifg.js";import"./hdkg0cys1b7b4f0v.js";import"./ia54sddtrl9qa2wj.js";const Oe=a=>{"use forget";const e=te.c(38),{onClose:t}=a,l=oe(),$=se();let x;e[0]!==l?(x=de(l,p.signUpCta),e[0]=l,e[1]=x):x=e[1];const O=x,W=$?"center":"bottom",{isOpen:n,onClose:i}=me();let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=ae(),e[2]=b):b=e[2];const r=b,[J,E]=v.useState(!1);let M;e[3]!==l?(M=re(l),e[3]=l,e[4]=M):M=e[4];const _=M;let A,L;e[5]!==n?(A=()=>{if(n){if(r){const f=setTimeout(()=>E(!0),3e3);return()=>clearTimeout(f)}E(!0)}else E(!1)},L=[n,r],e[5]=n,e[6]=A,e[7]=L):(A=e[6],L=e[7]),v.useEffect(A,L);const{accountInfo:I}=ge(),o=!!I&&!!I.user&&_!==D.control;let S,B;e[8]!==o||e[9]!==n?(S=()=>{n&&(h.logEvent("No Auth Welcome Back Modal Shown",{isLogBackFormVisible:o}),z.logEvent("chatgpt_no_auth_welcome_back_modal_shown",null,{isLogBackFormVisible:o.toString()}))},B=[n,o],e[8]=o,e[9]=n,e[10]=S,e[11]=B):(S=e[10],B=e[11]),v.useEffect(S,B);const j=le();if(!J)return null;let N;e[12]!==l||e[13]!==t?(N=f=>{h.logSwitchToGenericLoginOrSignup({location:"No Auth Welcome Back Modal"}),t(),ie(l,f)},e[12]=l,e[13]=t,e[14]=N):N=e[14];const y=N,w=o?" ":null;let u;e[15]!==t||e[16]!==i?(u=()=>{t(),i==null||i()},e[15]=t,e[16]=i,e[17]=u):u=e[17];let d;e[18]!==j||e[19]!==o||e[20]!==_||e[21]!==y?(d=o&&s.jsx(F.div,T(c({},G),{children:s.jsx(ue,{onSwitchToGenericLoginOrSignup:y,isSsoOptionsVisible:_===D.ssoExpanded,title:p.title2.defaultMessage,authorizationParams:j,location:"Log Back In Modal"})}),"log-back"),e[18]=j,e[19]=o,e[20]=_,e[21]=y,e[22]=d):d=e[22];let m;e[23]!==l||e[24]!==o||e[25]!==t||e[26]!==i||e[27]!==O?(m=!o&&s.jsx(F.div,T(c({},G),{children:s.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[s.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:s.jsx(k,c({},r?H.title:p.title))}),s.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:s.jsx(k,c({},r?H.subtitle:p.subtitle))}),s.jsx(R,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"".concat(r?"":"mb-2 sm:mb-3"),"data-testid":"welcome-login-button",onClick:()=>{V(l,{fallbackScreenHint:"login",callback:pe,skipLoginModal:!1})},children:s.jsx(k,c({},p.logInCta))}),!r&&s.jsx(R,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{V(l,{fallbackScreenHint:"signup",callback:fe,skipLoginModal:!1})},children:s.jsx(k,c({},O))}),!r&&s.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:f=>{f.preventDefault(),h.logEvent("No Auth Welcome Modal Stay Logged Out Link Clicked",{location:"No Auth Welcome Back Modal",isLogBackFormVisible:o}),z.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked",null,{isLogBackFormVisible:o.toString()}),t(),i==null||i()},"data-testid":"dismiss-welcome",children:s.jsx(k,c({},p.stayLoggedOutLink))})]})}),"control"),e[23]=l,e[24]=o,e[25]=t,e[26]=i,e[27]=O,e[28]=m):m=e[28];let g;e[29]!==d||e[30]!==m?(g=s.jsxs(ne,{mode:"wait",initial:!1,children:[d,m]}),e[29]=d,e[30]=m,e[31]=g):g=e[31];let C;return e[32]!==o||e[33]!==W||e[34]!==u||e[35]!==g||e[36]!==w?(C=s.jsx(ce,{testId:"modal-no-auth-welcome-back",isOpen:!0,title:w,onClose:u,shouldIgnoreClickOutside:!0,showCloseButton:o,closeButtonClassName:"rounded-full!",headerClassName:"pb-0",type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[388px]",position:W,children:g}),e[32]=o,e[33]=W,e[34]=u,e[35]=g,e[36]=w,e[37]=C):C=e[37],C},p=Y({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"NoAuthWelcomeBackModal.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},title2:{id:"NoAuthWelcomeBackModal.title2",defaultMessage:"Log back in"},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),H=Y({title:{id:"NoAuthWelcomeBackModal.Desktop.title",defaultMessage:"Restoring your session"},subtitle:{id:"NoAuthWelcomeBackModal.Desktop.subtitle",defaultMessage:"Youâ€™ll be logged back in automatically. If not, you can log in below."}});function pe(a){h.logLogInButtonClicked({provider:a,location:"No Auth Welcome Back Modal"},K.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL)}function fe(a){h.logSignUpButtonClicked({provider:a,location:"No Auth Welcome Back Modal"},K.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL)}export{Oe as NoAuthWelcomeBackModal};
//# sourceMappingURL=d6c0uyk9gv3c7gwy.js.map

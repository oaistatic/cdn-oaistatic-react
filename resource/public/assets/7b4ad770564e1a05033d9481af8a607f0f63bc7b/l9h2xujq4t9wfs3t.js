var B=Object.defineProperty;var M=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var I=(e,t,o)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,w=(e,t)=>{for(var o in t||(t={}))_.call(t,o)&&I(e,o,t[o]);if(M)for(var o of M(t))k.call(t,o)&&I(e,o,t[o]);return e};import{c as A,aj as C,h as E,j as y,M as N,m as V}from"./kfrdmkli83ureki3.js";import{d5 as P,bA as T}from"./fyw02vlaiv2vq6cj.js";import{j9 as b,d as v,p0 as z,p1 as O,p2 as D}from"./kw08ajijqinojrwh.js";import{D as L}from"./0gm9vowjt2kwou85.js";import"./bxgk09qvxvkate6l.js";function x(e){return e==="/"?"/":e.replace(/\/+$/,"")}function R({currentLocation:e,nextLocation:t,isIntegratedVoiceModeActive:o,voiceCompletionRequest:n,integratedVoiceModeState:p,isEndingVoiceSession:l}){var r;if(!o)return!1;const s=x(e.pathname),a=x(t.pathname);if(s===a||l)return!1;const m=n==null?void 0:n.responseThreadId;if(m){const c=V("/c/:conversationId",a),i=V("/g/:gizmoId/c/:conversationId",a);if(((r=c==null?void 0:c.params.conversationId)!=null?r:i==null?void 0:i.params.conversationId)===m)return!1}return p!=null}const Y=()=>{"use forget";const e=A.c(17),t=b(),o=v(F),n=v(U),p=v(G);let l;e[0]!==n||e[1]!==p||e[2]!==t||e[3]!==o?(l=d=>{const{nextLocation:S,currentLocation:$}=d;return R({currentLocation:$,nextLocation:S,isIntegratedVoiceModeActive:t,voiceCompletionRequest:o,integratedVoiceModeState:n,isEndingVoiceSession:p})},e[0]=n,e[1]=p,e[2]=t,e[3]=o,e[4]=l):l=e[4];const s=C(l),a=E(),m=s.state==="blocked";let r;e[5]!==s?(r=()=>{var d;(d=s.reset)==null||d.call(s)},e[5]=s,e[6]=r):r=e[6];const c=r;let i;e[7]!==s?(i=async()=>{var d;await P({type:"STOP",reason:L.UserNavigatedAway}),(d=s.proceed)==null||d.call(s)},e[7]=s,e[8]=i):i=e[8];const u=i;let f;e[9]!==a?(f=a.formatMessage(j.title),e[9]=a,e[10]=f):f=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx(N,w({},j.description)),e[11]=g):g=e[11];let h;return e[12]!==u||e[13]!==c||e[14]!==m||e[15]!==f?(h=y.jsx(T,{title:f,isOpen:m,onClose:c,onConfirm:u,primaryButtonColor:"danger",children:g}),e[12]=u,e[13]=c,e[14]=m,e[15]=f,e[16]=h):h=e[16],h},j={title:{id:"voice-navigation-blocker.title",defaultMessage:"Voice Mode is still active",description:"Title of the modal that appears when the user tries to navigate away from the page while voice mode is active"},description:{id:"voice-navigation-blocker.description",defaultMessage:"Navigating away from this page will end your voice mode session.",description:"Message of the modal that appears when the user tries to navigate away from the page while voice mode is active"}};function F(){return z()}function U(){return O()}function G(){return D()}export{Y as VoiceNavigationBlocker};
//# sourceMappingURL=l9h2xujq4t9wfs3t.js.map

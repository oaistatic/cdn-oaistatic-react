var E=Object.defineProperty,T=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var P=(o,t,e)=>t in o?E(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,h=(o,t)=>{for(var e in t||(t={}))S.call(t,e)&&P(o,e,t[e]);if(f)for(var e of f(t))b.call(t,e)&&P(o,e,t[e]);return o},y=(o,t)=>T(o,w(t));import{y as x,o as k,d as v,a9 as L,r as c,ad as F,j as i,e as j}from"./kfrdmkli83ureki3.js";import{bh as K,b7 as N}from"./fyw02vlaiv2vq6cj.js";import{C as A,i as l,a as _}from"./ite26mmpefwubzx4.js";import{ct as U,dT as D,u as I,J as q,e6 as z,aP as G,au as H,ky as J,_ as V}from"./kw08ajijqinojrwh.js";import{A as Y}from"./ej5er9569li42hai.js";import"./m9gq49u2vlb0cjyx.js";import"./lg0oi3tmjv8kv2p4.js";import"./b3ungmqo5x8kj4fh.js";import"./iej0cupg2dqkmejt.js";import"./batn8nst470a68ib.js";import"./m0t07ixd92668z9e.js";import"./ds50f4rqnruk5v5l.js";import"./di3v2n4zwp3e4rpb.js";import"./oze22otsepdfaut5.js";import"./lbp124td1jxnga57.js";import"./o5h7u1aikohecbkt.js";import"./w4rmhhxvug61xnae.js";import"./h9s5uo8l29l5vali.js";import"./l3foo5601l7fb51e.js";import"./chg5zn7ivsidhse5.js";const g={pro:"chatgptpro",plus:"chatgptplusplan"},C={[_.SORA]:"sora_redirect",[_.OPERATOR]:"operator_redirect"};function $(o){l(o)&&(window.location.href=A[o])}const yt=x(function(){const[t]=k(),e=v(),R=U(),{plan:s}=L(),a=t.get("checkout_from"),u=c.useRef(!1),r=D(),p=c.useMemo(()=>r==null?void 0:r.subscriptionAnalyticsParams,[r]),O=I(),n=q(O,"1719651090");if(!s||!(s in g))throw F("/");return c.useEffect(()=>{if(!r||u.current)return;if(u.current=!0,a==="vza493q"){r.hasPaidSubscription()&&r.isPro()?window.location.href=A[a]:n||e("/");return}(async()=>{const m=l(a)&&C[a]?C[a]:"purchase_plan_redirect";try{l(a)&&G.setItem(H.CheckoutFrom,a);const d=await K.getCheckoutLink({plan_name:g[s],billing_details:{currency:J}});V.logEvent("Account Pay: Purchase Plan Redirect",y(h({},p),{plan:s,location:m})),window.location.href=d.url}catch(d){N(e,m)}})()},[e,R,s,a,p,n,r]),i.jsxs(i.Fragment,{children:[r&&a==="vza493q"&&n&&i.jsx(Y,{currentAccount:r,onClose:()=>$(a),subtitle:M.operatorModalSubtitle,title:M.operatorModalTitle}),i.jsx("div",{className:"flex h-full w-full items-center justify-center",children:i.jsx(z,{})})]})}),M=j({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{yt as default};
//# sourceMappingURL=onk6c4uk1bl00gvv.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lrtd9knjab0hf8x5.js","assets/kfrdmkli83ureki3.js","assets/fyw02vlaiv2vq6cj.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/conversation-small-lq38g8zw.css","assets/jh022kjl1g1bb86v.js","assets/ffrotvb922yxp30i.js","assets/d4qsitgbpj3e1n6x.js","assets/ezd0hym0jr36348y.js"])))=>i.map(i=>d[i]);
import{_ as w,j as t,M as q,c as ve,h as ye}from"./kfrdmkli83ureki3.js";import{az as T,cy as C,fd as ke,eG as Q,D as Ce,_ as we,aA as E,u as Te,gi as fe,d_ as ue,dR as ge}from"./kw08ajijqinojrwh.js";import{C as Ee}from"./kzowh6fnaz3z8ldi.js";import{cL as Ie,gn as Ne,go as be,gp as De,ce as Me}from"./fyw02vlaiv2vq6cj.js";const Pe=T(()=>w(()=>import("./lrtd9knjab0hf8x5.js"),__vite__mapDeps([0,1])),{loading:s=>E(s)}),Re=T(()=>w(()=>import("./fyw02vlaiv2vq6cj.js").then(s=>s.zq),__vite__mapDeps([2,1,3,4,5])),{loading:s=>E(s)}),Ae=T(()=>w(()=>import("./jh022kjl1g1bb86v.js"),__vite__mapDeps([6,1])),{loading:s=>E(s)}),Le=T(()=>w(()=>import("./ffrotvb922yxp30i.js"),__vite__mapDeps([7,1])),{loading:s=>E(s)}),Oe=T(()=>w(()=>import("./d4qsitgbpj3e1n6x.js"),__vite__mapDeps([8,1])),{loading:s=>E(s)}),Ve=T(()=>w(()=>import("./ezd0hym0jr36348y.js"),__vite__mapDeps([9,1])),{loading:s=>E(s)}),Se=({conversation:s,isExpanded:e,agentVisualMode:x,setAgentVisualMode:l,isStreaming:m,isStopping:g,isKAUR1BR5:a})=>{const f=e||m,r=Ie(),{open:u}=Ne(),d=a==!0&&!m||r;return t.jsxs("div",{className:C("flex flex-1 flex-row items-center gap-2 px-1",m?"justify-end":"justify-between"),children:[!m&&t.jsx(Le,{className:C("icon-sm text-token-text-secondary inline align-middle transition-transform",e&&"rotate-90")}),!g&&f&&t.jsx("div",{className:"flex flex-row items-center justify-center gap-2",children:t.jsxs(ke,{side:"bottom",size:"small",contentClassName:"text-sm",triggerButton:t.jsx("button",{onPointerDown:i=>i.stopPropagation(),onClick:i=>i.stopPropagation(),className:"hover:bg-token-bg-tertiary flex max-h-6 items-center justify-center overflow-visible rounded-md p-1",children:t.jsx(Ve,{className:"text-token-text-secondary size-5"})}),children:[x==="visual-cot"&&t.jsxs(Q.Item,{onClick:i=>{i.stopPropagation(),l==null||l("list-cot"),he("list-cot")},children:[t.jsx(Re,{className:"icon"}),t.jsx(q,{id:"cot.listView",defaultMessage:"Activity"})]}),x==="list-cot"&&t.jsxs(Q.Item,{onClick:i=>{i.stopPropagation(),l==null||l("visual-cot"),he("visual-cot")},children:[t.jsx(Ae,{className:"icon"}),t.jsx(q,{id:"cot.desktopView",defaultMessage:"Desktop view"})]}),!d&&t.jsxs(Q.Item,{onClick:i=>{i.stopPropagation(),u()},children:[t.jsx(Oe,{className:"icon"}),a?t.jsx(q,{id:"qMkIYk",defaultMessage:"Open tabs"}):t.jsx(q,{id:"cot.takeOverBrowser",defaultMessage:"Take over browser"})]}),!r&&m&&t.jsxs(Q.Item,{onClick:()=>be(s.id,void 0,{clientInitiated:!0,reason:"agent_cot_stop",isLastTurnAgent:!0}),children:[t.jsx(Pe,{className:"icon"}),t.jsx(q,{id:"cot.stop",defaultMessage:"Stop"})]})]})})]})},he=s=>{Ce.addAction("agent.cot_view_change",{cot_view:s}),we.logEvent("Agent CoT View Change",{cot_view:s})},ce=T(()=>w(()=>import("./ffrotvb922yxp30i.js"),__vite__mapDeps([7,1])),{loading:s=>E(s)}),qe=s=>{"use forget";const e=ve.c(81),{conversation:x,isExpanded:l,isExpandDisabled:m,showChunkIcon:g,isComplete:a,latestHeadline:f,latestChunk:r,onToggleExpanded:u,onSkip:d,shouldDisplayVisualCoT:i,agentVisualMode:h,setAgentVisualMode:v,isStreaming:_,interruptionInProgress:W,isAgentVisualCoT:de,isKAUR1BR5:pe,wasInterrupted:xe,isAgentTurn:ee,isGlauxTurn:U,taskType:F,activeTask:me}=s,j=l===void 0?!1:l,y=m===void 0?!1:m,te=g===void 0?!0:g,G=i===void 0?!1:i,I=de===void 0?!1:de,se=pe===void 0?!1:pe,_e=xe===void 0?!1:xe,n=ye(),oe=Te();let J;e[0]!==n||e[1]!==F?(J=F===fe.PRO_MODE?n.formatMessage({id:"wOEgCa",defaultMessage:"Pro thinking"}):F===fe.RESEARCH?n.formatMessage({id:"oNdsTH",defaultMessage:"Researching"}):void 0,e[0]=n,e[1]=F,e[2]=J):J=e[2];const k=J;let c;if(f&&f.length>0)c=f;else if(a)if(_e){let o;e[3]!==n?(o=n.formatMessage({id:"tD55er",defaultMessage:"Stopped thinking"}),e[3]=n,e[4]=o):o=e[4],c=o}else{let o;e[5]!==n?(o=n.formatMessage({id:"nkvZJE",defaultMessage:"Thought"}),e[5]=n,e[6]=o):o=e[6],c=o}else if(U){let o;e[7]!==n?(o=n.formatMessage({id:"4XsLlK",defaultMessage:"Searching internal apps"}),e[7]=n,e[8]=o):o=e[8],c=o}else if(me&&k)c=me.title;else{let o;e[9]!==n?(o=n.formatMessage({id:"hgnsat",defaultMessage:"Thinking"}),e[9]=n,e[10]=o):o=e[10],c=o}let p,N,b,D;e[11]!==oe||e[12]!==ee||e[13]!==a||e[14]!==j||e[15]!==U||e[16]!==d?(p=De(oe,!!ee),N=!a&&(!j||p&&j)&&d&&!U,b="relative w-full text-start",D=C("flex w-full flex-col items-start justify-between text-start",p&&"flex-row"),e[11]=oe,e[12]=ee,e[13]=a,e[14]=j,e[15]=U,e[16]=d,e[17]=p,e[18]=N,e[19]=b,e[20]=D):(p=e[17],N=e[18],b=e[19],D=e[20]);const ie=(j||_)&&G&&"justify-between";let M;e[21]!==ie?(M=C("flex w-full items-center gap-0.5",ie),e[21]=ie,e[22]=M):M=e[22];const ae=!a&&"loading-shimmer",ne=!k&&"font-medium";let P;e[23]!==ae||e[24]!==ne?(P=C(ae,ne),e[23]=ae,e[24]=ne,e[25]=P):P=e[25];const je=c,le=k&&_&&"text-token-text-tertiary",re=a&&(y?"text-token-text-secondary dark:text-[var(--interactive-label-tertiary-default)]":"text-token-text-secondary hover:text-token-text-primary dark:hover:text-token-text-primary dark:text-[var(--interactive-label-tertiary-default)]");let R;e[26]!==le||e[27]!==re?(R=C("flex items-center gap-1 truncate text-start align-middle",le,re),e[26]=le,e[27]=re,e[28]=R):R=e[28];let X,Y;e[29]===Symbol.for("react.memo_cache_sentinel")?(X={opacity:1},Y={type:"spring",duration:.3},e[29]=X,e[30]=Y):(X=e[29],Y=e[30]);let A;e[31]!==a||e[32]!==r||e[33]!==te?(A=te&&(r==null?void 0:r.type)!==Me.Recap&&t.jsx(Ee,{chunk:r,isAnimated:!a,size:"medium",className:"text-token-text-tertiary",isHeadline:!0}),e[31]=a,e[32]=r,e[33]=te,e[34]=A):A=e[34];let L;e[35]!==c||e[36]!==_||e[37]!==k?(L=k&&_&&t.jsxs("span",{className:"text-token-text-primary font-medium",children:[k,c.length>0?" â€¢ ":""]}),e[35]=c,e[36]=_,e[37]=k,e[38]=L):L=e[38];let O;e[39]!==p||e[40]!==I?(O=p&&!I&&t.jsx(ce,{className:"icon-xs"}),e[39]=p,e[40]=I,e[41]=O):O=e[41];let V;e[42]!==c||e[43]!==R||e[44]!==A||e[45]!==L||e[46]!==O?(V=t.jsx(ue,{mode:"popLayout",children:t.jsxs(ge.span,{className:R,initial:!1,animate:X,transition:Y,children:[A,L,c,O]},je)}),e[42]=c,e[43]=R,e[44]=A,e[45]=L,e[46]=O,e[47]=V):V=e[47];let S;e[48]!==P||e[49]!==V?(S=t.jsx("span",{className:P,children:V}),e[48]=P,e[49]=V,e[50]=S):S=e[50];let H;e[51]!==h||e[52]!==x||e[53]!==W||e[54]!==I||e[55]!==y||e[56]!==j||e[57]!==se||e[58]!==_||e[59]!==v||e[60]!==G?(H=(!y||G)&&I&&t.jsx(He,{conversation:x,isExpanded:j,shouldDisplayVisualCoT:G,agentVisualMode:h,setAgentVisualMode:v,isStreaming:_,isStopping:!!W,isKAUR1BR5:se}),e[51]=h,e[52]=x,e[53]=W,e[54]=I,e[55]=y,e[56]=j,e[57]=se,e[58]=_,e[59]=v,e[60]=G,e[61]=H):H=e[61];let B;e[62]!==y||e[63]!==u||e[64]!==M||e[65]!==S||e[66]!==H?(B=t.jsxs("button",{disabled:y,onClick:u,className:M,children:[S,H]}),e[62]=y,e[63]=u,e[64]=M,e[65]=S,e[66]=H,e[67]=B):B=e[67];let z;e[68]!==p||e[69]!==d||e[70]!==N?(z=N&&t.jsx(ge.div,{initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},transition:{type:"spring",duration:.3},children:t.jsx("button",{onClick:o=>{d(o),o.stopPropagation()},className:"text-token-text-tertiary hover:text-token-text-primary whitespace-nowrap",children:t.jsxs("span",{className:p?"underline decoration-dotted":"flex items-center gap-0.5",children:[t.jsx(q,{id:"xMM6dg",defaultMessage:"Answer now"}),!p&&t.jsx(ce,{className:"icon-xs"})]})})}),e[68]=p,e[69]=d,e[70]=N,e[71]=z):z=e[71];let K;e[72]!==z?(K=t.jsx(ue,{mode:"popLayout",children:z}),e[72]=z,e[73]=K):K=e[73];let $;e[74]!==B||e[75]!==K||e[76]!==D?($=t.jsxs("div",{className:D,children:[B,K]}),e[74]=B,e[75]=K,e[76]=D,e[77]=$):$=e[77];let Z;return e[78]!==b||e[79]!==$?(Z=t.jsx("div",{className:b,children:$}),e[78]=b,e[79]=$,e[80]=Z):Z=e[80],Z},He=s=>{"use forget";const e=ve.c(12),{conversation:x,isExpanded:l,shouldDisplayVisualCoT:m,agentVisualMode:g,setAgentVisualMode:a,isStreaming:f,isStopping:r,isKAUR1BR5:u}=s;if(m){let v;return e[0]!==g||e[1]!==x||e[2]!==l||e[3]!==u||e[4]!==r||e[5]!==f||e[6]!==a?(v=t.jsx(Se,{conversation:x,isExpanded:l,agentVisualMode:g,setAgentVisualMode:a,isStreaming:f,isStopping:r,isKAUR1BR5:u}),e[0]=g,e[1]=x,e[2]=l,e[3]=u,e[4]=r,e[5]=f,e[6]=a,e[7]=v):v=e[7],v}const d=l&&"rotate-90";let i;e[8]!==d?(i=C("icon-sm text-token-text-secondary inline align-middle transition-transform",d),e[8]=d,e[9]=i):i=e[9];let h;return e[10]!==i?(h=t.jsx(ce,{className:i}),e[10]=i,e[11]=h):h=e[11],h};export{qe as C};
//# sourceMappingURL=ke280zfvfnrfnfvu.js.map

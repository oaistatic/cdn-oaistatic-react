const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dvlu3na6bd15zhhg.js","assets/kfrdmkli83ureki3.js","assets/h6cq9x9ydm10klt9.js","assets/fyw02vlaiv2vq6cj.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/conversation-small-lq38g8zw.css"])))=>i.map(i=>d[i]);
var St=Object.defineProperty,wt=Object.defineProperties;var Mt=Object.getOwnPropertyDescriptors;var Ct=Object.getOwnPropertySymbols;var At=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable;var bt=(e,t,s)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,mt=(e,t)=>{for(var s in t||(t={}))At.call(t,s)&&bt(e,s,t[s]);if(Ct)for(var s of Ct(t))Dt.call(t,s)&&bt(e,s,t[s]);return e},vt=(e,t)=>wt(e,Mt(t));import{n8 as Ot,n9 as Z,ea as Pt}from"./fyw02vlaiv2vq6cj.js";import{a as Rt,D as Lt,Z as X}from"./ce3hgmw4iyyhicud.js";import{cy as b,hm as Ht,az as ut,aA as pt,dR as dt,aB as Bt,d_ as Vt,l$ as Gt,cm as Yt,bl as q}from"./kw08ajijqinojrwh.js";import{j as n,_ as xt,c as _t,r as ft,h as Ft}from"./kfrdmkli83ureki3.js";import{T as zt}from"./juhk9bg10nm4p27d.js";import{E as Wt,b as $t,a as Ut}from"./e7j9ia0bu5w3396k.js";import{C as Xt,f as Zt}from"./hytzro4etxb8j4b5.js";function he(e,t,s){const o=new Map;return e.forEach((a,r)=>{const i=Ot(a,t,s);i&&o.set(r,i)}),o}function qt(e,t){return{"bg-yellow-100 dark:bg-yellow-400":!0,"bg-yellow-400/40 dark:bg-yellow-400/50":e&&!t,"bg-yellow-400/60 dark:bg-yellow-500/70":t,"bg-yellow-100 dark:bg-yellow-400/30":!e&&!t}}const Jt={"bg-transparent!":!0};function ge({isHovered:e,isFocused:t,isCode:s,diffStatus:o}){return b(s?Rt:Lt,"cursor-text group is-comment transition-colors",mt({},o===Z.REMOVED?Jt:qt(e,t)),"group-[.is-comment]:bg-opacity-40")}function ye(e,t){return e.map(s=>{const o=t.get(s.id);return o?vt(mt({},s),{at:o}):null}).filter(Ht)}const Kt=ut(()=>xt(()=>import("./dvlu3na6bd15zhhg.js"),__vite__mapDeps([0,1])),{loading:e=>pt(e)}),Qt=ut(()=>xt(()=>import("./h6cq9x9ydm10klt9.js"),__vite__mapDeps([2,1])),{loading:e=>pt(e)});function te(e){switch(e){case"dark_gray":return{normal:"text-token-text-secondary dark:text-white-400",hover:"cursor-pointer hover:text-token-text-primary group-hover:text-token-text-primary"};case"light_gray":return{normal:"text-gray-400",hover:"cursor-pointer hover:text-token-text-secondary group-hover:text-token-text-secondary"};case"error":return{normal:"text-red-500",hover:"cursor-pointer hover:text-red-500 group-hover:text-red-500"}}}function ht({children:e,className:t,onClick:s,isClickable:o=!1,theme:a="dark_gray"}){const r=te(a),i=(s!=null||o)&&r.hover;return n.jsxs("div",{className:b("icon relative inline-block transition-opacity",t,i,r.normal),onClick:s,children:[e?n.jsx(Kt,{className:"icon"}):n.jsx(Qt,{className:"icon"}),n.jsx("span",{className:b("absolute inset-0 flex items-center justify-center text-[8px] font-black",i,r.normal),children:e})]})}function Et(){return n.jsx(ht,{theme:"light_gray",children:n.jsx(zt,{})})}function ee({count:e,isLoading:t,onClick:s,isError:o=!1}){return t?n.jsx(Et,{}):n.jsx(ht,{onClick:s,theme:o?"error":"dark_gray",children:e})}function Ce({isLoading:e=!1,onClick:t}){return e?n.jsx(Et,{}):n.jsx(ht,{isClickable:!0,onClick:t,theme:"light_gray"})}const se=ut(()=>xt(()=>import("./fyw02vlaiv2vq6cj.js").then(e=>e.zF),__vite__mapDeps([3,1,4,5,6])),{loading:e=>pt(e)}),Nt={type:"spring",bounce:.12,duration:.5},jt="opacity-50",be=e=>{"use forget";const t=_t.c(16),{position:s,count:o,offsetY:a,isLoading:r,onClick:i,isError:v}=e,y=s===void 0?"absolute":s,p=r===void 0?!1:r,x=v===void 0?!1:v;let d;t[0]!==y?(d=b("flex",y,X.collapsedComment),t[0]=y,t[1]=d):d=t[1];let h,c;t[2]===Symbol.for("react.memo_cache_sentinel")?(h={opacity:0},c={opacity:1},t[2]=h,t[3]=c):(h=t[2],c=t[3]);let f;t[4]!==a?(f={translateY:a},t[4]=a,t[5]=f):f=t[5];let _;t[6]===Symbol.for("react.memo_cache_sentinel")?(_={opacity:0},t[6]=_):_=t[6];let C;t[7]!==o||t[8]!==x||t[9]!==p||t[10]!==i?(C=n.jsx(ee,{count:o,isLoading:p,onClick:i,isError:x}),t[7]=o,t[8]=x,t[9]=p,t[10]=i,t[11]=C):C=t[11];let E;return t[12]!==d||t[13]!==f||t[14]!==C?(E=n.jsx(dt.div,{className:d,initial:h,animate:c,style:f,transition:Nt,exit:_,children:C}),t[12]=d,t[13]=f,t[14]=C,t[15]=E):E=t[15],E},oe=({isFocused:e,isHovered:t})=>{const s=e||t?"grow font-medium text-token-text-primary transition-colors":"grow font-medium text-token-text-secondary transition-colors",o=e||t?"opacity-100 transition":"opacity-75 transition";return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:o,children:n.jsx("div",{className:"gizmo-bot-avatar rounded-full",children:n.jsx(Gt,{iconName:"openai"})})}),n.jsx("span",{className:s,children:"ChatGPT"})]})},ne=({comment:{diffStatus:e,content:t},isFocused:s,isSomeCommentFocused:o,isHovered:a})=>{const r=e===Z.REMOVED;return n.jsx("div",{className:b("text-token-text-primary mt-2 transition-all",{"opacity-80":!s&&!o&&!a&&!r,"opacity-40":!s&&o&&!a&&!r,[jt]:r}),children:n.jsx(Pt,{text:t})})},ae=e=>{"use forget";const t=_t.c(80),{acceptButtonLabel:s,position:o,left:a,right:r,comment:i,disableAnimations:v,onClick:y,onMouseEnter:p,onMouseLeave:x,onAccept:d,onDismiss:h,translateY:c,isFocused:f,isSomeCommentFocused:_,disableActions:C,isHovered:E,ref:K}=e,Q=o===void 0?"absolute":o,m=v===void 0?!1:v,l=f===void 0?!1:f,Y=_===void 0?!1:_,u=C===void 0?!1:C,g=E===void 0?!1:E,[gt,yt]=ft.useState(!1),tt=i.diffStatus===Z.ADDED,N=i.diffStatus===Z.REMOVED,et=i.diffStatus!=null;let F;t[0]!==p?(F=()=>{yt(!0),p==null||p()},t[0]=p,t[1]=F):F=t[1];const kt=F;let z;t[2]!==x?(z=()=>{yt(!1),x==null||x()},t[2]=x,t[3]=z):z=t[3];const Tt=z,j=Ft(),st=l||gt&&!Y,ot=!l;let k;t[4]!==l||t[5]!==g||t[6]!==Q||t[7]!==ot?(k=b(Q,X.expandedComment,{"cursor-default":l,"cursor-pointer":ot,[X.expandedCommentFocused]:l,[X.expandedCommentHovered]:g}),t[4]=l,t[5]=g,t[6]=Q,t[7]=ot,t[8]=k):k=t[8];let T;t[9]!==a||t[10]!==r?(T={left:a,right:r},t[9]=a,t[10]=r,t[11]=T):T=t[11];let I;t[12]!==m||t[13]!==c?(I=m?!1:{translateY:c,scale:.85,opacity:0},t[12]=m,t[13]=c,t[14]=I):I=t[14];let S;t[15]!==m||t[16]!==l||t[17]!==c?(S=m?void 0:{translateY:c,scale:l?1:.97,opacity:1},t[15]=m,t[16]=l,t[17]=c,t[18]=S):S=t[18];let w;t[19]!==m?(w=m?void 0:{scale:.85,opacity:0,filter:"blur(16px)"},t[19]=m,t[20]=w):w=t[20];const nt=u?void 0:kt,at=u?void 0:Tt,It=i.id,rt=!l&&!g,it=g&&!l,lt=l||gt&&!Y;let M;t[21]!==et||t[22]!==tt||t[23]!==N||t[24]!==rt||t[25]!==it||t[26]!==lt?(M=b("flex min-h-8 flex-col overflow-hidden rounded-2xl border p-4 pt-2 text-start text-sm transition-all",{"border-transparent bg-gray-50 dark:bg-gray-800":rt,"border-token-border-default bg-token-main-surface-primary":it,"border-token-border-default bg-token-main-surface-primary shadow-xl":lt,"relative after:absolute after:start-0 after:top-0 after:bottom-0 after:w-1":et,"after:bg-green-500":tt,"after:bg-red-500":N}),t[21]=et,t[22]=tt,t[23]=N,t[24]=rt,t[25]=it,t[26]=lt,t[27]=M):M=t[27];let W;t[28]===Symbol.for("react.memo_cache_sentinel")?(W={width:Wt},t[28]=W):W=t[28];let A;t[29]!==N?(A=b("flex h-8 flex-row items-center gap-2.5",{[jt]:N}),t[29]=N,t[30]=A):A=t[30];let D;t[31]!==l||t[32]!==g?(D=n.jsx(oe,{isFocused:l,isHovered:g}),t[31]=l,t[32]=g,t[33]=D):D=t[33];const ct=!u;let O;t[34]!==u||t[35]!==ct?(O=b("text-token-text-secondary -me-1 rounded-full bg-transparent p-1",{"hover:text-token-text-primary cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700":ct,"cursor-not-allowed":u}),t[34]=u,t[35]=ct,t[36]=O):O=t[36];let P;t[37]!==j?(P=j.formatMessage({id:"fYDa3C",defaultMessage:"Dismiss comment"}),t[37]=j,t[38]=P):P=t[38];let $;t[39]===Symbol.for("react.memo_cache_sentinel")?($=n.jsx(se,{className:"icon-sm"}),t[39]=$):$=t[39];let R;t[40]!==u||t[41]!==h||t[42]!==O||t[43]!==P?(R=n.jsx("button",{className:O,onClick:h,disabled:u,"aria-label":P,children:$}),t[40]=u,t[41]=h,t[42]=O,t[43]=P,t[44]=R):R=t[44];let L;t[45]!==A||t[46]!==D||t[47]!==R?(L=n.jsxs("div",{className:A,children:[D,R]}),t[45]=A,t[46]=D,t[47]=R,t[48]=L):L=t[48];let H;t[49]!==i||t[50]!==l||t[51]!==g||t[52]!==Y?(H=n.jsx(ne,{comment:i,isFocused:l,isHovered:g,isSomeCommentFocused:Y}),t[49]=i,t[50]=l,t[51]=g,t[52]=Y,t[53]=H):H=t[53];let B;t[54]!==s||t[55]!==u||t[56]!==m||t[57]!==j||t[58]!==d||t[59]!==st?(B=st&&n.jsx(dt.div,{initial:m?!1:{opacity:0,height:0},animate:{opacity:1,height:"auto",transition:{opacity:{delay:.14,duration:.2},height:{type:"spring",bounce:0}}},exit:m?void 0:{opacity:0,height:0,transition:{opacity:{duration:.08},height:{type:"spring",bounce:0}}},className:"flex items-center justify-start",children:n.jsx("div",{className:"mt-2.5",children:n.jsx(Bt,{color:"secondary",onClick:d,disabled:u,children:s!=null?s:j.formatMessage({id:"WIW5OL",defaultMessage:"Apply"})})})}),t[54]=s,t[55]=u,t[56]=m,t[57]=j,t[58]=d,t[59]=st,t[60]=B):B=t[60];let V;t[61]!==B?(V=n.jsx(Vt,{initial:!1,children:B}),t[61]=B,t[62]=V):V=t[62];let G;t[63]!==M||t[64]!==L||t[65]!==H||t[66]!==V?(G=n.jsxs("div",{className:M,style:W,children:[L,H,V]}),t[63]=M,t[64]=L,t[65]=H,t[66]=V,t[67]=G):G=t[67];let U;return t[68]!==i.id||t[69]!==y||t[70]!==K||t[71]!==k||t[72]!==T||t[73]!==I||t[74]!==S||t[75]!==w||t[76]!==nt||t[77]!==at||t[78]!==G?(U=n.jsx(dt.div,{ref:K,className:k,style:T,initial:I,animate:S,exit:w,transition:Nt,onClick:y,onMouseEnter:nt,onMouseLeave:at,"data-comment-id":It,children:G}),t[68]=i.id,t[69]=y,t[70]=K,t[71]=k,t[72]=T,t[73]=I,t[74]=S,t[75]=w,t[76]=nt,t[77]=at,t[78]=G,t[79]=U):U=t[79],U},ve=({offsetY:e,opensOverDocument:t=!1,disableActions:s=!1,isFocused:o=!1,isSomeCommentFocused:a=!1,onAccept:r,onClick:i,onDismiss:v,onMouseEnter:y,onMouseLeave:p,comment:x,isHovered:d=!1})=>{const h=ft.useRef(null);return ft.useEffect(()=>Yt(document,{mousedown:({target:c})=>{var f;c instanceof HTMLElement&&!c.closest("[data-comment-id]")&&!((f=h.current)!=null&&f.contains(c))&&Xt.blurComment()}})),n.jsx(ae,{ref:h,comment:x,disableActions:s,onAccept:r,onDismiss:v,onMouseEnter:y,onMouseLeave:p,isSomeCommentFocused:a,isHovered:d,onClick:i,translateY:e,isFocused:o,left:t?void 0:Ut,right:t?$t:void 0})};function J(e){if(e.type.name!=="text"){const{start:a,end:r}=e.attrs;return a==null||r==null?null:{start:a,end:r}}const t=e.marks.find(a=>a.type.name===Zt.proseMirrorMarkName());if(!t)return null;const{start:s,end:o}=t.attrs;return s==null||o==null?null:{start:s,end:o}}function re(e,t){const{parent:s,textOffset:o}=t,a=e.nodeAt(t.pos);if(!a)return q(J(s)).end;const{start:r}=q(J(a));return r+o}function ie(e,t){const s=e.nodeAt(t.pos);if(s){const{start:o}=q(J(s));return o+t.textOffset}return q(J(t.parent)).end}function _e(e,t){const s=new Map;for(const[o,a]of t){const r=re(e,e.resolve(a.start)),i=ie(e,e.resolve(a.end));s.set(o,{start:r,end:i})}return s}export{Ce as C,ve as E,he as a,ie as b,ge as c,be as d,Et as e,ae as f,J as g,_e as h,re as p,ye as u};
//# sourceMappingURL=bj2o1htuhytjg1ta.js.map

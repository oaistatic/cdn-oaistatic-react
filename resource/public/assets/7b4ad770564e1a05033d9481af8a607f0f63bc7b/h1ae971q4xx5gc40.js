const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kzoj5p7ln8k6v4x3.js","assets/kfrdmkli83ureki3.js","assets/fyw02vlaiv2vq6cj.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/conversation-small-lq38g8zw.css","assets/j81448c2c5whiu6c.js","assets/b9tsn3f51rdwvzaj.js","assets/d0g3mm217nrty71a.js","assets/mxzgpx7wtm4zk5cj.js","assets/cn1z5fx9l5xxo8vy.js","assets/lg0oi3tmjv8kv2p4.js","assets/b3ungmqo5x8kj4fh.js","assets/i8h8r8n4rn16l2h5.js","assets/n6eim64jp78x17ti.js","assets/d24clsve229czwkp.js","assets/nunatmpame7vjusr.js","assets/nvxri8mldbk6o2on.js","assets/hk5ml9l4i4ups2ga.js","assets/fwbhrttgqnv5nm9m.js","assets/o5h7u1aikohecbkt.js","assets/w4rmhhxvug61xnae.js","assets/nh6x5pasrftsddpw.js","assets/c7lf6x6u521mpx19.js","assets/ckililxopth81755.js","assets/mj0406dyy526560j.js","assets/n25jb1xrdrimv99m.js","assets/nm285usnll51g0n4.js","assets/c326bjybavj646xd.js","assets/lwyag88acem9bm0o.js","assets/dd8hh2tmra1psngf.js","assets/moa9hw4knutxpmay.js","assets/k68z30a1j9zr4phk.js","assets/emcmoa6z1wsa6qof.js","assets/i85urdvpkzpdgj3s.js","assets/be1f0w4doetbrndv.js","assets/he1xnididjbc7s63.js","assets/m93ibzwrrpoc1bdm.js","assets/hrprrmrs14hiemon.js","assets/mzfvs4galmoyidwq.js","assets/djjffmwijkgn010o.js","assets/ld3p92an6gaqvnu0.js","assets/m0t07ixd92668z9e.js","assets/m9gq49u2vlb0cjyx.js","assets/iej0cupg2dqkmejt.js","assets/batn8nst470a68ib.js","assets/ds50f4rqnruk5v5l.js","assets/fys1iny7t4cptk4r.js","assets/bx1w0y3fzlo97jzb.js","assets/laacu28tqafsw8cp.js","assets/l3foo5601l7fb51e.js","assets/h5148cccn3i840f3.js","assets/bdco3j8fham6d7zq.js","assets/otnf017u4za1mfus.js","assets/lbp124td1jxnga57.js","assets/h9s5uo8l29l5vali.js","assets/ite26mmpefwubzx4.js","assets/chg5zn7ivsidhse5.js","assets/m8k4hi0btybx4dhr.js","assets/om7m59fvyxjem5za.js","assets/e83n0n7fmjoe6ow1.js","assets/oppbmh012axflnpf.js","assets/jncaheawsuw1n979.js","assets/l2l4d2d2bzani7km.js","assets/nhyw3uxnz49k081a.js","assets/dba5p8kgio6j21sl.js","assets/kk30v9ixm0zhzjf4.js","assets/mk4l60okxks92sdf.js","assets/f1g778pkk2fhpy9x.js","assets/i8e4tsbcdrbcc668.js","assets/hoo89wr86agqpm13.js","assets/m3joncw451cqbul2.js","assets/gy1lpvuoewmzh42c.js","assets/ipjj058rvhjq2uu2.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js","assets/i7t1qh3u8s8bvtb8.js","assets/dm8z7bzkrzic0zmg.js","assets/hnx3m6kxd7qfeifg.js","assets/hdkg0cys1b7b4f0v.js","assets/ia54sddtrl9qa2wj.js","assets/ejjzjfpdlx2v908r.js","assets/l9h2xujq4t9wfs3t.js","assets/0gm9vowjt2kwou85.js","assets/bxgk09qvxvkate6l.js"])))=>i.map(i=>d[i]);
var ie=Object.defineProperty,oe=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(s,e,i)=>e in s?ie(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,w=(s,e)=>{for(var i in e||(e={}))G.call(e,i)&&B(s,i,e[i]);if(j)for(var i of j(e))H.call(e,i)&&B(s,i,e[i]);return s},T=(s,e)=>oe(s,ae(e));var K=(s,e)=>{var i={};for(var a in s)G.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&j)for(var a of j(s))e.indexOf(a)<0&&H.call(s,a)&&(i[a]=s[a]);return i};import{j as o,r as n,_ as f,c as te,a as re,o as ne,u as le}from"./kfrdmkli83ureki3.js";import{kZ as de,k_ as ce,k$ as ue,fU as Q,jL as fe,d7 as O,d8 as Y,l0 as ge,l1 as me,l2 as pe,l3 as he,l4 as _e,l5 as Ee,l6 as xe,l7 as be,l8 as we,l9 as Pe,la as ke,lb as je,lc as Te,ld as Oe,le as Ce,lf as $,lg as Ie,aI as E,aA as x,lh as Se,li as ve,lj as Fe,lk as Le,ll as Ne,lm as Me,dp as Ae,T as ye,g0 as Ve,ln as Re,dq as De,lo as Ue,g9 as ze,lp as We,c_ as Be,kz as Ge,cS as He,aP as Ke}from"./fyw02vlaiv2vq6cj.js";import{ie as Qe,m4 as ee,d_ as Ye,qW as $e,dR as q,az as c,u as se,g as qe,nE as Ze,d as Z,d4 as Xe,d5 as Je,aS as es,bD as ss,hU as is,qX as os,bZ as X,bV as J,_ as as,N as ts,jj as rs,O as ns,n as ls,q1 as ds,ao as cs,nC as us,nV as fs,nD as gs}from"./kw08ajijqinojrwh.js";import{B as ms}from"./mxzgpx7wtm4zk5cj.js";import{P as ps}from"./nunatmpame7vjusr.js";import{C as hs}from"./ckililxopth81755.js";import{M as _s}from"./k68z30a1j9zr4phk.js";function Es({conversation:s}){const e=de();return o.jsxs(o.Fragment,{children:[e&&o.jsx(ce,{conversation:s}),o.jsx(xs,{conversation:s})]})}function xs({conversation:s}){const e=n.useContext(Qe),[i,a]=n.useState(!!(e!=null&&e.postWithProfile)&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(r=>r.kind==="media_generation"));return!(e!=null&&e.postWithProfile)||!i?null:o.jsx(ee,{conversation:s,children:o.jsx(ps,{clientThreadId:s.id,postWithProfile:e.postWithProfile,onClose:()=>a(!1)})})}const bs=450;function ws({children:s,conversation:e,isOpen:i,onClose:a,type:r}){return o.jsx(Ye,{children:i&&o.jsx($e,{children:o.jsx(ue.Provider,{value:{isEmbeddedInFocusedView:!0,type:r},children:o.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[o.jsx(q.div,w({className:"bg-token-main-surface-secondary h-full w-full"},Q)),o.jsxs("div",{className:"absolute inset-0 flex",children:[o.jsx("div",{className:"grow overflow-auto",children:s}),o.jsx(q.div,T(w({className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:bs}},Q),{children:o.jsx("div",{className:"h-[100vh] pb-4",children:o.jsx(_s,{conversation:e,hideHeader:!0,hideDisclaimer:!0},e.id)})}))]})]})})})})}const Ps=c(()=>f(()=>import("./kzoj5p7ln8k6v4x3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),ks=c(()=>f(()=>import("./d0g3mm217nrty71a.js"),__vite__mapDeps([8,1,3,4,2,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38])).then(s=>s.ImageEditor));function js({conversation:s}){const e=fe();n.useEffect(()=>{O.close()},[s.id]);let i;return(e==null?void 0:e.type)===Y.ADAVisualization?i=o.jsx(Ps,{clientThreadId:s.id,visualization:e.visualization}):(e==null?void 0:e.type)===Y.Image&&(i=o.jsx(ks,{clientThreadId:s.id,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),o.jsx(ws,{conversation:s,isOpen:e!=null,onClose:O.close,type:e==null?void 0:e.type,children:i})}var Ts={};const Os=c(()=>f(()=>import("./mzfvs4galmoyidwq.js"),__vite__mapDeps([39,1,3,4,11,2,5,12]))),Cs=c(()=>f(()=>import("./djjffmwijkgn010o.js"),__vite__mapDeps([40,1,3,4,41,42,2,5,43,11,12,44,45,46,47,48,49,50,51,52,53,54,20,21,55,56,57,32,22,23,18,19,33,34,30,35,36,37,28,29,16,17,38,26,27]))),Is=c(()=>f(()=>import("./m8k4hi0btybx4dhr.js"),__vite__mapDeps([58,1,3,4,2,5,11,12,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,20,21,55,56,57,32,22,23,18,19,33,34,30,35,36,37,28,29,16,17,38,26,27,59]))),Ss=c(()=>f(()=>import("./e83n0n7fmjoe6ow1.js"),__vite__mapDeps([60,1,3,4,2,5,51,52,59,61])));c(async()=>()=>null);const vs=c(()=>f(()=>import("./jncaheawsuw1n979.js"),__vite__mapDeps([62,1,2,3,4,5,18,19,20,21,11,12,22,23,53,52,63]))),Fs=c(()=>f(()=>import("./nhyw3uxnz49k081a.js"),__vite__mapDeps([64,1,3,4,53,2,5,51,52,18,19,20,21,11,12,22,23]))),Ls=c(()=>f(()=>import("./dba5p8kgio6j21sl.js"),__vite__mapDeps([65,1,66,2,3,4,5,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82])).then(s=>s.CheckoutModal)),Ns=()=>null,Ms=c(()=>f(()=>import("./l9h2xujq4t9wfs3t.js"),__vite__mapDeps([83,1,2,3,4,5,84,85])).then(s=>s.VoiceNavigationBlocker));function As(s,e,i,a){"use no forget";return n.useMemo(()=>e?qe(s,e,{urlGizmoId:i}):Ze(s,w({urlGizmoId:i},a)),[s,e,i,a])}function Ks(s){"use forget";var h;const e=te.c(15);let i,a,r,t;e[0]!==s?(h=s,{gizmoId:a,urlThreadId:t,clientThreadId:i}=h,r=K(h,["gizmoId","urlThreadId","clientThreadId"]),e[0]=s,e[1]=i,e[2]=a,e[3]=r,e[4]=t):(i=e[1],a=e[2],r=e[3],t=e[4]);const g=ge(),p=se(),b=t!=null?t:i,u=As(p,b,a,g);let d;e[5]!==u||e[6]!==t?(d=o.jsx(hs,{urlThreadId:t,conversation:u}),e[5]=u,e[6]=t,e[7]=d):d=e[7];let m;return e[8]!==i||e[9]!==u||e[10]!==a||e[11]!==r||e[12]!==d||e[13]!==t?(m=o.jsx(ys,T(w({gizmoId:a,urlThreadId:t,clientThreadId:i,conversation:u},r),{children:d})),e[8]=i,e[9]=u,e[10]=a,e[11]=r,e[12]=d,e[13]=t,e[14]=m):m=e[14],m}function ys({conversation:s,children:e}){var W;const i=se(),a=Z(()=>J(i)),r=Z(()=>X(i)),t=re(),[g]=ne(),p=g.get("from_webview")==="ios",b=!!me(t.pathname),u=Xe(Je.workspaceId),{eligible:d,isLoading:m}=pe(),h=he(),{eligible:C,isLoading:I}=_e(),S=Ee(),{eligible:v,isLoading:F}=xe(),L=be(),{eligible:N,isLoading:M}=we(),A=Pe(),{eligible:y,isLoading:V}=ke(),R=je(),{eligible:D,isLoading:U}=Te(),z=Oe();n.useEffect(()=>{Ce(!0).then(l=>{l.force_login&&es(i,{fallbackScreenHint:"login"}),$.initializeAndGatherData(l),ss(i).checkGate("4178431533")&&$.precomputeEnforcementToken(l),Ie.initializeAndGatherData(l)})},[i]),n.useEffect(()=>{const l=g.get(is)==="true",_=g.get(os)==="true";_!==r&&X.set(i,_),a!==l&&(J.set(i,l),l&&as.logEvent("Enable Temporary Chat"))},[i,a,r,g]),n.useEffect(()=>{var l;(l=t.state)!=null&&l.focusObject&&O.setFocusedObject(t.state.focusObject)},[(W=t.state)==null?void 0:W.focusObject]),n.useEffect(()=>{!m&&d&&(E(i,x.hasSeenPioneer),h())},[i,d,m,h]),n.useEffect(()=>{!I&&C&&(E(i,x.hasSeenSeeker),S())},[i,C,I,S]),n.useEffect(()=>{!F&&v&&(E(i,x.hasSeenMaverick),L())},[i,v,F,L]),n.useEffect(()=>{!M&&N&&(E(i,x.hasSeenTrailBlazer),A())},[i,N,M,A]),n.useEffect(()=>{!V&&y&&(E(i,x.hasSeenStratos),R())},[i,y,V,R]),n.useEffect(()=>{!U&&D&&(E(i,x.hasSeenWayfinder),z())},[i,D,U,z]),Se(s.id);const P=le();return n.useEffect(()=>{ts(i)&&ve(P)},[P,i]),Fe(),n.useEffect(()=>rs(cs,{completionFinished:l=>{var _;if(l.serverThreadId!=null&&!a){const k=(_=ns(l.serverThreadId))==null?void 0:_.mode;(k==null?void 0:k.kind)===ls.GizmoInteraction&&ds.handleGizmoInteracted(P,k.gizmo_id)}}}),[a,P]),Le(),Ne(),o.jsxs(us.Provider,{value:s,children:[b&&o.jsx(Me,{clientThreadId:s.id}),o.jsx(Ms,{}),o.jsxs(fs,{children:[o.jsx(Ae,{clientThreadId:s.id,children:o.jsx(ye,{clientThreadId:s.id,children:o.jsx(gs,{conversation:s,children:o.jsxs(ee,{conversation:s,children:[o.jsx(ms,{clientThreadId:s.id,page:"chat",isIosDirectPurchaseFlow:p},u),o.jsx(Vs,{clientThreadId:s.id,isIosDirectPurchaseFlow:p}),o.jsx(Os,{}),o.jsx(Ve,{}),o.jsx(Re,{}),e,o.jsx(Es,{conversation:s}),o.jsx(js,{conversation:s}),o.jsx(De,{clientThreadId:s.id}),o.jsx(Ue,{}),o.jsx(ze,{clientThreadId:s.id}),o.jsx(We,{})]})})})}),o.jsx(Ls,{}),o.jsx(Ns,{}),!1]})]})}function Vs({clientThreadId:s,isIosDirectPurchaseFlow:e}){const{isWorkspaceUser:i,workspaceOnboardingVariant:a,isOpen:r,isLoading:t}=Be(),{isOpen:g,isLoading:p}=Ge(),{isOpen:b,isLoading:u,closeModal:d}=He();return e?null:!t&&r?i?a==="k12"?o.jsx(Is,{clientThreadId:s}):o.jsx(Ss,{clientThreadId:s}):o.jsx(Cs,{clientThreadId:s}):!p&&g?o.jsx(vs,{clientThreadId:s}):!u&&b?o.jsx(Ke,{children:o.jsx(Fs,{clientThreadId:s,onClose:d})}):null}typeof window<"u"&&(window._g=Ts.GOKU_SERVICE);export{Ks as C,bs as F};
//# sourceMappingURL=h1ae971q4xx5gc40.js.map

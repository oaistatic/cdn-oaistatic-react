import{h as l,d as M,r as p,j as e,M as h}from"./kfrdmkli83ureki3.js";import{bP as C,bV as v}from"./fyw02vlaiv2vq6cj.js";import{u as x,kS as y,d as S,eV as j,dg as R,aC as b,db as i}from"./kw08ajijqinojrwh.js";function E({title:t,handleLeaveAndClose:s,onClose:a}){"use no forget";const o=l();return e.jsx(b,{testId:"modal-leave-group-chat-confirmation",isOpen:!0,onClose:()=>a(),type:"danger",title:o.formatMessage({id:"nLm64O",defaultMessage:"Leave group chat?"}),primaryButton:e.jsx(i.Button,{title:o.formatMessage({id:"gvoh3t",defaultMessage:"Leave"}),color:"danger",onClick:()=>{s()},"data-testid":"leave-group-chat-confirm-button"}),secondaryButton:e.jsx(i.Button,{title:o.formatMessage({id:"3Vw7SS",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>a()}),children:e.jsx(h,{id:"PBAI6E",defaultMessage:"Youâ€™ll no longer see {title} or its history. Other members will still have access to the group chat.",values:{title:e.jsx("span",{className:"font-medium",children:t})}})})}const A=({room:t,onClose:s})=>{"use no forget";const a=x(),o=C(a),c=l(),u=y(a),d=M(),m=S(()=>t.name$()),g=v()===t.id,r=p.useRef(!1);return e.jsx(E,{title:m,handleLeaveAndClose:async()=>{var n;if(!r.current)try{r.current=!0,await o.leaveRoom$(t.id),g&&d("/"),s()}catch(f){u.danger((n=j(f))!=null?n:c.formatMessage(R.somethingWentWrong))}finally{r.current=!1}},onClose:s})};export{A as CalpicoLeaveChatConfirmationModalContainer};
//# sourceMappingURL=ldsa3r82d7xdb6ov.js.map

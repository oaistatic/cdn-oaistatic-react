const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fyw02vlaiv2vq6cj.js","assets/kfrdmkli83ureki3.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/conversation-small-lq38g8zw.css"])))=>i.map(i=>d[i]);
var B=Object.defineProperty,H=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var T=(s,t,a)=>t in s?B(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,c=(s,t)=>{for(var a in t||(t={}))z.call(t,a)&&T(s,a,t[a]);if(C)for(var a of C(t))G.call(t,a)&&T(s,a,t[a]);return s},f=(s,t)=>H(s,F(t));import{_ as U,h as V,R as L,j as e,M as l,e as O}from"./kfrdmkli83ureki3.js";import{b as Q}from"./lg0oi3tmjv8kv2p4.js";import{p as X,q as Y,t as J,w as K,x as Z}from"./fyw02vlaiv2vq6cj.js";import{az as $,ev as ee,dk as ae,cB as I,cy as se,aA as te}from"./kw08ajijqinojrwh.js";const ie=$(()=>U(()=>import("./fyw02vlaiv2vq6cj.js").then(s=>s.zF),__vite__mapDeps([0,1,2,3,4])),{loading:s=>te(s)}),oe=128;function pe({workspaceId:s}){var D,M;const t=V(),{data:a,isPending:P}=ee(s),{mutateAsync:y,isPending:n}=X(s),{mutateAsync:S,isPending:w}=Y(s),b=ae(),_=(D=b==null?void 0:b.email)==null?void 0:D.split("@")[1],p=!!(a!=null&&a.workspace_discoverable),q=(a==null?void 0:a.auto_accept_requests)===!0,d=(a==null?void 0:a.use_workspace_name_for_discovery)===!0,r=d?"":(M=a==null?void 0:a.public_display_name)!=null?M:"",N=Q(),[k,j]=L.useState(""),[x,u]=L.useState(!1);if((a==null?void 0:a.support_workspace_discovery)===!1)return null;const W=x?k:r,v=k.trim(),g=!x||v===r.trim(),h=P,A=h||n||w,E=h||w,R=!n&&!d&&(x?k.trim()!=="":r.trim()!=="");return e.jsx(J,{title:e.jsx(l,c({},i.discoveryTitle)),body:_?e.jsx(l,f(c({},i.discoveryBodyWithDomain),{values:{domain:_}})):e.jsx(l,c({},i.discoveryBodyGeneric)),toggle:e.jsx(I,{disabled:A,checked:p,onCheckedChange:async o=>{await y({value:o,public_display_name:r===""?null:r,use_workspace_name_for_discovery:d,action:"toggle"}),o||u(!1)},"aria-label":t.formatMessage(i.discoveryToggleLabel)}),disabled:h,children:p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-token-text-primary text-base font-semibold",children:e.jsx(l,c({},i.autoAcceptLabel))}),e.jsx(I,{disabled:E,checked:q,onCheckedChange:async o=>{await S({autoAcceptRequests:o})},"aria-label":t.formatMessage(i.autoAcceptToggleLabel)})]}),e.jsx("div",{className:"text-token-text-secondary mb-4 text-xs",children:e.jsx(l,c({},i.autoAcceptHelp))}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"public_display_name",className:"text-token-text-primary mb-1 block text-base font-semibold",children:e.jsx(l,c({},i.publicDisplayNameLabel))}),e.jsx("div",{className:"text-token-text-secondary mb-2 text-xs",children:e.jsx(l,f(c({},i.publicDisplayNameHelp),{values:{workspaceName:N}}))}),e.jsx("div",{className:"mb-2",children:e.jsx(K,{id:"use-workspace-name-for-discovery",checked:d,disabled:A,onChange:async o=>{const m=o.currentTarget.checked;await y({value:p,public_display_name:m?null:r||null,use_workspace_name_for_discovery:m,action:"name"}),m&&u(!1)},label:e.jsx("span",{className:"text-sm",children:e.jsx(l,c({},i.workspaceNameSameAsCheckbox))})})}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{name:"public_display_name",ariaLabel:!1,placeholder:N,maxLength:oe,value:W,onChange:o=>{j(o.target.value),u(!0)},insideContainerChildren:R?e.jsx("button",{type:"button",className:"text-token-text-tertiary hover:text-token-text-secondary absolute end-0 top-1/2 -translate-y-1/2 pe-1","aria-label":t.formatMessage(i.clearToWorkspaceNameAria),onClick:()=>{j(""),u(!0)},children:e.jsx(ie,{className:"icon-sm"})}):null}),e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{className:se("disabled:pointer-events-none disabled:cursor-auto disabled:hover:bg-transparent",n||g?"btn btn-secondary":"btn btn-primary"),disabled:n||g,"aria-busy":n||void 0,onClick:async()=>{if(n||g)return;const o=v===""?null:v;await y({value:p,public_display_name:o,use_workspace_name_for_discovery:o==null,action:"name"}),u(!1)},children:e.jsx(l,c({},i.saveDisplayNameCta))})})})]})]})]})})}const i=O({discoveryTitle:{id:"workspaceIdentity.discoveryTitle",defaultMessage:"Enable workspace discovery"},discoveryBodyGeneric:{id:"workspaceIdentity.discoveryBodyGeneric",defaultMessage:"Allow users with your email domain and your workspace verified domains to find and request to join this workspace."},discoveryBodyWithDomain:{id:"workspaceIdentity.discoveryBodyWithDomain",defaultMessage:"Allow users with the email domain {domain} and your workspace verified domains to find and request to join this workspace."},discoveryToggleLabel:{id:"workspaceIdentity.discoveryToggleLabel",defaultMessage:"Enable workspace discovery"},publicDisplayNameLabel:{id:"workspaceIdentity.publicDisplayNameLabel",defaultMessage:"Discoverable name"},autoAcceptLabel:{id:"workspaceIdentity.autoAcceptLabel",defaultMessage:"Automatically accept join requests"},autoAcceptToggleLabel:{id:"workspaceIdentity.autoAcceptToggleLabel",defaultMessage:"Toggle automatic acceptance of join requests"},autoAcceptHelp:{id:"workspaceIdentity.autoAcceptHelp",defaultMessage:"When on, users who request to join your workspace are added automatically. Each new member is billed as a seat."},saveDisplayNameCta:{id:"workspaceIdentity.saveDisplayNameCta",defaultMessage:"Save"},publicDisplayNameHelp:{id:"workspaceIdentity.publicDisplayNameHelp",defaultMessage:"This is what users will see when they request access to this workspace."},clearToWorkspaceNameAria:{id:"workspaceIdentity.clearToWorkspaceNameAria",defaultMessage:"Clear and use workspace name"},workspaceNameSameAsCheckbox:{id:"workspaceIdentity.workspaceNameSameAsCheckbox",defaultMessage:"Same as workspace name"}});export{pe as D,oe as P};
//# sourceMappingURL=cn1z5fx9l5xxo8vy.js.map

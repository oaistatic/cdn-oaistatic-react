const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hipkq6lnzcpwyzq7.js","assets/kfrdmkli83ureki3.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/fyw02vlaiv2vq6cj.js","assets/conversation-small-lq38g8zw.css","assets/b9tsn3f51rdwvzaj.js","assets/lsiyzz89iotypx8y.js","assets/b408wijcolxb1z67.js","assets/mbmcx8v24u1ao1ke.js","assets/ia54sddtrl9qa2wj.js","assets/j81448c2c5whiu6c.js","assets/ADAVisualizationComponent-kv1hz405.css"])))=>i.map(i=>d[i]);
var S=Object.freeze,k=Object.defineProperty;var V=(a,n)=>S(k(a,"raw",{value:S(n||a.slice())}));import{j as t,h as O,_ as W}from"./kfrdmkli83ureki3.js";import{aw as F,az as w,cA as v,aW as D,cv as L}from"./kw08ajijqinojrwh.js";import{u as N,g as U}from"./j81448c2c5whiu6c.js";import{c4 as I,cc as P,c1 as m,c2 as H,cd as J}from"./fyw02vlaiv2vq6cj.js";import{i as R,C as B,g as G,a as K,b as Q}from"./b9tsn3f51rdwvzaj.js";const E=w(()=>W(()=>import("./hipkq6lnzcpwyzq7.js").then(a=>a.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(a=>a.default));function as({messages:a,isRequestActive:n,clientThreadId:d}){var y,C,_,M,j;const[l,s]=a,o=I(l),e=(y=s==null?void 0:s.metadata)==null?void 0:y.aggregate_result,h=N(),u=P(),g=s?U(s):[],i=(M=(_=(C=s==null?void 0:s.metadata)==null?void 0:C.aggregate_result)==null?void 0:_.messages.filter(R))!=null?M:[],p=((j=g.filter(r=>r.type==="chart"))!=null?j:[]).length!==i.length,x=u&&!p;let c=m.Running;return(e==null?void 0:e.status)==="success"?c=m.Finished:s!=null&&s.content.content_type!==F.ExecutionOutput||e!=null&&e.status!=="running"?c=m.Error:(o||!n)&&(c=m.Stopped),t.jsxs(t.Fragment,{children:[t.jsx(X,{messages:a,status:c,isRequestActive:n}),x&&g.map((r,A)=>{const{type:T}=r;return T==="chart"&&!h?(r.fallback_to_image=!0,t.jsx(b,{children:t.jsx(E,{clientThreadId:d,visualization:r})},A)):t.jsx(b,{children:t.jsx(E,{clientThreadId:d,visualization:r})},A)}),!x&&s!=null&&t.jsx(B,{message:s})]})}var z;const b=L.div(z||(z=V(["mb-3 max-w-[80%]"])));function X({messages:a,status:n,isRequestActive:d}){var f;const[l,s]=a,o=O(),e=(f=s==null?void 0:s.metadata)==null?void 0:f.aggregate_result,h=I(l),{data:u,isLoading:g}=v(D.ShowExpandedCodeView);let i=o.formatMessage({id:"message.tools.data-analysis.running",defaultMessage:"Analyzing"});if((e==null?void 0:e.status)==="success"?i=o.formatMessage({id:"message.tools.data-analysis.finished",defaultMessage:"Analyzed"}):s!=null&&s.content.content_type!==F.ExecutionOutput||e!=null&&e.status!=="running"?i=o.formatMessage({id:"message.tools.data-analysis.error",defaultMessage:"Analysis errored"}):(h||!d)&&(i=o.formatMessage({id:"message.tools.data-analysis.stopped",defaultMessage:"Analysis paused"})),!g){const p=G(l)!=null;return t.jsx(H,{status:n,highlightedCommand:i,showWorkUserSetting:u!=null?u:!1,hideOnlyIfNotInteractedWith:!0,children:p?t.jsxs("div",{className:"bg-token-main-surface-primary mt-0.5 mb-3 overflow-hidden rounded-b-xl",children:[t.jsx(K,{message:l,FormattedText:J,codeRendererClassName:"rounded-t-md rounded-b-none"}),s!=null&&t.jsx(Q,{message:s})]}):null})}return null}export{as as DataAnalysisMessage};
//# sourceMappingURL=g3nbl72lwy2oklgw.js.map

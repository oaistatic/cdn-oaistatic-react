import{c as k,a as d,d as y,r as C,j as P,y as E,a9 as v}from"./kfrdmkli83ureki3.js";import{lV as _,_ as m,D as x}from"./kw08ajijqinojrwh.js";import{C as D}from"./di3v2n4zwp3e4rpb.js";import{bZ as T,g8 as N}from"./fyw02vlaiv2vq6cj.js";import{D as f,i as w}from"./n0hn8b2jire3ftx8.js";import"./oze22otsepdfaut5.js";const R={[f.Go]:_.GO,[f.Plus]:_.PLUS,[f.Pro]:_.PRO};function b(a){"use forget";const e=k.c(10),{planType:t}=a,{prepareCheckoutSession:s,navigateToCheckout:p}=T(),c=d(),h=y();let o;e[0]!==c.search||e[1]!==h||e[2]!==p||e[3]!==t||e[4]!==s?(o=async()=>{try{m.logEventWithStatsig("Direct Purchase Social Sku: Checkout Session Create Start","direct_purchase_social_sku_checkout_session_create_start",{plan_type:t});const r=await s({plan_name:R[t]});m.logEventWithStatsig("Direct Purchase Social Sku: Checkout Session Create Success","direct_purchase_social_sku_checkout_session_create_success",{plan_type:t}),await p(r,{searchParams:c.search,state:{directPurchasePlanType:t}})}catch(r){const g=r,S=g instanceof Error?g:new Error("Failed to start checkout");m.logEventWithStatsig("Direct Purchase Social Sku: Checkout Session Create Failure","direct_purchase_social_sku_checkout_session_create_failure",{plan_type:t}),x.addError(S,{feature:"direct_purchase_checkout_redirect",plan_type:t}),h({pathname:"/",search:c.search,hash:N},{replace:!0})}},e[0]=c.search,e[1]=h,e[2]=p,e[3]=t,e[4]=s,e[5]=o):o=e[5];const n=o;let i,u;e[6]!==n?(i=()=>{let r=!1;return Promise.resolve().then(()=>{r||n()}),()=>{r=!0}},u=[n],e[6]=n,e[7]=i,e[8]=u):(i=e[7],u=e[8]),C.useEffect(i,u);let l;return e[9]===Symbol.for("react.memo_cache_sentinel")?(l=P.jsx("div",{className:"bg-token-bg-primary flex h-full w-full items-center justify-center",children:P.jsx(D,{})}),e[9]=l):l=e[9],l}function j(){"use forget";const a=k.c(2),t=v().planType;if(!w(t))throw new Response("Not Found",{status:404});let s;return a[0]!==t?(s=P.jsx(b,{planType:t}),a[0]=t,a[1]=s):s=a[1],s}const H=E(j);export{H as default};
//# sourceMappingURL=okioc7trn91pv1yd.js.map

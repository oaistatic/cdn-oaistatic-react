const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/km44ch1r0uf907fx.js","assets/kfrdmkli83ureki3.js","assets/fx3vo65j1l2o1ay3.js"])))=>i.map(i=>d[i]);
import{c as x,r as h,_ as I,j as g,h as j}from"./kfrdmkli83ureki3.js";import{jm as S,az as E,aA as k}from"./kw08ajijqinojrwh.js";import{dU as w,e0 as T}from"./fyw02vlaiv2vq6cj.js";import{trackWidgetFeedbackShown as v,trackWidgetFeedback as D}from"./cxxo9kqd4cvmuss7.js";const F=E(()=>I(()=>import("./km44ch1r0uf907fx.js"),__vite__mapDeps([0,1])),{loading:o=>k(o)}),M=E(()=>I(()=>import("./fx3vo65j1l2o1ay3.js"),__vite__mapDeps([2,1])),{loading:o=>k(o)}),P=o=>!(o.isError||!o.isComplete||o.distributionChannel===S.ONLY_ME),N=o=>{"use forget";const e=x.c(16),{chatSDK:a,conversationId:s}=o,[c,u]=h.useState(!1),{widgetId:r,widgetType:d,metadata:i}=a;let n;e[0]!==s||e[1]!==i.attribution_id||e[2]!==i.suggestion_message_id||e[3]!==r||e[4]!==d?(n=i.attribution_id?{attribution_id:i.attribution_id,name:d,conversation_id:s!=null?s:"",message_id:r,suggestion_message_id:i.suggestion_message_id}:null,e[0]=s,e[1]=i.attribution_id,e[2]=i.suggestion_message_id,e[3]=r,e[4]=d,e[5]=n):n=e[5];const t=n;let l;e[6]!==t||e[7]!==a||e[8]!==c?(l=P(a)&&!c&&t,e[6]=t,e[7]=a,e[8]=c,e[9]=l):l=e[9];const m=l;let _,f;if(e[10]!==t||e[11]!==m?(_=()=>{m&&v(t)},f=[m,t],e[10]=t,e[11]=m,e[12]=_,e[13]=f):(_=e[12],f=e[13]),h.useEffect(_,f),!m)return null;let b;if(e[14]!==t){const y=p=>{D(t,p),t&&T({rating:p,conversationId:t.conversation_id,messageId:t.message_id,suggestionMessageId:t.suggestion_message_id,attributionId:t.attribution_id,widgetType:t.name}),u(!0)};b=g.jsx(A,{onSubmit:y}),e[14]=t,e[15]=b}else b=e[15];return b},A=o=>{"use forget";const e=x.c(19),{onSubmit:a}=o,s=j();let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=g.jsx(F,{}),e[0]=c):c=e[0];let u;e[1]!==a?(u=()=>a("thumbsUp"),e[1]=a,e[2]=u):u=e[2];let r;e[3]!==s?(r=s.formatMessage({id:"wzblaA",defaultMessage:"Thumbs up"}),e[3]=s,e[4]=r):r=e[4];let d;e[5]!==u||e[6]!==r?(d=g.jsx(w,{className:"h-7! w-7!",icon:c,onClick:u,label:r}),e[5]=u,e[6]=r,e[7]=d):d=e[7];let i;e[8]===Symbol.for("react.memo_cache_sentinel")?(i=g.jsx(M,{}),e[8]=i):i=e[8];let n;e[9]!==a?(n=()=>a("thumbsDown"),e[9]=a,e[10]=n):n=e[10];let t;e[11]!==s?(t=s.formatMessage({id:"QPOY20",defaultMessage:"Thumbs down"}),e[11]=s,e[12]=t):t=e[12];let l;e[13]!==n||e[14]!==t?(l=g.jsx(w,{className:"h-7! w-7!",icon:i,onClick:n,label:t}),e[13]=n,e[14]=t,e[15]=l):l=e[15];let m;return e[16]!==d||e[17]!==l?(m=g.jsxs("div",{className:"-my-2 ms-auto flex items-center gap-3",children:[d,l]}),e[16]=d,e[17]=l,e[18]=m):m=e[18],m};export{N as KanziWidgetFeedback,P as shouldShowFeedback};
//# sourceMappingURL=jai7jq7nlrd6uzzm.js.map

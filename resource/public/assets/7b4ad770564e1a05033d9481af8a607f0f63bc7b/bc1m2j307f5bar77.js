const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/l3z5gz1257zwquc2.js","assets/kfrdmkli83ureki3.js","assets/k0cn8gs14rhe3hip.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/czndp739wd893pq6.js","assets/fyw02vlaiv2vq6cj.js","assets/conversation-small-lq38g8zw.css","assets/kxbocgn3s27tp480.js","assets/he1xnididjbc7s63.js","assets/i85urdvpkzpdgj3s.js","assets/dd8hh2tmra1psngf.js","assets/eix6aku103dkp2pu.js","assets/kl7c6054usfnqmd4.js","assets/k97n0y6ba9c9h39c.js","assets/fbdmxe5ygbrc3wdb.js","assets/evkgh503atu6x10z.js","assets/ej5er9569li42hai.js","assets/di3v2n4zwp3e4rpb.js","assets/oze22otsepdfaut5.js","assets/ds50f4rqnruk5v5l.js","assets/lbp124td1jxnga57.js","assets/o5h7u1aikohecbkt.js","assets/w4rmhhxvug61xnae.js","assets/batn8nst470a68ib.js","assets/h9s5uo8l29l5vali.js","assets/l3foo5601l7fb51e.js","assets/ite26mmpefwubzx4.js","assets/m9gq49u2vlb0cjyx.js","assets/lg0oi3tmjv8kv2p4.js","assets/b3ungmqo5x8kj4fh.js","assets/iej0cupg2dqkmejt.js","assets/m0t07ixd92668z9e.js","assets/chg5zn7ivsidhse5.js","assets/kime2kclye4c7vau.js","assets/fwbhrttgqnv5nm9m.js","assets/je694u6n7mxuffnb.js","assets/n2s0r84m09p3py2c.js","assets/n922q9or6yevfxth.js","assets/bw2hxknbjlgs6x5v.js","assets/m8odo3cter5gjanw.js","assets/g8cpkydknwwj989v.js","assets/c7lf6x6u521mpx19.js","assets/oi4hajb4q474so2h.js","assets/c80q12olrn2ogvv0.js","assets/0cct8y3c72h08jxe.js","assets/jzy8ngygygw4toi1.js","assets/k9adsjcuzq0lnday.js","assets/ntv4kfm86o2gt0x7.js","assets/h6futagqzt0rqhdy.js","assets/hoo89wr86agqpm13.js","assets/m3joncw451cqbul2.js","assets/gy1lpvuoewmzh42c.js","assets/ipjj058rvhjq2uu2.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js","assets/i7t1qh3u8s8bvtb8.js","assets/dm8z7bzkrzic0zmg.js","assets/omiotqovl1sezy3l.js","assets/jytll2j00h0ccmpk.js","assets/f9iz92mggx1znv92.js","assets/lfpgz10qy2vdux3v.js","assets/lrftmyomhnslqldf.js","assets/i5i93v71imxwxy0p.js","assets/f5eqpw3ad13u4igj.js","assets/i1ra53nm6ph961wx.js","assets/fvx0c589t5tar1s6.js","assets/f57a0ks1c1m6smzf.js","assets/bx1w0y3fzlo97jzb.js","assets/laacu28tqafsw8cp.js","assets/ld3p92an6gaqvnu0.js","assets/hmqienma2a871fjd.js"])))=>i.map(i=>d[i]);
import{h as C,r as m,_ as g,j as e,M as p}from"./kfrdmkli83ureki3.js";import{u as P,az as h,aC as w,db as f,br as D,aA as E}from"./kw08ajijqinojrwh.js";import{dU as B}from"./fyw02vlaiv2vq6cj.js";import{u as I}from"./lrftmyomhnslqldf.js";const R=h(()=>g(()=>import("./l3z5gz1257zwquc2.js"),__vite__mapDeps([0,1])),{loading:n=>E(n)});function O({onClose:n,passkeys:u,onCreatePasskey:k}){const l=C(),_=P(),{removeMfa:j}=I({}),i=m.useRef(new Set),[y,x]=m.useState(()=>[...u]);m.useEffect(()=>{x([...u])},[u]);const b=m.useMemo(()=>[...y].sort((s,d)=>{var t,o,c,M;const a=(o=(t=s.metadata)==null?void 0:t.create_time_seconds)!=null?o:0;return((M=(c=d.metadata)==null?void 0:c.create_time_seconds)!=null?M:0)-a}),[y]),N=h(()=>g(()=>import("./k0cn8gs14rhe3hip.js"),__vite__mapDeps([2,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72])).then(s=>s.DeletePasskeyModal)),v=async s=>{var a,r;i.current.has(s.id)||(i.current.add(s.id),await j("passkey",s.id))||D(_,N,{factorId:s.id,passkeyName:(r=(a=s.metadata)==null?void 0:a.authenticator_name)!=null?r:null,onDeleted:t=>{x(o=>o.filter(c=>c.id!==t)),i.current.delete(t)},onClose:()=>{i.current.delete(s.id)}})};return e.jsxs(w,{testId:"modal-passkeys",isOpen:!0,onClose:n,type:"success",showCloseButton:!0,hasSeparator:!0,className:"max-w-[524px]!",headerClassName:"!px-6 !py-0 !h-[76px] !items-center",contentClassName:"!px-6 !pt-6 !pb-[24px]",modalActionsClassName:"!mt-[24px]",title:e.jsx("span",{className:"heading-sm [font-weight:500]",children:e.jsx(p,{id:"settingsModal.passkeysModal.title",defaultMessage:"Passkeys"})}),primaryButton:e.jsx(f.Button,{title:l.formatMessage({id:"settingsModal.passkeysModal.doneCta",defaultMessage:"Done"}),color:"primary",onClick:n}),secondaryButton:e.jsx(f.Button,{title:l.formatMessage({id:"settingsModal.passkeysModal.createPasskeyCta",defaultMessage:"Create passkey"}),color:"secondary",onClick:k}),children:[e.jsx("p",{className:"text-sm",children:e.jsx(p,{id:"settingsModal.passkeysModal.explainer",defaultMessage:"Passkeys let you log in with your fingerprint, face, or screen lock or can be used in addition to your password. Make sure you keep your screen lock private."})}),e.jsx("div",{className:"border-token-border mt-6 border-t"}),e.jsx("ul",{className:"divide-token-border border-token-border divide-y border-b",children:b.map(s=>{var a,r,t,o;const d=((a=s.metadata)==null?void 0:a.update_time_seconds)!=null?new Date(((r=s.metadata)==null?void 0:r.update_time_seconds)*1e3):void 0;return e.jsx("li",{className:"py-2",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"truncate py-0.5 text-sm",children:(o=(t=s.metadata)==null?void 0:t.authenticator_name)!=null?o:l.formatMessage({id:"settingsModal.passkeysModal.fallbackName",defaultMessage:"Passkey"})}),d&&e.jsx("p",{className:"text-token-text-secondary truncate py-0.5 text-sm",children:e.jsx(p,{id:"settingsModal.passkeysModal.lastUsed",defaultMessage:"Last used {ts, date, short} at {ts, time, short}",values:{ts:d.getTime()}})})]}),e.jsx("div",{className:"flex shrink-0 items-center gap-2",children:e.jsx(B,{className:"icon",label:l.formatMessage({id:"delete-passkey-button",defaultMessage:"Delete passkey"}),onClick:()=>v(s),icon:e.jsx(R,{style:{color:"black"},className:"icon"}),"data-testid":"delete-passkey-".concat(s.id)})})]})},s.id)})})]})}export{O as PasskeysModal};
//# sourceMappingURL=bc1m2j307f5bar77.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dch45l9yrtbjo93p.js","assets/kfrdmkli83ureki3.js","assets/nz44s7ebe5b6pll5.js"])))=>i.map(i=>d[i]);
var _=Object.freeze,v=Object.defineProperty,Y=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var S=(a,t,s)=>t in a?v(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,o=(a,t)=>{for(var s in t||(t={}))U.call(t,s)&&S(a,s,t[s]);if(I)for(var s of I(t))z.call(t,s)&&S(a,s,t[s]);return a},f=(a,t)=>Y(a,K(t));var P=(a,t)=>_(v(a,"raw",{value:_(t||a.slice())}));import{h as q,e as Q,r as c,j as e,M as l,_ as O}from"./kfrdmkli83ureki3.js";import{p as J,u as X,I as Z,dk as $,_ as ee,R as te,dd as E,pg as ae,aC as ne,aB as C,az as D,cv as se,aA as N}from"./kw08ajijqinojrwh.js";import{dS as b,x as w}from"./fyw02vlaiv2vq6cj.js";const oe=D(()=>O(()=>import("./dch45l9yrtbjo93p.js"),__vite__mapDeps([0,1])),{loading:a=>N(a)}),le=D(()=>O(()=>import("./nz44s7ebe5b6pll5.js"),__vite__mapDeps([2,1])),{loading:a=>N(a)}),n=Q({deleteAccountSessionTooOld:{id:"settingsModal.deleteAccountSessionTooOld",defaultMessage:"Your login session is too old. Please log in again before deleting your account."},deleteAccountFailed:{id:"settingsModal.deleteAccountFailed",defaultMessage:"Failed to delete account. Please try again later."},deleteAccountTitle:{id:"settingsModal.deleteAccountTitle",defaultMessage:"Delete account - are you sure?"},deleteAccountWarning:{id:"settingsModal.deleteAccountWarning",defaultMessage:"Deleting your account is permanent and cannot be undone."},reuseEmailPhoneWarning:{id:"settingsModal.reuseEmailPhoneWarning-2",defaultMessage:"You cannot create a new account using the same email address."},dataRemovalWarning:{id:"settingsModal.dataRemovalWarning-2",defaultMessage:"Your data will be deleted within 30 days, except we may retain a limited set of data for longer where required or permitted by law."},apiAccessDeletionWarning:{id:"settingsModal.apiAccessDeletionWarning-2",defaultMessage:"Deletion will prevent you from accessing OpenAI services, including ChatGPT, API, and DALLÂ·E."},deleteHelpCenter:{id:"settingsModal.deleteHelpCenter",defaultMessage:"Read our <article>help center article</article> for more information."},iapSubscriptionWarning:{id:"settingsModal.iapSubscriptionWarning",defaultMessage:"You will need to cancel your in-app purchase subscription in the Apple App Store. We cannot cancel your subscription for you."},playStoreSubscriptionWarning:{id:"settingsModal.playStoreSubscriptionWarning",defaultMessage:"You will need to cancel your in-app purchase subscription in the Google Play Store. We cannot cancel your subscription for you."},typeEmailLabel:{id:"settingsModal.typeEmailLabel",defaultMessage:"Please type your account email."},typePhoneNumberLabel:{id:"settingsModal.typePhoneNumberLabel",defaultMessage:"Please type your account phone number."},typeDeleteInputLabel:{id:"settingsModal.typeDeleteInputLabel",defaultMessage:'To proceed, type "{keyword}" in the input field below.'},deleteAccountKeyword:{id:"settingsModal.deleteAccountKeyword",defaultMessage:"DELETE"},lockedButtonLabel:{id:"settingsModal.lockedButtonLabel",defaultMessage:"Locked"},deleteAccountButtonLabel:{id:"settingsModal.deleteAccountButtonLabel",defaultMessage:"Permanently delete my account"},recentLoginMessage:{id:"settingsModal.recentLoginMessage",defaultMessage:"You may only delete your account if you have logged in within the last 10 minutes. Please log in again, then return here to continue."},refreshLoginButtonLabel:{id:"settingsModal.refreshLoginButtonLabel",defaultMessage:"Refresh login"}});function ue({onClose:a}){const t=q(),s=J(),T=X(),{session:u}=Z(T),r=$(),m=r==null?void 0:r.email,y=r==null?void 0:r.phone_number,g=m||y||void 0,k=m?n.typeEmailLabel:n.typePhoneNumberLabel,[M,B]=c.useState(""),[x,F]=c.useState(""),L=t.formatMessage(n.deleteAccountKeyword),h=c.useCallback(()=>{var A;const j=(A=u==null?void 0:u.user)==null?void 0:A.iat;return j===void 0||Date.now()/1e3-j<600},[u]),H=c.useCallback(()=>{try{h()?(ee.logEventWithStatsig("Account Deactivated","chatgpt_account_deactivated"),te.safePost("/accounts/deactivate").then(()=>{E()})):s.warning(t.formatMessage(n.deleteAccountSessionTooOld),{hasCloseButton:!0})}catch(i){s.warning(t.formatMessage(n.deleteAccountFailed),{hasCloseButton:!0})}},[t,s,h]),G=c.useCallback(()=>{E()},[]),p=x.trim()===L&&(g===void 0||M.toLowerCase()===g.toLowerCase()),[V]=c.useState(()=>h()),d=ae();return e.jsx(ne,{testId:"modal-confirm-delete-account",isOpen:!0,onClose:a,type:"success",title:t.formatMessage(n.deleteAccountTitle),showCloseButton:!0,children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("ul",{className:"mt-4 mb-6 flex list-disc flex-col gap-1 ps-3",children:[e.jsx("li",{children:e.jsx(l,o({},n.deleteAccountWarning))}),e.jsx("li",{children:e.jsx(l,o({},n.apiAccessDeletionWarning))}),e.jsx("li",{children:e.jsx(l,o({},n.reuseEmailPhoneWarning))}),e.jsx("li",{children:e.jsx(l,o({},n.dataRemovalWarning))}),d&&[b.CHATGPT_IOS,b.SORA_IOS].includes(d.purchase_origin_platform)&&e.jsx("li",{children:e.jsx(l,o({},n.iapSubscriptionWarning))}),(d==null?void 0:d.purchase_origin_platform)===b.MOBILE_ANDROID&&e.jsx("li",{children:e.jsx(l,o({},n.playStoreSubscriptionWarning))}),e.jsx("li",{children:e.jsx(l,f(o({},n.deleteHelpCenter),{values:{article:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/6378407-how-to-delete-your-account",target:"_blank",className:"underline",rel:"noopener noreferrer",children:i})}}))})]}),V?e.jsxs(e.Fragment,{children:[g!=="undefined"?e.jsxs("div",{className:"mb-4",children:[e.jsx(R,{htmlFor:"email",children:e.jsx(l,o({},k))}),e.jsx(w,{ariaLabel:!1,value:M,placeholder:g,name:"email",onChange:i=>{B(i.target.value)}})]}):null,e.jsxs("div",{className:"mb-4",children:[e.jsx(R,{htmlFor:"delete",children:e.jsx(l,f(o({},n.typeDeleteInputLabel),{values:{keyword:L}}))}),e.jsx(w,{ariaLabel:!1,value:x,onChange:i=>{F(i.target.value)},name:"delete",className:"mb-4"})]}),e.jsx(C,{color:p?"danger":void 0,onClick:H,disabled:!p,fullWidth:!0,icon:p?oe:le,children:p?e.jsx(l,o({},n.deleteAccountButtonLabel)):e.jsx(l,o({},n.lockedButtonLabel))})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-token-text-tertiary pb-4 text-xs",children:e.jsx(l,o({},n.recentLoginMessage))}),e.jsx(C,{color:"primary",onClick:G,fullWidth:!0,children:e.jsx(l,o({},n.refreshLoginButtonLabel))})]})]})})}var W;const R=se.label(W||(W=P(["block text-sm font-semibold mb-1"])));export{ue as ConfirmDeleteAccountModal};
//# sourceMappingURL=cgydvuzo0i70jh2j.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/isqpc56i7wx8h49k.js","assets/kfrdmkli83ureki3.js","assets/eyzwapw2q6p6odhp.js","assets/kw03hsqv96j7mp48.js","assets/njem4hkd3vzqk90b.js","assets/fyw02vlaiv2vq6cj.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/conversation-small-lq38g8zw.css","assets/62a1fj8wcavqvn87.js"])))=>i.map(i=>d[i]);
var Ue=Object.defineProperty,Xe=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var Oe=(s,e,n)=>e in s?Ue(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,M=(s,e)=>{for(var n in e||(e={}))De.call(e,n)&&Oe(s,n,e[n]);if(we)for(var n of we(e))Ae.call(e,n)&&Oe(s,n,e[n]);return s},X=(s,e)=>Xe(s,Ye(e));var $e=(s,e)=>{var n={};for(var o in s)De.call(s,o)&&e.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&we)for(var o of we(s))e.indexOf(o)<0&&Ae.call(s,o)&&(n[o]=s[o]);return n};import{c as he,h as Ce,j as t,r as H,M as w,_ as pe,L as Fe,e as Ze,d as Qe}from"./kfrdmkli83ureki3.js";import{aB as je,d as Z,az as xe,f7 as Ge,aF as T,db as Te,aA as ge,eG as W,G as F,ed as ze,u as Ve,eS as et,cy as He,aH as Le,_ as Ke,dQ as tt,kS as st,al as ot,oK as nt,J as lt,gx as at,Q as ke,ef as rt,aC as it,br as ct,fL as dt,rY as mt,eV as ut,rZ as Ie}from"./kw08ajijqinojrwh.js";import{am as ft,mX as pt,mC as xt,bw as jt,dR as ht,mY as gt}from"./fyw02vlaiv2vq6cj.js";import{P as Je,a as We}from"./juu7tdv10fpf0v4g.js";import"./oze22otsepdfaut5.js";function bt(s){"use forget";const e=he.c(15),n=Ce(),{preset:o,onSelectPreset:a}=s;let i;e[0]!==a||e[1]!==o?(i=()=>a(o),e[0]=a,e[1]=o,e[2]=i):i=e[2];let r;e[3]!==o.color||e[4]!==o.emoji?(r=t.jsx(ft,{color:o.color,emoji:o.emoji}),e[3]=o.color,e[4]=o.emoji,e[5]=r):r=e[5];let l;e[6]!==n||e[7]!==o.label?(l=n.formatMessage(o.label),e[6]=n,e[7]=o.label,e[8]=l):l=e[8];let c;e[9]!==r||e[10]!==l?(c=t.jsxs("div",{className:"flex gap-1.5",children:[r,l]}),e[9]=r,e[10]=l,e[11]=c):c=e[11];let m;return e[12]!==i||e[13]!==c?(m=t.jsx(je,{color:"secondary",className:"border-token-border-default hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex items-center justify-center py-2 ps-2.5 pe-3 font-normal select-none",onFocus:yt,onClick:i,type:"button",children:c}),e[12]=i,e[13]=c,e[14]=m):m=e[14],m}function yt(s){s.target.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}const St=xe(()=>pe(()=>import("./isqpc56i7wx8h49k.js"),__vite__mapDeps([0,1])),{loading:s=>ge(s)}),vt=xe(()=>pe(()=>import("./eyzwapw2q6p6odhp.js"),__vite__mapDeps([2,1])),{loading:s=>ge(s)});function Mt(s){"use forget";const e=he.c(65),{isNewProject:n,isPending:o,onSubmit:a,submitTitle:i,planType:r}=s,l=Ce();let c;e[0]!==s.emoji$||e[1]!==s.theme$||e[2]!==s.title$||e[3]!==s.validationErrors$?(c=()=>{var v,V,q,U;return{title$:(v=s.title$)!=null?v:T(""),validationErrors$:(V=s.validationErrors$)!=null?V:T([]),theme$:(q=s.theme$)!=null?q:T(null),emoji$:(U=s.emoji$)!=null?U:T(null),stylePickerOpen$:T(!1),autofilledFromPreset$:T(!1)}},e[0]=s.emoji$,e[1]=s.theme$,e[2]=s.title$,e[3]=s.validationErrors$,e[4]=c):c=e[4];const[m]=H.useState(c),{title$:u,validationErrors$:j,theme$:x,emoji$:h,autofilledFromPreset$:k}=m,y=Z(u),g=Z(j),p=H.useRef(null),O=Z(k);let E;e[5]===Symbol.for("react.memo_cache_sentinel")?(E=[],e[5]=E):E=e[5],H.useEffect(_t,E);let S;e[6]!==k||e[7]!==h||e[8]!==x||e[9]!==u?(S=v=>{const{color:V,emoji:q,title:U}=v;x.set(V),h.set(q),u.set(U),k.set(!0)},e[6]=k,e[7]=h,e[8]=x,e[9]=u,e[10]=S):S=e[10];const P=S;let C;e[11]!==l?(C=l.formatMessage({id:"A4Fd7M",defaultMessage:"Copenhagen Trip"}),e[11]=l,e[12]=C):C=e[12];let b;e[13]!==u?(b=v=>u.set(v.target.value),e[13]=u,e[14]=b):b=e[14];let _;e[15]!==C||e[16]!==b||e[17]!==y?(_=t.jsx("input",{autoFocus:!0,ref:p,className:"border-token-interactive-border-tertiary-default focus:border-token-interactive-border-focus bg-token-bg-primary col-span-full row-1 w-full resize-none overflow-y-auto rounded-lg border px-2 py-2 ps-9 pe-9 text-sm focus:ring-0",type:"text",name:"projectName",autoComplete:"off",placeholder:C,value:y,onChange:b}),e[15]=C,e[16]=b,e[17]=y,e[18]=_):_=e[18];const I=n?"var(--text-tertiary)":void 0;let D;e[19]!==h||e[20]!==I||e[21]!==x?(D=t.jsx(Je,{emoji$:h,theme$:x,defaultColor:I}),e[19]=h,e[20]=I,e[21]=x,e[22]=D):D=e[22];let J;e[23]!==h||e[24]!==D||e[25]!==x?(J=t.jsx(We,{theme$:x,emoji$:h,children:D}),e[23]=h,e[24]=D,e[25]=x,e[26]=J):J=e[26];let R;e[27]!==O||e[28]!==k||e[29]!==h||e[30]!==l||e[31]!==n||e[32]!==x||e[33]!==y||e[34]!==u?(R=n&&O&&y.trim().length>0&&t.jsx("button",{type:"button","aria-label":l.formatMessage({id:"z/7Lq7",defaultMessage:"Clear project name"}),className:"col-span-full row-1 me-2 self-center justify-self-end rounded-full p-1 hover:opacity-80 focus:outline-hidden",onClick:()=>{var v;u.set(""),h.set(null),x.set(null),k.set(!1),(v=p.current)==null||v.focus()},children:t.jsx(vt,{className:"icon text-token-text-tertiary"})}),e[27]=O,e[28]=k,e[29]=h,e[30]=l,e[31]=n,e[32]=x,e[33]=y,e[34]=u,e[35]=R):R=e[35];let K;e[36]!==R||e[37]!==_||e[38]!==J?(K=t.jsxs("div",{className:"content-sheet-root:contents mb-2 grid grid-cols-[auto_minmax(0,1fr)]",children:[_,J,R]}),e[36]=R,e[37]=_,e[38]=J,e[39]=K):K=e[39];let A;e[40]!==l||e[41]!==n||e[42]!==P||e[43]!==r?(A=n&&t.jsx("ul",{className:"focus-outline-margin-default -ms-4 flex w-[calc(100%+32px)] gap-2 overflow-x-auto ps-4 pe-4 [scrollbar-width:none]","aria-label":l.formatMessage({id:"mStfWq",defaultMessage:"Project presets"}),children:pt(r).map(v=>t.jsx("li",{children:t.jsx(bt,{preset:v,onSelectPreset:V=>{P(X(M({},V),{title:l.formatMessage(V.label)}))}})},v.emoji))}),e[40]=l,e[41]=n,e[42]=P,e[43]=r,e[44]=A):A=e[44];let d;e[45]!==n?(d=n&&t.jsxs("aside",{className:"bg-token-bg-tertiary mt-4 flex items-center rounded-xl p-3",children:[t.jsx("div",{className:"me-2 h-6 w-6",children:t.jsx("div",{className:"text-token-text-secondary relative flex h-full items-center justify-center",children:t.jsx(St,{className:"icon"})})}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(w,M({},Ge.projectHelperBoxDescription))})]}),e[45]=n,e[46]=d):d=e[46];let f;e[47]!==g?(f=g.map(Pt),e[47]=g,e[48]=f):f=e[48];let N;e[49]!==K||e[50]!==A||e[51]!==d||e[52]!==f?(N=t.jsxs("div",{className:"flex-1 px-4 pt-1",children:[K,A,d,f]}),e[49]=K,e[50]=A,e[51]=d,e[52]=f,e[53]=N):N=e[53];let L;e[54]!==y||e[55]!==g.length?(L=!y.trim()||g.length>0,e[54]=y,e[55]=g.length,e[56]=L):L=e[56];let B;e[57]!==o||e[58]!==i||e[59]!==L?(B=t.jsx("div",{className:"flex items-center justify-end px-3 pb-3",children:t.jsx(Te.Actions,{primaryButton:t.jsx(Te.Button,{title:i,type:"submit",form:"project-modal-form",color:"primary",loading:o,disabled:L})})}),e[57]=o,e[58]=i,e[59]=L,e[60]=B):B=e[60];let G;return e[61]!==a||e[62]!==N||e[63]!==B?(G=t.jsxs("form",{id:"project-modal-form",onSubmit:a,children:[N,B]}),e[61]=a,e[62]=N,e[63]=B,e[64]=G):G=e[64],G}function Pt(s,e){return t.jsx("div",{className:"mb-4 text-sm text-red-500",children:s},e)}function _t(){xt()}function Nt(o){var a=o,{children:s,onCloseAutoFocus:e}=a,n=$e(a,["children","onCloseAutoFocus"]);const i=H.useRef(!1),r=H.useRef(!1),l=H.useRef(!1);return t.jsx(W.Content,X(M({},n),{onCloseAutoFocus:c=>{const m=i.current,u=r.current,j=l.current;if(i.current=!1,r.current=!1,l.current=!1,j)c.preventDefault();else{if(m||u)return;e&&e(c)}},onEscapeKeyDown:()=>{i.current=!0},onPointerDownOutside:()=>{r.current=!0},onFocusOutside:()=>{l.current=!0},children:s}))}const wt=xe(()=>pe(()=>import("./kw03hsqv96j7mp48.js"),__vite__mapDeps([3,1])),{loading:s=>ge(s)}),$t=et(()=>{const s=T(!1),e=T(!1);return{isSheetVisible$:Le(()=>s()||e()),isSheetOpen$:s,keepSheetOpen$:e}}),qe=s=>{"use forget";const e=he.c(25),{onCloseAutoFocus:n,children:o,isNewProject:a,mode:i,displayedMemoryScope$:r,memoryScope$:l,isSunshineEnabled:c}=s,m=i===void 0?"dropdown":i;let u;e[0]!==r?(u=r===void 0?T(F.GLOBAL):r,e[0]=r,e[1]=u):u=e[1];const j=u;let x;e[2]!==l?(x=l===void 0?T(F.GLOBAL):l,e[2]=l,e[3]=x):x=e[3];const h=x,k=c===void 0?!0:c,y=!ze();let g;e[4]!==j?(g=()=>j(),e[4]=j,e[5]=g):g=e[5];const p=Z(g),O=Ve();let E;e[6]!==O?(E=$t(O),e[6]=O,e[7]=E):E=e[7];const S=E,P=Z(S.isSheetOpen$),C=m==="auto"?y?"sheet":"dropdown":m;let b;e[8]!==m||e[9]!==S.isSheetOpen$?(b=D=>{S.isSheetOpen$.set(D),D&&Ke.logEventWithStatsig("Project Customization: Open","chatgpt_web_project_customization_menu_open",{mode:m})},e[8]=m,e[9]=S.isSheetOpen$,e[10]=b):b=e[10];let _;e[11]!==p||e[12]!==a||e[13]!==k||e[14]!==h||e[15]!==n?(_=t.jsx(W.Portal,{children:t.jsx(kt,{displayedMemoryScope:p,memoryScope$:h,isNewProject:a,onCloseAutoFocus:n,isSunshineEnabled:k})}),e[11]=p,e[12]=a,e[13]=k,e[14]=h,e[15]=n,e[16]=_):_=e[16];let I;return e[17]!==o||e[18]!==y||e[19]!==P||e[20]!==S||e[21]!==b||e[22]!==_||e[23]!==C?(I=t.jsxs(W.Root,{mode:C,open:P,store:S,modal:y,onOpenChange:b,children:[o,_]}),e[17]=o,e[18]=y,e[19]=P,e[20]=S,e[21]=b,e[22]=_,e[23]=C,e[24]=I):I=e[24],I},kt=i=>{var r=i,{displayedMemoryScope:s=F.GLOBAL,memoryScope$:e=T(F.GLOBAL),isNewProject:n,isSunshineEnabled:o}=r,a=$e(r,["displayedMemoryScope","memoryScope$","isNewProject","isSunshineEnabled"]);const l=!n||!o,c=!!n&&!o;return t.jsxs(Nt,X(M({size:"auto",align:"end",alignOffset:-7,loop:!0},a),{children:[t.jsxs(W.Group,{children:[t.jsx(W.Label,{className:"overflow-visible text-clip whitespace-normal",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{children:t.jsx(w,{id:"w7+gZm",defaultMessage:"Memory"})}),c?t.jsx("span",{className:"text-token-text-secondary mt-1 text-xs",children:t.jsx(w,{id:"VqLy8n",defaultMessage:"Memory is off. Enable it in <link>Settings</link> to use memory within projects.",values:{link:m=>t.jsx(Fe,{to:"#settings/Personalization",className:"text-token-text-primary underline",children:m})}})}):null]})}),c?null:t.jsxs(W.RadioGroup,{value:s,className:"flex flex-col",onValueChange:m=>{l||e.set(m)},children:[t.jsx(Re,{value:F.GLOBAL,disabled:l,label:t.jsx(w,{id:"AA7d3d",defaultMessage:"Default"}),secondary:t.jsx(w,{id:"XHfasG",defaultMessage:"Project can access memories from outside chats, and vice versa."})}),t.jsx(Re,{value:F.PROJECT_V2,disabled:l,label:t.jsx(w,{id:"XToOAe",defaultMessage:"Project-only"}),secondary:t.jsx(w,{id:"W99WlO",defaultMessage:"Project can only access its own memories. Its memories are hidden from outside chats."})})]})]}),c?null:t.jsx(W.Group,{children:t.jsx(W.Label,{children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:"text-token-text-secondary flex items-center text-xs text-pretty",children:t.jsx(w,{id:"FrohSq",defaultMessage:"Note that this setting can't be changed later."})})})})})]}))},Et=s=>t.jsx(W.BasicTrigger,X(M({className:He("dropdown-btn"),"data-testid":"composer-plus-btn"},s),{children:t.jsx(wt,{className:"icon"})}));function Re(s){return t.jsx(W.RadioItem,M({trailing:t.jsx(W.RadioItemCheck,{})},s))}const Ct=xe(()=>pe(()=>import("./njem4hkd3vzqk90b.js"),__vite__mapDeps([4,1])),{loading:s=>ge(s)}),Lt=xe(()=>pe(()=>import("./fyw02vlaiv2vq6cj.js").then(s=>s.zE),__vite__mapDeps([5,1,6,7,8])),{loading:s=>ge(s)}),Ee=s=>{"use forget";var h;const e=he.c(22);let n,o,a,i,r,l;e[0]!==s?(h=s,{className:o,label:a,children:n,sublabel:r,trailing:l}=h,i=$e(h,["className","label","children","sublabel","trailing"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=i,e[5]=r,e[6]=l):(n=e[1],o=e[2],a=e[3],i=e[4],r=e[5],l=e[6]);let c;e[7]!==o?(c=He("flex w-full flex-col gap-2",o),e[7]=o,e[8]=c):c=e[8];let m;e[9]!==a||e[10]!==i?(m=t.jsx("label",X(M({className:"text-token-text-primary text-sm"},i),{children:a})),e[9]=a,e[10]=i,e[11]=m):m=e[11];let u;e[12]!==r||e[13]!==m?(u=t.jsxs("div",{className:"flex flex-col gap-0.5",children:[m,r]}),e[12]=r,e[13]=m,e[14]=u):u=e[14];let j;e[15]!==u||e[16]!==l?(j=t.jsxs("div",{className:"flex items-center justify-between",children:[u,l]}),e[15]=u,e[16]=l,e[17]=j):j=e[17];let x;return e[18]!==n||e[19]!==c||e[20]!==j?(x=t.jsxs("section",{className:c,children:[j,n]}),e[18]=n,e[19]=c,e[20]=j,e[21]=x):x=e[21],x},Ot=s=>{"use forget";const e=he.c(99),{projectName$:n,instructions$:o,onAddFile:a,onCancel:i,onSave:r,onDelete:l,isSaveDisabled:c,theme$:m,emoji$:u,displayedMemoryScope$:j,memoryScope$:x,isSunshineEnabled:h,isNewProject:k}=s,y=h===void 0?!0:h,g=k===void 0?!1:k,p=Ce(),O=Z(n),E=Z(o);let S;e[0]!==j?(S=()=>{var Y;return(Y=j==null?void 0:j())!=null?Y:F.GLOBAL},e[0]=j,e[1]=S):S=e[1];const P=Z(S),C=!g||!y,b=g&&!y;let _;e[2]!==P||e[3]!==p?(_=P===F.PROJECT_V2?p.formatMessage($.memorySelectedProjectOnly):p.formatMessage($.memorySelectedDefault),e[2]=P,e[3]=p,e[4]=_):_=e[4];const I=_;let D;e[5]!==c||e[6]!==r?(D=Y=>{Y.preventDefault(),!c&&r()},e[5]=c,e[6]=r,e[7]=D):D=e[7];const J=D;let R;e[8]!==p?(R=p.formatMessage($.projectSettingsTitle),e[8]=p,e[9]=R):R=e[9];let K;e[10]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("h2",{className:"text-token-text-primary text-lg font-medium",children:t.jsx(w,M({},$.projectSettingsTitle))}),e[10]=K):K=e[10];let A;e[11]!==i?(A=t.jsxs("header",{className:"flex items-center justify-between px-4 py-3",children:[K,t.jsx(tt,{onClick:i})]}),e[11]=i,e[12]=A):A=e[12];let d;e[13]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(w,M({},$.projectNameLabel)),e[13]=d):d=e[13];let f;e[14]!==u||e[15]!==m?(f=t.jsx(Je,{theme$:m,emoji$:u,className:"after:border-token-interactive-border-tertiary-default col-1 row-1 justify-self-start! after:absolute after:end-0 after:top-0 after:bottom-0 after:border-e after:content-['']"}),e[14]=u,e[15]=m,e[16]=f):f=e[16];let N;e[17]!==u||e[18]!==f||e[19]!==m?(N=t.jsx(We,{theme$:m,emoji$:u,children:f}),e[17]=u,e[18]=f,e[19]=m,e[20]=N):N=e[20];let L;e[21]!==p?(L=p.formatMessage($.projectNamePlaceholder),e[21]=p,e[22]=L):L=e[22];let B;e[23]!==n?(B=Y=>n.set(Y.target.value),e[23]=n,e[24]=B):B=e[24];let G;e[25]!==p?(G=p.formatMessage($.projectNameInputAriaLabel),e[25]=p,e[26]=G):G=e[26];let v;e[27]!==O||e[28]!==L||e[29]!==B||e[30]!==G?(v=t.jsx("input",{className:"border-token-interactive-border-tertiary-default focus:border-token-interactive-border-focus bg-token-bg-primary col-span-full row-1 w-full resize-none rounded-lg border px-2 py-2 ps-11 pe-9 text-sm focus:ring-0",autoComplete:"off",placeholder:L,type:"text",value:O,onChange:B,"aria-label":G,id:"project-name"}),e[27]=O,e[28]=L,e[29]=B,e[30]=G,e[31]=v):v=e[31];let V;e[32]!==N||e[33]!==v?(V=t.jsx(Ee,{htmlFor:"project-name",label:d,children:t.jsxs("div",{className:"grid gap-1",children:[N,v]})}),e[32]=N,e[33]=v,e[34]=V):V=e[34];let q;e[35]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(w,M({},$.instructionsLabel)),e[35]=q):q=e[35];let U;e[36]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(w,M({},$.instructionsDescription))}),e[36]=U):U=e[36];let Q;e[37]!==p?(Q=p.formatMessage($.instructionsPlaceholder),e[37]=p,e[38]=Q):Q=e[38];let z;e[39]!==o?(z=Y=>o.set(Y.target.value),e[39]=o,e[40]=z):z=e[40];let ee;e[41]!==p?(ee=p.formatMessage($.instructionsInputAriaLabel),e[41]=p,e[42]=ee):ee=e[42];let te;e[43]!==E||e[44]!==Q||e[45]!==z||e[46]!==ee?(te=t.jsx(Ee,{htmlFor:"instructions",label:q,sublabel:U,children:t.jsx("textarea",{id:"instructions",placeholder:Q,className:"border-token-interactive-border-tertiary-default focus:border-token-interactive-border-focus bg-token-bg-primary min-h-[60px] w-full rounded-lg border text-sm focus:ring-0",value:E,onChange:z,"aria-label":ee})}),e[43]=E,e[44]=Q,e[45]=z,e[46]=ee,e[47]=te):te=e[47];let be;e[48]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(w,M({},$.filesLabel)),e[48]=be):be=e[48];let ye;e[49]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(w,M({},$.addFileButton)),e[49]=ye):ye=e[49];let se;e[50]!==a?(se=t.jsx(je,{color:"secondary",className:"px-4",onClick:a,type:"button",children:ye}),e[50]=a,e[51]=se):se=e[51];let Se;e[52]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(Ct,{className:"icon text-token-text-secondary mb-2"}),e[52]=Se):Se=e[52];let oe;e[53]!==O?(oe=t.jsx("div",{className:"flex w-full flex-col gap-1",children:t.jsxs("div",{className:"border-token-interactive-border-tertiary-press bg-token-interactive-bg-tertiary-press flex min-h-[96px] flex-col items-center justify-center rounded-lg border py-6",children:[Se,t.jsx("span",{className:"text-token-text-secondary text-center text-xs",children:t.jsx(w,X(M({},$.filesEmptyState),{values:{projectName:t.jsx("b",{children:O})}}))})]})}),e[53]=O,e[54]=oe):oe=e[54];let ne;e[55]!==se||e[56]!==oe?(ne=t.jsx(Ee,{label:be,trailing:se,children:oe}),e[55]=se,e[56]=oe,e[57]=ne):ne=e[57];let ve;e[58]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(w,M({},$.memoryLabel)),e[58]=ve):ve=e[58];let le;e[59]!==b?(le=b&&t.jsx("span",{className:"text-token-text-secondary mt-1 text-xs",children:t.jsx(w,X(M({},$.memoryStatusDisabled),{values:{link:Dt}}))}),e[59]=b,e[60]=le):le=e[60];let ae;e[61]!==P||e[62]!==j||e[63]!==g||e[64]!==y||e[65]!==I||e[66]!==x||e[67]!==C||e[68]!==b?(ae=!b&&t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(qe,{isNewProject:g,displayedMemoryScope$:j,memoryScope$:x,isSunshineEnabled:y,children:t.jsx(W.BasicTrigger,{disabled:C,className:"border-token-interactive-border-tertiary-default bg-token-bg-primary relative w-full rounded-lg border px-3 py-2 text-start text-sm focus:outline-none disabled:opacity-60",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:I}),t.jsx(Lt,{className:"icon-sm xs:ms-1.5 ms-1"})]})})}),t.jsx("div",{className:"text-token-text-tertiary mt-1 text-xs",children:t.jsx(w,M({},P===F.PROJECT_V2?$.memoryHelperProjectOnly:$.memoryHelperDefault))})]}),e[61]=P,e[62]=j,e[63]=g,e[64]=y,e[65]=I,e[66]=x,e[67]=C,e[68]=b,e[69]=ae):ae=e[69];let re;e[70]!==le||e[71]!==ae?(re=t.jsx(Ee,{label:ve,sublabel:le,children:ae}),e[70]=le,e[71]=ae,e[72]=re):re=e[72];let ie;e[73]!==V||e[74]!==te||e[75]!==ne||e[76]!==re?(ie=t.jsxs("div",{className:"flex flex-col gap-5 p-4",children:[V,te,ne,re]}),e[73]=V,e[74]=te,e[75]=ne,e[76]=re,e[77]=ie):ie=e[77];let Me;e[78]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(w,M({},Ge.deleteProjectDropdownButton)),e[78]=Me):Me=e[78];let ce;e[79]!==l?(ce=t.jsx(je,{color:"danger-outline",onClick:l,type:"button",children:Me}),e[79]=l,e[80]=ce):ce=e[80];let Pe;e[81]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(w,M({},$.cancelButton)),e[81]=Pe):Pe=e[81];let de;e[82]!==i?(de=t.jsx(je,{color:"secondary",className:"px-4",onClick:i,type:"button",children:Pe}),e[82]=i,e[83]=de):de=e[83];let _e;e[84]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(w,M({},$.saveButton)),e[84]=_e):_e=e[84];let me;e[85]!==c?(me=t.jsx(je,{color:"primary",className:"px-4",visuallyDisabled:c,type:"submit",children:_e}),e[85]=c,e[86]=me):me=e[86];let ue;e[87]!==de||e[88]!==me?(ue=t.jsxs("div",{className:"flex gap-2",children:[de,me]}),e[87]=de,e[88]=me,e[89]=ue):ue=e[89];let fe;e[90]!==ce||e[91]!==ue?(fe=t.jsxs("footer",{className:"border-token-interactive-border-tertiary-default mt-2 flex items-center justify-between gap-2 border-t px-4 py-4",children:[ce,ue]}),e[90]=ce,e[91]=ue,e[92]=fe):fe=e[92];let Ne;return e[93]!==J||e[94]!==ie||e[95]!==fe||e[96]!==R||e[97]!==A?(Ne=t.jsxs("form",{className:"flex w-full flex-col","aria-label":R,onSubmit:J,children:[A,ie,fe]}),e[93]=J,e[94]=ie,e[95]=fe,e[96]=R,e[97]=A,e[98]=Ne):Ne=e[98],Ne},$=Ze({projectSettingsTitle:{id:"project-settings-content.projectSettingsTitle",defaultMessage:"Project settings"},projectNameLabel:{id:"project-settings-content.projectNameLabel",defaultMessage:"Project name"},projectNamePlaceholder:{id:"project-settings-content.projectNamePlaceholder",defaultMessage:"Copenhagen Trip"},projectNameInputAriaLabel:{id:"project-settings-content.projectNameInputAriaLabel",defaultMessage:"Project name"},instructionsLabel:{id:"project-settings-content.instructionsLabel",defaultMessage:"Instructions"},instructionsDescription:{id:"project-settings-content.instructionsDescription",defaultMessage:"Set context and customize how ChatGPT responds in this project."},instructionsPlaceholder:{id:"project-settings-content.instructionsPlaceholder",defaultMessage:"Act as a wedding planner. Suggest timelines and vendor checklists. Keep the tone fun and supportive."},instructionsInputAriaLabel:{id:"project-settings-content.instructionsInputAriaLabel",defaultMessage:"Instructions"},filesLabel:{id:"project-settings-content.filesLabel",defaultMessage:"Files"},addFileButton:{id:"project-settings-content.addFileButton",defaultMessage:"Add"},filesEmptyState:{id:"project-settings-content.filesEmptyState",defaultMessage:"Add files or links for context when chatting in {projectName}."},memoryLabel:{id:"project-settings-content.memoryLabel",defaultMessage:"Memory"},memoryStatusDisabled:{id:"project-settings-content.memoryStatusDisabled",defaultMessage:"Memory is off. Enable it in <link>Settings</link> to use memory within projects."},memorySelectedProjectOnly:{id:"project-settings-content.memorySelectedProjectOnly",defaultMessage:"Project-only"},memorySelectedDefault:{id:"project-settings-content.memorySelectedDefault",defaultMessage:"Default"},memoryHelperProjectOnly:{id:"project-settings-content.memoryHelperProjectOnly",defaultMessage:"Project can only access its own memories. Its memories are hidden from outside chats. This cannot be changed."},memoryHelperDefault:{id:"project-settings-content.memoryHelperDefault",defaultMessage:"Project can access memories from outside chats, and vice versa. This cannot be changed."},deleteProjectButton:{id:"project-settings-content.deleteProjectButton",defaultMessage:"Delete project"},cancelButton:{id:"project-settings-content.cancelButton",defaultMessage:"Cancel"},saveButton:{id:"project-settings-content.saveButton",defaultMessage:"Save"}});function Dt(s){return t.jsx(Fe,{to:"#settings/Personalization",className:"text-token-text-primary underline",children:s})}const Be=xe(()=>pe(()=>import("./62a1fj8wcavqvn87.js"),__vite__mapDeps([9,1,6,7])).then(s=>s.SnorlaxDeletionModal));function Gt({submitButtonTitle:s,onClose:e,onSuccess:n,gizmo:o,project:a}){"use no forget";const i=Ve(),r=Ce(),l=st(i),c=ot(i),m=c==null?void 0:c.planType,u=Qe(),j=jt(),x=ht(),h=nt(),[k,y]=H.useState(()=>h.isPending),g=!o,p=!g&&lt(i,"3769650838"),O=!p&&(j||x&&g);!g&&!a&&(a=at(i,o.gizmo.id));const[E]=H.useState(()=>T(ke(()=>{var d,f;return(f=(d=a==null?void 0:a.emoji$())!=null?d:o==null?void 0:o.gizmo.display.emoji)!=null?f:null}))),[S]=H.useState(()=>T(ke(()=>{var d,f;return(f=(d=a==null?void 0:a.theme$())!=null?d:o==null?void 0:o.gizmo.display.theme)!=null?f:null}))),[P]=H.useState(()=>T(ke(()=>{var d,f;return(f=(d=a==null?void 0:a.title$())!=null?d:o==null?void 0:o.gizmo.display.name)!=null?f:""}))),[C]=H.useState(()=>T(ke(()=>{var d;return(d=o==null?void 0:o.gizmo.instructions)!=null?d:""}))),[b]=H.useState(()=>{const d=o==null?void 0:o.gizmo.memory_scope;let f=d;switch(d){case F.PROJECT_V2:f=F.PROJECT_V2;break;case F.GLOBAL:case F.PROJECT:f=F.GLOBAL;break;default:f=F.UNSET;break}return T(f)}),[_]=H.useState(()=>Le(()=>gt(b()))),[I]=H.useState(()=>Le(()=>{const d=[];return P().length>Ie&&d.push(r.formatMessage({id:"feWA6K",defaultMessage:"Project names cannot be longer than {length} characters."},{length:Ie})),d})),D=async()=>{var d;try{y(!0);const f=a?await a.queueUpdate$({emoji:E(),theme:S(),name:P(),options:{memoryScope:b(),instructions:C()}}):await h.mutateAsync({update:B=>{var G,v;return X(M({},B),{emoji:(G=E())!=null?G:void 0,theme:(v=S())!=null?v:void 0,name:P(),memoryScope:b(),instructions:C()})},id:(d=o==null?void 0:o.gizmo.id)!=null?d:mt}),{id:N,resource:L}=f;y(!1),n&&n(N!=null?N:L==null?void 0:L.gizmo.id),e()}catch(f){const N=ut(f);l.warning(N!=null?N:r.formatMessage({id:"project-modal.error.create-or-update",defaultMessage:"Error creating or updating project"}),{duration:5,hasCloseButton:!0}),y(!1)}},J=()=>{o&&ct(i,Be,{gizmoId:o.gizmo.id,handleDelete:()=>{dt(i,Be),e(),u("/",{replace:!0})}})},R=g?r.formatMessage({id:"PoqmRT",defaultMessage:"Create project"}):r.formatMessage({id:"RT8KNi",defaultMessage:"Save"}),K=rt(()=>{const d=P();return k||d.trim().length===0||I().length>0},"ProjectModal:isSaveDisabled"),A=d=>{d==null||d.preventDefault(),Ke.logEventWithStatsig("Projects: Create Submit Enhanced","chatgpt_web_projects_create_submit"),D()};return t.jsx(it,{testId:"modal-new-project-enhanced",isOpen:!0,hideSeparator:!0,noPadding:!0,headerAccessory:O?t.jsx(qe,{isNewProject:g,displayedMemoryScope$:_,memoryScope$:b,isSunshineEnabled:j,children:t.jsx(Et,{})}):null,showCloseButton:!k,type:"success",size:"large",title:!p&&(g?r.formatMessage({defaultMessage:"Project name",id:"project-modal.title.new-project"}):r.formatMessage({defaultMessage:"Edit project",id:"project-modal.title.edit-project"})),onClose:()=>{k||e()},children:p?t.jsx(Ot,{projectName$:P,instructions$:C,files:[],onAddFile:()=>{},onCancel:e,onSave:A,onDelete:J,isSaveDisabled:K,theme$:S,emoji$:E,displayedMemoryScope$:_,memoryScope$:b,isSunshineEnabled:j,isNewProject:g}):t.jsx(Mt,{emoji$:E,isNewProject:g,isPending:k,onClose:e,onSubmit:A,submitTitle:s!=null?s:R,title$:P,theme$:S,validationErrors$:I,planType:m})})}export{Gt as CreateOrEditProjectModal};
//# sourceMappingURL=ja2qkf4baiwhlt1m.js.map

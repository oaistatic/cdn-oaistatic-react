const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/m6idklazvjc7d344.js","assets/kfrdmkli83ureki3.js","assets/mv59uia51hlqeiwb.js","assets/dt7r1tuc81rn6vox.js","assets/ailj2wmeuzip7d2v.js"])))=>i.map(i=>d[i]);
var B=Object.defineProperty;var G=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var V=(t,e,i)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,$=(t,e)=>{for(var i in e||(e={}))K.call(e,i)&&V(t,i,e[i]);if(G)for(var i of G(e))Z.call(e,i)&&V(t,i,e[i]);return t};import{c as U,h as Y,d as J,_ as E,j as s,e as Q}from"./kfrdmkli83ureki3.js";import{da as X,db as ee,dc as ae,dd as te,de as ie,df as D,dg as se}from"./fyw02vlaiv2vq6cj.js";import{u as oe,g as re,bD as ne,az as w,cq as O,_ as q,aA as C}from"./kw08ajijqinojrwh.js";import{LightboxNew as H}from"./kcrfstn8nf4rn51p.js";import{I as le}from"./nvxri8mldbk6o2on.js";import{S as ce}from"./ck7ltodh2xzj12u2.js";import"./et0kjfzq519mr3zi.js";import"./hk5ml9l4i4ups2ga.js";import"./fwbhrttgqnv5nm9m.js";import"./o5h7u1aikohecbkt.js";import"./w4rmhhxvug61xnae.js";import"./lg0oi3tmjv8kv2p4.js";import"./b3ungmqo5x8kj4fh.js";import"./nh6x5pasrftsddpw.js";import"./c7lf6x6u521mpx19.js";const ge=w(()=>E(()=>import("./m6idklazvjc7d344.js"),__vite__mapDeps([0,1])),{loading:t=>C(t)}),de=w(()=>E(()=>import("./mv59uia51hlqeiwb.js"),__vite__mapDeps([2,1])),{loading:t=>C(t)}),_e=w(()=>E(()=>import("./dt7r1tuc81rn6vox.js"),__vite__mapDeps([3,1])),{loading:t=>C(t)}),he=w(()=>E(()=>import("./ailj2wmeuzip7d2v.js"),__vite__mapDeps([4,1])),{loading:t=>C(t)}),me=5,ke=t=>{"use forget";const e=U.c(34),{initialIndex:i,onClose:o,clientThreadId:y,currentModelId:M,includeArchived:z,visibilityFilter:W}=t,r=oe();let m;e[0]!==y||e[1]!==r?(m=re(r,y),e[0]=y,e[1]=r,e[2]=m):m=e[2];const g=m,n=Y(),P=X();let p;e[3]!==r?(p=ne(r).checkGate("1520205231"),e[3]=r,e[4]=p):p=e[4];const S=p,{archiveMutation:T}=ee(),j=J();let u;e[5]!==r?(u=ae(r),e[5]=r,e[6]=u):u=e[6];const b=u,{images:d,fetchNextPage:k,hasNextPage:L,isFetchingNextPage:N}=te(z,W);let x;e[7]!==k||e[8]!==L||e[9]!==d||e[10]!==N?(x=c=>{L&&c>=Math.max(0,d.length-me)&&!N&&k()},e[7]=k,e[8]=L,e[9]=d,e[10]=N,e[11]=x):x=e[11];const R=x;let v;e[12]!==g?(v=c=>ie($({conversation:g},c)),e[12]=g,e[13]=v):v=e[13];const A=v;let _;e[14]!==T||e[15]!==S||e[16]!==P||e[17]!==n||e[18]!==j||e[19]!==o||e[20]!==b?(_=s.jsx(H.LightboxHeaderActions,{children:c=>{const{activeImage:a}=c;return s.jsxs("div",{className:"flex gap-1 md:gap-2",children:[s.jsx(O,{label:n.formatMessage(l.openInChat),triggerAs:null,children:s.jsx(D,{className:"aspect-square",icon:he,onClick:I=>{q.logEventWithStatsig("chatgpt_web_image_library_lightbox_image_open_in_chat_clicked","chatgpt_web_image_library_lightbox_image_open_in_chat_clicked"),I.preventDefault(),b.addClassToCurrentTransition(["from-lightbox"]),b.transitionToPage({type:"conversation",value:void 0},async()=>{o(),await j("/c/".concat(a==null?void 0:a.conversationId,"?message=").concat(a==null?void 0:a.messageId),{preventScrollReset:!0})})},"aria-label":n.formatMessage(l.openInChat)})}),S&&a&&s.jsx(O,{label:n.formatMessage(a.archived?l.unarchive:l.archive),triggerAs:null,children:s.jsx(D,{className:"aspect-square",icon:a.archived?_e:de,onClick:()=>{q.logEventWithStatsig(a.archived?"chatgpt_web_image_library_lightbox_image_unarchive_clicked":"chatgpt_web_image_library_lightbox_image_archive_clicked",a.archived?"chatgpt_web_image_library_lightbox_image_unarchive_clicked":"chatgpt_web_image_library_lightbox_image_archive_clicked"),T.mutate({imageId:a.id,operation:a.archived?"unarchive":"archive"})},"aria-label":n.formatMessage(a.archived?l.unarchive:l.archive)})}),s.jsx(O,{label:n.formatMessage(l.download),triggerAs:null,children:s.jsx(D,{className:"aspect-square",icon:ge,onClick:()=>{var I,F;q.logEventWithStatsig("chatgpt_web_image_library_lightbox_image_download_clicked","chatgpt_web_image_library_lightbox_image_download_clicked"),se({url:(I=a==null?void 0:a.url)!=null?I:"",fileName:"".concat((F=a==null?void 0:a.title)!=null?F:n.formatMessage({id:"cYxKbe",defaultMessage:"My ChatGPT image"}),".png")})},"aria-label":n.formatMessage(l.download)})}),P()&&(a==null?void 0:a.messageId)&&s.jsx(ce,{assetPointer:a.assetPointer,serverThreadId:a.conversationId,messageId:a.messageId})]})}}),e[14]=T,e[15]=S,e[16]=P,e[17]=n,e[18]=j,e[19]=o,e[20]=b,e[21]=_):_=e[21];let h;e[22]!==g.id||e[23]!==M||e[24]!==o||e[25]!==A?(h=s.jsx(H.Footer,{children:c=>{const{activeImage:a}=c;return s.jsx(le,{clientThreadId:g.id,currentModelId:M,onRequestCompletion:A,onClose:o,activeImage:a})}}),e[22]=g.id,e[23]=M,e[24]=o,e[25]=A,e[26]=h):h=e[26];let f;return e[27]!==R||e[28]!==d||e[29]!==i||e[30]!==o||e[31]!==_||e[32]!==h?(f=s.jsxs(H.Root,{images:d,initialIndex:i,onClose:o,onIndexChange:R,children:[_,h]}),e[27]=R,e[28]=d,e[29]=i,e[30]=o,e[31]=_,e[32]=h,e[33]=f):f=e[33],f},l=Q({download:{id:"Z23tMl",defaultMessage:"Download image"},openInChat:{id:"Eh8G/f",defaultMessage:"Open in Chat"},archive:{id:"yOqxdz",defaultMessage:"Hide image"},unarchive:{id:"yEUKZl",defaultMessage:"Show image"}});export{ke as ImageGenLibraryLightboxNew};
//# sourceMappingURL=izrw25jioqty508c.js.map

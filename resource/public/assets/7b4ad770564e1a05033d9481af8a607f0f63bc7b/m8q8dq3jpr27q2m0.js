const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bc7tmzzosjt75txl.js","assets/kfrdmkli83ureki3.js"])))=>i.map(i=>d[i]);
var M=Object.defineProperty,_=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var g=(t,a,i)=>a in t?M(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,l=(t,a)=>{for(var i in a||(a={}))G.call(a,i)&&g(t,i,a[i]);if(f)for(var i of f(a))C.call(a,i)&&g(t,i,a[i]);return t},h=(t,a)=>_(t,P(a));import{h as z,r as v,u as B,j as e,M as d,e as k,_ as L}from"./kfrdmkli83ureki3.js";import{j as y,aC as A,da as I,az as E,aB as j,R as w,aA as S}from"./kw08ajijqinojrwh.js";import{bq as q}from"./fyw02vlaiv2vq6cj.js";import{a as R}from"./d1ak5u4m6fymztz5.js";const F=E(()=>L(()=>import("./bc7tmzzosjt75txl.js"),__vite__mapDeps([0,1])),{loading:t=>S(t)});function O({isOpen:t,onClose:a,account:i,gpt:T}){const b=z(),[x,u]=v.useState(!1),[s,n]=v.useState(T),c=s==null?void 0:s.tools.filter(o=>o.type!==y.JIT_PLUGIN),p=s==null?void 0:s.tools.filter(o=>o.type===y.JIT_PLUGIN),N=B();return e.jsxs(A,{testId:"modal-approve-gpt",size:"custom",className:"max-w-lg text-sm",isOpen:t,onClose:I,type:"success",title:b.formatMessage(r.approveGPTTitle),children:[s==null?e.jsx("div",{className:"h-96",children:e.jsx(R,{popoverClassName:"bg-token-main-surface-secondary!",onSelect:o=>{n(o)}})}):e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"border-token-border-default flex gap-4 border-b pb-6",children:[s.gizmo.display.profile_picture_url!=null?e.jsx("img",{src:s.gizmo.display.profile_picture_url,className:"h-24 w-24 rounded-full",width:96,height:96}):e.jsx(F,{className:"h-96 w-96 text-gray-400"}),e.jsxs("div",{className:"text-token-text-primary flex flex-col gap-1",children:[e.jsx("p",{className:"text-lg font-semibold",children:s.gizmo.display.name}),e.jsx("p",{children:s.gizmo.display.description}),e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,h(l({},r.gptByLine),{values:{authorName:s.gizmo.author.display_name}}))})]})]}),e.jsx("div",{className:"border-token-border-default flex border-b py-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{className:"w-24 font-semibold",children:e.jsx(d,l({},r.capabilitiesTitle))}),e.jsx("div",{className:"text-token-text-primary flex flex-col gap-1",children:c&&c.length>0?c.map(o=>e.jsx("p",{children:q(i,o.type)},o.id)):e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,l({},r.noCapabilitiesEnabled))})})]})}),e.jsx("div",{className:"flex py-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{className:"w-24 font-semibold",children:e.jsx(d,l({},r.actionsTitle))}),e.jsx("div",{className:"text-token-text-primary flex flex-col gap-1",children:p&&p.length>0?p.map(o=>{var m;return e.jsx("p",{children:(m=o.metadata.domain)!=null?m:""},o.id)}):e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,l({},r.noCustomActions))})})]})})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(j,{color:"secondary",onClick:()=>{n(void 0),a(!1)},loading:x,children:e.jsx(d,l({},r.cancelButtonText))}),e.jsx(j,{color:"primary",loading:x,disabled:s==null,onClick:()=>{s!=null&&(u(!0),w.safePost("/accounts/{account_id}/gpts/{third_party_gizmo_id}/approve",{parameters:{path:{account_id:i.id,third_party_gizmo_id:s.gizmo.id}}}).finally(()=>{N.invalidateQueries({queryKey:["gizmo"]}),a(!0),n(void 0),u(!1)}))},children:e.jsx(d,l({},r.approveButtonText))})]})]})}const r=k({approveGPTTitle:{id:"approveGPTModal.approveGPTTitle",defaultMessage:"Approve a third-party GPT"},cancelButtonText:{id:"approveGPTModal.cancelButtonText",defaultMessage:"Cancel"},approveButtonText:{id:"approveGPTModal.approveButtonText",defaultMessage:"Approve"},gptByLine:{id:"approveGPTModal.gptByLine",defaultMessage:"By {authorName}"},capabilitiesTitle:{id:"approveGPTModal.capabilitiesTitle",defaultMessage:"Capabilities"},actionsTitle:{id:"approveGPTModal.actionsTitle",defaultMessage:"Actions"},noCapabilitiesEnabled:{id:"approveGPTModal.noCapabilitiesEnabled",defaultMessage:"No capabilities enabled"},noCustomActions:{id:"approveGPTModal.noCustomActions",defaultMessage:"No custom actions"}});export{O as A};
//# sourceMappingURL=m8q8dq3jpr27q2m0.js.map

var C=Object.defineProperty,l=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var d=(r,t,e)=>t in r?C(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,m=(r,t)=>{for(var e in t||(t={}))h.call(t,e)&&d(r,e,t[e]);if(i)for(var e of i(t))c.call(t,e)&&d(r,e,t[e]);return r},p=(r,t)=>l(r,_(t));var u=(r,t)=>{var e={};for(var o in r)h.call(r,o)&&t.indexOf(o)<0&&(e[o]=r[o]);if(r!=null&&i)for(var o of i(r))t.indexOf(o)<0&&c.call(r,o)&&(e[o]=r[o]);return e};import{y as E,a1 as I,j as s,b as y,r as n}from"./kfrdmkli83ureki3.js";import{C as T}from"./h1ae971q4xx5gc40.js";import{u as j,nE as R,hX as A,hY as N,T as P,e6 as g,R as w}from"./kw08ajijqinojrwh.js";import{S as F}from"./fyw02vlaiv2vq6cj.js";import"./mxzgpx7wtm4zk5cj.js";import"./cn1z5fx9l5xxo8vy.js";import"./lg0oi3tmjv8kv2p4.js";import"./b3ungmqo5x8kj4fh.js";import"./i8h8r8n4rn16l2h5.js";import"./n6eim64jp78x17ti.js";import"./d24clsve229czwkp.js";import"./nunatmpame7vjusr.js";import"./nvxri8mldbk6o2on.js";import"./hk5ml9l4i4ups2ga.js";import"./fwbhrttgqnv5nm9m.js";import"./o5h7u1aikohecbkt.js";import"./w4rmhhxvug61xnae.js";import"./nh6x5pasrftsddpw.js";import"./c7lf6x6u521mpx19.js";import"./ckililxopth81755.js";import"./mj0406dyy526560j.js";import"./n25jb1xrdrimv99m.js";import"./nm285usnll51g0n4.js";import"./c326bjybavj646xd.js";import"./lwyag88acem9bm0o.js";import"./dd8hh2tmra1psngf.js";import"./moa9hw4knutxpmay.js";import"./k68z30a1j9zr4phk.js";import"./emcmoa6z1wsa6qof.js";import"./i85urdvpkzpdgj3s.js";import"./be1f0w4doetbrndv.js";import"./he1xnididjbc7s63.js";import"./m93ibzwrrpoc1bdm.js";import"./hrprrmrs14hiemon.js";function O(r){const t=r.sharedConversationId,{data:e,isError:o}=y({queryKey:["shared-conversation/".concat(t)],queryFn:()=>w.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),f=j(),[S]=n.useState(()=>R(f,{sharedConversationId:t})),a=S.id,[v,x]=n.useState(!1);return n.useEffect(()=>{o&&(window.location.href=A(N.SHARE_NOT_FOUND))},[o]),n.useEffect(()=>{e&&a&&(P.updateThreadFromServer(a,e,{skipIfExisting:!0,continuingFromSharedConversationId:t}),x(!0))},[e,t,a]),v&&e?s.jsx(F.Provider,{value:{serverSharedThreadId:r.sharedConversationId},children:s.jsx(T,p(m({},r.chatPageProps),{clientThreadId:a}))}):s.jsx("div",{className:"flex h-full items-center justify-center",children:s.jsx(g,{className:"text-token-text-tertiary"})})}const St=E(function(){const o=I(),{sharedConversationId:t}=o,e=u(o,["sharedConversationId"]);return s.jsx(O,p(m({},e),{sharedConversationId:t}))});export{St as default};
//# sourceMappingURL=bfcoebwcxr2prl27.js.map

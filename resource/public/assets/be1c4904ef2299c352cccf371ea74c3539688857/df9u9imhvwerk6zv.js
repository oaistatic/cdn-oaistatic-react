const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dl2mlywpbbmgvmy3.js","assets/fs6h2trisr1juto6.js","assets/mi5k2suvbiot8uwb.js","assets/cyi7nanrg0vdotzd.js","assets/root-drzjahv8.css","assets/l4ce2zdnnawhaijx.js","assets/c1p22j8o7hm9vv5x.js","assets/juhoq7zcvi40kvvr.js","assets/egq3i0oq39kux8fj.js","assets/jo3x2yf4dp19h25k.js","assets/ea9kyg94i6ia0yd7.js","assets/f426ftnka0mj72hs.js","assets/lscxa7r7b9o6yh7m.js","assets/isjdmfmhzv09v01t.js","assets/btagl6w1gub4aw61.js","assets/lodl3s7jfiypzk1n.js","assets/f3zzw463zuggq6da.js","assets/kg9pnjn9ianmg7dc.js","assets/htu9pml8lfjcb6ls.js","assets/g67zyzc7bfbl1vkm.js","assets/jteom3gltchw516e.js","assets/e0sfrrlvs75vveq5.js","assets/hi1g9go8t53qsjy9.js","assets/fdc267gtmse8t1gq.js","assets/dp0ii8vuue4rnykh.js","assets/b7o9536h4wpvjcqi.js","assets/k76xevje6k7b3vo6.js","assets/cvvlp6bftojvu0f7.js","assets/f25rpzpqicaw21n1.js","assets/gvz98l77ingvo2jj.js","assets/m1fsshfoerllttos.js","assets/FormattedText-ecwyy7s8.css","assets/gz3x7l8s6e03kufp.js","assets/n6rdblvrazhxvsfe.js","assets/nm04jgpfyxi6pn12.js","assets/kh3yzdvuzkxnlmrn.js","assets/ADAVisualizationComponent-l752p5ji.css","assets/eozhfdzw9voxd2co.js","assets/l2gth51p9bvubvgo.js","assets/khaic1qhrb246kiz.js","assets/dqkgutsb332uaf68.js","assets/dtx9fzvfshnw2efc.js","assets/bibq00lzerxkdtcb.js","assets/b22a1k4ozfgjkxq7.js","assets/l58upji5k37aack9.js","assets/g7ivbw640s42fkw7.js","assets/msv8m379cpay97wm.js","assets/fzrn137102spawew.js","assets/e9lafxuzyeh4418f.js","assets/ktvbjknz372ja7i7.js","assets/pcjkp37t4ugnklc3.js","assets/muk733l8kcs92zol.js","assets/n2ygynzmvk4zmpcu.js","assets/hktzi08skpnyvqmx.js","assets/i8o49in259xn5luc.js","assets/wk7m84ups3f2nf3y.js","assets/fzxnthhv4kjfhz0t.js","assets/liaju29fw9oaw0b6.js","assets/dcj3lxx3f930j9fx.js","assets/d3vlrpumel0m4925.js","assets/twfcf5t51x04u1vc.js","assets/acaagqk8v2ucjh44.js","assets/czifr2fg0shgkvy0.js","assets/omsod5skty4ud78c.js","assets/icoudjr9c78b8bvx.js","assets/il50daha0kb70ufn.js","assets/k154o6a9h89usuus.js","assets/hyj1ewu0eyfbsrce.js","assets/c3i1bmlhmru6zkrc.js","assets/fxte0ufuqvo8jvkj.js","assets/fy6gadar4ndyv9ng.js","assets/miqolxcdfcownhv5.js","assets/chh8qc3n6chlinw1.js","assets/g2mpepuj81v2h1vf.js","assets/h45upoeq12puiam0.js"])))=>i.map(i=>d[i]);
import{c as EA,P as E,a as _,D as V,S as $,R as j,A as so,b as Bt,d as N,e as de,u as mp,n as wo,f as Ad,s as C2,L as we,g as Et,C as lt,h as ct,i as kA,j as at,k as Hv,l as vn,m as pp,o as dl,p as Pd,q as TA,_ as Vv,r as ra,t as Gv,v as St,w as Wv,G as zv,x as So,y as Ce,z as Ks,M as tt,B as Mo,T as qv,E as _e,F as Z,H as gp,I as _o,J as AA,K as Hi,N as Nd,O as jd,Q as fl,U as Id,V as Be,W as Rr,X as hp,Y as Rd,Z as fe,$ as Nn,a0 as Cn,a1 as $r,a2 as PA,a3 as Je,a4 as vp,a5 as NA,a6 as Su,a7 as xp,a8 as jA,a9 as y2,aa as IA,ab as RA,ac as LA,ad as Zv,ae as Yv,af as OA,ag as DA,ah as Cp,ai as ml,aj as FA,ak as $A,al as st,am as ke,an as Kv,ao as BA,ap as UA,aq as $e,ar as HA,as as ve,at as Af,au as yp,av as Ld,aw as $a,ax as mr,ay as VA,az as zs,aA as yn,aB as bp,aC as GA,aD as hr,aE as Ti,aF as qe,aG as ot,aH as pl,aI as l4,aJ as WA,aK as eu,aL as c4,aM as Dn,aN as zA,aO as gl,aP as Od,aQ as gn,aR as Qv,aS as ao,aT as rt,aU as u4,aV as Mr,aW as qA,aX as tu,aY as Kr,aZ as Ai,a_ as b2,a$ as ZA,b0 as YA,b1 as KA,b2 as QA,b3 as w2,b4 as XA,b5 as JA,b6 as eP,b7 as tP,b8 as Xv,b9 as nP,ba as d4,bb as gs,bc as Dd,bd as wp,be as kt,bf as De,bg as ge,bh as hl,bi as Jv,bj as e8,bk as t8,bl as n8,bm as r8,bn as s8,bo as a8,bp as o8,bq as Qs,br as i8,bs as vl,bt as Sp,bu as l8,bv as Mp,bw as he,bx as Ee,by as Ve,bz as c8,bA as _p,bB as wa,bC as Fd,bD as Tn,bE as Zt,bF as S2,bG as hs,bH as ce,bI as rP,bJ as Ep,bK as xl,bL as sP,bM as aP,bN as oP,bO as $d,bP as gt,bQ as ut,bR as sa,bS as et,bT as iP,bU as lP,bV as cP,bW as uP,bX as dP,bY as kp,bZ as u8,b_ as fP,b$ as Br,c0 as Cl,c1 as mP,c2 as te,c3 as us,c4 as G,c5 as d8,c6 as aa,c7 as Bd,c8 as pP,c9 as gP,ca as hP,cb as vP,cc as f8,cd as xP,ce as CP,cf as yP,cg as yl,ch as Ba,ci as bP,cj as Ud,ck as Tp,cl as Hd,cm as Vd,cn as Gd,co as Wd,cp as pr,cq as R,cr as wP,cs as oa,ct as m8,cu as ks,cv as Xr,cw as qt,cx as Nr,cy as nu,cz as bl,cA as Eo,cB as Zn,cC as vr,cD as SP,cE as MP,cF as _P,cG as zd,cH as EP,cI as kP,cJ as Lr,cK as p8,cL as qd,cM as TP,cN as Gn,cO as g8,cP as Or,cQ as Ap,cR as Xs,cS as Pp,cT as AP,cU as PP,cV as h8,cW as v8,cX as NP,cY as jP,cZ as IP,c_ as RP,c$ as LP,d0 as Zd,d1 as x8,d2 as C8,d3 as oo,d4 as io,d5 as lo,d6 as wl,d7 as Sl,d8 as Ml,d9 as _l,da as ko,db as OP,dc as Np,dd as Yd,de as y8,df as b8,dg as Kd,dh as DP,di as FP,dj as $P,dk as w8,dl as BP,dm as jp,dn as Qd,dp as S8,dq as M8,dr as _8,ds as UP,dt as HP,du as f4,dv as Ip,dw as In,dx as VP,dy as m4,dz as GP,dA as E8,dB as WP,dC as To,dD as zP,dE as Rp,dF as qP,dG as ZP,dH as YP,dI as KP,dJ as QP,dK as Lp,dL as k8,dM as XP,dN as T8,dO as Ln,dP as JP,dQ as eN,dR as tN,dS as Op,dT as A8,dU as nN,dV as P8,dW as rN,dX as sN,dY as aN,dZ as oN,d_ as N8,d$ as j8,e0 as iN,e1 as lN,e2 as I8,e3 as cN,e4 as ru,e5 as uN,e6 as R8,e7 as L8,e8 as dN,e9 as O8,ea as fN,eb as mN,ec as p4,ed as pN,ee as Xd,ef as Jd,eg as gN,eh as hN,ei as D8,ej as vN,ek as Za,el as xN,em as F8,en as Er,eo as CN,ep as yN,eq as bN,er as Dp,es as wN,et as SN,eu as MN,ev as _N,ew as EN,ex as kN,ey as TN,ez as AN,eA as g4,eB as $8,eC as B8,eD as He,eE as PN,eF as NN,eG as jN,eH as IN,eI as RN,eJ as LN,eK as ON,eL as DN,eM as FN,eN as $N,eO as BN,eP as UN,eQ as HN,eR as U8,eS as VN,eT as GN,eU as h4,eV as hc,eW as WN,eX as H8,eY as zN,eZ as qN,e_ as ZN,e$ as YN,f0 as KN,f1 as v4,f2 as V8,f3 as Mu,f4 as G8}from"./cyi7nanrg0vdotzd.js";import{r as u,j as o,a as ds,g as ue,s as Pf,d as U,u as ee,b as xe,c as Ie,e as L,f as Te,h as vs,v as Fp,q as El,i as ia,k as bn,M as C,l as $p,L as nn,m as Rn,R as ye,n as Pi,o as x4,F as QN,_ as Ao,p as Po,t as C4,w as y4,x as XN,y as JN}from"./fs6h2trisr1juto6.js";function k_e(e){if(typeof e!="object"||e==null)return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function W8(e){return e!=null}const e1=(e,t)=>e.includes(t),ej=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},z8=(e,t=[])=>n=>ej(n,e,t),q8=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,Z8=(e,t)=>{const n=q8(e),r={};for(const s in t)r[s]=t[s](n?.[s]);return r},kr=e=>t=>Z8(t,e),as=(e,t="")=>typeof e=="object"||e==null?t:String(e),tj=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},nj=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},Bp=(e,t,n=t[0])=>e1(t,e)?e:n,rj=(e,t=e[0])=>n=>Bp(n,e,t),os=e=>t=>t===void 0?void 0:e(t);var Up=(e=>(e.ACCELERATOR="accelerator",e.BLOCK_COMMENT_LAUNCHER="block_comment_launcher",e.CLOSE_TEXTDOC="close_textdoc",e.COLLAPSED_COMMENT="collapsed_comment",e.COMMENT_ACCEPT="comment_accept",e.COMMENT_DISMISS="comment_dismiss",e.COPY="copy",e.DOWNLOAD="download",e.EXPANDED_COMMENT="expanded_comment",e.FILE_DRAWER_ITEM="file_drawer_item",e.HISTORY_NEXT="history_next",e.HISTORY_PREVIOUS="history_previous",e.MESSAGE_ATTACHMENT="message_attachment",e.OPEN_SHARE_MENU="open_share_menu",e.CREATE_SHARE_LINK="create_share_link",e.UPDATE_SHARE_LINK_TO_LATEST="update_share_link_to_latest",e.COPY_SHARE_LINK="copy_share_link",e.UPDATE_SHARE_LINK_PRIVATE="update_share_link_private",e.UPDATE_SHARE_LINK_PUBLIC="update_share_link_public",e.SHOW_CHANGES="show_changes",e.TOOLBAR_FORMAT_BOLD="toolbar_format_bold",e.TOOLBAR_FORMAT_HEADER1="toolbar_format_header1",e.TOOLBAR_FORMAT_HEADER2="toolbar_format_header2",e.TOOLBAR_FORMAT_HEADER3="toolbar_format_header3",e.TOOLBAR_FORMAT_ITALIC="toolbar_format_italic",e.TOOLBAR_FORMAT_PARAGRAPH="toolbar_format_paragraph",e.TOOLBAR_FORMAT_STYLE="toolbar_format_style",e.TOOLBAR_ASK_CHATGPT="toolbar_ask_chatgpt",e.EDIT_IN_CANVAS_MESSAGE="edit_in_canvas_message",e.EDIT_IN_CANVAS_CODE_SNIPPET="edit_in_canvas_code_snippet",e.SAVE_TO_CHAT_ON_EDITOR_CLOSE="save_to_chat_on_editor_close",e.CLOSE_WITHOUT_SAVING="close_without_saving",e.LEARN_MODE_ABOUT_NETWORK_REQUESTS="learn_more_about_network_requests",e))(Up||{}),_u=(e=>(e.Unknown="unknown",e.ShowToast="show_toast",e.CanvasMessage="canvas_message",e.TurnComplete="turn_complete",e))(_u||{});const sj={canvas_message:kr({message:q8}),turn_complete:kr({}),unknown:kr({}),show_toast:kr({text:as})},b4=rj(Object.values(_u));function aj(e){const{type:t}=Z8(e,{type:b4}),n=b4(t);return{type:n,...sj[n](e)}}function w4(e,t){ij(n=>{n.type===e&&t(n)})}function oj(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new TextDecoder("utf-8").decode(n)}function ij(e){u.useEffect(()=>EA(window,{message:n=>{const r=n.data;if(!(typeof r!="object"||r?.type!=="canmore_native"))try{const s=oj(r.msg),a=aj(JSON.parse(s));e(a)}catch{console.warn(`Unknown message from native app: ${r.msg}`)}}}),[e])}function Y8(){let e;const t=lj();switch(t){case"android":e=window.CanmoreNative;break;case"ios":e=window.webkit?.messageHandlers.canmoreNative;break;case"web":e=void 0;break}return{platform:t,isNative:t!=="web",bridge:e,sendMessage:n=>e?.postMessage(btoa(JSON.stringify(n)))}}function lj(){return typeof window.CanmoreNative<"u"?"android":typeof window.webkit<"u"&&typeof window.webkit.messageHandlers.canmoreNative<"u"?"ios":"web"}function t1(e,t){E.logEvent(e,{platform:Y8().platform,...t??{}})}function cj(e,t,n){E.logEventWithStatsig(e,t,{platform:Y8().platform,...n})}function uj(e,t,n){t1(e,{distributionValue:t,...n??{}})}function dj(e,t){t1(_.canvasButtonClicked,{buttonName:e,...t??{}})}function fj(e){if(e instanceof Error){const{name:t,message:n,stack:r,cause:s}=e;return{name:t,message:n,stack:r,cause:s}}return e}function mj(e,t,n){t1(_.canvasError,{message:e,error:t==null?e:fj(t),attributes:n}),V.addError(t)}const n1={logButtonClick:dj,logEvent:t1,logEventWithStatsig:cj,logError:mj,logDistribution:uj},r1=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12V16C11 16.5523 11.4477 17 12 17C12.5523 17 13 16.5523 13 16V12Z",fill:"currentColor"}),u.createElement("path",{d:"M12 9.5C12.6904 9.5 13.25 8.94036 13.25 8.25C13.25 7.55964 12.6904 7 12 7C11.3096 7 10.75 7.55964 10.75 8.25C10.75 8.94036 11.3096 9.5 12 9.5Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z",fill:"currentColor"})),pj=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.29289 8.29289C8.68342 7.90237 9.31658 7.90237 9.70711 8.29289L12 10.5858L14.2929 8.29289C14.6834 7.90237 15.3166 7.90237 15.7071 8.29289C16.0976 8.68342 16.0976 9.31658 15.7071 9.70711L13.4142 12L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L12 13.4142L9.70711 15.7071C9.31658 16.0976 8.68342 16.0976 8.29289 15.7071C7.90237 15.3166 7.90237 14.6834 8.29289 14.2929L10.5858 12L8.29289 9.70711C7.90237 9.31658 7.90237 8.68342 8.29289 8.29289Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z",fill:"currentColor"}));var K8=typeof window>"u",gj=!K8&&"ResizeObserver"in window,S4=function(){},hj={observe:S4,unobserve:S4},Nf=gj?new ResizeObserver(function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],s=r.target,a=s.getBoundingClientRect(),i=s.$$useElementDimensionsSet;i&&i(Object.assign(a,r))}}):hj,vj=K8?u.useEffect:u.useLayoutEffect,Q8=function(){function e(){this.bottom=0,this.height=0,this.left=0,this.right=0,this.top=0,this.width=0,this.x=0,this.y=0}return e.prototype.toJSON=function(){return JSON.stringify(this)},e}(),xj=new Q8,Cj=new Q8,M4={inlineSize:0,blockSize:0},yj=Object.assign(Cj,{contentBoxSize:M4,borderBoxSize:M4,contentRect:xj,target:null}),bj=function(){var e=u.useRef(null),t=u.useState(yj),n=t[0],r=t[1],s=u.useCallback(function(a){e.current&&Nf.unobserve(e.current),a&&a.nodeType===1&&(a.$$useElementDimensionsSet=r,Nf.observe(a))},[]);return vj(function(){return function(){e.current&&Nf.unobserve(e.current)}},[]),[n,s]};const wj=window.location.host+"/ces",Sj="https",Mj=`${Sj}://${wj}`;function _4(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n.key]=n.value,t),{}):e}var K=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e.CUSTOMIZE_CHATGPT="customize_chatgpt",e.WEB_SANDBOX="web_sandbox",e.CANVAS="canvas",e.COT_SUMMARIZER="cot_summarizer",e.CLASSMATES="classmates",e.REFERRALS="referrals",e.STUDENTS="students",e))(K||{});class E4{counterMap=new Map;histMap=new Map}class _j{metrics=new E4;postUrl=`${Mj}/statsc/flush`;postInterval=3e4;maxPostErrors=10;isScheduled=!1;numMetricPostErrors=0;numLostMetrics=0;count(t,n,r={},s=1){if(!this.isEnabled())return;r=_4(r);const a=this.makeKey(t,n,r);var i=this.metrics.counterMap;const l=i.get(a);l?l.value+=s:i.set(a,{namespace:t,metric:n,tags:r,value:s}),this.scheduleIfNeeded()}hist(t,n,r={},s){if(!this.isEnabled())return;r=_4(r);const a=this.makeKey(t,n,r);var i=this.metrics.histMap;const l=i.get(a);l?l.values.push(s):i.set(a,{namespace:t,metric:n,tags:r,values:[s]}),this.scheduleIfNeeded()}makeKey(t,n,r){const s=Object.entries(r).map(([a,i])=>`${a}=${i}`).sort().join(",");return`${t}:${n}:${s}`}isEnabled(){return $.checkGateWithExposureLoggingDisabled("1578703058")}scheduleIfNeeded(){this.isScheduled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new E4;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:{},value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:{},value:this.numLostMetrics}));const s={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},a=JSON.stringify(s);try{await j.post(this.postUrl,s,{authOption:so.Anonymous}),this.numMetricPostErrors=0}catch(i){i instanceof Bt||V.addError(i,{json:a}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(V.addAction(`Exceeded maximum number of post errors (${this.maxPostErrors}). Dropping ${this.numLostMetrics} metrics.`),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const Q=new _j;function Eu({percentage:e,thickness:t=1/12,className:n,sizeOverride:r,backgroundStrokeClassName:s="stroke-gray-400",transitionDuration:a,transitionTimingFunction:i,onTransitionEnd:l}){const c=r??120,d=c*t,f=(c-d)/2,m=2*Math.PI*f,p=m-e/100*m;return o.jsxs("svg",{width:c,height:c,viewBox:`0 0 ${c} ${c}`,className:n,children:[o.jsx("circle",{className:N("origin-[50%_50%] -rotate-90",s),strokeWidth:d,fill:"transparent",r:f,cx:c/2,cy:c/2}),o.jsx("circle",{className:"origin-[50%_50%] -rotate-90 transition-[stroke-dashoffset]",stroke:"currentColor",strokeWidth:d,strokeDashoffset:p,strokeDasharray:`${m} ${m}`,fill:"transparent",r:f,cx:c/2,cy:c/2,style:{strokeLinecap:"round",transitionDuration:a,transitionTimingFunction:i},onTransitionEnd:l})]})}const T_e=({size:e=40,className:t="text-blue-selection"})=>o.jsx("div",{className:N("relative",t),style:{width:e,height:e},children:o.jsxs("svg",{className:"absolute h-full w-full animate-spin",viewBox:"0 0 50 50",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",style:{stopColor:"currentColor",stopOpacity:1}}),o.jsx("stop",{offset:"100%",style:{stopColor:"currentColor",stopOpacity:0}})]})}),o.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"url(#spinner-gradient)",strokeWidth:"8",strokeLinecap:"round",fill:"none",strokeDasharray:"75,150",strokeDashoffset:"0"})]})}),ku=de(()=>({focusedObject:null}));function A_e(){return ku(e=>e.focusedObject)}function Ej(e){return new URL(e,window.location.origin).searchParams.get("hints")==="search"}var kj=(e=>(e.Mobile="mobile",e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e))(kj||{});const la={small:640,medium:768,large:1024,xlarge:1280};function ca({query:e,serverSideDefaultValue:t}){const n=mp(),r=u.useRef(null),s=u.useCallback(a=>{if(n==null)return()=>{};const i=n.matchMedia(e),l=new AbortController;return i.addEventListener("change",c=>{const d=c.matches,f=d!==r.current?.result;r.current={win:n,query:e,result:d},f&&a()},{signal:l.signal}),()=>{l.abort()}},[e,n]);return u.useSyncExternalStore(s,()=>{const a=wo(n);if(r.current?.win!==a||r.current?.query!==e){const i=a.matchMedia(e).matches;r.current={win:a,query:e,result:i}}return r.current.result},()=>t)}function P_e(){return ca({query:"(prefers-reduced-motion: reduce)",serverSideDefaultValue:!1})}function No(){return ca({query:`(min-width: ${la.small}px)`,serverSideDefaultValue:!0})}function xs(){return ca({query:`(min-width: ${la.medium}px)`,serverSideDefaultValue:!0})}function Vi(e){return e?e.matchMedia(`(min-width: ${la.medium}px)`).matches:!0}function Hp(){return ca({query:`(min-width: ${la.large}px)`,serverSideDefaultValue:!0})}function Tj(){return ca({query:`(min-width: ${la.xlarge}px)`,serverSideDefaultValue:!1})}function N_e(){return ca({query:`(max-width: ${la.small-1}px)`,serverSideDefaultValue:!0})}function Kn(){return!No()}function Aj(e=window){return!e?.matchMedia(`(min-width: ${la.small}px)`).matches}function j_e(){const e=No(),t=xs(),n=Hp();return Tj()?"xlarge":n?"large":t?"medium":e?"small":"mobile"}function Pj(){return ca({query:"(hover: hover) and (pointer: fine)",serverSideDefaultValue:!1})}function Nj(){return Ad()?typeof CSS<"u"&&CSS.supports("container-type: inline-size"):!0}function jj(){return{finished:Promise.resolve(),ready:Promise.resolve(),skipTransition:()=>{},types:new Set,updateCallbackDone:Promise.resolve()}}function Ij(){return"ViewTransitionTypeSet"in document}function M2({forceFlushSync:e,update:t,className:n,types:r}){if("startViewTransition"in document){let s;const a=Ij();r&&document.documentElement.setAttribute("active-view-transition-type",r.join(","));const i=["active-view-transition"];return n&&i.push(n),document.documentElement.classList.add(...i),a?s=document.startViewTransition({update:()=>{document.documentElement.classList.add("update-callback-done"),e?ds.flushSync(t):t()},types:r}):s=document.startViewTransition(()=>{document.documentElement.classList.add("update-callback-done"),e?ds.flushSync(t):t()}),s.finished?.then(async()=>{await C2.yield(),document.documentElement.classList.remove(...i,"update-callback-done"),document.documentElement.removeAttribute("active-view-transition-type")}),s}else{const s=jj();return setTimeout(()=>{t()},0),s}}const Rj="_lockSidebarAnimation_15e8l_1",Lj={lockSidebarAnimation:Rj};var un=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.UserContext="user-context",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e.LogoutConfirm="logout-confirm",e.NotificationFeed="notification-feed",e))(un||{});const X8=we.IsGptListCollapsed;function Oj(){if(!Vi(window))return{collapsed:!0};const e=lt.getCookie(ct.NavigationState);if(e!=null){if(e==="0")return{collapsed:!0};if(e==="1")return{collapsed:!1};lt.deleteCookie(ct.NavigationState)}return{collapsed:!1}}function Dj({collapsed:e}){lt.setCookie(ct.NavigationState,e?"0":"1",{maxAge:2**30})}const se=de()(()=>({isThreadHeaderVisible:!0,isNavCollapsed:Oj().collapsed,isVoiceActive:!1,isConversationScrolledFromTop:!1,sharingModalThreadId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,isGptListCollapsed:Et.getItem(X8)??!0,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,isSidebarLocked:!0,temporaryDisableHoverSidebar:!1,temporaryDisableHoverSidebarTimeoutId:null,displayAnnouncementTooltip:null,noAuthMadlibsModalOpen:!1,onboardingConvoState:null})),I_e={isThreadHeaderVisible:e=>e.isThreadHeaderVisible,isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible,isGptListCollapsed:e=>e.isGptListCollapsed},pt={setBrowseMode:e=>{se.setState(t=>({...t,browseMode:e}))},setIsConversationScrolledFromTop:e=>{se.setState(t=>({...t,isConversationScrolledFromTop:e}))},enterGizmoEditor:()=>{se.setState({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{se.setState({browseMode:"conversation"})},toggleGptListCollapsed:()=>{se.setState(e=>{const t=!e.isGptListCollapsed;return Et.setItem(X8,t),E.logToggleShowGptList({isCollapsed:t}),{isGptListCollapsed:t}})},toggleNavCollapsed:(e,t)=>{se.setState(n=>{let r=e;return r==null&&(Vi(window)?r=!J8(kA()):r=!n.isNavCollapsed),Vi(window)&&Dj({collapsed:r}),E.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:r,action:t??"other"}),{isNavCollapsed:r}}),ex=!1},hideThreadHeader:()=>{se.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{se.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){se.setState({sharingModalThreadId:e}),E.logEvent(_.shareConversationOpenModal,{location:t})},closeSharingModal(){se.setState({sharingModalThreadId:void 0})},openFeedbackModal(e){se.setState({feedbackModalThreadId:e})},closeFeedbackModal(){se.setState({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){se.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){se.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){se.setState({activeSidebar:e})},toggleActiveSidebar(e){se.setState(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){se.setState(()=>({activeSidebar:!1}))},setIsSidebarLocked(e){if(!e){se.setState({isSidebarLocked:e});return}M2({update:()=>{se.setState({isSidebarLocked:e})},className:Lj.lockSidebarAnimation})},setTemporaryDisableHoverSidebar(){const e=se.getState().temporaryDisableHoverSidebarTimeoutId;e&&window.clearTimeout(e),se.setState({temporaryDisableHoverSidebar:!0});const t=window.setTimeout(()=>{se.setState({temporaryDisableHoverSidebar:!1}),se.setState({temporaryDisableHoverSidebarTimeoutId:null})},700);se.setState({temporaryDisableHoverSidebarTimeoutId:t})},setActiveStageSidebar(e){se.setState({activeStageSidebar:e})},toggleModal(e){se.setState(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){se.setState(t=>{if(t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){se.setState(t=>{if(!t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},closeAllActiveModals(){se.getState().activeModals.size>0&&se.setState({activeModals:new Set})},hideLatencyDevTools:()=>{se.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{se.setState({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e,t=!1){se.setState(n=>n.displayAnnouncementTooltip&&!t?n:{displayAnnouncementTooltip:e})},setNoAuthMadlibsModalOpen:e=>{se.setState({noAuthMadlibsModalOpen:e}),Et.setItem(we.NoAuthMadlibsModalState,"seen")},setOnboardingConvoState:e=>{se.setState({onboardingConvoState:e})}};function Vp(e){return se(t=>t.activeModals.has(e))}function R_e(){return se(e=>e.activeModals.size>0)}function Fj(e){return e.getLayer("3737571708").get("sidebar_type","slick")==="heavy"}function J8(e){if(ex)return!0;const t=lt.getCookie(ct.NavigationState);return t!=null?t==="0":e.getLayer("1358188185").get("sidebar-default-close",!1)||e.getExperiment("1809520125").get("enable_closed_by_default",!1)}let ex=Ej(window.location.href);function Gp(){const{isUnauthenticated:e}=at(),t=se(s=>s.isNavCollapsed),n=Hv(),r=xs();return e&&!Fj(n)?!0:r?J8(n):t}function $j(){const[e,t]=u.useState(!1);return u.useEffect(()=>se.subscribe(n=>{n.activeModals.has("blocking-initial-component")&&t(r=>r||n.activeModals.has("blocking-initial-component"))}),[]),e}function L_e(e){const t=se(n=>n.onboardingConvoState?.onboardingConvoClientThreadId);return!!t&&e&&vn(e)===vn(t)}var s1=(e=>(e[e.Textdoc=0]="Textdoc",e[e.ADAVisualization=1]="ADAVisualization",e))(s1||{});const Dr=de(()=>({focusedObject:null,fromMessageId:null})),O_e=(e,t)=>{const n=Dr.getState();t!==n.fromMessageId&&(Dr.setState({focusedObject:e,fromMessageId:t}),pt.toggleNavCollapsed(!0))},Wp=e=>{Dr.setState({focusedObject:e,fromMessageId:null}),pt.toggleNavCollapsed(!0)},fs=e=>{ku.setState({focusedObject:null});const t=Dr.getState(),{focusedObject:n}=t;(!n||n.type!==0||n.textdocId!==e)&&tx(e)},tx=e=>{Wp({type:0,textdocId:e})},Bj=(e,t,n)=>{Wp({type:0,textdocId:e,history:t,showChangesAtVersion:n})},Uj=(e,t,n)=>{Wp({type:0,textdocId:e,showChangesAtVersion:t,history:n??void 0})},nx=()=>{Dr.setState({focusedObject:null})},Hj=()=>{Dr.setState({focusedObject:null,fromMessageId:null})};function Vj(e){return function(){return e}}var rx=Vj;function Gj(e){return function(t,n,r){for(var s=-1,a=Object(t),i=r(t),l=i.length;l--;){var c=i[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var Wj=Gj,zj=Wj,qj=zj(),sx=qj,Zj=sx,Yj=pp;function Kj(e,t){return e&&Zj(e,t,Yj)}var zp=Kj,Qj=zp;function Xj(e,t,n,r){return Qj(e,function(s,a,i){t(r,n(s),a,i)}),r}var Jj=Xj,eI=Jj;function tI(e,t){return function(n,r){return eI(n,e,t(r),{})}}var nI=tI,rI=rx,sI=nI,aI=dl,oI=Object.prototype,iI=oI.toString,lI=sI(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=iI.call(t)),e[t]=n},rI(aI)),cI=lI;const uI=ue(cI);function qp(e,t){if(!e||t==null)return null;const{resolveTempTextdocId:n}=e,r=n?.[t]??t;let s=e.textdocById[r]??e.textdocById[t]??null;if(!s&&n){const a=uI(n);s=e.textdocById[a[r]]??null}return s}const Tu=Symbol(),dI=Symbol(),fI=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),ax=fI?u.useEffect:u.useLayoutEffect,mI=Pf.unstable_runWithPriority?e=>{try{Pf.unstable_runWithPriority(Pf.unstable_NormalPriority,e)}catch(t){if(t.message==="Not implemented.")e();else throw t}}:e=>e(),pI=e=>({value:n,children:r})=>{const s=u.useRef(n),a=u.useRef(0),[i,l]=u.useState(null);i&&(i(n),l(null));const c=u.useRef();if(!c.current){const d=new Set,f=(m,p)=>{a.current+=1;const g={n:a.current};p?.suspense&&(g.n*=-1,g.p=new Promise(v=>{l(()=>h=>{g.v=h,delete g.p,v(h)})})),d.forEach(v=>v(g)),m()};c.current={[Tu]:{v:s,n:a,l:d,u:f}}}return ax(()=>{s.current=n,a.current+=1,mI(()=>{c.current[Tu].l.forEach(d=>{d({n:a.current,v:n})})})},[n]),u.createElement(e,{value:c.current},r)};function gI(e){const t=u.createContext({[Tu]:{v:{current:e},n:{current:-1},l:new Set,u:n=>n()}});return t[dI]=t.Provider,t.Provider=pI(t.Provider),delete t.Consumer,t}function hI(e,t){const n=u.useContext(e)[Tu],{v:{current:r},n:{current:s},l:a}=n,i=t(r),[l,c]=u.useReducer((d,f)=>{if(!f)return[r,i];if("p"in f)throw f.p;if(f.n===s)return Object.is(d[1],i)?d:[r,i];try{if("v"in f){if(Object.is(d[0],f.v))return d;const m=t(f.v);return Object.is(d[1],m)?d:[f.v,m]}}catch{}return[...d]},[r,i]);return Object.is(l[1],i)||c(),ax(()=>(a.add(c),()=>{a.delete(c)}),[a]),l[1]}var _2=(e=>(e.NATIVE="native",e.LAST_TURN="last_turn",e))(_2||{});const ox=gI(null);function vI(){return{lastCanvasAssistantMessageById:{},resolveTempCommentId:{},resolveTempTextdocId:{},latestTextdocId:null}}function ix(e){return{fetchError:null,isFetchingFromPersistence:!1,textdocById:{},allTextdocIdSet:{},streamingSource:null,...e??vI()}}function es(e,t){return Pd(e,t)}function Ni(e,t,n=!0){const r=e.textdocById[t.textdocId];if(r)e.textdocById[t.textdocId]=r,r.metadata.type=t.type,r.metadata.title=t.title,r.metadata.updatedAt=t.createdAt,r.metadata.contentReferences=t.metadata?.content_references,n?r.versions.push(t):r.versions[r.versions.length-1]=t;else{const s={metadata:{textdocId:t.textdocId,type:t.type,title:t.title,createdAt:t.createdAt,updatedAt:t.createdAt,contentReferences:t.metadata?.content_references},versions:[t]};e.allTextdocIdSet[t.textdocId]=t.textdocId,e.textdocById[t.textdocId]=s}}function On(e=TA){return hI(ox,e)}function xI(){return On(e=>e?.isFetchingFromPersistence)}function D_e(){return On(e=>e?.resolveTempCommentId)}function CI(){return On(e=>e?.latestTextdocId??null)}function F_e(){return On(e=>e?.streamingSource??null)}function $_e(e){return On(t=>qp(t,e))}function a1(e){return On(t=>qp(t,e)?.metadata??null)}function lx(){const e=On(t=>t?.allTextdocIdSet);return e?Object.keys(e):null}function yI(){return On(e=>e?Object.keys(e.allTextdocIdSet).length>1:!1)}function bI({textdocId:e,assistantMessageId:t}){return On(n=>{const r=n?.lastCanvasAssistantMessageById;return r==null||e==null?!0:r[e]==null||r[e]===t})}function cx(){return Dr(e=>e.focusedObject)}function wI(){const e=Dr(t=>t.focusedObject);return e?.type!==s1.Textdoc?null:e}function SI(){const e=Dr(t=>t.focusedObject);return e?.type!==s1.Textdoc?null:e.history??null}function o1(){return cx()!=null}function Zp(e){const t=cx();return On(n=>{if(!e||t?.type!==s1.Textdoc)return!1;const r=n?.resolveTempTextdocId??{},s=r[t.textdocId]??t.textdocId,a=r[e]??e;return s===a})}var An=(e=>(e.INFERRING="inferring",e.PENDING="pending",e.SENT="sent",e))(An||{}),Gi=(e=>(e.MODEL="model",e.SYSTEM_HINT_CANVAS="system_hint_canvas",e.SYSTEM_HINT_CANVAS_APPS="system_hint_canvas_apps",e.USER_CREATED_COMPOSER="user_created_composer",e.MESSAGE_CODE_SNIPPET="message_code_snippet",e.MESSAGE="message",e.TASK_RESULT="task_result",e.REMIX_OF_SHARED_CANVAS="remix_of_shared_canvas",e))(Gi||{});const Tr=-1;var pn=(e=>(e.CREATING="creating",e.REWRITING="rewriting",e.COMMENTING="commenting",e.UPDATING="updating",e.COMPLETE="complete",e.ATTACHED_PENDING="attached_pending",e.ATTACHED_SENT="attached_sent",e))(pn||{});const B_e=e=>e?.status!=="complete"&&e?.status!=="attached_pending"&&e?.status!=="attached_sent",U_e=e=>e?.status==="rewriting",H_e=e=>e?.status==="creating",V_e=e=>e?.status==="attached_pending"||e?.status==="attached_sent",G_e=e=>e?.status==="attached_pending";var Ya=(e=>(e.DOCUMENT="document",e.CODE_BASH="code/bash",e.CODE_ZSH="code/zsh",e.CODE_JAVASCRIPT="code/javascript",e.CODE_TYPESCRIPT="code/typescript",e.CODE_HTML="code/html",e.CODE_CSS="code/css",e.CODE_PYTHON="code/python",e.CODE_JSON="code/json",e.CODE_SQL="code/sql",e.CODE_GO="code/go",e.CODE_YAML="code/yaml",e.CODE_JAVA="code/java",e.CODE_RUST="code/rust",e.CODE_CPP="code/cpp",e.CODE_SWIFT="code/swift",e.CODE_PHP="code/php",e.CODE_XML="code/xml",e.CODE_RUBY="code/ruby",e.CODE_HASKELL="code/haskell",e.CODE_KOTLIN="code/kotlin",e.CODE_CSHARP="code/csharp",e.CODE_C="code/c",e.CODE_OBJECTIVEC="code/objectivec",e.CODE_R="code/r",e.CODE_LUA="code/lua",e.CODE_DART="code/dart",e.CODE_SCALA="code/scala",e.CODE_PERL="code/perl",e.CODE_COMMONLISP="code/commonlisp",e.CODE_CLOJURE="code/clojure",e.CODE_OCAML="code/ocaml",e.CODE_POWERSHELL="code/powershell",e.CODE_VERILOG="code/verilog",e.CODE_DOCKERFILE="code/dockerfile",e.CODE_VUE="code/vue",e.CODE_REACT="code/react",e.CODE_OTHER="code/other",e.LOADING="loading",e))(Ya||{});function Au(e){return e.startsWith("code/")}function co(e){const t=Bp(e,Object.values(Ya),null);if(t)return t;if(e==="webview")return"code/html";if(e.startsWith("code"))switch(e){case"code/js":return"code/javascript";default:return"code/other"}return"document"}var it=(e=>(e.CREATE="create",e.REWRITE="rewrite",e.EDIT="edit",e.ADD_COMMENT="add_comment",e.REMOVE_COMMENT="remove_comment",e))(it||{}),ux=(e=>(e.ACCEPT="accept",e.DISMISS="dismiss",e))(ux||{}),E2=(e=>(e.ACCEPT_INITIATED="accept_initiated",e.DISMISSED="dismissed",e.PENDING="pending",e))(E2||{}),MI=(e=>(e.ADDED="added",e.REMOVED="removed",e))(MI||{}),_I=(e=>(e.ACCEPT_COMMENT="accept_comment",e.ASK_CHATGPT="ask_chatgpt",e.ACCELERATOR="accelerator",e.CONSOLE="console",e.FULL_SCREEN_SUBMIT="full_screen_submit",e))(_I||{}),dx=(e=>(e.PUBLIC="public",e.PRIVATE="private",e.WORKSPACE="workspace",e))(dx||{});const EI=e=>Bp(e,Object.values(dx),void 0),kI=new RegExp("((?:\\n|\\r)+)((?:\\s{2,}|\\t)+)?|(```)|([#*_-]+)|([(){}[\\]]+)|([\\x21-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7B-\\x7E]+)|(\\b(?:await|break|case|catch|class|continue|default|define|except|extends|export|finally|implements|import|include|print|private|protected|public|return|span|switch|system|template|throw|type|using|while)\\b)|(\\b(?:async|breakpoint|cin|cmd|console|const|constexpr|cout|def|defn|div|env|fn|func|function|href|html|img|interface|lambda|namespace|println|src|stdout|struct|var|workdir|yield)\\b)","gi"),TI=[80.33911781017851,19.194942847935266,-78.96158351597562,31.404985863148777,48.13976028814005,82.48501866379408,15.781632991361631,67.81666324403915],AI=-9.860574779222393;function PI(e){return NI(jI(e),TI,AI)>0}function NI(e,t,n){let r=n;for(let s=0;s<e.length;s++)r+=e[s]*t[s];return r}function jI(e){const t=[0,0,0,0,0,0,0,0];if(!e)return t;let n;for(;(n=kI.exec(e))!=null;)for(let r=0;r<t.length;r++)n[r+1]&&(t[r]+=n[r+1].length);for(let r=0;r<t.length;r++)t[r]/=e.length;return t}function II(e){return{sharedTextdocId:e.shared_textdoc_id,versionInt:e.version??void 0,title:e.name,type:co(e.textdoc_type),content:e.content,access:EI(e.access),isModerationBlocked:e.is_moderation_blocked,isAnonifyApiKeyDetected:e.is_anonify_api_key_detected??!1}}var RI=Vv,LI=function(){return RI.Date.now()},OI=LI,DI=ra,jf=OI,k4=Gv,FI="Expected a function",$I=Math.max,BI=Math.min;function UI(e,t,n){var r,s,a,i,l,c,d=0,f=!1,m=!1,p=!0;if(typeof e!="function")throw new TypeError(FI);t=k4(t)||0,DI(n)&&(f=!!n.leading,m="maxWait"in n,a=m?$I(k4(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function g(A){var M=r,P=s;return r=s=void 0,d=A,i=e.apply(P,M),i}function v(A){return d=A,l=setTimeout(y,t),f?g(A):i}function h(A){var M=A-c,P=A-d,I=t-M;return m?BI(I,a-P):I}function x(A){var M=A-c,P=A-d;return c===void 0||M>=t||M<0||m&&P>=a}function y(){var A=jf();if(x(A))return b(A);l=setTimeout(y,h(A))}function b(A){return l=void 0,p&&r?g(A):(r=s=void 0,i)}function S(){l!==void 0&&clearTimeout(l),d=0,r=c=s=l=void 0}function T(){return l===void 0?i:b(jf())}function k(){var A=jf(),M=x(A);if(r=arguments,s=this,c=A,M){if(l===void 0)return v(c);if(m)return clearTimeout(l),l=setTimeout(y,t),g(c)}return l===void 0&&(l=setTimeout(y,t)),i}return k.cancel=S,k.flush=T,k}var fx=UI;const mx=ue(fx),px=4e4,HI="max-length-toast",gx=mx((e,t,n,r=1.5)=>e.warning(t,{description:n,duration:r,id:HI}),500,{leading:!0,trailing:!1});function W_e(e,t,n){gx(e,t.formatMessage(Pu.exceededMaxLengthTitle),t.formatMessage(Pu.exceededMaxLengthDescription),n)}function VI(e,t,n){gx(e,t.formatMessage(Pu.exceededMaxLengthTitle),t.formatMessage(Pu.exceededMaxLengthForTruncatedMessageDescription),n)}const Pu=U({exceededMaxLengthDescription:{id:"FQSdxE",defaultMessage:"The document is longer than a canvas can currently handle. To edit, please reduce the length."},exceededMaxLengthForTruncatedMessageDescription:{id:"q/2M6n",defaultMessage:"The document was truncated because it was too long."},exceededMaxLengthTitle:{id:"NFtrBL",defaultMessage:"Document exceeds max length"}}),i1="temp";function hx(e,t){return`${i1}-tdc-${t}-${e}`}function Yp(e){return`${i1}-td-${e}`}function GI(){return`${i1}-td-user:${Date.now()}`}function WI(e){return`${i1}-td-remix:${e}`}const jo=de(St(()=>({attachedTempTextdocs:{}}))),{setState:br,getState:zI}=jo,qI=7e3,Wi={createTempTextdoc:(e,t,n,r)=>{const s=GI(),a=r?co("code/"+r):PI(e)?Ya.CODE_OTHER:Ya.DOCUMENT;br(d=>{d.attachedTempTextdocs[s]={tempTextdocId:s,createdAt:Date.now(),status:An.INFERRING,type:a,title:t,content:e,create_source:n,hasUserEdits:!1}});let i=!1;const l=new Promise(d=>setTimeout(d,qI)).then(()=>{i=!0}),c=j.safePost("/conversation/textdocs/infer_metadata",{requestBody:{content:e.slice(0,px)}}).then(({name:d,type:f})=>{i||br(m=>{m.attachedTempTextdocs[s]&&(m.attachedTempTextdocs[s].title=d,m.attachedTempTextdocs[s].type=co(f))})});return Promise.race([l,c]).finally(()=>{br(d=>{d.attachedTempTextdocs[s]&&(d.attachedTempTextdocs[s].status=An.PENDING)})}),s},createRemixTempTextdoc:(e,t)=>{const n=WI(e);if(!zI().attachedTempTextdocs[n])return br(r=>{r.attachedTempTextdocs[n]={tempTextdocId:n,createdAt:Date.now(),status:An.PENDING,type:Ya.LOADING,title:"",content:"",create_source:Gi.REMIX_OF_SHARED_CANVAS,hasUserEdits:!1,remixSharedTextdocId:e}}),j.safeGet("/textdoc/shared/{shared_textdoc_id}",{parameters:{path:{shared_textdoc_id:e}}}).then(({shared_textdoc:r})=>{const s=II(r);br(a=>{a.attachedTempTextdocs[n]={tempTextdocId:n,createdAt:Date.now(),status:An.PENDING,type:s.type,title:t.formatMessage({id:"cuH4su",defaultMessage:"Copy of {title}"},{title:s.title}),content:s.content,create_source:Gi.REMIX_OF_SHARED_CANVAS,hasUserEdits:!1,remixSharedTextdocId:s.sharedTextdocId}})}).catch(()=>{Wi.removeTempTextdoc(n),window.location.href=Wv(zv.CANVAS_NOT_FOUND)}),n},replaceTempTextdocContent:(e,t)=>{br(n=>{n.attachedTempTextdocs[e].content=t,n.attachedTempTextdocs[e].hasUserEdits=!0})},markAsSent:e=>{br(t=>{t.attachedTempTextdocs[e].status===An.PENDING?t.attachedTempTextdocs[e].status=An.SENT:delete t.attachedTempTextdocs[e]})},markAllAsSent:()=>{br(e=>{for(const t of Object.keys(e.attachedTempTextdocs))e.attachedTempTextdocs[t].status===An.PENDING?e.attachedTempTextdocs[t].status=An.SENT:delete e.attachedTempTextdocs[t]})},removeTempTextdoc:e=>{br(t=>{delete t.attachedTempTextdocs[e]})}},kl=So(({attachedTempTextdocs:e})=>e),ZI=So(e=>Object.values(e)),Kp=So(e=>Object.values(e).filter(t=>t.status!==An.SENT)),z_e=()=>Kp(kl(jo.getState())),YI=()=>jo(e=>ZI(kl(e))),KI=()=>jo(e=>Kp(kl(e))),q_e=e=>jo(t=>{if(e)return kl(t)[e]}),Z_e=()=>jo(e=>Kp(kl(e)).length>0),is="canmore";var yt=(e=>(e.CreateTextdoc=`${is}.create_textdoc`,e.UpdateTextdoc=`${is}.update_textdoc`,e.CommentTextdoc=`${is}.comment_textdoc`,e))(yt||{});function vx(e){return e===yt.CreateTextdoc||e===yt.UpdateTextdoc||e===yt.CommentTextdoc}var re=(e=>(e[e.STREAMING=0]="STREAMING",e[e.WAITING=1]="WAITING",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e[e.CANCELED=4]="CANCELED",e[e.REDACTED=5]="REDACTED",e))(re||{});const QI=e=>{const[t,n]=u.useState(null),r=u.useCallback(a=>{n(i=>{if(!i)return[a];const l=[...i];for(let c=0;c<i.length;c++)l[c].id===a.id?l[c]=a:c===l.length-1&&l.push(a);return l})},[]),s=u.useCallback(()=>n(null),[]);return w4(_u.TurnComplete,async()=>{await e(),s()}),w4(_u.CanvasMessage,async({message:a})=>{const{message:i}=a,{recipient:l,author:c}=i;(l?.startsWith(is)||c.name?.startsWith(is))&&r(i)}),t};function XI(e,t){return e.replace(new RegExp("\\\\(\\d+)|\\\\g<(?:(\\d+)|(\\D[^>]*))>|((?<!\\\\)\\\\(?:g(?:<[^>]*)?)?$)","gi"),(n,r,s,a,i)=>{if(r==="0")return"\\0";const l=r??s;if(l)return t[tj(l)]??"";if(a)return t.groups?.[a]??"";if(i)return"";throw new Error("Unreachable")})}function JI(e,t){let n="",r=0,s=0,a=0,i=0,l=!1;const c=x=>{r+=x},d=x=>{r>s&&(n+=e.slice(s,r)),r=s=r+x},f=x=>{d(0),n+=x},m=()=>{f("\\"),c(1)},p=x=>{if(r+x<e.length)return e[r+x]},g=(x,y=0)=>r+y<e.length&&x===e[r+y],v=x=>{const y=e.indexOf(x,r);if(y===-1)d(e.length-r);else return y-r},h=x=>{let y=1;if(p(x)==="\\"){const S=p(x+1);y=S==="U"?10:S==="u"?6:S==="x"?4:2}const b=r+x+y>e.length;return b&&d(e.length-r),b};for(;r<e.length;){if(g("\\")){if(h(0))continue;const b=p(1)??"";if(b==="a")d(2),f("\\x07");else if(b==="A")d(2),f("^");else if(b==="z")d(2),f("$");else if(b==="Z")d(2),f("(?=\\n?$)");else if(b==="U"){const S=e.slice(r+2,r+10);d(10),f(`\\u{${parseInt(S,16).toString(16)}}`)}else if(b==="u")c(6);else if(b==="x")c(4);else{let S;l?S=/[0bdDsSwWfnrtv()[\]{}|/\\^-]/.test(b):/[1-9]/.test(b)?S=parseInt(b,10)<=i:S=/[0bBdDsSwWfnrtv()[\]{}|/\\^$.?*+]/.test(b),S?c(2):d(1)}continue}if(g("]")){l?(l=!1,c(1)):m();continue}else if(l){if(g("-")&&h(1))continue;/[()[\]{}|/\\]/.test(e[r])?m():c(1);continue}else if(g("[")){l=!0,c(1),g("]")&&m();continue}if(g("|")&&h(1))continue;if(g("{")){const b=/^\{(?:\d+(?:,\d*)?(\}|$)|$)/.exec(e.slice(r));r>0&&b?.[1]==="}"?c(b[0].length):r>0&&b&&t?d(b[0].length):m();continue}else if(g("}")){m();continue}if(g("+")){const b=p(-1);b&&/[*+?}]/.test(b)&&p(-2)!=="\\"?d(1):c(1);continue}if(g(")")){a>0?(a--,c(1)):m();continue}if(!g("(")){c(1);continue}if(h(1))continue;if(p(1)!=="?"){a++,i++,c(1);continue}if(h(2))continue;const x=p(2);if(!x){d(2);continue}if(x==="#"){const b=v(")");b&&d(1+b);continue}if(x==="P"){if(p(3)==="="){const b=v(")");if(b){const S=e.slice(r+4,r+b);d(1+b),f(`\\k<${S}>`)}}else{const b=v(">");if(b){const S=e.slice(r+4,r+b);if(d(1+b),h(0))continue;f(`(?<${S}>`),a++}}continue}if(/[-a-z]/.test(x)){const b=e.indexOf(":",r)>=0,S=v(b?":":")");if(S&&d(1+S),b){if(h(0))continue;f("(?:"),a++}continue}if(x===">"){if(d(3),h(0))continue;f("(?:"),a++;continue}const y=x==="<"?4:3;h(y)||(c(y),a++)}for(n+=e.slice(s,e.length),l&&(n+="]");a-- >0;)n+=")";return n.length>0?n:"(?!)"}function T4(e){const t=[/^`{1,3}\s*$/,/^```[^\n]*\n?/],n=[/\n?`{1,3}\s*$/];for(const r of t)if(r.test(e)){e=e.replace(r,"");break}for(const r of n)if(r.test(e)){e=e.replace(r,"");break}return e}function xx(e){let t=e;return t=t.replace(/\.[^/.]+$/,""),t=t.replace(/_/g," "),t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")}function Nu(e,t){return t!=null||e!=null?{modelSelectionPositionRange:t,modelCursorPosition:e}:void 0}function eR(e,t,n){const r=[],s=t.start-t.end+n;for(const a of e){const i=tR(a.at,t,s);i&&r.push(i===a.at?a:{...a,at:i})}return r}function tR(e,t,n){return t.start>=e.end?e:t.start<=e.start&&t.end>=e.end?null:t.end<=e.start?n===0?e:{start:e.start+n,end:e.end+n}:t.start<=e.start?{start:t.end+n,end:e.end+n}:t.end>=e.end?{start:e.start,end:t.start}:{start:e.start,end:e.end+n}}const nR=/[*_-\s\d.\\`]+$/;function k2(e,t){return t?e.replace(nR,""):e}function Cx(e,t){return es(e,n=>{for(const r of t){if(r.kind===it.CREATE){const s=sR(r);Ni(n,s)}else{const s=n.textdocById[r.textdocId];if(!s){V.addError("Attempted to apply canmore operation to an unknown target id",{textdocOp:r});continue}const a=s.versions[s.versions.length-1],i=yx(a,r);Ni(n,i,rR(a,r))}r.textdocId&&(n.latestTextdocId=r.textdocId)}})}function rR(e,t){if(t.author.role===Ce.User)return e.messageId?!0:t.createdAt-e.createdAt>3600;switch(t.kind){case it.REWRITE:return!0;case it.EDIT:return t.messageId!==e.messageId;case it.ADD_COMMENT:return!1;case it.REMOVE_COMMENT:return!1}}function sR(e){const t=!!e.isPartial,n=k2(e.content,t);return{textdocId:e.textdocId,versionInt:e.versionInt??null,messageId:e.messageId??null,title:e.title,type:e.type,content:n,createdAt:e.createdAt,status:t?pn.CREATING:pn.COMPLETE,comments:[],modelCursor:Nu(e.author.role===Ce.Assistant&&e.isPartial?n.length:void 0)}}function aR(e,t){if(!e.isPartial)return;if(e.isPartialRange)return Nu(void 0,e.at);const n=e.at.start+t.length;return Nu(n)}function yx(e,t){switch(t.kind){case it.REMOVE_COMMENT:return{...e,versionInt:t.versionInt??e.versionInt,comments:e.comments.map(n=>n.id===t.commentId?{...n,status:t.reason===ux.ACCEPT?E2.ACCEPT_INITIATED:E2.DISMISSED}:n)};case it.REWRITE:{const n=e.status!==pn.COMPLETE||t.isPartial===!0,r=k2(t.content,n),s=t.author.role===Ce.Assistant&&t.isPartial?r.length:void 0;return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,content:r,createdAt:t.createdAt,comments:t.comments??e.comments,status:t.isPartial?pn.REWRITING:pn.COMPLETE,modelCursor:Nu(s)}}case it.EDIT:{const n=t.isPartial&&t.isPartialRange?e.content.slice(t.at.start,t.at.end):k2(t.content,t.isPartial===!0),r=e.content.slice(0,t.at.start)+n+e.content.slice(t.at.end);return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,content:r,createdAt:t.createdAt,status:t.isPartial?pn.UPDATING:pn.COMPLETE,comments:eR(e.comments,t.at,n.length),modelCursor:aR(t,n)}}case it.ADD_COMMENT:{const n={id:t.id??t.tempId,tempId:t.tempId,at:t.at,content:t.content??""},r=e.comments.concat(n);return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,createdAt:t.createdAt,status:t.isPartial?pn.COMMENTING:pn.COMPLETE,comments:r}}}}function oR(e){let t="";const n=e.length;let r=0,s=0;for(;r<n;){let a=e.charCodeAt(r);if(a!==92){r++;continue}if(s<r&&(t+=e.slice(s,r)),r++,r>=n){t+="\\";break}switch(a=e.charCodeAt(r),a){case 110:t+=`
`,r++;break;case 116:t+="	",r++;break;case 114:t+="\r",r++;break;case 98:t+="\b",r++;break;case 102:t+="\f",r++;break;case 118:t+="\v",r++;break;case 48:t+="\0",r++;break;case 39:t+="'",r++;break;case 34:t+='"',r++;break;case 92:t+="\\",r++;break;case 120:if(r+2<n){const i=parseInt(e.slice(r+1,r+3),16);if(!isNaN(i)){t+=String.fromCharCode(i),r+=3;break}}t+="\\x",r++;break;case 117:if(r+1<n)if(e.charAt(r+1)==="{"){const i=e.indexOf("}",r+2);if(i!==-1){const l=parseInt(e.slice(r+2,i),16);if(!isNaN(l)&&l<=1114111){t+=String.fromCodePoint(l),r=i+1;break}}}else{const i=parseInt(e.slice(r+1,r+5),16);if(!isNaN(i)){t+=String.fromCharCode(i),r+=5;break}}t+="\\u",r++;break;default:t+="\\"+e.charAt(r),r++;break}s=r}return s<n&&(t+=e.slice(s)),t}const A4=e=>e===" "||e===`
`||e==="\r"||e==="	";function iR(e,t=!1){let n=0,r=null;const s=[];if(!e)return[void 0,s];if(t)return[l(),s];try{return[JSON.parse(e),null]}catch(v){return r=v,[l(),s]}function a(){for(;n<e.length&&A4(e[n]);)n++;return n<e.length}function i(v){return a()&&e[n]===v?(n++,!0):!1}function l(){if(a())switch(e[n]){case"{":return m();case"[":return p();case'"':{const[v]=d();return v}case"f":return g("false",!1);case"t":return g("true",!0);case"n":return g("null",null);case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return f()}throw r}function c(v,h=!1){return h?oR(v):v}function d(v=!1){const h=n+1;let x=!1;for(n++;n<e.length;){const y=e[n++];if(y==="\\"){if(x=!0,n===e.length||e[n]==="u"&&n+4>=e.length){const b=n-1;return n=e.length,[c(e.slice(h,b),x),!1]}n++;continue}if(y==='"'){let b=n;for(;b<e.length&&A4(e[b]);)b++;if(e[b]==null||e[b]===","||e[b]==="]"||e[b]==="}"||v&&e[b]===":")return[c(e.slice(h,n-1),x),!0]}}return[c(e.slice(h,n),x),!1]}function f(){const v=n;for(;n<e.length&&/[0-9.eE+-]/.test(e[n]);)n++;const h=Number(e.slice(v,n));if(isNaN(h)){if(a())throw r;return 0}return h}function m(){n++;const v={};if(i("}"))return v;for(;a();){const[h,x]=d(!0);if(!x||(s.push(h),!a()))break;if(!i(":"))throw r;if(!a()||(v[h]=l(),!a()))break;if(i("}")){s.pop();break}if(!i(","))throw r;s.pop()}return v}function p(){n++;const v=[];if(i("]"))return v;for(s.push(0);a()&&(v.push(l()),!!a());){if(i("]")){s.pop();break}if(!i(","))throw r;s[s.length-1]=v.length}return v}function g(v,h){const x=n+v.length;if(x<=e.length?e.slice(n,x)===v:v.startsWith(e.slice(n)))return n=x,h;throw r}}function If(e,t,n=!1){try{const[r,s]=iR(e);return[t(r),s]}catch(r){return n&&n1.logError("JSON parsing",r),[void 0,[]]}}function ni(e,t){return e!=null&&t.every((n,r)=>e[r]===n)}const lR=kr({type:os(as),name:os(as),content:os(as)}),cR=kr({updates:z8(kr({pattern:os(as),multiple:os(nj),replacement:os(as)}))}),uR=kr({comments:z8(kr({pattern:os(as),comment:os(as)}))});function bx(e){const t=e.author.name;if(!vx(t))return null;const n=e?.metadata?.canvas;return{function:t,status:mR(e),textdocId:n?.textdoc_id,type:n?.textdoc_type&&co(n.textdoc_type),versionInt:pR(n),commentIds:n?.comment_ids}}function dR(e,t,n){const{id:r,author:s,recipient:a,create_time:i}=t;if(!i)throw new Error("Expected a create_time");const l=Ks(t),c=n&&bx(n);if(t?.metadata?.is_redacted||c?.status===re.REDACTED||l==="The output of this plugin was redacted.")return{function:a,status:re.REDACTED,messageId:r,author:s,createdAt:i};switch(a){case yt.CreateTextdoc:{const[d,f]=If(l,lR),m=c?.type??(!d?.type||ni(f,["type"])?void 0:co(d.type));return{function:yt.CreateTextdoc,status:c?.status??Rf(e,t,f!=null),messageId:r,author:s,createdAt:i,textdocId:c?.textdocId,versionInt:c?.versionInt,title:d?.name,type:m,content:d?.content}}case yt.UpdateTextdoc:{const[d,f]=If(l,cR,!e),m=d?.updates.map((p,g)=>({...p,isPartialPattern:ni(f,["updates",g,"pattern"]),isPartial:ni(f,["updates",g])}));return{function:yt.UpdateTextdoc,status:c?.status??Rf(e,t,f!=null),messageId:r,author:s,createdAt:i,textdocId:c?.textdocId,versionInt:c?.versionInt,updates:m}}case yt.CommentTextdoc:{const[d,f]=If(l,uR,!e),m=c?.commentIds,p=d?.comments.map((g,v)=>({...g,id:m?.[v],isPartialPattern:ni(f,["comments",v,"pattern"]),isPartial:ni(f,["comments",v])}));return{function:yt.CommentTextdoc,status:c?.status??Rf(e,t,f!=null),messageId:r,author:s,createdAt:i,textdocId:c?.textdocId,versionInt:c?.versionInt,comments:p}}}}function wx(e){return vx(e?.recipient)}function fR(e,t=0){for(let n=t;n<e.length;n++)if(wx(e[n]))return!0;return!1}function Rf(e,t,n){return t?.metadata?.finish_details?.type==="interrupted"?re.CANCELED:e?n?re.STREAMING:re.WAITING:re.FAILED}function mR(e){if(e?.metadata?.is_redacted)return re.REDACTED;if(e?.content.content_type===tt.SystemError)return re.FAILED;const t=e?.metadata?.canvas;return t!=null&&t.is_failure!==!0?re.COMPLETE:re.FAILED}function pR(e){return e?.version??e?.version_int}const gR=5;function Sx(e){let t=null;for(let n=0;n<e.length;n++){const r=e[n];if(wx(r)){const s=n+1<e.length&&e[n+1].author.name===r.recipient?e[n+1]:null;s&&n++,t?t.push([r,s]):t=[[r,s]]}}return t}function hR(e,t,n){let r=null;const s=Sx(n);if(!s)return r;for(const[a,i]of s){const l=dR(e,a,i),c=vR(t,l);c&&(t&&(t=Cx(t,c)),r?r=r.concat(c):r=c)}return r}const Lf=So((e,t,n)=>{V.addError(t,n)},([e],[t])=>e===t);function vR(e,t){if(t.status===re.FAILED||t.status===re.CANCELED)return null;if(t.function===yt.CreateTextdoc){if(!t.type)return null;const a=Yp(t.messageId),i=t.content&&Au(t.type)?T4(t.content):t.content;return[{kind:it.CREATE,textdocId:t.textdocId??a,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,tempTextdocId:a,title:xx(t.title??""),type:t.type,content:i??"",isPartial:t.status===re.STREAMING}]}const n=e?.latestTextdocId,r=t?.textdocId??n;if(t.status===re.COMPLETE&&(n?t?.textdocId&&t.textdocId!==n&&Lf(t.messageId,"Attempted to parse canmore operation with incorrect client latest target id",{latestTextdocId:n,toolCall:t}):Lf(t.messageId,"Attempted to parse canmore operation but latestTextdocId is unset",{toolCall:t})),!r)return null;const s=Mo(qp(e,r)?.versions);if(!s)return t.status===re.COMPLETE&&Lf(t.messageId,"Attempted to parse canmore operation against unknown target id",{textdocId:r}),null;switch(t.function){case yt.UpdateTextdoc:{const a=[],i=t.updates??[];for(let l=0;l<i.length;l++){const c=i[l];if(c.isPartialPattern&&c.pattern&&c.pattern.length<gR)continue;if(c.pattern===".*"){const m=c.replacement?Au(s.type)?T4(c.replacement):c.replacement:"";return[{kind:it.REWRITE,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,createdAt:t.createdAt,author:t.author,content:m,isPartial:t.status===re.STREAMING&&c.isPartial,comments:[]}]}const d=N4(c.pattern,c.isPartialPattern,c.multiple);if(!d)continue;let f=!1;for(const m of P4(s.content,d,c.multiple)){f=!0;const p=j4(m),g=c.replacement&&XI(c.replacement,m);for(const v of a)if(v.at.end<=p.start){if(!v.isPartialRange){const h=v.at.start-v.at.end+v.content.length;p.start+=h,p.end+=h}}else v.at.start<p.end;a.push({kind:it.EDIT,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,at:p,content:g??"",isPartialRange:t.status===re.STREAMING&&c.isPartialPattern,isPartial:t.status===re.STREAMING&&c.isPartial})}if(!c.isPartialPattern&&!f)return null}return a.length>0?a:null}case yt.CommentTextdoc:{const a=[],i=t.comments??[];for(let l=0;l<i.length;l++){const c=i[l],d=N4(c.pattern,c.isPartialPattern);if(!d)continue;let f=!1;for(const m of P4(s.content,d)){f=!0;const p=j4(m);p.end>p.start&&a.push({kind:it.ADD_COMMENT,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,id:c.id,tempId:hx(t.messageId,l),at:p,content:c.comment??"",isPartialRange:t.status===re.STREAMING&&c.isPartialPattern,isPartial:t.status===re.STREAMING&&c.isPartial})}if(!c.isPartialPattern&&!f)return null}return a.length>0?a:null}}}function*P4(e,t,n=!1){if(n)yield*e.matchAll(t);else{const r=e.match(t);r&&(yield r)}}function N4(e,t,n=!1){if(e)try{const r=JI(e,t);return new RegExp(r,n?"gsv":"sv")}catch(r){console.warn("Assistant returned invalid Regexp, dropping",{pattern:e,error:r})}}function j4(e){return{start:e.index,end:e.index+e[0].length}}const Qp=()=>({lastFlushedAt:null,lastTriggeredAt:null}),Xp=de(St(()=>({userEdits:{},timestamps:{}}))),{setState:l1}=Xp,Y_e=e=>Xp(({timestamps:t})=>(t[e]?.lastTriggeredAt??0)>(t[e]?.lastFlushedAt??0)),K_e=e=>{l1(t=>{t.timestamps[e]??=Qp(),t.timestamps[e].lastTriggeredAt=Date.now()})},Q_e=({textdocId:e,basedOnVersionInt:t,content:n,comments:r})=>{l1(s=>{s.timestamps[e]??=Qp(),s.timestamps[e].lastFlushedAt=Date.now(),s.userEdits[e]??=[],s.userEdits[e].push({content:n,basedOnVersionInt:t,nextVersionInt:null,isPending:!0,comments:r})})},X_e=({textdocId:e,basedOnVersionInt:t,newVersion:n})=>{l1(r=>{r.userEdits[e]??=[];for(const s of r.userEdits[e])if(s.basedOnVersionInt===t){s.isPending=!1,s.nextVersionInt=n;break}})},xR=e=>{l1(t=>{for(const{textdocId:n,versionInt:r}of e){const s=t.userEdits[n];s&&(t.userEdits[n]=s.filter(a=>a.basedOnVersionInt>(r??Tr)),s.length===0&&(t.timestamps[n]=Qp()))}})},CR=So(({userEdits:e})=>e),yR=So(e=>{const t=new Map;for(const[n,r]of Object.entries(e)){const s=Mo(r);if(!s)continue;const{content:a,comments:i,nextVersionInt:l,basedOnVersionInt:c}=s;t.set(n,{textdocId:n,comments:i,content:a,versionInt:l??c})}return t}),bR=()=>Xp(e=>yR(CR(e)));function Mx(e){return e.author.role===Ce.Assistant&&e.recipient?.startsWith(qv.CANMORE)===!0}function wR(e){return e.author.role===Ce.Tool&&e.author.name?.startsWith(is)===!0}const I4=(e,t)=>{for(const s of t){const a=s.metadata?.canvas;if(a?.user_created_temp_textdoc_id&&a?.textdoc_id){const{user_created_temp_textdoc_id:i,textdoc_id:l}=a;e=es(e,c=>{c.latestTextdocId=l,c.resolveTempTextdocId[i]=l})}}const n=gp(t,s=>Mx(s));for(let s=t.length-1;s>=0;s--){const{metadata:a}=t[s],i=a?.canvas,l=a?.open_in_canvas_view?.id??i?.textdoc_id;if(l){e=es(e,c=>{c.latestTextdocId=l??null,n&&(c.lastCanvasAssistantMessageById[l]=n.id)});break}}const r=Sx(t);if(!r)return e;for(const[s,a]of r){const i=a&&bx(a);i&&(e=es(e,l=>{if(i.function===yt.CreateTextdoc){const{textdocId:c}=i;c&&(l.resolveTempTextdocId[Yp(s.id)]=c)}else if(i.function===yt.CommentTextdoc){const{commentIds:c=[]}=i;for(let d=0;d<c.length;d++){const f=c[d],m=hx(s.id,d);l.resolveTempCommentId[f]=m}}}))}return e},SR=(e,t,n)=>{const r=_e(e),s=Z.getTree(r),a=Z.getVariantIds(r,n.messages[0].id);if(a.length<2)return I4(t,n.messages);for(const i of a){const l=s.getLeafFromNode(i).id,c=Z.getConversationLastTurn(r,l);c&&(t=I4(t,c.messages))}return t};function MR(){return new WeakMap}function _x(e,t,n,r){const s=n[r];let a=t.get(s);if(!a){const i=r===0?ix():_x(e,t,n,r-1);a=SR(e,i,s),t.set(s,a)}return a}function _R(e,t,n){return n.length===0?null:_x(e,t,n,n.length-1)}function ER(e,t){const[n]=u.useState(MR);return u.useMemo(()=>_R(e,n,t),[n,e,t])}function Ex(e,t){const n=[];let r=0,s=0;for(const a of t)n[s]=r,r+=a.length,s+=1;return n[s]=r,e.map(a=>{const{start:i,end:l}=a;return{start:n[i],end:n[l]}})}function kR(e,t){const n=[];let r=0,s=0;for(const a of t)n[r]=s,a.length===2?(n[r+1]=s,r+=2):r+=1,s+=1;return n[r]=s,e.map(a=>{const{start:i,end:l}=a;return{start:n[i],end:n[l]}})}function T2(e,t){const n=e.map(({content:a,id:i,start:l,end:c})=>({id:i,at:{start:l,end:c},content:a})),r=n.map(a=>a.at),s=Ex(r,t);return n.map((a,i)=>({...a,at:s[i]}))}function J_e(e,t){const n=e.map(a=>a.at),r=kR(n,t);return e.map((a,i)=>({...a,at:r[i]})).map(({content:a,id:i,at:l})=>({id:i,start:l.start,end:l.end,content:a}))}const TR=(e,t)=>{const n=Ex(t,e),r=[];for(let a=0;a<n.length;a++){const{start:i}=n[a];let l=0;const c=n.slice(0,a).entries();for(const[d,f]of c)if(i>f.start||i>f.end){const m=f.end-f.start,p=t[d].content.length;l+=p-m}r.push(l)}const s=[];for(let a=0;a<n.length;a++){const{content:i}=t[a],l=n[a],{start:c}=l,d=r[a],f={start:c+d,end:c+d+i.length};s.push({id:`edit-${a}`,content:i,positionBefore:l,positionAfter:f})}return s},AR=(e,t)=>j.safeGet("/textdoc/{textdoc_id}/diff/{version}",{parameters:{path:{textdoc_id:e,version:t}}});function PR(e,t){const n=e.filter(r=>r.op_type==="edit");return TR(t,n)}const NR=async(e,t)=>{if(t===1)return null;const{content_before:n,content_after:r,comments_before:s,comments_after:a,operations:i}=await AR(e,t??-1);return{edits:PR(i,n),contentBefore:n,contentAfter:r,commentsBefore:T2(s,n),commentsAfter:T2(a,r)}},kx=(e,t)=>({queryKey:[e,t,"edit"],enabled:t!=null,gcTime:1e3*60*5,queryFn:()=>NR(e,t)});function eEe(e,t){const{data:n=null,isLoading:r}=ee(kx(e,t));return{data:n,isLoading:r}}function Tx(){const e=xe();return u.useCallback(async(t,n)=>{await e.prefetchQuery(kx(t,n))},[e])}const Ax=de(()=>({optimisticRestore:null})),{setState:su,getState:jR}=Ax;function IR(e){su(t=>{if(t.optimisticRestore){for(const{textdocId:n,versionInt:r}of e)if(t.optimisticRestore.textdocId===n&&t.optimisticRestore.versionInt!==-1&&(t.optimisticRestore.versionInt??Tr)<=(r??Tr))return{optimisticRestore:null}}return t})}function Px(){return Ax(e=>e.optimisticRestore)}function tEe(e,t,n){const r=xe(),{mutateAsync:s}=Ie({mutationKey:["canvas","textdoc","persist"],mutationFn:RR,retry:2,onSuccess:()=>{e&&r.invalidateQueries({queryKey:[e,"textdocs"]})}}),a=Px(),i=u.useCallback(async()=>{if(!t||!n||t.versionInt==null||n.versionInt==null||jR().optimisticRestore!=null)return;const{textdocId:l,versionInt:c}=t,d=n.versionInt,f={...n,versionInt:-1};su(()=>({optimisticRestore:f})),tx(l);try{const m=await s({textdocId:l,versionInt:c,restoreFromVersionInt:d});su(p=>({optimisticRestore:p.optimisticRestore&&{...p.optimisticRestore,versionInt:m}}))}catch{su(()=>({optimisticRestore:null})),Bj(l,{version:d})}},[t,n,s]);return{optimisticRestoredTextdocVersion:a,restoreHistoricalTextdocVersion:i}}async function RR({textdocId:e,versionInt:t,restoreFromVersionInt:n}){return(await j.safePost("/textdoc/{textdoc_id}/restore",{parameters:{path:{textdoc_id:e}},requestBody:{version:t,restore_from_version:n}})).version}const LR=async({lastVersion:e,textdocId:t,commentId:n,reason:r})=>(await j.safeDelete("/textdoc/{textdoc_id}/{version}/comment/{comment_id}",{parameters:{query:{reason:r},path:{textdoc_id:t,version:String(e),comment_id:n}}})).version,A2=de(()=>({persistingOp:null,ops:[]})),{setState:au,getState:OR}=A2,DR=()=>{const e=A2(({ops:n})=>n),t=A2(({persistingOp:n})=>n);return u.useMemo(()=>[...e,t].filter(W8),[e,t])},FR=e=>{au(t=>{let n=t.ops;for(const{textdocId:r,versionInt:s}of e)n=n.filter(a=>a.textdocId!==r||(a.versionInt??Tr)>(s??Tr));return{ops:n}})},nEe=e=>u.useCallback(async(t,n)=>{const r=!!OR().persistingOp,s=e?.versionInt,a=e?.textdocId;if(r||s==null||a==null)return!1;const i={kind:it.REMOVE_COMMENT,textdocId:a,author:{role:Ce.User},versionInt:s,createdAt:Date.now()/1e3,commentId:t,reason:n};au(({ops:l})=>({ops:l,isPersisting:!0,persistingOp:i}));try{const l=await LR({lastVersion:s,textdocId:a,commentId:t,reason:n});return au(({ops:c})=>({ops:[...c,{...i,versionInt:l}],isPersisting:!1,persistingOp:null})),l}catch{return au(({ops:l})=>({ops:l,isPersisting:!1,persistingOp:null})),!1}},[e]),$R=e=>j.safeGet("/conversation/{conversation_id}/textdocs",{parameters:{path:{conversation_id:e}}}),BR=async e=>{const t=await $R(e),n=new Map(t.map(a=>[a.id,a])),r=[];for(const{id:a,content:i,version:l,textdoc_type:c,title:d,comments:f,metadata:m}of t)r.push({textdocId:a,messageId:null,type:co(c),comments:T2(f,i),status:pn.COMPLETE,title:d,content:i,versionInt:l,createdAt:0,metadata:{content_references:m?.content_references}});return{persistedTextdocVersionById:new Map(r.map(a=>[a.textdocId,a])),persistedTextdocVersions:r,persistedTextdocById:n}};function UR(e){const t=_o(e),{isUnauthenticated:n}=at(),r=!!t&&!n,{data:s,error:a,isLoading:i,isFetching:l,refetch:c}=ee({queryKey:[t,"textdocs"],enabled:r,queryFn:()=>t&&BR(t)});return u.useEffect(()=>{if(!s)return;const{persistedTextdocVersions:d}=s;FR(d),xR(d),IR(d)},[s]),[{...s,error:a,isEnabled:r,isLoading:i,isFetching:l},c]}const P2=new Set,Nx=e=>{u.useEffect(()=>(P2.add(e),()=>{P2.delete(e)}),[e])},R4=e=>{for(const t of P2)try{t({error:e})}catch(n){V.addError(n)}};var ju=(e=>(e[e.INITIALIZING=0]="INITIALIZING",e[e.READY=1]="READY",e[e.REFETCHING=2]="REFETCHING",e))(ju||{});function HR(e){const[{error:t,persistedTextdocVersionById:n=null,isEnabled:r,isLoading:s,isFetching:a},i]=UR(e),l=Tx();Nx(()=>{const f=Z.getConversationLastTurn(_e(e))?.messages??[],m=gp(f,g=>wR(g)),p=f.some(g=>g.metadata?.canvas?.user_created_temp_textdoc_id!=null);if(m){const g=m.metadata?.canvas?.textdoc_id,v=m.metadata?.canvas?.version;g!=null&&v!=null&&l(g,v)}(m||p)&&i()});let c=0;return n&&a?c=2:(!r||n&&!a&&!s)&&(c=1),u.useMemo(()=>({status:c,fetchError:t,textdocVersionById:n,refetch:i}),[c,t,n,i])}const L4=e=>{if(!e)return;const{messages:t}=e,n=AA(t??[],s=>s.author.role===Ce.System||s.author.role===Ce.Developer),r=n===-1?t:t?.slice(n+1);if(r&&fR(r))return r},VR=({lastTurn:e,clientThreadId:t,isRequestActive:n,persistedTextdocStoreStatus:r})=>{const[s,a]=u.useState(!0),i=n||!s||r===ju.REFETCHING,l=u.useMemo(()=>{if(!e)return null;const d=_e(t),f=Z.getTree(d),m=Z.getVariantIds(d,e.messages[0].id);return m.length<2?null:m.map(p=>{const g=f.getLeafFromNode(p).id;return Z.getConversationLastTurn(d,g)})},[t,e]);return[u.useMemo(()=>!i||!e?null:l?l.flatMap(L4).filter(W8)??null:L4(e)??null,[i,e,l]),a]};var GR=fx,WR=ra,zR="Expected a function";function qR(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(zR);return WR(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),GR(e,t,{leading:r,maxWait:t,trailing:s})}var ZR=qR;const YR=ue(ZR);function O4(e){return e.map(t=>typeof t=="string"?t:"").join("")}function rEe(e){return e.map(t=>t.type==="text"?t.text:"").join(`
`)}function jx(e,t){const n=[];let r=0;for(let s=0;s<e.length;s++){const a=e[s];if(typeof a=="string")if(t!=null&&t<r+a.length){n.push({type:"text",text:a.slice(0,t-r)});break}else n.push({type:"text",text:a}),r+=a.length;else if(a.content_type===Hi.ImageAssetPointer){const i=s>0?n[s-1]:null;i?.type==="images"?i.imageAssets.push(a):n.push({type:"images",imageAssets:[a]})}else a.content_type===Hi.AudioTranscription&&n.push({type:"transcription",text:a.text})}return n}function sEe({isUserTurn:e,parts:t}){if(!e)return jx(t);const n={text:[],images:[]};for(let s=0;s<t.length;s++){const a=t[s];typeof a=="string"?a.trim().length>0&&n.text.push({type:"text",text:a}):a.content_type===Hi.AudioTranscription?n.text.push({type:"transcription",text:a.text}):a.content_type===Hi.ImageAssetPointer&&n.images.push(a)}const r=[];return n.images.length>0&&r.unshift({type:"images",imageAssets:n.images}),r.push(...n.text.map(s=>({type:s.type,text:s.text}))),r}function KR(e){const t=e&&new Date(e),n=t&&new Date(t);return n?`after ${n.getHours()%12||12}:${n.getMinutes()<10?"0":""}${n.getMinutes()} ${n.getHours()>=12?"PM":"AM"}`:"later"}class Ix{constructor(t,n,r,s){this.targetLength=t,this.isActivelyStreaming=n,this.onUpdate=s,this.bufferedLength=r?0:this.targetLength,r&&!r.isComplete()?(r.nextBuffer=this,this.prevBuffer=r):r?.isComplete()&&(this.bufferedLength=this.targetLength)}sentLength=null;sentIsComplete=null;bufferedLength;requestUpdateRaf=null;prevBuffer;nextBuffer;setTargetLength(t,n){t<this.bufferedLength&&(this.bufferedLength=t),this.targetLength=t,this.isActivelyStreaming=n,this.shouldUpdate()&&this.updateBufferedState()}shouldUpdate(){return!this.prevBuffer&&(this.isBuffering()||this.sentIsComplete!==this.isComplete())}isBuffering(){return this.bufferedLength<this.targetLength}isComplete(){return!this.prevBuffer&&!this.isActivelyStreaming&&!this.isBuffering()}getTotalRemainingLength(){let t=this.targetLength,n=this.nextBuffer;for(;n;)t+=n.targetLength,n=n.nextBuffer;return t-this.bufferedLength}requestUpdate(){this.requestUpdateRaf||this.sentLength===this.bufferedLength&&this.sentIsComplete===this.isComplete()||(this.requestUpdateRaf=window.requestAnimationFrame(()=>{this.requestUpdateRaf=null;const t=this.isComplete();this.sentLength=this.bufferedLength,this.sentIsComplete=t,this.onUpdate(this.bufferedLength,t),t&&this.resolveDependency()}))}resolveDependency(){if(this.nextBuffer){const t=this.nextBuffer;this.nextBuffer=t.prevBuffer=void 0,t.shouldUpdate()&&t.updateBufferedState()}}destroy(){this.resolveDependency(),this.requestUpdateRaf&&(window.cancelAnimationFrame(this.requestUpdateRaf),this.requestUpdateRaf=null)}}class ji extends Ix{static MAX_BUFFERING_LAG_MS=500;static MIN_BUFFERING_CHAR_PER_MS=1/30;frameRequestId;prevAddFrameTime;updateBufferedState(){if(!this.frameRequestId){const t=this.getTotalRemainingLength(),n=Math.max(ji.MIN_BUFFERING_CHAR_PER_MS,t/ji.MAX_BUFFERING_LAG_MS);this.frameRequestId=window.requestAnimationFrame(r=>{this.frameRequestId=void 0;const s=this.prevAddFrameTime===void 0?2/ji.MIN_BUFFERING_CHAR_PER_MS:r-this.prevAddFrameTime,a=Math.floor(n*s);a>0&&(this.prevAddFrameTime=r,this.bufferedLength=Math.min(this.bufferedLength+a,this.targetLength)),this.requestUpdate(),this.shouldUpdate()&&this.updateBufferedState()})}}destroy(){super.destroy(),this.frameRequestId&&window.cancelAnimationFrame(this.frameRequestId)}}class QR extends Ix{constructor(t,n,r,s){super(O4(t).length,r,s,(a,i)=>n(jx(this.textMessageParts,a),i)),this.textMessageParts=t}onMessagePartsUpdated(t,n){this.textMessageParts=t,this.setTargetLength(O4(t).length,n)}}class Bs extends QR{constructor(t,n,r,s){super(t,n,r,s),this.updateReactComponentDisplay=n}static MIN_CHARS_BEHIND_TO_CATCHUP=20;static CATCHUP_TIME_MS=300;static UPDATE_FREQUENCY_MS=30;displayNextChunkTimeout;updateBufferedState(){const t=this.getTotalRemainingLength(),n=t<Bs.MIN_CHARS_BEHIND_TO_CATCHUP?this.targetLength-this.bufferedLength:Math.ceil(t*Bs.UPDATE_FREQUENCY_MS/Bs.CATCHUP_TIME_MS);this.bufferedLength=Math.min(this.bufferedLength+n,this.targetLength),this.requestUpdate(),this.displayNextChunkTimeout||(this.displayNextChunkTimeout=window.setTimeout(()=>{this.displayNextChunkTimeout=void 0,this.shouldUpdate()&&this.updateBufferedState()},Bs.UPDATE_FREQUENCY_MS))}destroy(){super.destroy(),window.clearTimeout(this.displayNextChunkTimeout)}}function XR(e){return e.type==="text"}class D4{buffer;text;constructor(t,n,r="",s,a){this.buffer=new t([r],(i,l)=>{const c=i.filter(XR).map(d=>d.text).join("");n(c,l)},s,a),this.text=r}setText(t,n=!0){this.text=t,this.buffer.onMessagePartsUpdated([this.text],n)}isBuffering(){return this.buffer.isBuffering()}isComplete(){return this.buffer.isComplete()}destroy(){return this.buffer.destroy()}}function JR(e,t,n,r){for(var s=-1,a=e==null?0:e.length;++s<a;){var i=e[s];t(r,i,n(i),e)}return r}var eL=JR,tL=Nd;function nL(e,t){return function(n,r){if(n==null)return n;if(!tL(n))return e(n,r);for(var s=n.length,a=t?s:-1,i=Object(n);(t?a--:++a<s)&&r(i[a],a,i)!==!1;);return n}}var rL=nL,sL=zp,aL=rL,oL=aL(sL),Rx=oL,iL=Rx;function lL(e,t,n,r){return iL(e,function(s,a,i){t(r,s,n(s),i)}),r}var cL=lL,uL=eL,dL=cL,fL=jd,mL=fl;function pL(e,t){return function(n,r){var s=mL(n)?uL:dL,a=t?t():{};return s(n,e,fL(r),a)}}var Lx=pL,gL=Id,hL=Lx,vL=Object.prototype,xL=vL.hasOwnProperty,CL=hL(function(e,t,n){xL.call(e,n)?e[n].push(t):gL(e,n,[t])}),yL=CL;const Jp=ue(yL);function bL(e,t,n){const[r,s]=u.useState(null),a=t?.length??0,i=a>0,l=u.useRef(new Map);return u.useEffect(()=>{if(t)for(const c of t){const{messageId:d}=c;if(d==null||l.current.has(d))continue;const f=new wL((m,p)=>{if(s(g=>({...g,[d]:m})),!!p){for(const[g,v]of l.current.entries())if(g!==d&&!v.isComplete())return;n(!0)}});l.current.set(d,f)}},[a]),u.useEffect(()=>{const c=l.current;return()=>{for(const d of c.values())d.destroy()}},[i]),u.useEffect(()=>{if(!i)return s(null);const c=Jp(t,"messageId");for(const[d,f]of Object.entries(c)){const m=l.current.get(d);m&&m.setTextdocOps(f,!e)}},[i,e,t]),u.useMemo(()=>!i||!r?null:Object.values(r).flatMap(c=>c??[]),[i,r])}class wL{constructor(t){this.onUpdate=t}bufferedOps=[];isFinishedStreaming=!1;rangeBuffers=[];textBuffers=[];completeCounters=[];lastBuffer;destroy(){for(const t of this.rangeBuffers)t?.destroy();for(const t of this.textBuffers)t?.destroy();this.isFinishedStreaming=!0,this.rangeBuffers=[],this.textBuffers=[],this.completeCounters=[],this.lastBuffer=void 0}isBuffering(){return!((this.lastBuffer?.isComplete()??!0)&&(Mo(this.completeCounters)?.isComplete()??!0))}getNonEmptyBufferedOpsOrNull(){return this.bufferedOps&&this.bufferedOps.length>0?this.bufferedOps:null}isComplete(){return this.isFinishedStreaming&&!this.isBuffering()}setTextdocOps(t,n){if(this.isFinishedStreaming=n,t)for(let r=0;r<t.length;r++){const s=t[r];if(s.author.role===Ce.Assistant)switch(s.kind){case it.CREATE:case it.REWRITE:this.setAllContentOpAtIndex(s,r);break;case it.EDIT:case it.ADD_COMMENT:this.setRangeAndContentOpAtIndex(s,r);break;default:this.setUnbufferedOpAtIndex(s,r)}else this.setUnbufferedOpAtIndex(s,r)}n&&(t?this.isBuffering()||this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),!0):(this.destroy(),this.update(()=>null)))}update(t){const n=this.bufferedOps;this.bufferedOps=Pd(n,t),this.bufferedOps!==n&&this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),this.isComplete())}getBufferedAllContentOp(t,n,r){let s=t[r];return s||(s={...n,content:""},t[r]=s),s}setAllContentOpAtIndex(t,n){const{content:r,isPartial:s=!1}=t;let a=this.textBuffers[n];a?(a.setText(r,s),t.kind===it.CREATE&&this.update(i=>{const l=this.getBufferedAllContentOp(i,t,n);l.textdocId=t.textdocId})):(a=new D4(Bs,(i,l)=>{this.update(c=>{const d=this.getBufferedAllContentOp(c,t,n);d.content=i,d.isPartial=!l})},r,s,this.lastBuffer),this.textBuffers[n]=a,this.lastBuffer=a.buffer)}getBufferedRangeAndContentOp(t,n,r){let s=t[r];return s||(s={...n,at:{start:n.at.start,end:n.at.start},content:"",isPartial:!0,isPartialRange:!0},t[r]=s),s}setRangeAndContentOpAtIndex(t,n){const{at:r,content:s,isPartialRange:a=!1,isPartial:i=!1}=t;let l=this.completeCounters[n];l||(l=new SL(()=>{this.update(f=>{const m=this.getBufferedRangeAndContentOp(f,t,n);m.isPartial=!1})}),l.update("original",!1),this.completeCounters[n]=l);let c=this.rangeBuffers[n];c?(this.update(f=>{const m=this.getBufferedRangeAndContentOp(f,t,n);if(m.at.start!==r.start){const p=m.at.end-m.at.start;m.at={start:r.start,end:r.start+p}}}),c.setTargetLength(r.end-r.start,a)):(c=new ji(0,a,this.lastBuffer,(f,m)=>{this.update(p=>{const g=this.getBufferedRangeAndContentOp(p,t,n);g.at.end=g.at.start+f,g.isPartialRange=!m}),l.update("range",m)}),this.rangeBuffers[n]=c,this.lastBuffer=c,l.update("range",!1));let d=this.textBuffers[n];d?d.setText(s??"",i):(d=new D4(Bs,(f,m)=>{this.update(p=>{const g=this.getBufferedRangeAndContentOp(p,t,n);g.content=f}),l.update("content",m)},s,i,this.lastBuffer),this.textBuffers[n]=d,this.lastBuffer=d.buffer,l.update("content",!1)),l.update("original",!i)}setUnbufferedOpAtIndex(t,n){this.update(r=>{r[n]=t})}}class SL{keyStates=new Set;onComplete;constructor(t){this.onComplete=t}isComplete(){return this.onComplete==null}update(t,n){if(!n)this.keyStates.add(t);else if(this.keyStates.delete(t),this.keyStates.size===0&&this.onComplete){const r=this.onComplete;this.onComplete=null,r()}}}function ML(e){const t=L(),n=Be();Nx(()=>{const r=Z.getConversationLastTurn(_e(e));gp(r?.messages,a=>Mx(a))?.metadata?.finish_details?.type==="max_tokens"&&VI(n,t,4)})}const c1=de(St(()=>({statusMap:{}}))),_L=e=>c1(t=>t.statusMap[e]),aEe=()=>c1(e=>Object.entries(e.statusMap).some(([t,n])=>!Rr(t)&&n?.value===hp.UNREAD)),Ox=(e,t)=>{c1.setState(n=>{n.statusMap[e]=t;const r=vn(e);r&&(n.statusMap[r]=t)})},EL=e=>{c1.setState(t=>{for(const{id:n,async_status:r}of e)r!=null&&(t.statusMap[n]={source:Rd.SERVER,value:r})})},Dx={};function kL(e){return Dx[e]??null}function Fx(e){return e in Dx}const oEe=u.createContext(()=>Promise.resolve()),TL=u.createContext(null),$x=()=>u.useContext(TL)!=null,Bx=u.createContext(null),iEe=()=>u.useContext(Bx)!=null;u.createContext({onDismount:()=>{}});const Ci="q";function yi(e,t){return t?`${uo(Iu(t))}/c/${e}`:`/c/${e}`}function Iu(e){return e.gizmo.short_url??e.gizmo.id??"-"}function uo(e){return`/g/${e}`}function AL(){return"/gpts"}function Ux(){return"/gpts/mine"}function Hx(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function lEe(e){const t=PL();return e==null?t:Hx(e)}function PL(e){return Hx(e)}function NL(e){if(!e)return null;try{return new URL(e).hostname}catch{return null}}function cEe(e){const t=NL(e);return t?t.replace(/^www\./,""):e}async function u1(e,t,n){const r=kL(e),s=r??await fe.getConversation(e);return r||V.addTiming("chatgpt.web.chatPage.loadExistingConversation"),Nn.initThreadFromServerData(e,s,t,void 0,t),Ox(s.conversation_id,s.async_status?{source:Rd.SERVER,value:s.async_status}:null),s}const jL=e=>["conversation",e],IL=(e,t)=>{const n=Te(),{pathname:r}=vs(),s=Cn(),a=$x(),i=Be(),c=u.useContext($r).isElectron,d=c||Fx(e),f=c;ee({queryKey:jL(e),queryFn:()=>u1(e,d).catch(m=>{const p=PA(r),g=p!=null?uo(p):"/";throw n(g),i.danger(`Unable to load conversation ${e}`,{testId:"conversation-fetch-error-toaster"}),m}),enabled:!Rr(e)&&!s&&!a,refetchOnMount:!0,refetchOnWindowFocus:f?"always":!1})};function RL(e){const[t,n]=Je(e,k=>[Z.getRequestId(k),Z.getConversationTurns(k)]),r=vp(t),s=HR(e),a=bR(),i=QI(()=>Promise.allSettled([s.refetch(),u1(e,!0)])),[l,c]=VR({isRequestActive:r,lastTurn:Mo(n),clientThreadId:e,persistedTextdocStoreStatus:s.status}),d=i??l,f=!!i||r,m=d?i?_2.NATIVE:_2.LAST_TURN:null,p=ER(e,n),g=Px(),v=DR(),h=YI(),x=u.useMemo(()=>{let k=ix(p);const{textdocVersionById:A,fetchError:M,status:P}=s;return k=es(k,I=>{I.fetchError=M,I.isFetchingFromPersistence=P===ju.REFETCHING||P===ju.INITIALIZING;for(const{tempTextdocId:D,status:F,createdAt:B,type:z,title:O,content:q}of h){const H=I.resolveTempTextdocId[D]??D;Ni(I,{textdocId:H,title:O,type:z,content:q,createdAt:B,versionInt:0,comments:[],messageId:null,status:F===An.SENT?pn.ATTACHED_SENT:pn.ATTACHED_PENDING})}if(A)for(const[D,F]of A.entries()){I.allTextdocIdSet[D]=D;const B=a.get(D);let z=B&&(B.versionInt??Tr)>(F.versionInt??Tr)?{...F,...B}:F;const O=v.filter(H=>H.textdocId===D&&H.kind===it.REMOVE_COMMENT);let q=z.versionInt;for(const H of O)z=yx(z,H),q=Math.max(q??Tr,H.versionInt??Tr);z={...z,versionInt:q},I.textdocById[D]=void 0,Ni(I,z)}}),g?es(k,I=>{Ni(I,g,!1)}):k},[h,p,s,a,g,v]),y=u.useMemo(()=>d?.length?hR(f,x,d):null,[d,f,x]),b=u.useMemo(()=>es(x,k=>{for(const A of y??[])if(A.messageId&&(k.lastCanvasAssistantMessageById[A.textdocId]=A.messageId),A.kind===it.CREATE){const{tempTextdocId:M,textdocId:P}=A;M&&P&&(k.resolveTempTextdocId[M]=P)}}),[y,x]),S=bL(f,y,c);return u.useMemo(()=>S?es(Cx(b,S),k=>{k.streamingSource=m}):b,[b,m,S])}function uEe({clientThreadId:e,children:t}){const n=RL(e);return ML(e),o.jsx(ox.Provider,{value:n,children:t})}async function dEe(e,t=Z.getRequestId(_e(e))){if(!NA(t))return;const n=vn(e);n&&$.checkGate("3922476776")&&await fe.stopConversationProcess(n),Su.abortRequest(t)}const Ru=new Set,fEe=e=>{u.useEffect(()=>(Ru.add(e),()=>{Ru.delete(e)}),[e])},mEe=()=>Ru.size>0,pEe=()=>Promise.allSettled(Array.from(Ru).map(e=>e())),LL=10,OL=de(St(()=>({requests:{},requestIds:[]}))),vc=(e,t,n)=>{if(!xp("1154002920"))return null;OL.setState(r=>{if(r.requestIds.length===LL){const s=r.requestIds.shift();s!=null&&delete r.requests[s]}r.requests[e]??={serverRequestId:null,timeToFirstToken:null,apiStartDelay:null,serverStats:null},r.requests[e][t]=n})},xc={publishServerRequestId:(e,t)=>{vc(e,"serverRequestId",t)},publishServerStats:(e,t)=>{vc(e,"serverStats",t)},publishApiStartDelay:(e,t)=>{vc(e,"apiStartDelay",t)},publishTimeToFirstToken:(e,t)=>{vc(e,"timeToFirstToken",t)}};function DL(e){return e===void 0}var FL=DL;const $L=ue(FL);function BL(e){return typeof e=="number"?Math.trunc(e):e}var Yr=(e=>(e.Success="success",e.Error="error",e.Canceled="canceled",e))(Yr||{});const UL=["time_since_prompt_sent_ms","time_since_last_event_ms","first_token_lat","api_start_delay","completion_request_time_to_first_visible_message"];class gEe{start_time_ms;turn_id;trigger;result;time_since_prompt_sent_ms;stream_update_event_count=0;first_token_lat;first_visible_content_token_lat;last_model_message_received;api_start_time;time_since_last_event_ms;api_start_delay;completion_request_time_to_first_visible_message;model_slug;tools_used;system_hints;gizmo_id;promptSentTimestamp;serverStats;logger;server_request_id;client_request_id;completed=!1;num_images_attached=0;num_files_attached=0;bytes_received=0;model_message_update_count=0;stream_encoding;stream_buffering=!0;gizmo_type;isStreamOpen=!1;constructor({clientRequestId:t,gizmoType:n,preflightTime:r}){this.client_request_id=t,this.start_time_ms=performance.now(),this.turn_id=Fp(),this.promptSentTimestamp=r??performance.now(),this.tools_used=new Set,this.system_hints=new Set,this.logger=jA.createLogger("turn-analytics","info","http"),n&&(this.gizmo_type=n)}truncateValueForKey(t){const n=BL(this[t]);n!==void 0&&(this[t]=n)}onUserMessages(t){t.forEach(n=>{n.author.role==="user"&&(n.metadata?.attachments?.forEach(r=>{r.height&&r.width?this.num_images_attached+=1:this.num_files_attached+=1}),n.metadata?.system_hints?.forEach(r=>{this.system_hints.add(r)}))})}addServerPerfStats(t){xc.publishServerStats(this.client_request_id,t),this.serverStats=t}onStreamOpen(){this.isStreamOpen=!0}onStreamClose(){this.model_message_update_count>0?this.logCompletion({type:Yr.Success}):this.logCompletion({type:Yr.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}})}onCompletionStarted(t,n){switch(t){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onReceivedServerRequestId(t){this.server_request_id=t,xc.publishServerRequestId(this.client_request_id,this.server_request_id)}onStreamEvent(t,n){this.bytes_received+=t,n||(this.stream_update_event_count+=1)}onSentUserMessage(){this.api_start_time=performance.now(),this.api_start_delay=this.api_start_time-this.promptSentTimestamp,xc.publishApiStartDelay(this.client_request_id,this.api_start_delay)}onMessageUpdate(t){const{model_slug:n,gizmo_id:r}=t.metadata??{},{role:s,name:a}=t.author;if(this.model_slug=this.model_slug??n,this.gizmo_id=this.gizmo_id??r,s===Ce.Tool&&a&&this.tools_used.add(a),s!==Ce.User&&s!==Ce.System&&s!==Ce.Developer&&s!==Ce.Root&&(this.model_message_update_count+=1,this.last_model_message_received=performance.now()),!this.first_token_lat&&t.author.role!==Ce.User&&y2(t)&&Ks(t).length>0){const i=performance.now();this.first_token_lat=i-this.promptSentTimestamp,this.api_start_time&&(this.completion_request_time_to_first_visible_message=i-this.api_start_time),xc.publishTimeToFirstToken(this.client_request_id,this.first_token_lat)}!this.first_visible_content_token_lat&&t.author.role===Ce.Assistant&&y2(t)&&(this.first_visible_content_token_lat=performance.now()-this.promptSentTimestamp)}handleAbort(t){this.logCompletion({type:Yr.Canceled})}handleRawError(t){let n,r=null,s=null;t instanceof Error?(r=t.message??"Something went wrong",s=t instanceof Bt?t.status:void 0):r=t,s===400||r==="NetworkError when attempting to fetch resource."||r==="The network connection was lost."?n="network_error":r==="Request timed out"?n="timeout":n="request_failed",this.logCompletion({type:Yr.Error,error:{reason:n,message:r,...s&&{status_code:s}}})}createLogPayload(){const t={turn_id:this.turn_id,trigger:this.trigger,result:wo(this.result?.type),...this.result?.type===Yr.Error?{error:this.result.error}:void 0,time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,api_start_delay:this.api_start_delay,completion_request_time_to_first_visible_message:this.completion_request_time_to_first_visible_message,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,tools_used:[...this.tools_used],system_hints:[...this.system_hints],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached},gizmo_type:this.gizmo_type};return{request_id:this.server_request_id,turn_analytics:t}}createStatsigPayload(){return IA({turn_id:String(this.turn_id),trigger:this.trigger,result:this.result?.type,error:JSON.stringify(this.result?.type===Yr.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),api_start_delay:String(this.api_start_delay),completion_request_time_to_first_visible_message:String(this.completion_request_time_to_first_visible_message),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,tools_used:[...this.tools_used].join(", "),system_hints:[...this.system_hints].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}),gizmo_type:this.gizmo_type},$L)}logCompletion(t){if(this.completed)return;const n=performance.now();Q.count(K.DEFAULT,"completion_request"),Q.hist(K.DEFAULT,"completion_request_time",[],n-this.start_time_ms),this.completed=!0,this.result=t;for(const r of UL)this.truncateValueForKey(r);this.time_since_prompt_sent_ms=n-this.promptSentTimestamp,this.last_model_message_received&&(this.time_since_last_event_ms=n-this.last_model_message_received),t.type===Yr.Error?this.logger.error("Turn exchange complete",this.createLogPayload()):this.logger.info("Turn exchange complete",this.createLogPayload()),$.logEvent("chatgpt_conversation_turn_turn_exchange_complete",null,this.createStatsigPayload()),$.logEvent("chatgpt_web_api_start_delay",this.api_start_delay)}}var HL=RA,VL=LA;function GL(e,t){return HL(e,t,function(n,r){return VL(e,r)})}var WL=GL,F4=Zv,zL=Yv,qL=fl,$4=F4?F4.isConcatSpreadable:void 0;function ZL(e){return qL(e)||zL(e)||!!($4&&e&&e[$4])}var YL=ZL,KL=OA,QL=YL;function Vx(e,t,n,r,s){var a=-1,i=e.length;for(n||(n=QL),s||(s=[]);++a<i;){var l=e[a];t>0&&n(l)?t>1?Vx(l,t-1,n,r,s):KL(s,l):r||(s[s.length]=l)}return s}var Gx=Vx,XL=Gx;function JL(e){var t=e==null?0:e.length;return t?XL(e,1):[]}var Wx=JL;const hEe=ue(Wx);function eO(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var tO=eO,nO=tO,B4=Math.max;function rO(e,t,n){return t=B4(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=B4(r.length-t,0),i=Array(a);++s<a;)i[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(i),nO(e,this,l)}}var zx=rO,sO=rx,U4=DA,aO=dl,oO=U4?function(e,t){return U4(e,"toString",{configurable:!0,enumerable:!1,value:sO(t),writable:!0})}:aO,iO=oO,lO=800,cO=16,uO=Date.now;function dO(e){var t=0,n=0;return function(){var r=uO(),s=cO-(r-n);if(n=r,s>0){if(++t>=lO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var fO=dO,mO=iO,pO=fO,gO=pO(mO),qx=gO,hO=Wx,vO=zx,xO=qx;function CO(e){return xO(vO(e,void 0,hO),e+"")}var yO=CO,bO=WL,wO=yO,SO=wO(function(e,t){return e==null?{}:bO(e,t)}),MO=SO;const _O=ue(MO),EO={label:"Auto",value:""},kO="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",TO={enableInferredJuice:!1,enableFConversationEndpoint:!1,showCompletionPerfData:!1,forceParagen:!1,forceParagenModel:EO,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:kO,forceRateLimit:!1,recordRendering:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,showSearchSettingsModal:!1,forceShowConvoRating:!1,jsonViewerFilters:{}},d1=de(Cp(()=>TO,{name:we.DebugSettings,partialize:e=>_O(e,["enableFConversationEndpoint","showCompletionPerfData","jsonViewerFilters"])})),AO=()=>d1.getState(),vEe=e=>d1.setState(e),xEe=()=>$.getLayerValue({layerName:"3178812292",key:"use_f_convo",defaultValue:!1,shouldLogExposure:!1})||d1.getState().enableFConversationEndpoint,CEe=()=>{const{layer:e}=ml("3178812292"),t=e.get("use_f_convo",!1);return d1(r=>r.enableFConversationEndpoint)||t},PO="g-2fkFE8rbu";var bi=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e))(bi||{});const Zx={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},yEe={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},bEe={can_read:!0,can_view_config:!0,can_write:!0,can_delete:!1,can_export:!1,can_share:!1},Ct={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var N2=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(N2||{});const wEe=e=>e.gizmo.tags?.includes("first_party"),SEe=e=>!e.gizmo.tags?.includes("unreviewable");var eg=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(eg||{}),tg=(e=>(e.FILE_SERVICE="fs",e))(tg||{});function MEe(e){return e.type===1||e.type===2}const H4=[1,2,3,4];function _Ee(e){return e.length===0?null:e.reduce((t,n)=>H4.indexOf(n.type)<H4.indexOf(t.type)?t:n,e[0])}function EEe(e,t,n){return t=t.filter(r=>r.type===Ct.User||r.type===Ct.Group),e===Ct.Private||e===Ct.User||e===Ct.Group?[{type:Ct.Private,capabilities:Zx},...t]:[...t,{type:e,capabilities:n}]}class Yx{constructor(t){this.response=t}}var NO=(e=>(e.ENGLISH="en",e.GLOBAL="global",e))(NO||{}),Ua=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(Ua||{});function kEe(e){return FA(e)&&!$A(e)}const Cc=50,jO=95;function TEe(e,t){if(e<=t)return e/t*Cc;{const n=Cc,r=jO-Cc,s=e-t,i=-(Cc/t)/r;return n+r*(1-Math.exp(i*s))}}class IO{mostRecentCompletionRequest;loggedRequests=new Set;onCompletionRequestStarted(t){this.mostRecentCompletionRequest={requestId:t,timestamp:Date.now()},this.loggedRequests.clear()}logEvent(t,n,r,s,a){const i=this.mostRecentCompletionRequest;i!=null&&!this.loggedRequests.has(t)&&Z.getNode(_e(n),r).message.clientMetadata?.requestId===i.requestId&&(E.logEvent(t,{messageId:r,timeMs:Date.now()-i.timestamp,...s}),a?.(),this.loggedRequests.add(t))}}const AEe=new IO;function RO(e){return(e.find(s=>s.metadata?.image_search_results!==void 0)?.metadata?.image_search_results??[]).slice(0,5)}const Tl="gpt-4o-jawbone";function ln(e){return e.slice(0,4)==="g-p-"}function LO(e){return e!=null&&!ln(e)}function PEe(e){return!LO(e)}function Kx(e){return ln(e.gizmo.id)}function NEe(e,t){return!(Et.getItem(we.TasksHasSeenProjectDisclaimerBanner)!=null)&&e===Tl&&Kx(t)&&t.files.length>0}function Qx(){const{value:e}=st("491279851");return e}function ng(e){const t=Qx();return e?t&&ln(e):!1}function OO(e,t){return t&&(e?.kind===ke.GizmoInteraction||e?.kind===ke.PrimaryAssistant)?{gizmo_id:t,kind:ke.GizmoInteraction}:e}const j2={},DO=["added","updated","removed"];let V4=!1;function FO(e){V4||(V4=!0,e.getQueryCache().subscribe(t=>{const n=t.query.queryHash;if(t.query.state.status==="success"&&n in j2&&DO.includes(t.type)){const{cacheKey:r,cacheVersion:s}=j2[n];BA(UA(e)?.id??null,r,t.query.state.data,s)}}))}function $O(e,t,n,r){FO(e),j2[Kv(t)]={cacheKey:n,cacheVersion:r}}function rg(e,t,n){const r=Ad(),s=$e(),a=xe();if(r)return $O(a,n,e,t),()=>{const i=HA(s?.id??null,e,t);if(i!=null)return i}}const f1="client-correlated-secret";function G4(){const e=localStorage.getItem(f1);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function Xx(){G4()==null&&localStorage.setItem(f1,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=G4();if(t==null)throw new Error("Failed to get key from storage");return t}function BO(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function UO(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function HO(e){const t=new URL(e),n=ee({queryKey:[f1,"generate-challenge",e.search],queryFn:async()=>UO(await crypto.subtle.sign("HMAC",await Xx(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function VO(){const e=location?.search,t=location?.hash;return ee({queryKey:[f1,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await Xx(),BO(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}class Ke{static getMyGizmos(){return pe("gizmo_api.get_my_gizmos",()=>j.get(`${ve}/gizmos?mine=true`))}static getGizmosByUser(t){return pe("gizmo_api.get_gizmos_by_user",()=>j.get(`${ve}/gizmos/u/${t}`))}static getGizmo(t,n){const r=n?"?draft=true":"";return pe("gizmo_api.get_gizmo",()=>j.get(`${ve}/gizmos/${t}${r}`))}static shareGizmo(t,n){return pe("gizmo_api.share",()=>j.post(`${ve}/gizmos/${t}/share`,n))}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),pe("gizmo_api.discovery",()=>j.get(n?`${Af}/gizmos/discovery_anon?${r}`:`${Af}/gizmos/discovery?${r}`,{authOption:so.SendIfAvailable}))}static async getGizmoDiscoveryCut(t,n){const r=a=>{const i={};a!=null&&(i.cursor=a),n?.limit!=null&&(i.limit=`${n.limit}`),n?.locale!=null&&(i.locale=n.locale);const l=`${Af}/gizmos/discovery/${t}`;return pe("gizmo_api.discovery",()=>j.get(l,{params:i,authOption:so.SendIfAvailable}))},s=await r(n?.cursor);return s.list.items.length===0&&s.list.cursor!=null?(await new Promise(a=>setTimeout(a,Math.random()*30)),await r(s.list.cursor)):s}static getGizmoBootstrap(){return pe("gizmo_api.bootstrap",()=>j.get(`${ve}/gizmos/bootstrap?limit=2`))}static getGizmoPinned(){return pe("gizmo_api.pinned",()=>j.get(`${ve}/gizmos/pinned`))}static getGizmoSearch(t,n=null){return n?pe("gizmo_api.search_with_cursor",()=>j.get(`${ve}/gizmos/search?q=${t}&cursor=${n} `)):pe("gizmo_api.search",()=>j.get(`${ve}/gizmos/search?q=${t}`))}static getGizmoSearchForWorkspace(t,n=null){return n?pe("gizmo_api.search_workspace_cursor",()=>j.get(`${ve}/gizmos/search?q=${t}&workspace_only=true&cursor=${n}`)):pe("gizmo_api.search_workspace",()=>j.get(`${ve}/gizmos/search?q=${t}&workspace_only=true`))}static async postGizmoAppeal(t,n,r,s,a){await pe("gizmo_api.appeal",()=>j.post(`${ve}/gizmos/${n}/appeal`,{reason:r,share_recipient:s,categories:a})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await pe("gizmo_api.cancel_appeal",()=>j.post(`${ve}/gizmos/${n}/cancel_appeal`,{})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?pe("gizmo_api.upsert_gizmo",()=>j.post(`${ve}/gizmos?gizmo_id=${n}`,t)):pe("gizmo_api.upsert_gizmo",()=>j.post(`${ve}/gizmos`,t))}static promoteDraft(t,n){return pe("gizmo_api.promote",()=>j.post(`${ve}/gizmos/${n}/promote`,t))}static deleteGizmo(t){return pe("gizmo_api.delete_gizmos",()=>j.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}}))}static getBuilderProfile(){return pe("gizmo_api.gizmo_creator_profile",()=>j.get(`${ve}/gizmo_creator_profile`))}static updateBuilderProfile(t){return pe("gizmo_api.gizmo_creator_profile",()=>j.post(`${ve}/gizmo_creator_profile`,t))}static unverifySocialAuth(t){return pe("gizmo_api.delete_socials",()=>j.safeDelete("/gizmo_creator_profile/socials/{verifier_type}",{parameters:{path:{verifier_type:t}}}))}static async updateGizmoSidebar(t,n,r,s,a){const i=await pe("gizmo_api.update_sidebar",()=>j.post(`${ve}/gizmos/${r}/sidebar`,{action:s}));switch(s){case"keep":E.logEvent(_.sidebarGizmoMenuKeep,{location:a}),n.handleGizmoSidebarKeep(t,r);break;case"hide":E.logEvent(_.sidebarGizmoMenuHide,{location:a}),n.handleGizmoSidebarHide(t,r);break}return i}static async removeFromRecent(t,n){const r=await pe("gizmo_api.remove_recent",()=>j.post(`${ve}/gizmos/${n}/remove_recent`,{}));return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return pe("gizmo_api.fetch_openapi",()=>j.post(`${ve}/gizmos/fetch_openapi`,{url:t}))}static validateOpenAPISpec(t){return pe("gizmo_api.validate_openapi",()=>j.post(`${ve}/gizmos/validate_openapi`,{raw_spec:t}))}static transformToOpenAPISpec(t,n){return pe("gizmo_api.transform_openapi",()=>j.post(`${ve}/gizmos/transform_openapi`,{...t,auth:n}))}static async doOAuthRedirect(t,n,r,s,a){const i=await pe("gizmo_api.oauth_redirect",()=>j.post(`${ve}/gizmos/oauth_redirect`,{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:s,draft:a}));window.location.href=i.redirect_uri}static async upsertUserActionSettings(t,n,r){return pe("gizmo_api.action_settings",()=>j.post(`${ve}/gizmos/action_settings`,{gizmo_action_id:t,domain:n,action_settings:r}))}static async getUserActionSettings(t){return pe("gizmo_api.user_action_settings",()=>j.get(`${ve}/gizmos/user_action_settings?gizmo_id=${t}`))}static async generateCategory(t,n){return pe("gizmo_api.gen_category",()=>j.post(`${ve}/gizmos/gen_category`,{name:t,instructions:n}))}static async getConversations(t,n=null){return pe("gizmo_api.conversations",()=>j.get(`${ve}/gizmos/${t}/conversations`,{params:{...n?{cursor:n}:{}}}))}static async getCategories(){return pe("gizmo_api.categories",()=>j.get(`${ve}/gizmos/categories`))}static async getUserReview(t){return pe("gizmo_api.get_gizmo_reviews",()=>j.get(`${ve}/gizmo_reviews/${t}`))}static async upsertUserReview(t,n,r,s){return pe("gizmo_api.upsert_gizmo_reviews",()=>j.post(`${ve}/gizmo_reviews/${t}`,{rating:n,message:r,include_from:s}))}static async sendFeedbackEmail(t,n,r){return pe("gizmo_api.feedback",()=>j.post(`${ve}/gizmos/${t}/feedback`,{message:n,include_from:r}))}static async getAbout(t){return pe("gizmo_api.about",()=>j.get(`${ve}/gizmos/${t}/about`))}static async getCreatorSlice({creatorId:t}){return pe("gizmo_api.gizmo_creators",()=>j.get(`${ve}/gizmo_creators/${t}/gizmos`))}static async getVersion({gizmoId:t,version:n}){return n==null?pe("gizmo_api.latest_version",()=>j.get(`${ve}/gizmos/${t}/version/latest`)):pe("gizmo_api.version",()=>j.get(`${ve}/gizmos/${t}/version/${n}`))}static async listVersions({gizmoId:t,limit:n,cursor:r}){const s={};return n&&(s.limit=n),r&&(s.cursor=r),pe("gizmo_api.versions",()=>j.get(`${ve}/gizmos/${t}/versions`,{params:s}))}static async copyGizmo({gizmoId:t}){return pe("gizmo_api.copy",()=>j.post(`${ve}/gizmos/${t}/copy`))}}async function pe(e,t){return V.addAction(`${e}.start`),t().catch(n=>{throw V.addAction(`${e}.failure`,{error:n}),n})}async function GO(){const e=await fe.getMe();return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created,phone_number:e.phone_number}}const Jx=El({queryKey:["user"],queryFn:GO,staleTime:1/0});function wn(){return ee(Jx).data}const WO={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function ms(e){const t=ee({...yp(),select:n=>{const r=Ld(n);return{currentWorkspace:r?.data??null,subscriptionStatus:r?.data.subscriptionStatus??null,workspaces:n.accountItems.map(s=>s.data)}}}).data??WO;return e?e(t):t}const fo={hasMultipleWorkspaces:({workspaces:e})=>e.length>1,isPersonalWorkspace:({currentWorkspace:e})=>e?.structure===$a.PERSONAL,isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===$a.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>e?.planType===mr.EDU,isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&VA(e.planType),isTeamPlan:({subscriptionStatus:e})=>e?.planType===mr.TEAM,isAdmin:({currentWorkspace:e})=>e!=null&&e.role===zs.ADMIN,isOwner:({currentWorkspace:e})=>e!=null&&e.role===zs.OWNER,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,businessWorkspace:({currentWorkspace:e})=>e?.structure===$a.WORKSPACE?e:void 0,businessWorkspaceId:({currentWorkspace:e})=>e?.structure===$a.WORKSPACE?e.id:void 0,hasPaidSubscription:({subscriptionStatus:e})=>e!=null?e.hasPaidSubscription:!1,wasPaidCustomer:({subscriptionStatus:e})=>e!=null?e.wasPaidCustomer:!1,hasCustomerObject:({subscriptionStatus:e})=>e!=null?e.hasCustomerObject:!1,hasUnclaimedFreeTrial:({currentWorkspace:e})=>e?.promoData?.has_claimed_free_trial,lastActiveSubscription:({subscriptionStatus:e})=>e!=null?e.lastActiveSubscription:null,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e?.accountUserId};function jEe(){const e=$e();if(e!=null)return e.hasPlusFeatures()}function IEe(){return yn()?.data.subscriptionStatus.lastActiveSubscription}function eC(e){return e.gizmo.current_user_permission?.can_delete??!1}function REe(e){return e.gizmo.current_user_permission?.can_write??!1}function LEe(e){return e.gizmo.current_user_permission?.can_view_config??!1}function zO(e,t,n){const r=t?.name;switch(e){case Ct.Link:return n.formatMessage(yc.privacyAnyoneWithLink);case Ct.Private:return n.formatMessage(yc.privacyOnlyMe);case Ct.Group:case Ct.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case Ct.Marketplace:return n.formatMessage(yc.privacyMarketplace);case Ct.Workspace:return n.formatMessage(yc.privacyWorkspace,{workspaceName:r});case Ct.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function OEe(e){const t=L(),n=ms(r=>r.currentWorkspace);return zO(e,n,t)}function qO(e){return"gizmo"in e}function ZO(e){return"id"in e}function DEe(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}const yc=U({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),FEe="GPT Builder",YO="gizmo-bootstrap",KO=1;function $Ee(e){if(e)return`ChatGPT - ${e}`}function BEe(e){returnwindow.location.origin+`${uo(e)}`}function zi(e){return $.checkGate("491279851")&&ln(e.gizmo.id)?`${uo(Iu(e))}/project`:uo(Iu(e))}function UEe(e,t){const n=new URLSearchParams;return t!=null&&n.set(Ci,t),HO(new URL(`${zi(e)}?${n}`,window.location.origin))}function HEe(e){return`/g/${Iu(e)}`}function VEe(e){return qO(e)&&e.gizmo.live_version===0||ZO(e)&&e.liveVersion===0}function GEe(e,t){return ee({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>Ke.getGizmoDiscovery(e,t)})}function WEe({cutId:e,locale:t,limit:n,cursor:r,enabled:s=!0}){return ia({queryKey:["gizmos","discovery",{cutId:e,locale:t,limit:n}],queryFn:async({pageParam:a})=>Ke.getGizmoDiscoveryCut(e,{locale:t,cursor:a,limit:n}),initialPageParam:r,getNextPageParam:a=>a.list.cursor??void 0,enabled:s})}function zEe(){return ee({queryKey:["gizmos","pinned"],queryFn:async()=>Ke.getGizmoPinned()})}function Ii(){return El({queryKey:["gizmos","bootstrap"],queryFn:async()=>Ke.getGizmoBootstrap().then(e=>(V.addFirstTiming("load.gizmoBootstrap"),{gizmos:Object.values(e).flat().filter(n=>n).filter(n=>n.resource.gizmo?.gizmo_type!==eg.PROJECT).map(n=>({resource:n.resource,flair:n.flair}))}))})}function qEe(){const e=Ii(),t=rg(YO,KO,e.queryKey);return ee({...e,placeholderData:t})}function W4(e,t){const n=e.filter(s=>s.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(s=>s.flair.kind===Ua.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const QO={handleGizmoInteracted(e,t){const n=e.getQueryData(xn(e,t).queryKey);n==null||ln(t)||e.setQueryData(Ii().queryKey,r=>{if(r==null)return r;const s=r.gizmos.find(a=>a.resource.gizmo.id===t);return s?.flair.kind===Ua.FirstParty||s?.flair.kind===Ua.SidebarKeep?r:{gizmos:W4(r.gizmos,{resource:n,flair:{kind:Ua.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(xn(e,t).queryKey);n!=null&&e.setQueryData(Ii().queryKey,r=>r==null?r:{gizmos:W4(r.gizmos,{resource:n,flair:{kind:Ua.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(Ii().queryKey,n=>n?.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}};function ua(e,t=!1){const n=xe();return ee(xn(n,e,t))}const ZEe=({gizmoId:e,limit:t,cursor:n})=>ee({queryFn:async()=>Ke.listVersions({gizmoId:e}),queryKey:["gizmo","versions",{gizmoId:e,limit:t,cursor:n}]});function YEe({gizmoId:e,draft:t,version:n}){const r=xe(),s=n?{queryKey:["gizmo","version",{gizmoId:e,version:n}],queryFn:async()=>Ke.getVersion({gizmoId:e,version:n}),enabled:e!=null}:xn(r,e,t);return ee(s)}function KEe(e,t){return ee({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>Ke.getUserActionSettings(e),enabled:e!=null&&t})}function xn(e,t,n=!1){return El({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>Ke.getGizmo(t,n),enabled:t!=null,initialData:()=>{if(n===!0)return;const r=e.getQueryData(Ii().queryKey);if(r!=null)return r.gizmos.find(a=>a.resource.gizmo.id===t)?.resource;const s=e.getQueryData(["gizmos","discovery"]);if(s!=null)for(const a of s.cuts){const i=a.list.items.find(l=>l.resource.gizmo.id===t)?.resource;if(i!=null)return i}}})}function XO(e,t){return e.fetchQuery(xn(e,t))}function QEe(e){return ee({queryKey:["gizmo",{search:e}],queryFn:async()=>Ke.getGizmoSearch(e),enabled:e.length>0})}function XEe(e,t){return ee({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>Ke.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function JEe(e,t=!1,n=!1,r=null){return ia({queryKey:[n?"gizmo-search-workspace":"gizmo",{query:e,cursor:r}],queryFn:async({pageParam:s})=>n?Ke.getGizmoSearchForWorkspace(e,r=s):Ke.getGizmoSearch(e,r=s),initialPageParam:r,getNextPageParam:s=>s.cursor??void 0,enabled:t})}function eke(){const e=xe();return Ie({mutationFn:async({gizmoId:t,editorData:n})=>{const{instructions:r,name:s,description:a,emoji:i,theme:l,profilePictureId:c,profilePictureUrl:d,promptStarters:f,tools:m,files:p,trainingDisabled:g}=n,v={instructions:r,display:{name:s,description:a,emoji:i,theme:l,profile_pic_id:c,profile_picture_url:d,prompt_starters:f},tools:m,files:p.map(h=>({...h,location:tg.FILE_SERVICE})),training_disabled:g};return Ke.upsertDraft(v,t)},onSettled:t=>{t&&(e.setQueryData(xn(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function tke(){const e=xe();return Ie({mutationFn:async({gizmoId:t,data:n})=>{const{sharingRecipient:r,categories:s}=n,a=await Ke.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:s},t);if(a.error)throw new Yx(a);return a.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(xn(e,t.gizmo.id,!1).queryKey,t)}})}function nke(){const e=xe();return Ie({mutationFn:async({gizmoId:t})=>Ke.deleteGizmo(t),onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function rke(){const e=xe(),t=Be();return Ie({mutationFn:async({name:n,hideName:r,websiteUrl:s,willReceiveSupportEmails:a})=>Ke.updateBuilderProfile({name:n,hide_name:r,website_url:s,will_receive_support_emails:a}),onSuccess:n=>{e.setQueryData(["builderProfile"],n)},onError:n=>{t.warning(n.message)}})}function ske(){return ee({queryKey:["builderProfile"],queryFn:async()=>Ke.getBuilderProfile()})}function ake(){return Ie({mutationFn:async({gizmoId:e})=>Ke.copyGizmo({gizmoId:e})})}function oke(){return ee({queryKey:["gizmoCategories"],queryFn:async()=>Ke.getCategories()})}function ike(e,t,n){return!!(t!=null&&[ke.PrimaryAssistant,ke.GizmoInteraction].includes(t)&&e?.includes(bp.GPT_4))}function JO(e,t){const n=xe(),r=Be();return Ie({mutationFn:async({rating:s,message:a,includeFrom:i})=>{await Ke.upsertUserReview(e,s,a,i)},onSuccess:async()=>{n.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:s=>{r.danger(s.message)}})}function tC(e){return e==null||[ke.PrimaryAssistant,ke.GizmoInteraction].includes(e.kind)}function sg(e,t){const n=Je(e,s=>OO(s?.mode,t)),{data:r}=ua(n!=null&&"gizmo_id"in n?n.gizmo_id:void 0,n?.kind===ke.GizmoTest);if(n!=null)switch(n.kind){case ke.GizmoInteraction:case ke.GizmoMagicCreate:case ke.GizmoTest:return{gizmo:r,...n};case ke.PrimaryAssistant:return n}}const nC="gpt-4o-mini";var Ri=(e=>(e.GPT4o="AG8PqS2q",e.AUTO="auto",e))(Ri||{});const eD=e=>{const{categoryId:t}=e;return t==="auto"},ag=GA({slug:nC,max_tokens:4097,title:"Default",description:"",tags:[bp.GPT_3_5],product_features:{}});function lke(e){return e?.categories.some(({categoryId:t})=>t===Ri.GPT4o)??!1}const rC=new Map([[nC,ag]]);function og(e=rC,t){if(t!=null)return e.get(t)}function sC(e=!1){const t=vs(),n=Te(),[,r]=bn();return u.useCallback(({location:s,modelId:a,options:i})=>{const l=t.pathname.includes("/g/"),c=t.pathname.startsWith("/g/g-p-");e||l&&!c?(E.logNewChatButtonClicked({location:s}),n({pathname:"/",search:`?model=${encodeURIComponent(a)}`},i)):(r(d=>(d.set("model",a),d)),E.logNewChatButtonClicked({location:s}))},[e,t,n,r])}function aC(e){const{data:t}=hr(),n=Je(e,r=>r?.modelId);return og(t?.models,n)}function Io(e){return aC(e)??ag}function I2(e,t){return e?.enabledTools?.includes(t)??!1}function tD(e){return og(e?.models,e?.defaultModelSlug)??ag}const nD="ext-oai-did",rD="ext-login-allow-phone",sD="ext-signup-allow-phone",cke="ext-whatsapp-al-flow";function aD(e){return{[nD]:e}}const uke={auth0:o.jsx(C,{id:"mfaModals.auth0",defaultMessage:"username & password"}),"google-oauth2":o.jsx(C,{id:"mfaModals.google-oauth2",defaultMessage:"Google"}),windowslive:o.jsx(C,{id:"mfaModals.microsoft",defaultMessage:"Microsoft"}),apple:o.jsx(C,{id:"mfaModals.apple",defaultMessage:"Apple"}),samlp:o.jsx(C,{id:"mfaModals.samlp",defaultMessage:"your company's single sign on solution"}),oidc:o.jsx(C,{id:"mfaModals.oidc",defaultMessage:"your company's single sign on solution"})},oD="oai-auth-provider";function m1(){return u.useContext($r).isElectron}function iD(){const e=m1(),{value:t}=st("1072178956"),{value:n}=st("3342258807");if(e){if(n)return lD;if(t)return cD}}const lD=Ti.OpenAISidetron,cD=Ti.Auth0Sidetron;function uD(){const{value:e}=qe("4012051055");return e}function dD(){const{layer:e}=ot("183390215");return u.useCallback(()=>e.get("in_phone_signup_holdout",!1),[e])}function fD(){const{layer:e}=ot("183390215");return u.useCallback(()=>e.get("signup_allow_phone",!1),[e])}function mD(){const{layer:e}=ot("1914829685");return u.useCallback(()=>e.get("forward_to_authapi",!1),[e])}function pD(e,t,n){return t&&n?Ti.OpenAI:t?Ti.LoginWebAuth0:Ti.Auth0}function Fn(){const[e]=bn(),t=uD(),n=dD(),r=fD(),{country:s}=pl(),a=mD(),i=iD();return u.useCallback(({authType:l="signup",callbackUrl:c="/",additionalAuthParams:d={},callback:f,shouldOpenPaymentModalOnAuth:m=!1,forceAuthFlow:p=void 0}={})=>{const g=p===l4.Auth0,v=p===l4.AuthApi,h=a(),x=i??pD(e,!0,(h||v)&&!g),y=!n()&&(t||r());m&&lt.setBooleanCookie(ct.ShowPaymentModal,!0,{maxAge:6*60*60}),sessionStorage.setItem(oD,x.toString()),f?.(x),$p.signIn(x,{callbackUrl:c},{prompt:"login",screen_hint:l,...aD(WA()),[rD]:"true",...y?{[sD]:"true"}:{},...s?{country_code:s}:{},...d})},[a,i,e,n,t,r,s])}function dke(e){return e instanceof KeyboardEvent||"key"in e||"detail"in e&&e.detail===0?"keyboard":"mouse"}const gD="https://challenges.cloudflare.com/turnstile/v0/api.js",hD={[eu.PAID]:"0x4AAAAAAASbFNinhLLnW5f1",[eu.FREEACCOUNT]:"0x4AAAAAAACPe2BTwOIpYk6H",[eu.NOAUTH]:"0x4AAAAAAASbHVR44GU82lOI"};class Lu{toString(){return JSON.stringify(this.toJSON())}}class Of extends Lu{constructor(t){super(),this.message=t,this.message=t}toJSON(){return{"Turnstile-Internal-Error":this.message}}}class vD extends Lu{constructor(t){super(),this.errorCode=t,this.errorCode=t}toJSON(){return{"Turnstile-Client-Error":this.errorCode}}}class xD{app=eu.NOAUTH;status="idle";turnstileInstancePromise=null;enforcementTokenPromise=null;enforcementTokenCache=new WeakMap;requestStartTimeMs=0;_onCompleted;_onError;async initializeAndGatherData(t){this._getOrCreateInstance(t)}async _getOrCreateInstance(t){return!t.turnstile?.required||t.turnstile?.dx?null:(this.app!==t.persona&&(this.app=t.persona,this.turnstileInstancePromise=this._getTurnstileInstancePromise()),this.turnstileInstancePromise??new Of("Turnstile instance not initialized."))}getEnforcementTokenSync(t){return this.enforcementTokenCache.get(t)??null}async getEnforcementToken(t){return t.turnstile?.dx?c4(t.turnstile.dx):this.startEnforcement(t).then(n=>(this.enforcementTokenPromise=null,n?n.toString():null))}async startEnforcement(t){return t.turnstile?.required?t.turnstile?.dx?c4(t.turnstile.dx).then(n=>(n&&this.enforcementTokenCache.set(t,n),n)):this.enforcementTokenPromise!==null?this.enforcementTokenPromise:this.enforcementTokenPromise=this._getEnforcementToken(t):null}async _getEnforcementToken(t,n){const r=await this._getOrCreateInstance(t);return r instanceof Lu||r===null?r:new Promise((s,a)=>{this.setOnCompleted(i=>{const l=performance.now()-this.requestStartTimeMs;V.addAction("turnstile_get_token_success",{app:this.app.toString(),durationMs:l}),s(i)}),this.setOnError(i=>{if(!n)this._getEnforcementToken(t,!0).then(s,a);else{const l=performance.now()-this.requestStartTimeMs;V.addAction("turnstile_get_token_error",{app_release:"be1c4904ef2299c352cccf371ea74c3539688857",error:i,app:this.app.toString(),durationMs:l}),s(new vD(i))}}),this.setStatus("ready"),this.requestStartTimeMs=performance.now(),r.reset(),r.execute()})}setStatus(t){this.status=t}onCompleted(t){this._onCompleted?.(t)}setOnCompleted(t){this._onCompleted=t}onError(t){this._onError?.(t)}setOnError(t){this._onError=t}onExpired(){this.enforcementTokenPromise=null}_getTurnstileInstancePromise(t){if(this.turnstileInstancePromise!==null)if(t)this.turnstileInstancePromise.then(n=>{n instanceof Lu||n.remove()}),this.turnstileInstancePromise=null;else return this.turnstileInstancePromise;return this.turnstileInstancePromise=new Promise((n,r)=>{const s="onloadTurnstileCallback";Object.defineProperty(window,s,{value:()=>{if(this.status==="ready")return;this.setStatus("script_loaded");const{turnstile:d}=window;if(d===null){this.setStatus("error"),t?(V.addAction("turnstile_instance_missing",{app_release:"be1c4904ef2299c352cccf371ea74c3539688857",app:this.app.toString()}),n(new Of("Turnstile instance missing"))):this._getTurnstileInstancePromise(!0).then(n,r);return}d.render("#"+a,{sitekey:hD[this.app],execution:"execute",callback:this.onCompleted.bind(this),"error-callback":this.onError.bind(this),"expired-callback":this.onExpired.bind(this)}),n(d)}});const a="cf-turnstile",i="cf-turnstile-script";document.getElementById(a)?.remove(),document.getElementById(i)?.remove();const l=document.createElement("div");l.id=a,l.hidden=!0,document.body.appendChild(l),this.setStatus("loading");const c=document.createElement("script");c.id=i,c.src=gD+`?onload=${s}`,c.async=!0,c.defer=!0,c.onerror=()=>{this.setStatus("error"),t?(V.addAction("turnstile_script_load_error",{app_release:"be1c4904ef2299c352cccf371ea74c3539688857",app:this.app.toString()}),n(new Of("Turnstile script failed to load"))):this._getTurnstileInstancePromise(!0).then(n,r)},document.body.appendChild(c)}),this.turnstileInstancePromise}}const fke=new xD;class CD{completionStartTime=Date.now();completionEndTime;blurDuringCompletionTime;refocusTime;constructor(){window.addEventListener("blur",this.onWindowBlur)}logFocusAfterBlurDuringCompletionEvent=()=>{$.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`}),E.logEvent(_.focusAfterBlurDuringCompletion,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`})};onWindowBlur=()=>{this.blurDuringCompletionTime===void 0&&(this.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",this.onWindowFocusAfterBlur))};onWindowFocusAfterBlur=()=>{this.refocusTime=Date.now(),this.completionEndTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent(),this.cleanupFocusAfterBlurListener()};cleanupFocusAfterBlurListener=()=>{window.removeEventListener("focus",this.onWindowFocusAfterBlur)};onMessageError=()=>{window.removeEventListener("blur",this.onWindowBlur)};onMessageDone=()=>{window.removeEventListener("blur",this.onWindowBlur),this.blurDuringCompletionTime!==void 0&&(this.completionEndTime=Date.now(),$.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),E.logEvent(_.blurDuringCompletion,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),this.refocusTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent())}}const Ro=de(()=>({messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}})),yD=()=>Ro.getState().ui.focusedNodeId,Lo=()=>Ro.getState().messagesDevData;function mke(e){const t=Object.keys(Lo()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n+1)%t.length;return t[r]}function pke(e){const t=Object.keys(Lo()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n-1+t.length)%t.length;return t[r]}function gke(e){return Object.keys(Lo()).indexOf(e)}const hke=()=>Object.keys(Lo()).length;function bD(e,t){for(var n,r=-1,s=e.length;++r<s;){var a=t(e[r]);a!==void 0&&(n=n===void 0?a:n+a)}return n}var wD=bD,SD=wD,MD=NaN;function _D(e,t){var n=e==null?0:e.length;return n?SD(e,t)/n:MD}var ED=_D,kD=ED,TD=dl;function AD(e){return kD(e,TD)}var PD=AD;const ND=ue(PD);function jD(e){return e.length===0?null:e.reduce((n,r)=>n+r,0)/e.length}function ID(e){const t=e.length;if(t===0)return 0;const n=jD(e)||0,r=e.reduce((s,a)=>s+Math.pow(a-n,2),0)/t;return Math.sqrt(r)}function z4(e,t){const n=e.slice().sort((l,c)=>l-c),r=t*(n.length-1),s=Math.floor(r),a=Math.ceil(r);if(s===a)return n[s];const i=r-s;return(1-i)*n[s]+i*n[a]}function RD(e){if(e.length===0)return null;const t=e.slice().sort((r,s)=>r-s),n=Math.floor(t.length/2);return t.length%2===0?(t[n-1]+t[n])/2:t[n]}var Un=(e=>(e.FirstTokenLatency="first_token_lat",e.TotalRequestTime="total_request_time",e.TokenCount="token_count",e.StdDevTokenLatency="std_dev_token_lat",e.MeanTokenLatency="mean_token_lat",e.MedianTokenLatency="median_token_lat",e.MinTokenLatency="min_token_lat",e.MaxTokenLatency="max_token_lat",e.P95TokenLatency="p95_token_lat",e.P99TokenLatency="p99_token_lat",e))(Un||{});const oC=e=>{const t=e.filter(p=>p.requestCount>1);let n=0;for(let p=0;p<e.length;p++){const g=e[p];if(n=g.requestDuration,g.content!=="")break}const r=z4(t.map(p=>p.lastTokenDuration),.95),s=z4(t.map(p=>p.lastTokenDuration),.99),a=ND(t.map(p=>p.lastTokenDuration)),i=RD(t.map(p=>p.lastTokenDuration)),l=t.filter(p=>p.lastTokenDuration!==0).reduce((p,g)=>Math.min(p,g.lastTokenDuration),1/0),c=t.reduce((p,g)=>Math.max(p,g.lastTokenDuration),-1/0),d=ID(t.map(p=>p.lastTokenDuration)),f=e[e.length-1]?.requestDuration;return[{id:"first_token_lat",name:"First Token lat.",stat:n>0?`${n.toFixed(2)}ms`:null,value:n>0?n:null,category:"summary"},{id:"total_request_time",name:"Total request time",stat:f?`${(f/1e3).toFixed(2)}s`:null,value:f||null,category:"summary"},{id:"token_count",name:"Token count",stat:`${e.length}`,value:e.length,category:"summary"},{id:"std_dev_token_lat",name:"Std dev Token lat.",stat:`${d.toFixed(2)}`,value:d,category:"token"},{id:"mean_token_lat",name:"Mean Token lat.",stat:a?`${a.toFixed(2)}ms`:null,value:a??null,category:"aggregate"},{id:"median_token_lat",name:"Median Token lat.",stat:i?`${i.toFixed(2)}ms`:null,value:i??null,category:"token"},{id:"min_token_lat",name:"Min Token lat.",stat:`${l.toFixed(2)}ms`,value:l??null,category:"token"},{id:"max_token_lat",name:"Max Token lat.",stat:`${c.toFixed(2)}ms`,value:c??null,category:"token"},{id:"p95_token_lat",name:"p95 Token lat.",stat:r?`${r.toFixed(2)}ms`:null,value:r??null,category:"aggregate"},{id:"p99_token_lat",name:"p99 Token lat.",stat:s?`${s.toFixed(2)}ms`:null,value:s??null,category:"aggregate"}]},vke=()=>{const e=Lo(),t=yD();if(!e||!t)return{stats:[],targetLatencyData:[]};const r=e[t]?.data??[];return{stats:oC(r),targetLatencyData:r}},LD=(e,t,n,r)=>{Ro.setState(s=>{const a={focusedNodeId:e},i={status:"active",data:[],model:t,serverRequestId:n,preflightTime:r};return{...s,activeNodeId:e,ui:a,messagesDevData:{...s.messagesDevData,[e]:i}}})},OD=(e,t,n)=>{const r=n?.search_source;Ro.setState(s=>{const a=s.messagesDevData[e];return{...s,activeNodeId:e,messagesDevData:{...s.messagesDevData,[e]:{...a,data:[...a?.data??[],t],searchSource:r}}}})},nr=(e,t)=>t.find(n=>n.id===e)?.value,DD=e=>{const n=Lo()[e],r=oC(n.data),{preflightTime:s,model:a,serverRequestId:i,searchSource:l}=n,c={model:a,serverRequestId:i,preflightTime:s,searchSource:l,countTokens:nr(Un.TokenCount,r),tsFirstToken:nr(Un.FirstTokenLatency,r),tsMaxTokenTime:nr(Un.MaxTokenLatency,r),tsMeanTokenWithoutFirst:nr(Un.MeanTokenLatency,r),tsMedianTokenWithoutFirst:nr(Un.MedianTokenLatency,r),tsMinTokenTime:nr(Un.MinTokenLatency,r),tsStdDevTokenTime:nr(Un.StdDevTokenLatency,r),tsP95TokenWithoutFirst:nr(Un.P95TokenLatency,r),tsP99TokenWithoutFirst:nr(Un.P99TokenLatency,r),tsTotalRequestTime:nr(Un.TotalRequestTime,r)};fe.postLatencyTimingEvent(c)},FD=e=>Ro.setState(t=>{const n={...t.messagesDevData[e],status:"finished"};return{...t,messagesDevData:{...t.messagesDevData,[e]:n}}}),xke=e=>Ro.setState(t=>({...t,ui:{...t.ui,focusedNodeId:e}}));class $D{constructor(t,n){this.requestLatencyId=t,this.requestStartTime=n,this.requestLastTokenTime=n}requestLastTokenTime;requestCount=0;requestTimes=[];onResponse(t,n,r){const s=performance.now(),a=s-this.requestLastTokenTime,i=s-this.requestStartTime;this.requestLastTokenTime=s,this.requestCount+=1;const l={requestCount:this.requestCount,requestDuration:i,lastTokenDuration:Number(JSON.stringify(a)),messageType:n.content.content_type,content:y2(n)?Ks(n):""};this.requestTimes.push(l),t.type==="message"?OD(this.requestLatencyId,l,n.metadata):t.type==="done"&&r!=null&&(FD(this.requestLatencyId),DD(this.requestLatencyId))}}function BD(e){window.history.pushState({},"",e)}const iC=5,Wn="snorlaxConversations";function Me(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Y(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ou(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(n){return typeof n}:ou=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ou(e)}function oe(e){Y(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ou(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Al(e,t){Y(2,arguments);var n=oe(e),r=Me(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ig(e,t){Y(2,arguments);var n=oe(e),r=Me(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}function iu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(n){return typeof n}:iu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},iu(e)}function Cke(e,t){if(Y(2,arguments),!t||iu(t)!=="object")return new Date(NaN);var n=t.years?Me(t.years):0,r=t.months?Me(t.months):0,s=t.weeks?Me(t.weeks):0,a=t.days?Me(t.days):0,i=t.hours?Me(t.hours):0,l=t.minutes?Me(t.minutes):0,c=t.seconds?Me(t.seconds):0,d=oe(e),f=r||n?ig(d,r+n*12):d,m=a||s?Al(f,a+s*7):f,p=l+i*60,g=c+p*60,v=g*1e3,h=new Date(m.getTime()+v);return h}function UD(e,t){Y(2,arguments);var n=oe(e).getTime(),r=Me(t);return new Date(n+r)}var HD={};function Oo(){return HD}function Ou(e,t){var n,r,s,a,i,l,c,d;Y(1,arguments);var f=Oo(),m=Me((n=(r=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=oe(e),g=p.getDay(),v=(g<m?7:0)+g-m;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function R2(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Du(e){Y(1,arguments);var t=oe(e);return t.setHours(0,0,0,0),t}var VD=864e5;function lC(e,t){Y(2,arguments);var n=Du(e),r=Du(t),s=n.getTime()-R2(n),a=r.getTime()-R2(r);return Math.round((s-a)/VD)}function cC(e,t){Y(2,arguments);var n=Me(t),r=n*7;return Al(e,r)}function GD(e,t){Y(2,arguments);var n=Me(t);return ig(e,n*12)}var lg=6e4,uC=36e5;function dC(e,t){Y(2,arguments);var n=Du(e),r=Du(t);return n.getTime()===r.getTime()}function lu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(n){return typeof n}:lu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lu(e)}function WD(e){return Y(1,arguments),e instanceof Date||lu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zD(e){if(Y(1,arguments),!WD(e)&&typeof e!="number")return!1;var t=oe(e);return!isNaN(Number(t))}function q4(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function cg(e,t){Y(2,arguments);var n=oe(e),r=oe(t),s=q4(n,r),a=Math.abs(lC(n,r));n.setDate(n.getDate()-s*a);var i=+(q4(n,r)===-s),l=s*(a-i);return l===0?0:l}function qD(e,t){return Y(2,arguments),oe(e).getTime()-oe(t).getTime()}var Z4={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ZD="trunc";function YD(e){return e?Z4[e]:Z4[ZD]}function yke(e,t,n){Y(2,arguments);var r=qD(e,t)/lg;return YD(void 0)(r)}function KD(e){Y(1,arguments);var t=oe(e);return t.setHours(23,59,59,999),t}function bke(e){Y(1,arguments);var t=oe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function wke(e,t){var n;Y(1,arguments);var r=e||{},s=oe(r.start),a=oe(r.end),i=a.getTime();if(!(s.getTime()<=i))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var d=Number((n=void 0)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=i;)l.push(oe(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}function Ske(e,t){Y(1,arguments);var n=e||{},r=oe(n.start),s=oe(n.end),a=s.getTime();if(!(r.getTime()<=a))throw new RangeError("Invalid interval");var i=Ou(r,t),l=Ou(s,t);i.setHours(15),l.setHours(15),a=l.getTime();for(var c=[],d=i;d.getTime()<=a;)d.setHours(0),c.push(oe(d)),d=cC(d,1),d.setHours(15);return c}function Mke(e){Y(1,arguments);var t=oe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function _ke(e,t){var n,r,s,a,i,l;Y(1,arguments);var c=Oo(),d=Me((n=(r=(s=(a=void 0)!==null&&a!==void 0?a:void 0)!==null&&s!==void 0?s:c.weekStartsOn)!==null&&r!==void 0?r:(i=c.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=oe(e),m=f.getDay(),p=(m<d?-7:0)+6-(m-d);return f.setDate(f.getDate()+p),f.setHours(23,59,59,999),f}function Eke(){return KD(Date.now())}function QD(e,t){Y(2,arguments);var n=Me(t);return UD(e,-n)}var XD=864e5;function JD(e){Y(1,arguments);var t=oe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/XD)+1}function Fu(e){Y(1,arguments);var t=1,n=oe(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function fC(e){Y(1,arguments);var t=oe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Fu(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var i=Fu(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function eF(e){Y(1,arguments);var t=fC(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Fu(n);return r}var tF=6048e5;function nF(e){Y(1,arguments);var t=oe(e),n=Fu(t).getTime()-eF(t).getTime();return Math.round(n/tF)+1}function $u(e,t){var n,r,s,a,i,l,c,d;Y(1,arguments);var f=Oo(),m=Me((n=(r=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=oe(e),g=p.getUTCDay(),v=(g<m?7:0)+g-m;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function mC(e,t){var n,r,s,a,i,l,c,d;Y(1,arguments);var f=oe(e),m=f.getUTCFullYear(),p=Oo(),g=Me((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(m+1,0,g),v.setUTCHours(0,0,0,0);var h=$u(v,t),x=new Date(0);x.setUTCFullYear(m,0,g),x.setUTCHours(0,0,0,0);var y=$u(x,t);return f.getTime()>=h.getTime()?m+1:f.getTime()>=y.getTime()?m:m-1}function rF(e,t){var n,r,s,a,i,l,c,d;Y(1,arguments);var f=Oo(),m=Me((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=mC(e,t),g=new Date(0);g.setUTCFullYear(p,0,m),g.setUTCHours(0,0,0,0);var v=$u(g,t);return v}var sF=6048e5;function aF(e,t){Y(1,arguments);var n=oe(e),r=$u(n,t).getTime()-rF(n,t).getTime();return Math.round(r/sF)+1}function Oe(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var zr={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Oe(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Oe(r+1,2)},d:function(t,n){return Oe(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Oe(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Oe(t.getUTCHours(),n.length)},m:function(t,n){return Oe(t.getUTCMinutes(),n.length)},s:function(t,n){return Oe(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,r-3));return Oe(a,n.length)}},Sa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oF={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return zr.y(t,n)},Y:function(t,n,r,s){var a=mC(t,s),i=a>0?a:1-a;if(n==="YY"){var l=i%100;return Oe(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):Oe(i,n.length)},R:function(t,n){var r=fC(t);return Oe(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Oe(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Oe(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Oe(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return zr.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Oe(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var a=aF(t,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):Oe(a,n.length)},I:function(t,n,r){var s=nF(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Oe(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):zr.d(t,n)},D:function(t,n,r){var s=JD(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Oe(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return Oe(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return Oe(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return Oe(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),a;switch(s===12?a=Sa.noon:s===0?a=Sa.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),a;switch(s>=17?a=Sa.evening:s>=12?a=Sa.afternoon:s>=4?a=Sa.morning:a=Sa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return zr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):zr.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):zr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):zr.s(t,n)},S:function(t,n){return zr.S(t,n)},X:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return K4(i);case"XXXX":case"XX":return Rs(i);case"XXXXX":case"XXX":default:return Rs(i,":")}},x:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"x":return K4(i);case"xxxx":case"xx":return Rs(i);case"xxxxx":case"xxx":default:return Rs(i,":")}},O:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Y4(i,":");case"OOOO":default:return"GMT"+Rs(i,":")}},z:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Y4(i,":");case"zzzz":default:return"GMT"+Rs(i,":")}},t:function(t,n,r,s){var a=s._originalDate||t,i=Math.floor(a.getTime()/1e3);return Oe(i,n.length)},T:function(t,n,r,s){var a=s._originalDate||t,i=a.getTime();return Oe(i,n.length)}};function Y4(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),a=r%60;if(a===0)return n+String(s);var i=t;return n+String(s)+i+Oe(a,2)}function K4(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Oe(Math.abs(e)/60,2)}return Rs(e,t)}function Rs(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),a=Oe(Math.floor(s/60),2),i=Oe(s%60,2);return r+a+n+i}var Q4=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},pC=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},iF=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return Q4(t,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",Q4(s,n)).replace("{{time}}",pC(a,n))},lF={p:pC,P:iF},cF=["D","DD"],uF=["YY","YYYY"];function dF(e){return cF.indexOf(e)!==-1}function fF(e){return uF.indexOf(e)!==-1}function X4(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var mF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pF=function(t,n,r){var s,a=mF[t];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Df(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var gF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xF={date:Df({formats:gF,defaultWidth:"full"}),time:Df({formats:hF,defaultWidth:"full"}),dateTime:Df({formats:vF,defaultWidth:"full"})},CF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yF=function(t,n,r,s){return CF[t]};function ri(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):a;s=e.formattingValues[i]||e.formattingValues[a]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return s[d]}}var bF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_F={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kF=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TF={ordinalNumber:kF,era:ri({values:bF,defaultWidth:"wide"}),quarter:ri({values:wF,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ri({values:SF,defaultWidth:"wide"}),day:ri({values:MF,defaultWidth:"wide"}),dayPeriod:ri({values:_F,defaultWidth:"wide",formattingValues:EF,defaultFormattingWidth:"wide"})};function si(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?PF(l,function(m){return m.test(i)}):AF(l,function(m){return m.test(i)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var f=t.slice(i.length);return{value:d,rest:f}}}function AF(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function PF(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function NF(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var jF=/^(\d+)(th|st|nd|rd)?/i,IF=/\d+/i,RF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LF={any:[/^b/i,/^(a|c)/i]},OF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DF={any:[/1/i,/2/i,/3/i,/4/i]},FF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$F={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GF={ordinalNumber:NF({matchPattern:jF,parsePattern:IF,valueCallback:function(t){return parseInt(t,10)}}),era:si({matchPatterns:RF,defaultMatchWidth:"wide",parsePatterns:LF,defaultParseWidth:"any"}),quarter:si({matchPatterns:OF,defaultMatchWidth:"wide",parsePatterns:DF,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:si({matchPatterns:FF,defaultMatchWidth:"wide",parsePatterns:$F,defaultParseWidth:"any"}),day:si({matchPatterns:BF,defaultMatchWidth:"wide",parsePatterns:UF,defaultParseWidth:"any"}),dayPeriod:si({matchPatterns:HF,defaultMatchWidth:"any",parsePatterns:VF,defaultParseWidth:"any"})},WF={code:"en-US",formatDistance:pF,formatLong:xF,formatRelative:yF,localize:TF,match:GF,options:{weekStartsOn:0,firstWeekContainsDate:1}},zF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZF=/^'([^]*?)'?$/,YF=/''/g,KF=/[a-zA-Z]/;function QF(e,t,n){var r,s,a,i,l,c,d,f,m,p,g,v,h,x;Y(2,arguments);var y=String(t),b=Oo(),S=(r=(s=void 0)!==null&&s!==void 0?s:b.locale)!==null&&r!==void 0?r:WF,T=Me((a=(i=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:b.firstWeekContainsDate)!==null&&i!==void 0?i:(d=b.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Me((m=(p=(g=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&g!==void 0?g:b.weekStartsOn)!==null&&p!==void 0?p:(h=b.locale)===null||h===void 0||(x=h.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var A=oe(e);if(!zD(A))throw new RangeError("Invalid time value");var M=R2(A),P=QD(A,M),I={firstWeekContainsDate:T,weekStartsOn:k,locale:S,_originalDate:A},D=y.match(qF).map(function(F){var B=F[0];if(B==="p"||B==="P"){var z=lF[B];return z(F,S.formatLong)}return F}).join("").match(zF).map(function(F){if(F==="''")return"'";var B=F[0];if(B==="'")return XF(F);var z=oF[B];if(z)return fF(F)&&X4(F,t,String(e)),dF(F)&&X4(F,t,String(e)),z(P,F,S.localize,I);if(B.match(KF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return F}).join("");return D}function XF(e){var t=e.match(ZF);return t?t[1].replace(YF,"'"):e}function ug(e){Y(1,arguments);var t=Me(e);return oe(t*1e3)}function JF(e){Y(1,arguments);var t=oe(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function e$(e){Y(1,arguments);var t=oe(e),n=t.getMonth();return n}function t$(e){Y(1,arguments);var t=oe(e),n=t.getTime();return n}function L2(e){return Y(1,arguments),Math.floor(t$(e)/1e3)}function J4(e){return Y(1,arguments),oe(e).getFullYear()}function kke(e,t,n){var r;Y(1,arguments);var s;return n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,s).format(e)}function Tke(e,t){Y(2,arguments);var n=oe(e),r=oe(t);return n.getTime()>r.getTime()}function Ake(e,t){Y(2,arguments);var n=oe(e),r=oe(t);return n.getTime()<r.getTime()}function Pke(e,t){Y(2,arguments);var n=oe(e),r=oe(t);return n.getTime()===r.getTime()}function Nke(e){return Y(1,arguments),oe(e).getTime()>Date.now()}function jke(e,t,n){Y(2,arguments);var r=Ou(e,n),s=Ou(t,n);return r.getTime()===s.getTime()}function Ike(e,t){Y(2,arguments);var n=oe(e),r=oe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function n$(e,t){Y(2,arguments);var n=oe(e),r=oe(t);return n.getFullYear()===r.getFullYear()}function r$(e){return Y(1,arguments),n$(e,Date.now())}function s$(e){return Y(1,arguments),dC(e,Date.now())}function a$(e){return Y(1,arguments),dC(e,Al(Date.now(),1))}function o$(e,t){Y(2,arguments);var n=Me(t);return Al(e,-n)}function Rke(e,t){var n;Y(1,arguments);var r=Me((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=u$(e),a;if(s.date){var i=d$(s.date,r);a=f$(i.restDateString,i.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var l=a.getTime(),c=0,d;if(s.time&&(c=m$(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(d=p$(s.timezone),isNaN(d))return new Date(NaN)}else{var f=new Date(l+c),m=new Date(0);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return new Date(l+c+d)}var bc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},i$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u$(e){var t={},n=e.split(bc.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],bc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(bc.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=bc.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function d$(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function f$(e,t){if(t===null)return new Date(NaN);var n=e.match(i$);if(!n)return new Date(NaN);var r=!!n[4],s=ai(n[1]),a=ai(n[2])-1,i=ai(n[3]),l=ai(n[4]),c=ai(n[5])-1;if(r)return C$(t,l,c)?g$(t,l,c):new Date(NaN);var d=new Date(0);return!v$(t,a,i)||!x$(t,s)?new Date(NaN):(d.setUTCFullYear(t,a,Math.max(s,i)),d)}function ai(e){return e?parseInt(e):1}function m$(e){var t=e.match(l$);if(!t)return NaN;var n=Ff(t[1]),r=Ff(t[2]),s=Ff(t[3]);return y$(n,r,s)?n*uC+r*lg+s*1e3:NaN}function Ff(e){return e&&parseFloat(e.replace(",","."))||0}function p$(e){if(e==="Z")return 0;var t=e.match(c$);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return b$(r,s)?n*(r*uC+s*lg):NaN}function g$(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,a=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}var h$=[31,null,31,30,31,30,31,31,30,31,30,31];function gC(e){return e%400===0||e%4===0&&e%100!==0}function v$(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(h$[t]||(gC(e)?29:28))}function x$(e,t){return t>=1&&t<=(gC(e)?366:365)}function C$(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function y$(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function b$(e,t){return t>=0&&t<=59}function Lke(e,t){Y(2,arguments);var n=oe(e),r=Me(t),s=n.getFullYear(),a=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=JF(i);return n.setMonth(r,Math.min(a,l)),n}function w$(e,t){Y(2,arguments);var n=Me(t);return ig(e,-n)}function cu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(n){return typeof n}:cu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cu(e)}function Oke(e,t){if(Y(2,arguments),!t||cu(t)!=="object")return new Date(NaN);var n=t.years?Me(t.years):0,r=t.months?Me(t.months):0,s=t.weeks?Me(t.weeks):0,a=t.days?Me(t.days):0,i=t.hours?Me(t.hours):0,l=t.minutes?Me(t.minutes):0,c=t.seconds?Me(t.seconds):0,d=w$(e,r+n*12),f=o$(d,a+s*7),m=l+i*60,p=c+m*60,g=p*1e3,v=new Date(f.getTime()-g);return v}function Dke(e,t){Y(2,arguments);var n=Me(t);return cC(e,-n)}function Fke(e,t){Y(2,arguments);var n=Me(t);return GD(e,-n)}const O2=28,ts="conversationHistory",S$="conversation-history",M$=1;function _$(e={}){const{buckets:t,recentConversationLimit:n}=e,s=Dn()?.includes(zA)??!1,a=$e(),i=!s&&!!a,l=L(),d=m1(),f=rg(S$,M$,[ts]),{data:m,fetchNextPage:p,hasNextPage:g,isLoading:v,isFetchingNextPage:h,isError:x,refetch:y}=ia({queryKey:[ts],queryFn:async({pageParam:k})=>{const A=await fe.getConversations({offset:k,limit:O2});return V.addFirstTiming("load.conversationHistory"),EL(A.items),A},initialPageParam:0,getNextPageParam:k=>{const A=k.offset+k.limit;return A<k.total?A:void 0},enabled:i,refetchOnReconnect:d?"always":!0,refetchOnWindowFocus:d?"always":!0,placeholderData:f}),b=u.useMemo(()=>m?.pages.flatMap(A=>A.items)??[],[m]),S=u.useMemo(()=>{if(!m||!t)return[];const k=E$(b,l);return[k.recent,k.dynamicMonths,k.dynamicYears].flatMap(M=>Object.entries(M).map(([P,{items:I,label:D}],F)=>({key:`${P}-${F}`,label:D,items:I}))).filter(M=>M.items.length>0)},[b,m,l,t]),T=u.useMemo(()=>{const k=b.slice(0,n??5);return{key:"recents",label:l.formatMessage(wi.historyBucketRecent),items:k}},[b,n,l]);return{buckets:S,conversations:b,data:m,fetchNextPage:p,hasNextPage:g,refetch:y,recents:T,isLoading:v,isFetchingNextPage:h,isError:x}}function E$(e,t){return e.reduce((n,r)=>{const s=new Date(r.update_time??r.create_time??0),a=lC(new Date,s);if(a===0)n.recent.today.items.push(r);else if(a<=1)n.recent.yesterday.items.push(r);else if(a<=7)n.recent.lastSeven.items.push(r);else if(a<=30)n.recent.lastThirty.items.push(r);else if(r$(s)){const i=J4(s),l=e$(s),c=`${i}-${l}`;n.dynamicMonths[c]?n.dynamicMonths[c].items.push(r):n.dynamicMonths[c]={label:t.formatDate(s,{month:"long"}),items:[r]}}else{const l=`${J4(s)}-`;n.dynamicYears[l]?n.dynamicYears[l].items.push(r):n.dynamicYears[l]={label:t.formatDate(s,{year:"numeric"}),items:[r]}}return n},{recent:{today:{label:t.formatMessage(wi.historyBucketToday),items:[]},yesterday:{label:t.formatMessage(wi.historyBucketYesterday),items:[]},lastSeven:{label:t.formatMessage(wi.historyBucketLastSeven),items:[]},lastThirty:{label:t.formatMessage(wi.historyBucketLastThirty),items:[]}},dynamicMonths:{},dynamicYears:{}})}function da(e,t){e.invalidateQueries({queryKey:[ts]}),t?e.invalidateQueries({queryKey:[Wn,{gizmoId:t}]}):e.invalidateQueries({queryKey:[Wn]})}const wi=U({historyBucketRecent:{id:"history.bucket.recent",defaultMessage:"Recent"},historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}});function k$(e,t,n){const s=Z.getCurrentNode(_e(t)).message.id;fe.generateTitle(t,s,n).then(({title:a})=>{const i=Z.getGizmoId(_e(t));Nn.setTitle(t,a,gl.Generated),da(e,i),E.logEvent(_.renameThread,{threadId:t,content:a,model:n})})}function T$(e,t,n,r){const s=Z.getGizmoId(_e(n));s!=null?XO(t,s).then(a=>{if(r){e(yi(n,a));return}BD(yi(n,a))}).catch(a=>{V.addError(a),e(yi(n))}):e(yi(n))}const A$=["notificationSettings"];class P${static async getOrCreateSubscription({endpoint:t,p256dh:n,auth:r}){return j.safePost("/notifications/subscription/register",{requestBody:{platform:"web",web_metadata:{endpoint:t,p256dh:n},token:r}})}static async getSettings(){return j.safeGet("/notifications/settings",{})}static async updateSettings(t){const{category:n,...r}=t;return j.safePatch("/notifications/settings",{requestBody:{updates:{[n]:r}}})}}const N$=1e4,hC=de(St(()=>({notifications:[]}))),Bu=e=>{const t=crypto.randomUUID();hC.setState(r=>{r.notifications.push({...e,id:t})});const n=e.timeout??N$;setTimeout(()=>{j$(t)},n)},j$=e=>{hC.setState(t=>{t.notifications=t.notifications.filter(n=>n.id!==e)})},$ke=({onSuccess:e,alwaysRefetchOnMount:t=!1})=>ee({queryKey:A$,queryFn:async()=>{const r=(await P$.getSettings()).settings;return e?.(r),r},refetchOnMount:t?"always":!0});const D2=new Set,Bke=e=>{u.useEffect(()=>(D2.add(e),()=>{D2.delete(e)}),[e])},I$=e=>{for(const t of D2)try{t({error:e})}catch(n){V.addError(n)}},R$="gpt-4",L$="oai/apps/capExpiresAt";de(()=>({serverThreadIds:new Set}));function O$(){const e=p1(s=>s.isoDate),t=Date.now(),n=e&&new Date(e).getTime(),r=e&&n&&n<=t;return u.useEffect(()=>{r&&vC()},[r]),r?null:e?R$:null}const p1=de()(Cp(()=>({isoDate:""}),{name:L$}));function D$(e){p1.setState({isoDate:e})}function vC(){p1.setState({isoDate:""})}const F$=e=>{u.useEffect(e,[])},xC={isParagenVisible:!1,isParagenSkipped:!1},$$=()=>{const{config:e}=Od("4274348958"),t=e.get("show_paragen_skip_button",!1),n=e.get("show_paragen_descriptor_labels",!1),r=e.get("default_paragen_descriptor_label","");return{shouldShowParagenLabels:n,defaultParagenLabel:r,shouldShowSkipButton:t}},dg=de(St(()=>xC)),Uu=dg.setState,B$={reset:()=>Uu(xC),skipParagen:()=>{Uu(e=>{e.isParagenSkipped=!0})}},Uke=()=>dg(({isParagenSkipped:e})=>e),Hke=()=>{F$(()=>(Uu(e=>{e.isParagenVisible=!0}),()=>{Uu(e=>{e.isParagenVisible=!1})}))},Vke="https://help.openai.com/en/articles/8590148-memory-faq";function CC(e,t=!0){return["memories",{gizmoId:e,includeMemoryEntries:t}]}function U$(e,t=!0,n=!0){return ee({queryKey:CC(e,t),queryFn:async()=>{const r=await fe.getMemories(e,t),s=Math.min(Math.floor(100*r.memory_num_tokens/r.memory_max_tokens),100);return{...r,memoryFullPct:s}},refetchOnMount:"always",enabled:n})}function Gke(){const{layer:e}=ot("2716194794"),{data:t}=ee(yp());return t?.accountItems.find(a=>a.id===t.currentAccountId)?.hasPaidSubscription?.()?!1:e.get("show_upsell",!1)}const yC={[gn.LoggedIn]:we.LoggedInUserMessageCount,[gn.LoggedOut]:we.NoAuthUserMessageCount},fg=de(St(()=>({messageCountByAuthStatus:{[gn.LoggedIn]:e9(gn.LoggedIn),[gn.LoggedOut]:e9(gn.LoggedOut)}})));function H$(e){return e.messageCountByAuthStatus[gn.LoggedOut]}function V$(e){return e.messageCountByAuthStatus[gn.LoggedIn]}const G$={incrementUserMessageCount:e=>{fg.setState(t=>{const n=t.messageCountByAuthStatus[e]+1;t.messageCountByAuthStatus[e]=n,W$({authStatus:e,messageCount:n})})}};function e9(e){const t=localStorage.getItem(yC[e]);return t?Number(t):0}function W$({authStatus:e,messageCount:t}){localStorage.setItem(yC[e],String(t))}class Wke{constructor(t,n,r,s,a,i,l,c,d,f,m,p,g,v,h,x,y,b,S){this.ctx=t,this.requestId=n,this.queryClient=r,this.initialThread=s,this.clientThreadId=a,this.parentMessageId=i,this.prependMessages=l,this.promptMessage=c,this.appendMessages=d,this.completionType=f,this.model=m,this.eventSource=p,this.isHistoryAndTrainingDisabled=g,this.startPreflightTime=v,this.navigate=h,this.isSnorlaxEnabledForGizmo=x,this.isNewThread=y,this.isContinuingFromSharedConversation=b,this.turnTracker=S,this.completionLatencyTracker=new $D(this.requestId,v),this.isFirstCompletionInThread=y||this.isContinuingFromSharedConversation,this.placeholderNodeId=`${Qv}${n}`}isFirstCompletionInThread;activeBranchLastMessage;messagesToUpdate={};allIncompleteMessageIds=new Set;responseThreadId;isCompletionBlocked=!1;isEitherFlagged=!1;sentNotification=!1;variantsInStreamInfo;blurDuringCompletionTracker=new CD;completionLatencyTracker;preflightTime;placeholderNodeId;updateBeforeRequest(){I$(),B$.reset(),G$.incrementUserMessageCount(ao(this.ctx)?gn.LoggedIn:gn.LoggedOut),Nn.retainThread(this.clientThreadId),rt(this.clientThreadId,t=>{t.conduitToken=null,t.prepareState=null,Rr(this.clientThreadId)&&vn(this.clientThreadId)===void 0&&(t.initialThreadData.lastModelUsed=this.model),this.completionType===u4.Next&&Z.hasUserMessage(t)&&(t.scrollToMessageId=this.promptMessage?.id),Mr.updateTree(t,(n,r)=>{if(this.parentMessageId&&(r=Z.getNode(t,this.parentMessageId).id),this.prependMessages)for(const i of this.prependMessages)r=n.addMessageNode(r,i);if(this.promptMessage&&(r=n.addMessageNode(r,this.promptMessage)),this.appendMessages)for(const i of this.appendMessages)r=n.addMessageNode(r,i);const s=this.promptMessage?.metadata?.gizmo_id,a=qA("",s?{gizmo_id:s}:void 0,{requestId:this.requestId},this.placeholderNodeId);return r=n.addMessageNode(r,a),r})})}handleStreamConnected(t){const{serverRequestId:n}=t;this.turnTracker.onStreamOpen(),n&&this.turnTracker.onReceivedServerRequestId(n),LD(this.requestId,this.model,n,wo(this.preflightTime))}handleResponse=t=>{if(this.activeBranchLastMessage&&this.completionLatencyTracker.onResponse(t,this.activeBranchLastMessage,this.responseThreadId),this.responseThreadId===void 0&&"conversationId"in t){const n=t.conversationId;if(this.responseThreadId=n,Rr(this.clientThreadId)&&vn(this.clientThreadId)!==n&&(Nn.setServerIdForNewThread(this.clientThreadId,n),E.logEvent(_.attributeClientThreadToServerThread,{client_thread_id:this.clientThreadId,server_thread_id:n})),this.isContinuingFromSharedConversation&&(rt(this.clientThreadId,s=>{delete s.continuingFromSharedConversationId}),$.logEvent("chatgpt_continue_conversation_first_message_sent"),E.logEvent(_.continueConversationFirstMessageSent)),this.isFirstCompletionInThread){const s=_e(this.clientThreadId);E.logEvent(_.newThread),!this.isHistoryAndTrainingDisabled&&tC(s?.mode)&&ao(this.ctx)&&(da(this.queryClient,Z.getGizmoId(s)),s?.disableConversationNavigation||T$(this.navigate,this.queryClient,n,this.isSnorlaxEnabledForGizmo))}const r={id:this.requestId,threadId:this.responseThreadId,completionType:this.completionType,eventSource:this.eventSource,model:this.model};if(this.completionType===u4.Next){const s=Z.getConversationTurns(this.initialThread),a=s.length,i=s.filter(c=>c.role===Ce.User),l=i&&i[i.length-1]?.messages[0];if(l?.content.content_type===tt.Text){const c=l.content.parts.join("").length,d=i?.length??0;r.countConversationTurns=a,r.countUserSubmittedMessages=d,r.countLastUserPromptTextMessageLength=c}}E.logEvent(_.generateCompletion,r)}switch(t.type){case"num_variants_in_stream":this.bindVariantInfoToTree(t);break;case"moderation":this.handleModeration(t);break;case"url_moderation":this.handleUrlModeration(t);break;case"message":this.handleMessage(t);break;case"done":this.handleDone();break;case"gizmo_inline_review":this.handleGizmoInlineReview(t);break;case"title_generation":this.handleTitleGeneration(t);break;case"conversation_detail_metadata":this.handleConversationDetailMetadata(t);break}};handleError(t){const n=XA(t),r=n.message,s=t instanceof Bt?t.code:void 0,a=t instanceof Bt?t.detail?.can_retry:void 0;switch(this.debouncedUpdateExistingMessages.flush(),rt(this.clientThreadId,i=>{Mr.updateTree(i,(l,c)=>{const d=this.variantsInStreamInfo?Z.getParentPromptNode(i)?.id??c:c;l.updateNodeMetadata(d,{err:r,errType:"danger",errCode:s,completionSampleFinishTime:Date.now(),canRetry:a})})}),s){case Kr.ContentPolicy:case Kr.ContentOrTos:case tu.ModelCapExceeded:case tu.HistoryDisabledConversationNotFound:break;default:r!==void 0&&$.logEvent("chatgpt_conversation_error_web",r)}if(this.blurDuringCompletionTracker.onMessageError(),R4(n),this.finalize(),Ai.publish({kind:"completionFinished",serverThreadId:this.responseThreadId}),t instanceof Bt&&t.code===tu.ModelCapExceeded){const i=t.detail?.clears_in;i&&(D$(new Date(Date.now()+i*1e3).toISOString()),setTimeout(()=>{vC()},i*1e3))}}handleGizmoInlineReview({gizmoId:t}){rt(this.clientThreadId,n=>{n.promptGptRating={gizmoId:t}})}handleTitleGeneration(t){Nn.setTitle(this.clientThreadId,t.title,gl.Generated),this.maybeSendNotification()}handleConversationDetailMetadata(t){const{default_model_slug:n}=t;n&&rt(this.clientThreadId,r=>{r.modelId=n}),b2.updateDetails(t)}bindVariantInfoToTree(t){this.variantsInStreamInfo=t,rt(this.clientThreadId,n=>{Mr.updateTree(n,(r,s)=>{const a=Z.getParentPromptNode(n)??r.getNodeByIdOrMessageId(s);r.updateNodeMetadata(a.id,{variantsInStreamInfo:this.variantsInStreamInfo})})})}handleModeration(t){const{isCompletion:n,messageId:r,conversationId:s,flagged:a,blocked:i,disclaimers:l,metadata:c}=t,d=!!l?.length&&n;(a||i||d)&&(this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged=!0,i&&n&&(this.isCompletionBlocked=!0),rt(this.clientThreadId,f=>{Mr.updateTree(f,m=>{const p=m.messageIdToNodeId(r);i&&m.clearNodeMessageParts(p),m.updateNodeMetadata(p,{...(d&&!!l?.length&&ZA(l,i))??{},...a&&YA,...i&&(c?.model_incompatibility?KA:QA),completionSampleFinishTime:Date.now()})})}),E.logEvent(n?i?_.completionBlockedByModeration:_.completionFlaggedByModeration:i?_.promptBlockedByModeration:_.promptFlaggedByModeration,{threadId:s,id:r}))}handleUrlModeration(t){const{conversationId:n,url:r,isSafe:s}=t;s&&rt(n,a=>{a.safeUrls.push(r)})}handleMessage({message:t,conversationId:n}){if(this.activeBranchLastMessage=t,t?.author.role===Ce.Tool&&t?.author.name==="bio"){const r=t.metadata?.gizmo_id;setTimeout(()=>{this.queryClient.invalidateQueries({queryKey:CC(r)})},5e3)}if(Z.getTree(_e(n)).containsNodeOrMessageId(t.id)){this.messagesToUpdate[t.id]=t,this.debouncedUpdateExistingMessages();return}this.debouncedUpdateExistingMessages.flush(),rt(this.clientThreadId,r=>{Mr.updateTree(r,(s,a)=>{const i={requestId:this.requestId};t.status!=="in_progress"?i.completionSampleFinishTime=Date.now():this.allIncompleteMessageIds.add(t.id);const l={...t,clientMetadata:i},c=t.metadata?.parent_id;if(c){if(this.placeholderNodeId&&s.getParent(this.placeholderNodeId).id===s.getNodeByIdOrMessageId(c).id)if(w2(l)){s.prependNode(this.placeholderNodeId,l);return}else s.deleteNode(this.placeholderNodeId),this.placeholderNodeId=void 0;return s.addMessageNode(c,l)}else{const d=s.findFirst(f=>!w2(f.message));if(d)s.prependNode(d.id,l);else return s.addMessageNode(a,l)}})})}debouncedUpdateExistingMessages=mx(()=>{if(this.isCompletionBlocked)return;const t=Object.values(this.messagesToUpdate);t.length!==0&&(rt(this.clientThreadId,n=>{Mr.updateTree(n,r=>{for(const s of t)r.updateNodeMessage(s.id,s),s.status!=="in_progress"&&(r.updateNodeMetadata(s.id,{completionSampleFinishTime:Date.now()}),this.allIncompleteMessageIds.delete(s.id))})}),this.messagesToUpdate={})},50,{leading:!0,maxWait:50});handleAbort(t){this.debouncedUpdateExistingMessages.flush(),rt(this.clientThreadId,n=>{Mr.updateTree(n,r=>{for(const s of this.allIncompleteMessageIds)r.updateNodeMessageMetadata(s,{finish_details:{type:"interrupted"}})})}),this.handleDone()}handleDone(){this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged||(this.isFirstCompletionInThread&&this.responseThreadId&&!this.isHistoryAndTrainingDisabled&&!$.checkGate("2562876640")&&k$(this.queryClient,this.responseThreadId,this.model),Ai.publish({kind:"completionFinished",serverThreadId:this.responseThreadId})),Ai.publish({kind:"createConversation",clientThreadId:this.clientThreadId}),this.blurDuringCompletionTracker.onMessageDone(),R4(),this.finalize()}maybeSendNotification(){if(this.sentNotification)return;const t=_e(this.clientThreadId),n=t?.title??void 0;if(!n)return;const r=Z.getCurrentNode(t).message.content,s=r?.content_type===tt.Text?(r.parts[0]??"").replace(/[^a-zA-Z0-9\s]/g,""):void 0;Bu({title:n,subtitle:s,clientThreadId:this.clientThreadId}),this.sentNotification=!0}finalize(){rt(this.clientThreadId,t=>{Mr.updateTree(t,n=>{for(const r of this.allIncompleteMessageIds)n.updateNodeMetadata(r,{completionSampleFinishTime:Date.now()})})}),this.allIncompleteMessageIds.clear(),setTimeout(()=>{Ox(this.clientThreadId,{source:Rd.CLIENT,value:hp.UNREAD}),this.maybeSendNotification(),Su.removeRequest(this.requestId),Nn.releaseThread(this.clientThreadId)},0)}}var mt=(e=>(e.Starter="starter",e.Reply="reply",e.Autocomplete="autocomplete",e.Trending="trending",e))(mt||{}),z$=(e=>(e.Search="Search",e.Canvas="Canvas",e.Image="Image",e))(z$||{});const q$="~oai~s1~";function Z$(e){let t=2166136261;for(let n=0,r=e.length;n<r;n++){const s=e.charCodeAt(n);t=Math.imul(t^s&255,16777619),t=Math.imul(t^s&65280,16777619)}return t>>>0}function zke(e,t){return t!=null&&e===Y$(t)}const t9={};function Y$(e){return t9[e]??(t9[e]=Z$(q$+e))}function K$(e){let t=!1;const n=[],r=[];function s(c){n.length>0?n.shift()(c):r.push(c)}function a(c){t||s({value:c,done:!1})}function i(){t||(t=!0,n.forEach(c=>c({value:void 0,done:!0})),n.length=0)}function l(c){t||(s(Promise.reject(c)),i())}try{e(a,i,l)}catch(c){l(c)}return{next(){return new Promise(c=>{r.length>0?c(r.shift()):t?c({value:void 0,done:!0}):n.push(c)})},[Symbol.asyncIterator](){return this}}}async function Q$(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function X$(e){let t,n,r,s=!1;return function(i){t===void 0?(t=i,n=0,r=-1):t=eB(t,i);const l=t.length;let c=0;for(;n<l;){s&&(t[n]===10&&(c=++n),s=!1);let d=-1;for(;n<l&&d===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-c);break;case 13:s=!0;case 10:d=n;break}if(d===-1)break;e(t.subarray(c,d),r),c=n,r=-1}c===l?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function J$(e,t,n){let r=n9();const s=new TextDecoder;return function(i,l){if(i.length===0)n?.(r),r=n9();else if(l>0){const c=s.decode(i.subarray(0,l)),d=l+(i[l+1]===32?2:1),f=s.decode(i.subarray(d));switch(c){case"data":r.data=r.data?r.data+`
`+f:f;break;case"event":r.event=f;break;case"id":e(r.id=f);break;case"retry":const m=parseInt(f,10);isNaN(m)||t(r.retry=m);break}}}}function eB(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function n9(){return{data:"",event:"",id:"",retry:void 0}}var tB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Hu="text/event-stream",nB=1e3,r9="last-event-id";function bC(e,t){var{signal:n,headers:r,onopen:s,onmessage:a,onclose:i,onerror:l,openWhenHidden:c,fetch:d}=t,f=tB(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((m,p)=>{const g=Object.assign({},r);g.accept||(g.accept=Hu);let v;function h(){v.abort(),document.hidden||k()}c||document.addEventListener("visibilitychange",h);let x=nB,y=0;function b(){document.removeEventListener("visibilitychange",h),window.clearTimeout(y),v.abort()}n?.addEventListener("abort",()=>{b(),m()});const S=d??window.fetch,T=s??rB;async function k(){var A;v=new AbortController;try{const M=await S(e,Object.assign(Object.assign({},f),{headers:g,signal:v.signal}));await T(M),await Q$(M.body,X$(J$(P=>{P?g[r9]=P:delete g[r9]},P=>{x=P},a))),i?.(),b(),m()}catch(M){if(!v.signal.aborted)try{const P=(A=l?.(M))!==null&&A!==void 0?A:x;window.clearTimeout(y),y=window.setTimeout(k,P)}catch(P){b(),p(P)}}}k()})}function rB(e){const t=e.headers.get("content-type");if(!t?.startsWith(Hu))throw new Error(`Expected content-type to be ${Hu}, Actual: ${t}`)}function qke(e,{ctx:t,method:n,headers:r,body:s,intercomEventOnError:a,signal:i,observer:l}={}){return K$((c,d,f)=>{let m=!1;function p(h){if(m)return h;m=!0;try{return f(h),l?.onClose?.("error",h),h}finally{h instanceof Bt?(JA(h,"stream"),eP(h),a&&tP(a,{url:h.url,message:h.message})):V.addError(h)}}function g(){if(!m)if(m=!0,i?.aborted){const h=i.reason??new DOMException("Aborted","AbortError");f(h),l?.onClose?.("aborted",h)}else d(),l?.onClose?.("completed")}const v=t?Xv(t):void 0;bC(e,{method:n,credentials:"include",headers:{...v?j.getAuthedHeadersWithAccessToken(v):j.getUnauthHeaders().additionalHeaders,...s?{"Content-Type":"application/json"}:null,...r},body:s?JSON.stringify(s):void 0,signal:i,openWhenHidden:!0,async onopen(h){const x=h.headers.get("content-type")??"";if(h.ok&&x.includes("text/event-stream"))c({response:h}),l?.onOpen?.(h);else if(x.includes("application/json")){const y=await h.json();throw p(new Bt(e,h.status,y))}else{const y=await h.text();throw p(new Bt(e,h.status,{detail:{message:nP,code:"unexpected_content_type",contentType:x,text:y.substring(0,1e3)}}))}},onmessage(h){const x=new TextEncoder,y=h.data==="[DONE]";if(l?.onEvent?.({byteLength:x.encode(h.data).length,isDoneEvent:y}),h.event==="ping"||!h.data)return;if(y){g();return}const b=JSON.parse(h.data);b.error?p(Bt.createWithErrorMessage(e,"server",b.error)):c({event:h.event||void 0,data:b})},onerror(h){const x=h instanceof Error?h:new Error(JSON.stringify(h));throw x.message==="Failed to fetch"?p(Bt.createWithErrorMessage(e,"server",`An error occurred. Either the engine you requested does not exist or there was another issue processing your request. ${d4}`)):x.message==="network error"?p(Bt.createWithErrorMessage(e,"client",`A network error occurred. Please check your connection and try again. ${d4}`)):p(x)}}).then(g,p)})}const wc=e=>{if(e.type===mt.Starter&&e.category==="onboarding")return"";switch(e.type){case mt.Reply:return e.text;case mt.Starter:case mt.Autocomplete:case mt.Trending:return e.prompt}},sB=e=>e.type===mt.Reply,wC=e=>e.type===mt.Starter,mg=e=>e.type===mt.Autocomplete,SC=e=>e.type===mt.Trending,uu=e=>mg(e)&&!!e.theme,Zke=(e,t,n,r)=>{switch($.logEvent("chatgpt_prompt_use_suggestion",SC(e)||mg(e)&&!uu(e)?"":wc(e),{id:wC(e)||uu(e)?e.id??"":"",index:`${t}`,type:e.type}),e.type){case mt.Reply:E.logEvent(_.useSuggestedReply,{value:wc(e),prompt_type:mt.Reply,messageId:r});break;case mt.Starter:E.logEvent(_.useStarterPrompt,{value:wc(e),prompt_type:mt.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:n,messageId:r,index:t,theme:e.theme});break;case mt.Autocomplete:{const s=uu(e);E.logEvent(_.useAutocomplete,{value:s?wc(e):"",prompt_type:mt.Autocomplete,title:s?e.title:"",body:s?e.body:"",id:s?e.id:"",category:e.category,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}case mt.Trending:{E.logEvent(_.useTrendingPrompt,{prompt_type:mt.Trending,title:e.title,index:t,messageId:r,client_thread_id:n});break}}},Yke=(e,t)=>{if(e.length===0)return;const r=Z.getCurrentNode(_e(t)).message.id;if($.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(sB))E.logEvent(_.showSuggestedReplies,{prompt_count:e.length,prompt_type:mt.Reply,client_thread_id:t,suggestions:e.map(s=>s.text),message_id:r});else if(e.every(wC)){const{isAdditional:s}=e[0];E.logEvent(s?_.moreStarterPromptsShown:_.showStarterPrompts,{prompt_count:e.length,prompt_type:mt.Starter,titles:e.map(a=>a.title),bodies:e.map(a=>a.body),ids:e.map(a=>a.id),client_thread_id:t,message_id:r,themes:e.map(a=>a.theme??"")}),s&&E.logEvent(_.expandMoreStarterPrompts,{client_thread_id:t,message_id:r})}else if(e.every(mg)){const s=!!e.find(a=>uu(a));E.logEvent(_.showAutocompletePrompts,{prompt_count:e.length,prompt_type:e[0].type,titles:e.map(a=>s?a.title:""),bodies:e.map(a=>s?a.body:""),ids:e.map(a=>s?a.id:""),client_thread_id:t,message_id:r,themes:e.map(a=>a.theme??"")})}else e.every(SC)?E.logEvent(_.showTrendingPrompts,{prompt_count:e.length,prompt_type:mt.Trending,titles:e.map(s=>s.title),client_thread_id:t,message_id:r}):V.addError("Unhandled suggestion type",{type:e[0].type})},Kke=e=>{const n=Z.getCurrentNode(_e(e)).message.id;E.logEvent(_.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:n})},Qke=e=>{const n=Z.getCurrentNode(_e(e)).message.id;E.logEvent(_.expandMoreStarterPrompts,{client_thread_id:e,message_id:n})};var aB=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Us="1.6.0",s9=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function oB(e){var t=new Set([e]),n=new Set,r=e.match(s9);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(c){return c===e};function a(l){return n.add(l),!1}function i(l){return t.add(l),!0}return function(c){if(t.has(c))return!0;if(n.has(c))return!1;var d=c.match(s9);if(!d)return a(c);var f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return f.prerelease!=null||s.major!==f.major?a(c):s.major===0?s.minor===f.minor&&s.patch<=f.patch?i(c):a(c):s.minor<=f.minor?i(c):a(c)}}var iB=oB(Us),lB=Us.split(".")[0],qi=Symbol.for("opentelemetry.js.api."+lB),Zi=aB;function Pl(e,t,n,r){var s;r===void 0&&(r=!1);var a=Zi[qi]=(s=Zi[qi])!==null&&s!==void 0?s:{version:Us};if(!r&&a[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(i.stack||i.message),!1}if(a.version!==Us){var i=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+Us);return n.error(i.stack||i.message),!1}return a[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Us+"."),!0}function Js(e){var t,n,r=(t=Zi[qi])===null||t===void 0?void 0:t.version;if(!(!r||!iB(r)))return(n=Zi[qi])===null||n===void 0?void 0:n[e]}function Nl(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Us+".");var n=Zi[qi];n&&delete n[e]}var cB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},uB=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},dB=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oi("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oi("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oi("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oi("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oi("verbose",this._namespace,t)},e}();function oi(e,t,n){var r=Js("diag");if(r)return n.unshift(t),r[e].apply(r,uB([],cB(n),!1))}var mn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(mn||(mn={}));function fB(e,t){e<mn.NONE?e=mn.NONE:e>mn.ALL&&(e=mn.ALL),t=t||{};function n(r,s){var a=t[r];return typeof a=="function"&&e>=s?a.bind(t):function(){}}return{error:n("error",mn.ERROR),warn:n("warn",mn.WARN),info:n("info",mn.INFO),debug:n("debug",mn.DEBUG),verbose:n("verbose",mn.VERBOSE)}}var mB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},pB=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},gB="diag",gr=function(){function e(){function t(s){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var l=Js("diag");if(l)return l[s].apply(l,pB([],mB(a),!1))}}var n=this,r=function(s,a){var i,l,c;if(a===void 0&&(a={logLevel:mn.INFO}),s===n){var d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((i=d.stack)!==null&&i!==void 0?i:d.message),!1}typeof a=="number"&&(a={logLevel:a});var f=Js("diag"),m=fB((l=a.logLevel)!==null&&l!==void 0?l:mn.INFO,s);if(f&&!a.suppressOverrideMessage){var p=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";f.warn("Current logger will be overwritten from "+p),m.warn("Current logger will overwrite one already registered from "+p)}return Pl("diag",m,n,!0)};n.setLogger=r,n.disable=function(){Nl(gB,n)},n.createComponentLogger=function(s){return new dB(s)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),hB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},vB=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xB=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=hB(t,2),r=n[0],s=n[1];return[r,s]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var a=new e(this._entries);try{for(var i=vB(r),l=i.next();!l.done;l=i.next()){var c=l.value;a._entries.delete(c)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},e.prototype.clear=function(){return new e},e}(),CB=Symbol("BaggageEntryMetadata"),yB=gr.instance();function bB(e){return e===void 0&&(e={}),new xB(new Map(Object.entries(e)))}function Xke(e){return typeof e!="string"&&(yB.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:CB,toString:function(){return e}}}function MC(e){return Symbol.for(e)}var wB=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var a=new e(n._currentContext);return a._currentContext.set(r,s),a},n.deleteValue=function(r){var s=new e(n._currentContext);return s._currentContext.delete(r),s}}return e}(),SB=new wB,Do=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),MB=function(){function e(){}return e.prototype.createHistogram=function(t,n){return IB},e.prototype.createCounter=function(t,n){return jB},e.prototype.createUpDownCounter=function(t,n){return RB},e.prototype.createObservableGauge=function(t,n){return OB},e.prototype.createObservableCounter=function(t,n){return LB},e.prototype.createObservableUpDownCounter=function(t,n){return DB},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),pg=function(){function e(){}return e}(),_B=function(e){Do(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(pg),EB=function(e){Do(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(pg),kB=function(e){Do(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(pg),gg=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),TB=function(e){Do(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(gg),AB=function(e){Do(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(gg),PB=function(e){Do(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(gg),NB=new MB,jB=new _B,IB=new kB,RB=new EB,LB=new TB,OB=new AB,DB=new PB,FB={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},$B={set:function(e,t,n){e!=null&&(e[t]=n)}},BB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},UB=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},HB=function(){function e(){}return e.prototype.active=function(){return SB},e.prototype.with=function(t,n,r){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return n.call.apply(n,UB([r],BB(s),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),VB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},GB=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},$f="context",WB=new HB,g1=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Pl($f,t,gr.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var s,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(s=this._getContextManager()).with.apply(s,GB([t,n,r],VB(a),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return Js($f)||WB},e.prototype.disable=function(){this._getContextManager().disable(),Nl($f,gr.instance())},e}(),F2;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(F2||(F2={}));var _C="0000000000000000",EC="00000000000000000000000000000000",zB={traceId:EC,spanId:_C,traceFlags:F2.NONE},Li=function(){function e(t){t===void 0&&(t=zB),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),hg=MC("OpenTelemetry Context Key SPAN");function vg(e){return e.getValue(hg)||void 0}function qB(){return vg(g1.getInstance().active())}function xg(e,t){return e.setValue(hg,t)}function ZB(e){return e.deleteValue(hg)}function YB(e,t){return xg(e,new Li(t))}function kC(e){var t;return(t=vg(e))===null||t===void 0?void 0:t.spanContext()}var KB=/^([0-9a-f]{32})$/i,QB=/^[0-9a-f]{16}$/i;function XB(e){return KB.test(e)&&e!==EC}function JB(e){return QB.test(e)&&e!==_C}function TC(e){return XB(e.traceId)&&JB(e.spanId)}function eU(e){return new Li(e)}var Bf=g1.getInstance(),AC=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=Bf.active());var s=!!n?.root;if(s)return new Li;var a=r&&kC(r);return tU(a)&&TC(a)?new Li(a):new Li},e.prototype.startActiveSpan=function(t,n,r,s){var a,i,l;if(!(arguments.length<2)){arguments.length===2?l=n:arguments.length===3?(a=n,l=r):(a=n,i=r,l=s);var c=i??Bf.active(),d=this.startSpan(t,a,c),f=xg(c,d);return Bf.with(f,l,void 0,d)}},e}();function tU(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var nU=new AC,rU=function(){function e(t,n,r,s){this._provider=t,this.name=n,this.version=r,this.options=s}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,s){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):nU},e}(),sU=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new AC},e}(),aU=new sU,a9=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var s;return(s=this.getDelegateTracer(t,n,r))!==null&&s!==void 0?s:new rU(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:aU},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,n,r)},e}(),o9;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(o9||(o9={}));var i9;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(i9||(i9={}));var l9;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(l9||(l9={}));var Jke=g1.getInstance(),eTe=gr.instance(),oU=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return NB},e}(),iU=new oU,Uf="metrics",lU=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return Pl(Uf,t,gr.instance())},e.prototype.getMeterProvider=function(){return Js(Uf)||iU},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){Nl(Uf,gr.instance())},e}(),tTe=lU.getInstance(),cU=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),Cg=MC("OpenTelemetry Baggage Key");function PC(e){return e.getValue(Cg)||void 0}function uU(){return PC(g1.getInstance().active())}function dU(e,t){return e.setValue(Cg,t)}function fU(e){return e.deleteValue(Cg)}var Hf="propagation",mU=new cU,pU=function(){function e(){this.createBaggage=bB,this.getBaggage=PC,this.getActiveBaggage=uU,this.setBaggage=dU,this.deleteBaggage=fU}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Pl(Hf,t,gr.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=$B),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=FB),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Nl(Hf,gr.instance())},e.prototype._getGlobalPropagator=function(){return Js(Hf)||mU},e}(),nTe=pU.getInstance(),Vf="trace",gU=function(){function e(){this._proxyTracerProvider=new a9,this.wrapSpanContext=eU,this.isSpanContextValid=TC,this.deleteSpan=ZB,this.getSpan=vg,this.getActiveSpan=qB,this.getSpanContext=kC,this.setSpan=xg,this.setSpanContext=YB}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Pl(Vf,this._proxyTracerProvider,gr.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return Js(Vf)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Nl(Vf,gr.instance()),this._proxyTracerProvider=new a9},e}(),rTe=gU.getInstance();async function*sTe(e,t){let n=null;for await(const r of e)if("response"in r)yield r;else if(r.event==="delta_encoding"){const s=String(r.data);if(t?.(s),s==="v1")n=new vU;else throw new Error(`[delta] unknown delta encoding: ${s}`)}else if(r.event==="delta"){if(!n)throw new Error("[delta] delta event before delta_encoding");yield{data:n.applyDelta(r.data)}}else yield r}var hU=(e=>(e.V1="v1",e))(hU||{});class vU{prevObjByChannel=[];prevDelta={channel:0,op:"add",path:"",value:void 0};applyDelta(t){try{const n=this.decodeDelta(t),r=n.channel,s=this.prevObjByChannel[r],a=yU(s,n);return this.prevObjByChannel[r]=a,a}catch(n){V.addError(`Error applying delta: ${n}`)}}decodeDelta(t){CU(t);const n=xU(t,this.prevDelta),r=NC(n);return this.prevDelta=r,r}}function xU(e,t){for(const[n,r]of jC)n!=="value"&&!(r in e)&&(e[r]=t[n]);return e}function NC(e){const t=e;for(const[n,r]of jC)r in e&&(t[n]=e[r],delete e[r]);return t.op==="patch"&&(t.value=t.value.map(NC)),t}function CU(e){if(!e||typeof e!="object")throw new Error("Unexpected delta non-object")}const jC=[["channel","c"],["path","p"],["op","o"],["value","v"]];function yU(e,t){return Pd({__root:e},r=>IC(r,t)).__root}function IC(e,t){const n=SU(t.path??"");for(let s=0;s<n.length-1;s++)e[n[s]]===void 0&&(typeof n[s+1]=="number"?e[n[s]]=[]:e[n[s]]={}),e=e[n[s]];const r=n[n.length-1];switch(t.op){case"patch":for(const s of t.value){const a={__root:e[r]};IC(a,s),e[r]=a.__root}break;case"add":Array.isArray(e)?e.splice(r,0,t.value):e[r]=t.value;break;case"remove":Array.isArray(e)?e.splice(r,1):delete e[r];break;case"replace":e[r]=t.value;break;case"append":if(typeof e[r]=="string")e[r]+=t.value;else if(Array.isArray(e[r]))e[r].push(...MU(t.value));else if(c9(e[r])&&c9(t.value))for(let s in t.value)e[r][s]=t.value[s];else e[r]=t.value;break;case"truncate":e[r]&&(typeof e[r]=="string"?e[r]=e[r].substring(0,t.value):Array.isArray(e[r])&&(e[r].length=t.value));break;default:throw new Error("Unknown json delta operation")}}function bU(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}const wU=/^(?:0|[1-9]\d*)$/d;function SU(e){const t=["__root"];if(e==="")return t;e[0]==="/"&&(e=e.substring(1));for(const n of e.split("/"))wU.test(n)?t.push(parseInt(n,10)):t.push(bU(n));return t}function MU(e){return Array.isArray(e)?e:[e]}function c9(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}var Ne=(e=>(e.Search="search",e.Think="reason",e.Research="research",e.Canvas="canvas",e.Picture="picture",e.PictureV2="picture_v2",e.Video="video",e.ContextualAnswers="contextual_answers",e))(Ne||{});class aTe{eraseContent(){this.setText("")}getContentToSend(){return{content:this.getCurrentText()}}registerKeyHandlers(t){}canShowAutocompletion(){return!0}setAutocompletions(t){this.store.setState({autocompletions:t})}setShowTaggingDropdown(t){this.store.setState({showTaggingDropdown:t})}setControlsDisabled(t){this.store.setState({controlsDisabled:t})}setWaveWidth(t){this.store.setState({waveWidth:t})}setWaveformData=t=>{this.store.setState({waveformData:t})};onAutocompleteSelect=(t,n,r)=>{n.forEach(s=>{s.id===t.id&&(s.userInput=this.getCurrentText())}),this.store.setState({autocompletions:[n[r]]})};logPageMount(){V.addFirstTiming("chatgpt.web.chatPage.prompttextarea.modern.mounted")}useState(t){return u.useSyncExternalStore(n=>this.subscribe("input",n),()=>t(this),()=>t(this))}}const _U="hints";function EU(e){const t=new Set;if(e){const n=e.split(",");Array.isArray(n)&&n.forEach(r=>{Object.values(Ne).includes(r)&&t.add(r)})}return t}const yg=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9851 4.00291C11.9744 4.00615 11.953 4.01416 11.921 4.03356C11.7908 4.11248 11.5742 4.32444 11.325 4.77696C11.0839 5.21453 10.8521 5.8046 10.6514 6.53263C10.3148 7.75315 10.0844 9.29169 10.019 11H13.981C13.9156 9.29169 13.6852 7.75315 13.3486 6.53263C13.1479 5.8046 12.9161 5.21453 12.675 4.77696C12.4258 4.32444 12.2092 4.11248 12.079 4.03356C12.047 4.01416 12.0256 4.00615 12.0149 4.00291C12.0067 4.00046 12.001 4.00006 11.9996 4C11.9982 4.00006 11.9933 4.00046 11.9851 4.00291ZM8.01766 11C8.08396 9.13314 8.33431 7.41167 8.72334 6.00094C8.87366 5.45584 9.04762 4.94639 9.24523 4.48694C6.48462 5.49946 4.43722 7.9901 4.06189 11H8.01766ZM4.06189 13H8.01766C8.09487 15.1737 8.42177 17.1555 8.93 18.6802C9.02641 18.9694 9.13134 19.2483 9.24522 19.5131C6.48461 18.5005 4.43722 16.0099 4.06189 13ZM10.019 13C10.0955 14.9972 10.3973 16.7574 10.8274 18.0477C11.0794 18.8038 11.3575 19.3436 11.6177 19.6737C11.7455 19.8359 11.8494 19.9225 11.9186 19.9649C11.9515 19.9852 11.9736 19.9935 11.9847 19.9969C11.9948 20 11.9999 20 11.9999 20C11.9999 20 12.0049 20.0001 12.0153 19.9969C12.0264 19.9935 12.0485 19.9852 12.0814 19.9649C12.1506 19.9225 12.2545 19.8359 12.3823 19.6737C12.6425 19.3436 12.9206 18.8038 13.1726 18.0477C13.6027 16.7574 13.9045 14.9972 13.981 13H10.019ZM15.9823 13C15.9051 15.1737 15.5782 17.1555 15.07 18.6802C14.9736 18.9694 14.8687 19.2483 14.7548 19.5131C17.5154 18.5005 19.5628 16.0099 19.9381 13H15.9823ZM19.9381 11C19.5628 7.99009 17.5154 5.49946 14.7548 4.48694C14.9524 4.94639 15.1263 5.45584 15.2767 6.00094C15.6657 7.41167 15.916 9.13314 15.9823 11H19.9381Z",fill:"currentColor"})),u9=e=>u.createElement("svg",{width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{id:"icon / inpaint"},u.createElement("path",{id:"vector",d:"M16.9016 2.304C17.7203 1.87984 18.6886 2.07102 19.3088 2.69117C19.9289 3.31132 20.1201 4.27965 19.696 5.09831C18.9094 6.61643 17.9767 7.94625 16.8543 9.1418C17.9827 10.545 18.8307 11.9986 19.1889 13.3665C19.6064 14.9607 19.3723 16.5679 17.9895 17.6742C16.8788 18.5627 15.6307 18.4428 14.6339 18.0311C13.6637 17.6303 12.8032 16.9135 12.2125 16.343C11.8484 15.9913 11.8383 15.411 12.1901 15.0468C12.5418 14.6827 13.1221 14.6726 13.4862 15.0243C14.0182 15.5382 14.6812 16.067 15.3339 16.3366C15.96 16.5953 16.4343 16.5705 16.8442 16.2426C17.4911 15.725 17.7119 14.9632 17.4154 13.831C17.1542 12.8336 16.5045 11.6572 15.5269 10.4178C14.9946 10.8808 14.4261 11.3236 13.8182 11.7503C13.7912 11.7693 13.7636 11.7866 13.7354 11.8022C13.6786 12.4689 13.4543 13.0393 13.0594 13.494C12.6099 14.0116 12.0172 14.2891 11.4507 14.4435C10.5477 14.6896 9.46679 14.6738 8.67809 14.6623C8.52631 14.6601 8.38535 14.658 8.25856 14.658C7.7523 14.658 7.3419 14.2476 7.3419 13.7414C7.3419 13.6146 7.33984 13.4736 7.33763 13.3219C7.32614 12.5332 7.31038 11.4523 7.55648 10.5493C7.71087 9.98279 7.98833 9.39003 8.50593 8.94051C8.96061 8.54564 9.53108 8.32137 10.1978 8.26454C10.2134 8.23636 10.2307 8.20871 10.2496 8.18174C10.614 7.66263 10.9902 7.17226 11.3805 6.70863C8.73092 5.25436 6.183 5.37327 4.86152 6.69476C3.97441 7.58187 3.62406 8.9823 3.93869 10.6604C4.25235 12.3332 5.21922 14.1824 6.80607 15.7693C7.74293 16.7062 8.75521 17.3604 9.58321 17.7784C9.99675 17.9872 10.3568 18.1332 10.6289 18.2249C10.8326 18.2935 10.9494 18.3188 10.9923 18.3281C11.0149 18.333 11.0169 18.3334 11.0001 18.3334C11.5064 18.3334 11.9168 18.7438 11.9168 19.2501C11.9168 19.7564 11.5064 20.1668 11.0001 20.1667C10.7225 20.1667 10.3651 20.0706 10.0437 19.9623C9.68282 19.8407 9.2424 19.6601 8.75698 19.415C7.78707 18.9254 6.60738 18.1633 5.5097 17.0657C3.69573 15.2517 2.52689 13.0789 2.13676 10.9982C1.74761 8.92277 2.12539 6.83816 3.56516 5.3984C5.8141 3.14945 9.54462 3.47638 12.6627 5.33191C13.9085 4.12599 15.3003 3.13368 16.9016 2.304ZM12.1526 8.68143C12.6353 8.96179 13.0382 9.3646 13.3185 9.84736C15.3939 8.28426 16.9038 6.50219 18.0681 4.2549C18.1043 4.18508 18.0998 4.07495 18.0124 3.98753C17.925 3.90012 17.8149 3.89564 17.745 3.93181C15.4978 5.09617 13.7157 6.60607 12.1526 8.68143ZM9.16788 12.8321C9.8225 12.8355 10.4404 12.8186 10.9686 12.6746C11.3245 12.5776 11.5436 12.4435 11.6752 12.2919C11.7944 12.1546 11.9165 11.9183 11.9165 11.4541C11.9165 10.6971 11.3029 10.0834 10.5459 10.0834C10.0817 10.0834 9.84532 10.2055 9.70806 10.3247C9.55646 10.4564 9.42231 10.6754 9.3253 11.0313C9.18135 11.5596 9.16442 12.1774 9.16788 12.8321Z",fill:"currentColor"}))),bg=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M2.5 5.5C4.3 5.2 5.2 4 5.5 2.5C5.8 4 6.7 5.2 8.5 5.5C6.7 5.8 5.8 7 5.5 8.5C5.2 7 4.3 5.8 2.5 5.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M5.66282 16.5231L5.18413 19.3952C5.12203 19.7678 5.09098 19.9541 5.14876 20.0888C5.19933 20.2067 5.29328 20.3007 5.41118 20.3512C5.54589 20.409 5.73218 20.378 6.10476 20.3159L8.97693 19.8372C9.72813 19.712 10.1037 19.6494 10.4542 19.521C10.7652 19.407 11.0608 19.2549 11.3343 19.068C11.6425 18.8575 11.9118 18.5882 12.4503 18.0497L20 10.5C21.3807 9.11929 21.3807 6.88071 20 5.5C18.6193 4.11929 16.3807 4.11929 15 5.5L7.45026 13.0497C6.91175 13.5882 6.6425 13.8575 6.43197 14.1657C6.24513 14.4392 6.09299 14.7348 5.97903 15.0458C5.85062 15.3963 5.78802 15.7719 5.66282 16.5231Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M14.5 7L18.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),kU=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.47 15.652a1 1 0 0 1 1.378.318l2.5 4a1 1 0 1 1-1.696 1.06l-2.5-4a1 1 0 0 1 .318-1.378Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.53 15.652a1 1 0 0 1 .318 1.378l-2.5 4a1 1 0 0 1-1.696-1.06l2.5-4a1 1 0 0 1 1.378-.318ZM17.824 4.346a.5.5 0 0 0-.63-.321l-.951.309a1 1 0 0 0-.642 1.26l1.545 4.755a1 1 0 0 0 1.26.642l.95-.309a.5.5 0 0 0 .322-.63l-1.854-5.706Zm-1.248-2.223a2.5 2.5 0 0 1 3.15 1.605l1.854 5.706a2.5 2.5 0 0 1-1.605 3.15l-.951.31a2.992 2.992 0 0 1-2.443-.265l-2.02.569a1 1 0 1 1-.541-1.926l1.212-.34-1.353-4.163L5 10.46a1 1 0 0 0-.567 1.233l.381 1.171a1 1 0 0 0 1.222.654l3.127-.88a1 1 0 1 1 .541 1.926l-3.127.88a3 3 0 0 1-3.665-1.961l-.38-1.172a3 3 0 0 1 1.7-3.697l9.374-3.897a3 3 0 0 1 2.02-2.285l.95-.31Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.5 14a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Z",fill:"currentColor"})),oTe=()=>{const e=L();return{[Ne.Search]:{name:e.formatMessage({id:"3h+8Xn",defaultMessage:"Search"}),description:e.formatMessage({id:"e6rPrY",defaultMessage:"Find on the web"}),logo:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class=""><path fill-rule="evenodd" clip-rule="evenodd" d="M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9851 4.00291C11.9933 4.00046 11.9982 4.00006 11.9996 4C12.001 4.00006 12.0067 4.00046 12.0149 4.00291C12.0256 4.00615 12.047 4.01416 12.079 4.03356C12.2092 4.11248 12.4258 4.32444 12.675 4.77696C12.9161 5.21453 13.1479 5.8046 13.3486 6.53263C13.6852 7.75315 13.9156 9.29169 13.981 11H10.019C10.0844 9.29169 10.3148 7.75315 10.6514 6.53263C10.8521 5.8046 11.0839 5.21453 11.325 4.77696C11.5742 4.32444 11.7908 4.11248 11.921 4.03356C11.953 4.01416 11.9744 4.00615 11.9851 4.00291ZM8.01766 11C8.08396 9.13314 8.33431 7.41167 8.72334 6.00094C8.87366 5.45584 9.04762 4.94639 9.24523 4.48694C6.48462 5.49946 4.43722 7.9901 4.06189 11H8.01766ZM4.06189 13H8.01766C8.09487 15.1737 8.42177 17.1555 8.93 18.6802C9.02641 18.9694 9.13134 19.2483 9.24522 19.5131C6.48461 18.5005 4.43722 16.0099 4.06189 13ZM10.019 13H13.981C13.9045 14.9972 13.6027 16.7574 13.1726 18.0477C12.9206 18.8038 12.6425 19.3436 12.3823 19.6737C12.2545 19.8359 12.1506 19.9225 12.0814 19.9649C12.0485 19.9852 12.0264 19.9935 12.0153 19.9969C12.0049 20.0001 11.9999 20 11.9999 20C11.9999 20 11.9948 20 11.9847 19.9969C11.9736 19.9935 11.9515 19.9852 11.9186 19.9649C11.8494 19.9225 11.7455 19.8359 11.6177 19.6737C11.3575 19.3436 11.0794 18.8038 10.8274 18.0477C10.3973 16.7574 10.0955 14.9972 10.019 13ZM15.9823 13C15.9051 15.1737 15.5782 17.1555 15.07 18.6802C14.9736 18.9694 14.8687 19.2483 14.7548 19.5131C17.5154 18.5005 19.5628 16.0099 19.9381 13H15.9823ZM19.9381 11C19.5628 7.99009 17.5154 5.49946 14.7548 4.48694C14.9524 4.94639 15.1263 5.45584 15.2767 6.00094C15.6657 7.41167 15.916 9.13314 15.9823 11H19.9381Z" fill="currentColor"></path></svg>',systemHint:Ne.Search,isPopulatedByDefault:!0,requiredConversationModes:[],requiredModels:[],requiredFeatures:[]},[Ne.Canvas]:{systemHint:Ne.Canvas,name:e.formatMessage({id:"aKNSX7",defaultMessage:"Canvas"}),description:e.formatMessage({id:"ZKAm4k",defaultMessage:"Collaborate on writing and code"}),logo:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 5.5C4.3 5.2 5.2 4 5.5 2.5C5.8 4 6.7 5.2 8.5 5.5C6.7 5.8 5.8 7 5.5 8.5C5.2 7 4.3 5.8 2.5 5.5Z" fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/><path d="M5.66282 16.5231L5.18413 19.3952C5.12203 19.7678 5.09098 19.9541 5.14876 20.0888C5.19933 20.2067 5.29328 20.3007 5.41118 20.3512C5.54589 20.409 5.73218 20.378 6.10476 20.3159L8.97693 19.8372C9.72813 19.712 10.1037 19.6494 10.4542 19.521C10.7652 19.407 11.0608 19.2549 11.3343 19.068C11.6425 18.8575 11.9118 18.5882 12.4503 18.0497L20 10.5C21.3807 9.11929 21.3807 6.88071 20 5.5C18.6193 4.11929 16.3807 4.11929 15 5.5L7.45026 13.0497C6.91175 13.5882 6.6425 13.8575 6.43197 14.1657C6.24513 14.4392 6.09299 14.7348 5.97903 15.0458C5.85062 15.3963 5.78802 15.7719 5.66282 16.5231Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M14.5 7L18.5 11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',isPopulatedByDefault:!0,requiredConversationModes:[],requiredModels:[],requiredFeatures:[]},[Ne.PictureV2]:{systemHint:Ne.PictureV2,name:e.formatMessage({id:"T/rovp",defaultMessage:"Image"}),description:e.formatMessage({id:"d/YCo/",defaultMessage:"Use DALLE"}),logo:'<svg fill="none" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="m16.902 2.304c0.8187-0.42416 1.787-0.23298 2.4072 0.38717 0.6201 0.62015 0.8113 1.5885 0.3872 2.4071-0.7866 1.5181-1.7193 2.8479-2.8417 4.0435 1.1284 1.4032 1.9764 2.8568 2.3346 4.2247 0.4175 1.5942 0.1834 3.2014-1.1994 4.3077-1.1107 0.8885-2.3588 0.7686-3.3556 0.3569-0.9702-0.4008-1.8307-1.1176-2.4214-1.6881-0.3641-0.3517-0.3742-0.932-0.0224-1.2962 0.3517-0.3641 0.932-0.3742 1.2961-0.0225 0.532 0.5139 1.195 1.0427 1.8477 1.3123 0.6261 0.2587 1.1004 0.2339 1.5103-0.094 0.6469-0.5176 0.8677-1.2794 0.5712-2.4116-0.2612-0.9974-0.9109-2.1738-1.8885-3.4132-0.5323 0.463-1.1008 0.9058-1.7087 1.3325-0.027 0.019-0.0546 0.0363-0.0828 0.0519-0.0568 0.6667-0.2811 1.2371-0.676 1.6918-0.4495 0.5176-1.0422 0.7951-1.6087 0.9495-0.903 0.2461-1.9839 0.2303-2.7726 0.2188-0.15178-0.0022-0.29274-0.0043-0.41953-0.0043-0.50626 0-0.91666-0.4104-0.91666-0.9166 0-0.1268-0.00206-0.2678-0.00427-0.4195-0.01149-0.7887-0.02725-1.8696 0.21885-2.7726 0.15439-0.56651 0.43185-1.1593 0.94945-1.6088 0.45468-0.39487 1.0252-0.61914 1.6919-0.67597 0.0156-0.02818 0.0329-0.05583 0.0518-0.0828 0.3644-0.51911 0.7406-1.0095 1.1309-1.4731-2.6496-1.4543-5.1975-1.3354-6.519-0.01387-0.88711 0.88711-1.2375 2.2875-0.92283 3.9656 0.31366 1.6728 1.2805 3.522 2.8674 5.1089 0.93686 0.9369 1.9491 1.5911 2.7771 2.0091 0.41354 0.2088 0.77359 0.3548 1.0457 0.4465 0.2037 0.0686 0.3205 0.0939 0.3634 0.1032 0.0226 0.0049 0.0246 0.0053 0.0078 0.0053 0.5063 0 0.9167 0.4104 0.9167 0.9167s-0.4104 0.9167-0.9167 0.9166c-0.2776 0-0.635-0.0961-0.9564-0.2044-0.36088-0.1216-0.8013-0.3022-1.2867-0.5473-0.96991-0.4896-2.1496-1.2517-3.2473-2.3493-1.814-1.814-2.9828-3.9868-3.3729-6.0675-0.38915-2.0754-0.01137-4.16 1.4284-5.5998 2.2489-2.249 5.9795-1.922 9.0975-0.06649 1.2458-1.2059 2.6376-2.1982 4.2389-3.0279zm-4.749 6.3774c0.4827 0.28036 0.8856 0.68317 1.1659 1.1659 2.0754-1.5631 3.5853-3.3452 4.7496-5.5925 0.0362-0.06982 0.0317-0.17995-0.0557-0.26737-0.0874-0.08741-0.1975-0.09189-0.2674-0.05572-2.2472 1.1644-4.0293 2.6743-5.5924 4.7496zm-2.9847 4.1507c0.65462 0.0034 1.2725-0.0135 1.8007-0.1575 0.3559-0.097 0.575-0.2311 0.7066-0.3827 0.1192-0.1373 0.2413-0.3736 0.2413-0.8378 0-0.757-0.6136-1.3707-1.3706-1.3707-0.4642 0-0.70058 0.1221-0.83784 0.2413-0.1516 0.1317-0.28575 0.3507-0.38276 0.7066-0.14395 0.5283-0.16088 1.1461-0.15742 1.8008z" fill="currentColor"/></svg>',isPopulatedByDefault:!0,requiredConversationModes:[],requiredModels:[],requiredFeatures:[]},[Ne.Research]:{systemHint:Ne.Research,name:e.formatMessage({id:"ORxecl",defaultMessage:"Deep research"}),description:e.formatMessage({id:"LtcsGJ",defaultMessage:"Get detailed insights on any topic"}),logo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M12.47 15.652a1 1 0 0 1 1.378.318l2.5 4a1 1 0 1 1-1.696 1.06l-2.5-4a1 1 0 0 1 .318-1.378Z" clip-rule="evenodd"/><path fill="currentColor" fill-rule="evenodd" d="M11.53 15.652a1 1 0 0 1 .318 1.378l-2.5 4a1 1 0 0 1-1.696-1.06l2.5-4a1 1 0 0 1 1.378-.318ZM17.824 4.346a.5.5 0 0 0-.63-.321l-.951.309a1 1 0 0 0-.642 1.26l1.545 4.755a1 1 0 0 0 1.26.642l.95-.309a.5.5 0 0 0 .322-.63l-1.854-5.706Zm-1.248-2.223a2.5 2.5 0 0 1 3.15 1.605l1.854 5.706a2.5 2.5 0 0 1-1.605 3.15l-.951.31a2.992 2.992 0 0 1-2.443-.265l-2.02.569a1 1 0 1 1-.541-1.926l1.212-.34-1.353-4.163L5 10.46a1 1 0 0 0-.567 1.233l.381 1.171a1 1 0 0 0 1.222.654l3.127-.88a1 1 0 1 1 .541 1.926l-3.127.88a3 3 0 0 1-3.665-1.961l-.38-1.172a3 3 0 0 1 1.7-3.697l9.374-3.897a3 3 0 0 1 2.02-2.285l.95-.31Z" clip-rule="evenodd"/><path fill="currentColor" fill-rule="evenodd" d="M12 12.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.5 14a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Z" clip-rule="evenodd"/></svg>',isPopulatedByDefault:!0,requiredConversationModes:[],requiredModels:[],requiredFeatures:[]}}},Ha={[Ne.Search]:{label:{id:"DefaultAppTileLabel.search",defaultMessage:"Search",description:"The command 'Search' is used within a chat interface to instruct an AI language model to search for information on the internet about a specific topic. When a user inputs 'Search [topic]', they expect the AI to retrieve up-to-date information from online sources regarding the given subject. When translating, please choose a word that conveys the meaning of 'searching', 'looking up', or 'finding information'. This word should be a verb or an imperative form that can be used as a command prefix in a chat interface: concise and directive."},message:{id:"DefaultAppTileMessage.search",description:"Message presented to the user on the initial splash screen when search is active.",defaultMessage:"Search the web"},tooltip:{id:"DefaultAppTileMessage.search.tooltip",defaultMessage:"Find on the web",description:"Tooltip text for app tile button that makes the model search the web"},logo:yg,systemHint:Ne.Search},[Ne.Canvas]:{label:{id:"DefaultAppTileLabel.canvas",defaultMessage:"Canvas",description:"The command 'Canvas' is used within a chat interface to instruct an AI model to start generating a text document related to a specific prompt. When a user inputs 'Canvas [subject]', they expect the AI to display the text document in an editor. When translating, please choose a word that conveys the meaning of 'write'. This word should be a verb or an imperative form that can be used as a command prefix in a chat interface: concise and directive."},message:{id:"DefaultAppTileMessage.canvas",description:"Message presented to the user on the initial splash screen when canvas is active.",defaultMessage:"Draft a document"},tooltip:{id:"DefaultAppTileMessage.canvas.tooltip",defaultMessage:"Collaborate on writing and code",description:"Tooltip text for app tile button that lets the user choose to create a text document"},logo:bg,systemHint:Ne.Canvas},[Ne.PictureV2]:{label:{id:"DefaultAppTileLabel.pictureV2",defaultMessage:"Make Image",description:"The command 'Image' is used within a chat interface to instruct an AI model to start generating images related to a specific prompt. When a user inputs 'Picture [subject]', they expect the AI to create or provide an image depicting the described subject. When translating, please choose a word that conveys the meaning of 'picture', 'draw', or 'illustrate'. This word should be a verb or an imperative form that can be used as a command prefix in a chat interface: concise and directive."},message:{id:"DefaultAppTileMessage.pictureV2",description:"Message presented to the user on the initial splash screen when image generation is active.",defaultMessage:"Make an image"},tooltip:{id:"DefaultAppTileMessage.pictureV2.tooltip",defaultMessage:"Visualize ideas and concepts",description:"Tooltip text for app tile button that is an image generation tool"},logo:u9,systemHint:Ne.PictureV2},[Ne.Research]:{label:{id:"DefaultAppTileLabel.research",description:"Message presented to the user on the initial splash screen when deep research is active.",defaultMessage:"Deep Research"},message:{id:"DefaultAppTileMessage.research",description:"Message presented to the user on the initial splash screen when deep research is active.",defaultMessage:"Deep research"},tooltip:{id:"DefaultAppTileMessage.research.tooltip",defaultMessage:"Get detailed insights on any topic",description:"Tooltip text for app tile button for deep research tool. This tool allows the model to generate a report after researching a topic."},logo:kU,systemHint:Ne.Research},[Ne.Video]:{label:{id:"DefaultAppTileLabel.video",defaultMessage:"Make Video",description:"The command 'Video' is used within a chat interface to instruct an AI model to start generating videos related to a specific prompt. When a user inputs 'Video [subject]', they expect the AI to create or provide a video depicting the described subject. When translating, please choose a word that conveys the meaning of 'video', 'film', or 'movie'. This word should be a verb or an imperative form that can be used as a command prefix in a chat interface: concise and directive."},message:{id:"DefaultAppTileMessage.video",description:"Message presented to the user on the initial splash screen when video generation is active.",defaultMessage:"Make a video"},tooltip:{id:"DefaultAppTileMessage.video.tooltip",defaultMessage:"Make a video",description:"Tooltip text for app tile button for video generation tool"},logo:u9,systemHint:Ne.Video}},iTe=[Ha[Ne.Search],Ha[Ne.Canvas],Ha[Ne.PictureV2],Ha[Ne.Research]],lTe=e=>e?e===Ne.Picture?Ha[Ne.PictureV2]?.message:Ha[e]?.message:null;function TU({id:e,label:t,checked:n,onChange:r,disabled:s,className:a,labelClassName:i,readOnly:l,containerClassName:c,labelSide:d="right"}){const f=t&&o.jsx("label",{className:N("form-check-label text-token-text-primary",i),htmlFor:e,children:t});return o.jsxs("div",{className:N("form-check flex items-center gap-2",c),children:[d==="left"&&f,o.jsx("input",{className:N("form-check-input float-left h-4 w-4 appearance-none rounded-sm border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none",s?"cursor-not-allowed":"cursor-pointer",a),type:"checkbox",disabled:s,onChange:r,checked:n,readOnly:l,id:e,"data-testid":e}),d==="right"&&f]})}const cTe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.47189 2.5C5.02418 2.5 5.47189 2.94772 5.47189 3.5V5.07196C7.17062 3.47759 9.45672 2.5 11.9719 2.5C17.2186 2.5 21.4719 6.75329 21.4719 12C21.4719 17.2467 17.2186 21.5 11.9719 21.5C7.10259 21.5 3.09017 17.8375 2.53689 13.1164C2.47261 12.5679 2.86517 12.0711 3.4137 12.0068C3.96223 11.9425 4.45901 12.3351 4.5233 12.8836C4.95988 16.6089 8.12898 19.5 11.9719 19.5C16.114 19.5 19.4719 16.1421 19.4719 12C19.4719 7.85786 16.114 4.5 11.9719 4.5C9.7515 4.5 7.75549 5.46469 6.38143 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H4.47189C3.93253 9 3.4929 8.57299 3.47262 8.03859C3.47172 8.01771 3.47147 7.99677 3.47189 7.9758V3.5C3.47189 2.94772 3.91961 2.5 4.47189 2.5Z",fill:"currentColor"})),uTe=e=>u.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0337 7.74408C14.7082 7.41864 14.1806 7.41864 13.8552 7.74408L9.99998 11.5993L6.14479 7.74408C5.81935 7.41864 5.29171 7.41864 4.96628 7.74408C4.64084 8.06951 4.64084 8.59715 4.96628 8.92259L9.41072 13.367C9.73616 13.6925 10.2638 13.6925 10.5892 13.367L15.0337 8.92259C15.3591 8.59715 15.3591 8.06951 15.0337 7.74408Z",fill:"currentColor"}))),dTe=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.96625 12.2557C5.29168 12.5811 5.81932 12.5811 6.14476 12.2557L9.99995 8.40052L13.8551 12.2557C14.1806 12.5811 14.7082 12.5811 15.0336 12.2557C15.3591 11.9303 15.3591 11.4026 15.0336 11.0772L10.5892 6.63275C10.2638 6.30731 9.73613 6.30731 9.41069 6.63275L4.96625 11.0772C4.64081 11.4026 4.64081 11.9303 4.96625 12.2557Z",fill:"currentColor"})),AU=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.91444 7.59106C4.3419 9.04124 3.28865 10.7415 2.77052 11.6971C2.66585 11.8902 2.66585 12.1098 2.77052 12.3029C3.28865 13.2585 4.3419 14.9588 5.91444 16.4089C7.48195 17.8545 9.50572 19 12 19C14.4943 19 16.518 17.8545 18.0855 16.4089C19.6581 14.9588 20.7113 13.2585 21.2295 12.3029C21.3341 12.1098 21.3341 11.8902 21.2295 11.6971C20.7113 10.7415 19.6581 9.04124 18.0855 7.59105C16.518 6.1455 14.4943 5 12 5C9.50572 5 7.48195 6.1455 5.91444 7.59106ZM4.55857 6.1208C6.36059 4.45899 8.84581 3 12 3C15.1542 3 17.6394 4.45899 19.4414 6.1208C21.2384 7.77798 22.4152 9.68799 22.9877 10.7438C23.4147 11.5315 23.4147 12.4685 22.9877 13.2562C22.4152 14.312 21.2384 16.222 19.4414 17.8792C17.6394 19.541 15.1542 21 12 21C8.84581 21 6.36059 19.541 4.55857 17.8792C2.76159 16.222 1.58478 14.312 1.01232 13.2562C0.58525 12.4685 0.585249 11.5315 1.01232 10.7438C1.58478 9.688 2.76159 7.77798 4.55857 6.1208ZM12 9.5C10.6193 9.5 9.49999 10.6193 9.49999 12C9.49999 13.3807 10.6193 14.5 12 14.5C13.3807 14.5 14.5 13.3807 14.5 12C14.5 10.6193 13.3807 9.5 12 9.5ZM7.49999 12C7.49999 9.51472 9.51471 7.5 12 7.5C14.4853 7.5 16.5 9.51472 16.5 12C16.5 14.4853 14.4853 16.5 12 16.5C9.51471 16.5 7.49999 14.4853 7.49999 12Z",fill:"currentColor"})),PU=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.83333 5C9.09695 5 8.5 5.59695 8.5 6.33333C8.5 7.06971 9.09695 7.66667 9.83333 7.66667C10.5697 7.66667 11.1667 7.06971 11.1667 6.33333C11.1667 5.59695 10.5697 5 9.83333 5ZM6.5 6.33333C6.5 4.49238 7.99238 3 9.83333 3C11.6743 3 13.1667 4.49238 13.1667 6.33333C13.1667 8.17428 11.6743 9.66667 9.83333 9.66667C7.99238 9.66667 6.5 8.17428 6.5 6.33333ZM13.3791 11.4215C14.3768 9.89157 16.625 9.91327 17.5931 11.4622L20.6855 16.41C21.9343 18.4081 20.4978 21 18.1415 21H5.78773C3.23977 21 1.85181 18.0244 3.48916 16.0722L6.21737 12.8193C7.13808 11.7215 8.79121 11.6206 9.83864 12.5982L11.3449 14.0041C11.4585 14.11 11.6401 14.0879 11.7249 13.9579L13.3791 11.4215ZM15.8971 12.5222C15.7035 12.2124 15.2538 12.208 15.0543 12.514L13.4001 15.0504C12.6367 16.221 11.002 16.4197 9.9803 15.4662L8.47401 14.0603C8.26452 13.8648 7.9339 13.885 7.74975 14.1045L5.02154 17.3574C4.47576 18.0081 4.93841 19 5.78773 19H18.1415C18.9269 19 19.4058 18.136 18.9895 17.47L15.8971 12.5222Z",fill:"currentColor"})),RC=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2929 4.29291C15.0641 2.52167 17.9359 2.52167 19.7071 4.2929C21.4784 6.06414 21.4784 8.93588 19.7071 10.7071L18.7073 11.7069L11.6135 18.8007C10.8766 19.5376 9.92793 20.0258 8.89999 20.1971L4.16441 20.9864C3.84585 21.0395 3.52127 20.9355 3.29291 20.7071C3.06454 20.4788 2.96053 20.1542 3.01362 19.8356L3.80288 15.1C3.9742 14.0721 4.46243 13.1234 5.19932 12.3865L13.2929 4.29291ZM13 7.41422L6.61353 13.8007C6.1714 14.2428 5.87846 14.8121 5.77567 15.4288L5.21656 18.7835L8.57119 18.2244C9.18795 18.1216 9.75719 17.8286 10.1993 17.3865L16.5858 11L13 7.41422ZM18 9.5858L14.4142 6.00001L14.7071 5.70712C15.6973 4.71693 17.3027 4.71693 18.2929 5.70712C19.2831 6.69731 19.2831 8.30272 18.2929 9.29291L18 9.5858Z",fill:"currentColor"})),NU=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M12 6.00003C12.5523 6.00003 13 6.44775 13 7.00003L13 11L17 11C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13L13 13L13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17L11 13L7 13C6.44771 13 6 12.5523 6 12C6 11.4477 6.44771 11 7 11L11 11L11 7.00003C11 6.44775 11.4477 6.00003 12 6.00003Z",fill:"currentColor"})),jU=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C11.6227 9 11.2926 9.2086 11.1215 9.52152C10.8564 10.0061 10.2488 10.184 9.76426 9.91899C9.27972 9.65396 9.10177 9.04632 9.36679 8.56178C9.87463 7.63331 10.8626 7 12 7C13.5147 7 14.5669 8.00643 14.8664 9.189C15.1676 10.3779 14.7101 11.763 13.3416 12.4472C13.1323 12.5519 13 12.7659 13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.0084 11.5603 11.1018 12.4472 10.6584C12.902 10.431 13.0188 10.0397 12.9277 9.6801C12.835 9.31417 12.5283 9 12 9Z",fill:"currentColor"}),u.createElement("path",{d:"M13.1004 16C13.1004 16.6075 12.6079 17.1 12.0004 17.1C11.3929 17.1 10.9004 16.6075 10.9004 16C10.9004 15.3925 11.3929 14.9 12.0004 14.9C12.6079 14.9 13.1004 15.3925 13.1004 16Z",fill:"currentColor"})),IU=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6ZM6 5C5.44772 5 5 5.44772 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V6C19 5.44772 18.5523 5 18 5H6ZM7.29289 9.29289C7.68342 8.90237 8.31658 8.90237 8.70711 9.29289L10.7071 11.2929C11.0976 11.6834 11.0976 12.3166 10.7071 12.7071L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071C6.90237 14.3166 6.90237 13.6834 7.29289 13.2929L8.58579 12L7.29289 10.7071C6.90237 10.3166 6.90237 9.68342 7.29289 9.29289ZM12 14C12 13.4477 12.4477 13 13 13H16C16.5523 13 17 13.4477 17 14C17 14.5523 16.5523 15 16 15H13C12.4477 15 12 14.5523 12 14Z",fill:"currentColor"})),RU=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M9.5 4C8.67157 4 8 4.67157 8 5.5V18.5C8 19.3284 8.67157 20 9.5 20C10.3284 20 11 19.3284 11 18.5V5.5C11 4.67157 10.3284 4 9.5 4Z",fill:"currentColor"}),u.createElement("path",{d:"M13 8.5C13 7.67157 13.6716 7 14.5 7C15.3284 7 16 7.67157 16 8.5V15.5C16 16.3284 15.3284 17 14.5 17C13.6716 17 13 16.3284 13 15.5V8.5Z",fill:"currentColor"}),u.createElement("path",{d:"M4.5 9C3.67157 9 3 9.67157 3 10.5V13.5C3 14.3284 3.67157 15 4.5 15C5.32843 15 6 14.3284 6 13.5V10.5C6 9.67157 5.32843 9 4.5 9Z",fill:"currentColor"}),u.createElement("path",{d:"M19.5 9C18.6716 9 18 9.67157 18 10.5V13.5C18 14.3284 18.6716 15 19.5 15C20.3284 15 21 14.3284 21 13.5V10.5C21 9.67157 20.3284 9 19.5 9Z",fill:"currentColor"})),LU="https://help.openai.com/en/articles/8096356-custom-instructions-for-chatgpt",fTe="https://help.openai.com/en/articles/7967234-enabling-multi-factor-authentication-mfa-with-openai#h_488a963a1e";var wg="Popover",[LC,mTe]=gs(wg,[Dd]),jl=Dd(),[OU,Cs]=LC(wg),OC=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=jl(t),c=u.useRef(null),[d,f]=u.useState(!1),[m=!1,p]=Qs({prop:r,defaultProp:s,onChange:a});return o.jsx(i8,{...l,children:o.jsx(OU,{scope:t,contentId:vl(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:u.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:d,onCustomAnchorAdd:u.useCallback(()=>f(!0),[]),onCustomAnchorRemove:u.useCallback(()=>f(!1),[]),modal:i,children:n})})};OC.displayName=wg;var DC="PopoverAnchor",FC=u.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Cs(DC,n),a=jl(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return u.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(wp,{...a,...r,ref:t})});FC.displayName=DC;var $C="PopoverTrigger",BC=u.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Cs($C,n),a=jl(n),i=kt(t,s.triggerRef),l=o.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qC(s.open),...r,ref:i,onClick:ge(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(wp,{asChild:!0,...a,children:l})});BC.displayName=$C;var Sg="PopoverPortal",[DU,FU]=LC(Sg,{forceMount:void 0}),UC=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=Cs(Sg,t);return o.jsx(DU,{scope:t,forceMount:n,children:o.jsx(hl,{present:n||a.open,children:o.jsx(Sp,{asChild:!0,container:s,children:r})})})};UC.displayName=Sg;var mo="PopoverContent",HC=u.forwardRef((e,t)=>{const n=FU(mo,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=Cs(mo,e.__scopePopover);return o.jsx(hl,{present:r||a.open,children:a.modal?o.jsx($U,{...s,ref:t}):o.jsx(BU,{...s,ref:t})})});HC.displayName=mo;var $U=u.forwardRef((e,t)=>{const n=Cs(mo,e.__scopePopover),r=u.useRef(null),s=kt(t,r),a=u.useRef(!1);return u.useEffect(()=>{const i=r.current;if(i)return Jv(i)},[]),o.jsx(e8,{as:t8,allowPinchZoom:!0,children:o.jsx(VC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,i=>{i.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),BU=u.forwardRef((e,t)=>{const n=Cs(mo,e.__scopePopover),r=u.useRef(!1),s=u.useRef(!1);return o.jsx(VC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;n.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),VC=u.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...m}=e,p=Cs(mo,n),g=jl(n);return n8(),o.jsx(r8,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(s8,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(a8,{"data-state":qC(p.open),role:"dialog",id:p.contentId,...g,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),GC="PopoverClose",WC=u.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Cs(GC,n);return o.jsx(De.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>s.onOpenChange(!1))})});WC.displayName=GC;var UU="PopoverArrow",zC=u.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=jl(n);return o.jsx(o8,{...s,...r,ref:t})});zC.displayName=UU;function qC(e){return e?"open":"closed"}var Mg=OC,pTe=FC,Vu=BC,ZC=UC,_g=HC,HU=WC,VU=zC;function Eg(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var kg="Switch",[GU,gTe]=gs(kg),[WU,zU]=GU(kg),YC=u.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=e,[p,g]=u.useState(null),v=kt(t,S=>g(S)),h=u.useRef(!1),x=p?f||!!p.closest("form"):!0,[y=!1,b]=Qs({prop:s,defaultProp:a,onChange:d});return o.jsxs(WU,{scope:n,checked:y,disabled:l,children:[o.jsx(De.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":XC(y),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onClick:ge(e.onClick,S=>{b(T=>!T),x&&(h.current=S.isPropagationStopped(),h.current||S.stopPropagation())})}),x&&o.jsx(qU,{control:p,bubbles:!h.current,name:r,value:c,checked:y,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});YC.displayName=kg;var KC="SwitchThumb",QC=u.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=zU(KC,n);return o.jsx(De.span,{"data-state":XC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});QC.displayName=KC;var qU=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=u.useRef(null),i=Eg(n),l=l8(t);return u.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const p=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(p)}},[i,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function XC(e){return e?"checked":"unchecked"}var ZU=YC,YU=QC;function JC({onChange:e,onClick:t,enabled:n,label:r,labeledBy:s,disabled:a,icon:i=null,size:l="normal",id:c,testId:d,backgroundColor:f="black"}){const m=u.useCallback(()=>{e?.(!n)},[n,e]);return o.jsx(ZU,{id:c,checked:n,disabled:a,onCheckedChange:m,onClick:t,"aria-label":r,"aria-labelledby":s,className:N("focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-token-text-secondary focus-visible:ring-offset-2 focus-visible:radix-state-checked:ring-black focus-visible:dark:ring-token-main-surface-primary focus-visible:dark:radix-state-checked:ring-green-600",a?"cursor-not-allowed opacity-50":"cursor-pointer",f==="green"?"bg-green-600 bg-opacity-15 radix-state-checked:bg-green-600":"bg-gray-200 radix-state-checked:bg-black dark:border dark:border-token-border-medium dark:bg-transparent","relative shrink-0 rounded-full dark:radix-state-checked:border-green-600 dark:radix-state-checked:bg-green-600",l==="normal"?"h-[20px] w-[32px]":l==="large"?"h-[32px] w-[54px]":"h-[19px] w-[30px]"),"data-testid":d,children:o.jsx(YU,{className:N("flex items-center justify-center rounded-full","transition-transform duration-100 will-change-transform ltr:translate-x-0.5 rtl:-translate-x-0.5","bg-white",l==="normal"?"h-[16px] w-[16px] ltr:radix-state-checked:translate-x-[14px] rtl:radix-state-checked:translate-x-[-14px]":l==="large"?"h-[26px] w-[26px] ltr:radix-state-checked:translate-x-[24px] rtl:radix-state-checked:translate-x-[-24px]":"h-[15px] w-[15px] ltr:radix-state-checked:translate-x-[13px] rtl:radix-state-checked:translate-x-[-13px]"),children:i})})}function Tg(e){const{session:t}=Mp(),n=t!=null;return ee({queryKey:["userSettings"],queryFn:()=>j.safeGet("/settings/user",{anonAware:!0}),enabled:n,select:e})}function h1(e){return Tg(t=>t.settings[e])}function KU(e=!1){const t=xe();return Ie({mutationFn:({setting:n,value:r})=>j.safePatch("/settings/account_user_setting",{parameters:{query:{feature:n,value:r.toString()}}}),onMutate:async({setting:n,value:r})=>{if(e){await t.cancelQueries({queryKey:["userSettings"]});const s=t.getQueryData(["userSettings"]);return t.setQueryData(["userSettings"],a=>({...a,settings:{...a.settings,[n]:r}})),{previousValue:s}}},onError:(n,r,s)=>{e&&s!==void 0&&t.setQueryData(["userSettings"],s.previousValue)},onSuccess:()=>{t.invalidateQueries({queryKey:["userSettings"]})}})}var me=(e=>(e.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",e.Onboarding="oai/apps/hasSeenOnboarding",e.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",e.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",e.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",e.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",e.NewOnboardingConvo="oai/apps/hasSeenNewUserOnboardingConvo",e.ModelTunerDisclaimer="oai/apps/hasSeenModelTunerDisclaimer",e.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",e.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",e.ContextConnectors="oai/apps/hasSeenContextConnectorTooltip",e.ModelPickerMoved="oai/apps/hasSeenModelPickerMovedNux",e.hasDismissedCanvasOnboarding="oai/apps/hasDismissedCanvasOnboarding",e.hasDismissedCanvasContextualOnboarding="oai/apps/hasDismissedCanvasContextualOnboarding",e.HasSeenAdvancedVoiceOnMobile="oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",e.UseSidekick="oai/apps/hasDismissedUseSidekick",e.UseSidetron="oai/apps/hasDismissedUseSidetron",e.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",e.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",e.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",e.hasSeenComposerSearchButtonTooltip="oai/apps/hasSeenComposerSearchButtonTooltip",e.hasSeenComposerContextualAnswerTooltip="oai/apps/hasSeenComposerContextualAnswerTooltip",e.hasSeenContextualAnswerAdminNuxModal="oai/apps/hasSeenContextualAnswerAdminNuxModal",e.hasSeenContextualAnswerUserNuxModal="oai/apps/hasSeenContextualAnswerUserNuxModal",e.hasSeenComposerSystemHintButtonTooltip="oai/apps/hasSeenComposerSystemHintButtonTooltip",e.hasSeenPioneer="oai/apps/hasSeenPioneer",e.hasSeenMaverick="oai/apps/hasSeenMaverick",e.hasSeenCanvasDropdownNux="oai/apps/hasSeenCanvasDropdownNux",e.hasSeenCanvasO1ToolboxNux="oai/apps/hasSeenCanvasO1ToolboxNux",e.hasSeenCanvasCodeExecutionNux="oai/apps/hasSeenCanvasCodeExecutionNux",e.hasSeenCanvasShareButtonNux="oai/apps/hasSeenCanvasShareButtonNux",e.hasSeenAdvancedVoiceWebNuxTooltip="oai/apps/hasSeenAdvancedVoiceWebNuxTooltip",e.hasSeenAdvancedVoiceRealWebNuxTooltip="oai/apps/hasSeenAdvancedVoiceRealWebNuxTooltip",e.hasSeenAdvancedVoiceNuxFullPage="oai/apps/hasSeenAdvancedVoice/2024-09-24",e.hasSeenWindowsAppOnboarding="oai/apps/hasSeenWindowsAppOnboarding",e.DesktopBrowserExtensionAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionAnnouncement",e.DesktopBrowserExtensionReactiveAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionReactiveAnnouncement",e.DesktopOperatorAnnouncement="oai/apps/hasSeenDesktopOperatorAnnouncement",e.DesktopClassmatesPromotionAnnouncement="oai/apps/hasSeenDesktopClassmatesPromotionAnnouncement",e.NewOnboardingFlow="oai/apps/hasSeenOnboardingFlow",e.hasUsedConversationalOnboardingStarterPrompt="oai/apps/hasUsedNewUserStarterPrompt",e.hasSeenProjectsWebNuxTooltip="oai/apps/hasSeenProjectsWebNuxTooltip",e.hasSeenMemoryInSearch="oai/apps/hasSeenMemoryInSearch",e.hasSeenMoonshineNux="oai/apps/hasSeenMoonshineNux",e.hasSeenMoonshineNuxV2="oai/apps/hasSeenMoonshineNuxV2",e.hasSeenInlineFeedbackCustomInstrMessage="oai/apps/hasSeenInlineFeedbackCustomInstrMessage",e.hasSeenCaSystemHint="oai/apps/hasSeenCaSystemHint",e.hasDismissedPromoRedemption="oai/apps/hasDismissedPromoRedemption",e.hasSeenO3MiniNux="oai/apps/hasSeenO3MiniNux",e.hasSeenThinkInComposer="oai/apps/hasSeenThinkInComposer",e.hasSeenNewCoTExpNUX="oai/apps/hasSeenNewCoTExpNUX",e.hasSeenCustomizeChatGPTAnnouncement="oai/apps/hasSeenCustomizeChatGPTAnnouncement",e.hasSeenFilePickerNuxTooltip="oai/apps/hasSeenFilePicker",e.hasSeenMultipleGPTEditorsTooltip="oai/apps/hasSeenMultipleGPTEditorsTooltip",e.hasSeenSharedProjectsTooltip="oai/apps/hasSeenSharedProjectsTooltip",e.hasSeenZapdosProNUX="oai/apps/hasSeenZapdosProNUX",e.hasSeenZapdosPlusNUX="oai/apps/hasSeenZapdosPlusNUX",e.hasDismissedReferrerRedemption="oai/apps/hasDismissedReferrerRedemption",e.hasDismissedRefereeRedemption="oai/apps/hasDismissedRefereeRedemption",e.hasSeenReferralUpsellAnnouncement="oai/apps/hasSeenReferralProgramUpsell",e.hasSeenComposerBigBoxEnterHint="oai/apps/hasSeenComposerBigBoxEnterHint",e.d2dee219="oai/apps/d2dee219",e.hasSeenShibaHomeNux="oai/apps/hasSeenShibaHomeNux",e.hasSeenStudentsUpsellAnnouncement="oai/apps/hasSeenStudentsUpsellAnnouncement",e.hasSeenMemoryUpdatedTooltip="oai/apps/hasSeenMemoryUpdatedTooltip",e))(me||{});function QU(){return Tg(e=>e.eligible_announcements)}function le(e){const{data:t=[],isLoading:n}=QU(),r=XU();return{eligible:t.includes(e),markAsViewed:()=>r.mutate({key:e}),isLoading:n}}function XU(){const e=xe();return Ie({mutationFn:({key:t})=>fe.announcementViewed(t),onMutate:async({key:t})=>{e.setQueryData(["userSettings"],n=>({...n,eligible_announcements:n.eligible_announcements.filter(r=>r!==t)}))},onSuccess:()=>{e.invalidateQueries({queryKey:["userSettings"]})}})}const ey=me.FirstTimeUsingUserContext;function hTe(){const{eligible:e}=le(ey);return e}const vTe=({onClose:e})=>{const t=L(),{markAsViewed:n}=le(ey),r=u.useCallback(()=>{n(),e()},[n,e]);return o.jsxs(he,{isOpen:!0,onClose:Ee,size:"custom",className:"max-w-xl",type:"success",title:t.formatMessage(ii.title),primaryButton:o.jsx(Ve.Button,{onClick:r,title:t.formatMessage(ii.ok),color:"primary"}),children:[o.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[o.jsx("p",{children:o.jsx(C,{...ii.body1})}),o.jsx("p",{children:o.jsx(C,{...ii.body2})})]}),o.jsx("div",{className:"flex flex-col gap-3 text-sm text-token-text-tertiary",children:o.jsx("p",{children:o.jsx(C,{...ii.legal1,values:{article:s=>o.jsx("a",{href:LU,target:"_blank",className:"underline",rel:"noopener noreferrer",children:s})}})})})]})},ii=U({title:{id:"UserContextFirstTimeModal.title",defaultMessage:"Introducing Custom Instructions"},body1:{id:"UserContextFirstTimeModal.body1",defaultMessage:"Customize your interactions with ChatGPT by providing specific details and guidelines for your chats."},body2:{id:"UserContextFirstTimeModal.body2",defaultMessage:"Whenever you edit your custom instructions, they'll take effect in all new chats you create. Existing chats won't be updated."},legal1:{id:"UserContextFirstTimeModal.legal1",defaultMessage:"Your instructions will be used to make our models better unless you've opted out and may be shared with any plugins you've enabled. Visit our <article>Help Center</article> to learn more."},ok:{id:"UserContextFirstTimeModal.ok",defaultMessage:"OK"}}),ty=["system-hints"];function xTe(e){return e.getQueryData(ty)}function CTe(e){return ee({queryKey:ty,queryFn:async()=>{const t=await fe.getSystemHints();return V.addFirstTiming("load.systemHints"),t.system_hints.map(({name:n,description:r,logo:s,system_hint:a,required_features:i=[],required_models:l=[],required_conversation_modes:c=[],composer_bar_button_info:d,suggested_prompt:f,allow_in_temporary_chat:m,regex_matches:p})=>({name:n,description:r,logo:s,systemHint:a,requiredFeatures:i,requiredModels:l,requiredConversationModes:c,composerBarButtonInfo:d?{announcementKey:d.announcement_key,disabledText:d.disabled_text,nuxTitle:d.nux_title,nuxDescription:d.nux_description,tooltipText:d.tooltip_text,rateLimitReachedText:d.rate_limit_reached_text}:void 0,suggestedPrompt:f?{theme:f.theme,title:f.title,subtitle:f.subtitle,sortOrder:f.sort_order,badge:f.badge}:void 0,allowInTemporaryChat:m,regexMatches:p}))},select:e,staleTime:1/0})}function Il({clientThreadId:e}){const t=c8(),[n,r]=Je(e,p=>[Z.getCurrentNode(p)?.message.metadata?.model_switcher_deny,Z.getGizmoId(p)]),s=r??t,{data:a}=ua(s),{data:i}=hr(),l=L(),c={},{value:d}=qe("891514942"),f=_p();for(const{resets_after:p,model_slug:g}of f)[wa.CONVERSATION,wa.REGENERATE].forEach(v=>{const h=c[g]??{},x=h[v]??[],y={reason:Fd.RATE_LIMIT,resetsAfter:p,isAvailable:!1};x.push(y),h[v]=x,c[g]=h});if(n?.forEach(p=>{const{slug:g,context:v,reason:h,description:x,is_available:y}=p,b=d&&y,S=c[g]??{},T=S[v]??[];T.push({reason:h,description:x,isAvailable:b}),S[v]=T,c[g]=S}),Cn()){const p=Tl;[wa.CONVERSATION,wa.REGENERATE].forEach(g=>{const v=c[p]??{},h=v[g]??[],x={reason:Tn.UNSUPPORTED_TEMPORARY_CHAT,description:l.formatMessage({id:"KdS0gi",defaultMessage:"This model doesn't support temporary chats."}),isAvailable:!1};h.push(x),v[g]=h,c[p]=v})}if(s&&ln(s)){const p=[Zt.GIZMO_PROJECT];a?.files?.length&&p.push(Zt.ATTACHMENT),a?.gizmo.instructions.length&&p.push(Zt.CUSTOM_INSTRUCTIONS),i?.categories.forEach(g=>{const{defaultModel:v,supportedFeatures:h}=g,x=h||[],y=[];if(p.includes(Zt.GIZMO_PROJECT)&&!x.includes(Zt.GIZMO_PROJECT)&&y.push({reason:Tn.UNSUPPORTED_GIZMO,description:l.formatMessage({id:"6w0z4F",defaultMessage:"This model doesn't support projects."}),isAvailable:!1}),p.includes(Zt.ATTACHMENT)&&!x.includes(Zt.ATTACHMENT)&&y.push({reason:Tn.UNSUPPORTED_ATTACHMENT,description:l.formatMessage({id:"ZKjdak",defaultMessage:"This model doesn't support file attachments."}),isAvailable:!1}),p.includes(Zt.CUSTOM_INSTRUCTIONS)&&!x.includes(Zt.CUSTOM_INSTRUCTIONS)&&y.push({reason:Tn.UNSUPPORTED_CUSTOM_INSTRUCTIONS,description:l.formatMessage({id:"zaubcf",defaultMessage:"This model doesn't support custom instructions."}),isAvailable:!1}),y.length){const b=c[v]??{};[wa.CONVERSATION,wa.REGENERATE].forEach(S=>{const T=b[S]??[];T.push(...y),b[S]=T,c[v]=b})}})}return c}function Ag({modelSlug:e,modelSwitcherDenialsBySlug:t}){const n=e?t[e]?.conversation:null;return n?n.every(r=>r.isAvailable===!0):!0}const v1=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{transform:"rotate(45 12 12)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.2652 3 12.5196 3.10536 12.7071 3.29289L19.7071 10.2929C20.0976 10.6834 20.0976 11.3166 19.7071 11.7071C19.3166 12.0976 18.6834 12.0976 18.2929 11.7071L13 6.41421V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V6.41422L5.70711 11.7071C5.31658 12.0976 4.68342 12.0976 4.29289 11.7071C3.90237 11.3166 3.90237 10.6834 4.29289 10.2929L11.2929 3.29289C11.4804 3.10536 11.7348 3 12 3Z",fill:"currentColor"}))),JU=["https:","mailto:","tel:"],du=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch{return}if(JU.includes(t.protocol))return t.href};function Yi({href:e,children:t,...n}){const r=$x();return o.jsx("a",{href:du(e),target:"_blank",rel:r?"noopener noreferrer":"noopener",...n,children:t})}function eH({className:e,openNewTab:t=!1,type:n="primary",...r}){return o.jsx("a",{rel:"noopener",className:N("cursor-pointer font-normal underline",n==="primary"&&"text-green-600",e),target:t?"_blank":"_self",...r})}const tH=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C11.7348 21 11.4804 20.8946 11.2929 20.7071L4.29289 13.7071C3.90237 13.3166 3.90237 12.6834 4.29289 12.2929C4.68342 11.9024 5.31658 11.9024 5.70711 12.2929L11 17.5858V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V17.5858L18.2929 12.2929C18.6834 11.9024 19.3166 11.9024 19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L12.7071 20.7071C12.5196 20.8946 12.2652 21 12 21Z",fill:"currentColor"}));function Pg(e,t="/",n={}){e(t,{replace:n?.replace,state:Rl()})}function Rl(){return{newConversationSignal:{}}}function yTe(e){return e.state?.newConversationSignal}function nH({icon:e,mobileIcon:t,children:n,as:r,ref:s,...a}){let i=n;switch(e&&(i=o.jsxs(o.Fragment,{children:[o.jsx(e,{className:N("icon-xl-heavy",{"max-md:hidden":t!=null})}),t?o.jsx(t,{className:"icon-xl-heavy md:hidden"}):null]})),r){case"link":case"a":{const l=a;return o.jsx(nn,{...l,className:N("flex h-10 items-center justify-center rounded-lg px-2 text-token-text-secondary hover:bg-token-surface-hover focus-visible:bg-token-surface-hover focus-visible:outline-0",a.className),ref:s,to:"/",state:Rl(),children:i})}case"button":default:{const l=a;return o.jsx("button",{...l,className:N("h-10 rounded-lg px-2 text-token-text-secondary focus-visible:bg-token-surface-hover focus-visible:outline-0 enabled:hover:bg-token-surface-hover disabled:text-token-text-quaternary",a.className),ref:s,children:i})}}}function rH(e,t){try{var n=global,r=n.document;if(typeof r<"u"&&r.createElement&&r.head&&r.head.appendChild){var s=r.querySelector('html meta[name="'.concat(encodeURI(e),'"]'))||r.createElement("meta");s.setAttribute("name",e),s.setAttribute("content",t),r.head.appendChild(s)}}catch{}}function bTe(){rH("react-scroll-to-bottom:version","4.2.0")}var Sc=function(e){return e&&e.Math===Math&&e},Qt=Sc(typeof globalThis=="object"&&globalThis)||Sc(typeof window=="object"&&window)||Sc(typeof self=="object"&&self)||Sc(typeof Rn=="object"&&Rn)||function(){return this}()||Rn||Function("return this")(),It=function(e){try{return!!e()}catch{return!0}},sH=It,x1=!sH(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),aH=x1,ny=Function.prototype,d9=ny.apply,f9=ny.call,Ng=typeof Reflect=="object"&&Reflect.apply||(aH?f9.bind(d9):function(){return f9.apply(d9,arguments)}),ry=x1,sy=Function.prototype,$2=sy.call,oH=ry&&sy.bind.bind($2,$2),Tt=ry?oH:function(e){return function(){return $2.apply(e,arguments)}},ay=Tt,iH=ay({}.toString),lH=ay("".slice),Fo=function(e){return lH(iH(e),8,-1)},cH=Fo,uH=Tt,jg=function(e){if(cH(e)==="Function")return uH(e)},B2=typeof document=="object"&&document.all,dH=typeof B2>"u"&&B2!==void 0,oy={all:B2,IS_HTMLDDA:dH},iy=oy,fH=iy.all,Xt=iy.IS_HTMLDDA?function(e){return typeof e=="function"||e===fH}:function(e){return typeof e=="function"},Ll={},mH=It,Sn=!mH(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),pH=x1,Mc=Function.prototype.call,xr=pH?Mc.bind(Mc):function(){return Mc.apply(Mc,arguments)},Ig={},ly={}.propertyIsEnumerable,cy=Object.getOwnPropertyDescriptor,gH=cy&&!ly.call({1:2},1);Ig.f=gH?function(t){var n=cy(this,t);return!!n&&n.enumerable}:ly;var Ol=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},hH=Tt,vH=It,xH=Fo,Gf=Object,CH=hH("".split),uy=vH(function(){return!Gf("z").propertyIsEnumerable(0)})?function(e){return xH(e)==="String"?CH(e,""):Gf(e)}:Gf,Rg=function(e){return e==null},yH=Rg,bH=TypeError,Lg=function(e){if(yH(e))throw bH("Can't call method on "+e);return e},wH=uy,SH=Lg,Cr=function(e){return wH(SH(e))},m9=Xt,dy=oy,MH=dy.all,Ur=dy.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:m9(e)||e===MH}:function(e){return typeof e=="object"?e!==null:m9(e)},Ht={},Wf=Ht,zf=Qt,_H=Xt,p9=function(e){return _H(e)?e:void 0},yr=function(e,t){return arguments.length<2?p9(Wf[e])||p9(zf[e]):Wf[e]&&Wf[e][t]||zf[e]&&zf[e][t]},EH=Tt,ys=EH({}.isPrototypeOf),fy=typeof navigator<"u"&&String(navigator.userAgent)||"",my=Qt,qf=fy,g9=my.process,h9=my.Deno,v9=g9&&g9.versions||h9&&h9.version,x9=v9&&v9.v8,Vn,Gu;x9&&(Vn=x9.split("."),Gu=Vn[0]>0&&Vn[0]<4?1:+(Vn[0]+Vn[1]));!Gu&&qf&&(Vn=qf.match(/Edge\/(\d+)/),(!Vn||Vn[1]>=74)&&(Vn=qf.match(/Chrome\/(\d+)/),Vn&&(Gu=+Vn[1])));var Og=Gu,C9=Og,kH=It,TH=Qt,AH=TH.String,$o=!!Object.getOwnPropertySymbols&&!kH(function(){var e=Symbol("symbol detection");return!AH(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&C9&&C9<41}),PH=$o,py=PH&&!Symbol.sham&&typeof Symbol.iterator=="symbol",NH=yr,jH=Xt,IH=ys,RH=py,LH=Object,Dl=RH?function(e){return typeof e=="symbol"}:function(e){var t=NH("Symbol");return jH(t)&&IH(t.prototype,LH(e))},OH=String,C1=function(e){try{return OH(e)}catch{return"Object"}},DH=Xt,FH=C1,$H=TypeError,Dg=function(e){if(DH(e))return e;throw $H(FH(e)+" is not a function")},BH=Dg,UH=Rg,Fg=function(e,t){var n=e[t];return UH(n)?void 0:BH(n)},Zf=xr,Yf=Xt,Kf=Ur,HH=TypeError,VH=function(e,t){var n,r;if(t==="string"&&Yf(n=e.toString)&&!Kf(r=Zf(n,e))||Yf(n=e.valueOf)&&!Kf(r=Zf(n,e))||t!=="string"&&Yf(n=e.toString)&&!Kf(r=Zf(n,e)))return r;throw HH("Can't convert object to primitive value")},gy={exports:{}},y9=Qt,GH=Object.defineProperty,WH=function(e,t){try{GH(y9,e,{value:t,configurable:!0,writable:!0})}catch{y9[e]=t}return t},zH=Qt,qH=WH,b9="__core-js_shared__",ZH=zH[b9]||qH(b9,{}),$g=ZH,w9=$g;(gy.exports=function(e,t){return w9[e]||(w9[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.32.2",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Bo=gy.exports,YH=Lg,KH=Object,bs=function(e){return KH(YH(e))},QH=Tt,XH=bs,JH=QH({}.hasOwnProperty),Mn=Object.hasOwn||function(t,n){return JH(XH(t),n)},eV=Tt,tV=0,nV=Math.random(),rV=eV(1 .toString),Bg=function(e){return"Symbol("+(e===void 0?"":e)+")_"+rV(++tV+nV,36)},sV=Qt,aV=Bo,S9=Mn,oV=Bg,iV=$o,lV=py,Va=sV.Symbol,Qf=aV("wks"),cV=lV?Va.for||Va:Va&&Va.withoutSetter||oV,At=function(e){return S9(Qf,e)||(Qf[e]=iV&&S9(Va,e)?Va[e]:cV("Symbol."+e)),Qf[e]},uV=xr,M9=Ur,_9=Dl,dV=Fg,fV=VH,mV=At,pV=TypeError,gV=mV("toPrimitive"),hV=function(e,t){if(!M9(e)||_9(e))return e;var n=dV(e,gV),r;if(n){if(t===void 0&&(t="default"),r=uV(n,e,t),!M9(r)||_9(r))return r;throw pV("Can't convert object to primitive value")}return t===void 0&&(t="number"),fV(e,t)},vV=hV,xV=Dl,y1=function(e){var t=vV(e,"string");return xV(t)?t:t+""},CV=Qt,E9=Ur,U2=CV.document,yV=E9(U2)&&E9(U2.createElement),hy=function(e){return yV?U2.createElement(e):{}},bV=Sn,wV=It,SV=hy,vy=!bV&&!wV(function(){return Object.defineProperty(SV("div"),"a",{get:function(){return 7}}).a!==7}),MV=Sn,_V=xr,EV=Ig,kV=Ol,TV=Cr,AV=y1,PV=Mn,NV=vy,k9=Object.getOwnPropertyDescriptor;Ll.f=MV?k9:function(t,n){if(t=TV(t),n=AV(n),NV)try{return k9(t,n)}catch{}if(PV(t,n))return kV(!_V(EV.f,t,n),t[n])};var jV=It,IV=Xt,RV=/#|\.prototype\./,Fl=function(e,t){var n=OV[LV(e)];return n===FV?!0:n===DV?!1:IV(t)?jV(t):!!t},LV=Fl.normalize=function(e){return String(e).replace(RV,".").toLowerCase()},OV=Fl.data={},DV=Fl.NATIVE="N",FV=Fl.POLYFILL="P",$V=Fl,T9=jg,BV=Dg,UV=x1,HV=T9(T9.bind),Ug=function(e,t){return BV(e),t===void 0?e:UV?HV(e,t):function(){return e.apply(t,arguments)}},Qn={},VV=Sn,GV=It,xy=VV&&GV(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),WV=Ur,zV=String,qV=TypeError,ws=function(e){if(WV(e))return e;throw qV(zV(e)+" is not an object")},ZV=Sn,YV=vy,KV=xy,_c=ws,A9=y1,QV=TypeError,Xf=Object.defineProperty,XV=Object.getOwnPropertyDescriptor,Jf="enumerable",e0="configurable",t0="writable";Qn.f=ZV?KV?function(t,n,r){if(_c(t),n=A9(n),_c(r),typeof t=="function"&&n==="prototype"&&"value"in r&&t0 in r&&!r[t0]){var s=XV(t,n);s&&s[t0]&&(t[n]=r.value,r={configurable:e0 in r?r[e0]:s[e0],enumerable:Jf in r?r[Jf]:s[Jf],writable:!1})}return Xf(t,n,r)}:Xf:function(t,n,r){if(_c(t),n=A9(n),_c(r),YV)try{return Xf(t,n,r)}catch{}if("get"in r||"set"in r)throw QV("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var JV=Sn,eG=Qn,tG=Ol,$l=JV?function(e,t,n){return eG.f(e,t,tG(1,n))}:function(e,t,n){return e[t]=n,e},Ec=Qt,nG=Ng,rG=jg,sG=Xt,aG=Ll.f,oG=$V,Ma=Ht,iG=Ug,_a=$l,P9=Mn,lG=function(e){var t=function(n,r,s){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,s)}return nG(e,this,arguments)};return t.prototype=e.prototype,t},Ge=function(e,t){var n=e.target,r=e.global,s=e.stat,a=e.proto,i=r?Ec:s?Ec[n]:(Ec[n]||{}).prototype,l=r?Ma:Ma[n]||_a(Ma,n,{})[n],c=l.prototype,d,f,m,p,g,v,h,x,y;for(p in t)d=oG(r?p:n+(s?".":"#")+p,e.forced),f=!d&&i&&P9(i,p),v=l[p],f&&(e.dontCallGetSet?(y=aG(i,p),h=y&&y.value):h=i[p]),g=f&&h?h:t[p],!(f&&typeof v==typeof g)&&(e.bind&&f?x=iG(g,Ec):e.wrap&&f?x=lG(g):a&&sG(g)?x=rG(g):x=g,(e.sham||g&&g.sham||v&&v.sham)&&_a(x,"sham",!0),_a(l,p,x),a&&(m=n+"Prototype",P9(Ma,m)||_a(Ma,m,{}),_a(Ma[m],p,g),e.real&&c&&(d||!c[p])&&_a(c,p,g)))},cG=Fo,Uo=Array.isArray||function(t){return cG(t)==="Array"},uG=Ge,dG=Uo;uG({target:"Array",stat:!0},{isArray:dG});var fG=Ht,mG=fG.Array.isArray,pG=mG,Cy=pG,gG=Cy,hG=gG,vG=hG,xG=vG,CG=xG,yG=CG;const yy=ue(yG);function bG(e){if(yy(e))return e}var wG=Math.ceil,SG=Math.floor,MG=Math.trunc||function(t){var n=+t;return(n>0?SG:wG)(n)},_G=MG,b1=function(e){var t=+e;return t!==t||t===0?0:_G(t)},EG=b1,kG=Math.min,TG=function(e){return e>0?kG(EG(e),9007199254740991):0},AG=TG,fa=function(e){return AG(e.length)},PG=TypeError,NG=9007199254740991,by=function(e){if(e>NG)throw PG("Maximum allowed index exceeded");return e},jG=y1,IG=Qn,RG=Ol,Ho=function(e,t,n){var r=jG(t);r in e?IG.f(e,r,RG(0,n)):e[r]=n},LG=At,OG=LG("toStringTag"),wy={};wy[OG]="z";var Hg=String(wy)==="[object z]",DG=Hg,FG=Xt,fu=Fo,$G=At,BG=$G("toStringTag"),UG=Object,HG=fu(function(){return arguments}())==="Arguments",VG=function(e,t){try{return e[t]}catch{}},Vo=DG?fu:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=VG(t=UG(e),BG))=="string"?n:HG?fu(t):(r=fu(t))==="Object"&&FG(t.callee)?"Arguments":r},GG=Tt,WG=Xt,H2=$g,zG=GG(Function.toString);WG(H2.inspectSource)||(H2.inspectSource=function(e){return zG(e)});var qG=H2.inspectSource,ZG=Tt,YG=It,Sy=Xt,KG=Vo,QG=yr,XG=qG,My=function(){},JG=[],_y=QG("Reflect","construct"),Vg=/^\s*(?:class|function)\b/,eW=ZG(Vg.exec),tW=!Vg.exec(My),li=function(t){if(!Sy(t))return!1;try{return _y(My,JG,t),!0}catch{return!1}},Ey=function(t){if(!Sy(t))return!1;switch(KG(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return tW||!!eW(Vg,XG(t))}catch{return!0}};Ey.sham=!0;var Gg=!_y||YG(function(){var e;return li(li.call)||!li(Object)||!li(function(){e=!0})||e})?Ey:li,N9=Uo,nW=Gg,rW=Ur,sW=At,aW=sW("species"),j9=Array,oW=function(e){var t;return N9(e)&&(t=e.constructor,nW(t)&&(t===j9||N9(t.prototype))?t=void 0:rW(t)&&(t=t[aW],t===null&&(t=void 0))),t===void 0?j9:t},iW=oW,Wg=function(e,t){return new(iW(e))(t===0?0:t)},lW=It,cW=At,uW=Og,dW=cW("species"),w1=function(e){return uW>=51||!lW(function(){var t=[],n=t.constructor={};return n[dW]=function(){return{foo:1}},t[e](Boolean).foo!==1})},fW=Ge,mW=It,pW=Uo,gW=Ur,hW=bs,vW=fa,I9=by,R9=Ho,xW=Wg,CW=w1,yW=At,bW=Og,ky=yW("isConcatSpreadable"),wW=bW>=51||!mW(function(){var e=[];return e[ky]=!1,e.concat()[0]!==e}),SW=function(e){if(!gW(e))return!1;var t=e[ky];return t!==void 0?!!t:pW(e)},MW=!wW||!CW("concat");fW({target:"Array",proto:!0,arity:1,forced:MW},{concat:function(t){var n=hW(this),r=xW(n,0),s=0,a,i,l,c,d;for(a=-1,l=arguments.length;a<l;a++)if(d=a===-1?n:arguments[a],SW(d))for(c=vW(d),I9(s+c),i=0;i<c;i++,s++)i in d&&R9(r,s,d[i]);else I9(s+1),R9(r,s++,d);return r.length=s,r}});var _W=Vo,EW=String,Bl=function(e){if(_W(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return EW(e)},S1={},kW=b1,TW=Math.max,AW=Math.min,M1=function(e,t){var n=kW(e);return n<0?TW(n+t,0):AW(n,t)},PW=Cr,NW=M1,jW=fa,L9=function(e){return function(t,n,r){var s=PW(t),a=jW(s),i=NW(r,a),l;if(e&&n!==n){for(;a>i;)if(l=s[i++],l!==l)return!0}else for(;a>i;i++)if((e||i in s)&&s[i]===n)return e||i||0;return!e&&-1}},Ty={includes:L9(!0),indexOf:L9(!1)},_1={},IW=Tt,n0=Mn,RW=Cr,LW=Ty.indexOf,OW=_1,O9=IW([].push),Ay=function(e,t){var n=RW(e),r=0,s=[],a;for(a in n)!n0(OW,a)&&n0(n,a)&&O9(s,a);for(;t.length>r;)n0(n,a=t[r++])&&(~LW(s,a)||O9(s,a));return s},zg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],DW=Ay,FW=zg,qg=Object.keys||function(t){return DW(t,FW)},$W=Sn,BW=xy,UW=Qn,HW=ws,VW=Cr,GW=qg;S1.f=$W&&!BW?Object.defineProperties:function(t,n){HW(t);for(var r=VW(n),s=GW(n),a=s.length,i=0,l;a>i;)UW.f(t,l=s[i++],r[l]);return t};var WW=yr,zW=WW("document","documentElement"),qW=Bo,ZW=Bg,D9=qW("keys"),E1=function(e){return D9[e]||(D9[e]=ZW(e))},YW=ws,KW=S1,F9=zg,QW=_1,XW=zW,JW=hy,ez=E1,$9=">",B9="<",V2="prototype",G2="script",Py=ez("IE_PROTO"),r0=function(){},Ny=function(e){return B9+G2+$9+e+B9+"/"+G2+$9},U9=function(e){e.write(Ny("")),e.close();var t=e.parentWindow.Object;return e=null,t},tz=function(){var e=JW("iframe"),t="java"+G2+":",n;return e.style.display="none",XW.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(Ny("document.F=Object")),n.close(),n.F},kc,mu=function(){try{kc=new ActiveXObject("htmlfile")}catch{}mu=typeof document<"u"?document.domain&&kc?U9(kc):tz():U9(kc);for(var e=F9.length;e--;)delete mu[V2][F9[e]];return mu()};QW[Py]=!0;var Zg=Object.create||function(t,n){var r;return t!==null?(r0[V2]=YW(t),r=new r0,r0[V2]=null,r[Py]=t):r=mu(),n===void 0?r:KW.f(r,n)},k1={},nz=Ay,rz=zg,sz=rz.concat("length","prototype");k1.f=Object.getOwnPropertyNames||function(t){return nz(t,sz)};var jy={},H9=M1,az=fa,oz=Ho,iz=Array,lz=Math.max,cz=function(e,t,n){for(var r=az(e),s=H9(t,r),a=H9(n===void 0?r:n,r),i=iz(lz(a-s,0)),l=0;s<a;s++,l++)oz(i,l,e[s]);return i.length=l,i},uz=Fo,dz=Cr,Iy=k1.f,fz=cz,Ry=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],mz=function(e){try{return Iy(e)}catch{return fz(Ry)}};jy.f=function(t){return Ry&&uz(t)==="Window"?mz(t):Iy(dz(t))};var T1={};T1.f=Object.getOwnPropertySymbols;var pz=$l,A1=function(e,t,n,r){return r&&r.enumerable?e[t]=n:pz(e,t,n),e},gz=Qn,hz=function(e,t,n){return gz.f(e,t,n)},Yg={},vz=At;Yg.f=vz;var V9=Ht,xz=Mn,Cz=Yg,yz=Qn.f,dt=function(e){var t=V9.Symbol||(V9.Symbol={});xz(t,e)||yz(t,e,{value:Cz.f(e)})},bz=xr,wz=yr,Sz=At,Mz=A1,Ly=function(){var e=wz("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=Sz("toPrimitive");t&&!t[r]&&Mz(t,r,function(s){return bz(n,this)},{arity:1})},_z=Hg,Ez=Vo,kz=_z?{}.toString:function(){return"[object "+Ez(this)+"]"},Tz=Hg,Az=Qn.f,Pz=$l,Nz=Mn,jz=kz,Iz=At,G9=Iz("toStringTag"),Ul=function(e,t,n,r){if(e){var s=n?e:e.prototype;Nz(s,G9)||Az(s,G9,{configurable:!0,value:t}),r&&!Tz&&Pz(s,"toString",jz)}},Rz=Qt,Lz=Xt,W9=Rz.WeakMap,Oz=Lz(W9)&&/native code/.test(String(W9)),Dz=Oz,Oy=Qt,Fz=Ur,$z=$l,s0=Mn,a0=$g,Bz=E1,Uz=_1,z9="Object already initialized",W2=Oy.TypeError,Hz=Oy.WeakMap,Wu,Ki,zu,Vz=function(e){return zu(e)?Ki(e):Wu(e,{})},Gz=function(e){return function(t){var n;if(!Fz(t)||(n=Ki(t)).type!==e)throw W2("Incompatible receiver, "+e+" required");return n}};if(Dz||a0.state){var rr=a0.state||(a0.state=new Hz);rr.get=rr.get,rr.has=rr.has,rr.set=rr.set,Wu=function(e,t){if(rr.has(e))throw W2(z9);return t.facade=e,rr.set(e,t),t},Ki=function(e){return rr.get(e)||{}},zu=function(e){return rr.has(e)}}else{var Ea=Bz("state");Uz[Ea]=!0,Wu=function(e,t){if(s0(e,Ea))throw W2(z9);return t.facade=e,$z(e,Ea,t),t},Ki=function(e){return s0(e,Ea)?e[Ea]:{}},zu=function(e){return s0(e,Ea)}}var Kg={set:Wu,get:Ki,has:zu,enforce:Vz,getterFor:Gz},Wz=Ug,zz=Tt,qz=uy,Zz=bs,Yz=fa,Kz=Wg,q9=zz([].push),qr=function(e){var t=e===1,n=e===2,r=e===3,s=e===4,a=e===6,i=e===7,l=e===5||a;return function(c,d,f,m){for(var p=Zz(c),g=qz(p),v=Wz(d,f),h=Yz(g),x=0,y=m||Kz,b=t?y(c,h):n||i?y(c,0):void 0,S,T;h>x;x++)if((l||x in g)&&(S=g[x],T=v(S,x,p),e))if(t)b[x]=T;else if(T)switch(e){case 3:return!0;case 5:return S;case 6:return x;case 2:q9(b,S)}else switch(e){case 4:return!1;case 7:q9(b,S)}return a?-1:r||s?s:b}},Qg={forEach:qr(0),map:qr(1),filter:qr(2),some:qr(3),every:qr(4),find:qr(5),findIndex:qr(6),filterReject:qr(7)},P1=Ge,Xg=Qt,Jg=xr,Qz=Tt,po=Sn,go=$o,Xz=It,Nt=Mn,Jz=ys,z2=ws,N1=Cr,eh=y1,eq=Bl,q2=Ol,Qi=Zg,Dy=qg,tq=k1,Fy=jy,nq=T1,$y=Ll,By=Qn,rq=S1,Uy=Ig,Z9=A1,sq=hz,th=Bo,aq=E1,Hy=_1,Y9=Bg,oq=At,iq=Yg,lq=dt,cq=Ly,uq=Ul,Vy=Kg,j1=Qg.forEach,on=aq("hidden"),I1="Symbol",Xi="prototype",dq=Vy.set,K9=Vy.getterFor(I1),zn=Object[Xi],qs=Xg.Symbol,Si=qs&&qs[Xi],fq=Xg.TypeError,o0=Xg.QObject,Gy=$y.f,Os=By.f,Wy=Fy.f,mq=Uy.f,zy=Qz([].push),Fr=th("symbols"),Hl=th("op-symbols"),pq=th("wks"),Z2=!o0||!o0[Xi]||!o0[Xi].findChild,Y2=po&&Xz(function(){return Qi(Os({},"a",{get:function(){return Os(this,"a",{value:7}).a}})).a!==7})?function(e,t,n){var r=Gy(zn,t);r&&delete zn[t],Os(e,t,n),r&&e!==zn&&Os(zn,t,r)}:Os,i0=function(e,t){var n=Fr[e]=Qi(Si);return dq(n,{type:I1,tag:e,description:t}),po||(n.description=t),n},R1=function(t,n,r){t===zn&&R1(Hl,n,r),z2(t);var s=eh(n);return z2(r),Nt(Fr,s)?(r.enumerable?(Nt(t,on)&&t[on][s]&&(t[on][s]=!1),r=Qi(r,{enumerable:q2(0,!1)})):(Nt(t,on)||Os(t,on,q2(1,{})),t[on][s]=!0),Y2(t,s,r)):Os(t,s,r)},nh=function(t,n){z2(t);var r=N1(n),s=Dy(r).concat(Ky(r));return j1(s,function(a){(!po||Jg(qy,r,a))&&R1(t,a,r[a])}),t},gq=function(t,n){return n===void 0?Qi(t):nh(Qi(t),n)},qy=function(t){var n=eh(t),r=Jg(mq,this,n);return this===zn&&Nt(Fr,n)&&!Nt(Hl,n)?!1:r||!Nt(this,n)||!Nt(Fr,n)||Nt(this,on)&&this[on][n]?r:!0},Zy=function(t,n){var r=N1(t),s=eh(n);if(!(r===zn&&Nt(Fr,s)&&!Nt(Hl,s))){var a=Gy(r,s);return a&&Nt(Fr,s)&&!(Nt(r,on)&&r[on][s])&&(a.enumerable=!0),a}},Yy=function(t){var n=Wy(N1(t)),r=[];return j1(n,function(s){!Nt(Fr,s)&&!Nt(Hy,s)&&zy(r,s)}),r},Ky=function(e){var t=e===zn,n=Wy(t?Hl:N1(e)),r=[];return j1(n,function(s){Nt(Fr,s)&&(!t||Nt(zn,s))&&zy(r,Fr[s])}),r};go||(qs=function(){if(Jz(Si,this))throw fq("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:eq(arguments[0]),n=Y9(t),r=function(s){this===zn&&Jg(r,Hl,s),Nt(this,on)&&Nt(this[on],n)&&(this[on][n]=!1),Y2(this,n,q2(1,s))};return po&&Z2&&Y2(zn,n,{configurable:!0,set:r}),i0(n,t)},Si=qs[Xi],Z9(Si,"toString",function(){return K9(this).tag}),Z9(qs,"withoutSetter",function(e){return i0(Y9(e),e)}),Uy.f=qy,By.f=R1,rq.f=nh,$y.f=Zy,tq.f=Fy.f=Yy,nq.f=Ky,iq.f=function(e){return i0(oq(e),e)},po&&sq(Si,"description",{configurable:!0,get:function(){return K9(this).description}}));P1({global:!0,constructor:!0,wrap:!0,forced:!go,sham:!go},{Symbol:qs});j1(Dy(pq),function(e){lq(e)});P1({target:I1,stat:!0,forced:!go},{useSetter:function(){Z2=!0},useSimple:function(){Z2=!1}});P1({target:"Object",stat:!0,forced:!go,sham:!po},{create:gq,defineProperty:R1,defineProperties:nh,getOwnPropertyDescriptor:Zy});P1({target:"Object",stat:!0,forced:!go},{getOwnPropertyNames:Yy});cq();uq(qs,I1);Hy[on]=!0;var hq=$o,Qy=hq&&!!Symbol.for&&!!Symbol.keyFor,vq=Ge,xq=yr,Cq=Mn,yq=Bl,Xy=Bo,bq=Qy,l0=Xy("string-to-symbol-registry"),wq=Xy("symbol-to-string-registry");vq({target:"Symbol",stat:!0,forced:!bq},{for:function(e){var t=yq(e);if(Cq(l0,t))return l0[t];var n=xq("Symbol")(t);return l0[t]=n,wq[n]=t,n}});var Sq=Ge,Mq=Mn,_q=Dl,Eq=C1,kq=Bo,Tq=Qy,Q9=kq("symbol-to-string-registry");Sq({target:"Symbol",stat:!0,forced:!Tq},{keyFor:function(t){if(!_q(t))throw TypeError(Eq(t)+" is not a symbol");if(Mq(Q9,t))return Q9[t]}});var Aq=Tt,rh=Aq([].slice),Pq=Tt,X9=Uo,Nq=Xt,J9=Fo,jq=Bl,e3=Pq([].push),Iq=function(e){if(Nq(e))return e;if(X9(e)){for(var t=e.length,n=[],r=0;r<t;r++){var s=e[r];typeof s=="string"?e3(n,s):(typeof s=="number"||J9(s)==="Number"||J9(s)==="String")&&e3(n,jq(s))}var a=n.length,i=!0;return function(l,c){if(i)return i=!1,c;if(X9(this))return c;for(var d=0;d<a;d++)if(n[d]===l)return c}}},Rq=Ge,Jy=yr,eb=Ng,Lq=xr,Vl=Tt,tb=It,t3=Xt,n3=Dl,nb=rh,Oq=Iq,Dq=$o,Fq=String,ls=Jy("JSON","stringify"),Tc=Vl(/./.exec),r3=Vl("".charAt),$q=Vl("".charCodeAt),Bq=Vl("".replace),Uq=Vl(1 .toString),Hq=/[\uD800-\uDFFF]/g,s3=/^[\uD800-\uDBFF]$/,a3=/^[\uDC00-\uDFFF]$/,o3=!Dq||tb(function(){var e=Jy("Symbol")("stringify detection");return ls([e])!=="[null]"||ls({a:e})!=="{}"||ls(Object(e))!=="{}"}),i3=tb(function(){return ls("\uDF06\uD834")!=='"\\udf06\\ud834"'||ls("\uDEAD")!=='"\\udead"'}),Vq=function(e,t){var n=nb(arguments),r=Oq(t);if(!(!t3(r)&&(e===void 0||n3(e))))return n[1]=function(s,a){if(t3(r)&&(a=Lq(r,this,Fq(s),a)),!n3(a))return a},eb(ls,null,n)},Gq=function(e,t,n){var r=r3(n,t-1),s=r3(n,t+1);return Tc(s3,e)&&!Tc(a3,s)||Tc(a3,e)&&!Tc(s3,r)?"\\u"+Uq($q(e,0),16):e};ls&&Rq({target:"JSON",stat:!0,arity:3,forced:o3||i3},{stringify:function(t,n,r){var s=nb(arguments),a=eb(o3?Vq:ls,null,s);return i3&&typeof a=="string"?Bq(a,Hq,Gq):a}});var Wq=Ge,zq=$o,qq=It,rb=T1,Zq=bs,Yq=!zq||qq(function(){rb.f(1)});Wq({target:"Object",stat:!0,forced:Yq},{getOwnPropertySymbols:function(t){var n=rb.f;return n?n(Zq(t)):[]}});var Kq=dt;Kq("asyncIterator");var Qq=dt;Qq("hasInstance");var Xq=dt;Xq("isConcatSpreadable");var Jq=dt;Jq("iterator");var eZ=dt;eZ("match");var tZ=dt;tZ("matchAll");var nZ=dt;nZ("replace");var rZ=dt;rZ("search");var sZ=dt;sZ("species");var aZ=dt;aZ("split");var oZ=dt,iZ=Ly;oZ("toPrimitive");iZ();var lZ=yr,cZ=dt,uZ=Ul;cZ("toStringTag");uZ(lZ("Symbol"),"Symbol");var dZ=dt;dZ("unscopables");var fZ=Qt,mZ=Ul;mZ(fZ.JSON,"JSON",!0);var pZ=Ht,gZ=pZ.Symbol,Go={},K2=Sn,hZ=Mn,sb=Function.prototype,vZ=K2&&Object.getOwnPropertyDescriptor,sh=hZ(sb,"name"),xZ=sh&&(function(){}).name==="something",CZ=sh&&(!K2||K2&&vZ(sb,"name").configurable),yZ={EXISTS:sh,PROPER:xZ,CONFIGURABLE:CZ},bZ=It,wZ=!bZ(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),SZ=Mn,MZ=Xt,_Z=bs,EZ=E1,kZ=wZ,l3=EZ("IE_PROTO"),Q2=Object,TZ=Q2.prototype,ab=kZ?Q2.getPrototypeOf:function(e){var t=_Z(e);if(SZ(t,l3))return t[l3];var n=t.constructor;return MZ(n)&&t instanceof n?n.prototype:t instanceof Q2?TZ:null},AZ=It,PZ=Xt,NZ=Ur,jZ=Zg,c3=ab,IZ=A1,RZ=At,X2=RZ("iterator"),ob=!1,jr,c0,u0;[].keys&&(u0=[].keys(),"next"in u0?(c0=c3(c3(u0)),c0!==Object.prototype&&(jr=c0)):ob=!0);var LZ=!NZ(jr)||AZ(function(){var e={};return jr[X2].call(e)!==e});LZ?jr={}:jr=jZ(jr);PZ(jr[X2])||IZ(jr,X2,function(){return this});var ib={IteratorPrototype:jr,BUGGY_SAFARI_ITERATORS:ob},OZ=ib.IteratorPrototype,DZ=Zg,FZ=Ol,$Z=Ul,BZ=Go,UZ=function(){return this},HZ=function(e,t,n,r){var s=t+" Iterator";return e.prototype=DZ(OZ,{next:FZ(+!r,n)}),$Z(e,s,!1,!0),BZ[s]=UZ,e},VZ=Ge,GZ=xr,lb=yZ,WZ=HZ,zZ=ab,qZ=Ul,u3=A1,ZZ=At,d3=Go,cb=ib,YZ=lb.PROPER;lb.CONFIGURABLE;cb.IteratorPrototype;var Ac=cb.BUGGY_SAFARI_ITERATORS,d0=ZZ("iterator"),f3="keys",Pc="values",m3="entries",KZ=function(){return this},ub=function(e,t,n,r,s,a,i){WZ(n,t,r);var l=function(y){if(y===s&&p)return p;if(!Ac&&y&&y in f)return f[y];switch(y){case f3:return function(){return new n(this,y)};case Pc:return function(){return new n(this,y)};case m3:return function(){return new n(this,y)}}return function(){return new n(this)}},c=t+" Iterator",d=!1,f=e.prototype,m=f[d0]||f["@@iterator"]||s&&f[s],p=!Ac&&m||l(s),g=t==="Array"&&f.entries||m,v,h,x;if(g&&(v=zZ(g.call(new e)),v!==Object.prototype&&v.next&&(qZ(v,c,!0,!0),d3[c]=KZ)),YZ&&s===Pc&&m&&m.name!==Pc&&(d=!0,p=function(){return GZ(m,this)}),s)if(h={values:l(Pc),keys:a?p:l(f3),entries:l(m3)},i)for(x in h)(Ac||d||!(x in f))&&u3(f,x,h[x]);else VZ({target:t,proto:!0,forced:Ac||d},h);return i&&f[d0]!==p&&u3(f,d0,p,{name:s}),d3[t]=p,h},db=function(e,t){return{value:e,done:t}},QZ=Cr,p3=Go,fb=Kg;Qn.f;var XZ=ub,Nc=db,mb="Array Iterator",JZ=fb.set,eY=fb.getterFor(mb);XZ(Array,"Array",function(e,t){JZ(this,{type:mb,target:QZ(e),index:0,kind:t})},function(){var e=eY(this),t=e.target,n=e.kind,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Nc(void 0,!0);switch(n){case"keys":return Nc(r,!1);case"values":return Nc(t[r],!1)}return Nc([r,t[r]],!1)},"values");p3.Arguments=p3.Array;var tY={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},nY=tY,rY=Qt,sY=Vo,aY=$l,g3=Go,oY=At,h3=oY("toStringTag");for(var f0 in nY){var v3=rY[f0],m0=v3&&v3.prototype;m0&&sY(m0)!==h3&&aY(m0,h3,f0),g3[f0]=g3.Array}var iY=gZ,lY=iY,cY=At,uY=Qn.f,x3=cY("metadata"),C3=Function.prototype;C3[x3]===void 0&&uY(C3,x3,{value:null});var dY=dt;dY("asyncDispose");var fY=dt;fY("dispose");var mY=dt;mY("metadata");var pY=lY,gY=pY,hY=yr,vY=Tt,ah=hY("Symbol"),xY=ah.keyFor,CY=vY(ah.prototype.valueOf),pb=ah.isRegisteredSymbol||function(t){try{return xY(CY(t))!==void 0}catch{return!1}},yY=Ge,bY=pb;yY({target:"Symbol",stat:!0},{isRegisteredSymbol:bY});var wY=Bo,gb=yr,SY=Tt,MY=Dl,_Y=At,qu=gb("Symbol"),y3=qu.isWellKnownSymbol,hb=gb("Object","getOwnPropertyNames"),EY=SY(qu.prototype.valueOf),b3=wY("wks");for(var p0=0,w3=hb(qu),kY=w3.length;p0<kY;p0++)try{var S3=w3[p0];MY(qu[S3])&&_Y(S3)}catch{}var vb=function(t){if(y3&&y3(t))return!0;try{for(var n=EY(t),r=0,s=hb(b3),a=s.length;r<a;r++)if(b3[s[r]]==n)return!0}catch{}return!1},TY=Ge,AY=vb;TY({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:AY});var PY=dt;PY("matcher");var NY=dt;NY("observable");var jY=Ge,IY=pb;jY({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:IY});var RY=Ge,LY=vb;RY({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:LY});var OY=dt;OY("metadataKey");var DY=dt;DY("patternMatch");var FY=dt;FY("replaceAll");var $Y=gY,BY=$Y,UY=BY,HY=UY;const xb=ue(HY);var oh=Tt,VY=b1,GY=Bl,WY=Lg,zY=oh("".charAt),M3=oh("".charCodeAt),qY=oh("".slice),_3=function(e){return function(t,n){var r=GY(WY(t)),s=VY(n),a=r.length,i,l;return s<0||s>=a?e?"":void 0:(i=M3(r,s),i<55296||i>56319||s+1===a||(l=M3(r,s+1))<56320||l>57343?e?zY(r,s):i:e?qY(r,s,s+2):(i-55296<<10)+(l-56320)+65536)}},ZY={codeAt:_3(!1),charAt:_3(!0)},YY=ZY.charAt,KY=Bl,Cb=Kg,QY=ub,E3=db,yb="String Iterator",XY=Cb.set,JY=Cb.getterFor(yb);QY(String,"String",function(e){XY(this,{type:yb,string:KY(e),index:0})},function(){var t=JY(this),n=t.string,r=t.index,s;return r>=n.length?E3(void 0,!0):(s=YY(n,r),t.index+=s.length,E3(s,!1))});var eK=Vo,k3=Fg,tK=Rg,nK=Go,rK=At,sK=rK("iterator"),ih=function(e){if(!tK(e))return k3(e,sK)||k3(e,"@@iterator")||nK[eK(e)]},aK=ih,oK=aK,iK=oK,lK=iK,cK=lK,uK=cK,dK=uK,fK=dK,mK=fK,pK=mK;const bb=ue(pK);function gK(e,t){var n=e==null?null:typeof xb<"u"&&bb(e)||e["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,i,l;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}var hK=Ge,T3=Uo,vK=Gg,xK=Ur,A3=M1,CK=fa,yK=Cr,bK=Ho,wK=At,SK=w1,MK=rh,_K=SK("slice"),EK=wK("species"),g0=Array,kK=Math.max;hK({target:"Array",proto:!0,forced:!_K},{slice:function(t,n){var r=yK(this),s=CK(r),a=A3(t,s),i=A3(n===void 0?s:n,s),l,c,d;if(T3(r)&&(l=r.constructor,vK(l)&&(l===g0||T3(l.prototype))?l=void 0:xK(l)&&(l=l[EK],l===null&&(l=void 0)),l===g0||l===void 0))return MK(r,a,i);for(c=new(l===void 0?g0:l)(kK(i-a,0)),d=0;a<i;a++,d++)a in r&&bK(c,d,r[a]);return c.length=d,c}});var TK=Ht,Wo=function(e){return TK[e+"Prototype"]},AK=Wo,PK=AK("Array").slice,NK=ys,jK=PK,h0=Array.prototype,IK=function(e){var t=e.slice;return e===h0||NK(h0,e)&&t===h0.slice?jK:t},RK=IK,LK=RK,OK=LK,DK=OK,FK=DK,$K=FK,BK=$K,UK=BK;const HK=ue(UK);var VK=xr,P3=ws,GK=Fg,WK=function(e,t,n){var r,s;P3(e);try{if(r=GK(e,"return"),!r){if(t==="throw")throw n;return n}r=VK(r,e)}catch(a){s=!0,r=a}if(t==="throw")throw n;if(s)throw r;return P3(r),n},zK=ws,qK=WK,ZK=function(e,t,n,r){try{return r?t(zK(n)[0],n[1]):t(n)}catch(s){qK(e,"throw",s)}},YK=At,KK=Go,QK=YK("iterator"),XK=Array.prototype,JK=function(e){return e!==void 0&&(KK.Array===e||XK[QK]===e)},eQ=xr,tQ=Dg,nQ=ws,rQ=C1,sQ=ih,aQ=TypeError,oQ=function(e,t){var n=arguments.length<2?sQ(e):t;if(tQ(n))return nQ(eQ(n,e));throw aQ(rQ(e)+" is not iterable")},iQ=Ug,lQ=xr,cQ=bs,uQ=ZK,dQ=JK,fQ=Gg,mQ=fa,N3=Ho,pQ=oQ,gQ=ih,j3=Array,hQ=function(t){var n=cQ(t),r=fQ(this),s=arguments.length,a=s>1?arguments[1]:void 0,i=a!==void 0;i&&(a=iQ(a,s>2?arguments[2]:void 0));var l=gQ(n),c=0,d,f,m,p,g,v;if(l&&!(this===j3&&dQ(l)))for(p=pQ(n,l),g=p.next,f=r?new this:[];!(m=lQ(g,p)).done;c++)v=i?uQ(p,a,[m.value,c],!0):m.value,N3(f,c,v);else for(d=mQ(n),f=r?new this(d):j3(d);d>c;c++)v=i?a(n[c],c):n[c],N3(f,c,v);return f.length=c,f},vQ=At,wb=vQ("iterator"),Sb=!1;try{var xQ=0,I3={next:function(){return{done:!!xQ++}},return:function(){Sb=!0}};I3[wb]=function(){return this},Array.from(I3,function(){throw 2})}catch{}var CQ=function(e,t){try{if(!t&&!Sb)return!1}catch{return!1}var n=!1;try{var r={};r[wb]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},yQ=Ge,bQ=hQ,wQ=CQ,SQ=!wQ(function(e){Array.from(e)});yQ({target:"Array",stat:!0,forced:SQ},{from:bQ});var MQ=Ht,_Q=MQ.Array.from,EQ=_Q,kQ=EQ,TQ=kQ,AQ=TQ,PQ=AQ,NQ=PQ,jQ=NQ,IQ=jQ;const Mb=ue(IQ);function J2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _b(e,t){var n;if(e){if(typeof e=="string")return J2(e,t);var r=HK(n=Object.prototype.toString.call(e)).call(n,8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Mb(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J2(e,t)}}function RQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lh(e,t){return bG(e)||gK(e,t)||_b(e,t)||RQ()}var Eb={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var a=arguments[s];if(a){var i=typeof a;if(i==="string"||i==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var l=n.apply(null,a);l&&r.push(l)}}else if(i==="object")if(a.toString===Object.prototype.toString)for(var c in a)t.call(a,c)&&a[c]&&r.push(c);else r.push(a.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Eb);var LQ=Eb.exports;const kb=ue(LQ);var Tb={exports:{}},OQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DQ=OQ,FQ=DQ;function Ab(){}function Pb(){}Pb.resetWarningCache=Ab;var $Q=function(){function e(r,s,a,i,l,c){if(c!==FQ){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Pb,resetWarningCache:Ab};return n.PropTypes=n,n};Tb.exports=$Q();var BQ=Tb.exports;const ir=ue(BQ);var Nb=ye.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});Nb.displayName="ScrollToBottomFunctionContext";function ch(){return u.useContext(Nb)}function UQ(){var e=ch(),t=e.scrollToEnd;return t}var jb=ye.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});jb.displayName="ScrollToBottomState1Context";var Ib=ye.createContext({animating:!1,animatingToEnd:!1,sticky:!0});Ib.displayName="ScrollToBottomState2Context";var Rb=ye.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});Rb.displayName="ScrollToBottomStateContext";var R3=[Rb,jb,Ib];function Lb(e){return u.useContext(R3[e]||R3[0])}function HQ(){var e=Lb(2),t=e.sticky;return[t]}var uh=ye.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});uh.displayName="ScrollToBottomInternalContext";function Ob(){return u.useContext(uh)}function Db(){var e=Ob(),t=e.styleToClassName;return t}var VQ={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},Fb=function(t){var n=t.children,r=t.className,s=HQ(),a=lh(s,1),i=a[0],l=Db()(VQ),c=UQ();return!i&&ye.createElement("button",{className:kb(l,(r||"")+""),onClick:c,type:"button"},n)};Fb.defaultProps={children:void 0,className:""};Fb.propTypes={children:ir.any,className:ir.string};var $b={exports:{}},GQ=Ge,WQ=Sn,L3=Qn.f;GQ({target:"Object",stat:!0,forced:Object.defineProperty!==L3,sham:!WQ},{defineProperty:L3});var zQ=Ht,Bb=zQ.Object,qQ=$b.exports=function(t,n,r){return Bb.defineProperty(t,n,r)};Bb.defineProperty.sham&&(qQ.sham=!0);var ZQ=$b.exports,YQ=ZQ,Ub=YQ,KQ=Ub,QQ=KQ,XQ=QQ,JQ=XQ,eX=JQ,tX=eX;const nX=ue(tX);function wTe(e,t,n){return t in e?nX(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rX(e){if(yy(e))return J2(e)}function sX(e){if(typeof xb<"u"&&bb(e)!=null||e["@@iterator"]!=null)return Mb(e)}function aX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ds(e){return rX(e)||sX(e)||_b(e)||aX()}var jc=function(e){return e&&e.Math==Math&&e},_n=jc(typeof globalThis=="object"&&globalThis)||jc(typeof window=="object"&&window)||jc(typeof self=="object"&&self)||jc(typeof Rn=="object"&&Rn)||function(){return this}()||Function("return this")(),dh={},Xn=function(e){try{return!!e()}catch{return!0}},oX=Xn,ma=!oX(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Hb={},Vb={}.propertyIsEnumerable,Gb=Object.getOwnPropertyDescriptor,iX=Gb&&!Vb.call({1:2},1);Hb.f=iX?function(t){var n=Gb(this,t);return!!n&&n.enumerable}:Vb;var Wb=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},lX={}.toString,fh=function(e){return lX.call(e).slice(8,-1)},cX=Xn,uX=fh,dX="".split,fX=cX(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return uX(e)=="String"?dX.call(e,""):Object(e)}:Object,L1=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},mX=fX,pX=L1,mh=function(e){return mX(pX(e))},$n=function(e){return typeof e=="function"},gX=$n,Gl=function(e){return typeof e=="object"?e!==null:gX(e)},v0=_n,hX=$n,vX=function(e){return hX(e)?e:void 0},O1=function(e,t){return arguments.length<2?vX(v0[e]):v0[e]&&v0[e][t]},xX=O1,CX=xX("navigator","userAgent")||"",zb=_n,x0=CX,O3=zb.process,D3=zb.Deno,F3=O3&&O3.versions||D3&&D3.version,$3=F3&&F3.v8,sr,Zu;$3?(sr=$3.split("."),Zu=sr[0]<4?1:sr[0]+sr[1]):x0&&(sr=x0.match(/Edge\/(\d+)/),(!sr||sr[1]>=74)&&(sr=x0.match(/Chrome\/(\d+)/),sr&&(Zu=sr[1])));var yX=Zu&&+Zu,B3=yX,bX=Xn,qb=!!Object.getOwnPropertySymbols&&!bX(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&B3&&B3<41}),wX=qb,Zb=wX&&!Symbol.sham&&typeof Symbol.iterator=="symbol",SX=$n,MX=O1,_X=Zb,Yb=_X?function(e){return typeof e=="symbol"}:function(e){var t=MX("Symbol");return SX(t)&&Object(e)instanceof t},EX=function(e){try{return String(e)}catch{return"Object"}},kX=$n,TX=EX,AX=function(e){if(kX(e))return e;throw TypeError(TX(e)+" is not a function")},PX=AX,Kb=function(e,t){var n=e[t];return n==null?void 0:PX(n)},C0=$n,y0=Gl,NX=function(e,t){var n,r;if(t==="string"&&C0(n=e.toString)&&!y0(r=n.call(e))||C0(n=e.valueOf)&&!y0(r=n.call(e))||t!=="string"&&C0(n=e.toString)&&!y0(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Qb={exports:{}},U3=_n,ph=function(e,t){try{Object.defineProperty(U3,e,{value:t,configurable:!0,writable:!0})}catch{U3[e]=t}return t},jX=_n,IX=ph,H3="__core-js_shared__",RX=jX[H3]||IX(H3,{}),gh=RX,V3=gh;(Qb.exports=function(e,t){return V3[e]||(V3[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.18.3",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"});var hh=Qb.exports,LX=L1,Xb=function(e){return Object(LX(e))},OX=Xb,DX={}.hasOwnProperty,pa=Object.hasOwn||function(t,n){return DX.call(OX(t),n)},FX=0,$X=Math.random(),Jb=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++FX+$X).toString(36)},BX=_n,UX=hh,G3=pa,HX=Jb,W3=qb,VX=Zb,ci=UX("wks"),Oi=BX.Symbol,GX=VX?Oi:Oi&&Oi.withoutSetter||HX,Wl=function(e){return(!G3(ci,e)||!(W3||typeof ci[e]=="string"))&&(W3&&G3(Oi,e)?ci[e]=Oi[e]:ci[e]=GX("Symbol."+e)),ci[e]},z3=Gl,q3=Yb,WX=Kb,zX=NX,qX=Wl,ZX=qX("toPrimitive"),YX=function(e,t){if(!z3(e)||q3(e))return e;var n=WX(e,ZX),r;if(n){if(t===void 0&&(t="default"),r=n.call(e,t),!z3(r)||q3(r))return r;throw TypeError("Can't convert object to primitive value")}return t===void 0&&(t="number"),zX(e,t)},KX=YX,QX=Yb,ew=function(e){var t=KX(e,"string");return QX(t)?t:String(t)},XX=_n,Z3=Gl,em=XX.document,JX=Z3(em)&&Z3(em.createElement),tw=function(e){return JX?em.createElement(e):{}},eJ=ma,tJ=Xn,nJ=tw,nw=!eJ&&!tJ(function(){return Object.defineProperty(nJ("div"),"a",{get:function(){return 7}}).a!=7}),rJ=ma,sJ=Hb,aJ=Wb,oJ=mh,iJ=ew,lJ=pa,cJ=nw,Y3=Object.getOwnPropertyDescriptor;dh.f=rJ?Y3:function(t,n){if(t=oJ(t),n=iJ(n),cJ)try{return Y3(t,n)}catch{}if(lJ(t,n))return aJ(!sJ.f.call(t,n),t[n])};var zl={},uJ=Gl,Ss=function(e){if(uJ(e))return e;throw TypeError(String(e)+" is not an object")},dJ=ma,fJ=nw,K3=Ss,mJ=ew,Q3=Object.defineProperty;zl.f=dJ?Q3:function(t,n,r){if(K3(t),n=mJ(n),K3(r),fJ)try{return Q3(t,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var pJ=ma,gJ=zl,hJ=Wb,D1=pJ?function(e,t,n){return gJ.f(e,t,hJ(1,n))}:function(e,t,n){return e[t]=n,e},rw={exports:{}},vJ=$n,tm=gh,xJ=Function.toString;vJ(tm.inspectSource)||(tm.inspectSource=function(e){return xJ.call(e)});var sw=tm.inspectSource,CJ=_n,yJ=$n,bJ=sw,X3=CJ.WeakMap,wJ=yJ(X3)&&/native code/.test(bJ(X3)),SJ=hh,MJ=Jb,J3=SJ("keys"),aw=function(e){return J3[e]||(J3[e]=MJ(e))},vh={},_J=wJ,EJ=_n,kJ=Gl,TJ=D1,b0=pa,w0=gh,AJ=aw,PJ=vh,e7="Object already initialized",NJ=EJ.WeakMap,Yu,Ji,Ku,jJ=function(e){return Ku(e)?Ji(e):Yu(e,{})},IJ=function(e){return function(t){var n;if(!kJ(t)||(n=Ji(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(_J||w0.state){var Ts=w0.state||(w0.state=new NJ),RJ=Ts.get,t7=Ts.has,LJ=Ts.set;Yu=function(e,t){if(t7.call(Ts,e))throw new TypeError(e7);return t.facade=e,LJ.call(Ts,e,t),t},Ji=function(e){return RJ.call(Ts,e)||{}},Ku=function(e){return t7.call(Ts,e)}}else{var ka=AJ("state");PJ[ka]=!0,Yu=function(e,t){if(b0(e,ka))throw new TypeError(e7);return t.facade=e,TJ(e,ka,t),t},Ji=function(e){return b0(e,ka)?e[ka]:{}},Ku=function(e){return b0(e,ka)}}var ow={set:Yu,get:Ji,has:Ku,enforce:jJ,getterFor:IJ},nm=ma,OJ=pa,iw=Function.prototype,DJ=nm&&Object.getOwnPropertyDescriptor,xh=OJ(iw,"name"),FJ=xh&&(function(){}).name==="something",$J=xh&&(!nm||nm&&DJ(iw,"name").configurable),Ch={EXISTS:xh,PROPER:FJ,CONFIGURABLE:$J},BJ=_n,n7=$n,UJ=pa,r7=D1,HJ=ph,VJ=sw,lw=ow,GJ=Ch.CONFIGURABLE,WJ=lw.get,zJ=lw.enforce,qJ=String(String).split("String");(rw.exports=function(e,t,n,r){var s=r?!!r.unsafe:!1,a=r?!!r.enumerable:!1,i=r?!!r.noTargetGet:!1,l=r&&r.name!==void 0?r.name:t,c;if(n7(n)&&(String(l).slice(0,7)==="Symbol("&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!UJ(n,"name")||GJ&&n.name!==l)&&r7(n,"name",l),c=zJ(n),c.source||(c.source=qJ.join(typeof l=="string"?l:""))),e===BJ){a?e[t]=n:HJ(t,n);return}else s?!i&&e[t]&&(a=!0):delete e[t];a?e[t]=n:r7(e,t,n)})(Function.prototype,"toString",function(){return n7(this)&&WJ(this).source||VJ(this)});var ql=rw.exports,cw={},ZJ=Math.ceil,YJ=Math.floor,F1=function(e){var t=+e;return t!==t||t===0?0:(t>0?YJ:ZJ)(t)},KJ=F1,QJ=Math.max,XJ=Math.min,JJ=function(e,t){var n=KJ(e);return n<0?QJ(n+t,0):XJ(n,t)},eee=F1,tee=Math.min,uw=function(e){return e>0?tee(eee(e),9007199254740991):0},nee=uw,ree=function(e){return nee(e.length)},see=mh,aee=JJ,oee=ree,s7=function(e){return function(t,n,r){var s=see(t),a=oee(s),i=aee(r,a),l;if(e&&n!=n){for(;a>i;)if(l=s[i++],l!=l)return!0}else for(;a>i;i++)if((e||i in s)&&s[i]===n)return e||i||0;return!e&&-1}},iee={includes:s7(!0),indexOf:s7(!1)},S0=pa,lee=mh,cee=iee.indexOf,uee=vh,dw=function(e,t){var n=lee(e),r=0,s=[],a;for(a in n)!S0(uee,a)&&S0(n,a)&&s.push(a);for(;t.length>r;)S0(n,a=t[r++])&&(~cee(s,a)||s.push(a));return s},yh=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dee=dw,fee=yh,mee=fee.concat("length","prototype");cw.f=Object.getOwnPropertyNames||function(t){return dee(t,mee)};var fw={};fw.f=Object.getOwnPropertySymbols;var pee=O1,gee=cw,hee=fw,vee=Ss,xee=pee("Reflect","ownKeys")||function(t){var n=gee.f(vee(t)),r=hee.f;return r?n.concat(r(t)):n},Cee=pa,yee=xee,bee=dh,wee=zl,See=function(e,t){for(var n=yee(t),r=wee.f,s=bee.f,a=0;a<n.length;a++){var i=n[a];Cee(e,i)||r(e,i,s(t,i))}},Mee=Xn,_ee=$n,Eee=/#|\.prototype\./,Zl=function(e,t){var n=Tee[kee(e)];return n==Pee?!0:n==Aee?!1:_ee(t)?Mee(t):!!t},kee=Zl.normalize=function(e){return String(e).replace(Eee,".").toLowerCase()},Tee=Zl.data={},Aee=Zl.NATIVE="N",Pee=Zl.POLYFILL="P",Nee=Zl,M0=_n,jee=dh.f,Iee=D1,Ree=ql,Lee=ph,Oee=See,Dee=Nee,Fee=function(e,t){var n=e.target,r=e.global,s=e.stat,a,i,l,c,d,f;if(r?i=M0:s?i=M0[n]||Lee(n,{}):i=(M0[n]||{}).prototype,i)for(l in t){if(d=t[l],e.noTargetGet?(f=jee(i,l),c=f&&f.value):c=i[l],a=Dee(r?l:n+(s?".":"#")+l,e.forced),!a&&c!==void 0){if(typeof d==typeof c)continue;Oee(d,c)}(e.sham||c&&c.sham)&&Iee(d,"sham",!0),Ree(i,l,d,e)}},$ee=Wl,Bee=$ee("toStringTag"),mw={};mw[Bee]="z";var bh=String(mw)==="[object z]",Uee=bh,Hee=$n,pu=fh,Vee=Wl,Gee=Vee("toStringTag"),Wee=pu(function(){return arguments}())=="Arguments",zee=function(e,t){try{return e[t]}catch{}},pw=Uee?pu:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=zee(t=Object(e),Gee))=="string"?n:Wee?pu(t):(r=pu(t))=="Object"&&Hee(t.callee)?"Arguments":r},qee=pw,$1=function(e){if(qee(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(e)},Zee=Ss,gw=function(){var e=Zee(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},wh={},hw=Xn,Yee=_n,vw=Yee.RegExp;wh.UNSUPPORTED_Y=hw(function(){var e=vw("a","y");return e.lastIndex=2,e.exec("abcd")!=null});wh.BROKEN_CARET=hw(function(){var e=vw("^r","gy");return e.lastIndex=2,e.exec("str")!=null});var Kee=dw,Qee=yh,Xee=Object.keys||function(t){return Kee(t,Qee)},Jee=ma,ete=zl,tte=Ss,nte=Xee,rte=Jee?Object.defineProperties:function(t,n){tte(t);for(var r=nte(n),s=r.length,a=0,i;s>a;)ete.f(t,i=r[a++],n[i]);return t},ste=O1,ate=ste("document","documentElement"),ote=Ss,ite=rte,a7=yh,lte=vh,cte=ate,ute=tw,dte=aw,o7=">",i7="<",rm="prototype",sm="script",xw=dte("IE_PROTO"),_0=function(){},Cw=function(e){return i7+sm+o7+e+i7+"/"+sm+o7},l7=function(e){e.write(Cw("")),e.close();var t=e.parentWindow.Object;return e=null,t},fte=function(){var e=ute("iframe"),t="java"+sm+":",n;return e.style.display="none",cte.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(Cw("document.F=Object")),n.close(),n.F},Ic,gu=function(){try{Ic=new ActiveXObject("htmlfile")}catch{}gu=typeof document<"u"?document.domain&&Ic?l7(Ic):fte():l7(Ic);for(var e=a7.length;e--;)delete gu[rm][a7[e]];return gu()};lte[xw]=!0;var mte=Object.create||function(t,n){var r;return t!==null?(_0[rm]=ote(t),r=new _0,_0[rm]=null,r[xw]=t):r=gu(),n===void 0?r:ite(r,n)},pte=Xn,gte=_n,hte=gte.RegExp,vte=pte(function(){var e=hte(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),xte=Xn,Cte=_n,yte=Cte.RegExp,bte=xte(function(){var e=yte("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),wte=$1,Ste=gw,c7=wh,Mte=hh,_te=mte,Ete=ow.get,kte=vte,Tte=bte,Qu=RegExp.prototype.exec,Ate=Mte("native-string-replace",String.prototype.replace),am=Qu,om=function(){var e=/a/,t=/b*/g;return Qu.call(e,"a"),Qu.call(t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),yw=c7.UNSUPPORTED_Y||c7.BROKEN_CARET,im=/()??/.exec("")[1]!==void 0,Pte=om||im||yw||kte||Tte;Pte&&(am=function(t){var n=this,r=Ete(n),s=wte(t),a=r.raw,i,l,c,d,f,m,p;if(a)return a.lastIndex=n.lastIndex,i=am.call(a,s),n.lastIndex=a.lastIndex,i;var g=r.groups,v=yw&&n.sticky,h=Ste.call(n),x=n.source,y=0,b=s;if(v&&(h=h.replace("y",""),h.indexOf("g")===-1&&(h+="g"),b=s.slice(n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&s.charAt(n.lastIndex-1)!==`
`)&&(x="(?: "+x+")",b=" "+b,y++),l=new RegExp("^(?:"+x+")",h)),im&&(l=new RegExp("^"+x+"$(?!\\s)",h)),om&&(c=n.lastIndex),d=Qu.call(v?l:n,b),v?d?(d.input=d.input.slice(y),d[0]=d[0].slice(y),d.index=n.lastIndex,n.lastIndex+=d[0].length):n.lastIndex=0:om&&d&&(n.lastIndex=n.global?d.index+d[0].length:c),im&&d&&d.length>1&&Ate.call(d[0],l,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(d[f]=void 0)}),d&&g)for(d.groups=m=_te(null),f=0;f<g.length;f++)p=g[f],m[p[0]]=d[p[1]];return d});var Sh=am,Nte=Fee,u7=Sh;Nte({target:"RegExp",proto:!0,forced:/./.exec!==u7},{exec:u7});var d7=ql,jte=Sh,f7=Xn,bw=Wl,Ite=D1,Rte=bw("species"),E0=RegExp.prototype,Lte=function(e,t,n,r){var s=bw(e),a=!f7(function(){var d={};return d[s]=function(){return 7},""[e](d)!=7}),i=a&&!f7(function(){var d=!1,f=/a/;return e==="split"&&(f={},f.constructor={},f.constructor[Rte]=function(){return f},f.flags="",f[s]=/./[s]),f.exec=function(){return d=!0,null},f[s](""),!d});if(!a||!i||n){var l=/./[s],c=t(s,""[e],function(d,f,m,p,g){var v=f.exec;return v===jte||v===E0.exec?a&&!g?{done:!0,value:l.call(f,m,p)}:{done:!0,value:d.call(m,f,p)}:{done:!1}});d7(String.prototype,e,c[0]),d7(E0,s,c[1])}r&&Ite(E0[s],"sham",!0)},Ote=F1,Dte=$1,Fte=L1,m7=function(e){return function(t,n){var r=Dte(Fte(t)),s=Ote(n),a=r.length,i,l;return s<0||s>=a?e?"":void 0:(i=r.charCodeAt(s),i<55296||i>56319||s+1===a||(l=r.charCodeAt(s+1))<56320||l>57343?e?r.charAt(s):i:e?r.slice(s,s+2):(i-55296<<10)+(l-56320)+65536)}},$te={codeAt:m7(!1),charAt:m7(!0)},Bte=$te.charAt,Ute=function(e,t,n){return t+(n?Bte(e,t).length:1)},Hte=Xb,Vte=Math.floor,Gte="".replace,Wte=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,zte=/\$([$&'`]|\d{1,2})/g,qte=function(e,t,n,r,s,a){var i=n+e.length,l=r.length,c=zte;return s!==void 0&&(s=Hte(s),c=Wte),Gte.call(a,c,function(d,f){var m;switch(f.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(i);case"<":m=s[f.slice(1,-1)];break;default:var p=+f;if(p===0)return d;if(p>l){var g=Vte(p/10);return g===0?d:g<=l?r[g-1]===void 0?f.charAt(1):r[g-1]+f.charAt(1):d}m=r[p-1]}return m===void 0?"":m})},Zte=Ss,Yte=$n,Kte=fh,Qte=Sh,Xte=function(e,t){var n=e.exec;if(Yte(n)){var r=n.call(e,t);return r!==null&&Zte(r),r}if(Kte(e)==="RegExp")return Qte.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")},Jte=Lte,ene=Xn,tne=Ss,nne=$n,rne=F1,sne=uw,Ta=$1,ane=L1,one=Ute,ine=Kb,lne=qte,cne=Xte,une=Wl,lm=une("replace"),dne=Math.max,fne=Math.min,mne=function(e){return e===void 0?e:String(e)},pne=function(){return"a".replace(/./,"$0")==="$0"}(),p7=function(){return/./[lm]?/./[lm]("a","$0")==="":!1}(),gne=!ene(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});Jte("replace",function(e,t,n){var r=p7?"$":"$0";return[function(a,i){var l=ane(this),c=a==null?void 0:ine(a,lm);return c?c.call(a,l,i):t.call(Ta(l),a,i)},function(s,a){var i=tne(this),l=Ta(s);if(typeof a=="string"&&a.indexOf(r)===-1&&a.indexOf("$<")===-1){var c=n(t,i,l,a);if(c.done)return c.value}var d=nne(a);d||(a=Ta(a));var f=i.global;if(f){var m=i.unicode;i.lastIndex=0}for(var p=[];;){var g=cne(i,l);if(g===null||(p.push(g),!f))break;var v=Ta(g[0]);v===""&&(i.lastIndex=one(l,sne(i.lastIndex),m))}for(var h="",x=0,y=0;y<p.length;y++){g=p[y];for(var b=Ta(g[0]),S=dne(fne(rne(g.index),l.length),0),T=[],k=1;k<g.length;k++)T.push(mne(g[k]));var A=g.groups;if(d){var M=[b].concat(T,S,l);A!==void 0&&M.push(A);var P=Ta(a.apply(void 0,M))}else P=lne(b,l,S,T,A,a);S>=x&&(h+=l.slice(x,S)+P,x=S+b.length)}return h+l.slice(x)}]},!gne||!pne||p7);var hne=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",vne=TypeError,xne=function(e,t){if(e<t)throw vne("Not enough arguments");return e},ww=Qt,Cne=Ng,yne=Xt,bne=hne,wne=fy,Sne=rh,Mne=xne,_ne=ww.Function,Ene=/MSIE .\./.test(wne)||bne&&function(){var e=ww.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),Sw=function(e,t){var n=t?2:1;return Ene?function(r,s){var a=Mne(arguments.length,1)>n,i=yne(r)?r:_ne(r),l=a?Sne(arguments,n):[],c=a?function(){Cne(i,this,l)}:i;return t?e(c,s):e(c)}:e},kne=Ge,Mw=Qt,Tne=Sw,g7=Tne(Mw.setInterval,!0);kne({global:!0,bind:!0,forced:Mw.setInterval!==g7},{setInterval:g7});var Ane=Ge,_w=Qt,Pne=Sw,h7=Pne(_w.setTimeout,!0);Ane({global:!0,bind:!0,forced:_w.setTimeout!==h7},{setTimeout:h7});var Nne=Ht,jne=Nne.setInterval,Ine=jne;const STe=ue(Ine);var Rne=It,Ew=function(e,t){var n=[][e];return!!n&&Rne(function(){n.call(null,t||function(){return 1},1)})},Lne=Ge,One=jg,Dne=Ty.indexOf,Fne=Ew,cm=One([].indexOf),kw=!!cm&&1/cm([1],1,-0)<0,$ne=kw||!Fne("indexOf");Lne({target:"Array",proto:!0,forced:$ne},{indexOf:function(t){var n=arguments.length>1?arguments[1]:void 0;return kw?cm(this,t,n)||0:Dne(this,t,n)}});var Bne=Wo,Une=Bne("Array").indexOf,Hne=ys,Vne=Une,k0=Array.prototype,Gne=function(e){var t=e.indexOf;return e===k0||Hne(k0,e)&&t===k0.indexOf?Vne:t},Wne=Gne,zne=Wne,qne=zne;const MTe=ue(qne);var Zne=Sn,Yne=Uo,Kne=TypeError,Qne=Object.getOwnPropertyDescriptor,Xne=Zne&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),Jne=Xne?function(e,t){if(Yne(e)&&!Qne(e,"length").writable)throw Kne("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},v7=C1,ere=TypeError,tre=function(e,t){if(!delete e[t])throw ere("Cannot delete property "+v7(t)+" of "+v7(e))},nre=Ge,rre=bs,sre=M1,are=b1,ore=fa,ire=Jne,lre=by,cre=Wg,ure=Ho,T0=tre,dre=w1,fre=dre("splice"),mre=Math.max,pre=Math.min;nre({target:"Array",proto:!0,forced:!fre},{splice:function(t,n){var r=rre(this),s=ore(r),a=sre(t,s),i=arguments.length,l,c,d,f,m,p;for(i===0?l=c=0:i===1?(l=0,c=s-a):(l=i-2,c=pre(mre(are(n),0),s-a)),lre(s+l-c),d=cre(r,c),f=0;f<c;f++)m=a+f,m in r&&ure(d,f,r[m]);if(d.length=c,l<c){for(f=a;f<s-c;f++)m=f+c,p=f+l,m in r?r[p]=r[m]:T0(r,p);for(f=s;f>s-c+l;f--)T0(r,f-1)}else if(l>c)for(f=s-c;f>a;f--)m=f+c-1,p=f+l-1,m in r?r[p]=r[m]:T0(r,p);for(f=0;f<l;f++)r[f+a]=arguments[f+2];return ire(r,s-c+l),d}});var gre=Wo,hre=gre("Array").splice,vre=ys,xre=hre,A0=Array.prototype,Cre=function(e){var t=e.splice;return e===A0||vre(A0,e)&&t===A0.splice?xre:t},yre=Cre,bre=yre,wre=bre;const _Te=ue(wre);var Sre=Wo,Mre=Sre("Array").concat,_re=ys,Ere=Mre,P0=Array.prototype,kre=function(e){var t=e.concat;return e===P0||_re(P0,e)&&t===P0.concat?Ere:t},Tre=kre,Are=Tre,Pre=Are;const el=ue(Pre);var Nre=Ge,jre=Tt,Tw=Date,Ire=jre(Tw.prototype.getTime);Nre({target:"Date",stat:!0},{now:function(){return Ire(new Tw)}});var Rre=Ht,Lre=Rre.Date.now,Ore=Lre,Dre=Ore,Fre=Dre;const tl=ue(Fre);var $re=Qg.forEach,Bre=Ew,Ure=Bre("forEach"),Hre=Ure?[].forEach:function(t){return $re(this,t,arguments.length>1?arguments[1]:void 0)},Vre=Ge,x7=Hre;Vre({target:"Array",proto:!0,forced:[].forEach!==x7},{forEach:x7});var Gre=Wo,Wre=Gre("Array").forEach,zre=Wre,qre=zre,Zre=Vo,Yre=Mn,Kre=ys,Qre=qre,N0=Array.prototype,Xre={DOMTokenList:!0,NodeList:!0},Jre=function(e){var t=e.forEach;return e===N0||Kre(N0,e)&&t===N0.forEach||Yre(Xre,Zre(e))?Qre:t},ese=Jre;const tse=ue(ese);var nse=Ge,rse=bs,Aw=qg,sse=It,ase=sse(function(){Aw(1)});nse({target:"Object",stat:!0,forced:ase},{keys:function(t){return Aw(rse(t))}});var ose=Ht,ise=ose.Object.keys,lse=ise,cse=lse,use=cse;const ETe=ue(use);var dse=Ht,fse=dse.Object.getOwnPropertySymbols,mse=fse,pse=mse,gse=pse;const kTe=ue(gse);var hse=Ge,vse=Qg.filter,xse=w1,Cse=xse("filter");hse({target:"Array",proto:!0,forced:!Cse},{filter:function(t){return vse(this,t,arguments.length>1?arguments[1]:void 0)}});var yse=Wo,bse=yse("Array").filter,wse=ys,Sse=bse,j0=Array.prototype,Mse=function(e){var t=e.filter;return e===j0||wse(j0,e)&&t===j0.filter?Sse:t},_se=Mse,Ese=_se,kse=Ese;const TTe=ue(kse);var Pw={exports:{}},Tse=Ge,Ase=It,Pse=Cr,Nw=Ll.f,jw=Sn,Nse=!jw||Ase(function(){Nw(1)});Tse({target:"Object",stat:!0,forced:Nse,sham:!jw},{getOwnPropertyDescriptor:function(t,n){return Nw(Pse(t),n)}});var jse=Ht,Iw=jse.Object,Ise=Pw.exports=function(t,n){return Iw.getOwnPropertyDescriptor(t,n)};Iw.getOwnPropertyDescriptor.sham&&(Ise.sham=!0);var Rse=Pw.exports,Lse=Rse,Ose=Lse,Dse=Ose;const ATe=ue(Dse);var Fse=yr,$se=Tt,Bse=k1,Use=T1,Hse=ws,Vse=$se([].concat),Gse=Fse("Reflect","ownKeys")||function(t){var n=Bse.f(Hse(t)),r=Use.f;return r?Vse(n,r(t)):n},Wse=Ge,zse=Sn,qse=Gse,Zse=Cr,Yse=Ll,Kse=Ho;Wse({target:"Object",stat:!0,sham:!zse},{getOwnPropertyDescriptors:function(t){for(var n=Zse(t),r=Yse.f,s=qse(n),a={},i=0,l,c;s.length>i;)c=r(n,l=s[i++]),c!==void 0&&Kse(a,l,c);return a}});var Qse=Ht,Xse=Qse.Object.getOwnPropertyDescriptors,Jse=Xse,eae=Jse,tae=eae;const PTe=ue(tae);var Rw={exports:{}},nae=Ge,rae=Sn,C7=S1.f;nae({target:"Object",stat:!0,forced:Object.defineProperties!==C7,sham:!rae},{defineProperties:C7});var sae=Ht,Lw=sae.Object,aae=Rw.exports=function(t,n){return Lw.defineProperties(t,n)};Lw.defineProperties.sham&&(aae.sham=!0);var oae=Rw.exports,iae=oae,lae=iae,cae=lae;const NTe=ue(cae);var uae=Ub;const jTe=ue(uae);function dae(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function fae(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var mae=function(){function e(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fae(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=dae(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Wt="-ms-",Xu="-moz-",Ae="-webkit-",Ow="comm",Mh="rule",_h="decl",pae="@import",Dw="@keyframes",gae="@layer",hae=Math.abs,B1=String.fromCharCode,vae=Object.assign;function xae(e,t){return $t(e,0)^45?(((t<<2^$t(e,0))<<2^$t(e,1))<<2^$t(e,2))<<2^$t(e,3):0}function Fw(e){return e.trim()}function Cae(e,t){return(e=t.exec(e))?e[0]:e}function Pe(e,t,n){return e.replace(t,n)}function um(e,t){return e.indexOf(t)}function $t(e,t){return e.charCodeAt(t)|0}function nl(e,t,n){return e.slice(t,n)}function lr(e){return e.length}function Eh(e){return e.length}function Rc(e,t){return t.push(e),e}function yae(e,t){return e.map(t).join("")}var U1=1,ho=1,$w=0,dn=0,bt=0,zo="";function H1(e,t,n,r,s,a,i){return{value:e,root:t,parent:n,type:r,props:s,children:a,line:U1,column:ho,length:i,return:""}}function ui(e,t){return vae(H1("",null,null,"",null,null,0),e,{length:-e.length},t)}function bae(){return bt}function wae(){return bt=dn>0?$t(zo,--dn):0,ho--,bt===10&&(ho=1,U1--),bt}function hn(){return bt=dn<$w?$t(zo,dn++):0,ho++,bt===10&&(ho=1,U1++),bt}function fr(){return $t(zo,dn)}function hu(){return dn}function Yl(e,t){return nl(zo,e,t)}function rl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bw(e){return U1=ho=1,$w=lr(zo=e),dn=0,[]}function Uw(e){return zo="",e}function vu(e){return Fw(Yl(dn-1,dm(e===91?e+2:e===40?e+1:e)))}function Sae(e){for(;(bt=fr())&&bt<33;)hn();return rl(e)>2||rl(bt)>3?"":" "}function Mae(e,t){for(;--t&&hn()&&!(bt<48||bt>102||bt>57&&bt<65||bt>70&&bt<97););return Yl(e,hu()+(t<6&&fr()==32&&hn()==32))}function dm(e){for(;hn();)switch(bt){case e:return dn;case 34:case 39:e!==34&&e!==39&&dm(bt);break;case 40:e===41&&dm(e);break;case 92:hn();break}return dn}function _ae(e,t){for(;hn()&&e+bt!==57;)if(e+bt===84&&fr()===47)break;return"/*"+Yl(t,dn-1)+"*"+B1(e===47?e:hn())}function Eae(e){for(;!rl(fr());)hn();return Yl(e,dn)}function kae(e){return Uw(xu("",null,null,null,[""],e=Bw(e),0,[0],e))}function xu(e,t,n,r,s,a,i,l,c){for(var d=0,f=0,m=i,p=0,g=0,v=0,h=1,x=1,y=1,b=0,S="",T=s,k=a,A=r,M=S;x;)switch(v=b,b=hn()){case 40:if(v!=108&&$t(M,m-1)==58){um(M+=Pe(vu(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:M+=vu(b);break;case 9:case 10:case 13:case 32:M+=Sae(v);break;case 92:M+=Mae(hu()-1,7);continue;case 47:switch(fr()){case 42:case 47:Rc(Tae(_ae(hn(),hu()),t,n),c);break;default:M+="/"}break;case 123*h:l[d++]=lr(M)*y;case 125*h:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+f:y==-1&&(M=Pe(M,/\f/g,"")),g>0&&lr(M)-m&&Rc(g>32?b7(M+";",r,n,m-1):b7(Pe(M," ","")+";",r,n,m-2),c);break;case 59:M+=";";default:if(Rc(A=y7(M,t,n,d,f,s,l,S,T=[],k=[],m),a),b===123)if(f===0)xu(M,t,A,A,T,a,m,l,k);else switch(p===99&&$t(M,3)===110?100:p){case 100:case 108:case 109:case 115:xu(e,A,A,r&&Rc(y7(e,A,A,0,0,s,l,S,s,T=[],m),k),s,k,m,l,r?T:k);break;default:xu(M,A,A,A,[""],k,0,l,k)}}d=f=g=0,h=y=1,S=M="",m=i;break;case 58:m=1+lr(M),g=v;default:if(h<1){if(b==123)--h;else if(b==125&&h++==0&&wae()==125)continue}switch(M+=B1(b),b*h){case 38:y=f>0?1:(M+="\f",-1);break;case 44:l[d++]=(lr(M)-1)*y,y=1;break;case 64:fr()===45&&(M+=vu(hn())),p=fr(),f=m=lr(S=M+=Eae(hu())),b++;break;case 45:v===45&&lr(M)==2&&(h=0)}}return a}function y7(e,t,n,r,s,a,i,l,c,d,f){for(var m=s-1,p=s===0?a:[""],g=Eh(p),v=0,h=0,x=0;v<r;++v)for(var y=0,b=nl(e,m+1,m=hae(h=i[v])),S=e;y<g;++y)(S=Fw(h>0?p[y]+" "+b:Pe(b,/&\f/g,p[y])))&&(c[x++]=S);return H1(e,t,n,s===0?Mh:l,c,d,f)}function Tae(e,t,n){return H1(e,t,n,Ow,B1(bae()),nl(e,2,-2),0)}function b7(e,t,n,r){return H1(e,t,n,_h,nl(e,0,r),nl(e,r+1,-1),r)}function Ka(e,t){for(var n="",r=Eh(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function Aae(e,t,n,r){switch(e.type){case gae:if(e.children.length)break;case pae:case _h:return e.return=e.return||e.value;case Ow:return"";case Dw:return e.return=e.value+"{"+Ka(e.children,r)+"}";case Mh:e.value=e.props.join(",")}return lr(n=Ka(e.children,r))?e.return=e.value+"{"+n+"}":""}function Pae(e){var t=Eh(e);return function(n,r,s,a){for(var i="",l=0;l<t;l++)i+=e[l](n,r,s,a)||"";return i}}function Nae(e){return function(t){t.root||(t=t.return)&&e(t)}}function jae(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Iae=function(t,n,r){for(var s=0,a=0;s=a,a=fr(),s===38&&a===12&&(n[r]=1),!rl(a);)hn();return Yl(t,dn)},Rae=function(t,n){var r=-1,s=44;do switch(rl(s)){case 0:s===38&&fr()===12&&(n[r]=1),t[r]+=Iae(dn-1,n,r);break;case 2:t[r]+=vu(s);break;case 4:if(s===44){t[++r]=fr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=B1(s)}while(s=hn());return t},Lae=function(t,n){return Uw(Rae(Bw(t),n))},w7=new WeakMap,Oae=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!w7.get(r))&&!s){w7.set(t,!0);for(var a=[],i=Lae(n,a),l=r.props,c=0,d=0;c<i.length;c++)for(var f=0;f<l.length;f++,d++)t.props[d]=a[c]?i[c].replace(/&\f/g,l[f]):l[f]+" "+i[c]}}},Dae=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Hw(e,t){switch(xae(e,t)){case 5103:return Ae+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ae+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ae+e+Xu+e+Wt+e+e;case 6828:case 4268:return Ae+e+Wt+e+e;case 6165:return Ae+e+Wt+"flex-"+e+e;case 5187:return Ae+e+Pe(e,/(\w+).+(:[^]+)/,Ae+"box-$1$2"+Wt+"flex-$1$2")+e;case 5443:return Ae+e+Wt+"flex-item-"+Pe(e,/flex-|-self/,"")+e;case 4675:return Ae+e+Wt+"flex-line-pack"+Pe(e,/align-content|flex-|-self/,"")+e;case 5548:return Ae+e+Wt+Pe(e,"shrink","negative")+e;case 5292:return Ae+e+Wt+Pe(e,"basis","preferred-size")+e;case 6060:return Ae+"box-"+Pe(e,"-grow","")+Ae+e+Wt+Pe(e,"grow","positive")+e;case 4554:return Ae+Pe(e,/([^-])(transform)/g,"$1"+Ae+"$2")+e;case 6187:return Pe(Pe(Pe(e,/(zoom-|grab)/,Ae+"$1"),/(image-set)/,Ae+"$1"),e,"")+e;case 5495:case 3959:return Pe(e,/(image-set\([^]*)/,Ae+"$1$`$1");case 4968:return Pe(Pe(e,/(.+:)(flex-)?(.*)/,Ae+"box-pack:$3"+Wt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ae+e+e;case 4095:case 3583:case 4068:case 2532:return Pe(e,/(.+)-inline(.+)/,Ae+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lr(e)-1-t>6)switch($t(e,t+1)){case 109:if($t(e,t+4)!==45)break;case 102:return Pe(e,/(.+:)(.+)-([^]+)/,"$1"+Ae+"$2-$3$1"+Xu+($t(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~um(e,"stretch")?Hw(Pe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if($t(e,t+1)!==115)break;case 6444:switch($t(e,lr(e)-3-(~um(e,"!important")&&10))){case 107:return Pe(e,":",":"+Ae)+e;case 101:return Pe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ae+($t(e,14)===45?"inline-":"")+"box$3$1"+Ae+"$2$3$1"+Wt+"$2box$3")+e}break;case 5936:switch($t(e,t+11)){case 114:return Ae+e+Wt+Pe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ae+e+Wt+Pe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ae+e+Wt+Pe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ae+e+Wt+e+e}return e}var Fae=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case _h:t.return=Hw(t.value,t.length);break;case Dw:return Ka([ui(t,{value:Pe(t.value,"@","@"+Ae)})],s);case Mh:if(t.length)return yae(t.props,function(a){switch(Cae(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ka([ui(t,{props:[Pe(a,/:(read-\w+)/,":"+Xu+"$1")]})],s);case"::placeholder":return Ka([ui(t,{props:[Pe(a,/:(plac\w+)/,":"+Ae+"input-$1")]}),ui(t,{props:[Pe(a,/:(plac\w+)/,":"+Xu+"$1")]}),ui(t,{props:[Pe(a,/:(plac\w+)/,Wt+"input-$1")]})],s)}return""})}},$ae=[Fae],Bae=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(h){var x=h.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var s=t.stylisPlugins||$ae,a={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(h){for(var x=h.getAttribute("data-emotion").split(" "),y=1;y<x.length;y++)a[x[y]]=!0;l.push(h)});var c,d=[Oae,Dae];{var f,m=[Aae,Nae(function(h){f.insert(h)})],p=Pae(d.concat(s,m)),g=function(x){return Ka(kae(x),p)};c=function(x,y,b,S){f=b,g(x?x+"{"+y.styles+"}":y.styles),S&&(v.inserted[y.name]=!0)}}var v={key:n,sheet:new mae({key:n,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:c};return v.sheet.hydrate(l),v};function Uae(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Hae={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vae=/[A-Z]|^ms/g,Gae=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Vw=function(t){return t.charCodeAt(1)===45},S7=function(t){return t!=null&&typeof t!="boolean"},I0=jae(function(e){return Vw(e)?e:e.replace(Vae,"-$&").toLowerCase()}),M7=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Gae,function(r,s,a){return cr={name:s,styles:a,next:cr},s})}return Hae[t]!==1&&!Vw(t)&&typeof n=="number"&&n!==0?n+"px":n};function sl(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return cr={name:n.name,styles:n.styles,next:cr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)cr={name:r.name,styles:r.styles,next:cr},r=r.next;var s=n.styles+";";return s}return Wae(e,t,n)}case"function":{if(e!==void 0){var a=cr,i=n(e);return cr=a,sl(e,t,i)}break}}if(t==null)return n;var l=t[n];return l!==void 0?l:n}function Wae(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=sl(e,t,n[s])+";";else for(var a in n){var i=n[a];if(typeof i!="object")t!=null&&t[i]!==void 0?r+=a+"{"+t[i]+"}":S7(i)&&(r+=I0(a)+":"+M7(a,i)+";");else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var l=0;l<i.length;l++)S7(i[l])&&(r+=I0(a)+":"+M7(a,i[l])+";");else{var c=sl(e,t,i);switch(a){case"animation":case"animationName":{r+=I0(a)+":"+c+";";break}default:r+=a+"{"+c+"}"}}}return r}var _7=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cr,R0=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,a="";cr=void 0;var i=t[0];i==null||i.raw===void 0?(s=!1,a+=sl(r,n,i)):a+=i[0];for(var l=1;l<t.length;l++)a+=sl(r,n,t[l]),s&&(a+=i[l]);_7.lastIndex=0;for(var c="",d;(d=_7.exec(a))!==null;)c+="-"+d[1];var f=Uae(a)+c;return{name:f,styles:a,next:cr}},zae=!0;function Gw(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):r+=s+" "}),r}var qae=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||zae===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},Zae=function(t,n,r){qae(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+s:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function E7(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function k7(e,t,n){var r=[],s=Gw(e,r,n);return r.length<2?n:s+t(r)}var ITe=function(t){var n=Bae(t);n.sheet.speedy=function(l){this.isSpeedy=l},n.compat=!0;var r=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=R0(d,n.registered,void 0);return Zae(n,m,!1),n.key+"-"+m.name},s=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=R0(d,n.registered),p="animation-"+m.name;return E7(n,{name:m.name,styles:"@keyframes "+p+"{"+m.styles+"}"}),p},a=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=R0(d,n.registered);E7(n,m)},i=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return k7(n.registered,r,Yae(d))};return{css:r,cx:i,injectGlobal:a,keyframes:s,hydrate:function(c){c.forEach(function(d){n.inserted[d]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:Gw.bind(null,n.registered),merge:k7.bind(null,n.registered,r)}},Yae=function e(t){for(var n="",r=0;r<t.length;r++){var s=t[r];if(s!=null){var a=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))a=e(s);else{a="";for(var i in s)s[i]&&i&&(a&&(a+=" "),a+=i)}break}default:a=s}a&&(n&&(n+=" "),n+=a)}}return n},Kae=ql,kh=Date.prototype,T7="Invalid Date",Ww="toString",Qae=kh[Ww],Xae=kh.getTime;String(new Date(NaN))!=T7&&Kae(kh,Ww,function(){var t=Xae.call(this);return t===t?Qae.call(this):T7});var Jae=bh,eoe=pw,toe=Jae?{}.toString:function(){return"[object "+eoe(this)+"]"},noe=bh,roe=ql,soe=toe;noe||roe(Object.prototype,"toString",soe,{unsafe:!0});var aoe=Ch.PROPER,ooe=ql,ioe=Ss,A7=$1,loe=Xn,coe=gw,Th="toString",zw=RegExp.prototype,qw=zw[Th],uoe=loe(function(){return qw.call({source:"a",flags:"b"})!="/a/b"}),doe=aoe&&qw.name!=Th;(uoe||doe)&&ooe(RegExp.prototype,Th,function(){var t=ioe(this),n=A7(t.source),r=t.flags,s=A7(r===void 0&&t instanceof RegExp&&!("flags"in zw)?coe.call(t):r);return"/"+n+"/"+s},{unsafe:!0});var P7=typeof window<"u"?window:self,foe=P7.crypto||P7.msCrypto,moe=function(e){if(!e)return Math.random;var t=Math.pow(2,32),n=new Uint32Array(1);return function(){return e.getRandomValues(n)[0]/t}}(foe);const poe=ue(moe);function RTe(){return poe().toString(26).substr(2,5).replace(/[0-9]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+65)})}var goe=Cy;const fm=ue(goe);function hoe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"white",n="background-color: ".concat(e,"; border-radius: 4px; padding: 2px 4px;");return t&&(n+=" color: ".concat(t,";")),[n,""]}function N7(e,t){for(var n,r,s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i];return el(n=[el(r="%c".concat(e,"%c ")).call(r,t)]).call(n,Ds(hoe("green","white")),a)}function LTe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.force,r=n===void 0?!1:n;return r?function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];if(a.length){var l=a,c=lh(l,1),d=c[0];typeof d=="function"&&(a=d());var f=fm(a[0])?a:[a],m=f.length===1;tse(f).call(f,function(p,g){if(m){var v,h;(v=console).log.apply(v,Ds(N7.apply(void 0,el(h=[e]).call(h,Ds(p)))))}else if(g){var x;(x=console).log.apply(x,Ds(fm(p)?p:[p]))}else{var y,b;(y=console).groupCollapsed.apply(y,Ds(N7.apply(void 0,el(b=[e]).call(b,Ds(p)))))}}),m||console.groupEnd()}}:function(){return 0}}var voe=ma,xoe=Ch.EXISTS,Coe=zl.f,Zw=Function.prototype,yoe=Zw.toString,boe=/^\s*function ([^ (]*)/,woe="name";voe&&!xoe&&Coe(Zw,woe,{configurable:!0,get:function(){try{return yoe.call(this).match(boe)[1]}catch{return""}}});var Soe=Ht,Moe=Soe.setTimeout,_oe=Moe;const Eoe=ue(_oe);function koe(e,t){if(!t)return e;var n=0,r=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var l=tl();l-n>t?(e.apply(void 0,a),n=l):(clearTimeout(r),r=Eoe(function(){e.apply(void 0,a),n=tl()},Math.max(0,t-l+n)))}}var Toe=function(t){var n=t.debounce,r=t.name,s=t.onEvent,a=t.target,i=u.useRef();i.current=s;var l=u.useMemo(function(){return koe(function(d){var f=i.current;f&&f(d)},n)},[n,i]),c=u.useCallback(function(d){d.timeStampLow=tl(),l(d)},[l]);return u.useLayoutEffect(function(){return a.addEventListener(r,c,{passive:!0}),c({target:a,type:r}),function(){return a.removeEventListener(r,c)}},[r,c,a]),!1};Toe.defaultProps={debounce:200};var Aoe=Math.sign||function(t){var n=+t;return n===0||n!==n?n:n<0?-1:1},Poe=Ge,Noe=Aoe;Poe({target:"Math",stat:!0},{sign:Noe});var joe=Ht,Ioe=joe.Math.sign,Roe=Ioe,Loe=Roe,Ooe=Loe;const Doe=ue(Ooe);function Foe(e,t){var n=Doe(t-e),r=Math.sqrt(Math.abs(t-e)),s=e+r*n;return n>0?Math.min(t,s):Math.max(t,s)}function $oe(e,t,n,r){for(var s=e,a=0;a<r;a++)s=n(s,t);return s}var Boe=function(t){var n=t.name,r=t.onEnd,s=t.target,a=t.value,i=u.useRef(),l=u.useCallback(function(d,f,m,p){var g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:tl();(m==="100%"||typeof m=="number")&&(cancelAnimationFrame(i.current),i.current=requestAnimationFrame(function(){if(s){var v=m==="100%"?s.scrollHeight-s.offsetHeight:m,h=$oe(f,v,Foe,(tl()-g)/5);Math.abs(v-h)<1.5&&(h=v),s[d]=h,v===h?r&&r(!0):l(d,f,m,p+1,g)}}))},[i,r,s]),c=u.useCallback(function(){cancelAnimationFrame(i.current),r&&r(!1)},[r]);return u.useLayoutEffect(function(){return l(n,s[n],a,1),s?(s.addEventListener("pointerdown",c,{passive:!0}),s.addEventListener("wheel",c,{passive:!0}),function(){s.removeEventListener("pointerdown",c),s.removeEventListener("wheel",c),cancelAnimationFrame(i.current)}):function(){return cancelAnimationFrame(i.current)}},[l,i,c,n,s,a]),!1};Boe.propTypes={name:ir.string.isRequired,onEnd:ir.func,target:ir.any.isRequired,value:ir.oneOfType([ir.number,ir.oneOf(["100%"])]).isRequired};function OTe(e){var t=u.useState(e),n=lh(t,2),r=n[0],s=n[1],a=u.useRef(),i=u.useCallback(function(l){typeof l=="function"?i(function(c){return l=l(c),a.current=l,l}):(a.current=l,i(l))},[a]);return a.current=r,[r,s,a]}var Uoe={height:"100%",overflowY:"auto",width:"100%"},Yw=function(t){var n=t.children,r=t.className,s=u.useContext(uh),a=s.setTarget,i=Db()(Uoe);return ye.createElement("div",{className:kb(i,(r||"")+""),ref:a},n)};Yw.defaultProps={children:void 0,className:void 0};Yw.propTypes={children:ir.any,className:ir.string};function DTe(){var e=Lb(1),t=e.atTop;return[t]}function FTe(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];e&&typeof e!="function"?console.error('react-scroll-to-bottom: First argument passed to "useObserveScrollPosition" must be a function.'):fm(n)||console.error('react-scroll-to-bottom: Second argument passed to "useObserveScrollPosition" must be an array if specified.');var r=Ob(),s=r.observeScrollPosition;u.useEffect(function(){return e&&s(e)},el(t=[]).call(t,Ds(n),[!e,s]))}function $Te(){var e=ch(),t=e.scrollToBottom;return t}function BTe(){var e=ch(),t=e.scrollToTop;return t}var ea={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ju={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Hoe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Voe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ut=0;Ut<10;Ut++)ea[48+Ut]=ea[96+Ut]=String(Ut);for(var Ut=1;Ut<=24;Ut++)ea[Ut+111]="F"+Ut;for(var Ut=65;Ut<=90;Ut++)ea[Ut]=String.fromCharCode(Ut+32),Ju[Ut]=String.fromCharCode(Ut);for(var L0 in ea)Ju.hasOwnProperty(L0)||(Ju[L0]=ea[L0]);function UTe(e){var t=Hoe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Voe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Ju:ea)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Goe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7C2 5.34315 3.34315 4 5 4H6C6.55228 4 7 4.44772 7 5C7 5.55228 6.55228 6 6 6H5C4.44772 6 4 6.44772 4 7V17C4 17.5523 4.44772 18 5 18H6C6.55228 18 7 18.4477 7 19C7 19.5523 6.55228 20 6 20H5C3.34315 20 2 18.6569 2 17V7ZM17 5C17 4.44772 17.4477 4 18 4H19C20.6569 4 22 5.34315 22 7V17C22 18.6569 20.6569 20 19 20H18C17.4477 20 17 19.5523 17 19C17 18.4477 17.4477 18 18 18H19C19.5523 18 20 17.5523 20 17V7C20 6.44772 19.5523 6 19 6H18C17.4477 6 17 5.55228 17 5ZM7.79289 9.04289C8.18342 8.65237 8.81658 8.65237 9.20711 9.04289L11.4571 11.2929C11.8476 11.6834 11.8476 12.3166 11.4571 12.7071L9.20711 14.9571C8.81658 15.3476 8.18342 15.3476 7.79289 14.9571C7.40237 14.5666 7.40237 13.9334 7.79289 13.5429L9.33579 12L7.79289 10.4571C7.40237 10.0666 7.40237 9.43342 7.79289 9.04289ZM12.25 14.25C12.25 13.6977 12.6977 13.25 13.25 13.25H15.5C16.0523 13.25 16.5 13.6977 16.5 14.25C16.5 14.8023 16.0523 15.25 15.5 15.25H13.25C12.6977 15.25 12.25 14.8023 12.25 14.25Z",fill:"currentColor"}));function HTe(e,t){const n=u.useRef(e);u.useEffect(()=>{n.current=e},[e]),u.useEffect(()=>{function r(){n.current()}if(t!=null){const s=window.setInterval(r,t);return()=>clearInterval(s)}},[t])}const VTe=()=>{const{value:e}=st("3700195277");return e||!1},GTe=()=>!!Dn()?.includes(hs.CanvasCodeExecution)||void 0,WTe=()=>!!Dn()?.includes(hs.CanvasCodeNetworkAccess)||void 0,zTe=()=>{const{value:e}=st("2311599525");return e},qTe=()=>{const{value:e}=st("3468624635");return e||!1},ZTe=()=>{const{value:e}=st("3286474446"),t=Kn();return e&&!t},YTe=(e,t)=>{const{value:n}=st("3822950319"),r=aC(e),s=I2(r,S2.Canvas),a=Kn(),i=u.useContext($r).isElectron,l=t?.metadata?.b1de6e2_s;return n&&(!a||i)&&s&&!l},KTe=()=>{const{isLoading:e,value:t}=st("3802510433");return Q.count(K.DEFAULT,"chatgpt_canvas_sharing_check"),t||Q.count(K.DEFAULT,e?"chatgpt_canvas_sharing_loading":"chatgpt_canvas_sharing_disabled"),t||!1},Ah=e=>u.createElement("svg",{width:29,height:28,viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.30286 6.80256C7.89516 6.21026 8.85546 6.21026 9.44775 6.80256L14.5003 11.8551L19.5529 6.80256C20.1452 6.21026 21.1055 6.21026 21.6978 6.80256C22.2901 7.39485 22.2901 8.35515 21.6978 8.94745L16.6452 14L21.6978 19.0526C22.2901 19.6449 22.2901 20.6052 21.6978 21.1974C21.1055 21.7897 20.1452 21.7897 19.5529 21.1974L14.5003 16.1449L9.44775 21.1974C8.85546 21.7897 7.89516 21.7897 7.30286 21.1974C6.71057 20.6052 6.71057 19.6449 7.30286 19.0526L12.3554 14L7.30286 8.94745C6.71057 8.35515 6.71057 7.39485 7.30286 6.80256Z",fill:"currentColor"})),Ph=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C10.3431 4 9 5.34315 9 7C9 8.65685 10.3431 10 12 10C13.6569 10 15 8.65685 15 7C15 5.34315 13.6569 4 12 4ZM7 7C7 4.23858 9.23858 2 12 2C14.7614 2 17 4.23858 17 7C17 9.76142 14.7614 12 12 12C9.23858 12 7 9.76142 7 7ZM12.0001 15C8.3441 15 5.5 17.7501 5.5 20.9999C5.5 21.5522 5.05228 21.9999 4.5 21.9999C3.94772 21.9999 3.5 21.5522 3.5 20.9999C3.5 16.5178 7.37176 13 12.0001 13C16.6283 13 20.5 16.5179 20.5 20.9999C20.5 21.5522 20.0523 21.9999 19.5 21.9999C18.9477 21.9999 18.5 21.5522 18.5 20.9999C18.5 17.7502 15.656 15 12.0001 15Z",fill:"currentColor"})),Woe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.33 5C10.7777 5 10.33 5.44772 10.33 6V19H13.66V6C13.66 5.44771 13.2123 5 12.66 5H11.33ZM15.66 19H18C18.5523 19 19 18.5523 19 18V10C19 9.44772 18.5523 9 18 9H15.66V19ZM15.66 7V6C15.66 4.34315 14.3169 3 12.66 3H11.33C9.67315 3 8.33 4.34315 8.33 6V11H6C4.34314 11 3 12.3431 3 14V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V10C21 8.34315 19.6569 7 18 7H15.66ZM8.33 13H6C5.44771 13 5 13.4477 5 14V18C5 18.5523 5.44772 19 6 19H8.33V13Z",fill:"currentColor"})),zoe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.75 5.07897C20.6366 5.63034 22 7.39398 22 9.46319C22 10.4036 21.7186 11.28 21.2355 12.0079C21.7186 12.7358 22 13.6121 22 14.5526C22 16.278 21.0538 17.7867 19.649 18.5621C19.0113 20.3388 17.7022 21.4999 16.1402 21.8724C14.7453 22.2051 13.2493 21.8842 12 20.963C10.7507 21.8842 9.25471 22.205 7.85978 21.8724C6.29776 21.4999 4.98868 20.3388 4.35105 18.5621C2.94619 17.7867 2 16.278 2 14.5526C2 13.6121 2.28145 12.7357 2.76449 12.0079C2.28144 11.28 2 10.4036 2 9.46319C2 7.39398 3.36342 5.63033 5.25003 5.07897C5.42224 4.34641 5.72987 3.72152 6.1653 3.22343C6.74387 2.56163 7.49542 2.18492 8.28981 2.05385C9.55281 1.84546 10.9041 2.25095 12 3.05537C13.0959 2.25095 14.4472 1.84541 15.7102 2.05378C16.5046 2.18483 17.2561 2.56154 17.8347 3.22336C18.2701 3.72147 18.5778 4.34638 18.75 5.07897ZM11 4.81039C10.231 4.16937 9.3164 3.91151 8.6154 4.02717C8.2374 4.08954 7.91786 4.25744 7.67104 4.53978C7.42068 4.82616 7.19313 5.29094 7.1153 6.02652C7.06582 6.49412 6.69725 6.86408 6.22984 6.91533C4.99072 7.05119 4 8.12757 4 9.46319C4 10.1863 4.29073 10.8351 4.75671 11.2999C4.9448 11.4875 5.05051 11.7422 5.05051 12.0079C5.05051 12.2735 4.9448 12.5283 4.75671 12.7159C4.29073 13.1807 4 13.8295 4 14.5526C4 15.6327 4.65014 16.5483 5.5581 16.9273C5.84021 17.045 6.05296 17.2854 6.13564 17.5797C6.5278 18.9756 7.40852 19.7087 8.3237 19.927C9.15941 20.1262 10.1439 19.9252 11 19.2065V4.81039ZM13 19.2065C13.8561 19.9252 14.8406 20.1262 15.6763 19.927C16.5915 19.7087 17.4722 18.9756 17.8644 17.5797C17.947 17.2854 18.1598 17.045 18.4419 16.9273C19.3499 16.5483 20 15.6327 20 14.5526C20 13.8295 19.7093 13.1807 19.2433 12.7159C19.0552 12.5283 18.9495 12.2735 18.9495 12.0079C18.9495 11.7422 19.0552 11.4875 19.2433 11.2999C19.7093 10.8351 20 10.1863 20 9.46319C20 8.12756 19.0093 7.05119 17.7702 6.91533C17.3027 6.86408 16.9342 6.49412 16.8847 6.02651C16.8069 5.29089 16.5793 4.82608 16.329 4.53969C16.0821 4.25736 15.7626 4.08946 15.3846 4.0271C14.6836 3.91145 13.7691 4.16935 13 4.81039V19.2065Z",fill:"currentColor"})),Ir=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5C4 3.34315 5.34315 2 7 2H14.1716C14.9672 2 15.7303 2.31607 16.2929 2.87868L19.1213 5.70711C19.6839 6.26972 20 7.03278 20 7.82843V19C20 20.6569 18.6569 22 17 22H7C5.34315 22 4 20.6569 4 19V5ZM7 4C6.44772 4 6 4.44772 6 5V19C6 19.5523 6.44772 20 7 20H17C17.5523 20 18 19.5523 18 19V7.82843C18 7.56321 17.8946 7.30886 17.7071 7.12132L14.8787 4.29289C14.6911 4.10536 14.4368 4 14.1716 4H7ZM8 10C8 9.44772 8.44772 9 9 9H15C15.5523 9 16 9.44772 16 10C16 10.5523 15.5523 11 15 11H9C8.44772 11 8 10.5523 8 10ZM8 14C8 13.4477 8.44772 13 9 13H13C13.5523 13 14 13.4477 14 14C14 14.5523 13.5523 15 13 15H9C8.44772 15 8 14.5523 8 14Z",fill:"currentColor"})),j7=e=>u.createElement("svg",{width:26,height:24,viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4544 4.10451C13.1689 3.95886 12.8309 3.95886 12.5455 4.10451L2.98609 8.98175L2.07715 7.20022L11.6365 2.32298C12.493 1.88603 13.5069 1.88603 14.3634 2.32298L23.9227 7.20022C24.7332 7.61373 25.091 8.44008 24.9999 9.2194V15C24.9999 15.5523 24.5522 16 23.9999 16C23.4477 16 22.9999 15.5523 22.9999 15V11.2156L20.9666 12.2115V16.3052C20.9666 17.409 20.3605 18.4237 19.3885 18.9468L14.4219 21.6203C13.5341 22.0981 12.4657 22.0981 11.578 21.6203L6.61135 18.9468C5.63941 18.4237 5.03328 17.409 5.03328 16.3052V12.2115L2.10635 10.7779C0.626202 10.0529 0.609039 7.94926 2.07715 7.20022L2.98608 8.98175L12.5601 13.671C12.8376 13.807 13.1623 13.807 13.4398 13.671L23 8.9885C23.0001 8.98394 23.0001 8.97938 23.0003 8.97483L13.4544 4.10451ZM7.03328 13.1911V16.3052C7.03328 16.6732 7.23532 17.0114 7.5593 17.1858L12.526 19.8592C12.8219 20.0185 13.178 20.0185 13.4739 19.8592L18.4406 17.1858C18.7646 17.0114 18.9666 16.6732 18.9666 16.3052V13.1911L14.3195 15.4672C13.4871 15.8749 12.5128 15.8749 11.6803 15.4672L7.03328 13.1911Z",fill:"currentColor"})),I7=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C8.41496 3 5.5 5.92254 5.5 9.53846C5.5 11.8211 6.662 13.8298 8.42476 15H15.5752C17.338 13.8298 18.5 11.8211 18.5 9.53846C18.5 5.92254 15.585 3 12 3ZM14.8653 17H9.13473V18H14.8653V17ZM13.7324 20H10.2676C10.6134 20.5978 11.2597 21 12 21C12.7403 21 13.3866 20.5978 13.7324 20ZM8.12601 20C8.57004 21.7252 10.1361 23 12 23C13.8639 23 15.43 21.7252 15.874 20C16.4223 19.9953 16.8653 19.5494 16.8653 19V16.5407C19.0622 14.9976 20.5 12.4362 20.5 9.53846C20.5 4.82763 16.6992 1 12 1C7.30076 1 3.5 4.82763 3.5 9.53846C3.5 12.4362 4.93784 14.9976 7.13473 16.5407V19C7.13473 19.5494 7.57774 19.9953 8.12601 20Z",fill:"currentColor"})),qoe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9.25C10.8954 9.25 10 10.1454 10 11.25C10 12.3546 10.8954 13.25 12 13.25C13.1046 13.25 14 12.3546 14 11.25C14 10.1454 13.1046 9.25 12 9.25ZM8 11.25C8 9.04086 9.79086 7.25 12 7.25C14.2091 7.25 16 9.04086 16 11.25C16 13.4591 14.2091 15.25 12 15.25C9.79086 15.25 8 13.4591 8 11.25Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4258 22.6548C12.1561 22.7817 11.8432 22.7814 11.5736 22.6545C11.5355 22.6366 11.4978 22.618 11.4601 22.5993C11.3914 22.5652 11.2932 22.5156 11.1698 22.4508C10.9231 22.3212 10.5748 22.1306 10.1586 21.8817C9.32846 21.3852 8.21721 20.6503 7.10105 19.6983C4.9064 17.8264 2.5 14.9472 2.5 11.25C2.5 6.00329 6.75329 1.75 12 1.75C17.2467 1.75 21.5 6.00329 21.5 11.25C21.5 14.9472 19.0936 17.8264 16.8989 19.6983C15.7828 20.6503 14.6715 21.3852 13.8414 21.8817C13.4252 22.1306 13.0769 22.3212 12.8302 22.4508C12.6965 22.521 12.5623 22.5903 12.4258 22.6548ZM4.5 11.25C4.5 7.10786 7.85786 3.75 12 3.75C16.1421 3.75 19.5 7.10786 19.5 11.25C19.5 14.0528 17.6564 16.4236 15.6011 18.1767C14.5922 19.0372 13.5785 19.7085 12.8149 20.1652C12.4887 20.3602 12.2103 20.5149 12 20.6273C11.7897 20.5149 11.5113 20.3602 11.1851 20.1652C10.4215 19.7085 9.40779 19.0372 8.39895 18.1767C6.3436 16.4236 4.5 14.0528 4.5 11.25Z",fill:"currentColor"})),mm=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.75 4.25C7.16015 4.25 4.25 7.16015 4.25 10.75C4.25 14.3399 7.16015 17.25 10.75 17.25C14.3399 17.25 17.25 14.3399 17.25 10.75C17.25 7.16015 14.3399 4.25 10.75 4.25ZM2.25 10.75C2.25 6.05558 6.05558 2.25 10.75 2.25C15.4444 2.25 19.25 6.05558 19.25 10.75C19.25 12.7369 18.5683 14.5645 17.426 16.0118L21.4571 20.0429C21.8476 20.4334 21.8476 21.0666 21.4571 21.4571C21.0666 21.8476 20.4334 21.8476 20.0429 21.4571L16.0118 17.426C14.5645 18.5683 12.7369 19.25 10.75 19.25C6.05558 19.25 2.25 15.4444 2.25 10.75Z",fill:"currentColor"})),R7=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.8221 2.07736C10.7784 0.380749 13.2216 0.380748 14.1779 2.07736L16.2635 5.77772C16.3349 5.90431 16.4578 5.9936 16.6002 6.02234L20.764 6.86246C22.6731 7.24766 23.4281 9.57127 22.11 11.005L19.2352 14.1321C19.1369 14.2391 19.09 14.3835 19.1066 14.5279L19.5943 18.7475C19.8179 20.6822 17.8413 22.1182 16.0704 21.3077L12.2081 19.54C12.0759 19.4795 11.924 19.4795 11.7919 19.54L7.92953 21.3077C6.15864 22.1182 4.18206 20.6822 4.40565 18.7475L4.89332 14.5279C4.91 14.3835 4.86306 14.2391 4.76472 14.1321L1.88997 11.005C0.571908 9.57127 1.32689 7.24766 3.23598 6.86246L7.39974 6.02234C7.54218 5.9936 7.66507 5.90431 7.73642 5.77772L9.8221 2.07736ZM12.4356 3.05939C12.2443 2.72007 11.7557 2.72007 11.5644 3.05939L9.47872 6.75976C9.12197 7.3927 8.50751 7.83913 7.79531 7.98283L3.63154 8.82295C3.24973 8.89999 3.09873 9.36471 3.36234 9.65147L6.23709 12.7785C6.72881 13.3134 6.96351 14.0358 6.8801 14.7575L6.39243 18.9771C6.34771 19.364 6.74302 19.6513 7.0972 19.4892L10.9596 17.7214C11.6202 17.4191 12.3797 17.4191 13.0404 17.7214L16.9028 19.4892C17.2569 19.6513 17.6523 19.364 17.6075 18.9771L17.1199 14.7575C17.0365 14.0358 17.2712 13.3134 17.7629 12.7785L20.6376 9.65147C20.9012 9.36472 20.7502 8.89999 20.3684 8.82295L16.2046 7.98283C15.4924 7.83913 14.878 7.3927 14.5212 6.75976L12.4356 3.05939Z",fill:"currentColor"})),Zoe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M9.64978 13.0257L6.36281 14.2164C5.32547 14.5922 4.17846 14.0599 3.8009 13.0274L3.45909 12.0927L4.0564 10.8177L1.75 7.41901L4.09784 6.56847L6.66195 8.05349C7.17468 8.35044 7.79343 8.40537 8.35086 8.20343L16.8625 5.11998C17.1541 5.01435 17.4664 4.97773 17.7746 5.01305L20.6083 5.33764C21.3056 5.41751 21.8977 5.88262 22.1377 6.53907C22.4878 7.49623 21.9919 8.55457 21.0303 8.90295L15.7542 10.8143M16.3515 9.53934L13 14.5L10.1826 15.5206L9.84014 11.8982",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),Yoe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4044 2.98475C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99183 10L3.84325 9.89871C3.83307 9.89177 3.82303 9.88465 3.81311 9.87733C2.55917 8.9526 2.79737 7.01262 4.23778 6.41871L6.35774 5.5446L7.08184 3.36883C7.57382 1.8905 9.49246 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.59381 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47125 14.8357 9.52793 14.8451 9.58262C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79819 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86122 15.9282 3.97455 15.8176 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84122 12.8358 9.66998 12.8289 9.50115C12.8194 9.26483 12.8254 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00091 8.26739L7.06338 9.67378C7.19188 9.7614 7.29353 9.87369 7.3663 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94771 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94771 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"})),Koe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M5 16.584C3.2341 15.8124 2 14.0503 2 12C2 9.46726 3.88316 7.37436 6.32568 7.04508C7.13649 4.69118 9.37075 3 12 3C15.3137 3 18 5.68629 18 9C20.2091 9 22 10.7909 22 13C22 14.2632 21.4145 15.3896 20.5 16.1227",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M9.25 16L6.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M13.25 16L10.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M17.25 16L14.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Qoe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M4.5 17.5L7.56881 14.3817C8.32655 13.6117 9.55878 13.5826 10.352 14.316L16.5 20",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M19 12H18.3798C17.504 12 16.672 11.6173 16.102 10.9524L11.898 6.04763C11.328 5.38269 10.496 5 9.6202 5H6C4.89543 5 4 5.89543 4 7V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M19 5H18.3798C17.504 5 16.672 5.38269 16.102 6.04763L14 8.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("circle",{cx:8.5,cy:9.5,r:1.5,fill:"currentColor"}),u.createElement("path",{d:"M18 14V10C18 9.58798 18.4704 9.35279 18.8 9.6L21.4667 11.6C21.7333 11.8 21.7333 12.2 21.4667 12.4L18.8 14.4C18.4704 14.6472 18 14.412 18 14Z",fill:"currentColor"}),u.createElement("path",{d:"M18 7V3C18 2.58798 18.4704 2.35279 18.8 2.6L21.4667 4.6C21.7333 4.8 21.7333 5.2 21.4667 5.4L18.8 7.4C18.4704 7.64721 18 7.41202 18 7Z",fill:"currentColor"})),Xoe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M15.5 14V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("rect",{x:5,y:3,width:14,height:18,rx:2,stroke:"currentColor",strokeWidth:2}),u.createElement("circle",{cx:8.5,cy:14,r:1,fill:"currentColor"}),u.createElement("circle",{cx:8.5,cy:17,r:1,fill:"currentColor"}),u.createElement("circle",{cx:12,cy:17,r:1,fill:"currentColor"}),u.createElement("circle",{cx:12,cy:14,r:1,fill:"currentColor"}),u.createElement("circle",{cx:8.5,cy:11,r:1,fill:"currentColor"}),u.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"}),u.createElement("circle",{cx:15.5,cy:11,r:1,fill:"currentColor"})),Joe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("circle",{cx:12,cy:10.5,r:7.5,stroke:"currentColor",strokeWidth:2}),u.createElement("path",{d:"M8 17V22L12 21L16 22V17",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})),eie=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M17 8H19C20.1046 8 21 8.89543 21 10V17C21 18.1046 20.1046 19 19 19M19 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H15C16.1046 5 17 5.89543 17 7V17C17 18.1046 17.8954 19 19 19Z",stroke:"currentColor",strokeWidth:2}),u.createElement("path",{d:"M7 10H13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M7 13H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),tie=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M6 5H5C3.89543 5 3 5.89543 3 7V8M18 5H19C20.1046 5 21 5.89543 21 7V8M21 16V17C21 18.1046 20.1046 19 19 19H18M6 19H5C3.89543 19 3 18.1046 3 17V16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M8 10H16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M8 14H14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),nie=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M4 18V7H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M9 10V6C9 4.34315 10.3431 3 12 3V3C13.6569 3 15 4.34315 15 6V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),rie=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M3 6H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M3 10H7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M13.4282 17.5718L20.5 10.5C21.6046 9.39543 21.6046 7.60457 20.5 6.5C19.3954 5.39543 17.6046 5.39543 16.5 6.5L9.42819 13.5718C9.14899 13.851 8.95868 14.2066 8.88124 14.5938L8 19L12.4062 18.1188C12.7934 18.0413 13.149 17.851 13.4282 17.5718Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function sie(e){switch(e){case"genius":return zoe;case"idea":return I7;case"code":return IU;case"data-vis":return Woe;case"dalle":return Qoe;case"local":return qoe;case"math":return Xoe;case"misc":return Yoe;case"news":return eie;case"teach-or-explain":return j7;case"read-or-analyze":return tie;case"rank-or-rate":return Joe;case"current-event":return mm;case"shop":return nie;case"travel":return Zoe;case"weather":return Koe;case"work":return j7;case"write":return rie;case"vision":return AU;case"file-upload-document":return Ir;case"browse":return mm;case"onboarding":return R7;case"for-you":return R7;default:return I7}}function aie(e){switch(e){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"for-you":return"#ED6262";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const Ga=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function oie(e){switch(e){case"write":case"shop":return Ga[0];case"idea":case"travel":return Ga[1];case"code":case"vision":return Ga[2];case"teach-or-explain":case"misc":default:return Ga[3]}}function QTe({category:e,useV2Colors:t}){if(e==null)return null;const n=sie(e);return o.jsx(n,{className:"icon-md",style:{color:t?aie(e):oie(e)}})}const iie=e=>e.split(" ").map(t=>t[0]).join("").toUpperCase(),XTe=e=>{const t=["bg-blue-800","bg-red-800","bg-green-800","bg-blue-500","bg-yellow-800","bg-gray-800","bg-orange-800"],n=e.split("").map(r=>r.charCodeAt(0)).reduce((r,s)=>r+s,0);return t[n%t.length]},JTe=({iconName:e,className:t,size:n="medium"})=>{let r=Ep;return e==="user"&&(r=Ph),o.jsx(uie,{className:N(t,lie[n]),children:o.jsx(r,{className:Kw[n]})})},lie={small:"h-[18px] w-[18px]",gizmo:"h-8 w-8",gizmoConversation:"h-6 w-6",medium:"h-8 w-8",workspaceMedium:"h-9 w-9",large:"h-12 w-12",workspaceAvatarPreview:"h-24 w-24",cover:"h-[234px] w-[234px]"},qn={small:18,gizmo:32,gizmoConversation:24,medium:32,workspaceMedium:36,large:48,workspaceAvatarPreview:96,cover:234},Kw={small:"icon-xs",medium:"icon-md",workspaceMedium:"icon-md",large:"icon-lg",workspaceAvatarPreview:"icon-workspace-avatar-preview",cover:"icon-cover",gizmo:"icon-md",gizmoConversation:"icon-sm"},Nh=e=>{const{user:t}=e,n=$e(),r=n?n.isPro()||n.isPlus():!1,{layer:s}=ot("2775247110");let a=!1;if(r&&(a=s.get("show_plan_type_badge",!1)),t?.picture)return o.jsxs("div",{className:N("relative",e.customStyle?e.className:""),children:[o.jsx("div",{className:"relative flex overflow-hidden rounded-full",children:o.jsx("img",{src:t.picture,alt:"User",width:e.customStyle?e.size:qn[e.size],height:e.customStyle?e.size:qn[e.size],className:e.customStyle?"":e.roundedStyle??"rounded-sm",referrerPolicy:"no-referrer"})}),r&&a&&(n?.isPlus()?o.jsx(O7,{}):n?.isPro()?o.jsx(L7,{}):o.jsx(o.Fragment,{}))]});const i=iie(t?.name??"");return o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"overflow-hidden rounded-full",style:e.customStyle?{width:e.size,height:e.size}:{width:qn[e.size],height:qn[e.size]},children:o.jsx("div",{className:N("relative flex items-center justify-center bg-blue-300 text-white",e.customStyle?e.className:N(e.size==="gizmo"?"h-7 w-7 overflow-hidden rounded-full text-xs":"h-full w-full",e.size==="small"||e.size==="gizmo"||e.size==="gizmoConversation"?"text-xs":"text-sm")),children:i?o.jsx("div",{className:"indent-[0.1em] tracking-widest",children:i}):o.jsx(Ph,{className:e.customStyle?"h-4/5 w-4/5":Kw[e.size]})})}),r&&a&&(n?.isPlus()?o.jsx(O7,{}):n?.isPro()?o.jsx(L7,{}):o.jsx(o.Fragment,{}))]})};function V1({src:e,size:t="large",alt:n}){const[r,s]=u.useState(!1);return r||!e?o.jsx(rP,{width:qn[t].toString(),height:qn[t].toString()}):o.jsx("img",{src:e,className:"inline rounded-full bg-token-main-surface-secondary",alt:n??"",width:qn[t],height:qn[t],onError:()=>s(!0)})}function eAe({className:e,iconSize:t="medium",workspace:n}){const r=$e(),s=yn(),a=n??r,i=n??s,l=wn(),c=xl(),d=l??("user"in c?c.user:void 0);return o.jsx("div",{className:N("relative",e),children:a?.isPersonalAccount()?o.jsx(Nh,{user:d,size:t}):i?o.jsx(V1,{src:i.data.profilePictureUrl,size:t}):null})}const cie=ce.div`relative p-1 rounded-sm h-9 w-9 flex items-center justify-center`,uie=({className:e,children:t})=>o.jsx(cie,{className:e,children:t}),L7=()=>o.jsx("span",{className:"absolute right-[4.8px] top-[21.5px] -mr-2 flex items-center justify-center rounded-full bg-black text-[8px] font-medium text-white",style:{height:"0.75rem",width:"1.4rem",letterSpacing:"-0.4px"},children:"PRO"}),O7=()=>o.jsx("span",{className:"absolute right-[4.8px] top-[21.5px] -mr-2 flex h-3 items-center justify-center rounded-full bg-white text-[8px] font-medium text-black",style:{width:"1.6rem",boxShadow:"0 0 0 1.1px rgba(128, 128, 128, 0.1)",letterSpacing:"-0.5px"},children:"PLUS"});function tAe({name:e,size:t,className:n,initialsCount:r=1}){let s="";return r===1?s=e.charAt(0):s=e.split(" ").slice(0,2).map(a=>a[0]).join(""),o.jsx("div",{className:N("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",n),style:{backgroundColor:die(e),width:qn[t]+"px",height:qn[t]+"px"},children:s})}function die(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return Ga[Math.abs(t)%Ga.length]}function nAe({text:e,customSymbolOffsets:t}){return o.jsx(sP,{name:"formatted_text_error",fallback:()=>o.jsx(o.Fragment,{children:e}),children:o.jsx(fie,{text:e,customSymbolOffsets:t})})}const fie=({text:e,customSymbolOffsets:t=[]})=>{const n=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let r=0;const s=e.split(n).flatMap((a,i)=>{const l=r;if(r+=a.length,a.startsWith("```")&&a.endsWith("```"))return o.jsx("pre",{className:"overflow-x-auto",children:o.jsx("code",{children:a.slice(3,-3).trim()})},i);if(a.startsWith("```"))return o.jsx("pre",{className:"overflow-x-auto",children:o.jsx("code",{children:a.slice(3).trim()})},i);if(a.startsWith("`")&&a.endsWith("`"))return o.jsx("code",{children:a.slice(1,-1)},i);if(a.startsWith("`"))return o.jsx("code",{children:a.slice(1)},i);{const c=t.map(d=>aP(d)).find(d=>l<=d.startIndex&&d.endIndex<=r);if(c){const d=c.startIndex-l,f=c.endIndex-l,m=a.slice(0,d),p=a.slice(f),g=a.slice(d,f);return[m,mie(c.symbol,g,i),p].filter(v=>!!v)}return a}});return o.jsx("div",{className:"whitespace-pre-wrap",children:s})};function mie(e,t,n=void 0){return e===oP.SystemHint?o.jsx("span",{className:"hint-pill",children:t},n):null}function pie(){const e=u.useRef(!1);return u.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),u.useCallback(()=>e.current,[])}function Lc(e){e&&e.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0})}function jh(e,t,n){const{navigator:r}=n?.target?.ownerDocument?.defaultView??window;return new Promise((s,a)=>{if(!r?.clipboard){Lc(t),a();return}try{if("write"in r.clipboard&&"supports"in ClipboardItem){const i=new ClipboardItem(Object.fromEntries(Object.entries(typeof e=="string"?{"text/plain":e}:e).map(([l,c])=>[l,typeof c=="string"?new Blob([c],{type:l}):c])));r.clipboard.write([i]).then(()=>s("success"),()=>{Lc(t),a()})}else{const i=typeof e=="string"?e:e["text/plain"]??"";r.clipboard.writeText(i).then(()=>s("success"),()=>{Lc(t),a()})}}catch{Lc(t),a()}})}const Kl=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5555 4C10.099 4 9.70052 4.30906 9.58693 4.75114L9.29382 5.8919H14.715L14.4219 4.75114C14.3083 4.30906 13.9098 4 13.4533 4H10.5555ZM16.7799 5.8919L16.3589 4.25342C16.0182 2.92719 14.8226 2 13.4533 2H10.5555C9.18616 2 7.99062 2.92719 7.64985 4.25342L7.22886 5.8919H4C3.44772 5.8919 3 6.33961 3 6.8919C3 7.44418 3.44772 7.8919 4 7.8919H4.10069L5.31544 19.3172C5.47763 20.8427 6.76455 22 8.29863 22H15.7014C17.2354 22 18.5224 20.8427 18.6846 19.3172L19.8993 7.8919H20C20.5523 7.8919 21 7.44418 21 6.8919C21 6.33961 20.5523 5.8919 20 5.8919H16.7799ZM17.888 7.8919H6.11196L7.30423 19.1057C7.3583 19.6142 7.78727 20 8.29863 20H15.7014C16.2127 20 16.6417 19.6142 16.6958 19.1057L17.888 7.8919ZM10 10C10.5523 10 11 10.4477 11 11V16C11 16.5523 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V11C9 10.4477 9.44772 10 10 10ZM14 10C14.5523 10 15 10.4477 15 11V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V11C13 10.4477 13.4477 10 14 10Z",fill:"currentColor"})),rAe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M7 5.31702C6.075 5.15002 5.106 5.05302 4.044 5.01702C3.476 4.99802 3 5.44801 3 6.01601V17.853C3 18.395 3.433 18.843 3.974 18.851C7.066 18.898 9.394 19.468 12 21C14.606 19.468 16.934 18.898 20.026 18.852C20.567 18.844 21 18.395 21 17.853V6.01601C21 5.45701 20.541 4.99801 19.983 5.01601C16.912 5.11501 14.594 5.69301 12 7.14601",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M7 15.238V3.012C7 2.283 7.766 1.774 8.417 2.101C10.173 2.981 11.653 4.77 12 6.612V21C11.604 18.901 9.739 16.871 7.669 16.176C7.267 16.041 7 15.662 7 15.238Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function tn(e){this.content=e}tn.prototype={constructor:tn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),a=r.content.slice();return s==-1?a.push(n||e,t):(a[s+1]=t,n&&(a[s]=n)),new tn(a)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new tn(n)},addToStart:function(e,t){return new tn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new tn(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),a=r.find(e);return s.splice(a==-1?s.length:a,0,t,n),new tn(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=tn.from(e),e.size?new tn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=tn.from(e),e.size?new tn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=tn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};tn.from=function(e){if(e instanceof tn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new tn(t)};const gie=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("rect",{x:7,y:7,width:10,height:10,rx:1.25,fill:"currentColor"})),hie=e=>u.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1918 8.90615C15.6381 8.45983 16.3618 8.45983 16.8081 8.90615L21.9509 14.049C22.3972 14.4953 22.3972 15.2189 21.9509 15.6652C21.5046 16.1116 20.781 16.1116 20.3347 15.6652L17.1428 12.4734V22.2857C17.1428 22.9169 16.6311 23.4286 15.9999 23.4286C15.3688 23.4286 14.8571 22.9169 14.8571 22.2857V12.4734L11.6652 15.6652C11.2189 16.1116 10.4953 16.1116 10.049 15.6652C9.60265 15.2189 9.60265 14.4953 10.049 14.049L15.1918 8.90615Z",fill:"currentColor"}));function vie(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var xie=vie,Cie=xie,O0=Gv;function yie(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=O0(n),n=n===n?n:0),t!==void 0&&(t=O0(t),t=t===t?t:0),Cie(O0(e),t,n)}var bie=yie;const Ih=ue(bie),sAe=e=>Je(e,t=>t?.disabledToolIds?.includes(qv.CANMORE)??!1),wie=30*24*60*60*1e3;class Sie extends $d()(()=>{const t=Et.getItem(we.MessageFollowupsStoreState);return t?{disabledGlobally:t.disabledGlobally??!1,disabledConversations:new Map(t.disabledConversations??[])}:{disabledGlobally:!1,disabledConversations:new Map}}){persistState(){const t=this.getState(),n=Date.now(),r=new Map(Array.from(t.disabledConversations.entries()).filter(([,a])=>a.disabledAt===null||n-a.disabledAt<wie)),s={disabledGlobally:t.disabledGlobally,disabledConversations:Array.from(r.entries())};Et.setItem(we.MessageFollowupsStoreState,s)}setDisabledGlobally(t){this.setState({disabledGlobally:t}),this.persistState()}setDisabledConversation(t,n){this.setState(r=>({disabledConversations:r.disabledConversations?.set(t,{disabled:n,disabledAt:n?Date.now():null})})),this.persistState()}static useDisabledGlobally(){return this.useState(t=>t.disabledGlobally)}static useIsDisabledConversation(t){return this.useState(n=>n.disabledConversations?.get(t)?.disabled??!1)}static useIsEnabled(t){return this.useState(n=>!(n.disabledConversations?.get(t)?.disabled??n.disabledGlobally))}}function Mie(e,t={}){return{systemHints:e.filter(n=>n!==Ne.Search),extraStreamParams:{...t,forceUseSearch:t.forceUseSearch??e.includes(Ne.Search)}}}const pm=gt(()=>ut(()=>import("./dl2mlywpbbmgvmy3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])).then(e=>e.CanvasMessageAttachment)),_ie=gt(()=>ut(()=>import("./dl2mlywpbbmgvmy3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])).then(e=>e.CanvasMessageAttachmentWrapper)),Eie=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...e},u.createElement("path",{fillRule:"evenodd",d:"M14.447 7.106a1 1 0 0 1 .447 1.341l-4 8a1 1 0 1 1-1.788-.894l4-8a1 1 0 0 1 1.341-.447ZM6.6 7.2a1 1 0 0 1 .2 1.4L4.25 12l2.55 3.4a1 1 0 0 1-1.6 1.2l-3-4a1 1 0 0 1 0-1.2l3-4a1 1 0 0 1 1.4-.2Zm10.8 0a1 1 0 0 1 1.4.2l3 4a1 1 0 0 1 0 1.2l-3 4a1 1 0 0 1-1.6-1.2l2.55-3.4-2.55-3.4a1 1 0 0 1 .2-1.4Z",clipRule:"evenodd"}));function Wa(e,t){return e===Ya.DOCUMENT?o.jsx(Ir,{className:N("icon-md",{"text-token-text-primary":t,"text-token-text-tertiary":!t})}):e&&Au(e)?o.jsx(Eie,{className:N("icon-md",{"text-token-text-primary":t,"text-token-text-tertiary":!t})}):null}const Qw=e=>{const{closeThreadSidebar:t}=sa();return()=>{e!=="canvas"&&nx(),e!=="caterpillar"&&e!=="summarizer"&&e!=="searchSources"&&t()}};function kie(e){const t=u.useRef(!1);return()=>{t.current||(e(),t.current=!0)}}const Tie=(e,t)=>e?.textdocId?e.textdocId:e?.function===yt.CreateTextdoc?Yp(e.messageId):t??void 0,aAe=({toolCall:e,clientThreadId:t,isRequestActive:n})=>{const r=L(),s=CI(),a=Tie(e,s),i=a1(a),l=o1(),c=Zp(a),d=SI(),f=yI(),m=Tx(),p=xI(),g=bI({textdocId:a,assistantMessageId:e?.messageId}),v=kie(()=>{const M=_e(t)?.modelId;n1.logError("Textdoc missing from conversation",null,{clientThreadId:t,modelId:M,textdocId:a,latestTextdocId:s,toolCallTextdocId:e?.textdocId,toolCallStatus:e?.status,toolCallFunction:e?.function})});u.useEffect(()=>{!n&&e?.status===re.COMPLETE&&!p&&!i&&v()},[e,i,n,p,v]);const h=Qw("canvas");if(!e)return null;const x=e.status===re.REDACTED||!p&&!i&&e.status!==re.STREAMING&&e.status!==re.WAITING;let y,b;if(e.status!==re.REDACTED&&e.status!==re.FAILED&&!x&&a){const M=e.function===yt.UpdateTextdoc&&e.status===re.COMPLETE;y=()=>{h(),M&&e.versionInt?Uj(a,e.versionInt,d):fs(a)},b=()=>{M&&e.versionInt&&m(a,e.versionInt)}}const S=Aie(e,i);if(e.function===yt.CreateTextdoc){if(e.status===re.STREAMING||e.status===re.WAITING||e.status===re.COMPLETE){const P=p===!0&&(e.status===re.STREAMING||e.status===re.WAITING);return o.jsx(o.Fragment,{children:o.jsx(pm,{textdocId:a,name:S,clientThreadId:t,tag:e.type,icon:Wa(e.type,!1),iconSelected:Wa(e.type,!0),isCanvasOpen:l,isInlinePreview:g,isFetching:P,isFocused:c,isStreaming:e.status===re.STREAMING,onClick:y})})}let M;switch(e.status){case re.FAILED:M=r.formatMessage({id:"SNarKX",defaultMessage:"Failed to generate"});break;case re.CANCELED:M=r.formatMessage({id:"1A6W36",defaultMessage:"Stopped generating"});break;case re.REDACTED:M=o.jsx(et,{align:"start",label:r.formatMessage({id:"F6q1k7",defaultMessage:"Removed from shared conversation"}),children:r.formatMessage({id:"BqyYDu",defaultMessage:"Created document"})});break}return o.jsx(D7,{children:M})}const T=x||e.status===re.REDACTED,k=f&&!T?S:null,A=o.jsx(D7,{onClick:y,onMouseOver:b,isStreaming:e.status===re.STREAMING,children:e.function===yt.CommentTextdoc?Nie(r,e,k):Pie(r,e,k)});return g&&!l&&!x&&a?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(pm,{textdocId:a,clientThreadId:t,name:S,tag:i?.type,icon:Wa(i?.type,!1),iconSelected:Wa(i?.type,!0),isCanvasOpen:l,isFetching:!1,isFocused:c,isInlinePreview:!0,isStreaming:e.status===re.STREAMING,onClick:a!=null?()=>{h(),fs(a)}:void 0}),A]}):A};function Aie(e,t){return t?.title?t.title:e.function===yt.CreateTextdoc&&e.title?xx(e.title):null}const D7=({isStreaming:e=!1,onClick:t,onMouseOver:n,children:r})=>o.jsx("button",{disabled:!t,className:N(e&&"loading-shimmer","flex min-h-5 w-fit select-none pt-[3px] text-start text-token-text-secondary",t&&"hover:text-token-text-primary"),onClick:t,onMouseOver:n,children:r}),Xw=9;function Pie(e,t,n){if(t.status===re.STREAMING)return n?e.formatMessage({id:"W2xN1Z",defaultMessage:"Editing {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"8taq8v",defaultMessage:"Editing"});if(t.status===re.FAILED)return n?e.formatMessage({id:"UjJKYZ",defaultMessage:"Failed to edit {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"kWUVkg",defaultMessage:"Failed to edit"});if(t.status===re.CANCELED)return n?e.formatMessage({id:"TmSrCd",defaultMessage:"Stopped editing {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"bYV7xA",defaultMessage:"Stopped editing"});const r=t.updates?.length;return t.status===re.REDACTED||!r||r>Xw?n?e.formatMessage({id:"n+G/ct",defaultMessage:"Edited {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"aegqpL",defaultMessage:"Edited"}):n?e.formatMessage({id:"osYMSb",defaultMessage:"{numEdits, plural, one {Edited {documentTitle}} other {Made {numEdits} edits to {documentTitle}}}"},{numEdits:r,documentTitle:n}):e.formatMessage({id:"xJD3WR",defaultMessage:"{numEdits, plural, one {Edited} other {Made {numEdits} edits}}"},{numEdits:r})}function Nie(e,t,n){if(t.status===re.STREAMING)return n?e.formatMessage({id:"8xQH/P",defaultMessage:"Commenting on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"5yqLeN",defaultMessage:"Commenting"});if(t.status===re.FAILED)return n?e.formatMessage({id:"Rl821S",defaultMessage:"Failed to comment on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"W007jt",defaultMessage:"Failed to comment"});if(t.status===re.CANCELED)return n?e.formatMessage({id:"bozPdq",defaultMessage:"Stopped commenting on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"hyBGa7",defaultMessage:"Stopped commenting"});const r=t.comments?.length;return t.status===re.REDACTED||!r||r>Xw?n?e.formatMessage({id:"LXEzK7",defaultMessage:"Commented on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"KeMYhy",defaultMessage:"Commented"}):n?e.formatMessage({id:"Ql5lPq",defaultMessage:"{numComments, plural, one {Commented on {documentTitle}} other {Added {numComments} comments on {documentTitle}}}"},{numComments:r,documentTitle:n}):e.formatMessage({id:"FHtyJQ",defaultMessage:"{numComments, plural, one {Commented} other {Added {numComments} comments}}"},{numComments:r})}const jie="GPT-4o with scheduled tasks";function Iie({featureType:e,isUserTurn:t=!1,clientThreadId:n}){const{value:r}=qe("3612584454"),s=Rie(),{value:a}=qe("891514942"),l=Io(n).id,c=!Lie({featureType:e,currentModelId:l});if(!(r&&s||a&&c))return null;const m=Oie({featureType:e,unsupportedMessageReason:s?"rateLimit":"modelPicker",currentModelId:l});return o.jsx("div",{className:`flex ${t?"justify-end":"justify-start"}`,children:m})}function Rie(){const t=$e()?.isFree()??!1,r=_p().some(s=>s.model_slug==="gpt-4o");return t&&r}function Lie({featureType:e,currentModelId:t}){const n=xe(),r=iP(),s=lP(n,r);if($e()?.isFree())return!0;{const l=s?.categories.find(d=>d.defaultModel===t);return l?!!l?.supportedFeatures.includes(e):!0}}function Oie({featureType:e,unsupportedMessageReason:t,currentModelId:n=""}){const r=n===Tl?jie:n,s=L();let a=null;switch(t){case"rateLimit":switch(e){case Zt.ATTACHMENT:a=s.formatMessage(D0.file);break;case Zt.IMAGE:a=s.formatMessage(D0.image);break;case Zt.CANVAS_SUPPORTED:a=s.formatMessage(D0.canvas);break;default:return null}break;case"modelPicker":switch(e){case Zt.ATTACHMENT:a=s.formatMessage(F0.file,{modelDisplayName:r});break;case Zt.IMAGE:a=s.formatMessage(F0.image,{modelDisplayName:r});break;case Zt.CANVAS_SUPPORTED:a=s.formatMessage(F0.canvas,{modelDisplayName:r});break;default:return null}break}return o.jsx("span",{className:"text-xs text-yellow-500 text-opacity-80",children:a})}const D0=U({canvas:{id:"featureUnsupportedWarning.canvas",defaultMessage:"Document editing temporarily unavailable"},file:{id:"featureUnsupportedWarning.file",defaultMessage:"File analysis temporarily unavailable"},image:{id:"featureUnsupportedWarning.image",defaultMessage:"Image analysis temporarily unavailable"}}),F0=U({canvas:{id:"modelPickerUnsupportedWarning.canvas",defaultMessage:"{modelDisplayName} cannot edit documents"},file:{id:"modelPickerUnsupportedWarning.file",defaultMessage:"{modelDisplayName} cannot analyze files"},image:{id:"modelPickerUnsupportedWarning.image",defaultMessage:"{modelDisplayName} cannot analyze images"}});class Jw{static async getTask({taskId:t}){return j.safeGet("/task/{task_id}",{parameters:{path:{task_id:t}}})}static async cancelTask({taskId:t}){return j.safePost("/task/cancel",{requestBody:{task_id:t}})}static async getTasks({cursor:t}){return j.safeGet("/tasks",{parameters:{query:{cursor:t??null}}})}static async addResultMessage({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return j.safePost("/task/add_result_message",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}static async interruptTask({taskId:t,prompt:n}){return j.safePost("/task/interrupt",{requestBody:{task_id:t,prompt:n}})}static async addResultMessageToCanvas({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return j.safePost("/task/add_result_message_to_canvas",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}}var Die=Rx,Fie=Nd;function $ie(e,t){var n=-1,r=Fie(e)?Array(e.length):[];return Die(e,function(s,a,i){r[++n]=t(s,a,i)}),r}var Bie=$ie;function Uie(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Hie=Uie,F7=cP;function Vie(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,a=F7(e),i=t!==void 0,l=t===null,c=t===t,d=F7(t);if(!l&&!d&&!a&&e>t||a&&i&&c&&!l&&!d||r&&i&&c||!n&&c||!s)return 1;if(!r&&!a&&!d&&e<t||d&&n&&s&&!r&&!a||l&&n&&s||!i&&s||!c)return-1}return 0}var Gie=Vie,Wie=Gie;function zie(e,t,n){for(var r=-1,s=e.criteria,a=t.criteria,i=s.length,l=n.length;++r<i;){var c=Wie(s[r],a[r]);if(c){if(r>=l)return c;var d=n[r];return c*(d=="desc"?-1:1)}}return e.index-t.index}var qie=zie,$0=uP,Zie=dP,Yie=jd,Kie=Bie,Qie=Hie,Xie=kp,Jie=qie,ele=dl,tle=fl;function nle(e,t,n){t.length?t=$0(t,function(a){return tle(a)?function(i){return Zie(i,a.length===1?a[0]:a)}:a}):t=[ele];var r=-1;t=$0(t,Xie(Yie));var s=Kie(e,function(a,i,l){var c=$0(t,function(d){return d(a)});return{criteria:c,index:++r,value:a}});return Qie(s,function(a,i){return Jie(a,i,n)})}var rle=nle,sle=dl,ale=zx,ole=qx;function ile(e,t){return ole(ale(e,t,sle),e+"")}var eS=ile,lle=u8,cle=Nd,ule=fP,dle=ra;function fle(e,t,n){if(!dle(n))return!1;var r=typeof t;return(r=="number"?cle(n)&&ule(t,n.length):r=="string"&&t in n)?lle(n[t],e):!1}var tS=fle,mle=Gx,ple=rle,gle=eS,$7=tS,hle=gle(function(e,t){if(e==null)return[];var n=t.length;return n>1&&$7(e,t[0],t[1])?t=[]:n>2&&$7(t[0],t[1],t[2])&&(t=[t[0]]),ple(e,mle(t,1),[])}),vle=hle;const xle=ue(vle);var ed=(e=>(e.CANCELLED="cancelled",e.CREATED="created",e.RUNNING="running",e.COMPLETED="completed",e.FAILED="failed",e.UNDETERMINED="undetermined",e))(ed||{});function Cle(e){return e.status==="completed"}function yle(e){return e.status==="cancelled"||e.status==="failed"}function ble(e){return e.status==="running"||e.status==="undetermined"||e.status==="created"}function wle(e,t){if(!Cle(e))return null;const n=t.update_time??t.create_time,r=n?new Date(n*1e3):null,s=e.updatedAt?new Date(e.updatedAt):null;return s?r?+s>+r?s:r:s:r}const vo=de(St(()=>({tasks:{},taskIdsByConversationId:{},taskStreams:{}}))),Da=vo.getState,Bn=vo.setState,Hs={setTask:(e,t)=>{Bn(n=>{n.tasks[e]=t,n.taskIdsByConversationId[t.originalConversationId]=[...n.taskIdsByConversationId[t.originalConversationId]??[],e]})},setTaskStatus:(e,t)=>{Bn(n=>{n.tasks[e]&&(n.tasks[e].status=t)})},setTaskMetadataItems:({taskId:e,originalConversationId:t,responseMessageId:n,canvasTextdocId:r})=>{Bn(s=>{s.tasks[e]&&(s.tasks[e].originalConversationId=t,s.tasks[e].responseMessageId=n,s.tasks[e].responseCanvasTextdocId=r)})},loadBulkTasks:e=>{Bn(t=>{e.forEach(n=>{const r=t.tasks[n.taskId];t.tasks[n.taskId]={...n,rows:r?.rows??[],finalMessage:r?.finalMessage??Mo(n.messages)},t.taskIdsByConversationId[n.originalConversationId]=[...t.taskIdsByConversationId[n.originalConversationId]??[],n.taskId]})})},addTaskRow:(e,t)=>{Bn(n=>{const r=n.tasks[e];if(r==null)return;const s=[...r.rows??[]];s.find(a=>a.id===t.id)||(s.push(t),r.rows=s)})},setTaskCompleted:(e,t)=>{Bn(n=>{const r=n.tasks[e];r!=null&&(r.status="completed",r.updatedAt=wle(r,t)?.toString()||r.updatedAt,r.finalMessage=t)})},setTaskRecentlyCompleted:e=>{Bn(t=>{const n=t.tasks[e];n!=null&&(n.notificationStatus||(n.notificationStatus={recentlyCompleted:!0,notificationSent:!1}),n.notificationStatus.recentlyCompleted=!0)})},setTaskNotificationSent:e=>{Bn(t=>{t.tasks[e]?.notificationStatus&&(t.tasks[e].notificationStatus.notificationSent=!0)})},async retainTaskStream(e){const r=Da().taskStreams[e]?.refCount??0;let s,a=null;r===0&&(s=new AbortController,a=kle(e,s)),Bn(i=>{const l=s||i.taskStreams[e]?.abortController;if(!l)throw Error("Missing abort controller");i.taskStreams[e]={...i.taskStreams[e],refCount:r+1,abortController:l}}),a&&await a},releaseTaskStream(e){Bn(t=>{const n=t.taskStreams[e];n&&(n.refCount-=1)})},abortTaskStream(e){Bn(t=>{const n=t.taskStreams[e];!n||n.refCount||(n.abortController.abort(),delete t.taskStreams[e])})}},B7=[],xo={getTask:(e,t=Da())=>t.tasks[e],getAllTasks:(e=Da())=>Object.values(e.tasks).filter(t=>!!t),getAllTasksOrdered:(e=Da())=>xle(xo.getAllTasks(e),t=>-new Date(t.createdAt)),hasTaskStreamEntry:(e,t=Da())=>!!t.taskStreams[e],getTaskIdsByConversationId:(e,t=Da())=>e?t.taskIdsByConversationId[e]??B7:B7};function Sle(e){const t=e.task_id;return{conversationId:e.conversation_id??"",taskId:t,title:e.title,prompt:e.prompt,createdAt:e.created_at,updatedAt:e.updated_at,status:e.status,messages:e.messages??[],rows:[],originalConversationId:e.original_conversation_id,responseMessageId:e.response_message_id??void 0,responseCanvasTextdocId:e.response_canvas_textdoc_id??void 0}}function Mle(e){switch(e.type){case"website_open":return{id:e.id,type:"websiteOpen",url:e.url,rowText:e.row_text,activeRowText:e.active_row_text,sanitizedUrl:e.sanitized_url??null,created_at:e.created_at??null};case"summary":return{id:e.id,type:"summary",title:e.title,summary:e.summary??null,created_at:e.created_at??null};case"search":return{id:e.id,type:"search",query:e.query??null,created_at:e.created_at??null};case"python_analysis":return{id:e.id,type:"pythonAnalysis",analysisSummary:e.analysis_summary??null,created_at:e.created_at??null};case"file_open":return{id:e.id,type:"fileOpen",fileName:e.file_name,iconType:e.icon_type,fileExt:e.file_ext,rowText:e.row_text,activeRowText:e.active_row_text,created_at:e.created_at??null}}}function oAe(){const e=ia({queryKey:["fetch-tasks"],queryFn:async({pageParam:t})=>{const n=await Jw.getTasks({cursor:t});return Hs.loadBulkTasks(n.tasks.map(r=>Sle(r)).filter(r=>r!==null)),n},initialPageParam:null,getNextPageParam:({cursor:t})=>t??null,enabled:!0});return{isLoading:e.isLoading,isFetching:e.isFetching}}const _le=30,Ele=30;async function kle(e,t){if(xo.hasTaskStreamEntry(e))return!1;const r=j.getAuthedHeaders();r["content-type"]="application/json";let s=0,a=0;return bC(`${ve}/tasks/${e}/stream`,{headers:r,signal:t.signal,openWhenHidden:!0,onopen:async i=>{if(!(i.ok&&i.headers.get("content-type")===Hu))if(s<_le)s++;else throw new Error("Failure opening stream")},onmessage(i){const l=JSON.parse(i.data);if(l.task_status)Hs.setTaskStatus(l.task_id,l.task_status);else if(l.final_message)Hs.setTaskCompleted(e,l.final_message),l.was_recently_completed&&Hs.setTaskRecentlyCompleted(e);else if(l.row){const c=Mle(l.row);Hs.addTaskRow(e,c)}},onerror(i){if(a<Ele){a++;return}throw t.abort(),i},onclose(){}}),!0}function iAe(e){u.useEffect(()=>(Hs.retainTaskStream(e),()=>{Hs.releaseTaskStream(e)}),[e])}function lAe(e){const t=vo(r=>xo.getTaskIdsByConversationId(e,r));return vo(r=>t.map(s=>xo.getTask(s,r))).filter(r=>r!==void 0).filter(r=>r.status==="created"||r.status==="running")}const cAe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.10003 4.7C9.54185 5.03137 9.6314 5.65817 9.30003 6.1L6.30002 10.1C6.13556 10.3193 5.8883 10.4614 5.61604 10.4932C5.34379 10.525 5.07041 10.4437 4.85984 10.2682L3.35984 9.01822C2.93556 8.66465 2.87824 8.03409 3.2318 7.60981C3.58537 7.18554 4.21593 7.12821 4.64021 7.48178L5.33158 8.05792L7.70003 4.9C8.0314 4.45817 8.6582 4.36863 9.10003 4.7ZM12 7.5C12 6.94771 12.4477 6.5 13 6.5H20C20.5523 6.5 21 6.94771 21 7.5C21 8.05228 20.5523 8.5 20 8.5H13C12.4477 8.5 12 8.05228 12 7.5ZM3.00003 16.5C3.00003 14.8431 4.34318 13.5 6.00003 13.5C7.65687 13.5 9.00003 14.8431 9.00003 16.5C9.00003 18.1569 7.65687 19.5 6.00003 19.5C4.34318 19.5 3.00003 18.1569 3.00003 16.5ZM6.00003 15.5C5.44773 15.5 5.00003 15.9477 5.00003 16.5C5.00003 17.0523 5.44773 17.5 6.00003 17.5C6.55232 17.5 7.00003 17.0523 7.00003 16.5C7.00003 15.9477 6.55232 15.5 6.00003 15.5ZM12 16.5C12 15.9477 12.4477 15.5 13 15.5H20C20.5523 15.5 21 15.9477 21 16.5C21 17.0523 20.5523 17.5 20 17.5H13C12.4477 17.5 12 17.0523 12 16.5Z",fill:"currentColor"})),Tle=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V6C11 5.44772 11.4477 5 12 5ZM8 8C8.55228 8 9 8.44772 9 9V15C9 15.5523 8.55228 16 8 16C7.44772 16 7 15.5523 7 15V9C7 8.44772 7.44772 8 8 8ZM20 8C20.5523 8 21 8.44772 21 9V15C21 15.5523 20.5523 16 20 16C19.4477 16 19 15.5523 19 15V9C19 8.44772 19.4477 8 20 8ZM4 10C4.55228 10 5 10.4477 5 11V13C5 13.5523 4.55228 14 4 14C3.44772 14 3 13.5523 3 13V11C3 10.4477 3.44772 10 4 10ZM16 10C16.5523 10 17 10.4477 17 11V13C17 13.5523 16.5523 14 16 14C15.4477 14 15 13.5523 15 13V11C15 10.4477 15.4477 10 16 10Z",fill:"currentColor"})),Rh=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5C4 3.34315 5.34315 2 7 2H12.6716C13.4672 2 14.2303 2.31607 14.7929 2.87868L19.1213 7.20711C19.6839 7.76972 20 8.53278 20 9.32843V19C20 20.6569 18.6569 22 17 22H7C5.34315 22 4 20.6569 4 19V5ZM7 4C6.44772 4 6 4.44772 6 5V19C6 19.5523 6.44772 20 7 20H17C17.5523 20 18 19.5523 18 19V10H14.5C13.1193 10 12 8.88071 12 7.5V4H7ZM14 4.91421V7.5C14 7.77614 14.2239 8 14.5 8H17.0858L14 4.91421Z",fill:"currentColor"})),Co=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#34A853"}),u.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#188038"}),u.createElement("path",{d:"M7.5 10.5C7.22386 10.5 7 10.7239 7 11V17.5C7 17.7761 7.22386 18 7.5 18H16.5C16.7761 18 17 17.7761 17 17.5V11C17 10.7239 16.7761 10.5 16.5 10.5H7.5ZM11.25 16.5L8.5 16.5V14.75L11.25 14.75V16.5ZM11.25 13.75H8.5V12H11.25V13.75ZM15.5 16.5H12.75V14.75L15.5 14.75V16.5ZM15.5 13.75H12.75V12H15.5V13.75Z",fill:"white"})),al=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#F4B400"}),u.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#9D7607"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.25C7 10.8358 7.33579 10.5 7.75 10.5H16.25C16.6642 10.5 17 10.8358 17 11.25V17.25C17 17.6642 16.6642 18 16.25 18H7.75C7.33579 18 7 17.6642 7 17.25V11.25ZM8.5 12.5V16H15.5V12.5H8.5Z",fill:"white"})),Lh=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M13.5572 11.5349L5.65027 10.1395V20.4498C5.65027 20.9206 6.03197 21.3023 6.50282 21.3023H20.1466C20.6174 21.3023 20.9991 20.9206 20.9991 20.4498V16.6512L13.5572 11.5349Z",fill:"#185C37"}),u.createElement("path",{d:"M13.5572 2.69763H6.50282C6.03197 2.69763 5.65027 3.07933 5.65027 3.55019V7.34879L13.5572 12L17.7433 13.3953L20.9991 12V7.34879L13.5572 2.69763Z",fill:"#21A366"}),u.createElement("path",{d:"M5.65027 7.34888H13.5572V12H5.65027V7.34888Z",fill:"#107C41"}),u.createElement("path",{opacity:.1,d:"M11.3093 6.41858H5.65027V18.0465H11.3093C11.7796 18.045 12.1604 17.6641 12.1619 17.1939V7.27114C12.1604 6.80092 11.7796 6.42011 11.3093 6.41858Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.8442 6.88379H5.65027V18.5117H10.8442C11.3144 18.5102 11.6953 18.1294 11.6968 17.6591V7.73634C11.6953 7.26613 11.3144 6.88532 10.8442 6.88379Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.8442 6.88379H5.65027V17.5815H10.8442C11.3144 17.5799 11.6953 17.1991 11.6968 16.7289V7.73634C11.6953 7.26613 11.3144 6.88532 10.8442 6.88379Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.3791 6.88379H5.65027V17.5815H10.3791C10.8493 17.5799 11.2301 17.1991 11.2317 16.7289V7.73634C11.2301 7.26613 10.8493 6.88532 10.3791 6.88379Z",fill:"currentColor"}),u.createElement("path",{d:"M1.85256 6.88379H10.38C10.8508 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7346 10.8508 17.1163 10.38 17.1163H1.85256C1.3817 17.1163 1 16.7346 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_3708_1041)"}),u.createElement("path",{d:"M3.63953 14.7712L5.43301 11.9921L3.78976 9.22839H5.11162L6.00836 10.9958C6.09116 11.1637 6.1479 11.2884 6.1786 11.3707H6.19022C6.24914 11.2368 6.31115 11.1067 6.37627 10.9805L7.33487 9.22933H8.54836L6.86324 11.9768L8.59116 14.7712H7.3L6.26418 12.8312C6.21539 12.7486 6.17399 12.6619 6.14046 12.5721H6.12512C6.09477 12.6601 6.05452 12.7444 6.00511 12.8233L4.9386 14.7712H3.63953Z",fill:"white"}),u.createElement("path",{d:"M20.1489 2.69763H13.5596V7.34879H21.0014V3.55019C21.0014 3.07933 20.6197 2.69763 20.1489 2.69763Z",fill:"#33C481"}),u.createElement("path",{d:"M13.5596 12H21.0014V16.6512H13.5596V12Z",fill:"#107C41"}),u.createElement("defs",null,u.createElement("linearGradient",{id:"paint0_linear_3708_1041",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#18884F"}),u.createElement("stop",{offset:.5,stopColor:"#117E43"}),u.createElement("stop",{offset:1,stopColor:"#0B6631"})))),Ale=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M20.9991 12.0001V20.4512C20.9991 20.921 20.6177 21.3024 20.1479 21.3024H6.50143C6.03166 21.3024 5.65027 20.921 5.65027 20.4512V12.0001L13.5572 11.0698L20.9991 12.0001Z",fill:"#036C70"}),u.createElement("path",{d:"M6.50143 2.69763H20.1479C20.6177 2.69763 20.9991 3.07903 20.9991 3.54879V12H5.65027V3.54879C5.65027 3.07903 6.03166 2.69763 6.50143 2.69763Z",fill:"#37C6D0"}),u.createElement("path",{d:"M14.0227 14.3256H18.6739V18.9767H14.0227V14.3256Z",fill:"#1A9BA1"}),u.createElement("path",{d:"M16.3503 10.1395C17.8915 10.1395 19.141 8.89006 19.141 7.3488C19.141 5.80754 17.8915 4.55811 16.3503 4.55811C14.809 4.55811 13.5596 5.80754 13.5596 7.3488C13.5596 8.89006 14.809 10.1395 16.3503 10.1395Z",fill:"#1A9BA1"}),u.createElement("path",{d:"M16.3481 8.74419C17.1187 8.74419 17.7435 8.11947 17.7435 7.34884C17.7435 6.57821 17.1187 5.95349 16.3481 5.95349C15.5775 5.95349 14.9528 6.57821 14.9528 7.34884C14.9528 8.11947 15.5775 8.74419 16.3481 8.74419Z",fill:"#036C70"}),u.createElement("path",{opacity:.1,d:"M11.3107 6.41858H5.65027V18.0465H11.3107C11.7805 18.0465 12.1619 17.6651 12.1619 17.1953V7.26974C12.1619 6.79997 11.7805 6.41858 11.3107 6.41858Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.8456 6.88379H5.65027V18.5117H10.8456C11.3154 18.5117 11.6968 18.1303 11.6968 17.6605V7.73495C11.6968 7.26518 11.3154 6.88379 10.8456 6.88379Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.8456 6.88379H5.65027V17.5815H10.8456C11.3154 17.5815 11.6968 17.2001 11.6968 16.7303V7.73495C11.6968 7.26518 11.3154 6.88379 10.8456 6.88379Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.3805 6.88379H5.65027V17.5815H10.3805C10.8503 17.5815 11.2317 17.2001 11.2317 16.7303V7.73495C11.2317 7.26518 10.8503 6.88379 10.3805 6.88379Z",fill:"currentColor"}),u.createElement("path",{d:"M1.85116 6.88379H10.3767C10.8465 6.88379 11.2279 7.26518 11.2279 7.73495V16.2605C11.2279 16.7303 10.8465 17.1117 10.3767 17.1117H1.85116C1.3814 17.1163 1 16.735 1 16.2652V7.73495C1 7.26518 1.3814 6.88379 1.85116 6.88379Z",fill:"url(#paint0_linear_3708_1043)"}),u.createElement("path",{d:"M7.8431 10.1301H5.4431V11.6417H7.68031V12.5394H5.4431V14.772H4.35938V9.22778H7.84775L7.8431 10.1301Z",fill:"white"}),u.createElement("defs",null,u.createElement("linearGradient",{id:"paint0_linear_3708_1043",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#058F92"}),u.createElement("stop",{offset:.5,stopColor:"#038489"}),u.createElement("stop",{offset:1,stopColor:"#026D71"})))),Oh=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M13.0927 12.9302L11.6973 2.69763H11.5932C6.51931 2.71244 2.40983 6.82193 2.39502 11.8958V12L13.0927 12.9302Z",fill:"#ED6C47"}),u.createElement("path",{d:"M11.8017 2.69763H11.6975V12L16.3487 13.8604L20.9998 12V11.8958C20.985 6.82193 16.8755 2.71244 11.8017 2.69763Z",fill:"#FF8F6B"}),u.createElement("path",{d:"M20.9997 12V12.1023C20.9851 17.1773 16.8746 21.2878 11.7997 21.3023H11.595C6.52004 21.2878 2.40958 17.1773 2.39502 12.1023V12H20.9997Z",fill:"#D35230"}),u.createElement("path",{opacity:.1,d:"M12.1625 7.26975V17.1953C12.1602 17.5402 11.9512 17.8501 11.6322 17.9814C11.5307 18.0243 11.4216 18.0465 11.3113 18.0465H4.59038C4.46015 17.8977 4.33457 17.7395 4.21829 17.5814C3.03331 16.0006 2.39349 14.0779 2.39503 12.1023V11.8977C2.39231 10.1157 2.9131 8.37221 3.8927 6.8837C3.99503 6.72556 4.102 6.56742 4.21829 6.41858H11.3113C11.7799 6.42213 12.1589 6.80114 12.1625 7.26975Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M11.6974 7.73496V17.6605C11.6973 17.7708 11.6752 17.8799 11.6322 17.9815C11.5009 18.3004 11.1911 18.5094 10.8462 18.5117H5.01364C4.86648 18.3623 4.72528 18.2071 4.59038 18.0466C4.46015 17.8977 4.33457 17.7396 4.21829 17.5815C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88733 11.6938 7.26634 11.6974 7.73496Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M11.6974 7.73495V16.7303C11.6938 17.1989 11.3148 17.5779 10.8462 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88732 11.6938 7.26633 11.6974 7.73495Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M11.2322 7.73495V16.7303C11.2287 17.1989 10.8497 17.5779 10.3811 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.3811C10.8497 6.88732 11.2287 7.26633 11.2322 7.73495Z",fill:"currentColor"}),u.createElement("path",{d:"M1.85255 6.88379H10.38C10.8509 6.88379 11.2325 7.2655 11.2325 7.73634V16.2638C11.2325 16.7346 10.8508 17.1163 10.38 17.1163H1.85255C1.38171 17.1163 1 16.7346 1 16.2638V7.73634C1 7.2655 1.38171 6.88379 1.85255 6.88379Z",fill:"url(#paint0_linear_3708_1042)"}),u.createElement("path",{d:"M6.20915 9.15766C6.76426 9.12021 7.31459 9.28145 7.76171 9.61255C8.13464 9.94549 8.3339 10.4313 8.30217 10.9302C8.30827 11.277 8.21585 11.6185 8.03567 11.9149C7.85325 12.2062 7.59043 12.4385 7.27892 12.5837C6.9228 12.7493 6.53344 12.8311 6.14077 12.8228H5.06217V14.8274H3.95752V9.15766H6.20915ZM5.06125 11.9567H6.01195C6.31334 11.9789 6.61239 11.8897 6.85242 11.706C7.05094 11.5156 7.155 11.247 7.1366 10.9726C7.1366 10.3477 6.7735 10.0353 6.0473 10.0353H5.06126V11.9567H5.06125Z",fill:"white"}),u.createElement("defs",null,u.createElement("linearGradient",{id:"paint0_linear_3708_1042",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#CA4C28"}),u.createElement("stop",{offset:.5,stopColor:"#C5401E"}),u.createElement("stop",{offset:1,stopColor:"#B62F14"})))),Dh=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M20.1465 2.69775H6.50283C6.03197 2.69775 5.65027 3.07946 5.65027 3.55031V7.34892L13.5572 9.6745L20.9991 7.34892V3.55031C20.9991 3.07946 20.6174 2.69775 20.1465 2.69775Z",fill:"#41A5EE"}),u.createElement("path",{d:"M20.9991 7.34888H5.65027V12L13.5572 13.3954L20.9991 12V7.34888Z",fill:"#2B7CD3"}),u.createElement("path",{d:"M5.65027 12.0001V16.6513L13.0921 17.5815L20.9991 16.6513V12.0001H5.65027Z",fill:"#185ABD"}),u.createElement("path",{d:"M6.50283 21.3024H20.1466C20.6174 21.3024 20.9991 20.9207 20.9991 20.4498V16.6512H5.65027V20.4498C5.65027 20.9207 6.03197 21.3024 6.50283 21.3024Z",fill:"#103F91"}),u.createElement("path",{opacity:.1,d:"M11.3093 6.4187H5.65027V18.0466H11.3093C11.7796 18.0451 12.1604 17.6643 12.1619 17.194V7.27126C12.1604 6.80104 11.7796 6.42023 11.3093 6.4187Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.8442 6.88379H5.65027V18.5117H10.8442C11.3144 18.5102 11.6952 18.1294 11.6968 17.6591V7.73635C11.6952 7.26613 11.3144 6.88532 10.8442 6.88379Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.8442 6.88379H5.65027V17.5815H10.8442C11.3144 17.5799 11.6952 17.1991 11.6968 16.7289V7.73635C11.6952 7.26613 11.3144 6.88532 10.8442 6.88379Z",fill:"currentColor"}),u.createElement("path",{opacity:.2,d:"M10.3791 6.88379H5.65027V17.5815H10.3791C10.8493 17.5799 11.2301 17.1991 11.2317 16.7289V7.73635C11.2301 7.26613 10.8493 6.88532 10.3791 6.88379Z",fill:"currentColor"}),u.createElement("path",{d:"M1.85256 6.88379H10.38C10.8509 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7347 10.8509 17.1164 10.38 17.1164H1.85256C1.3817 17.1164 1 16.7347 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_3708_1040)"}),u.createElement("path",{d:"M4.49876 13.4224C4.5155 13.554 4.52666 13.6684 4.53178 13.7666H4.55131C4.55875 13.6736 4.57425 13.5615 4.59782 13.4303C4.62139 13.2991 4.64263 13.1883 4.66154 13.0978L5.55829 9.22891H6.71782L7.64806 13.0396C7.70211 13.2766 7.74079 13.5168 7.76387 13.7587H7.77923C7.79656 13.5243 7.82888 13.2913 7.87597 13.061L8.61783 9.22705H9.67318L8.36992 14.7712H7.1369L6.25318 11.0996C6.2276 10.994 6.1983 10.8559 6.1662 10.6861C6.13411 10.5163 6.11411 10.3922 6.1062 10.314H6.09085C6.08062 10.4042 6.06061 10.5382 6.03085 10.7159C6.00108 10.8936 5.9772 11.025 5.95921 11.1103L5.12851 14.7703H3.87456L2.56433 9.2289H3.63874L4.44665 13.1056C4.4648 13.1852 4.48201 13.2912 4.49876 13.4224Z",fill:"white"}),u.createElement("defs",null,u.createElement("linearGradient",{id:"paint0_linear_3708_1040",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#2368C4"}),u.createElement("stop",{offset:.5,stopColor:"#1A5DBE"}),u.createElement("stop",{offset:1,stopColor:"#1146AC"})))),Ple=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#FF4343"}),u.createElement("path",{d:"M16.0964 17.0018H14.7573V12.6902H18V13.8311H16.0964V14.5157H17.6577V15.6266H16.0964V17.0018Z",fill:"white"}),u.createElement("path",{d:"M10.2615 17.0018V12.6902H11.9309C13.3541 12.6902 14.1887 13.5309 14.1887 14.846C14.1887 16.1611 13.3541 17.0018 11.9309 17.0018H10.2615ZM11.5946 15.8608H11.9309C12.5374 15.8608 12.8376 15.4585 12.8376 14.846C12.8376 14.2335 12.5374 13.8311 11.9309 13.8311H11.5946V15.8608Z",fill:"white"}),u.createElement("path",{d:"M7.36314 15.7647V17.0018H6V12.6902H7.96364C9.06856 12.6902 9.74712 13.2186 9.74712 14.2275C9.74712 15.2363 9.06856 15.7647 7.96364 15.7647H7.36314ZM7.36314 14.6358H7.89158C8.24587 14.6358 8.402 14.4737 8.402 14.2275C8.402 13.9813 8.24587 13.8191 7.89158 13.8191H7.36314V14.6358Z",fill:"white"}),u.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#A53636"})),Nle=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.97731 3.00002H6C4.34315 3.00002 3 4.34317 3 6.00002V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V6.00002C21 4.34317 19.6569 3.00002 18 3.00002H16.0233C16.0079 2.99967 15.9926 2.99967 15.9773 3.00002H10.0233C10.0079 2.99967 9.99261 2.99967 9.97731 3.00002ZM14.523 5.00002H10.677L9.47703 8.00002H13.323L14.523 5.00002ZM16.677 5.00002L15.477 8.00002H19V6.00002C19 5.44774 18.5523 5.00002 18 5.00002H16.677ZM19 10H14.0227C14.0074 10.0004 13.9921 10.0004 13.9767 10H8.02268C8.00739 10.0004 7.99206 10.0004 7.9767 10H5V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V10ZM5 8.00002H7.32297L8.52297 5.00002H6C5.44772 5.00002 5 5.44774 5 6.00002V8.00002Z",fill:"currentColor"})),jle={pdf:Ple,sheet:Co,excel:Lh,doc:Ir,audio:Tle,video:Nle,image:PU,csv:Co,word:Dh,forms:Ale,slides:al,powerpoint:Oh,other:Rh};function Fh(e){return jle[e]??Rh}const Ile=({children:e,iconType:t})=>{const n=Fh(t);return o.jsxs("div",{className:"flex items-start gap-2 text-wrap text-start",children:[o.jsx("div",{className:"mt-[1px] inline-flex h-5 w-5 shrink-0 items-center justify-end gap-2.5 pt-[3px]",children:o.jsx(n,{className:"relative h-5 w-5 text-token-text-primary"})}),e]})},uAe=({row:e})=>o.jsx(Ile,{iconType:e.iconType,children:o.jsx("div",{className:"flex-1 truncate text-base text-token-text-primary",children:e.rowText})});function Ql({url:e,size:t=16,minSize:n,fallback:r,className:s,applySizeToImg:a=!0}){const i=Dle(e,t);return i==null?r??null:n!=null?o.jsx(Rle,{faviconUrl:i,size:t,minSize:n,fallback:r,className:s}):o.jsx(nS,{faviconUrl:i,size:a?t:void 0,className:s})}function Rle({faviconUrl:e,size:t,minSize:n,fallback:r,className:s}){const{data:a,isLoading:i}=ee({queryKey:["imageSize",e],queryFn:()=>new Promise((l,c)=>{const d=new Image;d.onload=()=>{l(Math.min(d.width,d.height))},d.onerror=()=>{c()},d.src=e})});return i?o.jsx("div",{className:s}):a==null||a<n?r??null:o.jsx(nS,{faviconUrl:e,size:t,className:s})}function nS({faviconUrl:e,size:t,className:n}){return o.jsx("img",{src:e,alt:"Favicon",width:t??"auto",height:t??"auto",className:n})}const Lle="http://files.openai.com";function Ole(e){const t=new URL(e);return t.protocol!=="http:"&&t.protocol!=="https:"?Lle:t.origin}function Dle(e,t){if(!e)return null;try{return`https://www.google.com/s2/favicons?domain=${Ole(e)}&sz=${t}`}catch(n){return V.addError(n,{url:e}),null}}const $h=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{id:"browser"},u.createElement("rect",{width:18,height:18,rx:9,fill:"currentColor"}),u.createElement("path",{id:"vector",fillRule:"evenodd",clipRule:"evenodd",d:"M11.5235 10.4348L13.0718 6.07152C13.3238 5.36116 12.6389 4.67627 11.9286 4.92833L7.56533 6.47658C7.05694 6.65697 6.65697 7.05694 6.47658 7.56533L4.92833 11.9286C4.67627 12.6389 5.36116 13.3238 6.07151 13.0718L10.4348 11.5235C10.9432 11.3431 11.3431 10.9432 11.5235 10.4348ZM9.00015 10.1192C9.61825 10.1192 10.1193 9.61814 10.1193 9.00005C10.1193 8.38195 9.61825 7.88089 9.00015 7.88089C8.38206 7.88089 7.88099 8.38195 7.88099 9.00005C7.88099 9.61814 8.38206 10.1192 9.00015 10.1192Z",fill:"white"})));function Fle(){const e=Br();return ee({queryKey:["clientStrings"],queryFn:()=>j.safeGet("/client/strings"),staleTime:1/0,enabled:ao(e)})}function dAe(e,t=0){if(!e)return!1;const n=e.getBoundingClientRect();return n.top+t>=0&&n.left+t>=0&&n.bottom-t<=(window.innerHeight||document.documentElement.clientHeight)&&n.right-t<=(window.innerWidth||document.documentElement.clientWidth)}function $le(){const e=L(),{data:t}=Fle(),n=t?.caterpillar_status_message_texts,r={cancelledMessage:e.formatMessage({id:"ZVkPyf",defaultMessage:"Task cancelled"}),failureMessage:e.formatMessage({id:"3BZzpX",defaultMessage:"Something went wrong"}),completedMessage:e.formatMessage({id:"nZ8w6W",defaultMessage:"Completed in"}),failureBannerContentMessage:e.formatMessage({id:"9peWdy",defaultMessage:"There was an error"}),waitingInQueueMessage:e.formatMessage({id:"k4vqxH",defaultMessage:"Your request is queued up. It will be completed shortly."}),startingMessage:e.formatMessage({id:"+jIjI+",defaultMessage:"Starting Task"}),caterpillarNoneSelectedMessage:e.formatMessage({id:"cLZOtM",defaultMessage:"Choose at least one"})};return n?{cancelledMessage:n.cancelled_message??r.cancelledMessage,failureMessage:n.failure_message??r.failureMessage,completedMessage:n.completed_message??r.completedMessage,failureBannerContentMessage:n.failure_banner_content_message??r.failureBannerContentMessage,waitingInQueueMessage:n.waiting_in_queue_message??r.waitingInQueueMessage,startingMessage:n.starting_message??r.startingMessage,caterpillarNoneSelectedMessage:n.none_selected_dr_message??r.caterpillarNoneSelectedMessage}:r}function Ble(e){const t=new Map;return Cl(e).forEach(r=>{if(r.type==="website")try{const s=o.jsx(Ql,{url:r.url,className:"icon-sm rounded-full bg-token-main-surface-primary object-cover",size:32,minSize:20,fallback:o.jsx($h,{className:"icon-sm text-token-text-quaternary"})}),a=new URL(r.url).hostname;if(t.has(a)){const i=t.get(a);i&&(i.count+=1)}else t.set(a,{url:r.url,count:1,icon:s})}catch{}else if(!t.has(r.name)){const s=Fh(r.fileType);t.set(r.name,{url:r.name,count:1,icon:o.jsx(s,{className:"relative h-4 w-4 text-token-text-primary"})})}}),Array.from(t.values())}function Ule(e){const t=e.map(n=>n.type==="websiteOpen"?{url:n.url,type:"website"}:n.type==="fileOpen"&&n.fileName?{name:n.fileName,type:"file",fileType:n.iconType}:null);return Ble(t)}var rS=(e=>(e.Sources="sources",e.Images="images",e))(rS||{}),gm=(e=>(e.Links="links",e.Citations="citations",e.SearchResults="search_results",e))(gm||{});const Hle=5;function fAe({sourcesFootnote:e,onShowSearchResults:t,trackContentReferenceEvent:n}){const r={urls:e.sources.map(s=>s.url).toString(),has_images:e.has_images};return u.useEffect(()=>{n(_.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",r)},[]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute h-[60px]",children:o.jsx(sS,{sourcesUrls:e.sources.map(s=>s.url),onClick:()=>{n(_.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",r),t(rS.Sources,e.sources.length>0?gm.Citations:gm.SearchResults)}})}),o.jsx("div",{className:"h-[60px]"})]})}function sS({sourcesUrls:e,onClick:t,className:n}){return o.jsxs("button",{className:N("not-prose group/footnote mb-2 mt-3 flex h-[38px] w-fit items-center gap-1.5 rounded-3xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-3",n),onClick:t,children:[e.length>0&&o.jsx("div",{className:"flex flex-row-reverse",children:e.slice(0,Hle).reverse().map((r,s)=>o.jsx("div",{className:N("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-ml-1 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:o.jsx(Ql,{url:r,size:32,minSize:16,className:"icon-sm"})},s))}),o.jsx("div",{className:"flex items-center gap-0.5 text-xs font-semibold text-token-text-secondary",children:o.jsx(C,{id:"/48IOP",defaultMessage:"Sources"})})]})}const Vle=({children:e})=>o.jsx("div",{className:"dark:border-token- relative mx-[-16px] mb-4 flex cursor-text flex-col items-start rounded-[14px] border border-token-border-sharp p-4 shadow-md contain-inline-size dark:border-token-main-surface-secondary sm:mx-[-32px] sm:rounded-[28px] sm:p-8",children:e});function mAe({messages:e,children:t,clientThreadId:n,renderingView:r}){const s=e.find(g=>g.metadata?.b1de6e2_rm&&g.metadata?.async_task_id),a=s?.metadata?.async_task_id,{toggleThreadSidebar:i}=sa(),l=Qw("caterpillar"),c=vo(g=>a?g.tasks[a]:null),d=u.useCallback(g=>{a&&i({type:"caterpillar",caterpillarId:a,initialTab:g,clientThreadId:n},l)},[i,a,l,n]),f=u.useMemo(()=>c?.rows?c.rows:[],[c?.rows]),{uniqueSources:m}=u.useMemo(()=>{if(!f)return{uniqueSources:[],totalSources:0};const g=Ule(f),v=g.reduce((h,x)=>h+x.count,0);return{uniqueSources:g,totalSources:v}},[f]),p=Hp();return s?r==="chat"?o.jsxs(Vle,{children:[t,o.jsx(sS,{sourcesUrls:m.map(g=>g.url),onClick:()=>{p&&d("sources")},className:N(p&&"cursor-default")})]}):t:null}function pAe({className:e}){return o.jsx(Gle,{className:N("w-full",e)})}function Gle({className:e}){return o.jsx("div",{className:N("loading-results-shimmer rounded-md",e),children:""})}function U7(e,t){const s=300/e,a=35/s;let i;if(t<=a)i=s*t;else{const c=e-a,f=-4*((t-a)/c);i=35+(99.9-35)*(1-Math.exp(f))}return Math.min(i,99.9)}const Wle=(e,t)=>{const n=+new Date-e,[r,s]=u.useState(U7(t,n));return u.useEffect(()=>{const a=setInterval(()=>{const i=+new Date-e,l=U7(t,i);if(s(l),l>=100||i>=t)return clearInterval(a),s(100),100},100);return()=>{clearInterval(a)}},[e,t]),r},qo=gt(()=>ut(()=>import("./lodl3s7jfiypzk1n.js").then(e=>e.a),__vite__mapDeps([15,1,3,4,16,17,18,19,20,21,22,23,24,25,26,27,9,28,29,30,31])).then(e=>e.FormattedText));function gAe(){return u.use(qo.prefetch()),null}function hAe({percentage:e,height:t=10,className:n,backgroundClassName:r="bg-gray-400",barClassName:s="bg-current",transitionDuration:a,transitionTimingFunction:i,onTransitionEnd:l}){return o.jsxs("div",{className:N("relative w-full",n),style:{height:t},children:[o.jsx("div",{className:N("absolute left-0 top-0 h-full w-full",r)}),o.jsx("div",{className:N("absolute left-0 top-0 h-full transition-[width]",s),style:{width:`${Math.max(Math.min(e,100),1)}%`,transitionDuration:a,transitionTimingFunction:i},onTransitionEnd:l})]})}function vAe({message:e,handleToggleCaterpillarSidebar:t}){const n=Hp();return o.jsx("div",{className:"flex w-full flex-col gap-6 pb-6 pt-3",children:o.jsx("button",{onClick:()=>n&&t(),className:N("flex w-full text-start text-token-text-tertiary",n?"cursor-pointer hover:text-token-text-secondary":"cursor-auto"),children:e})})}function xAe(e){const t=_o(e);return vo(n=>xo.getTaskIdsByConversationId(t,n).map(a=>xo.getTask(a,n)).filter(a=>a!==void 0).some(a=>a.status===ed.RUNNING||a.status===ed.CREATED))}function CAe(e){return e?e.metadata?.b1de6e2_rm??!1:!1}const yAe={del:e=>{const{node:t,children:n,...r}=e;return o.jsx("span",{...r,children:n})},a:e=>{const{node:t,children:n,...r}=e;return o.jsx("span",{...r,children:n})}};function bAe(e,t){return Z.findNode(e,({message:n})=>n.metadata?.b1de6e2_rm===!0&&n.metadata?.async_task_id===t)!=null}function wAe(e,t){return t!=null&&Z.getCurrentNode(e).message.id===t}function SAe(e){const t=xe(),n=u.useMemo(()=>e?.originalConversationId?e.originalConversationId:void 0,[e?.originalConversationId]);return u.useCallback(async()=>{if(!n)return;const r=await u1(n);da(t,r.gizmo_id),Nn.initThreadFromServerData(n,r,!0,void 0,!0)},[t,n])}function zle({children:e}){return o.jsx("div",{className:"mb-2 flex max-w-[500px] flex-col gap-4 rounded-2xl border border-solid border-token-main-surface-tertiary p-[22px] pt-[18px] text-token-text-secondary shadow-sm",children:e})}function qle({name:e,placeholder:t,type:n,list:r,ariaLabel:s,displayName:a,onChange:i,onFocus:l,onBlur:c,value:d,saveOnBlur:f,icon:m,iconPosition:p="right",onInputIconClick:g,className:v,inputClassName:h,autoComplete:x,autoFocus:y,onPressEnter:b,disabled:S,maxLength:T,color:k="tertiary",onKeyDown:A},M){const[P,I]=u.useState(d),D=u.useCallback(O=>{c?.(O),f&&I(O.target.value)},[c,f]),F=u.useCallback(O=>{i?.(O),f&&I(O.target.value)},[i,f]),B=u.useCallback(O=>{A?.(O),!O.nativeEvent.isComposing&&O.key==="Enter"&&b&&(O.preventDefault(),b(P))},[b,P,A]);u.useEffect(()=>{I(d)},[d]);const z={...f?{}:{value:d},...f?{value:P}:{}};return o.jsxs("div",{className:N("rounded-md border shadow-none",k==="neutral"&&"border-transparent px-3 py-2 focus-within:border-green-500 focus-within:bg-token-main-surface-tertiary focus-within:ring-1 focus-within:ring-transparent hover:bg-token-main-surface-tertiary",k==="tertiary"&&"border-token-border-medium px-3 py-2 focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary",k==="search"&&"rounded-xl border-token-border-medium bg-token-main-surface-primary p-4 focus-within:border-token-border-xheavy focus-within:ring-0 dark:border-token-border-medium dark:focus-within:border-token-border-xheavy dark:focus-within:ring-0",k==="quaternary"&&"border-token-main-surface-quaternary px-3 py-2 text-token-text-quaternary focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary",v),children:[o.jsx("label",{htmlFor:e,className:"block text-xs font-semibold text-token-text-primary",children:a}),o.jsxs("div",{className:N(a&&"mt-1","relative"),children:[o.jsx("input",{ref:M,type:n,name:e,id:e,list:r,"aria-label":s||void 0,className:N("block w-full border-0 p-0 shadow-none outline-none focus-within:shadow-none focus-within:outline-none focus-within:ring-0 focus:border-none focus:ring-0 sm:text-sm",m!=null&&p==="right"&&"pr-6",m!=null&&p==="left"&&"pl-6",k==="neutral"||k==="search"?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary",k==="quaternary"?"placeholder:text-token-text-quaternary":"placeholder-gray-500",h),placeholder:t,onBlur:D,onFocus:l,onChange:F,onKeyDown:B,autoComplete:x,autoFocus:y,disabled:S,maxLength:T,...z}),m!=null&&o.jsx("button",{className:N("absolute top-1/2 -translate-y-1/2",{"right-0":p==="right","left-0":p==="left"}),onClick:g,children:o.jsx(m,{className:"icon-sm"})})]})]})}const ol=ye.forwardRef(qle),Xl=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 9.29289C5.68342 8.90237 6.31658 8.90237 6.70711 9.29289L12 14.5858L17.2929 9.29289C17.6834 8.90237 18.3166 8.90237 18.7071 9.29289C19.0976 9.68342 19.0976 10.3166 18.7071 10.7071L12.7071 16.7071C12.5196 16.8946 12.2652 17 12 17C11.7348 17 11.4804 16.8946 11.2929 16.7071L5.29289 10.7071C4.90237 10.3166 4.90237 9.68342 5.29289 9.29289Z",fill:"currentColor"}));function MAe({formData:e,readOnly:t,schema:n,uiSchema:r,onChange:s}){const a=u.useCallback((c,d)=>{s?.({...e,[c]:d})},[e,s]);u.useEffect(()=>{const c={};Object.entries(n.properties).forEach(([d,f])=>{c[d]===void 0&&f.default!==void 0&&("enum"in f?c[d]=[f.default]:c[d]=f.default)}),s(c)},[]);const i=u.useMemo(()=>{const c=Object.fromEntries(r.elements.map(d=>{const f=Mo(d.scope.split("/"));return f?[f,d]:[]}).filter(d=>d.length>0));return Object.entries(n.properties).map(([d,f])=>{const m=c[d];return m?{dataRow:f,uiRow:m,rowKey:d}:null}).filter(d=>!!d).sort((d,f)=>{const m="enum"in d.dataRow,p="enum"in f.dataRow;return m===p?0:m?-1:1})},[n,r]),l=i.filter(c=>"enum"in c.dataRow).length;return o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:i.map((c,d)=>o.jsx(Zle,{updateFormDataForRow:f=>a(c.rowKey,f),clearAll:()=>a(c.rowKey,void 0),renderRow:c,value:e?.[c.rowKey],readOnly:t,forceFullWidth:l%2===1&&d===l-1},c.rowKey))})}function Zle({updateFormDataForRow:e,clearAll:t,renderRow:n,readOnly:r,value:s,forceFullWidth:a=!1}){const{dataRow:i,uiRow:l,rowKey:c}=n,d=L(),f=u.useCallback(A=>{s===void 0?e([A]):s.includes(A)?e(s.filter(M=>M!==A)):e([...s,A])},[s,e]),[m,p]=u.useState(!1),[g,v]=u.useState(""),[h,x]=u.useState(!1),[y,b]=u.useState(void 0);u.useEffect(()=>{p(!1),v("")},[h]);const S=u.useCallback(()=>{f(g),p(!1),v(""),y&&b([...y,g])},[g,f,p,v,y]);u.useEffect(()=>{"enum"in i&&i.enum&&b(i.enum)},[i]);const T=u.useMemo(()=>{const A=i.type,M=mP(s)||s===""||Array.isArray(s)&&s.length===0;if(y){const P=M?d.formatMessage({id:"Dzsmf1",defaultMessage:"Any"}):s.length===1?s[0]:s[0]+` + ${s.length-1}`;return o.jsxs(te.Root,{open:h,onOpenChange:x,children:[o.jsxs(te.Trigger,{className:"border-token-main-surface-quaternary w-full justify-between rounded-md border bg-token-main-surface-primary text-left text-token-text-secondary hover:!bg-token-main-surface-primary dark:bg-token-main-surface-secondary",children:[o.jsx("span",{className:"truncate text-token-text-primary",children:P}),o.jsx(Xl,{className:"icon-sm text-token-text-tertiary"})]}),o.jsx(te.Portal,{children:o.jsxs(te.Content,{size:"medium",children:[o.jsx(te.MultiSelectCheckboxItem,{checked:s?.length===0||s===void 0,onCheckedChange:t,children:o.jsx(C,{id:"Dzsmf1",defaultMessage:"Any"})},"any"),o.jsx("hr",{className:"border-token-main-surface-quaternary mx-2 my-2"}),y.map(I=>o.jsx(te.MultiSelectCheckboxItem,{checked:s?.includes(I),onCheckedChange:()=>f(I),children:o.jsx("span",{className:"pr-2",children:I})},I)),o.jsx("hr",{className:"border-token-main-surface-quaternary mx-2 my-2"}),m?o.jsxs("div",{className:"flex w-full flex-row items-center justify-between pr-5",children:[o.jsx(ol,{autoFocus:!0,name:"new-option",className:"w-0 flex-1 flex-grow rounded-md border-none bg-token-main-surface-primary text-left text-token-text-secondary focus-within:!ring-0 hover:!bg-token-main-surface-primary dark:bg-token-main-surface-secondary",value:g,placeholder:d.formatMessage({id:"LhAlwa",defaultMessage:"Add option..."}),ariaLabel:d.formatMessage({id:"XElhCL",defaultMessage:"New option"}),onChange:I=>v(I.target.value),onKeyDown:I=>I.stopPropagation(),onPressEnter:S}),o.jsx("button",{className:"flex-shrink-0 cursor-pointer",onClick:S,children:o.jsx(us,{className:"icon-sm text-token-text-primary"})})]}):o.jsx("div",{className:"flex px-2",children:o.jsx("button",{className:"w-full rounded-md border-none bg-token-main-surface-primary p-2 text-start text-sm hover:bg-token-main-surface-secondary",onClick:()=>p(!0),children:o.jsx(C,{id:"lMgmto",defaultMessage:"Add Option..."})})})]})})]})}else return A==="string"||A==="integer"?o.jsx(ol,{ariaLabel:d.formatMessage({id:"M18pon",defaultMessage:"Form row"}),name:c,color:"quaternary",placeholder:l.placeholder,value:s??"",type:"text",className:N("border-token-main-surface-quaternary text-token-text-primary",M&&"text-token-text-quaternary"),onChange:P=>e(P.target.value),disabled:r}):null},[i,s,l.placeholder,f,d,c,r,e,t,m,g,h,y,S]);if(!T)return null;const k=a||!y;return o.jsx(Yle,{label:l.label,className:N("col-span-1 flex flex-col justify-between",k&&"sm:col-span-2"),children:T})}function Yle({children:e,label:t,className:n}){return o.jsxs("div",{className:n,children:[o.jsx("p",{className:"mb-1 font-[550]",children:t}),o.jsx("div",{children:e})]})}function H7({className:e}){return o.jsx("div",{className:N("loading-results-shimmer rounded-md",e),children:""})}function B0({className:e}){return o.jsxs("div",{className:N("flex w-full flex-col gap-1",e),children:[o.jsx(H7,{className:"h-[26px] w-[105px]"}),o.jsx(H7,{className:"h-[42px] w-full"})]})}function _Ae(){return o.jsxs(zle,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[o.jsx(B0,{className:"col-span-1"}),o.jsx(B0,{className:"col-span-1"}),o.jsx(B0,{className:"col-span-1 sm:col-span-2"})]}),o.jsxs("div",{className:"flex w-full justify-between",children:[o.jsx(G,{disabled:!0,color:"secondary",className:"text-token-text-secondary",children:o.jsx(C,{id:"Sen69P",defaultMessage:"Add a detail"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(G,{disabled:!0,color:"secondary",className:"text-token-text-secondary",children:o.jsx(C,{id:"Uqo7UD",defaultMessage:"Reset"})}),o.jsx(G,{disabled:!0,children:o.jsx(C,{id:"FVou++",defaultMessage:"Start"})})]})]})]})}const aS=0,oS=700,Kle=e=>Array.from(e.match(/\s*\S+(?:\s+|$)/g)??[]),Qle=/^\s*$/,Xle=()=>{const{locale:e}=L(),t=u.useMemo(()=>{try{return new Intl.Segmenter(e,{granularity:"word"})}catch{return null}},[e]);return u.useCallback(r=>{if(t==null)return Kle(r);const s=[];for(const{segment:a}of t.segment(r))if(Qle.test(a)){const i=Math.max(s.length-1,0);s[i]??="",s[i]+=a}else s.push(a);return s},[t])},Jle=u.createContext({isDisabled:!1,segmentText:()=>[],enqueueElement:()=>{},dequeueElement:()=>{},updateElementBounds:()=>{},reportReady:()=>{},reportProgress:()=>{},reportComplete:()=>{},lastPositionCompletedAnimating:null,activeStartPos:null,animationTiming:{durationMs:oS,delayMs:aS}}),di=(e,t)=>`${e}-${t}`,ece=e=>{const[t,n]=e.split("-");return{tag:t,startPos:parseInt(n)}},EAe=({isDisabled:e,onComplete:t,children:n,defaultDelayPerSegmentMs:r=aS,defaultAnimationDurationPerSegmentMs:s=oS})=>{const a=u.useRef(new Set),[i,l]=u.useState(null),[c,d]=u.useState(null),f=u.useRef(new Map),m=u.useRef(null),p=u.useCallback((T,k,A,M)=>{m.current=Math.max(m.current??0,A),f.current.set(di(T,k),{start:k,end:A,numChildren:M})},[]),g=u.useCallback((T,k)=>{c!=null&&k<=c||(a.current.add(di(T,k)),a.current.size===1&&d(k))},[c]),v=u.useCallback((T,k)=>{const A=di(T,k);a.current.delete(A),f.current.delete(A)},[]),[h]=u.useState(()=>({delayMs:r,durationMs:s})),x=u.useCallback((T,k,A)=>{if(k!==c)return;const M=di(T,k),P=f.current.get(M)?.end,I=m.current;if(P==null||I==null)return;const D=Math.ceil(I-(k+(P-k)*A));Q.hist(K.DEFAULT,"text_entry_animation.chars_behind",void 0,D)},[c]),y=u.useCallback((T,k)=>{const A=di(T,k);if(!a.current.has(A))return;a.current.delete(A);let M=null;for(const P of a.current){const{startPos:I}=ece(P);(M==null||I<M)&&(M=I)}M!=null&&d(M)},[]),b=u.useCallback(T=>{a.current.size===0&&t?.(),l(k=>Math.max(k??0,T))},[t]),S=Xle();return o.jsx(Jle.Provider,{value:{lastPositionCompletedAnimating:i,isDisabled:e,activeStartPos:c,animationTiming:h,segmentText:S,enqueueElement:g,dequeueElement:v,updateElementBounds:p,reportProgress:x,reportReady:y,reportComplete:b},children:n})};function G1(){const{value:e}=st("2304807207");return e}function kAe(){return o.jsx("span",{className:"result-streaming streaming-dot relative pt-1",children:""})}const iS=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M18.9953 11.5415C19.5246 11.6991 19.826 12.2559 19.6685 12.7852C18.7771 15.7804 16.179 18.0417 13 18.4381V19.5H14.5C15.0523 19.5 15.5 19.9477 15.5 20.5C15.5 21.0523 15.0523 21.5 14.5 21.5H9.50002C8.94773 21.5 8.50002 21.0523 8.50002 20.5C8.50002 19.9477 8.94773 19.5 9.50002 19.5H11V18.4381C7.82093 18.0418 5.22279 15.7805 4.33136 12.7852C4.17382 12.2559 4.47522 11.6991 5.00456 11.5415C5.5339 11.384 6.09073 11.6854 6.24827 12.2148C6.98609 14.6939 9.28339 16.5 11.9999 16.5C14.7165 16.5 17.0138 14.6939 17.7516 12.2148C17.9091 11.6854 18.466 11.384 18.9953 11.5415Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 10.5V7C14.5 5.61929 13.3807 4.5 12 4.5C10.6193 4.5 9.5 5.61929 9.5 7V10.5C9.5 11.8807 10.6193 13 12 13C13.3807 13 14.5 11.8807 14.5 10.5ZM12 2.5C9.51472 2.5 7.5 4.51472 7.5 7V10.5C7.5 12.9853 9.51472 15 12 15C14.4853 15 16.5 12.9853 16.5 10.5V7C16.5 4.51472 14.4853 2.5 12 2.5Z",fill:"currentColor"})),tce=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M7.7587 4.5H11.2413C12.0463 4.49999 12.7106 4.49998 13.2518 4.54419C13.8139 4.59012 14.3306 4.68868 14.816 4.93597C15.5686 5.31947 16.1805 5.93139 16.564 6.68404C16.8113 7.16937 16.9099 7.68608 16.9558 8.24817C16.9638 8.34602 16.9704 8.44789 16.9757 8.55389L19.7207 6.55754C20.8774 5.71631 22.5 6.54258 22.5 7.97283V16.0272C22.5 17.4574 20.8774 18.2837 19.7207 17.4425L16.9757 15.4461C16.9704 15.5521 16.9638 15.654 16.9558 15.7518C16.9099 16.3139 16.8113 16.8306 16.564 17.316C16.1805 18.0686 15.5686 18.6805 14.816 19.064C14.3306 19.3113 13.8139 19.4099 13.2518 19.4558C12.7106 19.5 12.0463 19.5 11.2413 19.5H7.75873C6.95374 19.5 6.28938 19.5 5.74818 19.4558C5.18608 19.4099 4.66937 19.3113 4.18404 19.064C3.43139 18.6805 2.81947 18.0686 2.43597 17.316C2.18868 16.8306 2.09012 16.3139 2.04419 15.7518C1.99998 15.2106 1.99999 14.5463 2 13.7413V10.2587C1.99999 9.45373 1.99998 8.78937 2.04419 8.24817C2.09012 7.68608 2.18868 7.16937 2.43597 6.68404C2.81947 5.93139 3.43139 5.31947 4.18404 4.93597C4.66937 4.68868 5.18608 4.59012 5.74817 4.54419C6.28937 4.49998 6.95373 4.49999 7.7587 4.5ZM17 12.9908L20.5 15.5362V8.46377L17 11.0092V12.9908ZM5.91104 6.53755C5.47262 6.57337 5.24842 6.6383 5.09202 6.71799C4.7157 6.90973 4.40973 7.2157 4.21799 7.59202C4.1383 7.74842 4.07337 7.97262 4.03755 8.41104C4.00078 8.86113 4 9.44342 4 10.3V13.7C4 14.5566 4.00078 15.1389 4.03755 15.589C4.07337 16.0274 4.1383 16.2516 4.21799 16.408C4.40973 16.7843 4.7157 17.0903 5.09202 17.282C5.24842 17.3617 5.47262 17.4266 5.91104 17.4624C6.36113 17.4992 6.94342 17.5 7.8 17.5H11.2C12.0566 17.5 12.6389 17.4992 13.089 17.4624C13.5274 17.4266 13.7516 17.3617 13.908 17.282C14.2843 17.0903 14.5903 16.7843 14.782 16.408C14.8617 16.2516 14.9266 16.0274 14.9624 15.589C14.9992 15.1389 15 14.5566 15 13.7V10.3C15 9.44342 14.9992 8.86113 14.9624 8.41104C14.9266 7.97262 14.8617 7.74842 14.782 7.59202C14.5903 7.2157 14.2843 6.90973 13.908 6.71799C13.7516 6.6383 13.5274 6.57337 13.089 6.53755C12.6389 6.50078 12.0566 6.5 11.2 6.5H7.8C6.94342 6.5 6.36113 6.50078 5.91104 6.53755Z",fill:"currentColor"}));function nce(e){const t=Math.floor(e/60),n=Math.floor(t/60),r=String(Math.floor(e)%60).padStart(2,"0"),s=String(t%60).padStart(2,"0");return n===0?`${s}:${r}`:`${n}:${s}:${r}`}function rce(e){const t=e?.audio_asset_pointer?.metadata;if(t?.start!==void 0&&t?.end!==void 0)return t.end-t.start}const TAe=u.memo(function(t){const n=L(),{content:r,metadata:s}=t.message;if(!(r.content_type==="multimodal_text"&&t.isUserTurn))return;const i=r.parts.filter(d8.isPartRealTimeUserAudioVideoAssetPointer).find(c=>c.audio_asset_pointer),l=rce(i);return o.jsxs("div",{className:"my-2 mr-4 flex flex-row justify-end gap-1 text-xs text-token-text-secondary",children:[s?.real_time_audio_has_video&&o.jsx(tce,{"aria-label":n.formatMessage({id:"/nS9Zn",defaultMessage:"Recorded with video or screenshare"}),className:"icon-sm"}),i&&o.jsx(iS,{"aria-label":n.formatMessage({id:"eP1JEa",defaultMessage:"Recorded with voice"}),className:"icon-sm"}),l!==void 0&&o.jsx("span",{className:"font-semibold",children:nce(l)})]})});function AAe(e){}function lS({type:e="info",children:t,isDismissible:n=!1,onDismiss:r,className:s,isElevated:a=!1,primaryAction:i,customIcon:l,iconCentered:c=!1}){const[d,f]=u.useState(!1);if(d)return null;let m;return e!=="none"&&(m=l||r1),o.jsxs(sce,{$type:e,className:N("flex w-full items-center gap-6 rounded-2xl border text-sm",e==="warning"||e==="danger"?"bg-opacity-5":"bg-opacity-10",n?"py-2.5 pl-3 pr-2 md:py-3 md:pl-4 md:pr-3":"px-3 py-2.5 md:p-4",a&&"shadow-xxs",s),children:[o.jsxs("div",{className:N("flex grow gap-3",c?"items-center":"items-start"),children:[m&&o.jsx(m,{className:N("icon-lg shrink-0",n&&"mt-[2px] md:mt-px",(e==="info"||e==="none")&&"text-token-text-secondary")}),o.jsx("div",{className:N("grow",n?"pt-[4px] md:pt-[3px]":"pt-[2px]",!m&&"pl-1"),children:t})]}),i,n&&o.jsx("button",{onClick:()=>{f(!0),r?.()},className:N("flex h-7 w-7 shrink-0 items-center justify-center self-start rounded-full bg-transparent text-token-text-primary",(e==="info"||e==="none")&&"hover:bg-token-main-surface-secondary",e==="danger"&&"hover:bg-token-surface-error/10",e==="warning"&&"hover:bg-orange-400/10"),children:o.jsx(aa,{className:"icon-md"})})]})}const sce=ce.div`
${({$type:e})=>{switch(e){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 bg-orange-400 bg-opacity-0 border-orange-400/15";case"success":return"text-green-500 border-green-500 bg-green-500 bg-opacity-0";default:return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0"}}}`;function cS(e,t,n){return e.get(t,n)}function ur({globalOverride:e,layer:t,condition:n,paramName:r,defaultValue:s}){const a=u.useRef(n);return Bd(()=>{a.current=n},[n]),u.useCallback(i=>!a.current||a.current()?e!==void 0&&!i?.skipOverride?e:(i?.override&&!i.skipOverride&&V.addError(new Error("override is not allowed in production")),cS(t,r,s)):s,[t,r,s,e])}const ace=e=>{const{layer:t,condition:n,paramName:r,defaultValue:s,override:a}=e;return n&&!n()?s:(a!==void 0&&V.addError(new Error("override is not allowed in production")),cS(t,r,s))};function PAe(){return!1}const NAe=e=>{const t=pP("453021389");return ace({layer:t,paramName:"enable-block-animations",defaultValue:!1,override:e})},oce=({textdocId:e,clientThreadId:t})=>{const n=On(f=>f?.resolveTempTextdocId[e]??e),r=a1(n),s=Zp(n),a=o1(),i=On(f=>{const m=f?.lastCanvasAssistantMessageById;return m==null||n==null?!0:m[n]==null});if(!r)return null;const l=()=>{fs(n)},{title:c,type:d}=r;return o.jsx("div",{className:"flex w-full justify-end",children:o.jsx(pm,{textdocId:n,clientThreadId:t,name:c,tag:d,icon:Wa(d,!1),iconSelected:Wa(d,!0),isCanvasOpen:a,isInlinePreview:i,isFocused:s,isUserMessage:!0,onClick:l})})},jAe=({messages:e,clientThreadId:t})=>{const[n]=e,r=n?.metadata?.canvas;return!r||r.user_message_type!=null?null:o.jsx(o.Fragment,{children:r.user_created_textdocs?.map(({user_created_temp_textdoc_id:s})=>o.jsx(oce,{textdocId:s,clientThreadId:t},s))})};function ice(e){return e!==e}var lce=ice;function cce(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var uce=cce,dce=gP,fce=lce,mce=uce;function pce(e,t,n){return t===t?mce(e,t,n):dce(e,fce,n)}var gce=pce,hce=gce;function vce(e,t){var n=e==null?0:e.length;return!!n&&hce(e,t,0)>-1}var xce=vce;function Cce(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var yce=Cce,U0=hP,bce=vP,wce=f8,Sce=1/0,Mce=U0&&1/wce(new U0([,-0]))[1]==Sce?function(e){return new U0(e)}:bce,_ce=Mce,Ece=xP,kce=xce,Tce=yce,Ace=CP,Pce=_ce,Nce=f8,jce=200;function Ice(e,t,n){var r=-1,s=kce,a=e.length,i=!0,l=[],c=l;if(n)i=!1,s=Tce;else if(a>=jce){var d=t?null:Pce(e);if(d)return Nce(d);i=!1,s=Ace,c=new Ece}else c=t?[]:l;e:for(;++r<a;){var f=e[r],m=t?t(f):f;if(f=n||f!==0?f:0,i&&m===m){for(var p=c.length;p--;)if(c[p]===m)continue e;t&&c.push(m),l.push(f)}else s(c,m,n)||(c!==l&&c.push(m),l.push(f))}return l}var Rce=Ice,Lce=jd,Oce=Rce;function Dce(e,t){return e&&e.length?Oce(e,Lce(t)):[]}var Fce=Dce;const $ce=ue(Fce),Yn=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M3.51117 18.4269L4.39319 19.9615C4.57646 20.2846 4.83992 20.5384 5.1492 20.723L8.29926 15.2307H1.99915C1.99915 15.5884 2.09078 15.9461 2.27406 16.2692L3.51117 18.4269Z",fill:"#0066DA"}),u.createElement("path",{d:"M11.9991 8.76916L8.84909 3.27686C8.53981 3.46147 8.27635 3.71532 8.09307 4.03839L2.27406 14.1922C2.09415 14.5083 1.99939 14.8663 1.99915 15.2307H8.29926L11.9991 8.76916Z",fill:"#00AC47"}),u.createElement("path",{d:"M18.8492 20.723C19.1585 20.5384 19.422 20.2846 19.6053 19.9615L19.9718 19.3269L21.7244 16.2692C21.9077 15.9461 21.9993 15.5884 21.9993 15.2307H15.6987L17.0394 17.8846L18.8492 20.723Z",fill:"#EA4335"}),u.createElement("path",{d:"M11.9981 8.76923L15.1482 3.27692C14.8389 3.09231 14.4838 3 14.1173 3H9.87901C9.51246 3 9.15736 3.10385 8.84808 3.27692L11.9981 8.76923Z",fill:"#00832D"}),u.createElement("path",{d:"M15.6984 15.2307H8.29862L5.14856 20.723C5.45784 20.9076 5.81294 20.9999 6.17949 20.9999H17.8175C18.1841 20.9999 18.5392 20.8961 18.8484 20.723L15.6984 15.2307Z",fill:"#2684FC"}),u.createElement("path",{d:"M18.8148 9.11532L15.9053 4.03839C15.722 3.71532 15.4585 3.46147 15.1493 3.27686L11.9992 8.76916L15.6991 15.2307H21.9878C21.9878 14.873 21.8961 14.5153 21.7128 14.1922L18.8148 9.11532Z",fill:"#FFBA00"})),td=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#4285F4"}),u.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#1967D2"}),u.createElement("path",{d:"M8 13.75C8 13.6119 8.11193 13.5 8.25 13.5H15.75C15.8881 13.5 16 13.6119 16 13.75V14.75C16 14.8881 15.8881 15 15.75 15H8.25C8.11193 15 8 14.8881 8 14.75V13.75ZM8 16.75C8 16.6119 8.11193 16.5 8.25 16.5H13.75C13.8881 16.5 14 16.6119 14 16.75V17.75C14 17.8881 13.8881 18 13.75 18H8.25C8.11193 18 8 17.8881 8 17.75V16.75Z",fill:"white"}),u.createElement("path",{d:"M8 10.75C8 10.6119 8.11193 10.5 8.25 10.5H15.75C15.8881 10.5 16 10.6119 16 10.75V11.75C16 11.8881 15.8881 12 15.75 12H8.25C8.11193 12 8 11.8881 8 11.75V10.75Z",fill:"white"})),Bce="webp",Uce=257,Hce=257,Vce="srgb",Gce=4,Wce="uchar",zce=150,qce=!1,Zce=!1,Yce=!0,Kce="{{.assetPrefix}}/assets/app-slack-icon-csww4pm2.webp",Qce={format:Bce,width:Uce,height:Hce,space:Vce,channels:Gce,depth:Wce,density:zce,isProgressive:qce,hasProfile:Zce,hasAlpha:Yce,src:Kce},V7={"https://docs.google.com/document":"Google Docs","https://docs.google.com/presentation":"Google Slides","https://docs.google.com/spreadsheets":"Google Sheets","https://drive.google.com/":"Google Drive"},Xce=/^(https:\/\/)([a-zA-Z0-9-]+\.)slack\.com(\/.*)?$/;function uS(e){if(e){if(Xce.test(e))return"Slack";{const t=Object.keys(V7).find(n=>e.startsWith(n));return t?V7[t]:void 0}}}function Jce(e){return o.jsx("img",{src:Qce.src,...e})}function dS(e){switch(e){case"Google Docs":return td;case"Google Slides":return al;case"Google Sheets":return Co;case"Google Drive":return Yn;case"Slack":return Jce;default:return null}}function eue(e){const t=uS(e);if(!t)return null;const n=dS(t);return n?{type:t,Icon:n}:null}function IAe(e){if(e.type==="file"){const t=e.extra?.cloud_doc_url;if(!t)return;const n=uS(t);if(!n)return;const r=e.name;return{url:t,type:n,title:nue(n)?rue(r):r}}}const tue=["Google Docs","Google Slides","Google Sheets"];function nue(e){return tue.includes(e)}function rue(e){const t=e.lastIndexOf(".");return t!==-1?e.slice(0,t):e}function RAe({citationMetadata:e,compact:t}){if(!e)return null;const n=dS(e.type);return n?t?o.jsx("a",{href:du(e.url),target:"_blank",rel:"noreferrer",children:o.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-clip rounded-lg border border-gray-200 px-[16px] py-2",children:[o.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:e.type}),o.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title?e.title:du(e.url)})]})}):o.jsx("a",{href:du(e.url),target:"_blank",rel:"noreferrer",children:o.jsxs("div",{className:"flex flex-col gap-[2px] overflow-clip rounded-lg border border-gray-200 px-[16px] py-[12px]",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-0.5",children:[o.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:e.type}),o.jsx("p",{className:"text-xs leading-normal text-token-text-secondary",children:e.type})]}),o.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title})]})}):null}const W1=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6C5.55228 6 6 6.44772 6 7V11C6 11.5523 6.44772 12 7 12H16.5858L14.2929 9.70711C13.9024 9.31658 13.9024 8.68342 14.2929 8.29289C14.6834 7.90237 15.3166 7.90237 15.7071 8.29289L19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L15.7071 17.7071C15.3166 18.0976 14.6834 18.0976 14.2929 17.7071C13.9024 17.3166 13.9024 16.6834 14.2929 16.2929L16.5858 14H7C5.34315 14 4 12.6569 4 11V7C4 6.44772 4.44772 6 5 6Z",fill:"currentColor"}));function LAe({hint:e}){if(!e)return null;const t=eue(e.url??"");return o.jsxs("div",{className:"flex items-center text-token-text-tertiary",children:[o.jsx(W1,{className:"icon-md flex-0 mr-2"}),o.jsx("span",{className:"flex-1",children:o.jsx(C,{id:"Y+ZBkg",defaultMessage:"Referring to {fileName}",values:{fileName:o.jsxs("a",{className:"font-semibold text-token-text-secondary hover:underline",href:e.url,children:[t&&o.jsx(t.Icon,{className:"icon-md mr-1 inline"}),e.name]})}})})]})}function sue(e,t=[]){if(t.length===0)return e;const n=t.filter(r=>r.end_ix<=e.length&&r.citation_format_type==="tether_markdown"&&r.metadata?.type==="webpage");for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.metadata?.type!=="webpage")continue;const{start_ix:a,end_ix:i,metadata:l}=s,d=e.substring(a,i).replace(/\[(.*?)\]\((\d+)\)/g,`[$1](${l?.url})`);e=e.substring(0,a)+d+e.substring(i)}return e}function aue(e,t=[]){if(t.length===0)return[];const n=[],r=t.filter(a=>a.end_ix<=e.length&&a.citation_format_type!=="tether_markdown"),s=yP(e);for(let a=r.length-1;a>=0;a--){const i=r[a];let l;const{start_ix:c,end_ix:d,metadata:f,invalid_reason:m}=i;if(!f?.type)continue;const p=s.slice(c,d).join("");switch(f.type){case"webpage":l={...f,type:"webpage",title:f.title??"",snippet:f.text??null,pub_date:oue(f.pub_date),matched_text:p,start_idx:c,end_idx:d,alt:null,prompt_text:null,safe_urls:[],attributions:null,refs:[]};break;case"file":l={...f,matched_text:p,start_idx:c,end_idx:d,alt:null,prompt_text:null,safe_urls:[],refs:[]};break}m&&(l={type:"invalid",alt:m,prompt_text:null,start_idx:c,end_idx:d,matched_text:p,invalid:!0,safe_urls:[],refs:[]});let g=!1;if(n.length>0){const v=n[n.length-1];G7(v)===G7(l)&&s.slice(v.end_idx,i.start_ix).join("").trim().length===0&&(n[n.length-1].end_idx=i.end_ix,g=!0)}!g&&l&&n.push(l)}return n}function OAe(e,t=[],n=[]){const r=sue(e,t),a=[...n.length>0?[]:aue(r,t),...n],i=Cl(a);return{text:r,contentReferences:i}}function G7(e){switch(e.type){case"file":return e.id;case"webpage":return e.url;case"invalid":return e.alt}}function oue(e){return e==null?null:new Date(e).getTime()/1e3}class iue{loggedEvents=new Set;logEvent(t,n,r){if(!this.loggedEvents.has(t)){const s=r??window.performance.now();E.logEvent(t,{timeMs:s,...n}),this.loggedEvents.add(t)}}}const DAe=new iue,lue={highlightedAttributions:new Set},W7=8,hm=de(()=>lue),z7={debugMode:!1,viewModelPredictedFallback:!1,disableSegmentReplacement:!1,useSigmoid:!0,influenceTemperature:.2,probThreshold:.45,probBaseline:.02},Zo=de()(Cp(()=>({...z7}),{name:"search.attributions-settings",version:W7,migrate:(e,t)=>t!==W7?z7:e}));function fS(e,t){return`${e}-${t}`}const q7={setHighlight:(e,t)=>{if(e==null)return;if(t==null||t.length===0)return q7.clearHighlights();Array.isArray(t)||(t=[t]);const n=new Set;for(const r of t)n.add(fS(e,r));return hm.setState(()=>({highlightedAttributions:n}))},setHighlightBySource:(e,t)=>{let n;"attribution_segments"in t&&(n=t.attribution_segments??void 0),q7.setHighlight(e,n)},clearHighlights:()=>hm.setState({highlightedAttributions:new Set})},FAe=()=>Zo(e=>e.viewModelPredictedFallback),$Ae=()=>Zo(e=>e.debugMode),BAe=()=>Zo(e=>e.useSigmoid),UAe=(e,t)=>hm(n=>e==null?!1:n.highlightedAttributions.has(fS(e,t))),HAe=()=>Zo(e=>e.disableSegmentReplacement),VAe=()=>Zo(e=>e.influenceTemperature),GAe=()=>Zo(e=>e.probBaseline);function WAe(e,t=1,n){return e}function zAe(e,t=1,n=.1){return e}const qAe=u.createContext(void 0);function ZAe({messages:e,clientThreadId:t}){const[n,r]=u.useState(),s=L(),a=_o(t);let i=null;for(const l of e)if(l.metadata?.dalle?.from_client?.operation!=null){i=l.metadata.dalle.from_client.operation;break}return u.useEffect(()=>{if(i==null)return;const l=i.original_file_id;async function c(d){try{const f=await fe.getFileDownloadLink(d,void 0,void 0,a);f.status===yl.Success?r(f.download_url):V.addError(`Error fetching URL for file ${d}: ${f.status}`)}catch(f){V.addError(new Error(`Error fetching URL for file ${d}`,{cause:f}))}}c(l)},[a,i]),i==null?null:o.jsxs("div",{className:"mb-2 mr-5 mt-2 flex items-center justify-end gap-1 text-token-text-tertiary",children:[o.jsx(W1,{className:"icon-md shrink-0"}),n==null?o.jsx("div",{className:"h-7"}):o.jsxs(o.Fragment,{children:[o.jsx("img",{src:n,alt:s.formatMessage({id:"textMessage.editedImageAltText",defaultMessage:"Edited image"}),className:"h-7 w-auto rounded opacity-50"}),i.type==="inpainting"&&o.jsx("span",{className:"ml-1 text-sm font-semibold",children:o.jsx(C,{id:"textMessage.inpaintedImage",defaultMessage:"Selection"})})]})]})}const cue=({disclaimerContent:e})=>{let t;switch(e){case"us_elections_policy":t=o.jsx(C,{id:"D1Mw8a",defaultMessage:"Always verify information about voting with your state or local election authority. For more information, visit <usElectionLink></usElectionLink>.",values:{usElectionLink:()=>o.jsx("a",{target:"_blank",href:"https://canivote.org",rel:"noreferrer",className:"underline hover:no-underline",children:"canivote.org"})}});break;case"eu_elections_policy":t=o.jsx(C,{id:"Disclaimer.EUElections",defaultMessage:"Always verify information about voting with your local election authority. For more information about the EU elections, visit <euElectionLink></euElectionLink>.",values:{euElectionLink:()=>o.jsx("a",{target:"_blank",href:"https://elections.europa.eu",rel:"noreferrer",className:"underline hover:no-underline",children:"elections.europa.eu"})}});break;case"generic_elections_policy":t=o.jsx(C,{id:"Disclaimer.GenericElections",defaultMessage:"Always verify information about voting with your local election authority."});break;default:t=o.jsx(qo,{className:"text-sm",componentOverrides:{a:n=>{const{node:r,children:s,...a}=n;return o.jsx("a",{...a,target:"_blank",rel:"noreferrer",className:"underline hover:no-underline [&&]:text-black [&&]:underline [&&]:hover:text-black [&&]:dark:text-white [&&]:hover:dark:text-white",children:s})}},children:e})}return o.jsx(lS,{className:"w-fit self-start",children:t})};function YAe({message:e}){return e?.clientMetadata?.disclaimers?.length?o.jsx("div",{className:"flex flex-col gap-2",children:e.clientMetadata.disclaimers.map(t=>o.jsx(cue,{disclaimerContent:t},t))}):null}const uue="application/vnd.google-apps.spreadsheet",due="application/vnd.google-apps.presentation",fue="application/vnd.google-apps.document",mue=["xlsx","pptx","docx","page","issue"],pue={[uue]:"xlsx",[due]:"pptx",[fue]:"docx"};function mS(e){return e?pue[e.split(";")[0]]??null:null}function gue(e){return mue.includes(e)}function hue(e){return e&&gue(e)?e:null}var Ye=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e))(Ye||{});function vue(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:hue(e.synthetic_extension),type:e.type}}var _r=(e=>(e.Uploading="uploading",e.Ready="ready",e))(_r||{});function il(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function xue(e){return"file-service://"+e}function KAe(e){return e.startsWith("file-service://")}function vm(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(Ot.fileZeroBytes,n);case"file_too_large":return e.formatMessage(Ot.fileTooLarge,n);case"over_user_quota":return e.formatMessage(Ot.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(Ot.fileNotFound,n);case"file_timed_out":return e.formatMessage(Ot.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(Ot.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(Ot.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(Ot.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(Ot.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(Ot.fileEmpty,n);case"too_many_tokens":return e.formatMessage(Ot.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(Ot.fileEncrypted,n);case"file_corrupted":return e.formatMessage(Ot.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(Ot.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(Ot.unknownError)}}function QAe(){const e=L();return u.useCallback((t,n)=>vm(e,t,n),[e])}function XAe(){const{session:e}=Mp(),{isUnauthenticated:t}=at(),n=L(),r=Be();return async(s,a)=>{if(!t&&e==null)return r.danger(n.formatMessage(Ot.fileDownloadFailed)),!1;try{const i=await fe.getFileDownloadLink(s,void 0,t);if(i.status!==yl.Success)throw new Error("File is not ready to download: "+JSON.stringify(i));const l=i.download_url,c=document.createElement("a");c.href=l,c.download=a,c.click(),window.open(l,"_blank")}catch{return r.danger(n.formatMessage(Ot.fileDownloadFailed)),!1}return!0}}function z1(e,t){return(t?.kind===ke.GizmoInteraction||t?.kind===ke.GizmoTest)&&!(t?.gizmo&&Kx(t?.gizmo))?t.gizmo?.product_features:e?.product_features}function pS(e,t,n){const r=z1(e,t);return n.has(Ne.Research)?Ye.Retrieval:r?.attachments?.type===Ba.CodeInterpreter?Ye.Interpreter:r?.attachments?.type===Ba.Multimodal?Ye.Multimodal:r?.attachments?.type===Ba.Retrieval?Ye.Retrieval:r?.attachments?.type===Ba.ContextConnector?Ye.ContextConnector:Ye.None}function gS(e){const t=e.split(".").pop()?.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t??""]||""}function Cue(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function hS(e,t,n){const r=gS(e);return r&&(t=r),n&&(t=Cue(t)),t}function yue(e,t,n,r,s){if(s==null)return e;const a=hS(t,n,r),{accepted_mime_types:i,can_accept_all_mime_types:l}=s;return i==null||i.length===0||!l||i.includes(a)?e:Ye.Interpreter}function JAe(e,t,n,r){const s=hS(n,t,r),a=e?.product_features?.attachments;if(a!=null)return a.accepted_mime_types?.includes(s)?a.type:a.image_mime_types?.includes(s)?Ba.Multimodal:Ba.CodeInterpreter}function ePe(e,t){const n=z1(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function bue(e,t){const n=z1(e,t),{attachments:r}=n??{};return r?.image_mime_types?r.image_mime_types:r?.type==="multimodal"?r.accepted_mime_types??wue:[]}const wue=["image/png","image/jpeg","image/gif","image/webp"];function tPe(e){return u.useMemo(()=>{if(e===void 0)return{};const t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((n,r)=>(r in t?n[r]=t[r]:r.includes("/")&&(n[r]=[`.${r.split("/")[1]}`]),n),{})}},[e])}function ps(e){return e.split(".").pop()?.toLowerCase()}function Bh(e){const t=ps(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function Sue(e){const t=ps(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function nPe(e){const t=ps(e);return t!=null&&["xls","xlsx"].includes(t)}function vS(e,t,n="fit"){return new Promise((r,s)=>{const a=new FileReader;a.onerror=i=>{V.addError(new Error("File reading has failed:",{cause:i})),s(new Error("Failed to read the file."))},a.onload=i=>{const l=new Image;l.onerror=c=>{V.addError(new Error("Image loading has failed:",{cause:c})),s(new Error("Failed to load the image."))},l.onload=()=>{const c=document.createElement("canvas");let d,f=0,m=0;switch(n){case"fill":d=t/Math.min(l.width,l.height);break;case"square":d=t/Math.min(l.width,l.height);break;case"fit":d=t/Math.max(l.width,l.height);break}const p=l.width*d,g=l.height*d;n==="square"?(c.width=t,c.height=t,f=(t-p)/2,m=(t-g)/2):(c.width=p,c.height=g);const v=c.getContext("2d");if(v==null){V.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),s(new Error("Failed to create canvas context."));return}v.drawImage(l,f,m,p,g);const h=e.type||"image/png";c.toBlob(x=>{x?r(new File([x],e.name,{type:h})):(V.addError("Blob creation failed. Blob is null."),s(new Error("Failed to create blob from image data.")))},h)},i.target==null?(V.addError("Event target is null. Failed to load image."),s("Failed to load image.")):l.src=i.target.result},a.readAsDataURL(e)})}function rPe(e,t){return vS(e,t,"square")}function Mue(e){const t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function xS(e,t){return t?e.slice(0,-t.length-1):e}const Ot=U({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}}),_ue=e=>({type:"table",file_id:e.id??"",title:Mue(e),file_name:e.name,context_connector_info:e.context_connector_info});function Eue(){return bP(hs.DataAnalysisV2)}const kue=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M7.70711 10.2929C7.31658 9.90237 6.68342 9.90237 6.29289 10.2929C5.90237 10.6834 5.90237 11.3166 6.29289 11.7071L11.2929 16.7071C11.6834 17.0976 12.3166 17.0976 12.7071 16.7071L17.7071 11.7071C18.0976 11.3166 18.0976 10.6834 17.7071 10.2929C17.3166 9.90237 16.6834 9.90237 16.2929 10.2929L13 13.5858L13 4C13 3.44771 12.5523 3 12 3C11.4477 3 11 3.44771 11 4L11 13.5858L7.70711 10.2929Z",fill:"currentColor"}),u.createElement("path",{d:"M5 19C4.44772 19 4 19.4477 4 20C4 20.5523 4.44772 21 5 21H19C19.5523 21 20 20.5523 20 20C20 19.4477 19.5523 19 19 19L5 19Z",fill:"currentColor"})),q1=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5C14.4477 5 14 4.55228 14 4C14 3.44772 14.4477 3 15 3H20C20.5523 3 21 3.44772 21 4V9C21 9.55228 20.5523 10 20 10C19.4477 10 19 9.55228 19 9V6.41421L13.7071 11.7071C13.3166 12.0976 12.6834 12.0976 12.2929 11.7071C11.9024 11.3166 11.9024 10.6834 12.2929 10.2929L17.5858 5H15ZM4 7C4 5.34315 5.34315 4 7 4H10C10.5523 4 11 4.44772 11 5C11 5.55228 10.5523 6 10 6H7C6.44772 6 6 6.44772 6 7V17C6 17.5523 6.44772 18 7 18H17C17.5523 18 18 17.5523 18 17V14C18 13.4477 18.4477 13 19 13C19.5523 13 20 13.4477 20 14V17C20 18.6569 18.6569 20 17 20H7C5.34315 20 4 18.6569 4 17V7Z",fill:"currentColor"})),Tue=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 6C18.4477 6 18 6.44772 18 7V11C18 11.5523 17.5523 12 17 12H7.41421L9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289C9.31658 7.90237 8.68342 7.90237 8.29289 8.29289L4.29289 12.2929C3.90237 12.6834 3.90237 13.3166 4.29289 13.7071L8.29289 17.7071C8.68342 18.0976 9.31658 18.0976 9.70711 17.7071C10.0976 17.3166 10.0976 16.6834 9.70711 16.2929L7.41421 14H17C18.6569 14 20 12.6569 20 11V7C20 6.44772 19.5523 6 19 6Z",fill:"currentColor"}));function Aue({contextConnectorSourceUrl:e,...t}){const n=L(),[r,s]=u.useState({width:0,height:0}),a=r.width/r.height,i=r.width>0&&r.height>0,l=u.useMemo(()=>{if(e!==void 0){let c=new URL(e);return c.protocol!=="https:"&&(c=void 0),c?.toString()}},[e]);return u.useEffect(()=>{if(!t.src)throw new Error("ExpandableImage requires a src");const c=new Image;c.onload=()=>{s({width:c.naturalWidth,height:c.naturalHeight})},c.onerror=()=>{},c.src=t.src},[t.src]),o.jsxs(Ud,{children:[o.jsx(Tp,{className:t.className,disabled:!i,children:t.children}),o.jsx(Hd,{children:o.jsxs(Vd,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[o.jsx(Gd,{asChild:!0,children:o.jsx("button",{className:"absolute right-4 top-4",children:o.jsx(aa,{className:"h-5 w-5 text-gray-100"})})}),o.jsxs(Wd,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:[o.jsx("div",{className:N("relative max-h-[85vh] max-w-[90vw]"),style:{aspectRatio:a},children:o.jsx("img",{src:t.src,alt:t.alt,className:"h-full w-full object-contain"})}),l&&o.jsx("div",{className:"absolute right-14 top-4",children:o.jsx(et,{label:n.formatMessage(Pue.openOriginal),children:o.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:o.jsx(Tue,{className:"h-5 w-5 rotate-180 text-gray-100"})})})})]})]})})]})}const Pue=U({openOriginal:{id:"ExpandableImage.openOriginal",defaultMessage:"Open original image"}});function Nue({fileId:e,fileName:t,closeModal:n}){const{data:r,isLoading:s}=ee({queryKey:["file-info",e],queryFn:async()=>await j.safeGet("/files/{file_id}",{parameters:{path:{file_id:e}}})}),{data:a,isLoading:i}=ee({queryKey:["file-preview",e],queryFn:async()=>{const c=await fe.getFileDownloadLink(e,void 0,!1,void 0,!0);if(c.status===yl.Success)return c.download_url;throw new Error("Failed to download file inline preview")}}),l=r&&r.mime_type==="application/pdf";return u.useEffect(()=>{r&&!l&&a&&(window.open(a,"_blank"),n())},[r,a,l,n]),o.jsx(he,{className:"min-h-[600px]",isOpen:!0,onClose:n,type:"success",title:t,showCloseButton:!0,size:"xlarge",children:s||i||!l||!a?o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(pr,{})}):o.jsx("iframe",{src:a,title:t,height:"100%",width:"100%"})})}const Uh=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M3.65266 16.5558C3.4665 16.8593 3.25742 17.2116 3.07985 17.4923C3.00344 17.6214 2.98074 17.7754 3.01663 17.921C3.05251 18.0667 3.14411 18.1925 3.27174 18.2713L6.99504 20.5626C7.05974 20.6025 7.13174 20.6292 7.20685 20.641C7.28197 20.6529 7.35868 20.6496 7.43253 20.6315C7.50637 20.6134 7.57587 20.5807 7.63697 20.5354C7.69806 20.4902 7.74954 20.4332 7.78838 20.3678C7.93732 20.1187 8.12921 19.795 8.33829 19.4485C9.81328 17.014 11.2969 17.3119 13.9719 18.5892L17.6637 20.3449C17.7329 20.3779 17.808 20.3966 17.8846 20.4C17.9612 20.4033 18.0376 20.3913 18.1095 20.3646C18.1813 20.3379 18.2471 20.2971 18.3028 20.2445C18.3586 20.1919 18.4033 20.1287 18.4341 20.0585L20.207 16.0488C20.2672 15.9112 20.2709 15.7554 20.2174 15.615C20.1638 15.4747 20.0572 15.361 19.9206 15.2984C19.1416 14.9318 17.5921 14.2015 16.1973 13.5284C11.1794 11.0911 6.91484 11.2486 3.65266 16.5558Z",fill:"#1868DB"}),u.createElement("path",{d:"M20.3472 7.4566C20.5334 7.15301 20.7424 6.80073 20.92 6.52005C20.9964 6.39094 21.0191 6.237 20.9832 6.09133C20.9474 5.94566 20.8558 5.81988 20.7281 5.74102L17.0048 3.44977C16.9396 3.40586 16.8661 3.37584 16.7888 3.36157C16.7116 3.3473 16.6322 3.34909 16.5556 3.36682C16.479 3.38455 16.4069 3.41785 16.3438 3.46463C16.2807 3.51142 16.2278 3.57071 16.1886 3.63879C16.0396 3.88797 15.8477 4.21161 15.6387 4.55816C14.1637 6.99262 12.6801 6.69476 10.005 5.41738L6.3247 3.6703C6.25549 3.63736 6.18038 3.61864 6.10381 3.61526C6.02724 3.61187 5.95076 3.62389 5.87892 3.6506C5.80708 3.67731 5.74133 3.71816 5.68556 3.77074C5.62979 3.82332 5.58515 3.88656 5.55426 3.95671L3.7814 7.96641C3.7212 8.10406 3.71748 8.25985 3.77105 8.40021C3.82463 8.54057 3.9312 8.65427 4.06781 8.7168C4.84684 9.0834 6.3963 9.81374 7.7911 10.4868C12.8204 12.9213 17.085 12.758 20.3472 7.4566Z",fill:"#1868DB"})),Z1=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{clipPath:"url(#clip0_1_2)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0099 0C5.36875 0 0 5.49998 0 12.3042C0 17.7432 3.43994 22.3472 8.21205 23.9767C8.80869 24.0992 9.02724 23.7119 9.02724 23.3862C9.02724 23.1009 9.00757 22.1232 9.00757 21.1044C5.6667 21.8379 4.97099 19.6377 4.97099 19.6377C4.43409 18.2117 3.63858 17.8452 3.63858 17.8452C2.54511 17.0914 3.71823 17.0914 3.71823 17.0914C4.93117 17.1729 5.56763 18.3544 5.56763 18.3544C6.64118 20.2284 8.37111 19.6989 9.06706 19.3729C9.16638 18.5784 9.48473 18.0284 9.82275 17.7229C7.15817 17.4377 4.35469 16.3784 4.35469 11.6522C4.35469 10.3077 4.8316 9.20771 5.58729 8.35222C5.46807 8.04672 5.0504 6.78347 5.70677 5.09273C5.70677 5.09273 6.72083 4.76673 9.00732 6.35572C9.98625 6.08639 10.9958 5.94938 12.0099 5.94823C13.024 5.94823 14.0577 6.09098 15.0123 6.35572C17.299 4.76673 18.3131 5.09273 18.3131 5.09273C18.9695 6.78347 18.5515 8.04672 18.4323 8.35222C19.2079 9.20771 19.6652 10.3077 19.6652 11.6522C19.6652 16.3784 16.8617 17.4172 14.1772 17.7229C14.6148 18.1099 14.9924 18.8432 14.9924 20.0044C14.9924 21.6544 14.9727 22.9787 14.9727 23.3859C14.9727 23.7119 15.1915 24.0992 15.7879 23.9769C20.56 22.3469 23.9999 17.7432 23.9999 12.3042C24.0196 5.49998 18.6312 0 12.0099 0Z",fill:"currentColor"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_1_2"},u.createElement("circle",{cx:12,cy:12,r:12,fill:"none"})))),Hh=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M20.248 3H11.5801C11.5801 4.03775 11.9923 5.03299 12.7261 5.76679C13.4599 6.50058 14.4552 6.91283 15.4929 6.91283H17.0896V8.45439C17.091 10.6134 18.8409 12.3633 20.9999 12.3647V3.75198C20.9999 3.33667 20.6633 3 20.248 3Z",fill:"#1868DB"}),u.createElement("path",{d:"M15.9593 7.31885H7.29138C7.29276 9.47788 9.04266 11.2278 11.2017 11.2292H12.7984V12.7757C12.8012 14.9348 14.5522 16.6836 16.7112 16.6836V8.07083C16.7112 7.65552 16.3746 7.31885 15.9593 7.31885Z",fill:"#1868DB"}),u.createElement("path",{d:"M11.6679 11.6353H3C3 13.7962 4.75183 15.5481 6.91283 15.5481H8.51455V17.0896C8.51593 19.2467 10.2628 20.9958 12.4199 21V12.3872C12.4199 11.9719 12.0832 11.6353 11.6679 11.6353Z",fill:"#1868DB"})),Vh=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint0_radial_3708_1151)"}),u.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint1_linear_3708_1151)"}),u.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint2_radial_3708_1151)"}),u.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint3_linear_3708_1151)"}),u.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint4_radial_3708_1151)"}),u.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint5_linear_3708_1151)"}),u.createElement("defs",null,u.createElement("radialGradient",{id:"paint0_radial_3708_1151",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.00587 5.92579) rotate(110.528) scale(15.1669 26.4541)"},u.createElement("stop",{offset:.06441,stopColor:"#AE7FE2"}),u.createElement("stop",{offset:1,stopColor:"#0078D4"})),u.createElement("linearGradient",{id:"paint1_linear_3708_1151",x1:9.04828,y1:18.3037,x2:6.88428,y2:14.5609,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#114A8B"}),u.createElement("stop",{offset:1,stopColor:"#0078D4",stopOpacity:0})),u.createElement("radialGradient",{id:"paint2_radial_3708_1151",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82811 17.6139) rotate(-8.36717) scale(14.1144 9.32348)"},u.createElement("stop",{offset:.133928,stopColor:"#D59DFF"}),u.createElement("stop",{offset:1,stopColor:"#5E438F"})),u.createElement("linearGradient",{id:"paint3_linear_3708_1151",x1:19.4317,y1:12.6254,x2:17.1128,y2:15.9504,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#493474"}),u.createElement("stop",{offset:1,stopColor:"#8C66BA",stopOpacity:0})),u.createElement("radialGradient",{id:"paint4_radial_3708_1151",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.7505 13.1378) rotate(-165.772) scale(11.329 19.0713)"},u.createElement("stop",{offset:.0584996,stopColor:"#50E6FF"}),u.createElement("stop",{offset:1,stopColor:"#436DCD"})),u.createElement("linearGradient",{id:"paint5_linear_3708_1151",x1:8.80489,y1:2.47938,x2:12.2191,y2:2.47938,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#2D3F80"}),u.createElement("stop",{offset:1,stopColor:"#436DCD",stopOpacity:0})))),Gh=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M6.1039 5.90972C6.68754 6.38386 6.90648 6.34768 8.00238 6.27457L18.3342 5.65418C18.5534 5.65418 18.3711 5.43557 18.2981 5.39924L16.5822 4.15879C16.2534 3.90354 15.8153 3.61122 14.9758 3.68434L4.9715 4.41403C4.60665 4.45021 4.53377 4.63262 4.67909 4.77886L6.1039 5.90972ZM6.72422 8.31752V19.1884C6.72422 19.7726 7.01618 19.9912 7.6733 19.955L19.028 19.298C19.6854 19.2619 19.7586 18.86 19.7586 18.3854V7.58753C19.7586 7.1137 19.5763 6.85816 19.1739 6.89464L7.30815 7.58753C6.87027 7.62433 6.72422 7.84337 6.72422 8.31752ZM17.9335 8.90066C18.0063 9.22933 17.9335 9.55768 17.6043 9.5946L17.0571 9.70361V17.7292C16.5822 17.9845 16.1441 18.1304 15.7791 18.1304C15.1947 18.1304 15.0484 17.9479 14.6107 17.401L11.0321 11.783V17.2186L12.1645 17.4741C12.1645 17.4741 12.1645 18.1304 11.2509 18.1304L8.73222 18.2765C8.65905 18.1304 8.73222 17.7659 8.98769 17.6929L9.64494 17.5108V10.324L8.73237 10.2509C8.6592 9.92222 8.84146 9.44837 9.35298 9.41159L12.0549 9.22946L15.7791 14.9205V9.88603L14.8296 9.77704C14.7567 9.37526 15.0484 9.08353 15.4135 9.04735L17.9335 8.90066ZM4.13151 3.4291L14.5376 2.66279C15.8155 2.55318 16.1443 2.6266 16.9475 3.21005L20.2692 5.54473C20.8173 5.9462 21 6.05551 21 6.49316V19.298C21 20.1005 20.7077 20.5751 19.6856 20.6477L7.60101 21.3775C6.83376 21.4141 6.4686 21.3047 6.0668 20.7937L3.6206 17.6199C3.18227 17.0357 3 16.5986 3 16.0873V4.70545C3 4.04918 3.29242 3.50177 4.13151 3.4291Z",fill:"currentColor"})),Jl=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"60 60 150 150",xmlSpace:"preserve",...e},u.createElement("style",{type:"text/css"},`
    .st0 {
      fill: #e01e5a;
    }
    .st1 {
      fill: #36c5f0;
    }
    .st2 {
      fill: #2eb67d;
    }
    .st3 {
      fill: #ecb22e;
    }
  `),u.createElement("g",null,u.createElement("g",null,u.createElement("path",{className:"st0",d:"M99.4,151.2c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h12.9V151.2z"}),u.createElement("path",{className:"st0",d:"M105.9,151.2c0-7.1,5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v32.3c0,7.1-5.8,12.9-12.9,12.9         s-12.9-5.8-12.9-12.9V151.2z"})),u.createElement("g",null,u.createElement("path",{className:"st1",d:"M118.8,99.4c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v12.9H118.8z"}),u.createElement("path",{className:"st1",d:"M118.8,105.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9H86.5c-7.1,0-12.9-5.8-12.9-12.9         s5.8-12.9,12.9-12.9H118.8z"})),u.createElement("g",null,u.createElement("path",{className:"st2",d:"M170.6,118.8c0-7.1,5.8-12.9,12.9-12.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9h-12.9V118.8z"}),u.createElement("path",{className:"st2",d:"M164.1,118.8c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9V86.5c0-7.1,5.8-12.9,12.9-12.9         c7.1,0,12.9,5.8,12.9,12.9V118.8z"})),u.createElement("g",null,u.createElement("path",{className:"st3",d:"M151.2,170.6c7.1,0,12.9,5.8,12.9,12.9c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9v-12.9H151.2z"}),u.createElement("path",{className:"st3",d:"M151.2,164.1c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h32.3c7.1,0,12.9,5.8,12.9,12.9         c0,7.1-5.8,12.9-12.9,12.9H151.2z"})))),jue=({className:e,contextConnector:t,extension:n})=>{const r=Iue(t,n);return o.jsx("div",{className:`${e} flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10 dark:bg-token-main-surface-secondary`,children:o.jsx(r,{className:"w-[20px]"})})};function Iue(e,t){switch(e){case R.CONFLUENCE:return Uh;case R.GDRIVE:switch(t){case"doc":case"docx":return td;case"xls":case"xlsx":return Co;case"ppt":case"pptx":return al;default:return Yn}case R.JIRA:return Hh;case R.NOTION_OPEN_CONNECTOR:return Gh;case R.O365_BUSINESS:case R.O365_PERSONAL:case R.O365:switch(t){case"doc":case"docx":return Dh;case"xls":case"xlsx":return Lh;case"ppt":case"pptx":return Oh;default:return Vh}case R.SLACK_OPEN_CONNECTOR:return Jl;case R.GITHUB_CONNECTOR:return Z1;case R.GDRIVE_ACTION_CONNECTOR:return Yn}}const Rue=e=>u.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M7.82373 7.35312L7.82391 7.35249L11.6726 9.65779L13.9659 8.6927C14.4319 8.49124 14.9344 8.38793 15.4421 8.38843C15.5267 8.38843 15.6103 8.39227 15.6935 8.39782C15.4178 7.32269 14.8357 6.35079 14.0181 5.60023C13.2004 4.84966 12.1823 4.35275 11.0876 4.16987C9.99283 3.98699 8.86853 4.12601 7.8513 4.57005C6.83408 5.01409 5.96772 5.74403 5.35751 6.67115C5.37712 6.67091 5.39643 6.66968 5.41608 6.66968C6.26666 6.66852 7.10061 6.90525 7.82373 7.35312Z",fill:"#0364B8"}),u.createElement("path",{d:"M7.82449 7.3525L7.82431 7.35313C7.10119 6.90526 6.26724 6.66853 5.41666 6.66968C5.39701 6.66968 5.37767 6.67091 5.35809 6.67116C4.52559 6.68147 3.71163 6.91843 3.00368 7.35659C2.29574 7.79475 1.72058 8.41754 1.34 9.15804C0.959422 9.89853 0.787821 10.7287 0.843637 11.5594C0.899452 12.3901 1.18057 13.1899 1.65679 13.8728L5.05075 12.4446L6.55948 11.8097L9.91879 10.396L11.6731 9.65779L7.82449 7.3525Z",fill:"#0078D4"}),u.createElement("path",{d:"M15.6938 8.39782C15.6106 8.39227 15.527 8.38843 15.4424 8.38843C14.9347 8.38793 14.4323 8.49163 13.9663 8.6931L11.6728 9.65779L12.3378 10.0561L14.5178 11.3619L15.4688 11.9316L18.7209 13.8795C19.0164 13.331 19.1695 12.717 19.1663 12.0939C19.163 11.4709 19.0035 10.8586 18.7023 10.3131C18.4011 9.76768 17.9678 9.30653 17.4422 8.97191C16.9166 8.63729 16.3154 8.4399 15.6938 8.39782Z",fill:"#1490DF"}),u.createElement("path",{d:"M15.4693 11.9315L14.5182 11.3618L12.3383 10.0561L11.6732 9.65771L9.9189 10.396L6.55959 11.8096L5.05086 12.4445L1.6569 13.8727C2.07866 14.4791 2.64091 14.9744 3.29564 15.3163C3.95037 15.6583 4.67813 15.8367 5.41676 15.8363H15.4428C16.115 15.8365 16.7748 15.6547 17.352 15.3101C17.9292 14.9656 18.4024 14.4712 18.7213 13.8794L15.4693 11.9315Z",fill:"#28A8EA"}));function CS(e){switch(e){case R.CONFLUENCE:return Uh;case R.GDRIVE:return Yn;case R.JIRA:return Hh;case R.NOTION_OPEN_CONNECTOR:return Gh;case R.O365_BUSINESS:case R.O365_PERSONAL:case R.O365:return Rue;case R.SLACK_OPEN_CONNECTOR:return Jl;case R.GITHUB_CONNECTOR:return Z1;case R.GDRIVE_ACTION_CONNECTOR:return Yn}}var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});function yS(e,t){if(t)return e;throw new Error("Unhandled discriminated union member: "+JSON.stringify(e))}Wh.assertNever=yS;var zh=Wh.default=yS;const Lue=Pi({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),Oue=Pi({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),bS=U({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function Y1(e,t){switch(e){case R.CONFLUENCE:return"Confluence";case R.GDRIVE:return"Google Drive";case R.JIRA:return"Jira";case R.NOTION_OPEN_CONNECTOR:return"Notion";case R.O365:return"Microsoft OneDrive";case R.O365_PERSONAL:return t?.formatMessage(Lue)??"Microsoft OneDrive (personal)";case R.O365_BUSINESS:return t?.formatMessage(Oue)??"Microsoft OneDrive (work/school)";case R.SLACK_OPEN_CONNECTOR:return"Slack";case R.GITHUB_CONNECTOR:return"Github";case R.GDRIVE_ACTION_CONNECTOR:return"Google Drive (Deep Research)"}}function Due(e,t){switch(e){case R.CONFLUENCE:return"Confluence Page";case R.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case R.JIRA:return"Jira Issue";case R.NOTION_OPEN_CONNECTOR:return"Notion Page";case R.O365:case R.O365_PERSONAL:case R.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case R.SLACK_OPEN_CONNECTOR:return"Slack";case R.GITHUB_CONNECTOR:return"Github";case R.GDRIVE_ACTION_CONNECTOR:return"Google Drive (Deep Research)"}zh(e)}function Fue({contextConnector:e,extension:t}){return o.jsx(o.Fragment,{children:Due(e,t)})}function K1(){const e=Br(),n=wP(e)?.user,r=oa("1967546325").config,s=r.get("gdrivePicker",!1),a=r.get("o365Picker",!1),i=r.get("gdriveLink",!1),l=r.get("o365PersonalLink",!1),c=r.get("o365BusinessLink",!1),d=r.get("testCtor1Link",!1),f=r.get("testCtor2Link",!1),m=r.get("testCtor3Link",!1),p=r.get("oversmokeLink",!1),g=qe("3544641259")?.value,v=qe("3544641259")?.value,h=r.get("gdrivePercentage",0),x=r.get("o365Percentage",0),y=r.get("testCtor1Percentage",0),b=r.get("testCtor2Percentage",0),S=r.get("testCtor3Percentage",0),T=r.get("oversmokePercentage",0),k=r.get("loadTestPercentage",0),A=r.get("showWorkspaceSettings",!1),M=n?$ue(n.id):null;return u.useMemo(()=>({confluenceLinkStatus:En(d,M,y),gdriveLinkStatus:En(i,M,h),gdriveStatus:En(s,M,h),jiraLinkStatus:En(f,M,b),notionLinkStatus:En(m,M,S),o365BusinessLinkStatus:En(c,M,x),o365PersonalLinkStatus:En(l,M,x),o365Status:En(a,M,x),slackLinkStatus:En(p,M,T),githubLinkStatus:En(g,M,100),gdriveActionConnectorLinkStatus:En(v,M,100),loadTest:En(!0,M,k)==="true",showWorkspaceSettings:A}),[s,M,h,a,x,i,l,c,d,y,f,b,m,S,p,T,g,k,A,v])}function En(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function $ue(e){const n=Bue(e)%100;return Math.abs(n)}function Bue(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const Uue=new Map;function wS(){const{confluenceLinkStatus:e,gdriveLinkStatus:t,jiraLinkStatus:n,notionLinkStatus:r,o365BusinessLinkStatus:s,o365PersonalLinkStatus:a,slackLinkStatus:i}=K1();return qh(t,s,a,e,n,r,i)}function SS(){const{gdriveStatus:e,o365Status:t}=K1();return qh(e,t,t)}function sPe(){const{gdriveStatus:e,o365Status:t,confluenceLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:s,slackLinkStatus:a,githubLinkStatus:i,gdriveActionConnectorLinkStatus:l}=K1();return qh(e,t,t,i,l,n,r,s,a)}function qh(e,t,n,r=null,s=null,a=null,i=null,l=null,c=null){const f=$e()?.getWorkspaceId(),m=[R.GDRIVE,R.O365_PERSONAL,R.O365_BUSINESS,...a==="true"||a==="ifConnected"?[R.CONFLUENCE]:[],...i==="true"||i==="ifConnected"?[R.JIRA]:[],...l==="true"||l==="ifConnected"?[R.NOTION_OPEN_CONNECTOR]:[],...c==="true"||c==="ifConnected"?[R.SLACK_OPEN_CONNECTOR]:[],...r==="true"||r==="ifConnected"?[R.GITHUB_CONNECTOR]:[],...s==="true"||s==="ifConnected"?[R.GDRIVE_ACTION_CONNECTOR]:[]],{connectors:p,isLoading:g}=Hue(m),{data:v,isLoading:h}=m8(f),x=!f||v?.beta_settings?.[ks.CONTEXT_CONNECTOR_CONFLUENCE],y=!f||v?.beta_settings?.[ks.CONTEXT_CONNECTOR_GDRIVE],b=!f||v?.beta_settings?.[ks.CONTEXT_CONNECTOR_JIRA],S=!f||v?.beta_settings?.[ks.CONTEXT_CONNECTOR_NOTION],T=!f||v?.beta_settings?.[ks.CONTEXT_CONNECTOR_O365_PERSONAL],k=!f||v?.beta_settings?.[ks.CONTEXT_CONNECTOR_O365_BUSINESS],A=!f||v?.beta_settings?.[ks.CONTEXT_CONNECTOR_SLACK],M=p.get(R.CONFLUENCE),P=p.get(R.GDRIVE),I=p.get(R.JIRA),D=p.get(R.NOTION_OPEN_CONNECTOR),F=p.get(R.O365_PERSONAL),B=p.get(R.O365_BUSINESS),z=p.get(R.SLACK_OPEN_CONNECTOR),O=p.get(R.GITHUB_CONNECTOR),q=p.get(R.GDRIVE_ACTION_CONNECTOR),H=(ie,ae)=>ie==="true"||ie==="ifConnected"&&ae;return{connectorConfig:u.useMemo(()=>{const ie=!!a&&H(a,!!M?.access_token),ae=!!P?.access_token,ft=H(e,ae),Rt=!!i&&H(i,!!I?.access_token),Vt=!!l&&H(l,!!D?.access_token),Le=!!(F?.access_token??B?.access_token),ht=H(t,Le),en=H(n,Le),Mt=!!c&&H(c,!!z?.access_token),X=!!r&&H(r,!!O?.access_token),Re=!!s&&H(s,!!q?.access_token),Pt=[ie&&M&&x?[R.CONFLUENCE,M]:null,ft&&P&&y?[R.GDRIVE,P]:null,Rt&&I&&b?[R.JIRA,I]:null,Vt&&D&&S?[R.NOTION_OPEN_CONNECTOR,D]:null,en&&F&&T?[R.O365_PERSONAL,F]:null,ht&&B&&k?[R.O365_BUSINESS,B]:null,Mt&&z&&A?[R.SLACK_OPEN_CONNECTOR,z]:null,X&&O?[R.GITHUB_CONNECTOR,O]:null,Re&&q?[R.GDRIVE_ACTION_CONNECTOR,q]:null];return new Map(Cl(Pt))},[M,a,P,e,I,i,D,l,B,z,t,F,n,x,c,y,S,b,T,k,A,O,r,q,s]),isLoading:g||h}}function Hue(e){const[t,n]=u.useState(Uue),{isUnauthenticated:r}=at(),{isSuccess:s,data:a,isLoading:i}=ee({queryKey:["fetchConnectorData",e],queryFn:Vue,refetchInterval:30*60*1e3,enabled:!r});return u.useEffect(()=>{s&&n(new Map(a.map(l=>[l.type,l])))},[s,a]),{connectors:t,isLoading:i}}async function Vue({queryKey:e}){const[t,n]=e;let r=null;try{r=await fe.checkConnectorAPI(n)}catch(a){if(a instanceof Bt)return[];V.addAction("Server Error while retrieving context connector entry",{cause:a})}return!r||!r.connectors?[]:r.connectors.map(a=>{const{type:i,...l}=a,c=i;if(l.access_token){if(c===R.O365_PERSONAL)return{type:c,...l,onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}};if(c===R.O365_BUSINESS){const d=l.onedrive_business_metadata?.base_url;if(d){const f=new URL(d);return{type:c,...l,onedrive_endpoint_hint:{type:"business",baseUrl:d,parsedUrl:`https://${f.hostname}/_layouts/15/FilePicker.aspx`}}}}}return{type:c,...l}})}const Z7=10,aPe=4,nd={duration:20,hasCloseButton:!0},Gue=512,oPe=Gue*1024*1024,Wue={duration:20,hasCloseButton:!0};function ll(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function xm(e){return new Promise((t,n)=>{const r=new FileReader,s=new Image;r.onload=()=>{s.onload=()=>t(s),s.onerror=a=>n(a),s.src=r.result},r.readAsDataURL(e)})}async function Zh(e,t,n,r,s,a,i){const l={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let c=Xr.Initial;E.logEvent(_.uploadFileInitiated,{client:"web",useCase:s.kind,uploadEntry:"local"}),$.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:s.kind,uploadEntry:"local"});const d=i.usesRetrievalIndex??!1,f=d?performance.now():void 0,m=AO().resetRateLimits;try{const{file_id:p,upload_url:g}=await fe.createFile(t.name,t.size,s,!!m,i.isUnauthenticated);a.onFileCreated(e,p,g),c=Xr.FileCreated,a.onFileUploadProgress(e,l.ENTRY_CREATED);const v=s.kind===qt.Gizmo?s.gizmoId:void 0,h=d,x={client:"web",useCase:s.kind,uploadEntry:"local",fileId:p,fileSize:t.size};E.logEvent(_.blobStoreUploadStarted,x);const y=await fe.uploadFileToAzureStorage(t,g,T=>{a.onFileUploadProgress(e,l.ENTRY_CREATED+(l.FILE_UPLOADED-l.ENTRY_CREATED)*T)});a.onFileUploadProgress(e,l.FILE_UPLOADED),y.status!==201&&(E.logEvent(_.blobStoreUploadError,{...x,error_type_name:`HTTPStatus${y.status}`,error_msg:`HTTP status ${y.status}: ${y.statusText}`,error_stack:""}),que(y,p,h)),E.logEvent(_.blobStoreUploadCompleted,x),c=Xr.FileUploaded;const b={file_id:p,use_case:s.kind,gizmo_id:v,index_for_retrieval:d,file_name:t.name},S=await fe.processFileUploadStream(b,T=>{a.onFileUploadProgress(e,l.FILE_UPLOADED+(l.FILE_PROCESSED-l.FILE_UPLOADED)*T/100)},i.isUnauthenticated);c=Xr.FileProcessed,a.onFileUploaded(e,p,i.imageDimensions,S),d&&(c=Xr.RetrievalIndexCreated),f!=null&&fe.postRetrievalTiming({e2eLatencyMs:performance.now()-f,type:"file"})}catch(p){MS(n,r,t.name,p);let g="NotInstanceOfError";p instanceof Bt?g=`${p.name}_${p.status}`:(p instanceof Error||p instanceof Nr)&&(g=p.name),a.onError(e,"error",g,s,c)}}async function iPe(e,t,n,r,s,a){const{width:i,height:l}=await xm(t);return Zh(e,t,n,r,{kind:s},a,{imageDimensions:{width:i,height:l}})}async function zue(e,t){const n=Date.now()+6e4,r=a=>new Promise(i=>setTimeout(i,a));let s=0;for(;Date.now()<n;){const a=await fe.getRetrievalStatus(e,t);if(a.status===nu.Success||a.status===nu.Skipped)return a;if(a.status===nu.Failed)throw new Nr("Context extraction failed",a.error_code);s++,await r(Math.min(1e3,100*s))}throw new Nr("Retrieval indexing timed out")}async function que(e,t,n=!1){let r="Unknown error";try{r=await e.data}catch{}throw n&&fe.markFileUploadFailed(t,{error:r}),new Nr("File upload to blobstore failed","failed_upload_to_blobstore")}function Zue(e){if(e.code==="file.indexing.error"){const t=e.extra?.file_parse_error_code;return typeof t=="string"?t:"file.indexing.error"}return e.code??"internal_error"}function MS(e,t,n,r){let s=vm(e,"default_upload_error",{fileName:n});r instanceof Nr&&r.code!=null&&(s=vm(e,Zue(r))),t.danger(s,Wue)}const Yue=U({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'}}),_S={files:[],connectorFileData:{}},ES=u.createContext(null);function lPe({children:e,initialState:t=_S}){const[n]=u.useState(()=>bl(()=>t));return o.jsx(ES.Provider,{value:n,children:e})}function ec(){const e=u.useContext(ES);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function Kue(e){const t=ec();return Eo(t,e)}const Que={hasUploadInProgress:({files:e})=>e.some(t=>t.status===_r.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===_r.Ready)},H0=2048;async function Xue(e,t,n,r,s,a,i,l,c){const d=performance.now();E.logEvent(_.uploadFileInitiated,{client:"web",useCase:r.kind,contextConnector:a.contextConnector,fileSourceType:a.type}),$.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:r.kind,contextConnector:a.contextConnector,fileSourceType:a.type});let f=Xr.Initial;const m=kS(e);try{const p=await fe.uploadConnectorAPI(t,a.contextConnector,r,n,i,a.o365DriveId,a.manifest);switch(r.kind===qt.Gizmo&&(r={...r,kind:s.includes(Yh(n))?qt.Multimodal:qt.MyFiles}),p.type){case"error":throw Jue(p.error);case"file":{switch(m.onFileCreated(t,p.file.id,"",a.contextConnector),f=Xr.FileProcessed,r.kind){case qt.MyFiles:{m.onFileUploadProgress(t,90);const g=await zue(p.file.file_id,i);g?.status===nu.Skipped&&c.danger(l.formatMessage(Yue.retrievalSkippedFile,{fileName:g.name}),nd),m.onFileUploaded(t,p.file.file_id,void 0,{fileTokenSize:g.file_size_tokens,mimeType:p.file.mime_type}),f=Xr.RetrievalIndexCreated;break}case qt.Multimodal:{m.onFileUploaded(t,p.file.file_id,{width:512,height:512},{mimeType:p.file.mime_type});break}case qt.AceUpload:{m.onFileUploaded(t,p.file.file_id,void 0,{mimeType:p.file.mime_type});break}case qt.DalleAgent:case qt.Gizmo:case qt.ProfilePicture:throw new Nr(`Use case not supported by cloud doc: ${r.kind}`)}break}case"folder":throw new Nr("Folder type not supported")}fe.postRetrievalTiming({e2eLatencyMs:performance.now()-d,type:a.contextConnector})}catch(p){V.addError(new Error(`Failed to upload connected file by ${a.contextConnector}`,{cause:p}));const g=xS(n.name,a?.syntheticExtension);MS(l,c,g,p);let v="NotInstanceOfError";p instanceof Bt?v=`${p.name}_${p.status}`:(p instanceof Error||p instanceof Nr)&&(v=p.name),m.onError(t,"error","connector_upload_"+v,{kind:qt.MyFiles},f)}}function Yh(e){return e.type||gS(e.name)}function Jue({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new Nr(n,r)}else return Bt.createWithErrorMessage("/connectors/upload","server",n)}const cn={reset:e=>{e.setState(_S)},uploadFile:async(e,t,n,r,s,a,i,l={},c,d)=>{const{gizmoId:f,isUnauthenticated:m}=l,p=e.getState().files,g=yue(r,n.name,n.type,d?.contextConnector,c),v={tempId:t,gizmoId:l.gizmoId,status:_r.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:d,contextConnector:d?.contextConnector};if(p.length===Z7)E.logEvent(_.uploadedMaxFilesError),i.danger(a.formatMessage(Y7.maxUploadsAtATime,{maxUploads:Z7,fileName:n.name}),nd);else if(p.some(h=>h.tempId===t))E.logEvent(_.uploadedDuplicateFileError),i.danger(a.formatMessage(Y7.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"":n.name}),nd);else{e.setState(({files:y})=>({files:[...y,v]}));let h;const x={isUnauthenticated:m};if(s.includes(n.type)){if(h={kind:qt.Multimodal},!d){let{width:y,height:b}=await xm(n);if(y>H0||b>H0)try{const S=await vS(n,H0),T=await xm(S);y=T.width,b=T.height,n=S}catch(S){V.addError(new Error("Error resizing image:",{cause:S}))}x.imageDimensions={width:y,height:b}}}else switch(g){case Ye.Multimodal:throw new Error(`Multimodal file upload not supported mime type, ${n.type}
Supported mime types: `+s.join(", "));case Ye.Interpreter:h={kind:qt.AceUpload};break;case Ye.Retrieval:h={kind:qt.MyFiles},x.usesRetrievalIndex=!0;break;case Ye.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case Ye.ContextConnector:case Ye.None:return}f!=null&&(h={kind:qt.Gizmo,gizmoId:f}),l.skipUpload||(d?await Xue(e,t,n,h,s,d,l.gizmoId,a,i):await Zh(t,n,a,i,h,kS(e),x))}},createFileCompleted:(e,t,n,r,s)=>{const a=e.getState().files,i=a.findIndex(c=>c.tempId===t),l=a[i];if(i>=0&&l.status===_r.Uploading){const c=[...a];c.splice(i,1,{...l,progress:10,fileId:n,cdnUrl:r,contextConnector:s}),e.setState({files:c})}},updateProgress:(e,t,n)=>{const r=e.getState().files,s=r.findIndex(i=>i.tempId===t),a=r[s];if(s>=0&&a.status===_r.Uploading){const i=[...r];i.splice(s,1,{...a,progress:n}),e.setState({files:i})}},uploadCompleted:(e,t,n,r,s,a)=>{const i=e.getState().files,l=i.findIndex(c=>c.tempId===t);if(l>=0&&i[l].status===_r.Uploading&&i[l].fileId!=null){const c=i[l],d=[...i],f={...c,tempId:t,status:_r.Ready,progress:100,fileSpec:{name:c.file.name,id:c.fileId,size:c.file.size,contextConnectorInfo:c.contextConnectorInfo,mimeType:s?.mimeType??Yh(c.file),...r||{},...s||{}}};d.splice(l,1,f);const m={...e.getState().connectorFileData};a&&(m[a?.file_id]=a),e.setState({files:d,connectorFileData:m}),E.logEvent(_.uploadFileCompleted,{status:c.status,fileId:c.fileId,contextConnector:c.contextConnector??"local"}),$.logEvent("chatgpt_file_upload_completed",null,{status:c.status,contextConnector:c.contextConnector??"local"})}},remove:(e,t,n,r,s,a)=>{const i=e.getState().files,l=i.findIndex(c=>c.tempId===t);if(l>=0){const c=i[l];n==="error"?(E.logEvent(_.uploadFileError,{status:c.status,fileId:c.fileId,client:"web",errorClassName:r??"undefined",useCaseType:s,uploadStatus:a??"undefined",contextConnector:c.contextConnector}),$.logEvent("chatgpt_file_upload_error",null,{client:"web",errorClassName:r??"undefined",useCaseType:s?.kind??"undefined",uploadStatus:a??"undefined",contextConnector:c.contextConnector??"undefined"})):E.logEvent(_.removeFile,{status:c.status,fileId:c.fileId});const d=[...i];d.splice(l,1),e.setState({files:d})}}},kS=e=>({onFileCreated:cn.createFileCompleted.bind(null,e),onFileUploadProgress:cn.updateProgress.bind(null,e),onFileUploaded:cn.uploadCompleted.bind(null,e),onError:cn.remove.bind(null,e)}),Y7=U({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}}),ede=ye.createContext({mode:void 0,getGizmoId:void 0}),tde=()=>u.useContext(ede),_t={filePickerStarted:e=>{E.logEvent(_.contextConnectorsPickerStarted,{contextConnector:e})},filePickerLoaded:e=>{E.logEvent(_.contextConnectorsPickerLoaded,{contextConnector:e})},filePickerPicked:(e,t)=>{E.logEvent(_.contextConnectorsPickerPicked,{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{E.logEvent(_.contextConnectorsPickerCancelled,{contextConnector:e})},linkPasted:e=>{E.logEvent(_.contextConnectorsLinkPasted,{...e})},linkMetadataFetchStarted:e=>{E.logEvent(_.contextConnectorsLinkMetadataFetchStarted,{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{E.logEvent(_.contextConnectorsLinkMetadataFetchSucceeded,{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{E.logEvent(_.contextConnectorsLinkMetadataFetchFailed,{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{E.logEvent(_.contextConnectorsOAuthUpsellButtonClick,{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{E.logEvent(_.contextConnectorsExpiredAccessTokenUsed,{contextConnector:e,useCase:t})}};function cPe(e,t,n,r){const s=Be(),a=L(),{getGizmoId:i}=tde(),[l,c]=u.useState();u.useEffect(()=>{i?i().then(p=>c(p)):c(void 0)},[i]);const d=Eo(t),f=ec();return u.useCallback(p=>{const{docsReferencedByURL:g}=_e(e)??{};if(g!=null)for(const v of p){const{id:h,type:x,handler:y}=v,b=`${x}:${h}`,S=g[b],k=f.getState().files.find(A=>A.tempId===h);if(S!=null&&S!=="failed"&&k){s.success(a.formatMessage(Oc.fileAlreadyAttached),{hasCloseButton:!0});continue}switch(y.type){case"fetch":{rt(e,A=>{A.docsReferencedByURL[b]="pending"}),cn.uploadFile(f,h,new File([],a.formatMessage(Oc.fileLoading)),Ye.None,n,a,s,{skipUpload:!0,gizmoId:l},r,{contextConnector:x,sourceUrl:v.url,syntheticExtension:null,type:Zn.Link}),_t.linkMetadataFetchStarted(x),y.tryFetch().then(A=>{if(cn.remove(f,h,"none"),A==null)return null;const{id:M,title:P,connector:I,mimeType:D,url:F,syntheticExtension:B,o365DriveId:z,manifest:O}=A;_t.linkMetadataFetchSucceeded(x,D),rt(e,H=>{H.docsReferencedByURL[b]="fetched"});let q=P;I===R.GDRIVE&&(q=B?`${P}.${B}`:P),cn.uploadFile(f,M,new File([],q,{type:D.split(";")[0]}),Ye.Retrieval,n,a,s,{gizmoId:l},r,{contextConnector:I,sourceUrl:F,syntheticExtension:B,type:Zn.Link,o365DriveId:z,manifest:O})}).catch(A=>{_t.linkMetadataFetchFailed(x,A),A instanceof Bt&&A.status===404&&x===R.NOTION_OPEN_CONNECTOR?(s.danger(a.formatMessage(Oc.fileNotAccessible),{hasCloseButton:!0}),d.appendMessageIfNotDismissed({connector:x,type:"not-connected"})):s.danger(a.formatMessage(Oc.fileFetchFailed),{hasCloseButton:!0}),rt(e,M=>{M.docsReferencedByURL[b]="failed"}),cn.remove(f,h,"none")});break}case"prompt":{d.appendMessageIfNotDismissed({connector:x,type:y.message}),rt(e,A=>{A.docsReferencedByURL[b]="prompted"});break}}}},[e,f,s,a,n,l,r,d])}const Oc=U({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loading"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}}),uPe=({className:e})=>o.jsxs(vr,{width:"132",height:"108",viewBox:"0 0 132 108",fill:"none",className:e,children:[o.jsx("g",{clipPath:"url(#clip0_3605_64419)",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2025 29.3514C10.778 33.2165 8.51524 37.1357 11.8281 49.4995L13.4846 55.6814C16.7975 68.0453 20.7166 70.308 35.1411 66.443L43.3837 64.2344C57.8082 60.3694 60.0709 56.4502 56.758 44.0864L55.1016 37.9044C51.7887 25.5406 47.8695 23.2778 33.445 27.1428L29.3237 28.2471L25.2025 29.3514ZM18.1944 42.7244C18.8572 41.5764 20.325 41.1831 21.4729 41.8459L27.3517 45.24C28.4996 45.9027 28.8929 47.3706 28.2301 48.5185L24.836 54.3972C24.1733 55.5451 22.7054 55.9384 21.5575 55.2757C20.4096 54.613 20.0163 53.1451 20.6791 51.9972L22.8732 48.1969L19.0729 46.0028C17.925 45.3401 17.5317 43.8723 18.1944 42.7244ZM29.4091 56.3843C29.066 55.104 29.8258 53.7879 31.1062 53.4449L40.3791 50.9602C41.6594 50.6172 42.9754 51.377 43.3184 52.6573C43.6615 53.9376 42.9017 55.2536 41.6214 55.5967L32.3485 58.0813C31.0682 58.4244 29.7522 57.6646 29.4091 56.3843Z",fill:"#AFC1FF"})}),o.jsx("g",{clipPath:"url(#clip1_3605_64419)",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.8124 13.4036C81.0973 11.8722 78.5673 13.2649 77.0144 19.0603L68.7322 49.97C67.1793 55.7656 68.5935 58.2151 74.4696 59.7895L97.4908 65.958C103.367 67.5326 105.816 66.1184 107.406 60.1848L115.393 30.379C115.536 29.8456 115.217 29.2959 114.681 29.16C113.478 28.8544 112.435 28.6195 111.542 28.4183C106.243 27.2253 106.22 27.2201 109.449 20.7159C109.73 20.1507 109.426 19.4638 108.816 19.3004L86.8124 13.4036ZM87.2582 28.4311C86.234 28.1567 85.1812 28.7645 84.9067 29.7888C84.6323 30.813 85.2401 31.8658 86.2644 32.1403L101.101 36.1158C102.125 36.3902 103.178 35.7824 103.453 34.7581C103.727 33.7339 103.119 32.681 102.095 32.4066L87.2582 28.4311ZM82.9189 37.2074C83.1934 36.1831 84.2462 35.5753 85.2704 35.8497L100.107 39.8252C101.131 40.0996 101.739 41.1524 101.465 42.1767C101.19 43.201 100.137 43.8088 99.1132 43.5343L84.2766 39.5589C83.2523 39.2844 82.6445 38.2316 82.9189 37.2074ZM83.2826 43.2683C82.2584 42.9939 81.2056 43.6017 80.9311 44.626C80.6567 45.6502 81.2645 46.703 82.2888 46.9775L89.7071 48.9652C90.7313 49.2396 91.7841 48.6318 92.0586 47.6076C92.333 46.5833 91.7252 45.5305 90.7009 45.256L83.2826 43.2683Z",fill:"#7989FF"})}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.4004 71.8426C40.4004 57.2141 44.0575 53.5569 61.1242 53.5569H66.0004H70.8766C87.9432 53.5569 91.6004 57.2141 91.6004 71.8426V79.1569C91.6004 93.7855 87.9432 97.4426 70.8766 97.4426H61.1242C44.0575 97.4426 40.4004 93.7855 40.4004 79.1569V71.8426ZM78.8002 67.4995C78.8002 70.1504 76.6512 72.2995 74.0002 72.2995C71.3492 72.2995 69.2002 70.1504 69.2002 67.4995C69.2002 64.8485 71.3492 62.6995 74.0002 62.6995C76.6512 62.6995 78.8002 64.8485 78.8002 67.4995ZM60.7204 70.8597C60.2672 70.2553 59.5559 69.8997 58.8004 69.8997C58.045 69.8997 57.3337 70.2553 56.8804 70.8597L47.2804 83.6597C46.4851 84.72 46.7 86.2244 47.7604 87.0197C48.8208 87.8149 50.3251 87.6 51.1204 86.5397L58.8004 76.2997L66.4804 86.5397C66.8979 87.0962 67.5363 87.4443 68.2303 87.4936C68.9243 87.5429 69.6055 87.2887 70.0975 86.7967L74.8004 82.0938L79.5034 86.7967C80.4406 87.734 81.9602 87.734 82.8975 86.7967C83.8347 85.8595 83.8347 84.3399 82.8975 83.4026L76.4975 77.0026C75.5602 76.0653 74.0406 76.0653 73.1034 77.0026L68.6601 81.4459L60.7204 70.8597Z",fill:"#3C46FF"}),o.jsxs("defs",{children:[o.jsx("clipPath",{id:"clip0_3605_64419",children:o.jsx("rect",{width:"56",height:"56",fill:"white",transform:"translate(0 26.9939) rotate(-15)"})}),o.jsx("clipPath",{id:"clip1_3605_64419",children:o.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(69.5645 0.5) rotate(15)"})})]})]}),nde=({className:e})=>o.jsxs(vr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#10A37F"}),o.jsx("path",{d:"M15.5 10.5H12.1667C11.2462 10.5 10.5 11.2462 10.5 12.1667V13.5V18M15.5 10.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V18M15.5 10.5V25.5M15.5 25.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V18M15.5 25.5H12.1667C11.2462 25.5 10.5 24.7538 10.5 23.8333V18M10.5 18H25.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),rde=({className:e})=>o.jsxs(vr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF5588"}),o.jsx("path",{d:"M19.6663 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V14.6666L19.6663 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M19.667 9.66663V14.6666H24.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M21.3337 18.8334H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M21.3337 22.1666H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M16.3337 15.5H15.5003H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),sde=({className:e})=>o.jsxs(vr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#F8CA27"}),o.jsx("path",{d:"M10.5 14V13.5V12.1667C10.5 11.2462 11.2462 10.5 12.1667 10.5H15.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V14M10.5 14V23.8333C10.5 24.7538 11.2462 25.5 12.1667 25.5H15.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V14M10.5 14H25.5M14 21.5L16.5 19L19 20.5L22 17.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),ade=({className:e})=>o.jsxs(vr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#B161FD"}),o.jsx("path",{d:"M26.3337 23.8333C26.3337 24.2754 26.1581 24.6993 25.8455 25.0118C25.5329 25.3244 25.109 25.5 24.667 25.5H11.3337C10.8916 25.5 10.4677 25.3244 10.1551 25.0118C9.84259 24.6993 9.66699 24.2754 9.66699 23.8333V12.1667C9.66699 11.7246 9.84259 11.3007 10.1551 10.9882C10.4677 10.6756 10.8916 10.5 11.3337 10.5H15.5003L17.167 13H24.667C25.109 13 25.5329 13.1756 25.8455 13.4882C26.1581 13.8007 26.3337 14.2246 26.3337 14.6667V23.8333Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),ode=({className:e})=>o.jsxs(vr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#0088FF"}),o.jsx("path",{d:"M18.833 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V15.5L18.833 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M18.833 9.66663V15.5H24.6663",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),ide=({className:e})=>o.jsxs(vr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF6E3C"}),o.jsx("path",{d:"M21.333 23L26.333 18L21.333 13",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M14.667 13L9.66699 18L14.667 23",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]});function lde({fileName:e,icon:t,loadingPercentage:n,contextConnectorInfo:r,customFileDescription:s}){const a=L(),i=n!==void 0&&n<100,l=ps(e),c=r?.syntheticExtension??null;function d(m){if(Bh(m))return a.formatMessage(Aa.fileDescImage);switch(l){case"py":return"Python";case"js":case"jsx":return"JavaScript";case"ts":case"tsx":return"TypeScript";case"pdf":return"PDF";case"doc":case"docx":case"txt":return a.formatMessage(Aa.fileDescDocument);case"zip":return a.formatMessage(Aa.fileDescZip);case"xls":case"xlsx":case"csv":return a.formatMessage(Aa.fileDescSpreadsheet);case"ppt":case"pptx":case"key":return a.formatMessage(Aa.fileDescPresentation);default:return a.formatMessage(Aa.fileDescFile)}}const f=s??(r?.contextConnector?o.jsx(Fue,{contextConnector:r.contextConnector,extension:c??l??null}):d(e));return o.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t!=null&&t!==!1?o.jsxs("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-lg border border-token-border-heavy",children:[t,i&&o.jsx(K7,{percentage:n,blurBackground:!0})]}):o.jsx("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-lg",children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:N("inset-0",TS,ude(e,r?.contextConnector))}),o.jsx(K7,{percentage:r?null:n})]}):o.jsx(cde,{filename:e,contextConnectorInfo:r})}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("div",{className:"truncate font-semibold",children:xS(e,c)}),o.jsx("div",{className:"truncate text-token-text-secondary",children:f})]})]})}function K7({percentage:e,blurBackground:t=!1}){return o.jsx("div",{className:N("absolute inset-0 flex items-center justify-center text-white",t&&"bg-black/5 backdrop-blur-sm"),children:e?o.jsx(Eu,{percentage:e,className:"h-6 w-6"}):o.jsx(pr,{className:"h-6 w-6 text-token-text-secondary"})})}const TS="h-10 w-10 flex-shrink-0";function cde({filename:e,contextConnectorInfo:t,className:n=TS}){if(t)return o.jsx(jue,{contextConnector:t.contextConnector,extension:t.syntheticExtension??ps(e)??null,className:n});switch(ps(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return o.jsx(ide,{className:n});case"doc":case"docx":case"txt":case"pdf":return o.jsx(rde,{className:n});case"zip":return o.jsx(ade,{className:n});case"ppt":case"pptx":case"key":return o.jsx(sde,{className:n});case"xls":case"xlsx":case"csv":return o.jsx(nde,{className:n});default:return o.jsx(ode,{className:n})}}function ude(e,t){if(t)return"bg-gray-50 dark:bg-token-main-surface-secondary border rounded-md border-gray-100 dark:border-white/10";switch(ps(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return"bg-[#FF6E3C]";case"doc":case"docx":case"txt":case"pdf":return"bg-[#FF5588]";case"zip":return"bg-[#B161FD]";case"ppt":case"pptx":case"key":return"bg-[#F8CA27]";case"xls":case"xlsx":case"csv":return"bg-[#10A37F]";default:return"bg-[#0088FF]"}}const Aa=U({fileDescDocument:{id:"FileDataView.fileDescDocument",defaultMessage:"Document"},fileDescZip:{id:"FileDataView.fileDescZip",defaultMessage:"Zip Archive"},fileDescSpreadsheet:{id:"FileDataView.fileDescSpreadsheet",defaultMessage:"Spreadsheet"},fileDescPresentation:{id:"FileDataView.fileDescPresentation",defaultMessage:"Presentation"},fileDescImage:{id:"FileDataView.fileDescImage",defaultMessage:"Image"},fileDescFile:{id:"FileDataView.fileDescFile",defaultMessage:"File"}});function Qa(e){return typeof window>"u"?!1:typeof e!="string"}function dde({downloadLink:e}){const t=u.useCallback(()=>{const n=document.createElement("a");n.href=e,n.setAttribute("download",e.split("/").pop()??"downloaded_file"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},[e]);return o.jsx("button",{onClick:t,children:o.jsx(kue,{className:"icon-sm m-1.5"})})}function AS({onRemoveFileClick:e,file:t,fileId:n,gizmoId:r,loadingPercentage:s,contextConnectorInfo:a,width:i="normal",alwaysShowData:l=!1,showDownloadButton:c=!1,downloadLink:d="",borderRadius:f="xl",useV2Style:m=!1,className:p}){const g=Br(),v=L(),h=s!==void 0&&s<100,x=Qa(t)?t.name:t,y=Qa(t)&&t?.type.startsWith("image/")||Bh(x)&&n!=null,b=y&&o.jsx(mde,{file:t,fileId:n,gizmoId:r,contextConnectorInfo:a}),S=$.checkGate("2269177255"),T=y?void 0:a?.sourceUrl,k=!a?.sourceUrl&&!b?x:void 0,M=Qa(t)&&t?.type==="text/plain"&&!l&&!a&&$.checkGate("1508312659"),P=u.useCallback(async()=>{if(n)if(ps(x)==="pdf")SP(g,({closeModal:B})=>o.jsx(Nue,{fileId:n,fileName:x,closeModal:B}));else{const B=await fe.getFileDownloadLink(n,void 0,!1,void 0,!1);B.status===yl.Success?window.open(B.download_url,"_blank"):V.addError(`Failed to get download link for file: ${x}`)}},[x,g,n]),I=pde({file:t,isExpandableTextFile:M}),D=!e,F=o.jsxs("div",{className:N("p-2",i==="wide"?"w-80":"w-60"),children:[o.jsx(lde,{fileName:x,icon:b,loadingPercentage:s,contextConnectorInfo:a}),c&&d!==""&&o.jsx("div",{className:"absolute right-1 top-1",children:o.jsx(dde,{downloadLink:d})})]});return o.jsxs("div",{className:"group relative inline-block text-sm text-token-text-primary",children:[o.jsx(xde,{showTooltip:D,sourceUrl:T,className:N("relative overflow-hidden border border-token-border-light bg-token-main-surface-primary",f==="xl"&&"rounded-xl",f==="2xl"&&"rounded-2xl",p),tooltipContent:k,onClick:S?P:void 0,children:y&&!l?o.jsxs("div",{className:"h-14 w-14",children:[b,h&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:o.jsx(Eu,{percentage:s,className:"h-6 w-6"})})]}):M&&I?.length?o.jsx(gde,{trigger:F,content:I}):F}),e!=null&&o.jsx("button",{onClick:e,className:N("absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full transition-colors",m?"border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white dark:border-token-main-surface-secondary dark:bg-white dark:text-black":"border border-token-border-heavy bg-token-main-surface-secondary p-0.5 text-token-text-primary hover:opacity-100 group-hover:opacity-100 md:opacity-0"),children:o.jsx(et,{label:v.formatMessage(NS.removeFile),side:"top",sideOffset:4,children:o.jsx(Ah,{className:"icon-xs"})})})]})}const PS=ce.span`flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white`;function fde(){return o.jsx(PS,{})}function mde({file:e,fileId:t,gizmoId:n,contextConnectorInfo:r}){const s=L(),a=Qa(e)?e.name:e,i=vde(Qa(e)?e:null,a,t,n,r);return i==null?o.jsx(fde,{}):o.jsx(Aue,{src:i,alt:s.formatMessage(NS.userUploadedImage),contextConnectorSourceUrl:r?.sourceUrl,className:"h-full w-full",children:o.jsx(PS,{style:{backgroundImage:`url(${i})`}})})}function pde({file:e,isExpandableTextFile:t}){const[n,r]=u.useState(void 0);return u.useEffect(()=>{if(t&&Qa(e)){const s=new FileReader;s.addEventListener("load",()=>{const a=s.result;r(typeof a=="string"?a:void 0)}),s.readAsText(e)}},[t,e]),n}function gde({trigger:e,content:t}){return o.jsxs(Ud,{children:[o.jsx(Tp,{className:"h-full w-full text-left",children:e}),o.jsx(Hd,{children:o.jsxs(Vd,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[o.jsx(Gd,{asChild:!0,children:o.jsx("button",{className:"absolute right-4 top-4",children:o.jsx(aa,{className:"h-5 w-5 text-gray-100"})})}),o.jsx(Wd,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:o.jsx("div",{className:N("relative max-h-[85vh] max-w-[90vw] overflow-scroll bg-white p-10 dark:bg-gray-800"),children:o.jsx(qo,{children:t})})})]})})]})}const Dc=new Map,hde=100;function vde(e,t,n,r,s,a=!1){const[i,l]=u.useState(void 0),c=Br(),f=MP(c).flags?.includes(_P.NoAuthEnableFileUploads);return u.useEffect(()=>{if(!a&&s&&n!=null)Q7({fileId:n,gizmoId:r,setUri:l});else if(!s&&e?.type.startsWith("image/"))if(f){const m=URL.createObjectURL(e);return l(m),()=>{URL.revokeObjectURL(m)}}else{const m=new FileReader;m.addEventListener("load",()=>{const p=m.result;l(typeof p=="string"?p:void 0)}),m.readAsDataURL(e)}else!a&&t&&Bh(t)&&n!=null?Q7({fileId:n,setUri:l}):l(void 0)},[e,t,n,r,s,a,f]),i}async function Q7({fileId:e,gizmoId:t,setUri:n}){try{const r=Dc.get(e);if(r){n(r);return}const s=await fe.getFileDownloadLink(e,t);s.status===yl.Success?(Dc.size>hde&&Dc.clear(),Dc.set(e,s.download_url),n(s.download_url)):V.addError(`Error fetching URL for file ${e}: ${s.status}`)}catch(r){V.addError(new Error(`Error fetching URL for file ${e})`,{cause:r}))}}const NS=U({removeFile:{id:"FileTile.removeFile",defaultMessage:"Remove file"},userUploadedImage:{id:"FileTile.userUploadedImage",defaultMessage:"User uploaded image"}});function xde({showTooltip:e,sourceUrl:t,children:n,className:r,onClick:s,tooltipContent:a}){const i=Pj();if(!t&&!a)return o.jsx("div",{className:r,children:n});const l=o.jsx("a",{href:t,target:"_blank",rel:"noreferrer",onClick:s,className:"cursor-pointer",children:o.jsx("div",{className:r,children:n})});if(!e||!i)return l;const c=a??t??"";return o.jsx(et,{wide:!0,interactive:!0,sideOffset:0,label:o.jsxs("a",{href:t,target:"_blank",className:"flex w-full items-center gap-2",rel:"noreferrer",children:[o.jsx("p",{className:"line-clamp-1 flex-1 text-ellipsis",children:Cde(c)}),t&&o.jsx(q1,{className:"icon-sm"})]}),side:"top",children:l})}function Cde(e){return e.split("").join("")}const yde=u.createContext({isEmbeddedInFocusedView:!1});function tc(){return u.useContext(yde).isEmbeddedInFocusedView}const bde=gt(()=>ut(()=>import("./gz3x7l8s6e03kufp.js").then(e=>e.A),__vite__mapDeps([32,1,11,3,4,24,25,26,28,33,34,35,36])).then(e=>e.default)),wde=ce.div`flex gap-2 flex-wrap mt-1 max-w-[80%] justify-end`,Sde=ce.div`flex flex-col gap-2`,dPe=({parts:e,attachments:t,isUserTurn:n,clientThreadId:r})=>{const s=Kn(),a=Eue(),i=d8.getImageAssetPointersFromParts(e),l=new Set(i.map(v=>il(v.asset_pointer))),d=tc()||s,f=(t??[]).filter(v=>Sue(v.name)),m=!1,p=(t??[]).filter(v=>v.id==null||l.has(v.id)?!1:a?!f.includes(v):!0);return(a?(p.length>0||f.length>0)&&n:p.length>0&&n)?o.jsxs(o.Fragment,{children:[o.jsx(wde,{children:p.map(v=>o.jsx(AS,{file:v.name,fileId:v.id,contextConnectorInfo:vue(v.context_connector_info),width:s?"normal":"wide",alwaysShowData:!0},v.id))}),o.jsx(Iie,{featureType:Zt.ATTACHMENT,isUserTurn:n,clientThreadId:r}),a&&o.jsx(Sde,{className:N(!d&&!m&&"w-[80%]"),children:f.map(v=>o.jsx(bde,{clientThreadId:r,visualization:_ue(v)},v.id))})]}):null},jS=-1,Q1=0,rd=1,sd=2,Kh=3,Qh=4,Xh=5,Jh=6,IS=7,RS=8,X7=typeof self=="object"?self:globalThis,Mde=(e,t)=>{const n=(s,a)=>(e.set(a,s),s),r=s=>{if(e.has(s))return e.get(s);const[a,i]=t[s];switch(a){case Q1:case jS:return n(i,s);case rd:{const l=n([],s);for(const c of i)l.push(r(c));return l}case sd:{const l=n({},s);for(const[c,d]of i)l[r(c)]=r(d);return l}case Kh:return n(new Date(i),s);case Qh:{const{source:l,flags:c}=i;return n(new RegExp(l,c),s)}case Xh:{const l=n(new Map,s);for(const[c,d]of i)l.set(r(c),r(d));return l}case Jh:{const l=n(new Set,s);for(const c of i)l.add(r(c));return l}case IS:{const{name:l,message:c}=i;return n(new X7[l](c),s)}case RS:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s)}return n(new X7[a](i),s)};return r},J7=e=>Mde(new Map,e)(0),Pa="",{toString:_de}={},{keys:Ede}=Object,fi=e=>{const t=typeof e;if(t!=="object"||!e)return[Q1,t];const n=_de.call(e).slice(8,-1);switch(n){case"Array":return[rd,Pa];case"Object":return[sd,Pa];case"Date":return[Kh,Pa];case"RegExp":return[Qh,Pa];case"Map":return[Xh,Pa];case"Set":return[Jh,Pa]}return n.includes("Array")?[rd,n]:n.includes("Error")?[IS,n]:[sd,n]},Fc=([e,t])=>e===Q1&&(t==="function"||t==="symbol"),kde=(e,t,n,r)=>{const s=(i,l)=>{const c=r.push(i)-1;return n.set(l,c),c},a=i=>{if(n.has(i))return n.get(i);let[l,c]=fi(i);switch(l){case Q1:{let f=i;switch(c){case"bigint":l=RS,f=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return s([jS],i)}return s([l,f],i)}case rd:{if(c)return s([c,[...i]],i);const f=[],m=s([l,f],i);for(const p of i)f.push(a(p));return m}case sd:{if(c)switch(c){case"BigInt":return s([c,i.toString()],i);case"Boolean":case"Number":case"String":return s([c,i.valueOf()],i)}if(t&&"toJSON"in i)return a(i.toJSON());const f=[],m=s([l,f],i);for(const p of Ede(i))(e||!Fc(fi(i[p])))&&f.push([a(p),a(i[p])]);return m}case Kh:return s([l,i.toISOString()],i);case Qh:{const{source:f,flags:m}=i;return s([l,{source:f,flags:m}],i)}case Xh:{const f=[],m=s([l,f],i);for(const[p,g]of i)(e||!(Fc(fi(p))||Fc(fi(g))))&&f.push([a(p),a(g)]);return m}case Jh:{const f=[],m=s([l,f],i);for(const p of i)(e||!Fc(fi(p)))&&f.push(a(p));return m}}const{message:d}=i;return s([l,{name:c,message:d}],i)};return a},e6=(e,{json:t,lossy:n}={})=>{const r=[];return kde(!(t||n),!!t,new Map,r)(e),r},V0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?J7(e6(e,t)):structuredClone(e):(e,t)=>J7(e6(e,t)),LS=function(e){if(e==null)return Pde;if(typeof e=="string")return Ade(e);if(typeof e=="object")return Tde(e);if(typeof e=="function")return e5(e);throw new Error("Expected function, string, or array as `test`")};function Tde(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=LS(e[n]);return e5(r);function r(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function Ade(e){return e5(t);function t(n){return n.tagName===e}}function e5(e){return t;function t(n,r,s){return!!(Nde(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function Pde(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Nde(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const jde=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,Ide=/^[a-zA-Z]:\\/;function Rde(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return Ide.test(e)?!1:jde.test(e)}function Lde(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function fPe(e){return e.join(" ").trim()}const OS=function(e){if(e==null)return $de;if(typeof e=="function")return X1(e);if(typeof e=="object")return Array.isArray(e)?Ode(e):Dde(e);if(typeof e=="string")return Fde(e);throw new Error("Expected function, string, or object as test")};function Ode(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=OS(e[n]);return X1(r);function r(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function Dde(e){const t=e;return X1(n);function n(r){const s=r;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function Fde(e){return X1(t);function t(n){return n&&n.type===e}}function X1(e){return t;function t(n,r,s){return!!(Bde(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function $de(){return!0}function Bde(e){return e!==null&&typeof e=="object"&&"type"in e}const DS=[],Ude=!0,t6=!1,Hde="skip";function Vde(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const a=OS(s),i=r?-1:1;l(e,void 0,[])();function l(c,d,f){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const g=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=DS,v,h,x;if((!t||a(c,d,f[f.length-1]||void 0))&&(g=Gde(n(c,f)),g[0]===t6))return g;if("children"in c&&c.children){const y=c;if(y.children&&g[0]!==Hde)for(h=(r?y.children.length:-1)+i,x=f.concat(y);h>-1&&h<y.children.length;){const b=y.children[h];if(v=l(b,h,x)(),v[0]===t6)return v;h=typeof v[1]=="number"?v[1]:h+i}}return g}}}function Gde(e){return Array.isArray(e)?e:typeof e=="number"?[Ude,e]:e==null?DS:[e]}function Wde(e,t,n,r){let s,a,i;typeof t=="function"&&typeof n!="function"?(a=void 0,i=t,s=n):(a=t,i=n,s=r),Vde(e,a,l,s);function l(c,d){const f=d[d.length-1],m=f?f.children.indexOf(c):void 0;return i(c,m,f)}}const zde=["http","https"],qde=["nofollow"],Zde={};function mPe(e){const t=e||Zde,n=t.protocols||zde,r=LS(t.test);return function(s){Wde(s,"element",function(a,i,l){if(a.tagName==="a"&&typeof a.properties.href=="string"&&r(a,i,l)){const c=a.properties.href;if(Rde(c)?n.includes(c.slice(0,c.indexOf(":"))):c.startsWith("//")){const d=mi(t.content,a),f=d&&!Array.isArray(d)?[d]:d,m=mi(t.rel,a)||qde,p=typeof m=="string"?Lde(m):m,g=mi(t.target,a),v=mi(t.properties,a);if(v&&Object.assign(a.properties,V0(v)),p.length>0&&(a.properties.rel=[...p]),g&&(a.properties.target=g),f){const h=mi(t.contentProperties,a)||{};a.children.push({type:"element",tagName:"span",properties:V0(h),children:V0(f)})}}}})}}function mi(e,t){return typeof e=="function"?e(t):e}const Yde=bl(()=>({images:new Set})),Kde=e=>Eo(Yde,e);function Qde(){return Kde(e=>e.images)}function pPe({messages:e}){const t=RO(e),n=Qde();return t.length===0?null:o.jsx("div",{className:N({"mb-2":!0,"grid grid-flow-col gap-3":t.length>1,"w-1/3":t.length===1}),children:t.filter(({contentUrl:r})=>n.has(r)).map((r,s)=>o.jsx("a",{href:r.hostPageUrl,target:"_blank",rel:"noreferrer",children:o.jsx("img",{src:r.contentUrl,alt:r.name,className:"aspect-square rounded-xl object-cover"})},s))})}const Xde="_slideUp_s22w2_32",Jde="_slideRightAndFade_s22w2_38",e1e="_fadeIn_s22w2_1",t1e="_slideRight_s22w2_38",gPe={slideUp:Xde,slideRightAndFade:Jde,fadeIn:e1e,slideRight:t1e};function hPe({containsImagesOrAttachments:e,isUserTurn:t,children:n}){return o.jsx("div",{className:N("relative max-w-[var(--user-chat-width,70%)]",t&&"rounded-3xl bg-token-message-surface px-5 py-2.5",t&&e&&"rounded-tr-lg"),children:n})}function vPe(e,t,n,r){return n1e(e)??a1e(e,t,n,r)}function n1e(e){const{errType:t,errCode:n,err:r,disclaimers:s}=e.clientMetadata??{},a=s1e(e),i=n!==Kr.ModelIncompatibility&&n!==Kr.ContentPolicy&&(e.clientMetadata?.canRetry??!0);if(a&&r1e(e))return{flagSeverity:"warning",shouldHideContent:!0,errCode:Kr.ContentRegurgitation,errMessage:r,canRetry:i};if(!(s&&s.length>0)&&a)return{flagSeverity:"warning",shouldHideContent:!0,errCode:Kr.ContentOrTos,errMessage:r,canRetry:i};if(t)return{flagSeverity:t,shouldHideContent:t==="danger"&&(n===Kr.ContentPolicy||n===Kr.ModelIncompatibility),disclaimers:s,errCode:n,errMessage:r,canRetry:i}}function r1e(e){return e.metadata?.safety_plugin_status_code===123}function s1e(e){return e.metadata?.finish_details?.type==="content_filter"}function a1e(e,t,n,r){if(!r&&t&&e?.author.role===Ce.User&&e.status!==void 0)return{flagSeverity:"info",shouldHideContent:!1,errCode:tu.MissingLastCompletion,canRetry:!0}}const xPe=u.createContext(!1),CPe=u.createContext(void 0);function yPe({tldr:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.display_title},r=e.url!=null&&e.url!=="";return u.useEffect(()=>{r&&t(_.searchContentReferenceShown,"search_content_reference_shown",e.type,n)},[r]),r?o.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:o.jsx(Yi,{href:e.url,onClick:()=>t(_.searchContentReferenceClicked,"search_content_reference_clicked",e.type,n),className:"group/tldr",children:o.jsxs("div",{className:"grid max-w-full shrink grid-cols-[1fr,auto] items-center gap-x-8 sm:gap-x-16",children:[o.jsxs("div",{className:"flex shrink flex-col overflow-hidden",children:[o.jsx("div",{className:"shrink text-lg font-semibold text-token-text-primary 2xl:text-xl",children:e.display_title}),o.jsx("div",{className:"flex items-center truncate text-token-link [overflow-wrap:anywhere] group-hover/tldr:opacity-70",children:Cl(e.breadcrumbs)?.map((s,a)=>o.jsxs(u.Fragment,{children:[a!==0&&o.jsx(zd,{className:"h-4 w-4 shrink-0"}),o.jsx("div",{className:"truncate",children:s.toLowerCase()})]},a))})]}),o.jsx(Ql,{url:e.url,size:128,minSize:32,className:"mr-[0.1875rem] h-7 w-7 shrink-0 rounded"}),e.snippet&&o.jsx("div",{className:"line-clamp-3 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:e.snippet})]})})}):null}const o1e=(e,t)=>e===_.searchContentReferenceShown||e===_.contextualAnswersContentReferenceShown||e===_.searchContentReferenceFailed||e===_.linkAction&&t?.action==="show",i1e=(e,t,n)=>({...EP(t),type:e,...n?Object.fromEntries(Object.entries(n).map(([r,s])=>[r,String(s)])):{},section_index:n?.section_index!==void 0?(Number(n.section_index)+1).toString():void 0});function bPe(e){const t=u.useRef(new Set);return u.useCallback((n,r,s,a,i)=>{if(e&&e.messageId&&l1e(e.messageId)){const l=i1e(s,e,a),c=`${n}-${JSON.stringify(l)}`;(!t.current.has(c)||!o1e(n,a))&&(t.current.add(c),E.logEventWithStatsig(n,r,l),i?.(e))}},[e])}const l1e=e=>!e.startsWith(kP)&&!e.startsWith(Qv);function FS(){const e=Br(),t=ao(e),{layer:n}=ml("3647926857"),r={getIsNewUXEnabled:ur({allowProductionOverride:!0,globalOverride:void 0,layer:n,paramName:"ux_updates",defaultValue:!1}),getIsUseCaseLandingPageEnabled:ur({allowProductionOverride:!0,globalOverride:void 0,layer:n,paramName:"use_case_landing_page",defaultValue:!1}),getIsAutoSwitcherEnabled:ur({layer:n,paramName:"autoswitcher_enabled",defaultValue:!1}),getReasoningSliderType:ur({layer:n,paramName:"reasoning_slider",defaultValue:"none"}),getInferenceDebounceTime:ur({layer:n,paramName:"inference_debounce_ms",defaultValue:400})},s=r.getIsNewUXEnabled(),[a,i]=u.useState(s);let l=r.getReasoningSliderType();(a||!t)&&(l="none");const c=d=>{};return{getIsUseCaseLandingPageEnabled:r.getIsUseCaseLandingPageEnabled,isUXUpdatesEnabled:!1,setUserPrefersUXUpdates:c,inferenceDebounceTime:r.getInferenceDebounceTime(),isAutoSwitcherEnabled:r.getIsAutoSwitcherEnabled(),reasoningSliderType:l}}const $S=gt(()=>ut(()=>import("./eozhfdzw9voxd2co.js"),__vite__mapDeps([37,1])).then(e=>e.QRCodeSVG)),rn=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:s,primaryCtaQrLink:a,onPrimaryCtaQrClick:i,onSecondaryCtaClick:l,onDangerCtaClick:c,secondaryCtaText:d,dangerCtaText:f,icon:m,isElevated:p=!0,isPrimaryCtaDisabled:g=!1,isSecondaryCtaDisabled:v=!1,isDangerCtaDisabled:h=!1,type:x="normal"})=>{const y=tc(),{isUXUpdatesEnabled:b}=FS(),S=(s||d||f)&&o.jsxs("div",{className:"flex shrink-0 gap-2 pb-1 md:pb-0",children:[s&&o.jsx(G,{onClick:r,color:"primary",className:"shrink-0",disabled:g,children:s}),d&&o.jsx(G,{onClick:l,color:"secondary",className:"shrink-0",disabled:v,children:d}),f&&o.jsx(G,{onClick:c,color:"danger-outline",className:"shrink-0",disabled:h,children:f})]});return o.jsxs("div",{className:N("flex w-full items-start gap-4 rounded-3xl border py-4 pl-5 pr-3 text-sm [text-wrap:pretty] dark:border-transparent lg:mx-auto",p&&!b&&"shadow-xxs",y?"flex-col":"md:items-center",x==="error"?"border-token-surface-error/15 bg-red-50 text-token-text-error dark:bg-token-surface-error dark:bg-opacity-5":b?"border-transparent bg-token-main-surface-tertiary text-token-text-secondary dark:bg-token-main-surface-secondary":"border-token-border-light bg-token-main-surface-primary text-token-text-primary dark:bg-token-main-surface-secondary"),children:[o.jsxs("div",{className:N("flex h-full w-full items-start gap-3",!y&&"md:items-center"),children:[m&&o.jsx("div",{className:"h-full",children:m}),o.jsxs("div",{className:N("mt-1.5 flex grow items-start gap-4 md:mt-0 md:flex-row md:items-center md:justify-between md:gap-8",a?"flex-row":"flex-col"),children:[o.jsxs("div",{className:"flex max-w-none flex-col",children:[t&&o.jsx("div",{className:N("font-bold",x==="error"?"text-token-text-error":b?"text-token-text-secondary":"text-token-text-primary"),children:t}),o.jsx("div",{className:N(t?x==="error"?"text-token-text-error":"text-token-text-secondary":""),children:n})]}),a&&o.jsx($S,{className:"min-h-[62px] min-w-[62px] cursor-pointer",onClick:i,size:62,value:a}),!y&&S]}),o.jsx("div",{className:"flex shrink-0 items-center gap-2",children:!!e&&o.jsx(Lr,{onClick:e})})]}),y&&S]})},c1e=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:s,onSecondaryCtaClick:a,secondaryCtaText:i})=>o.jsxs("div",{className:N("border-main-surface-secondary flex h-16 items-center border-b bg-token-main-surface-primary px-2 text-sm text-token-text-primary"),children:[o.jsxs("div",{className:"flex items-center justify-center",children:[!!e&&o.jsx(Lr,{onClick:e,className:"-mr-2 text-token-text-tertiary"}),o.jsx(p8,{className:"h-16 w-16 rounded-sm pt-1 shadow-none"}),o.jsxs("div",{className:"-ml-1 flex flex-col",children:[t&&o.jsx("div",{className:"font-bold text-token-text-primary",children:t}),o.jsx("div",{className:N(t?"-mt-0.5 text-token-text-secondary":""),children:n})]})]}),o.jsxs("div",{className:"ml-auto flex justify-end",children:[s&&o.jsx(G,{onClick:r,color:"primary",className:"shrink-0",children:s}),i&&o.jsx(G,{onClick:a,color:"secondary",className:"mr-2 shrink-0",children:i})]})]}),Cm=bl(()=>({delayedRenderingMessageIds:new Set})),u1e=e=>Eo(Cm,e);function wPe(){return u1e(e=>e.delayedRenderingMessageIds)}const SPe={addDelayedRenderingMessage(e){Cm.setState(t=>{if(t.delayedRenderingMessageIds.has(e))return t;const n=new Set(t.delayedRenderingMessageIds);return n.add(e),{delayedRenderingMessageIds:n}})},removeDelayedRenderingMessage(e){Cm.setState(t=>{if(!t.delayedRenderingMessageIds.has(e))return t;const n=new Set(t.delayedRenderingMessageIds);return n.delete(e),{delayedRenderingMessageIds:n}})}},d1e="5.7.5",f1e=100,m1e=0,p1e=350,g1e=24,h1e=24,v1e="Comp 1",x1e=0,C1e=[],y1e=[{ddd:0,ind:1,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Path",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[8.6485975,.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[.561517499999999,12.10510526872112],[.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168]],i:[[0,0],[.3205000000000009,-.3204799999999999],[.7432999999999996,-.7433100000000001],[-.7487000000000013,-.7487000000000013],[-.7487000000000013,.7486999999999995],[-.7433000000000014,.743310000000001],[-.09659999999999869,-.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,.7885999999999989],[.7616466666666675,-.7616333333333323],[.7486899999999999,.7486999999999995],[-.7486899999999999,.7487000000000013],[-.7616466666666675,.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-.3585899999999995],[0,0],[0,0]],o:[[.4428000000000001,.09658000000000033],[-.7432999999999996,.7433100000000001],[-.7487000000000013,.7486899999999999],[.7485999999999997,.7486999999999995],[.7432999999999996,-.743310000000001],[.3204999999999991,-.3204799999999999],[.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-.7616466666666675,.761633333333334],[-.7486899999999999,.7486999999999995],[-.7486899999999999,-.7485999999999997],[.7616466666666666,-.7616333333333323],[-.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[.4428000000000001,.09658000000000033]]}}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:0,s:[13.23,10.77154381752014],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[12,12],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[13.23,10.77],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:1,k:[{t:0,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:60,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[121.15,121.15],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[-45],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:167,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:184,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:217,s:[-45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:227,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],i:[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],o:[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{ty:"fl",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:90,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[24,24],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:25,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0}],b1e=[],w1e={v:d1e,fr:f1e,ip:m1e,op:p1e,w:g1e,h:h1e,nm:v1e,ddd:x1e,assets:C1e,layers:y1e,markers:b1e},S1e="5.7.5",M1e=100,_1e=0,E1e=400,k1e=24,T1e=24,A1e="Comp 1",P1e=0,N1e=[],j1e=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],i:[[0,0],[1.166666666666667,-1.944433333333334],[-1.166666666666667,0]],o:[[-1.166666666666666,1.944433333333333],[1.166666666666666,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],o:[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],o:[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[3.503000259399414,0],[.003000259399414062,5.83329963684082],[3.503000259399414,5.83329963684082]],i:[[.2074432373046875,-.3626899719238281],[0,0],[-1.166666666666667,0]],o:[[-.2074427604675293,.3626899123191833],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:125,s:[-4.666999816894531,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[-4.67,-4.666650772094727],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[-4.67,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[0,2.3332999999999995],[3.5,0]],i:[[0,0],[-.7981999999999996,1.4169]],o:[[1.4311000000000007,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],i:[[1.169005393981934,0],[.7811636924743652,1.481373190879822]],o:[[-1.169005155563354,0],[-.7811641693115234,-1.481372833251953]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],i:[[1.169005393981934,0],[.7811636924743652,1.481373190879822]],o:[[-1.169005155563354,0],[-.7811641693115234,-1.481372833251953]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[-.003000259399414062,2.333300590515137],[3.496999740600586,0]],i:[[-1.720494270324707,0],[-.6510887145996094,1.120759010314941]],o:[[1.720494627952576,0],[.6510882377624512,-1.120759010314941]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:200,s:[1.166999816894531,2.33335018157959],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[1.17,2.33335018157959],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],I1e=[],R1e={v:S1e,fr:M1e,ip:_1e,op:E1e,w:k1e,h:T1e,nm:A1e,ddd:P1e,assets:N1e,layers:j1e,markers:I1e},L1e="5.7.5",O1e=100,D1e=0,F1e=400,$1e=24,B1e=24,U1e="Comp 1",H1e=0,V1e=[],G1e=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],i:[[0,0],[1.166666666666667,-1.9444333333333343],[-1.166666666666667,0]],o:[[-1.166666666666666,1.9444333333333326],[1.166666666666666,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],o:[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],o:[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[3.503000259399414,0],[.0030002593994140625,5.83329963684082],[3.503000259399414,5.83329963684082]],i:[[.2074432373046875,-.3626899719238281],[0,0],[-1.166666666666667,0]],o:[[-.2074427604675293,.36268991231918335],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:125,s:[-4.666999816894531,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[-4.67,-4.666650772094727],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[-4.67,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[0,2.3332999999999995],[3.5,0]],i:[[0,0],[-.7981999999999996,1.4169]],o:[[1.4311000000000007,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],i:[[1.1690053939819336,0],[.7811636924743652,1.4813731908798218]],o:[[-1.1690051555633545,0],[-.7811641693115234,-1.4813728332519531]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],i:[[1.1690053939819336,0],[.7811636924743652,1.4813731908798218]],o:[[-1.1690051555633545,0],[-.7811641693115234,-1.4813728332519531]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[-.0030002593994140625,2.3333005905151367],[3.496999740600586,0]],i:[[-1.720494270324707,0],[-.6510887145996094,1.1207590103149414]],o:[[1.7204946279525757,0],[.6510882377624512,-1.1207590103149414]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:200,s:[1.1669998168945312,2.33335018157959],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[1.17,2.33335018157959],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],W1e=[],z1e={v:L1e,fr:O1e,ip:D1e,op:F1e,w:$1e,h:B1e,nm:U1e,ddd:H1e,assets:V1e,layers:G1e,markers:W1e},q1e="5.7.5",Z1e=100,Y1e=0,K1e=350,Q1e=24,X1e=24,J1e="Comp 1",efe=0,tfe=[],nfe=[{ddd:0,ind:1,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Path",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[8.6485975,.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[.561517499999999,12.10510526872112],[.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168]],i:[[0,0],[.3205000000000009,-.3204799999999999],[.7432999999999996,-.7433100000000001],[-.7487000000000013,-.7487000000000013],[-.7487000000000013,.7486999999999995],[-.7433000000000014,.743310000000001],[-.09659999999999869,-.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,.7885999999999989],[.7616466666666675,-.7616333333333323],[.7486899999999999,.7486999999999995],[-.7486899999999999,.7487000000000013],[-.7616466666666675,.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-.3585899999999995],[0,0],[0,0]],o:[[.4428000000000001,.09658000000000033],[-.7432999999999996,.7433100000000001],[-.7487000000000013,.7486899999999999],[.7485999999999997,.7486999999999995],[.7432999999999996,-.743310000000001],[.3204999999999991,-.3204799999999999],[.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-.7616466666666675,.761633333333334],[-.7486899999999999,.7486999999999995],[-.7486899999999999,-.7485999999999997],[.7616466666666666,-.7616333333333323],[-.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[.4428000000000001,.09658000000000033]]}}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:0,s:[13.23,10.77154381752014],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[12,12],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[13.23,10.77],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:1,k:[{t:0,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:60,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[121.15,121.15],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[-45],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:167,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:184,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:217,s:[-45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:227,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],i:[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],o:[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{ty:"fl",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:90,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[24,24],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:25,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0}],rfe=[],sfe={v:q1e,fr:Z1e,ip:Y1e,op:K1e,w:Q1e,h:X1e,nm:J1e,ddd:efe,assets:tfe,layers:nfe,markers:rfe},afe=gt(()=>ut(()=>import("./l2gth51p9bvubvgo.js"),__vite__mapDeps([38,1])));function BS({animationData:e,animationSegmentToPlay:t,animationLoopCounter:n}){const r=u.useRef(null);return u.useEffect(()=>{r.current?.playSegments(t,!0)},[n]),o.jsx(afe,{animationData:e,lottieRef:r,loop:!1,autoplay:!1})}function MPe(e){return o.jsx(vr,{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",...e,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z",fill:"currentColor"})})}function _Pe(e){return o.jsxs(vr,{width:"4",height:"12",viewBox:"0 0 4 12",fill:"none",...e,children:[o.jsx("mask",{id:"path-1-inside-1_1975_4008",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"})}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z",fill:"currentColor"}),o.jsx("path",{d:"M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z",fill:"currentColor",mask:"url(#path-1-inside-1_1975_4008)"})]})}function EPe(e){return o.jsx(vr,{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",...e,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.32256 1.48447C7.59011 1.16827 7.55068 0.695034 7.23447 0.427476C6.91827 0.159918 6.44503 0.199354 6.17748 0.515559L4.00002 3.08892L1.82256 0.515559C1.555 0.199354 1.08176 0.159918 0.765559 0.427476C0.449355 0.695034 0.409918 1.16827 0.677476 1.48447L3.01755 4.25002L0.677476 7.01556C0.409918 7.33176 0.449354 7.805 0.765559 8.07256C1.08176 8.34011 1.555 8.30068 1.82256 7.98447L4.00002 5.41111L6.17748 7.98447C6.44503 8.30068 6.91827 8.34011 7.23447 8.07256C7.55068 7.805 7.59011 7.33176 7.32256 7.01556L4.98248 4.25002L7.32256 1.48447Z",fill:"currentColor"})})}function kPe({animationLoopCounter:e}){const t=qd();return o.jsx(BS,{animationData:t?w1e:sfe,animationSegmentToPlay:[0,300],animationLoopCounter:e})}function TPe({animationLoopCounter:e}){const t=qd();return o.jsx(BS,{animationData:t?R1e:z1e,animationSegmentToPlay:[0,400],animationLoopCounter:e})}const ofe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289L18.7071 13.2929C19.0976 13.6834 19.0976 14.3166 18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071L12 9.41421L6.70711 14.7071C6.31658 15.0976 5.68342 15.0976 5.29289 14.7071C4.90237 14.3166 4.90237 13.6834 5.29289 13.2929L11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7Z",fill:"currentColor"}));function ife({onChange:e,target:t,...n}){if(!t)return;const r={childList:!0,subtree:!0,...n},s=new MutationObserver(i=>{e(i)});function a(){try{s.disconnect()}catch{}}return s.observe(t,r),a}function t5({axis:e,debounce:t,initialSize:n=!0,onChange:r,target:s}){if(!s)return;let a=new AbortController,i=null,l=null,c=n;const d=new ResizeObserver(m=>{m.forEach(p=>{const{width:g,height:v}=lfe(p);let h=!1;if(e==="width"){const x=(c||i!==null)&&i!==g;i=g,x&&(h=!0)}else if(e==="height"){const x=(c||l!==null)&&l!==v;l=v,x&&(h=!0)}else if(e==="both"){const x=(c||i!==null)&&i!==g,y=(c||l!==null)&&l!==v;i=g,l=v,(x||y)&&(h=!0)}if(c=!1,h)if(!t)r({width:g,height:v},p);else{a.abort(),a=new AbortController;const x=a.signal;requestAnimationFrame(()=>{x.aborted||r({width:g,height:v},p)})}})});function f(){try{d.disconnect()}catch{}}return d.observe(s),f}function lfe(e){let t,n;if(e.borderBoxSize){const r=Array.isArray(e.borderBoxSize)?e.borderBoxSize[0]:e.borderBoxSize;t=r.inlineSize,n=r.blockSize}else t=e.contentRect.width,n=e.contentRect.height;return{width:t,height:n}}const cfe=()=>{};function ufe(e){return u.useCallback(t=>e?t(console.log.bind(console)):cfe,[e])}const dfe=".markdown:is(.streaming-animation,.result-streaming)",APe=u.memo(function(t){const{debug:n,isStreaming:r}=t,s=u.useRef(-1),a=ufe(n),i=u.useRef(null),[l,c]=u.useState([]),d=u.useCallback(p=>{const g=p.dataset.start,v=p.tagName.toLowerCase(),h=`--streaming-${v}-${g}`,y={height:0,ready:!1,selector:`${v}[data-start="${g}"]`,target:p,variableName:h},b=t5({axis:"height",target:p,onChange({height:S}){const T=p.dataset.end,k=p.dataset.isLastNode==="",A=["table","pre"].includes(v)&&k;if(a(P=>P(`${v}-${g}`,{observedElement:y,height:S,canLookAhead:A,isLastNode:k})),!y.ready){const P=A&&ffe(g,T,15),I=S>0;(P||I)&&(y.ready=!0,s.current=gfe(T))}const M=typeof y.height=="number"&&S<y.height;y.ready&&!M&&(y.height=S,i.current?.style.setProperty(h,`${S}px`))}});y.unsubscribe=b,c(S=>[...S,y])},[a]),f=u.useCallback(p=>ife({onChange(g){const{added:v}=pfe(g);for(const h of v)d(h)},target:p,subtree:!0,childList:!0}),[d]);u.useEffect(()=>{if(!r)return;let p;function g(h){i.current=h,p=f(h)}function v(h){const x=document.querySelector(dfe);x?h(x):requestAnimationFrame(()=>{v(h)})}return v(g),()=>{window.setTimeout(()=>{if(n){a(h=>h("Animations complete, preserving state in debug mode."));return}p?.(),c([]),s.current=-1},500)}},[r,n,f,a]);const m=l.map(({selector:p,variableName:g})=>`${p} { --streaming-reveal-amount: var(${g}, 0) }`).join(`
`);return o.jsx("style",{children:m})});function ffe(e,t,n){if(e===void 0||t===void 0)return!0;const r=parseInt(e,10),s=parseInt(t,10);return isNaN(r)||isNaN(s)?!0:s-r>=n}function mfe(e){return e instanceof HTMLElement?["PRE","TABLE"].includes(e.tagName):!1}function pfe(e){return{added:e.flatMap(n=>Array.from(n.addedNodes)).filter(mfe)}}function gfe(e){return e?parseInt(e,10):-1}function PPe(){const{data:e}=Tg(({settings:n})=>({voiceName:n[Gn.VoiceName],voiceMainLanguage:n[Gn.VoiceMainLanguage],trainingAllowed:n[Gn.TrainingAllowed],voiceTrainingAllowed:n[Gn.VoiceTrainingAllowed],videoTrainingAllowed:n[Gn.VideoTrainingAllowed]})),t=hfe();return{voiceName:xfe(e?.voiceName,t),voiceMainLanguage:e?.voiceMainLanguage??TP.Auto,voiceTrainingAllowed:!!(e?.trainingAllowed&&e?.voiceTrainingAllowed),videoTrainingAllowed:!!(e?.trainingAllowed&&e?.videoTrainingAllowed)}}function hfe(){const e=vfe(),t=xl().locale;return u.useCallback(()=>{if(e.length===0)return"juniper";let n=e[0].voice;return t.startsWith("zh")&&(n="cove"),n},[e,t])}function vfe(){const e=h1(Gn.VoiceMainLanguage)?.data,{data:t}=ee({queryKey:["getUserSettingVoices",e],queryFn:()=>j.safeGet("/settings/voices",{authOption:so.SendIfAvailable})});return t?t.voices:[]}function xfe(e,t){return e==="sky"?"juniper":e??t()}const US=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3215 4.17948C20.7747 4.49511 20.8862 5.11837 20.5706 5.57158L10.8206 19.5716C10.6514 19.8145 10.3833 19.97 10.0884 19.9962C9.79354 20.0223 9.50222 19.9165 9.29289 19.7072L3.54289 13.9572C3.15237 13.5667 3.15237 12.9335 3.54289 12.543C3.93342 12.1525 4.56658 12.1525 4.95711 12.543L9.86223 17.4481L18.9294 4.42859C19.245 3.97539 19.8683 3.86385 20.3215 4.17948Z",fill:"currentColor"}));function n5(e,{type:t="copy",source:n,messageId:r,serverThreadId:s,selectedText:a,location:i}){if(ao(e))return j.safePost("/conversation/implicit_message_feedback",{requestBody:{message_id:r,conversation_id:s,source:n,feedback:{feedback_type:t,selected_text:a},location:i}})}function J1(e){const[t,n]=u.useState(!1),{announcementKey:r,onDismiss:s,children:a,childrenWrapperClassName:i,...l}=e,{show:c}=l,{layer:d}=ot("717266490"),f=d.get("one_announcement_tooltip_per_session",!1),m=se(v=>!!v.displayAnnouncementTooltip),p=se(v=>!f||v.displayAnnouncementTooltip===r);if(u.useEffect(()=>{f&&c&&t&&pt.showAnnouncementTooltipExclusively(r)},[t,f,r,c]),u.useEffect(()=>{c&&(!f||p)&&($.logEvent("announcement_tooltip_shown",null,{announcement_key:r}),E.logEvent(_.announcementTooltipShown,{announcement_key:r}))},[c,p,r,f]),m&&!p)return a;const g=()=>{(!f||p)&&(s(),$.logEvent("announcement_tooltip_dismissed",null,{announcement_key:r}),E.logEvent(_.announcementTooltipDismissed,{announcement_key:r}))};return o.jsx(Cfe,{...l,onDismiss:g,renderAsInvisible:f&&!m,onTooltipChildrenBecomeVisible:()=>{f&&n(!0)},children:o.jsx("div",{className:N("w-fit",i),children:a})})}function Cfe({align:e,arrowPadding:t,alignOffset:n,show:r,onDismiss:s,children:a,title:i,side:l,sideOffset:c,theme:d="default",badge:f="new",contentAlign:m="start",description:p,className:g,collisionPadding:v,onTooltipChildrenBecomeVisible:h,renderAsInvisible:x=!1,dismissOnOutsideClick:y=!1,contentClassName:b}){const S=u.useRef(null),[T,k]=u.useState(!1);u.useEffect(()=>{if(!r)return;const M=S.current;if(!M)return;const P=new IntersectionObserver(I=>{k(I[I.length-1].intersectionRatio===1)},{threshold:1});return P.observe(M),()=>{P.unobserve(M)}},[r]);const A=M=>{r&&M&&M.getBoundingClientRect().width>0&&M.getBoundingClientRect().height>0&&h?.(),S.current=M};return o.jsxs(Mg,{open:r&&T,onOpenChange:M=>{M||s()},children:[o.jsx(Vu,{asChild:!0,onPointerDown:()=>{s()},ref:A,children:a}),o.jsx(ZC,{container:S.current?.ownerDocument.body,children:o.jsxs(_g,{arrowPadding:t,alignOffset:n,align:e,collisionPadding:v,side:l,sideOffset:c,onOpenAutoFocus:M=>{M.preventDefault()},onCloseAutoFocus:M=>{M.preventDefault()},onInteractOutside:M=>{M.target instanceof Element&&S.current?.contains(M.target)||M.type==="dismissableLayer.focusOutside"?M.preventDefault():y?s():M.preventDefault()},updatePositionStrategy:"always",className:N("relative z-30 animate-slideLeftAndFade select-none rounded-xl p-4 text-sm shadow-sm",d==="default"?"bg-gray-900 text-white dark:bg-gray-50 dark:text-gray-700":"bg-blue-400 text-white",x&&"invisible",b),children:[o.jsxs("div",{className:N("flex max-w-xs flex-col gap-1",g),children:[o.jsxs("div",{className:"mb-0.5 flex gap-2",children:[f==="new"?o.jsx("span",{className:N("self-center rounded px-1.5 py-0.5 text-[10px] font-semibold uppercase leading-normal",d==="default"?"bg-token-main-surface-primary text-token-main-surface-primary-inverse":"bg-white text-blue-selection"),children:o.jsx(C,{...n6.new})}):f==="beta"&&o.jsx("span",{className:"rounded-full bg-blue-100 px-1.5 text-[10px] font-semibold text-blue-600",children:o.jsx(C,{...n6.beta})}),o.jsx("div",{className:N("grow font-semibold",m&&`text-${m}`),children:i}),o.jsx(HU,{className:"-my-1 -mr-1 p-1 opacity-70 transition hover:opacity-100","data-testid":"announcement-tooltip-close-btn",children:o.jsx(aa,{className:"icon-sm"})})]}),p!==void 0&&o.jsx("div",{className:N(m&&`text-${m}`),children:p})]}),o.jsx(VU,{asChild:!0,children:o.jsx("div",{className:N("relative top-[-6px] h-3 w-3 rotate-45 transform rounded-br-sm",d==="default"?"bg-gray-900 dark:bg-gray-50":"bg-blue-400")})})]})})]})}const n6=U({new:{id:"announcementTooltip.new",defaultMessage:"New"},beta:{id:"announcementTooltip.beta",defaultMessage:"Beta"}}),Yo=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C9.79086 4 8 5.79086 8 8H16C16 5.79086 14.2091 4 12 4ZM6 10C5.44772 10 5 10.4477 5 11V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V11C19 10.4477 18.5523 10 18 10H6ZM6 8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8C19.6569 8 21 9.34315 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 9.34315 4.34315 8 6 8ZM10 14C10 12.8954 10.8954 12 12 12C13.1046 12 14 12.8954 14 14C14 14.7403 13.5978 15.3866 13 15.7324V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V15.7324C10.4022 15.3866 10 14.7403 10 14Z",fill:"currentColor"})),NPe=e=>u.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M6.66669 6.66671L10 3.33337L13.3334 6.66671M10 3.75004V12.5",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M3.33331 11.6666V11.8666C3.33331 13.5468 3.33331 14.3869 3.66029 15.0286C3.94791 15.5931 4.40686 16.052 4.97134 16.3396C5.61308 16.6666 6.45316 16.6666 8.13331 16.6666H11.8666C13.5468 16.6666 14.3869 16.6666 15.0286 16.3396C15.5931 16.052 16.052 15.5931 16.3397 15.0286C16.6666 14.3869 16.6666 13.5468 16.6666 11.8666V11.6666",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round"}));function r6(e,[t,n]){return Math.min(n,Math.max(t,e))}var yfe=[" ","Enter","ArrowUp","ArrowDown"],bfe=[" ","Enter"],nc="Select",[ef,tf,wfe]=g8(nc),[Ko,jPe]=gs(nc,[wfe,Dd]),nf=Dd(),[Sfe,Ms]=Ko(nc),[Mfe,_fe]=Ko(nc),HS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:p,required:g,form:v}=e,h=nf(t),[x,y]=u.useState(null),[b,S]=u.useState(null),[T,k]=u.useState(!1),A=Pp(d),[M=!1,P]=Qs({prop:r,defaultProp:s,onChange:a}),[I,D]=Qs({prop:i,defaultProp:l,onChange:c}),F=u.useRef(null),B=x?v||!!x.closest("form"):!0,[z,O]=u.useState(new Set),q=Array.from(z).map(H=>H.props.value).join(";");return o.jsx(i8,{...h,children:o.jsxs(Sfe,{required:g,scope:t,trigger:x,onTriggerChange:y,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:T,onValueNodeHasChildrenChange:k,contentId:vl(),value:I,onValueChange:D,open:M,onOpenChange:P,dir:A,triggerPointerDownPosRef:F,disabled:p,children:[o.jsx(ef.Provider,{scope:t,children:o.jsx(Mfe,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(H=>{O(Se=>new Set(Se).add(H))},[]),onNativeOptionRemove:u.useCallback(H=>{O(Se=>{const ie=new Set(Se);return ie.delete(H),ie})},[]),children:n})}),B?o.jsxs(pM,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:I,onChange:H=>D(H.target.value),disabled:p,form:v,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(z)]},q):null]})})};HS.displayName=nc;var VS="SelectTrigger",GS=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=nf(n),i=Ms(VS,n),l=i.disabled||r,c=kt(t,i.onTriggerChange),d=tf(n),f=u.useRef("touch"),[m,p,g]=gM(h=>{const x=d().filter(S=>!S.disabled),y=x.find(S=>S.value===i.value),b=hM(x,h,y);b!==void 0&&i.onValueChange(b.value)}),v=h=>{l||(i.onOpenChange(!0),g()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return o.jsx(wp,{asChild:!0,...a,children:o.jsx(De.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mM(i.value)?"":void 0,...s,ref:c,onClick:ge(s.onClick,h=>{h.currentTarget.focus(),f.current!=="mouse"&&v(h)}),onPointerDown:ge(s.onPointerDown,h=>{f.current=h.pointerType;const x=h.target;x.hasPointerCapture(h.pointerId)&&x.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(v(h),h.preventDefault())}),onKeyDown:ge(s.onKeyDown,h=>{const x=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(x&&h.key===" ")&&yfe.includes(h.key)&&(v(),h.preventDefault())})})})});GS.displayName=VS;var WS="SelectValue",zS=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=Ms(WS,n),{onValueNodeHasChildrenChange:d}=c,f=a!==void 0,m=kt(t,c.onValueNodeChange);return Or(()=>{d(f)},[d,f]),o.jsx(De.span,{...l,ref:m,style:{pointerEvents:"none"},children:mM(c.value)?o.jsx(o.Fragment,{children:i}):a})});zS.displayName=WS;var Efe="SelectIcon",qS=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(De.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});qS.displayName=Efe;var kfe="SelectPortal",ZS=e=>o.jsx(Sp,{asChild:!0,...e});ZS.displayName=kfe;var ta="SelectContent",YS=u.forwardRef((e,t)=>{const n=Ms(ta,e.__scopeSelect),[r,s]=u.useState();if(Or(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?ds.createPortal(o.jsx(KS,{scope:e.__scopeSelect,children:o.jsx(ef.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(QS,{...e,ref:t})});YS.displayName=ta;var Hn=10,[KS,_s]=Ko(ta),Tfe="SelectContentImpl",QS=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:h,avoidCollisions:x,...y}=e,b=Ms(ta,n),[S,T]=u.useState(null),[k,A]=u.useState(null),M=kt(t,X=>T(X)),[P,I]=u.useState(null),[D,F]=u.useState(null),B=tf(n),[z,O]=u.useState(!1),q=u.useRef(!1);u.useEffect(()=>{if(S)return Jv(S)},[S]),n8();const H=u.useCallback(X=>{const[Re,...Pt]=B().map(Ze=>Ze.ref.current),[Fe]=Pt.slice(-1),Ue=document.activeElement;for(const Ze of X)if(Ze===Ue||(Ze?.scrollIntoView({block:"nearest"}),Ze===Re&&k&&(k.scrollTop=0),Ze===Fe&&k&&(k.scrollTop=k.scrollHeight),Ze?.focus(),document.activeElement!==Ue))return},[B,k]),Se=u.useCallback(()=>H([P,S]),[H,P,S]);u.useEffect(()=>{z&&Se()},[z,Se]);const{onOpenChange:ie,triggerPointerDownPosRef:ae}=b;u.useEffect(()=>{if(S){let X={x:0,y:0};const Re=Fe=>{X={x:Math.abs(Math.round(Fe.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(Fe.pageY)-(ae.current?.y??0))}},Pt=Fe=>{X.x<=10&&X.y<=10?Fe.preventDefault():S.contains(Fe.target)||ie(!1),document.removeEventListener("pointermove",Re),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Pt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Pt,{capture:!0})}}},[S,ie,ae]),u.useEffect(()=>{const X=()=>ie(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[ie]);const[ft,Rt]=gM(X=>{const Re=B().filter(Ue=>!Ue.disabled),Pt=Re.find(Ue=>Ue.ref.current===document.activeElement),Fe=hM(Re,X,Pt);Fe&&setTimeout(()=>Fe.ref.current.focus())}),Vt=u.useCallback((X,Re,Pt)=>{const Fe=!q.current&&!Pt;(b.value!==void 0&&b.value===Re||Fe)&&(I(X),Fe&&(q.current=!0))},[b.value]),Le=u.useCallback(()=>S?.focus(),[S]),ht=u.useCallback((X,Re,Pt)=>{const Fe=!q.current&&!Pt;(b.value!==void 0&&b.value===Re||Fe)&&F(X)},[b.value]),en=r==="popper"?ym:XS,Mt=en===ym?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:h,avoidCollisions:x}:{};return o.jsx(KS,{scope:n,content:S,viewport:k,onViewportChange:A,itemRefCallback:Vt,selectedItem:P,onItemLeave:Le,itemTextRefCallback:ht,focusSelectedItem:Se,selectedItemText:D,position:r,isPositioned:z,searchRef:ft,children:o.jsx(e8,{as:t8,allowPinchZoom:!0,children:o.jsx(r8,{asChild:!0,trapped:b.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ge(s,X=>{b.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:o.jsx(s8,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(en,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:X=>X.preventDefault(),...y,...Mt,onPlaced:()=>O(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ge(y.onKeyDown,X=>{const Re=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Re&&X.key.length===1&&Rt(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Fe=B().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Ue=X.target,Ze=Fe.indexOf(Ue);Fe=Fe.slice(Ze+1)}setTimeout(()=>H(Fe)),X.preventDefault()}})})})})})})});QS.displayName=Tfe;var Afe="SelectItemAlignedPosition",XS=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Ms(ta,n),i=_s(ta,n),[l,c]=u.useState(null),[d,f]=u.useState(null),m=kt(t,M=>f(M)),p=tf(n),g=u.useRef(!1),v=u.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:y,focusSelectedItem:b}=i,S=u.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&h&&x&&y){const M=a.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(a.dir!=="rtl"){const Ue=D.left-P.left,Ze=I.left-Ue,Jn=M.left-Ze,er=M.width+Jn,Ca=Math.max(er,P.width),ya=window.innerWidth-Hn,tr=r6(Ze,[Hn,Math.max(Hn,ya-Ca)]);l.style.minWidth=er+"px",l.style.left=tr+"px"}else{const Ue=P.right-D.right,Ze=window.innerWidth-I.right-Ue,Jn=window.innerWidth-M.right-Ze,er=M.width+Jn,Ca=Math.max(er,P.width),ya=window.innerWidth-Hn,tr=r6(Ze,[Hn,Math.max(Hn,ya-Ca)]);l.style.minWidth=er+"px",l.style.right=tr+"px"}const F=p(),B=window.innerHeight-Hn*2,z=h.scrollHeight,O=window.getComputedStyle(d),q=parseInt(O.borderTopWidth,10),H=parseInt(O.paddingTop,10),Se=parseInt(O.borderBottomWidth,10),ie=parseInt(O.paddingBottom,10),ae=q+H+z+ie+Se,ft=Math.min(x.offsetHeight*5,ae),Rt=window.getComputedStyle(h),Vt=parseInt(Rt.paddingTop,10),Le=parseInt(Rt.paddingBottom,10),ht=M.top+M.height/2-Hn,en=B-ht,Mt=x.offsetHeight/2,X=x.offsetTop+Mt,Re=q+H+X,Pt=ae-Re;if(Re<=ht){const Ue=F.length>0&&x===F[F.length-1].ref.current;l.style.bottom="0px";const Ze=d.clientHeight-h.offsetTop-h.offsetHeight,Jn=Math.max(en,Mt+(Ue?Le:0)+Ze+Se),er=Re+Jn;l.style.height=er+"px"}else{const Ue=F.length>0&&x===F[0].ref.current;l.style.top="0px";const Jn=Math.max(ht,q+h.offsetTop+(Ue?Vt:0)+Mt)+Pt;l.style.height=Jn+"px",h.scrollTop=Re-ht+h.offsetTop}l.style.margin=`${Hn}px 0`,l.style.minHeight=ft+"px",l.style.maxHeight=B+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[p,a.trigger,a.valueNode,l,d,h,x,y,a.dir,r]);Or(()=>S(),[S]);const[T,k]=u.useState();Or(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const A=u.useCallback(M=>{M&&v.current===!0&&(S(),b?.(),v.current=!1)},[S,b]);return o.jsx(Nfe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:o.jsx(De.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});XS.displayName=Afe;var Pfe="SelectPopperPosition",ym=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...a}=e,i=nf(n);return o.jsx(a8,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ym.displayName=Pfe;var[Nfe,r5]=Ko(ta,{}),bm="SelectViewport",JS=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=_s(bm,n),i=r5(bm,n),l=kt(t,a.onViewportChange),c=u.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(ef.Slot,{scope:n,children:o.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ge(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=i;if(p?.current&&m){const g=Math.abs(c.current-f.scrollTop);if(g>0){const v=window.innerHeight-Hn*2,h=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),y=Math.max(h,x);if(y<v){const b=y+g,S=Math.min(v,b),T=b-S;m.style.height=S+"px",m.style.bottom==="0px"&&(f.scrollTop=T>0?T:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});JS.displayName=bm;var eM="SelectGroup",[jfe,Ife]=Ko(eM),tM=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vl();return o.jsx(jfe,{scope:n,id:s,children:o.jsx(De.div,{role:"group","aria-labelledby":s,...r,ref:t})})});tM.displayName=eM;var nM="SelectLabel",rM=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ife(nM,n);return o.jsx(De.div,{id:s.id,...r,ref:t})});rM.displayName=nM;var ad="SelectItem",[Rfe,sM]=Ko(ad),aM=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=Ms(ad,n),c=_s(ad,n),d=l.value===r,[f,m]=u.useState(a??""),[p,g]=u.useState(!1),v=kt(t,b=>c.itemRefCallback?.(b,r,s)),h=vl(),x=u.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Rfe,{scope:n,value:r,disabled:s,textId:h,isSelected:d,onItemTextChange:u.useCallback(b=>{m(S=>S||(b?.textContent??"").trim())},[]),children:o.jsx(ef.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:o.jsx(De.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:ge(i.onFocus,()=>g(!0)),onBlur:ge(i.onBlur,()=>g(!1)),onClick:ge(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ge(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ge(i.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:ge(i.onPointerMove,b=>{x.current=b.pointerType,s?c.onItemLeave?.():x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(i.onPointerLeave,b=>{b.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ge(i.onKeyDown,b=>{c.searchRef?.current!==""&&b.key===" "||(bfe.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});aM.displayName=ad;var Mi="SelectItemText",oM=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=Ms(Mi,n),l=_s(Mi,n),c=sM(Mi,n),d=_fe(Mi,n),[f,m]=u.useState(null),p=kt(t,y=>m(y),c.onItemTextChange,y=>l.itemTextRefCallback?.(y,c.value,c.disabled)),g=f?.textContent,v=u.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=d;return Or(()=>(h(v),()=>x(v)),[h,x,v]),o.jsxs(o.Fragment,{children:[o.jsx(De.span,{id:c.textId,...a,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ds.createPortal(a.children,i.valueNode):null]})});oM.displayName=Mi;var iM="SelectItemIndicator",lM=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return sM(iM,n).isSelected?o.jsx(De.span,{"aria-hidden":!0,...r,ref:t}):null});lM.displayName=iM;var wm="SelectScrollUpButton",cM=u.forwardRef((e,t)=>{const n=_s(wm,e.__scopeSelect),r=r5(wm,e.__scopeSelect),[s,a]=u.useState(!1),i=kt(t,r.onScrollButtonChange);return Or(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(dM,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cM.displayName=wm;var Sm="SelectScrollDownButton",uM=u.forwardRef((e,t)=>{const n=_s(Sm,e.__scopeSelect),r=r5(Sm,e.__scopeSelect),[s,a]=u.useState(!1),i=kt(t,r.onScrollButtonChange);return Or(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(dM,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uM.displayName=Sm;var dM=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=_s("SelectScrollButton",n),i=u.useRef(null),l=tf(n),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Or(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),o.jsx(De.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ge(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ge(s.onPointerMove,()=>{a.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ge(s.onPointerLeave,()=>{c()})})}),Lfe="SelectSeparator",fM=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(De.div,{"aria-hidden":!0,...r,ref:t})});fM.displayName=Lfe;var Mm="SelectArrow",Ofe=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=nf(n),a=Ms(Mm,n),i=_s(Mm,n);return a.open&&i.position==="popper"?o.jsx(o8,{...s,...r,ref:t}):null});Ofe.displayName=Mm;function mM(e){return e===""||e===void 0}var pM=u.forwardRef((e,t)=>{const{value:n,...r}=e,s=u.useRef(null),a=kt(t,s),i=Eg(n);return u.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&f){const m=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(m)}},[i,n]),o.jsx(Ap,{asChild:!0,children:o.jsx("select",{...r,ref:a,defaultValue:n})})});pM.displayName="BubbleSelect";function gM(e){const t=Xs(e),n=u.useRef(""),r=u.useRef(0),s=u.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=u.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function hM(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=Dfe(e,Math.max(a,0));s.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Dfe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ffe=HS,$fe=GS,Bfe=zS,Ufe=qS,Hfe=ZS,Vfe=YS,Gfe=JS,Wfe=tM,zfe=rM,qfe=aM,vM=oM,xM=lM,Zfe=cM,Yfe=uM,Kfe=fM;function Qfe({children:e,iconClassName:t,...n},r){return o.jsxs(AP,{$as:qfe,ref:r,className:"flex justify-between",...n,children:[o.jsx(vM,{children:e}),o.jsx(xM,{className:"",children:o.jsx(us,{className:t??"icon-sm"})})]})}function Xfe(e){return o.jsx(PP,{$as:$fe,...e})}function Jfe({children:e,className:t,...n}){return o.jsxs(h8,{$as:Vfe,side:"bottom",sideOffset:4,position:"popper",className:N("min-w-[220px] overflow-auto",t),...n,children:[o.jsx(Zfe,{className:"flex h-8 cursor-default items-center justify-center text-token-text-primary",children:o.jsx(ofe,{className:"icon-sm"})}),o.jsx(Gfe,{children:e}),o.jsx(Yfe,{className:"flex h-8 cursor-default items-center justify-center text-token-text-primary",children:o.jsx(Xl,{className:"icon-sm"})})]})}function e0e(){return o.jsx(Ufe,{children:o.jsx(Xl,{className:"icon-sm"})})}function t0e(){return o.jsx(Kfe,{className:"mx-5 my-2 h-px bg-token-border-light"})}function n0e({children:e}){return o.jsx(zfe,{className:"mx-2 my-1 px-3 text-xs font-semibold text-token-text-secondary",children:e})}function IPe({options:e,value:t,onValueChange:n,disabled:r,defaultValue:s,placeholder:a,triggerClassName:i}){return o.jsxs(Yt.Root,{value:t,onValueChange:n,disabled:r,defaultValue:s,children:[o.jsxs(Yt.Trigger,{className:i,children:[o.jsx(Yt.Value,{placeholder:a}),o.jsx(Yt.Icon,{})]}),o.jsx(Yt.Portal,{children:o.jsx(Yt.Content,{children:e.map(l=>o.jsx(Yt.Item,{value:l.value,children:l.label},l.value))})})]})}const Yt={Root:Ffe,Trigger:Xfe,Value:Bfe,Icon:e0e,Portal:Hfe,Content:Jfe,Item:ye.forwardRef(Qfe),ItemText:vM,ItemIndicator:xM,Separator:t0e,Label:n0e,Group:Wfe},r0e=({children:e})=>{const t=lx(),n=Kn();return!t?.length||n?null:o.jsxs(te.Root,{children:[o.jsx(te.Trigger,{className:"h-10 px-2",children:e}),o.jsx(te.Portal,{children:o.jsx(te.Content,{align:"end",onCloseAutoFocus:r=>r.preventDefault(),children:t.map(r=>o.jsx(s0e,{textdocId:r},r))})})]})},s0e=({textdocId:e})=>{const t=wo(a1(e));return o.jsx(te.Item,{icon:Ir,onClick:()=>{n1.logButtonClick(Up.FILE_DRAWER_ITEM),fs(t.textdocId)},children:o.jsx("span",{className:"block max-w-[200px] truncate",children:t.title})})},RPe=()=>{const e=L(),t=lx(),n=o1();if(!t||n)return null;const r=t.length;return r===1?o.jsx(a0e,{textdocId:t[0]}):o.jsx(r0e,{children:o.jsx(et,{label:e.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:o.jsxs("div",{className:"flex items-center gap-1 text-token-text-secondary",style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"},children:[o.jsx(Ir,{className:"icon-xl-heavy"}),r]})})})},a0e=({textdocId:e})=>{const t=L(),n=wo(a1(e));return o.jsx(et,{label:t.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:o.jsx(nH,{onClick:()=>fs(n.textdocId),icon:Ir,style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"}})})};function o0e(e){return Z.findNode(e,t=>t.message.author.name?.startsWith(`${is}.`)===!0||t.message.recipient?.startsWith(`${is}.`)===!0)!=null}function LPe(e,t){const n=e.originalConversationId;Bu({clientThreadId:n,title:e.title?t.formatMessage({id:"R1QYtC",defaultMessage:"Completed {taskTitle}"},{taskTitle:e.title}):t.formatMessage({id:"qi9HQV",defaultMessage:"Task complete"}),subtitle:t.formatMessage({id:"EgCRBg",defaultMessage:"Click here to view the result of your task"})})}const i0e=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...e},u.createElement("path",{d:"M3.33341 14.167C2.32138 13.4068 1.66675 12.1965 1.66675 10.8333C1.66675 8.7227 3.23605 6.97861 5.27148 6.70422C5.94715 4.74263 7.80904 3.33331 10.0001 3.33331C12.7615 3.33331 15.0001 5.57189 15.0001 8.33331C16.841 8.33331 18.3334 9.8257 18.3334 11.6666C18.3334 12.9004 17.6631 13.9777 16.6667 14.554",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M7.08325 13.3334V11.6667H12.9166V13.3334C12.9166 14.7141 11.7973 15.8334 10.4166 15.8334H9.58325C8.20254 15.8334 7.08325 14.7141 7.08325 13.3334Z",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M10 15.8333V17.5",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M8.33325 9.59998V11.2666",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M11.6667 9.59998V11.2666",stroke:"currentColor",strokeWidth:1.66667,strokeLinecap:"round",strokeLinejoin:"round"})),OPe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M6.16146 3.5H17.8385C18.3657 3.49998 18.8205 3.49997 19.195 3.53057C19.5904 3.56287 19.9836 3.63419 20.362 3.82698C20.9265 4.1146 21.3854 4.57354 21.673 5.13803C21.8658 5.51641 21.9371 5.90963 21.9694 6.30497C22 6.67954 22 7.1343 22 7.66144V15.5C22.5523 15.5 22.9999 15.9477 22.9999 16.5V17.5C22.9999 19.1569 21.6568 20.5 19.9999 20.5H3.99622C2.33936 20.5 0.996216 19.1569 0.996216 17.5V16.5C0.996216 15.9477 1.44393 15.5 1.99622 15.5H2L2 7.66146C1.99998 7.13431 1.99997 6.67955 2.03057 6.30497C2.06287 5.90963 2.13419 5.51641 2.32698 5.13803C2.6146 4.57354 3.07354 4.1146 3.63803 3.82698C4.01641 3.63419 4.40963 3.56287 4.80497 3.53057C5.17954 3.49997 5.63431 3.49998 6.16146 3.5ZM3.0014 17.5L3 17.5L2.9986 17.5H2.99622C2.99622 18.0523 3.44393 18.5 3.99622 18.5H19.9999C20.5522 18.5 20.9999 18.0523 20.9999 17.5H20.9986H15.236L14.4472 17.8944C14.3083 17.9639 14.1552 18 13.9999 18H9.99995C9.8447 18 9.69159 17.9639 9.55273 17.8944L8.76388 17.5H3.0014ZM20 15.5V7.7C20 7.12345 19.9992 6.75118 19.9761 6.46784C19.9539 6.19617 19.9162 6.09546 19.891 6.04601C19.7951 5.85785 19.6422 5.70487 19.454 5.609C19.4045 5.5838 19.3038 5.54612 19.0322 5.52393C18.7488 5.50078 18.3766 5.5 17.8 5.5H6.2C5.62345 5.5 5.25117 5.50078 4.96784 5.52393C4.69617 5.54612 4.59545 5.5838 4.54601 5.609C4.35785 5.70487 4.20487 5.85785 4.10899 6.04601C4.0838 6.09546 4.04612 6.19617 4.02393 6.46784C4.00078 6.75117 4 7.12345 4 7.7V15.5H8.99995C9.15519 15.5 9.3083 15.5361 9.44716 15.6056L10.236 16H13.7639L14.5527 15.6056C14.6916 15.5361 14.8447 15.5 14.9999 15.5H20Z",fill:"currentColor"})),l0e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M15.6729 3.91287C16.8918 2.69392 18.8682 2.69392 20.0871 3.91287C21.3061 5.13182 21.3061 7.10813 20.0871 8.32708L14.1499 14.2643C13.3849 15.0293 12.3925 15.5255 11.3215 15.6785L9.14142 15.9899C8.82983 16.0344 8.51546 15.9297 8.29289 15.7071C8.07033 15.4845 7.96554 15.1701 8.01005 14.8586L8.32149 12.6785C8.47449 11.6075 8.97072 10.615 9.7357 9.85006L15.6729 3.91287ZM18.6729 5.32708C18.235 4.88918 17.525 4.88918 17.0871 5.32708L11.1499 11.2643C10.6909 11.7233 10.3932 12.3187 10.3014 12.9613L10.1785 13.8215L11.0386 13.6986C11.6812 13.6068 12.2767 13.3091 12.7357 12.8501L18.6729 6.91287C19.1108 6.47497 19.1108 5.76499 18.6729 5.32708ZM11 3.99929C11.0004 4.55157 10.5531 4.99963 10.0008 5.00007C9.00227 5.00084 8.29769 5.00827 7.74651 5.06064C7.20685 5.11191 6.88488 5.20117 6.63803 5.32695C6.07354 5.61457 5.6146 6.07351 5.32698 6.63799C5.19279 6.90135 5.10062 7.24904 5.05118 7.8542C5.00078 8.47105 5 9.26336 5 10.4V13.6C5 14.7366 5.00078 15.5289 5.05118 16.1457C5.10062 16.7509 5.19279 17.0986 5.32698 17.3619C5.6146 17.9264 6.07354 18.3854 6.63803 18.673C6.90138 18.8072 7.24907 18.8993 7.85424 18.9488C8.47108 18.9992 9.26339 19 10.4 19H13.6C14.7366 19 15.5289 18.9992 16.1458 18.9488C16.7509 18.8993 17.0986 18.8072 17.362 18.673C17.9265 18.3854 18.3854 17.9264 18.673 17.3619C18.7988 17.1151 18.8881 16.7931 18.9393 16.2535C18.9917 15.7023 18.9991 14.9977 18.9999 13.9992C19.0003 13.4469 19.4484 12.9995 20.0007 13C20.553 13.0004 21.0003 13.4485 20.9999 14.0007C20.9991 14.9789 20.9932 15.7808 20.9304 16.4426C20.8664 17.116 20.7385 17.7136 20.455 18.2699C19.9757 19.2107 19.2108 19.9756 18.27 20.455C17.6777 20.7568 17.0375 20.8826 16.3086 20.9421C15.6008 21 14.7266 21 13.6428 21H10.3572C9.27339 21 8.39925 21 7.69138 20.9421C6.96253 20.8826 6.32234 20.7568 5.73005 20.455C4.78924 19.9756 4.02433 19.2107 3.54497 18.2699C3.24318 17.6776 3.11737 17.0374 3.05782 16.3086C2.99998 15.6007 2.99999 14.7266 3 13.6428V10.3572C2.99999 9.27337 2.99998 8.39922 3.05782 7.69134C3.11737 6.96249 3.24318 6.3223 3.54497 5.73001C4.02433 4.7892 4.78924 4.0243 5.73005 3.54493C6.28633 3.26149 6.88399 3.13358 7.55735 3.06961C8.21919 3.00673 9.02103 3.00083 9.99922 3.00007C10.5515 2.99964 10.9996 3.447 11 3.99929Z",fill:"currentColor"})),DPe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4C5.44772 4 5 4.44772 5 5V19C5 19.5523 5.44772 20 6 20H10C10.5523 20 11 20.4477 11 21C11 21.5523 10.5523 22 10 22H6C4.34315 22 3 20.6569 3 19V5C3 3.34315 4.34315 2 6 2H10C10.5523 2 11 2.44772 11 3C11 3.55228 10.5523 4 10 4H6ZM15.2929 7.29289C15.6834 6.90237 16.3166 6.90237 16.7071 7.29289L20.7071 11.2929C21.0976 11.6834 21.0976 12.3166 20.7071 12.7071L16.7071 16.7071C16.3166 17.0976 15.6834 17.0976 15.2929 16.7071C14.9024 16.3166 14.9024 15.6834 15.2929 15.2929L17.5858 13H11C10.4477 13 10 12.5523 10 12C10 11.4477 10.4477 11 11 11H17.5858L15.2929 8.70711C14.9024 8.31658 14.9024 7.68342 15.2929 7.29289Z",fill:"currentColor"})),FPe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5001 3.44338C12.1907 3.26474 11.8095 3.26474 11.5001 3.44338L4.83984 7.28868C4.53044 7.46731 4.33984 7.79744 4.33984 8.1547V15.8453C4.33984 16.2026 4.53044 16.5327 4.83984 16.7113L11.5001 20.5566C11.8095 20.7353 12.1907 20.7353 12.5001 20.5566L19.1604 16.7113C19.4698 16.5327 19.6604 16.2026 19.6604 15.8453V8.1547C19.6604 7.79744 19.4698 7.46731 19.1604 7.28868L12.5001 3.44338ZM10.5001 1.71133C11.4283 1.17543 12.5719 1.17543 13.5001 1.71133L20.1604 5.55663C21.0886 6.09252 21.6604 7.0829 21.6604 8.1547V15.8453C21.6604 16.9171 21.0886 17.9075 20.1604 18.4434L13.5001 22.2887C12.5719 22.8246 11.4283 22.8246 10.5001 22.2887L3.83984 18.4434C2.91164 17.9075 2.33984 16.9171 2.33984 15.8453V8.1547C2.33984 7.0829 2.91164 6.09252 3.83984 5.55663L10.5001 1.71133Z",fill:"currentColor"}),u.createElement("path",{d:"M9.44133 11.4454L9.92944 9.98105C10.0321 9.67299 10.4679 9.67299 10.5706 9.98105L11.0587 11.4454C11.2941 12.1517 11.8483 12.7059 12.5546 12.9413L14.019 13.4294C14.327 13.5321 14.327 13.9679 14.019 14.0706L12.5546 14.5587C11.8483 14.7941 11.2941 15.3483 11.0587 16.0546L10.5706 17.519C10.4679 17.827 10.0321 17.827 9.92944 17.519L9.44133 16.0546C9.2059 15.3483 8.65167 14.7941 7.94537 14.5587L6.48105 14.0706C6.17298 13.9679 6.17298 13.5321 6.48105 13.4294L7.94537 12.9413C8.65167 12.7059 9.2059 12.1517 9.44133 11.4454Z",fill:"currentColor"}),u.createElement("path",{d:"M14.4946 8.05961L14.7996 7.14441C14.8638 6.95187 15.1362 6.95187 15.2004 7.14441L15.5054 8.05961C15.6526 8.50104 15.999 8.84744 16.4404 8.99458L17.3556 9.29965C17.5481 9.36383 17.5481 9.63617 17.3556 9.70035L16.4404 10.0054C15.999 10.1526 15.6526 10.499 15.5054 10.9404L15.2004 11.8556C15.1362 12.0481 14.8638 12.0481 14.7996 11.8556L14.4946 10.9404C14.3474 10.499 14.001 10.1526 13.5596 10.0054L12.6444 9.70035C12.4519 9.63617 12.4519 9.36383 12.6444 9.29965L13.5596 8.99458C14.001 8.84744 14.3474 8.50104 14.4946 8.05961Z",fill:"currentColor"})),c0e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M3.06957 10.8763C3.62331 6.43564 7.40967 3 12 3C14.2824 3 16.4028 3.85067 18.0118 5.25439V4C18.0118 3.44772 18.4595 3 19.0118 3C19.5641 3 20.0118 3.44772 20.0118 4V8C20.0118 8.55228 19.5641 9 19.0118 9H15C14.4477 9 14 8.55228 14 8C14 7.44772 14.4477 7 15 7H16.9571C15.6757 5.76379 13.9101 5 12 5C8.43108 5 5.48466 7.67174 5.0542 11.1237C4.98586 11.6718 4.48619 12.0607 3.93815 11.9923C3.39011 11.924 3.00123 11.4243 3.06957 10.8763ZM20.0618 12.0077C20.6099 12.076 20.9988 12.5757 20.9304 13.1237C20.3767 17.5644 16.5903 21 12 21C9.72322 21 7.60762 20.1535 5.99999 18.7559V20C5.99999 20.5523 5.55228 21 4.99999 21C4.44771 21 3.99999 20.5523 3.99999 20V16C3.99999 15.4477 4.44771 15 4.99999 15H8.99999C9.55228 15 9.99999 15.4477 9.99999 16C9.99999 16.5523 9.55228 17 8.99999 17H7.04285C8.32433 18.2362 10.0899 19 12 19C15.5689 19 18.5153 16.3283 18.9458 12.8763C19.0141 12.3282 19.5138 11.9393 20.0618 12.0077Z",fill:"currentColor"})),u0e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5677 3.5C11.2129 3.5 10.8847 3.68789 10.7051 3.99377L9.89391 5.37524C9.3595 6.28538 8.38603 6.84786 7.3304 6.85645L5.73417 6.86945C5.3794 6.87233 5.0527 7.06288 4.87559 7.3702L4.43693 8.13135C4.2603 8.43784 4.25877 8.81481 4.43291 9.12273L5.22512 10.5235C5.74326 11.4397 5.74326 12.5603 5.22512 13.4765L4.43291 14.8773C4.25877 15.1852 4.2603 15.5622 4.43693 15.8687L4.87559 16.6298C5.0527 16.9371 5.3794 17.1277 5.73417 17.1306L7.33042 17.1436C8.38605 17.1522 9.35952 17.7146 9.89393 18.6248L10.7051 20.0062C10.8847 20.3121 11.2129 20.5 11.5677 20.5H12.4378C12.7926 20.5 13.1208 20.3121 13.3004 20.0062L14.1116 18.6248C14.646 17.7146 15.6195 17.1522 16.6751 17.1436L18.2714 17.1306C18.6262 17.1277 18.9529 16.9371 19.13 16.6298L19.5687 15.8687C19.7453 15.5622 19.7468 15.1852 19.5727 14.8773L18.7805 13.4765C18.2623 12.5603 18.2623 11.4397 18.7805 10.5235L19.5727 9.12273C19.7468 8.81481 19.7453 8.43784 19.5687 8.13135L19.13 7.3702C18.9529 7.06288 18.6262 6.87233 18.2714 6.86945L16.6751 6.85645C15.6195 6.84786 14.646 6.28538 14.1116 5.37524L13.3004 3.99377C13.1208 3.68788 12.7926 3.5 12.4378 3.5H11.5677ZM8.97978 2.98131C9.5186 2.06365 10.5033 1.5 11.5677 1.5H12.4378C13.5022 1.5 14.4869 2.06365 15.0257 2.98131L15.8369 4.36278C16.015 4.66616 16.3395 4.85365 16.6914 4.85652L18.2877 4.86951C19.352 4.87818 20.3321 5.4498 20.8635 6.37177L21.3021 7.13292C21.832 8.05239 21.8366 9.18331 21.3142 10.1071L20.522 11.5078C20.3493 11.8132 20.3493 12.1868 20.522 12.4922L21.3142 13.893C21.8366 14.8167 21.832 15.9476 21.3021 16.8671L20.8635 17.6282C20.3321 18.5502 19.352 19.1218 18.2877 19.1305L16.6914 19.1435C16.3395 19.1464 16.015 19.3339 15.8369 19.6372L15.0257 21.0187C14.4869 21.9363 13.5022 22.5 12.4378 22.5H11.5677C10.5033 22.5 9.5186 21.9363 8.97978 21.0187L8.16863 19.6372C7.99049 19.3339 7.666 19.1464 7.31413 19.1435L5.71789 19.1305C4.65357 19.1218 3.67347 18.5502 3.14213 17.6282L2.70347 16.8671C2.17358 15.9476 2.16899 14.8167 2.6914 13.893L3.48361 12.4922C3.65632 12.1868 3.65632 11.8132 3.48361 11.5078L2.6914 10.1071C2.16899 9.18331 2.17358 8.05239 2.70347 7.13292L3.14213 6.37177C3.67347 5.4498 4.65357 4.87818 5.71789 4.86951L7.31411 4.85652C7.66599 4.85366 7.99048 4.66616 8.16862 4.36278L8.97978 2.98131Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0028 10.5C11.1741 10.5 10.5024 11.1716 10.5024 12C10.5024 12.8284 11.1741 13.5 12.0028 13.5C12.8315 13.5 13.5032 12.8284 13.5032 12C13.5032 11.1716 12.8315 10.5 12.0028 10.5ZM8.50178 12C8.50178 10.067 10.0692 8.5 12.0028 8.5C13.9364 8.5 15.5038 10.067 15.5038 12C15.5038 13.933 13.9364 15.5 12.0028 15.5C10.0692 15.5 8.50178 13.933 8.50178 12Z",fill:"currentColor"})),$Pe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85719 3L13.5 3C14.0523 3 14.5 3.44772 14.5 4C14.5 4.55229 14.0523 5 13.5 5H11.5V19H15.1C16.2366 19 17.0289 18.9992 17.6458 18.9488C18.2509 18.8994 18.5986 18.8072 18.862 18.673C19.4265 18.3854 19.8854 17.9265 20.173 17.362C20.3072 17.0986 20.3994 16.7509 20.4488 16.1458C20.4992 15.5289 20.5 14.7366 20.5 13.6V11.5C20.5 10.9477 20.9477 10.5 21.5 10.5C22.0523 10.5 22.5 10.9477 22.5 11.5V13.6428C22.5 14.7266 22.5 15.6008 22.4422 16.3086C22.3826 17.0375 22.2568 17.6777 21.955 18.27C21.4757 19.2108 20.7108 19.9757 19.77 20.455C19.1777 20.7568 18.5375 20.8826 17.8086 20.9422C17.1008 21 16.2266 21 15.1428 21H8.85717C7.77339 21 6.89925 21 6.19138 20.9422C5.46253 20.8826 4.82234 20.7568 4.23005 20.455C3.28924 19.9757 2.52433 19.2108 2.04497 18.27C1.74318 17.6777 1.61737 17.0375 1.55782 16.3086C1.49998 15.6007 1.49999 14.7266 1.5 13.6428V10.3572C1.49999 9.27341 1.49998 8.39926 1.55782 7.69138C1.61737 6.96253 1.74318 6.32234 2.04497 5.73005C2.52433 4.78924 3.28924 4.02433 4.23005 3.54497C4.82234 3.24318 5.46253 3.11737 6.19138 3.05782C6.89926 2.99998 7.77341 2.99999 8.85719 3ZM9.5 19V5H8.9C7.76339 5 6.97108 5.00078 6.35424 5.05118C5.74907 5.10062 5.40138 5.19279 5.13803 5.32698C4.57354 5.6146 4.1146 6.07354 3.82698 6.63803C3.69279 6.90138 3.60062 7.24907 3.55118 7.85424C3.50078 8.47108 3.5 9.26339 3.5 10.4V13.6C3.5 14.7366 3.50078 15.5289 3.55118 16.1458C3.60062 16.7509 3.69279 17.0986 3.82698 17.362C4.1146 17.9265 4.57354 18.3854 5.13803 18.673C5.40138 18.8072 5.74907 18.8994 6.35424 18.9488C6.97108 18.9992 7.76339 19 8.9 19H9.5ZM5 8.5C5 7.94772 5.44772 7.5 6 7.5H7C7.55229 7.5 8 7.94772 8 8.5C8 9.05229 7.55229 9.5 7 9.5H6C5.44772 9.5 5 9.05229 5 8.5ZM5 12C5 11.4477 5.44772 11 6 11H7C7.55229 11 8 11.4477 8 12C8 12.5523 7.55229 13 7 13H6C5.44772 13 5 12.5523 5 12Z",fill:"currentColor"}),u.createElement("circle",{cx:20,cy:5,r:4,fill:"#0285FF"})),BPe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85719 3H15.1428C16.2266 2.99999 17.1007 2.99998 17.8086 3.05782C18.5375 3.11737 19.1777 3.24318 19.77 3.54497C20.7108 4.02433 21.4757 4.78924 21.955 5.73005C22.2568 6.32234 22.3826 6.96253 22.4422 7.69138C22.5 8.39925 22.5 9.27339 22.5 10.3572V13.6428C22.5 14.7266 22.5 15.6008 22.4422 16.3086C22.3826 17.0375 22.2568 17.6777 21.955 18.27C21.4757 19.2108 20.7108 19.9757 19.77 20.455C19.1777 20.7568 18.5375 20.8826 17.8086 20.9422C17.1008 21 16.2266 21 15.1428 21H8.85717C7.77339 21 6.89925 21 6.19138 20.9422C5.46253 20.8826 4.82234 20.7568 4.23005 20.455C3.28924 19.9757 2.52433 19.2108 2.04497 18.27C1.74318 17.6777 1.61737 17.0375 1.55782 16.3086C1.49998 15.6007 1.49999 14.7266 1.5 13.6428V10.3572C1.49999 9.27341 1.49998 8.39926 1.55782 7.69138C1.61737 6.96253 1.74318 6.32234 2.04497 5.73005C2.52433 4.78924 3.28924 4.02433 4.23005 3.54497C4.82234 3.24318 5.46253 3.11737 6.19138 3.05782C6.89926 2.99998 7.77341 2.99999 8.85719 3ZM6.35424 5.05118C5.74907 5.10062 5.40138 5.19279 5.13803 5.32698C4.57354 5.6146 4.1146 6.07354 3.82698 6.63803C3.69279 6.90138 3.60062 7.24907 3.55118 7.85424C3.50078 8.47108 3.5 9.26339 3.5 10.4V13.6C3.5 14.7366 3.50078 15.5289 3.55118 16.1458C3.60062 16.7509 3.69279 17.0986 3.82698 17.362C4.1146 17.9265 4.57354 18.3854 5.13803 18.673C5.40138 18.8072 5.74907 18.8994 6.35424 18.9488C6.97108 18.9992 7.76339 19 8.9 19H9.5V5H8.9C7.76339 5 6.97108 5.00078 6.35424 5.05118ZM11.5 5V19H15.1C16.2366 19 17.0289 18.9992 17.6458 18.9488C18.2509 18.8994 18.5986 18.8072 18.862 18.673C19.4265 18.3854 19.8854 17.9265 20.173 17.362C20.3072 17.0986 20.3994 16.7509 20.4488 16.1458C20.4992 15.5289 20.5 14.7366 20.5 13.6V10.4C20.5 9.26339 20.4992 8.47108 20.4488 7.85424C20.3994 7.24907 20.3072 6.90138 20.173 6.63803C19.8854 6.07354 19.4265 5.6146 18.862 5.32698C18.5986 5.19279 18.2509 5.10062 17.6458 5.05118C17.0289 5.00078 16.2366 5 15.1 5H11.5ZM5 8.5C5 7.94772 5.44772 7.5 6 7.5H7C7.55229 7.5 8 7.94772 8 8.5C8 9.05229 7.55229 9.5 7 9.5H6C5.44772 9.5 5 9.05229 5 8.5ZM5 12C5 11.4477 5.44772 11 6 11H7C7.55229 11 8 11.4477 8 12C8 12.5523 7.55229 13 7 13H6C5.44772 13 5 12.5523 5 12Z",fill:"currentColor"}));function d0e(){return lt.getBooleanCookie(ct.DowngradeAccountEnabled)??!1}const UPe=()=>xp("2056761365");var CM="AlertDialog",[f0e,HPe]=gs(CM,[v8]),Hr=v8(),yM=e=>{const{__scopeAlertDialog:t,...n}=e,r=Hr(t);return o.jsx(Ud,{...r,...n,modal:!0})};yM.displayName=CM;var m0e="AlertDialogTrigger",p0e=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hr(n);return o.jsx(Tp,{...s,...r,ref:t})});p0e.displayName=m0e;var g0e="AlertDialogPortal",bM=e=>{const{__scopeAlertDialog:t,...n}=e,r=Hr(t);return o.jsx(Hd,{...r,...n})};bM.displayName=g0e;var h0e="AlertDialogOverlay",wM=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hr(n);return o.jsx(Vd,{...s,...r,ref:t})});wM.displayName=h0e;var Xa="AlertDialogContent",[v0e,x0e]=f0e(Xa),SM=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=Hr(n),i=u.useRef(null),l=kt(t,i),c=u.useRef(null);return o.jsx(NP,{contentName:Xa,titleName:MM,docsSlug:"alert-dialog",children:o.jsx(v0e,{scope:n,cancelRef:c,children:o.jsxs(Wd,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ge(s.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(jP,{children:r}),o.jsx(y0e,{contentRef:i})]})})})});SM.displayName=Xa;var MM="AlertDialogTitle",_M=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hr(n);return o.jsx(IP,{...s,...r,ref:t})});_M.displayName=MM;var EM="AlertDialogDescription",kM=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hr(n);return o.jsx(RP,{...s,...r,ref:t})});kM.displayName=EM;var C0e="AlertDialogAction",TM=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Hr(n);return o.jsx(Gd,{...s,...r,ref:t})});TM.displayName=C0e;var AM="AlertDialogCancel",PM=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=x0e(AM,n),a=Hr(n),i=kt(t,s);return o.jsx(Gd,{...a,...r,ref:i})});PM.displayName=AM;var y0e=({contentRef:e})=>{const t=`\`${Xa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xa}\` by passing a \`${EM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},b0e=yM,w0e=bM,S0e=wM,M0e=SM,_0e=TM,E0e=PM,k0e=_M,s6=kM;function NM({title:e,description:t,onClose:n,actionButton:r,cancelButton:s,moreInfoLink:a}){return o.jsx(b0e,{open:!0,onOpenChange:i=>{i||n()},children:o.jsxs(w0e,{children:[o.jsx(S0e,{className:"fixed inset-0 border-token-border-medium radix-state-open:animate-show"}),o.jsxs(M0e,{className:"fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl bg-token-main-surface-primary shadow-2xl focus:outline-none radix-state-open:animate-alertShow",onEscapeKeyDown:i=>i.preventDefault(),children:[o.jsx(k0e,{className:"border-b border-token-border-light p-4 text-lg font-semibold md:p-6",children:e}),o.jsxs("div",{className:"flex flex-col gap-4 p-4 md:p-6",children:[o.jsx(s6,{className:"text-base",children:t}),o.jsxs("div",{className:"flex justify-end gap-2",children:[a&&o.jsx(s6,{className:"flex-grow",children:a}),s&&o.jsx(E0e,{asChild:!0,children:s}),o.jsx(_0e,{asChild:!0,children:r})]})]})]})]})})}const jM="1696863369",T0e=me.UseSidekick,A0e=me.SidekickLauncherOnboarding,P0e="https://help.openai.com/en/articles/9275200",N0e="https://persistent.oaistatic.com/sidekick/public/ChatGPT_Desktop_public_latest.dmg",IM="1697140512",j0e=me.UseSidetron,I0e=me.hasSeenWindowsAppOnboarding,R0e="https://help.openai.com/en/articles/9982051",L0e="https://apps.microsoft.com/detail/9nt1r1c2hh7j",RM="download";function LM(e,t){const n=$e(),r=ml(e).layer.get(t,!1);return n!=null&&r}function O0e(){return LM(jM,"has_sidekick_access")}function D0e(){return LM(IM,"can_download_sidetron")}function s5(){const e=O0e(),t=D0e();return{isSidekickAvailable:e,isSidetronAvailable:t,isDesktopAppAvailable:e||t}}function F0e(e){return e===RM}function $0e(){const e=Te(),{hash:t}=vs(),n=F0e(t.slice(1));return{openModal:()=>{e({hash:RM})},closeModal:()=>{e({hash:""})},isOpen:n}}function VPe(e){const t=s5(),{isDesktopAppAvailable:n}=t,r=a5(t),s=LP(r.statsigLayerName,"show_nux_banner",!1),{eligible:a,isLoading:i}=le(r.downloadAnnouncement),{eligible:l,isLoading:c}=le(r.onboardingAnnouncement);return{eligible:!(!a||!l||!n||e.conversationMode?.kind!==ke.PrimaryAssistant)&&s,isLoading:c||i}}function GPe({onClose:e}){const t=s5(),n=a5(t);u.useEffect(()=>{E.logEvent(n.analyticsBannerShown),$.logEvent(n.statsigBannerShown)},[n.analyticsBannerShown,n.statsigBannerShown]);const{markAsViewed:r}=le(n.downloadAnnouncement),s=u.useCallback(()=>{r(),E.logEvent(n.analyticsBannerDismissed),$.logEvent(n.statsigBannerDismissed),e&&e()},[r,e,n.analyticsBannerDismissed,n.statsigBannerDismissed]),a=u.useCallback(()=>{E.logEvent(n.analyticsBannerDownloadClicked),$.logEvent(n.statsigBannerDownloadClicked),r(),e&&e()},[r,e,n.analyticsBannerDownloadClicked,n.statsigBannerDownloadClicked]),i={...n,isAppAvailable:t.isDesktopAppAvailable,markAsDownloaded:a,markAsViewed:s};return o.jsx(H0e,{...i})}function B0e(e){window.open(e,"_blank")}function a5(e){return e.isSidekickAvailable?q0e:Z0e}function U0e(e){return e.bannerTitle}function WPe(){const{closeModal:e,isOpen:t}=$0e(),n=s5(),{isDesktopAppAvailable:r}=n,s=a5(n),a=u.useMemo(()=>({isDesktopAppAvailable:r}),[r]),i=()=>{E.logEvent(s.analyticsModalClosed,a),$.logEvent(s.statsigModalClosed),e()},l=()=>{E.logEvent(s.analyticsModalDownloadClicked,a),$.logEvent(s.statsigModalDownloadClicked),e()};if(u.useEffect(()=>{t&&(E.logEvent(s.analyticsModalShown,{...a}),$.logEvent(s.statsigModalShown))},[a,t,s.analyticsModalShown,s.statsigModalShown]),!t)return null;const c={...s,isAppAvailable:n.isDesktopAppAvailable,markAsDownloaded:l,markAsViewed:i};return o.jsx(V0e,{...c})}function H0e({downloadUrl:e,markAsDownloaded:t,markAsViewed:n,messages:r,learnMoreUrl:s}){const a=L(),i=u.useCallback(()=>{B0e(e),t()},[t,e]),l=o.jsx(C,{...U0e(r)}),c=o.jsx(C,{...r.bannerContent}),d=o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:l}),o.jsx("span",{className:"text-token-text-secondary",children:c}),o.jsxs(Yi,{href:s,className:"ml-2 gap-1 font-medium",children:[o.jsx(C,{...r.learnMore}),o.jsx(v1,{className:"icon-sm inline-block"})]})]});return o.jsx(rn,{onPrimaryCtaClick:i,primaryCtaText:a.formatMessage(r.download),onDismiss:n,content:d})}function V0e({downloadUrl:e,markAsDownloaded:t,markAsViewed:n,isAppAvailable:r,messages:s,learnMoreUrl:a}){const i=s.modalTitle,l=o.jsx(C,{...i}),c=o.jsx(C,{...s.modalContent}),d=o.jsx("div",{className:"mt-2",children:o.jsxs(Yi,{href:a,className:"flex items-center gap-1 font-medium",children:[o.jsx(C,{...s.learnMore}),o.jsx(v1,{className:"icon-sm"})]})}),f=o.jsx(G,{as:"link",to:e,color:"primary",onClick:t,openNewTab:!0,children:o.jsx(C,{...s.download})}),m=o.jsx(G,{color:"secondary",onClick:n,children:o.jsx(C,{...z0e.close})}),p=r?f:m,g=r?m:void 0;return o.jsx(NM,{onClose:n,title:l,description:c,actionButton:p,cancelButton:g,moreInfoLink:d})}const G0e=U({bannerTitle:{id:"SidekickOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for macOS 14+ with Apple Silicon"},bannerContent:{id:"SidekickOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Option + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidekickOnboarding.modalTitle",defaultMessage:"ChatGPT is available for macOS 14+ with Apple Silicon"},modalContent:{id:"SidekickOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Option + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},learnMore:{id:"SidekickOnboarding.learn_more",defaultMessage:"Learn more"},download:{id:"SidekickOnboarding.download",defaultMessage:"Download"}}),W0e=U({bannerTitle:{id:"SidetronOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for Windows 10+"},bannerContent:{id:"SidetronOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Alt + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidetronOnboarding.modalTitle",defaultMessage:"ChatGPT is available for Windows 10+"},modalContent:{id:"SidetronOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Alt + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},learnMore:{id:"SidetronOnboarding.learn_more",defaultMessage:"Learn more"},download:{id:"SidetronOnboarding.download",defaultMessage:"Download on Microsoft Store"}}),z0e=U({close:{id:"SidekickOnboarding.close",defaultMessage:"Close"}}),q0e={downloadUrl:N0e,messages:G0e,learnMoreUrl:P0e,analyticsModalShown:_.sidekickDownloadModalShown,analyticsModalClosed:_.sidekickDownloadModalClosed,analyticsModalDownloadClicked:_.sidekickDownloadModalDownloaded,analyticsBannerShown:_.sidekickAnnouncementShown,analyticsBannerDismissed:_.sidekickAnnouncementDismissed,analyticsBannerDownloadClicked:_.sidekickAnnouncementLinkClicked,statsigLayerName:jM,statsigModalShown:"chatgpt_sidekick_modal_shown",statsigModalClosed:"chatgpt_sidekick_modal_closed",statsigModalDownloadClicked:"chatgpt_sidekick_modal_download_clicked",statsigBannerShown:"chatgpt_sidekick_announcement_shown",statsigBannerDismissed:"chatgpt_sidekick_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidekick_announcement_download_clicked",downloadAnnouncement:T0e,onboardingAnnouncement:A0e},Z0e={downloadUrl:L0e,messages:W0e,learnMoreUrl:R0e,analyticsModalShown:_.sidetronDownloadModalShown,analyticsModalClosed:_.sidetronDownloadModalClosed,analyticsModalDownloadClicked:_.sidetronDownloadModalDownloaded,analyticsBannerShown:_.sidetronAnnouncementShown,analyticsBannerDismissed:_.sidetronAnnouncementDismissed,analyticsBannerDownloadClicked:_.sidetronAnnouncementLinkClicked,statsigLayerName:IM,statsigModalShown:"chatgpt_sidetron_modal_shown",statsigModalClosed:"chatgpt_sidetron_modal_closed",statsigModalDownloadClicked:"chatgpt_sidetron_modal_download_clicked",statsigBannerShown:"chatgpt_sidetron_announcement_shown",statsigBannerDismissed:"chatgpt_sidetron_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidetron_announcement_download_clicked",downloadAnnouncement:j0e,onboardingAnnouncement:I0e},Y0e=25;function K0e(e,t=0,n="",r=Y0e,s=void 0){return ee({queryKey:["workspace",e,t,n],queryFn:async()=>await j.safeGet("/accounts/{account_id}/users",{parameters:{path:{account_id:e},query:{offset:t,limit:r,query:n}}}),placeholderData:s,enabled:!!e})}function zPe(e){const{data:t}=K0e(e);return t?.total??0}const Q0e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"})),OM=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.5523 3 13 3.44772 13 4L13 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13L13 13L13 20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20L11 13L4 13C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11L11 11L11 4C11 3.44772 11.4477 3 12 3Z",fill:"currentColor"}));ce.ol`ml-5 list-decimal`;const X0e=ce.ul`ml-3 list-disc`,J0e=ce.li`marker:text-token-text-tertiary text-token-text-primary mb-2`,qPe="https://help.openai.com/en/collections/3943089-billing",e2e="https://openai.com/chatgpt/enterprise",ZPe="https://help.openai.com/en/articles/7905690-how-do-i-cancel-my-apple-subscription-for-chatgpt-plus-in-the-chatgpt-ios-app",YPe="https://help.openai.com/en/articles/8258076-how-to-cancel-my-plus-subscription-in-the-chatgpt-android-app",KPe="https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",DM="pricing",t2e="team-pricing",n2e="team-pricing-direct",r2e="account-payment-modal-open-from-location",QPe={WEBAPP:"chatgpt_web",MOBILE_IOS:"chatgpt_mobile_ios",MOBILE_ANDROID:"chatgpt_mobile_android",GRANTED:"chatgpt_gratis_recepient",NOT_PURCHASED:"chatgpt_not_purchased"},XPe={ALREADY_PAID:"User is already paid"};var o5="Radio",[s2e,FM]=gs(o5),[a2e,o2e]=s2e(o5),$M=u.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:i,value:l="on",onCheck:c,form:d,...f}=e,[m,p]=u.useState(null),g=kt(t,x=>p(x)),v=u.useRef(!1),h=m?d||!!m.closest("form"):!0;return o.jsxs(a2e,{scope:n,checked:s,disabled:i,children:[o.jsx(De.button,{type:"button",role:"radio","aria-checked":s,"data-state":HM(s),"data-disabled":i?"":void 0,disabled:i,value:l,...f,ref:g,onClick:ge(e.onClick,x=>{s||c?.(),h&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),h&&o.jsx(i2e,{control:m,bubbles:!v.current,name:r,value:l,checked:s,required:a,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});$M.displayName=o5;var BM="RadioIndicator",UM=u.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=o2e(BM,n);return o.jsx(hl,{present:r||a.checked,children:o.jsx(De.span,{"data-state":HM(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});UM.displayName=BM;var i2e=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=u.useRef(null),i=Eg(n),l=l8(t);return u.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const p=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(p)}},[i,n,r]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function HM(e){return e?"checked":"unchecked"}var l2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],i5="RadioGroup",[c2e,JPe]=gs(i5,[Zd,FM]),VM=Zd(),GM=FM(),[u2e,d2e]=c2e(i5),WM=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:m,...p}=e,g=VM(n),v=Pp(d),[h,x]=Qs({prop:a,defaultProp:s,onChange:m});return o.jsx(u2e,{scope:n,name:r,required:i,disabled:l,value:h,onValueChange:x,children:o.jsx(x8,{asChild:!0,...g,orientation:c,dir:v,loop:f,children:o.jsx(De.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...p,ref:t})})})});WM.displayName=i5;var zM="RadioGroupItem",qM=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=d2e(zM,n),i=a.disabled||r,l=VM(n),c=GM(n),d=u.useRef(null),f=kt(t,d),m=a.value===s.value,p=u.useRef(!1);return u.useEffect(()=>{const g=h=>{l2e.includes(h.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),o.jsx(C8,{asChild:!0,...l,focusable:!i,active:m,children:o.jsx($M,{disabled:i,required:a.required,checked:m,...c,...s,name:a.name,ref:f,onCheck:()=>a.onValueChange(s.value),onKeyDown:ge(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ge(s.onFocus,()=>{p.current&&d.current?.click()})})})});qM.displayName=zM;var f2e="RadioGroupIndicator",ZM=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=GM(n);return o.jsx(UM,{...s,...r,ref:t})});ZM.displayName=f2e;var eNe=WM,YM=qM,KM=ZM;ce.div`p-6`;ce.label`font-semibold text-base cursor-pointer`;const m2e=ce.div`flex flex-col gap-3 text-token-text-secondary text-sm mt-3`,p2e=ce.p`text-token-text-primary`,g2e=ce(YM)`relative flex cursor-pointer flex-col rounded-xl border-token-border-light p-5 text-left align-top transition-[border-color] duration-100 hover:border-token-border-medium data-[state=unchecked]:m-[1px] data-[state=checked]:border-2 data-[state=unchecked]:border data-[state=checked]:border-black data-[state=checked]:dark:border-white md:min-h-[300px]`,h2e=ce(KM)`flex h-5 w-5 items-center justify-center rounded-full border-2 border-token-border-heavy bg-token-main-surface-primary outline-none data-[state=checked]:bg-black data-[state=checked]:dark:bg-white`,a6=ce.s`text-token-text-tertiary`,As=999,tNe=2,nNe=5;function rNe({billingType:e,name:t,billingFeatures:n,cost:r,currencySign:s,currencyCode:a,monthlyCost:i,discountedMonthlyCost:l,costStructure:c,selectedValue:d,hideDetails:f=!1}){const m=L(),p=Math.floor(100-l/i*100);return o.jsxs(g2e,{value:e,id:e,className:N(f&&"!min-h-0"),children:[l<i&&o.jsx("div",{className:N("absolute left-3 top-0 -translate-y-1/2 px-2 py-1 text-xs font-medium",d===e?"bg-token-main-surface-primary text-[#10A37F]":"rounded-xl bg-[#10A37F] text-white"),children:o.jsx(C,{...d===e?J.discountSelectedLabel:J.discountUnselectedLabel,values:{discountedRate:p}})}),o.jsxs("div",{className:"flex w-full items-center justify-between",children:[o.jsx("div",{className:N(f?"text-base":"text-xl","font-medium"),children:o.jsx(C,{...t})}),o.jsx(h2e,{forceMount:!0,children:o.jsx(wl,{className:N("mt-0.25 h-[14px] w-[14px] stroke-[3] text-white dark:text-black",d!==e&&"hidden")})})]}),o.jsxs(m2e,{children:[o.jsxs("div",{children:[o.jsx(p2e,{children:o.jsx(C,{...r,values:{monthlyCost:i,discountedMonthlyCost:l,currencyCode:m.formatMessage(a),currencySign:m.formatMessage(s),s:(...g)=>o.jsx(a6,{children:g})}})}),o.jsx("p",{children:o.jsx(C,{...c})})]}),!f&&o.jsx(X0e,{children:n.map(g=>o.jsx(J0e,{className:"text-token-text-secondary",children:o.jsx(C,{...g,values:{monthlyCost:i,minimumMonthlyCost:l*2,currencyCode:m.formatMessage(a),currencySign:m.formatMessage(s),s:(...v)=>o.jsx(a6,{children:v})}})},g.id))})]})]})}const o6=ce.button`h-12 w-12 rounded-lg flex items-center justify-center border border-token-border-light px-1.5 py-1.5 hover:bg-token-main-surface-secondary disabled:pointer-events-none disabled:text-token-text-tertiary`;function sNe({numSeats:e,minSeats:t,setNumSeats:n}){const[r,s]=u.useState(!1),a=yn(),i=u.useMemo(()=>a?.subscriptionAnalyticsParams,[a]),l=u.useCallback(h=>{E.logEvent(_.accountPayTeamPlanSeatCountClicked,{...i,...h})},[i]),c=u.useRef(null);u.useEffect(()=>{c.current?.focus()},[c]);const d=u.useRef(null),f=u.useRef(0),m=u.useCallback(h=>{n(x=>{const y=Ih(x+h,t,As);return l({prevSeats:x,currentSeats:y}),y})},[t,n,l]),p=u.useCallback(h=>{const S=300-h*50;return S>25?S:25},[]),g=u.useCallback(h=>{m(h),f.current=0;const x=()=>{f.current+=1,m(h);const y=p(f.current);d.current=setTimeout(x,y)};d.current=setTimeout(x,p(f.current))},[m,p]),v=u.useCallback(()=>{d.current&&(clearTimeout(d.current),d.current=null)},[]);return u.useEffect(()=>{r||e>As&&s(!0)},[r,e]),o.jsxs("div",{className:"mb-3 flex w-full flex-col",children:[o.jsx("label",{className:"mb-1 flex text-base font-medium",htmlFor:"seats",children:o.jsx(C,{...J.usersTitle})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{ref:c,type:"number",min:t,max:As,name:"seats",value:e,onChange:h=>{const x=parseInt(h.target.value);n(x),l({prevSeats:e,currentSeats:x})},onBlur:()=>{let h=e;e<t&&(h=t),e>As&&(h=As),e||(h=t),h!==e&&(l({prevSeats:e,currentSeats:h}),n(h))},autoFocus:!0,tabIndex:0,className:"m-0 h-12 w-full appearance-none rounded-lg border border-gray-200 bg-token-main-surface-primary px-2 py-0 pl-5 text-left text-sm text-token-text-primary shadow-none outline-none ring-transparent focus:border-black focus:ring-black dark:border-gray-700 focus:dark:border-white focus:dark:ring-white"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(o6,{disabled:e<=t,onMouseDown:()=>g(-1),onMouseUp:v,onMouseLeave:v,children:o.jsx(Q0e,{className:N("icon-md-heavy",e<=t&&"text-token-text-tertiary")})}),o.jsx(o6,{disabled:e>=As,onMouseDown:()=>g(1),onMouseUp:v,onMouseLeave:v,children:o.jsx(OM,{className:"icon-md-heavy"})})]})]}),r&&o.jsx("div",{className:"mt-2 text-xs text-token-text-secondary",children:o.jsx(C,{...J.seatSelectorTooltipMaxLimit,values:{maxSeats:As,link:h=>o.jsx(nn,{to:e2e,target:"_blank",className:"underline",children:h})}})})]})}const J=U({flexiblePlanCost:{id:"teamBilling.flexiblePlan.cost",defaultMessage:"{currencyCode} {currencySign}{monthlyCost}"},seatsTitle:{id:"teamBilling.seatsTitle",defaultMessage:"Seats"},summaryTitle:{id:"teamBilling.summaryTitle",defaultMessage:"Summary"},annualPlanCost:{id:"teamBilling.annualPlan.cost",defaultMessage:"{currencyCode} {currencySign}{discountedMonthlyCost} <s>{currencySign}{monthlyCost}</s>"},createWorkspace:{id:"createWorkspace.title",defaultMessage:"Create workspace"},nameWorkspace:{id:"nameWorkspace.title",defaultMessage:"Name your workspace"},cancel:{id:"createWorkspace.cancel",defaultMessage:"Cancel"},selectTeamPlan:{id:"createWorkspace.selectTeamPlan",defaultMessage:"Select Team Plan"},selectTeamPlanModalTitle:{id:"createWorkspace.selectTeamPlanModalTitle",defaultMessage:"Select your Team plan"},continueToBillingButton:{id:"createWorkspace.continueToBillingButton",defaultMessage:"Continue to billing"},paymentErrorWarning:{id:"createWorkspace.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."},selectBillingOption:{id:"createWorkspace.selectBillingOption",defaultMessage:"Select billing options"},continueToPricePreview:{id:"teamBilling.continueToPricePreview",defaultMessage:"Continue"},changeEffectDate:{id:"teamBilling.changeEffectDate",defaultMessage:"This change will take effect at your next renewal on {date}"},confirmPageChangeEffectDate:{id:"teamBilling.confirmPageChangeEffectDate",defaultMessage:"Your billing schedule will change from {current_plan} to {new_plan} starting at your next renewal on {date}"},confirmChange:{id:"teamBilling.confirmChange",defaultMessage:"Confirm"},teamsCostStructure:{id:"teamBilling.teamsCostStructureNew",defaultMessage:"per user/month"},usersTitle:{id:"teamBilling.usersTitle",defaultMessage:"Users"},chatGptTeam:{id:"teamBilling.chatGptTeam",defaultMessage:"ChatGPT Team"},annualPlanName:{id:"teamBilling.annualPlan.nameNew",defaultMessage:"Annual"},annualBilledAnnually:{id:"teamBilling.annualPlan.billedAnnuallyNew",defaultMessage:"Billed annually"},annualAddUsersWithRenewal:{id:"teamBilling.annualPlan.addUsersWithRenewalNew",defaultMessage:"Add and reassign users as needed"},annualMinBill:{id:"teamBilling.annualPlan.minBillNew",defaultMessage:"Minimum 2 users"},flexiblePlanName:{id:"teamBilling.flexiblePlan.nameNew",defaultMessage:"Monthly"},flexibleBilledMonthly:{id:"teamBilling.flexiblePlan.billedMonthlyNew",defaultMessage:"Billed monthly"},flexibleAddRemoveUsers:{id:"teamBilling.flexiblePlan.addRemoveUsersNew",defaultMessage:"Add or remove users as needed"},flexibleMinBill:{id:"teamBilling.flexiblePlan.minBillNew",defaultMessage:"Minimum 2 users"},today:{id:"teamBilling.today",defaultMessage:"Today"},allPlansTotal:{id:"teamBilling.allPlansTotal",defaultMessage:"Plan Total"},allPlansTodayTotal:{id:"teamBilling.allPlansTodayTotal",defaultMessage:"Today's total"},flexiblePlanAmountBreakdown:{id:"teamBilling.flexiblePlanAmountBreakdown",defaultMessage:"{numSeats} users"},annualPlanAmountBreakdown:{id:"teamBilling.annualPlanAmountBreakdown",defaultMessage:"{numSeats} users x 12 months"},breakdownAmount:{id:"teamBilling.breakdownAmount",defaultMessage:"{currencySign}{amount}/seat"},allPlansPreDiscountTotal:{id:"teamBilling.allPlansPreDiscountTotal",defaultMessage:"{currencySign}{preDiscountTotalAmount}"},planDiscountLabel:{id:"teamBilling.planDiscountLabel",defaultMessage:"Discount"},annualPlanDiscountDescription:{id:"teamBilling.annualPlanDiscountDescription",defaultMessage:"Annual (-{discountPercentage}%)"},annualPlanDiscountAmount:{id:"teamBilling.annualPlanDiscountAmount",defaultMessage:"-{currencySign}{discountAmount}"},flexiblePlanDiscountAmount:{id:"teamBilling.flexiblePlanDiscountAmount",defaultMessage:"{currencySign}{discountAmount}"},flexiblePlanBilledMonthly:{id:"teamBilling.flexiblePlanBilledMonthly",defaultMessage:"Billed monthly starting {billDate}"},annualPlanBilledAnnually:{id:"teamBilling.annualPlanBilledAnnually",defaultMessage:"Billed annually starting {billDate}"},allPlansTotalAmount:{id:"teamBilling.allPlansTotalAmount",defaultMessage:"{currencyCode} {currencySign}{totalAmount}"},discountSelectedLabel:{id:"teamBilling.discountSelectedLabel",defaultMessage:"You're saving {discountedRate}%"},discountUnselectedLabel:{id:"teamBilling.discountUnselectedLabel",defaultMessage:"Save {discountedRate}%"},seatSelectorTooltipMaxLimit:{id:"teamBilling.seatSelectorTooltipMaxLimit",defaultMessage:"For more than {maxSeats} users, upgrade to our <link>Enterprise plan</link>."}});var v2e=(e=>(e.FLEXIBLE="month",e.ANNUAL="year",e))(v2e||{});const x2e={type:"month",name:J.flexiblePlanName,cost:J.flexiblePlanCost,monthlyCost:30,discountedMonthlyCost:30,unitCost:30,currencySign:oo.sign,currencyCode:oo.code,costStructure:J.teamsCostStructure,billingFeatures:[J.flexibleBilledMonthly,J.flexibleMinBill,J.flexibleAddRemoveUsers]},C2e={type:"year",name:J.annualPlanName,cost:J.annualPlanCost,monthlyCost:30,discountedMonthlyCost:25,unitCost:25*12,currencySign:oo.sign,currencyCode:oo.code,costStructure:J.teamsCostStructure,billingFeatures:[J.annualBilledAnnually,J.annualMinBill,J.annualAddUsersWithRenewal]},y2e={type:"month",name:J.flexiblePlanName,cost:J.flexiblePlanCost,monthlyCost:30,discountedMonthlyCost:30,unitCost:30,currencySign:io.sign,currencyCode:io.code,costStructure:J.teamsCostStructure,billingFeatures:[J.flexibleBilledMonthly,J.flexibleMinBill,J.flexibleAddRemoveUsers]},b2e={type:"year",name:J.annualPlanName,cost:J.annualPlanCost,monthlyCost:30,discountedMonthlyCost:25,unitCost:25*12,currencySign:io.sign,currencyCode:io.code,costStructure:J.teamsCostStructure,billingFeatures:[J.annualBilledAnnually,J.annualMinBill,J.annualAddUsersWithRenewal]},w2e={type:"month",name:J.flexiblePlanName,cost:J.flexiblePlanCost,monthlyCost:34,discountedMonthlyCost:34,unitCost:34,currencySign:lo.sign,currencyCode:lo.code,costStructure:J.teamsCostStructure,billingFeatures:[J.flexibleBilledMonthly,J.flexibleMinBill,J.flexibleAddRemoveUsers]},S2e={type:"year",name:J.annualPlanName,cost:J.annualPlanCost,monthlyCost:34,discountedMonthlyCost:29,unitCost:29*12,currencySign:lo.sign,currencyCode:lo.code,costStructure:J.teamsCostStructure,billingFeatures:[J.annualBilledAnnually,J.annualMinBill,J.annualAddUsersWithRenewal]};function aNe(e){return e===Sl?{flexibleBillingPlan:w2e,annualBillingPlan:S2e}:e===Ml?{flexibleBillingPlan:y2e,annualBillingPlan:b2e}:{flexibleBillingPlan:x2e,annualBillingPlan:C2e}}const oNe={month:{name:J.chatGptTeam,breakdown:J.flexiblePlanAmountBreakdown,discountAmount:J.flexiblePlanDiscountAmount,discountDescription:void 0,billed:J.flexiblePlanBilledMonthly,total:J.allPlansTotalAmount},year:{name:J.chatGptTeam,breakdown:J.annualPlanAmountBreakdown,discountAmount:J.annualPlanDiscountAmount,discountDescription:J.annualPlanDiscountDescription,billed:J.annualPlanBilledAnnually,total:J.allPlansTotalAmount}};function iNe(e){return e.hash.split("#")[1]===DM}function lNe(e){return e.hash.split("#")[1]===t2e}function cNe(e){return e.hash.split("#")[1]===n2e}function rf(e,t){e({hash:DM,search:window.location.search},{state:{[r2e]:t}})}function uNe(e){e({hash:""})}const QM=typeof document<"u"?ye.useLayoutEffect:()=>{};function M2e(e){const t=u.useRef(null);return QM(()=>{t.current=e},[e]),u.useCallback((...n)=>{const r=t.current;return r?.(...n)},[])}const rc=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Vs=e=>e&&"window"in e&&e.window===e?e:rc(e).defaultView||window;function XM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=XM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dNe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=XM(e))&&(r&&(r+=" "),r+=t);return r}function _2e(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function E2e(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function JM(e){let t=null;return()=>(t==null&&(t=e()),t)}const k2e=JM(function(){return E2e(/^Mac/i)}),T2e=JM(function(){return _2e(/Android/i)});function A2e(e){return e.mozInputSource===0&&e.isTrusted?!0:T2e()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class P2e{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function e_(e){let t=u.useRef({isFocused:!1,observer:null});QM(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=M2e(r=>{e?.(r)});return u.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,a=i=>{t.current.isFocused=!1,s.disabled&&n(new P2e("blur",i)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let l=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function N2e(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const a=u.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),s&&s(!1),!0},[r,s]),i=e_(a),l=u.useCallback(c=>{const d=rc(c.target);c.target===c.currentTarget&&d.activeElement===c.target&&(n&&n(c),s&&s(!0),i(c))},[s,n,i]);return{focusProps:{onFocus:!t&&(n||s||r)?l:void 0,onBlur:!t&&(r||s)?a:void 0}}}let sc=null,_m=new Set,Di=new Map,na=!1,Em=!1;const j2e={Tab:!0,Escape:!0};function l5(e,t){for(let n of _m)n(e,t)}function I2e(e){return!(e.metaKey||!k2e()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function od(e){na=!0,I2e(e)&&(sc="keyboard",l5("keyboard",e))}function Pn(e){sc="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(na=!0,l5("pointer",e))}function t_(e){A2e(e)&&(na=!0,sc="virtual")}function n_(e){e.target===window||e.target===document||(!na&&!Em&&(sc="virtual",l5("virtual",e)),na=!1,Em=!1)}function r_(){na=!1,Em=!0}function km(e){if(typeof window>"u"||Di.get(Vs(e)))return;const t=Vs(e),n=rc(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){na=!0,r.apply(this,arguments)},n.addEventListener("keydown",od,!0),n.addEventListener("keyup",od,!0),n.addEventListener("click",t_,!0),t.addEventListener("focus",n_,!0),t.addEventListener("blur",r_,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Pn,!0),n.addEventListener("pointermove",Pn,!0),n.addEventListener("pointerup",Pn,!0)):(n.addEventListener("mousedown",Pn,!0),n.addEventListener("mousemove",Pn,!0),n.addEventListener("mouseup",Pn,!0)),t.addEventListener("beforeunload",()=>{s_(e)},{once:!0}),Di.set(t,{focus:r})}const s_=(e,t)=>{const n=Vs(e),r=rc(e);t&&r.removeEventListener("DOMContentLoaded",t),Di.has(n)&&(n.HTMLElement.prototype.focus=Di.get(n).focus,r.removeEventListener("keydown",od,!0),r.removeEventListener("keyup",od,!0),r.removeEventListener("click",t_,!0),n.removeEventListener("focus",n_,!0),n.removeEventListener("blur",r_,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Pn,!0),r.removeEventListener("pointermove",Pn,!0),r.removeEventListener("pointerup",Pn,!0)):(r.removeEventListener("mousedown",Pn,!0),r.removeEventListener("mousemove",Pn,!0),r.removeEventListener("mouseup",Pn,!0)),Di.delete(n))};function R2e(e){const t=rc(e);let n;return t.readyState!=="loading"?km(e):(n=()=>{km(e)},t.addEventListener("DOMContentLoaded",n)),()=>s_(e,n)}typeof document<"u"&&R2e();function a_(){return sc!=="pointer"}const L2e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function O2e(e,t,n){var r;const s=typeof window<"u"?Vs(n?.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?Vs(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?Vs(n?.target).HTMLElement:HTMLElement,l=typeof window<"u"?Vs(n?.target).KeyboardEvent:KeyboardEvent;return e=e||n?.target instanceof s&&!L2e.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||n?.target instanceof a||n?.target instanceof i&&n?.target.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!j2e[n.key])}function D2e(e,t,n){km(),u.useEffect(()=>{let r=(s,a)=>{O2e(!!n?.isTextInput,s,a)&&e(a_())};return _m.add(r),()=>{_m.delete(r)}},t)}function F2e(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,a=u.useRef({isFocusWithin:!1}),i=u.useCallback(d=>{a.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(d),s&&s(!1))},[n,s,a]),l=e_(i),c=u.useCallback(d=>{!a.current.isFocusWithin&&document.activeElement===d.target&&(r&&r(d),s&&s(!0),a.current.isFocusWithin=!0,l(d))},[r,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:i}}}let id=!1,G0=0;function Tm(){id=!0,setTimeout(()=>{id=!1},50)}function i6(e){e.pointerType==="touch"&&Tm()}function $2e(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",i6):document.addEventListener("touchend",Tm),G0++,()=>{G0--,!(G0>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",i6):document.removeEventListener("touchend",Tm))}}function fNe(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[a,i]=u.useState(!1),l=u.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;u.useEffect($2e,[]);let{hoverProps:c,triggerHoverEnd:d}=u.useMemo(()=>{let f=(g,v)=>{if(l.pointerType=v,s||v==="touch"||l.isHovered||!g.currentTarget.contains(g.target))return;l.isHovered=!0;let h=g.currentTarget;l.target=h,t&&t({type:"hoverstart",target:h,pointerType:v}),n&&n(!0),i(!0)},m=(g,v)=>{if(l.pointerType="",l.target=null,v==="touch"||!l.isHovered)return;l.isHovered=!1;let h=g.currentTarget;r&&r({type:"hoverend",target:h,pointerType:v}),n&&n(!1),i(!1)},p={};return typeof PointerEvent<"u"?(p.onPointerEnter=g=>{id&&g.pointerType==="mouse"||f(g,g.pointerType)},p.onPointerLeave=g=>{!s&&g.currentTarget.contains(g.target)&&m(g,g.pointerType)}):(p.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},p.onMouseEnter=g=>{!l.ignoreEmulatedMouseEvents&&!id&&f(g,"mouse"),l.ignoreEmulatedMouseEvents=!1},p.onMouseLeave=g=>{!s&&g.currentTarget.contains(g.target)&&m(g,"mouse")}),{hoverProps:p,triggerHoverEnd:m}},[t,n,r,s,l]);return u.useEffect(()=>{s&&d({currentTarget:l.target},l.pointerType)},[s]),{hoverProps:c,isHovered:a}}function mNe(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=u.useRef({isFocused:!1,isFocusVisible:t||a_()}),[a,i]=u.useState(!1),[l,c]=u.useState(()=>s.current.isFocused&&s.current.isFocusVisible),d=u.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),f=u.useCallback(g=>{s.current.isFocused=g,i(g),d()},[d]);D2e(g=>{s.current.isFocusVisible=g,d()},[],{isTextInput:n});let{focusProps:m}=N2e({isDisabled:r,onFocusChange:f}),{focusWithinProps:p}=F2e({isDisabled:!r,onFocusWithinChange:f});return{isFocused:a,isFocusVisible:l,focusProps:r?p:m}}var B2e=Object.defineProperty,U2e=(e,t,n)=>t in e?B2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W0=(e,t,n)=>(U2e(e,typeof t!="symbol"?t+"":t,n),n);let H2e=class{constructor(){W0(this,"current",this.detect()),W0(this,"handoffState","pending"),W0(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Zs=new H2e;function ga(e){return Zs.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function o_(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Vr(){let e=[],t={addEventListener(n,r,s,a){return n.addEventListener(r,s,a),t.add(()=>n.removeEventListener(r,s,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return o_(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=Vr();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function c5(){let[e]=u.useState(Vr);return u.useEffect(()=>()=>e.dispose(),[e]),e}let jt=(e,t)=>{Zs.isServer?u.useEffect(e,t):u.useLayoutEffect(e,t)};function ha(e){let t=u.useRef(e);return jt(()=>{t.current=e},[e]),t}let wt=function(e){let t=ha(e);return ye.useCallback((...n)=>t.current(...n),[t])};function V2e(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function G2e(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function gNe({disabled:e=!1}={}){let t=u.useRef(null),[n,r]=u.useState(!1),s=c5(),a=wt(()=>{t.current=null,r(!1),s.dispose()}),i=wt(l=>{if(s.dispose(),t.current===null){t.current=l.currentTarget,r(!0);{let c=ga(l.currentTarget);s.addEventListener(c,"pointerup",a,!1),s.addEventListener(c,"pointermove",d=>{if(t.current){let f=V2e(d);r(G2e(f,t.current.getBoundingClientRect()))}},!1),s.addEventListener(c,"pointercancel",a,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:i,onPointerUp:a,onClick:a}}}let W2e=u.createContext(void 0);function i_(){return u.useContext(W2e)}function Am(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ac(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ac),r}var l_=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(l_||{}),ns=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ns||{});function Es({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:a=!0,name:i,mergeRefs:l}){l=l??z2e;let c=c_(t,e);if(a)return $c(c,n,r,i,l);let d=s??0;if(d&2){let{static:f=!1,...m}=c;if(f)return $c(m,n,r,i,l)}if(d&1){let{unmount:f=!0,...m}=c;return ac(f?0:1,{0(){return null},1(){return $c({...m,hidden:!0,style:{display:"none"}},n,r,i,l)}})}return $c(c,n,r,i,l)}function $c(e,t={},n,r,s){let{as:a=n,children:i,refName:l="ref",...c}=z0(e,["unmount","static"]),d=e.ref!==void 0?{[l]:e.ref}:{},f=typeof i=="function"?i(t):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let m={};if(t){let p=!1,g=[];for(let[v,h]of Object.entries(t))typeof h=="boolean"&&(p=!0),h===!0&&g.push(v.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(p){m["data-headlessui-state"]=g.join(" ");for(let v of g)m[`data-${v}`]=""}}if(a===u.Fragment&&(Object.keys(Ls(c)).length>0||Object.keys(Ls(m)).length>0))if(!u.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Ls(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ls(c)).concat(Object.keys(Ls(m))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=f.props,g=p?.className,v=typeof g=="function"?(...y)=>Am(g(...y),c.className):Am(g,c.className),h=v?{className:v}:{},x=c_(f.props,Ls(z0(c,["ref"])));for(let y in m)y in x&&delete m[y];return u.cloneElement(f,Object.assign({},x,m,d,{ref:s(f.ref,d.ref)},h))}return u.createElement(a,Object.assign({},z0(c,["ref"]),a!==u.Fragment&&d,a!==u.Fragment&&m),f)}function hNe(){let e=u.useRef([]),t=u.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function z2e(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function c_(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var a;return(a=s?.preventDefault)==null?void 0:a.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...a){let i=n[r];for(let l of i){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;l(s,...a)}}});return t}function vNe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let a=n[r];for(let i of a)i?.(...s)}});return t}function Gr(e){var t;return Object.assign(u.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ls(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function z0(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let q2e="span";var u_=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(u_||{});function Z2e(e,t){var n;let{features:r=1,...s}=e,a={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Es({ourProps:a,theirProps:s,slot:{},defaultTag:q2e,name:"Hidden"})}let Y2e=Gr(Z2e),K2e=u.createContext(void 0);function Q2e(){return u.useContext(K2e)}function xNe(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=t?.getAttribute("disabled")==="";return r&&X2e(n)?!1:r}function X2e(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let d_=Symbol();function J2e(e,t=!0){return Object.assign(e,{[d_]:t})}function va(...e){let t=u.useRef(e);u.useEffect(()=>{t.current=e},[e]);let n=wt(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||r?.[d_])?void 0:n}let u5=u.createContext(null);u5.displayName="DescriptionContext";function f_(){let e=u.useContext(u5);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,f_),t}return e}function CNe(){let[e,t]=u.useState([]);return[e.length>0?e.join(" "):void 0,u.useMemo(()=>function(n){let r=wt(a=>(t(i=>[...i,a]),()=>t(i=>{let l=i.slice(),c=l.indexOf(a);return c!==-1&&l.splice(c,1),l}))),s=u.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return ye.createElement(u5.Provider,{value:s},n.children)},[t])]}let eme="p";function tme(e,t){let n=u.useId(),r=i_(),{id:s=`headlessui-description-${n}`,...a}=e,i=f_(),l=va(t);jt(()=>i.register(s),[s,i.register]);let c=r||!1,d=u.useMemo(()=>({...i.slot,disabled:c}),[i.slot,c]),f={ref:l,...i.props,id:s};return Es({ourProps:f,theirProps:a,slot:d,defaultTag:eme,name:i.name||"Description"})}let nme=Gr(tme);Object.assign(nme,{});var rme=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(rme||{});let sf=u.createContext(null);sf.displayName="LabelContext";function m_(){let e=u.useContext(sf);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,m_),t}return e}function sme(e){var t,n,r;let s=(n=(t=u.useContext(sf))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...e].filter(Boolean).join(" "):s}function yNe({inherit:e=!1}={}){let t=sme(),[n,r]=u.useState([]),s=e?[t,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,u.useMemo(()=>function(a){let i=wt(c=>(r(d=>[...d,c]),()=>r(d=>{let f=d.slice(),m=f.indexOf(c);return m!==-1&&f.splice(m,1),f}))),l=u.useMemo(()=>({register:i,slot:a.slot,name:a.name,props:a.props,value:a.value}),[i,a.slot,a.name,a.props,a.value]);return ye.createElement(sf.Provider,{value:l},a.children)},[r])]}let ame="label";function ome(e,t){var n;let r=u.useId(),s=m_(),a=Q2e(),i=i_(),{id:l=`headlessui-label-${r}`,htmlFor:c=a??((n=s.props)==null?void 0:n.htmlFor),passive:d=!1,...f}=e,m=va(t);jt(()=>s.register(l),[l,s.register]);let p=wt(x=>{let y=x.currentTarget;if(y instanceof HTMLLabelElement&&x.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(x),y instanceof HTMLLabelElement){let b=document.getElementById(y.htmlFor);if(b){let S=b.getAttribute("disabled");if(S==="true"||S==="")return;let T=b.getAttribute("aria-disabled");if(T==="true"||T==="")return;(b instanceof HTMLInputElement&&(b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),g=i||!1,v=u.useMemo(()=>({...s.slot,disabled:g}),[s.slot,g]),h={ref:m,...s.props,id:l,htmlFor:c,onClick:p};return d&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in f&&delete f.onClick),Es({ourProps:h,theirProps:f,slot:v,defaultTag:c?ame:"div",name:s.name||"Label"})}let ime=Gr(ome);Object.assign(ime,{});let lme=u.createContext(()=>{});function bNe({value:e,children:t}){return ye.createElement(lme.Provider,{value:e},t)}function cme(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function wNe(e,t=!1){let[n,r]=u.useReducer(()=>({}),{}),s=u.useMemo(()=>cme(e),[e,n]);return jt(()=>{if(!e)return;let a=new ResizeObserver(r);return a.observe(e),()=>{a.disconnect()}},[e]),t?{width:`${s.width}px`,height:`${s.height}px`}:s}let ume=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function p_(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...a){let i=t[s].call(n,...a);i&&(n=i,r.forEach(l=>l()))}}}function g_(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let dme=new ume(()=>p_(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function d5(e,t){let n=dme.get(t),r=u.useId(),s=g_(n);if(jt(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let a=s.indexOf(r),i=s.length;return a===-1&&(a=i,i+=1),a===i-1}let Pm=new Map,Fi=new Map;function l6(e){var t;let n=(t=Fi.get(e))!=null?t:0;return Fi.set(e,n+1),n!==0?()=>c6(e):(Pm.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>c6(e))}function c6(e){var t;let n=(t=Fi.get(e))!=null?t:1;if(n===1?Fi.delete(e):Fi.set(e,n-1),n!==1)return;let r=Pm.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Pm.delete(e))}function MNe(e,{allowed:t,disallowed:n}={}){let r=d5(e,"inert-others");jt(()=>{var s,a;if(!r)return;let i=Vr();for(let c of(s=n?.())!=null?s:[])c&&i.add(l6(c));let l=(a=t?.())!=null?a:[];for(let c of l){if(!c)continue;let d=ga(c);if(!d)continue;let f=c.parentElement;for(;f&&f!==d.body;){for(let m of f.children)l.some(p=>m.contains(p))||i.add(l6(m));f=f.parentElement}}return i.dispose},[r,t,n])}function _Ne(e,t,n){let r=ha(s=>{let a=s.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});u.useEffect(()=>{if(!e)return;let s=t===null?null:t instanceof HTMLElement?t:t.current;if(!s)return;let a=Vr();if(typeof ResizeObserver<"u"){let i=new ResizeObserver(()=>r.current(s));i.observe(s),a.add(()=>i.disconnect())}if(typeof IntersectionObserver<"u"){let i=new IntersectionObserver(()=>r.current(s));i.observe(s),a.add(()=>i.disconnect())}return()=>a.dispose()},[t,r,e])}let Nm=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),fme=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var mme=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(mme||{}),pme=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(pme||{}),gme=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(gme||{});function h_(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Nm)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function hme(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(fme)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var v_=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(v_||{});function x_(e,t=0){var n;return e===((n=ga(e))==null?void 0:n.body)?!1:ac(t,{0(){return e.matches(Nm)},1(){let r=e;for(;r!==null;){if(r.matches(Nm))return!0;r=r.parentElement}return!1}})}function ENe(e){let t=ga(e);Vr().nextFrame(()=>{t&&!x_(t.activeElement,0)&&xme(e)})}var vme=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(vme||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xme(e){e?.focus({preventScroll:!0})}let Cme=["textarea","input"].join(",");function yme(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,Cme))!=null?n:!1}function bme(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),a=t(r);if(s===null||a===null)return 0;let i=s.compareDocumentPosition(a);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kNe(e,t){return wme(h_(),t,{relativeTo:e})}function wme(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?bme(e):e:t&64?hme(e):h_(e);s.length>0&&i.length>1&&(i=i.filter(g=>!s.some(v=>v!=null&&"current"in v?v?.current===g:v===g))),r=r??a.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(r))-1;if(t&4)return Math.max(0,i.indexOf(r))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},f=0,m=i.length,p;do{if(f>=m||f+m<=0)return 0;let g=c+f;if(t&16)g=(g+m)%m;else{if(g<0)return 3;if(g>=m)return 1}p=i[g],p?.focus(d),f+=l}while(p!==a.activeElement);return t&6&&yme(p)&&p.select(),2}function C_(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Sme(){return/Android/gi.test(window.navigator.userAgent)}function Mme(){return C_()||Sme()}function pi(e,t,n,r){let s=ha(n);u.useEffect(()=>{if(!e)return;function a(i){s.current(i)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[e,t,r])}function y_(e,t,n,r){let s=ha(n);u.useEffect(()=>{if(!e)return;function a(i){s.current(i)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[e,t,r])}const u6=30;function TNe(e,t,n){let r=d5(e,"outside-click"),s=ha(n),a=u.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let m=function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let p of m)if(p!==null&&(p.contains(f)||c.composed&&c.composedPath().includes(p)))return;return!x_(f,v_.Loose)&&f.tabIndex!==-1&&c.preventDefault(),s.current(c,f)},[s,t]),i=u.useRef(null);pi(r,"pointerdown",c=>{var d,f;i.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target},!0),pi(r,"mousedown",c=>{var d,f;i.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target},!0),pi(r,"click",c=>{Mme()||i.current&&(a(c,()=>i.current),i.current=null)},!0);let l=u.useRef({x:0,y:0});pi(r,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),pi(r,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=u6||Math.abs(d.y-l.current.y)>=u6))return a(c,()=>c.target instanceof HTMLElement?c.target:null)},!0),y_(r,"blur",c=>a(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function f5(...e){return u.useMemo(()=>ga(...e),[...e])}function ANe(e,t,n,r){let s=ha(n);u.useEffect(()=>{e=e??window;function a(i){s.current(i)}return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)},[e,t,r])}function PNe(e,t){return u.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function _me(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,e-s);n.style(r,"paddingRight",`${a}px`)}}}function Eme(){return C_()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(a=>a()).some(a=>a.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Vr();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,i=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);f&&!r(f)&&(i=f)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;a!==c&&window.scrollTo(0,a),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function kme(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Tme(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Gs=p_(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Vr(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Tme(n)},s=[Eme(),_me(),kme()];s.forEach(({before:a})=>a?.(r)),s.forEach(({after:a})=>a?.(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Gs.subscribe(()=>{let e=Gs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Gs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Gs.dispatch("TEARDOWN",n)}});function Ame(e,t,n=()=>({containers:[]})){let r=g_(Gs),s=t?r.get(t):void 0,a=s?s.count>0:!1;return jt(()=>{if(!(!t||!e))return Gs.dispatch("PUSH",t,n),()=>Gs.dispatch("POP",t,n)},[e,t]),a}function NNe(e,t,n=()=>[document.body]){let r=d5(e,"scroll-lock");Ame(r,t,s=>{var a;return{containers:[...(a=s.containers)!=null?a:[],n]}})}function d6(e){return[e.screenX,e.screenY]}function jNe(){let e=u.useRef([-1,-1]);return{wasMoved(t){let n=d6(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=d6(t)}}}function Pme(e=0){let[t,n]=u.useState(e),r=u.useCallback(c=>n(c),[t]),s=u.useCallback(c=>n(d=>d|c),[t]),a=u.useCallback(c=>(t&c)===c,[t]),i=u.useCallback(c=>n(d=>d&~c),[n]),l=u.useCallback(c=>n(d=>d^c),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:a,removeFlag:i,toggleFlag:l}}var Nme={},f6,m6;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((f6=process==null?void 0:Nme)==null?void 0:f6.NODE_ENV)==="test"&&typeof((m6=Element?.prototype)==null?void 0:m6.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var jme=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(jme||{});function Ime(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Rme(e,t,n,r){let[s,a]=u.useState(n),{hasFlag:i,addFlag:l,removeFlag:c}=Pme(e&&s?3:0),d=u.useRef(!1),f=u.useRef(!1),m=c5();return jt(()=>{var p;if(e){if(n&&a(!0),!t){n&&l(3);return}return(p=r?.start)==null||p.call(r,n),Lme(t,{inFlight:d,prepare(){f.current?f.current=!1:f.current=d.current,d.current=!0,!f.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){f.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var g;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,c(7),n||a(!1),(g=r?.end)==null||g.call(r,n))}})}},[e,n,t,m]),e?[s,{closed:i(1),enter:i(2),leave:i(4),transition:i(2)||i(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Lme(e,{prepare:t,run:n,done:r,inFlight:s}){let a=Vr();return Dme(e,{prepare:t,inFlight:s}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(Ome(e,r))})}),a.dispose}function Ome(e,t){var n,r;let s=Vr();if(!e)return s.dispose;let a=!1;s.add(()=>{a=!0});let i=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return i.length===0?(t(),s.dispose):(Promise.allSettled(i.map(l=>l.finished)).then(()=>{a||t()}),s.dispose)}function Dme(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function INe(e,{container:t,accept:n,walk:r}){let s=u.useRef(n),a=u.useRef(r);u.useEffect(()=>{s.current=n,a.current=r},[n,r]),jt(()=>{if(!t||!e)return;let i=ga(t);if(!i)return;let l=s.current,c=a.current,d=Object.assign(m=>l(m),{acceptNode:l}),f=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,d,!1);for(;f.nextNode();)c(f.currentNode)},[t,e,s,a])}function RNe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}let af=u.createContext(null);af.displayName="OpenClosedContext";var Ws=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ws||{});function b_(){return u.useContext(af)}function Fme({value:e,children:t}){return ye.createElement(af.Provider,{value:e},t)}function LNe({children:e}){return ye.createElement(af.Provider,{value:null},e)}function $me(e){throw new Error("Unexpected object: "+e)}var Bme=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Bme||{});function ONe(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1;switch(e.focus){case 0:{for(let a=0;a<n.length;++a)if(!t.resolveDisabled(n[a],a,n))return a;return r}case 1:{s===-1&&(s=n.length);for(let a=s-1;a>=0;--a)if(!t.resolveDisabled(n[a],a,n))return a;return r}case 2:{for(let a=s+1;a<n.length;++a)if(!t.resolveDisabled(n[a],a,n))return a;return r}case 3:{for(let a=n.length-1;a>=0;--a)if(!t.resolveDisabled(n[a],a,n))return a;return r}case 4:{for(let a=0;a<n.length;++a)if(t.resolveId(n[a],a,n)===e.id)return a;return r}case 5:return null;default:$me(e)}}function Ume(e){let t=wt(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,o_(()=>{n.current&&t()})}),[t])}function Hme(){let e=typeof document>"u";return"useSyncExternalStore"in x4?(t=>t.useSyncExternalStore)(x4)(()=>()=>{},()=>!1,()=>!e):!1}function m5(){let e=Hme(),[t,n]=u.useState(Zs.isHandoffComplete);return t&&Zs.isHandoffComplete===!1&&n(!1),u.useEffect(()=>{t!==!0&&n(!0)},[t]),u.useEffect(()=>Zs.handoff(),[]),e?!1:t}let Vme=u.createContext(!1);function Gme(){return u.useContext(Vme)}function Wme(e){let t=Gme(),n=u.useContext(S_),r=f5(e),[s,a]=u.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(Zs.isServer)return null;let l=r?.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let c=r.createElement("div");return c.setAttribute("id","headlessui-portal-root"),r.body.appendChild(c)});return u.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),u.useEffect(()=>{t||n!==null&&a(n.current)},[n,a,t]),s}let w_=u.Fragment,zme=Gr(function(e,t){let n=e,r=u.useRef(null),s=va(J2e(f=>{r.current=f}),t),a=f5(r),i=Wme(r),[l]=u.useState(()=>{var f;return Zs.isServer?null:(f=a?.createElement("div"))!=null?f:null}),c=u.useContext(jm),d=m5();return jt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),jt(()=>{if(l&&c)return c.register(l)},[c,l]),Ume(()=>{var f;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((f=i.parentElement)==null||f.removeChild(i)))}),d?!i||!l?null:ds.createPortal(Es({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:w_,name:"Portal"}),l):null});function qme(e,t){let n=va(t),{enabled:r=!0,...s}=e;return r?ye.createElement(zme,{...s,ref:n}):Es({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:w_,name:"Portal"})}let Zme=u.Fragment,S_=u.createContext(null);function Yme(e,t){let{target:n,...r}=e,s={ref:va(t)};return ye.createElement(S_.Provider,{value:n},Es({ourProps:s,theirProps:r,defaultTag:Zme,name:"Popover.Group"}))}let jm=u.createContext(null);function DNe(){let e=u.useContext(jm),t=u.useRef([]),n=wt(a=>(t.current.push(a),e&&e.register(a),()=>r(a))),r=wt(a=>{let i=t.current.indexOf(a);i!==-1&&t.current.splice(i,1),e&&e.unregister(a)}),s=u.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,u.useMemo(()=>function({children:a}){return ye.createElement(jm.Provider,{value:s},a)},[s])]}let Kme=Gr(qme),Qme=Gr(Yme),FNe=Object.assign(Kme,{Group:Qme});function $Ne({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=f5(n),s=wt(()=>{var a,i;let l=[];for(let c of e)c!==null&&(c instanceof HTMLElement?l.push(c):"current"in c&&c.current instanceof HTMLElement&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(a=r?.querySelectorAll("html > *, body > *"))!=null?a:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((i=n?.getRootNode())==null?void 0:i.host))||l.some(d=>c.contains(d))||l.push(c));return l});return{resolveContainers:s,contains:wt(a=>s().some(i=>i.contains(a)))}}let M_=u.createContext(null);function BNe({children:e,node:t}){let[n,r]=u.useState(null),s=Xme(t??n);return ye.createElement(M_.Provider,{value:s},e,s===null&&ye.createElement(Y2e,{features:u_.Hidden,ref:a=>{var i,l;if(a){for(let c of(l=(i=ga(a))==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c!=null&&c.contains(a)){r(c);break}}}}))}function Xme(e=null){var t;return(t=u.useContext(M_))!=null?t:e}function Jme(){let e=u.useRef(!1);return jt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var epe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(epe||{});function UNe(){let e=u.useRef(0);return y_(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function __(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:k_)!==u.Fragment||ye.Children.count(e.children)===1}let of=u.createContext(null);of.displayName="TransitionContext";var tpe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(tpe||{});function npe(){let e=u.useContext(of);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function rpe(){let e=u.useContext(lf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let lf=u.createContext(null);lf.displayName="NestingContext";function cf(e){return"children"in e?cf(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function E_(e,t){let n=ha(e),r=u.useRef([]),s=Jme(),a=c5(),i=wt((g,v=ns.Hidden)=>{let h=r.current.findIndex(({el:x})=>x===g);h!==-1&&(ac(v,{[ns.Unmount](){r.current.splice(h,1)},[ns.Hidden](){r.current[h].state="hidden"}}),a.microTask(()=>{var x;!cf(r)&&s.current&&((x=n.current)==null||x.call(n))}))}),l=wt(g=>{let v=r.current.find(({el:h})=>h===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>i(g,ns.Unmount)}),c=u.useRef([]),d=u.useRef(Promise.resolve()),f=u.useRef({enter:[],leave:[]}),m=wt((g,v,h)=>{c.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([x])=>x!==g)),t?.chains.current[v].push([g,new Promise(x=>{c.current.push(x)})]),t?.chains.current[v].push([g,new Promise(x=>{Promise.all(f.current[v].map(([y,b])=>b)).then(()=>x())})]),v==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>h(v)):h(v)}),p=wt((g,v,h)=>{Promise.all(f.current[v].splice(0).map(([x,y])=>y)).then(()=>{var x;(x=c.current.shift())==null||x()}).then(()=>h(v))});return u.useMemo(()=>({children:r,register:l,unregister:i,onStart:m,onStop:p,wait:d,chains:f}),[l,i,r,m,p,f,d])}let k_=u.Fragment,T_=l_.RenderStrategy;function spe(e,t){var n,r;let{transition:s=!0,beforeEnter:a,afterEnter:i,beforeLeave:l,afterLeave:c,enter:d,enterFrom:f,enterTo:m,entered:p,leave:g,leaveFrom:v,leaveTo:h,...x}=e,[y,b]=u.useState(null),S=u.useRef(null),T=__(e),k=va(...T?[S,t,b]:t===null?[]:[t]),A=(n=x.unmount)==null||n?ns.Unmount:ns.Hidden,{show:M,appear:P,initial:I}=npe(),[D,F]=u.useState(M?"visible":"hidden"),B=rpe(),{register:z,unregister:O}=B;jt(()=>z(S),[z,S]),jt(()=>{if(A===ns.Hidden&&S.current){if(M&&D!=="visible"){F("visible");return}return ac(D,{hidden:()=>O(S),visible:()=>z(S)})}},[D,S,z,O,M,A]);let q=m5();jt(()=>{if(T&&q&&D==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,D,q,T]);let H=I&&!P,Se=P&&M&&I,ie=u.useRef(!1),ae=E_(()=>{ie.current||(F("hidden"),O(S))},B),ft=wt(Mt=>{ie.current=!0;let X=Mt?"enter":"leave";ae.onStart(S,X,Re=>{Re==="enter"?a?.():Re==="leave"&&l?.()})}),Rt=wt(Mt=>{let X=Mt?"enter":"leave";ie.current=!1,ae.onStop(S,X,Re=>{Re==="enter"?i?.():Re==="leave"&&c?.()}),X==="leave"&&!cf(ae)&&(F("hidden"),O(S))});u.useEffect(()=>{T&&s||(ft(M),Rt(M))},[M,T,s]);let Vt=!(!s||!T||!q||H),[,Le]=Rme(Vt,y,M,{start:ft,end:Rt}),ht=Ls({ref:k,className:((r=Am(x.className,Se&&d,Se&&f,Le.enter&&d,Le.enter&&Le.closed&&f,Le.enter&&!Le.closed&&m,Le.leave&&g,Le.leave&&!Le.closed&&v,Le.leave&&Le.closed&&h,!Le.transition&&M&&p))==null?void 0:r.trim())||void 0,...Ime(Le)}),en=0;return D==="visible"&&(en|=Ws.Open),D==="hidden"&&(en|=Ws.Closed),Le.enter&&(en|=Ws.Opening),Le.leave&&(en|=Ws.Closing),ye.createElement(lf.Provider,{value:ae},ye.createElement(Fme,{value:en},Es({ourProps:ht,theirProps:x,defaultTag:k_,features:T_,visible:D==="visible",name:"Transition.Child"})))}function ape(e,t){let{show:n,appear:r=!1,unmount:s=!0,...a}=e,i=u.useRef(null),l=__(e),c=va(...l?[i,t]:t===null?[]:[t]);m5();let d=b_();if(n===void 0&&d!==null&&(n=(d&Ws.Open)===Ws.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,m]=u.useState(n?"visible":"hidden"),p=E_(()=>{n||m("hidden")}),[g,v]=u.useState(!0),h=u.useRef([n]);jt(()=>{g!==!1&&h.current[h.current.length-1]!==n&&(h.current.push(n),v(!1))},[h,n]);let x=u.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);jt(()=>{n?m("visible"):!cf(p)&&i.current!==null&&m("hidden")},[n,p]);let y={unmount:s},b=wt(()=>{var T;g&&v(!1),(T=e.beforeEnter)==null||T.call(e)}),S=wt(()=>{var T;g&&v(!1),(T=e.beforeLeave)==null||T.call(e)});return ye.createElement(lf.Provider,{value:p},ye.createElement(of.Provider,{value:x},Es({ourProps:{...y,as:u.Fragment,children:ye.createElement(A_,{ref:c,...y,...a,beforeEnter:b,beforeLeave:S})},theirProps:{},defaultTag:u.Fragment,features:T_,visible:f==="visible",name:"Transition"})))}function ope(e,t){let n=u.useContext(of)!==null,r=b_()!==null;return ye.createElement(ye.Fragment,null,!n&&r?ye.createElement(Im,{ref:t,...e}):ye.createElement(A_,{ref:t,...e}))}let Im=Gr(ape),A_=Gr(spe),ipe=Gr(ope),HNe=Object.assign(Im,{Child:ipe,Root:Im});function VNe(e,t){let n=u.useRef({left:0,top:0});if(jt(()=>{if(!t)return;let s=t.getBoundingClientRect();s&&(n.current=s)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let p6=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function g6(e){var t,n;let r=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let a=!1;for(let l of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),a=!0;let i=a?(n=s.innerText)!=null?n:"":r;return p6.test(i)&&(i=i.replace(p6,"")),i}function lpe(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let a=document.getElementById(s);if(a){let i=a.getAttribute("aria-label");return typeof i=="string"?i.trim():g6(a).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return g6(e).trim()}function GNe(e){let t=u.useRef(""),n=u.useRef("");return wt(()=>{let r=e.current;if(!r)return"";let s=r.innerText;if(t.current===s)return n.current;let a=lpe(r).trim().toLowerCase();return t.current=s,n.current=a,a})}const cpe="https://help.openai.com/en/collections/3742473-chatgpt",upe="https://help.openai.com/en/articles/9982051",dpe="https://help.openai.com/en/articles/6825453-chatgpt-release-notes",fpe="https://help.openai.com/en/articles/10003026-windows-app-release-notes";function WNe(){return _l?upe:cpe}function zNe(){return _l?fpe:dpe}function qNe(){const e=L(),t=e.formatMessage(jn.adminRoleName),n=e.formatMessage(jn.ownerRoleName),r=e.formatMessage(jn.standardRoleName);return u.useMemo(()=>({[zs.OWNER]:n,[zs.ADMIN]:t,[zs.STANDARD]:r}),[n,t,r])}function ZNe(e){const t=L();return e?.isWorkspaceAccount()?e.isTeam()?t.formatMessage(jn.teamPlanName):e.isEdu()?t.formatMessage(jn.eduPlanName):t.formatMessage(jn.enterprisePlanName):t.formatMessage(jn.personalPlanName)}function mpe(e){const t=L();return P_(t,e)}function ppe(){const{data:e}=ko(),t=Ld(e),n=L();return P_(n,t)}function P_(e,t){return t==null||t.isPersonalAccount()?e.formatMessage(jn.personalWorkspaceTitle):t.data.name??e.formatMessage(jn.defaultWorkspaceTitle)}function YNe(e,t,n){return t==null||t.isPersonalAccount()?n?e.formatMessage(jn.personalDefaultWorkspaceTitle,{name:n.name}):e.formatMessage(jn.personalWorkspaceTitle):t&&t.data.name?t.data.name:e.formatMessage(jn.defaultWorkspaceTitle)}function N_(){return wn()?.email??null}function KNe(){const e=wn();return e?.name??e?.email??null}function j_(){return ms(({workspaces:e})=>e)}function gpe(){const{data:e}=ko();return e?.accountItems.filter(t=>!t.isDeactivated())??[]}function QNe(e){return j_().find(r=>r.id===e)?.role===zs.OWNER}function XNe(e){return j_().find(r=>r.id===e)?.role===zs.ADMIN}const jn=U({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account"},personalDefaultWorkspaceTitle:{id:"useWorkspaces.personaldefaultWorkspaceTitle",defaultMessage:"{name}'s Workspace"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise"},eduPlanName:{id:"useWorkspaces.eduPlanName",defaultMessage:"Edu"},teamPlanName:{id:"useWorkspaces.teamPlanName",defaultMessage:"Team"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member"}}),I_=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12C3 10.8954 3.89543 10 5 10C6.10457 10 7 10.8954 7 12C7 13.1046 6.10457 14 5 14C3.89543 14 3 13.1046 3 12ZM10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12ZM17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12Z",fill:"currentColor"}));function R_(){return window.matchMedia("(pointer: coarse) and (hover: none)").matches}function JNe(){return R_()}function L_(){const{isIos:e,isAndroidChrome:t}=u.useContext($r),n=typeof window<"u"&&Yd();return{isMobileOS:Ad()?n:e||t}}function hpe(){const e=Kn(),{isMobileOS:t}=L_(),[n,r]=u.useState(t);return u.useEffect(()=>{r(t||e)},[e,t]),n}function Bc(e){return Aj(e||window)||OP()||Np()}function eje({scriptSrc:e}){const t=u.useContext($r);return o.jsx("script",{nonce:t.cspScriptNonce,suppressHydrationWarning:!0,children:e})}const tje=(e,t,n,r)=>e.value?t.text(e.value,[t.marks.startend.create(n),...r??[]]):null;var ld=200,Kt=function(){};Kt.prototype.append=function(t){return t.length?(t=Kt.from(t),!this.length&&t||t.length<ld&&this.leafAppend(t)||this.length<ld&&t.leafPrepend(this)||this.appendInner(t)):this};Kt.prototype.prepend=function(t){return t.length?Kt.from(t).append(this):this};Kt.prototype.appendInner=function(t){return new vpe(this,t)};Kt.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Kt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Kt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Kt.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Kt.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(a,i){return s.push(t(a,i))},n,r),s};Kt.from=function(t){return t instanceof Kt?t:t&&t.length?new O_(t):Kt.empty};var O_=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new t(this.values.slice(s,a))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,a,i,l){for(var c=a;c<i;c++)if(s(this.values[c],l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(s,a,i,l){for(var c=a-1;c>=i;c--)if(s(this.values[c],l+c)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=ld)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=ld)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Kt);Kt.empty=new O_([]);var vpe=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,a,i){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(a,l),i)===!1||a>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,a)-l,i+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,a,i){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(a,l)-l,i+l)===!1||a<l&&this.left.forEachInvertedInner(r,Math.min(s,l),a,i)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(r,s):r>=a?this.right.slice(r-a,s-a):this.left.slice(r,a).append(this.right.slice(0,s-a))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Kt);const nje={"prosemirror-parent":"_prosemirror-parent_11fu7_1"};function xpe(e){if(!e)return!1;const n=["gpt-4o-gdrive","gpt-4o-gdrive-1007-mclick","gpt-4o-gdrive-1124","gpt-4o-gdrive-1124-citation","gpt-4o-gdrive-0212","gpt-4o-gdrive-0314","o1_ca_0226","o3_mini_ca_0226"].includes(e.id),r=!!e.product_features.contextual_answers?.is_eligible_for_contextual_answers;return n||r}var D_=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e))(D_||{});function uf(){return oa("1001765573").config.get("ca_enabled",!1)}function p5(){return oa("1001765573").config.get("onboarding_paused",!1)}function rje(){const e=oa("1001765573");return{isEnabled:e.config.get("ca_enabled",!1),isComingSoon:e.config.get("ca_coming_soon",!1)}}function F_(e){return uf()&&xpe(e)}function Cpe(e){const t=F_(e),n=ype();return t&&!!n}function ype(){const e=oa("1001765573");if(!e.config.get("ca_enabled",!1))return null;const n=e.config.get("feedback_format",null);return n&&Object.values(D_).includes(n)?n:null}const bpe=gt(()=>ut(()=>import("./khaic1qhrb246kiz.js"),__vite__mapDeps([39,1,40,3,4,41,42,43,17])).then(e=>e.CAFeedbackModal));function sje({clientThreadId:e,currentModelConfig:t}){const n=Cpe(t),[r,s]=u.useState(),a=u.useCallback(({nodeId:i,messageId:l,rating:c})=>{const d=vn(e);E.logEvent(_.thumbRating,{id:l,threadId:d,rating:c,model:t?.id});const f=Z.getTree(_e(e)),m=f.getNodeByIdOrMessageId(i);if(d!==void 0&&!n&&fe.submitMessageFeedback({message_id:l,conversation_id:d,rating:c}),rt(e,p=>{Mr.updateTree(p,g=>{g.updateNodeMetadata(i,{rating:c})})}),n){s(o.jsx(bpe,{citations:m.message.metadata?.citations??[],rating:c,conversationId:d??"",messageId:l,onSubmit:()=>{s(void 0)},onCancel:()=>s(void 0),conversationTree:f,nodeId:i},`${i}-${c}`));return}},[e,t?.id,n]);return{caModal:r,onChangeRating:a}}function $_(e){lt.setCookie(ct.LastUsedModel,e,{path:"/",maxAge:60*60*24*30})}function g5(){return lt.getCookie(ct.LastUsedModel)}function wpe(){const e=y8(()=>!0)??!1,t=xl(),n=$e(),r=!e||n==null;let s=null,a=null;if(!r&&t.authStatus===gn.LoggedIn){const i=g5();i?s=i:(a=Et.getItem(we.LastUsedModel,{workspaceId:n.id,userId:t.user.id}),s=a?.modelId??null)}return u.useEffect(()=>{a?.modelId&&$_(a.modelId)},[a?.modelId]),t.authStatus!==gn.LoggedIn?{isLoading:!1,modelId:null}:r?{isLoading:!0}:{isLoading:!1,modelId:s}}const je=U({tooManyFilesTitle:{id:"Go/YH4",defaultMessage:"Files impacting responses"},tooManyFilesDescription:{id:"mPTTw+",defaultMessage:"Responses may be lower quality due to the number of files this project is using."},newChatInProject:{id:"jRHQMo",defaultMessage:"New chat in this project"},emptyFileInstructions:{id:"si7jJz",defaultMessage:"Add documents, code files, images, and more. {gizmoNameText} can access their contents when you chat inside the project."},emptyFileGizmoName:{id:"xr5T2P",defaultMessage:"{gizmoName}"},addConversationToSnorlax:{id:"PU4d/V",defaultMessage:"Add to project"},addConversationToNamedSnorlax:{id:"shKpqh",defaultMessage:"Add to {projectName}"},removeConversationFromSnorlax:{id:"xSI3aZ",defaultMessage:"Remove from {projectName}"},moveConversation:{id:"GM4pWN",defaultMessage:"Move this conversation"},moveConversationToSnorlax:{id:"M97tb/",defaultMessage:"Move to project"},moveConversationToSnorlaxError:{id:"mA7nfR",defaultMessage:"Failed to move the conversation to the project"},unableToLoadProjectHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingProjectHistory:{id:"zefgl5",defaultMessage:"Retry loading project history"},newProjectButton:{id:"2qkMU1",defaultMessage:"New project"},newProjectHeaderButton:{id:"g/JmfL",defaultMessage:"Create new project"},nameTooLong:{id:"feWA6K",defaultMessage:"Project names cannot be longer than {length} characters."},createProjectSubmit:{id:"AHBOEO",defaultMessage:"Create project"},createProjectCancel:{id:"DxU9sm",defaultMessage:"Cancel"},projectNameLabel:{id:"aBtY0G",defaultMessage:"Project name"},projectNameDescription:{id:"NQrF3x",defaultMessage:"Give your project a name"},projectNamePlaceholder:{id:"XS7JR8",defaultMessage:"E.g. Birthday Party Planning"},newChatProjectDropdownItem:{id:"MutDla",defaultMessage:"New chat in {name}"},cancel:{id:"iz2OBQ",defaultMessage:"Cancel"},save:{id:"gTdsTU",defaultMessage:"Save"},removeFile:{id:"COAUqx",defaultMessage:"Remove file"},customInstructionsTitle:{id:"K7k/ns",defaultMessage:"Add instructions"},customInstructionsReadOnlyTitle:{id:"DC+Brl",defaultMessage:"Instructions not yet added"},customInstructionsDescription:{id:"mpKjkc",defaultMessage:"Tailor the way ChatGPT responds in this project"},customInstructionsReadOnlyDescription:{id:"lTa/PV",defaultMessage:"When a project owner or editor adds instructions, ChatGPT will tailor its responses"},filesCount:{id:"XKCsL9",defaultMessage:"{count} {count, plural, one {file} other {files}}"},interpreterOnlyLabel:{id:"/Bdw7C",defaultMessage:"File contents may not be accessible"},defaultColor:{id:"1nrbk9",defaultMessage:"Default color"},editCustomInstructionsTitle:{id:"nedukh",defaultMessage:"Instructions"},editCustomInstructionsSubtitle:{id:"NgP+hF",defaultMessage:"How can ChatGPT best help you with this project?"},readOnlyCustomInstructionsTitle:{id:"kK/uLW",defaultMessage:"Custom instructions for ChatGPT to best help with this project"},editCustomInstructionsDescription:{id:"PNY7g9",defaultMessage:"You can ask ChatGPT to focus on certain topics, or ask it to use a certain tone or format for responses."},readOnlyCustomInstructionsDescription:{id:"2cQTVm",defaultMessage:"A project owner or editor can change these instructions to have ChatGPT focus on certain topics, or respond in a certain tone or format."},searchingProjectFiles:{id:"dZazsY",defaultMessage:"Searching project files"},addAction:{id:"vTkTuN",defaultMessage:"Add Action"},editActions:{id:"Lx3frs",defaultMessage:"Edit Actions"},addCustomInstructions:{id:"rEdrLS",defaultMessage:"Add custom instructions"},instructionsTooLong:{id:"hwBx62",defaultMessage:"Project instructions cannot be longer than {length} characters."},dragInstructions:{id:"yA3Jxu",defaultMessage:"Add anything"},dragAllAccepted:{id:"CJNN+O",defaultMessage:"Drop any file here to add it to the project"},dragTooManyFiles:{id:"O2Xr4P",defaultMessage:"Too many files"},unknownError:{id:"Eu2Hdz",defaultMessage:"Unknown error occurred"},dragTooManyFilesError:{id:"cz7kmK",defaultMessage:"Error uploading: Projects can't contain more than {MAX_FILES_PER_PROJECT} files"},dragTooManyFilesDescription:{id:"RqJpJg",defaultMessage:"Projects can't contain more than {MAX_FILES_PER_PROJECT} files"},addFilesToProject:{id:"yMVX4l",defaultMessage:"Add files"},filesThatCanBeReferenced:{id:"0mQnwH",defaultMessage:"Add documents, code files, images, and more. {projectName} can access their contents when you chat inside the project."},projectFilesModalTitle:{id:"o6Ozbv",defaultMessage:"Project files"},addFilesButtonLabel:{id:"yMVX4l",defaultMessage:"Add files"},viewFilesButtonLabel:{id:"2lu9im",defaultMessage:"Files not yet added"},filesControlDescription:{id:"Y/Z2lM",defaultMessage:"Chats in this project can access file content"},noFilesReadOnlyDescription:{id:"HNxajn",defaultMessage:"When a project owner or editor adds files to this project, chats can access their contents"},projectDetailsSectionLabel:{id:"9y2Kag",defaultMessage:"Details"},hideProjectDetailsTooltip:{id:"Ar0X7X",defaultMessage:"Hide project details"},showProjectDetailsTooltip:{id:"a8ust8",defaultMessage:"Show project details"},showProjectDetailsButton:{id:"ni4Lkt",defaultMessage:"Show project details"},projectsHeading:{id:"GHFgIA",defaultMessage:"Projects"},seeMoreProjectItems:{id:"znMnZ9",defaultMessage:"See more"},emptyChatsInProjectTitle:{id:"BzycLE",defaultMessage:"Start a new chat, or drag an old one in"},chatsInProjectTitle:{id:"jgAOuP",defaultMessage:"Chats in this project"},projectSettingsSubmitButton:{id:"TayvQF",defaultMessage:"Save"},loadingProjects:{id:"oKi2Bo",defaultMessage:"Loading projects"},seeAllChats:{id:"PwRmke",defaultMessage:"See All"},newChatTitle:{id:"RtFhWK",defaultMessage:"New chat"},unableToLoadHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingHistory:{id:"IoImQ5",defaultMessage:"Retry"},showProjectDetailsDropdown:{id:"LUjGtd",defaultMessage:"Show project details"},deleteProjectModalTitle:{id:"pPgHKT",defaultMessage:"Delete project?"},deleteProjectModalButton:{id:"v3/17x",defaultMessage:"Delete project"},cancelDeleteProjectModalButton:{id:"E7RoUe",defaultMessage:"Cancel"},deleteProjectModalDescription:{id:"Vl4p9p",defaultMessage:"<bold>This will permanently delete all project files and chats.</bold> To save chats, move them to your chat list or another project before deleting."},deleteProjectDropdownButton:{id:"dD0vWg",defaultMessage:"Delete project"},projectInstructionsPlaceholder:{id:"w/NZvS",defaultMessage:"e.g. Respond in Spanish. Reference the latest JavaScript documentation. Keep answers short and focused."},newProjectButtonTooltip:{id:"oh2NTp",defaultMessage:"New project"},deleteProjectFailedToast:{id:"KAw2h3",defaultMessage:"Failed to delete project. Please try again."},editProjectNameDropdownButton:{id:"VcTUYI",defaultMessage:"Edit project name"},hideChatsForProjectTooltip:{id:"ZjBLTY",defaultMessage:"Hide chats"},projectHelperBoxTitle:{id:"QIriII",defaultMessage:"What's a project?"},projectHelperBoxDescription:{id:"QEsg2b",defaultMessage:"Projects keep chats, files, and custom instructions in one place. Use them for ongoing work, or just to keep things tidy."},projectsNuxTooltipTitle:{id:"Ub7Cl2",defaultMessage:"Introducing projects"},projectsNuxTooltipDescription:{id:"aLohnf",defaultMessage:"Keep chats, files, and custom instructions all in one place. Ideal for organizing work or shaping big ideas."},projectShareButton:{id:"q8/aY8",defaultMessage:"Add people"},projectShareTitle:{id:"4nONX4",defaultMessage:"Add people"},showChatsForProjectTooltip:{id:"FcBR2j",defaultMessage:"Show chats"}});function Spe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Mpe=Spe,_pe=b8,Epe=Id;function kpe(e,t,n,r){var s=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var l=t[a],c=r?r(n[l],e[l],l,n,e):void 0;c===void 0&&(c=e[l]),s?Epe(n,l,c):_pe(n,l,c)}return n}var oc=kpe,Tpe=oc,Ape=pp;function Ppe(e,t){return e&&Tpe(t,Ape(t),e)}var Npe=Ppe,jpe=oc,Ipe=Kd;function Rpe(e,t){return e&&jpe(t,Ipe(t),e)}var Lpe=Rpe,cd={exports:{}};cd.exports;(function(e,t){var n=Vv,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,i=a?n.Buffer:void 0,l=i?i.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var m=d.length,p=l?l(m):new d.constructor(m);return d.copy(p),p}e.exports=c})(cd,cd.exports);var B_=cd.exports;function Ope(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var U_=Ope,Dpe=oc,Fpe=DP;function $pe(e,t){return Dpe(e,Fpe(e),t)}var Bpe=$pe,Upe=oc,Hpe=FP;function Vpe(e,t){return Upe(e,Hpe(e),t)}var Gpe=Vpe,Wpe=Object.prototype,zpe=Wpe.hasOwnProperty;function qpe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&zpe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Zpe=qpe,h6=$P;function Ype(e){var t=new e.constructor(e.byteLength);return new h6(t).set(new h6(e)),t}var h5=Ype,Kpe=h5;function Qpe(e,t){var n=t?Kpe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Xpe=Qpe,Jpe=/\w*$/;function ege(e){var t=new e.constructor(e.source,Jpe.exec(e));return t.lastIndex=e.lastIndex,t}var tge=ege,v6=Zv,x6=v6?v6.prototype:void 0,C6=x6?x6.valueOf:void 0;function nge(e){return C6?Object(C6.call(e)):{}}var rge=nge,sge=h5;function age(e,t){var n=t?sge(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var H_=age,oge=h5,ige=Xpe,lge=tge,cge=rge,uge=H_,dge="[object Boolean]",fge="[object Date]",mge="[object Map]",pge="[object Number]",gge="[object RegExp]",hge="[object Set]",vge="[object String]",xge="[object Symbol]",Cge="[object ArrayBuffer]",yge="[object DataView]",bge="[object Float32Array]",wge="[object Float64Array]",Sge="[object Int8Array]",Mge="[object Int16Array]",_ge="[object Int32Array]",Ege="[object Uint8Array]",kge="[object Uint8ClampedArray]",Tge="[object Uint16Array]",Age="[object Uint32Array]";function Pge(e,t,n){var r=e.constructor;switch(t){case Cge:return oge(e);case dge:case fge:return new r(+e);case yge:return ige(e,n);case bge:case wge:case Sge:case Mge:case _ge:case Ege:case kge:case Tge:case Age:return uge(e,n);case mge:return new r;case pge:case vge:return new r(e);case gge:return lge(e);case hge:return new r;case xge:return cge(e)}}var Nge=Pge,jge=ra,y6=Object.create,Ige=function(){function e(){}return function(t){if(!jge(t))return{};if(y6)return y6(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Rge=Ige,Lge=Rge,Oge=w8,Dge=BP;function Fge(e){return typeof e.constructor=="function"&&!Dge(e)?Lge(Oge(e)):{}}var V_=Fge,$ge=jp,Bge=Qd,Uge="[object Map]";function Hge(e){return Bge(e)&&$ge(e)==Uge}var Vge=Hge,Gge=Vge,Wge=kp,b6=S8,w6=b6&&b6.isMap,zge=w6?Wge(w6):Gge,qge=zge,Zge=jp,Yge=Qd,Kge="[object Set]";function Qge(e){return Yge(e)&&Zge(e)==Kge}var Xge=Qge,Jge=Xge,ehe=kp,S6=S8,M6=S6&&S6.isSet,the=M6?ehe(M6):Jge,nhe=the,rhe=M8,she=Mpe,ahe=b8,ohe=Npe,ihe=Lpe,lhe=B_,che=U_,uhe=Bpe,dhe=Gpe,fhe=UP,mhe=HP,phe=jp,ghe=Zpe,hhe=Nge,vhe=V_,xhe=fl,Che=_8,yhe=qge,bhe=ra,whe=nhe,She=pp,Mhe=Kd,_he=1,Ehe=2,khe=4,G_="[object Arguments]",The="[object Array]",Ahe="[object Boolean]",Phe="[object Date]",Nhe="[object Error]",W_="[object Function]",jhe="[object GeneratorFunction]",Ihe="[object Map]",Rhe="[object Number]",z_="[object Object]",Lhe="[object RegExp]",Ohe="[object Set]",Dhe="[object String]",Fhe="[object Symbol]",$he="[object WeakMap]",Bhe="[object ArrayBuffer]",Uhe="[object DataView]",Hhe="[object Float32Array]",Vhe="[object Float64Array]",Ghe="[object Int8Array]",Whe="[object Int16Array]",zhe="[object Int32Array]",qhe="[object Uint8Array]",Zhe="[object Uint8ClampedArray]",Yhe="[object Uint16Array]",Khe="[object Uint32Array]",We={};We[G_]=We[The]=We[Bhe]=We[Uhe]=We[Ahe]=We[Phe]=We[Hhe]=We[Vhe]=We[Ghe]=We[Whe]=We[zhe]=We[Ihe]=We[Rhe]=We[z_]=We[Lhe]=We[Ohe]=We[Dhe]=We[Fhe]=We[qhe]=We[Zhe]=We[Yhe]=We[Khe]=!0;We[Nhe]=We[W_]=We[$he]=!1;function Cu(e,t,n,r,s,a){var i,l=t&_he,c=t&Ehe,d=t&khe;if(n&&(i=s?n(e,r,s,a):n(e)),i!==void 0)return i;if(!bhe(e))return e;var f=xhe(e);if(f){if(i=ghe(e),!l)return che(e,i)}else{var m=phe(e),p=m==W_||m==jhe;if(Che(e))return lhe(e,l);if(m==z_||m==G_||p&&!s){if(i=c||p?{}:vhe(e),!l)return c?dhe(e,ihe(i,e)):uhe(e,ohe(i,e))}else{if(!We[m])return s?e:{};i=hhe(e,m,l)}}a||(a=new rhe);var g=a.get(e);if(g)return g;a.set(e,i),whe(e)?e.forEach(function(x){i.add(Cu(x,t,n,x,e,a))}):yhe(e)&&e.forEach(function(x,y){i.set(y,Cu(x,t,n,y,e,a))});var v=d?c?mhe:fhe:c?Mhe:She,h=f?void 0:v(e);return she(h||e,function(x,y){h&&(y=x,x=e[y]),ahe(i,y,Cu(x,t,n,y,e,a))}),i}var Qhe=Cu,Xhe=Qhe,Jhe=1,e5e=4;function t5e(e){return Xhe(e,Jhe|e5e)}var n5e=t5e;const _i=ue(n5e);function r5e(e){returnwindow.location.origin+`${zi(e)}`}function aje(e,t,n,r){jh(r5e(e),t,n),r&&t.info(r,{testId:"copy-gizmo-url-toast"})}function s5e(e){return e.some(t=>t.type===Ip.JIT_PLUGIN)}function a5e(e){return"gizmo_id"in e?e.gizmo_id??null:null}function o5e(e){return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:e.gizmo.display.description??"",emoji:e.gizmo.display.emoji??void 0,theme:e.gizmo.display.theme??void 0,profilePictureId:e.gizmo.display.profile_pic_id??void 0,profilePictureUrl:e.gizmo.display.profile_picture_url??void 0,promptStarters:e.gizmo.display.prompt_starters??[],tools:_i(e.tools),files:_i(e.files),sharing:e.gizmo.sharing?_i(e.gizmo.sharing):{subjects:[],recipient:e.gizmo.share_recipient},trainingDisabled:e.gizmo.training_disabled??!1,sharingRecipient:e.gizmo.share_recipient,sharingTargets:_i(e.gizmo.sharing_targets),liveVersion:e.gizmo.live_version??0,contextStuffingBudget:e.gizmo.context_stuffing_budget}}function Uc(e,t){return n=>n?{...n,pages:n.pages.map((r,s)=>s===0?{...r,items:[e,...r.items]}:r)}:{pages:[t],pageParams:[]}}function Hc(e){return t=>t&&{...t,pages:t.pages.map(n=>({...n,items:n.items.filter(r=>r.id!==e)}))}}function i5e({queryClient:e,newGizmoId:t,conversation:n,previousGizmoId:r}){const s=[],a=n.gizmo_id;return n.gizmo_id=t,s.push(()=>{n.gizmo_id=a}),t?(e.setQueryData([Wn,{gizmoId:t}],Uc(n,{items:[n],cursor:null})),s.push(()=>{e.setQueryData([Wn,{gizmoId:t}],Hc(n.id))})):(e.setQueryData([ts],Uc(n,{items:[n],total:1,limit:O2,offset:0})),s.push(()=>{e.setQueryData([ts],Hc(n.id))})),r?(e.setQueryData([Wn,{gizmoId:r}],Hc(n.id)),s.push(()=>{e.setQueryData([Wn,{gizmoId:r}],Uc(n,{items:[n],cursor:null}))})):(e.setQueryData([ts],Hc(n.id)),s.push(()=>{e.setQueryData([ts],Uc(n,{items:[n],total:1,limit:O2,offset:0}))})),rt(n.id,i=>{i.mode=f4(_6(t))}),s.push(()=>{rt(n.id,i=>{i.mode=f4(_6(a))})}),()=>{s.forEach(i=>i())}}function _6(e){return e?{kind:ke.GizmoInteraction,gizmo_id:e}:{kind:ke.PrimaryAssistant}}function oje(){const e=xe(),t=Be(),n=L();return u.useCallback(async({newGizmoId:s,conversation:a,previousGizmoId:i,optimistic:l=!0})=>{let c=()=>{};const d=()=>{i&&ln(i)&&e.invalidateQueries({queryKey:[Wn,{gizmoId:i}]}),s&&ln(s)&&e.invalidateQueries({queryKey:[Wn,{gizmoId:s}]}),(!s||!i||!ln(s)||!ln(i))&&e.invalidateQueries({queryKey:[ts]}),i&&e.invalidateQueries({queryKey:xn(e,i,!1).queryKey}),s&&e.invalidateQueries({queryKey:xn(e,s,!1).queryKey})};l&&(c=i5e({queryClient:e,newGizmoId:s,conversation:a,previousGizmoId:i}));try{await j.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:a.id}},requestBody:{gizmo_id:s??""}})}catch{l&&(c(),d()),t.danger(n.formatMessage(je.moveConversationToSnorlaxError))}l||d()},[e,t,n])}const l5e=e=>["conversation","init",e],c5e=({clientThreadId:e,conversationMode:t,clientModelId:n,enabled:r},s)=>{const a=a5e(t),i=Rr(e)?null:e;return{gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:"always",queryKey:l5e(e),queryFn:()=>fe.getConversationDetails({conversationId:i,gizmoId:a,requestedDefaultModel:n}),enabled:r&&!Fx(e)}},u5e=e=>(Be(),ee(c5e(e))),d5e=e=>{const t=g5(),n=Il({clientThreadId:e}),[r,s]=bn(),a=r.get("model"),i=Je(e,c=>Z.findNode(c,d=>d.message.metadata?.model_slug!=null)?.message.metadata?.model_slug),l=[a,i,t].map(c=>c&&n[c]?.conversation?.length?null:c);return{clientModelIdCandidates:l,prospectiveModelId:l.find(c=>!!c)??null}},f5e=(e,t,n)=>{const{data:r,isLoading:s}=hr(),a=r?.models??rC,[i,l]=bn(),c=i.get("model"),d=wpe(),f=t.kind===ke.GizmoInteraction?t.gizmo_id:null,{data:m}=ua(f&&ln(f)?f:void 0),p=f&&ln(f)&&!m,{isLoading:g}=d,{config:v}=Od("4156060548"),h=v.get("is_enabled",!0);IL(e);const{clientModelIdCandidates:x,prospectiveModelId:y}=d5e(e),b=x.find(P=>P&&a.has(P));u.useEffect(()=>{Nn.initThread(e,t,b),b2.reset()},[e]),u.useEffect(()=>{n?.shouldScrollToBottom&&rt(e,P=>{P.scrollToMessageId="finalAgentTurn"})},[e,n?.shouldScrollToBottom]);const S=()=>{l(P=>(P.delete("model"),P))},T=null,{isLoading:k,data:A}=u5e({clientThreadId:e,clientModelId:y,conversationMode:t,enabled:!p&&(h?!g:!0)&&T==null}),M=_p();u.useEffect(()=>{if(!(!c||s)){if(!E6(c,a,M))return S();rt(e,P=>{P.modelId=c})}},[c,M,a,e,s]),u.useEffect(()=>{if(k||!A)return;const I=new URLSearchParams(window.location.search).get("model"),{default_model_slug:D}=A;let F=D;I&&!s&&D&&I!==D&&E6(I,a,M)&&(F=I,S()),b2.updateDetails(A),F&&rt(e,B=>{B.modelId=F})},[k,A])},E6=(e,t,n)=>t.has(e)&&!n.find(r=>r.model_slug===e),m5e=()=>{const{layer:e}=ot("1346366956");return e.get("signup_cta_copy","SIGN_UP")},ic=e=>{switch(m5e()){case"SIGN_UP":return e;case"SIGN_UP_FOR_FREE":return Ei.signUpForFreeCta;case"CREATE_ACCOUNT":return Ei.createAccountCta;case"CREATE_NEW_ACCOUNT":return Ei.createNewAccountCta;case"CREATE_FREE_ACCOUNT":return Ei.createFreeAccountCta}},Ei=U({createAccountCta:{id:"createAccountCta",defaultMessage:"Create account"},createNewAccountCta:{id:"createNewAccountCta",defaultMessage:"Create new account"},createFreeAccountCta:{id:"createFreeAccountCta",defaultMessage:"Create free account"},signUpForFreeCta:{id:"signUpForFreeCta",defaultMessage:"Sign up for free"}});function p5e(e){$.logEvent("chatgpt_web_thread_tap_new_thread"),Et.getItem(we.HasSeenNewChatModal)===!0?Pg(e):(Et.setItem(we.HasSeenNewChatModal,!0),pt.openModal(un.NoAuthNewChat))}function ije(){return Vp(un.NoAuthNewChat)?o.jsx(g5e,{onClose:()=>{pt.closeModal(un.NoAuthNewChat)}}):null}function g5e({onClose:e}){const t=Fn(),n=Te(),r=Od("1934819688"),s=r.config.get("is_redesign_enabled",!1),a=r.config.get("secondary_button_type","cancel"),i=ic(In.signUpButtonText),l=m=>{m.preventDefault(),t({authType:"signup",callback:p=>{$.logEvent("chatgpt_new_chat_modal_sign_up_link_clicked"),E.logSignUpButtonClicked({location:"New chat modal",provider:p})}})},c=m=>{m.preventDefault(),t({authType:"login",callback:p=>{$.logEvent("chatgpt_new_chat_modal_log_in_link_clicked"),E.logLogInButtonClicked({location:"New chat modal",provider:p})}})},d=()=>{$.logEvent("chatgpt_new_chat_modal_cancel_button_clicked"),E.logEvent(_.newChatModalCancelButtonClicked),e()},f=()=>{$.logEvent("chatgpt_new_chat_modal_new_chat_button_clicked"),E.logNewChatButtonClicked({location:"New Chat Modal New Chat Button"}),Pg(n),e()};return u.useEffect(()=>{$.logEvent("chatgpt_new_chat_modal_shown"),E.logEvent(_.newChatModalShown)},[]),o.jsx(he,{isOpen:!0,type:"success",onClose:e,noPadding:!0,size:"custom",className:"max-w-sm",children:o.jsxs("div",{className:"flex flex-col justify-center p-6",children:[o.jsxs("div",{className:"mb-2 grid w-full grid-cols-[1fr,auto,1fr] items-center",children:[o.jsx("div",{}),o.jsx("div",{className:"text-xl font-medium",children:o.jsx(C,{id:"d+R7z5",defaultMessage:"Clear current chat?"})}),o.jsx("div",{className:"flex justify-end",children:s?o.jsx(Lr,{onClick:e}):null})]}),o.jsx("p",{className:"mb-6 text-center text-token-text-secondary",children:o.jsx(C,{id:"+Olycu",defaultMessage:"To start a new chat, your current conversation will be discarded. <signup>Sign up</signup> or <login>log in</login> to save chats.",values:{signup:m=>o.jsx("a",{href:"#",className:"font-medium text-token-text-primary",onClick:l,children:m}),login:m=>o.jsx("a",{href:"#",className:"font-medium text-token-text-primary",onClick:c,children:m})}})}),o.jsx(G,{className:"mb-3",color:s?"primary":"danger",size:"giant",onClick:f,children:o.jsx(C,{id:"cBGbrD",defaultMessage:"Clear chat"})}),a==="cancel"?o.jsx(G,{size:"giant",onClick:d,color:"secondary",children:o.jsx(C,{...In.cancelButtonText})}):null,a==="login"?o.jsx(G,{size:"giant",onClick:()=>{t({authType:"login",callback:m=>{E.logLogInButtonClicked({location:"New chat modal",provider:m})}})},color:"ghost",children:o.jsx(C,{...In.logInButtonText})}):null,a==="signup"?o.jsx(G,{size:"giant",onClick:()=>{t({authType:"signup",callback:m=>{E.logSignUpButtonClicked({location:"New chat modal",provider:m})}})},color:"ghost",children:o.jsx(C,{...i})}):null]})})}function h5e(e){const t=_e(e),n=t?.tree?.rootId;if(n==null)return!1;const r=Z.getNode(t,n)?.children.length===1,s=Z.findNode(t,a=>a.message.author.role===Ce.Assistant&&a.message.clientMetadata?.err==null);return r&&!s}function v5e({clientThreadId:e,location:t}){const n=Br(),{id:r}=Io(e),s=sC(!0),a=Te(),i=Cn();return u.useCallback(()=>{Ai.publish({kind:"newChatRequested"}),vn(e)==null&&h5e(e)&&Nn.resetThread(e),ao(n)?i?(s({modelId:r,location:t,options:{replace:!0,state:Rl()}}),$.logEvent("chatgpt_web_thread_tap_new_thread")):r===Tl?a({pathname:"/"}):(s({modelId:r,location:t}),$.logEvent("chatgpt_web_thread_tap_new_thread")):p5e(a)},[n,i,r,a,s,t,e])}function lje(e){const t=c8(),n=t?{kind:ke.GizmoInteraction,gizmo_id:t}:{kind:ke.PrimaryAssistant};f5e(e,n,{shouldScrollToBottom:!0})}function cje({clientThreadId:e,setClientThreadId:t}){const n=Te(),r=u.useCallback(()=>{t?.(VP());const a=_e(e)?.modelId;n(a?`/?model=${a}`:"/",{replace:!0})},[e,t,n]);return{createNewThread:v5e({clientThreadId:e,location:"Model switcher menu item"}),resetThread:r}}var Ar=(e=>(e.Floating="floating",e.Pinned="pinned",e))(Ar||{});function q_({isMobileDevice:e,isLoggedIn:t}){return{isSidebarOpen:t?!e:!1,mode:e?Ar.Floating:Ar.Pinned}}class Z_{store;constructor(t){this.store=t}setSidebarMode=async t=>{t!==this.store.getState().mode&&(this.store.setState(n=>({...n,mode:t})),$.logEvent("chatgpt_web_sidebar_mode_changed",t))};openSidebarAction=async()=>{const t=Bc(window)?Ar.Floating:Ar.Pinned;this.store.setState(n=>({...n,isSidebarOpen:!0,mode:t})),await C2.yield(),$.logEvent("chatgpt_web_sidebar_opened"),E.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!1,action:"button_click"})};openSidebar=async()=>{if(m4()||Bc(window)){this.openSidebarAction();return}M2({className:"open-sidebar",types:[`from-${this.store.getState().mode}`],update:()=>this.openSidebarAction()})};closeSidebarAction=async()=>{const t=Bc(window)?Ar.Floating:Ar.Pinned;this.store.setState(n=>({...n,isSidebarOpen:!1,mode:t})),await C2.yield(),$.logEvent("chatgpt_web_sidebar_closed"),E.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!0,action:"button_click"})};closeSidebar=async()=>{if(m4()||Bc(window)){this.closeSidebarAction();return}M2({className:"close-sidebar",types:[`from-${this.store.getState().mode}`],update:()=>this.closeSidebarAction()})}}const k6=de(()=>q_({isMobileDevice:!0,isLoggedIn:!1})),x5e=u.createContext({useStore:k6,actions:new Z_(k6)});function uje({children:e}){const{isMobileOS:t}=L_(),{isUnauthenticated:n}=at(),r=!n,s=hpe(),[a]=u.useState(()=>{const i=lt.getCookie(ct.NavigationState);let l=i?{isSidebarOpen:i==="1",mode:Ar.Pinned}:q_({isMobileDevice:t,isLoggedIn:r});s?(l.isSidebarOpen=!1,l.mode=Ar.Floating):r||(l.isSidebarOpen=!1);const c=de(()=>l);return{useStore:c,actions:new Z_(c)}});return o.jsx(x5e,{value:a,children:e})}function Y_(){return o.jsx("div",{className:"border-token-text-quartenary items-center rounded-full border px-1 py-0.5 text-[8px] font-semibold uppercase leading-3 text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary",children:o.jsx(C,{id:"mP0mrm",defaultMessage:"Beta"})})}const $i=U({pageTitle:{id:"CHk10n",defaultMessage:"Tasks"},emptyStateTitle:{id:"WZwnBu",defaultMessage:"Start creating tasks"},emptyStateDescription:{id:"VGFt6n",defaultMessage:"Ask ChatGPT to do things in the future."},emptyStateTryYourOwn:{id:"ARS7Xs",defaultMessage:"Try your own"},makingAutomation:{id:"nngZkS",defaultMessage:"Creating task..."},updatingAutomation:{id:"TtVqbi",defaultMessage:"Updating task..."},cancelModalDescription:{id:"ovdvFi",defaultMessage:"Are you sure you want to cancel? Your changes will not be saved."},pauseBanner:{id:"Shy3x+",defaultMessage:"This task is paused."},editModalTitle:{id:"TATVBL",defaultMessage:"Task"},editModalName:{id:"6yXwm0",defaultMessage:"Name"},editModalInstructions:{id:"6m8uZT",defaultMessage:"Instructions"},editModalSchedule:{id:"wjzsc9",defaultMessage:"Schedule"},editModalDelete:{id:"jmdwEu",defaultMessage:"Delete"},editModalCancel:{id:"CkqFyL",defaultMessage:"Cancel"},editModalSave:{id:"tw230z",defaultMessage:"Save"},editModalSaveSuccess:{id:"2bPf6t",defaultMessage:"Task saved"},editModalSaveFailure:{id:"s9XRUo",defaultMessage:"Failed to save task"},editModalMissingTaskName:{id:"Gvl61x",defaultMessage:"A task name is required."},editModalMissingInstructions:{id:"50eJR5",defaultMessage:"Instructions are required."},editModalTooFarInFuture:{id:"pRMB4Q",defaultMessage:"Tasks cant be scheduled more than 2 years in the future."},editModalInPast:{id:"og7U6X",defaultMessage:"Please choose a date in the future."},seeMore:{id:"e818FO",defaultMessage:"See more"},scheduleFrequencyOnce:{id:"ubLvlf",defaultMessage:"Doesn't repeat"},scheduleFrequencyDaily:{id:"fCPVKk",defaultMessage:"Daily"},scheduleFrequencyWeekly:{id:"LBJNa8",defaultMessage:"Weekly"},scheduleFrequencyMonthly:{id:"KtDbq5",defaultMessage:"Monthly"},scheduleFrequencyYearly:{id:"jPb1ga",defaultMessage:"Annually"},scheduleFrequencyCustom:{id:"aW+M+B",defaultMessage:"Custom"},scheduleNextThreeTimes:{id:"jHrFIq",defaultMessage:"Next three times"},scheduleCustomScheduleTitle:{id:"S55b0f",defaultMessage:"To update this custom schedule, just ask ChatGPT"},scheduleCustomScheduleContent:{id:"HzgAWq",defaultMessage:'For example, "do this every 3 weeks on Tuesday"'},scheduleCustomScheduleOpenChat:{id:"QIZwlV",defaultMessage:"Open chat"},pausedPill:{id:"H45WpI",defaultMessage:"Paused"},customSchedule:{id:"xBDjE1",defaultMessage:"Custom schedule"},deleteModalConfirmation:{id:"VvP/mR",defaultMessage:"Are you sure you want to delete this task? This cannot be undone."},deleteModalSuccess:{id:"yOFuly",defaultMessage:"Task deleted"},deleteModalFailure:{id:"/sJV6Y",defaultMessage:"Failed to delete task"},deleteModalTitle:{id:"ghUY4y",defaultMessage:"Delete task"},lastRunToday:{id:"32N654",defaultMessage:"Today"},lastRunYesterday:{id:"0J3FW6",defaultMessage:"Yesterday"},notificationsBannerAllow:{id:"cw4hGs",defaultMessage:"Allow"},notificationsBannerNotNow:{id:"zwEnmc",defaultMessage:"Not now"},notificationsBannerTitle:{id:"aZg1Bl",defaultMessage:"Turn on desktop notifications"},notificationsBannerContent:{id:"I6r+8F",defaultMessage:"Get notified when theres an update on your tasks."},notificationsDisabledBannerTitle:{id:"mVWjpz",defaultMessage:"Notifications are disabled in your browser."},notificationsDisabledBannerContent:{id:"wAahVE",defaultMessage:"You'll need to visit your browser preferences to allow them."},attachmentEdit:{id:"/KHfm0",defaultMessage:"Edit"},attachmentViewAll:{id:"aytzuS",defaultMessage:"View all tasks"},localizedRuntimeTomorrow:{id:"yK7y4m",defaultMessage:"Tomorrow"},scheduled:{id:"Vor1nS",defaultMessage:"Scheduled"},paused:{id:"ATWDeu",defaultMessage:"Paused"},completed:{id:"Ur4kmZ",defaultMessage:"Completed"}}),dje={nextRunTime:e=>o.jsx(C,{id:"/OfbaB",defaultMessage:"Next run {nextRunTime}",values:{nextRunTime:e}}),runtimeDaily:e=>o.jsx(C,{id:"jawbone.runtime.daily",defaultMessage:"Daily at {localizedTime}",values:{localizedTime:e}}),runtimeWeeklyShort:e=>o.jsx(C,{id:"iTSfMl",defaultMessage:"Weekly on {localizedDayOfWeek}",values:{localizedDayOfWeek:e}}),runtimeWeekly:(e,t)=>o.jsx(C,{id:"jawbone.runtime.weekly",defaultMessage:"Weekly on {localizedDayOfWeek} at {localizedTime}",values:{localizedDayOfWeek:e,localizedTime:t}}),runtimeMonthly:e=>o.jsx(C,{id:"jawbone.runtime.monthly",defaultMessage:"Monthly on the {monthDay, selectordinal, one {#st} two {#nd} few {#rd} other {#th}}",values:{monthDay:e}}),runtimeYearly:(e,t)=>o.jsx(C,{id:"jawbone.runtime.yearly",defaultMessage:"Annually on {localizedMonth} {day}",values:{localizedMonth:e,day:t}}),runtimeToday:e=>o.jsx(C,{id:"hStcUW",defaultMessage:"Today at {localizedTime}",values:{localizedTime:e}}),runtimeTomorrow:e=>o.jsx(C,{id:"BF9QGd",defaultMessage:"Tomorrow at {localizedTime}",values:{localizedTime:e}}),runtimeNextFiveDays:(e,t)=>o.jsx(C,{id:"UdC7R6",defaultMessage:"{localizedDayOfWeek} at {localizedTime}",values:{localizedDayOfWeek:e,localizedTime:t}}),runtimeThisYear:(e,t)=>o.jsx(C,{id:"L9Pqre",defaultMessage:"{localizedMonthDay} at {localizedTime}",values:{localizedMonthDay:e,localizedTime:t}}),runtimeOutsideThisYear:(e,t)=>o.jsx(C,{id:"XOR8K9",defaultMessage:"{localizedDate} at {localizedTime}",values:{localizedDate:e,localizedTime:t}})};function K_(){return"/tasks"}const Q_=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.10003 4.70006C9.54185 5.03143 9.6314 5.65823 9.30003 6.10006L6.30002 10.1001C6.13556 10.3193 5.8883 10.4615 5.61604 10.4933C5.34379 10.5251 5.07041 10.4438 4.85984 10.2683L3.35984 9.01828C2.93556 8.66472 2.87824 8.03415 3.2318 7.60987C3.58537 7.1856 4.21593 7.12827 4.64021 7.48184L5.33158 8.05798L7.70003 4.90006C8.0314 4.45823 8.6582 4.36869 9.10003 4.70006ZM12 7.50006C12 6.94777 12.4477 6.50006 13 6.50006H20C20.5523 6.50006 21 6.94777 21 7.50006C21 8.05234 20.5523 8.50006 20 8.50006H13C12.4477 8.50006 12 8.05234 12 7.50006ZM3.00003 16.5001C3.00003 14.8432 4.34318 13.5001 6.00003 13.5001C7.65687 13.5001 9.00003 14.8432 9.00003 16.5001C9.00003 18.157 7.65687 19.5001 6.00003 19.5001C4.34318 19.5001 3.00003 18.157 3.00003 16.5001ZM6.00003 15.5001C5.44773 15.5001 5.00003 15.9478 5.00003 16.5001C5.00003 17.0524 5.44773 17.5001 6.00003 17.5001C6.55232 17.5001 7.00003 17.0524 7.00003 16.5001C7.00003 15.9478 6.55232 15.5001 6.00003 15.5001ZM12 16.5001C12 15.9478 12.4477 15.5001 13 15.5001H20C20.5523 15.5001 21 15.9478 21 16.5001C21 17.0523 20.5523 17.5001 20 17.5001H13C12.4477 17.5001 12 17.0523 12 16.5001Z",fill:"currentcolor"})),v5=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e},u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.5 5a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-3.874 1a4.002 4.002 0 0 1 7.748 0H20a1 1 0 1 1 0 2h-1.626a4.002 4.002 0 0 1-7.748 0H4a1 1 0 0 1 0-2h6.626ZM9.5 15a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-3.874 1a4.002 4.002 0 0 1 7.748 0H20a1 1 0 1 1 0 2h-6.626a4.002 4.002 0 0 1-7.748 0H4a1 1 0 1 1 0-2h1.626Z",clipRule:"evenodd"})),Rm=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C10.3431 4 9 5.34315 9 7C9 8.65685 10.3431 10 12 10C13.6569 10 15 8.65685 15 7C15 5.34315 13.6569 4 12 4ZM7 7C7 4.23858 9.23858 2 12 2C14.7614 2 17 4.23858 17 7C17 9.76142 14.7614 12 12 12C9.23858 12 7 9.76142 7 7Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9684 14.0022C11.1062 14.537 10.7843 15.0823 10.2495 15.22C7.46676 15.9369 5.5 18.2894 5.5 20.9999C5.5 21.5522 5.05228 21.9999 4.5 21.9999C3.94772 21.9999 3.5 21.5522 3.5 20.9999C3.5 17.2714 6.1909 14.2002 9.75054 13.2833C10.2854 13.1455 10.8306 13.4674 10.9684 14.0022Z",fill:"currentColor"}),u.createElement("path",{d:"M17.25 15.625C17.25 16.5225 16.5225 17.25 15.625 17.25C14.7275 17.25 14 16.5225 14 15.625C14 14.7275 14.7275 14 15.625 14C16.5225 14 17.25 14.7275 17.25 15.625Z",fill:"currentColor"}),u.createElement("path",{d:"M21.75 15.625C21.75 16.5225 21.0225 17.25 20.125 17.25C19.2275 17.25 18.5 16.5225 18.5 15.625C18.5 14.7275 19.2275 14 20.125 14C21.0225 14 21.75 14.7275 21.75 15.625Z",fill:"currentColor"}),u.createElement("path",{d:"M21.75 20.125C21.75 21.0225 21.0225 21.75 20.125 21.75C19.2275 21.75 18.5 21.0225 18.5 20.125C18.5 19.2275 19.2275 18.5 20.125 18.5C21.0225 18.5 21.75 19.2275 21.75 20.125Z",fill:"currentColor"}),u.createElement("path",{d:"M17.25 20.125C17.25 21.0225 16.5225 21.75 15.625 21.75C14.7275 21.75 14 21.0225 14 20.125C14 19.2275 14.7275 18.5 15.625 18.5C16.5225 18.5 17.25 19.2275 17.25 20.125Z",fill:"currentColor"}));function fje({menuItemComponent:e}){const t=Te(),n=G1(),r=$e();return o.jsxs(o.Fragment,{children:[n&&o.jsx(e,{onClick:()=>{t(K_())},icon:Q_,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(C,{...$i.pageTitle}),o.jsx(Y_,{})]})}),null,null,r?.hasPlusFeatures()?o.jsx(e,{onClick:()=>{E.logEvent(_.accountMenuClickMyGPTs),t(Ux())},icon:Rm,children:o.jsx(C,{id:"Az178v",defaultMessage:"My GPTs"})}):r&&o.jsx(e,{onClick:()=>{E.logEvent(_.accountMenuClickMyGPTs),t(AL())},icon:Rm,children:o.jsx(C,{id:"VsdMPL",defaultMessage:"Explore GPTs"})}),o.jsx(e,{icon:v5,onClick:()=>{pt.openModal(un.UserContext),E.logEventWithStatsig(_.userContextCustomInstructionsModalOpened,"chatgpt_user_context_custom_instructions_modal_opened",{location:"customize_chatgpt_menu_item"}),E.logEvent(_.accountMenuClickCustomizeChatGPT)},children:o.jsx(C,{id:"popoverNavigation.chatPreferences.1",defaultMessage:"Customize ChatGPT"})})]})}const C5e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H12C13.6569 3 15 4.34315 15 6V7H18C19.6569 7 21 8.34315 21 10V19H22C22.5523 19 23 19.4477 23 20C23 20.5523 22.5523 21 22 21H2C1.44772 21 1 20.5523 1 20C1 19.4477 1.44772 19 2 19H3V6ZM5 19H8V17C8 16.4477 8.44772 16 9 16C9.55228 16 10 16.4477 10 17V19H13V6C13 5.44772 12.5523 5 12 5H6C5.44772 5 5 5.44772 5 6V19ZM15 19H19V10C19 9.44772 18.5523 9 18 9H15V19Z",fill:"currentColor"}));function mje({menuItemComponent:e,routedMenuItemComponent:t}){const n=yn(),r=st("2756095923")?.value&&n?.isEdu()&&n?.isStandardUserOfAccount(),s=Te(),a=G1();return o.jsxs(o.Fragment,{children:[!r&&o.jsx(t,{to:"/admin",icon:C5e,children:o.jsx(C,{...q0.myWorkspaceSettings})}),a&&o.jsx(e,{onClick:()=>{s(K_())},icon:Q_,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(C,{...$i.pageTitle}),o.jsx(Y_,{})]})}),null,null,o.jsx(t,{to:Ux(),onClick:()=>{E.logEvent(_.accountMenuClickMyGPTs)},icon:Rm,children:o.jsx(C,{...q0.myGpts})}),o.jsx(e,{onClick:()=>{pt.openModal(un.UserContext),E.logEvent(_.accountMenuClickCustomizeChatGPT)},icon:v5,children:o.jsx(C,{...q0.chatPreferences})})]})}const q0=U({myWorkspaceSettings:{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Manage workspace"},chatPreferences:{id:"B4s/Jz",defaultMessage:"Customize ChatGPT"},myGpts:{id:"workspacePopoverNavigation.myGpts",defaultMessage:"My GPTs"}}),pje=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 16.75C9 18.4069 10.3431 19.75 12 19.75C13.6569 19.75 15 18.4069 15 16.75H17C17 19.5114 14.7614 21.75 12 21.75C9.23858 21.75 7 19.5114 7 16.75H9Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.3849 11.4117C18.748 11.4698 19.1205 11.5 19.5 11.5C19.805 11.5 20.1054 11.4805 20.4001 11.4427L20.8736 15.7831C21.0027 16.9665 20.0758 18 18.8854 18H5.11546C3.92504 18 2.99816 16.9665 3.12726 15.7831L3.80143 9.60322C4.25787 5.41917 7.79156 2.25 12.0004 2.25C12.2886 2.25 12.5736 2.26486 12.8547 2.29388C12.6476 2.91823 12.5259 3.58159 12.5037 4.27006C12.3376 4.25677 12.1697 4.25 12.0004 4.25C8.81219 4.25 6.13539 6.65066 5.78963 9.82011L5.11546 16H18.8854L18.3849 11.4117ZM17.9974 8.74303C18.4673 8.90944 18.9731 9 19.5 9C19.7047 9 19.9063 8.98633 20.1038 8.95984C19.5866 6.22304 17.7363 3.99502 15.2817 2.92942C15.0995 3.41839 15 3.94757 15 4.5C15 4.6806 15.0106 4.85871 15.0313 5.03374C16.4463 5.81984 17.5303 7.14175 17.9974 8.74303Z",fill:"currentColor"}),u.createElement("path",{d:"M15 4.5C15 2.01472 17.0147 0 19.5 0V0C21.9853 0 24 2.01472 24 4.5V4.5C24 6.98528 21.9853 9 19.5 9V9C17.0147 9 15 6.98528 15 4.5V4.5Z",fill:"#007AFF"})),gje=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.801 9.60322C4.25744 5.41917 7.79114 2.25 12 2.25C16.2089 2.25 19.7426 5.41916 20.199 9.60322L20.8732 15.7831C21.0023 16.9665 20.0754 18 18.885 18H16.8425C16.2874 20.1565 14.3298 21.75 12 21.75C9.67021 21.75 7.71259 20.1565 7.15753 18H5.11504C3.92461 18 2.99773 16.9665 3.12683 15.7831L3.801 9.60322ZM9.27203 18C9.74604 19.0328 10.7893 19.75 12 19.75C13.2108 19.75 14.254 19.0328 14.728 18H9.27203ZM12 4.25C8.81176 4.25 6.13496 6.65066 5.78921 9.82011L5.11504 16L18.885 16L18.2108 9.82011C17.8651 6.65066 15.1883 4.25 12 4.25Z",fill:"currentcolor"})),hje=e=>u.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M9.99759 4.91715C9.59539 6.13531 8.96964 7.20742 8.08853 8.08853C7.20742 8.96964 6.13531 9.59539 4.91715 9.99759C6.12671 10.393 7.20413 11.0086 8.0919 11.8763C8.96608 12.7308 9.59752 13.7724 9.99745 14.9632C10.3908 13.7803 11.012 12.7337 11.8729 11.8729C12.7337 11.012 13.7803 10.3908 14.9632 9.99745C13.7724 9.59752 12.7308 8.96608 11.8763 8.0919C11.0086 7.20413 10.393 6.12671 9.99759 4.91715ZM10.0011 1.45825C10.6063 1.45887 11.1147 1.91341 11.1828 2.51474C11.602 6.215 13.7001 8.48044 17.4564 8.81411C18.0712 8.86872 18.5423 9.38409 18.5416 10.0013C18.5409 10.6184 18.0687 11.1327 17.4538 11.186C13.7505 11.5065 11.5065 13.7505 11.186 17.4538C11.1327 18.0687 10.6184 18.5409 10.0013 18.5416C9.38409 18.5423 8.86872 18.0712 8.81411 17.4564C8.48044 13.7001 6.215 11.602 2.51474 11.1828C1.91341 11.1147 1.45887 10.6063 1.45825 10.0011C1.45764 9.39596 1.91114 8.88662 2.51233 8.81729C6.26582 8.38436 8.38436 6.26582 8.81729 2.51233C8.88662 1.91114 9.39596 1.45764 10.0011 1.45825Z",fill:"currentColor"}));function y5e({date:e}){const t=L(),n=e instanceof Date?e:new Date(e*1e3),r=cg(n,new Date);if(r<4&&r>-4){const s=t.formatRelativeTime(r,"day",{numeric:"auto"});return s.charAt(0).toUpperCase()+s.slice(1)}else return t.formatDate(n,{year:"numeric",month:"long",day:"numeric"})}const b5e="_wrapper_4j5pz_1",w5e="_label_4j5pz_22",T6={wrapper:b5e,label:w5e};function vje({className:e,icon:t,label:n,onClick:r,style:s,tabIndex:a=0,ref:i}){return o.jsx("label",{"aria-label":n,className:N(e,T6.wrapper),style:s,tabIndex:-1,children:o.jsx("button",{className:T6.label,onClick:r,tabIndex:a,ref:i,children:t})})}var x5="Tabs",[S5e,xje]=gs(x5,[Zd]),X_=Zd(),[M5e,C5]=S5e(x5),J_=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=Pp(l),[m,p]=Qs({prop:r,onChange:s,defaultProp:a});return o.jsx(M5e,{scope:n,baseId:vl(),value:m,onValueChange:p,orientation:i,dir:f,activationMode:c,children:o.jsx(De.div,{dir:f,"data-orientation":i,...d,ref:t})})});J_.displayName=x5;var eE="TabsList",tE=u.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=C5(eE,n),i=X_(n);return o.jsx(x8,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(De.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});tE.displayName=eE;var nE="TabsTrigger",rE=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=C5(nE,n),l=X_(n),c=oE(i.baseId,r),d=iE(i.baseId,r),f=r===i.value;return o.jsx(C8,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(De.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:ge(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?i.onValueChange(r):m.preventDefault()}),onKeyDown:ge(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(r)}),onFocus:ge(e.onFocus,()=>{const m=i.activationMode!=="manual";!f&&!s&&m&&i.onValueChange(r)})})})});rE.displayName=nE;var sE="TabsContent",aE=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=C5(sE,n),c=oE(l.baseId,r),d=iE(l.baseId,r),f=r===l.value,m=u.useRef(f);return u.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(hl,{present:s||f,children:({present:p})=>o.jsx(De.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&a})})});aE.displayName=sE;function oE(e,t){return`${e}-trigger-${t}`}function iE(e,t){return`${e}-content-${t}`}var Cje=J_,yje=tE,_5e=rE,E5e=aE;function Lm(){return o.jsx("div",{className:"border-token-text-quartenary items-center rounded-full border px-1 py-0.5 text-[8px] font-semibold uppercase leading-3 text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary",children:o.jsx(C,{id:"PoPvGE",defaultMessage:"Alpha"})})}var ud=(e=>(e.General="General",e.DesktopApp="DesktopApp",e.BetaFeatures="BetaFeatures",e.DataControls="DataControls",e.Personalization="Personalization",e.Jawbone="Jawbone",e.BuilderProfile="BuilderProfile",e.ConnectorSettings="ConnectorSettings",e.Speech="Speech",e.Security="Security",e.Notifications="Notifications",e.Subscription="Subscription",e.Referrals="Referrals",e.Internal="Internal",e))(ud||{});function bje({value:e,icon:t,label:n,testId:r}){const s=xs();return o.jsxs(_5e,{className:N("group flex items-center justify-start gap-2 rounded-md px-2 py-1.5 text-sm text-token-text-primary radix-state-active:bg-token-main-surface-tertiary radix-state-active:text-token-text-primary md:radix-state-active:bg-token-main-surface-secondary",{"flex-1 justify-center":!s}),value:e,"data-testid":r,children:[t,o.jsx("div",{className:s?"text-left":"truncate",children:n})]})}function wje({value:e,children:t}){return o.jsx(E5e,{className:"max-h-[calc(100vh-150px)] w-full overflow-y-auto md:min-h-[380px]",value:e,children:o.jsx("div",{className:"flex flex-col gap-3 px-4 pb-6 text-sm text-token-text-primary sm:px-6 md:ps-0 md:pt-5",children:t})})}function Sje({children:e}){return o.jsx("div",{className:"border-b border-token-border-light pb-3 last-of-type:border-b-0",children:e})}const Om=ce.div`text-xs text-token-text-secondary pr-12 mt-3`;function Mje({label:e,disabled:t,enabled:n,onChange:r,description:s,toggleTooltip:a,isLoading:i=!1,testId:l,compactDescription:c=!1,centerToggleVertically:d=!1,showAlphaPill:f=!1}){const m=o.jsx(JC,{disabled:t,enabled:n,onChange:r,label:e,icon:t?o.jsx(Yo,{className:"icon-xs dark:text-black"}):null,size:"normal",testId:l}),p=a?o.jsx(et,{label:a,side:"top",sideOffset:4,children:m}):m;return d?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e,f&&o.jsx(Lm,{})]}),s!=null&&o.jsx(Om,{className:c?"mt-0.5":void 0,children:s})]}),o.jsx("div",{className:"flex items-center",children:i?o.jsx(pr,{}):p})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e,f&&o.jsx(Lm,{})]}),i?o.jsx(pr,{}):p]}),s!=null&&o.jsx(Om,{className:c?"mt-0.5":void 0,children:s})]})}function _je({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:s,description:a,testId:i}){const l=a?"items-start":"items-center";return o.jsxs("div",{className:N("flex",l,"justify-between"),children:[o.jsxs("div",{children:[o.jsx("div",{children:n}),a!=null&&o.jsx(Om,{children:a})]}),o.jsx(G,{className:"shrink-0",color:e,disabled:!!t,onClick:s,"data-testid":i,children:r})]})}function Eje({onClick:e,label:t,stateLabel:n,testId:r}){return o.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:t}),o.jsxs("div",{className:"flex min-h-[38px] items-center text-token-text-secondary",children:[n&&o.jsx("div",{className:"me-1 flex items-center",children:n}),o.jsx(GP,{className:"icon-sm"})]})]})})}function k5e(e){return e?.startsWith("settings")??!1}function T5e(){const{hash:e}=vs(),t=Te(),n=k5e(e.slice(1)),r=n?e.slice(1).split("/")[1]:void 0,s=Object.values(ud).includes(r)?r:ud.General;return{openSettings:a=>{const i=a?`settings/${a}`:"settings";t({hash:i})},closeSettings:()=>{t({hash:""})},isOpen:n,currentTab:s}}const A5e=El({queryKey:["clientApplications"],queryFn:()=>j.safeGet("/client_applications")});function kje(){const{data:e,isLoading:t}=ee(A5e),{value:n}=qe("582612297");return{clientApplications:e?.items.filter(s=>s.type==="apple"?n:!0),isLoading:t}}function Tje(){const e=Be();return Ie({mutationFn:t=>j.safeDelete("/client_applications/{client_id}",{parameters:{path:{client_id:t}}}),onSuccess:()=>{window.location.reload()},onError:t=>{V.addError("Failed to revoke client application",{error:t}),e.danger("Failed to disconnect. Please try again later.")}})}const P5e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21C10.8954 21 10 20.1046 10 19C10 17.8954 10.8954 17 12 17C13.1046 17 14 17.8954 14 19C14 20.1046 13.1046 21 12 21ZM12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14ZM12 7C10.8954 7 10 6.10457 10 5C10 3.89543 10.8954 3 12 3C13.1046 3 14 3.89543 14 5C14 6.10457 13.1046 7 12 7Z",fill:"currentColor"})),N5e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C10.3431 4 8.99999 5.34315 8.99999 7C8.99999 8.65685 10.3431 10 12 10C13.6568 10 15 8.65685 15 7C15 5.34315 13.6568 4 12 4ZM6.99999 7C6.99999 4.23858 9.23857 2 12 2C14.7614 2 17 4.23858 17 7C17 9.76142 14.7614 12 12 12C9.23857 12 6.99999 9.76142 6.99999 7ZM12 15C8.55615 15 5.73716 17.6788 5.51424 21.0657C5.47796 21.6168 5.00181 22.0341 4.45072 21.9978C3.89962 21.9616 3.48228 21.4854 3.51855 20.9343C3.81022 16.5031 7.49559 13 12 13C12.3833 13 12.7613 13.0254 13.1321 13.0748C13.6795 13.1478 14.0642 13.6507 13.9912 14.1982C13.9183 14.7456 13.4154 15.1303 12.8679 15.0573C12.5844 15.0196 12.2948 15 12 15ZM17.9998 14C18.5521 14 18.9998 14.4476 18.9999 14.9999L19 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H19.0001V21C19.0001 21.5523 18.5524 22 18.0001 22C17.4478 22 17.0001 21.5523 17.0001 21V19H15C14.4477 19 14 18.5523 14 18C14 17.4477 14.4477 17 15 17H17L16.9999 15.0001C16.9998 14.4478 17.4475 14 17.9998 14Z",fill:"currentColor"})),j5e="_application_dguzb_1",I5e={application:j5e},Z0=de()(()=>({showFlyout:!1,showProjectSettingsModal:!1,showShareModal:!1})),A6={setShowFlyout:e=>{Z0.setState(()=>({showFlyout:e}))},setShowProjectSettingsModal:e=>{Z0.setState(()=>({showProjectSettingsModal:e}))},setShowShareModal:e=>{Z0.setState(()=>({showShareModal:e}))}},P6="ChatGPT",Aje="Untitled",Pje=10,Dm=50,R5e=300,L5e=8e3,Nje=12,jje=300;function Ije(e,t){if(t==null)return e;function n(r){return typeof r=="object"&&r!=null?Array.isArray(r)?r.map(n):Object.fromEntries(Object.entries(r).map(([s,a])=>[s,n(a)])):r===null?void 0:r}return t=n(t),{...e,...t}}var O5e=(e=>(e[e.Loading=0]="Loading",e[e.UploadingProfilePic=1]="UploadingProfilePic",e[e.GeneratingProfilePic=2]="GeneratingProfilePic",e[e.GizmoNameTooLong=3]="GizmoNameTooLong",e[e.GizmoDescriptionTooLong=4]="GizmoDescriptionTooLong",e[e.GizmoInstructionsTooLong=5]="GizmoInstructionsTooLong",e[e.NameEmpty=6]="NameEmpty",e[e.MissingPublicActionPrivacyPolicyURL=7]="MissingPublicActionPrivacyPolicyURL",e[e.MissingCategory=8]="MissingCategory",e))(O5e||{});function Rje(e){switch(e){case 0:return"Loading";case 1:return"Uploading profile picture";case 2:return"Generating profile picture";case 3:return"GPT name too long";case 4:return"GPT description too long";case 5:return"GPT instructions too long";case 6:return"GPT name cannot be empty";case 7:return"Public actions require valid privacy policy URLs";case 8:return"Public GPTs must have a category"}}function D5e(e){return e==="link"||e==="marketplace"}function F5e(e){try{return new URL(e),!0}catch{return!1}}function Lje(e,t,n){const r=e.name.length>Dm,s=(e.description?.length??0)>R5e,a=(e.instructions?.length??0)>L5e,i=[];if(e?.name===""&&i.push(6),r&&i.push(3),s&&i.push(4),a&&i.push(5),t!=null&&D5e(t)){const l=e.tools?.filter(c=>c.type===Ip.JIT_PLUGIN);for(const c of l){const d=c.metadata?.privacy_policy_url;if(d==null||!F5e(d)){i.push(7);break}}}return t===Ct.Marketplace&&n==null&&i.push(8),i}const $5e={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:Ct.Private,subjects:[]},tools:[{type:Ip.DALLE}],files:[],trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},B5e=5,dd=new Set;class y5{static upsert(t){return j.safePost("/gizmos/snorlax/upsert",{requestBody:t})}static async getSnorlaxHistory(t=null){let n=[],r=t,s=0;for(;s<15;){s++;const a=await j.get(`${ve}/gizmos/snorlax/sidebar`,{params:{conversations_per_gizmo:`${B5e}`,...r?{cursor:r}:{}}});if(n.push(...a.items),r=a.cursor,n.length>iC||!r)break;s===5&&Q.count(K.DEFAULT,"projects.history.empty.load_more_5"),s===10&&Q.count(K.DEFAULT,"projects.history.empty.load_more_10")}return r&&n.length===0&&Q.count(K.DEFAULT,"projects.history.empty.load_more_15"),{items:n,cursor:r}}static async fetchSnorlaxHistory(t=null,n){const r=await this.getSnorlaxHistory(t);V.addFirstTiming("load.snorlaxHistory");const{items:s}=r;s.forEach(i=>{const l=i.gizmo.gizmo.id;n.setQueryData(xn(n,l).queryKey,c=>{if(!c)return i.gizmo}),n.setQueryData([Wn,{gizmoId:l}],c=>{if(!c)return dd.add(l),{pages:[i.conversations],pageParams:[]}})});const a=s.map(i=>({gizmo:i.gizmo}));return{...r,items:a}}static delete(t){return j.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}})}}const Fm="snorlax-history",Ja="NEW_SNORLAX_KEY",U5e="snorlax-history",H5e=1;function V5e(){const e=xe();return Ie({mutationFn:async({update:t,id:n})=>{if(!n)throw new Error("No gizmo ID found for upsert");let r;if(n===Ja)r=$5e;else{let S=e.getQueryData(xn(e,n,!1).queryKey);if(S||(S=await Ke.getGizmo(n,!1)),!S)throw new Error("No existing gizmo resource found for upsert");r=o5e(S)}const s=typeof t=="function"?t(r):{...r,...t};if(E8(s,r))return{id:n};const{id:a,instructions:i,name:l,description:c,emoji:d,theme:f,profilePictureId:m,profilePictureUrl:p,promptStarters:g,files:v,sharing:h,trainingDisabled:x}=s;if(a!==n&&n!==Ja)throw new Error("Error updating project. ID mismatch");const y={gizmo_id:n!==Ja?n:void 0,instructions:i,display:{name:l,description:c,emoji:d,theme:f,profile_pic_id:m,profile_picture_url:p,prompt_starters:g},tools:[],files:v.map(S=>({...S,location:tg.FILE_SERVICE})),training_disabled:x,sharing:[{type:Ct.Private,capabilities:Zx},...h.subjects.map(W5e)],categories:void 0},b=await y5.upsert(y);if(b.error)throw new Yx;return{id:b.resource?.gizmo.id,resource:b.resource}},scope:{id:"snorlax"},onSettled:t=>{b5(e),t?.resource&&e.setQueryData(xn(e,t.resource.gizmo.id,!1).queryKey,t.resource)}})}const G5e={[bi.USER]:Ct.User,[bi.GROUP]:Ct.Group,[bi.WORKSPACE]:Ct.Workspace,[bi.ALL]:Ct.Marketplace};function W5e(e){const t=G5e[e.type];if(!t)throw new Error("Unknown sharing subject type: "+e.type);return{...e,type:t}}function z5e(e=null){const t=Qx(),n=xe(),r=rg(U5e,H5e,[Fm]),{data:s,fetchNextPage:a,hasNextPage:i,isLoading:l,isFetchingNextPage:c,isError:d,refetch:f}=ia({queryKey:[Fm],queryFn:async({pageParam:p})=>y5.fetchSnorlaxHistory(p,n),initialPageParam:e,getNextPageParam:p=>p.cursor??void 0,enabled:t,placeholderData:r});return{snorlaxes:u.useMemo(()=>s?.pages.flatMap(p=>p.items)??[],[s]),data:s,fetchNextPage:a,hasNextPage:i,refetch:f,isLoading:l,isFetchingNextPage:c,isError:d}}async function Oje(e){const t=xe();u.useEffect(()=>{dd.has(e)&&(t.invalidateQueries({queryKey:[Wn,{gizmoId:e}]}),dd.delete(e))},[e,t])}function q5e(e){const{data:t,fetchNextPage:n,hasNextPage:r,isLoading:s,isPending:a,isFetchingNextPage:i,isError:l,isFetching:c,refetch:d}=ia({queryKey:[Wn,{gizmoId:e}],queryFn:async({pageParam:m})=>(dd.delete(e),Ke.getConversations(e,m)),enabled:ln(e),initialPageParam:"0",getNextPageParam:m=>m.cursor??void 0});return{items:u.useMemo(()=>t?.pages.flatMap(m=>m.items)??[],[t]),data:t,fetchNextPage:n,hasNextPage:r,refetch:d,isLoading:s,isPending:a,isFetching:c,isFetchingNextPage:i,isError:l}}function b5(e){e.invalidateQueries({queryKey:[Fm]})}function Z5e(){const e=xe();return Ie({mutationFn:async({gizmoId:t})=>(await y5.delete(t),{gizmoId:t}),onSettled:t=>{const n=t?.gizmoId;b5(e),da(e,n),n&&e.invalidateQueries({queryKey:xn(e,n,!1).queryKey})}})}const N6=new Map;function Dje(e){const t=N6.get(e);if(t)return t;const n=YR(Y5e,2e3,{trailing:!0});return N6.set(e,n),n}async function Y5e({gizmoId:e,upsertProjectMutation:t,pendingFileUpsertMutationsRef:n}){const r=[],s=i=>{const l=n.current;return l.forEach(({update:c})=>{i=c(i)}),r.push(...l),i};await t.mutateAsync({id:e,update:s}),r.forEach(({onSuccess:i})=>{i?.()});const a=r.map(({mutationId:i})=>i);n.current=n.current.filter(({mutationId:i})=>!a.includes(i))}function lE({gizmoId:e,onSuccess:t,onClose:n}){const r=L(),s=Be(),a=Z5e(),i=async()=>{try{await a.mutateAsync({gizmoId:e}),t()}catch{s.danger(r.formatMessage(je.deleteProjectFailedToast))}};return o.jsx(he,{isOpen:!0,onClose:n,type:"danger",title:o.jsx(C,{...je.deleteProjectModalTitle}),primaryButton:o.jsx(Ve.Button,{title:r.formatMessage(je.deleteProjectModalButton),color:"danger",loading:a.isPending,onClick:()=>{i()}}),secondaryButton:o.jsx(Ve.Button,{title:r.formatMessage(je.cancelDeleteProjectModalButton),color:"secondary",onClick:n}),children:o.jsx("div",{className:"text-sm",children:o.jsx(C,{...je.deleteProjectModalDescription,values:{bold:l=>o.jsx("span",{className:"font-bold",children:l})}})})})}function Fje({gizmoId:e}){const t=L(),n=Te(),{data:r}=ko(),s=Ld(r),a=s?.isWorkspaceAccount()??!1,{data:i}=m8(s?.getWorkspaceId()),c=i?.share_settings?.chat_share_setting!==WP.NO_ONE,{value:d}=st("773249106"),[f,m]=u.useState(!1),{eligible:p,markAsViewed:g}=le(me.hasSeenSharedProjectsTooltip),{data:v}=ua(e),h=v?eC(v):!1;return o.jsxs(o.Fragment,{children:[a&&d&&c&&o.jsx(J1,{announcementKey:me.hasSeenSharedProjectsTooltip,show:p,side:"left",align:"center",className:"w-full",sideOffset:0,contentClassName:"z-[100]",childrenWrapperClassName:"w-full",theme:"bright",dismissOnOutsideClick:!0,badge:"new",description:t.formatMessage({id:"RBJoj/",defaultMessage:"You can now collaborate with others on your projects."}),onDismiss:g,children:o.jsx(G,{color:"secondary",icon:N5e,label:t.formatMessage(je.projectShareButton),onClick:()=>{A6.setShowShareModal(!0)},children:t.formatMessage(je.projectShareButton)})}),o.jsxs(To,{side:"top",contentAlign:"end",sideOffset:0,triggerButton:o.jsx(G,{color:"ghost",icon:P5e,label:t.formatMessage(je.showProjectDetailsDropdown),className:N(I5e.sidebarIcon,"px-2.5")}),size:"auto",children:[o.jsxs(te.Item,{onClick:()=>{A6.setShowProjectSettingsModal(!0)},children:[o.jsx(RC,{className:"icon-sm"}),o.jsx(C,{...je.editProjectNameDropdownButton})]}),h&&o.jsxs(te.Item,{color:"danger",onClick:()=>{m(!0)},children:[o.jsx(Kl,{className:"icon-sm"}),o.jsx(C,{...je.deleteProjectDropdownButton})]})]}),f&&o.jsx(lE,{gizmoId:e,onSuccess:()=>{m(!1),n("/")},onClose:()=>{m(!1)}})]})}function w5(){const{layer:e}=ot("3637408529");return e.get("is_login_primary_button",!1)}const lc="default",Ys=new Map,df=new Set([lc]),K5e="sidebar",Q5e="composer";let $m=0,Bm=0,fd=0,Um=null;typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")&&(Um=new PerformanceObserver(e=>{e.getEntries().forEach(t=>{if(t.entryType==="longtask"&&($m+=t.duration),t.entryType==="layout-shift"){if(t.hadRecentInput)return;Bm+=1,performance.timeOrigin&&(fd=Math.max(performance.timeOrigin+t.startTime,fd))}})}),Um.observe({entryTypes:["longtask","layout-shift"]}));const X5e=(e,t=lc)=>{if(yo)return;Ys.has(t)||Ys.set(t,new Map);const n=Ys.get(t);n.has(e)||(ff(),n.set(e,{start:Date.now()}))},J5e=(e,t=lc)=>{if(yo)return;let n=Ys.get(t)?.get(e);if(n&&n.end===void 0){n.end=Date.now();const r=df.has(t)?"visible":"hidden";V.addTiming(`render.${e}.${r}`,n.end),ff()}},e4e=(e,t=lc)=>{if(yo)return;const n=Ys.get(t);!n||!n.get(e)||(n.delete(e),ff())};let yo=!1;const j6=()=>{if(!yo){yo=!0;for(const[e,t]of Ys.entries()){const n=df.has(e)?"visible":"hidden";for(const[r,s]of t.entries())s.end||V.addFirstTiming(`render.${r}.${n}.timeout`)}}},t4e=3e4;let Y0;const ff=()=>{Y0&&clearTimeout(Y0),Y0=setTimeout(n4e,1e3)},n4e=()=>{if(yo)return;let e=0,t;for(const[n,r]of Ys.entries())if(df.has(n)){if(![...r.values()].every(s=>s.end)){if(performance.now()<t4e){ff();return}V.addFirstTiming("render.StablePage.timeout"),j6();return}for(const[s,a]of r.entries())a.end!==void 0&&a.end>e&&(e=a.end,t=s)}V.addFirstTiming("render.StablePage.complete",e),t!==void 0&&V.addAction("render.stablePage.lastComponent",{componentName:t}),$m>0&&V.addFirstDurationVital("render.StablePage.longTaskDuration",Date.now(),$m),Bm>0&&V.addFirstDurationVital("render.StablePage.layoutShifts",Date.now(),Bm),fd>0&&V.addFirstTiming("render.StablePage.lastLayoutShift",fd),Um?.disconnect(),j6(),window.dispatchEvent(new Event("allComponentsRendered"))},r4e=e=>{df.add(e)},md={markStart:X5e,markRendered:J5e,cancelRender:e4e,trackNamespace:r4e,NS_DEFAULT:lc,NS_COMPOSER:Q5e,NS_SIDEBAR:K5e};function cE(e){const{isUnauthenticated:n}=at(),r=!n,{value:s}=qe("2637918557");return r&&!e&&!0&&s}const $je=()=>{const{isUnauthenticated:e}=at(),t=Hv(),n=xs(),r=se(a=>a.activeStageSidebar),s=n&&!e&&!r;return s&&t.getExperiment("1809520125").get("enable_closed_by_default",!1)},s4e=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none",viewBox:"0 0 14 14",...e},u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.319 1.334a.667.667 0 0 1-.512.792 5.43 5.43 0 0 0-2.602 1.362.667.667 0 0 1-.918-.967 6.76 6.76 0 0 1 3.24-1.7.667.667 0 0 1 .792.513m1.363 0a.667.667 0 0 1 .791-.512 6.76 6.76 0 0 1 3.24 1.699.667.667 0 1 1-.918.967 5.43 5.43 0 0 0-2.601-1.362.667.667 0 0 1-.512-.792m1.342 3.27c.311.197.403.61.206.92l-2.54 4a.667.667 0 0 1-1.055.092l-1.46-1.6a.667.667 0 1 1 .984-.899l.873.956L8.104 4.81a.667.667 0 0 1 .92-.205m3.466.01a.667.667 0 0 1 .847.414A6 6 0 0 1 13.667 7a6 6 0 0 1-.33 1.972.667.667 0 1 1-1.26-.434 4.7 4.7 0 0 0 0-3.076.667.667 0 0 1 .413-.848m-10.98 0c.349.12.534.5.414.848a4.7 4.7 0 0 0 0 3.076.667.667 0 0 1-1.26.434 6.04 6.04 0 0 1 0-3.944.666.666 0 0 1 .847-.413m10.228 5.923a.667.667 0 0 1-.024.942 6.76 6.76 0 0 1-3.24 1.7.667.667 0 0 1-.28-1.305 5.43 5.43 0 0 0 2.601-1.362.667.667 0 0 1 .943.025m-9.469-.183c.357.093.57.456.479.813q-.051.198-.11.393.629-.098 1.228-.267a.67.67 0 0 1 .496.053c.445.238.93.418 1.445.528a.667.667 0 0 1-.28 1.304 7 7 0 0 1-1.553-.533c-.73.189-1.479.305-2.266.354a.667.667 0 0 1-.664-.905c.163-.424.305-.842.413-1.26a.667.667 0 0 1 .812-.48",clipRule:"evenodd"})),cc=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none",viewBox:"0 0 14 14",...e},u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.319 1.334a.667.667 0 0 1-.512.792 5.43 5.43 0 0 0-2.602 1.362.667.667 0 1 1-.918-.967A6.76 6.76 0 0 1 5.527.822a.667.667 0 0 1 .792.512m1.363 0a.667.667 0 0 1 .791-.512 6.76 6.76 0 0 1 3.24 1.699.667.667 0 1 1-.917.967 5.43 5.43 0 0 0-2.602-1.362.667.667 0 0 1-.512-.792M1.51 4.614c.348.12.533.5.413.848a4.7 4.7 0 0 0 0 3.076.667.667 0 0 1-1.26.435 6.04 6.04 0 0 1 0-3.945.666.666 0 0 1 .847-.413m10.979 0a.667.667 0 0 1 .847.414A6 6 0 0 1 13.667 7a6 6 0 0 1-.33 1.973.667.667 0 1 1-1.26-.435 4.7 4.7 0 0 0 0-3.076.667.667 0 0 1 .413-.847M2.27 10.352a.667.667 0 0 1 .479.812q-.052.2-.111.397.629-.097 1.228-.267a.67.67 0 0 1 .496.054c.445.238.93.417 1.445.528a.667.667 0 1 1-.28 1.303 7 7 0 0 1-1.553-.533c-.73.189-1.479.305-2.266.354a.667.667 0 0 1-.664-.905c.164-.425.305-.844.414-1.264a.667.667 0 0 1 .812-.48m9.468.186a.666.666 0 0 1-.024.942 6.76 6.76 0 0 1-3.24 1.7.667.667 0 0 1-.28-1.304 5.43 5.43 0 0 0 2.601-1.362.667.667 0 0 1 .943.024",clipRule:"evenodd"})),rs="temporary-chat";function Bje({clientThreadId:e,layout:t}){const n=Je(e,Z.getIsNewConversation),r=Cn(),s=Te(),[,a]=bn(),i=()=>{E.logEvent(_.temporaryChatMovedButtonClicked),!n&&!r?s({pathname:"/",search:new URLSearchParams({[rs]:"true"}).toString()}):a(d=>(d.get(rs)==="true"?d.delete(rs):d.set(rs,"true"),d),{replace:n,state:Rl()})},c=L().formatMessage({id:"CTxEhx",defaultMessage:"Temporary"});return o.jsx(et,{side:"bottom",sideOffset:0,label:o.jsx(C,{id:"BaBRo3",defaultMessage:"Toggle temporary chat"}),children:o.jsx(G,{className:N(t==="wide"&&"btn btn-secondary relative text-token-text-primary",t==="compact"&&"rounded-lg text-token-text-secondary"),color:t==="compact"?"ghost":"secondary",size:t==="compact"?"xl":void 0,icon:r?s4e:cc,onClick:i,label:c,children:t==="wide"?c:null})})}const Uje=de(e=>({targetedContent:void 0,setTargetedContent:t=>{e({targetedContent:t})}})),a4e=(...e)=>t=>{e.forEach(n=>{if(typeof n=="function")n(t);else if(n){const r=n;r.current=t}})};var o4e=(e=>(e.Turn="turn",e.ImagesTab="images_tab",e))(o4e||{}),i4e=(e=>(e[e.FromLeft=-1]="FromLeft",e[e.FromRight=1]="FromRight",e))(i4e||{});class Hm extends $d()(()=>({currentImage:void 0})){setCurrentImage(t){this.setState({currentImage:t})}static useCurrentImage(){return this.useState(t=>t.currentImage)}}function Hje({clientThreadId:e,children:t}){const[n]=u.useState(new Hm);return u.useEffect(()=>{n.setCurrentImage(void 0)},[e,n]),o.jsx(Hm.Provider,{store:n,children:t})}const Vje=60*60*24*30;function l4e(e){return e.author.metadata?.real_author===zP.ToolWeb}function Gje(e,t){returnwindow.location.origin+`/search/evals/permalink/${e}/${t}`}function Wje(e){return Cl(e.flatMap(t=>t.type==="image_v2"?t.images:[]))}function c4e(e){const t={};return e.forEach(n=>{n.type==="grouped_webpages"?n.items.forEach(r=>{if(!r.url)return;const s=t[r.url];s?"attribution_segments"in r&&"attribution_segments"in s&&(t[r.url]={...s,attribution_segments:[...s.attribution_segments??[],...r.attribution_segments??[]]}):t[r.url]={...r}}):"cite_map"in n&&Object.values(n.cite_map).forEach(r=>{r&&r.url&&(t[r.url]||(t[r.url]=r))})}),Object.values(t)}var u4e=(e=>(e.SonicHome="sonic.web.home",e.SonicServer="sonic.ssr.search",e.SonicBusinessesMap="sonic.web.businessesMap",e.CompletionRequest="chatgpt.web.completionRequest",e.ProofOfWork="chatgpt.web.proofOfWork",e.GetDiffedDoc="chatgpt.web.canvas.getDiffedDoc",e.GetPositionTransformer="chatgpt.web.canvas.getPositionTransformer",e.ProductsCompletionRequest="chatgpt.web.products.completionRequest",e.ProductReviews="chatgpt.web.products.reviews",e))(u4e||{});class d4e{namespace;expectedTimingLogs;expectedTimingLogTimeouts={};startMs=-1;lastLogMs=-1;loggedTimings=new Set;timingBlocks={};_debug=!1;constructor(t,n){this.namespace=t,this.expectedTimingLogs=n?.expectedTimingLogs??[],this._debug=n?.debug??!1,this.reset()}reset(t){this.startMs=this.lastLogMs=t??performance.now(),this.timingBlocks={},this.loggedTimings=new Set;for(const n of Object.values(this.expectedTimingLogTimeouts))clearTimeout(n);this.expectedTimingLogTimeouts={};for(const n of this.expectedTimingLogs){const r=setTimeout(()=>{V.addAction(`${this.namespace}.${n.name}.timed_out`,n.initializationInfo??{})},n.expectedInMs);this.expectedTimingLogTimeouts[n.name]=r,this.isDebug()&&console.debug(`[DatadogProfiler] Expecting ${this.namespace}.${n.name} to be logged within ${n.expectedInMs}ms`)}}isDebug(){return window.__DATADOG_PROFILER_DEBUG__??this._debug}logTiming(t,n={fromLastLog:!1}){if(this.loggedTimings.has(t)){console.warn(`[DatadogProfiler] Timing ${this.namespace}.${t} already logged`);return}const r=n.overrideDurationMs??performance.now()-(n.fromLastLog?this.lastLogMs:this.startMs);V.addAction(`${this.namespace}.${t}`,{durationMs:r,...n.context}),this.lastLogMs=performance.now(),this.loggedTimings.add(t),t in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[t]),delete this.expectedTimingLogTimeouts[t]),this.isDebug()&&console.debug(`[DatadogProfiler] ${this.namespace}.${t}: ${r}ms`)}startBlock(t){this.timingBlocks[t]=performance.now()}endBlock(t,n={throwError:!0}){const r=this.timingBlocks[t];if(r===void 0&&n.throwError)throw new Error(`Block "${t}" not started`);const s=performance.now()-r;V.addAction(`${this.namespace}.${t}`,{durationMs:s}),delete this.timingBlocks[t]}}const pd={};function f4e({namespace:e,opts:t}){return pd[e]!==void 0&&V.addError(`Profiler already exists for namespace ${e}`),pd[e]=new d4e(e,t)}function m4e({namespace:e,opts:t}){let n=pd[e];return n===void 0&&(n=pd[e]=f4e({namespace:e,opts:t})),n}function zje({namespace:e,opts:t}){const[n]=u.useState(()=>m4e({namespace:e,opts:t}));return n}function uE(e,t="short"){try{const n=new URL(e).hostname.replace("www.","");return t==="hostname"?n:n.replace(/\.[^.]*$/,"")}catch{return e}}const p4e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 12.2652 20.8946 12.5196 20.7071 12.7071L13.7071 19.7071C13.3166 20.0976 12.6834 20.0976 12.2929 19.7071C11.9024 19.3166 11.9024 18.6834 12.2929 18.2929L17.5858 13H4C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11L17.5858 11L12.2929 5.70711C11.9024 5.31658 11.9024 4.68342 12.2929 4.29289C12.6834 3.90237 13.3166 3.90237 13.7071 4.29289L20.7071 11.2929C20.8946 11.4804 21 11.7348 21 12Z",fill:"currentColor"}));class Vm{static async admin_list_knowledge_connectors(t){return await j.safeGet("/ca/v2/admin/list_knowledge_connectors",{parameters:{query:{account_id:t}}})}static async admin_list_connection_instances(t){return await j.safeGet("/ca/v2/admin/list_connection_instances",{parameters:{query:{account_id:t}}})}static async admin_get_connection_instance(t,n){return await j.safeGet("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_create_connection_instance(t,n,r){return r===""&&(r=null),await j.safePost("/ca/v2/admin/create_connection_instance",{requestBody:{connection_config:n,connection_name:r??null},parameters:{query:{account_id:t}}})}static async admin_edit_name_connection_instance(t,n,r){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_name",{requestBody:r,parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_activate_connection_instance(t,n){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/activate",{requestBody:{},parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_delete_connection_instance(t,n){return await j.safeDelete("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_allow_user(t,n,r){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/allow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_disallow_user(t,n,r){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/disallow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_get_access_policy(t,n){return await j.safeGet("/ca/v2/admin/connection_instance/{connection_id}/get_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_update_access_policy(t,n,r){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{allow_all_in_workspace:r}})}static async admin_connection_update_credential(t,n,{admin_email:r,credential_id:s,new_service_credential_content:a}){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_credential",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{admin_email:r,credential_id:s,new_service_credential_content:a}})}static async admin_connection_list_item_scopes(t,n,r,s=null){return await j.safeGet("/ca/v2/admin/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:n},query:{page_token:s,account_id:t,object_type:r}}})}static async admin_connection_update_item_default_scope(t,n,r,s){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_item_default_scope",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,default_selection:s}})}static async admin_connection_block_items(t,n,r,s){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:s}})}static async admin_connection_unblock_items(t,n,r,s){return await j.safePost("/ca/v2/admin/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:s}})}static async user_connection_status(){return await j.safeGet("/ca/v2/user/connection_status",{})}static async user_request_connect(t,n){return await j.safeGet("/ca/v2/user/request_connect",{parameters:{query:{connection_id:t,after_flow_redirect_to:n}}})}static async user_connection_oauth_callback(t,n,r){return await j.safePost("/ca/v2/user/connect_and_activate",{requestBody:{plugin_id:t,code:n,state:r}})}static async user_disconnect(t){return await j.safePost("/ca/v2/user/disconnect",{requestBody:{connection_id:t}})}}const dE=({skip:e=!1}={})=>{const t=uf(),{data:n,isLoading:r,refetch:s}=ee({queryKey:["user_connection_status"],queryFn:Vm.user_connection_status,enabled:!e&&t,refetchInterval:a=>{const i=a.state.status==="success"&&a.state.data&&!a.state.data.connection_statuses.some(c=>c.user_connection_details.activation_status==="activating"||c.user_connection_details.activation_status==="partially_activated");return a.state.status==="success"&&a.state.data&&a.state.data.connection_statuses.some(c=>(c.user_connection_details.auth_status==="user_connected"||c.user_connection_details.auth_status==="admin_connected")&&!(c.user_connection_details.activation_status==="activating"||c.user_connection_details.activation_status==="partially_activated"||c.user_connection_details.activation_status==="activated"))?2*1e3:i?!1:30*1e3}});return{connectionInstanceData:n,isLoading:r,refetch:s}};function qje(){const e=xe(),t=u.useCallback(function(r){const s=r.data.conversation_id;if(!s)return;const a=_e(s)?.title??void 0,i=Z.getGizmoId(_e(s));Bu({title:a,subtitle:r.title,clientThreadId:s}),da(e,i),u1(s,!0)},[e]),n=u.useCallback(function(r){const s=r.data.conversation_id;if(!s)return;const a=_e(s)?.title??void 0;Bu({title:a,subtitle:r.body,clientThreadId:s})},[]);return u.useEffect(()=>{const r={"new-message":t,"automation-error":n},s=a=>{if(a.data.type in r){const i=a.data.type;r[i](a.data)}};return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",s),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",s)}},[t,n,e]),null}function S5(e){return e?.startsWith("referrals")??!1}function Zje(){const{hash:e}=vs(),t=S5(e.slice(1)),[n]=bn(),r=n.get("program");return{isOpen:t,program:r}}function Yje(){const{hash:e}=vs(),t=S5(e.slice(1)),[n]=bn(),r=n.get("code"),s=n.get("fromSignup");return{isOpen:t,referralCode:r,fromSignup:s!==null}}function g4e(){const{hash:e}=vs();return S5(e.slice(1))}var M5=(e=>(e.Personal="chat",e.Workspace="workspace",e.Team="team",e))(M5||{});function Qo(){return Dn()?.includes(hs.Sunshine)??!1}function mf(){const{data:e}=h1(Gn.Sunshine),t=Qo();return!!e&&t}function pf(){return Dn()?.includes(hs.Moonshine)??!1}function Kje(){const e=pf(),{data:t}=h1(Gn.Moonshine);return e&&!!t}function h4e(){return Dn()?.includes(hs.MemoryInSearch)??!1}function Qje(){const e=mf(),{data:t}=h1(Gn.MemoryInSearch),n=h4e();return e&&!!t&&n}function Xje(){const e=st("645560164").value??!1;return mf()&&e}function v4e(){return st("1611573287").value??!1}function x4e(){const e=mf(),t=v4e();return e&&t}const C4e="skip_instant_query",y4e="https://persistent.oaistatic.com/moonshine/moonshine_nux_light.jpeg",b4e="https://persistent.oaistatic.com/moonshine/moonshine_nux_light.jpeg",w4e="https://help.openai.com/en/articles/10303002-how-does-memory-use-past-conversations",S4e="Describe me based on our past chats.";function Jje(){const[e,t]=u.useState("loading"),n=pf(),{eligible:r,isLoading:s}=le(me.hasSeenMoonshineNuxV2);return u.useEffect(()=>{e==="loading"&&!s&&t(!n||!r?"hide":"show")},[e,s,n,r]),e}function eIe({onClose:e}){const{markAsViewed:t}=le(me.hasSeenMoonshineNuxV2),r=qd()?b4e:y4e,[s,a]=u.useState(!1);u.useEffect(()=>{s||(t(),a(!0),E.logEventWithStatsig(_.chatgptMoonshineNuxV2ModalShown,"chatgpt_moonshine_nux_v2_modal_shown"))},[t,s]);const[i,l]=u.useState(!1);u.useEffect(()=>{const T=new Image;T.src=r,T.onload=()=>l(!0)},[r]);const[c,d]=u.useState(!1),[f,m]=u.useState(!1);u.useEffect(()=>{if(!i)return;const T=setTimeout(()=>{d(!0)},200),k=setTimeout(()=>{m(!0)},300);return()=>{clearTimeout(T),clearTimeout(k)}},[i]);const p=()=>{window.open(w4e,"_blank","noopener noreferrer"),E.logEventWithStatsig(_.chatgptMoonshineNuxV2ModalLearnMoreClicked,"chatgpt_moonshine_nux_v2_modal_learn_more_clicked")},g=Te(),[v,h]=u.useState(!1),x=oa("3934129380"),y=x.config.get("prompt",S4e),b=x.config.get("model","gpt-4o"),S=()=>{v||(h(!0),e(),g({pathname:"/",search:`?q=${y}&model=${b}&skip_instant_query=1`}),E.logEventWithStatsig(_.chatgptMoonshineNuxV2ModalShowMeClicked,"chatgpt_moonshine_nux_v2_modal_show_me_clicked"))};return i?o.jsxs(he,{isOpen:!0,noPadding:!0,onClose:()=>{e(),E.logEventWithStatsig(_.chatgptMoonshineNuxV2ModalClosed,"chatgpt_moonshine_nux_v2_modal_closed")},showCloseButton:!1,size:"custom",type:"success",className:"relative flex max-w-[480px] flex-col",children:[o.jsx("div",{className:"absolute right-4 top-4 z-50",children:o.jsx(Lr,{className:"text-token-text-secondary !outline-0 !ring-0 hover:bg-transparent focus:!outline-0 focus:!ring-0 focus:!ring-offset-0 dark:hover:bg-transparent",onClick:e})}),o.jsxs("div",{className:"relative w-full flex-1",children:[o.jsx("img",{src:r,className:"h-[213px] w-full object-cover object-bottom",alt:""}),o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"mx-auto flex max-w-full flex-col items-end gap-2 px-8",children:[o.jsx("div",{className:`relative flex w-auto rounded-3xl bg-white/80 px-5 py-2.5 backdrop-blur-[24px] transition-all duration-300 ease-in-out dark:bg-[rgba(48,48,48,0.8)] ${c?"translate-y-0 opacity-100":"translate-y-2 opacity-0"}`,children:o.jsx(C,{id:"MoonshineNuxV2Modal.firstBubble",defaultMessage:"Hey ChatGPT!"})}),o.jsx("div",{className:`relative flex w-auto rounded-3xl bg-white/80 px-5 py-2.5 backdrop-blur-[24px] transition-all duration-300 ease-in-out dark:bg-[rgba(48,48,48,0.8)] ${f?"translate-y-0 opacity-100":"translate-y-2 opacity-0"}`,children:o.jsx(C,{id:"MoonshineNuxV2Modal.secondBubble",defaultMessage:"Describe me based on our chats"})})]})})]}),o.jsxs("div",{className:"flex flex-1 flex-col gap-2 px-8 pb-8 pt-8",children:[o.jsx("div",{className:"text-xl font-medium",children:o.jsx(C,{id:"MoonshineNuxV2Modal.title",defaultMessage:"Introducing new, improved memory"})}),o.jsx("div",{className:"w-full text-token-text-secondary",children:o.jsx(C,{id:"MoonshineNuxV2Modal.subtitle",defaultMessage:"ChatGPT now remembers more of your past chats, so you won't need to repeat yourself as often. Want it to forget something? Just ask."})}),o.jsxs("div",{className:"mt-4 flex w-full items-center justify-between",children:[o.jsx(G,{className:"border-none px-0 py-0 outline-none hover:bg-transparent",color:"secondary",onClick:p,children:o.jsx(C,{id:"MoonshineNuxV2Modal.learnMoreButton",defaultMessage:"Learn more"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(G,{color:"secondary",onClick:e,children:o.jsx(C,{id:"MoonshineNuxV2Modal.notNowButton",defaultMessage:"Not now"})}),o.jsx(G,{color:"primary",onClick:S,children:o.jsx(C,{id:"MoonshineNuxV2Modal.showMeButton",defaultMessage:"Show me"})})]})]})]})]}):null}const M4e=({dismissLink:e,onLogInButtonClick:t,onSignUpButtonClick:n,subtitle:r,title:s})=>{const i=No()?"center":"bottom",l=w5(),{layer:c}=ot("2118136551"),d=c.get("sign_up_button_has_the_word_free",!0),f=ic(d?Ei.signUpForFreeCta:I6.signUpCta),m=o.jsx(G,{as:"button",size:"large",color:l?"secondary":"primary",onClick:n,fullWidth:!0,children:o.jsx(C,{...f})}),p=o.jsx(G,{as:"button",size:"large",color:l?"primary":"secondary",fullWidth:!0,onClick:t,children:o.jsx(C,{...I6.logInCta})}),g=l?[p,m]:[m,p];return o.jsx(he,{isOpen:!0,onClose:Ee,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:i,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:px-10 sm:pb-10 sm:pt-12",children:[o.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:o.jsx(C,{...s})}),o.jsx("p",{className:"mb-6 text-center text-token-text-secondary",children:o.jsx(C,{...r})}),o.jsx("div",{className:"flex w-full flex-col gap-2 sm:gap-2.5",children:g}),e?o.jsx("a",{href:"#",className:"mt-5 cursor-pointer text-sm font-semibold text-token-text-secondary underline",onClick:v=>{v.preventDefault(),e.onClick()},children:o.jsx(C,{...e.text})}):null]})})},I6=U({signUpCta:{id:"NoAuthModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthModal.logInCta",defaultMessage:"Log in"}});function gf(){return lt.getBooleanCookie(ct.HasLoggedInBefore)??!1}function _4e(){const{value:e}=qe("2173548801"),{layer:t}=Rp("3637408529");return e?t.get("is_anon_chat_enabled",!1):!1}const E4e=10,k4e=({type:e="default"}={})=>{const{layer:t}=ot("3637408529"),n=t.get("no_auth_soft_rate_limit",E4e),[r,s]=u.useState(()=>sessionStorage.getItem(we.NoAuthHasDismissedSoftRateLimitModal)!=null),{isUnauthenticated:a,isLoading:i}=at(),l=gf(),c=fg(H$),d=u.useRef(c),f=c>=n,[m,p]=u.useState(!1);u.useEffect(()=>{d.current<c&&(d.current=c,c===n&&p(!0))},[c,n]);const g=a&&f&&(e==="default"||m)&&!r&&!l&&!i,v=u.useCallback(()=>{g&&(E.logEvent(_.noAuthSoftRateLimitModalShown),$.logEvent("chatgpt_no_auth_soft_rate_limit_modal_shown"))},[g]),h=()=>{s(!0),sessionStorage.setItem(we.NoAuthHasDismissedSoftRateLimitModal,"true")};return i?{isLoading:!0,isOpen:null,onClose:null,onMount:null}:{isLoading:!1,isOpen:g,onClose:h,onMount:v}},tIe=({onClose:e})=>{const t=Fn(),n=w5(),{isOpen:r,onClose:s,onMount:a}=k4e();return u.useEffect(()=>{a?.()},[a]),r?o.jsx(M4e,{dismissLink:{text:Vc.stayLoggedOutLink,onClick:()=>{E.logEvent(_.noAuthSoftRateLimitModalStayLoggedOutLinkClicked),$.logEvent("chatgpt_no_auth_soft_rate_limit_modal_stay_logged_out_link_clicked"),e(),s()}},onLogInButtonClick:()=>{t({authType:"login",callback:i=>{E.logLogInButtonClicked({provider:i,location:"No Auth Soft Rate Limit Modal"})}})},onSignUpButtonClick:()=>{t({authType:"signup",callback:i=>{E.logSignUpButtonClicked({provider:i,location:"No Auth Soft Rate Limit Modal"})}})},subtitle:n?Vc.logInSubtitle:Vc.signUpSubtitle,title:Vc.title}):null},Vc=U({title:{id:"NoAuthSoftRateLimitModal.title",defaultMessage:"Thanks for trying ChatGPT"},signUpSubtitle:{id:"zpngdW",defaultMessage:"Sign up or log in to get smarter responses, upload files and images, and more."},logInSubtitle:{id:"iVew+I",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),R6="has-dismissed-welcome-back-modal",T4e=()=>{const[e,t]=u.useState(()=>sessionStorage.getItem(R6)!=null),{layer:n}=ot("3637408529"),r=n.get("is_no_auth_welcome_back_modal_enabled",!1),s=g4e(),{isUnauthenticated:a,isLoading:i}=at(),l=gf(),c=()=>{t(!0),sessionStorage.setItem(R6,"true")};return i?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:a&&r&&!e&&l&&!s,onClose:c}},nIe=({onClose:e})=>{const t=Fn(),n=No(),r=ic(gi.signUpCta),s=n?"center":"bottom",{isOpen:a,onClose:i}=T4e();return u.useEffect(()=>{a&&(E.logEvent(_.noAuthWelcomeBackModalShown),$.logEvent("chatgpt_no_auth_welcome_back_modal_shown"))},[a]),a?o.jsx(he,{isOpen:!0,onClose:Ee,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:s,children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[o.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:o.jsx(C,{...gi.title})}),o.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:o.jsx(C,{...gi.subtitle})}),o.jsx(G,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"welcome-login-button",onClick:()=>{t({authType:"login",callback:l=>{E.logLogInButtonClicked({provider:l,location:"No Auth Welcome Back Modal"})}})},children:o.jsx(C,{...gi.logInCta})}),o.jsx(G,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{t({authType:"signup",callback:l=>{E.logSignUpButtonClicked({provider:l,location:"No Auth Welcome Back Modal"})}})},children:o.jsx(C,{...r})}),o.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:l=>{l.preventDefault(),E.logEvent(_.noAuthWelcomeBackModalStayLoggedOutLinkClicked),$.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),e(),i()},"data-testid":"dismiss-welcome",children:o.jsx(C,{...gi.stayLoggedOutLink})})]})}):null},gi=U({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"7WQi5y",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),A4e="webp",P4e=1024,N4e=576,j4e="srgb",I4e=3,R4e="uchar",L4e=72,O4e="4:2:0",D4e=!0,F4e=!1,$4e=!1,B4e="{{.assetPrefix}}/assets/modal-splash-cg7ytnou.webp",eo={format:A4e,width:P4e,height:N4e,space:j4e,channels:I4e,depth:R4e,density:L4e,chromaSubsampling:O4e,isProgressive:D4e,hasProfile:F4e,hasAlpha:$4e,src:B4e},rIe=()=>{const{isLoading:e,eligible:t}=le(me.hasSeenO3MiniNux);return e?"loading":t?"show":"hide"},sIe=({onClose:e})=>{const t=L(),n=Te(),{markAsViewed:r}=le(me.hasSeenO3MiniNux);u.useEffect(()=>{E.logEventWithStatsig(_.o3MiniNuxModalShown,"chatgpt_o3_mini_nux_modal_shown")},[]);const s=()=>{E.logEventWithStatsig(_.o3MiniNuxModalConfirmationButtonClicked,"chatgpt_o3_mini_nux_modal_confirmation_button_clicked"),r(),e()};return o.jsxs(he,{isOpen:!0,noPadding:!0,onClose:Ee,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:[o.jsx("img",{src:typeof eo=="string"?eo:eo.src,alt:t.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"h-[200px] w-full object-cover object-bottom"}),o.jsxs("div",{className:"flex flex-col gap-2 px-8 pb-10 pt-8 text-center",children:[o.jsx("div",{className:"text-xl",children:o.jsx(C,{id:"jRCp+q",defaultMessage:"Meet the o3-mini family"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(C,{id:"NflkPN",defaultMessage:"Introducing o3-mini and o3-mini-high  two new reasoning models that excel at coding, science, and anything else that takes a little more thinking."})}),o.jsxs("div",{className:"mt-5 flex justify-center gap-3",children:[o.jsx(G,{color:"secondary",onClick:s,children:o.jsx(C,{id:"cWyMNB",defaultMessage:"Maybe later"})}),o.jsx(G,{color:"primary",onClick:()=>{s(),n("/?model=o3-mini")},children:o.jsx(C,{id:"rITtsj",defaultMessage:"Try it now"})})]})]})]})};function U4e(){const e=u.useRef(H4e()),t=Fn(),n=u.useCallback(()=>{e.current?E.logEventWithStatsig(_.noAuthPunchOutSignInAsModalShown,"chatgpt_no_auth_punch_out_sign_in_as_modal_shown"):console.warn("PunchOutSignInAsModal is being mounted without punchOutRequireLoginInfo")},[]);return{onCancelButtonClick:()=>{E.logEventWithStatsig(_.noAuthPunchOutSignInAsModalCancelButtonClicked,"chatgpt_no_auth_punch_out_sign_in_as_modal_cancel_button_clicked"),Gm()},onContinueButtonClick:({token:a})=>{E.logEventWithStatsig(_.noAuthPunchOutSignInAsModalContinueButtonClicked,"chatgpt_no_auth_punch_out_sign_in_as_modal_continue_button_clicked"),Gm(),t({authType:"login",callback:i=>{E.logLogInButtonClicked({location:"No Auth Punch Out Sign In As Modal",provider:i})},callbackUrl:`/continue_from_api?token=${a}`})},onMount:n,punchOutRequireLoginInfo:e.current}}function H4e(){if(typeof window>"u")return null;const e=lt.getCookie(ct.PunchOutRequireLoginInfo);if(!e)return null;try{const t=JSON.parse(e);return qP(t,ZP),t}catch(t){Gm(),t instanceof YP?console.warn("Invalid struct for punch out require login info",t):V.addError("Failed to parse punch out require login info",{error:t})}return null}function Gm(){lt.deleteCookie(ct.PunchOutRequireLoginInfo)}const aIe=({onClose:e})=>{const{onCancelButtonClick:t,onContinueButtonClick:n,onMount:r,punchOutRequireLoginInfo:s}=U4e(),i=xs()?"medium":"large";if(u.useEffect(r,[r]),!s)return null;const{email:l}=s;return o.jsx(he,{isOpen:!0,noPadding:!0,onClose:Ee,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:o.jsxs("div",{className:"flex flex-col p-6",children:[o.jsx("div",{className:"mb-6 text-center text-xl font-medium md:text-left",children:o.jsx(C,{id:"0e8g2r",defaultMessage:"Sign in as {email}?",values:{email:l}})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[o.jsx(G,{color:"primary",size:i,onClick:()=>n(s),children:o.jsx(C,{...In.continueButtonText})}),o.jsx(G,{color:"secondary",size:i,onClick:()=>{t(),e()},children:o.jsx(C,{...In.cancelButtonText})})]})]})})},_5=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.52242 6.53608C9.7871 4.41979 12.1019 3 14.75 3C18.7541 3 22 6.24594 22 10.25C22 11.9007 21.4474 13.4239 20.5183 14.6425L21.348 15.97C21.5407 16.2783 21.5509 16.6668 21.3746 16.9848C21.1984 17.3027 20.8635 17.5 20.5 17.5H15.4559C14.1865 19.5963 11.883 21 9.25 21C9.18896 21 9.12807 20.9992 9.06735 20.9977C9.04504 20.9992 9.02258 21 9 21H3.5C3.13647 21 2.80158 20.8027 2.62536 20.4848C2.44913 20.1668 2.45933 19.7783 2.652 19.47L3.48171 18.1425C2.55263 16.9239 2 15.4007 2 13.75C2 9.99151 4.85982 6.90116 8.52242 6.53608ZM10.8938 6.68714C14.106 7.43177 16.5 10.3113 16.5 13.75C16.5 14.3527 16.4262 14.939 16.2871 15.5H18.6958L18.435 15.0828C18.1933 14.6961 18.2439 14.1949 18.5579 13.8643C19.4525 12.922 20 11.651 20 10.25C20 7.3505 17.6495 5 14.75 5C13.2265 5 11.8535 5.64888 10.8938 6.68714ZM8.89548 19C8.94178 18.9953 8.98875 18.9938 9.03611 18.9957C9.107 18.9986 9.17831 19 9.25 19C11.3195 19 13.1112 17.8027 13.9668 16.0586C14.3079 15.363 14.5 14.5804 14.5 13.75C14.5 10.8505 12.1495 8.5 9.25 8.5C9.21772 8.5 9.18553 8.50029 9.15341 8.50087C6.2987 8.55218 4 10.8828 4 13.75C4 15.151 4.54746 16.422 5.44215 17.3643C5.75613 17.6949 5.80666 18.1961 5.56498 18.5828L5.30425 19H8.89548Z",fill:"currentColor"})),fE=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M12 0C12.5523 0 13 0.447715 13 1V2C13 2.55228 12.5523 3 12 3C11.4477 3 11 2.55228 11 2V1C11 0.447715 11.4477 0 12 0Z",fill:"currentColor"}),u.createElement("path",{d:"M3.29289 3.29289C3.68342 2.90237 4.31658 2.90237 4.70711 3.29289L5.70711 4.29289C6.09763 4.68342 6.09763 5.31658 5.70711 5.70711C5.31658 6.09763 4.68342 6.09763 4.29289 5.70711L3.29289 4.70711C2.90237 4.31658 2.90237 3.68342 3.29289 3.29289Z",fill:"currentColor"}),u.createElement("path",{d:"M20.7071 3.29289C21.0976 3.68342 21.0976 4.31658 20.7071 4.70711L19.7071 5.70711C19.3166 6.09763 18.6834 6.09763 18.2929 5.70711C17.9024 5.31658 17.9024 4.68342 18.2929 4.29289L19.2929 3.29289C19.6834 2.90237 20.3166 2.90237 20.7071 3.29289Z",fill:"currentColor"}),u.createElement("path",{d:"M0 12C0 11.4477 0.447715 11 1 11H2C2.55228 11 3 11.4477 3 12C3 12.5523 2.55228 13 2 13H1C0.447715 13 0 12.5523 0 12Z",fill:"currentColor"}),u.createElement("path",{d:"M21 12C21 11.4477 21.4477 11 22 11H23C23.5523 11 24 11.4477 24 12C24 12.5523 23.5523 13 23 13H22C21.4477 13 21 12.5523 21 12Z",fill:"currentColor"}),u.createElement("path",{d:"M5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12C19 14.38 17.8118 16.4814 16 17.7452V19C16 21.2091 14.2091 23 12 23C9.79086 23 8 21.2091 8 19V17.7452C6.18818 16.4814 5 14.38 5 12ZM12 7C9.23858 7 7 9.23858 7 12C7 13.8494 8.00361 15.4657 9.50073 16.3317C9.80972 16.5104 10 16.8403 10 17.1973V18H14V17.1973C14 16.8403 14.1903 16.5104 14.4993 16.3317C15.9964 15.4657 17 13.8494 17 12C17 9.23858 14.7614 7 12 7ZM13.7324 20H10.2676C10.6134 20.5978 11.2597 21 12 21C12.7403 21 13.3866 20.5978 13.7324 20Z",fill:"currentColor"})),mE=me.MemoryOnboarding;function oIe(){const e=Qo(),{eligible:t,isLoading:n}=le(mE);return{eligible:t&&e,isLoading:n}}function K0({icon:e,title:t,description:n}){return o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"mt-1",children:e}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-lg font-semibold",children:t}),o.jsx("p",{className:"mt-1 text-sm text-token-text-secondary",children:n})]})]})}function iIe({onClose:e}){const t=V4e(),n=KU(),r=L(),{markAsViewed:s}=le(mE),a=u.useCallback(()=>{s(),e()},[s,e]);return o.jsx(he,{isOpen:!0,onClose:Ee,size:"custom",className:"max-w-xl",type:"success",title:r.formatMessage(ar.title),secondaryButton:t?o.jsx(Ve.Button,{onClick:async()=>{try{await n.mutateAsync({setting:Gn.Sunshine,value:!1}),a()}catch{}},title:r.formatMessage(ar.notNow),color:"secondary"}):null,primaryButton:t?o.jsx(Ve.Button,{onClick:async()=>{try{await n.mutateAsync({setting:Gn.Sunshine,value:!0}),a()}catch{}},title:r.formatMessage(ar.enable),color:"primary"}):o.jsx(Ve.Button,{onClick:a,title:r.formatMessage(ar.continue),color:"primary"}),children:o.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[o.jsx(K0,{icon:o.jsx(_5,{}),title:r.formatMessage(ar.bulletTitle1),description:r.formatMessage(ar.bulletDescription1)}),o.jsx(K0,{icon:o.jsx(fE,{}),title:r.formatMessage(ar.bulletTitle2),description:o.jsx(C,{...ar.bulletDescription2,values:{learnMoreLink:i=>o.jsx("a",{href:"https://help.openai.com/en/articles/8590148-memory-faq",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:i})}})}),o.jsx(K0,{icon:o.jsx(KP,{}),title:r.formatMessage(ar.bulletTitle3),description:r.formatMessage(ar.bulletDescription3)})]})})}function V4e(){const{value:e}=qe("1542198993");return e}const ar=U({title:{id:"MemoryOnboardingModal.title.1",defaultMessage:"ChatGPT now has memory"},bulletTitle1:{id:"MemoryOnboardingModal.bulletTitle1",defaultMessage:"Keep the conversation going"},bulletDescription1:{id:"MemoryOnboardingModal.bulletDescription1.1",defaultMessage:"ChatGPT will automatically remember details and preferences you share in your conversations, carrying them between chats."},bulletTitle2:{id:"MemoryOnboardingModal.bulletTitle2.1",defaultMessage:"A smarter assistant"},bulletDescription2:{id:"MemoryOnboardingModal.bulletDescription2.2",defaultMessage:"Memories are used to give you more relevant responses and may be used to train our models if you have model training enabled. <learnMoreLink>Learn more</learnMoreLink>"},bulletTitle3:{id:"MemoryOnboardingModal.bulletTitle3",defaultMessage:"You're in control"},bulletDescription3:{id:"MemoryOnboardingModal.bulletDescription3.2",defaultMessage:"Review or clear specific memories, restart from scratch, or turn the feature on or off in settings."},continue:{id:"MemoryOnboardingModal.continue",defaultMessage:"Continue"},notNow:{id:"MemoryOnboardingModal.notNow",defaultMessage:"Not now"},enable:{id:"MemoryOnboardingModal.enable",defaultMessage:"Enable"}});var yu=(e=>(e.unsupported_app_version="unsupported_app_version",e))(yu||{});const G4e=()=>{const{value:e,isLoading:t}=st("2335877601");return _l?t?{isLoading:!0,isOpen:null,modalType:null,onClose:null}:e?{isLoading:!1,isOpen:!0,modalType:"unsupported_app_version",onClose:()=>{}}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}},lIe="chatgpt",cIe="chatgpt-alt",uIe="oauth_complete",W4e="ms-windows-store://pdp/?productid=9nt1r1c2hh7j",z4e="https://apps.microsoft.com/detail/9nt1r1c2hh7j",dIe=()=>{const e="center",{isOpen:t,modalType:n}=G4e(),r=N_(),s=QP();if(u.useEffect(()=>{t&&E.logEvent(_.sidetronBlockingModalShown,{modalType:n})},[t,n]),!t)return null;function a(){switch(E.logEvent(_.sidetronModalActionClicked,{modalType:n}),n){case yu.unsupported_app_version:window.open(s?W4e:z4e,"_blank");return;case null:k8.warn("No modal type provided for DesktopBlockingModal");return}}function i(){switch(n){case yu.unsupported_app_version:return Z4e;case null:return q4e}}function l(){switch(n){case yu.unsupported_app_version:return!1;case null:return!1}}return o.jsx(he,{isOpen:!0,onClose:Ee,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:e,children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[o.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:o.jsx(C,{...i().title})}),o.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:o.jsx(C,{...i().subtitle})}),o.jsx(G,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"desktop-blocking-modal-action-button",onClick:a,children:o.jsx(C,{...i().cta})}),l()&&o.jsxs("span",{children:[r,"  ",o.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:c=>{c.preventDefault(),E.logEvent(_.sidetronModalLogoutClicked,{modalType:n}),Lp()},"data-testid":"desktop-blocking-modal-logout",children:o.jsx(C,{...i().logout})})]})]})})},q4e=U({title:{id:"DesktopBlockingModal.paidTitle",defaultMessage:"Upgrade to use Windows app"},subtitle:{id:"DesktopBlockingModal.paidSubtitle",defaultMessage:"The Windows app is currently available for Plus, Team, Enterprise, and Edu plans."},cta:{id:"DesktopBlockingModal.paidUpgradeCta",defaultMessage:"See Plans"},logout:{id:"DesktopBlockingModal.paidLogout",defaultMessage:"Log out"}}),Z4e=U({title:{id:"DesktopBlockingModal.sunsettingTitle",defaultMessage:"Update required"},subtitle:{id:"DesktopBlockingModal.sunsettingSubtitle",defaultMessage:"A new version of ChatGPT Windows is available and must be installed to continue."},cta:{id:"DesktopBlockingModal.sunsettingCta",defaultMessage:"Get Download"},logout:{id:"DesktopBlockingModal.sunsettingLogout",defaultMessage:"Log out"}}),Y4e=({className:e})=>o.jsxs("div",{className:N("flex-column flex gap-[10px]",e),children:[o.jsx("div",{className:"relative flex h-[62px] w-[88px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-gradient-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:o.jsx("span",{className:"absolute bottom-[8px] right-[12px] text-[12px] font-semibold leading-[15px] tracking-[-0.197499px] text-token-text-secondary",children:o.jsx(C,{...L6.alt})})}),o.jsx("div",{className:"relative flex h-[62px] w-[232px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-gradient-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:o.jsx("span",{className:"absolute bottom-[8px] right-[12px] text-[12px] font-semibold leading-[15px] tracking-[-0.197499px] text-token-text-secondary",children:o.jsx(C,{...L6.space})})})]}),L6=U({alt:{id:"DesktopOnboardingKeyboardIllustration.altKeyboardKeyLabel",defaultMessage:"alt"},space:{id:"DesktopOnboardingKeyboardIllustration.spaceKeyboardKeyLabel",defaultMessage:"space"}}),K4e=me.hasSeenWindowsAppOnboarding,Q4e=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=le(K4e),r=u.useContext($r);return!_l||XP(r)?{isLoading:!1,isOpen:!1,onClose:null}:n?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:e,onClose:t}},fIe=({onClose:e})=>{const{isOpen:t,onClose:n}=Q4e();return t?($.logEvent("chatgpt_sidetron_onboarding_nux_shown"),o.jsx(he,{isOpen:!0,onClose:Ee,type:"success",noPadding:!0,position:"center",className:"max-w-[552px] p-14 sm:max-w-[552px]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[o.jsx(Lr,{className:"absolute right-4 top-4",onClick:()=>{e(),n()}}),o.jsx("p",{className:"mb-3 text-center text-2xl font-bold",children:o.jsx(C,{...Gc.title})}),o.jsx("p",{className:"text-center text-lg text-token-text-tertiary",children:o.jsx(C,{...Gc.subtitle})}),o.jsx(Y4e,{className:"my-8"}),o.jsx("p",{className:"mb-2 text-center text-lg font-semibold",children:o.jsx(C,{...Gc.keyboardShortcut})}),o.jsx("p",{className:"text-center text-lg text-token-text-tertiary",children:o.jsx(C,{...Gc.keyboardShortcutHint})})]})})):null},Gc=U({title:{id:"DesktopOnboardingModal.title",defaultMessage:"Quickly access ChatGPT"},subtitle:{id:"DesktopOnboardingModal.subtitle",defaultMessage:"Use a shortcut to ask questions, upload files, or take screenshots from anywhere on your computer."},keyboardShortcut:{id:"DesktopOnboardingModal.keyboardShortcut1",defaultMessage:"Press Alt+Space to open the companion window"},keyboardShortcutHint:{id:"DesktopOnboardingModal.keyboardShortcutHint",defaultMessage:"You can change this shortcut in Settings."}}),pE=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4045 2.98474C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99184 10L3.84326 9.89871C3.83308 9.89177 3.82303 9.88464 3.81312 9.87733C2.55918 8.9526 2.79737 7.01262 4.23778 6.4187L6.35774 5.5446L7.08184 3.36882C7.57383 1.8905 9.49247 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.5938 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47124 14.8357 9.52793 14.8451 9.58261C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79818 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86121 15.9282 3.97455 15.8177 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84121 12.8358 9.66998 12.829 9.50115C12.8194 9.26482 12.8255 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00092 8.26739L7.06339 9.67378C7.19189 9.7614 7.29353 9.87369 7.36631 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94772 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94772 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"}));function gE(){return o.jsx("hr",{className:"w-full border-token-border-xheavy"})}const O6=({value:e,isSelected:t,onSelect:n,workspacePlanType:r})=>o.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>n(e),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e==="transfer"?o.jsx(pE,{className:"icon-sm"}):o.jsx(Kl,{className:"icon-sm"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:e==="transfer"?o.jsx(C,{...Xe.initialModalTransferLabel}):o.jsx(C,{...Xe.initialModalExportLabel})}),o.jsx("div",{className:"text-sm text-token-text-secondary",children:e==="transfer"?r===mr.EDU?o.jsx(C,{...Xe.initialModalTransferEduDetail}):o.jsx(C,{...Xe.initialModalTransferEnterpriseDetail}):o.jsx(C,{...Xe.initialModalExportDetail})})]})]}),o.jsx("div",{className:N({"flex h-4 w-4 flex-shrink-0 rounded-full border align-middle":!0,"bg-black":t}),children:t&&o.jsx(wl,{className:"m-auto h-3 w-3 scale-x-75 stroke-[4] text-white"})})]}),X4e=({setCurrentStep:e,destinationWorkspaceName:t,destinationWorkspaceProfilePictureUrl:n,destinationWorkspacePlanType:r})=>{const[s,a]=u.useState(""),i=L(),l=async()=>{s==="transfer"?e(1):s==="export"&&e(2)},c=r===mr.EDU?i.formatMessage(Xe.initialModalEduTitle):i.formatMessage(Xe.initialModalEnterpriseTitle);return o.jsx(he,{isOpen:!0,onClose:Ee,type:"warning",title:c,primaryButton:o.jsx(Ln,{title:i.formatMessage(Xe.initialModalConfirm),onClick:l,color:"primary",className:"ml-4"}),children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[o.jsxs("div",{className:"flex w-full items-center gap-4",children:[o.jsx(V1,{src:n,size:"large"}),o.jsx("div",{className:"font-semibold",children:t})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h3",{className:"mb-2 text-base font-semibold",children:o.jsx(C,{...Xe.initialModalExplanation})}),o.jsx("div",{className:"mb-2 text-sm text-token-text-secondary",children:o.jsx(C,{...Xe.initialModalMustChoose})}),o.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[o.jsx("li",{className:"mb-2",children:o.jsx(C,{...Xe.initialModalDataDelete})}),o.jsx("li",{children:o.jsx(C,{...Xe.initialModalBilling})})]})]}),o.jsx(O6,{value:"transfer",isSelected:s==="transfer",onSelect:a,workspacePlanType:r}),o.jsx(gE,{}),o.jsx(O6,{value:"export",isSelected:s==="export",onSelect:a,workspacePlanType:r})]})})},D6=({currentStep:e,setCurrentStep:t,performAction:n})=>{const r=L();return o.jsx(he,{isOpen:!0,onClose:Ee,type:"success",title:r.formatMessage(Xe.selectedModalTitle),primaryButton:o.jsx(Ln,{title:e===1?r.formatMessage(Xe.transferModalConfirm):r.formatMessage(Xe.exportModalConfirm),color:e===2?"danger":"primary",onClick:n}),secondaryButton:o.jsx(Ln,{title:r.formatMessage(Xe.selectedModalBack),color:"secondary",onClick:async()=>{t(0)}}),children:o.jsxs("div",{className:"pb-4",children:[o.jsx("h3",{className:"mb-2 text-base font-semibold",children:e===1?o.jsx(C,{...Xe.transferModalConfirmTitle}):o.jsx(C,{...Xe.exportModalConfirmTitle})}),e===1?o.jsx("div",{className:"text-sm text-token-text-secondary",children:o.jsx(C,{...Xe.transferModalConfirmLabel})}):o.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[o.jsx("li",{className:"mb-1",children:o.jsx(C,{...Xe.exportModalChatHistoryLabel})}),o.jsx("li",{className:"mb-1",children:o.jsx(C,{...Xe.exportModalDeleteLabel})}),o.jsx("li",{className:"mb-1",children:o.jsx(C,{...Xe.exportModalChatDownloadLabel})})]}),o.jsx("h4",{className:"pt-5 font-semibold text-token-text-primary",children:e==1?o.jsx(C,{...Xe.transferModalProceed}):o.jsx(C,{...Xe.exportModalProceed})})]})})};function mIe(){const[e,t]=u.useState(0),n=T8();if(!n)return null;switch(e){case 0:return o.jsx(X4e,{setCurrentStep:t,destinationWorkspaceName:n.destinationWorkspaceName,destinationWorkspaceProfilePictureUrl:n.destinationWorkspaceProfilePictureUrl,destinationWorkspacePlanType:n.destinationWorkspacePlanType});case 1:return o.jsx(D6,{currentStep:e,setCurrentStep:t,performAction:async()=>{(await j.safePost("/accounts/transfer",{requestBody:{workspace_id:n.destinationWorkspaceId}})).success&&(window.location.href="/")}});case 2:return o.jsx(D6,{currentStep:e,setCurrentStep:t,performAction:async()=>{(await fe.submitExportAndDeactivate()).success&&(window.location.href="/")}})}}const Xe=U({initialModalEnterpriseTitle:{id:"initialModal.title",defaultMessage:"You've been added to a ChatGPT Enterprise workspace"},initialModalEduTitle:{id:"initialModal.eduTitle",defaultMessage:"You've been added to a ChatGPT Edu workspace"},initialModalExplanation:{id:"initialModal.explanation",defaultMessage:"What should we do with your existing workspace?"},initialModalMustChoose:{id:"initialModal.mustChoose",defaultMessage:"In order to join this new workspace, you must choose to either migrate or export your existing chat history."},initialModalDataDelete:{id:"initialModal.dataDelete",defaultMessage:"All Plugins and Custom Instructions in the existing workspace will be deleted."},initialModalBilling:{id:"initialModal.billing",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon completing this step."},initialModalConfirm:{id:"initialModal.confirm",defaultMessage:"Continue"},initialModalTransferLabel:{id:"initialModal.transferLabel",defaultMessage:"Transfer existing chat history and GPTs"},initialModalTransferEnterpriseDetail:{id:"initialModal.initialModalTransferEnterpriseDetail",defaultMessage:"Merge into the Enterprise workspace"},initialModalTransferEduDetail:{id:"initialModal.initialModalTransferEduDetail",defaultMessage:"Merge into the Edu workspace"},initialModalExportLabel:{id:"initialModal.exportLabel",defaultMessage:"Export and delete existing chat history"},initialModalExportDetail:{id:"initialModal.exportDetail",defaultMessage:"Delete the existing workspace"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},transferModalConfirmTitle:{id:"transferModal.confirmTitle",defaultMessage:"Transferring chat history is permanent and can't be undone."},transferModalConfirmLabel:{id:"transferModal.confirmLabel",defaultMessage:"Your chat history and GPTs will be transferred to the new workspace and your existing workspace will be deleted."},transferModalConfirm:{id:"transferModal.confirm",defaultMessage:"Confirm transfer"},transferModalProceed:{id:"transferModal.proceed",defaultMessage:'To proceed, click "Confirm transfer" below.'},exportModalConfirmTitle:{id:"exportModal.confirmTitle",defaultMessage:"Deleting chat history is permanent and can't be undone."},exportModalChatHistoryLabel:{id:"exportModal.chatHistoryLabel",defaultMessage:"Your chat history will be included in the export."},exportModalDeleteLabel:{id:"exportModal.deleteLabel",defaultMessage:"Your GPTs, Plugins and Custom Instructions will be deleted."},exportModalChatDownloadLabel:{id:"exportModal.chatDownloadLabel",defaultMessage:"The data will be sent to your registered email in a downloadable file. The download link will expire 24 hours after you receive it."},exportModalConfirm:{id:"exportModal.confirm",defaultMessage:"Export and delete workspace"},exportModalProceed:{id:"exportModal.proceed",defaultMessage:'To proceed, click "Export and delete workspace" below.'}});function pIe(){const e=JP(),t=L();return e!==null?o.jsx(he,{isOpen:!0,onClose:Ee,type:"warning",size:"custom",className:"max-w-3xl",title:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-lg",children:o.jsx(C,{...Wc.title})}),o.jsx("div",{className:"text-sm font-normal",children:o.jsx(C,{...Wc.subtitle})})]}),icon:Yo,primaryButton:o.jsx(Ve.Button,{onClick:async()=>{const r=await $p.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=r.url},color:"primary",title:t.formatMessage(Wc.signOutButton)}),children:o.jsx("div",{className:"flex flex-col space-y-4",children:o.jsx("div",{children:o.jsx(C,{...Wc.detail,values:{email:o.jsx("span",{className:"font-semibold",children:e.userEmail})}})})})}):null}const Wc=U({title:{id:"AllWorkspacesBlockedModal.title",defaultMessage:"Access Denied"},subtitle:{id:"AllWorkspacesBlockedModal.subtitle",defaultMessage:"Your IT administrator has blocked access to this workspace"},detail:{id:"AllWorkspacesBlockedModal.detail",defaultMessage:"It looks like youre either trying to login using a personal email or you dont have access to a workspace thats been approved by your IT administrator. Please use an authorized work email to access your workspace, or contact your IT administrator for access."},signOutButton:{id:"AllWorkspacesBlockedModal.signOutButton",defaultMessage:"Sign Out"}});function gIe(){const{data:e}=ko(),t=Fn(),n=e?.accountItems.find(l=>l.ssoConnectionName),r=e?.accountItems.find(l=>!l.ssoConnectionName),s=!!n,a=!s&&!!r,i=()=>{const l=n?.ssoConnectionName&&s?{connection:n.ssoConnectionName}:void 0;t({authType:"login",additionalAuthParams:l})};return o.jsx(he,{isOpen:!0,onClose:Ee,type:"warning",size:"custom",className:"max-w-3xl",title:o.jsx("div",{className:"flex flex-col",children:o.jsx("div",{className:"text-lg",children:o.jsx(C,{...Ps.title})})}),icon:Yo,primaryButton:o.jsx(Ve.Button,{onClick:()=>{E.logLogOutButtonClicked({location:"invalid_account_modal"}),Lp()},color:"primary",children:o.jsx(C,{...Ps.logOut})}),secondaryButton:s||a?o.jsx(Ve.Button,{onClick:i,color:"primary",children:o.jsx(C,{...s?Ps.ssoButton:Ps.noSSOButton})}):null,children:o.jsx("div",{className:"flex flex-col space-y-4",children:o.jsxs("div",{children:[o.jsx("p",{children:o.jsx(C,{...Ps.description})}),o.jsx("br",{}),s&&o.jsx("p",{children:o.jsx(C,{...Ps.ssoSuggestion})}),a&&o.jsx("p",{children:o.jsx(C,{...Ps.noSSOSuggestion})})]})})})}const Ps=U({title:{id:"sMC0Cy",defaultMessage:"No Accessible Workspaces"},description:{id:"ADpJJ4",defaultMessage:"It looks like you're currently unable to access any of your accounts. Try waiting a minute and logging in again."},logOut:{id:"KlMYRb",defaultMessage:"Log out"},ssoSuggestion:{id:"KCNTGv",defaultMessage:"Logging in with SSO may fix these issues."},noSSOSuggestion:{id:"mp/4+s",defaultMessage:"Logging in without SSO may fix these issues."},ssoButton:{id:"Nsa12I",defaultMessage:"Log in with SSO"},noSSOButton:{id:"60pUg9",defaultMessage:"Log in"}});function hIe(){const e=eN(),t=L(),[n,r]=u.useState(),s=e!==null;if(u.useEffect(()=>{s||r(void 0)},[s]),!s)return null;const a=o.jsx("span",{className:"font-semibold",children:e.ownerEmail}),i=e.hasActiveRequest||n==="success",l=e.workspacePlanType===mr.EDU;return o.jsx(he,{isOpen:!0,onClose:Ee,type:"warning",size:"custom",className:"max-w-3xl",title:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-lg",children:o.jsx(C,{...wr.title,values:{workspaceName:e.accountName}})}),o.jsx("div",{className:"text-sm font-normal",children:l?o.jsx(C,{...wr.eduSubtitle}):o.jsx(C,{...wr.enterpriseSubtitle})})]}),icon:Yo,primaryButton:o.jsx(Ve.Button,{onClick:async()=>{r("requesting");try{await j.safePost("/accounts/{account_id}/invites/request",{parameters:{path:{account_id:e.accountId}}}),r("success")}catch{r("error")}},color:"primary",title:t.formatMessage(wr.requestAccessButton),disabled:i}),secondaryButton:o.jsx(Ve.Button,{onClick:async()=>{const c=await $p.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=c.url},color:"secondary",title:t.formatMessage(wr.signOutButton)}),children:o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsx("div",{children:l?o.jsx(C,{...wr.emailBelongsToEduWorkspace,values:{email:o.jsx("span",{className:"font-semibold",children:e.userEmail})}}):o.jsx(C,{...wr.emailBelongsToEnterpriseWorkspace,values:{email:o.jsx("span",{className:"font-semibold",children:e.userEmail})}})}),o.jsx("div",{children:i?o.jsx(C,{...wr.activeRequestMessage,values:{email:a}}):n==="requesting"?o.jsx(pr,{}):n==="error"?o.jsx(C,{...wr.contactWorkspaceAdminEmail,values:{email:a}}):null})]})})}const wr=U({title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}"},enterpriseSubtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace"},eduSubtitle:{id:"RequestWorkspaceAccessModal.eduSubtitle",defaultMessage:"ChatGPT Edu has been enabled in your workspace"},emailBelongsToEnterpriseWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEnterpriseWorkspace",defaultMessage:"{email} belongs to a ChatGPT Enterprise plan but currently has no access."},emailBelongsToEduWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEduWorkspace",defaultMessage:"{email} belongs to a ChatGPT Edu plan but currently has no access."},requestWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestWorkspaceAccessMessage",defaultMessage:"You may request access to the workspace account."},requestedWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestedWorkspaceAccessMessage",defaultMessage:"Successfully requested access to the workspace account. Your workspace administrator at {email} may approve the request."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Could not request access. Contact your workspace administrator at {email} to request access to a new workspace account."},signOutButton:{id:"RequestWorkspaceAccessModal.signOutButton",defaultMessage:"Sign Out"},requestAccessButton:{id:"RequestWorkspaceAccessModal.requestAccessButton",defaultMessage:"Request access"},activeRequestMessage:{id:"RequestWorkspaceAccessModal.activeRequestMessage",defaultMessage:"You have a pending invite request for this workspace. Contact your workspace administrator at {email} to approve your request."}}),J4e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4644 2.07845C16.0559 1.72726 14.6293 2.58442 14.2781 3.99296C14.0655 4.84569 14.2932 5.74826 14.8847 6.39818L16.371 8.031L15.1585 13.2072C14.8542 13.2981 14.5713 13.4014 14.3131 13.4958L14.2978 13.5014C13.5167 13.7871 12.9356 13.9996 12.3471 14.0118L12.1579 13.2852L13.2684 11.6749C14.0988 10.4709 13.2945 8.82179 11.8345 8.73486L9.88186 8.6186L8.69359 7.06484C7.8051 5.90305 5.98815 6.1584 5.45431 7.52009L4.74035 9.34119L2.89544 9.99116C1.51595 10.4772 1.19734 12.2841 2.32741 13.2126L3.57167 14.2349C3.49758 14.3518 3.42889 14.4696 3.3653 14.5866C2.83464 15.5627 2.51448 16.7333 2.31982 17.6889C1.94568 19.5256 3.43561 21 5.13511 21H18.4968C20.3724 21 21.9454 19.2005 21.1807 17.2496C20.859 16.4289 20.4213 15.4967 19.8567 14.721C19.3093 13.9687 18.5259 13.2035 17.4693 13.0155C17.4007 13.0033 17.3325 12.993 17.2648 12.9844L18.3141 8.50499L20.3757 7.76723C21.2032 7.47112 21.8279 6.78107 22.0405 5.92834C22.3917 4.51979 21.5345 3.09325 20.126 2.74206L17.4644 2.07845ZM19.7019 5.88417L17.7554 6.58073L16.3638 5.05189C16.2223 4.8965 16.1679 4.68069 16.2187 4.47681C16.3027 4.14002 16.6438 3.93508 16.9806 4.01904L19.6422 4.68265C19.9789 4.76662 20.1839 5.10771 20.0999 5.44449C20.0491 5.64838 19.8997 5.81337 19.7019 5.88417ZM10.4796 12.1959C10.2219 12.5695 10.1101 13.0211 10.1589 13.4663C10.0315 13.4161 9.90092 13.3637 9.76645 13.3098C9.66559 13.2694 9.56252 13.2281 9.45694 13.1861C8.51137 12.8103 7.36049 12.3858 6.08404 12.5043C5.68276 12.5416 5.32518 12.657 5.0072 12.8259L3.76504 11.8053L5.45781 11.2089C5.97244 11.0276 6.38274 10.6314 6.5819 10.1234L7.23698 8.45247L8.32725 9.8781C8.65871 10.3115 9.16233 10.5793 9.70701 10.6117L11.4986 10.7184L10.4796 12.1959ZM8.71828 15.0447C7.76576 14.6662 7.01897 14.4261 6.26896 14.4957C5.92386 14.5278 5.52724 14.7972 5.12244 15.5418C4.73132 16.2613 4.45918 17.2064 4.27957 18.0881C4.19225 18.5168 4.52274 19 5.13511 19H18.4968C18.8236 19 19.0831 18.8501 19.2307 18.6539C19.3714 18.4669 19.4183 18.2339 19.3186 17.9796C19.0256 17.232 18.6612 16.4771 18.2396 15.8978C17.8009 15.295 17.4139 15.037 17.119 14.9846C16.481 14.871 15.872 15.0552 15.0001 15.3741L14.849 15.4297C14.068 15.7177 13.0524 16.0921 11.9161 15.9965C10.8521 15.9069 9.85318 15.503 9.02444 15.1678C8.91959 15.1254 8.81747 15.0841 8.71828 15.0447Z",fill:"currentColor"})),hE=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 14.1941 4.88193 16.1802 6.31295 17.6265C6.6343 17.9513 6.69466 18.4526 6.45959 18.8443L5.76619 20H12C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22H4C3.63973 22 3.30731 21.8062 3.1298 21.4927C2.95229 21.1792 2.95715 20.7944 3.14251 20.4855L4.36137 18.4541C2.88894 16.7129 2 14.4595 2 12Z",fill:"currentColor"})),e9e=me.Onboarding,vE=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=le(e9e);return{setHasSeenOnboarding:t,hasSeenOnboardingDate:n?null:!e}},t9e=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=le(me.TeamOwnerOnboarding);return{setHasSeenTeamOwnerOnboarding:t,hasSeenTeamOwnerOnboardingDate:n?null:!e}};function n9e({onClose:e,scope:t}){const{setHasSeenOnboarding:n}=vE(),r=u.useCallback(()=>{e(!0),n()},[e,n]);return t===M5.Personal?o.jsx(s9e,{onSubmit:r}):o.jsx(a9e,{onSubmit:()=>{e(!0)}})}const to=({icon:e,title:t,body:n})=>o.jsxs("div",{className:"flex flex-col gap-2 md:w-1/3",children:[o.jsxs("div",{className:"flex flex-row items-center gap-2",children:[o.jsx("div",{children:e}),o.jsx("div",{className:"font-semibold text-token-text-primary",children:t})]}),o.jsx("div",{className:"text-sm text-token-text-secondary",children:n})]}),r9e="https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",s9e=({onSubmit:e})=>{const t=L();return o.jsxs("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[o.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[o.jsx(to,{icon:o.jsx(hE,{isSolid:!0,className:"icon-md text-green-600"}),title:o.jsx(C,{...an.askAway}),body:o.jsx(C,{...an.askAwayBody})}),o.jsx(to,{icon:o.jsx(tN,{className:"icon-md text-brand-purple"}),title:o.jsx(C,{...an.warning}),body:o.jsx(C,{...an.warningBody,values:{article:n=>o.jsx("a",{href:r9e,target:"_blank",className:"underline",rel:"noopener noreferrer",children:n})}})}),o.jsx(to,{icon:o.jsx(Op,{className:"icon-md text-orange-300"}),title:o.jsx(C,{...an.accuracy}),body:o.jsx(C,{...an.accuracyBody})})]}),o.jsx("div",{className:"flex flex-row justify-end",children:o.jsx(Ln,{title:t.formatMessage(an.gettingStartedButton),onClick:e,color:"primary","data-testid":"getting-started-button"})})]})},a9e=({onSubmit:e})=>{const t=L();return o.jsxs("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[o.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[o.jsx(to,{icon:o.jsx(Yo,{className:"icon-md text-brand-purple"}),title:o.jsx(C,{...an.workUse}),body:o.jsx(C,{...an.workUseBody})}),o.jsx(to,{icon:o.jsx(hE,{className:"icon-md text-green-600"}),title:o.jsx(C,{...an.askAway}),body:o.jsx(C,{...an.askAwayBody})}),o.jsx(to,{icon:o.jsx(Op,{className:"icon-md text-orange-300"}),title:o.jsx(C,{...an.accuracy}),body:o.jsx(C,{...an.accuracyBody})})]}),o.jsx("div",{className:"flex flex-row justify-end",children:o.jsx(Ln,{title:t.formatMessage(an.gettingStartedButton),onClick:e,color:"primary"})})]})},an=U({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more."},warning:{id:"onboarding.warning",defaultMessage:"Dont share sensitive info"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>."},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. Its not intended to give advice."},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, lets go"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits."},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models."}}),F6=({value:e,isSelected:t,onSelect:n})=>o.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>n(e),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex-shrink-0",children:e==="transfer"?o.jsx(pE,{}):o.jsx(J4e,{})}),o.jsxs("div",{className:"flex flex-col text-left",children:[o.jsx("div",{className:"font-semibold",children:e==="transfer"?o.jsx(C,{...Dt.teamAccountTransferModalTransferLabel}):o.jsx(C,{...Dt.teamAccountTransferModalCreateLabel})}),o.jsx("div",{className:"flex-wrap text-sm text-token-text-secondary",children:e==="transfer"?o.jsx(C,{...Dt.teamAccountTransferModalTransferDetail}):o.jsx(C,{...Dt.teamAccountTransferModalCreateDetail})})]})]}),o.jsx("div",{className:N("flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full border",{"bg-black":t}),children:t&&o.jsx(wl,{className:"h-3 w-3 scale-x-75 stroke-[4] text-white"})})]}),o9e=({setCurrentStep:e,setHasSeenOnboarding:t})=>{const[n,r]=u.useState(""),s=L(),a=()=>{n==="transfer"?e(1):n==="create"&&t&&t()};return o.jsx(he,{isOpen:!0,onClose:Ee,type:"warning",title:s.formatMessage(Dt.teamAccountTransferModalTitle),primaryButton:o.jsx(Ln,{title:s.formatMessage(Dt.teamAccountTransferModalConfirm),onClick:a,color:"primary",className:"ml-4"}),children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"text-md mb-2 text-token-text-primary",children:o.jsx(C,{...Dt.teamAccountTransferModalExplanation})}),o.jsx(F6,{value:"transfer",isSelected:n==="transfer",onSelect:r}),o.jsx(gE,{}),o.jsx(F6,{value:"create",isSelected:n==="create",onSelect:r})]})})},i9e=({currentWorkspace:e,setCurrentStep:t,fromSettings:n,setHasSeenOnboarding:r,onClose:s=Ee})=>{const a=L(),i=wn(),l=Te(),c=i?.name;return o.jsx(he,{isOpen:!0,onClose:r?Ee:s,type:"success",title:a.formatMessage(Dt.selectedModalTitle),primaryButton:o.jsx(Ln,{title:n?a.formatMessage(Dt.mergeModalConfirm):a.formatMessage(Dt.teamTransferModalConfirm),color:"primary",onClick:async()=>{const d=await j.safePost("/accounts/transfer",{requestBody:{workspace_id:e.id}});r&&r(),d.success?A8():l(Wv(zv.ACCOUNT_TRANSFER_ERROR))}}),secondaryButton:o.jsx(Ln,{title:a.formatMessage(Dt.selectedModalBack),color:"secondary",onClick:n?s:async()=>{t(0)}}),children:o.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[o.jsxs("div",{className:"flex w-full items-center gap-4",children:[o.jsx(Nh,{user:i,size:"large",roundedStyle:"rounded-full"}),o.jsxs("div",{className:"pt-2",children:[o.jsx("div",{className:"font-semibold",children:c}),o.jsx("div",{className:"mb-2 text-sm text-token-text-secondary",children:o.jsx(C,{...Dt.tansferModalPersonalAccount})})]})]}),o.jsx("div",{className:"-mb-2 -mt-3 flex justify-start pl-3",children:o.jsx(tH,{className:"icon-sm"})}),o.jsxs("div",{className:"flex w-full items-center gap-4",children:[o.jsx(V1,{src:e.profilePictureUrl,size:"large"}),o.jsx("div",{className:"font-semibold",children:e.name})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"mb-2 text-base font-semibold",children:o.jsx(C,{...Dt.teamTransferModalConfirmTitle})}),o.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[o.jsx("li",{className:"mb-2",children:o.jsx(C,{...Dt.teamTransferModalMigrateData})}),o.jsx("li",{className:"mb-2",children:o.jsx(C,{...Dt.teamTransferModalDeleteData})}),o.jsx("li",{children:o.jsx(C,{...Dt.teamTransferModalCancelPlus})})]})]}),o.jsx("div",{className:"mx-auto mb-2 flex max-w-5xl items-center rounded-md border border-token-border-medium bg-token-main-surface-secondary px-2 py-2 md:px-2 lg:px-4 lg:py-3",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Op,{className:"flex-shrink-0 text-red-500"}),o.jsx("p",{className:"ml-4 text-sm",children:o.jsx(C,{...Dt.teamTransferModalWarning,values:{link:d=>o.jsx("a",{href:"https://help.openai.com/en/articles/8801890 ",target:"_blank",className:"underline",rel:"noreferrer",children:d})}})})]})})]})})};function vIe({onClose:e=Ee,fromSettings:t=!1}){const[n,r]=u.useState(t?1:0),s=yn()?.data,{setHasSeenTeamOwnerOnboarding:a}=t9e(),i=t?void 0:a;switch(n){case 0:return o.jsx(o9e,{setCurrentStep:r,setHasSeenOnboarding:i});case 1:return o.jsx(i9e,{setCurrentStep:r,currentWorkspace:s,onClose:e,fromSettings:t,setHasSeenOnboarding:i})}}const Dt=U({teamAccountTransferModalTitle:{id:"teamAccountTransferModal.title",defaultMessage:"Your ChatGPT Team workspace is ready"},teamAccountTransferModalExplanation:{id:"teamAccountTransferModal.explanation",defaultMessage:"Do you want to transfer your chat history and GPTs to the Team workspace?"},teamAccountTransferModalConfirm:{id:"teamAccountTransferModal.confirm",defaultMessage:"Continue"},teamAccountTransferModalTransferLabel:{id:"teamAccountTransferModal.transferLabel",defaultMessage:"Transfer chat history and GPTs"},teamAccountTransferModalTransferDetail:{id:"teamAccountTransferModal.transferDetail",defaultMessage:"Carry over existing data from your personal workspace"},teamAccountTransferModalCreateLabel:{id:"teamAccountTransferModal.createLabel",defaultMessage:"Start as empty workspace"},teamAccountTransferModalCreateDetail:{id:"teamAccountTransferModal.createDetail",defaultMessage:"Keep your personal workspace separate. If youre on Plus, you will maintain your subscription until you cancel"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},tansferModalPersonalAccount:{id:"teamTransferModal.personalAccount",defaultMessage:"Personal workspace"},teamTransferModalConfirmTitle:{id:"teamTransferModal.confirmTitle",defaultMessage:"Transfer of existing data is permanent and can't be undone."},teamTransferModalMigrateData:{id:"teamTransferModal.migrateData",defaultMessage:"Your chat history and GPTs in your personal workspace will be migrated to the Team workspace."},teamTransferModalDeleteData:{id:"teamTransferModal.deleteData",defaultMessage:"Your Plugins and custom instructions in your personal workspace will be deleted."},teamTransferModalCancelPlus:{id:"teamTransferModal.cancelPlus",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon merging."},teamTransferModalWarning:{id:"teamTransferModal.warning",defaultMessage:"You will lose access to your data if you leave or are removed from the Team workspace, or if the workspace is deactivated. <link>Learn more</link>"},teamTransferModalConfirm:{id:"teamTransferModal.confirm",defaultMessage:"Confirm transfer"},mergeModalConfirm:{id:"mergerModal.confirm",defaultMessage:"Confirm merge"}});function l9e({workspace:e}){const t=xe(),n=wn(),s=$e()?.id===e.id,a=s?"div":"button",[i,l]=u.useState(!1),c=Fn(),d=L(),f=Be(),m=u.useCallback(async()=>{l(!0);const{willRedirect:v}=nN(t,e.id,c,d,f);P8.disableTemporaryChat(),v||A8()},[t,e.id,c,d,f]),p=mpe(e);let g=o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(V1,{src:e.data.profilePictureUrl,size:"medium"})});if(e.structure===$a.PERSONAL){if(!n)return null;g=o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(Nh,{user:n,customStyle:!0,size:qn.workspaceMedium,className:"h-9 w-9 overflow-hidden rounded-full"})})}return o.jsxs(a,{onClick:s?Ee:m,className:N({"flex w-full items-center gap-2 rounded-lg border border-token-border-medium bg-token-main-surface-primary p-4 hover:bg-token-main-surface-secondary":!0,"bg-token-sidebar-surface-secondary":s,"opacity-50":!e.canAccessWithCurrentSession}),children:[o.jsxs("div",{className:"flex w-full items-center gap-4",children:[g,o.jsxs("div",{className:"inline text-left align-top font-semibold",children:[o.jsx("p",{children:p}),!e.canAccessWithCurrentSession&&o.jsx("p",{className:"leading-4",children:o.jsx("small",{className:"text-token-text-secondary",children:o.jsx(C,{...e.ssoConnectionName?gd.authenticateWithSSOToAccessWorkspace:gd.authenticateWithoutSSOToAccessWorkspace})})})]})]}),o.jsx("div",{className:"flex h-full items-center p-1",children:i?o.jsx(pr,{}):s?o.jsx(rN,{className:"icon-lg"}):o.jsx(zd,{className:"icon-lg my-auto"})})]})}function c9e({data:e}){const t=e.map(n=>o.jsx(l9e,{workspace:n},n.id));return o.jsx("div",{className:"flex w-full flex-col gap-2",children:t})}function xIe(){const e=gpe(),n=wn()?.email??"";if(!e||e.length===0)return null;md.markStart("WorkspaceSwitcherModal"),md.markRendered("WorkspaceSwitcherModal");const r=e.filter(s=>s.structure===$a.WORKSPACE);return o.jsx(he,{isOpen:!0,onClose:Ee,type:"success",size:"normal",title:o.jsxs("div",{className:"flex flex-col",children:[o.jsx(C,{...gd.workspaceSwitcherTitle}),o.jsx("span",{className:"mt-0.5 text-sm text-token-text-secondary",children:n})]}),children:o.jsxs("div",{className:"flex w-full flex-col items-center justify-between",children:[o.jsx(c9e,{data:e}),o.jsx("span",{className:"mt-4 text-sm text-token-text-secondary",children:o.jsx(C,{...gd.workspaceSwitcherDisclaimer,values:{workspaces:o.jsx("span",{className:"contents font-bold",children:o.jsx(QN,{value:r.map(s=>s.data.name)})}),numWorkspaces:r.length}})})]})})}const gd=U({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time."},authenticateWithSSOToAccessWorkspace:{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"},authenticateWithoutSSOToAccessWorkspace:{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"}});var E5="ToastProvider",[k5,u9e,d9e]=g8("Toast"),[xE,CIe]=gs("Toast",[d9e]),[f9e,hf]=xE(E5),CE=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=u.useState(null),[d,f]=u.useState(0),m=u.useRef(!1),p=u.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${E5}\`. Expected non-empty \`string\`.`),o.jsx(k5.Provider,{scope:t,children:o.jsx(f9e,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>f(g=>g+1),[]),onToastRemove:u.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:i})})};CE.displayName=E5;var yE="ToastViewport",m9e=["F8"],Wm="toast.viewportPause",zm="toast.viewportResume",bE=u.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=m9e,label:s="Notifications ({hotkey})",...a}=e,i=hf(yE,n),l=u9e(n),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null),m=u.useRef(null),p=kt(t,m,i.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;u.useEffect(()=>{const x=y=>{r.length!==0&&r.every(S=>y[S]||y.code===S)&&m.current?.focus()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),u.useEffect(()=>{const x=c.current,y=m.current;if(v&&x&&y){const b=()=>{if(!i.isClosePausedRef.current){const A=new CustomEvent(Wm);y.dispatchEvent(A),i.isClosePausedRef.current=!0}},S=()=>{if(i.isClosePausedRef.current){const A=new CustomEvent(zm);y.dispatchEvent(A),i.isClosePausedRef.current=!1}},T=A=>{!x.contains(A.relatedTarget)&&S()},k=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",b),x.addEventListener("focusout",T),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",k),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",T),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[v,i.isClosePausedRef]);const h=u.useCallback(({tabbingDirection:x})=>{const b=l().map(S=>{const T=S.ref.current,k=[T,...k9e(T)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return u.useEffect(()=>{const x=m.current;if(x){const y=b=>{const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const k=document.activeElement,A=b.shiftKey;if(b.target===x&&A){d.current?.focus();return}const I=h({tabbingDirection:A?"backwards":"forwards"}),D=I.findIndex(F=>F===k);Q0(I.slice(D+1))?b.preventDefault():A?d.current?.focus():f.current?.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,h]),o.jsxs(sN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(qm,{ref:d,onFocusFromOutsideViewport:()=>{const x=h({tabbingDirection:"forwards"});Q0(x)}}),o.jsx(k5.Slot,{scope:n,children:o.jsx(De.ol,{tabIndex:-1,...a,ref:p})}),v&&o.jsx(qm,{ref:f,onFocusFromOutsideViewport:()=>{const x=h({tabbingDirection:"backwards"});Q0(x)}})]})});bE.displayName=yE;var wE="ToastFocusProxy",qm=u.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=hf(wE,n);return o.jsx(Ap,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{const l=i.relatedTarget;!a.viewport?.contains(l)&&r()}})});qm.displayName=wE;var vf="Toast",p9e="toast.swipeStart",g9e="toast.swipeMove",h9e="toast.swipeCancel",v9e="toast.swipeEnd",SE=u.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...i}=e,[l=!0,c]=Qs({prop:r,defaultProp:s,onChange:a});return o.jsx(hl,{present:n||l,children:o.jsx(y9e,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Xs(e.onPause),onResume:Xs(e.onResume),onSwipeStart:ge(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ge(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});SE.displayName=vf;var[x9e,C9e]=xE(vf,{onClose(){}}),y9e=u.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:g,...v}=e,h=hf(vf,n),[x,y]=u.useState(null),b=kt(t,O=>y(O)),S=u.useRef(null),T=u.useRef(null),k=s||h.duration,A=u.useRef(0),M=u.useRef(k),P=u.useRef(0),{onToastAdd:I,onToastRemove:D}=h,F=Xs(()=>{x?.contains(document.activeElement)&&h.viewport?.focus(),i()}),B=u.useCallback(O=>{!O||O===1/0||(window.clearTimeout(P.current),A.current=new Date().getTime(),P.current=window.setTimeout(F,O))},[F]);u.useEffect(()=>{const O=h.viewport;if(O){const q=()=>{B(M.current),d?.()},H=()=>{const Se=new Date().getTime()-A.current;M.current=M.current-Se,window.clearTimeout(P.current),c?.()};return O.addEventListener(Wm,H),O.addEventListener(zm,q),()=>{O.removeEventListener(Wm,H),O.removeEventListener(zm,q)}}},[h.viewport,k,c,d,B]),u.useEffect(()=>{a&&!h.isClosePausedRef.current&&B(k)},[a,k,h.isClosePausedRef,B]),u.useEffect(()=>(I(),()=>D()),[I,D]);const z=u.useMemo(()=>x?AE(x):null,[x]);return h.viewport?o.jsxs(o.Fragment,{children:[z&&o.jsx(b9e,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),o.jsx(x9e,{scope:n,onClose:F,children:ds.createPortal(o.jsx(k5.ItemSlot,{scope:n,children:o.jsx(aN,{asChild:!0,onEscapeKeyDown:ge(l,()=>{h.isFocusedToastEscapeKeyDownRef.current||F(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":h.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,O=>{O.key==="Escape"&&(l?.(O.nativeEvent),O.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ge(e.onPointerDown,O=>{O.button===0&&(S.current={x:O.clientX,y:O.clientY})}),onPointerMove:ge(e.onPointerMove,O=>{if(!S.current)return;const q=O.clientX-S.current.x,H=O.clientY-S.current.y,Se=!!T.current,ie=["left","right"].includes(h.swipeDirection),ae=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,ft=ie?ae(0,q):0,Rt=ie?0:ae(0,H),Vt=O.pointerType==="touch"?10:2,Le={x:ft,y:Rt},ht={originalEvent:O,delta:Le};Se?(T.current=Le,zc(g9e,m,ht,{discrete:!1})):$6(Le,h.swipeDirection,Vt)?(T.current=Le,zc(p9e,f,ht,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(q)>Vt||Math.abs(H)>Vt)&&(S.current=null)}),onPointerUp:ge(e.onPointerUp,O=>{const q=T.current,H=O.target;if(H.hasPointerCapture(O.pointerId)&&H.releasePointerCapture(O.pointerId),T.current=null,S.current=null,q){const Se=O.currentTarget,ie={originalEvent:O,delta:q};$6(q,h.swipeDirection,h.swipeThreshold)?zc(v9e,g,ie,{discrete:!0}):zc(h9e,p,ie,{discrete:!0}),Se.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),b9e=e=>{const{__scopeToast:t,children:n,...r}=e,s=hf(vf,t),[a,i]=u.useState(!1),[l,c]=u.useState(!1);return _9e(()=>i(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:o.jsx(Sp,{asChild:!0,children:o.jsx(Ap,{...r,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},w9e="ToastTitle",ME=u.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(De.div,{...r,ref:t})});ME.displayName=w9e;var S9e="ToastDescription",M9e=u.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(De.div,{...r,ref:t})});M9e.displayName=S9e;var _E="ToastAction",EE=u.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(TE,{altText:n,asChild:!0,children:o.jsx(T5,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_E}\`. Expected non-empty \`string\`.`),null)});EE.displayName=_E;var kE="ToastClose",T5=u.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=C9e(kE,n);return o.jsx(TE,{asChild:!0,children:o.jsx(De.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,s.onClose)})})});T5.displayName=kE;var TE=u.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function AE(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),E9e(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...AE(r))}}),t}function zc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?oN(s,a):s.dispatchEvent(a)}var $6=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function _9e(e=()=>{}){const t=Xs(e);Or(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function E9e(e){return e.nodeType===e.ELEMENT_NODE}function k9e(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Q0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var T9e=CE,A9e=bE,P9e=SE,PE=ME,N9e=EE,NE=T5;function jE({children:e}){return o.jsxs(T9e,{children:[o.jsx(P9e,{className:"radix-state-closed:animate-hide radix-state-open:animate-slideIn popover grid grid-cols-[auto_max-content] items-center gap-x-4 rounded-lg bg-token-main-surface-primary p-4 shadow-xs [grid-template-areas:_'title_action'_'description_action'] sm:max-w-2xl",open:!0,children:e}),o.jsx(A9e,{className:"fixed bottom-0 right-0 z-50 m-0 flex max-w-[100vw] list-none flex-col gap-4 p-6 outline-none"})]})}const Fa="compliance",IE=60*60*24*30*6,j9e={serverPrimedAllowBrowserStorageValue:!0,showCookieConsentBanner:!1,isStorageComplianceEnabled:!1,ageVerificationDeadline:null,ageVerificationType:"none"},I9e={IT:"countdown",KR:"passive"};function R9e(e,t){const n=iN(t),r=e.registration_country??"",s=r in N8&&e.age_verification?.is_required;if(!n&&!s)return j9e;const a=n&&!!e.require_cookie_consent;return{serverPrimedAllowBrowserStorageValue:a?e.cookie_consent?.analytics_cookies_accepted??!1:!0,showCookieConsentBanner:a&&!!e.cookie_consent?.is_required,isStorageComplianceEnabled:a,ageVerificationDeadline:s?e.age_verification?.remaining_seconds??null:null,ageVerificationType:s?I9e[r]??"none":"none"}}const RE=El({queryKey:[Fa],queryFn:async()=>{let e;try{e=await j.safeGet("/compliance",{authOption:so.Required})}catch{e={registration_country:null,require_cookie_consent:!1,age_verification:{is_required:!1},cookie_consent:{is_required:!1},terms_of_use:{is_required:!1}}}if(e.cookie_consent?.is_required){const t=lt.getBooleanCookie(ct.AllowNonessential),n=e.cookie_consent.analytics_cookies_accepted;if(t===void 0&&n!=null)lt.setBooleanCookie(ct.AllowNonessential,n,{maxAge:IE,domain:j8});else if(t!==n&&t!=null){const r={analytics_cookies_accepted:t};return j.safePost("/compliance/cookie_consent",{authOption:so.SendIfAvailable,requestBody:r}),{...e,cookie_consent:{...e.cookie_consent,...r}}}}return e}});function LE({enabled:e,select:t}){return ee({...RE,enabled:e,select:t})}function OE(){const{country:e}=pl(),t=e!=null&&e in N8;return{...ee({...RE,enabled:t,select:r=>R9e(r,e)}),isEnabled:t}}function L9e(){const e=xe();return Ie({mutationFn:async t=>await fe.updateCookieConsentCompliance(t),onSuccess:()=>{e.refetchQueries({queryKey:[Fa]})},onMutate:async t=>{await e.cancelQueries({queryKey:[Fa]});const n=e.getQueryData([Fa]);return e.setQueryData([Fa],r=>{if(r===void 0)return;const s=!!r.cookie_consent?.is_required;return{...r,cookie_consent:{is_required:s,...t}}}),{previousValue:n}},onError:(t,n,r)=>{r!==void 0&&e.setQueryData([Fa],r.previousValue)}})}function yIe({serverPrimedAllowBrowserStorageValue:e,enabled:t}){const{data:n,isLoading:r}=LE({enabled:t,select:s=>s.cookie_consent?.analytics_cookies_accepted===!0});return r||!t?e:n??!1}const O9e=60*60*24;function bIe(e,t=!1){return Dn()==null||t?"loading":!e||lt.getCookie(ct.AgeVerification)||e.ageVerificationDeadline==null||e.ageVerificationType==="none"?"hide":"show"}function wIe({onClose:e}){const{data:{ageVerificationType:t,ageVerificationDeadline:n}={}}=OE();return t==="passive"?o.jsx(D9e,{onClose:e}):t==="countdown"&&n!=null?o.jsx(F9e,{onClose:e,ageVerificationDeadline:n}):null}const D9e=({onClose:e})=>{const{country:t}=pl();return u.useEffect(()=>{V.addAction("privacy_policy.show_age_verification_modal",{country:t})},[t]),o.jsx(NM,{onClose:e,title:"OpenAI      ",description:o.jsx("div",{className:"whitespace-pre-wrap",children:o.jsxs("p",{children:["ChatGPT  .     , OpenAI  OpenAI       . ChatGPT  ,  18 , 14        .",o.jsx("br",{}),o.jsx("br",{}),"OpenAI  "," ",o.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"    ."})]})}),actionButton:o.jsx(G,{color:"primary",onClick:async()=>{await fe.updateAgeVerification(),e()},children:" OpenAI  "}),cancelButton:o.jsx(G,{as:"link",color:"secondary",to:"/auth/logout",children:""})})},F9e=({onClose:e,ageVerificationDeadline:t})=>{const n=t!=null?Math.floor(t/60/60/24):0;u.useEffect(()=>{$.logEvent("chatgpt_compliance_age_verification_seen"),E.logEvent(_.complianceAgeVerificationSeen)},[]);const{country:r}=pl();return u.useEffect(()=>{V.addAction("privacy_policy.show_age_verification_countdown",{country:r})},[r]),o.jsxs(jE,{children:[o.jsx(PE,{className:"text-sm font-semibold [grid-area:_title]",children:o.jsx(C,{...B6.ageVerificationTitle,values:{deadline:n,learnMoreLink:s=>o.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:s})}})}),o.jsx(N9e,{altText:"Dismiss notification",asChild:!0,children:o.jsx(G,{color:"primary",size:"small",onClick:()=>{$.logEvent("chatgpt_compliance_age_verification_clicked"),E.logEvent(_.complianceAgeVerificationClicked),lt.setCookie(ct.AgeVerification,"true",{maxAge:O9e,path:"/"}),e(),pt.openModal(un.AgeVerificationInterstitial)},children:o.jsx(C,{...B6.startVerification})})}),o.jsx(NE,{})]})},B6=U({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that youre old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardians permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function SIe({onClose:e}){const t=L(),n=Be(),{openSettings:r}=T5e(),s=L9e(),{session:a}=Mp(),{data:{isStorageComplianceEnabled:i}={}}=OE(),{data:l,isLoading:c}=LE({enabled:!!(i&&a),select:d=>!d.cookie_consent?.is_required});return u.useEffect(()=>{l===!0&&e()},[l,e]),c?null:o.jsx($9e,{onReject:()=>{s.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){n.success(t.formatMessage(za.updateSuccess))},onError(){n.danger(t.formatMessage(za.updateFailure))}}),e()},onAccept:()=>{s.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){n.success(t.formatMessage(za.updateSuccess))},onError(){n.danger(t.formatMessage(za.updateFailure))}}),e()},children:o.jsx(C,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:d=>o.jsx(eH,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:d}),manageLink:d=>o.jsx(B9e,{onClick:()=>{r(ud.DataControls)},children:d})}})})}function $9e({children:e,onAccept:t,onReject:n}){return u.useEffect(()=>{V.addAction("privacy_policy.show_cookie_consent_banner")},[]),o.jsxs(jE,{children:[o.jsxs(PE,{className:"text-sm font-semibold [grid-area:_title]",children:[e,o.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[o.jsx(G,{color:"secondary",size:"small",onClick:n,children:o.jsx(C,{...za.reject})}),o.jsx(G,{color:"secondary",size:"small",onClick:t,children:o.jsx(C,{...za.accept})})]})]}),o.jsx(NE,{})]})}const B9e=ce.button`underline font-normal text-green-600`,za=U({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),DE=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",width:24,height:24,...e},u.createElement("defs",null,u.createElement("clipPath",{id:"__lottie_element_2"},u.createElement("rect",{width:24,height:24,x:0,y:0}))),u.createElement("g",{clipPath:"url(#__lottie_element_2)"},u.createElement("g",{transform:"matrix(1,0,0,1,0,0)",opacity:1,style:{display:"block"}},u.createElement("g",{opacity:1,transform:"matrix(1,0.000017453292457503267,-0.000017453292457503267,1,12,12)"},u.createElement("g",{opacity:1,transform:"matrix(1,0.000014311699487734586,-0.000014311699487734586,1,-11.999828338623047,-12.000171661376953)"},u.createElement("g",{opacity:1,transform:"matrix(1,0,0,1,4.929689407348633,5.125730514526367)"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"miter",fillOpacity:0,strokeMiterlimit:4,stroke:"currentColor",strokeOpacity:1,strokeWidth:2,d:" M4.0694098472595215,0 C2.1773600578308105,0.8279299736022949 0.6928200125694275,2.414099931716919 0,4.374269962310791"})),u.createElement("g",{opacity:1,transform:"matrix(1,0,0,1,7.543420314788818,18.035999298095703)"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"miter",fillOpacity:0,strokeMiterlimit:4,stroke:"currentColor",strokeOpacity:1,strokeWidth:2,d:" M0,0 C1.6630300283432007,1.2245999574661255 3.778980016708374,1.7172000408172607 5.822979927062988,1.3371000289916992"})),u.createElement("g",{opacity:1,transform:"matrix(1,0,0,1,17.69610023498535,7.126950263977051)"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"miter",fillOpacity:0,strokeMiterlimit:4,stroke:"currentColor",strokeOpacity:1,strokeWidth:2,d:" M1.753600001335144,5.711349964141846 C1.9825999736785889,3.6588499546051025 1.351199984550476,1.5800800323486328 0,0"}))),u.createElement("g",{opacity:1,transform:"matrix(1,0,0,1,0,-7.25)"},u.createElement("path",{strokeLinecap:"butt",strokeLinejoin:"miter",fillOpacity:0,strokeMiterlimit:4,stroke:"currentColor",strokeOpacity:1,strokeWidth:2,d:" M0,-2.5 C1.3797500133514404,-2.5 2.5,-1.3797500133514404 2.5,0 C2.5,1.3797500133514404 1.3797500133514404,2.5 0,2.5 C-1.3797500133514404,2.5 -2.5,1.3797500133514404 -2.5,0 C-2.5,-1.3797500133514404 -1.3797500133514404,-2.5 0,-2.5z"})),u.createElement("g",{opacity:1,transform:"matrix(0.5,-0.8660253882408142,0.8660253882408142,0.5,6.27440071105957,3.6249990463256836)"},u.createElement("path",{strokeLinecap:"butt",strokeLinejoin:"miter",fillOpacity:0,strokeMiterlimit:4,stroke:"currentColor",strokeOpacity:1,strokeWidth:2,d:" M0,-2.5 C1.3797500133514404,-2.5 2.5,-1.3797500133514404 2.5,0 C2.5,1.3797500133514404 1.3797500133514404,2.5 0,2.5 C-1.3797500133514404,2.5 -2.5,1.3797500133514404 -2.5,0 C-2.5,-1.3797500133514404 -1.3797500133514404,-2.5 0,-2.5z"})),u.createElement("g",{opacity:1,transform:"matrix(0.5,0.8660253882408142,-0.8660253882408142,0.5,-6.282249450683594,3.626798629760742)"},u.createElement("path",{strokeLinecap:"butt",strokeLinejoin:"miter",fillOpacity:0,strokeMiterlimit:4,stroke:"currentColor",strokeOpacity:1,strokeWidth:2,d:" M0,-2.5 C1.3797500133514404,-2.5 2.5,-1.3797500133514404 2.5,0 C2.5,1.3797500133514404 1.3797500133514404,2.5 0,2.5 C-1.3797500133514404,2.5 -2.5,1.3797500133514404 -2.5,0 C-2.5,-1.3797500133514404 -1.3797500133514404,-2.5 0,-2.5z"})))))),U9e="https://help.openai.com/en/articles/10847137",MIe="https://help.openai.com/en/articles/10929079",U6=({Icon:e,className:t})=>o.jsx("div",{className:N("flex h-[4.5rem] w-[4.5rem] items-center justify-center rounded-full border border-token-border-light bg-white text-black",t),children:o.jsx(e,{width:36,height:36})}),_Ie=()=>{const{isLoading:e,eligible:t}=le(me.hasSeenContextualAnswerAdminNuxModal),n=uf(),r=p5(),{connectionInstanceData:s,isLoading:a}=dE({skip:!n||r}),i=e||a,l=yn(),d=!!(l?.isAdminOfAccount()??l?.isOwnerOfAccount())&&t&&n&&!r&&s?.connection_statuses.length===0;return i?"loading":d?"show":"hide"},EIe=()=>{const{isLoading:e,eligible:t}=le(me.hasSeenContextualAnswerUserNuxModal),n=uf(),r=p5(),{connectionInstanceData:s,isLoading:a}=dE({skip:!n||r}),i=e||a,l=t&&n&&!r&&(s?.connection_statuses.length??0)>0;return i?"loading":l?"show":"hide"},FE=({onClose:e,title:t,description:n,secondaryButton:r,primaryButton:s})=>{const a=L();return o.jsxs(he,{isOpen:!0,noPadding:!0,onClose:e,shouldIgnoreClickOutside:!0,size:"custom",type:"success",className:"max-w-md",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Lr,{onClick:e,className:"absolute right-0 top-0 z-10 mr-2 mt-2 text-black"}),o.jsx("img",{src:typeof eo=="string"?eo:eo.src,alt:a.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"h-[200px] w-full object-cover object-bottom"}),o.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[o.jsx(U6,{Icon:DE}),o.jsx(U6,{Icon:Yn,className:"-ml-3"})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 px-8 pb-10 pt-8 text-center",children:[o.jsx("div",{className:"text-xl font-medium",children:t}),o.jsx("div",{className:"text-md text-token-text-secondary",children:n}),o.jsxs("div",{className:"mt-5 flex justify-center gap-3",children:[r,s]})]})]})},kIe=({onClose:e})=>{const t=L(),n=Te(),{markAsViewed:r}=le(me.hasSeenContextualAnswerAdminNuxModal);u.useEffect(()=>{E.logEventWithStatsig(_.contextualAnswersAdminNuxModalShown,"chatgpt_contextual_answers_admin_nux_modal_shown")},[]);const s=()=>{E.logEventWithStatsig(_.contextualAnswersAdminNuxModalConfirmationButtonClicked,"chatgpt_contextual_answers_admin_nux_modal_confirmation_button_clicked"),r(),e(),n("/admin/ca")},a=()=>{r(),e()},i=t.formatMessage({id:"MU76mM",defaultMessage:"Introducing internal knowledge in ChatGPT"}),l=t.formatMessage({id:"j/qm6r",defaultMessage:"Connect Google Drive to personalize ChatGPTs answers. You control whats connected, and ChatGPT respects existing permissions."}),c=o.jsx(G,{color:"secondary",onClick:()=>window.open(U9e,"_blank"),children:o.jsx(C,{id:"ltVYd/",defaultMessage:"Learn more"})}),d=o.jsx(G,{color:"primary",onClick:()=>s(),children:o.jsx(C,{id:"zeZEKl",defaultMessage:"Connect"})});return o.jsx(FE,{onClose:a,title:i,description:l,secondaryButton:c,primaryButton:d})},TIe=({onClose:e})=>{const t=L(),n=Te(),{markAsViewed:r}=le(me.hasSeenContextualAnswerUserNuxModal);u.useEffect(()=>{E.logEventWithStatsig(_.contextualAnswersUserNuxModalShown,"chatgpt_contextual_answers_user_nux_modal_shown")},[]);const s=()=>{E.logEventWithStatsig(_.contextualAnswersUserNuxModalConfirmationButtonClicked,"chatgpt_contextual_answers_user_nux_modal_confirmation_button_clicked"),r(),e(),n("#settings/ConnectorSettings")},a=()=>{r(),e()},i=t.formatMessage({id:"OLuM1V",defaultMessage:"ChatGPT can now use internal knowledge"}),l=t.formatMessage({id:"2xspO2",defaultMessage:"Your admin connected your organizations Google Drive, so ChatGPT can now use your teams docs and slides to give you more personalized answers."}),c=o.jsx(G,{color:"secondary",onClick:a,children:o.jsx(C,{id:"KfJU7d",defaultMessage:"Maybe later"})}),d=o.jsx(G,{color:"primary",onClick:()=>s(),children:o.jsx(C,{id:"aOsuFy",defaultMessage:"Connect now"})});return o.jsx(FE,{onClose:a,title:i,description:l,secondaryButton:c,primaryButton:d})},H9e=()=>{const e=u.useRef(V9e()),{isUnauthenticated:t,isLoading:n}=at(),r=gf(),s=lN(),a=!n&&t&&s&&!e.current&&!r,i=u.useCallback(()=>{a&&(G9e(),E.logEventWithStatsig(_.meetChatGptModalShown,"chatgpt_meet_chatgpt_modal_shown"))},[a]),l=()=>{E.logEventWithStatsig(_.meetChatGptModalConfirmationButtonClicked,"chatgpt_meet_chatgpt_modal_confirmation_button_clicked")};return n?{onConfirmationButtonClick:l,onMount:i,state:"loading"}:a?{onConfirmationButtonClick:l,onMount:i,state:"show"}:{onConfirmationButtonClick:l,onMount:i,state:"hide"}};function V9e(){return!!localStorage.getItem(we.HasSeenMeetChatGptModal)}function G9e(){return localStorage.setItem(we.HasSeenMeetChatGptModal,"true")}const AIe=({onClose:e})=>{const{onConfirmationButtonClick:t,onMount:n,state:r}=H9e(),a=I8()?H6.trainingDisclaimer:H6.safetyAndAbuseDisclaimer;return u.useEffect(n,[n]),r!=="show"?null:o.jsx(he,{isOpen:!0,noPadding:!0,onClose:Ee,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:o.jsxs("div",{className:"flex flex-col p-6 text-center",children:[o.jsx("div",{className:"-mb-4 -mt-5 self-center",children:o.jsx(p8,{})}),o.jsx("div",{className:"mb-2 text-2xl font-medium",children:o.jsx(C,{id:"fnY8gE",defaultMessage:"Meet ChatGPT"})}),o.jsx("div",{className:"mb-6 text-token-text-secondary",children:o.jsx(C,{id:"OdX5ix",defaultMessage:"AI that can help with brainstorming, researching, planning, and more. Just ask."})}),o.jsx(G,{color:"primary",size:"giant",className:"mb-4",onClick:()=>{t(),e()},children:o.jsx(C,{...In.gotItButtonText})}),o.jsx("div",{className:"text-xs text-token-text-tertiary",children:o.jsx(C,{...a,values:{learnMoreLink:i=>o.jsx("a",{className:"underline",href:"https://help.openai.com/en/articles/9737562",rel:"noreferrer",target:"_blank",children:i})}})})]})})},H6=U({trainingDisclaimer:{id:"hebnC4",defaultMessage:"Chats may be reviewed and used to train our models. You can opt out in settings. <learnMoreLink>Learn more</learnMoreLink>"},safetyAndAbuseDisclaimer:{id:"KpKqVi",defaultMessage:"Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"}});function $E(){const[e]=bn();return e.get("promoCode")}const PIe=({onClose:e})=>{const t=Fn(),n=No(),r=ic(In.signUpButtonText),s=n?"center":"bottom",a=$E();if(u.useEffect(()=>{a?E.logEventWithStatsig(_.noauthPromoRedemptionModalShown,"chatgpt_no_auth_promo_redemption_modal_shown",{promoCode:a}):console.warn("Mounted NoAuthPromoRedemptionModal without a valid promo code")},[a]),!a)return null;const i=`/p/${a}`;return o.jsx(he,{isOpen:!0,onClose:Ee,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:s,children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[o.jsx("p",{className:"mb-6 text-center text-2xl font-semibold",children:o.jsx(C,{...V6.title})}),o.jsx(G,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3",onClick:()=>{t({authType:"login",callback:l=>{E.logLogInButtonClicked({provider:l,location:"No Auth Promo Redemption Modal"})},callbackUrl:i})},children:o.jsx(C,{...In.logInButtonText})}),o.jsx(G,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{t({authType:"signup",callback:l=>{E.logSignUpButtonClicked({provider:l,location:"No Auth Promo Redemption Modal"})},callbackUrl:i})},children:o.jsx(C,{...r})}),o.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:l=>{l.preventDefault(),E.logEventWithStatsig(_.noauthPromoRedemptionModalDismissed,"chatgpt_no_auth_promo_redemption_modal_dismissed",{promoCode:a}),e()},children:o.jsx(C,{...V6.stayLoggedOutLink})})]})})},V6=U({title:{id:"NoAuthPromoRedemptionModal.title",defaultMessage:"Log in or sign up to redeem your promotion"},stayLoggedOutLink:{id:"NoAuthPromoRedemptionModal.stayLoggedOut",defaultMessage:"Stay logged out"}});function NIe(){const{isUnauthenticated:e,isLoading:t}=at();return{isOpen:$E()!=null&&e,isLoading:t}}const W9e=60*60*24*30*12;function z9e(){const{isLoading:e,data:t}=ee(Jx),n=u.useRef(q9e()),r=t?.email??null,s=u.useCallback(()=>{n.current&&t?E.logEventWithStatsig(_.punchOutAnonToAuthedModalShown,"chatgpt_punch_out_anon_to_authed_modal_shown"):console.warn("PunchOutAnonToAuthedModal is being mounted without a user and a token")},[t]),a=l=>{E.logEventWithStatsig(_.punchOutAnonToAuthedModalContinueButtonClicked,"chatgpt_punch_out_anon_to_authed_modal_continue_button_clicked"),G6(),Z9e(),window.location.href=`/continue_from_api?token=${l}`},i=()=>{G6(),E.logEventWithStatsig(_.PunchOutAnonToAuthedModalCancelButtonClicked,"chatgpt_punch_out_anon_to_authed_modal_cancel_button_clicked")};return e?{email:null,onCancelButtonClick:i,onContinueButtonClick:a,onMount:s,state:"loading",token:null}:n.current&&r?{email:r,onCancelButtonClick:i,onContinueButtonClick:a,onMount:s,state:"show",token:n.current}:{email:null,onCancelButtonClick:i,onContinueButtonClick:a,onMount:s,state:"hide",token:null}}function q9e(){return lt.getCookie(ct.PunchOutRequireAnonToAuthedToken)??null}function G6(){return lt.deleteCookie(ct.PunchOutRequireAnonToAuthedToken)}function Z9e(){lt.setCookie(ct.PunchOutAnonToAuthedEnabled,"true",{maxAge:W9e})}const jIe=({onClose:e})=>{const{onCancelButtonClick:t,onContinueButtonClick:n,onMount:r,token:s,email:a,state:i}=z9e(),c=xs()?"medium":"large";return u.useEffect(r,[r]),i!=="show"?null:o.jsx(he,{isOpen:!0,noPadding:!0,onClose:Ee,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:o.jsxs("div",{className:"flex flex-col p-6",children:[o.jsx("div",{className:"mb-2 text-center text-xl font-medium md:text-left",children:o.jsx(C,{id:"qAel0I",defaultMessage:"Always open in ChatGPT?"})}),o.jsx("div",{className:"mb-6 text-center text-token-text-secondary md:text-left",children:o.jsx(C,{id:"9Pb+Og",defaultMessage:"Chats you open from Siri will be saved in your account <emailContainer>({email})</emailContainer>.",values:{emailContainer:d=>o.jsx("span",{className:"font-medium",children:d}),email:a}})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[o.jsx(G,{color:"primary",size:c,onClick:()=>n(s),children:o.jsx(C,{...In.continueButtonText})}),o.jsx(G,{color:"secondary",size:c,onClick:()=>{t(),e()},children:o.jsx(C,{...In.cancelButtonText})})]})]})})},Y9e=({onContinue:e,scope:t})=>{const n=L(),r=ppe();return o.jsx(he,{isOpen:!0,onClose:Ee,type:"success",title:n.formatMessage(no.chatgptTitle,{workspaceName:r}),size:"custom",noPadding:!0,className:"max-w-2xl",children:o.jsx(n9e,{onClose:()=>{e()},scope:t})})},K9e=({onContinue:e,onSkip:t,isEduPlan:n})=>{const r=L();return o.jsx(he,{isOpen:!0,onClose:Ee,type:"success",title:r.formatMessage(no.primaryRoleTitle),size:"custom",className:"max-w-lg",children:o.jsx(BE,{options:n?J9e:X9e,onSkip:t,onSubmit:e})})},Q9e=({onContinue:e,onSkip:t,isEduPlan:n})=>{const r=L();return o.jsx(he,{isOpen:!0,onClose:Ee,type:"success",title:r.formatMessage(no.workTypeTitle),size:"custom",className:"max-w-lg",children:o.jsx(BE,{options:n?t3e:e3e,onSkip:t,onSubmit:e,multiSelect:!0})})};function BE({options:e,onSkip:t=Ee,onSubmit:n=Ee,multiSelect:r=!1}){const s=L(),[a,i]=u.useState([]);function l(d,f){const m=d.indexOf(f);return m===-1?[...d,f]:[...d.slice(0,m),...d.slice(m+1)]}const c=u.useCallback(d=>{const f=d.currentTarget.dataset.value??"";r?i(l(a,f)):n(f)},[n,a,i,r]);return o.jsxs("div",{children:[r&&o.jsx("p",{className:"mx-2 text-sm text-token-text-tertiary",children:s.formatMessage(no.selectAll)}),o.jsx("div",{className:"flex flex-col items-center justify-center",children:o.jsx("div",{className:"flex-wrap space-y-4",children:e.map(d=>o.jsx(G,{onClick:c,color:a.includes(d.id)?"primary":"secondary",size:"medium",className:"mx-2","data-value":d.id,children:o.jsx(C,{...d.displayValue})},d.id))})}),o.jsxs("div",{className:"mt-4 flex flex-row justify-end",children:[o.jsx(Ln,{title:s.formatMessage(no.skipButton),onClick:t}),r&&o.jsx(Ln,{title:s.formatMessage(no.continueButton),onClick:()=>{n(a)},disabled:a.length===0,color:"primary",className:"ml-4"})]})]})}function IIe({onClose:e}){const{setHasSeenOnboarding:t}=vE(),[n,r]=u.useState(0),[s,a]=u.useState({role:"",departments:[]}),i=ms(fo.workspaceId),l=ms(fo.isEduPlan),d=wn()?.id,f=()=>{$.logEvent("chatgpt_biz_onboarding_skipped"),E.logEvent(_.bizOnboardingSkipped),e(),t()};switch(n){case 0:return o.jsx(Y9e,{scope:M5.Workspace,onContinue:()=>{r(1)}});case 1:return o.jsx(K9e,{onContinue:m=>{a(p=>({...p,role:m})),r(2)},onSkip:f,isEduPlan:l});case 2:return o.jsx(Q9e,{onContinue:m=>{const p={...s,departments:m};e(),t(),$.logEvent("chatgpt_biz_onboarding_completed"),E.logEvent(_.bizOnboardingCompleted),j.safePatch("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:i,user_id:d}},requestBody:{onboarding_information:p}})},onSkip:f,isEduPlan:l});default:return o.jsx(o.Fragment,{})}}const no=U({chatgptTitle:{id:"onboarding.chatgptTitle.0",defaultMessage:"Welcome to the {workspaceName} workspace"},primaryRoleTitle:{id:"onboarding.primaryRoleTitle",defaultMessage:"What's your primary role?"},workTypeTitle:{id:"onboarding.workTypeTitle",defaultMessage:"What kind of work do you do?"},selectAll:{id:"onboarding.selectAll",defaultMessage:"Select all that apply"},skipButton:{id:"onboarding.skipButton",defaultMessage:"Skip"},continueButton:{id:"onboarding.continueButton",defaultMessage:"Continue"}}),xt=U({marketing:{id:"onboarding.departments.marketing",defaultMessage:"Marketing"},analytics:{id:"onboarding.departments.analytics",defaultMessage:"Data or Analytics"},product:{id:"onboarding.departments.product",defaultMessage:"Product Management"},comms:{id:"onboarding.departments.comms",defaultMessage:"Communications"},finance:{id:"onboarding.departments.finance",defaultMessage:"Finance or Accounting"},customer_experience:{id:"onboarding.departments.customer_experience",defaultMessage:"Customer Experience"},project_management:{id:"onboarding.departments.project_management",defaultMessage:"Project or Program Management"},engineering:{id:"onboarding.departments.engineering",defaultMessage:"Engineering"},education_professional:{id:"onboarding.departments.education_professional",defaultMessage:"Education Professional"},design:{id:"onboarding.departments.design",defaultMessage:"Design"},administrative:{id:"onboarding.departments.administrative",defaultMessage:"Administrative Assistant"},partnerships:{id:"onboarding.departments.partnerships",defaultMessage:"Partnerships"},it:{id:"onboarding.departments.it",defaultMessage:"Information Technology (IT)"},ops:{id:"onboarding.departments.ops",defaultMessage:"Operations"},human_resources:{id:"onboarding.departments.human_resources",defaultMessage:"Human Resources"},research:{id:"onboarding.departments.research",defaultMessage:"Research & Development"},sales:{id:"onboarding.departments.sales",defaultMessage:"Sales"},legal:{id:"onboarding.departments.legal",defaultMessage:"Legal"},healthcare:{id:"onboarding.departments.healthcare",defaultMessage:"Healthcare Professional"},other:{id:"onboarding.departments.other",defaultMessage:"Other"}}),Gt=U({engineering:{id:"onboarding.edu_departments.engineering",defaultMessage:"Engineering"},math:{id:"onboarding.edu_departments.math",defaultMessage:"Mathematics"},applied_sciences:{id:"onboarding.edu_departments.applied_sciences",defaultMessage:"Applied Sciences"},finance:{id:"onboarding.edu_departments.finance",defaultMessage:"Finance or Accounting"},health:{id:"onboarding.edu_departments.health",defaultMessage:"Health or Medical"},law:{id:"onboarding.edu_departments.law",defaultMessage:"Law"},business:{id:"onboarding.edu_departments.business",defaultMessage:"Business"},social:{id:"onboarding.edu_departments.social",defaultMessage:"Social Sciences"},liberal_art:{id:"onboarding.edu_departments.liberal_art",defaultMessage:"Liberal Arts"},fine_art:{id:"onboarding.edu_departments.fine_art",defaultMessage:"Fine Arts"},linguistics:{id:"onboarding.edu_departments.linguistics",defaultMessage:"Linguistics"},teaching:{id:"onboarding.edu_departments.teaching",defaultMessage:"Teaching"},dev:{id:"onboarding.edu_departments.dev",defaultMessage:"Research & Development"},campus_ops:{id:"onboarding.edu_departments.campus_ops",defaultMessage:"Campus Operations"},it:{id:"onboarding.edu_departments.it",defaultMessage:"Information Technology (IT)"},other:{id:"onboarding.edu_departments.other",defaultMessage:"Other"}}),Zr=U({team_member:{id:"onboarding.role.team_member",defaultMessage:"Team Member/ Individual Contributor"},manager:{id:"onboarding.role.manager",defaultMessage:"Manager"},student:{id:"onboarding.role.student",defaultMessage:"Student"},executive:{id:"onboarding.role.executive",defaultMessage:"Executive"},director:{id:"onboarding.role.director",defaultMessage:"Director"},business_owner:{id:"onboarding.role.business_owner",defaultMessage:"Business Owner"},freelancer:{id:"onboarding.role.freelancer",defaultMessage:"Freelancer"},other:{id:"onboarding.role.other",defaultMessage:"Other"}}),Na=U({student:{id:"onboarding.edu_role.student",defaultMessage:"Student"},instructional_staff:{id:"onboarding.edu_role.instructional_staff",defaultMessage:"Instructional Staff"},researcher:{id:"onboarding.edu_role.researcher",defaultMessage:"Researcher"},admin:{id:"onboarding.edu_role.admin",defaultMessage:"Administration"},alumni:{id:"onboarding.edu_role.alumni",defaultMessage:"Alumni"},other:{id:"onboarding.edu_role.other",defaultMessage:"Other"}}),X9e=[{id:"team_member",displayValue:Zr.team_member},{id:"manager",displayValue:Zr.manager},{id:"student",displayValue:Zr.student},{id:"executive",displayValue:Zr.executive},{id:"director",displayValue:Zr.director},{id:"business_owner",displayValue:Zr.business_owner},{id:"freelancer",displayValue:Zr.freelancer},{id:"other",displayValue:Zr.other}],J9e=[{id:"student",displayValue:Na.student},{id:"instructional_staff",displayValue:Na.instructional_staff},{id:"researcher",displayValue:Na.researcher},{id:"admin",displayValue:Na.admin},{id:"alumni",displayValue:Na.alumni},{id:"other",displayValue:Na.other}],e3e=[{id:"marketing",displayValue:xt.marketing},{id:"analytics",displayValue:xt.analytics},{id:"product",displayValue:xt.product},{id:"comms",displayValue:xt.comms},{id:"engineering",displayValue:xt.engineering},{id:"education_professional",displayValue:xt.education_professional},{id:"finance",displayValue:xt.finance},{id:"customer_experience",displayValue:xt.customer_experience},{id:"project_management",displayValue:xt.project_management},{id:"design",displayValue:xt.design},{id:"administrative",displayValue:xt.administrative},{id:"it",displayValue:xt.it},{id:"ops",displayValue:xt.ops},{id:"human_resources",displayValue:xt.human_resources},{id:"research",displayValue:xt.research},{id:"sales",displayValue:xt.sales},{id:"partnerships",displayValue:xt.partnerships},{id:"legal",displayValue:xt.legal},{id:"healthcare",displayValue:xt.healthcare},{id:"other",displayValue:xt.other}],t3e=[{id:"engineering",displayValue:Gt.engineering},{id:"math",displayValue:Gt.math},{id:"applied_sciences",displayValue:Gt.applied_sciences},{id:"finance",displayValue:Gt.finance},{id:"health",displayValue:Gt.health},{id:"law",displayValue:Gt.law},{id:"business",displayValue:Gt.business},{id:"social",displayValue:Gt.social},{id:"liberal_art",displayValue:Gt.liberal_art},{id:"fine_art",displayValue:Gt.fine_art},{id:"linguistics",displayValue:Gt.linguistics},{id:"teaching",displayValue:Gt.teaching},{id:"dev",displayValue:Gt.dev},{id:"campus_ops",displayValue:Gt.campus_ops},{id:"it",displayValue:Gt.it},{id:"other",displayValue:Gt.other}];function n3e(e){switch(e){case ru.SSOMismatch:return{title:Qr.cannotAccessWorkspace,description:Qr.ssoMismatchDescription};case ru.RequireSSOLogin:return{title:Qr.cannotAccessWorkspace,description:Qr.requireSSODescription};case ru.UnexpectedSSOLogin:return{title:Qr.cannotAccessWorkspace,description:Qr.unexpectedSSODescription}}}const r3e=2e3;function RIe(){const e=cN(),t=yn(),n=L(),r=Fn(),s=T8(),a=ee({...yp(),select:()=>null}),i=e?.errorCode,l=e!=null&&a.isFetched&&s==null&&!!t,[c,d]=u.useState(!1);u.useEffect(()=>{l&&setTimeout(()=>{d(!0)},r3e)},[l]);const f=i===ru.UnexpectedSSOLogin,m=l&&(f?c:!0),p=N_();if(u.useEffect(()=>{if(!i||!m)return;const y=p?.split("@")?.[1];V.addError(`SSO Catch All Modal: ${i} for ${p??"unknown user"}`,{sso_error:i,email:p,email_hostname:y})},[i,m,p]),!m)return null;const g=e?.accountName??t?.name??n.formatMessage(Qr.workspacePlaceholder),v=()=>{const y=t?.ssoConnectionName?{connection:t.ssoConnectionName}:void 0;r({authType:"login",additionalAuthParams:y})},{title:h,description:x}=n3e(e.errorCode);return o.jsx(he,{isOpen:!0,onClose:Ee,type:"warning",size:"custom",className:"max-w-3xl",title:o.jsx("div",{className:"flex flex-col",children:o.jsx("div",{className:"text-lg",children:o.jsx(C,{...h})})}),icon:Yo,primaryButton:o.jsx(Ve.Button,{onClick:v,color:"primary",children:o.jsx(C,{...Qr.authenticateNotice,values:{workspaceName:g}})}),secondaryButton:o.jsx(Ve.Button,{onClick:()=>{E.logLogOutButtonClicked({location:"sso_catch_all_modal"}),Lp()},children:o.jsx(C,{id:"KlMYRb",defaultMessage:"Log out"})}),children:o.jsx("div",{className:"flex flex-col space-y-4",children:o.jsx("div",{children:o.jsx(C,{...x})})})})}const Qr=U({authenticateNotice:{id:"zF1QJE",defaultMessage:"Authenticate to {workspaceName}"},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"},cannotAccessWorkspace:{id:"IlXHdd",defaultMessage:"Cannot Access This Workspace"},ssoMismatchDescription:{id:"xSuU9q",defaultMessage:"The SSO you logged in with does not match the SSO registered for this workspace. Try re-authenticating with that SSO."},unexpectedSSODescription:{id:"uSkRZx",defaultMessage:"This workspace doesn't have an SSO associated with it, but you're trying to log in with SSO. Try logging in with social authentication (i.e. Google) or with your password."},requireSSODescription:{id:"akKMy1",defaultMessage:"Your organization requires that you log in with SSO to access this workspace"}});function LIe(){const{isUnauthenticated:e,isLoading:t}=at(),{layer:n}=Rp("2259187367"),{layer:r}=ot("2259187367"),s=$j(),a=_4e(),[i]=bn(),l=n.get("force_madlibs_param_name",""),c=l&&i.get(l)==="1",d=l&&i.get(l)==="disable";let f=!1;try{const g=new Date(n.get("start_time","2099-01-01T00:00:00Z")),v=new Date(n.get("end_time","2000-01-01T00:00:00Z")),h=Date.now();f=!t&&e&&a&&!d&&!gf()&&!s&&(c||h>=g.getTime()&&h<=v.getTime()&&r.get("enable_nux",!1))}catch{}const m=se(g=>g.noAuthMadlibsModalOpen);return u.useEffect(()=>{!Et.getItem(we.NoAuthMadlibsModalState)&&!m&&f&&pt.setNoAuthMadlibsModalOpen(!0)},[t,e,f,m]),{isOpen:m,close:()=>{pt.setNoAuthMadlibsModalOpen(!1)}}}const OIe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.0187 7C13.0061 7.16502 12.9998 7.33176 12.9998 7.5C12.9998 8.01627 13.0599 8.51848 13.1737 9H4C3.44772 9 3 8.55228 3 8C3 7.44772 3.44772 7 4 7H13.0187ZM15.0272 7C15.0091 7.16417 14.9998 7.331 14.9998 7.5C14.9998 8.02595 15.09 8.53083 15.2558 9H20C20.5523 9 21 8.55228 21 8C21 7.44772 20.5523 7 20 7H15.0272ZM4 15C3.44772 15 3 15.4477 3 16C3 16.5523 3.44772 17 4 17H14C14.5523 17 15 16.5523 15 16C15 15.4477 14.5523 15 14 15H4Z",fill:"currentColor"}),u.createElement("path",{d:"M14.9998 7.5C14.9998 5.01472 17.0145 3 19.4998 3C21.985 3 23.9998 5.01472 23.9998 7.5C23.9998 9.98528 21.985 12 19.4998 12C17.0145 12 14.9998 9.98528 14.9998 7.5Z",fill:"#007AFF"})),DIe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8C3 7.44772 3.44772 7 4 7H20C20.5523 7 21 7.44772 21 8C21 8.55228 20.5523 9 20 9H4C3.44772 9 3 8.55228 3 8ZM3 16C3 15.4477 3.44772 15 4 15H14C14.5523 15 15 15.4477 15 16C15 16.5523 14.5523 17 14 17H4C3.44772 17 3 16.5523 3 16Z",fill:"currentColor"}));function FIe({children:e}){const t=le(me.hasSeenZapdosProNUX),n=le(me.hasSeenZapdosPlusNUX),r=!t.isLoading&&t.eligible,s=!n.isLoading&&n.eligible;if(!r&&!s)return o.jsx(o.Fragment,{children:e});const a=s?me.hasSeenZapdosPlusNUX:me.hasSeenZapdosProNUX;return o.jsx(J1,{announcementKey:a,show:!0,side:"bottom",align:"center",theme:"bright",dismissOnOutsideClick:!0,badge:"new",title:s?o.jsx(C,{id:"+5D9Fx",defaultMessage:"GPT-4.5 research preview"}):o.jsx(C,{id:"kLSaOW",defaultMessage:"Try the GPT-4.5 research preview"}),description:s?o.jsx(C,{id:"vRwFZn",defaultMessage:"You now have access to a preview of our newest, largest model. {learnMore}",values:{learnMore:o.jsx(Yi,{href:"https://openai.com/index/introducing-gpt-4-5/",className:"underline",children:o.jsx(C,{id:"WGpoE2",defaultMessage:"Learn more"})})}}):o.jsx(C,{id:"rbH8fW",defaultMessage:"Pro users now have access to our newest, largest model. {learnMore}",values:{learnMore:o.jsx(Yi,{href:"https://openai.com/index/introducing-gpt-4-5/",className:"underline",children:o.jsx(C,{id:"WGpoE2",defaultMessage:"Learn more"})})}}),onDismiss:()=>{r&&t.markAsViewed(),s&&n.markAsViewed()},sideOffset:0,children:e})}var s3e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Unidentified="Unidentified",t.Alt="Alt",t.AltGraph="AltGraph",t.CapsLock="CapsLock",t.Control="Control",t.Fn="Fn",t.FnLock="FnLock",t.Hyper="Hyper",t.Meta="Meta",t.NumLock="NumLock",t.ScrollLock="ScrollLock",t.Shift="Shift",t.Super="Super",t.Symbol="Symbol",t.SymbolLock="SymbolLock",t.Enter="Enter",t.Tab="Tab",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.ArrowUp="ArrowUp",t.End="End",t.Home="Home",t.PageDown="PageDown",t.PageUp="PageUp",t.Backspace="Backspace",t.Clear="Clear",t.Copy="Copy",t.CrSel="CrSel",t.Cut="Cut",t.Delete="Delete",t.EraseEof="EraseEof",t.ExSel="ExSel",t.Insert="Insert",t.Paste="Paste",t.Redo="Redo",t.Undo="Undo",t.Accept="Accept",t.Again="Again",t.Attn="Attn",t.Cancel="Cancel",t.ContextMenu="ContextMenu",t.Escape="Escape",t.Execute="Execute",t.Find="Find",t.Finish="Finish",t.Help="Help",t.Pause="Pause",t.Play="Play",t.Props="Props",t.Select="Select",t.ZoomIn="ZoomIn",t.ZoomOut="ZoomOut",t.BrightnessDown="BrightnessDown",t.BrightnessUp="BrightnessUp",t.Eject="Eject",t.LogOff="LogOff",t.Power="Power",t.PowerOff="PowerOff",t.PrintScreen="PrintScreen",t.Hibernate="Hibernate",t.Standby="Standby",t.WakeUp="WakeUp",t.AllCandidates="AllCandidates",t.Alphanumeric="Alphanumeric",t.CodeInput="CodeInput",t.Compose="Compose",t.Convert="Convert",t.Dead="Dead",t.FinalMode="FinalMode",t.GroupFirst="GroupFirst",t.GroupLast="GroupLast",t.GroupNext="GroupNext",t.GroupPrevious="GroupPrevious",t.ModeChange="ModeChange",t.NextCandidate="NextCandidate",t.NonConvert="NonConvert",t.PreviousCandidate="PreviousCandidate",t.Process="Process",t.SingleCandidate="SingleCandidate",t.HangulMode="HangulMode",t.HanjaMode="HanjaMode",t.JunjaMode="JunjaMode",t.Eisu="Eisu",t.Hankaku="Hankaku",t.Hiragana="Hiragana",t.HiraganaKatakana="HiraganaKatakana",t.KanaMode="KanaMode",t.KanjiMode="KanjiMode",t.Katakana="Katakana",t.Romaji="Romaji",t.Zenkaku="Zenkaku",t.ZenkakuHanaku="ZenkakuHanaku",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.F13="F13",t.F14="F14",t.F15="F15",t.F16="F16",t.F17="F17",t.F18="F18",t.F19="F19",t.F20="F20",t.Soft1="Soft1",t.Soft2="Soft2",t.Soft3="Soft3",t.Soft4="Soft4",t.AppSwitch="AppSwitch",t.Call="Call",t.Camera="Camera",t.CameraFocus="CameraFocus",t.EndCall="EndCall",t.GoBack="GoBack",t.GoHome="GoHome",t.HeadsetHook="HeadsetHook",t.LastNumberRedial="LastNumberRedial",t.Notification="Notification",t.MannerMode="MannerMode",t.VoiceDial="VoiceDial",t.ChannelDown="ChannelDown",t.ChannelUp="ChannelUp",t.MediaFastForward="MediaFastForward",t.MediaPause="MediaPause",t.MediaPlay="MediaPlay",t.MediaPlayPause="MediaPlayPause",t.MediaRecord="MediaRecord",t.MediaRewind="MediaRewind",t.MediaStop="MediaStop",t.MediaTrackNext="MediaTrackNext",t.MediaTrackPrevious="MediaTrackPrevious",t.AudioBalanceLeft="AudioBalanceLeft",t.AudioBalanceRight="AudioBalanceRight",t.AudioBassDown="AudioBassDown",t.AudioBassBoostDown="AudioBassBoostDown",t.AudioBassBoostToggle="AudioBassBoostToggle",t.AudioBassBoostUp="AudioBassBoostUp",t.AudioBassUp="AudioBassUp",t.AudioFaderFront="AudioFaderFront",t.AudioFaderRear="AudioFaderRear",t.AudioSurroundModeNext="AudioSurroundModeNext",t.AudioTrebleDown="AudioTrebleDown",t.AudioTrebleUp="AudioTrebleUp",t.AudioVolumeDown="AudioVolumeDown",t.AudioVolumeMute="AudioVolumeMute",t.AudioVolumeUp="AudioVolumeUp",t.MicrophoneToggle="MicrophoneToggle",t.MicrophoneVolumeDown="MicrophoneVolumeDown",t.MicrophoneVolumeMute="MicrophoneVolumeMute",t.MicrophoneVolumeUp="MicrophoneVolumeUp",t.TV="TV",t.TV3DMode="TV3DMode",t.TVAntennaCable="TVAntennaCable",t.TVAudioDescription="TVAudioDescription",t.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",t.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",t.TVContentsMenu="TVContentsMenu",t.TVDataService="TVDataService",t.TVInput="TVInput",t.TVInputComponent1="TVInputComponent1",t.TVInputComponent2="TVInputComponent2",t.TVInputComposite1="TVInputComposite1",t.TVInputComposite2="TVInputComposite2",t.TVInputHDMI1="TVInputHDMI1",t.TVInputHDMI2="TVInputHDMI2",t.TVInputHDMI3="TVInputHDMI3",t.TVInputHDMI4="TVInputHDMI4",t.TVInputVGA1="TVInputVGA1",t.TVMediaContext="TVMediaContext",t.TVNetwork="TVNetwork",t.TVNumberEntry="TVNumberEntry",t.TVPower="TVPower",t.TVRadioService="TVRadioService",t.TVSatellite="TVSatellite",t.TVSatelliteBS="TVSatelliteBS",t.TVSatelliteCS="TVSatelliteCS",t.TVSatelliteToggle="TVSatelliteToggle",t.TVTerrestrialAnalog="TVTerrestrialAnalog",t.TVTerrestrialDigital="TVTerrestrialDigital",t.TVTimer="TVTimer",t.AVRInput="AVRInput",t.AVRPower="AVRPower",t.ColorF0Red="ColorF0Red",t.ColorF1Green="ColorF1Green",t.ColorF2Yellow="ColorF2Yellow",t.ColorF3Blue="ColorF3Blue",t.ColorF4Grey="ColorF4Grey",t.ColorF5Brown="ColorF5Brown",t.ClosedCaptionToggle="ClosedCaptionToggle",t.Dimmer="Dimmer",t.DisplaySwap="DisplaySwap",t.DVR="DVR",t.Exit="Exit",t.FavoriteClear0="FavoriteClear0",t.FavoriteClear1="FavoriteClear1",t.FavoriteClear2="FavoriteClear2",t.FavoriteClear3="FavoriteClear3",t.FavoriteRecall0="FavoriteRecall0",t.FavoriteRecall1="FavoriteRecall1",t.FavoriteRecall2="FavoriteRecall2",t.FavoriteRecall3="FavoriteRecall3",t.FavoriteStore0="FavoriteStore0",t.FavoriteStore1="FavoriteStore1",t.FavoriteStore2="FavoriteStore2",t.FavoriteStore3="FavoriteStore3",t.Guide="Guide",t.GuideNextDay="GuideNextDay",t.GuidePreviousDay="GuidePreviousDay",t.Info="Info",t.InstantReplay="InstantReplay",t.Link="Link",t.ListProgram="ListProgram",t.LiveContent="LiveContent",t.Lock="Lock",t.MediaApps="MediaApps",t.MediaAudioTrack="MediaAudioTrack",t.MediaLast="MediaLast",t.MediaSkipBackward="MediaSkipBackward",t.MediaSkipForward="MediaSkipForward",t.MediaStepBackward="MediaStepBackward",t.MediaStepForward="MediaStepForward",t.MediaTopMenu="MediaTopMenu",t.NavigateIn="NavigateIn",t.NavigateNext="NavigateNext",t.NavigateOut="NavigateOut",t.NavigatePrevious="NavigatePrevious",t.NextFavoriteChannel="NextFavoriteChannel",t.NextUserProfile="NextUserProfile",t.OnDemand="OnDemand",t.Pairing="Pairing",t.PinPDown="PinPDown",t.PinPMove="PinPMove",t.PinPToggle="PinPToggle",t.PinPUp="PinPUp",t.PlaySpeedDown="PlaySpeedDown",t.PlaySpeedReset="PlaySpeedReset",t.PlaySpeedUp="PlaySpeedUp",t.RandomToggle="RandomToggle",t.RcLowBattery="RcLowBattery",t.RecordSpeedNext="RecordSpeedNext",t.RfBypass="RfBypass",t.ScanChannelsToggle="ScanChannelsToggle",t.ScreenModeNext="ScreenModeNext",t.Settings="Settings",t.SplitScreenToggle="SplitScreenToggle",t.STBInput="STBInput",t.STBPower="STBPower",t.Subtitle="Subtitle",t.Teletext="Teletext",t.VideoModeNext="VideoModeNext",t.Wink="Wink",t.ZoomToggle="ZoomToggle",t.SpeechCorrectionList="SpeechCorrectionList",t.SpeechInputToggle="SpeechInputToggle",t.Close="Close",t.New="New",t.Open="Open",t.Print="Print",t.Save="Save",t.SpellCheck="SpellCheck",t.MailForward="MailForward",t.MailReply="MailReply",t.MailSend="MailSend",t.LaunchCalculator="LaunchCalculator",t.LaunchCalendar="LaunchCalendar",t.LaunchContacts="LaunchContacts",t.LaunchMail="LaunchMail",t.LaunchMediaPlayer="LaunchMediaPlayer",t.LaunchMusicPlayer="LaunchMusicPlayer",t.LaunchMyComputer="LaunchMyComputer",t.LaunchPhone="LaunchPhone",t.LaunchScreenSaver="LaunchScreenSaver",t.LaunchSpreadsheet="LaunchSpreadsheet",t.LaunchWebBrowser="LaunchWebBrowser",t.LaunchWebCam="LaunchWebCam",t.LaunchWordProcessor="LaunchWordProcessor",t.LaunchApplication1="LaunchApplication1",t.LaunchApplication2="LaunchApplication2",t.LaunchApplication3="LaunchApplication3",t.LaunchApplication4="LaunchApplication4",t.LaunchApplication5="LaunchApplication5",t.LaunchApplication6="LaunchApplication6",t.LaunchApplication7="LaunchApplication7",t.LaunchApplication8="LaunchApplication8",t.LaunchApplication9="LaunchApplication9",t.LaunchApplication10="LaunchApplication10",t.LaunchApplication11="LaunchApplication11",t.LaunchApplication12="LaunchApplication12",t.LaunchApplication13="LaunchApplication13",t.LaunchApplication14="LaunchApplication14",t.LaunchApplication15="LaunchApplication15",t.LaunchApplication16="LaunchApplication16",t.BrowserBack="BrowserBack",t.BrowserFavorites="BrowserFavorites",t.BrowserForward="BrowserForward",t.BrowserHome="BrowserHome",t.BrowserRefresh="BrowserRefresh",t.BrowserSearch="BrowserSearch",t.BrowserStop="BrowserStop",t.Decimal="Decimal",t.Key11="Key11",t.Key12="Key12",t.Multiply="Multiply",t.Add="Add",t.Divide="Divide",t.Subtract="Subtract",t.Separator="Separator"}(e.Key||(e.Key={}))})(s3e);function a3e({title:e,handleDelete:t,onClose:n}){const r=L(),s=Qo();return o.jsxs(he,{isOpen:!0,onClose:()=>n(),type:"success",title:r.formatMessage(qc.deleteModalTitle),primaryButton:o.jsx(Ve.Button,{title:r.formatMessage(qc.deleteModalConfirm),color:"danger",onClick:()=>{t(),n()},"data-testid":"delete-conversation-confirm-button"}),secondaryButton:o.jsx(Ve.Button,{title:r.formatMessage(qc.deleteModalCancel),color:"secondary",onClick:()=>n()}),children:[o.jsx(C,{...qc.deleteModalBody,values:{title:o.jsx("strong",{children:e})}}),s&&o.jsx("div",{className:"mt-2 text-sm text-token-text-tertiary",children:o.jsx(C,{id:"history.deleteModalMemoryDisclaimer",defaultMessage:"To clear any memories from this chat, visit your <link>settings</link>.",values:{link:a=>o.jsx(nn,{to:"#settings/Personalization",className:"underline",onClick:()=>{setTimeout(()=>{n({closeParentModal:!0})},100)},children:a})}})})]})}const $Ie=({serverThreadId:e,closeModal:t,isActiveConversation:n})=>{const r=xe(),s=Te(),a=_e(e),i=_$(),l=u.useMemo(()=>i.conversations.find(c=>c.id===e)?.title,[i.conversations,e]);return o.jsx(a3e,{title:a?.title??l??"",handleDelete:()=>{j.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:e}},requestBody:{is_visible:!1}}).then(()=>{da(r,Z.getGizmoId(_e(e))),$.logEvent("chatgpt_conversation_deleted"),E.logEvent(_.conversationDeleted),Ai.publish({kind:"deleteConversation",serverThreadId:e})}),n&&Pg(s)},onClose:t})},qc=U({deleteModalTitle:{id:"history.deleteModalTitle",defaultMessage:"Delete chat?"},deleteModalBody:{id:"history.deleteModalBody",defaultMessage:"This will delete {title}."},deleteModalConfirm:{id:"history.deleteModalConfirm",defaultMessage:"Delete"},deleteModalCancel:{id:"history.deleteModalCancel",defaultMessage:"Cancel"}});function o3e(){const{layer:e}=ml("3436367576"),t=e.get("enable_local_indexing",!1),n=e.get("enable_ux",!1),s=!!$e()?.hasPlusFeatures();return{isFannyPackEnabled:n||s,isFannyPackInitializerEnabled:t||s}}function UE(e,t){const n=e.metadata?.content_references;if(!n?.length)return t;const r=[...n].sort((i,l)=>i.start_idx-l.start_idx);let s="",a=0;for(const i of r){const{start_idx:l,end_idx:c}=i;let d="",f="";if(i.type==="image_inline")d=i.clicked_from_url??"",f=`${i.clicked_from_title??"image"}`;else if(i.type==="webpage_extended")d=i.url,f=`${i.title}`;else if(i.type==="hidden")d="",f="";else continue;l<0||c<l||c>=t.length||(s+=t.slice(a,l),(d||f)&&(s+=` ([${f}](${d}))`),a=c)}return s+=t.slice(a),s.replace(i3e,"").replace(l3e,"")}const i3e=/(\d+)(?::(\d+))?([^]*)(?:L(\d+)-L(\d+))?[^]*?/g,l3e=/(\d+)embed_image/g;function HE(e,t={shouldGetTextFromContentReferences:!0,shouldReplaceContentReferenceTags:!1,shouldGetVisibleTextFromUserTurn:!1}){const{messages:n}=e;return n.filter(r=>!r.clientMetadata?.err&&(r.author.role===Ce.Assistant||r.author.role===Ce.User)&&(t.shouldGetVisibleTextFromUserTurn||r.recipient==="all")).map(r=>t.shouldReplaceContentReferenceTags?UE(r,Ks(r,{shouldGetTextFromContentReferences:t.shouldGetTextFromContentReferences,shouldGetVisibleText:t.shouldGetVisibleTextFromUserTurn})):Ks(r,{shouldGetTextFromContentReferences:t.shouldGetTextFromContentReferences,shouldGetVisibleText:t.shouldGetVisibleTextFromUserTurn})).filter(r=>r!=="").join(`

`)}const c3e=async(e,t,n,r,s,a="mouse")=>{const l=Z.getConversationTurns(_e(t))[n];if(!l)return Promise.reject();const c=HE(l,{shouldGetTextFromContentReferences:!1,shouldReplaceContentReferenceTags:!0,shouldGetVisibleTextFromUserTurn:l.role===Ce.User}),{messages:d}=l,f={"text/plain":c};try{let m="";const{markdownToHtml:p}=await ut(async()=>{const{markdownToHtml:g}=await import("./lodl3s7jfiypzk1n.js").then(v=>v.a);return{markdownToHtml:g}},__vite__mapDeps([15,1,3,4,16,17,18,19,20,21,22,23,24,25,26,27,9,28,29,30,31]));for(const g of d)if(!g.clientMetadata?.err&&(g.author.role===Ce.Assistant||g.author.role===Ce.User)&&g.recipient==="all"){m&&(m+=`

`);const v=Ks(g,{shouldGetTextFromContentReferences:!1,shouldGetVisibleText:l.role===Ce.User}),h=UE(g,v);m+=await p(h)}f["text/html"]=m}catch(m){V.addError(m)}return jh(f,r,s).then(()=>{const m=vn(t);m&&n5(e,{messageId:d[0].id,type:"copy",serverThreadId:m,selectedText:c,source:a,location:"message"})})},BIe=(e,t,n,r,s="mouse")=>{const a=Z.getConversationTurns(_e(t));return c3e(e,t,a.length-1,n,r,s)};var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});var u3e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),X0={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},VE={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:u3e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},A5={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Zc=1;Zc<20;Zc++)A5["f"+Zc]=111+Zc;function xf(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(i){return GE(i,t)}),s=function(l){return r.some(function(c){return WE(c,l)})},a=n==null?s:s(n);return a}function d3e(e,t){return xf(e,t)}function f3e(e,t){return xf(e,{byKey:!0},t)}function GE(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var s=e.split("+"),a=s.length;for(var i in X0)r[X0[i]]=!1;var l=!0,c=!1,d=void 0;try{for(var f=s[Symbol.iterator](),m;!(l=(m=f.next()).done);l=!0){var p=m.value,g=p.endsWith("?")&&p.length>1;g&&(p=p.slice(0,-1));var v=P5(p),h=X0[v];if(p.length>1&&!h&&!VE[p]&&!A5[v])throw new TypeError('Unknown modifier: "'+p+'"');(a===1||!h)&&(n?r.key=v:r.which=zE(p)),h&&(r[h]=g?null:!0)}}catch(x){c=!0,d=x}finally{try{!l&&f.return&&f.return()}finally{if(c)throw d}}return r}function WE(e,t){for(var n in e){var r=e[n],s=void 0;if(r!=null&&(n==="key"&&t.key!=null?s=t.key.toLowerCase():n==="which"?s=r===91&&t.which===93?91:t.which:s=t[n],!(s==null&&r===!1)&&s!==r))return!1}return!0}function zE(e){e=P5(e);var t=A5[e]||e.toUpperCase().charCodeAt(0);return t}function P5(e){return e=e.toLowerCase(),e=VE[e]||e,e}var m3e=Wr.default=xf;Wr.isHotkey=xf;Wr.isCodeHotkey=d3e;Wr.isKeyHotkey=f3e;Wr.parseHotkey=GE;Wr.compareHotkey=WE;Wr.toKeyCode=zE;Wr.toKeyName=P5;function UIe(e,t,n){const r=mp(),s=e.map(a=>{const{keyboardBinding:i}=a;let l=i.join("+");if(a.altKeyboardBindings){l=[l];const c=a.altKeyboardBindings.map(d=>d.join("+"));l=l.concat(c)}return m3e(l,{byKey:!0})});Bd(()=>{if(n?.enabled===!1)return;const a=c=>{if(!c.repeat)for(let d=0;d<s.length;d++)s[d](c)&&(e[d].enabled===void 0||e[d].enabled)&&(c.preventDefault(),t(e[d]),e[d].action(c))},i=c=>{c.key!==void 0&&a(c)},l=r?.document??document;return l.addEventListener("keydown",i),()=>{l.removeEventListener("keydown",i)}},[e,n])}const HIe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{transform:"translate(3.05 0)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",transform:"translate(-8 0)",d:"M9.29289 18.7071C8.90237 18.3166 8.90237 17.6834 9.29289 17.2929L14.5858 12L9.29289 6.70711C8.90237 6.31658 8.90237 5.68342 9.29289 5.29289C9.68342 4.90237 10.3166 4.90237 10.7071 5.29289L16.7071 11.2929C16.8946 11.4804 17 11.7348 17 12C17 12.2652 16.8946 12.5196 16.7071 12.7071L10.7071 18.7071C10.3166 19.0976 9.68342 19.0976 9.29289 18.7071Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.29289 18.7071C8.90237 18.3166 8.90237 17.6834 9.29289 17.2929L14.5858 12L9.29289 6.70711C8.90237 6.31658 8.90237 5.68342 9.29289 5.29289C9.68342 4.90237 10.3166 4.90237 10.7071 5.29289L16.7071 11.2929C16.8946 11.4804 17 11.7348 17 12C17 12.2652 16.8946 12.5196 16.7071 12.7071L10.7071 18.7071C10.3166 19.0976 9.68342 19.0976 9.29289 18.7071Z",fill:"currentColor"}))),N5=de(St(()=>({dragData:null}))),VIe=()=>N5(e=>e.dragData),GIe=e=>{N5.setState({dragData:e})},WIe=()=>{N5.setState(e=>{e.dragData=null})},zIe=ce.h3`px-2 text-xs font-semibold text-ellipsis overflow-hidden break-all pt-3 pb-2 text-token-text-primary`;function qIe({conversationId:e,historyConversationResponse:t,onClose:n}){const[r]=u.useState(()=>_e(e)?.title??t.title),[s,a]=u.useState(r),i=xe();function l(){s!==r&&(Nn.setTitle(e,s,gl.User),E.logEvent(_.renameThread,{threadId:e,content:s}),fe.patchConversation(e,{title:s}).then(()=>{da(i,t.gizmo_id)}))}return o.jsx("input",{type:"text",value:s,onChange:c=>{a(c.target.value)},onKeyDown:c=>{if(!c.nativeEvent.isComposing)switch(c.key===" "&&c.stopPropagation(),c.key){case"Escape":n();break;case"Enter":l(),n();break}},onBlur:()=>{l(),n()},autoFocus:!0,className:"w-full border border-token-border-light bg-transparent p-0 text-sm"})}const p3e=15;function ZIe({task:e}){const t=(e.expectedDurationMinutes||p3e)*60*1e3,n=Wle(+new Date(e.createdAt),t);return e.status===ed.UNDETERMINED?o.jsx(Eu,{percentage:0,thickness:1/10,className:"h-4 w-4 text-blue-selection",backgroundStrokeClassName:"stroke-black/10 dark:stroke-white/10",transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"}):yle(e)?o.jsx(pj,{className:"text-token-text-secondary"}):o.jsx(Eu,{percentage:n,thickness:1/10,className:"h-4 w-4 text-blue-selection",backgroundStrokeClassName:"stroke-black/10 dark:stroke-white/10",transitionDuration:`${(100-n)/100*.2}s`,transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"})}function qE(e){const[t,n]=u.useState(!1);return u.useEffect(()=>{let r=_e(e)?.title;return uN.subscribe(s=>{const a=_e(e,s),i=a?.title;i!==r&&(a?.titleSource===gl.Generated&&Vi(window)?n(!0):n(!1),r=i)})},[e]),t}function ZE({text:e}){const t=pie(),[n,r]=u.useState({finalText:e,pos:0,isTyping:!!e});u.useEffect(()=>{r(e?{finalText:e,pos:0,isTyping:!0}:{finalText:"",pos:0,isTyping:!1})},[e]);const s=u.useMemo(()=>Array.from(n.finalText),[n.finalText]),a=u.useMemo(()=>n.finalText?new g3e().humanTypingDelaysQuertyDistance(s):[],[s,n.finalText]);return u.useEffect(()=>{if(!n.isTyping)return;const i=a.map((l,c)=>setTimeout(()=>{t()&&r(d=>({...d,pos:c+1,isTyping:c+1<s.length}))},l));return()=>i.forEach(clearTimeout)},[n.isTyping,a,s,t]),o.jsx(o.Fragment,{children:n.finalText.slice(0,n.pos)})}class g3e{qwertyDistance(t,n){const r={q:[0,0],w:[1,0],e:[2,0],r:[3,0],t:[4,0],y:[5,0],u:[6,0],i:[7,0],o:[8,0],p:[9,0],a:[0,1],s:[1,1],d:[2,1],f:[3,1],g:[4,1],h:[5,1],j:[6,1],k:[7,1],l:[8,1],z:[0,2],x:[1,2],c:[2,2],v:[3,2],b:[4,2],n:[5,2],m:[6,2]},[s,a]=r[t.toLowerCase()]??[0,0],[i,l]=r[n.toLowerCase()]??[0,0];return Math.abs(s-i)+Math.abs(a-l)}humanTypingDelaysQuertyDistance(t,n=10,r=100){let s=0;const a=[];for(let i=0;i<t.length;++i){let l;if(i>0){const c=this.qwertyDistance(t[i-1],t[i]);c===0?l=this.getRandomInt(n,Math.floor(r/2)):c===1?l=this.getRandomInt(n,Math.floor(r*2/3)):l=this.getRandomInt(n,r)}else l=this.getRandomInt(n,r);a.push(l+s),s+=l}return a}getRandomInt(t,n){return Math.floor(Math.random()*(n-t+1))+t}}function YIe({clientThreadId:e,historyConversationResponse:t,shouldShowLoadingShimmer:n}){const r=Je(e,i=>i?.title),s=qE(e),a=r??t.title;return o.jsx("div",{className:N("relative grow overflow-hidden whitespace-nowrap",{"loading-shimmer":n}),dir:"auto",title:a,children:s?o.jsx(ZE,{text:a}):a})}const h3e="no-draggable group rounded-lg active:opacity-90 bg-[var(--item-background-color)] h-9 text-sm";function v3e(e,t,n){return e||n?"var(--sidebar-surface-secondary)":t?"var(--sidebar-surface-tertiary)":"var(--sidebar-surface-primary)"}const KIe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5001 3.44354C12.1907 3.26491 11.8095 3.26491 11.5001 3.44354L5.24667 7.05396L12.0147 10.861L18.9699 7.17886L12.5001 3.44354ZM19.6604 9.07629L13.0002 12.6023V20.2681L19.1604 16.7115C19.4698 16.5329 19.6604 16.2027 19.6604 15.8455V9.07629ZM11.0002 20.2682V12.585L4.33984 8.83857V15.8455C4.33984 16.2027 4.53044 16.5329 4.83984 16.7115L11.0002 20.2682ZM10.5001 1.71149C11.4283 1.1756 12.5719 1.1756 13.5001 1.71149L20.1604 5.55679C21.0886 6.09269 21.6604 7.08307 21.6604 8.15487V15.8455C21.6604 16.9173 21.0886 17.9076 20.1604 18.4435L13.5001 22.2888C12.5719 22.8247 11.4283 22.8247 10.5001 22.2888L3.83984 18.4435C2.91164 17.9076 2.33984 16.9173 2.33984 15.8455V8.15487C2.33984 7.08307 2.91164 6.09269 3.83984 5.55679L10.5001 1.71149Z",fill:"currentColor"}));function x3e({href:e,icon:t,expandToContainer:n,label:r,labelNode:s,rightIcon:a,hoverRightIcon:i,isMenuOpen:l,showActiveIndicator:c,loggingGizmoId:d,onClick:f,target:m,testId:p,elementRef:g,isHovered:v}){const h=h3e;return o.jsxs(nn,{to:e,target:m,title:r,"data-testid":p,style:{"--item-background-color":v3e(v,c,l)},className:N(h,"flex items-center gap-2.5 p-2 screen-arch:relative screen-arch:bg-transparent screen-arch:py-[7px]",n&&"flex-1"),onClick:x=>{E.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:d}),E.logEvent(_.sidebarClickGizmo,{gizmo_id:d}),f?.(x)},ref:g,children:[t!=null&&o.jsx("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:t}),o.jsx("div",{className:"grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary",children:s??r}),i,a]})}const C3e=U({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}}),y3e="webp",b3e=72,w3e=72,S3e="srgb",M3e=4,_3e="uchar",E3e=72,k3e=!1,T3e=!1,A3e=!0,P3e="{{.assetPrefix}}/assets/sora-mutf8tav.webp",J0={format:y3e,width:b3e,height:w3e,space:S3e,channels:M3e,depth:_3e,density:E3e,isProgressive:k3e,hasProfile:T3e,hasAlpha:A3e,src:P3e},N3e=e=>u.createElement("svg",{width:85,height:85,viewBox:"0 0 85 85",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.4864 21.3346C38.6228 21.3346 35.0079 22.3672 31.8977 24.1714C32.7603 24.0482 33.6421 23.9845 34.5387 23.9845C44.7661 23.9845 53.057 32.2753 53.057 42.5027C53.057 43.9514 51.8825 45.1259 50.4338 45.1259C48.985 45.1259 47.8105 43.9514 47.8105 42.5027C47.8105 35.1729 41.8685 29.2309 34.5387 29.2309C27.9831 29.2309 22.5377 33.9839 21.4605 40.2319C21.378 40.9945 21.3358 41.7692 21.3358 42.5539C21.3358 54.273 30.7673 63.661 42.4864 63.661C46.361 63.661 49.9868 62.6286 53.1049 60.823C52.2379 60.9475 51.3514 61.0119 50.45 61.0119C40.2226 61.0119 31.9317 52.721 31.9317 42.4937C31.9317 41.0449 33.1062 39.8705 34.5549 39.8705C36.0037 39.8705 37.1782 41.0449 37.1782 42.4937C37.1782 49.8235 43.1201 55.7655 50.45 55.7655C57.0162 55.7655 62.4687 50.997 63.5335 44.734C63.61 43.9992 63.6493 43.2531 63.6493 42.4975C63.6493 30.7784 54.2055 21.3346 42.4864 21.3346ZM68.9503 42.1858C68.7832 27.7128 56.9989 16.0318 42.4864 16.0318C27.9057 16.0318 16.0789 27.8228 16.0208 42.3899C16.0206 42.4274 16.0205 42.465 16.0205 42.5027L16.0206 42.5302C16.0383 57.1318 27.8806 68.9633 42.4864 68.9633C56.6325 68.9633 68.1864 57.8648 68.9156 43.9002C68.9504 43.4359 68.9682 42.9669 68.9682 42.4937C68.9682 42.3895 68.9621 42.2868 68.9503 42.1858Z",fill:"currentColor"}));function QIe({condensed:e,children:t,className:n,header:r,hideHeader:s=!1,id:a,isLastInGroup:i=!1,footer:l,ulClassName:c}){return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:N(n,s&&"hidden",e&&"flex items-end",!e&&"z-20 screen-arch:sticky screen-arch:top-[var(--sticky-title-offset)]","select-none overflow-clip text-ellipsis break-all pl-2 pt-7 text-xs font-semibold text-token-text-primary screen-arch:-mr-2 screen-arch:h-10 screen-arch:min-w-[50cqw] screen-arch:-translate-x-2 screen-arch:bg-[var(--sidebar-surface)] screen-arch:py-1 screen-arch:text-token-text-secondary"),children:o.jsx("h2",{id:a,className:"flex h-[26px] w-full items-center justify-between text-xs",children:r})}),o.jsxs("aside",{className:N("flex flex-col gap-4",i?"mb-0":"mb-3"),children:[o.jsx("ul",{"aria-labelledby":a,className:N("flex flex-col",c),children:t}),l]})]})}const j3e=()=>{const{isUnauthenticated:e}=at(),t=$e(),n=t?.isPlus()||t?.isTeam()||t?.isPro();return!e&&!t?.isEnterprisey()&&n},XIe=()=>{const{config:e,isLoading:t}=R8("357305500"),n=j3e(),r=L();return t||!e.get("can_see_upsell",!1)||!n?null:o.jsx(YE,{id:"sora",href:"https://sora.com?utm_source=chatgpt",onClick:()=>{E.logEvent(_.sidebarClickGizmo,{gizmo_id:"sora"}),E.logEventWithStatsig(_.sidebarClickGizmo,"chatgpt_sidebar_click_sora",{gizmo_id:"sora"})},icon:o.jsx("img",{src:typeof J0=="string"?J0:J0.src,alt:r.formatMessage({id:"GizmoSidebarListItem.soraIcon",defaultMessage:"Sora icon"})}),label:r.formatMessage({id:"GizmoSidebarListItem.sora",defaultMessage:"Sora"}),hoverRightIcon:o.jsx("div",{className:"invisible text-token-text-secondary hover:text-token-text-primary can-hover:group-hover:visible",children:o.jsx(v1,{className:"icon-md"})})})},JIe=()=>{const e=L();return o.jsx(YE,{id:"operator-sidebar-list-item",href:`${L8}?utm_source=chatgpt`,onClick:()=>{E.logEvent(_.sidebarClickGizmo,{gizmo_id:"operator"}),E.logEventWithStatsig(_.sidebarClickGizmo,"chatgpt_sidebar_click_operator",{gizmo_id:"operator"})},icon:o.jsx("div",{className:"gizmo-shadow-stroke relative flex h-6 w-6 items-center justify-center rounded-full bg-token-main-surface-primary text-token-text-primary",children:o.jsx(N3e,{})}),label:e.formatMessage({id:"GizmoSidebarListItem.operator",defaultMessage:"Operator"}),hoverRightIcon:o.jsx("div",{className:"invisible text-token-text-secondary hover:text-token-text-primary can-hover:group-hover:visible",children:o.jsx(v1,{className:"icon-md"})})})},YE=({id:e,href:t,onClick:n,icon:r,label:s,hoverRightIcon:a})=>{const[i,l]=u.useState(!1);return o.jsx("div",{onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},className:"relative self-stretch",children:o.jsx(x3e,{loggingGizmoId:e,href:t,target:"_blank",isHovered:i,onClick:n,icon:r,isMenuOpen:!1,label:s,hoverRightIcon:a})})},eRe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 4.5C5.50736 4.5 4.5 5.50736 4.5 6.75C4.5 7.99264 5.50736 9 6.75 9C7.99264 9 9 7.99264 9 6.75C9 5.50736 7.99264 4.5 6.75 4.5ZM2.5 6.75C2.5 4.40279 4.40279 2.5 6.75 2.5C9.09721 2.5 11 4.40279 11 6.75C11 9.09721 9.09721 11 6.75 11C4.40279 11 2.5 9.09721 2.5 6.75Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.25 4.5C16.0074 4.5 15 5.50736 15 6.75C15 7.99264 16.0074 9 17.25 9C18.4926 9 19.5 7.99264 19.5 6.75C19.5 5.50736 18.4926 4.5 17.25 4.5ZM13 6.75C13 4.40279 14.9028 2.5 17.25 2.5C19.5972 2.5 21.5 4.40279 21.5 6.75C21.5 9.09721 19.5972 11 17.25 11C14.9028 11 13 9.09721 13 6.75Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 15C5.50736 15 4.5 16.0074 4.5 17.25C4.5 18.4926 5.50736 19.5 6.75 19.5C7.99264 19.5 9 18.4926 9 17.25C9 16.0074 7.99264 15 6.75 15ZM2.5 17.25C2.5 14.9028 4.40279 13 6.75 13C9.09721 13 11 14.9028 11 17.25C11 19.5972 9.09721 21.5 6.75 21.5C4.40279 21.5 2.5 19.5972 2.5 17.25Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.25 15C16.0074 15 15 16.0074 15 17.25C15 18.4926 16.0074 19.5 17.25 19.5C18.4926 19.5 19.5 18.4926 19.5 17.25C19.5 16.0074 18.4926 15 17.25 15ZM13 17.25C13 14.9028 14.9028 13 17.25 13C19.5972 13 21.5 14.9028 21.5 17.25C21.5 19.5972 19.5972 21.5 17.25 21.5C14.9028 21.5 13 19.5972 13 17.25Z",fill:"currentColor"})),I3e=u.forwardRef(function({icon:t,children:n,...r},s){return o.jsxs("button",{ref:s,...r,className:"flex h-9 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary",children:[o.jsx("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:o.jsx(t,{className:"icon-md"})}),o.jsx("span",{className:"text-sm",children:n})]})}),R3e=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e},u.createElement("path",{fill:"currentColor",d:"M8.866 5.003a2 2 0 0 1 1.227.508c.036.032.073.07.2.196l.017.017c.103.103.18.18.262.254a4 4 0 0 0 2.454 1.016c.109.006.219.006.365.006H16.2c.857 0 1.439 0 1.889.038.438.035.663.1.819.18a2 2 0 0 1 .874.874c.08.156.145.38.18.819.024.294.033.643.036 1.089H4V8.8c0-.857 0-1.439.038-1.889.035-.438.1-.663.18-.819a2 2 0 0 1 .874-.874c.156-.08.38-.145.819-.18C6.361 5 6.943 5 7.8 5h.786c.18 0 .232 0 .28.003M22 10.759c0-.805 0-1.47-.044-2.01-.046-.563-.145-1.08-.392-1.565a4 4 0 0 0-1.748-1.748c-.485-.247-1.002-.346-1.564-.392C17.71 5 17.046 5 16.242 5h-2.828c-.18 0-.232 0-.28-.003a2 2 0 0 1-1.227-.508 6 6 0 0 1-.2-.196l-.017-.017a7 7 0 0 0-.262-.254 4 4 0 0 0-2.454-1.016C8.865 3 8.755 3 8.61 3h-.85c-.805 0-1.47 0-2.01.044-.563.046-1.08.145-1.565.392a4 4 0 0 0-1.748 1.748c-.247.485-.346 1.002-.392 1.564C2 7.29 2 7.954 2 8.758v6.483c0 .805 0 1.47.044 2.01.046.563.145 1.08.392 1.565a4 4 0 0 0 1.748 1.748c.485.247 1.002.346 1.564.392C6.29 21 6.954 21 7.758 21h8.483c.805 0 1.47 0 2.01-.044.563-.046 1.08-.145 1.565-.392a4 4 0 0 0 1.748-1.748c.247-.485.346-1.002.392-1.564.044-.541.044-1.206.044-2.01zM20 12v3.2c0 .857 0 1.439-.038 1.889-.035.438-.1.663-.18.819a2 2 0 0 1-.874.874c-.156.08-.38.145-.819.18-.45.037-1.032.038-1.889.038H7.8c-.857 0-1.439 0-1.889-.038-.438-.035-.663-.1-.819-.18a2 2 0 0 1-.874-.874c-.08-.156-.145-.38-.18-.819C4 16.639 4 16.057 4 15.2V12z"}));var KE=(e=>(e.Keep="sidebar_keep",e.Recents="sidebar_recents",e.Workspace="sidebar_workspace",e))(KE||{});const L3e=gt(()=>ut(()=>import("./l58upji5k37aack9.js"),__vite__mapDeps([44,1,3,4])).then(e=>e.GizmoKeepInSidebarMenuItem));function tRe({gizmo:e,isOpen:t,setIsOpen:n,section:r}){const s=xe();return o.jsxs(To,{open:t,onOpenChange:n,triggerButton:o.jsx("button",{className:N("flex text-token-text-secondary hover:text-token-text-primary",t?"":"invisible can-hover:group-hover:visible"),children:o.jsx(I_,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[r===KE.Recents&&o.jsx(te.Item,{onClick:async()=>{await Ke.updateGizmoSidebar(s,QO,e.gizmo.id,"keep",r)},children:o.jsx(C,{...C3e.keepInSidebar})}),o.jsx(L3e,{gizmoResource:e,location:r})]})}function nRe({gizmo:e,isOpen:t,setIsOpen:n}){const[r,s]=u.useState(!1),a=Te();return eC(e)?o.jsxs(o.Fragment,{children:[o.jsx(To,{open:t,onOpenChange:n,triggerButton:o.jsx("button",{className:N("flex text-token-text-secondary hover:text-token-text-primary",t?"":"invisible can-hover:group-hover:visible"),children:o.jsx(I_,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:o.jsx(te.Item,{color:"danger",onClick:()=>{s(!0)},icon:Kl,children:o.jsx(C,{...je.deleteProjectDropdownButton})})}),r&&o.jsx(lE,{gizmoId:e.gizmo.id,onSuccess:()=>{s(!1),a("/")},onClose:()=>{s(!1)}})]}):null}const QE=de()(()=>({})),rRe=e=>QE(n=>O3e(n,"theme",e.gizmo.id))??e.gizmo.display.theme??null,O3e=(e,t,n)=>{if(n===Ja||!n)return;const r=`${n}-${t}`;return e[r]},D3e=(e,t,n)=>{if(e===Ja)return;QE.setState(s=>{const a=`${e}-${t}`,i={...s};return n===void 0?delete i[a]:i[a]=n,i},!0)},sRe=(e,t)=>{D3e(e,t,void 0)};class aRe extends $d()(()=>({folderStates:{}})){expandProject(t){this.setState(n=>({...n,folderStates:{...n.folderStates,[t]:"open"}}))}collapseProject(t){this.setState(n=>({...n,folderStates:{...n.folderStates,[t]:"close"}}))}static selectFolderState=(t,n)=>t.folderStates[n]}const F3e=u.createContext({isSidebarFlyoutOpen:()=>!1,onSidebarFlyoutOpenChange:()=>{}});function oRe(){return u.use(F3e)}var $3e=(e=>(e.Conversation="conversation",e.Gizmo="gizmo",e.Snorlax="snorlax",e))($3e||{});const B3e=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e},u.createElement("path",{fill:"currentColor",d:"M20 15a1 1 0 1 0-2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2z"}),u.createElement("path",{fill:"currentColor",d:"M21.956 8.748C22 9.29 22 9.954 22 10.758V11a1 1 0 0 1-1 1H4v3.2c0 .857 0 1.439.038 1.889.035.438.1.663.18.819a2 2 0 0 0 .874.874c.156.08.38.145.819.18C6.361 19 6.943 19 7.8 19H12a1 1 0 1 1 0 2H7.759c-.805 0-1.47 0-2.01-.044-.563-.046-1.08-.145-1.565-.392a4 4 0 0 1-1.748-1.748c-.247-.485-.346-1.002-.392-1.564C2 16.71 2 16.046 2 15.242V8.758c0-.805 0-1.47.044-2.01.046-.563.145-1.08.392-1.565a4 4 0 0 1 1.748-1.748c.485-.247 1.002-.346 1.564-.392C6.29 3 6.954 3 7.758 3h.851c.146 0 .256 0 .365.006a4 4 0 0 1 2.454 1.016c.081.073.16.151.262.254l.017.017c.127.127.164.164.2.196a2 2 0 0 0 1.227.508c.048.003.1.003.28.003h2.827c.805 0 1.47 0 2.01.044.563.046 1.08.145 1.565.392a4 4 0 0 1 1.748 1.748c.247.485.346 1.002.392 1.564M10.093 5.511a2 2 0 0 0-1.227-.508A6 6 0 0 0 8.586 5H7.8c-.857 0-1.439 0-1.889.038-.438.035-.663.1-.819.18a2 2 0 0 0-.874.874c-.08.156-.145.38-.18.819C4 7.361 4 7.943 4 8.8V10h15.998a15 15 0 0 0-.036-1.089c-.035-.438-.1-.663-.18-.819a2 2 0 0 0-.874-.874c-.156-.08-.38-.145-.819-.18C17.639 7 17.057 7 16.2 7h-2.81c-.145 0-.255 0-.364-.006a4 4 0 0 1-2.454-1.016 7 7 0 0 1-.262-.254l-.017-.017a6 6 0 0 0-.2-.196"})),U3e=ce.div`text-sm text-red-500`,H3e=ce.input`w-full resize-none overflow-y-auto rounded-lg px-3 py-2 focus:ring-2 border focus:ring-token-text-primary border-token-border-medium focus:border-token-border-medium h-9 bg-token-main-surface-primary`;function XE({submitButtonTitle:e,onClose:t,onSuccess:n,gizmo:r}){const s=L(),a=Be(),i=V5e(),l=!r,[c,d]=u.useState(r?.gizmo.display.name??""),f=[];c.length>Dm&&f.push(s.formatMessage(je.nameTooLong,{length:Dm}));const m=async()=>{try{const{id:v,resource:h}=await i.mutateAsync({update:{name:c},id:r?.gizmo.id??Ja});n&&n(v??h?.gizmo.id),t()}catch(v){const h=dN(v);a.warning(h??"Error",{duration:2})}},p=o.jsx(Ve.Button,{title:e??s.formatMessage(je.createProjectSubmit),as:"button",type:"submit",color:"primary",loading:i.isPending,disabled:!c.trim()||f.length>0}),g=o.jsx(Ve.Button,{title:s.formatMessage(je.createProjectCancel),color:"secondary",onClick:t,disabled:i.isPending});return o.jsx(he,{isOpen:!0,hideSeparator:!0,noPadding:!0,showCloseButton:!i.isPending,size:"custom",className:"max-w-lg",type:"success",title:o.jsx("div",{className:"h-8",children:s.formatMessage(je.projectNameLabel)}),onClose:()=>{i.isPending||t()},children:o.jsxs("form",{onSubmit:v=>{v.preventDefault(),E.logEvent(_.projectsCreateSubmit),m()},children:[o.jsxs("div",{className:"mb-6 mt-[2px] px-4 sm:px-6",children:[o.jsx(H3e,{autoFocus:!0,type:"text",name:"projectName",autoComplete:"off",placeholder:s.formatMessage(je.projectNamePlaceholder),value:c,onChange:v=>d(v.target.value)}),f.map((v,h)=>o.jsx(U3e,{className:"mt-1",children:v},h)),l&&o.jsxs("div",{className:"mt-6 flex items-start rounded-xl bg-[#F9F9F9] p-3 dark:bg-token-main-surface-secondary",children:[o.jsx("div",{className:"mr-2 h-6 w-6",children:o.jsx("div",{className:"relative flex h-full items-center justify-center text-token-text-secondary",children:o.jsx(fE,{className:"icon-md"})})}),o.jsxs("div",{children:[o.jsx("strong",{className:"block text-xs font-medium text-token-text-secondary",children:o.jsx(C,{...je.projectHelperBoxTitle})}),o.jsx("p",{className:"text-xs text-token-text-secondary",children:o.jsx(C,{...je.projectHelperBoxDescription})})]})]})]}),o.jsx("div",{className:"px-4 pb-4 sm:px-6 sm:pb-6",children:o.jsx(Ve.Actions,{primaryButton:p,secondaryButton:g})})]})})}const V3e=ce.button`mr-1 flex rounded-lg focus-visible:opacity-100 items-center text-token-text-primary hover:bg-token-sidebar-surface-secondary can-hover:opacity-0 can-hover:pointer-events-none can-hover:group-hover/sidebar:opacity-100 can-hover:group-hover/sidebar:pointer-events-auto transition-opacity duration-300`;function iRe(){const e=Te(),[t,n]=u.useState(!1),{shouldShowTooltipNux:r,tooltipAnnouncement:s}=G3e();return o.jsxs(o.Fragment,{children:[o.jsx(W3e,{showNuxTooltip:r,tooltipAnnouncement:s,children:o.jsx(I3e,{icon:B3e,onClick:()=>{n(!0),r&&s.markAsViewed(),E.logEvent(_.projectsCreateOpen,{source:"sidebar_row_button"})},children:o.jsx(C,{...je.newProjectButton})})}),t&&o.jsx(XE,{onClose:()=>n(!1),onSuccess:a=>{a&&e(`/g/${a}/project`)}})]})}function lRe(){const e=Te(),[t,n]=u.useState(!1),r=L();return o.jsxs(o.Fragment,{children:[o.jsx(et,{sideOffset:4,label:r.formatMessage(je.newProjectButtonTooltip),side:"right",children:o.jsx(V3e,{onClick:()=>{E.logEvent(_.projectsCreateOpen,{source:"sidebar_header_plus"}),n(!0)},"aria-label":r.formatMessage(je.newProjectHeaderButton),children:o.jsx("div",{className:"flex h-[26px] w-[26px] items-center justify-center text-token-text-secondary",children:o.jsx(NU,{className:"icon-md"})})})}),t&&o.jsx(XE,{onClose:()=>n(!1),onSuccess:s=>{s&&e(`/g/${s}/project`)}})]})}function G3e(){const e=le(me.hasSeenProjectsWebNuxTooltip);return{shouldShowTooltipNux:!e.isLoading&&e.eligible,tooltipAnnouncement:e}}function W3e({showNuxTooltip:e,tooltipAnnouncement:t,children:n}){const r=L(),s=Gp(),a=Kn(),i=xs();return!e||a||!i||s?o.jsx(et,{sideOffset:4,label:r.formatMessage(je.newProjectButtonTooltip),side:"right",children:n}):o.jsx(J1,{announcementKey:me.hasSeenProjectsWebNuxTooltip,theme:"bright",side:"right",show:!0,badge:"new",dismissOnOutsideClick:!0,title:r.formatMessage(je.projectsNuxTooltipTitle),description:r.formatMessage(je.projectsNuxTooltipDescription),onDismiss:t.markAsViewed,sideOffset:-5,children:n})}function cRe({showRetry:e,refetch:t}){return o.jsxs("div",{className:"mt-5 p-3 text-center italic text-token-text-tertiary",children:[o.jsx(C,{...je.unableToLoadHistory}),e&&o.jsx("div",{className:"mt-1",children:o.jsx(G,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{t(!0)},children:o.jsx(C,{...je.retryLoadingHistory})})})]})}function z3e({gizmo:e,icon:t,onClick:n,elementRef:r}){const s=e.gizmo.display.name;return o.jsx(nn,{to:e!=null?zi(e):"/",className:"group relative mx-2 flex flex-col gap-1 rounded-md p-3 hover:bg-[#f5f5f5] dark:hover:bg-token-main-surface-secondary",onClick:a=>n?.(a),ref:r,children:o.jsxs("div",{className:"flex items-center gap-2",children:[t,o.jsx("div",{className:"grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary",children:s})]})})}function q3e(e){const t=L(),n=xe(),[r,s]=u.useState(!1),{snorlaxes:a,hasNextPage:i,fetchNextPage:l,isLoading:c,isFetchingNextPage:d,isError:f}=z5e(),p=(e.inSidebarFlyout?a.slice(iC):a).filter(({gizmo:x})=>x.gizmo.id!==e.currentGizmoId),g=p.length===0,v=u.useRef(null),h=u.useCallback(x=>{c||x==null||(v.current?.disconnect(),v.current=new IntersectionObserver(y=>{y[0].isIntersecting&&i&&l()}),v.current.observe(x))},[c,i,l]);return u.useEffect(()=>()=>{v.current?.disconnect()},[]),o.jsxs(Z3e,{ref:g&&!f?h:void 0,$centered:c||f||g,children:[g&&c&&o.jsx(O8,{children:o.jsx(pr,{className:"m-auto"})}),g&&f&&o.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[t.formatMessage(je.unableToLoadHistory),!r&&o.jsx("div",{className:"mt-1",children:o.jsx(G,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{s(!0),b5(n)},children:t.formatMessage(je.retryLoadingHistory)})})]}),!c&&!g&&o.jsx("ul",{className:"flex flex-col screen-arch:gap-0.5",children:p.map(({gizmo:x},y)=>{const b=y===p.length-1?h:void 0;return e.customListItem?o.jsx(e.customListItem,{gizmo:x,isActive:!1,hideOverflowMenu:!0,elementRef:b},x.gizmo.id):!e.inSidebarFlyout&&o.jsx(z3e,{gizmo:x,onClick:()=>{e.onUpdateConversationGizmo(x.gizmo.id)},icon:o.jsx(R3e,{className:"icon-md",style:{color:x.gizmo.display.theme}}),elementRef:b},x.gizmo.id)})}),d&&o.jsx("div",{className:"m-4 mb-5 flex justify-center",children:o.jsx(pr,{})})]})}const uRe=ye.memo(q3e),Z3e=ce.div`flex flex-col gap-2 text-token-text-primary text-sm
  ${({$centered:e})=>[e&&"h-full justify-center items-center"]}`;function e2({label:e,tooltip:t,Icon:n}){return o.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold opacity-70",children:[n&&o.jsx(n,{className:"icon-sm"}),o.jsx("div",{children:e}),o.jsx(et,{label:t,children:o.jsx(r1,{className:"icon-sm ml-1"})})]})}function dRe({clientThreadId:e,gizmoId:t}){const n=L(),r=Qo(),s=mf(),a=x4e(),{data:i}=U$(t,!1,a),l=!!t,c=Cn(),d=Je(e,Z.getIsNewConversation);return a?c&&(!d||l)?o.jsx(e2,{label:n.formatMessage(ja.temporaryChat),tooltip:n.formatMessage(ja.temporaryChatTooltip),Icon:cc}):r&&!s&&!c?o.jsx(e2,{label:n.formatMessage(ja.memoryOff),tooltip:n.formatMessage(ja.memoryOffTooltip)}):i&&i?.memoryFullPct>=100?o.jsx(e2,{label:n.formatMessage(ja.memoryFull),tooltip:n.formatMessage(ja.memoryFullTooltip)}):null:null}const ja=U({temporaryChat:{id:"ConversationPrivacyIndicator.temporaryChat",defaultMessage:"Temporary Chat"},temporaryChatTooltip:{id:"ConversationPrivacyIndicator.temporaryChatTooltip",defaultMessage:"Temporary Chats won't appear in your history, and ChatGPT won't remember anything you talk about."},memoryOff:{id:"ConversationPrivacyIndicator.memoryOff",defaultMessage:"Memory Off"},memoryOffTooltip:{id:"ConversationPrivacyIndicator.memoryOffTooltip",defaultMessage:"ChatGPT won't remember anything you talk about in this conversation."},memoryFull:{id:"2Eq+5y",defaultMessage:"Memory Full"},memoryFullTooltip:{id:"dNA8jQ",defaultMessage:"ChatGPT's memory is full. You can forget existing memories to make space."}}),Y3e=gt(()=>ut(()=>import("./g7ivbw640s42fkw7.js"),__vite__mapDeps([45,3,1,4,46,47,48,49,50,26,51])).then(e=>e.DebugConversationSidebar));function fRe({clientThreadId:e}){K3e();const t=Dn(),n=t?.includes("debug"),r=mp(),s=se(i=>i.activeSidebar),a=t?.includes("debug")&&s==="debug";return!n||!a?null:o.jsx(Y3e,{clientThreadId:e,asDialog:!Vi(r),onClose:()=>pt.toggleActiveSidebar("debug"),isOpen:!0})}function K3e(){const t=Dn()?.includes("debug");u.useEffect(()=>{if(!t)return;const n=new AbortController;return document.addEventListener("keydown",r=>{r.target instanceof HTMLElement&&["input","textarea","select","button"].includes(r.target.tagName.toLowerCase())||r.key==="\\"&&pt.toggleActiveSidebar("debug")},{signal:n.signal}),()=>{n.abort()}},[t])}const Q3e=gt(()=>ut(()=>import("./n2ygynzmvk4zmpcu.js"),__vite__mapDeps([52,53,3,1,4])).then(e=>e.FannyPackInitializer));function mRe(){const{isFannyPackEnabled:e,isFannyPackInitializerEnabled:t}=o3e();return e||!t?null:o.jsx(Q3e,{})}const X3e="https://openai.com/policies/cookie-policy/";function hd({onClick:e,children:t}){const n=Kn();return o.jsx(G,{as:"button",size:n?"medium":void 0,color:n?"secondary":void 0,fullWidth:n,className:n?"mb-2 sm:mb-3":"bg-opacity-5 text-sm text-black hover:bg-opacity-10",onClick:e,children:t})}function pRe({useManuallyControlledVisibility:e=!1}){const{shouldShowCookieBanner:t,closeCookieConsentBanner:n,ignoreCookieConsentBanner:r}=fN(),{mutate:s}=mN(),a=p4.useOnCloseSideEffect(),i=p4.useManuallySetVisibility();return(e?i:t)&&o.jsx(J3e,{onAccept:()=>{s("all_cookies"),n(),a(),E.logEventWithStatsig(_.cookieConsentBannerAccepted,"chatgpt_cookie_consent_banner_accepted")},onReject:()=>{s("essential_only"),n(),a(),E.logEventWithStatsig(_.cookieConsentBannerRejected,"chatgpt_cookie_consent_banner_rejected")},onIgnore:()=>{r(),a(),E.logEventWithStatsig(_.cookieConsentBannerIgnored,"chatgpt_cookie_consent_banner_ignored")}})}function J3e(e){const t=Kn();return u.useEffect(()=>{lt.setCookie(ct.CookieBannerShownPath,window.location.pathname,{maxAge:IE,domain:j8}),E.logEventWithStatsig(_.cookieConsentBannerShown,"chatgpt_cookie_consent_banner_shown")},[]),t?o.jsx(t7e,{...e}):o.jsx(e7e,{...e})}function JE(){return o.jsx(C,{id:"cookie-consent-banner.title",defaultMessage:"Help us improve your experience"})}function ek(){return o.jsx(C,{id:"cookie-consent-banner.description",defaultMessage:"We use cookies and similar technologies to deliver, maintain, and improve our services, and for security purposes. We also use these technologies to understand how users interact with our services (including the effectiveness of our ad campaigns). Learn more in our <cookiePolicyLink>Cookie Policy.</cookiePolicyLink>",values:{cookiePolicyLink:e=>o.jsx("a",{className:"underline underline-offset-2",href:X3e,target:"_blank",rel:"noreferrer",children:e},0)}})}function tk(){return o.jsx(C,{id:"cookie-consent-banner.reject",defaultMessage:"Reject non-essential"})}function nk(){return o.jsx(C,{id:"cookie-consent-banner.accept",defaultMessage:"Accept all"})}function e7e(e){return o.jsx("div",{className:"z-10 w-[100vw] max-w-[100vw] overflow-hidden",children:o.jsxs("div",{className:"flex w-full flex-col items-center justify-between gap-4 bg-token-main-surface-tertiary p-5 shadow-sm sm:flex-row sm:gap-0",children:[o.jsxs("div",{className:"flex max-w-5xl flex-col gap-2",children:[o.jsx("h1",{className:"text-base",children:o.jsx(JE,{})}),o.jsx("p",{className:"text-sm text-gray-600",children:o.jsx(ek,{})})]}),o.jsxs("div",{className:"flex w-full flex-row justify-end gap-3 sm:w-auto sm:min-w-[300px]",children:[o.jsx(hd,{onClick:e.onReject,children:o.jsx(tk,{})}),o.jsx(hd,{onClick:e.onAccept,children:o.jsx(nk,{})})]})]})})}function t7e(e){return o.jsx(he,{isOpen:!0,onClose:()=>{},noPadding:!0,type:"success",size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:"bottom",children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-5 pb-8 pt-4 sm:p-10",children:[o.jsx("div",{className:"flex w-full justify-end",children:o.jsx(Lr,{onClick:()=>e.onIgnore?.()})}),o.jsx("p",{className:"mb-2 text-center text-xl font-semibold",children:o.jsx(JE,{})}),o.jsx("p",{className:"mb-6 text-center text-sm text-token-text-secondary",children:o.jsx(ek,{})}),o.jsx(hd,{onClick:e.onAccept,children:o.jsx(nk,{})}),o.jsx(hd,{onClick:e.onReject,children:o.jsx(tk,{})})]})})}function gRe(){const{value:e}=qe("3435450078");return e}const n7e={showFreeTrialLoadingPayment:!1,showConfirmDismissFreeTrial:!1,didCloseFreeTrial:!1},j5=de()(()=>({...n7e}));function hRe(e){j5.setState({showFreeTrialLoadingPayment:e})}function vRe(e){j5.setState({showConfirmDismissFreeTrial:e})}function xRe(e){j5.setState({didCloseFreeTrial:e})}const r7e=()=>ee({queryKey:["userSurvey"],queryFn:async()=>fe.getActiveUserSurvey()}),s7e=()=>{const e=xe();return Ie({mutationFn:async({surveyId:t,reason:n})=>fe.completeUserSurvey(t,n),onSuccess:async()=>{e.invalidateQueries({queryKey:["userSurvey"]})}})};function CRe(){const e=L(),[t,n]=u.useState(!1),r=r7e().data?.survey,s=s7e(),a=l=>{n(!0),r!=null&&s.mutate({surveyId:r.id,reason:l})};return!t&&r!=null?o.jsx("div",{className:"mx-1 mb-1 rounded-sm bg-brand-blue-800",children:o.jsxs("div",{className:"flex flex-col items-center justify-stretch gap-3 p-3 text-sm text-white",children:[o.jsxs("div",{className:"flex w-full items-start",children:[o.jsxs("div",{className:"flex flex-grow flex-col gap-1",children:[o.jsx("div",{className:"font-bold",children:o.jsx(C,{id:"navigation.survey.title",defaultMessage:"We are asking a small group of people for their opinion"})}),o.jsx("div",{children:o.jsx(C,{id:"navigation.survey.description",defaultMessage:"Could you spare few minutes to take a short survey?"})})]}),o.jsx("button",{className:"text-white/25 hover:text-white/40",onClick:()=>a("dismissed"),"aria-label":e.formatMessage({id:"navigation.survey.dismiss",defaultMessage:"Dismiss survey"}),children:o.jsx(aa,{className:"icon-sm-adaptive"})})]}),o.jsxs("a",{href:r.link,target:"_blank",className:"flex w-full flex-row items-center justify-center gap-2 rounded bg-white/25 p-2 hover:bg-white/40",rel:"noreferrer",onClick:()=>a("link_clicked"),children:[o.jsx(q1,{className:"icon-sm"}),o.jsx(C,{id:"navigation.survey.takeSurvey",defaultMessage:"Take survey"})]})]})}):null}const yRe=({setIsMobileAppUpsellBannerVisible:e=()=>{}})=>{const t=L(),n=Kn(),r=pN(),[s,a]=u.useState(()=>localStorage.getItem(we.HasDismissedMobileAppUpsellBanner)==="true"),{layer:i}=ot("3927927759"),l=n&&r&&!s&&i.get("enable_mobile_app_upsell_banner",!1);u.useEffect(()=>{l&&($.logEvent("chatgpt_web_mobile_app_upsell_banner_shown"),E.logEvent(_.mobileAppUpsellBannerShown)),e(l)},[l,e]);const c=()=>{a(!0),localStorage.setItem(we.HasDismissedMobileAppUpsellBanner,"true"),e(!1),$.logEvent("chatgpt_web_mobile_app_upsell_banner_dismissed"),E.logEvent(_.mobileAppUpsellBannerDismissed)},d=()=>{window.open("https://apps.apple.com/us/app/chatgpt/id6448311069","_blank"),$.logEvent("chatgpt_web_mobile_app_upsell_banner_clicked"),E.logEvent(_.mobileAppUpsellBannerClicked)};return o.jsx(o.Fragment,{children:l&&o.jsx(c1e,{title:t.formatMessage({id:"mobileTopBanner.title",defaultMessage:"ChatGPT"}),content:t.formatMessage({id:"mobileTopBanner.content",defaultMessage:"The official app by OpenAI"}),secondaryCtaText:t.formatMessage({id:"mobileTopBanner.secondaryCtaText",defaultMessage:"Open"}),onDismiss:c,onSecondaryCtaClick:d})})},a7e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M10.5 6C10.5 8.485275 8.985275 10.5 6 10.5C3.514725 10.5 1.5 8.485275 1.5 6C1.5 3.514725 3.514725 1.5 6 1.5C8.485275 1.5 10.5 3.514725 10.5 6Z",stroke:"currentColor",strokeWidth:1}),u.createElement("circle",{cx:6,cy:7.925,r:.575,fill:"currentColor"}),u.createElement("path",{d:"M6 4V6",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"})),o7e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M12.8533 5.314C12.4634 4.67593 11.5366 4.67593 11.1467 5.314L3.71283 17.4785C3.30561 18.1449 3.78518 19 4.56611 19H19.4339C20.2148 19 20.6944 18.1449 20.2872 17.4785L12.8533 5.314ZM9.44015 4.2711C10.6099 2.3569 13.3901 2.3569 14.5598 4.2711L21.9937 16.4356C23.2154 18.4347 21.7767 21 19.4339 21H4.56611C2.22332 21 0.78462 18.4347 2.00627 16.4356L9.44015 4.2711ZM12 8.99999C12.5523 8.99999 13 9.44771 13 9.99999V13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13V9.99999C11 9.44771 11.4477 8.99999 12 8.99999ZM10.8516 16.5001C10.8516 15.865 11.3664 15.3501 12.0016 15.3501C12.6367 15.3501 13.1516 15.8649 13.1516 16.5001C13.1516 17.1352 12.6367 17.6501 12.0016 17.6501C11.3664 17.6501 10.8516 17.1352 10.8516 16.5001Z",fill:"currentColor"}));function i7e(e,t){return new Intl.DateTimeFormat(e.locale,{year:"numeric",month:"short",day:"numeric"}).format(t)}function l7e(e){const t=L(),n=Be();return ee({queryKey:["organization-subscription",e],queryFn:async()=>await j.safeGet("/subscriptions",{parameters:{query:e}}).catch(r=>(n.danger(t.formatMessage(u7e.subscriptionLoadError,{error:r.message})),null)),enabled:e.account_id!=null||e.organization_id!=null})}function c7e(){const e=yn(),t=e?.id,n=e?.data.organizationId??void 0,r=e?.isEnterprisey();return l7e(r?{organization_id:n}:{account_id:t})}function bRe(e,t,n,r){return ee({queryKey:["get-subscription-update-preview",t,r,n],queryFn:async()=>await j.safeGet("/subscriptions/update/preview",{parameters:{query:{account_id:e,updated_plan:n,updated_seats:t,updated_promo_id:r}}})})}function wRe(e){const t=xe();return Ie({mutationFn:async n=>j.safePost("/subscriptions/cancel",{requestBody:{account_id:n}}),onSuccess:()=>{t.invalidateQueries({queryKey:["organization-subscription",{account_id:e}]}),t.invalidateQueries({queryKey:["account-status"]})}})}function SRe(e){const t=xe();return Ie({mutationFn:async n=>j.safePost("/subscriptions/renew",{requestBody:{account_id:n}}),onSuccess:()=>{t.invalidateQueries({queryKey:["organization-subscription",{account_id:e}]})}})}function MRe(e){const t=xe();return Ie({mutationFn:({accountId:n,updatedPlan:r,updatedSeats:s,updatedPriceInterval:a,updatedPromoId:i})=>j.safePost("/subscriptions/update",{requestBody:{account_id:n,updated_plan:r,updated_seats:s,updated_price_interval:a,updated_promo_id:i}}),onSuccess:()=>{t.invalidateQueries({queryKey:["organization-subscription",{account_id:e}]})}})}const u7e=U({subscriptionLoadError:{id:"useSubscriptionData.subscriptionLoadError",defaultMessage:"Failed to load subscription: {error}. Contact support@openai.com if error persists."}}),Fs=U({userTitle:{id:"SubscriptionRenewalFailedBanner.userTitle",defaultMessage:"Your workspace will be deactivated on $date"},ownerTile:{id:"SubscriptionRenewalFailedBanner.ownerTitle",defaultMessage:"Unable to charge payment method for your Team subscription"},userMessage:{id:"SubscriptionRenewalFailedBanner.userMessage",defaultMessage:"Please contact your workspace admin to retain access to your account"},ownerMessage:{id:"SubscriptionRenewalFailedBanner.ownerMessage",defaultMessage:"We'll keep trying this method, or you can update it now. To continue accessing your workspace, please take action by $date"},ownerButtonText:{id:"SubscriptionRenewalFailedBanner.ownerButtonText",defaultMessage:"Update"},iconAriaLabel:{id:"SubscriptionRenewalFailedBanner.iconAriaLabel",defaultMessage:"Warning"}});function d7e(e){e?document.documentElement.classList.add("top-banner-visible"):document.documentElement.classList.remove("top-banner-visible")}const f7e=({intl:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:s,ref:a})=>o.jsxs("div",{className:"border-main-surface-secondary flex h-auto min-h-16 items-center justify-between border-b bg-black p-3 text-white dark:border-transparent dark:bg-white dark:text-black",ref:a,children:[o.jsx("div",{className:"px-2",children:o.jsx(o7e,{className:"icon-lg","aria-label":e.formatMessage(Fs.iconAriaLabel)})}),o.jsx("div",{className:"mx-auto text-center text-sm",children:o.jsxs("div",{children:[t&&o.jsx("h3",{className:"!text-sm font-bold",children:t}),o.jsx("div",{className:N(t?"-mt-0.5":""),children:n})]})}),s&&o.jsx("div",{className:"flex-none gap-2 pr-1 leading-[0]",children:o.jsx(G,{onClick:r,color:"primary-inverse",children:s})})]}),m7e=({intl:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:s,ref:a})=>o.jsxs("div",{className:"border-main-surface-secondary flex h-auto min-h-16 items-center justify-between border-b bg-yellow-vibrant p-3 text-black dark:border-transparent",ref:a,children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"px-2",children:o.jsx(a7e,{className:"icon-lg","aria-label":e.formatMessage(Fs.iconAriaLabel)})}),o.jsx("div",{className:"px-2",children:o.jsxs("div",{children:[t&&o.jsx("div",{className:"font-semibold",children:t}),o.jsx("div",{className:N(t?"-mt-0.5":""),children:n})]})})]}),s&&o.jsx("div",{className:"flex-none gap-2 pr-1 leading-[0]",children:o.jsx(G,{onClick:r,color:"primary",className:"dark:bg-gray-950 dark:text-white",children:s})})]}),_Re=e=>{const t=$e(),n=xl();return!t?.hasPaidSubscription()||n.authStatus!==gn.LoggedIn?null:o.jsx(p7e,{...e})},p7e=({setIsVisible:e})=>{const t=L(),[n,r]=u.useState(!1),{data:s}=c7e(),a=yn(),i=a?.isStandardUserOfAccount(),l=m1(),c=s!=null&&s.became_delinquent_timestamp?new Date(s.became_delinquent_timestamp):null,d=s!=null&&!!s.is_delinquent&&s.grace_period_end_timestamp!=null&&s.will_renew&&s.plan_type===mr.TEAM&&c!=null&&new Date>Al(c,i?3:2),f=st("2293185713")?.value,m=!l&&s!=null&&(d||f),p=Kn(),g=m&&!p;m&&p&&E.logEvent(_.subscriptionRenewalFailedBannerHiddenOnMobile),u.useEffect(()=>{g&&($.logEvent(i?"chatgpt_web_subscription_renewal_failed_banner_shown_to_user":"chatgpt_web_subscription_renewal_failed_banner_shown_to_owner"),E.logEvent(i?_.subscriptionRenewalFailedBannerUserShown:_.subscriptionRenewalFailedBannerOwnerShown)),e?.(g)},[g,i,e]);const v=async()=>{r(!0);let D;try{D=(await fe.fetchCustomerPortalUrl(a?.getWorkspaceId())).url}catch{D=window.location.origin+"/admin/billing"}finally{r(!1)}$.logEvent("chatgpt_web_subscription_renewal_failed_banner_owner_clicked"),E.logEvent(_.subscriptionRenewalFailedBannerOwnerClicked),location.href=D},h=()=>{v().catch(()=>{})},x=s!=null&&s.grace_period_end_timestamp!=null?i7e(t,new Date(s.grace_period_end_timestamp)):null,y=t.formatMessage(i?Fs.userTitle:Fs.ownerTile),b=x!=null?y.replace("$date",x):y,S=t.formatMessage(i?Fs.userMessage:Fs.ownerMessage),T=x!=null?S.replace("$date",x):S,k=i?"":t.formatMessage(Fs.ownerButtonText),A=i?void 0:h,{config:M}=R8("1165680819"),P=M.get("show_new_banner",!1);d7e(g);const I=P?m7e:f7e;return o.jsx(o.Fragment,{children:g&&o.jsx(I,{intl:t,title:b,content:T,primaryCtaText:k,onPrimaryCtaClick:A,ref:D=>{const F=t5({axis:"height",target:D,onChange({height:B}){document.documentElement.style.setProperty("--top-banner-height",`${B}px`)}});return()=>{F?.(),document.documentElement.style.removeProperty("--top-banner-height")}}})})},ERe=()=>o.jsx("div",{onMouseEnter:()=>{pt.setIsSidebarLocked(!1),pt.toggleNavCollapsed(!1,"hover")},className:"fixed left-0 h-dvh w-[180px]",style:{clipPath:"polygon(0% 0%, 50px 0%, 60px 20%, 100% 40%, 100% 100%, 0% 100%)"}});function g7e({label:e,tab:t,activeTab:n,setActiveTab:r,caterpillarHeaderRef:s}){const a=u.useCallback(()=>{r(t),s.current&&s.current.scrollIntoView({behavior:"instant",block:"center"})},[r,t,s]),i=n===t;return o.jsx("button",{onClick:a,className:N("btn !min-h-[36px] min-w-[100px] select-none rounded-full px-2 py-1 text-token-text-primary",i?"bg-token-main-surface-primary shadow":"!bg-token-main-surface-tertiary"),children:e})}function kRe({activeTab:e,setActiveTab:t,sourcesCount:n,showAuxTab:r=!1,caterpillarHeaderRef:s}){const a=L(),i=[{tab:"activity",label:a.formatMessage({id:"9lnBJU",defaultMessage:"Activity"})},{tab:"sources",label:n>1?a.formatMessage({id:"/Ucokx",defaultMessage:"{sourcesCount} Sources"},{sourcesCount:n}):n===1?a.formatMessage({id:"CCF0z+",defaultMessage:"1 Source"}):a.formatMessage({id:"twjHy3",defaultMessage:"Sources"})}];return r&&i.unshift({tab:"report",label:a.formatMessage({id:"zF7Fu5",defaultMessage:"Report"})}),o.jsx("div",{className:N("flex items-center rounded-full border-[4px] border-token-main-surface-tertiary bg-token-main-surface-tertiary transition-all"),children:i.map(({tab:l,label:c})=>o.jsx(g7e,{activeTab:e,tab:l,setActiveTab:t,label:c,caterpillarHeaderRef:s},l))})}function TRe({taskId:e,prompt:t}){return Ie({mutationFn:async()=>await Jw.interruptTask({taskId:e,prompt:t})})}const h7e=({children:e,icon:t,fillIcon:n,className:r})=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:N("mt-[3px] inline-flex h-5 w-5 shrink-0 items-center justify-center gap-2.5 rounded-[30px]",n&&"border border-black/10 bg-white",r),children:t}),e]}),ARe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9851 4.00291C11.9933 4.00046 11.9982 4.00006 11.9996 4C12.001 4.00006 12.0067 4.00046 12.0149 4.00291C12.0256 4.00615 12.047 4.01416 12.079 4.03356C12.2092 4.11248 12.4258 4.32444 12.675 4.77696C12.9161 5.21453 13.1479 5.8046 13.3486 6.53263C13.6852 7.75315 13.9156 9.29169 13.981 11H10.019C10.0844 9.29169 10.3148 7.75315 10.6514 6.53263C10.8521 5.8046 11.0839 5.21453 11.325 4.77696C11.5742 4.32444 11.7908 4.11248 11.921 4.03356C11.953 4.01416 11.9744 4.00615 11.9851 4.00291ZM8.01766 11C8.08396 9.13314 8.33431 7.41167 8.72334 6.00094C8.87366 5.45584 9.04762 4.94639 9.24523 4.48694C6.48462 5.49946 4.43722 7.9901 4.06189 11H8.01766ZM4.06189 13H8.01766C8.09487 15.1737 8.42177 17.1555 8.93 18.6802C9.02641 18.9694 9.13134 19.2483 9.24522 19.5131C6.48461 18.5005 4.43722 16.0099 4.06189 13ZM10.019 13H13.981C13.9045 14.9972 13.6027 16.7574 13.1726 18.0477C12.9206 18.8038 12.6425 19.3436 12.3823 19.6737C12.2545 19.8359 12.1506 19.9225 12.0814 19.9649C12.0485 19.9852 12.0264 19.9935 12.0153 19.9969C12.0049 20.0001 11.9999 20 11.9999 20C11.9999 20 11.9948 20 11.9847 19.9969C11.9736 19.9935 11.9515 19.9852 11.9186 19.9649C11.8494 19.9225 11.7455 19.8359 11.6177 19.6737C11.3575 19.3436 11.0794 18.8038 10.8274 18.0477C10.3973 16.7574 10.0955 14.9972 10.019 13ZM15.9823 13C15.9051 15.1737 15.5782 17.1555 15.07 18.6802C14.9736 18.9694 14.8687 19.2483 14.7548 19.5131C17.5154 18.5005 19.5628 16.0099 19.9381 13H15.9823ZM19.9381 11C19.5628 7.99009 17.5154 5.49946 14.7548 4.48694C14.9524 4.94639 15.1263 5.45584 15.2767 6.00094C15.6657 7.41167 15.916 9.13314 15.9823 11H19.9381Z",fill:"currentColor"})),v7e=({children:e})=>o.jsxs("div",{className:"flex items-start gap-2 text-wrap text-start",children:[o.jsx("div",{className:"mt-[1px] inline-flex h-5 w-5 shrink-0 items-center justify-end gap-2.5 pt-[3px]",children:o.jsx(Goe,{className:"relative h-5 w-5 text-token-text-primary"})}),e]}),PRe=({row:e})=>o.jsx(v7e,{children:o.jsx("div",{className:"flex text-base text-token-text-primary",children:e.analysisSummary})}),x7e=({children:e,showIcon:t})=>o.jsxs("div",{className:"flex items-start gap-2 text-wrap text-start",children:[o.jsx("div",{className:"mt-[1px] inline-flex h-5 w-5 shrink-0 items-center justify-end gap-2.5 pt-[3px]",children:t&&o.jsx(mm,{className:"relative h-5 w-5 text-token-text-primary"})}),e]}),NRe=({row:e,showIcon:t})=>{const n=e.query;return n?o.jsx(x7e,{showIcon:t,children:o.jsx("div",{className:"flex text-base text-token-text-primary",children:n})}):null};function C7e({children:e,showIcon:t=!0}){return o.jsx(h7e,{fillIcon:!1,icon:t?o.jsx(Ep,{className:"inline-flex h-5 w-5 items-center justify-center text-token-text-primary"}):null,children:e})}const y7e={strong:e=>{const{node:t,children:n,...r}=e;return o.jsx("strong",{...r,className:N(r.className,"font-semibold text-token-text-primary"),children:n})},p:e=>{const{node:t,children:n,...r}=e;return o.jsx("p",{...r,className:N(r.className,"!mb-0 text-base"),children:n})}};function b7e(e){return e.replace(/^#+\s*.*$/gm,"").replace(/^\*\*.*\*\*$/gm,"").trim()}function jRe({row:e,showIcon:t=!0}){const n=e.summary;if(!n)return null;const r=b7e(n);return r.length===0?null:o.jsx(C7e,{showIcon:t,children:o.jsx(qo,{componentOverrides:y7e,className:"!w-0 flex-1 leading-6",children:r})})}function w7e(e){try{const{hostname:t}=new URL(e);return t}catch{return null}}const S7e={p:e=>{const{node:t,children:n,...r}=e;return o.jsx("p",{...r,className:"text-start text-base text-token-text-primary",children:n})},a:e=>{const{node:t,children:n,...r}=e;return o.jsx("a",{...r,className:"!text-blue text-base leading-6",children:n})}},IRe=({website:e})=>{const t=w7e(e.url);return t?o.jsxs("div",{className:"flex items-start justify-start gap-2",children:[o.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:o.jsx(et,{label:t,className:"mt-[3px] flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center bg-token-main-surface-primary",children:o.jsx(Ql,{url:e.url,className:"h-5 w-5 rounded-2xl border-[.5px] border-black/25",fallback:o.jsx($h,{className:"icon-sm text-token-text-quaternary"})})})}),o.jsx("div",{className:"mt-[1px] flex flex-col text-base text-token-text-primary",children:o.jsx(qo,{componentOverrides:S7e,children:e.rowText})})]}):null},rk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M5.34369 18.769C5.34369 19.876 5.89269 20.578 6.67569 20.578C7.26969 20.578 7.69269 20.182 7.80969 19.543L9.46569 20.092C9.06969 21.307 8.13369 22.108 6.68469 22.108C4.86669 22.108 3.57969 20.713 3.57969 18.769C3.57969 16.825 4.86669 15.43 6.68469 15.43C8.13369 15.43 9.06969 16.231 9.46569 17.446L7.80969 17.995C7.69269 17.356 7.26969 16.96 6.67569 16.96C5.89269 16.96 5.34369 17.662 5.34369 18.769ZM9.42561 21.028L10.3886 19.75C10.9376 20.371 11.6666 20.659 12.3236 20.659C12.8636 20.659 13.2236 20.461 13.2236 20.092C13.2236 19.678 12.7646 19.624 11.7746 19.426C10.8296 19.237 9.79461 18.886 9.79461 17.572C9.79461 16.249 10.9376 15.43 12.3686 15.43C13.5026 15.43 14.3936 15.871 14.9066 16.429L13.9526 17.617C13.5296 17.149 12.9626 16.879 12.3236 16.879C11.8466 16.879 11.5226 17.059 11.5226 17.392C11.5226 17.761 11.9186 17.824 12.7016 17.986C13.7096 18.193 14.9696 18.472 14.9696 19.912C14.9696 21.307 13.7456 22.108 12.2516 22.108C11.1986 22.108 9.96561 21.694 9.42561 21.028ZM14.9451 21.028L15.9081 19.75C16.4571 20.371 17.1861 20.659 17.8431 20.659C18.3831 20.659 18.7431 20.461 18.7431 20.092C18.7431 19.678 18.2841 19.624 17.2941 19.426C16.3491 19.237 15.3141 18.886 15.3141 17.572C15.3141 16.249 16.4571 15.43 17.8881 15.43C19.0221 15.43 19.9131 15.871 20.4261 16.429L19.4721 17.617C19.0491 17.149 18.4821 16.879 17.8431 16.879C17.3661 16.879 17.0421 17.059 17.0421 17.392C17.0421 17.761 17.4381 17.824 18.2211 17.986C19.2291 18.193 20.4891 18.472 20.4891 19.912C20.4891 21.307 19.2651 22.108 17.7711 22.108C16.7181 22.108 15.4851 21.694 14.9451 21.028Z",fill:"currentColor"}),u.createElement("path",{d:"M9 8V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),sk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M9.19876 22V21.424C8.94676 21.811 8.35276 22.099 7.56976 22.099C5.86876 22.099 4.61776 20.749 4.61776 18.805C4.61776 16.852 5.89576 15.439 7.69576 15.439C9.10876 15.439 10.0358 16.186 10.4318 17.374L9.00076 17.833C8.85676 17.14 8.38876 16.744 7.70476 16.744C6.76876 16.744 6.12076 17.554 6.12076 18.787C6.12076 20.02 6.76876 20.83 7.73176 20.83C8.46976 20.83 8.96476 20.335 9.04576 19.669H7.61476V18.436H10.5308V22H9.19876ZM13.4271 15.538V22H11.9241V15.538H13.4271ZM16.3314 22H14.8554V15.538H19.3824V16.825H16.3314V18.292H18.8694V19.552H16.3314V22Z",fill:"currentColor"}),u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M6 5H8L7.1382 6.72361C7.0535 6.893 6.88037 7 6.69098 7H6V5Z",fill:"currentColor"}),u.createElement("path",{d:"M9 5H12L11.1382 6.72361C11.0535 6.893 10.8804 7 10.691 7H8.56631C8.30613 7 8.1369 6.72619 8.25326 6.49348L9 5Z",fill:"currentColor"}),u.createElement("path",{d:"M13 5H16L15.1382 6.72361C15.0535 6.893 14.8804 7 14.691 7H12.5663C12.3061 7 12.1369 6.72619 12.2533 6.49348L13 5Z",fill:"currentColor"}),u.createElement("path",{d:"M17 5H18V7H16.5663C16.3061 7 16.1369 6.72619 16.2533 6.49348L17 5Z",fill:"currentColor"})),ak=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M4.10767 21.991V20.695C4.35967 20.731 4.52167 20.749 4.75567 20.749C5.38567 20.749 5.67367 20.524 5.67367 19.876V15.538H7.17667V20.101C7.17667 21.46 6.31267 22.054 4.94467 22.054C4.64767 22.054 4.35967 22.036 4.10767 21.991ZM9.61707 19.75V22H8.11407V15.538H10.8411C12.3621 15.538 13.3071 16.258 13.3071 17.644C13.3071 19.021 12.3621 19.75 10.8411 19.75H9.61707ZM9.61707 18.49H10.7601C11.4711 18.49 11.8311 18.175 11.8311 17.644C11.8311 17.113 11.4711 16.807 10.7601 16.807H9.61707V18.49ZM18.278 22V21.424C18.026 21.811 17.432 22.099 16.649 22.099C14.948 22.099 13.697 20.749 13.697 18.805C13.697 16.852 14.975 15.439 16.775 15.439C18.188 15.439 19.115 16.186 19.511 17.374L18.08 17.833C17.936 17.14 17.468 16.744 16.784 16.744C15.848 16.744 15.2 17.554 15.2 18.787C15.2 20.02 15.848 20.83 16.811 20.83C17.549 20.83 18.044 20.335 18.125 19.669H16.694V18.436H19.61V22H18.278Z",fill:"currentColor"}),u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H14.1716C14.702 4 15.2107 4.21071 15.5858 4.58579L18.4142 7.41421C18.7893 7.78929 19 8.29799 19 8.82843V11M15 5V7.5C15 7.77614 15.2239 8 15.5 8H18M16 7L16.5 6.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),ok=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M19 11C19 7.13401 15.866 4 12 4C8.13401 4 5 7.13401 5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M6.88903 22H5.71003L4.48603 17.914V22H2.79403V15.538H5.26903L6.32203 19.246L7.37503 15.538H9.82303V22H8.11303V17.914L6.88903 22ZM14.9162 22H13.2602V20.533H10.3532V19.237L12.7112 15.538H14.9162V19.138H15.8072V20.533H14.9162V22ZM11.9192 19.138H13.2152V17.05L11.9192 19.138ZM18.255 15.538H20.289L22.62 22H20.829L20.415 20.83H18.075L17.67 22H15.924L18.255 15.538ZM19.245 17.491L18.57 19.417H19.92L19.245 17.491Z",fill:"currentColor"}),u.createElement("path",{d:"M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),ik=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M6.24629 22H5.16629L3.74429 17.527V22H2.31329V15.538H4.41029L5.72429 19.777L7.03829 15.538H9.09929V22H7.66829V17.527L6.24629 22ZM9.82977 18.769C9.82977 16.816 11.1168 15.439 12.9258 15.439C14.7438 15.439 16.0218 16.816 16.0218 18.769C16.0218 20.722 14.7438 22.099 12.9258 22.099C11.1168 22.099 9.82977 20.722 9.82977 18.769ZM14.5188 18.769C14.5188 17.527 13.8618 16.744 12.9258 16.744C11.9898 16.744 11.3418 17.527 11.3418 18.769C11.3418 20.011 11.9898 20.794 12.9258 20.794C13.8618 20.794 14.5188 20.011 14.5188 18.769ZM19.7881 22H18.2311L15.8641 15.538H17.4661L19.0321 20.065L20.5981 15.538H22.1461L19.7881 22Z",fill:"currentColor"}),u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M6 5H8L7.1382 6.72361C7.0535 6.893 6.88037 7 6.69098 7H6V5Z",fill:"currentColor"}),u.createElement("path",{d:"M9 5H12L11.1382 6.72361C11.0535 6.893 10.8804 7 10.691 7H8.56631C8.30613 7 8.1369 6.72619 8.25326 6.49348L9 5Z",fill:"currentColor"}),u.createElement("path",{d:"M13 5H16L15.1382 6.72361C15.0535 6.893 14.8804 7 14.691 7H12.5663C12.3061 7 12.1369 6.72619 12.2533 6.49348L13 5Z",fill:"currentColor"}),u.createElement("path",{d:"M17 5H18V7H16.5663C16.3061 7 16.1369 6.72619 16.2533 6.49348L17 5Z",fill:"currentColor"})),lk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M19 11C19 7.13401 15.866 4 12 4C8.13401 4 5 7.13401 5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M6.95153 22H5.77253L4.54853 17.914V22H2.85653V15.538H5.33153L6.38453 19.246L7.43753 15.538H9.88553V22H8.17553V17.914L6.95153 22ZM12.5307 19.939V22H10.7667V15.538H13.5927C15.1857 15.538 16.1667 16.294 16.1667 17.743C16.1667 19.183 15.1857 19.939 13.5927 19.939H12.5307ZM12.5307 18.472H13.5027C14.1237 18.472 14.4207 18.193 14.4207 17.743C14.4207 17.284 14.1237 17.014 13.5027 17.014H12.5307V18.472ZM18.9677 22.108C17.5547 22.108 16.4927 21.397 16.3217 20.074L18.0587 19.822C18.1127 20.344 18.4727 20.641 18.9407 20.641C19.3547 20.641 19.7057 20.443 19.7057 19.993C19.7057 19.552 19.3367 19.399 18.8237 19.399H18.2567V18.04H18.8057C19.2827 18.04 19.6067 17.878 19.6067 17.473C19.6067 17.113 19.3637 16.897 18.9407 16.897C18.4637 16.897 18.1757 17.239 18.1127 17.68L16.4747 17.527C16.6187 16.384 17.5187 15.43 19.0217 15.43C20.4527 15.43 21.3437 16.249 21.3437 17.347C21.3437 17.995 20.9477 18.499 20.4977 18.688C21.0467 18.94 21.4337 19.39 21.4337 20.155C21.4337 21.235 20.4707 22.108 18.9677 22.108Z",fill:"currentColor"}),u.createElement("path",{d:"M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),ck=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M6.84395 22H5.76395L4.34195 17.527V22H2.91095V15.538H5.00795L6.32195 19.777L7.63595 15.538H9.69695V22H8.26595V17.527L6.84395 22ZM12.2274 19.75V22H10.7244V15.538H13.4514C14.9724 15.538 15.9174 16.258 15.9174 17.644C15.9174 19.021 14.9724 19.75 13.4514 19.75H12.2274ZM12.2274 18.49H13.3704C14.0814 18.49 14.4414 18.175 14.4414 17.644C14.4414 17.113 14.0814 16.807 13.3704 16.807H12.2274V18.49ZM20.4848 22H19.0898V20.488H16.1198V19.363L18.6128 15.538H20.4938V19.282H21.5108V20.488H20.4848V22ZM17.5058 19.282H19.0538V16.879L17.5058 19.282Z",fill:"currentColor"}),u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M6 5H8L7.1382 6.72361C7.0535 6.893 6.88037 7 6.69098 7H6V5Z",fill:"currentColor"}),u.createElement("path",{d:"M9 5H12L11.1382 6.72361C11.0535 6.893 10.8804 7 10.691 7H8.56631C8.30613 7 8.1369 6.72619 8.25326 6.49348L9 5Z",fill:"currentColor"}),u.createElement("path",{d:"M13 5H16L15.1382 6.72361C15.0535 6.893 14.8804 7 14.691 7H12.5663C12.3061 7 12.1369 6.72619 12.2533 6.49348L13 5Z",fill:"currentColor"}),u.createElement("path",{d:"M17 5H18V7H16.5663C16.3061 7 16.1369 6.72619 16.2533 6.49348L17 5Z",fill:"currentColor"})),uk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M19 11C19 7.13401 15.866 4 12 4C8.13401 4 5 7.13401 5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M2.64707 18.769C2.64707 16.825 3.94307 15.43 5.80607 15.43C7.67807 15.43 8.97407 16.825 8.97407 18.769C8.97407 20.713 7.67807 22.108 5.80607 22.108C3.94307 22.108 2.64707 20.713 2.64707 18.769ZM7.20107 18.769C7.20107 17.644 6.63407 16.96 5.80607 16.96C4.98707 16.96 4.42007 17.644 4.42007 18.769C4.42007 19.894 4.98707 20.578 5.80607 20.578C6.63407 20.578 7.20107 19.894 7.20107 18.769ZM13.9243 22V21.487C13.6633 21.838 13.0963 22.108 12.3673 22.108C10.6393 22.108 9.38829 20.758 9.38829 18.814C9.38829 16.87 10.6753 15.43 12.5293 15.43C14.0143 15.43 14.9683 16.204 15.3643 17.428L13.6813 17.968C13.5643 17.32 13.1593 16.96 12.5383 16.96C11.7193 16.96 11.1523 17.68 11.1523 18.787C11.1523 19.903 11.7193 20.623 12.5653 20.623C13.1593 20.623 13.5733 20.254 13.6903 19.768H12.4483V18.373H15.4543V22H13.9243ZM20.5776 22V21.487C20.3166 21.838 19.7496 22.108 19.0206 22.108C17.2926 22.108 16.0416 20.758 16.0416 18.814C16.0416 16.87 17.3286 15.43 19.1826 15.43C20.6676 15.43 21.6216 16.204 22.0176 17.428L20.3346 17.968C20.2176 17.32 19.8126 16.96 19.1916 16.96C18.3726 16.96 17.8056 17.68 17.8056 18.787C17.8056 19.903 18.3726 20.623 19.2186 20.623C19.8126 20.623 20.2266 20.254 20.3436 19.768H19.1016V18.373H22.1076V22H20.5776Z",fill:"currentColor"}),u.createElement("path",{d:"M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),dk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M5.31483 19.75V22H3.81183V15.538H6.53883C8.05983 15.538 9.00483 16.258 9.00483 17.644C9.00483 19.021 8.05983 19.75 6.53883 19.75H5.31483ZM5.31483 18.49H6.45783C7.16883 18.49 7.52883 18.175 7.52883 17.644C7.52883 17.113 7.16883 16.807 6.45783 16.807H5.31483V18.49ZM9.63019 22V15.538H11.9252C13.9772 15.538 15.2282 16.798 15.2282 18.769C15.2282 20.74 13.9772 22 11.9252 22H9.63019ZM11.0972 20.731H11.9252C13.0862 20.731 13.7432 19.957 13.7432 18.769C13.7432 17.581 13.0862 16.807 11.9162 16.807H11.0972V20.731ZM17.4343 22H15.9583V15.538H20.4853V16.825H17.4343V18.292H19.9723V19.552H17.4343V22Z",fill:"currentColor"}),u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H14.1716C14.702 4 15.2107 4.21071 15.5858 4.58579L18.4142 7.41421C18.7893 7.78929 19 8.29799 19 8.82843V11M15 5V7.5C15 7.77614 15.2239 8 15.5 8H18M16 7L16.5 6.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),fk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M4.49305 19.75V22H2.99005V15.538H5.71705C7.23805 15.538 8.18305 16.258 8.18305 17.644C8.18305 19.021 7.23805 19.75 5.71705 19.75H4.49305ZM4.49305 18.49H5.63605C6.34705 18.49 6.70705 18.175 6.70705 17.644C6.70705 17.113 6.34705 16.807 5.63605 16.807H4.49305V18.49ZM14.3974 15.538V22H13.0924L10.2484 17.833V22H8.80841V15.538H10.3114L12.9574 19.489V15.538H14.3974ZM19.7106 22V21.424C19.4586 21.811 18.8646 22.099 18.0816 22.099C16.3806 22.099 15.1296 20.749 15.1296 18.805C15.1296 16.852 16.4076 15.439 18.2076 15.439C19.6206 15.439 20.5476 16.186 20.9436 17.374L19.5126 17.833C19.3686 17.14 18.9006 16.744 18.2166 16.744C17.2806 16.744 16.6326 17.554 16.6326 18.787C16.6326 20.02 17.2806 20.83 18.2436 20.83C18.9816 20.83 19.4766 20.335 19.5576 19.669H18.1266V18.436H21.0426V22H19.7106Z",fill:"currentColor"}),u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H14.1716C14.702 4 15.2107 4.21071 15.5858 4.58579L18.4142 7.41421C18.7893 7.78929 19 8.29799 19 8.82843V11M15 5V7.5C15 7.77614 15.2239 8 15.5 8H18M16 7L16.5 6.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),mk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H15.1716C15.702 4 16.2107 4.21071 16.5858 4.58579L18.4142 6.41421C18.7893 6.78929 19 7.29799 19 7.82843V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M4.75676 19.858V22H2.99276V15.538H5.81876C7.41176 15.538 8.39276 16.312 8.39276 17.698C8.39276 18.616 7.92476 19.3 7.10576 19.633L8.59076 22H6.57476L5.30576 19.858H4.75676ZM4.75676 18.463H5.72876C6.34976 18.463 6.64676 18.175 6.64676 17.743C6.64676 17.284 6.34976 17.014 5.72876 17.014H4.75676V18.463ZM10.9742 15.538H13.0082L15.3392 22H13.5482L13.1342 20.83H10.7942L10.3892 22H8.64321L10.9742 15.538ZM11.9642 17.491L11.2892 19.417H12.6392L11.9642 17.491ZM17.5712 19.858V22H15.8072V15.538H18.6332C20.2262 15.538 21.2072 16.312 21.2072 17.698C21.2072 18.616 20.7392 19.3 19.9202 19.633L21.4052 22H19.3892L18.1202 19.858H17.5712ZM17.5712 18.463H18.5432C19.1642 18.463 19.4612 18.175 19.4612 17.743C19.4612 17.284 19.1642 17.014 18.5432 17.014H17.5712V18.463Z",fill:"currentColor"}),u.createElement("path",{d:"M12 5H10V7H11.5C11.7761 7 12 6.77614 12 6.5V5Z",fill:"currentColor"}),u.createElement("path",{d:"M10 7H8.5C8.22386 7 8 7.22386 8 7.5V8.5C8 8.77614 8.22386 9 8.5 9H10V7Z",fill:"currentColor"}),u.createElement("path",{d:"M12 9.5C12 9.22386 11.7761 9 11.5 9H10V10.5C10 10.7761 10.2239 11 10.5 11H11.5C11.7761 11 12 10.7761 12 10.5V9.5Z",fill:"currentColor"})),pk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M19 11C19 7.13401 15.866 4 12 4C8.13401 4 5 7.13401 5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M5.91516 15.538H7.36416L8.27316 19.372L9.17316 15.538H10.9642L9.26316 22H7.57116L6.61716 18.184L5.66316 22H3.97116L2.27016 15.538H4.10616L5.01516 19.372L5.91516 15.538ZM12.7223 15.538H14.7563L17.0873 22H15.2963L14.8823 20.83H12.5423L12.1373 22H10.3913L12.7223 15.538ZM13.7123 17.491L13.0373 19.417H14.3873L13.7123 17.491ZM20.3938 22H18.5848L16.2448 15.538H18.1258L19.5208 19.696L20.9248 15.538H22.7338L20.3938 22Z",fill:"currentColor"}),u.createElement("path",{d:"M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),gk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M3.85776 15.538H5.12676L6.16176 19.759L7.19676 15.538H8.71776L6.99876 22H5.54976L4.46976 17.869L3.40776 22H1.95876L0.230758 15.538H1.78776L2.83176 19.759L3.85776 15.538ZM9.28546 15.538H13.8485V16.825H10.7615V18.067H13.3355V19.336H10.7615V20.713H13.8485V22H9.28546V15.538ZM14.6732 22V15.538H17.4542C18.8672 15.538 19.6232 16.15 19.6232 17.275C19.6232 18.022 19.1732 18.463 18.7502 18.643C19.3622 18.868 19.8122 19.408 19.8122 20.182C19.8122 21.325 19.0022 22 17.6162 22H14.6732ZM16.1132 18.13H17.3012C17.8862 18.13 18.2102 17.896 18.2102 17.446C18.2102 16.996 17.8862 16.771 17.3012 16.771H16.1132V18.13ZM16.1132 19.3V20.758H17.4812C18.0572 20.758 18.3722 20.461 18.3722 20.029C18.3722 19.597 18.0572 19.3 17.4812 19.3H16.1132ZM22.0209 19.75V22H20.5179V15.538H23.2449C24.7659 15.538 25.7109 16.258 25.7109 17.644C25.7109 19.021 24.7659 19.75 23.2449 19.75H22.0209ZM22.0209 18.49H23.1639C23.8749 18.49 24.2349 18.175 24.2349 17.644C24.2349 17.113 23.8749 16.807 23.1639 16.807H22.0209V18.49Z",fill:"currentColor",transform:"scale(0.9, 1)"}),u.createElement("path",{d:"M5 11C5 11.5523 5.44772 12 6 12C6.55228 12 7 11.5523 7 11H5ZM16.5858 4.58579L17.2929 3.87868V3.87868L16.5858 4.58579ZM19.4142 7.41421L20.1213 6.70711V6.70711L19.4142 7.41421ZM19 11C19 11.5523 19.4477 12 20 12C20.5523 12 21 11.5523 21 11H19ZM17 5C17 4.44772 16.5523 4 16 4C15.4477 4 15 4.44772 15 5H17ZM19 9C19.5523 9 20 8.55228 20 8C20 7.44772 19.5523 7 19 7V9ZM16.2929 6.29289C15.9024 6.68342 15.9024 7.31658 16.2929 7.70711C16.6834 8.09763 17.3166 8.09763 17.7071 7.70711L16.2929 6.29289ZM18.2071 7.20711C18.5976 6.81658 18.5976 6.18342 18.2071 5.79289C17.8166 5.40237 17.1834 5.40237 16.7929 5.79289L18.2071 7.20711ZM7 11V6H5V11H7ZM8 5H15.1716V3H8V5ZM15.8787 5.29289L18.7071 8.12132L20.1213 6.70711L17.2929 3.87868L15.8787 5.29289ZM19 8.82843V11H21V8.82843H19ZM18.7071 8.12132C18.8946 8.30886 19 8.56321 19 8.82843H21C21 8.03278 20.6839 7.26972 20.1213 6.70711L18.7071 8.12132ZM15.1716 5C15.4368 5 15.6911 5.10536 15.8787 5.29289L17.2929 3.87868C16.7303 3.31607 15.9672 3 15.1716 3V5ZM7 6C7 5.44772 7.44772 5 8 5V3C6.34315 3 5 4.34315 5 6H7ZM15 5V7.5H17V5H15ZM16.5 9H19V7H16.5V9ZM17.7071 7.70711L18.2071 7.20711L16.7929 5.79289L16.2929 6.29289L17.7071 7.70711ZM15 7.5C15 8.32843 15.6716 9 16.5 9V7C16.7761 7 17 7.22386 17 7.5H15Z",fill:"currentColor",transform:"translate(-1, 0)"})),hk=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H15.1716C15.702 4 16.2107 4.21071 16.5858 4.58579L18.4142 6.41421C18.7893 6.78929 19 7.29799 19 7.82843V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),u.createElement("path",{d:"M9.88176 20.506V22H4.58976V20.686L7.59576 17.032H4.62576V15.538H9.84576V16.843L6.88476 20.506H9.88176ZM12.8427 15.538V22H11.0787V15.538H12.8427ZM15.9882 19.939V22H14.2242V15.538H17.0502C18.6432 15.538 19.6242 16.294 19.6242 17.743C19.6242 19.183 18.6432 19.939 17.0502 19.939H15.9882ZM15.9882 18.472H16.9602C17.5812 18.472 17.8782 18.193 17.8782 17.743C17.8782 17.284 17.5812 17.014 16.9602 17.014H15.9882V18.472Z",fill:"currentColor"}),u.createElement("path",{d:"M12 5H10V7H11.5C11.7761 7 12 6.77614 12 6.5V5Z",fill:"currentColor"}),u.createElement("path",{d:"M10 7H8.5C8.22386 7 8 7.22386 8 7.5V8.5C8 8.77614 8.22386 9 8.5 9H10V7Z",fill:"currentColor"}),u.createElement("path",{d:"M12 9.5C12 9.22386 11.7761 9 11.5 9H10V10.5C10 10.7761 10.2239 11 10.5 11H11.5C11.7761 11 12 10.7761 12 10.5V9.5Z",fill:"currentColor"}));function M7e({url:e,className:t}){switch(new URL(e).pathname.split(".").pop()){case"pdf":return o.jsx(dk,{className:t});case"gif":return o.jsx(sk,{className:t});case"jpg":case"jpeg":return o.jsx(ak,{className:t});case"png":return o.jsx(fk,{className:t});case"webp":return o.jsx(gk,{className:t});case"mp3":return o.jsx(lk,{className:t});case"m4a":return o.jsx(ok,{className:t});case"ogg":return o.jsx(uk,{className:t});case"wav":return o.jsx(pk,{className:t});case"mp4":return o.jsx(ck,{className:t});case"mov":return o.jsx(ik,{className:t});case"zip":return o.jsx(hk,{className:t});case"rar":return o.jsx(mk,{className:t});case"css":return o.jsx(rk,{className:t});default:return null}}function _7e({searchResult:e,className:t}){switch(e.content_type){case"application/pdf":return o.jsx(dk,{className:t});case"image/gif":return o.jsx(sk,{className:t});case"image/jpeg":return o.jsx(ak,{className:t});case"image/png":return o.jsx(fk,{className:t});case"image/webp":return o.jsx(gk,{className:t});case"audio/mpeg":return o.jsx(lk,{className:t});case"audio/m4a":return o.jsx(ok,{className:t});case"audio/ogg":return o.jsx(uk,{className:t});case"audio/wav":return o.jsx(pk,{className:t});case"video/mp4":return o.jsx(ck,{className:t});case"video/quicktime":return o.jsx(ik,{className:t});case"application/zip":return o.jsx(hk,{className:t});case"application/x-rar-compressed":return o.jsx(mk,{className:t});case"text/css":return o.jsx(rk,{className:t})}return o.jsx(M7e,{url:e.url,className:t})}function E7e({item:e}){const t=e.attribution??uE(e.url,"short"),n=a=>"ref_id"in a&&"content_type"in a,r=e.url.startsWith("file://")&&"icon_type"in e?Fh(e.icon_type??"other"):void 0;return o.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col gap-0.5 rounded-xl px-3 py-2.5 hover:bg-token-main-surface-secondary",children:[o.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",children:[r?o.jsx(r,{className:"relative h-4 w-4 text-token-text-primary"}):o.jsx(Ql,{url:e.url,className:"icon-sm rounded-full bg-token-main-surface-primary object-cover",size:32,minSize:20,fallback:o.jsx($h,{className:"icon-sm text-token-text-quaternary"})}),t,n(e)&&o.jsx(_7e,{searchResult:e,className:"inline h-4 w-4 text-token-text-tertiary"})]}),o.jsx("div",{className:"line-clamp-2 text-sm font-semibold",children:e.title}),(e.pub_date??e.snippet)&&o.jsxs("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-secondary",children:[e.pub_date&&o.jsx(y5e,{date:e.pub_date}),e.pub_date&&e.snippet&&"  ",e.snippet]})]})}function k7e(e,t=20){if(e.length<=t)return{attribution:e,wasTruncated:!1};const n="...",r=t-n.length,s=Math.floor(r/2),a=r-s;return{attribution:e.substring(0,s)+n+e.substring(e.length-a),wasTruncated:!0}}function T7e({citation:e}){const t=uE(e.url,"short"),{attribution:n,wasTruncated:r}=k7e(t);return o.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-0.5 rounded-xl px-3 py-2.5 hover:bg-token-main-surface-secondary",children:[o.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",title:r?t:void 0,children:[e.icon,n]}),e.count>1&&o.jsx("div",{className:"flex h-4 items-center justify-end pl-1",children:o.jsx("div",{className:"flex h-4 min-w-4 items-center justify-center rounded-full bg-token-main-surface-tertiary text-[8px] group-hover:bg-token-main-surface-primary",children:e.count})})]})}function RRe({taskInfo:e,sources:t,caterpillarHeaderRef:n}){const r=e.finalMessage,s=$ce(r?.metadata?.content_references?.filter(i=>i.type==="webpage_extended"),"matched_text"),a=ble(e);return o.jsxs("div",{children:[o.jsx("div",{ref:n},"task-header"),o.jsxs("div",{className:"flex flex-col gap-4",children:[s.length>0&&o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-base font-medium",children:o.jsx(C,{id:"cc9nL7",defaultMessage:"Citations"})}),o.jsx("div",{className:"ml-[-12px] flex flex-col gap-1",children:s?.map((i,l)=>o.jsx(E7e,{item:i},`citation-${l}-${i.matched_text}`))})]}),o.jsxs("div",{className:"flex flex-col gap-2.5",children:[o.jsx("div",{className:"text-base font-medium",children:a?o.jsx("div",{className:"loading-shimmer-pure-text flex h-8 gap-1 overflow-hidden",children:o.jsx(C,{id:"Wo2ed3",defaultMessage:"Compiling sources"})}):o.jsx(C,{id:"h6ereF",defaultMessage:"All Sources"})}),o.jsx("div",{className:"ml-[-12px] flex flex-wrap",children:t?.map((i,l)=>o.jsx(T7e,{citation:i},`source-${l}-${i.url}`))})]})]})]})}const A7e="_leadingBar_sbmq2_1",P7e="_leadingBarScrollAnimation_sbmq2_19",N7e="_trailingBar_sbmq2_23",j7e="_trailingBarScrollAnimation_sbmq2_41",I7e="_primary_sbmq2_45",hi={leadingBar:A7e,"add-top-shadow":"_add-top-shadow_sbmq2_1",leadingBarScrollAnimation:P7e,trailingBar:N7e,"add-bottom-shadow":"_add-bottom-shadow_sbmq2_1",trailingBarScrollAnimation:j7e,primary:I7e};function R7e({disabled:e=!1,track:t}={}){const[n,r]=u.useState(null),s=u.useRef(null),a=u.useRef(null),i=u.useCallback(l=>{if(a.current&&(a.current.disconnect(),a.current=null),s.current=l,e||!l)return;const c=new ResizeObserver(d=>{if(!d.length)return;const f=d[0],{width:m,height:p}=L7e(f);u.startTransition(()=>{r(g=>{const v={width:m,height:p};return!g||t==="width"&&g.width!==m||t==="height"&&g.height!==p||g.width!==m||g.height!==p?v:g})})});c.observe(l),a.current=c},[e,t]);return[n,i]}function L7e(e){let t,n;if(e.borderBoxSize){const r=Array.isArray(e.borderBoxSize)?e.borderBoxSize[0]:e.borderBoxSize;t=r.inlineSize,n=r.blockSize}else t=e.contentRect.width,n=e.contentRect.height;return{width:t,height:n}}function bu({disableSizeTracking:e,name:t,track:n}){const[r,s]=R7e({disabled:n===void 0||e,track:n});let a={};return t&&!e&&n&&r&&(a={[`--${t}-${n}`]:`${r[n==="width"?"width":"height"]}px`}),[a,s,r]}function O7e(e){const{axis:t="horizontal",children:n,className:r,hidden:s,leading:a,trailing:i,ref:l,style:c,type:d,...f}=e,[m,p]=bu(f);return o.jsx("div",{"bar-type":d,hidden:s,"data-testid":`bar-${f.name??"default"}`,className:N("grid gap-bar",t==="vertical"&&"flex-col",a&&[hi.leadingBar,hi.leadingBarScrollAnimation],i&&[hi.trailingBar,hi.trailingBarScrollAnimation],d==="primary"&&hi.primary,r),ref:l??p,style:{...c,...m},children:n})}const I5=u.createContext(void 0);function LRe(){return u.useContext(I5).threadContentScrollContainerElementRef}function ORe(){return wo(u.useContext(I5).footerRootContainerElementRef,"footerRootContainerElementRef")}function D7e({value:e,children:t}){return o.jsx(I5.Provider,{value:e,children:t})}const F7e="_screen_c7xqp_1",$7e={screen:F7e};function B7e(e){const{anchor:t,children:n,className:r,contentClassName:s,leading:a,primaryScrollContainer:i,ref:l,style:c,trailing:d,trackLeading:f,trackTrailing:m,...p}=e,{name:g}=p,[v,h]=bu(p),[x,y]=bu({disableSizeTracking:!f,name:`${g}-leading`,track:"height"}),[b,S]=bu({disableSizeTracking:!m,name:`${g}-trailing`,track:"height"}),T=g??"default",k=null,A=u.useRef(null),M=u.useMemo(()=>({threadContentScrollContainerElementRef:k,footerRootContainerElementRef:A}),[]);return o.jsxs("section",{className:N($7e.screen,"h-[var(--screen-height-override,calc(var(--cqh-full)-var(--screen-height-offset,0px)))]","keyboard-open:h-[var(--screen-height-override,calc(var(--cqh-full)-env(keyboard-inset-height,0px)-var(--screen-height-offset,0px)-var(--force-redraw,0px)))]",r),"data-testid":`screen-${T}`,"data-primary-scroller":i,"screen-anchor":t,ref:a4e(h,l),style:{...c,...v,...x,...b,container:g?`${g} / inline-size`:void 0,minWidth:`min(var(--screen-${T}_min-width), 100cqw)`},children:[o.jsx("div",{slot:"leading",ref:y,children:a}),o.jsx("div",{slot:"content",className:s,children:o.jsx(D7e,{value:M,children:n})}),o.jsx("div",{slot:"trailing",ref:P=>{S(P),A.current=P},children:d})]})}function R5({leading:e,handleClose:t,trailing:n,children:r}){return o.jsx(o.Fragment,{children:o.jsx(B7e,{anchor:"top",className:"relative flex-1 border-l border-l-token-border-sharp dark:border-token-main-surface-secondary",name:"threadFlyOut",trackLeading:!0,trailing:n,leading:o.jsx(O7e,{name:"search-sources-header",type:"primary",className:`flex min-h-[calc(var(--screen-thread-header-min-height,60px)+1px)] items-center ${e?"":"justify-end p-1.5"} !bg-transparent`,children:e?o.jsxs("div",{className:"flex h-[calc(var(--screen-thread-header-min-height,60px)+1px)] items-center justify-between border-b border-token-border-sharp bg-token-main-surface-primary px-6 py-3",children:[e,o.jsx(Lr,{className:"-mr-3.5 bg-token-main-surface-primary",onClick:t})]}):o.jsx("div",{className:"bg-token-main-surface-primary p-1",children:o.jsx(Lr,{onClick:t})})}),children:r})})}const U7e=gt(()=>ut(()=>import("./i8o49in259xn5luc.js"),__vite__mapDeps([54,1,3,4,55])).then(e=>e.SearchSources));function DRe({clientThreadId:e}){const t=Xd(),{turnIndex:n,messageId:r,clientThreadId:s,scrollToHeader:a,shouldAnimateScroll:i}=Jd("searchSources")??{},{closeThreadSidebar:l}=sa();return!r||!n||!t||s!==e?null:o.jsx(R5,{handleClose:l,children:o.jsx(U7e,{clientThreadId:e,scrollToHeader:a,shouldAnimateScroll:i,turnIndex:n,messageId:r,isInSidebar:!0})})}const H7e=gt(()=>ut(()=>import("./fzxnthhv4kjfhz0t.js"),__vite__mapDeps([56,1,3,4,16,17,54,55])).then(e=>e.ChatScreenRetrievalResultsFlyoutContent));function FRe({clientThreadId:e}){const t=Xd(),{turnIndex:n,clientThreadId:r}=Jd("retrievalResults")??{},{closeThreadSidebar:s}=sa(),a=!n||!t||r!==e;return u.useEffect(()=>{a&&t&&s()},[s,t,a]),a?null:o.jsx(R5,{handleClose:s,children:o.jsx(H7e,{turnIndex:n,clientThreadId:e})})}const V7e={strong:e=>{const{node:t,children:n,...r}=e;return o.jsx("strong",{...r,className:N(r.className,"font-semibold text-token-text-primary"),children:n})},p:e=>{const{node:t,children:n,...r}=e;return o.jsx("p",{...r,className:N(r.className,"text-sm","!important has-[strong]:mb-0 [&:not(:has(strong))]:mb-[18px]"),children:n})}};function G7e({isCompletionRequestInProgress:e}){return o.jsx("div",{className:"flex h-full items-center justify-center bg-token-main-surface-primary px-10 text-token-text-tertiary",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg",children:o.jsx(C,{id:"chatScreenSummarizerFlyout.noDetailsAvailable",defaultMessage:"No details available"})}),!e&&o.jsx("div",{className:"mt-2 text-base",children:o.jsx(C,{id:"chatScreenSummarizerFlyout.noSummaryAvailable",defaultMessage:"Occasionally, the model generates the best response without anything to summarize."})})]})})}function $Re({clientThreadId:e}){const{clientThreadId:t,currentGroupedMessageIndex:n,turnIndex:r=-1}=Jd("summarizer")??{},[s,a]=Je(e,x=>[Z.getRequestId(x),r<0?void 0:Z.getConversationTurnAtIndex(x,r)]),i=Xd(),{closeThreadSidebar:l}=sa(),c=a?.messageGroups,d=n!==void 0&&c?c[n]:void 0,f=d&&d.type===gN.a8km123?d.messages:void 0,m=f?.map(x=>Ks(x)).join(`

`),p=Je(e,Z.isMessageTurnEnded),g=vp(s),v=s&&g&&!p,h=u.useRef(null);return u.useEffect(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[m]),!a||!i||!f?.length||t!==e?null:o.jsx("div",{className:"!bg-token-main-surface-primary",children:o.jsx(R5,{leading:o.jsx("span",{className:"w-full text-[17px] font-medium",children:o.jsx(C,{id:"sidebar-details",defaultMessage:"Details"})}),handleClose:l,children:m?o.jsxs("div",{id:"sidebar-summarizer",className:"max-h-full overflow-y-auto bg-token-main-surface-primary px-6 pt-4",children:[o.jsx(qo,{componentOverrides:V7e,className:"not-prose",children:m}),o.jsx("div",{ref:h})]}):o.jsx(G7e,{isCompletionRequestInProgress:!!v})})})}function W7e({title:e,description:t,confirmText:n,cancelText:r,isOpen:s=!1,onClose:a,onConfirm:i,primaryButtonColor:l="primary",textCenter:c=!1,loading:d=!1,children:f}){const m=L();return o.jsx(he,{isOpen:s,onClose:a,type:"success",title:e,description:t,textCenter:c,primaryButton:o.jsx(Ve.Button,{title:n??m.formatMessage(W6.confirmLabel),color:l,onClick:i,loading:d}),secondaryButton:o.jsx(Ve.Button,{title:r??m.formatMessage(W6.cancelLabel),color:"secondary",onClick:a}),children:f})}const W6=U({confirmLabel:{id:"ConfirmModal.confirmLabel",defaultMessage:"Confirm"},cancelLabel:{id:"ConfirmModal.cancelLabel",defaultMessage:"Cancel"}});function BRe({clientThreadId:e,urlThreadId:t}){const n=L(),r=Te(),s=Cn();return o.jsx(O8,{children:s&&e&&!!t&&o.jsx(W7e,{isOpen:!0,title:o.jsx(C,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:o.jsx(C,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:n.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{r("/")},onConfirm:()=>{P8.setIsTemporaryChatEnabled(!1)}})})}const URe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.29289 4.29289C2.68342 3.90237 3.31658 3.90237 3.70711 4.29289L10.7071 11.2929C11.0976 11.6834 11.0976 12.3166 10.7071 12.7071L3.70711 19.7071C3.31658 20.0976 2.68342 20.0976 2.29289 19.7071C1.90237 19.3166 1.90237 18.6834 2.29289 18.2929L8.58579 12L2.29289 5.70711C1.90237 5.31658 1.90237 4.68342 2.29289 4.29289ZM12 19C12 18.4477 12.4477 18 13 18H21C21.5523 18 22 18.4477 22 19C22 19.5523 21.5523 20 21 20H13C12.4477 20 12 19.5523 12 19Z",fill:"currentColor"})),HRe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.82918 4.10557C5.16796 3.428 5.86049 3 6.61803 3H17.382C18.1395 3 18.832 3.428 19.1708 4.10557L20.7889 7.34164C20.9277 7.61935 21 7.92558 21 8.23607V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V8.23607C3 7.92558 3.07229 7.61935 3.21115 7.34164L4.82918 4.10557ZM17.382 5H6.61803L5.61803 7H18.382L17.382 5ZM19 9H5V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V9ZM11.2929 10.7929C11.6834 10.4024 12.3166 10.4024 12.7071 10.7929L15.2071 13.2929C15.5976 13.6834 15.5976 14.3166 15.2071 14.7071C14.8166 15.0976 14.1834 15.0976 13.7929 14.7071L13 13.9142V16.5C13 17.0523 12.5523 17.5 12 17.5C11.4477 17.5 11 17.0523 11 16.5V13.9142L10.2071 14.7071C9.81658 15.0976 9.18342 15.0976 8.79289 14.7071C8.40237 14.3166 8.40237 13.6834 8.79289 13.2929L11.2929 10.7929Z",fill:"currentColor"})),z6={base_config:void 0,eval_preset:void 0,completion_model:void 0};de(e=>({settings:vk(),setSettings:t=>{e({settings:t}),lt.setCookie(ct.InternalSearchSettings,JSON.stringify(t),{maxAge:2**30})}}));function vk(){let e;try{const t=lt.getCookie(ct.InternalSearchSettings);e=t?JSON.parse(t):z6}catch{e=z6}return hN(e,t=>!!t)}var z7e=(e=>(e.Header="Header",e.HeaderTop="HeaderTop",e.HeaderBottom="HeaderBottom",e))(z7e||{}),q7e=(e=>(e.Box="Box",e.PromptTextareaAction="PromptTextareaAction",e.BannerTermsDisclaimer="BannerTermsDisclaimer",e.BannerSignup="BannerSignup",e.BannersRateLimit="BannersRateLimit",e.BannerSidekickAnnouncement="BannerSidekickAnnouncement",e.BannerMemoryFull="BannerMemoryFull",e.ParagenControls="ParagenControls",e.AdvancedVoiceOnMobileAnnouncement="AdvancedVoiceOnMobileAnnouncement",e.SearchBrowserExtensionAnnouncement="SearchBrowserExtensionAnnouncement",e.SearchBrowserExtensionReactiveAnnouncement="SearchBrowserExtensionReactiveAnnouncement",e.MemoryInSearchAnnouncement="MemoryInSearchAnnouncement",e.MoonshineAnnouncement="MoonshineAnnouncement",e.CustomizeChatGPTAnnouncement="CustomizeChatGPTAnnouncement",e.ProjectConversationTaskNoFileAccess="ProjectConversationTaskNoFileAccess",e.JawboneAnnouncement="JawboneAnnouncement",e.JawboneMaxActiveAnnouncement="JawboneMaxActiveAnnouncement",e.S09KM1="S09KM1",e.PromoRedemptionAnnouncement="PromoRedemptionAnnouncement",e.OperatorAnnouncement="OperatorAnnouncement",e.BannerPlusUpsell="BannerPlusUpsell",e.ContextualAnswersAdminUpsell="ContextualAnswersAdminUpsell",e.ReferrerRedemptionAvailableAnnouncement="ReferrerRedemptionAvailableAnnouncement",e.RefereeRedemptionAvailableAnnouncement="RefereeRedemptionAvailableAnnouncement",e.ReferralProgramUpsellAnnouncement="ReferralProgramUpsellAnnouncement",e.StudentsUpsellAnnouncement="StudentsUpsellAnnouncement",e))(q7e||{}),Z7e=(e=>(e.DallePromptControls="DallePromptControls",e))(Z7e||{});const q6={contentAreas:{Header:{dimensions:null,contentId:null},HeaderTop:{dimensions:null,contentId:null},HeaderBottom:{dimensions:null,contentId:null}},sharedProps:null};function Y7e(){const e=de(D8(St(()=>q6)));function t(n,r){e.setState(s=>{s.contentAreas[n].dimensions=r})}return{reset:()=>e.setState(q6),useContentAreaId(n){return e(r=>r.contentAreas[n].contentId)},useHasAnnouncementInHeader(){const n=e(r=>r.contentAreas.HeaderTop.contentId);return n==="AdvancedVoiceOnMobileAnnouncement"||n==="BannerSidekickAnnouncement"},useContentAreaApi(n){const r=u.useCallback(a=>e.setState(i=>{i.contentAreas[n].contentId=a}),[n]),s=u.useCallback(()=>{e.setState(a=>{a.contentAreas[n].contentId=null})},[n]);return{set:r,remove:s}},useContentAreaDimensions(n,r){return e(s=>r(s.contentAreas[n].dimensions))},useContentAreaResizeObserver(n,r){u.useEffect(()=>{if(r.current){t(n,r.current.getBoundingClientRect());const s=new ResizeObserver(a=>{for(const i of a)t(n,i.contentRect)});return s.observe(r.current),()=>{s.disconnect(),t(n,null)}}},[r,n])},useIsHeaderContentAreaPopulated(){return e(n=>!!n.contentAreas.HeaderTop.contentId||!!n.contentAreas.HeaderBottom.contentId)},useSharedProps(n){return e(r=>n?n(r.sharedProps):r.sharedProps)},getSharedProps(){return e.getState().sharedProps},useSetSharedProps(){return u.useCallback(n=>{e.setState(r=>{r.sharedProps=n})},[])}}}const xk=u.createContext(null);function VRe({children:e}){const t=u.useRef(null);return t.current==null&&(t.current={store:Y7e()}),o.jsx(xk.Provider,{value:t.current,children:e})}function K7e(){const e=u.useContext(xk);if(!e)throw new Error("usePromptTextareaContext must be used within a PromptTextareaProvider");return e}const GRe=e=>e1([ke.GizmoMagicCreate,ke.GizmoTest],e?.kind),WRe=e=>e1([ke.GizmoInteraction,ke.GizmoMagicCreate,ke.GizmoTest],e?.kind),Z6=({label:e,value:t,onCopied:n})=>{const r=Be(),s=a=>{jh(t,r,a),n()};return o.jsxs("div",{className:"flex flex-col space-y-2",children:[e!==void 0&&o.jsx("label",{className:"font-semibold",children:e}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{onClick:s,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:t}),o.jsx(G,{color:"ghost",onClick:s,icon:vN})]})]})},L5=u.createContext({rootBordered:!1});function Q7e({children:e}){return o.jsx("thead",{children:o.jsx("tr",{children:e})})}function X7e({textAlign:e="left",children:t,className:n="",onClick:r}){const{rootBordered:s}=u.useContext(L5);return o.jsx("th",{onClick:r,className:N("text-token sticky top-0 z-10 border-b-[0.5px] border-token-border-medium bg-token-main-surface-primary py-2 font-semibold",s?"px-3":"pr-4 last:pr-0",e==="left"?"text-left":e==="right"?"text-right":"text-center",n,{"cursor-pointer hover:text-token-text-tertiary":r!=null}),children:t})}function J7e({children:e,...t}){return o.jsx("tbody",{...t,children:e})}const e6e=u.forwardRef(function({children:t,disabled:n=!1,onClick:r,className:s},a){return o.jsx("tr",{ref:a,...n?{"data-disabled":!0}:{},className:N(n?"pointer-events-none":"",s),onClick:r,children:t})});function t6e({textAlign:e="left",children:t,className:n,divClassName:r="min-h-[40px] items-center",colSpan:s}){const{rootBordered:a}=u.useContext(L5);return o.jsx("td",{className:N("border-b-[0.5px] border-token-border-medium align-top",a?"px-3":"pr-4 last:pr-0 [tr:last-child_&]:border-b-0",e&&"text-"+e,n),colSpan:s,children:o.jsx("div",{className:N("flex [tr[data-disabled=true]_&]:opacity-50",e==="right"&&"justify-end",e==="center"&&"justify-center",r),children:t})})}function n6e({children:e}){return o.jsx("div",{className:"text-md flex items-center justify-end gap-2",children:e})}function r6e({children:e,fixed:t=!1,className:n,size:r="normal",bordered:s=!1}){const a=u.useRef(null),i=u.useRef(null),[l,c]=u.useState(!1);return u.useEffect(()=>{const d=a.current,f=i.current;if(d&&f){const m=new ResizeObserver(()=>{c(f.scrollHeight>d.clientHeight)});return m.observe(d),()=>m.disconnect()}},[]),o.jsx(L5.Provider,{value:{rootBordered:s},children:o.jsx("div",{className:N("overflow-y-auto text-token-text-primary",s&&"rounded-lg border border-token-border-light",r==="normal"?"text-base":"text-sm",l&&"pr-1",n),ref:a,children:o.jsx("table",{className:N("w-full border-separate border-spacing-0",t&&"table-fixed"),ref:i,children:e})})})}const Ns={Root:r6e,Header:Q7e,HeaderCell:X7e,Body:J7e,Row:e6e,Cell:t6e,Actions:n6e};class ki extends Error{}ki.prototype.name="InvalidTokenError";function s6e(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function a6e(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return s6e(t)}catch{return atob(t)}}function o6e(e,t){if(typeof e!="string")throw new ki("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new ki(`Invalid token specified: missing part #${n+1}`);let s;try{s=a6e(r)}catch(a){throw new ki(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(s)}catch(a){throw new ki(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}function Ck(e,t){return ee({queryKey:["workspace/identity",e],queryFn:async()=>{if(e!==void 0)return await j.safeGet("/accounts/{account_id}/identity",{parameters:{path:{account_id:e}}})},enabled:t})}function zRe(e){const t=Xv(e),r=(t?o6e(t):null)?.pwd_auth_time;return r==null?!1:Date.now()-r<60*5*1e3}function i6e(e){return ee({queryKey:["sso/workos/connections",e],queryFn:()=>{if(e!==void 0)return fe.listWorkOSConnections(e)},enabled:e!=null})}function l6e(){const{config:e,isLoading:t}=oa("4198227845"),n=e.get("enabled_for_chat_override",!1),r=e.get("enabled_for_chat_new",!1),s=e.get("enabled_for_chat_existing",!1);return{enabledForChatOverride:n,enabledForChatNew:r,enabledForChatExisting:s,isLoading:t}}function c6e(){const{value:e,isLoading:t}=st("2607001979");return{enabled:e,isLoading:t}}function qRe(){const e=ms(fo.workspaceId),{enabled:t,isLoading:n}=c6e(),{enabledForChatOverride:r,isLoading:s}=l6e(),a=!t&&r,{data:i,isLoading:l}=i6e(a?e??void 0:void 0),c=i instanceof Bt?i:void 0;return{connection:c?void 0:i?.[0],error:c,enabled:a,isLoading:n||l||s}}function ZRe(e){const t=xe();return Ie({mutationFn:()=>fe.getOrCreateWorkOSConnection(e),onSuccess:()=>{t.refetchQueries({queryKey:["sso/workos/connections",e]})}})}function YRe(){const e=ms(fo.workspaceId),{data:t}=Ck(e??void 0,e!=null);return t?.allow_external_domain_invites}function KRe(){const e=ms(fo.workspaceId),{data:t}=Ck(e??void 0,e!=null);return u.useMemo(()=>t?.domains&&t?.domains.filter(n=>n.status==="verified"),[t?.domains])}function QRe(e){const t=L(),n=Be();return Ie({mutationFn:({shouldAutoProvision:r})=>j.safePost("/accounts/{account_id}/settings/auto_provision",{parameters:{path:{account_id:e}},requestBody:{value:r}}).then(s=>{const a=r?vd.autoProvisionEnabledToast:vd.autoProvisionDisabledToast;return n.success(t.formatMessage(a),{duration:3}),s}).catch(s=>{throw n.danger(s.message),s})})}function XRe(e){const t=L(),n=Be();return Ie({mutationFn:async({shouldAllowExternalDomainInvites:r})=>{try{const s=await j.safePost("/accounts/{account_id}/settings/allow_external_domain_invites",{parameters:{path:{account_id:e}},requestBody:{value:r}}),a=r?vd.allowExternalDomainInvitesToast:vd.disableExternalDomainInvitesToast;return n.success(t.formatMessage(a),{duration:3}),s}catch(s){throw n.danger(s.message),s}}})}function yk(e){const t=xe();return Ie({mutationFn:({domainId:n})=>j.safeDelete("/accounts/{account_id}/domains/{domain_id}",{parameters:{path:{account_id:e,domain_id:n}}}),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]}),t.refetchQueries({queryKey:["builderProfile"]})}})}function bk(e){let t=e;return t.startsWith("-----BEGIN")||(t=`-----BEGIN CERTIFICATE-----
${t}`),t.endsWith("CERTIFICATE-----")||(t=`${t}
-----END CERTIFICATE-----`),t}function JRe(e){const t=xe();return Ie({mutationFn:({signInEndpoint:n,cert:r})=>j.safePost("/accounts/{account_id}/sso/connections/saml",{parameters:{path:{account_id:e}},requestBody:{sign_in_endpoint:n,cert:bk(r)}}),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function eLe(e){const t=xe();return Ie({mutationFn:({connectionId:n,signInEndpoint:r,cert:s,active:a,enforcedClients:i})=>j.safePatch("/accounts/{account_id}/sso/connections",{parameters:{path:{account_id:e}},requestBody:{id:n,sign_in_endpoint:r,cert:s!==void 0?bk(s):void 0,active:a,enforced_clients:i}}),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function tLe(e){const t=xe();return Ie({mutationFn:({connectionId:n})=>j.safeDelete("/accounts/{account_id}/sso/connections/{connection_id}",{parameters:{path:{account_id:e,connection_id:n}}}),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}const nLe=ce.div`text-md mb-4 text-token-text-secondary`,rLe={[Za.VERIFIED]:Pi({id:"i7FkyS",defaultMessage:"Verified"}),[Za.PENDING]:Pi({id:"THBv/l",defaultMessage:"Pending"}),[Za.EXPIRED]:Pi({id:"+sjWGK",defaultMessage:"Expired"})},vd=U({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"}});function u6e(e){const t=xe(),n=Be();return Ie({mutationFn:({hostname:r})=>j.safePost("/accounts/{account_id}/domains",{parameters:{path:{account_id:e}},requestBody:{hostname:r}}),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message)}})}function d6e(e){const t=xe(),n=Be();return Ie({mutationFn:({domainId:r})=>j.safePost("/accounts/{account_id}/domains/{domain_id}/check",{parameters:{path:{account_id:e,domain_id:r}}}),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message)}})}function f6e({workspaceId:e,isOpen:t,onClose:n,currentDomain:r,domains:s=[],showUnverifiedDomains:a=!1,onVerifyDomain:i}){const l=L(),c=Be(),{mutateAsync:d,isPending:f}=u6e(e),{mutateAsync:m,isPending:p}=d6e(e),[g,v]=u.useState(r??void 0),[h,x]=u.useState(r?.hostname),[y,b]=u.useState(r?.status===void 0?0:r?.status===Za.PENDING?1:2),S=()=>{r||(v(void 0),b(0))},T=async()=>{if(h===void 0)return;const P=s.find(I=>I.hostname===h&&I.status===Za.PENDING);if(P)v(P),b(1);else{const I=await d({hostname:h});"id"in I&&v(I),b(1)}},k=o.jsx(Ve.Button,{title:l.formatMessage(zt.check),color:"primary",disabled:g?.id===void 0||p,onClick:async()=>{if(g?.id){const P=await m({domainId:g.id});"error"in P&&c.danger(l.formatMessage(zt.domainCheckError,{message:P.error.message})),"id"in P&&(i&&i(P),P.status===Za.VERIFIED&&b(2))}}}),A=o.jsx(Ve.Button,{title:l.formatMessage(zt.submit),color:"primary",disabled:h===void 0||f,onClick:T}),M=o.jsx(Ve.Button,{title:l.formatMessage(zt.done),color:"primary",onClick:()=>{S(),n()}});return o.jsxs(he,{isOpen:t,onClose:()=>{S(),n()},type:"success",className:"text-token-text-secondary",title:l.formatMessage(y===0?zt.newTitle:zt.editTitle),primaryButton:y===0?A:y===1?k:M,secondaryButton:o.jsx(Ve.Button,{title:l.formatMessage(zt.cancel),color:"secondary",onClick:()=>{S(),n()}}),children:[y===0&&o.jsx(p6e,{hostname:h,onSetHostname:x,onSubmit:T,unverifiedDomains:a?s:[],onVerifyDomain:P=>{b(1),v(P)},workspaceId:e}),y===1&&o.jsxs("div",{className:"flex flex-col gap-3",children:[l.formatMessage(zt.verificationTokenMessage,{hostname:g?.hostname}),g?.dns_verification_token_string&&o.jsx(Z6,{value:g.dns_verification_token_string,onCopied:()=>{c.success(l.formatMessage(zt.copiedTXTRecordToClipboard),{duration:3})}}),o.jsx(C,{...zt.verificationTokenFooter})]}),y===2&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx(C,{...zt.successfulVerification,values:{hostname:g?.hostname}}),g?.dns_verification_token_string&&o.jsx(Z6,{value:g.dns_verification_token_string,onCopied:()=>{c.success(l.formatMessage(zt.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function m6e({unverifiedDomains:e,onVerifyDomain:t,workspaceId:n}){const{mutateAsync:r}=yk(n);return o.jsxs(Ns.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[o.jsxs(Ns.Header,{children:[o.jsx(Ns.HeaderCell,{children:o.jsx(C,{...zt.unverifiedDomainsTableHeader})}),o.jsx(Ns.HeaderCell,{textAlign:"right"})]}),e.map(s=>o.jsxs(Ns.Row,{children:[o.jsx(Ns.Cell,{children:s.hostname}),o.jsx(Ns.Cell,{textAlign:"right",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(G,{color:"secondary",size:"small",onClick:()=>t(s),children:o.jsx(C,{...zt.verifyDomainButton})}),o.jsx(G,{color:"secondary",size:"small",onClick:()=>r({domainId:s.id}),icon:Kl})]})})]},s.id))]})}function p6e({hostname:e,onSetHostname:t,onSubmit:n,unverifiedDomains:r,onVerifyDomain:s,workspaceId:a}){const i=L();return o.jsxs(o.Fragment,{children:[r&&r.length>0&&o.jsx(m6e,{workspaceId:a,unverifiedDomains:r,onVerifyDomain:s}),o.jsx("form",{onSubmit:l=>{l.preventDefault(),n()},children:o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"hostname",className:"mb-2 flex items-center text-sm font-semibold",children:o.jsx(C,{...zt.domainInput})}),o.jsx(ol,{ariaLabel:!1,name:"hostname",placeholder:i.formatMessage(zt.placeholder),value:e??"",onChange:l=>{t(l.target.value)}})]})})]})}const zt=U({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}}),g6e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.29289 8.29289C4.68342 7.90237 5.31658 7.90237 5.70711 8.29289L12 14.5858L18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289C20.0976 8.68342 20.0976 9.31658 19.7071 9.70711L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L4.29289 9.70711C3.90237 9.31658 3.90237 8.68342 4.29289 8.29289Z",fill:"currentColor"})),wk=e=>u.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M7.00016 0.300537C10.6835 0.300537 13.6668 3.28387 13.6668 6.9672C13.6665 8.36404 13.2281 9.72559 12.4134 10.8602C11.5986 11.9948 10.4486 12.8454 9.12516 13.2922C8.79183 13.3589 8.66683 13.1505 8.66683 12.9755C8.66683 12.7505 8.67516 12.0339 8.67516 11.1422C8.67516 10.5172 8.46683 10.1172 8.22516 9.90887C9.7085 9.7422 11.2668 9.17554 11.2668 6.6172C11.2668 5.88387 11.0085 5.2922 10.5835 4.82554C10.6502 4.65887 10.8835 3.97554 10.5168 3.05887C10.5168 3.05887 9.9585 2.87554 8.6835 3.7422C8.15016 3.5922 7.5835 3.5172 7.01683 3.5172C6.45016 3.5172 5.8835 3.5922 5.35016 3.7422C4.07516 2.88387 3.51683 3.05887 3.51683 3.05887C3.15016 3.97554 3.3835 4.65887 3.45016 4.82554C3.02516 5.2922 2.76683 5.8922 2.76683 6.6172C2.76683 9.1672 4.31683 9.7422 5.80016 9.90887C5.6085 10.0755 5.4335 10.3672 5.37516 10.8005C4.99183 10.9755 4.0335 11.2589 3.4335 10.2505C3.3085 10.0505 2.9335 9.55887 2.4085 9.5672C1.85016 9.57554 2.1835 9.88387 2.41683 10.0089C2.70016 10.1672 3.02516 10.7589 3.10016 10.9505C3.2335 11.3255 3.66683 12.0422 5.34183 11.7339C5.34183 12.2922 5.35016 12.8172 5.35016 12.9755C5.35016 13.1505 5.22516 13.3505 4.89183 13.2922C3.56403 12.8502 2.40911 12.0014 1.5909 10.8661C0.772702 9.73076 0.332762 8.36663 0.333497 6.9672C0.333497 3.28387 3.31683 0.300537 7.00016 0.300537Z",fill:"currentColor"})),Sk=e=>u.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M11.1 0H0.9C0.661305 0 0.432387 0.0948212 0.263604 0.263604C0.0948212 0.432387 0 0.661305 0 0.9V11.1C0 11.3387 0.0948212 11.5676 0.263604 11.7364C0.432387 11.9052 0.661305 12 0.9 12H11.1C11.3387 12 11.5676 11.9052 11.7364 11.7364C11.9052 11.5676 12 11.3387 12 11.1V0.9C12 0.661305 11.9052 0.432387 11.7364 0.263604C11.5676 0.0948212 11.3387 0 11.1 0ZM3.6 10.2H1.8V4.8H3.6V10.2ZM2.7 3.75C2.49371 3.7441 2.29373 3.67755 2.12505 3.55865C1.95637 3.43974 1.82647 3.27377 1.75158 3.08147C1.67669 2.88916 1.66012 2.67905 1.70396 2.47738C1.7478 2.27572 1.8501 2.09144 1.99807 1.94758C2.14604 1.80372 2.33312 1.70666 2.53594 1.66852C2.73876 1.63038 2.94832 1.65285 3.13844 1.73313C3.32856 1.8134 3.49081 1.94793 3.60491 2.11989C3.71902 2.29185 3.77992 2.49363 3.78 2.7C3.77526 2.98221 3.659 3.25107 3.45663 3.44782C3.25426 3.64457 2.98223 3.75321 2.7 3.75ZM10.2 10.2H8.4V7.356C8.4 6.504 8.04 6.198 7.572 6.198C7.43479 6.20714 7.30073 6.24329 7.17753 6.30439C7.05433 6.36548 6.94441 6.45032 6.85409 6.55402C6.76377 6.65771 6.69483 6.77824 6.65123 6.90866C6.60762 7.03908 6.59021 7.17683 6.6 7.314C6.59702 7.34192 6.59702 7.37008 6.6 7.398V10.2H4.8V4.8H6.54V5.58C6.71552 5.313 6.95666 5.09554 7.24031 4.94846C7.52397 4.80138 7.84065 4.7296 8.16 4.74C9.09 4.74 10.176 5.256 10.176 6.936L10.2 10.2Z",fill:"currentColor"})),Mk=e=>u.createElement("svg",{width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M10.8187 0H12.8544L8.40697 5.08308L13.639 12H9.54236L6.33374 7.80492L2.66236 12H0.625435L5.38236 6.56308L0.363281 0H4.5639L7.4642 3.83446L10.8187 0ZM10.1042 10.7815H11.2322L3.95097 1.15446H2.74051L10.1042 10.7815Z",fill:"currentColor"}));async function h6e(e,t){const n=`https://chat.openai.com/aip/${e.id}/oauth/callback`,r=await fe.pluginOauthRedirect(e.id,n,t);window.location.href=r.redirect_uri}async function v6e(e,t,n,r){const s=await fe.connectorOauthRedirect(e.id,n,t,r);window.location.href=s.redirect_uri}function x6e(e){switch(e){case Zn.Link:return"link_paste_popover";case Zn.Picker:return"file_upload_menu"}}async function sLe(e){await fe.deleteUserConnectedApp(e),window.location.reload()}const C6e="#settings/BuilderProfile";function aLe({selectedDomain:e,verifiedDomains:t,domains:n,onChangeDomain:r}){const[s,a]=u.useState(!1),i=t.length>0,l=$e()?.id,c=$e()?.isEnterprisey(),{mutateAsync:d}=yk(l);return o.jsxs("div",{className:"font-normal",children:[o.jsxs(te.Root,{children:[o.jsx(xN,{children:o.jsxs("span",{className:"flex items-center gap-2 py-2",children:[e??o.jsx(C,{...Zm.selectADomain}),o.jsx(g6e,{className:"icon-md"})]})}),o.jsx(te.Portal,{children:o.jsxs(te.Content,{children:[o.jsx(te.RadioGroup,{value:e,onValueChange:f=>{f!==e&&r(f)},children:t.map(({id:f,hostname:m})=>o.jsx(te.RadioItem,{value:m,children:o.jsxs("div",{className:"flex flex-row",children:[o.jsx("span",{children:m}),o.jsx("span",{onClick:()=>{d({domainId:f}),r("")},children:o.jsx(Kl,{className:"icon-sm fixed right-4"})})]})},f))}),i&&o.jsx(te.Separator,{}),o.jsx(te.Item,{onClick:()=>{a(!0)},icon:OM,children:o.jsx(C,{...Zm.addDomain})})]})})]}),l&&!c&&o.jsx(f6e,{domains:n,isOpen:s,onClose:()=>a(!1),workspaceId:l,showUnverifiedDomains:!0,onVerifyDomain:f=>{r(f.hostname)}})]})}function y6e(){const e=xe();return Ie({mutationFn:({verifierType:t})=>Ke.unverifySocialAuth(t),onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}function b6e({socialData:e}){const{type:t,display_name:n,verified_data:r}=e,s=t==="twitter"?Mk:t==="linkedin"?Sk:t==="github"?wk:null;return s?o.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[o.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[s({className:"icon-md"}),o.jsx("span",{children:n})]}),r?.link_to&&o.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:r.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:o.jsx(q1,{className:"icon-sm"})})]}):null}function oLe({socialData:e,icon:t}){const{id:n,type:r,display_name:s,verified:a,verified_data:i}=e,[l,c]=u.useState(!1),d=y6e();return o.jsxs("div",{className:"flex flex-row items-center justify-between space-y-1",children:[o.jsxs("div",{className:N("flex items-center space-x-2"),children:[o.jsx(t,{className:"icon-sm"}),o.jsx("span",{children:s}),a&&i?.username&&o.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:i.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:i?.username})]}),a?o.jsx("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{d.mutate({verifierType:r})},children:d.isPending?o.jsx(pr,{}):o.jsx(aa,{className:"icon-sm text-token-text-tertiary"})}):o.jsx(G,{size:"small",color:"secondary",loading:l,onClick:async()=>{c(!0),await h6e({id:n},C6e),c(!1)},children:o.jsx(C,{...Zm.verify})})]})}const Zm=U({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}}),w6e=ce.div`text-sm text-token-text-tertiary`,S6e="community builder";function M6e(e){const[t,n]=u.useState(e),r=u.useRef(null),s=(a,i)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n(a),r.current=null},i)};return u.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]),[t,s]}function _6e(e){return"gizmo"in e}function iLe({gizmo:e,builderName:t,builderUrl:n,className:r,socials:s,hideLink:a=!1}){const{value:i}=st("2256850471");let l,c;e&&_6e(e)?(l=e.gizmo.author.display_name,c=e.gizmo.author.link_to):(l=t,c=n),(l===""||l==null)&&(l=S6e);const d=s?.filter(m=>m.verified),f=o.jsxs("div",{className:"w-48 space-y-4 text-sm",children:[c&&o.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[o.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[o.jsx(yg,{className:"icon-md"}),o.jsx("span",{children:o.jsx(C,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),o.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:c,className:"text-token-text-tertiary hover:cursor-pointer",children:o.jsx(q1,{className:"icon-sm"})})]}),i&&d?.map((m,p)=>m.verified?o.jsx(b6e,{socialData:m},p):null),o.jsxs("div",{className:"text-xs text-token-text-tertiary",children:[(c||d&&d.length>0)&&o.jsx("hr",{className:"my-2 border-token-border-light"}),o.jsx(C,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return o.jsxs("div",{className:"flex flex-row items-center space-x-1",children:[o.jsx(w6e,{className:r,children:o.jsx(C,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:l}})}),!a&&o.jsx(E6e,{socials:s,website:c,children:f})]})}function E6e({website:e,socials:t,children:n}){const[r,s]=M6e(!1);let a=[];e&&a.push(o.jsx(yg,{className:"icon-xs text-token-text-secondary"})),t&&t.forEach(l=>{l.verified&&(l.type==="twitter"?a.push(o.jsx(Mk,{className:"icon-xs text-token-text-secondary"})):l.type==="linkedin"?a.push(o.jsx(Sk,{className:"icon-xs text-token-text-secondary"})):l.type==="github"&&a.push(o.jsx(wk,{className:"icon-xs text-token-text-secondary"})))});const i=a.length-2;return a=a.slice(0,2),i>0&&a.push(o.jsxs("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",i]},"overflow")),o.jsx(Mg,{open:r,onOpenChange:l=>s(l,0),children:o.jsxs("div",{onPointerLeave:()=>s(!1,300),children:[o.jsx(Vu,{asChild:!0,children:o.jsx("div",{onPointerEnter:()=>s(!0,0),children:a.length>0?o.jsx("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:a}):o.jsx(Ph,{className:"icon-xs text-token-text-secondary"})})}),o.jsx(_g,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:o.jsx("div",{onPointerEnter:()=>s(!0,0),children:n})})]})})}const lLe=ce.div`draggable no-draggable-children sticky top-0 p-3 flex items-center justify-between z-10 h-header-height font-semibold bg-token-main-surface-primary`,cLe=128;function uLe(e){const{tooltip:t,className:n,testId:r,...s}=e,a=o.jsx(G,{color:e.color??"secondary",size:"medium",...s,className:n,"data-testid":r});return t!=null?o.jsx(et,{label:t,children:a}):a}function dLe({label:e,disabled:t=!1,tooltipText:n,value:r}){const s=u.useId();return o.jsx("div",{className:N("flex items-center gap-2",t?"opacity-50":""),children:o.jsx(F8,{disabled:n==null,label:n,side:"right",children:o.jsxs("label",{htmlFor:s,className:"flex cursor-pointer items-center gap-1",children:[o.jsx(YM,{id:s,value:r,disabled:t,className:"mr-1 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border border-gray-500 bg-white dark:border-gray-600 dark:bg-gray-700",children:o.jsx(KM,{className:"h-2 w-2 rounded-full bg-gray-950 dark:bg-white"})}),e]})})})}function fLe(e){return o.jsx(TU,{...e,className:N("!rounded checked:!border-black checked:!bg-black dark:border-gray-600 dark:bg-gray-700",e.className)})}function mLe(){return qe("2067628123").value}const k6e=u.createContext(void 0),pLe=({children:e})=>{const{data:t}=hr(),n={models:t?.models};return o.jsx(k6e.Provider,{value:n,children:e})},gLe=({className:e,currentPage:t,setCurrentPage:n,enableScroll:r,children:s})=>{const a=u.useRef(null);return o.jsxs(o.Fragment,{children:[!1,o.jsx("div",{ref:a,className:N("h-full w-full",r&&"overflow-y-scroll",e),children:s})]})};function T6e(e){return e!=null&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT"||!!e.getAttribute("contenteditable"))}function hLe(e){u.useEffect(()=>{const{document:t}=e;if(!t)return;const n=t.defaultView;if(!n)return;const r=s=>{s.code!=="Space"&&(!s.metaKey||s.key==="v")&&!T6e(t.activeElement)&&e.focus()};return n.addEventListener("keypress",r),()=>{n.removeEventListener("keypress",r)}},[e])}function vLe({fullHeight:e,isStaticSharedThread:t=!1,children:n,verticalPadding:r="default",horizontalPadding:s,overflowY:a,verticalMargin:i="auto",horizontalMargin:l="auto"}){const d=s==="standard"&&!t;return o.jsx("div",{className:N("text-base",a==="auto"&&"overflow-y-auto",i==="auto"&&"my-auto",l==="auto"&&"mx-auto",r==="first"&&"pb-1 pt-5",r==="last"&&"pb-5 pt-1",r==="last-standard"&&"pb-3",r==="small"&&"py-1",r==="default"&&"py-5",s==="standard"&&"px-3 md:px-4",s==="expanded"&&"px-6",d&&"w-full md:px-5 lg:px-4 xl:px-5",e&&"h-full"),children:n})}function xLe({children:e,column:t,shouldRemoveGap:n=!1,className:r,...s}){const a=tc(),i=Gp();return o.jsx("div",{className:N("mx-auto flex flex-1 text-base",t&&"flex-col",!n&&"gap-4 md:gap-5 lg:gap-6",i?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",a&&"-mx-4",r),...s,children:e})}function CLe({children:e,className:t}){const n=tc(),r=Gp(),s=Nj();return o.jsx("div",{className:N("mx-auto mt-0 flex h-full w-full flex-col text-base",s?"@lg/thread:justify-center":"lg:justify-center",r?s?"@md/thread:max-w-3xl":"md:max-w-3xl":s?"@md/thread:max-w-3xl @lg/thread:max-w-[40rem] @xl/thread:max-w-[48rem]":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",n&&"-mx-4",t),children:e})}function yLe(){const e=Te();return o.jsx(rn,{primaryCtaText:o.jsx(C,{id:"k/qPdM",defaultMessage:"Manage tasks"}),onPrimaryCtaClick:()=>{e("/tasks")},title:o.jsx(C,{id:"mYNRrn",defaultMessage:"Youve reached your limit for scheduled tasks."}),content:o.jsx(C,{id:"Bwsb55",defaultMessage:"To schedule new ones, pause some of your existing tasks first."})})}const _k=me.HasSeenAdvancedVoiceOnMobile,A6e=window.location.origin+"/update-app",Y6=window.location.origin+"/update-app?origin=qr";function P6e(){const e=$e(),t=st("989108178").value;return e!=null&&t}function bLe(e){const t=P6e(),{eligible:n,isLoading:r}=le(_k);return{eligible:!(!t||!n||e.conversationMode?.kind!==ke.PrimaryAssistant)&&!r}}const N6e=3;function j6e(e){let t=Et.getItem(we.AdvancedVoiceOnMobileAnnouncementCount);Array.isArray(t)||(t=[]);const n=new Set(t);return e&&n.add(e),t=[...n],Et.setItem(we.AdvancedVoiceOnMobileAnnouncementCount,t),t.length}function wLe({onClose:e,clientThreadId:t}){const{markAsViewed:n}=le(_k),r=_o(t);u.useEffect(()=>{const l=j6e(r);l>N6e&&(n(),$.logEvent("chatgpt_advanced_voice_on_mobile_announcement_limit_reached",l)),E.logEvent(_.advancedVoiceOnMobileAnnouncementShown),$.logEvent("chatgpt_advanced_voice_on_mobile_announcement_shown")},[r,n]);const s=u.useCallback(()=>{n(),E.logEvent(_.advancedVoiceOnMobileAnnouncementDismissed),$.logEvent("chatgpt_advanced_voice_on_mobile_announcement_dismissed"),e&&e()},[n,e]),i={markAsDownloaded:u.useCallback(()=>{E.logEvent(_.advancedVoiceOnMobileLinkClicked),$.logEvent("chatgpt_advanced_voice_on_mobile_announcement_download_clicked"),n(),e&&e()},[n,e]),markAsViewed:s};return o.jsx(R6e,{...i})}function I6e(){window.open(A6e,"_blank")}function R6e({markAsDownloaded:e,markAsViewed:t}){const n=L(),[r,s]=u.useState(!1),a=u.useCallback(()=>{I6e(),e()},[e]),i=o.jsx("div",{className:"flex-grow flex-row",children:o.jsxs("div",{className:"flex-column",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:o.jsx(C,{...Ia.advancedVoiceOnMobileBannerTitle})}),o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(C,{...Ia.advancedVoiceOnMobileBannerDescription})})]})}),l=!Yd(),c=No();let d;return l?c?d=Object.freeze({primaryCtaQrLink:Y6,onPrimaryCtaQrClick:()=>s(!0)}):d=Object.freeze({onSecondaryCtaClick:()=>s(!0),secondaryCtaText:n.formatMessage(Ia.advancedVoiceOnMobileButtonScanCode)}):d=Object.freeze({onPrimaryCtaClick:a,primaryCtaText:n.formatMessage(Ia.advancedVoiceOnMobileButtonDownload)}),o.jsxs(o.Fragment,{children:[o.jsx(rn,{...d,onDismiss:t,content:i}),l&&o.jsx(he,{size:"custom",className:"w-[328px] max-w-[328px]",title:n.formatMessage(Ia.advancedVoiceOnMobileQRModalTitle),isOpen:r,showCloseButton:!0,onClose:()=>s(!1),type:"success",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx($S,{className:"m-[24px] mt-[0px]",size:280,value:Y6}),o.jsx("div",{className:"text-left text-token-text-primary",children:o.jsx(C,{...Ia.advancedVoiceOnMobileQRModalDescription})})]})})]})}const Ia=U({advancedVoiceOnMobileBannerTitle:{id:"AdvancedVoiceOnMobile.banner.title",defaultMessage:"Download the latest iOS or Android app to try advanced voice mode"},advancedVoiceOnMobileBannerDescription:{id:"AdvancedVoiceOnMobile.banner.description",defaultMessage:"Get more natural, real-time conversations with advanced voice. Senses and responds to humor, sarcasm, interruptions, and more."},advancedVoiceOnMobileButtonDownload:{id:"AdvancedVoiceOnMobile.button.download",defaultMessage:"Download"},advancedVoiceOnMobileButtonScanCode:{id:"AdvancedVoiceOnMobile.button.scancode",defaultMessage:"Scan code"},advancedVoiceOnMobileButtonClose:{id:"AdvancedVoiceOnMobile.button.close",defaultMessage:"Close"},advancedVoiceOnMobileQRModalTitle:{id:"AdvancedVoiceOnMobile.qrmodal.title",defaultMessage:"Download the app"},advancedVoiceOnMobileQRModalDescription:{id:"AdvancedVoiceOnMobile.qrmodal.description",defaultMessage:"Scan the QR code on your phone to download the ChatGPT app."}}),L6e=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","CH","GB"];function O6e(e){return L6e.includes(e)}const K6={AT:20,BE:21,BG:20,HR:25,CY:19,CZ:21,DK:25,EE:20,FI:25.5,FR:20,DE:19,GR:24,HU:27,IS:24,IE:23,IT:22,LV:21,LI:8.1,LT:21,LU:17,MT:18,NL:21,NO:25,PL:23,PT:23,RO:19,SK:23,SI:22,ES:21,SE:25,CH:8.1,GB:20};function Q6(e,t){return t==null?(V.addError(new Error("nullish_country_for_vat_calculation"),{country:t}),0):O6e(t)?K6[t]*e/(K6[t]+100):(V.addError(new Error("unrecognized_country_for_vat_calculation"),{country:t}),0)}const O5=20,Ym=20,Ek=23,w=U({freeName:{id:"pricingPlanConstants.free.name",defaultMessage:"Free"},freeCTA:{id:"pricingPlanConstants.free.callToAction",defaultMessage:"Your current plan"},freeForLine:{id:"pricingPlanConstants.free.freePlanForLine",defaultMessage:"For people just getting started with ChatGPT"},freeSummary:{id:"pricingPlanConstants.free.freeSummary",defaultMessage:"Explore how AI can help you with everyday tasks"},freeCost:{id:"pricingPlanConstants.free.costInDollars",defaultMessage:"USD $0/month"},freeCostInPounds:{id:"pricingPlanConstants.free.costInPounds",defaultMessage:"GBP 0/month"},freeCostInEuros:{id:"pricingPlanConstants.free.costInEuros",defaultMessage:"EUR 0/month"},freeCostProduce:{id:"pricingPlanConstants.free.costInDollarsProduce",defaultMessage:"0"},freeCostInPoundsProduce:{id:"pricingPlanConstants.free.costInPoundsProduce",defaultMessage:"0"},freeCostInEurosProduce:{id:"pricingPlanConstants.free.costInEurosProduce",defaultMessage:"0"},freeAccess:{id:"pricingPlanConstants.free.demandAccess",defaultMessage:"Access to our GPT-3.5 model"},freeSpeed:{id:"pricingPlanConstants.free.responseSpeed",defaultMessage:"Standard response speed"},freeFeatures:{id:"pricingPlanConstants.free.modelFeatures",defaultMessage:"Regular model updates"},freeAdvertisedFeatures0:{id:"pricingPlanConstants.free.freeAdvertisedFeatures0",defaultMessage:"Unlimited messages, interactions, and history"},freeAdvertisedFeatures1:{id:"pricingPlanConstants.free.freeAdvertisedFeatures1",defaultMessage:"Access to our GPT-3.5 model"},freeAdvertisedFeatures2:{id:"pricingPlanConstants.free.freeAdvertisedFeatures2",defaultMessage:"Access on Web, iOS, and Android"},freeAdvertisedFeaturesNeptune0:{id:"ecdHlW",defaultMessage:"Assistance with writing, problem solving and more"},freeAdvertisedFeaturesNeptune1:{id:"gY4yrX",defaultMessage:"Access to GPT-3.5"},freeAdvertisedFeaturesNeptune2:{id:"izTv5G",defaultMessage:"Limited access to {modelName}",modelName:!0},freeAdvertisedFeaturesNeptune3:{id:"jXs92m",defaultMessage:"Limited access to advanced data analysis, file uploads, vision, web browsing, and custom GPTs"},freeAdvertisedFeaturesDefault3:{id:"Lo9K/J",defaultMessage:"Limited access to data analysis, file uploads, vision, web browsing, and image generation"},freeAdvertisedFeaturesProduce0:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce0",defaultMessage:"Standard voice mode"},freeAdvertisedFeaturesProduce1:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce1",defaultMessage:"Real-time data from the web with search"},freeAdvertisedFeaturesProduce3:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce3",defaultMessage:"Limited access to file uploads, advanced data analysis, and image generation"},freeAdvertisedFeaturesProduce4:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce4",defaultMessage:"Use custom GPTs"},basicModelAccess:{id:"BKTaJU",defaultMessage:"Access to GPT-4o mini and reasoning"},plusName:{id:"pricingPlanConstants.plus.name",defaultMessage:"Plus"},plusForLine:{id:"pricingPlanConstants.plus.forLine",defaultMessage:"Everything in Free, and:"},plusSummary:{id:"pricingPlanConstants.plus.plusSummary",defaultMessage:"Level up productivity and creativity with expanded access"},plusSummaryWithDiscount:{id:"pricingPlanConstants.plus.plusSummaryWithDiscount",defaultMessage:"You've got a discount on Plus"},plusActive:{id:"pricingPlanConstants.plus.callToAction.active",defaultMessage:"Your current plan"},plusInactive:{id:"pricingPlanConstants.plus.callToAction.inactivePayment",defaultMessage:"Upgrade to Plus"},plusCost:{id:"pricingPlanConstants.plus.costInDollars",defaultMessage:"USD $20/month"},plusCostInPounds:{id:"pricingPlanConstants.plus.costInPounds",defaultMessage:"GBP 20/month"},plusCostInEuros:{id:"pricingPlanConstants.plus.costInEuros",defaultMessage:"EUR 23/month"},plusCostProduce:{id:"pricingPlanConstants.plus.costInDollarsProduce",defaultMessage:"20"},plusCostInPoundsProduce:{id:"pricingPlanConstants.plus.costInPoundsProduce",defaultMessage:"20"},plusCostInEurosProduce:{id:"pricingPlanConstants.plus.costInEurosProduce",defaultMessage:"23"},plusYearlyCost:{id:"pricingPlanConstants.plusYearly.costInDollars",defaultMessage:"USD $16.67/month"},plusYearlyCostInPounds:{id:"pricingPlanConstants.plusYearly.costInPounds",defaultMessage:"GBP 16.67/month"},plusYearlyCostInEuros:{id:"pricingPlanConstants.plusYearly.costInEuros",defaultMessage:"EUR 19.08/month"},plusYearlyCostSubtitle:{id:"pricingPlanConstants.plusYearly.costInDollarsSubtitle",defaultMessage:"USD $199.99/year"},plusYearlyCostInPoundsSubtitle:{id:"pricingPlanConstants.plusYearly.costInPoundsSubtitle",defaultMessage:"GBP 200/year"},plusYearlyCostInEurosSubtitle:{id:"pricingPlanConstants.plusYearly.costInEurosSubtitle",defaultMessage:"EUR 229/year"},plusAccess:{id:"pricingPlanConstants.plus.demandAccess",defaultMessage:"Access to GPT-4, our most capable model"},plusSpeed:{id:"pricingPlanConstants.plus.responseSpeed",defaultMessage:"Faster response speed"},plusFeatures:{id:"pricingPlanConstants.plus.modelFeatures",defaultMessage:"Access to beta features like browsing, plugins, and advanced data analysis"},plusAdvertisedFeatures0:{id:"pricingPlanConstants.plus.plusAdvertisedFeatures0",defaultMessage:"Access to GPT-4, our most capable model"},plusAdvertisedFeatures1:{id:"pricingPlanConstants.plus.plusAdvertisedFeatures1",defaultMessage:"Browse, create, and use GPTs"},plusAdvertisedFeatures2:{id:"pricingPlanConstants.plus.plusAdvertisedFeatures2",defaultMessage:"Access to additional tools like DALLE, Browsing, Advanced Data Analysis and more"},plusAdvertisedFeaturesNeptune0:{id:"azP8zT",defaultMessage:"Access to GPT-4, {modelName}, GPT-3.5",modelName:!0},plusAdvertisedFeaturesNeptune1:{id:"pzi1cv",defaultMessage:"Up to 5x more messages for {modelName}",modelName:!0},plusAdvertisedFeaturesNeptune2:{id:"aiQWiL",defaultMessage:"Access to data analysis, file uploads, vision, web browsing, and image generation"},plusAdvertisedFeaturesNeptune3:{id:"uvEump",defaultMessage:"Access to Advanced Voice Mode"},plusAdvertisedFeaturesNeptune4:{id:"1I19Rj",defaultMessage:"Create and use tasks, projects, and custom GPTs"},plusAdvertisedFeaturesNeptune5:{id:"qWNfMZ",defaultMessage:"Early access to new features"},plusAdvertisedFeaturesChive0:{id:"ycUxUR",defaultMessage:"Access to GPT-4o, GPT-4o mini, GPT-4"},plusAdvertisedFeaturesDefault0:{id:"sX9wNG",defaultMessage:"Access to OpenAI o1-preview, OpenAI o1-mini"},plusAdvertisedFeaturesProduce0:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce0",defaultMessage:"Everything in Free"},plusAdvertisedFeaturesProduce1:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce1",defaultMessage:"Extended limits on messaging, file uploads, advanced data analysis, and image generation"},plusAdvertisedFeaturesProduce2:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce2",defaultMessage:"Standard and advanced voice mode"},memoryUpsell:{id:"pricingPlanConstants.plus.memoryUpsell",defaultMessage:"More space for memories"},manageSubscriptionWeb:{id:"pricingPlanConstants.manageSubscriptionWeb.callToAction",defaultMessage:"Manage my subscription"},manageSubscriptionIos:{id:"pricingPlanConstants.manageSubscriptionIos.callToAction",defaultMessage:"Manage my subscription in the ChatGPT iOS app"},manageSubscriptionAndroid:{id:"pricingPlanConstants.manageSubscriptionAndroid.callToAction",defaultMessage:"Manage my subscription in the ChatGPT Android app"},cancelSubscriptionWeb:{id:"pricingPlanConstants.cancelSubscriptionWeb.callToAction",defaultMessage:"Cancel my subscription"},cancelSubscriptionIos:{id:"pricingPlanConstants.cancelSubscriptionIos.callToAction",defaultMessage:"Cancel my subscription in the ChatGPT iOS app"},cancelSubscriptionAndroid:{id:"pricingPlanConstants.cancelSubscriptionAndroid.callToAction",defaultMessage:"Cancel my subscription in the ChatGPT Android app"},getHelp:{id:"pricingPlanConstants.getHelp.callToAction",defaultMessage:"I need help with a billing issue"},business:{id:"pricingPlanConstants.business.callToAction",defaultMessage:"Buy for my team"},teamPlanName:{id:"pricingPlanConstants.teams.teamPlanName",defaultMessage:"Team"},teamPlanSummary:{id:"pricingPlanConstants.team.teamPlanSummary",defaultMessage:"Supercharge your team's work with a secure, collaborative workspace"},teamPlanSummarySecurityFocus:{id:"pricingPlanConstants.team.teamPlanSummarySecurityFocus",defaultMessage:"A secure, collaborative version of ChatGPTbuilt for work"},teamPlanInactive:{id:"pricingPlanConstants.teams.teamPlanInactive",defaultMessage:"Upgrade to Team"},teamPlanActive:{id:"pricingPlanConstants.teams.teamPlanActive",defaultMessage:"Your current plan"},teamPlanCreate:{id:"pricingPlanConstants.teams.teamPlanCreate",defaultMessage:"Add Team workspace"},teamPlanForLine:{id:"pricingPlanConstants.teams.teamPlanForLine",defaultMessage:"Everything in Plus, and:"},teamPlanForLineNeptune:{id:"3bMOBg",defaultMessage:"Everything in Plus, and:"},teamPlanCost:{id:"pricingPlanConstants.teams.teamPlanSubTitle",defaultMessage:"USD $25 per person/month*"},teamPlanCostInPounds:{id:"pricingPlanConstants.teams.teamPlanInPoundsSubTitle",defaultMessage:"GBP 25 per person/month*"},teamPlanCostInEuros:{id:"pricingPlanConstants.teams.teamPlanInEurosSubTitle",defaultMessage:"EUR 29 per person/month*"},teamPlanCostProduce:{id:"pricingPlanConstants.teams.teamPlanSubTitleProduce",defaultMessage:"25"},teamPlanCostInPoundsProduce:{id:"pricingPlanConstants.teams.teamPlanInPoundsSubTitleProduce",defaultMessage:"25"},teamPlanCostInEurosProduce:{id:"pricingPlanConstants.teams.teamPlanInEurosSubTitleProduce",defaultMessage:"29"},teamPlanSpeed:{id:"pricingPlanConstants.teams.teamPlanUsageRates",defaultMessage:"Unlimited high-speed GPT-4"},teamPlanContext:{id:"pricingPlanConstants.teams.teamPlanContext",defaultMessage:"4x longer context lets you work with larger material"},teamsAdvertisedFeatures0:{id:"pricingPlanConstants.teams.teamsAdvertisedFeatures0",defaultMessage:"Higher message caps on GPT-4 and tools like DALLE, Browsing, Advanced Data Analysis, and more"},teamsAdvertisedFeatures1:{id:"pricingPlanConstants.teams.teamsAdvertisedFeatures1",defaultMessage:"Create and share custom GPTs with your workspace"},teamsAdvertisedFeatures2:{id:"pricingPlanConstants.teams.teamsAdvertisedFeatures2",defaultMessage:"Secure and collaborative workspace with admin console and unified billing"},teamsAdvertisedFeatures3:{id:"pricingPlanConstants.teams.teamsAdvertisedFeatures3",defaultMessage:"Team data excluded from training by default. <link>Learn more</link>",link:"https://openai.com/enterprise-privacy"},teamAdvertisedFeaturesProduce0:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesProduce0",defaultMessage:"Everything in Plus"},teamAdvertisedFeaturesProduce1:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesProduce1",defaultMessage:"Extended limits on messaging, file uploads, and DALLE image generation"},teamAdvertisedFeaturesAllInPlus0:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesAllInPlus0",defaultMessage:"Higher message limits than Plus on GPT-4 and GPT-4o, and access to tools like deep research, DALLE, web browsing, data analysis, and more"},teamAdvertisedFeaturesSecurityFocus0:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesSecurityFocus0",defaultMessage:"Dedicated workspace with admin console, user roles, and unified billing"},teamAdvertisedFeaturesSecurityFocus1:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesSecurityFocus1",defaultMessage:"Data secured with encryption at rest and in transit, and multi-factor authentication"},teamsAdvertisedFeaturesSecurityFocus2:{id:"pricingPlanConstants.teams.teamsAdvertisedFeaturesSecurityFocus2",defaultMessage:"Team data excluded from training. <link>Learn more</link>",link:"https://openai.com/enterprise-privacy"},teamsAdvertisedFeaturesSecurityFocus3:{id:"pricingPlanConstants.teams.teamsAdvertisedFeaturesSecurityFocus3",defaultMessage:"Everything in Plus, including deep research, file uploads, data analysis, canvas, projects, tasks, custom GPTs, and search"},teamAdvertisedFeaturesValueBased0:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesValueBased0",defaultMessage:"Everything in Plus, with higher message limits for GPT-4o"},teamAdvertisedFeaturesValueBased1:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesValueBased1",defaultMessage:"Customize ChatGPT to your workflows with file uploads, custom projects, GPTs, and persistent memory"},teamAdvertisedFeaturesValueBased2:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesValueBased2",defaultMessage:"Delegate routine work to ChatGPT with tasks and solve complex problems with deep research, freeing your team for high-value work"},teamAdvertisedFeaturesValueBased3:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesValueBased3",defaultMessage:"Create and innovate with multimodal AIincluding Sora, image generation, canvas, and integrated coding tools"},teamAdvertisedFeaturesValueBased4:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesValueBased4",defaultMessage:"Protect your data with multi-factor authentication, data encryption, and data excluded from training by default. <link>Learn more</link>",link:"https://openai.com/enterprise-privacy"},teamAdvertisedFeaturesValueBased5:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesValueBased5",defaultMessage:"Collaborate seamlessly with shared GPTs and an admin console for bulk user management"},teamAdvertisedFeaturesAllInPlus1:{id:"pricingPlanConstants.team.teamAdvertisedFeaturesAllInPlus1",defaultMessage:"Access to multiple reasoning models (o3-mini, o3-mini-high, and o1)"},teamsAdvertisedFeaturesNeptune0:{id:"CDEs0b",defaultMessage:"Higher limits for GPT-4, {modelName}, and tools like DALLE image generation, advanced data analysis, web browsing, and more",modelName:!0},teamsAdvertisedFeaturesNeptune1:{id:"JkxZv0",defaultMessage:"Create and share custom GPTs with your workspace"},teamsAdvertisedFeaturesNeptune2:{id:"FfaFnu",defaultMessage:"Secure and collaborative workspace with admin console and unified billing"},teamsAdvertisedFeaturesNeptune3:{id:"EQPMpv",defaultMessage:"Team data excluded from training by default. <article>Learn more</article>",article:"https://openai.com/enterprise-privacy"},teamsAdvertisedFeaturesDefault0:{id:"pricingPlanConstants.teams.teamsAdvertisedFeaturesDefault",defaultMessage:"Higher message limits than Plus for GPT-4o"},teamPricingDisclaimer:{id:"pricingPlanConstants.teams.teamPricingDisclaimer",defaultMessage:"* Price billed annually, minimum 2 users"},teamPricingDisclaimerProduce:{id:"pricingPlanConstants.teams.teamPricingDisclaimerProduce",defaultMessage:"For 2+ users, billed annually"},highDemandDisabledText:{id:"pricingPlanConstants.highDemandDisabledText",defaultMessage:"Due to high demand, we've temporarily paused upgrades."},signUpForWaitlistActive:{id:"pricingPlanConstants.signUpForWaitlistActive",defaultMessage:"Sign up for waitlist"},signUpForWaitlistInactive:{id:"pricingPlanConstants.signUpForWaitlistInactive",defaultMessage:"Signed up for waitlist"},enterpriseName:{id:"pricingPlanConstants.enterprise.name",defaultMessage:"Enterprise"},enterprisePlanForLine:{id:"pricingPlanConstants.enterprise.enterprisePlanForLine",defaultMessage:"Everything in Team, and:"},enterprisePlanInactive:{id:"pricingPlanConstants.enterprise.enterprisePlanInactive",defaultMessage:"Contact Us"},enterprisePlanActive:{id:"pricingPlanConstants.enterprise.enterprisePlanActive",defaultMessage:"Your current plan"},enterpriseCost:{id:"pricingPlanConstants.enterprise.costInDollars",defaultMessage:"Contact sales for pricing"},enterpriseCostInPounds:{id:"pricingPlanConstants.enterprise.costInPounds",defaultMessage:"Contact sales for pricing"},enterpriseCostInEuros:{id:"pricingPlanConstants.enterprise.costInEuros",defaultMessage:"Contact sales for pricing"},enterpriseSummary:{id:"pricingPlanConstants.enterprise.enterprisePlanSummary",defaultMessage:"Enterprise-grade security and privacy and the most powerful version of ChatGPT yet"},enterpriseAdvertisedFeatures0:{id:"pricingPlanConstants.enterprise.enterprisePlanAdvertisedFeatures0",defaultMessage:"Everything in Plus"},enterpriseAdvertisedFeatures1:{id:"pricingPlanConstants.enterprise.enterprisePlanAdvertisedFeatures1",defaultMessage:"High speed access to GPT-4, GPT-4o, GPT-4o mini, and tools like DALLE, web browsing, data analysis, and more"},enterpriseAdvertisedFeatures2:{id:"pricingPlanConstants.enterprise.enterprisePlanAdvertisedFeatures2",defaultMessage:"Expanded context window for longer inputs"},enterpriseAdvertisedFeatures3:{id:"pricingPlanConstants.enterprise.enterprisePlanAdvertisedFeatures3",defaultMessage:"Enterprise data excluded from training by default & custom data retention windows. <article>Learn more</article>",article:"https://openai.com/enterprise-privacy"},enterpriseAdvertisedFeatures4:{id:"pricingPlanConstants.enterprise.enterprisePlanAdvertisedFeatures4",defaultMessage:"Admin controls, domain verification, and analytics"},enterpriseAdvertisedFeatures5:{id:"pricingPlanConstants.enterprise.enterprisePlanAdvertisedFeatures5",defaultMessage:"Enhanced support & ongoing account management"},enterprisePricingDisclaimer:{id:"pricingPlanConstants.enterprise.enterprisePricingDisclaimer",defaultMessage:"For Larger Organizations"},studentAdvertisedFeatures1:{id:"pricingPlanConstants.student.studentAdvertisedFeatures1",defaultMessage:"Generate quick summaries of documents with more file uploads"},studentAdvertisedFeatures2:{id:"pricingPlanConstants.student.studentAdvertisedFeatures2",defaultMessage:"Practice speaking foreign languages with advanced voice"},studentAdvertisedFeatures3:{id:"pricingPlanConstants.student.studentAdvertisedFeatures3",defaultMessage:"Test new features like Projects, which lets you organize chats by topic"},studentAdvertisedFeatures4:{id:"pricingPlanConstants.student.studentAdvertisedFeatures4",defaultMessage:"Get better answers to your biggest questions with our most advanced AI models"}}),X6={name:w.plusName,callToAction:{active:w.plusActive,create:w.plusActive,inactive:w.plusInactive},forLine:w.plusForLine,cost:{costInDollars:w.plusCost,costInPounds:w.plusCostInPounds,costInEuros:w.plusCostInEuros},demandAccess:w.plusAccess,responseSpeed:w.plusSpeed,modelFeatures:w.plusFeatures,advertisedFeatures:[w.plusAdvertisedFeatures0,w.plusAdvertisedFeatures1,w.plusAdvertisedFeatures2]},kk={name:w.freeName,callToAction:{active:w.freeCTA,create:w.freeCTA,inactive:w.freeCTA},forLine:void 0,cost:{costInDollars:w.freeCost,costInPounds:w.freeCostInPounds,costInEuros:w.freeCostInEuros},demandAccess:w.freeAccess,responseSpeed:w.freeSpeed,modelFeatures:w.freeFeatures,advertisedFeatures:[w.freeAdvertisedFeaturesNeptune0,w.freeAdvertisedFeaturesNeptune1,w.freeAdvertisedFeaturesNeptune2,w.freeAdvertisedFeaturesNeptune3]},Tk={...kk,demandAccess:w.basicModelAccess,advertisedFeatures:[w.freeAdvertisedFeaturesNeptune0,w.basicModelAccess,w.freeAdvertisedFeaturesNeptune2,w.freeAdvertisedFeaturesNeptune3]},Ak={...Tk,advertisedFeatures:[w.freeAdvertisedFeaturesNeptune0,w.basicModelAccess,w.freeAdvertisedFeaturesNeptune2,w.freeAdvertisedFeaturesDefault3,w.freeAdvertisedFeaturesProduce3]},D6e={...Ak,summary:w.freeSummary,cost:{costInDollars:w.freeCostProduce,costInPounds:w.freeCostInPoundsProduce,costInEuros:w.freeCostInEurosProduce}},Pk={name:w.plusName,callToAction:{active:w.plusActive,create:w.plusActive,inactive:w.plusInactive},forLine:void 0,cost:{costInDollars:w.plusCost,costInPounds:w.plusCostInPounds,costInEuros:w.plusCostInEuros},demandAccess:w.plusAccess,responseSpeed:w.plusSpeed,modelFeatures:w.plusFeatures,advertisedFeatures:[w.plusAdvertisedFeaturesNeptune5,w.plusAdvertisedFeaturesNeptune0,w.plusAdvertisedFeaturesNeptune1,w.plusAdvertisedFeaturesNeptune2,w.plusAdvertisedFeaturesNeptune3,w.plusAdvertisedFeaturesNeptune4]},D5={name:w.plusName,callToAction:{active:w.plusActive,create:w.plusActive,inactive:w.plusInactive},forLine:void 0,cost:{costInDollars:w.plusCost,costInPounds:w.plusCostInPounds,costInEuros:w.plusCostInEuros},demandAccess:w.plusAccess,responseSpeed:w.plusSpeed,modelFeatures:w.plusFeatures,advertisedFeatures:[w.plusAdvertisedFeaturesNeptune5,w.plusAdvertisedFeaturesNeptune0,w.plusAdvertisedFeaturesNeptune2,w.plusAdvertisedFeaturesNeptune3,w.plusAdvertisedFeaturesNeptune4]},Nk={...Pk,advertisedFeatures:[w.plusAdvertisedFeaturesNeptune5,w.plusAdvertisedFeaturesChive0,w.plusAdvertisedFeaturesNeptune1,w.plusAdvertisedFeaturesNeptune2,w.plusAdvertisedFeaturesNeptune3,w.plusAdvertisedFeaturesNeptune4]},Km={...Nk,advertisedFeatures:[w.plusAdvertisedFeaturesNeptune5,w.plusAdvertisedFeaturesDefault0,w.plusAdvertisedFeaturesChive0,w.plusAdvertisedFeaturesNeptune1,w.plusAdvertisedFeaturesNeptune2,w.plusAdvertisedFeaturesNeptune3,w.plusAdvertisedFeaturesNeptune4]},F6e={...Km,summary:w.plusSummary,cost:{costInDollars:w.plusCostProduce,costInPounds:w.plusCostInPoundsProduce,costInEuros:w.plusCostInEurosProduce},forLine:void 0,advertisedFeatures:[w.plusAdvertisedFeaturesProduce0,...Km.advertisedFeatures.slice(0,-1)]},$6e={...D5,advertisedFeatures:[w.plusAdvertisedFeaturesNeptune5,w.plusAdvertisedFeaturesChive0,w.plusAdvertisedFeaturesNeptune2,w.plusAdvertisedFeaturesNeptune3,w.plusAdvertisedFeaturesNeptune4]},Qm={...D5,advertisedFeatures:[w.plusAdvertisedFeaturesNeptune5,w.plusAdvertisedFeaturesDefault0,w.plusAdvertisedFeaturesChive0,w.plusAdvertisedFeaturesNeptune2,w.plusAdvertisedFeaturesNeptune3,w.plusAdvertisedFeaturesNeptune4]},B6e={...Qm,summary:w.plusSummary,cost:{costInDollars:w.plusCostProduce,costInPounds:w.plusCostInPoundsProduce,costInEuros:w.plusCostInEurosProduce},forLine:void 0,advertisedFeatures:[w.plusAdvertisedFeaturesProduce0,...Qm.advertisedFeatures]},jk={name:w.teamPlanName,callToAction:{active:w.teamPlanActive,inactive:w.teamPlanInactive,create:w.teamPlanCreate},forLine:w.teamPlanForLineNeptune,cost:{costInDollars:w.teamPlanCost,costInPounds:w.teamPlanCostInPounds,costInEuros:w.teamPlanCostInEuros},responseSpeed:w.teamPlanSpeed,demandAccess:w.teamPlanSpeed,modelFeatures:w.teamPlanContext,advertisedFeatures:[w.teamsAdvertisedFeaturesNeptune0,w.teamsAdvertisedFeaturesNeptune2,w.teamsAdvertisedFeaturesNeptune3,w.teamsAdvertisedFeaturesNeptune1],disclaimer:w.teamPricingDisclaimer},Xm={...jk,advertisedFeatures:[w.teamsAdvertisedFeaturesDefault0,w.teamsAdvertisedFeaturesNeptune2,w.teamsAdvertisedFeaturesNeptune3,w.teamsAdvertisedFeaturesNeptune1]},U6e={...Xm,forLine:void 0,summary:w.teamPlanSummary,cost:{costInDollars:w.teamPlanCostProduce,costInPounds:w.teamPlanCostInPoundsProduce,costInEuros:w.teamPlanCostInEurosProduce},advertisedFeatures:[w.teamAdvertisedFeaturesProduce0,...Xm.advertisedFeatures],disclaimer:w.teamPricingDisclaimerProduce},Jm={name:w.enterpriseName,callToAction:{active:w.enterprisePlanActive,create:w.enterprisePlanActive,inactive:w.enterprisePlanInactive},cost:{costInDollars:w.enterpriseCost,costInPounds:w.enterpriseCostInPounds,costInEuros:w.enterpriseCostInEuros},forLine:w.enterprisePlanForLine,advertisedFeatures:[w.enterpriseAdvertisedFeatures1,w.enterpriseAdvertisedFeatures2,w.enterpriseAdvertisedFeatures3,w.enterpriseAdvertisedFeatures4,w.enterpriseAdvertisedFeatures5],disclaimer:w.enterprisePricingDisclaimer},H6e={...Jm,summary:w.enterpriseSummary,forLine:void 0,cost:{costInDollars:void 0,costInPounds:void 0,costInEuros:void 0,costInDollarsSubtitle:w.enterpriseCost,costInPoundsSubtitle:w.enterpriseCostInPounds,costInEurosSubtitle:w.enterpriseCostInEuros},advertisedFeatures:[w.enterpriseAdvertisedFeatures0,...Jm.advertisedFeatures]},Xo={free:{name:w.freeName,callToAction:{active:w.freeCTA,create:w.freeCTA,inactive:w.freeCTA},forLine:w.freeForLine,cost:{costInDollars:w.freeCost,costInPounds:w.freeCostInPounds,costInEuros:w.freeCostInEuros},demandAccess:w.freeAccess,responseSpeed:w.freeSpeed,modelFeatures:w.freeFeatures,advertisedFeatures:[w.freeAdvertisedFeatures0,w.freeAdvertisedFeatures1,w.freeAdvertisedFeatures2]},freeNeptune:kk,freeChive:Tk,freeDefault:Ak,freeProduceExp:D6e,plus:X6,plusNeptuneForFreeUsers:Pk,plusNeptuneForPlusUsers:D5,plusChiveForFreeUsers:Nk,plusChiveForPlusUsers:$6e,plusDefaultForFreeUsers:Km,plusDefaultForPlusUsers:Qm,plusProduceForFreeUsersExp:F6e,plusProduceForPlusUsersExp:B6e,plusYearly:{...X6,cost:{costInDollars:w.plusYearlyCost,costInPounds:w.plusYearlyCostInPounds,costInEuros:w.plusYearlyCostInEuros,costInDollarsSubtitle:w.plusYearlyCostSubtitle,costInPoundsSubtitle:w.plusYearlyCostInPoundsSubtitle,costInEurosSubtitle:w.plusYearlyCostInEurosSubtitle}},teams:{name:w.teamPlanName,callToAction:{active:w.teamPlanActive,inactive:w.teamPlanInactive,create:w.teamPlanCreate},forLine:w.teamPlanForLine,cost:{costInDollars:w.teamPlanCost,costInPounds:w.teamPlanCostInPounds,costInEuros:w.teamPlanCostInEuros},responseSpeed:w.teamPlanSpeed,demandAccess:w.teamPlanSpeed,modelFeatures:w.teamPlanContext,advertisedFeatures:[w.teamsAdvertisedFeatures0,w.teamsAdvertisedFeatures1,w.teamsAdvertisedFeatures2,w.teamsAdvertisedFeatures3],disclaimer:w.teamPricingDisclaimer},teamsNeptune:jk,teamsDefault:Xm,teamsProduceExp:U6e,enterprise:Jm,enterpriseProduceExp:H6e,manageSubscriptionWeb:{callToAction:w.manageSubscriptionWeb},manageSubscriptionIos:{callToAction:w.manageSubscriptionIos},manageSubscriptionAndroid:{callToAction:w.manageSubscriptionAndroid},cancelSubscriptionWeb:{callToAction:w.cancelSubscriptionWeb},cancelSubscriptionIos:{callToAction:w.cancelSubscriptionIos},cancelSubscriptionAndroid:{callToAction:w.cancelSubscriptionAndroid},getHelp:{callToAction:w.getHelp},business:{callToAction:w.business},disabledHighDemand:{hoverText:w.highDemandDisabledText},signUpForWaitlist:{active:w.signUpForWaitlistActive,create:w.signUpForWaitlistActive,inactive:w.signUpForWaitlistInactive}};var V6e=(e=>(e[e.Scallion=0]="Scallion",e[e.Chive=1]="Chive",e[e.ProduceDesign=2]="ProduceDesign",e[e.Default=3]="Default",e))(V6e||{});const SLe=()=>2;function t2(e){return e%1===0?e.toFixed(0):e.toFixed(2)}const G6e=ce.div`${e=>e.plusInactiveProduce?"md:mt-4":""} text-sm relative flex-1 flex gap-5 flex-col ${e=>{if(e.isPromoColumn)return"rounded-xl md:min-h-[30rem] md:max-w-96 justify-center px-6 pt-6 pb-10 md:pb-6 shadow-lg";const t=e.isModalFullscreen?"border-t border-l border-r border-b rounded-xl md:min-h-[30rem] md:rounded-none md:border-r-0 md:last:border-r md:first:rounded-tl-xl md:first:rounded-bl-xl md:last:rounded-tr-xl md:last:rounded-br-xl md:max-w-96 justify-center px-6 pt-6 pb-10 md:pb-6":"md:border-r last:border-r-0 md:border-t-0 border-t py-4 px-6",n=e.plusInactiveProduce?"border-t border-l border-r border-b rounded-xl md:first:rounded-tl-xl md:first:rounded-bl-xl md:last:rounded-tr-xl md:last:rounded-br-xl md:max-w-96 justify-center px-6 pt-6 pb-10 md:pb-6 md:min-h-[20rem] md:-mt-4 md:-mb-4 border-green-600 bg-green-600 bg-opacity-5":"";return`${e.plusInactiveProduce?n:t}`}}`,Yc=ce.div`
  relative flex flex-col ${e=>e.plusInactiveProduce?"":"bg-token-main-surface-primary"}
`,W6e=ce.div`flex flex-col flex-grow gap-2`,z6e=ce.div`
  relative ${e=>e.plusInactiveProduce?"":"bg-token-main-surface-primary"}
`,J6=ce.div`
  relative flex flex-col text-xs text-token-text-secondary ${e=>e.plusInactiveProduce?"":"bg-token-main-surface-primary"}
`;function q6e(e){return"referrer_name"in e}function Z6e(e){return"percentage"in e}const MLe=({planName:e,pricingPlan:t,callToActionButton:n,secondaryCallToActionButton:r=null,className:s,elementId:a,showForLine:i=!0,additionalLinks:l=[],plusInactive:c=!1,promoMetadata:d=null,activeDiscountMetadata:f=null,billingDetails:m})=>{const p=xs(),{costTitle:g,costSubtitle:v,currencySymbol:h}=Jo(t,m.currency),x=L(),{layer:y}=ot("3768341700"),b=y.get("is_vat_information_enabled",!1),S=y.get("is_vat_information_with_amount_enabled",!1),T=y.get("is_team_pricing_vat_disclaimer_enabled",!1),k=b&&m.currency!==Er&&e!=="free",A=S&&m.currency!==Er&&e!=="free",M=T&&e==="team"&&m.currency!==Er,P=!!d,I=!!f;let D;return m.currency===Er?D={id:"defaultCostInDollars",defaultMessage:t2(O5).toString()}:m.currency===Ml?D={id:"defaultCostInPounds",defaultMessage:t2(Ym).toString()}:m.currency===Sl&&(D={id:"defaultCostInEuros",defaultMessage:t2(Ek).toString()}),o.jsxs(G6e,{className:s,"data-testid":`${e}-pricing-modal-column`,id:a,isModalFullscreen:!0,plusInactiveProduce:c,isPromoColumn:P,children:[o.jsx(Yc,{plusInactiveProduce:c,className:c?"mt-4":"",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("p",{className:"flex items-center gap-2 text-2xl font-semibold",children:[o.jsx(C,{...t.name}),(P||c||I)&&o.jsx("span",{className:`ml-1 rounded border px-1 py-0 text-xs font-semibold ${I?"text-token-text-tertiary":d?.promotion_type&&d.promotion_type==="student_discount"?"border-brand-purple text-brand-purple":"border-green-600 text-green-600"}`,children:d?.promotion_type_label?d?.promotion_type_label:P?d.duration?Z6e(d.discount)?o.jsx(C,{...kn.percentageDiscount,values:{discount_percentage:d.discount.percentage}}):o.jsx(C,{...kn.flatDiscount,values:{discounted_cost:x.formatNumber(d.discount.value,{style:"currency",currency:d.discount.currency_code,minimumFractionDigits:0,maximumFractionDigits:2})}}):o.jsx(C,{...kn.promo}):I?o.jsx(C,{...kn.percentageDiscount,values:{discount_percentage:f?.discount.percentage}}):o.jsx(C,{...kn.popular})})]}),g&&o.jsx("div",{className:"ml-4 mt-2 flex items-baseline gap-1.5","data-testid":`${e}-pricing-column-cost`,children:o.jsxs("div",{className:"relative",children:[P||I?o.jsx("p",{className:"absolute -left-4 -top-0 text-2xl text-token-text-tertiary",children:o.jsx(C,{...h.sign})}):o.jsx("p",{className:"absolute -left-4 -top-0 text-2xl text-token-text-secondary",children:o.jsx(C,{...h.sign})}),o.jsxs("div",{className:"flex items-baseline gap-1.5",children:[o.jsx("div",{className:"text-5xl text-token-text-primary",children:P||I?o.jsxs("span",{children:[o.jsx("del",{className:"text-token-text-tertiary",children:o.jsx(C,{...D})}),o.jsxs("span",{className:"relative",children:[o.jsx("span",{className:"absolute text-2xl text-token-text-secondary",children:o.jsx(C,{...h.sign})}),o.jsx("span",{style:{paddingLeft:"15px"},children:o.jsx(C,{...g})})]})]}):o.jsx("div",{className:"text-5xl text-token-text-primary",children:o.jsx(C,{...g})})}),o.jsxs("div",{className:"flex flex-col items-start justify-center",children:[o.jsxs("p",{className:"absolute mb-6 text-xs text-token-text-tertiary",children:[o.jsx(C,{id:"PricingModalColumn.currencyCodeWithSlash",defaultMessage:"{currencyCode}/",values:{currencyCode:x.formatMessage(h.code)}}),P&&!I&&(k?o.jsx(C,{...kn.frequencyWithVATInformation}):A?o.jsx(C,{...kn.frequencyWithVATInformationIncludingAmount,values:{vat_amount:x.formatNumber(Q6(Number(g.defaultMessage),m.country),{style:"currency",currency:x.formatMessage(h.code),minimumFractionDigits:2,maximumFractionDigits:2})}}):o.jsx(C,{...kn.frequency}))]}),o.jsx("p",{className:"text-xs text-token-text-tertiary",children:P&&!I?o.jsx(C,{...t.cost.costDuration}):k?o.jsx(C,{...kn.frequencyWithVATInformation}):A?o.jsx(C,{...kn.frequencyWithVATInformationIncludingAmount,values:{vat_amount:x.formatNumber(Q6(Number(g.defaultMessage),m.country),{style:"currency",currency:x.formatMessage(h.code),minimumFractionDigits:2,maximumFractionDigits:2})}}):o.jsx(C,{...kn.frequency})})]})]})]})}),v&&p?o.jsx("p",{className:"mb-3 mt-6 text-sm text-token-text-tertiary","data-testid":`${e}-pricing-column-cost-subtitle`,children:o.jsx(C,{...v})}):null,t.summary?o.jsx("p",{className:"mr-2 mt-2 text-base text-token-text-primary","data-testid":`${e}-pricing-column-cost-summary`,children:o.jsx(C,{...t.summary})}):null]})}),o.jsx(Yc,{children:n}),r&&o.jsx(Yc,{className:"-mt-2",children:r}),o.jsxs(W6e,{children:[i&&t.forLine&&o.jsx(Yc,{children:o.jsx("p",{className:"text-l font-semibold",children:o.jsx(C,{...t.forLine})})}),t.advertisedFeatures?.map((F,B)=>o.jsx(z6e,{plusInactiveProduce:c,children:o.jsxs("div",{className:"text-l flex justify-start gap-2",children:[o.jsx(wl,{className:"mt-0.5 h-4 w-4 shrink-0"}),o.jsx("span",{children:o.jsx(C,{...F,values:{link:z=>o.jsx(nn,{className:"underline",target:"_blank",rel:"noreferrer",to:F.link??"",children:z}),article:z=>o.jsx(nn,{className:"underline",target:"_blank",rel:"noreferrer",to:F.article??"",children:z}),modelName:"GPT4o"}})})]})},B))]}),P&&q6e(d)&&d?.referrer_name&&o.jsx("div",{className:"flex w-full items-center justify-center rounded-md border-[1px] border-[#AF52DE] bg-[#8C43A00D] py-2 text-center",children:o.jsx("span",{className:"text-l text-[#AF52DE]",children:o.jsx(C,{id:"PricingModalColumn.referredBy",defaultMessage:"{referrer_name} gave you 1 month of free Plus",values:{referrer_name:d?.referrer_name}})})}),o.jsxs("div",{children:[l.length>0&&o.jsx(J6,{plusInactiveProduce:c,children:l.map((F,B)=>o.jsx("div",{children:F},B))}),t.disclaimer&&o.jsxs(J6,{plusInactiveProduce:c,className:"px-2",children:[o.jsx("div",{children:o.jsx(C,{...t.disclaimer,values:{link:F=>o.jsx(nn,{className:"underline",target:"_blank",rel:"noreferrer",to:t.disclaimer?.link??"",children:F}),article:F=>o.jsx(nn,{className:"underline",target:"_blank",rel:"noreferrer",to:t?.disclaimer?.article??"",children:F})}})}),M&&o.jsx("div",{children:o.jsx(C,{...kn.teamPricingVATDisclaimerProduce})})]})]})]})};function Jo(e,t){return t==Sl?{costTitle:e.cost.costInEuros,costSubtitle:e.cost.costInEurosSubtitle,currencySymbol:lo}:t==Ml?{costTitle:e.cost.costInPounds,costSubtitle:e.cost.costInPoundsSubtitle,currencySymbol:io}:{costTitle:e.cost.costInDollars,costSubtitle:e.cost.costInDollarsSubtitle,currencySymbol:oo}}const kn=U({percentageDiscount:{id:"percentageDiscount",defaultMessage:"{discount_percentage}% OFF"},flatDiscount:{id:"flatDiscount",defaultMessage:"{discounted_cost} OFF"},promo:{id:"promo",defaultMessage:"PROMO"},popular:{id:"popular",defaultMessage:"POPULAR"},frequency:{id:"frequency",defaultMessage:"month"},frequencyWithVATInformation:{id:"frequencyWithVATInformation",defaultMessage:"month (including VAT)"},frequencyWithVATInformationIncludingAmount:{id:"frequencyWithVATInformationIncludingAmount",defaultMessage:"month (includes {vat_amount} of VAT)"},teamPricingVATDisclaimerProduce:{id:"pricingPlanConstants.teams.teamPricingVATDisclaimerProduce",defaultMessage:"VAT excluded at checkout with valid VAT ID"}}),ze=U({freeAdvertisedFeaturesProduce2:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce2",defaultMessage:"Limited access to GPT-4o"},plusAdvertisedFeaturesProduce3_5:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce3_5",defaultMessage:"Access to deep research, multiple reasoning models (o3-mini, o3-mini-high, and o1), and a research preview of GPT-4.5"},plusAdvertisedFeaturesProduce4:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce4",defaultMessage:"Opportunities to test new features"},plusAdvertisedFeaturesProduce5:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce5",defaultMessage:"Limited access to Sora video generation"},plusInactiveProduce:{id:"pricingPlanConstants.plus.callToAction.inactivePaymentProduce",defaultMessage:"Get Plus"},plusInactiveUnauthenticated:{id:"pricingPlanConstants.plus.callToAction.inactiveUnauthenticatedProduce",defaultMessage:"Sign up to get free Plus"},teamPlanInactiveProduce:{id:"pricingPlanConstants.teams.callToAction.inactivePaymentProduce",defaultMessage:"Get Team"},enterpriseAdvertisedFeaturesProduce0:{id:"pricingPlanConstants.enterprise.enterpriseAdvertisedFeaturesProduce0",defaultMessage:"Everything in Team"},enterpriseAdvertisedFeaturesProduce3:{id:"pricingPlanConstants.enterprise.enterprisePlanAdvertisedFeaturesproduce3",defaultMessage:"Most intelligent models with longer context windows"},enterpriseAdvertisedFeaturesProduce4:{id:"pricingPlanConstants.enterprise.enterprisePlanAdvertisedFeaturesProduce4",defaultMessage:"No peak hour limits for ChatGPT"},proName:{id:"pricingPlanConstants.pro.name",defaultMessage:"Pro"},proActive:{id:"pricingPlanConstants.pro.callToAction.active",defaultMessage:"Your current plan"},proInactive:{id:"pricingPlanConstants.pro.callToAction.inactive",defaultMessage:"Get Pro"},proSummary:{id:"pricingPlanConstants.pro.proPlanSummary",defaultMessage:"Get the best of OpenAI with the highest level of access"},proCost:{id:"pricingPlanConstants.pro.costInDollars",defaultMessage:"200"},proCostInPounds:{id:"pricingPlanConstants.pro.costInPounds",defaultMessage:"200"},proCostInEuros:{id:"pricingPlanConstants.pro.costInEuros",defaultMessage:"229"},proAdvertisedFeatures0:{id:"pricingPlanConstants.pro.proAdvertisedFeatures0",defaultMessage:"Everything in Plus"},proAdvertisedFeatures1:{id:"pricingPlanConstants.pro.proAdvertisedFeatures1",defaultMessage:"Unlimited access to all reasoning models and GPT-4o"},proAdvertisedFeatures2:{id:"pricingPlanConstants.pro.proAdvertisedFeatures2",defaultMessage:"Unlimited access to advanced voice"},proAdvertisedFeatures3:{id:"pricingPlanConstants.pro.proAdvertisedFeatures3",defaultMessage:"Access to o1 pro mode, which uses more compute for the best answers to the hardest questions"},proAdvertisedFeatures3_5:{id:"jg7GoI",defaultMessage:"Extended access to deep research, which conducts multi-step online research for complex tasks"},proAdvertisedFeatures4:{id:"pricingPlanConstants.pro.proAdvertisedFeatures4",defaultMessage:"Extended access to Sora video generation"},proAdvertisedFeaturesOperator:{id:"pricingPlanConstants.pro.proAdvertisedFeaturesOperator",defaultMessage:"Access to research preview of Operator"},proAdvertisedFeaturesGpt4_5:{id:"pricingPlanConstants.pro.proAdvertisedFeaturesGpt4_5",defaultMessage:"Access to research preview of GPT-4.5"},proAdvertisedFeaturesGpt4_5AndOperator:{id:"pricingPlanConstants.pro.proAdvertisedFeaturesGpt4_5AndOperator",defaultMessage:"Access to research previews of GPT-4.5 and Operator"},proPricingDisclaimer:{id:"pricingPlanConstants.pro.proPricingDisclaimer",defaultMessage:"Unlimited subject to abuse guardrails. <link>Learn more</link>",link:"https://help.openai.com/en/articles/9793128-what-is-chatgpt-pro"}}),_Le={...Xo.freeChive,summary:w.freeSummary,cost:{costInDollars:w.freeCostProduce,costInPounds:w.freeCostInPoundsProduce,costInEuros:w.freeCostInEurosProduce},advertisedFeatures:[w.basicModelAccess,w.freeAdvertisedFeaturesProduce0,w.freeAdvertisedFeaturesProduce1,ze.freeAdvertisedFeaturesProduce2,w.freeAdvertisedFeaturesProduce3,w.freeAdvertisedFeaturesProduce4]};function uc(){const e=[w.plusAdvertisedFeaturesProduce0,w.plusAdvertisedFeaturesProduce1,w.plusAdvertisedFeaturesProduce2,ze.plusAdvertisedFeaturesProduce3_5,w.plusAdvertisedFeaturesNeptune4,ze.plusAdvertisedFeaturesProduce5,ze.plusAdvertisedFeaturesProduce4];return{...Xo.plusChiveForPlusUsers,callToAction:{active:w.plusActive,create:w.plusActive,inactive:ze.plusInactiveProduce},summary:w.plusSummary,cost:{costInDollars:w.plusCostProduce,costInPounds:w.plusCostInPoundsProduce,costInEuros:w.plusCostInEurosProduce},forLine:void 0,advertisedFeatures:e}}const ELe={...Xo.teamsNeptune,forLine:void 0,summary:w.teamPlanSummary,cost:{costInDollars:w.teamPlanCostProduce,costInPounds:w.teamPlanCostInPoundsProduce,costInEuros:w.teamPlanCostInEurosProduce},advertisedFeatures:[w.teamAdvertisedFeaturesAllInPlus0,w.teamAdvertisedFeaturesAllInPlus1,w.plusAdvertisedFeaturesProduce2,w.teamsAdvertisedFeaturesNeptune1,w.teamsAdvertisedFeaturesNeptune2,w.teamsAdvertisedFeaturesNeptune3],disclaimer:w.teamPricingDisclaimerProduce,callToAction:{active:w.teamPlanActive,create:w.teamPlanCreate,inactive:ze.teamPlanInactiveProduce}},kLe={...Xo.teamsNeptune,forLine:void 0,summary:w.teamPlanSummarySecurityFocus,cost:{costInDollars:w.teamPlanCostProduce,costInPounds:w.teamPlanCostInPoundsProduce,costInEuros:w.teamPlanCostInEurosProduce},advertisedFeatures:[w.teamAdvertisedFeaturesSecurityFocus0,w.teamAdvertisedFeaturesSecurityFocus1,w.teamsAdvertisedFeaturesSecurityFocus2,w.teamsAdvertisedFeaturesSecurityFocus3,w.teamsAdvertisedFeaturesDefault0,w.teamAdvertisedFeaturesAllInPlus1],disclaimer:w.teamPricingDisclaimerProduce,callToAction:{active:w.teamPlanActive,create:w.teamPlanCreate,inactive:ze.teamPlanInactiveProduce}},TLe={...Xo.teamsNeptune,forLine:void 0,summary:w.teamPlanSummary,cost:{costInDollars:w.teamPlanCostProduce,costInPounds:w.teamPlanCostInPoundsProduce,costInEuros:w.teamPlanCostInEurosProduce},advertisedFeatures:[w.teamAdvertisedFeaturesValueBased0,w.teamAdvertisedFeaturesValueBased1,w.teamAdvertisedFeaturesValueBased2,w.teamAdvertisedFeaturesValueBased3,w.teamAdvertisedFeaturesValueBased4,w.teamAdvertisedFeaturesValueBased5],disclaimer:w.teamPricingDisclaimerProduce,callToAction:{active:w.teamPlanActive,create:w.teamPlanCreate,inactive:ze.teamPlanInactiveProduce}},ALe={...Xo.enterprise,summary:w.enterpriseSummary,forLine:void 0,cost:{costInDollars:void 0,costInPounds:void 0,costInEuros:void 0,costInDollarsSubtitle:w.enterpriseCost,costInPoundsSubtitle:w.enterpriseCostInPounds,costInEurosSubtitle:w.enterpriseCostInEuros},advertisedFeatures:[ze.enterpriseAdvertisedFeaturesProduce0,w.enterpriseAdvertisedFeatures1,w.enterpriseAdvertisedFeatures2,w.enterpriseAdvertisedFeatures3,w.enterpriseAdvertisedFeatures4,w.enterpriseAdvertisedFeatures5]};function PLe({isOperatorEnabled:e}){let t=null;e?t=ze.proAdvertisedFeaturesGpt4_5AndOperator:t=ze.proAdvertisedFeaturesGpt4_5;const n=[ze.proAdvertisedFeatures0,ze.proAdvertisedFeatures1,ze.proAdvertisedFeatures2,ze.proAdvertisedFeatures3_5,t,ze.proAdvertisedFeatures3,ze.proAdvertisedFeatures4];return{name:ze.proName,callToAction:{active:ze.proActive,create:ze.proActive,inactive:ze.proInactive},forLine:void 0,summary:ze.proSummary,cost:{costInDollars:ze.proCost,costInPounds:ze.proCostInPounds,costInEuros:ze.proCostInEuros},advertisedFeatures:n,disclaimer:ze.proPricingDisclaimer}}function NLe({value:e,onValueChange:t,displayNameFormatterFn:n,testId:r}){const s=[e],a=CN.filter(i=>i!=e);return o.jsx("div",{"data-testid":r,children:o.jsxs(Yt.Root,{value:e,onValueChange:t,children:[o.jsxs(Yt.Trigger,{children:[o.jsx(Yt.Value,{}),o.jsx(Yt.Icon,{})]}),o.jsx(Yt.Portal,{children:o.jsxs(Yt.Content,{side:void 0,sideOffset:void 0,position:"popper",style:{maxHeight:480},children:[s.map(i=>o.jsx(Yt.Item,{value:i,children:n(i)},i)),o.jsx(Yt.Separator,{}),a.map(i=>o.jsx(Yt.Item,{value:i,children:n(i)},i))]})})]})})}function Ik(e,t){const{layer:n}=ot("3768341700"),r=n.get("is_country_selector_enabled",!1),s=r,a=xl();let i="";"userCountry"in a&&(i=a.userCountry);const l=yN(i,!s);let c={country:l,currency:bN(l)};if(e?.hasPaidSubscription()&&t){const f=e?.mustGetSubscriptionBillingCurrency("AccountPaymentModal");f&&(c={currency:f})}return{userCountry:i,isCountrySelectorEnabled:s,countryWithFallback:l,initialBillingDetails:c}}const Y6e=e=>{const{data:t,isLoading:n}=ee({enabled:!!e,queryKey:["promotionEligibility",e],queryFn:async()=>j.safeGet("/promotions/eligibility/{promo_code}",{parameters:{path:{promo_code:e}}})}),{data:r,isLoading:s}=ee({enabled:!!e&&t?.is_eligible,queryKey:["promotionMetadata",e],queryFn:async()=>j.safeGet("/promotions/metadata/{promo_code}",{parameters:{path:{promo_code:e}}})}),a=n||s,i=t?.ineligible_reason&&(t&&!t.is_eligible?t.ineligible_reason??null:null);return{isEligible:t?.is_eligible??!1,promoMetadata:r?.metadata??null,isPromoLoading:a,promoError:i}},Rk=me.hasDismissedPromoRedemption,xd="month",Lk="year";function jLe(){const{eligible:e}=le(Rk);return Et.getItem(we.PromoCode)?e:!1}function ILe(){const e=L(),{markAsViewed:t}=le(Rk),n=Te(),r=yn(),{initialBillingDetails:s}=Ik(r,!0),a=Et.getItem(we.PromoCode),{promoMetadata:i}=Y6e(a),l=i!=null;if(u.useEffect(()=>{l&&(E.logEvent(_.promoRedemptionBannerShown,{promoCode:a}),$.logEvent("chatgpt_promo_redemption_banner_shown"))},[l,a]),!l)return null;const c=Q6e(e,s,i),d=X6e(e,s,i),f=o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:c}),o.jsx("span",{className:"text-token-text-secondary",children:d})]});return o.jsx(rn,{onPrimaryCtaClick:()=>{const m=Et.getItem(we.PromoCode);Et.removeItem(we.PromoCode),t(),n(`/p/${m}#pricing`),E.logEvent(_.promoRedemptionBannerRedeemButtonClicked,{promoCode:m}),$.logEvent("chatgpt_promo_redemption_banner_redeem_button_clicked")},primaryCtaText:e.formatMessage(dr.bannerPrimaryCta),onDismiss:t,content:f})}function K6e(e){const t=e.currency;let n;switch(t){case Sl:n=Ek;break;case Ml:n=Ym;break;default:n=Ym}return n}function Ok(e,t){const{discount:n}=t;let r=K6e(e);if("percentage"in n)r=(1-n?.percentage/100)*O5;else if("value"in n){const s=n?.value;r-=s}return r}function Q6e(e,t,n){const{discount:r,duration:s}=n,{currencySymbol:a}=Jo(uc(),t.currency),i=s?s.period:xd,l=s?s.num_periods:1;if("percentage"in r){const c=r?.percentage;return e.formatMessage(dr.bannerTitleForPercentageDiscount,{discount:c})}else if("value"in r){let c=Ok(t,n);const d=a.code.defaultMessage?.toString()??Er,f=e.formatNumber(c,{style:"currency",currency:d,minimumFractionDigits:0,maximumFractionDigits:2});let m;switch(i){case xd:l===1?m=e.formatMessage(dr.bannerTitleForSingleMonth,{cost:f}):m=e.formatMessage(dr.bannerTitleForPluralMonths,{cost:f,num_months:l});break;case Lk:l===1?m=e.formatMessage(dr.bannerTitleForSingleYear,{cost:f}):m=e.formatMessage(dr.bannerTitleForPluralYears,{cost:f,num_years:l});break}return m}}function X6e(e,t,n){const{duration:r}=n,{currencySymbol:s}=Jo(uc(),t.currency),a=r?r.period:xd,i=r?r.num_periods:1,l=s.code.defaultMessage?.toString()??Er,c=Ok(t,n),d=e.formatNumber(c,{style:"currency",currency:l,minimumFractionDigits:0,maximumFractionDigits:2});let f;switch(a){case xd:i===1?f=e.formatMessage(dr.bannerContentForSingleMonth,{cost:d}):f=e.formatMessage(dr.bannerContentForPluralMonths,{num_months:i,cost:d});break;case Lk:i===1?f=e.formatMessage(dr.bannerContentForSingleYear,{cost:d}):f=e.formatMessage(dr.bannerContentForPluralYears,{num_years:i,cost:d});break}return f}const dr=U({bannerTitleForPluralMonths:{id:"promoRedemptionBannerTitleForPluralMonths",defaultMessage:"Get Plus for {cost}/month for the first {num_months} months"},bannerTitleForSingleMonth:{id:"promoRedemptionBannerTitleForSingleMonth",defaultMessage:"Get Plus for {cost}/month for the first month"},bannerTitleForPluralYears:{id:"promoRedemptionBannerTitleForPluralYears",defaultMessage:"Get Plus for {cost}/year for the first {num_years} years"},bannerTitleForSingleYear:{id:"promoRedemptionBannerTitleForSingleYear",defaultMessage:"Get Plus for {cost}/year for the first year"},bannerTitleForPercentageDiscount:{id:"promoRedemptionBannerTitleForPercentageDiscount",defaultMessage:"Finish redeeming your {discount}% off code for Plus"},bannerContentForPluralMonths:{id:"promoRedemptionBannerContentForPluralMonths",defaultMessage:"Get {num_months} months of expanded access for only {cost} per month."},bannerContentForSingleMonth:{id:"promoRedemptionBannerContentForSingleMonth",defaultMessage:"Get 1 month of expanded access for only {cost} per month."},bannerContentForPluralYears:{id:"promoRedemptionBannerContentForPluralYears",defaultMessage:"Get {num_years} years of expanded access for only {cost} per year."},bannerContentForSingleYear:{id:"promoRedemptionBannerContentForSingleYear",defaultMessage:"Get 1 year of expanded access for only {cost} per year."},bannerPrimaryCta:{id:"promoRedemptionBannerPrimaryCta",defaultMessage:"Redeem"}}),Cd=window.localStorage,ev=de(St(()=>{const e=Cd?.getItem(we.NoAuthBannerDisclaimerClientThreadId)??null,t=Cd?.getItem(we.NoAuthHasAcceptedFooterDisclaimer)==="true";return{bannerDisclaimerClientThreadId:e,hasAcceptedFooterDisclaimer:t}})),Dk={updateBannerDisclaimerClientThreadId(e){ev.setState(t=>{t.bannerDisclaimerClientThreadId=e}),Cd?.setItem(we.NoAuthBannerDisclaimerClientThreadId,e)},updateHasAcceptedFooterDisclaimer(){ev.setState(e=>{e.hasAcceptedFooterDisclaimer=!0}),Cd?.setItem(we.NoAuthHasAcceptedFooterDisclaimer,"true")}},J6e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0322 5.02393C17.7488 5.00078 17.3766 5 16.8 5H11.5002C11.3 6 11.0989 6.91141 10.8903 7.85409C10.7588 8.44955 10.6432 8.97304 10.3675 9.41399C10.1262 9.80009 9.80009 10.1262 9.41399 10.3675C8.97304 10.6432 8.44955 10.7588 7.85409 10.8903C7.81276 10.8994 7.77108 10.9086 7.72906 10.9179L5.21693 11.4762C5.1442 11.4924 5.07155 11.5001 5 11.5002V16.8C5 17.3766 5.00078 17.7488 5.02393 18.0322C5.04612 18.3038 5.0838 18.4045 5.109 18.454C5.20487 18.6422 5.35785 18.7951 5.54601 18.891C5.59546 18.9162 5.69617 18.9539 5.96784 18.9761C6.25118 18.9992 6.62345 19 7.2 19H10C10.5523 19 11 19.4477 11 20C11 20.5523 10.5523 21 10 21H7.16144C6.6343 21 6.17954 21 5.80497 20.9694C5.40963 20.9371 5.01641 20.8658 4.63803 20.673C4.07354 20.3854 3.6146 19.9265 3.32698 19.362C3.13419 18.9836 3.06287 18.5904 3.03057 18.195C2.99997 17.8205 2.99998 17.3657 3 16.8385L3 11C3 8.92477 4.02755 6.93324 5.4804 5.4804C6.93324 4.02755 8.92477 3 11 3L16.8385 3C17.3657 2.99998 17.8205 2.99997 18.195 3.03057C18.5904 3.06287 18.9836 3.13419 19.362 3.32698C19.9265 3.6146 20.3854 4.07354 20.673 4.63803C20.8658 5.01641 20.9371 5.40963 20.9694 5.80497C21 6.17954 21 6.6343 21 7.16144V10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10V7.2C19 6.62345 18.9992 6.25118 18.9761 5.96784C18.9539 5.69617 18.9162 5.59546 18.891 5.54601C18.7951 5.35785 18.6422 5.20487 18.454 5.109C18.4045 5.0838 18.3038 5.04612 18.0322 5.02393ZM5.28014 9.41336L7.2952 8.96556C8.08861 8.78925 8.24308 8.74089 8.35381 8.67166C8.48251 8.59121 8.59121 8.48251 8.67166 8.35381C8.74089 8.24308 8.78925 8.08861 8.96556 7.2952L9.41336 5.28014C8.51014 5.59289 7.63524 6.15398 6.89461 6.89461C6.15398 7.63524 5.59289 8.51014 5.28014 9.41336ZM17 15C17 14.4477 17.4477 14 18 14C18.5523 14 19 14.4477 19 15V17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H19V21C19 21.5523 18.5523 22 18 22C17.4477 22 17 21.5523 17 21V19H15C14.4477 19 14 18.5523 14 18C14 17.4477 14.4477 17 15 17H17V15Z",fill:"currentColor"}));function RLe({clientThreadId:e}){const t=Dp(e);return t!=null?o.jsx(eve,{clientThreadId:e,gizmoId:t}):o.jsx(Fk,{clientThreadId:e})}function eve({clientThreadId:e,gizmoId:t}){const n=ua(t).data,r=Je(e,Z.getThreadCreateTime),s=n?.gizmo.updated_at!=null?new Date(n.gizmo.updated_at):void 0;return n?.gizmo.gizmo_type===eg.PROJECT||n?.gizmo.short_url==null||s==null||r==null||s<=r?o.jsx(Fk,{clientThreadId:e}):o.jsxs("div",{className:"text-token-text-tertiary",children:[o.jsx(J6e,{className:"text-token-secondary mb-1 mr-1 inline-block h-4 w-4 stroke-0"}),o.jsx(C,{...ro.outdatedGptDisclaimer,values:{link:a=>o.jsx(nn,{to:uo(n.gizmo.short_url),className:"underline",children:a},`gizmo-link-${n.gizmo.short_url}`),bold:a=>o.jsx("span",{className:"text-token-secondary font-semibold",children:a},`gizmo-bold-${n.gizmo.short_url}`)}})]})}function Fk({clientThreadId:e}){const t=$e(),n=yn(),{isUnauthenticated:r}=at(),s=Je(e,Z.hasUserMessage);return t?.isWorkspaceAccount()?n==null?null:o.jsx("div",{children:n.name!=null?o.jsx(C,{...ro.businessDisclaimer,values:{workspaceName:n.name}}):o.jsx(C,{...ro.businessDisclaimerNoName})}):r&&!s?o.jsx($k,{clientThreadId:e}):o.jsx("div",{children:o.jsx(C,{...ro.mayProduceInaccurateInformation})})}function $k({clientThreadId:e}){const{country:t}=pl(),n=t==="KR"?ro.mayProduceInaccurateInformationNoAuthKorea:ro.mayProduceInaccurateInformationNoAuthV2,{layer:r}=Rp("3533083032"),s=r.get("disclaimer_color_adjust",!1);return u.useEffect(()=>()=>{Z.hasUserMessage(_e(e))&&Dk.updateHasAcceptedFooterDisclaimer()},[e]),o.jsx("span",{className:"text-sm leading-none",children:o.jsx(C,{...n,values:{privacyLink:a=>o.jsx("a",{href:"https://openai.com/privacy",target:"_blank",className:N(s?"text-token-text-secondary":"text-token-text-primary","underline decoration-token-text-primary"),onClick:()=>{$.logEvent("chatgpt_footer_disclaimer_privacy_link_clicked"),E.logEvent(_.footerDisclaimerPrivacyLinkClicked)},rel:"noreferrer",children:a},"privacy_link"),termsLink:a=>o.jsx("a",{href:"https://openai.com/terms",target:"_blank",className:N(s?"text-token-text-secondary":"text-token-text-primary","underline decoration-token-text-primary"),onClick:()=>{$.logEvent("chatgpt_footer_disclaimer_terms_link_clicked"),E.logEvent(_.footerDisclaimerTermsLinkClicked)},rel:"noreferrer",children:a},"terms_link"),koreaAddendumLink:a=>o.jsx("a",{href:"https://openai.com/ko/policies/kr-privacy-policy-addendum",target:"_blank",className:"text-token-text-primary underline decoration-token-text-primary",onClick:()=>{$.logEvent("chatgpt_footer_disclaimer_korea_addendum_link_clicked"),E.logEvent(_.footerDisclaimerKoreaAddendumLinkClicked)},rel:"noreferrer",children:a},"addendum_link")}})})}const ro=U({mayProduceInaccurateInformation:{id:"thread.chatgptMayProduceInaccurateInformation-oct-30",defaultMessage:"ChatGPT can make mistakes. Check important info."},mayProduceInaccurateInformationNoAuthV2:{id:"thread.chatgptMayProduceInaccurateInformationNoAuth-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink>."},mayProduceInaccurateInformationNoAuthKorea:{id:"thread.chatgptMayProduceInaccurateInformationNoAuthKorea-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink> and its <koreaAddendumLink>Korea addendum</koreaAddendumLink>."},businessDisclaimer:{id:"thread.businessDisclaimer-jan-17",defaultMessage:"ChatGPT can make mistakes. OpenAI doesn't use {workspaceName} workspace data to train its models."},businessDisclaimerNoName:{id:"thread.businessDisclaimerNoName-jan-17",defaultMessage:"ChatGPT can make mistakes. OpenAI doesn't use your workspace data to train its models."},outdatedGptDisclaimer:{id:"thread.outdatedGptDisclaimer.0",defaultMessage:"<bold>New version of GPT available</bold> - Continue chatting to use the old version, or start a <link>new chat</link> for the latest version."}});function LLe({threadId:e}){const t=I8();u.useEffect(()=>{Dk.updateBannerDisclaimerClientThreadId(e),$.logEvent("chatgpt_unauthenticated_legal_banner"),E.logEvent(_.unauthLegalBanner,{threadId:e})},[e]);const n=t?cs.bannerTermsDisclaimer:cs.bannerTermsDisclaimerSafetyAndAbuse;return o.jsxs(lS,{type:"none",children:[o.jsx($k,{clientThreadId:e}),o.jsx("br",{}),o.jsx(C,{...n,values:{learnMoreLink:r=>o.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",className:"text-token-text-primary underline",onClick:()=>{$.logEvent("chatgpt_unauthenticated_banner_learn_more_clicked"),E.logEvent(_.unauthDisclaimerBannerLearnMoreClicked,{threadId:e})},children:r})}})]})}function OLe({threadId:e,showLogin:t=!0}){const n=L(),{layer:r}=ot("2118136551"),s=r.get("sign_up_button_has_the_word_free",!0);u.useEffect(()=>{$.logEvent("chatgpt_unauthenticated_signup_banner"),E.logEvent(_.unauthSignupBanner,{threadId:e})},[e]);const a=Fn();return o.jsx(rn,{content:n.formatMessage(cs.bannerSignup),onPrimaryCtaClick:()=>{a({authType:"signup",callback:i=>{$.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),E.logSignUpButtonClicked({location:"Chat Stage Signup Banner",provider:i})}})},primaryCtaText:n.formatMessage(s?cs.bannerSignupButtonWithFree:cs.bannerSignupButton),onSecondaryCtaClick:t?()=>{a({authType:"login",callback:i=>{$.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),E.logLogInButtonClicked({location:"Chat Stage Signup Banner",provider:i})}})}:void 0,secondaryCtaText:t?n.formatMessage(In.logInButtonText):void 0})}function DLe({threadId:e,showSignUp:t}){const n=L(),{layer:r}=ot("2118136551"),s=r.get("sign_up_button_has_the_word_free",!0);u.useEffect(()=>{$.logEvent("chatgpt_unauthenticated_login_banner"),E.logEvent(_.unauthLoginBanner,{threadId:e})},[e]);const a=Fn();return o.jsx(rn,{content:n.formatMessage(cs.bannerSignup),onPrimaryCtaClick:()=>{a({authType:"login",callback:i=>{$.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),E.logLogInButtonClicked({location:"Chat Stage Login Banner",provider:i})}})},primaryCtaText:n.formatMessage(In.logInButtonText),onSecondaryCtaClick:t?()=>{a({authType:"signup",callback:i=>{$.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),E.logSignUpButtonClicked({location:"Chat Stage Login Banner",provider:i})}})}:void 0,secondaryCtaText:t?s?n.formatMessage(cs.bannerSignupButtonWithFree):n.formatMessage(cs.bannerSignupButton):void 0})}const cs=U({bannerTermsDisclaimer:{id:"bannerTermsDisclaimer",defaultMessage:"Don't share sensitive info. Chats may be reviewed and used to train our models. <learnMoreLink>Learn more</learnMoreLink>"},bannerTermsDisclaimerSafetyAndAbuse:{id:"pDsoLk",defaultMessage:"Don't share sensitive information. Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"},bannerSignup:{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."},bannerSignupButton:{id:"hedgehog.banner_signup_button",defaultMessage:"Sign up"},bannerSignupButtonWithFree:{id:"xL5gsL",defaultMessage:"Sign up for free"}}),tve=me.DesktopOperatorAnnouncement;function FLe(){const{markAsViewed:e}=le(tve);u.useEffect(()=>{E.logEventWithStatsig(_.operatorAnnouncementBannerShown,"chatgpt_operator_announcement_banner_shown")},[]);const t=o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:o.jsx(C,{id:"/bPUPL",defaultMessage:"Delegate daily tasks with Operator"})}),o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(C,{id:"ODMLVJ",defaultMessage:"With the Pro plan, you can try the Operator research preview  an agent that browses the web to handle tasks for you."})})]});return o.jsx(rn,{onPrimaryCtaClick:()=>{e(),E.logEventWithStatsig(_.operatorAnnouncementBannerTryOperatorButtonClicked,"chatgpt_operator_announcement_banner_try_operator_button_clicked"),window.open(`${L8}?utm_source=chatgpt`,"_blank")},primaryCtaText:o.jsx(C,{id:"eDZIyV",defaultMessage:"Try Operator"}),onDismiss:()=>{e(),E.logEventWithStatsig(_.operatorAnnouncementBannerDismissed,"chatgpt_operator_announcement_banner_dismissed")},content:t})}const nve=20,rve=7;function $Le(){const e=Te();return u.useEffect(()=>{E.logEventWithStatsig(_.plusUpsellBannerShown,"chatgpt_plus_upsell_banner_shown")},[]),o.jsx(rn,{onPrimaryCtaClick:()=>{E.logEventWithStatsig(_.plusUpsellBannerGetPlusButtonClicked,"chatgpt_plus_upsell_banner_get_plus_button_clicked"),rf(e,"Plus upsell banner")},primaryCtaText:o.jsx(C,{id:"gH1UOs",defaultMessage:"Get Plus"}),onDismiss:()=>{E.logEventWithStatsig(_.plusUpsellBannerDismissed,"chatgpt_plus_upsell_banner_dismissed"),sve()},title:o.jsx(C,{id:"CEHXxQ",defaultMessage:"Unlock more with Plus"}),content:o.jsx(C,{id:"s+Afdr",defaultMessage:"ChatGPT Plus gives you higher limits, smarter models, and Sora for video."})})}const Bk=de(St(()=>({lastSeenPlusUpsellBannerAt:ave()})));function sve(){const e=new Date;Bk.setState(t=>{t.lastSeenPlusUpsellBannerAt=e}),localStorage.setItem(we.LastSeenPlusUpsellBannerAt,String(L2(new Date)))}function ave(){const e=localStorage.getItem(we.LastSeenPlusUpsellBannerAt);return e?ug(Number(e)):null}function BLe(){const e=fg(V$),t=Bk(i=>i.lastSeenPlusUpsellBannerAt),n=yn(),r=!!(n?.isFree()&&n?.features.includes("plus_upsell")),s=e>=nve,a=t==null||cg(Date.now(),t)>=rve;return r&&s&&a}const ove=U({continueGenerating:{id:"PromptTextarea.continueGenerating",defaultMessage:"Continue generating"},stopGenerating:{id:"PromptTextarea.stopGenerating",defaultMessage:"Stop generating"},disallowedByWorkspacePlaceholder:{id:"PromptTextarea.disallowedByWorkspaceReason",defaultMessage:"Your workspace owner hasnt approved this GPT."},noModelsAvailablePlaceholder:{id:"PromptTextarea.noModelsAvailablePlaceholder",defaultMessage:"No models available"},requiresPluginsToBeInstalled:{id:"PromptTextarea.requiresPluginsToBeInstalled",defaultMessage:"Requires plugins to be installed"},noTestGizmoId:{id:"PromptTextarea.noTestGizmoId",defaultMessage:"Start by defining your GPT."},searchWith:{id:"PromptTextarea.searchWith",defaultMessage:"Search with {name}"},loading:{id:"PromptTextarea.loading",defaultMessage:"Loading..."},placeholder:{id:"PromptTextarea.placeholder",defaultMessage:"Send a message"},placeholderWithName:{id:"PromptTextarea.placeholderWithName",defaultMessage:"Message {name}"},placeholderAskAnythingVariant:{id:"PromptTextarea.placeholderAskAnythingVariant",defaultMessage:"Ask anything"},placeholderAskNameAnythingVariant:{id:"PromptTextarea.placeholderAskNameAnythingVariant",defaultMessage:"Ask {name} anything"},continueSharedConversationPlaceholder:{id:"PromptTextarea.continueSharedConversationPlaceholder",defaultMessage:"Send a message to continue the conversation."},sendMessageTooltip:{id:"PromptTextarea.sendMessageTooltip",defaultMessage:"Send message"},unsupportedFileType:{id:"PromptTextarea.unsupportedFileType",defaultMessage:'Uploads with file type "{file_type}" are not supported, please try another file.'},gizmoKnowledgeWarning:{id:"PromptTextarea.gizmoKnowledgeWarning",defaultMessage:"Files uploaded here may be included in conversations with your GPT. Files can be downloaded if Code Interpreter is enabled."},deepResearchPlaceholder:{id:"yW6XfC",defaultMessage:"I can research in the background to deliver a detailed report. For best results, include:"},deepResearchPlaceholderBullet1:{id:"Bks7LZ",defaultMessage:"any relevant sources"},deepResearchPlaceholderBullet2:{id:"NDUfRW",defaultMessage:"desired areas of focus"},deepResearchPlaceholderBullet3:{id:"eHzB6R",defaultMessage:"files related to your research"},researchSuggestionInitial:{id:"PEjEpc",defaultMessage:"Provide as many details as possible for best results."}}),ive=30,ULe=3,HLe=1,tv=de(St(()=>({lastSeenInContextUpsellBannerAt:lve()}))),nv=de(St(()=>({inContextUpsellBannerPeriodStartAt:Uk()}))),rv=de(St(()=>({inContextUpsellBannerPeriodExposureCount:Hk()}))),sv=de(St(()=>({inContextUpsellBannerInteractedInPeriod:cve()}))),av=de(St(()=>({inContextUpsellBannerLastSeenId:Vk()})));function VLe(e,t){if(Vk()===e)return;E.logEventWithStatsig(_.inContextUpsellBannerO3MiniHighBannerShown,"chatgpt_in_context_upsell_banner_o3_mini_high_banner_shown",{bannerInfo:t});const r=Uk(),s=Hk();!r||!s||cg(Date.now(),r)>=ive?ov({lastSeenAt:new Date,periodStartAt:new Date,exposureCount:1,interactedInPeriod:!1,lastSeenId:e}):ov({lastSeenAt:new Date,exposureCount:s+1,lastSeenId:e})}function ov({lastSeenAt:e,periodStartAt:t,exposureCount:n,interactedInPeriod:r,lastSeenId:s}){e===void 0?e=tv.getState().lastSeenInContextUpsellBannerAt:tv.setState(i=>{i.lastSeenInContextUpsellBannerAt=e===void 0?null:e}),t===void 0?t=nv.getState().inContextUpsellBannerPeriodStartAt:nv.setState(i=>{i.inContextUpsellBannerPeriodStartAt=t===void 0?null:t}),n===void 0?n=rv.getState().inContextUpsellBannerPeriodExposureCount:rv.setState(i=>{i.inContextUpsellBannerPeriodExposureCount=n===void 0?null:n}),r===void 0?r=sv.getState().inContextUpsellBannerInteractedInPeriod:sv.setState(i=>{i.inContextUpsellBannerInteractedInPeriod=r===void 0?null:r}),s===void 0?s=av.getState().inContextUpsellBannerLastSeenId:av.setState(i=>{i.inContextUpsellBannerLastSeenId=s===void 0?null:s});const a={lastSeenInContextUpsellBannerAt:e?String(L2(e)):null,inContextUpsellBannerPeriodStartAt:t?String(L2(t)):null,inContextUpsellBannerPeriodExposureCount:n,inContextUpsellBannerInteractedInPeriod:r,inContextUpsellBannerLastSeenId:s};localStorage.setItem(we.O3MiniHighInContextUpsellBanner,JSON.stringify(a))}function dc(){const e=localStorage.getItem(we.O3MiniHighInContextUpsellBanner);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function lve(){const e=dc()?.lastSeenInContextUpsellBannerAt;return e?ug(Number(e)):null}function Uk(){const e=dc()?.inContextUpsellBannerPeriodStartAt;return e?ug(Number(e)):null}function Hk(){return dc()?.inContextUpsellBannerPeriodExposureCount??null}function cve(){return dc()?.inContextUpsellBannerInteractedInPeriod??null}function Vk(){return dc()?.inContextUpsellBannerLastSeenId??null}const GLe=({actions:e,title:t,description:n,onDismiss:r,onInteract:s})=>{const a=L(),i=e?.primaryAction?.text?a.formatMessage(e.primaryAction.text):void 0,l=e?.secondaryAction?.text?a.formatMessage(e.secondaryAction.text):void 0;return o.jsx(rn,{title:t,content:n?o.jsx("div",{dangerouslySetInnerHTML:{__html:n}}):null,onDismiss:()=>{s?.(),r?.()},primaryCtaText:i,onPrimaryCtaClick:()=>{s?.(),e?.primaryAction?.onClick?.()},secondaryCtaText:l,onSecondaryCtaClick:()=>{s?.(),e?.secondaryAction?.onClick?.()},isElevated:!0})};function WLe(e){return e.shouldRender?o.jsx(uve,{...e}):null}function uve({contentArea:e,children:t}){const{store:n}=K7e(),r=u.useRef(null);return n.useContentAreaResizeObserver(e,r),o.jsx("div",{ref:r,className:N("relative h-full w-full"),children:t})}let n2="",iv="",vi;const be={logProductEvent(e,t){const n={referrals_session_id:n2,program_name:iv,...vi?{is_referrer:vi}:{},...t??{}};E.logEvent(e,n)},logAnnouncementProductEvent(e,t){E.logEvent(e,t)},createNewSession(e,t=void 0){n2=Fp(),iv=e,vi=t},logShowReferralDiscount(e,t){be.createNewSession(e,t),Q.count(K.REFERRALS,"referrals.web.showReferralDiscount"),be.logProductEvent(_.referralsShowReferralDiscount)},logShowReferralLinkGenerationModal(e){be.createNewSession(e,!0),Q.count(K.REFERRALS,"referrals.web.showReferralLinkGenerationModal"),be.logProductEvent(_.referralsShowReferralLinkGenerationModal)},logClickReferralGetLinkButton(){Q.count(K.REFERRALS,"referrals.web.clickReferralGetLinkButton"),be.logProductEvent(_.referralsClickReferralGetLinkButton)},logCopyReferralLink(){Q.count(K.REFERRALS,"referrals.web.copyReferralLinkSuccess"),be.logProductEvent(_.referralsCopyReferralLink)},logClickReferrerIntroNotNowButton(){Q.count(K.REFERRALS,"referrals.web.clickReferrerIntroNotNowButton"),be.logProductEvent(_.referralsClickReferrerIntroNotNowButton)},logShowReferrerConclusion(){Q.count(K.REFERRALS,"referrals.web.showReferrerConclusion"),be.logProductEvent(_.referralsShowReferrerConclusion)},logClickUpgradeButton(e){const t=[{key:"is_paying_user",value:e?"true":"false"}];vi!==void 0&&t.push({key:"is_referrer",value:vi?"true":"false"}),Q.count(K.REFERRALS,"referrals.web.clickUpgradeButton",t),be.logProductEvent(_.referralsClickUpgradeButton,{is_paying_user:e})},logReferralDiscountContinue(){Q.count(K.REFERRALS,"referrals.web.referralDiscountContinue"),be.logProductEvent(_.referralsReferralDiscountContinue)},logClose(e){Q.count(K.REFERRALS,"referrals.web.close",[{key:"source",value:e}]),E.logEvent(_.referralsClose,{referrals_session_id:n2,source:e})},logClickValidateEmail(){Q.count(K.REFERRALS,"referrals.web.clickValidateEmail"),be.logProductEvent(_.referralsClickValidateEmail)},logValidateEmailSuccess(){Q.count(K.REFERRALS,"referrals.web.validateEmailSuccess")},logValidateEmailFailure(){Q.count(K.REFERRALS,"referrals.web.validateEmailFailure")},logSendVerificationCode(){Q.count(K.REFERRALS,"referrals.web.sendVerificationCode"),be.logProductEvent(_.referralsSendVerificationCode)},logClickResendVerificationCodeButton(){Q.count(K.REFERRALS,"referrals.web.resendVerificationCode"),be.logProductEvent(_.referralsClickResendVerificationCodeButton)},logClickChangeEmailButton(){Q.count(K.REFERRALS,"referrals.web.changeEmail"),be.logProductEvent(_.referralsClickChangeEmailButton)},logClickValidateVerificationCode(){Q.count(K.REFERRALS,"referrals.web.validateVerificationCode"),be.logProductEvent(_.referralsClickValidateVerificationCode)},logValidateVerificationCodeSuccess(){Q.count(K.REFERRALS,"referrals.web.validateVerificationCodeSuccess")},logValidateVerificationCodeFailure(){Q.count(K.REFERRALS,"referrals.web.validateVerificationCodeFailure")},logApplyDiscount(){Q.count(K.REFERRALS,"referrals.web.applyDiscount"),be.logProductEvent(_.referralsApplyDiscount)},logMobileSubscriptionTooltipOpen(){Q.count(K.REFERRALS,"referrals.web.mobileSubscriptionTooltipOpen"),be.logProductEvent(_.referralsShowMobileSubscriptionTooltip)},logShowReferralUpsellAnnouncementBanner(){Q.count(K.REFERRALS,"referrals.web.showReferralUpsellAnnouncementBanner"),be.logAnnouncementProductEvent(_.referralsShowReferralUpsellAnnouncementBanner)},logShowReferrerRedemptionBanner(){Q.count(K.REFERRALS,"referrals.web.showReferrerRedemptionBanner"),be.logAnnouncementProductEvent(_.referralsShowReferrerRedemptionBanner)},logShowRefereeRedemptionBanner(e){Q.count(K.REFERRALS,"referrals.web.showRefereeRedemptionBanner"),be.logAnnouncementProductEvent(_.referralsShowRefereeRedemptionBanner,{referral_code:e})},logClickReferralUpsellButton(){Q.count(K.REFERRALS,"referrals.web.clickReferralUpsellButton"),be.logProductEvent(_.referralsClickReferralUpsellButton)},logClickReferrerRedeemButton(){Q.count(K.REFERRALS,"referrals.web.clickReferrerRedeemButton"),be.logProductEvent(_.referralsClickReferrerRedeemButton)},logClickRefereeRedeemButton(e){Q.count(K.REFERRALS,"referrals.web.clickRefereeRedeemButton"),be.logProductEvent(_.referralsClickRefereeRedeemButton,{referral_code:e})},logCloseReferralUpsellAnnouncementBanner(){Q.count(K.REFERRALS,"referrals.web.closeReferralUpsellAnnouncementBanner"),be.logAnnouncementProductEvent(_.referralsCloseReferralUpsellAnnouncementBanner)},logCloseReferrerRedemptionBanner(){Q.count(K.REFERRALS,"referrals.web.closeReferrerRedemptionBanner"),be.logAnnouncementProductEvent(_.referralsCloseReferrerRedemptionBanner)},logCloseRefereeRedemptionBanner(e){Q.count(K.REFERRALS,"referrals.web.closeRefereeRedemptionBanner"),be.logAnnouncementProductEvent(_.referralsCloseRefereeRedemptionBanner,{referral_code:e})}};function Gk(e=!0){return ee({queryKey:["referral-upsell-announcement"],queryFn:async()=>await cl.getUpsellAnnouncementBannerInfo(),enabled:e})}class cl{static async getReferralProgramMetadata(t){return j.safeGet("/referrals/{program_name}",{parameters:{path:{program_name:t}},anonAware:!0})}static async getReferralCodeMetadata(t){return j.safeGet("/referrals/{referral_code}/metadata",{parameters:{path:{referral_code:t}},anonAware:!0})}static async createStudentReferralCode(t,n,r){const s={user_id:n,email:r};return j.safePost("/referrals/{school_slug}/create",{parameters:{path:{school_slug:t}},requestBody:s})}static async createReferralCode(t){return j.safePost("/referrals/create_referral_code",{requestBody:{transaction_id:t}})}static async getEnrollmentDetails(){return j.safeGet("/referrals/enrollment_details")}static async validateEmail(t,n){return j.safePost("/referrals/validate_email",{requestBody:{email:t,program_name:n}})}static async sendVerificationCode(t){return j.safePost("/referrals/send_verification_code",{requestBody:{transaction_id:t}})}static async validateVerificationCode(t,n){return j.safePost("/referrals/validate_verification_code",{requestBody:{transaction_id:t,verification_code:n}})}static async redeemReferral(t,n){return j.safePost("/referrals/{referral_code}/redeem",{parameters:{path:{referral_code:t}},requestBody:{transaction_id:n}})}static async getReferralDiscount(){return j.safeGet("/referrals/available_referral_discount")}static async getUpsellAnnouncementBannerInfo(){return j.safeGet("/referrals/upsell_announcement_banner_info")}static async getIsEligibleForReferrals(){return j.safeGet("/referrals/is_eligible_for_referrals")}static async trackRefereeSignup(t){return j.safePost("/referrals/track_referral_signup",{parameters:{query:{referral_code:t}}})}}function zLe(e){returnwindow.location.host+`/redeem/${e}`}function dve(e){return`/?code=${e}#referrals`}function qLe(e){return`/?code=${e}&fromSignup#referrals`}function ZLe(e){return e.currency_code==Sl?lo:e.currency_code==Ml?io:oo}function YLe(e,t,n){return e.formatNumber(t||0,{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:2})}function fve(e){return`/?program=${e}#referrals`}function KLe(e){return`/refer/${e}`}function QLe(){const e=Te(),{data:t}=Gk(),{markAsViewed:n}=le(me.hasSeenReferralUpsellAnnouncement);u.useEffect(()=>{t&&t.info&&be.logShowReferralUpsellAnnouncementBanner()},[t]);const r=t?.info;return r?o.jsx(rn,{title:o.jsx(C,{id:"referralUpsellAnnouncementBanner.title",defaultMessage:"Get up to 12 free months of Plus when you refer classmates"}),content:o.jsx(C,{id:"referralUpsellAnnouncementBanner.content",defaultMessage:"Refer a friend to sign up for ChatGPT, and youll both get a $20 credit."}),primaryCtaText:o.jsx(C,{id:"referralUpsellAnnouncementBanner.primaryCtaText",defaultMessage:"Invite"}),onDismiss:()=>{n(),be.logCloseReferralUpsellAnnouncementBanner()},onPrimaryCtaClick:async()=>{n(),be.logClickReferralUpsellButton(),e(fve(r.program_name))}}):null}const XLe=e=>{const{data:t,isLoading:n}=ee({enabled:!!e,queryKey:["referralMetadata",e],queryFn:async()=>cl.getReferralProgramMetadata(e)}),r=t,s=r?.metadata?.program_name??e??null,a=r?.ineligible_reason&&(r&&!r.is_eligible?r.ineligible_reason??null:null);return{isEligible:r?.is_eligible??!1,referralMetadata:r?.metadata??null,programName:s,isReferralLoading:n,referralCode:r?.referral_code??null,transactionId:r?.transaction_id??null,referralError:a}},mve=(e,t)=>{const{data:n,isLoading:r}=ee({enabled:!!e,queryKey:["referralMetadata",e,t],queryFn:async()=>e?(t&&await cl.trackRefereeSignup(e),cl.getReferralCodeMetadata(e)):{metadata:null,is_referrer:!1,ineligible_reason:null,should_forward_to_checkout:!1}}),s=n,a=s?.metadata?.program_name??null;return{shouldForwardToCheckout:s?.should_forward_to_checkout??!1,isReferrer:s?.is_referrer??!1,ineligibleReason:s?.ineligible_reason??null,referralMetadata:s?.metadata??null,programName:a,isReferralLoading:r}},Wk=me.hasDismissedRefereeRedemption,zk=()=>{const{eligible:e}=le(Wk),{referralCode:t,discountValue:n,discountDuration:r}=pve();return{shouldShowBanner:e&&t&&n&&r,referralCode:t,discountValue:n,discountDuration:r}},pve=()=>{const e=Et.getItem(we.ReferralCode),{referralMetadata:t}=mve(e,!1);return{referralCode:e,discountValue:t?.discount,discountDuration:t?.duration}},JLe=()=>{const{value:e}=qe("727502549"),{value:t}=qe("550432558"),{shouldShowBanner:n}=zk();return e&&t&&n};function eOe(){const e=L(),t=Te(),{markAsViewed:n}=le(Wk),{shouldShowBanner:r,referralCode:s,discountValue:a,discountDuration:i}=zk();if(u.useEffect(()=>{r&&s&&a&&i&&be.logShowRefereeRedemptionBanner(s)},[r,s,a,i]),!r||!a||!i)return null;const l=gve(e,a,i);return o.jsx(rn,{onPrimaryCtaClick:()=>{n(),be.logClickRefereeRedeemButton(s),Et.removeItem(we.ReferralCode),t(dve(s))},primaryCtaText:o.jsx(C,{id:"refereeRedemptionBannerPrimaryCta",defaultMessage:"Redeem"}),onDismiss:()=>{n(),be.logCloseRefereeRedemptionBanner(s),Et.removeItem(we.ReferralCode)},title:l,content:o.jsx(C,{id:"xoQacW",defaultMessage:"Verify you are a student to get your first month of Plus for free."})})}function gve(e,t,n){const{currencySymbol:r}=Jo(uc(),t.currency_code),s=r.code.defaultMessage?.toString()??Er,a=e.formatNumber(t.value,{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2});return t.value===O5?o.jsx(C,{id:"refereeRedemptionFree",defaultMessage:"Finish redeeming your free month of Plus"}):o.jsx(C,{id:"refereeRedemptionDiscount",defaultMessage:"Get ChatGPT Plus for {discount} off for the {months, plural, one {first month} other {first # months}}.",values:{discount:a,months:n.num_periods}})}async function hve(e,t,n,r,s,a){E.logEvent(_.accountPayPaymentCheckoutClicked,s),$.logEvent("chatgpt_account_payment_modal_upgrade_button_click",mr.PLUS);const i=await fe.getCheckoutLink(e,"ProducePlus",{plan_name:"chatgptplusplan",billing_details:r,...a&&{student_verification_id:a}});E.logEvent(_.accountPayNavigatingToPaymentCheckout,{...s,url:i.url}),$.logEvent("chatgpt_account_payment_modal_navigating_to_checkout",mr.PLUS,{url:i.url}),window.location.href=i.url}const vve=e=>{const{data:t,isLoading:n}=ee({queryKey:["referralDiscount",e],queryFn:async()=>e?await cl.getReferralDiscount():{discount:null}});return{discount:t?.discount??null,isDiscountLoading:n}},qk=me.hasDismissedReferrerRedemption,Zk=()=>{const{eligible:e}=le(qk),{discount:t,isDiscountLoading:n}=vve(e);return{shouldShowBanner:e&&t&&!n,discountValue:t?.value,discountDuration:t?.duration}},tOe=()=>{const{value:e}=qe("727502549"),{value:t}=qe("550432558"),{value:n}=qe("810701024"),{shouldShowBanner:r}=Zk();return e&&t&&n&&r},yd="month",Yk="year";function nOe(){const e=yn(),t=L(),n=Be(),{markAsViewed:r}=le(qk),{initialBillingDetails:s}=Ik(e,!0),a=u.useMemo(()=>({...e?.subscriptionAnalyticsParams,referrer:document.referrer}),[e]);async function i(){try{await hve(e?.features??[],t,n,s,a)}catch{}}const{shouldShowBanner:l,discountValue:c,discountDuration:d}=Zk();if(u.useEffect(()=>{l&&c&&d&&be.logShowReferrerRedemptionBanner()},[l,c,d]),!l||!c||!d)return null;const f=xve(t,s,c,d),m=Cve(t,s,c,d),p=o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:f}),o.jsx("span",{className:"text-token-text-secondary",children:m})]});return o.jsx(rn,{onPrimaryCtaClick:()=>{r(),be.logClickReferrerRedeemButton(),i()},primaryCtaText:o.jsx(C,{id:"referrerRedemptionBannerPrimaryCta",defaultMessage:"Get Plus"}),onDismiss:()=>{r(),be.logCloseReferrerRedemptionBanner()},content:p})}function xve(e,t,n,r){const{currencySymbol:s}=Jo(uc(),t.currency),a=r?r.period:yd,i=r?r.num_periods:1,l=s.code.defaultMessage?.toString()??Er,c=e.formatNumber(n.value,{style:"currency",currency:l,minimumFractionDigits:0,maximumFractionDigits:2});let d;return a===yd?d=i===1?o.jsx(C,{id:"referrerRedemptionBannerTitleForSingleMonth",defaultMessage:"Your {discount} credit is ready",values:{discount:c}}):o.jsx(C,{id:"referrerRedemptionBannerTitleForPluralMonths",defaultMessage:"Redeem your {discount} referral reward",values:{discount:c}}):a===Yk&&(d=i===1?o.jsx(C,{id:"referrerRedemptionBannerTitleForSingleYear",defaultMessage:"Redeem your {discount} referral reward",values:{discount:c}}):o.jsx(C,{id:"referrerRedemptionBannerTitleForPluralYears",defaultMessage:"Redeem your {discount} referral reward",values:{discount:c}})),d}function Cve(e,t,n,r){const{currencySymbol:s}=Jo(uc(),t.currency),a=r?r.period:yd,i=r?r.num_periods:1,l=s.code.defaultMessage?.toString()??Er,c=e.formatNumber(n.value,{style:"currency",currency:l,minimumFractionDigits:0,maximumFractionDigits:2});let d;return a===yd?d=i===1?o.jsx(C,{id:"referrerRedemptionBannerContentForSingleMonth",defaultMessage:"Your referral link was used  claim your free month of Plus."}):o.jsx(C,{id:"referrerRedemptionBannerContentForPluralMonths",defaultMessage:"Your referral link earned you {discount} off {num_months} months of Plus.",values:{discount:c,num_months:i}}):a===Yk&&(d=i===1?o.jsx(C,{id:"referrerRedemptionBannerContentForSingleYear",defaultMessage:"Your referral link earned you {discount} off a year of Plus.",values:{discount:c}}):o.jsx(C,{id:"referrerRedemptionBannerContentForPluralYears",defaultMessage:"Your referral link earned you {discount} off {num_years} years of Plus.",values:{discount:c,num_years:i}})),d}const rOe="redirectedFromAuth",sOe="studentsPromotion";function lv(e){return e?`/students?${e}=true`:"/students"}function aOe(){const e=Te(),{markAsViewed:t}=le(me.hasSeenStudentsUpsellAnnouncement);return o.jsx(rn,{title:o.jsx(C,{id:"GA5kGX",defaultMessage:"Students can claim 2 months of Plus, free."}),content:o.jsx(C,{id:"WOGB1g",defaultMessage:"Get access to premium features when you verify youre a student in the US or Canada. {learnMoreLink}",values:{learnMoreLink:o.jsx("span",{className:"underline",children:o.jsx(nn,{to:lv(),children:o.jsx(C,{id:"0cZpUc",defaultMessage:"Learn more"})})})}}),primaryCtaText:o.jsx(C,{id:"uA26i5",defaultMessage:"Learn More"}),onPrimaryCtaClick:()=>{e(lv()),t()},onDismiss:()=>{t()}})}function oOe(){const{layer:e}=ot("3637408529");return e.get("is_secondary_auth_banner_button_enabled",!1)}const iOe={MessageAction:"z-10",ScrollToBottom:"z-10",PromptTextareaHeader:"z-20"},lOe=({icons:e,size:t})=>o.jsx("div",{className:"flex items-center",children:e.map((n,r)=>o.jsx("div",{className:"border-1 box-content rounded-full border bg-white",style:{marginLeft:r===0?0:-t/2,zIndex:e.length-r,width:t,height:t,padding:t/4},children:n},r))}),Kk=me.hasSeenCustomizeChatGPTAnnouncement;function cOe(){u.useEffect(()=>{Q.count(K.CUSTOMIZE_CHATGPT,"nux.shown"),E.logEventWithStatsig(_.customizeChatgptAnnouncementShown,"chatgpt_customize_announcement_shown")},[]);const{markAsViewed:e}=le(Kk);return o.jsx(rn,{onSecondaryCtaClick:()=>{Q.count(K.CUSTOMIZE_CHATGPT,"nux.cta_clicked"),E.logEventWithStatsig(_.customizeChatgptAnnouncementClicked,"chatgpt_customize_announcement_clicked"),pt.openModal(un.UserContext),e()},secondaryCtaText:o.jsx(C,{id:"Zk+zR4",defaultMessage:"Customize"}),onDismiss:()=>{Q.count(K.CUSTOMIZE_CHATGPT,"nux.close_clicked"),E.logEventWithStatsig(_.customizeChatgptAnnouncementClosed,"chatgpt_customize_announcement_closed"),e()},content:o.jsxs("div",{className:"flex-grow",children:[o.jsx(v5,{className:"icon-md mr-2 inline-block"}),o.jsx("span",{className:"mt-4 font-semibold text-token-text-secondary",children:o.jsx(C,{id:"zdy4CW",defaultMessage:"Customize ChatGPT's responses so it's just right for you."})})]})})}function uOe(){const{eligible:e,isLoading:t}=le(Kk),{layer:n}=ot("3206655705"),{layer:r}=ml("190694971");if(!n.get("enable_new_ux",!1))return!1;const a=r.get("show_nux",!1);return e&&!t&&a}function yve({isOpen:e,onClose:t,markAsViewed:n}){const r=L();return o.jsx(he,{isOpen:e,onClose:t,showCloseButton:!0,size:"custom",type:"success",className:"max-w-xl",title:r.formatMessage({id:"MoonshineAlphaAnnouncement.title",defaultMessage:"You're testing memory improvements"}),footerContent:o.jsxs("div",{className:"ml-1 mt-4 flex w-full justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(jU,{className:"icon-md mr-1 inline-block text-token-text-secondary"}),o.jsx("a",{href:"https://help.openai.com/en/articles/10303002-how-does-memory-use-past-conversations",target:"_blank",rel:"noopener noreferrer",onClick:()=>{n&&n(),t()},className:"font-medium text-token-text-secondary",children:r.formatMessage({id:"MoonshineAlphaAnnouncement.secondaryButton",defaultMessage:"Learn more"})})]}),o.jsx("div",{children:o.jsx(Ve.Button,{title:r.formatMessage({id:"MoonshineAlphaAnnouncement.primaryButton",defaultMessage:"Got it"}),color:"secondary",className:"text-base",onClick:t})})]}),children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx(_5,{className:"icon-lg mr-3 mt-1 inline-block text-token-text-secondary"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:o.jsx(C,{id:"MoonshineAlphaAnnouncement.chatTitle",defaultMessage:"ChatGPT now uses all past chats"})}),o.jsx("span",{className:"font-normal text-token-text-secondary",children:o.jsx(C,{id:"MoonshineAlphaAnnouncement.chatText",defaultMessage:"All past chats will inform responses, not just saved memories."})})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(cc,{className:"icon-lg mr-3 mt-1 inline-block text-token-text-secondary"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:o.jsx(C,{id:"MoonshineAlphaAnnouncement.optInTitle",defaultMessage:"You're in control"})}),o.jsx("span",{className:"font-normal text-token-text-secondary",children:o.jsx(C,{id:"MoonshineAlphaAnnouncement.optInText",defaultMessage:"Use temporary chats for topics you don't want remembered."})})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(u0e,{className:"icon-lg mr-3 mt-1 inline-block text-token-text-secondary"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:o.jsx(C,{id:"MoonshineAlphaAnnouncement.optOutText",defaultMessage:"Opt out any time"})}),o.jsx("span",{className:"font-normal text-token-text-secondary",children:o.jsx(C,{id:"MoonshineAlphaAnnouncement.settingsLink",defaultMessage:"Visit {settingsLink} to turn off improved memory.",values:{settingsLink:o.jsx("a",{href:"#settings/Personalization",onClick:()=>{n&&n()},className:"underline",children:o.jsx(C,{id:"MoonshineAlphaAnnouncement.settingsLinkWord",defaultMessage:"Settings"})})}})})]})]})]})})}const F5=me.hasSeenMoonshineNux;function dOe(){const[e,t]=u.useState(!1),{markAsViewed:n}=le(F5),r=()=>{t(!0)},s=()=>{t(!1)};return u.useEffect(()=>{Q.count(K.MOONSHINE,"nux.shown"),E.logEventWithStatsig(_.chatgptMoonshineAnnouncementShown,"chatgpt_moonshine_announcement_shown")},[]),o.jsxs(o.Fragment,{children:[o.jsx(rn,{onSecondaryCtaClick:()=>{r(),Q.count(K.MOONSHINE,"announcement.learn_more_clicked"),E.logEventWithStatsig(_.chatgptMoonshineAnnouncementCTAClicked,"chatgpt_moonshine_announcement_cta_clicked")},secondaryCtaText:o.jsx(C,{id:"MoonshineAnnouncement.secondaryCtaText",defaultMessage:"Learn more"}),onDismiss:()=>{Q.count(K.MOONSHINE,"announcement.close_clicked"),E.logEventWithStatsig(_.chatgptMoonshineAnnouncementClosed,"chatgpt_moonshine_announcement_closed"),n()},content:o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[o.jsx(C,{id:"MoonshineAnnouncement.heading",defaultMessage:"You're testing memory improvements"}),o.jsx(Lm,{})]}),o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(C,{id:"MoonshineAnnouncement.description",defaultMessage:"ChatGPT can now reference past chats, not just saved memories."})})]})}),e&&o.jsx(yve,{isOpen:e,markAsViewed:n,onClose:()=>{s(),n()}})]})}function fOe(){const e=pf(),{eligible:t,isLoading:n}=le(F5);return e&&t&&!n}function mOe(){const e=pf(),{markAsViewed:t,eligible:n}=le(F5);return()=>{!e||!n||(Q.count(K.MOONSHINE,"nux.implicit_close"),t())}}function pOe({label:e,onClick:t,disabled:n=!1,icon:r,rightIcon:s}){return o.jsxs("button",{className:"group relative flex h-[42px] items-center gap-1.5 rounded-full border border-token-border-light px-3 py-2 text-start text-[13px] transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]",disabled:n,onClick:t,children:[r,o.jsx("span",{className:"max-w-full select-none whitespace-nowrap text-gray-600 transition group-hover:text-token-text-primary dark:text-gray-500",children:e}),s]})}function gOe(){const e=L();return o.jsx(G,{onClick:()=>{pt.openModal(un.SharedConversationModeration)},className:"w-1/3",children:e.formatMessage({id:"thread.sharedConversation.moderate",defaultMessage:"Moderate conversation"})})}var bve=Id,wve=u8;function Sve(e,t,n){(n!==void 0&&!wve(e[t],n)||n===void 0&&!(t in e))&&bve(e,t,n)}var Qk=Sve,Mve=Nd,_ve=Qd;function Eve(e){return _ve(e)&&Mve(e)}var kve=Eve,Tve=wN,Ave=w8,Pve=Qd,Nve="[object Object]",jve=Function.prototype,Ive=Object.prototype,Xk=jve.toString,Rve=Ive.hasOwnProperty,Lve=Xk.call(Object);function Ove(e){if(!Pve(e)||Tve(e)!=Nve)return!1;var t=Ave(e);if(t===null)return!0;var n=Rve.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Xk.call(n)==Lve}var Jk=Ove;const hOe=ue(Jk);function Dve(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var eT=Dve,Fve=oc,$ve=Kd;function Bve(e){return Fve(e,$ve(e))}var Uve=Bve,cv=Qk,Hve=B_,Vve=H_,Gve=U_,Wve=V_,uv=Yv,dv=fl,zve=kve,qve=_8,Zve=SN,Yve=ra,Kve=Jk,Qve=MN,fv=eT,Xve=Uve;function Jve(e,t,n,r,s,a,i){var l=fv(e,n),c=fv(t,n),d=i.get(c);if(d){cv(e,n,d);return}var f=a?a(l,c,n+"",e,t,i):void 0,m=f===void 0;if(m){var p=dv(c),g=!p&&qve(c),v=!p&&!g&&Qve(c);f=c,p||g||v?dv(l)?f=l:zve(l)?f=Gve(l):g?(m=!1,f=Hve(c,!0)):v?(m=!1,f=Vve(c,!0)):f=[]:Kve(c)||uv(c)?(f=l,uv(l)?f=Xve(l):(!Yve(l)||Zve(l))&&(f=Wve(c))):m=!1}m&&(i.set(c,f),s(f,c,r,a,i),i.delete(c)),cv(e,n,f)}var e8e=Jve,t8e=M8,n8e=Qk,r8e=sx,s8e=e8e,a8e=ra,o8e=Kd,i8e=eT;function tT(e,t,n,r,s){e!==t&&r8e(t,function(a,i){if(s||(s=new t8e),a8e(a))s8e(e,t,i,n,tT,r,s);else{var l=r?r(i8e(e,i),a,i+"",e,t,s):void 0;l===void 0&&(l=a),n8e(e,i,l)}},o8e)}var l8e=tT,c8e=eS,u8e=tS;function d8e(e){return c8e(function(t,n){var r=-1,s=n.length,a=s>1?n[s-1]:void 0,i=s>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(s--,a):void 0,i&&u8e(n[0],n[1],i)&&(a=s<3?void 0:a,s=1),t=Object(t);++r<s;){var l=n[r];l&&e(t,l,r,a)}return t})}var f8e=d8e,m8e=l8e,p8e=f8e,g8e=p8e(function(e,t,n){m8e(e,t,n)}),h8e=g8e;const $5=ue(h8e);function nT({className:e,...t}){return o.jsx("textarea",{className:N("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",e),...t})}const v8e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.8221 2.07733C10.7784 0.380718 13.2216 0.380718 14.1779 2.07733L16.2635 5.77769C16.3349 5.90428 16.4578 5.99357 16.6002 6.02231L20.764 6.86243C22.6731 7.24763 23.4281 9.57124 22.11 11.005L19.2352 14.1321C19.1369 14.239 19.09 14.3835 19.1066 14.5279L19.5943 18.7475C19.8179 20.6821 17.8413 22.1182 16.0704 21.3077L12.2081 19.54C12.0759 19.4795 11.924 19.4795 11.7919 19.54L7.92953 21.3077C6.15864 22.1182 4.18206 20.6821 4.40565 18.7475L4.89332 14.5279C4.91 14.3835 4.86306 14.239 4.76472 14.1321L1.88997 11.005C0.571908 9.57124 1.32689 7.24763 3.23598 6.86243L7.39974 6.02231C7.54218 5.99357 7.66507 5.90428 7.73642 5.77769L9.8221 2.07733Z",fill:"currentColor"}));function x8e(e,t){const n=e??t??0;return N(e!=null&&e!=t&&"opacity-50 dark:opacity-60",n>4?"text-brand-purple":n>3?"text-green-500":n>2?"text-yellow-500":n>1?"text-orange-500":"text-red-500")}function C8e(e){switch(e){case 1:return sn.hoverRating1;case 2:return sn.hoverRating2;case 3:return sn.hoverRating3;case 4:return sn.hoverRating4;case 5:return sn.hoverRating5}}function y8e(e){return ee({queryFn:async()=>Ke.getUserReview(e),queryKey:["gizmo","review",{gizmoId:e}],enabled:e!=null})}const b8e=({rating:e,onRating:t,className:n})=>{const[r,s]=u.useState(),a=L();return o.jsx("div",{className:N("flex flex-row",n),children:[1,2,3,4,5].map(i=>{const l=o.jsx(v8e,{className:N("icon-2xl cursor-pointer",(r??e??0)>=i?x8e(r,e):"text-token-main-surface-tertiary")}),c=C8e(r??0),d=c&&a.formatMessage(c);return o.jsx("div",{onClick:()=>{t(i)},onMouseEnter:()=>{s(i)},onMouseLeave:()=>{s(void 0)},className:"p-1",children:c?o.jsx(et,{label:d,side:"top",sideOffset:4,children:l}):l},i)})})},vOe=({gizmo:e})=>Vp(un.GPTReview)?o.jsx(w8e,{gizmo:e}):null,w8e=({gizmo:e})=>{const t=wn(),n=L(),r=Be(),[s,a]=u.useState(""),[i,l]=u.useState(!1),[c,d]=u.useState(),f=y8e(e.gizmo.id),m=JO(e.gizmo.id),p=c===f.data?.rating,g=()=>pt.closeModal(un.GPTReview);u.useEffect(()=>{f.data!=null&&c==null&&d(f.data.rating)},[f.data,c]),u.useEffect(()=>{E.logEvent(_.showRatingModal,{gizmo_id:e.gizmo.id})},[e.gizmo.id]);const v=f.data!=null,h=!e.gizmo.tags?.includes(N2.FirstParty)&&e.gizmo.author.will_receive_support_emails,x=e.gizmo.tags?.includes(N2.Workspace);return o.jsx(he,{type:"success",title:o.jsxs("div",{children:[o.jsx(C,{...sn.title}),o.jsxs("div",{className:"align-end mt-2 flex text-sm font-normal",children:[v?o.jsx(C,{...sn.subtitleChange}):o.jsx(C,{...sn.subtitle}),o.jsx(et,{label:n.formatMessage(x?sn.subtitleTooltipPrivate:sn.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:o.jsx("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:g,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:o.jsxs("div",{className:"flex flex-grow flex-col space-y-8",children:[o.jsx(b8e,{rating:c,onRating:d,className:"mx-auto flex flex-row items-center"}),h&&o.jsxs("div",{children:[o.jsx(nT,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:n.formatMessage(sn.messagePlaceholder),value:s,rows:1,onChange:y=>a(y.target.value)}),o.jsxs("div",{className:N("flex flex-row items-center space-x-2 self-start",s.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[o.jsx("input",{type:"checkbox",className:"rounded",checked:i,onChange:y=>l(y.target.checked)}),t&&o.jsx("span",{className:"text-sm",children:o.jsx(C,{...sn.includeFrom,values:{email:o.jsx("strong",{children:t.email})}})})]})]}),o.jsx(G,{color:"primary",disabled:p,onClick:async()=>{if(c==null){r.warning("Please select a rating");return}E.logEvent(_.submitRatingModal,{gizmo_id:e.gizmo.id,rating:c}),await m.mutateAsync({rating:c,message:s.length>0?s:void 0,includeFrom:s.length>0?i:void 0}),r.success(n.formatMessage(sn.successToast),{duration:3}),g()},children:o.jsx(C,{...sn.submit})})]})})},sn=U({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},subtitleTooltipPrivate:{id:"GizmoReviewModal.subtitleTooltipPrivate",defaultMessage:"Stars are anonymous and will only be visible to your workspace"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}}),rT=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6C12.5523 6 13 6.44772 13 7V12C13 12.2652 12.8946 12.5196 12.7071 12.7071L10.2071 15.2071C9.81658 15.5976 9.18342 15.5976 8.79289 15.2071C8.40237 14.8166 8.40237 14.1834 8.79289 13.7929L11 11.5858V7C11 6.44772 11.4477 6 12 6Z",fill:"currentColor"})),xOe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4845 2.8798C16.1773 1.57258 14.0107 1.74534 12.9272 3.24318L9.79772 7.56923C9.60945 7.82948 9.30775 7.9836 8.98654 7.9836H6.44673C3.74061 7.9836 2.27414 11.6759 4.16948 13.5713L6.59116 15.993L2.29324 20.2909C1.90225 20.6819 1.90225 21.3158 2.29324 21.7068C2.68422 22.0977 3.31812 22.0977 3.70911 21.7068L8.00703 17.4088L10.4287 19.8305C12.3241 21.7259 16.0164 20.2594 16.0164 17.5533V15.0135C16.0164 14.6923 16.1705 14.3906 16.4308 14.2023L20.7568 11.0728C22.2547 9.98926 22.4274 7.8227 21.1202 6.51549L17.4845 2.8798ZM11.8446 18.4147C12.4994 19.0694 14.0141 18.4928 14.0141 17.5533V15.0135C14.0141 14.0499 14.4764 13.1447 15.2572 12.58L19.5832 9.45047C20.0825 9.08928 20.1401 8.3671 19.7043 7.93136L16.0686 4.29567C15.6329 3.85993 14.9107 3.91751 14.5495 4.4168L11.4201 8.74285C10.8553 9.52359 9.95016 9.98594 8.98654 9.98594H6.44673C5.5072 9.98594 4.93059 11.5006 5.58535 12.1554L11.8446 18.4147Z",fill:"currentColor"}));let ep=null;function COe(e){ep=e}function yOe(e){return ep?ep(e):e}const S8e=5,M8e=0;function bOe(e,t,n=[]){const[r,s]=u.useState(""),[a,i]=u.useState(!1),l=u.useRef(null),c=t?.interval??S8e,d=t?.startDelay??M8e,f=t?.enableStreaming??!0;return u.useEffect(()=>{if(!f)return;s(""),i(!0);const m=p=>{p<e.length?(s(e.slice(0,p+1)),l.current=setTimeout(()=>{m(p+1)},c)):i(!1)};return l.current=setTimeout(()=>{m(0)},d),()=>{l.current&&clearTimeout(l.current)}},[e,f,...n]),{displayedText:r,isStreaming:a}}const wOe={type:"spring",bounce:.1,duration:.3},SOe={type:"spring",bounce:.1,duration:.24},MOe={duration:1e-14};var _8e=Id,E8e=zp,k8e=jd;function T8e(e,t){var n={};return t=k8e(t),E8e(e,function(r,s,a){_8e(n,s,t(r,s,a))}),n}var A8e=T8e;const P8e=ue(A8e),N8e="77377267392",sT="AIzaSyAOHzpLbFWAcLwrOn1IvQeVd0jHRntTlPk";var Jr=(e=>(e.OneDrive_BUSINESS_DRIVE_ITEMS="https://graph.microsoft.com/v1.0/me/drive/items",e.OneDrive_BUSINESS_DRIVE_ROOT="https://graph.microsoft.com/v1.0/me/drive/root",e.OneDrive_BUSINESS_SHARES="https://graph.microsoft.com/v1.0/shares",e.OneDrive_PERSONAL_DRIVE_ITEMS="https://api.onedrive.com/v1.0/drives",e.OneDrive_PERSONAL_SHARES="https://api.onedrive.com/v1.0/shares",e))(Jr||{});const tp="open-connector";function _Oe(){const e=Te(),t=vs(),[n]=bn(),r=n.get(tp),s=u.useCallback(()=>{const i=new URLSearchParams(t.search);i.delete(tp),e({...t,search:i.toString()},{replace:!0})},[t,e]);return{connector:Object.values(R).find(i=>i===r),clearParam:s}}async function j8e(e,t,n,r){if(!t)return;n();let s="";r===Zn.Picker&&(s=`${tp}=${t.type}`),e??="/",s&&(e.includes("?")?e+=`&${s}`:e+=`?${s}`),v6e({id:t.id},x6e(r),`${window.location.origin}/ccc/${t.id}/oauth/callback`,e)}function I8e(e,t){e.access_token&&e.expires_at!=null&&e.expires_at*1e3<=Date.now()&&_t.expiredAccessTokenUsed(e.type,t)}function R8e(e,t,n,r,s,a,i,l){cn.uploadFile(e,ll(t),t,l??Ye.Retrieval,n,r,s,{gizmoId:i},a)}function L8e(e,t,n,r,s,a,i,l,c){let d=t.title;n===R.GDRIVE&&(d=t.syntheticExtension?`${t.title}.${t.syntheticExtension}`:t.title);const f=t.mimeType.split(";")[0],m=f.startsWith("image/");if(s?.includes(f)===!1||m&&!r.includes(f)){c.danger(l.formatMessage(O8e.unsupportedFileType,{fileName:d}),nd);return}cn.uploadFile(e,t.id,new File([],d,{type:f}),Ye.Retrieval,r,l,c,{gizmoId:i},a,{contextConnector:n,sourceUrl:t.url,syntheticExtension:t.syntheticExtension,type:Zn.Picker,o365DriveId:t.o365DriveId})}const O8e=U({unsupportedFileType:{id:"ContextConnectorUtils.unsupportedFileType",defaultMessage:"{fileName} is not a supported file type"}}),ei={uploadFile:R8e,uploadPickedFile:L8e,doContextConnectorOauthRedirect:j8e,logAttemptIfAccessTokenIsExpired:I8e};function EOe({composerController:e,parsedDocumentHandler:t}){const{gdriveLinkStatus:n,o365BusinessLinkStatus:r,o365PersonalLinkStatus:s}=K1();return n==="false"&&r==="false"&&s==="false"?null:o.jsx(D8e,{composerController:e,parsedDocumentHandler:t})}function D8e({composerController:e,parsedDocumentHandler:t}){const{connectorConfig:n}=wS();return u.useEffect(()=>{const r=()=>{const s=F8e(e,n);t(s)};return r(),e.subscribe("change",r)},[e,n,t]),null}function F8e(e,t){const n=e.getCurrentText(),r=[];for(const s of t.values())switch(s.type){case R.GITHUB_CONNECTOR:break;case R.GDRIVE_ACTION_CONNECTOR:break;case R.GDRIVE:{if(s.link_enabled??!0){const a=H8e(n,s);r.push(...a),s.access_token&&a.reduce((l,c)=>l.replace(c.url,""),n)!==n&&a.forEach(({url:l})=>e.replaceAll(l,""))}break}case R.O365:break;case R.O365_BUSINESS:{const a=J8e(n,s).filter(i=>i!=null);s.access_token&&a.forEach(({url:i})=>e.replaceAll(i,"")),r.push(...a);break}case R.O365_PERSONAL:{const a=z8e(n,s).filter(i=>i!=null);s.access_token&&a.forEach(({url:i})=>e.replaceAll(i,"")),r.push(...a);break}case R.CONFLUENCE:{const a=Z8e(n,s).filter(i=>i!=null);s.access_token&&a.forEach(({url:i})=>e.replaceAll(i,"")),r.push(...a);break}case R.JIRA:{const a=Q8e(n,s).filter(i=>i!=null);s.access_token&&a.forEach(({url:i})=>e.replaceAll(i,"")),r.push(...a);break}case R.NOTION_OPEN_CONNECTOR:{const a=lxe(n,s).filter(i=>i!=null);s.access_token&&a.forEach(({url:i})=>e.replaceAll(i,"")),r.push(...a);break}case R.SLACK_OPEN_CONNECTOR:{const a=nxe(n,s).filter(i=>i!=null);s.access_token&&a.forEach(({url:i})=>e.replaceAll(i,"")),r.push(...a);break}}return r.length&&_t.linkPasted(P8e(Jp(r,s=>s.type),s=>s.length)),r}const $8e=/\bhttps:\/\/docs\.google\.com\/(document|spreadsheets|presentation)\/d\/([\w-]+)\/?(?:(?:edit|view)\/?)?(?:\?[\w\-.~%=]*)?(?:#[\w\-.~%=]*)?/gm,B8e=/\bhttps:\/\/drive\.google\.com\/(file)\/d\/([\w-]+)\/?(?:(?:edit|view)\/?)?(?:\?[\w\-.~%=]*)?(?:#[\w\-.~%=]*)?/gm,U8e="https://www.googleapis.com/auth/drive.readonly";function H8e(e,t){return[...e.matchAll($8e),...e.matchAll(B8e)].map(n=>{const r={url:n[0],id:n[2],type:R.GDRIVE};return t.access_token&&t.scopes&&t.scopes.includes(U8e)?{...r,handler:{type:"fetch",tryFetch:async()=>{ei.logAttemptIfAccessTokenIsExpired(t,Zn.Link);const a=`https://www.googleapis.com/drive/v3/files/${r.id}?fields=name,mimeType`,i=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!i.ok)return Promise.reject(new Error(`HTTP ${i.status}`));const{name:l,mimeType:c}=await i.json(),d=mS(c);return{connector:R.GDRIVE,id:r.id,title:l,mimeType:c,url:r.url,syntheticExtension:d}}}}:{...r,handler:{type:"prompt",message:"not-connected"}}})}function aT(e){let t;try{t=new URL(e).toString()}catch{return null}return`u!${btoa(t).replaceAll("=","").replaceAll("/","_").replaceAll("+","-")}`}const V8e=/\bhttps:\/\/onedrive\.live\.com\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm,G8e=/\bhttps:\/\/photos\.onedrive\.com\/(?:share|photo)\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm,W8e=/\bhttps:\/\/1drv\.ms\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm;function z8e(e,t){return[...e.matchAll(V8e),...e.matchAll(W8e),...e.matchAll(G8e)].map(n=>{const r=aT(n[0]);if(!r)return null;const s={url:n[0],id:r,type:R.O365_PERSONAL};return t.access_token?{...s,handler:{type:"fetch",tryFetch:oT(Jr.OneDrive_PERSONAL_SHARES,r,t.access_token,t)}}:{...s,handler:{type:"prompt",message:"not-connected"}}})}const q8e=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/wiki\/spaces\/[^\s]+\/pages\/(\d+)\/([^\s]+)?/gm;function Z8e(e,t){return[...e.matchAll(q8e)].map(n=>{const r=n[1],s=n[2],a=n[3];if(!s)return null;const i={url:n[0],id:s,type:R.CONFLUENCE};return t.access_token?{...i,handler:{type:"fetch",tryFetch:async()=>{let l=a;return!a&&t.access_token&&(l=await axe(t.access_token,`https://${r}`,t,s)),{connector:t.type,id:s,title:l,mimeType:"text/html",url:i.url,syntheticExtension:null,manifest:{id:s,domain:r,type:_N.PAGE,manifest_type:R.CONFLUENCE}}}}}:{...i,handler:{type:"prompt",message:"not-connected"}}})}const Y8e=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/browse\/([^\s]+)\??/gm,K8e=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/jira\/(?:[^\s]+\/)*projects\/(?:[^\s]+\/)+(?:[^\s]+\/?)\?selectedIssue=([^\s]+)&?/gm;function Q8e(e,t){return[...e.matchAll(Y8e),...e.matchAll(K8e)].map(n=>{const r=n[1],s=n[2];if(!s||!r)return null;const a={url:n[0],id:s,type:R.JIRA};return t.access_token?{...a,handler:{type:"fetch",tryFetch:async()=>{const i=await oxe(t.access_token,`https://${r}`,t,s);return Promise.resolve({connector:t.type,id:s,title:i,mimeType:"text/markdown",url:a.url,syntheticExtension:null,manifest:{id_or_key:s,domain:r,manifest_type:R.JIRA}})}}}:{...a,handler:{type:"prompt",message:"not-connected"}}})}const X8e=/\bhttps:\/\/[^\s]+?\.sharepoint\.com\/[^\s]*/gm;function J8e(e,t){return[...e.matchAll(X8e)].map(n=>{const r=aT(n[0]),s=Jr.OneDrive_BUSINESS_SHARES;if(!r)return null;const a={url:n[0],id:r,type:R.O365_BUSINESS};return t.access_token?{...a,handler:{type:"fetch",tryFetch:oT(s,r,t.access_token,t)}}:{...a,handler:{type:"prompt",message:"not-connected"}}})}const exe=/\bhttps:\/\/(?<domain>[^\s]+?\.(?:enterprise\.)?slack\.com)\/archives\/(?<conversation_id>[^\s/]+)\/?\??$/gm,txe=/\bhttps:\/\/(?<domain>[^\s]+?\.(?:enterprise\.)?slack\.com)\/archives\/(?<conversation_id>[^\s/]+)\/p(?<message_id>[^\s?&]+)(?:\?(?:.*thread_ts=(?<thread_id>[^\s&]+)(?:&.*))?)?/gm;function nxe(e,t){return[...e.matchAll(txe),...e.matchAll(exe)].map(n=>{const r=n.groups?.domain;if(!r)throw new Error(`No domain found in match ${JSON.stringify(n)}`);const s=n.groups?.conversation_id;if(!s)throw new Error(`No conversation ID found in match ${JSON.stringify(n)}`);const a=n.groups?.message_id;let i=null;a&&(i=`${a.slice(0,10)}.${a.slice(10)}`);const l=n.groups?.thread_id??null;let c="Conversation",d=`conversation-${s}`;i?(c="Message",d=`message-${i}`):l?(c="Thread",d=`thread-${l}`):s[0]==="D"&&(c="Direct message");const f={id:d,url:n[0],domain:r,conversationId:s,messageId:i,threadId:l,type:R.SLACK_OPEN_CONNECTOR};return t.access_token?{...f,handler:{type:"fetch",tryFetch:async()=>t.access_token?Promise.resolve({connector:t.type,id:f.id,title:c,mimeType:"application/json",url:f.url,syntheticExtension:null,manifest:{conversation_id:f.conversationId,domain:f.domain,manifest_type:R.SLACK_OPEN_CONNECTOR,message_id:f.messageId,thread_id:l,type:EN.MESSAGE}}):Promise.reject(new Error("Not connected"))}}:{...f,handler:{type:"prompt",message:"not-connected"}}})}function oT(e,t,n,r,s){switch(e){case Jr.OneDrive_BUSINESS_SHARES:case Jr.OneDrive_PERSONAL_SHARES:return()=>r2(`${e}/${encodeURIComponent(t)}/driveItem`,n,r);case Jr.OneDrive_BUSINESS_DRIVE_ITEMS:return()=>r2(`${e}/${encodeURIComponent(t)}`,n,r);case Jr.OneDrive_BUSINESS_DRIVE_ROOT:return async()=>{const a=await rxe(n,t);if(!a)return Promise.reject(null);const i=`${e}:${encodeURIComponent(a)}`;return r2(i,n,r)};case Jr.OneDrive_PERSONAL_DRIVE_ITEMS:return()=>Promise.reject(null)}}async function rxe(e,t){const r=await fetch("https://graph.microsoft.com/v1.0/me/drive/root",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok)return null;const{webUrl:s}=await r.json(),i=new URL(s).pathname;return t.startsWith(i)?t.substring(i.length):t}async function r2(e,t,n,r){ei.logAttemptIfAccessTokenIsExpired(n,Zn.Link);const s=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok)return Promise.reject(new Error(`HTTP ${s.status}`));const{id:a,name:i,file:l,webUrl:c,...d}=await s.json();return r||(r=d.parentReference?.driveId),{connector:n.type,id:a,title:i??"",mimeType:l?.mimeType??"",url:c??"",syntheticExtension:null,o365DriveId:r}}const sxe="https://api.atlassian.com/oauth/token/accessible-resources";async function iT(e,t,n){ei.logAttemptIfAccessTokenIsExpired(n,Zn.Link);const s=(await j.get(sxe,{additionalHeaders:{Authorization:`Bearer ${e}`}})).find(a=>a.url===t)?.id;return s||Promise.reject(new Error("Cloud ID not found"))}async function axe(e,t,n,r){const s=await iT(e,t,n);return(await j.get(`https://api.atlassian.com/ex/confluence/${s}/wiki/api/v2/pages/${r}?include-version=false`,{additionalHeaders:{Authorization:`Bearer ${e}`}})).title??"Confluence Page"}async function oxe(e,t,n,r){const s=await iT(e,t,n);return(await j.get(`https://api.atlassian.com/ex/jira/${s}/rest/api/2/issue/${r}?fields=summary`,{additionalHeaders:{Authorization:`Bearer ${e}`}})).fields.summary??"Jira Issue"}const ixe=/\bhttps:\/\/www\.notion\.so\/(?:.*?)?(?<page_id>[a-f0-9]{32})(?:\?[\x21-\x7e]*)?/gm;function lxe(e,t){return[...e.matchAll(ixe)].map(n=>{const r=n.groups?.page_id;if(!r)return null;const s={url:n[0],id:r,type:R.NOTION_OPEN_CONNECTOR};return t.access_token?{...s,handler:{type:"fetch",tryFetch:async()=>{const a=await j.safePost("/connectors/metadata",{requestBody:{manifest:{id:r,manifest_type:R.NOTION_OPEN_CONNECTOR}}});return Promise.resolve({connector:t.type,id:r,title:a.title??"Notion Page",mimeType:"application/json",url:s.url,syntheticExtension:null,manifest:{id:r,type:kN.PAGE,manifest_type:R.NOTION_OPEN_CONNECTOR}})}}}:{...s,handler:{type:"prompt",message:"not-connected"}}})}function cxe({size:e="default",triggerIcon:t,triggerButton:n,children:r,side:s="bottom",className:a,sideOffset:i=10,alignOffset:l=0,open:c,onOpenChange:d,alignAgainstAnchor:f="center",disableAutofocus:m=!1,modal:p=!1}){const g=u.useRef(null);return o.jsxs(Mg,{open:c,onOpenChange:d,modal:p,children:[t?o.jsx(Vu,{ref:g,className:"rounded-lg p-2 hover:bg-token-main-surface-secondary",children:o.jsx(t,{className:"icon-md"})}):o.jsx(Vu,{asChild:!0,ref:g,children:n}),o.jsx(ZC,{container:g.current?.ownerDocument.body,children:o.jsx(TN,{$as:_g,side:s,sideOffset:i,alignOffset:l,align:f,collisionPadding:10,onOpenAutoFocus:v=>{m&&v.preventDefault()},className:N({"min-w-[200px] max-w-xs":e==="default"},a),children:r})})]})}const s2=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C10.8954 3.5 10 4.39543 10 5.5H14C14 4.39543 13.1046 3.5 12 3.5ZM8.53513 3.5C9.22675 2.3044 10.5194 1.5 12 1.5C13.4806 1.5 14.7733 2.3044 15.4649 3.5H17.25C18.9069 3.5 20.25 4.84315 20.25 6.5V18.5C20.25 20.1569 19.1569 21.5 17.25 21.5H6.75C5.09315 21.5 3.75 20.1569 3.75 18.5V6.5C3.75 4.84315 5.09315 3.5 6.75 3.5H8.53513ZM8 5.5H6.75C6.19772 5.5 5.75 5.94772 5.75 6.5V18.5C5.75 19.0523 6.19772 19.5 6.75 19.5H17.25C18.0523 19.5 18.25 19.0523 18.25 18.5V6.5C18.25 5.94772 17.8023 5.5 17.25 5.5H16C16 6.60457 15.1046 7.5 14 7.5H10C8.89543 7.5 8 6.60457 8 5.5Z",fill:"currentColor"})),a2=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 5.5C3.5 3.84315 4.84315 2.5 6.5 2.5H17.5C19.1569 2.5 20.5 3.84315 20.5 5.5V18.5C20.5 20.1569 19.1569 21.5 17.5 21.5H6.5C4.84315 21.5 3.5 20.1569 3.5 18.5V17C2.94772 17 2.5 16.5523 2.5 16C2.5 15.4477 2.94772 15 3.5 15V13C2.94772 13 2.5 12.5523 2.5 12C2.5 11.4477 2.94772 11 3.5 11V9C2.94772 9 2.5 8.55228 2.5 8C2.5 7.44772 2.94772 7 3.5 7V5.5ZM5.5 9C6.05228 9 6.5 8.55228 6.5 8C6.5 7.44772 6.05228 7 5.5 7V5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H17.5C18.0523 4.5 18.5 4.94772 18.5 5.5V18.5C18.5 19.0523 18.0523 19.5 17.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17C6.05228 17 6.5 16.5523 6.5 16C6.5 15.4477 6.05228 15 5.5 15V13C6.05228 13 6.5 12.5523 6.5 12C6.5 11.4477 6.05228 11 5.5 11V9ZM8 9C8 8.44772 8.44772 8 9 8H15C15.5523 8 16 8.44772 16 9C16 9.55228 15.5523 10 15 10H9C8.44772 10 8 9.55228 8 9ZM8 13C8 12.4477 8.44772 12 9 12H13C13.5523 12 14 12.4477 14 13C14 13.5523 13.5523 14 13 14H9C8.44772 14 8 13.5523 8 13Z",fill:"currentColor"}));function mv(e,t){return e.connector===t.connector&&e.type===t.type}const uxe=()=>de((e,t)=>({_messages:[],_dismissedMessages:[],getFirstMessage:()=>t()._messages[0]??null,appendMessageIfNotDismissed:n=>{e(r=>r._messages.some(s=>mv(s,n))||r._dismissedMessages.some(s=>mv(s,n))?r:{...r,_messages:[...r._messages,n]})},dismissMessage:n=>{e(r=>r._messages.includes(n)?{...r,_messages:r._messages.filter(s=>s!==n),_dismissedMessages:[...r._dismissedMessages,n]}:r)},clearMessages:()=>{e(n=>n._messages.length||n._dismissedMessages.length?{...n,_messages:[],_dismissedMessages:[]}:n)},openMenu:!1,requestOpenMenu:()=>e(n=>({...n,openMenu:!0})),confirmMenuOpened:()=>e(n=>({...n,openMenu:!1}))})),dxe=uxe(),fxe=u.createContext(dxe);function bd(){const e=u.useContext(fxe);return Eo(e)}function kOe({onOauthRedirect:e,children:t}){const{connectorConfig:n,isLoading:r}=wS(),s=bd(),{value:a}=st("1242184140"),{getFirstMessage:i}=s,l=i(),c=l?n.get(l.connector):null,d=r||!c,f=a?mxe:pxe,m=u.useMemo(()=>{if(d||!l)return null;switch(l.type){case"not-connected":return o.jsx(f,{unconnectedMessage:l,onOauthRedirect:e,entry:c})}},[f,d,c,l,e]),{dismissMessage:p}=bd(),g=u.useCallback(v=>{!v&&l&&!d&&p(l)},[d,p,l]);return o.jsx(cxe,{size:"none",open:!d,onOpenChange:g,side:"top",sideOffset:4,triggerButton:t,children:m})}function mxe({unconnectedMessage:e,onOauthRedirect:t,entry:n}){const{dismissMessage:r}=bd(),s=L(),a=Y1(e.connector,s),i=gxe(e.connector),l=()=>{_t.oauthUpsellButtonClick(n.type,"link"),ei.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,t,Zn.Link)},c=()=>{_t.oauthUpsellButtonClick(n.type,"not-now"),r(e)};return o.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-2 sm:w-[384px]",children:[o.jsxs("div",{className:"mb-5 flex flex-row gap-2",children:[o.jsx(vxe,{icon:i}),o.jsx("span",{className:"text-sm font-bold",children:o.jsx(C,{...ss.connectTo,values:{connectorName:a}})})]}),o.jsx("span",{className:"mb-5 text-sm text-token-text-secondary",children:o.jsx(C,{...ss.description,values:{connectorName:a}})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(G,{color:"primary",onClick:l,children:o.jsx(C,{...ss.connect})}),o.jsx(G,{color:"secondary",onClick:c,children:o.jsx(C,{...ss.notNow})})]})]})}function pxe({unconnectedMessage:e,onOauthRedirect:t,entry:n}){const{dismissMessage:r}=bd(),s=L(),a=Y1(e.connector,s),{icon1:i,icon2:l,icon3:c,icon4:d}=hxe(e.connector);return o.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-4 sm:w-[384px]",children:[o.jsxs("div",{className:"mb-3 flex flex-row gap-2 self-center",children:[o.jsx(Kc,{icon:i,rotation:-6}),o.jsx(Kc,{icon:l,rotation:6}),o.jsx(Kc,{icon:c,rotation:-6}),o.jsx(Kc,{icon:d,rotation:6})]}),o.jsx("span",{className:"mb-3 text-lg font-semibold",children:o.jsx(C,{...ss.connectTo,values:{connectorName:a}})}),o.jsx("span",{className:"mb-4 text-sm text-token-text-secondary",children:o.jsx(C,{...ss.description,values:{connectorName:a}})}),o.jsxs("div",{className:"flex flex-row-reverse gap-3 self-end",children:[o.jsx(G,{color:"primary",onClick:()=>{_t.oauthUpsellButtonClick(n.type,"link"),ei.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,t,Zn.Link)},children:o.jsx(C,{...ss.connect})}),o.jsx(G,{color:"secondary",onClick:()=>{_t.oauthUpsellButtonClick(n.type,"not-now"),r(e)},children:o.jsx(C,{...ss.notNow})})]})]})}function gxe(e){switch(e){case R.CONFLUENCE:return o.jsx(Uh,{width:20,height:20});case R.GDRIVE:return o.jsx(Yn,{width:20,height:20});case R.JIRA:return o.jsx(Hh,{width:20,height:20});case R.NOTION_OPEN_CONNECTOR:return o.jsx(Gh,{width:20,height:20});case R.O365:case R.O365_BUSINESS:case R.O365_PERSONAL:return o.jsx(Vh,{width:20,height:20});case R.SLACK_OPEN_CONNECTOR:return o.jsx(Jl,{width:20,height:20});case R.GITHUB_CONNECTOR:return o.jsx(Z1,{width:20,height:20});case R.GDRIVE_ACTION_CONNECTOR:return o.jsx(Yn,{width:20,height:20})}zh(e)}function hxe(e){switch(e){case R.GDRIVE:return{icon1:o.jsx(Yn,{}),icon2:o.jsx(td,{}),icon3:o.jsx(al,{}),icon4:o.jsx(Co,{})};case R.O365:case R.O365_BUSINESS:case R.O365_PERSONAL:return{icon1:o.jsx(Vh,{}),icon2:o.jsx(Dh,{}),icon3:o.jsx(Oh,{}),icon4:o.jsx(Lh,{})};case R.CONFLUENCE:case R.JIRA:case R.NOTION_OPEN_CONNECTOR:return{icon1:o.jsx(i0e,{}),icon2:o.jsx(s2,{}),icon3:o.jsx(Ir,{}),icon4:o.jsx(a2,{})};case R.SLACK_OPEN_CONNECTOR:return{icon1:o.jsx(Jl,{}),icon2:o.jsx(s2,{}),icon3:o.jsx(Ir,{}),icon4:o.jsx(a2,{})};case R.GITHUB_CONNECTOR:return{icon1:o.jsx(Z1,{}),icon2:o.jsx(s2,{}),icon3:o.jsx(Ir,{}),icon4:o.jsx(a2,{})};case R.GDRIVE_ACTION_CONNECTOR:return{icon1:o.jsx(Yn,{}),icon2:o.jsx(td,{}),icon3:o.jsx(al,{}),icon4:o.jsx(Co,{})}}zh(e)}const vxe=({icon:e})=>o.jsx("div",{className:N("flex h-[20px] w-[20px]"),children:o.jsx("div",{className:"object-contain",children:e})});function Kc({rotation:e,icon:t}){return o.jsx("div",{className:N("flex h-[44px] w-[44px] items-center justify-center rounded-xl border border-[#EDEDF2] bg-white shadow-[0_1px_12px_0px_#0000000B]"),style:{transform:`rotate(${e}deg)`},children:o.jsx("div",{className:"object-contain",children:t})})}const ss=U({connectTo:{id:"ContextConnectorPastedLinkPopover.connectTo",defaultMessage:"Connect to {connectorName}"},description:{id:"ContextConnectorPastedLinkPopover.description",defaultMessage:"Connect ChatGPT to {connectorName} to reference the content from this link."},notNow:{id:"ContextConnectorPastedLinkPopover.notNow",defaultMessage:"Not now"},connect:{id:"ContextConnectorPastedLinkPopover.connect",defaultMessage:"Connect"},addFromGdriveDescription:{id:"ContextConnectorPastedLinkPopover.addFromDriveDescription",defaultMessage:"To add files from Google Drive, upload them directly to your message."},addFromGdriveNotNow:{id:"ContextConnectorPastedLinkPopover.addFromDriveNotNow",defaultMessage:"Not now"},addFromGdriveUploadFile:{id:"ContextConnectorPastedLinkPopover.addFromDriveUploadFile",defaultMessage:"Upload file"}}),xxe="webp",Cxe=800,yxe=600,bxe="srgb",wxe=3,Sxe="uchar",Mxe=72,_xe="4:2:0",Exe=!0,kxe=!1,Txe=!1,Axe="{{.assetPrefix}}/assets/no-auth-upsell-m8ypcpwf.webp",lT={format:xxe,width:Cxe,height:yxe,space:bxe,channels:wxe,depth:Sxe,density:Mxe,chromaSubsampling:_xe,isProgressive:Exe,hasProfile:kxe,hasAlpha:Txe,src:Axe};function cT({statsig_login_event:e,statsig_signup_event:t,location:n,containerNoPadding:r=!1}){const s=Fn(),a=w5(),i=ic(Pxe.signUpCta),l=`no-auth-${n}`,c=()=>{s({authType:"login",callback:p=>{E.logLogInButtonClicked({location:l,provider:p}),$.logEvent(e)}})},d=()=>{s({authType:"signup",callback:p=>{E.logSignUpButtonClicked({location:l,provider:p}),$.logEvent(t)}})},f=o.jsx(G,{as:"button",size:"medium",color:a?"primary":"secondary",onClick:c,children:o.jsx(C,{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"})},"login-button"),m=o.jsx(G,{as:"button",size:"medium",color:a?"secondary":"primary",onClick:d,children:o.jsx(C,{...i})},"signup-button");return o.jsxs("div",{className:N("flex flex-col",r?"max-w-xs xs:-mt-4":"-mt-4 max-w-[calc(100vw-2rem)]"),children:[o.jsx("img",{className:"h-[132px] object-fill max-xs:hidden",src:lT.src,alt:""}),o.jsxs("div",{className:"flex flex-col p-5",children:[o.jsx("p",{className:"mb-1 text-pretty text-lg font-medium text-token-text-primary",children:o.jsx(C,{id:"rwmTbn",defaultMessage:"Try advanced features for free"})}),o.jsx("p",{className:"text-pretty text-sm text-token-text-secondary",children:o.jsx(C,{id:"unOBJo",defaultMessage:"Get smarter responses, upload files, create images, and more by logging in."})}),o.jsx("div",{className:"mt-5 flex flex-row justify-start space-x-2",children:a?[f,m]:[m,f]})]})]})}const Pxe=U({signUpCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"}});var Nxe=(e=>(e.General="general",e.ModelNotSupported="modelNotSupported",e.Unauthenticated="unauthenticated",e.HasReachedMaxFiles="hasReachedMaxFiles",e.RateLimit="rateLimit",e.SearchModeInUse="searchModeInUse",e.IsUsingGpt4ClassicGizmo="isUsingGpt4ClassicGizmo",e.ThinkModeInUse="thinkModeInUse",e))(Nxe||{}),jxe=(e=>(e.General="general",e.ModelNotSupported="modelNotSupported",e.GizmoNotSupported="gizmoNotSupported",e.HasAttachedFiles="hasAttachedFiles",e))(jxe||{}),Ixe=(e=>(e.HasAttachedFiles="hasAttachedFiles",e.DeepResearchHighLoad="isDeepResearchHighLoad",e.RateLimitReached="rateLimitReached",e))(Ixe||{});const TOe=e=>{const t=Cn();let n=sg(e);const r=null,{value:s}=st("4078831437"),a=Dn(),i=$e();return(i==null||i.isEnterprisey())&&!a?.includes(hs.DeepResearch)?!1:s&&i?.hasPaidSubscription()&&(n==null||n?.kind===ke.PrimaryAssistant)&&r==null&&!t},AOe=e=>u.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"m12 3c-3.585 0-6.5 2.9225-6.5 6.5385 0 2.2826 1.162 4.2913 2.9248 5.4615h7.1504c1.7628-1.1702 2.9248-3.1789 2.9248-5.4615 0-3.6159-2.915-6.5385-6.5-6.5385zm2.8653 14h-5.7306v1h5.7306v-1zm-1.1329 3h-3.4648c0.3458 0.5978 0.9921 1 1.7324 1s1.3866-0.4022 1.7324-1zm-5.6064 0c0.44403 1.7252 2.0101 3 3.874 3s3.43-1.2748 3.874-3c0.5483-0.0047 0.9913-0.4506 0.9913-1v-2.4593c2.1969-1.5431 3.6347-4.1045 3.6347-7.0022 0-4.7108-3.8008-8.5385-8.5-8.5385-4.6992 0-8.5 3.8276-8.5 8.5385 0 2.8977 1.4378 5.4591 3.6347 7.0022v2.4593c0 0.5494 0.44301 0.9953 0.99128 1z",clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd"})),uT=u.createContext({isImageGenEditor:!1,isInpainting:!1,onCancelInpaint:()=>{}}),POe=e=>{const t=e.value.isImageGenEditor,n=e.value.isInpainting,r=e.value.onCancelInpaint,s=u.useMemo(()=>({isImageGenEditor:t,isInpainting:n,onCancelInpaint:r}),[t,n,r]);return o.jsx(uT.Provider,{value:s,children:e.children})},Rxe=()=>u.useContext(uT),NOe=({filePickerStore:e,event:t,intl:n,toaster:r,conversationMode:s,clientThreadId:a,currentModelConfig:i,getEditorGizmoId:l,modelSupportedImageMimeTypes:c,persistedSystemHints:d})=>{const f=pS(i,s,d),m=c.length>0;E.logEvent(_.pastedToComposer,{client_thread_id:a});const{clipboardData:p}=t,g=z1(i,s),v=g?.attachments?.accepted_mime_types,h=g?.attachments?.can_accept_all_mime_types;if(m&&p&&p.files.length>0){const x=p.files[0];if(v!==void 0&&!v.includes(x.type)&&h!==!0){r.danger(n.formatMessage(ove.unsupportedFileType,{file_type:Yh(x)})),t.preventDefault();return}if(pt.hideThreadHeader(),E.logEvent(_.uploadFile,{client:"web",eventSource:"paste"}),l!=null){l().then(y=>cn.uploadFile(e,ll(x),x,f,c,n,r,{gizmoId:y}));return}cn.uploadFile(e,ll(x),x,f,c,n,r,void 0,g?.attachments)}},jOe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M0 12C0 11.4477 0.447715 11 1 11H2C2.55228 11 3 11.4477 3 12C3 12.5523 2.55228 13 2 13H1C0.447715 13 0 12.5523 0 12Z",fill:"currentColor"}),u.createElement("path",{d:"M21 12C21 11.4477 21.4477 11 22 11H23C23.5523 11 24 11.4477 24 12C24 12.5523 23.5523 13 23 13H22C21.4477 13 21 12.5523 21 12Z",fill:"currentColor"})),IOe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M12 0C12.5523 0 13 0.447715 13 1V2C13 2.55228 12.5523 3 12 3C11.4477 3 11 2.55228 11 2V1C11 0.447715 11.4477 0 12 0Z",fill:"currentColor"}),u.createElement("path",{d:"M3.29289 3.29289C3.68342 2.90237 4.31658 2.90237 4.70711 3.29289L5.70711 4.29289C6.09763 4.68342 6.09763 5.31658 5.70711 5.70711C5.31658 6.09763 4.68342 6.09763 4.29289 5.70711L3.29289 4.70711C2.90237 4.31658 2.90237 3.68342 3.29289 3.29289Z",fill:"currentColor"}),u.createElement("path",{d:"M20.7071 3.29289C21.0976 3.68342 21.0976 4.31658 20.7071 4.70711L19.7071 5.70711C19.3166 6.09763 18.6834 6.09763 18.2929 5.70711C17.9024 5.31658 17.9024 4.68342 18.2929 4.29289L19.2929 3.29289C19.6834 2.90237 20.3166 2.90237 20.7071 3.29289Z",fill:"currentColor"})),Lxe=u.createContext({closePopover:()=>{throw new Error("closePopover is not implemented")},isOpen:!1,isStartingToOpen:!1,layoutMode:"centered",popoverContentRef:u.createRef(),popoverTriggerRef:u.createRef(),openPopover:()=>{throw new Error("openPopover is not implemented")}});function Oxe(){return u.useContext(Lxe)}function ROe({reasoningLevelTypes:e,reasoningLevelType:t}){const{isOpen:n}=Oxe(),[r,s]=u.useState(t),a=u.useRef(t);a.current=t,u.useEffect(()=>{n&&s(a.current)},[n]);const{reasoningLevelList:i}=e,l=n?r:t;return{reasoningLevel:i.find(d=>d.type===l)}}function LOe({root:e,autoFocus:t=!1}){if(!e)return null;const n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(", "),r=Array.from(e.querySelectorAll(n));let s=null;for(const a of r)if(a.offsetWidth>0&&a.offsetHeight>0){s=a;break}return t&&s?.focus(),s}const Dxe={short:50,shortBurst:[50,50],long:200};function OOe(e){navigator.vibrate&&navigator.vibrate(Dxe.short)}function DOe(e,t){const n=r=>{t.current?.contains(r.target)||r.target instanceof HTMLButtonElement&&r.target.dataset.reasoningPopoverAction||e(r)};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}}const Fxe=AN(()=>bl(e=>({threads:{},setManualModelSelection:(t,n)=>e(Pd(r=>{r.threads[t]={...r.threads[t],isManualModelSelection:n}}))})));function FOe(e){const t=Br(),n=Fxe(t);return Eo(n,e)}const dT=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L9.41421 12L14.7071 17.2929C15.0976 17.6834 15.0976 18.3166 14.7071 18.7071C14.3166 19.0976 13.6834 19.0976 13.2929 18.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L13.2929 5.29289C13.6834 4.90237 14.3166 4.90237 14.7071 5.29289Z",fill:"currentColor"}));function $xe({children:e,className:t,onClick:n,isSelected:r,isActive:s,label:a,subtitle:i,isDisabled:l,badge:c,tooltipLabel:d,icon:f,...m}){const p=L();let g=o.jsx(o.Fragment,{});return e?g=o.jsx("div",{className:"flex flex-1 items-center gap-4",children:e}):a&&(g=o.jsxs("div",{className:"flex w-full items-center gap-4",children:[f,o.jsxs("div",{className:N("flex flex-col items-start px-1 py-1",l&&"pointer-events-none text-token-text-quaternary"),children:[o.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[o.jsx("div",{className:"text-start text-sm",children:a}),c]}),o.jsx("div",{className:N("text-start text-xs",l?"text-token-text-quaternary":"text-token-text-secondary"),children:i})]})]}),d&&(g=o.jsx(et,{sideOffset:-10,label:d,className:"w-full",children:g}))),o.jsxs("button",{type:"button",...m,onClick:v=>{v.persist(),requestAnimationFrame(()=>{n?.(v)})},className:N("mx-2 flex cursor-pointer items-center gap-4 rounded-xl px-2 py-1.5 pr-3 hover:bg-black/5 dark:hover:bg-white/5",s&&"bg-black/5 dark:bg-white/5",t),children:[g,o.jsx("div",{className:"min-w-[18px] items-center justify-center",children:r&&o.jsx(us,{className:"icon-md [color:var(--tint-color,#0285FF)]","aria-label":p.formatMessage({id:"ZLzEwD",defaultMessage:"Selected"})})})]})}const Bxe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3C17 3.55228 16.5523 4 16 4V9.2759C16 9.50984 16.082 9.73637 16.2318 9.91608L19.9174 14.3388C20.6169 15.1782 21 16.2364 21 17.3291C21 19.9087 18.9088 22 16.3291 22H7.67094C5.09125 22 3 19.9087 3 17.3291C3 16.2364 3.38309 15.1782 4.08262 14.3388L4.1282 14.2841C4.18783 14.178 4.26675 14.0826 4.36186 14.0037L7.76822 9.91608C7.91798 9.73637 8 9.50984 8 9.2759V4C7.44772 4 7 3.55228 7 3ZM10 4V9.2759C10 9.97771 9.75395 10.6573 9.30466 11.1965L7.59607 13.2468C8.09343 13.2051 8.55728 13.1988 8.9961 13.2187C10.0671 13.2673 10.9654 13.4731 11.7457 13.6519C11.8198 13.6689 11.8929 13.6857 11.9649 13.702C12.8074 13.8931 13.5265 14.0341 14.3658 13.9929C14.989 13.9623 15.7127 13.8285 16.6123 13.4968L14.6953 11.1965C14.246 10.6573 14 9.97771 14 9.2759V4H10ZM17.9589 15.1127C16.6121 15.6867 15.4872 15.9402 14.4639 15.9904C13.3329 16.046 12.3863 15.8484 11.5226 15.6525C11.4526 15.6366 11.3833 15.6208 11.3144 15.605C10.5208 15.4239 9.78883 15.2567 8.90547 15.2167C8.02643 15.1768 6.97222 15.2639 5.60016 15.6421C5.21216 16.1184 5 16.7141 5 17.3291C5 18.8042 6.19582 20 7.67094 20H16.3291C17.8042 20 19 18.8042 19 17.3291C19 16.7042 18.7809 16.0992 18.3809 15.6192L17.9589 15.1127Z",fill:"currentColor"}));function B5({modelSwitcherDeny:e}){const n=$e()?.isPro();switch(e.reason){case Tn.UNSUPPORTED_TOOL_USE:case Tn.UNSUPPORTED_AUDIO:case Tn.UNSUPPORTED_IMAGE:case Tn.UNSUPPORTED_GIZMO:case Tn.UNSUPPORTED_ATTACHMENT:case Tn.UNSUPPORTED_CUSTOM_INSTRUCTIONS:case Tn.UNSUPPORTED_CANVAS:case Tn.UNSUPPORTED_TEMPORARY_CHAT:return o.jsx(o.Fragment,{children:e.description});case Fd.RATE_LIMIT:{const{resetsAfter:s}=e,a=new Date(s),i=new Date(s).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});if(n)return o.jsx("div",{children:o.jsx(C,{id:"CwSQn9",defaultMessage:"Temporarily limited. Contact <supportEmail>support@openai.com</supportEmail> for help.",values:{supportEmail:l=>o.jsx(nn,{to:"mailto:support@openai.com",className:"underline",children:l})}})});if(s$(a))return o.jsx(C,{id:"HUybjA",defaultMessage:"Your limit will reset at {time}",values:{time:i}});if(a$(a))return o.jsx(C,{id:"TvYw9K",defaultMessage:"Your limit will reset at {time} tomorrow",values:{time:i}});{const l=a.toLocaleDateString([],{month:"short",day:"numeric"});return o.jsx(C,{id:"60ZcZL",defaultMessage:"Your limit will reset on {date}",values:{date:l}})}}}const r=e.description;if(r)return o.jsx(o.Fragment,{children:r})}function Uxe({currentModel:e,categoryOptions:t,className:n,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s=!1}){const a=e?.id;return o.jsx(te.Portal,{children:o.jsx(te.SubContent,{className:n,children:t.map(i=>{const{value:l}=i;return"options"in i?o.jsx(Pr,{currentModel:e,isSelected:a.startsWith(l),option:i,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s},l):o.jsx(wd,{currentModelId:a,isSelected:a===l,value:l,renderName:()=>i.name,modelSwitcherDenialsBySlug:r,showNewChatHint:!1,displayInFull_INTERNAL_USE_ONLY:s},l)})})})}function Pr({currentModel:e,option:t,isSelected:n=!1,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s=!1}){const{name:a,options:i,categoryId:l}=t,c=`${a} Models`,d=()=>o.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Bxe,{className:"icon-md w-7 text-token-text-secondary"}),c]})});let f;return s&&n&&(f=t.options.find(m=>m.value===e.id)?.name),o.jsxs(te.Sub,{children:[o.jsx(te.SubMenuTrigger,{children:o.jsxs("div",{className:N("flex grow justify-between gap-2 overflow-hidden",s?"items-center break-all":""),children:[l?d():a,n&&o.jsx("div",{className:"truncate text-token-text-tertiary",children:f??e.title})]})}),o.jsx(Uxe,{currentModel:e,categoryOptions:i,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s})]})}function wd({value:e,renderName:t,currentModelId:n,isSelected:r,showNewChatHint:s=!0,onClick:a,modelSwitcherDenialsBySlug:i,isUpgradeUpsell:l=!1,testId:c,displayInFull_INTERNAL_USE_ONLY:d=!1,mode:f="dropdown"}){const m=sC(),p=$e(),g=e?i[e]?.conversation?.[0]:null,h=!Ag({modelSlug:e,modelSwitcherDenialsBySlug:i}),{layer:x}=ot("1846737571"),y=()=>{if(a)a();else if(e){E.logEvent(_.modelSwitcherModelChanged,{from:n,to:e,source:f}),$.logEvent("chatgpt_model_switcher_model_changed",e,{from:n,to:e,source:f});const T=e;m({modelId:T,location:"Model switcher menu item"}),T!==Tl&&p&&$_(T)}},b=o.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[o.jsx("div",{className:d?"break-all":"",children:t(h)}),l&&o.jsx(G,{color:"secondary",size:"small",className:x.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:o.jsx(C,{id:"oKo8wt",defaultMessage:"Upgrade"})}),l?o.jsx(o.Fragment,{children:r&&o.jsx(US,{className:N("icon-md group-hover:invisible",!s&&"block group-hover:hidden")})}):r&&o.jsx(us,{className:"icon-md"})]});let S;return f==="dropdown"?S=o.jsx(te.Item,{onClick:y,className:N("!pr-3",r&&"!opacity-100",h&&"pointer-events-none text-token-text-quaternary"),"data-testid":c,children:b},e):S=o.jsxs("button",{onClick:y,className:N("group relative flex cursor-pointer items-center rounded-lg p-2.5 text-left text-sm hover:bg-[#F5F5F5] focus-visible:bg-[#F5F5F5] focus-visible:outline-0 disabled:pointer-events-none disabled:opacity-50 dark:hover:bg-token-main-surface-secondary dark:focus-visible:bg-token-main-surface-secondary",r&&"!opacity-100",h&&"pointer-events-none text-token-text-quaternary"),"data-testid":c,children:[b,o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-token-border-light group-hover:bg-[#F5F5F5] dark:group-hover:bg-token-main-surface-secondary"})]},e),g?o.jsx(et,{isLeftArrow:f==="dropdown",sideOffset:-10,label:o.jsx(B5,{modelSwitcherDeny:g}),children:S}):S}const Hxe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M15.11 14.285a.41.41 0 0 1 .78 0c.51 2.865.96 3.315 3.825 3.826.38.12.38.658 0 .778-2.865.511-3.315.961-3.826 3.826a.408.408 0 0 1-.778 0c-.511-2.865-.961-3.315-3.826-3.826a.408.408 0 0 1 0-.778c2.865-.511 3.315-.961 3.826-3.826Zm2.457-12.968a.454.454 0 0 1 .866 0C19 4.5 19.5 5 22.683 5.567a.454.454 0 0 1 0 .866C19.5 7 19 7.5 18.433 10.683a.454.454 0 0 1-.866 0C17 7.5 16.5 7 13.317 6.433a.454.454 0 0 1 0-.866C16.5 5 17 4.5 17.567 1.317Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.001 4a1 1 0 0 1 .993.887c.192 1.7.701 2.877 1.476 3.665.768.783 1.913 1.3 3.618 1.452a1 1 0 0 1-.002 1.992c-1.675.145-2.849.662-3.638 1.452-.79.79-1.307 1.963-1.452 3.638a1 1 0 0 1-1.992.003c-.152-1.706-.67-2.851-1.452-3.62-.788-.774-1.965-1.283-3.665-1.475a1 1 0 0 1-.002-1.987c1.73-.2 2.878-.709 3.646-1.476.767-.768 1.276-1.916 1.476-3.646A1 1 0 0 1 7 4Zm-2.472 6.998a6.11 6.11 0 0 1 2.468 2.412 6.232 6.232 0 0 1 1.037-1.376 6.232 6.232 0 0 1 1.376-1.036 6.114 6.114 0 0 1-2.412-2.469 6.163 6.163 0 0 1-1.053 1.416 6.163 6.163 0 0 1-1.416 1.053Z",fill:"currentColor"})),Vxe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.42a22.323 22.323 0 0 0-2.453 2.127A22.323 22.323 0 0 0 7.42 12a22.32 22.32 0 0 0 2.127 2.453c.807.808 1.636 1.52 2.453 2.128a22.335 22.335 0 0 0 2.453-2.128A22.322 22.322 0 0 0 16.58 12a22.326 22.326 0 0 0-2.127-2.453A22.32 22.32 0 0 0 12 7.42Zm1.751-1.154a24.715 24.715 0 0 1 2.104 1.88 24.722 24.722 0 0 1 1.88 2.103c.316-.55.576-1.085.779-1.59.35-.878.507-1.625.503-2.206-.003-.574-.16-.913-.358-1.111-.199-.199-.537-.356-1.112-.36-.58-.003-1.328.153-2.205.504-.506.203-1.04.464-1.59.78Zm3.983 7.485a24.706 24.706 0 0 1-1.88 2.104 24.727 24.727 0 0 1-2.103 1.88 12.7 12.7 0 0 0 1.59.779c.878.35 1.625.507 2.206.503.574-.003.913-.16 1.111-.358.199-.199.356-.538.36-1.112.003-.58-.154-1.328-.504-2.205a12.688 12.688 0 0 0-.78-1.59ZM12 18.99c.89.57 1.768 1.03 2.605 1.364 1.026.41 2.036.652 2.955.646.925-.006 1.828-.267 2.5-.94.673-.672.934-1.575.94-2.5.006-.919-.236-1.929-.646-2.954A15.688 15.688 0 0 0 18.99 12a15.6 15.6 0 0 0 1.364-2.606c.41-1.025.652-2.035.646-2.954-.006-.925-.267-1.828-.94-2.5-.672-.673-1.575-.934-2.5-.94-.919-.006-1.929.235-2.954.646-.838.335-1.716.795-2.606 1.364a15.69 15.69 0 0 0-2.606-1.364C8.37 3.236 7.36 2.994 6.44 3c-.925.006-1.828.267-2.5.94-.673.672-.934 1.575-.94 2.5-.006.919.235 1.929.646 2.955A15.69 15.69 0 0 0 5.01 12c-.57.89-1.03 1.768-1.364 2.605-.41 1.026-.652 2.036-.646 2.955.006.925.267 1.828.94 2.5.672.673 1.575.934 2.5.94.92.006 1.93-.235 2.955-.646A15.697 15.697 0 0 0 12 18.99Zm-1.751-1.255a24.714 24.714 0 0 1-2.104-1.88 24.713 24.713 0 0 1-1.88-2.104c-.315.55-.576 1.085-.779 1.59-.35.878-.507 1.625-.503 2.206.003.574.16.913.359 1.111.198.199.537.356 1.111.36.58.003 1.328-.153 2.205-.504.506-.203 1.04-.463 1.59-.78Zm-3.983-7.486a24.727 24.727 0 0 1 1.88-2.104 24.724 24.724 0 0 1 2.103-1.88 12.696 12.696 0 0 0-1.59-.779c-.878-.35-1.625-.507-2.206-.503-.574.003-.913.16-1.111.359-.199.198-.356.537-.36 1.111-.003.58.153 1.328.504 2.205.203.506.464 1.04.78 1.59Z",fill:"currentColor"}));function Gxe(e){if(e<60)return{type:"minute",value:e,text:e<2?"minute":`${e} minutes`};const t=Math.floor(e/60);if(t<24)return{type:"hour",value:t,text:t<2?"hour":`${t} hours`};const n=Math.floor(t/24);return n<7?{type:"day",value:n,text:n<2?"day":`${n} days`}:{type:"minute",value:e,text:e<2?"minute":`${e} minutes`}}const o2={textarea:"","model-switcher":""};function Wxe(){const e=p1(l=>l.isoDate),t=KR(e),n=L(),r=ms(fo.isEnterpriseyPlan),{isUnauthenticated:s,isLoading:a}=at(),{data:i}=ee({queryKey:["modelMessageCap",s],queryFn:()=>fe.getModelMessageCap(s),enabled:!a});return u.useMemo(()=>{const l=i?.message_cap??0,c=i?.message_cap_window??1,{text:d,type:f,value:m}=Gxe(c),p=i?.message_disclaimer??o2;if(!d||r)return{textareaDisclaimer:p.textarea,modelSwitcherDisclaimer:p["model-switcher"],modelSwitcherLimitShort:""};if(!i||!c||!l)return{textareaDisclaimer:o2.textarea,modelSwitcherDisclaimer:o2["model-switcher"],modelSwitcherLimitShort:""};let g=n.formatMessage(i2.shortLimitMinutes,{numerator:l,denominator:m});switch(f){case"hour":g=n.formatMessage(i2.shortLimitHours,{numerator:l,denominator:m});break;case"day":g=n.formatMessage(i2.shortLimitDays,{numerator:l,denominator:m});break}return{textareaDisclaimer:p.textarea.replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${l}`).replaceAll("%DENOMINATOR%",d),modelSwitcherDisclaimer:p["model-switcher"].replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${l}`).replaceAll("%DENOMINATOR%",d),modelSwitcherLimitShort:g}},[i,t,n,r])}const i2=U({shortLimitMinutes:{id:"modelCapMessaging.shortLimitMinutes",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# minute} one {# minute} other {# minutes}}"},shortLimitHours:{id:"modelCapMessaging.shortLimitHours",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# hour} one {# hour} other {# hours}}"},shortLimitDays:{id:"modelCapMessaging.shortLimitDays",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# day} one {# day} other {# days}}"}});var Ft=(e=>(e.ALPHA="alpha",e.DATA_CAMPAIGNS="data_campaigns",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(Ft||{});const pv={code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALLE 3"}};function $Oe(e){const t=zxe(e??void 0);return e1(["alpha","data_campaigns","experiments","mainline"],t)?"bg-orange-500 text-white":"bg-token-main-surface-primary text-token-text-primary"}function zxe(e){const t=Cf();for(const n of t)if(n.options.length>0&&n.options.find(s=>s.value===e))return n.categoryId;return null}const qxe=e=>Jp(e,({id:t})=>t.split(":").slice(0,1).join(":"));function Cf(){const{data:e}=hr(),t=O$(),{modelSwitcherDisclaimer:n}=Wxe();return u.useMemo(()=>{const r=[];if(!e)return r;const{categories:s,groups:a,models:i}=e;for(const l of s){const{defaultModel:c,categoryId:d,label:f}=l,m=i.get(c);if(m){const p=t===c,g=p?[]:Zxe(l,i);r.push({categoryId:d,value:c,name:f,description:p?n:m.description,options:[Bi(m,{name:"Default"}),...g]})}}for(const l of a){const{group:c,label:d,modelIds:f}=l,m=f[0],p=[];for(const g of f){const v=i.get(g);v&&!v.tags.includes(bp.HIDDEN)&&p.push(v)}if(c==="experiments"){const g=qxe(p),v=Object.entries(g).map(([h,x])=>{const y=h.split(":").slice(-1)[0];return{key:h,value:y,name:y,options:x.map(b=>{const{title:S}=b;return Bi({...b,title:S.replace(y,"")})})}});r.push({categoryId:c,value:m,name:d,options:v})}else r.push({categoryId:c,value:m,name:d,options:p.map(g=>Bi(g))})}return r},[e,t,n])}function Bi(e,t={}){return{value:e.id,name:e.title,...t}}function Zxe(e,t){const n=[],r=e.code_interpreter_model!=null&&t.get(e.code_interpreter_model);if(r){const a=pv.code_interpreter_model;n.push(Bi(r,{name:a.name}))}const s=e.dalle_model!=null&&t.get(e.dalle_model);if(s){const a=pv.dalle_model;n.push(Bi(s,{name:a.name}))}return n}function Yxe(e){return e.title?e.title:e.shortLabel}function yf(e,t){let n=e;if(e===g4.AUTO){const a=t?.categories.filter(({defaultModel:i})=>i!==g4.AUTO);a?.length===1&&(n=a[0].defaultModel)}const r=t?.categories.find(({defaultModel:a})=>a===n);if(r){const{categoryId:a}=r,i=Yxe(r);return{selectedCategory:a,modelLabel:i,omitPrefix:!!r.title}}const s=t?.groups.find(({modelIds:a})=>a.includes(n));if(s){const{group:a,shortLabel:i}=s;return{selectedCategory:a,modelLabel:i}}return{selectedCategory:null,modelLabel:null}}function Kxe(){const e=L();return o.jsx("div",{className:"border-token-text-quartenary items-center rounded-full border px-1 py-0.5 text-[8px] font-semibold uppercase leading-3 text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary",children:e.formatMessage(U5.beta)})}function Qxe(){const e=L();return o.jsx("div",{className:"border-token-text-quartenary items-center rounded-full border px-1 py-0.5 text-[8px] font-semibold uppercase leading-3 text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary",children:e.formatMessage(U5.alpha)})}function Xxe({badge:e}){return o.jsx("div",{className:"border-token-text-quartenary items-center rounded-full border px-1 py-0.5 text-[8px] font-semibold uppercase leading-3 text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary",children:e})}function fT(e,t,n){if(e)return o.jsx(Kxe,{});if(t)return o.jsx(Qxe,{});if(n)return o.jsx(Xxe,{badge:n})}function np({isDisabled:e,name:t,icon:n,description:r,extra:s,isBeta:a=!1,isAlpha:i=!1,modelBadge:l=null}){let c=t;return(!!a||!!i||!!l)&&(c=o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:t}),fT(a,i,l)]})),o.jsxs("div",{className:"flex items-center gap-3",children:[n&&o.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-token-main-surface-secondary",children:o.jsx(n,{className:"h-4 w-4 text-token-text-primary"})}),o.jsxs("div",{children:[c,o.jsxs("div",{className:N(!e&&"text-token-text-secondary","text-xs"),children:[r,s]})]})]})}function Jxe({category:e,modelSwitcherDenialsBySlug:t,currentGizmoId:n,currentModelId:r,testId:s,mode:a="dropdown"}){const{defaultModel:i,label:l,description:c,isBeta:d,isAlpha:f,modelBadge:m}=e,p=ln(n??"");return o.jsx(wd,{value:i,currentModelId:r,modelSwitcherDenialsBySlug:t,renderName:g=>o.jsx(np,{name:l,description:c,isDisabled:g,isBeta:d,isAlpha:f,modelBadge:m}),isSelected:(!n||p)&&r===i,testId:s,mode:a},i)}function eCe({clientThreadId:e}){const t=L(),n=Cn(),r=Je(e,Z.getIsNewConversation),s=Te(),[,a]=bn(),i=()=>{!r&&!n?s({pathname:"/",search:new URLSearchParams({[rs]:"true"}).toString()}):a(l=>(l.get(rs)==="true"?l.delete(rs):l.set(rs,"true"),l),{replace:r,state:Rl()})};return o.jsx(te.Item,{size:"large",className:"!pr-3",onClick:i,icon:cc,children:o.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[o.jsx("div",{className:"flex flex-1 items-center gap-3",children:o.jsx(C,{...U5.temporaryChat})}),o.jsx(JC,{enabled:n,label:t.formatMessage({defaultMessage:"Temporary",id:"temporaryChatToggleLabel"}),testId:"temporary-chat-toggle"})]})})}function mT({sections:e}){return o.jsx(o.Fragment,{children:e.map((t,n)=>o.jsxs(ye.Fragment,{children:[n!==0?o.jsx(te.Separator,{}):null,t.content]},t.id))})}function pT(e,t,n=!1){const r=Io(e),s=r.id,a=Dp(e),{data:i}=hr(),{data:l}=ko(),c=cE(a),d=d0e(),f=l&&$8(l)&&!d,m=_o(e),p=Il({clientThreadId:e}),g=L(),v=!m,{isUnauthenticated:h}=at(),x=Fn(),y=t.find(({categoryId:H})=>H===Ft.ALPHA),b=t.find(({categoryId:H})=>H===Ft.DATA_CAMPAIGNS),S=t.find(({categoryId:H})=>H===Ft.EXPERIMENTS),T=t.find(({categoryId:H})=>H===Ft.MAINLINE),k=!!y?.options.length,A=!!b?.options.length,M=!!S?.options.length,P=!!T?.options.length,I=Te(),D=u.useCallback(()=>{E.logEvent(_.accountPayOpenPaymentFromModelPicker,{content:"gizmo-button"}),rf(I,"Thread header dropdown")},[I]),F=()=>{$.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),E.logEvent(_.modelSwitcherPlusUpgradeButtonClicked),h?x({shouldOpenPaymentModalOnAuth:!0,callback:H=>{E.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:H})}}):D()},B=[],z=o.jsxs("div",{className:"mb-1 flex items-center justify-between px-5 pt-2",children:[o.jsx("span",{className:"text-sm text-token-text-tertiary",children:o.jsx(C,{id:"ilkdMh",defaultMessage:"Model"})}),o.jsx("a",{href:"https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",target:"_blank",rel:"noreferrer",children:o.jsx(r1,{className:"icon-md h-5 w-5 pl-0.5 text-token-text-tertiary"})})]},"header");if(h){const H={id:"modelSection",content:[]};H.content.push(o.jsx(cT,{location:"model-switcher",statsig_login_event:"chatgpt_modelswitcher_login_button_clicked",statsig_signup_event:"chatgpt_modelswitcher_signup_button_clicked"},"noAuthUpsell")),B.push(H)}else if(!f&&!a){const H={id:"modelSection",content:[]};H.content.push(o.jsx(wd,{value:"",currentModelId:s,onClick:F,modelSwitcherDenialsBySlug:p,isUpgradeUpsell:!0,renderName:Se=>o.jsx(np,{icon:Hxe,isDisabled:Se,name:g.formatMessage({id:"mzDzkX",defaultMessage:"ChatGPT Plus"}),description:g.formatMessage({id:"bqTHri",defaultMessage:"Our smartest model & more"})}),isSelected:!1,showNewChatHint:!1,mode:n?"popover":"dropdown"},"plusUpgrade")),H.content.push(o.jsx(wd,{value:Ri.AUTO,currentModelId:s,modelSwitcherDenialsBySlug:p,renderName:Se=>o.jsx(np,{icon:Vxe,name:g.formatMessage({id:"U9E7Rx",defaultMessage:"ChatGPT"}),description:g.formatMessage({id:"n96qML",defaultMessage:"Great for everyday tasks"}),isDisabled:Se}),isSelected:!a&&s===Ri.AUTO,showNewChatHint:!0,mode:n?"popover":"dropdown"},Ri.AUTO)),B.push(H)}else{const H={id:"modelSection",content:[]};!n&&i?.categories.length&&H.content.push(z);const Se=new Map;i?.categories.forEach(ie=>{const ae=o.jsx(Jxe,{category:ie,currentGizmoId:a,currentModelId:s,modelSwitcherDenialsBySlug:p,testId:`model-switcher-${ie.defaultModel}`,mode:n?"popover":"dropdown"},ie.categoryId);ie.subcategory?(Se.has(ie.subcategory)||Se.set(ie.subcategory,[]),Se.get(ie.subcategory)?.push(ae)):H.content.push(ae)}),n||Se.forEach((ie,ae)=>{const ft=i?.categories.find(Rt=>Rt.subcategory===ae&&Rt.defaultModel===r.id);H.content.push(o.jsxs(te.Sub,{children:[o.jsx(te.SubMenuTrigger,{"data-testid":ae==="More models"?"more-models-submenu":void 0,children:o.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[ae,!!ft&&o.jsx("div",{className:"truncate text-token-text-tertiary",children:ft.label})]})}),o.jsx(te.Portal,{children:o.jsx(te.SubContent,{className:"min-w-72",children:ie})})]},ae))}),B.push(H)}const O={id:"otherOptionsSection",content:[]},{selectedCategory:q}=yf(s,i);return v&&(k&&O.content.push(o.jsx(Pr,{isSelected:q===Ft.ALPHA,currentModel:r,option:y,modelSwitcherDenialsBySlug:p,displayInFull_INTERNAL_USE_ONLY:!0},y.value)),A&&O.content.push(o.jsx(Pr,{isSelected:q===Ft.DATA_CAMPAIGNS,currentModel:r,option:b,modelSwitcherDenialsBySlug:p,displayInFull_INTERNAL_USE_ONLY:!0},b.value)),M&&O.content.push(o.jsx(Pr,{currentModel:r,isSelected:q===Ft.EXPERIMENTS,option:S,modelSwitcherDenialsBySlug:p,displayInFull_INTERNAL_USE_ONLY:!0},S.value)),P&&O.content.push(o.jsx(Pr,{isSelected:q===Ft.MAINLINE,currentModel:r,option:T,modelSwitcherDenialsBySlug:p,displayInFull_INTERNAL_USE_ONLY:!0},T.value))),!n&&O.content.length&&B.push(O),!n&&!h&&!a&&!c&&B.push({id:"temporaryChatSection",content:[o.jsx(eCe,{clientThreadId:e},"tempChat")]}),B}const U5=U({alpha:{id:"o5FsPB",defaultMessage:"Alpha"},beta:{id:"XZwFET",defaultMessage:"Beta"},gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALLE, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALLE and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALLE, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}}),tCe=()=>{const e=Cf(),t=e.find(({categoryId:f})=>f===Ft.ALPHA),n=e.find(({categoryId:f})=>f===Ft.DATA_CAMPAIGNS),r=e.find(({categoryId:f})=>f===Ft.EXPERIMENTS),s=e.find(({categoryId:f})=>f===Ft.MAINLINE),a=!!t?.options.length,i=!!n?.options.length,l=!!r?.options.length,c=!!s?.options.length;return{alphaModelsGroup:t,dataCampaignModelsCategory:n,experimentModelsCategory:r,mainlineModelsCategory:s,hasInternalModels:a||i||l||c}},BOe=({modelsData:e,clientThreadId:t,triggerButton:n})=>{const r=Io(t),{selectedCategory:s}=yf(r.id,e),a=Il({clientThreadId:t}),{alphaModelsGroup:i,dataCampaignModelsCategory:l,experimentModelsCategory:c,mainlineModelsCategory:d,hasInternalModels:f}=tCe(),m=!!i?.options.length,p=!!l?.options.length,g=!!c?.options.length,v=!!d?.options.length;if(!f)return o.jsx(o.Fragment,{});const h=[];return m&&h.push(o.jsx(Pr,{isSelected:s===Ft.ALPHA,currentModel:r,option:i,modelSwitcherDenialsBySlug:a,displayInFull_INTERNAL_USE_ONLY:!0},i.value)),p&&h.push(o.jsx(Pr,{isSelected:s===Ft.DATA_CAMPAIGNS,currentModel:r,option:l,modelSwitcherDenialsBySlug:a,displayInFull_INTERNAL_USE_ONLY:!0},l.value)),g&&h.push(o.jsx(Pr,{currentModel:r,isSelected:s===Ft.EXPERIMENTS,option:c,modelSwitcherDenialsBySlug:a,displayInFull_INTERNAL_USE_ONLY:!0},c.value)),v&&h.push(o.jsx(Pr,{isSelected:s===Ft.MAINLINE,currentModel:r,option:d,modelSwitcherDenialsBySlug:a,displayInFull_INTERNAL_USE_ONLY:!0},d.value)),o.jsx(To,{sideOffset:8,size:"large",triggerButton:n,contentAlign:"start",testId:"internal-models-dropdown",children:h})},UOe=({model:e,onClick:t,isSelected:n,modelSwitcherDenialsBySlug:r})=>{const{defaultModel:s,label:a,description:i,isBeta:l,isAlpha:c,modelBadge:d}=e,m=!Ag({modelSlug:s,modelSwitcherDenialsBySlug:r}),p=r[s]?.conversation?.[0];return o.jsx($xe,{onClick:t,isSelected:n,label:a,subtitle:i,badge:fT(l,c,d),tooltipLabel:!!p&&o.jsx(B5,{modelSwitcherDeny:p}),isDisabled:m},a)},nCe="_rangeSelector_aegwx_1",rCe="_dark_aegwx_1",HOe={rangeSelector:nCe,dark:rCe};function VOe(){const e=L(),{reasoningSliderType:t}=FS(),n=u.useMemo(()=>({low:{type:"low",label:t==="auto"?e.formatMessage({id:"mQyZ4E",defaultMessage:"Auto"}):e.formatMessage({id:"MkBlsO",defaultMessage:"Quick response"}),shortLabel:t==="none"?e.formatMessage({id:"r0UcH3",defaultMessage:"Quick"}):t==="think"?e.formatMessage({id:"d61670",defaultMessage:"Think"}):e.formatMessage({id:"kuPql1",defaultMessage:"Auto"}),description:t==="auto"?e.formatMessage({id:"tNKhQK",defaultMessage:"Adapts to each prompt"}):e.formatMessage({id:"Oz3a6y",defaultMessage:"For everyday questions"}),value:0},medium:{type:"medium",label:e.formatMessage({id:"rNcDkD",defaultMessage:"Think a little"}),shortLabel:t==="think"?e.formatMessage({id:"d61670",defaultMessage:"Think"}):e.formatMessage({id:"K4y2ar",defaultMessage:"Think a little"}),description:e.formatMessage({id:"pSEllS",defaultMessage:"For deeper questions"}),value:1},high:{type:"high",label:e.formatMessage({id:"0FeWDv",defaultMessage:"Think harder"}),shortLabel:e.formatMessage({id:"BsQlVX",defaultMessage:"Think harder"}),description:e.formatMessage({id:"35oQNF",defaultMessage:"For analysis and research"}),value:2}}),[e,t]),r=(i,l)=>{const c=n[i];return c?c.value>=l:!1},s=u.useMemo(()=>Object.values(n),[n]),a=u.useMemo(()=>{const i=new Map;for(const l of s)i.set(l.value,l);return i},[s]);return{reasoningLevelList:s,ReasoningLevels:n,reasoningLevelsByValue:a,meetsReasoningLevel:r}}const sCe=["auto","gpt-4","gpt-4o-mini","gpt-4o"],aCe=["o3-mini"],oCe=["o1","o3-mini-high"],GOe=[...sCe,...aCe,...oCe],WOe={low:"gpt-4o",medium:"o3-mini",high:"o3-mini-high"},iCe=e=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18",...e},u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.897 2.25H6a.75.75 0 1 1 0 1.5c-.746 0-.971.006-1.138.051a1.5 1.5 0 0 0-1.06 1.06c-.045.167-.052.393-.052 1.139a.75.75 0 1 1-1.5 0v-.103c0-.597 0-1.04.102-1.423a3 3 0 0 1 2.122-2.122c.383-.103.826-.102 1.423-.102ZM13.138 3.8c-.166-.045-.392-.051-1.138-.051a.75.75 0 0 1 0-1.5h.103c.597 0 1.04 0 1.424.102a3 3 0 0 1 2.12 2.122c.104.383.103.826.103 1.423V6a.75.75 0 0 1-1.5 0c0-.746-.006-.972-.051-1.138a1.5 1.5 0 0 0-1.06-1.06ZM6 7.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 6 7.5Zm0 3a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 6 10.5Zm-3 .75a.75.75 0 0 1 .75.75c0 .746.007.972.051 1.138a1.5 1.5 0 0 0 1.06 1.06c.168.045.393.052 1.14.052a.75.75 0 0 1 0 1.5h-.104c-.597 0-1.04 0-1.423-.102a3 3 0 0 1-2.122-2.122c-.103-.383-.102-.826-.102-1.423V12a.75.75 0 0 1 .75-.75Zm12 0a.75.75 0 0 1 .75.75v.103c0 .597 0 1.04-.102 1.423a3 3 0 0 1-2.121 2.122c-.384.103-.827.102-1.424.102H12a.75.75 0 0 1 0-1.5c.746 0 .972-.007 1.138-.051a1.5 1.5 0 0 0 1.061-1.06c.045-.167.051-.393.051-1.139a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})),lCe=({textdocId:e,userCreatedTextdoc:t,isCanvasOpen:n=!1,isFocused:r=!1})=>o.jsxs("div",{className:"group/file-tile relative",children:[o.jsx("button",{onClick:()=>{Wi.removeTempTextdoc(e),nx()},className:"absolute -left-1 -top-1 z-10 hidden rounded-full border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white group-hover/file-tile:block dark:border-token-main-surface-secondary dark:bg-white dark:text-black",children:o.jsx(Ah,{className:"icon-xs"})}),o.jsx(_ie,{textdocId:e,clientThreadId:void 0,name:t.title,tag:t.type,icon:o.jsx(iCe,{className:"icon-md"}),size:"small",isCanvasOpen:n,isFocused:r,isInlinePreview:!0,isInferring:t.status===An.INFERRING,onClick:()=>fs(e),children:o.jsx("div",{className:N("whitespace-pre px-4",Au(t.type)&&"font-mono"),children:t.content})})]}),cCe=({textdocId:e,userCreatedTextdoc:t})=>{const n=Zp(e),r=o1();return o.jsx(lCe,{textdocId:e,userCreatedTextdoc:t,isFocused:n,isCanvasOpen:r})};class uCe extends $d()(()=>({files:[]})){addFile(t){this.setState(n=>({...n,files:[...n.files,t]}))}updateFile(t,n){this.setState(r=>({...r,files:r.files.map(s=>s.fileSpec.id===t?{...s,...n}:s)}))}removeFile(t){this.setState(n=>({...n,files:n.files.filter(r=>r.fileSpec.id!==t)}))}reset(){this.setState(()=>({files:[]}))}static selectFiles=t=>t.files;static selectFile=(t,n)=>t.files.find(r=>r.fileSpec.id===n)}function dCe({selectedApp:e}){const t=L(),n=U({removeItem:{id:"WorkWithAppsTile.removeItem",defaultMessage:"Remove"}});return o.jsxs("div",{className:"group relative inline-block rounded-xl border border-token-border-light bg-token-main-surface-primary p-2 text-sm text-token-text-primary",children:[o.jsxs("div",{className:"grid h-full grid-cols-[auto_1fr] items-center gap-2",children:[o.jsx("div",{className:"relative h-8 w-8 shrink-0 overflow-hidden",children:o.jsx(mCe,{app:e,className:"h-full w-full"})}),o.jsx("div",{className:"truncate font-semibold",children:pCe(e.name)})]}),o.jsx("button",{className:"absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white transition-colors dark:border-token-main-surface-secondary dark:bg-white dark:text-black",children:o.jsx(et,{label:t.formatMessage(n.removeItem),side:"top",sideOffset:4,children:o.jsx(Ah,{className:"icon-xs"})})})]})}const fCe=o.jsx("span",{className:"pr-2 text-2xl",children:o.jsx(C,{id:"WorkWithAppsTile.defaultIcon",defaultMessage:""})});function mCe({app:e,className:t}){const[n,r]=u.useState(null);return u.useEffect(()=>{if(!e||!e.icon){r(null);return}const s=new Blob([e.icon.data],{type:e.icon.mimeType}),a=URL.createObjectURL(s);return r(a),()=>{URL.revokeObjectURL(a)}},[e]),n?o.jsx("img",{src:n,alt:"",className:t}):fCe}function pCe(e){if(!e)return"";if(e.length<=32)return e;const n=e.substring(0,20),r=e.substring(e.length-9);return`${n}...${r}`}function zOe({files:e,selectedApps:t=[],className:n}){const r=Kn(),s=ec(),a=uCe.useStore(),i=KI();return o.jsxs("div",{className:n,children:[i.map(l=>o.jsx(cCe,{textdocId:l.tempTextdocId,userCreatedTextdoc:l},l.tempTextdocId)),t.map(l=>o.jsx(dCe,{selectedApp:l},l.id)),e.map(l=>o.jsx(AS,{borderRadius:"2xl",useV2Style:!0,width:r?"normal":"wide",onRemoveFileClick:()=>{cn.remove(s,l.tempId,"none"),a.removeFile(l.tempId)},file:l.file,fileId:l.fileId??void 0,contextConnectorInfo:l.contextConnectorInfo,loadingPercentage:l.status===_r.Uploading?l.progress:void 0},l.tempId))]})}function gCe(e){return e.metadata?.dalle?.prompt??""}async function hCe(e,t,n="image/png"){return new Promise((r,s)=>{e.toBlob(a=>{a!=null?r(new File([a],t,{type:n})):s(new Error("Failed to convert canvas to blob"))},n)})}async function vCe(e,t){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(r==null)throw new Error("Failed to get 2d context for mask canvas");const s=r.createImageData(e.width,e.height);for(let a=0;a<e.data.length;a+=4)e.data[a+3]!==0?(s.data[a]=0,s.data[a+1]=0,s.data[a+2]=0,s.data[a+3]=255):(s.data[a]=255,s.data[a+1]=255,s.data[a+2]=255,s.data[a+3]=255);return r.putImageData(s,0,0),hCe(n,t)}async function xCe(e,t){const r=await(await fetch(e)).blob(),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download=t,s.click(),s.remove()}function CCe(e){const t=QF(new Date,"yyyy-MM-dd HH.mm.ss");let n=e.slice(0,150);return n.endsWith(".")&&(n=n.slice(0,-1)),`DALLE ${t} - ${n}.webp`}async function qOe(e,t,n,r=!1){const s=gCe(e),a=CCe(s);await xCe(e.url,a);const i=r?_.dalleImageCaptioningDownload:_.dalleImageDownload;$.logEvent(i,null,{sourceOperation:e.metadata?.dalle?.edit_op??"none",hasParent:e.metadata?.dalle?.parent_gen_id!=null?"true":"false",model:"dalle"}),E.logEvent(i,{conversationId:t,messageId:n,generationId:e.metadata?.dalle?.gen_id,parentGenerationId:e.metadata?.dalle?.parent_gen_id,fileId:il(e.asset_pointer),sourceOperation:e.metadata?.dalle?.edit_op,model:"dalle"}),$.logEvent("chatgpt_image_download",null,{sourceOperation:e.metadata?.dalle?.edit_op??"none",hasParent:e.metadata?.dalle?.parent_gen_id!=null?"true":"false",model:"dalle"}),E.logEvent(_.chatgptImageDownload,{conversationId:t,messageId:n,generationId:e.metadata?.dalle?.gen_id,parentGenerationId:e.metadata?.dalle?.parent_gen_id,fileId:il(e.asset_pointer),sourceOperation:e.metadata?.dalle?.edit_op,model:"dalle"})}function ZOe(e){const t=sg(e),n=tc(),r=t&&"gizmo"in t?t.gizmo:void 0;return!n&&r?.gizmo.id===PO}function YOe(e,t){const n=t.metadata?.dalle?.gen_id,r=il(t.asset_pointer);return r==null||n==null?e:$5(e,{promptMessage:{metadata:{dalle:{from_client:{operation:{type:"transformation",original_gen_id:n,original_file_id:r}}}}}})}async function yCe(e,t,n,r){return new Promise((s,a)=>{Zh(ll(e),e,t,n,{kind:qt.DalleAgent},{onFileCreated:Ee,onFileUploadProgress:Ee,onFileUploaded:(i,l)=>s(l),onError:(i,l)=>{a(new Error(`Failed to upload file with reason: ${l}`))}},r)})}async function KOe(e,t,n,r,s){const a=t.metadata?.dalle?.gen_id,i=il(t.asset_pointer);if(i==null||a==null||n==null)return e;try{const l=await vCe(n,"mask.png"),c=await yCe(l,r,s,{imageDimensions:{width:t.width,height:t.height}});return $5(e,{promptMessage:{metadata:{dalle:{from_client:{operation:{type:"inpainting",original_gen_id:a,original_file_id:i,mask_file_id:c}}}}}})}catch(l){return V.addError(l),e}}class H5{static async getAutomations(t=null,n=null){return j.safeGet("/automations",{parameters:{query:{cursor:t,filter:n}}})}static getAutomationQueryKey(t){return["automation",t]}static async getAutomation(t){return j.safeGet("/automation/{automation_id}",{parameters:{path:{automation_id:t}}})}static async setAutomationStatus(t,n){return j.safePost("/automations/set_status",{requestBody:{jawbone_id:t,is_enabled:n}})}static async removeAutomation(t){return j.safePost("/automations/remove",{requestBody:{automation_id:t}})}static async saveAutomation(t,n,r,s,a,i,l,c){return j.safePost("/automations/save",{requestBody:{jawbone_id:t,title:n,schedule:r,is_enabled:s,prompt:a,default_timezone:i,notifications_enabled:!1,email_enabled:!1,schedule_components:l,last_run_time:c}})}static async getAutomationNextRunTimes(t,n=null,r=5){return j.safeGet("/automation/{automation_id}/next_run_times",{parameters:{path:{automation_id:t},query:{last_run_time:n,page_size:r}}})}}const V5=de(St(()=>({jawboneById:{},cursorsByFilter:{scheduled:null,paused:null,finished:null},maxBannerClientThreadId:void 0}))),js=V5.getState,Ra=V5.setState,G5={initJawbonesFromServerData:(e,t,n)=>{Ra(r=>{e.forEach(s=>{r.jawboneById[s.id]=s}),r.cursorsByFilter[n]=t})},removeAutomation:e=>{Ra(t=>{delete t.jawboneById[e]})},setAutomation:(e,t)=>{Ra(n=>{const r=n.jawboneById[e];if(!r){n.jawboneById[e]=t;return}const s=new Date(r.updated_at),a=new Date(t.updated_at);(isNaN(s.getTime())||isNaN(a.getTime())||s<a)&&(n.jawboneById[e]=t)})},setAutomationStatus:(e,t)=>{Ra(n=>{n.jawboneById[e].is_enabled=t})},clearMaxBannerClientThreadId:()=>{Ra(e=>{e.maxBannerClientThreadId=void 0})},setMaxBannerClientThreadId:e=>{Ra(t=>{t.maxBannerClientThreadId=e})}},gT={getAllJawbonesGrouped:(e=js())=>bCe(Object.values(e.jawboneById)),getAutomation:(e,t=js())=>t.jawboneById[e],getCursor:(e,t=js())=>t.cursorsByFilter[e],getHasJawbones:(e=js())=>Object.values(e.jawboneById).length>0,getTargetTimeUTC:(e,t=js())=>t.jawboneById[e]?.target_time_utc,hasJawbones:(e=js())=>Object.keys(e.jawboneById).length>0,getMaxBannerClientThreadId:(e=js())=>e.maxBannerClientThreadId};function l2(e){const{isLoading:t}=ia({queryKey:["automations",e],queryFn:async({pageParam:n})=>{const r=await H5.getAutomations(n,e);return G5.initJawbonesFromServerData(r.items,r.cursor,e),r},initialPageParam:gT.getCursor(e),getNextPageParam:n=>n.cursor??void 0});return{isLoading:t}}function QOe(){const{isLoading:e}=l2("scheduled"),{isLoading:t}=l2("paused"),{isLoading:n}=l2("finished");return{isLoadingScheduled:e,isLoadingPaused:t,isLoadingFinished:n}}function XOe({automation_id:e,onSuccess:t,onError:n}){return Ie({mutationFn:({is_enabled:r})=>H5.setAutomationStatus(e,r),onSuccess:r=>{G5.setAutomation(r.id,r),t&&t()},onError:(r,s)=>{n&&n(s.is_enabled)}})}function JOe({automation_id:e,onSuccess:t,onError:n}){return Ie({mutationFn:()=>H5.removeAutomation(e),onSuccess:()=>{G5.removeAutomation(e),t&&t()},onError:()=>{n&&n()}})}function bCe(e){return e.reduce((t,n)=>(n.next_run_times.length===0?t.completed.automations.push(n):n.is_enabled?t.scheduled.automations.push(n):t.paused.automations.push(n),t),{scheduled:{label:$i.scheduled,filter:"scheduled",automations:[]},paused:{label:$i.paused,filter:"paused",automations:[]},completed:{label:$i.completed,filter:"finished",automations:[]}})}function eDe(e){const t=G1(),n=V5(gT.getMaxBannerClientThreadId);return!(!t||n!==e)}let Sr="";const gv={setSessionId(e){Sr=e},logImpression(){Q.count(K.JAWBONE,"jawbone_notifications_banner.impression"),V.addAction("tasks.notification.impression"),E.logEvent("tasks:notification.impression",{logging_session_id:Sr})},logNotNow(){Q.count(K.JAWBONE,"jawbone_notifications_banner.not_now"),V.addAction("tasks.notification.not_now"),E.logEvent("tasks:notification.not_now",{logging_session_id:Sr})},logAllow(){Q.count(K.JAWBONE,"jawbone_notifications_banner.allow"),V.addAction("tasks.notification.allow"),E.logEvent("tasks:notification.allow",{logging_session_id:Sr})},logSystemDeny(){Q.count(K.JAWBONE,"jawbone_notifications_banner.system_deny"),V.addAction("tasks.notification.system_deny"),E.logEvent("tasks:notification.system_deny",{logging_session_id:Sr})},logSystemAllow(){Q.count(K.JAWBONE,"jawbone_notifications_banner.system_allow"),V.addAction("tasks.notification.system_allow"),E.logEvent("tasks:notification.system_allow",{logging_session_id:Sr})},logSystemSuccess(){Q.count(K.JAWBONE,"jawbone_notifications_banner.system_success"),V.addAction("tasks.notification.system_success"),E.logEvent("tasks:notification.system_success",{logging_session_id:Sr})},logRegistration(){Q.count(K.JAWBONE,"jawbone_notifications_banner.registration"),V.addAction("tasks.notification.registration"),E.logEvent("tasks:notification.registration",{logging_session_id:Sr})},logErrorDismissed(){Q.count(K.JAWBONE,"jawbone_notifications_banner.error_dismissed"),V.addAction("tasks.notification.error_dismissed"),E.logEvent("tasks:notification.error_dismissed",{logging_session_id:Sr})}},hT=window.localStorage,W5=de(St(()=>({initialized:!1,requestingClientThreadId:null,previouslyRequestedClientThreadIds:new Set,lastRequestTime:hT?.getItem("oai/apps/jawboneNotificationLastRequestTime")??null,permission:typeof window<"u"&&"Notification"in window?Notification.permission:"default"}))),wu=W5.getState,Qc=W5.setState,tDe={initIfNeeded:(e=wu())=>{e.initialized||(Qc({initialized:!0}),typeof window<"u"&&"Notification"in window&&navigator.permissions?.query({name:"notifications"}).then(t=>{t.onchange=()=>{switch(Notification.permission){case"granted":gv.logSystemAllow();break;case"denied":gv.logSystemDeny();break}Qc({permission:Notification.permission})}}))},setRequestingClientThreadId:e=>{Qc(t=>{t.previouslyRequestedClientThreadIds.has(e)||(t.requestingClientThreadId=e,t.previouslyRequestedClientThreadIds.add(e))})},clearNotificationRequest:()=>{Qc(e=>{if(e.requestingClientThreadId){const t=new Date().toISOString();e.lastRequestTime=t,hT?.setItem("oai/apps/jawboneNotificationLastRequestTime",t)}e.requestingClientThreadId=null})}},wCe={getRequestingClientThreadId:(e=wu())=>e.requestingClientThreadId,getLastRequestTime:(e=wu())=>e.lastRequestTime,getPermission:(e=wu())=>e.permission};function nDe(e){const{requestingClientThreadId:t}=W5(r=>({requestingClientThreadId:wCe.getRequestingClientThreadId(r)}));return!(!G1()||e!==t)}function rDe(){const{value:e}=qe("727502549"),{value:t}=qe("550432558"),{value:n}=qe("2290870843"),{eligible:r}=le(me.hasSeenReferralUpsellAnnouncement),{data:s}=Gk(r);return e&&t&&n&&r&&!!s?.info}function sDe(){const{value:e}=qe("3148583717"),{value:t}=qe("3362382575"),{eligible:n}=le(me.hasSeenStudentsUpsellAnnouncement);return wn()?.email?.endsWith(".edu")&&n&&e&&t}const aDe=()=>{const{shouldShowSkipButton:e=!1}=$$(),t=dg(({isParagenVisible:n})=>n);return!!e&&t},SCe=()=>{const{value:e}=qe("1439437954");return e};function MCe(){return xp("795789557")}const _Ce={apps:[],selectedApps:[]},ECe=de(D8(St(()=>_Ce))),oDe=async e=>{const t=e.map(n=>n.id);if(t.length!==0)return B8?.pairing.getContentForPairedApps(t)},iDe=async()=>{if(!MCe())return;const e=await B8?.pairing.getApps()??[],t=kCe(e);ECe.setState(n=>({apps:e,selectedApps:t}))};function kCe(e){return e.length>0?[{id:e[0].id,name:e[0].name,icon:e[0].icon,workspaces:[]}]:[]}var TCe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function fc(e,t){var n=ACe(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function ACe(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),s=TCe.get(r);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var PCe=[".DS_Store","Thumbs.db"];function NCe(e){return Ao(this,void 0,void 0,function(){return Po(this,function(t){return Sd(e)&&jCe(e.dataTransfer)?[2,OCe(e.dataTransfer,e.type)]:ICe(e)?[2,RCe(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,LCe(e)]:[2,[]]})})}function jCe(e){return Sd(e)}function ICe(e){return Sd(e)&&Sd(e.target)}function Sd(e){return typeof e=="object"&&e!==null}function RCe(e){return rp(e.target.files).map(function(t){return fc(t)})}function LCe(e){return Ao(this,void 0,void 0,function(){var t;return Po(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return fc(r)})]}})})}function OCe(e,t){return Ao(this,void 0,void 0,function(){var n,r;return Po(this,function(s){switch(s.label){case 0:return e.items?(n=rp(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(DCe))]):[3,2];case 1:return r=s.sent(),[2,hv(vT(r))];case 2:return[2,hv(rp(e.files).map(function(a){return fc(a)}))]}})})}function hv(e){return e.filter(function(t){return PCe.indexOf(t.name)===-1})}function rp(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function DCe(e){if(typeof e.webkitGetAsEntry!="function")return vv(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?xT(t):vv(e)}function vT(e){return e.reduce(function(t,n){return C4(C4([],y4(t),!1),y4(Array.isArray(n)?vT(n):[n]),!1)},[])}function vv(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=fc(t);return Promise.resolve(n)}function FCe(e){return Ao(this,void 0,void 0,function(){return Po(this,function(t){return[2,e.isDirectory?xT(e):$Ce(e)]})})}function xT(e){var t=e.createReader();return new Promise(function(n,r){var s=[];function a(){var i=this;t.readEntries(function(l){return Ao(i,void 0,void 0,function(){var c,d,f;return Po(this,function(m){switch(m.label){case 0:if(l.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return c=m.sent(),n(c),[3,4];case 3:return d=m.sent(),r(d),[3,4];case 4:return[3,6];case 5:f=Promise.all(l.map(FCe)),s.push(f),a(),m.label=6;case 6:return[2]}})})},function(l){r(l)})}a()})}function $Ce(e){return Ao(this,void 0,void 0,function(){return Po(this,function(t){return[2,new Promise(function(n,r){e.file(function(s){var a=fc(s,e.fullPath);n(a)},function(s){r(s)})})]})})}var BCe=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return n.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):s===l})}return!0};function xv(e){return VCe(e)||HCe(e)||yT(e)||UCe()}function UCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VCe(e){if(Array.isArray(e))return sp(e)}function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cv(Object(n),!0).forEach(function(r){CT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ul(e,t){return zCe(e)||WCe(e,t)||yT(e,t)||GCe()}function GCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yT(e,t){if(e){if(typeof e=="string")return sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sp(e,t)}}function sp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,i,l;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function zCe(e){if(Array.isArray(e))return e}var bT="file-invalid-type",wT="file-too-large",ST="file-too-small",MT="too-many-files",lDe={FileInvalidType:bT,FileTooLarge:wT,FileTooSmall:ST,TooManyFiles:MT},qCe=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:bT,message:"File type must be ".concat(n)}},bv=function(t){return{code:wT,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},wv=function(t){return{code:ST,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},ZCe={code:MT,message:"Too many files"};function _T(e,t){var n=e.type==="application/x-moz-file"||BCe(e,t);return[n,n?null:qCe(t)]}function ET(e,t,n){if($s(e.size))if($s(t)&&$s(n)){if(e.size>n)return[!1,bv(n)];if(e.size<t)return[!1,wv(t)]}else{if($s(t)&&e.size<t)return[!1,wv(t)];if($s(n)&&e.size>n)return[!1,bv(n)]}return[!0,null]}function $s(e){return e!=null}function YCe(e){var t=e.files,n=e.accept,r=e.minSize,s=e.maxSize,a=e.multiple,i=e.maxFiles,l=e.validator;return!a&&t.length>1||a&&i>=1&&t.length>i?!1:t.every(function(c){var d=_T(c,n),f=ul(d,1),m=f[0],p=ET(c,r,s),g=ul(p,1),v=g[0],h=l?l(c):null;return m&&v&&!h})}function Md(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Xc(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Sv(e){e.preventDefault()}function KCe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function QCe(e){return e.indexOf("Edge/")!==-1}function XCe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return KCe(e)||QCe(e)}function or(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return t.some(function(l){return!Md(r)&&l&&l.apply(void 0,[r].concat(a)),Md(r)})}}function JCe(){return"showOpenFilePicker"in window}function eye(e){if($s(e)){var t=Object.entries(e).filter(function(n){var r=ul(n,2),s=r[0],a=r[1],i=!0;return kT(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(a)||!a.every(TT))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,r){var s=ul(r,2),a=s[0],i=s[1];return yv(yv({},n),{},CT({},a,i))},{});return[{description:"Files",accept:t}]}return e}function tye(e){if($s(e))return Object.entries(e).reduce(function(t,n){var r=ul(n,2),s=r[0],a=r[1];return[].concat(xv(t),[s],xv(a))},[]).filter(function(t){return kT(t)||TT(t)}).join(",")}function nye(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function rye(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function kT(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function TT(e){return/^.*\.[\w]+$/.test(e)}var sye=["children"],aye=["open"],oye=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],iye=["refKey","onChange","onClick"];function lye(e){return dye(e)||uye(e)||AT(e)||cye()}function cye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dye(e){if(Array.isArray(e))return ap(e)}function c2(e,t){return pye(e)||mye(e,t)||AT(e,t)||fye()}function fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AT(e,t){if(e){if(typeof e=="string")return ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ap(e,t)}}function ap(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,i,l;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function pye(e){if(Array.isArray(e))return e}function Mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mv(Object(n),!0).forEach(function(r){op(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _d(e,t){if(e==null)return{};var n=gye(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gye(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var z5=u.forwardRef(function(e,t){var n=e.children,r=_d(e,sye),s=hye(r),a=s.open,i=_d(s,aye);return u.useImperativeHandle(t,function(){return{open:a}},[a]),ye.createElement(u.Fragment,null,n(nt(nt({},i),{},{open:a})))});z5.displayName="Dropzone";var PT={disabled:!1,getFilesFromEvent:NCe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};z5.defaultProps=PT;z5.propTypes={children:He.func,accept:He.objectOf(He.arrayOf(He.string)),multiple:He.bool,preventDropOnDocument:He.bool,noClick:He.bool,noKeyboard:He.bool,noDrag:He.bool,noDragEventsBubbling:He.bool,minSize:He.number,maxSize:He.number,maxFiles:He.number,disabled:He.bool,getFilesFromEvent:He.func,onFileDialogCancel:He.func,onFileDialogOpen:He.func,useFsAccessApi:He.bool,autoFocus:He.bool,onDragEnter:He.func,onDragLeave:He.func,onDragOver:He.func,onDrop:He.func,onDropAccepted:He.func,onDropRejected:He.func,onError:He.func,validator:He.func};var ip={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function hye(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=nt(nt({},PT),e),n=t.accept,r=t.disabled,s=t.getFilesFromEvent,a=t.maxSize,i=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,f=t.onDragLeave,m=t.onDragOver,p=t.onDrop,g=t.onDropAccepted,v=t.onDropRejected,h=t.onFileDialogCancel,x=t.onFileDialogOpen,y=t.useFsAccessApi,b=t.autoFocus,S=t.preventDropOnDocument,T=t.noClick,k=t.noKeyboard,A=t.noDrag,M=t.noDragEventsBubbling,P=t.onError,I=t.validator,D=u.useMemo(function(){return tye(n)},[n]),F=u.useMemo(function(){return eye(n)},[n]),B=u.useMemo(function(){return typeof x=="function"?x:_v},[x]),z=u.useMemo(function(){return typeof h=="function"?h:_v},[h]),O=u.useRef(null),q=u.useRef(null),H=u.useReducer(vye,ip),Se=c2(H,2),ie=Se[0],ae=Se[1],ft=ie.isFocused,Rt=ie.isFileDialogActive,Vt=u.useRef(typeof window<"u"&&window.isSecureContext&&y&&JCe()),Le=function(){!Vt.current&&Rt&&setTimeout(function(){if(q.current){var ne=q.current.files;ne.length||(ae({type:"closeDialog"}),z())}},300)};u.useEffect(function(){return window.addEventListener("focus",Le,!1),function(){window.removeEventListener("focus",Le,!1)}},[q,Rt,z,Vt]);var ht=u.useRef([]),en=function(ne){O.current&&O.current.contains(ne.target)||(ne.preventDefault(),ht.current=[])};u.useEffect(function(){return S&&(document.addEventListener("dragover",Sv,!1),document.addEventListener("drop",en,!1)),function(){S&&(document.removeEventListener("dragover",Sv),document.removeEventListener("drop",en))}},[O,S]),u.useEffect(function(){return!r&&b&&O.current&&O.current.focus(),function(){}},[O,b,r]);var Mt=u.useCallback(function(W){P?P(W):console.error(W)},[P]),X=u.useCallback(function(W){W.preventDefault(),W.persist(),pc(W),ht.current=[].concat(lye(ht.current),[W.target]),Xc(W)&&Promise.resolve(s(W)).then(function(ne){if(!(Md(W)&&!M)){var vt=ne.length,Lt=vt>0&&YCe({files:ne,accept:D,minSize:i,maxSize:a,multiple:l,maxFiles:c,validator:I}),fn=vt>0&&!Lt;ae({isDragAccept:Lt,isDragReject:fn,isDragActive:!0,type:"setDraggedFiles"}),d&&d(W)}}).catch(function(ne){return Mt(ne)})},[s,d,Mt,M,D,i,a,l,c,I]),Re=u.useCallback(function(W){W.preventDefault(),W.persist(),pc(W);var ne=Xc(W);if(ne&&W.dataTransfer)try{W.dataTransfer.dropEffect="copy"}catch{}return ne&&m&&m(W),!1},[m,M]),Pt=u.useCallback(function(W){W.preventDefault(),W.persist(),pc(W);var ne=ht.current.filter(function(Lt){return O.current&&O.current.contains(Lt)}),vt=ne.indexOf(W.target);vt!==-1&&ne.splice(vt,1),ht.current=ne,!(ne.length>0)&&(ae({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Xc(W)&&f&&f(W))},[O,f,M]),Fe=u.useCallback(function(W,ne){var vt=[],Lt=[];W.forEach(function(fn){var ti=_T(fn,D),ba=c2(ti,2),wf=ba[0],Sf=ba[1],Mf=ET(fn,i,a),gc=c2(Mf,2),_f=gc[0],Ef=gc[1],kf=I?I(fn):null;if(wf&&_f&&!kf)vt.push(fn);else{var Tf=[Sf,Ef];kf&&(Tf=Tf.concat(kf)),Lt.push({file:fn,errors:Tf.filter(function(_A){return _A})})}}),(!l&&vt.length>1||l&&c>=1&&vt.length>c)&&(vt.forEach(function(fn){Lt.push({file:fn,errors:[ZCe]})}),vt.splice(0)),ae({acceptedFiles:vt,fileRejections:Lt,type:"setFiles"}),p&&p(vt,Lt,ne),Lt.length>0&&v&&v(Lt,ne),vt.length>0&&g&&g(vt,ne)},[ae,l,D,i,a,c,p,g,v,I]),Ue=u.useCallback(function(W){W.preventDefault(),W.persist(),pc(W),ht.current=[],Xc(W)&&Promise.resolve(s(W)).then(function(ne){Md(W)&&!M||Fe(ne,W)}).catch(function(ne){return Mt(ne)}),ae({type:"reset"})},[s,Fe,Mt,M]),Ze=u.useCallback(function(){if(Vt.current){ae({type:"openDialog"}),B();var W={multiple:l,types:F};window.showOpenFilePicker(W).then(function(ne){return s(ne)}).then(function(ne){Fe(ne,null),ae({type:"closeDialog"})}).catch(function(ne){nye(ne)?(z(ne),ae({type:"closeDialog"})):rye(ne)?(Vt.current=!1,q.current?(q.current.value=null,q.current.click()):Mt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Mt(ne)});return}q.current&&(ae({type:"openDialog"}),B(),q.current.value=null,q.current.click())},[ae,B,z,y,Fe,Mt,F,l]),Jn=u.useCallback(function(W){!O.current||!O.current.isEqualNode(W.target)||(W.key===" "||W.key==="Enter"||W.keyCode===32||W.keyCode===13)&&(W.preventDefault(),Ze())},[O,Ze]),er=u.useCallback(function(){ae({type:"focus"})},[]),Ca=u.useCallback(function(){ae({type:"blur"})},[]),ya=u.useCallback(function(){T||(XCe()?setTimeout(Ze,0):Ze())},[T,Ze]),tr=function(ne){return r?null:ne},bf=function(ne){return k?null:tr(ne)},mc=function(ne){return A?null:tr(ne)},pc=function(ne){M&&ne.stopPropagation()},wA=u.useMemo(function(){return function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=W.refKey,vt=ne===void 0?"ref":ne,Lt=W.role,fn=W.onKeyDown,ti=W.onFocus,ba=W.onBlur,wf=W.onClick,Sf=W.onDragEnter,Mf=W.onDragOver,gc=W.onDragLeave,_f=W.onDrop,Ef=_d(W,oye);return nt(nt(op({onKeyDown:bf(or(fn,Jn)),onFocus:bf(or(ti,er)),onBlur:bf(or(ba,Ca)),onClick:tr(or(wf,ya)),onDragEnter:mc(or(Sf,X)),onDragOver:mc(or(Mf,Re)),onDragLeave:mc(or(gc,Pt)),onDrop:mc(or(_f,Ue)),role:typeof Lt=="string"&&Lt!==""?Lt:"presentation"},vt,O),!r&&!k?{tabIndex:0}:{}),Ef)}},[O,Jn,er,Ca,ya,X,Re,Pt,Ue,k,A,r]),SA=u.useCallback(function(W){W.stopPropagation()},[]),MA=u.useMemo(function(){return function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=W.refKey,vt=ne===void 0?"ref":ne,Lt=W.onChange,fn=W.onClick,ti=_d(W,iye),ba=op({accept:D,multiple:l,type:"file",style:{display:"none"},onChange:tr(or(Lt,Ue)),onClick:tr(or(fn,SA)),tabIndex:-1},vt,q);return nt(nt({},ba),ti)}},[q,n,l,Ue,r]);return nt(nt({},ie),{},{isFocused:ft&&!r,getRootProps:wA,getInputProps:MA,rootRef:O,inputRef:q,open:tr(Ze)})}function vye(e,t){switch(t.type){case"focus":return nt(nt({},e),{},{isFocused:!0});case"blur":return nt(nt({},e),{},{isFocused:!1});case"openDialog":return nt(nt({},ip),{},{isFileDialogActive:!0});case"closeDialog":return nt(nt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return nt(nt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return nt(nt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return nt({},ip);default:return e}}function _v(){}const xye="webp",Cye=222,yye=160,bye="srgb",wye=3,Sye="uchar",Mye=72,_ye=!1,Eye=8,kye=!1,Tye=!1,Aye="{{.assetPrefix}}/assets/example_bg_1-grdr084h.webp",cDe={format:xye,width:Cye,height:yye,space:bye,channels:wye,depth:Sye,density:Mye,isProgressive:_ye,paletteBitDepth:Eye,hasProfile:kye,hasAlpha:Tye,src:Aye},Pye="webp",Nye=222,jye=160,Iye="srgb",Rye=3,Lye="uchar",Oye=72,Dye=!1,Fye=8,$ye=!1,Bye=!1,Uye="{{.assetPrefix}}/assets/example_bg_2-bh3fby76.webp",uDe={format:Pye,width:Nye,height:jye,space:Iye,channels:Rye,depth:Lye,density:Oye,isProgressive:Dye,paletteBitDepth:Fye,hasProfile:$ye,hasAlpha:Bye,src:Uye},Hye="webp",Vye=222,Gye=160,Wye="srgb",zye=3,qye="uchar",Zye=72,Yye=!1,Kye=8,Qye=!1,Xye=!1,Jye="{{.assetPrefix}}/assets/example_bg_3-ogafarpd.webp",dDe={format:Hye,width:Vye,height:Gye,space:Wye,channels:zye,depth:qye,density:Zye,isProgressive:Yye,paletteBitDepth:Kye,hasProfile:Qye,hasAlpha:Xye,src:Jye},fDe=e=>u.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{id:"Icon"},u.createElement("path",{id:"vector",fillRule:"evenodd",clipRule:"evenodd",d:"M7.9082 1.33328C7.93833 1.3333 7.96889 1.33332 7.99992 1.33332C8.03094 1.33332 8.06151 1.3333 8.09164 1.33328C8.6219 1.333 9.01567 1.33278 9.35677 1.42418C10.277 1.67076 10.9958 2.38955 11.2424 3.3098C11.2974 3.51505 11.3192 3.73937 11.3278 4.00103C11.6471 4.00317 11.9259 4.00968 12.1678 4.02945C12.5425 4.06006 12.887 4.12577 13.2106 4.29063C13.7123 4.54629 14.1203 4.95424 14.3759 5.45601C14.5408 5.77957 14.6065 6.12403 14.6371 6.49877C14.6666 6.85956 14.6666 7.30246 14.6666 7.8391V10.1609C14.6666 10.6975 14.6666 11.1404 14.6371 11.5012C14.6065 11.8759 14.5408 12.2204 14.3759 12.544C14.1203 13.0457 13.7123 13.4537 13.2106 13.7093C12.887 13.8742 12.5425 13.9399 12.1678 13.9705C11.807 14 11.3641 14 10.8275 14H5.17237C4.63573 14 4.19283 14 3.83204 13.9705C3.4573 13.9399 3.11283 13.8742 2.78928 13.7093C2.28751 13.4537 1.87956 13.0457 1.6239 12.544C1.45904 12.2204 1.39333 11.8759 1.36271 11.5012C1.33324 11.1404 1.33324 10.6975 1.33325 10.1608V7.83912C1.33324 7.30247 1.33324 6.85956 1.36271 6.49877C1.39333 6.12403 1.45904 5.77957 1.6239 5.45601C1.87956 4.95424 2.28751 4.54629 2.78928 4.29063C3.11283 4.12577 3.4573 4.06006 3.83204 4.02945C4.07395 4.00968 4.35278 4.00317 4.67203 4.00103C4.68063 3.73937 4.70245 3.51505 4.75745 3.3098C5.00403 2.38955 5.72282 1.67076 6.64307 1.42418C6.98417 1.33278 7.37794 1.333 7.9082 1.33328ZM6.00649 3.99998H9.99334C9.98722 3.82827 9.97571 3.73408 9.95449 3.65489C9.8312 3.19477 9.4718 2.83537 9.01168 2.71208C8.86349 2.67238 8.66282 2.66665 7.99992 2.66665C7.33702 2.66665 7.13635 2.67238 6.98816 2.71208C6.52804 2.83537 6.16864 3.19477 6.04535 3.65489C6.02413 3.73408 6.01262 3.82827 6.00649 3.99998ZM3.94061 5.35835C3.64833 5.38223 3.49886 5.42551 3.3946 5.47864C3.14372 5.60647 2.93974 5.81045 2.81191 6.06133C2.75878 6.1656 2.7155 6.31506 2.69162 6.60734C2.6671 6.9074 2.66659 7.2956 2.66659 7.86665V10.1333C2.66659 10.7044 2.6671 11.0926 2.69162 11.3926C2.7155 11.6849 2.75878 11.8344 2.81191 11.9386C2.93974 12.1895 3.14372 12.3935 3.3946 12.5213C3.49886 12.5745 3.64833 12.6177 3.94061 12.6416C4.24067 12.6661 4.62887 12.6667 5.19992 12.6667H10.7999C11.371 12.6667 11.7592 12.6661 12.0592 12.6416C12.3515 12.6177 12.501 12.5745 12.6052 12.5213C12.8561 12.3935 13.0601 12.1895 13.1879 11.9386C13.2411 11.8344 13.2843 11.6849 13.3082 11.3926C13.3327 11.0926 13.3333 10.7044 13.3333 10.1333V7.86665C13.3333 7.2956 13.3327 6.9074 13.3082 6.60734C13.2843 6.31506 13.2411 6.1656 13.1879 6.06133C13.0601 5.81045 12.8561 5.60647 12.6052 5.47864C12.501 5.42551 12.3515 5.38223 12.0592 5.35835C11.7592 5.33383 11.371 5.33332 10.7999 5.33332H5.19992C4.62887 5.33332 4.24067 5.33383 3.94061 5.35835Z",fill:"currentcolor"}))),mDe=ce.button`flex items-center justify-center ${({$isSmall:e})=>e?"h-7":"h-9"} rounded-full ${({$hideBorder:e})=>!e&&"border border-token-border-light"} text-token-text-secondary ${({$showLabel:e,$isSmall:t})=>e?"min-w-8 w-auto p-2 text-[13px] font-semibold radix-state-open:bg-black/10 can-hover:hover:bg-token-main-surface-secondary dark:can-hover:hover:bg-gray-700":t?"w-7":"w-9"} ${({disabled:e,$visualTreatment:t})=>e?"opacity-50":t==="vanguard"?"can-hover:hover:bg-black/5 dark:can-hover:hover:bg-white/5":"can-hover:hover:bg-token-main-surface-secondary dark:can-hover:hover:bg-gray-700"} ${({$open:e})=>e&&"bg-black/10"} ${({$visualTreatment:e})=>e==="vanguard"?"min-h-8 min-w-[34px]":""}`;function pDe(){const e=L();return o.jsx("span",{className:"whitespace-nowrap pl-1 pr-1 [display:--force-hide-label]",children:e.formatMessage({id:"PromptFilePicker.attachFilesLabel",defaultMessage:"Attach"})})}const ebe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M7.5 13.25C7.98703 13.25 8.45082 13.1505 8.87217 12.9708C8.46129 14.0478 7.62459 15.5792 6.35846 15.76C5.81173 15.8382 5.43183 16.3447 5.50993 16.8914C5.58804 17.4382 6.09457 17.8181 6.6413 17.7399C9.19413 17.3753 10.7256 14.4711 11.169 12.1909C11.4118 10.942 11.3856 9.58095 10.8491 8.44726C10.2424 7.16517 8.92256 6.24402 7.48508 6.25001C5.55895 6.25805 4 7.82196 4 9.74998C4 11.683 5.567 13.25 7.5 13.25Z",fill:"currentColor"}),u.createElement("path",{d:"M16.18 13.25C16.667 13.25 17.1308 13.1505 17.5522 12.9708C17.1413 14.0478 16.3046 15.5792 15.0385 15.76C14.4917 15.8382 14.1118 16.3447 14.1899 16.8914C14.268 17.4382 14.7746 17.8181 15.3213 17.7399C17.8741 17.3753 19.4056 14.4711 19.849 12.1909C20.0918 10.942 20.0656 9.58095 19.5291 8.44726C18.9224 7.16517 17.6026 6.24402 16.1651 6.25001C14.2389 6.25805 12.68 7.82196 12.68 9.74998C12.68 11.683 14.247 13.25 16.18 13.25Z",fill:"currentColor"}));function tbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function lp(e,t){return Array(t+1).join(e)}function nbe(e){return e.replace(/^\n*/,"")}function rbe(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var sbe=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function q5(e){return Z5(e,sbe)}var NT=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function jT(e){return Z5(e,NT)}function abe(e){return RT(e,NT)}var IT=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function obe(e){return Z5(e,IT)}function ibe(e){return RT(e,IT)}function Z5(e,t){return t.indexOf(e.nodeName)>=0}function RT(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var Jt={};Jt.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};Jt.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};Jt.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var s=lp(r===1?"=":"-",e.length);return`

`+e+`
`+s+`

`}else return`

`+lp("#",r)+" "+e+`

`}};Jt.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};Jt.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};Jt.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",s=t.parentNode;if(s.nodeName==="OL"){var a=s.getAttribute("start"),i=Array.prototype.indexOf.call(s.children,t);r=(a?Number(a)+i:i+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};Jt.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Jt.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",s=(r.match(/language-(\S+)/)||[null,""])[1],a=t.firstChild.textContent,i=n.fence.charAt(0),l=3,c=new RegExp("^"+i+"{3,}","gm"),d;d=c.exec(a);)d[0].length>=l&&(l=d[0].length+1);var f=lp(i,l);return`

`+f+s+`
`+a.replace(/\n$/,"")+`
`+f+`

`}};Jt.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};Jt.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=Ed(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}};Jt.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),s=Ed(t.getAttribute("title"));s&&(s=' "'+s+'"');var a,i;switch(n.linkReferenceStyle){case"collapsed":a="["+e+"][]",i="["+e+"]: "+r+s;break;case"shortcut":a="["+e+"]",i="["+e+"]: "+r+s;break;default:var l=this.references.length+1;a="["+e+"]["+l+"]",i="["+l+"]: "+r+s}return this.references.push(i),a},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};Jt.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};Jt.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};Jt.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};Jt.image={filter:"img",replacement:function(e,t){var n=Ed(t.getAttribute("alt")),r=t.getAttribute("src")||"",s=Ed(t.getAttribute("title")),a=s?' "'+s+'"':"";return r?"!["+n+"]("+r+a+")":""}};function Ed(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function LT(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}LT.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=u2(this.array,e,this.options))||(t=u2(this._keep,e,this.options))||(t=u2(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function u2(e,t,n){for(var r=0;r<e.length;r++){var s=e[r];if(lbe(s,t,n))return s}}function lbe(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function cbe(e){var t=e.element,n=e.isBlock,r=e.isVoid,s=e.isPre||function(m){return m.nodeName==="PRE"};if(!(!t.firstChild||s(t))){for(var a=null,i=!1,l=null,c=Ev(l,t,s);c!==t;){if(c.nodeType===3||c.nodeType===4){var d=c.data.replace(/[ \r\n\t]+/g," ");if((!a||/ $/.test(a.data))&&!i&&d[0]===" "&&(d=d.substr(1)),!d){c=d2(c);continue}c.data=d,a=c}else if(c.nodeType===1)n(c)||c.nodeName==="BR"?(a&&(a.data=a.data.replace(/ $/,"")),a=null,i=!1):r(c)||s(c)?(a=null,i=!0):a&&(i=!1);else{c=d2(c);continue}var f=Ev(l,c,s);l=c,c=f}a&&(a.data=a.data.replace(/ $/,""),a.data||d2(a))}}function d2(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Ev(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var OT=typeof window<"u"?window:{};function ube(){var e=OT.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function dbe(){var e=function(){};return fbe()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function fbe(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(e=!0)}return e}var mbe=ube()?OT.DOMParser:dbe();function pbe(e,t){var n;if(typeof e=="string"){var r=gbe().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return cbe({element:n,isBlock:q5,isVoid:jT,isPre:t.preformattedCode?hbe:null}),n}var f2;function gbe(){return f2=f2||new mbe,f2}function hbe(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function vbe(e,t){return e.isBlock=q5(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=xbe(e),e.flankingWhitespace=Cbe(e,t),e}function xbe(e){return!jT(e)&&!obe(e)&&/^\s*$/i.test(e.textContent)&&!abe(e)&&!ibe(e)}function Cbe(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=ybe(e.textContent);return n.leadingAscii&&kv("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&kv("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function ybe(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function kv(e,t,n){var r,s,a;return e==="left"?(r=t.previousSibling,s=/ $/):(r=t.nextSibling,s=/^ /),r&&(r.nodeType===3?a=s.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?a=!1:r.nodeType===1&&!q5(r)&&(a=s.test(r.textContent))),a}var bbe=Array.prototype.reduce,wbe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function kd(e){if(!(this instanceof kd))return new kd(e);var t={rules:Jt,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=tbe({},t,e),this.rules=new LT(this.options)}kd.prototype={turndown:function(e){if(!_be(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=DT.call(this,new pbe(e,this.options));return Sbe.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return wbe.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function DT(e){var t=this;return bbe.call(e.childNodes,function(n,r){r=new vbe(r,t.options);var s="";return r.nodeType===3?s=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(s=Mbe.call(t,r)),FT(n,s)},"")}function Sbe(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=FT(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Mbe(e){var t=this.rules.forNode(e),n=DT.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function FT(e,t){var n=rbe(e),r=nbe(t),s=Math.max(e.length-n.length,t.length-r.length),a=`

`.substring(0,s);return n+a+r}function _be(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var Tv=/highlight-(?:text|source)-([a-z0-9]+)/;function Ebe(e){e.addRule("highlightedCodeBlock",{filter:function(t){var n=t.firstChild;return t.nodeName==="DIV"&&Tv.test(t.className)&&n&&n.nodeName==="PRE"},replacement:function(t,n,r){var s=n.className||"",a=(s.match(Tv)||[null,""])[1];return`

`+r.fence+a+`
`+n.firstChild.textContent+`
`+r.fence+`

`}})}function kbe(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var Tbe=Array.prototype.indexOf,Abe=Array.prototype.every,bo={};bo.tableCell={filter:["th","td"],replacement:function(e,t){return $T(e,t)}};bo.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(Y5(t))for(var s=0;s<t.childNodes.length;s++){var a="---",i=(t.childNodes[s].getAttribute("align")||"").toLowerCase();i&&(a=r[i]||a),n+=$T(a,t.childNodes[s])}return`
`+e+(n?`
`+n:"")}};bo.table={filter:function(e){return e.nodeName==="TABLE"&&Y5(e.rows[0])},replacement:function(e){return e=e.replace(`

`,`
`),`

`+e+`

`}};bo.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};function Y5(e){var t=e.parentNode;return t.nodeName==="THEAD"||t.firstChild===e&&(t.nodeName==="TABLE"||Pbe(t))&&Abe.call(e.childNodes,function(n){return n.nodeName==="TH"})}function Pbe(e){var t=e.previousSibling;return e.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function $T(e,t){var n=Tbe.call(t.parentNode.childNodes,t),r=" ";return n===0&&(r="| "),r+e+" |"}function Nbe(e){e.keep(function(n){return n.nodeName==="TABLE"&&!Y5(n.rows[0])});for(var t in bo)e.addRule(t,bo[t])}function jbe(e){e.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,n){return(n.checked?"[x]":"[ ]")+" "}})}function Ibe(e){e.use([Ebe,kbe,Nbe,jbe])}function Av(e){const t={...e};for(const n of Object.keys(t))t[n]=Math.round(t[n]);return t}function Ui(e,t){for(;e;){if(e instanceof HTMLElement&&e.dataset[t]!=null)return{node:e,dataValue:e.dataset[t]};e=e.parentNode}return{node:void 0,dataValue:void 0}}const m2={clientRect:void 0,isCollapsed:void 0,textContent:void 0,documentFragment:void 0,selection:void 0},BT=new kd;BT.use(Ibe);function Rbe(e){const n=e.getRangeAt(0).cloneContents(),r=document.createElement("div");return r.appendChild(n),BT.turndown(r.innerHTML)}function Lbe(e){const t=Br(),[{clientRect:n,isCollapsed:r,textContent:s,documentFragment:a,selection:i},l]=u.useState(m2);Bd(()=>{const d=()=>{setTimeout(()=>{let f;const m=window.getSelection(),p={};if(m==null||!m.rangeCount){l(m2);return}const g=m.getRangeAt(0);if(g==null){l(m2);return}const v=g.cloneContents();p.documentFragment=v,p.textContent=Rbe(m);const h=g.getClientRects();if(h.length===0&&g.commonAncestorContainer!=null&&g.commonAncestorContainer instanceof HTMLElement){const x=g.commonAncestorContainer;f=Av(x.getBoundingClientRect().toJSON())}else{if(h.length<1)return;f=Av(h[0].toJSON())}p.clientRect=f,p.isCollapsed=g.collapsed,p.selection=m,l(p)},0)};return window.addEventListener("mouseup",d),()=>{window.removeEventListener("mouseup",d)}},[]);const c=Cn();return u.useEffect(()=>{if(c)return;const d=f=>{const m=window.getSelection(),p=m?.toString(),g=vn(e),{dataValue:v}=Ui(m?.anchorNode,"messageAuthorRole"),{dataValue:h}=Ui(m?.anchorNode,"messageId");!p||!h||!g||!v||v!=="assistant"||n5(t,{source:"keyboard",type:"copy",messageId:h,serverThreadId:g,selectedText:p,location:"selection"})};return document.addEventListener("copy",d),()=>{document.removeEventListener("copy",d)}},[t,e,c]),{clientRect:n,isCollapsed:r,textContent:s,documentFragment:a,selection:i}}const UT="agent-turn",gDe=[ke.PrimaryAssistant,ke.GizmoInteraction];function Obe(e){return ds.createPortal(e.children,e.mount??document.body)}function Dbe({messageId:e,anchorNode:t,clientRect:n,onClick:r}){const s=L(),a=()=>{r(e)};if(!t)return null;const i=t.closest(`.${UT}`);if(!i)return null;const l=t.getBoundingClientRect();return o.jsx(Obe,{mount:i,children:o.jsx("div",{className:"absolute",style:{top:t.offsetTop-36+n.top-l.top,left:n.left-l.left,width:n.width,height:n.height},children:o.jsx(et,{label:s.formatMessage($be.replyTooltip),side:"top",children:o.jsx(G,{size:"small",color:"secondary",className:"shadow-lg",onClick:a,children:o.jsx(ebe,{className:"icon-md"})})})})})}const Fbe=3;function hDe({clientThreadId:e,onTargetedReply:t}){const{clientRect:n,isCollapsed:r,textContent:s,selection:a}=Lbe(e),{dataValue:i}=Ui(a?.anchorNode,"messageAuthorRole"),{node:l,dataValue:c}=Ui(a?.anchorNode,"messageId"),{dataValue:d}=Ui(a?.focusNode,"messageId"),f=!d||c===d,m=s?.trim(),p=m?.length??0,g=v=>{m!==void 0&&t({targetedReply:{type:"text",label:m,createNewCompletionParams:h=>{const x=PN(m);return{...h,promptMessage:$5(h.promptMessage,{metadata:{targeted_reply:m}}),appendMessages:h.appendMessages==null?[x]:[...h.appendMessages,x]}},onCreateCompletion:({serverThreadId:h,currentLeafId:x})=>{E.logEventWithStatsig(_.targetedReplySubmitted,"chatgpt_targeted_reply_submitted",{conversationId:h,currentLeafId:x})},onCleared:({serverThreadId:h,currentLeafId:x})=>{E.logEventWithStatsig(_.targetedReplyCleared,"chatgpt_targeted_reply_cleared",{conversationId:h,currentLeafId:x})}},messageId:v})};return n==null||r||p<Fbe||!f||i!=="assistant"?null:o.jsx(Dbe,{messageId:c??"",anchorNode:l,clientRect:n,onClick:g})}const $be=U({replyTooltip:{id:"targetedReply.replyTooltip",defaultMessage:"Reply"}});function HT(){const{isUnauthenticated:e,isLoading:t}=at(),{layer:n}=ot("3434623093"),r=e&&!t;return{getShowUpsellReason:ur({layer:n,condition:()=>r,paramName:"with-reason-upsell",defaultValue:!1}),getUpsellLabelType:ur({layer:n,condition:()=>r,paramName:"labels",defaultValue:void 0}),getShowVoiceUpsell:ur({layer:n,condition:()=>r,paramName:"with-voice-upsell",defaultValue:!1}),getUpsellShowsAttach:ur({layer:n,condition:()=>r,paramName:"with-attach-upsell",defaultValue:!1})}}function vDe({hasConnectors:e}){const{eligible:t,markAsViewed:n}=le(me.ContextConnectors),{activeModals:r}=se(),s=L();return o.jsx(J1,{announcementKey:me.ContextConnectors,side:"top",show:t&&e&&r.size===0,title:s.formatMessage(Pv.connectApps),onDismiss:n,sideOffset:32,theme:"bright",description:s.formatMessage(Pv.description),children:o.jsx("div",{})})}const Pv=U({connectApps:{id:"ContextConnectorAnnouncementTooltipContent.connectApps",defaultMessage:"Connect Apps"},description:{id:"ContextConnectorAnnouncementTooltipContent.description",defaultMessage:"Connect apps to access files in ChatGPT, like docs and spreadsheets."}}),Bbe=(e,t)=>`${e}:${t}`,VT=bl((e,t)=>({async getToken(n,r){const s=Bbe(n,r),a=t()._tokens[s];if(a)try{const l=await a;if(Date.now()+30*60*1e3<l.expires_at*1e3)return l.access_token}catch{}const i=fe.getConnectorAccessTokenWithScope(n,r);return e(l=>({...l,_tokens:{...l._tokens,[s]:i}})),i.then(l=>l.access_token)},_tokens:{}}));async function Ube(e,t,n,r){if(n.type==="business"){const d=new URL(n.baseUrl);t=await VT.getState().getToken(R.O365_BUSINESS,`${d.origin}/.default`)}const s=Hbe(r,n.baseUrl),a=new URLSearchParams({filePicker:JSON.stringify(s)}),i=`${n.parsedUrl}?${a}`,l=e.document.createElement("form");l.setAttribute("action",i),l.setAttribute("method","POST");const c=e.document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name","access_token"),c.setAttribute("value",t),l.appendChild(c),e.document.body.append(l),l.submit()}function Hbe(e,t){return{sdk:"8.0",messaging:{channelId:e,origin:location.origin},authentication:{},entry:{sharePoint:{byPath:{list:t}}},typesAndSources:{mode:"files"},selection:{mode:"multiple"},search:{enabled:!0}}}function Vbe(e,t,n,r,s,a){function i(l){if(l?.source!==t)return;const c=l.data;if(c.type==="initialize"&&c.channelId===n){_t.filePickerLoaded(a);const d=l.ports[0],m=Wbe(e,async p=>{if(d.removeEventListener("message",m),d.close(),t.close(),p!=null){const g=await Promise.all(p.map(v=>Gbe(v,e,s)));r({type:"pick",docs:g})}else r({type:"cancel"})},d,a);d.addEventListener("message",m),d.start(),d.postMessage({type:"activate"})}}window.addEventListener("message",i)}async function Gbe(e,t,n){let r=`https://graph.microsoft.com/v1.0/drives/${encodeURIComponent(e.parentReference.driveId)}/items/${encodeURIComponent(e.id)}`;n.type==="personal"&&(r=`https://api.onedrive.com/v1.0/drives/${encodeURIComponent(e.parentReference.driveId)}/items/${encodeURIComponent(e.id)}`);const a=await(await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).json();return{connector:n.type==="personal"?R.O365_PERSONAL:R.O365_BUSINESS,id:e.id,title:a.name??"",mimeType:a.file?.mimeType??"",url:a.webUrl??"",syntheticExtension:null,o365DriveId:e.parentReference.driveId}}function Wbe(e,t,n,r){return async function(a){const i=a.data;if(i.type==="notification"||i.type!=="command")return;const l=i.data;switch(n.postMessage({type:"acknowledge",id:a.data.id}),l.command){case"authenticate":{r===R.O365_BUSINESS&&(e=await VT.getState().getToken(r,`${l.resource}/.default`)),n.postMessage({type:"result",id:a.data.id,data:{result:"token",token:e}});break}case"close":{t(null);break}case"pick":{try{t(l.items),n.postMessage({type:"result",id:a.data.id,data:{result:"success"}})}catch(c){n.postMessage({type:"result",id:a.data.id,data:{result:"error",error:{code:"unusableItem",message:c.message}}})}break}default:{n.postMessage({type:"result",id:a.data.id,data:{result:"error",error:{code:"unsupportedCommand",message:l.command}}});break}}}}const xDe=ye.memo(function({type:t,onClose:n,uploadPickedFile:r}){const{connectorConfig:s}=SS(),a=t?s.get(t):null;return!a?.onedrive_endpoint_hint||!a.access_token?null:o.jsx(zbe,{onClose:n,accessToken:a?.access_token,oneDriveURL:a?.onedrive_endpoint_hint,uploadPickedFile:r})});function zbe({onClose:e,accessToken:t,oneDriveURL:n,uploadPickedFile:r}){const{current:s}=u.useRef(new WeakMap),a=n.type==="personal"?R.O365_PERSONAL:R.O365_BUSINESS;return o.jsx(Ud,{open:!0,onOpenChange:i=>{i||e()},children:o.jsx(Hd,{children:o.jsx(Vd,{className:"fixed inset-0 flex items-center justify-center bg-black/50 dark:bg-black/80",children:o.jsx(Wd,{className:"flex h-full max-h-[600px] w-full max-w-[1300px] items-center justify-center",onPointerDownOutside:()=>{_t.filePickerCancelled(a)},children:o.jsx("iframe",{className:"mx-[32px] my-[32px] h-full w-full",src:"about:blank",ref:i=>{const l=i?.contentWindow;if(i==null||l==null||s.has(i))return;s.set(i,!0);const c=Fp();_t.filePickerStarted(a),Ube(l,t,n,c),Vbe(t,l,c,d=>{switch(d.type){case"pick":_t.filePickerPicked(a,d.docs.length),d.docs.forEach(f=>r(f,a));break;case"cancel":_t.filePickerCancelled(a);break}e()},n,a)}})})})})})}const qbe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 4.5C5.50736 4.5 4.5 5.50736 4.5 6.75C4.5 7.99264 5.50736 9 6.75 9C7.99264 9 9 7.99264 9 6.75C9 5.50736 7.99264 4.5 6.75 4.5ZM2.5 6.75C2.5 4.40279 4.40279 2.5 6.75 2.5C9.09721 2.5 11 4.40279 11 6.75C11 9.09721 9.09721 11 6.75 11C4.40279 11 2.5 9.09721 2.5 6.75Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.25 4.5C16.0074 4.5 15 5.50736 15 6.75C15 7.99264 16.0074 9 17.25 9C18.4926 9 19.5 7.99264 19.5 6.75C19.5 5.50736 18.4926 4.5 17.25 4.5ZM13 6.75C13 4.40279 14.9028 2.5 17.25 2.5C19.5972 2.5 21.5 4.40279 21.5 6.75C21.5 9.09721 19.5972 11 17.25 11C14.9028 11 13 9.09721 13 6.75Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.75 15C5.50736 15 4.5 16.0074 4.5 17.25C4.5 18.4926 5.50736 19.5 6.75 19.5C7.99264 19.5 9 18.4926 9 17.25C9 16.0074 7.99264 15 6.75 15ZM2.5 17.25C2.5 14.9028 4.40279 13 6.75 13C9.09721 13 11 14.9028 11 17.25C11 19.5972 9.09721 21.5 6.75 21.5C4.40279 21.5 2.5 19.5972 2.5 17.25Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.25 13C17.8023 13 18.25 13.4477 18.25 14V16.25H20.5C21.0523 16.25 21.5 16.6977 21.5 17.25C21.5 17.8023 21.0523 18.25 20.5 18.25H18.25V20.5C18.25 21.0523 17.8023 21.5 17.25 21.5C16.6977 21.5 16.25 21.0523 16.25 20.5V18.25H14C13.4477 18.25 13 17.8023 13 17.25C13 16.6977 13.4477 16.25 14 16.25H16.25V14C16.25 13.4477 16.6977 13 17.25 13Z",fill:"currentColor"}));function CDe({connectorEntries:e,onOauthRedirect:t,isNested:n}){const r=L();return o.jsxs(te.Sub,{children:[o.jsx(te.SubMenuTrigger,{icon:qbe,children:o.jsx("div",{className:"line-clamp-1 text-ellipsis",children:o.jsx(C,{...Zbe.connectApps})})}),o.jsx(te.Portal,{children:o.jsx(te.SubContent,{children:e.map(s=>o.jsx(te.Item,{onClick:()=>t(s),icon:CS(s.type),className:N(n&&"mx-0 rounded-xl p-1.5 px-2 py-2.5"),children:o.jsxs("div",{className:"flex flex-col",children:[Y1(s.type,r),s.type===R.O365_BUSINESS&&o.jsx("div",{className:"text-s text-token-text-tertiary",children:o.jsx(C,{...bS.includesSharePoint})})]})},s.id))})})]})}const Zbe=U({connectApps:{id:"ContextConnectorPicker.connectApps",defaultMessage:"Connect apps"}});let p2=null;function GT(e){return p2==null&&(p2=Ybe().then(()=>(gapi.client.setToken({access_token:e}),gapi.client.init({apiKey:sT,scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]})))),p2}function Ybe(){return new Promise((e,t)=>{const n=document.createElement("script");n.src="https://apis.google.com/js/api.js",n.onload=e,n.onerror=t,document.documentElement.appendChild(n)}).then(()=>Promise.all([new Promise(e=>gapi.load("client",e)),new Promise(e=>gapi.load("client:picker",e))]))}function yDe({entry:e,onClick:t,isNested:n}){const{connectorConfig:r}=SS();u.useEffect(()=>{if(!open||e.type!==R.GDRIVE)return;const c=r.get(R.GDRIVE)?.access_token;c&&GT(c)},[r,e.type]);const s=CS(e.type),a=L(),i=e.access_token?Nv.uploadFromMessage:Nv.signinWithMessage;return o.jsx(te.Item,{onClick:t,icon:s,className:N(n&&"mx-0 rounded-xl p-1.5 px-2 py-2.5"),children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx(C,{...i,values:{connectorName:Y1(e.type,a)}}),e.type===R.O365_BUSINESS&&o.jsx("div",{className:"text-s text-token-text-tertiary",children:o.jsx(C,{...bS.includesSharePoint})})]})},e.id)}const Nv=U({signinWithMessage:{id:"ContextConnectorPickerDropdownItem.signInWithMessage",defaultMessage:"Connect to {connectorName}"},uploadFromMessage:{id:"ContextConnectorPickerDropdownItem.uploadWithMessage",defaultMessage:"Add from {connectorName}"}}),WT=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C10.8908 4 9.92096 4.60141 9.40073 5.50073C9.22199 5.80972 8.89209 6 8.53513 6H5C4.44772 6 4 6.44771 4 7V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V7C20 6.44771 19.5523 6 19 6H15.4649C15.1079 6 14.778 5.80972 14.5993 5.50073C14.079 4.60141 13.1092 4 12 4ZM7.99978 4C8.91089 2.78702 10.3631 2 12 2C13.6369 2 15.0891 2.78702 16.0002 4H19C20.6569 4 22 5.34315 22 7V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V7C2 5.34315 3.34315 4 5 4H7.99978ZM12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10ZM8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12Z",fill:"currentColor"})),Kbe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M6 3C4.34315 3 3 4.34315 3 6V8C3 8.55228 3.44772 9 4 9C4.55228 9 5 8.55228 5 8V6C5 5.44772 5.44772 5 6 5H8C8.55228 5 9 4.55228 9 4C9 3.44772 8.55228 3 8 3H6ZM16 3C15.4477 3 15 3.44772 15 4C15 4.55228 15.4477 5 16 5H18C18.5523 5 19 5.44772 19 6V8C19 8.55228 19.4477 9 20 9C20.5523 9 21 8.55228 21 8V6C21 4.34315 19.6569 3 18 3H16ZM5 16C5 15.4477 4.55228 15 4 15C3.44772 15 3 15.4477 3 16V18C3 19.6569 4.34315 21 6 21H8C8.55228 21 9 20.5523 9 20C9 19.4477 8.55228 19 8 19H6C5.44772 19 5 18.5523 5 18V16ZM21 16C21 15.4477 20.5523 15 20 15C19.4477 15 19 15.4477 19 16V18C19 18.5523 18.5523 19 18 19H16C15.4477 19 15 19.4477 15 20C15 20.5523 15.4477 21 16 21H18C19.6569 21 21 19.6569 21 18V16ZM9.6665 11.9993C9.6665 10.7107 10.7112 9.66602 11.9998 9.66602C13.2885 9.66602 14.3332 10.7107 14.3332 11.9993C14.3332 13.288 13.2885 14.3327 11.9998 14.3327C10.7112 14.3327 9.6665 13.288 9.6665 11.9993ZM11.9998 7.66602C9.6066 7.66602 7.6665 9.60611 7.6665 11.9993C7.6665 14.3926 9.6066 16.3327 11.9998 16.3327C14.3931 16.3327 16.3332 14.3926 16.3332 11.9993C16.3332 9.60611 14.3931 7.66602 11.9998 7.66602Z",fill:"currentColor"})),Qbe={"image/jpeg":".jpg","image/png":".png"};function bDe({entry:e,isNested:t}){return o.jsx(te.Item,{onClick:e.onClick,icon:e.icon,className:N(t&&"mx-0 rounded-xl p-1.5 px-2 py-2.5"),children:o.jsx(C,{...e.label})},e.key)}function Xbe(e){const t=L(),n=Be(),r=ec();return u.useCallback(async a=>{const i=`${new Date().toISOString().replaceAll(":","-")}${Qbe[a.mimeType]}`;ei.uploadFile(r,new File([a.data],i,{type:a.mimeType}),e,t,n,void 0,void 0,Ye.Multimodal)},[r,t,n,e])}function wDe(e){const t=Xbe(e),n=Jbe(t),r=ewe(t);return{desktopConnectors:u.useMemo(()=>_l?[n,r].filter(a=>a!==void 0):[],[n,r])}}function Jbe(e){return u.useMemo(()=>({key:"takeScreenshot",label:zT.takeScreenshot,icon:Kbe,onClick:async()=>{const t=await NN();t&&(E.logEvent(_.sidetronScreenshotAttached),await e(t))}}),[e])}function ewe(e){return u.useMemo(()=>({key:"takePhoto",label:zT.takePhoto,icon:WT,onClick:async()=>{const t=await jN();t&&(E.logEvent(_.sidetronPhotoAttached),await e(t))}}),[e])}const zT=U({takeScreenshot:{id:"ContextConnectorPickerDropdownItem.takeScreenshotDesktop",defaultMessage:"Take screenshot"},takePhoto:{id:"ContextConnectorPickerDropdownItem.takePhotoDesktop",defaultMessage:"Take photo"}});async function SDe(e,t,n,r){await GT(n);async function s(f){switch(f.action){case google.picker.Action.PICKED:{_t.filePickerPicked(R.GDRIVE,f.docs.length);const m=f.docs.map(p=>({connector:t,id:p.id,title:p.name,mimeType:p.mimeType,url:p.url,syntheticExtension:p.type==="document"?mS(p.mimeType):null}));r(m);break}case google.picker.Action.CANCEL:_t.filePickerCancelled(R.GDRIVE);return;case"loaded":{_t.filePickerLoaded(R.GDRIVE);return}}}const a=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setSelectFolderEnabled(!1).setMode(google.picker.DocsViewMode.LIST);let i="en";jv.includes(e)?i=e:jv.includes(e.split("-")[0])&&(i=e.split("-")[0]);const l=new google.picker.PickerBuilder().enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_DRIVES).setDeveloperKey(sT).setAppId(N8e).setOAuthToken(n).addView(a).setCallback(s).setLocale(i).build();_t.filePickerStarted(R.GDRIVE),l.setVisible(!0);const c=twe(),d=()=>{_t.filePickerCancelled(R.GDRIVE),l.setVisible(!1),c?.removeEventListener("click",d)};c?.addEventListener("click",d)}function twe(){if(typeof window>"u")return null;const e=window.document.body.querySelector("div.picker-dialog-bg")??window.document.body.querySelector("div.oai-picker-dialog-bg");return e?.classList.add("oai-picker-dialog-bg","bg-black/50","dark:bg-black/80","absolute","inset-0","z-[1000]"),e?.classList.remove("picker-dialog-bg"),e}const jv=["af","am","ar","bg","bn","ca","cs","da","de","el","en","en-GB","es","es-419","et","eu","fa","fi","fil","fr","fr-CA","gl","gu","hi","hr","hu","id","is","it","iw","ja","kn","ko","lt","lv","ml","mr","ms","nl","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zh-CN","zh-HK","zh-TW","zu"],MDe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M12.3381 11.8959C12.4534 12.7162 11.8819 13.4747 11.0615 13.59C10.2411 13.7053 9.48263 13.1337 9.36733 12.3134C9.25204 11.493 9.82361 10.7345 10.644 10.6192C11.4643 10.5039 12.2228 11.0755 12.3381 11.8959Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.63616 3.70373C7.89431 1.94808 9.56549 0.797489 11.2968 1.03005L20.1984 2.22577C21.9378 2.45942 23.227 4.02148 22.9672 5.78826L21.7162 14.2962C21.458 16.0519 19.7869 17.2025 18.0555 16.9699L16.7694 16.7971L16.9691 18.218C17.2111 19.9396 16.0116 21.5314 14.2899 21.7734L5.78198 22.9691C4.06037 23.211 2.46858 22.0115 2.22662 20.2899L1.0309 11.782C0.788948 10.0603 1.98845 8.46855 3.71006 8.2266L7.03992 7.75862L7.63616 3.70373ZM9.10408 7.46852L12.218 7.03088C13.9396 6.78892 15.5314 7.98842 15.7734 9.71004L16.4803 14.7404L18.3218 14.9877C19.0486 15.0853 19.6502 14.599 19.7375 14.0053L20.9885 5.49731C21.0742 4.91468 20.6508 4.3045 19.9321 4.20796L11.0305 3.01225C10.3038 2.91462 9.70219 3.40093 9.61488 3.99469L9.10408 7.46852ZM13.7928 9.98838C13.7046 9.36059 13.1242 8.92319 12.4964 9.01142L3.98841 10.2071C3.36061 10.2954 2.92321 10.8758 3.01144 11.5036L3.62988 15.904L4.69782 14.8409C5.80805 13.7357 7.56201 13.6151 8.81311 14.5579L14.8931 19.1395C14.9834 18.9455 15.0206 18.724 14.9886 18.4963L13.7928 9.98838ZM12.6844 19.9794L7.60948 16.1551C7.15326 15.8114 6.51367 15.8554 6.10882 16.2584L3.97781 18.3797L4.20716 20.0116C4.29539 20.6394 4.87584 21.0768 5.50364 20.9885L12.6844 19.9794Z",fill:"currentColor"})),nwe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.16146 3H16.8385C17.3657 2.99998 17.8205 2.99997 18.195 3.03057C18.5904 3.06287 18.9836 3.13419 19.362 3.32698C19.9265 3.6146 20.3854 4.07354 20.673 4.63803C20.8658 5.01641 20.9371 5.40963 20.9694 5.80497C21 6.17954 21 6.6343 21 7.16144V16.8386C21 17.3657 21 17.8205 20.9694 18.195C20.9371 18.5904 20.8658 18.9836 20.673 19.362C20.3854 19.9265 19.9265 20.3854 19.362 20.673C18.9836 20.8658 18.5904 20.9371 18.195 20.9694C17.8205 21 17.3657 21 16.8386 21H7.16144C6.6343 21 6.17954 21 5.80497 20.9694C5.40963 20.9371 5.01641 20.8658 4.63803 20.673C4.07354 20.3854 3.6146 19.9265 3.32698 19.362C3.13419 18.9836 3.06287 18.5904 3.03057 18.195C2.99997 17.8205 2.99998 17.3657 3 16.8385V7.16146C2.99998 6.63431 2.99997 6.17955 3.03057 5.80497C3.06287 5.40963 3.13419 5.01641 3.32698 4.63803C3.6146 4.07354 4.07354 3.6146 4.63803 3.32698C5.01641 3.13419 5.40963 3.06287 5.80497 3.03057C6.17955 2.99997 6.63431 2.99998 7.16146 3ZM5.96784 5.02393C5.69617 5.04612 5.59546 5.0838 5.54601 5.109C5.35785 5.20487 5.20487 5.35785 5.109 5.54601C5.0838 5.59546 5.04612 5.69617 5.02393 5.96784C5.00078 6.25117 5 6.62345 5 7.2V13.5858L5.87868 12.7071C7.05026 11.5355 8.94975 11.5355 10.1213 12.7071L16.4142 19H16.8C17.3766 19 17.7488 18.9992 18.0322 18.9761C18.3038 18.9539 18.4045 18.9162 18.454 18.891C18.6422 18.7951 18.7951 18.6422 18.891 18.454C18.9162 18.4045 18.9539 18.3038 18.9761 18.0322C18.9992 17.7488 19 17.3766 19 16.8V7.2C19 6.62345 18.9992 6.25118 18.9761 5.96784C18.9539 5.69617 18.9162 5.59546 18.891 5.54601C18.7951 5.35785 18.6422 5.20487 18.454 5.109C18.4045 5.0838 18.3038 5.04612 18.0322 5.02393C17.7488 5.00078 17.3766 5 16.8 5H7.2C6.62345 5 6.25117 5.00078 5.96784 5.02393ZM13.5858 19L8.70711 14.1213C8.31658 13.7308 7.68342 13.7308 7.2929 14.1213L5 16.4142V16.8C5 17.3766 5.00078 17.7488 5.02393 18.0322C5.04612 18.3038 5.0838 18.4045 5.109 18.454C5.20487 18.6422 5.35785 18.7951 5.54601 18.891C5.59546 18.9162 5.69617 18.9539 5.96784 18.9761C6.25117 18.9992 6.62345 19 7.2 19H13.5858ZM14.5 8.5C13.9477 8.5 13.5 8.94772 13.5 9.5C13.5 10.0523 13.9477 10.5 14.5 10.5C15.0523 10.5 15.5 10.0523 15.5 9.5C15.5 8.94772 15.0523 8.5 14.5 8.5ZM11.5 9.5C11.5 7.84315 12.8431 6.5 14.5 6.5C16.1569 6.5 17.5 7.84315 17.5 9.5C17.5 11.1569 16.1569 12.5 14.5 12.5C12.8431 12.5 11.5 11.1569 11.5 9.5Z",fill:"currentColor"}));function qT(e){const{config:t}=Od("3519108196"),n=Np()&&e.length>0;return{isEligible:n,canUploadAlbums:n&&t.get("show-album-upload",!1),canTakePhotos:n&&t.get("show-camera-upload",!1)}}function _De({uploadType:e,modelSupportedImageMimeTypes:t,gizmo:n,attachmentsProductFeature:r}){const s=L(),a=ec(),i=Be(),l=u.useRef(null),c=u.useRef(null),d=(v,h)=>{v&&(Array.from(v).forEach(x=>{cn.uploadFile(a,ll(x),x,e??Ye.Retrieval,t,s,i,{gizmoId:n?.gizmo.id},r)}),E.logEvent(_.uploadFile,{intent:h,source:e}),$.logEvent(`chatgpt_web_${h}_file_uploaded`,null,{location:e===Ye.Retrieval?"retrieval":"context-connector-picker"}))},f=v=>{E.logEvent(_.openFileViewer,{intent:v,source:e}),$.logEvent(`chatgpt_web_${v}_file_viewer_opened`,null,{location:e===Ye.Retrieval?"retrieval":"context-connector-picker"})},{canUploadAlbums:m,canTakePhotos:p,isEligible:g}=qT(t);return g?o.jsxs(o.Fragment,{children:[m&&o.jsx("input",{className:"sr-only",type:"file",ref:l,"data-type":"photos",id:"upload-photos",onClick:()=>f("photos"),onChange:()=>{const v=l.current?.files;d(v,"photos")},accept:"image/*",multiple:!0}),p&&o.jsx("input",{className:"sr-only",type:"file",ref:c,"data-type":"camera",id:"upload-camera",onClick:()=>f("camera"),onChange:()=>{const v=c.current?.files;d(v,"camera")},accept:"image/*",capture:"environment",multiple:!0})]}):null}function EDe({modelSupportedImageMimeTypes:e}){const{canUploadAlbums:t,canTakePhotos:n,isEligible:r}=qT(e);return r?o.jsxs(o.Fragment,{children:[t&&o.jsx(te.Item,{onClick:()=>{document.querySelector('input[data-type="photos"]')?.click()},icon:o.jsx(nwe,{className:"text-token-text-secondary"}),children:o.jsx("label",{htmlFor:"upload-photos",children:o.jsx(C,{id:"InGZfu",defaultMessage:"Photo Library"})})}),n&&o.jsx(te.Item,{onClick:()=>{document.querySelector('input[data-type="camera"]')?.click()},icon:o.jsx(WT,{className:"text-token-text-secondary"}),children:o.jsx("label",{htmlFor:"upload-camera",children:o.jsx(C,{id:"4JcvEJ",defaultMessage:"Take Photo or Video"})})})]}):null}var rwe=Lx,swe=rwe(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),awe=swe;const kDe=ue(awe),TDe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7C9 4.23858 11.2386 2 14 2C16.7614 2 19 4.23858 19 7V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 8.44772 5.44772 8 6 8C6.55228 8 7 8.44772 7 9V15C7 17.7614 9.23858 20 12 20C14.7614 20 17 17.7614 17 15V7C17 5.34315 15.6569 4 14 4C12.3431 4 11 5.34315 11 7V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V9C13 8.44772 13.4477 8 14 8C14.5523 8 15 8.44772 15 9V15C15 16.6569 13.6569 18 12 18C10.3431 18 9 16.6569 9 15V7Z",fill:"currentColor"})),ADe=({replyRegions:e})=>o.jsx("div",{className:"flex cursor-auto flex-col divide-y divide-token-border-light overflow-hidden rounded-b-lg rounded-t-[20px] bg-token-main-surface-primary",children:e.map((t,n)=>{switch(t.type){case"text":return o.jsx(owe,{value:t.value,onRemoveRegion:t.onRemoveRegion},n);case"object":return o.jsx(iwe,{value:t.value,onRemoveRegion:t.onRemoveRegion},n);case"mention":case"system_hint":return o.jsx(lwe,{value:t.value,icon:t.icon,onRemoveRegion:t.onRemoveRegion},n)}return null})});function owe({value:e,onRemoveRegion:t}){return o.jsxs(Q5,{className:"text-token-text-secondary",children:[o.jsx(X5,{children:o.jsx(W1,{className:"icon-lg-heavy"})}),o.jsx(J5,{children:`${e}`}),o.jsx(K5,{onClick:t})]})}function iwe({value:e,onRemoveRegion:t}){return o.jsxs(Q5,{className:"text-blue-selection",children:[o.jsx(X5,{children:o.jsx(W1,{className:"icon-lg-heavy"})}),o.jsx(J5,{className:"font-semibold",children:e}),o.jsx(K5,{onClick:t})]})}function lwe({value:e,icon:t,onRemoveRegion:n}){return o.jsxs(Q5,{children:[o.jsx(X5,{className:"mt-0",children:t}),o.jsx(J5,{className:"font-semibold text-token-text-primary",children:e}),o.jsx(K5,{onClick:n})]})}function K5({onClick:e}){const t=L();return o.jsx("button",{onClick:e,type:"button",className:"flex-shrink-0 text-token-text-secondary","aria-label":t.formatMessage({id:"PlVqJ1",defaultMessage:"Remove"}),children:o.jsx(IN,{className:"icon-lg"})})}const Q5=ce.div`bg-token-main-surface-secondary dark:bg-token-main-surface-tertiary flex items-start py-2.5 gap-3 pl-3 pr-1.5 text-sm`,X5=ce.span`flex-shrink-0 mt-0.5 w-7 h-6 flex justify-center items-center`,J5=ce.span`flex-1 line-clamp-3 py-0.5`;function PDe(e){const t=u.useRef(e);t.current=e;const[n,r]=u.useState(null),s=u.useCallback(a=>{r(a)},[]);return Bd(()=>{const a=new ResizeObserver(i=>{for(const l of i)t.current(l)});return n&&a.observe(n),()=>{a.disconnect()}},[n]),s}const ZT=N("flex items-center justify-center rounded-full"),YT=N(ZT,"border border-token-border-light p-1 text-token-text-secondary","focus-visible:outline-black dark:text-token-text-secondary dark:focus-visible:outline-white","bg-transparent dark:bg-transparent"),KT=N("can-hover:hover:bg-token-main-surface-secondary","dark:can-hover:hover:bg-gray-700"),cwe=N(ZT,"bg-black text-white transition-colors hover:opacity-70 focus-visible:outline-none","focus-visible:outline-black disabled:text-[#f4f4f4] disabled:opacity-30","dark:bg-white dark:text-black dark:focus-visible:outline-white");function uwe(e){return o.jsx("div",{className:N(YT,KT,e.buttonClassName),children:o.jsx(iS,{className:"h-[18px] w-[18px]"})})}const dwe=gt(()=>ut(()=>import("./liaju29fw9oaw0b6.js"),__vite__mapDeps([57,1,3,4,58,59,60])).then(e=>e.WhisperIconButton),{loading:e=>o.jsx(uwe,{...e})});function NDe(e){const{layer:t}=ot("1170120107");return t.get("is_whisper_enabled",!1)?o.jsx(dwe,{...e}):null}function fwe(e){return o.jsxs("div",{className:"flex gap-x-1.5",children:[o.jsx("div",{className:N(YT,KT,e.buttonClassName),children:o.jsx(aa,{className:"h-[18px] w-[18px] text-black dark:text-white"})}),o.jsx("div",{className:N(cwe,e.buttonClassName),children:o.jsx(wl,{className:"icon-lg"})})]})}const mwe=gt(()=>ut(()=>import("./acaagqk8v2ucjh44.js"),__vite__mapDeps([61,1,3,4,60])).then(e=>e.WhisperModeControls),{loading:e=>o.jsx(fwe,{...e})});function jDe(e){return o.jsx(mwe,{...e})}const pwe=4;function IDe({waveform:e,progressPercentage:t,containerWidth:n,barWidth:r=pwe,normalize:s=!1,scaleFactor:a=1,initialValue:i=0,silentColor:l,activeColor:c}){const d=u.useRef(null),f=qd(),m=l??(f?"#000":"#CCC"),p=c??(f?"#CCC":"#000"),{soundBars:g,firstAudioBarIndex:v}=u.useMemo(()=>{const h=e.length,x=Math.floor(n/r),y=h/x;let b=-1;const S=[];for(let k=0;k<x;k++){const A=Math.floor(k*y),M=Math.min(Math.floor((k+1)*y),h);if(A>=M){S.push(0);continue}let P=0;for(let D=A;D<M;D++)P+=Math.abs(e[D]);const I=P/(M-A);b===-1&&I>i&&(b=k),S.push(I)}let T=S;if(s){const A=1/(Math.max(...T)||1);T=T.map(M=>{const P=M*A;return Math.max(Math.min(P,.92),.08)})}return{soundBars:T,firstAudioBarIndex:b}},[e,n,r,s,i]);return u.useEffect(()=>{const h=d.current,x=h?.getContext("2d");if(!h||!x)return;const y=window.devicePixelRatio,{clientHeight:b}=h;h.width=n*y,h.height=b*y,h.style.width=`${n}px`,h.style.height=`${b}px`,x.clearRect(0,0,h.width,h.height);const S=b*y*.5;x.translate(0,S);const T=h.width/g.length;for(let k=0;k<g.length;k++){let A=g[k];s||(A*=a);const M=A*S,P=k*T;if(typeof t=="number"){const D=(g.length-k)/g.length<t;x.fillStyle=D?p:m}else{const I=v===-1||k<v?m:p;x.fillStyle=I}x.fillRect(P,-M,T/2,M*2)}},[g,n,m,p,s,a,v,t]),o.jsx("canvas",{ref:d,className:"h-8 w-full"})}function gwe(e,t){return N("relative flex h-9 items-center justify-center rounded-full bg-black text-white transition-colors focus-visible:outline-none focus-visible:outline-black disabled:text-gray-50 disabled:opacity-30 can-hover:hover:opacity-70 dark:bg-white dark:text-black",e?"min-w-8 p-2":t?"w-7":"w-9",t&&"!h-7")}function hwe(){const e=L();return o.jsx("span",{className:"whitespace-nowrap pl-1 pr-1 text-[13px] font-semibold [display:--force-hide-label]",children:e.formatMessage({id:"composerSpeechUpsell.voiceLabel",defaultMessage:"Voice"})})}const vwe=gt(()=>ut(()=>import("./czifr2fg0shgkvy0.js").then(e=>e.v),__vite__mapDeps([62,3,1,4,63,64,65,12,6,59,66,17,67,58,27,22])).then(e=>e.VoiceModeLayout));function xwe({isSmall:e}){const{getUpsellLabelType:t}=HT(),n=t()==="all";return o.jsxs("button",{className:N(gwe(n,e??!1)),children:[o.jsx(RU,{}),n&&o.jsx(hwe,{})]})}const Cwe=gt(()=>ut(()=>import("./c3i1bmlhmru6zkrc.js"),__vite__mapDeps([68,1,3,4,64,65,12,6,63,59,66,17])).then(e=>e.ComposerSpeechButton),{loading:xwe}),ywe=gt(()=>ut(()=>import("./fxte0ufuqvo8jvkj.js"),__vite__mapDeps([69,1,3,4,41])).then(e=>e.VoiceConversationRating));function e4(){return!Yd()&&!RN()}function RDe(e){return e4()?o.jsx(vwe,{...e}):null}function bwe(e){const{fallback:t,...n}=e;return e4()?o.jsx(Cwe,{...n}):t}function LDe(e){return e4()?o.jsx(ywe,{...e}):null}function ODe(e){const{isImageGenEditor:t}=Rxe(),{isUnauthenticated:n}=at(),s=Kue(k=>k.files).length>0,a=e.composerController.useState(k=>!k.isEmpty()),i=!s&&!a,{browseMode:l}=se(),c=ng(e.gizmoId),d=u.useContext($r).isElectron,f=Yd()&&!d,m=Cn(),{value:p}=qe("2360528850"),g=m&&!p,v=qe("3728856343").value,h=$e(),x=Dn(),{getShowVoiceUpsell:y}=HT();if(e.inputState==="disabled")return null;const b=h!=null&&(!h.isWorkspaceAccount()||(x?.includes(hs.AllowVoiceUse)??!1)),S=!n&&b||n&&(v||y()),T=o.jsx(wwe,{isSmall:e.isSmall,isDisabled:e.state==="disabled",isStreaming:e.state==="streaming",onSubmit:e.onSubmit,disableReason:e.disableReason,useStartButtonText:e.useStartButtonText,composerController:e.composerController});return S&&!c&&i&&e.state==="disabled"&&e.clientThreadId&&l!=="gizmo-editor"&&!f&&!g&&!t?o.jsx("div",{className:e.isSmall?"min-w-7":"min-w-9",children:o.jsx(bwe,{isSmall:e.isSmall,clientThreadId:e.clientThreadId,fallback:T})}):T}function wwe({onSubmit:e,isStreaming:t,isDisabled:n,disableReason:r,useStartButtonText:s,composerController:a,isSmall:i}){const l=u.useSyncExternalStore(h=>a.subscribe("change",h),()=>a.isEmpty(),()=>!0),c=SCe(),d=t&&(!c||l),f=d?gie:hie,m=L(),p=r==="async_task_pending",g=$le(),v=o.jsx("button",{onClick:e,disabled:n||p,"aria-label":d?m.formatMessage(La.stopStreamingLabel):m.formatMessage(La.sendPromptLabel),"data-testid":d?"stop-button":"send-button",className:N("flex items-center justify-center rounded-full transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:outline-black disabled:text-[#f4f4f4] disabled:hover:opacity-100 dark:focus-visible:outline-white disabled:dark:bg-token-text-quaternary dark:disabled:text-token-main-surface-secondary","bg-black text-white disabled:bg-[#D7D7D7] dark:bg-white dark:text-black",i?"h-7 w-7":"h-9 w-9",s&&!d&&"px-8"),children:s&&!d?o.jsx("p",{className:"text-md font-medium",children:o.jsx(C,{id:"q2Rxh8",defaultMessage:"Start"})}):o.jsx(f,{className:N(d?"icon-lg":"icon-2xl")})});return r&&n||p?o.jsx(et,{sideOffset:14,label:r==="file_upload_pending"?m.formatMessage(La.fileUploadPendingLabel):r==="empty_text_content"?m.formatMessage(La.emptyTextContentLabel):r==="async_task_pending"?m.formatMessage(La.asyncTaskInProgressLabel):r==="no_source_selected_dr"?g.caterpillarNoneSelectedMessage:m.formatMessage(La.textContentTooLongLabel),side:"top",children:v}):v}const La=U({stopStreamingLabel:{id:"+yfm/p",defaultMessage:"Stop streaming"},sendPromptLabel:{id:"xfIykB",defaultMessage:"Send prompt"},emptyTextContentLabel:{id:"LCVL2q",defaultMessage:"Message is empty"},textContentTooLongLabel:{id:"kDrqDJ",defaultMessage:"Message is too long"},fileUploadPendingLabel:{id:"Qv7jQN",defaultMessage:"File upload pending"},asyncTaskInProgressLabel:{id:"a959Km",defaultMessage:"Disabled"},bigBoxSubmitShortcutWindows:{id:"v8kTwt",defaultMessage:"Ctrl + Enter to send"},bigBoxSubmitShortcutMac:{id:"DC5el0",defaultMessage:" Enter to send"}});function QT(){return"virtualKeyboard"in navigator}const Swe=de()(()=>({height:0,isKeyboardOpen:!1,scrollOffset:null,composerHeight:null}));function Mwe(){const{layer:e}=ot("2505516353"),t=Ad();return{getAndroidKeyboardLayout:ur({layer:e,condition:()=>!(!t||!R_()||!Np()||!QT()),paramName:"android-keyboard-layout",defaultValue:!1})}}function DDe(e){const{ref:t,children:n,className:r,...s}=e,{getAndroidKeyboardLayout:a}=Mwe(),i=a();return o.jsxs(o.Fragment,{children:[i&&o.jsx("div",{className:"fixed bottom-[var(--screen-keyboard-height,0)] left-0 right-0 z-0 h-6 bg-token-main-surface-primary"}),o.jsx("div",{...s,className:N(i&&"keyboard-open:fixed keyboard-open:bottom-[var(--screen-keyboard-height,0)] keyboard-open:left-3 keyboard-open:right-3 keyboard-open:z-50 keyboard-open:!w-auto keyboard-open:-translate-y-2 max-xs:[--force-hide-label:none]",r),ref:l=>{if(typeof t=="function"?t(l):t!=null&&(t.current=l),!!i)return t5({axis:"height",target:l,onChange:({height:c})=>{Swe.setState(d=>({...d,composerHeight:c}))}})},children:n})]})}const Iv=de(()=>({rect:null})),_we=e=>{if(!e)return Iv.setState({rect:null});const{height:t,left:n,top:r,width:s}=e.getBoundingClientRect(),{borderRadius:a}=getComputedStyle(e);Iv.setState({rect:{height:t,left:n,top:r,width:s,borderRadius:a}})};function FDe({composerController:e,composerRef:t,clientThreadId:n}){const r=L(),[{height:s},a]=bj(),i=u.useCallback(()=>{const{height:g}=e.element?.getBoundingClientRect()??{};return g==null||e.isEmpty()?!1:g>s},[e,s]),l=u.useSyncExternalStore(g=>e.subscribe("change",g),i,()=>!1),d=e.useState(g=>g.getContentLength())>px,f=o.jsx("span",{ref:a,"aria-hidden":!0,className:"pointer-events-none invisible fixed left-0 top-0 block",children:"O"});if(!l)return f;const m=()=>({clientThreadId:n,conversation_id:vn(n)});function p(){E.logEventWithStatsig(_.composerOpenInCanvasButtonClicked,"composer_open_in_canvas_button_clicked",m()),t?.current&&_we(t.current);const g=Wi.createTempTextdoc(e.getContentToSend().content,r.formatMessage({id:"9e0Zzr",defaultMessage:"New document"}),Gi.USER_CREATED_COMPOSER);requestAnimationFrame(()=>{fs(g),e.eraseContent(),e.focus()})}return o.jsxs(o.Fragment,{children:[f,o.jsx(et,{side:"right",sideOffset:0,label:d?o.jsx(C,{id:"Ff/tSw",defaultMessage:"Too long for canvas"}):o.jsx(C,{id:"r4hDqs",defaultMessage:"Open in canvas"}),onOpenChange:g=>{g&&E.logEventWithStatsig(_.composerOpenInCanvasButtonHovered,"composer_open_in_canvas_button_hovered",m())},children:o.jsx("button",{className:"flex h-8 min-w-8 items-center justify-center rounded-lg p-1 text-xs font-semibold text-token-text-secondary hover:bg-black/10 focus-visible:outline-black disabled:text-token-text-tertiary disabled:hover:bg-transparent dark:focus-visible:outline-white",disabled:d,"aria-label":r.formatMessage({id:"Fj5Lgk",defaultMessage:"Open in canvas"}),onPointerDown:()=>{d||p?.()},onMouseDown:g=>{g.preventDefault()},onClick:g=>{g.preventDefault(),g.detail===0&&!d&&p()},children:o.jsx(bg,{})})})]})}const Ewe="_toolsButton_d2h2h_8",$De={toolsButton:Ewe},BDe=({icon:e,title:t,description:n,statusIndicator:r})=>o.jsxs("div",{className:"flex flex-row items-center gap-4 text-start",children:[e,o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-token-text-primary",children:t}),n&&o.jsx("p",{className:"text-xs text-token-text-secondary",children:n})]}),r]});function kwe({children:e}){return o.jsx(et,{label:o.jsx(C,{id:"8yqd2N",defaultMessage:"Temporarily unavailable"}),children:e})}const Twe=e=>u.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{id:"icon / google"},u.createElement("path",{id:"vector",d:"M14.0307 8.31917C14.0307 7.8828 13.9916 7.46322 13.9189 7.06042H8.12305V9.44364H11.4349C11.2895 10.2101 10.8531 10.859 10.1986 11.2954V12.845H12.1958C13.3594 11.7709 14.0307 10.1933 14.0307 8.31917Z",fill:"#4285F4"}),u.createElement("path",{id:"vector_2",d:"M8.12311 14.333C9.78465 14.333 11.1777 13.7848 12.1958 12.8449L10.1986 11.2953C9.65038 11.6645 8.95108 11.8883 8.12311 11.8883C6.52311 11.8883 5.16366 10.8086 4.67695 9.354H2.62939V10.9428C3.64198 12.9512 5.71751 14.333 8.12311 14.333Z",fill:"#34A853"}),u.createElement("path",{id:"vector_3",d:"M4.67693 9.34854C4.55386 8.97931 4.48113 8.5877 4.48113 8.17931C4.48113 7.77092 4.55386 7.37931 4.67693 7.01008V5.42126H2.62938C2.2098 6.24924 1.96924 7.1835 1.96924 8.17931C1.96924 9.17512 2.2098 10.1094 2.62938 10.9374L4.22379 9.6954L4.67693 9.34854Z",fill:"#FBBC05"}),u.createElement("path",{id:"vector_4",d:"M8.12311 4.47574C9.0294 4.47574 9.835 4.78903 10.4784 5.39323L12.2406 3.63099C11.1721 2.63518 9.78465 2.02539 8.12311 2.02539C5.71751 2.02539 3.64198 3.40721 2.62939 5.4212L4.67695 7.01001C5.16366 5.55546 6.52311 4.47574 8.12311 4.47574Z",fill:"#EA4335"}))),Awe=({footerContent:e,primaryButton:t,secondaryButton:n})=>!e&&!t&&!n?null:o.jsxs("div",{className:"flex items-center justify-between border-t p-6",children:[o.jsxs("div",{children:[e," "]}),o.jsxs("div",{className:"flex gap-2",children:[n,t]})]}),XT=()=>o.jsx(JT,{ConnectorIcon:Yn}),Pwe=()=>o.jsx(JT,{ConnectorIcon:Jl}),JT=({ConnectorIcon:e})=>o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx(Ep,{className:"h-12 w-12"}),o.jsxs("div",{className:"text-token-text-secondary",children:[o.jsx(LN,{className:"icon-sm mr-2"}),o.jsx(p4e,{className:"icon-sm ml-2"})]}),o.jsx(e,{width:48,height:48})]}),UDe=e=>{switch(e){case"google_drive_oauth":case"google_drive_dwd":return o.jsx(XT,{});case"slack":return o.jsx(Pwe,{});default:return null}};function Nwe({isOpen:e,onClose:t,onContinue:n}){const r=L();return o.jsxs(he,{type:"success",size:"custom",className:"max-w-xl",showCloseButton:!0,shouldIgnoreClickOutside:!0,hideSeparator:!0,noPadding:!0,isOpen:e,onClose:t,title:o.jsx(XT,{}),children:[o.jsxs("div",{className:"px-6 pb-10 pt-4",children:[o.jsx("div",{className:"text-xl font-medium",children:o.jsx(C,{id:"zjbSLP",defaultMessage:"Connect your organizations Google Drive "})}),o.jsx("div",{className:"text-md mt-3 text-token-text-secondary",children:o.jsx(C,{id:"dxXmoU",defaultMessage:"Your admin has enabled internal knowledge for your workspace. Connecting ChatGPT to Google Drive helps you get more personalized, up-to-date answersgrounded in your organizations content. ChatGPT semantically searches your Drive and only surfaces content youre authorized to view."})}),o.jsx("div",{className:"mt-6 text-lg font-medium",children:o.jsx(C,{id:"x/LOXH",defaultMessage:"What to expect"})}),o.jsxs("ul",{className:"text-md ml-6 mt-4 text-token-text-secondary",children:[o.jsx("li",{className:"mb-2 list-disc",children:o.jsx(C,{id:"iBETBV",defaultMessage:"Continuous sync: Your documents, spreadsheets, and presentations stay up to date in ChatGPT."})}),o.jsx("li",{className:"mb-2 list-disc",children:o.jsx(C,{id:"u/D1Mk",defaultMessage:"Privacy first: ChatGPT always respects your Google Drive permissions  it can only access what you can."})}),o.jsx("li",{className:"list-disc",children:o.jsx(C,{id:"uHiJ04",defaultMessage:"Youre in control: Disconnect anytime to instantly revoke access."})})]}),o.jsxs("div",{className:"mt-6 flex w-full flex-row items-center gap-4 rounded-xl bg-token-main-surface-secondary p-4 text-token-text-primary",children:[o.jsx(rT,{className:"icon-lg"}),o.jsx("span",{className:"text-sm text-token-text-secondary",children:o.jsx(C,{id:"Z+kTWW",defaultMessage:"Note: Depending on the size of your organization, initial syncing may take up to a few days."})})]})]}),o.jsx(Awe,{secondaryButton:o.jsx(Ln,{title:r.formatMessage({id:"CfN1/v",defaultMessage:"Cancel"}),color:"secondary",onClick:t}),primaryButton:o.jsx(Ln,{color:"primary",onClick:n,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Twe,{}),r.formatMessage({id:"BTNZ16",defaultMessage:"Log in with Google"})]})})})]})}const jwe=gt(()=>ut(()=>import("./l2gth51p9bvubvgo.js"),__vite__mapDeps([38,1])));function Iwe(e){const t=e.matchTextColor??!0,n=u.useRef(null),[r,s]=u.useState(null);u.useEffect(()=>{if(!n.current||!t)return;const i=()=>{n.current&&s(getComputedStyle(n.current).color)},l=new MutationObserver(()=>{i()});return l.observe(window.document.documentElement,{attributes:!0,attributeFilter:["class","style"]}),l.observe(n.current,{attributes:!0,attributeFilter:["class","style"]}),i(),()=>l.disconnect()},[t]);const a=u.useMemo(()=>{if(!t)return e.animationData;const i=r?.match(/\d+/g)?.map(Number).map(d=>d/255);if(!i)return null;i.push(1);const l=_i(e.animationData),c=d=>{"ty"in d&&(d.ty==="fl"||d.ty==="st")&&"c"in d&&typeof d.c=="object"&&d.c&&"k"in d.c&&d.c.k?d.c.k=i:"it"in d&&Array.isArray(d.it)&&d.it.forEach(c)};return"layers"in l&&Array.isArray(l.layers)&&l.layers.forEach(d=>{"ty"in d&&d.ty===4&&"shapes"in d&&Array.isArray(d.shapes)&&d.shapes.forEach(c)}),l},[e.animationData,r,t]);return o.jsx("div",{ref:n,className:e.className,children:o.jsx(jwe,{animationData:a,lottieRef:e.lottieRef,onEnterFrame:e.onEnterFrame,onLoopComplete:e.onLoopComplete,loop:e.loop??!0,autoplay:e.autoplay??!0},r)})}function Rwe({className:e,animate:t=!0,animationData:n,StaticIcon:r,staticFrameIndex:s=0,matchTextColor:a=!1,stopSmoothly:i=!1}){const l=u.useRef(null),[c,d]=u.useState(t),[f,m]=u.useState(t),[p,g]=u.useState(),[v,h]=u.useState(!0);return u.useEffect(()=>{t&&!f?(m(!0),d(!0),l.current?.play()):!t&&f&&(m(!1),i?(g(s),l.current?.animationItem&&l.current.animationItem.currentFrame>s&&h(!1)):(d(!1),l.current?.goToAndStop(s)))},[t,i,s,f]),!r||c?o.jsx(Iwe,{className:e,animationData:n,matchTextColor:a,lottieRef:l,autoplay:c,onLoopComplete:()=>{v||h(!0)},onEnterFrame:()=>{p!=null&&v&&l.current?.animationItem&&l.current.animationItem.currentFrame>=p&&(d(!1),g(void 0),requestAnimationFrame(()=>{l.current?.goToAndStop(p)}))},loop:c}):o.jsx(r,{className:e})}const Lwe="5.7.5",Owe=100,Dwe=0,Fwe=120,$we=24,Bwe=24,Uwe="Comp 1",Hwe=0,Vwe={},Gwe=[],Wwe=[{ddd:0,ind:1,ty:4,nm:"Group Layer 1",sr:1,ks:{p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",nm:"Circle's solid stroke",it:[{ty:"el",d:1,s:{a:0,k:[5,5],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.058823529411764705,.058823529411764705,.058823529411764705],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:1,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[-7.74635124206543,9.090900421142578],ix:2},a:{a:0,k:[4,4],ix:2},s:{a:0,k:[99.99999865388264,99.99999865388264],ix:2},r:{a:0,k:59.99999955470795,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"Circle's solid stroke",it:[{ty:"el",d:1,s:{a:0,k:[5,5],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:1,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[11.738502502441406,2.1608974933624268],ix:2},a:{a:0,k:[4,4],ix:2},s:{a:0,k:[99.99999865388264,99.99999865388264],ix:2},r:{a:0,k:-59.99999955470795,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"Circle's solid stroke",it:[{ty:"el",d:1,s:{a:0,k:[5,5],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:1,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[4,-3.25],ix:2},a:{a:0,k:[4,4],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",it:[{ty:"gr",nm:"Path's solid stroke",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[1.7535999999999987,5.71135],[0,0]],i:[[0,0],[1.3511999999999986,1.5800799999999997]],o:[[.2289999999999992,-2.0525],[0,0]]}}},{ty:"tm",s:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:60,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:76,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:88,s:[95.73],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[18.595924377441406,9.982625007629395],ix:2},a:{a:0,k:[.8998245270928746,2.855675],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"Path's solid stroke",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[5.82298,1.3370999999999995]],i:[[0,0],[-2.0440000000000005,.38009999999999877]],o:[[1.66303,1.2245999999999988],[0,0]]}}},{ty:"tm",s:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:60,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:76,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:88,s:[95.73],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[.058823529411764705,.058823529411764705,.058823529411764705],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[10.454910278320312,18.767377853393555],ix:2},a:{a:0,k:[2.91149,.7313778705937704],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"Path's solid stroke",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[4.06941,0],[0,4.37427]],i:[[0,0],[.6928200000000002,-1.9601699999999997]],o:[[-1.8920500000000002,.8279300000000003],[0,0]]}}},{ty:"tm",s:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:60,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:76,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:88,s:[95.73],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[6.964394569396973,7.312865257263184],ix:2},a:{a:0,k:[2.034705,2.187135],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[12,12],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:50,s:[41],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:76,s:[91.3],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[120],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[120],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:121,st:0,bm:0}],zwe=[],qwe={v:Lwe,fr:Owe,ip:Dwe,op:Fwe,w:$we,h:Bwe,nm:Uwe,ddd:Hwe,metadata:Vwe,assets:Gwe,layers:Wwe,markers:zwe};function t4(e){return o.jsx(Rwe,{animationData:qwe,StaticIcon:DE,...e})}const HDe=e=>{switch(e){case"partially_activated":return o.jsx(C,{id:"MrKx4d",defaultMessage:"Initial search ready, full sync pending."});case"activating":return o.jsx(C,{id:"UU5Ehw",defaultMessage:"Search unavailable, sync initiating."});case"activated":return o.jsx(C,{id:"i57OQX",defaultMessage:"Context fully synced and live."});case"inactive":return null}},VDe=({connection:e})=>{switch(e.user_connection_details.activation_status){case"activated":return o.jsx(us,{className:"icon-md text-green-500"});case"partially_activated":return o.jsx(us,{className:"icon-md text-yellow-500"});case"activating":return o.jsx(t4,{className:"icon-md",matchTextColor:!0});case"inactive":return o.jsx(Zwe,{connection:e,redirectTo:location.pathname+location.search+location.hash,noDisconnect:!0})}},GDe=({activationStatus:e})=>{switch(e){case"partially_activated":return o.jsx(C,{id:"APdT1t",defaultMessage:"Your most recent data is now available and ready to search! Were still completing the full sync in the background, so some results may be missing for now. Depending on the size of your organization, this process may take up to a few days."});case"activating":return o.jsx(C,{id:"PZLfCP",defaultMessage:"Weve started syncing this source. It isnt yet available in ChatGPT, but were working on it! Depending on the size of your organization, the full sync may take up to a few days."});case"activated":return o.jsx(C,{id:"Kqb4Sy",defaultMessage:"Fully synced and live. Data updates in real time."});case"inactive":return null}},WDe=({activationStatus:e})=>{switch(e){case"activated":return o.jsx(us,{className:"icon-md text-green-500"});case"partially_activated":return o.jsx(us,{className:"icon-md text-yellow-500"});case"activating":return o.jsx(t4,{className:"icon-md",matchTextColor:!0});case"inactive":return}};function Zwe({connection:e,redirectTo:t,refetch:n,noDisconnect:r=!1}){const s=e.user_connection_details.knowledge_connector_type==="google_drive_oauth",a=Be(),i=L(),l=p5(),[c,d]=u.useState(!1),f=u.useCallback(async()=>{const h=e.user_connection_details.knowledge_connector_type;try{d(!0),E.logEventWithStatsig(_.contextualAnswersUserOAuthInitiated,"chatgpt_contextual_answers_user_oauth_initiated",{connectorType:h});const x=await Vm.user_request_connect(e.user_connection_details.connection_instance_id,t);E.logEventWithStatsig(_.contextualAnswersUserOAuthCompleted,"chatgpt_contextual_answers_user_oauth_completed",{connectorType:h}),window.location.href=x.oauth_flow_url}catch{E.logEventWithStatsig(_.contextualAnswersUserOAuthFailed,"chatgpt_contextual_answers_user_oauth_failed",{connectorType:h}),a.danger(i.formatMessage({id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}))}finally{d(!1),n?.()}},[e.user_connection_details.connection_instance_id,e.user_connection_details.knowledge_connector_type,i,t,n,a]),[m,p]=u.useState(!1),g=m1(),v=u.useMemo(()=>{switch(e.user_connection_details.auth_status){case"admin_connected":return o.jsx(G,{disabled:!0,size:"small",color:"ghost",children:o.jsx(C,{id:"Isczat",defaultMessage:"Connected"})});case"not_connected":{const h=o.jsx(G,{size:"small",disabled:g||l,loading:c,onClick:s?()=>p(!0):f,color:"secondary",children:o.jsx(C,{id:"9ZiK24",defaultMessage:"Connect"})});return g?o.jsx(et,{label:o.jsx(C,{id:"9DbE+w",defaultMessage:"Cannot connect, please use the web version instead"}),children:h}):l?o.jsx(kwe,{children:h}):h}case"user_connected":{if(r)return o.jsx(t4,{className:"icon-md"});const h=async()=>{try{d(!0),await Vm.user_disconnect(e.user_connection_details.connection_instance_id),a.success("Successfully disconnected your account.")}catch{a.danger("Encountered an error disconnecting your account. Please try again later.")}finally{d(!1),n?.()}};return o.jsx(G,{onClick:h,loading:c,color:"danger-outline",size:"small",children:o.jsx(C,{id:"59NbpS",defaultMessage:"Disconnect"})})}}},[e.user_connection_details.auth_status,e.user_connection_details.connection_instance_id,g,l,c,s,f,r,a,n]);return o.jsxs(o.Fragment,{children:[v,m&&o.jsx(Nwe,{isOpen:!0,onClose:()=>p(!1),onContinue:()=>{f(),p(!1)}})]})}function zDe(e,t){return e.user_connection_details.knowledge_connector_type>t.user_connection_details.knowledge_connector_type?1:e.user_connection_details.knowledge_connector_type<t.user_connection_details.knowledge_connector_type?-1:e.connection_display_info.display_name>t.connection_display_info.display_name?1:e.connection_display_info.display_name<t.connection_display_info.display_name?-1:0}function qDe(e,t,n,r,s){let a=Que.getReadyFiles(e.getState());r?.kind===ke.GizmoMagicCreate?a=a.filter(g=>g.gizmoId!=null):a=a.filter(g=>g.gizmoId==null);let i=t??"";const l=[],c=[],d=pS(n,r,s),m=bue(n,r).length>0,p=d===Ye.Interpreter||d===Ye.Retrieval||d===Ye.ContextConnector;return a.forEach(({fileSpec:g})=>{if(p){const v=g.contextConnectorInfo;l.push({id:g.id,size:g.size,name:g.name,context_connector_info:v?{context_connector:v?.contextConnector,source_url:v?.sourceUrl,synthetic_extension:v?.syntheticExtension??null,type:v?.type}:void 0,mime_type:g.mimeType,width:"width"in g?g.width:void 0,height:"height"in g?g.height:void 0,file_token_size:g.fileTokenSize})}m&&"width"in g&&"height"in g&&c.push({content_type:Hi.ImageAssetPointer,asset_pointer:xue(g.id),size_bytes:g.size,width:g.width,height:g.height})}),c.length>0&&(c.push(t??""),i={content_type:tt.MultimodalText,parts:c}),{content:i,attachments:l}}const ZDe=e=>{const[t,n]=u.useState(e),r=u.useRef(t),s=u.useCallback(()=>r.current,[]),a=u.useCallback(i=>n(l=>{let c=i;return ON(c)&&(c=c(l)),r.current=c,c}),[]);return[s,a]};function Ywe(){const e=Te();return o.jsxs("div",{className:"flex max-w-xs flex-col xs:-mt-4",children:[o.jsx("img",{className:"h-[132px] object-fill max-xs:hidden",src:lT.src,alt:""}),o.jsxs("div",{className:"flex flex-col p-5",children:[o.jsx("p",{className:"mb-1 text-pretty text-lg font-medium text-token-text-primary",children:o.jsx(C,{id:"rMGQc7",defaultMessage:"Deep Research"})}),o.jsx("p",{className:"text-pretty text-sm text-token-text-secondary",children:o.jsx(C,{id:"S9tgYQ",defaultMessage:"Explore big topics in great detail. Uses reasoning to synthesize large amounts of information."})}),o.jsx("div",{className:"mt-5 flex flex-row justify-start space-x-2",children:o.jsx(G,{as:"button",size:"medium",color:"primary",onClick:()=>rf(e,"Deep research upsell"),children:o.jsx(C,{id:"G+Fy4E",defaultMessage:"Upgrade to ChatGPT Plus"})},"login-button")})]})]})}function g2(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function Rv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eA(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Rv(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Rv(e[s],null)}}}}function tA(...e){return u.useCallback(eA(...e),e)}var nA=u.forwardRef((e,t)=>{const{children:n,...r}=e,s=u.Children.toArray(n),a=s.find(Qwe);if(a){const i=a.props.children,l=s.map(c=>c===a?u.Children.count(i)>1?u.Children.only(null):u.isValidElement(i)?i.props.children:null:c);return o.jsx(cp,{...r,ref:t,children:u.isValidElement(i)?u.cloneElement(i,void 0,l):null})}return o.jsx(cp,{...r,ref:t,children:n})});nA.displayName="Slot";var cp=u.forwardRef((e,t)=>{const{children:n,...r}=e;if(u.isValidElement(n)){const s=Jwe(n),a=Xwe(r,n.props);return n.type!==u.Fragment&&(a.ref=t?eA(t,s):s),u.cloneElement(n,a)}return u.Children.count(n)>1?u.Children.only(null):null});cp.displayName="SlotClone";var Kwe=({children:e})=>o.jsx(o.Fragment,{children:e});function Qwe(e){return u.isValidElement(e)&&e.type===Kwe}function Xwe(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function Jwe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var eSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rA=eSe.reduce((e,t)=>{const n=u.forwardRef((r,s)=>{const{asChild:a,...i}=r,l=a?nA:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tSe(e,t){e&&ds.flushSync(()=>e.dispatchEvent(t))}var nSe="DismissableLayer",up="dismissableLayer.update",rSe="dismissableLayer.pointerDownOutside",sSe="dismissableLayer.focusOutside",Lv,sA=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aA=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(sA),[f,m]=u.useState(null),p=f?.ownerDocument??globalThis?.document,[,g]=u.useState({}),v=tA(t,M=>m(M)),h=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=h.indexOf(x),b=f?h.indexOf(f):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,T=b>=y,k=iSe(M=>{const P=M.target,I=[...d.branches].some(D=>D.contains(P));!T||I||(s?.(M),i?.(M),M.defaultPrevented||l?.())},p),A=lSe(M=>{const P=M.target;[...d.branches].some(D=>D.contains(P))||(a?.(M),i?.(M),M.defaultPrevented||l?.())},p);return DN(M=>{b===d.layers.size-1&&(r?.(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},p),u.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Lv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Ov(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Lv)}},[f,p,n,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Ov())},[f,d]),u.useEffect(()=>{const M=()=>g({});return document.addEventListener(up,M),()=>document.removeEventListener(up,M)},[]),o.jsx(rA.div,{...c,ref:v,style:{pointerEvents:S?T?"auto":"none":void 0,...e.style},onFocusCapture:g2(e.onFocusCapture,A.onFocusCapture),onBlurCapture:g2(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:g2(e.onPointerDownCapture,k.onPointerDownCapture)})});aA.displayName=nSe;var aSe="DismissableLayerBranch",oSe=u.forwardRef((e,t)=>{const n=u.useContext(sA),r=u.useRef(null),s=tA(t,r);return u.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(rA.div,{...e,ref:s})});oSe.displayName=aSe;function iSe(e,t=globalThis?.document){const n=Xs(e),r=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){oA(rSe,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function lSe(e,t=globalThis?.document){const n=Xs(e),r=u.useRef(!1);return u.useEffect(()=>{const s=a=>{a.target&&!r.current&&oA(sSe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ov(){const e=new CustomEvent(up);document.dispatchEvent(e)}function oA(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?tSe(s,a):s.dispatchEvent(a)}const YDe=({open:e,onOpenChange:t,systemHint:n})=>{const r=u.useRef(null),{isUnauthenticated:s}=at(),{x:a,y:i,strategy:l,update:c,refs:d}=FN({placement:"bottom-start",middleware:[BN(-8),UN(),HN()]});if(u.useEffect(()=>{r.current&&(d.reference.current=r.current)},[e,d.reference]),u.useEffect(()=>{if(!(!r.current||!d.floating.current||!e))return $N(r.current,d.floating.current,c)},[e,c,d.floating]),!e||!s&&n!=="research")return null;const f=o.jsx("div",{ref:d.floating,style:{position:l,top:i??0,left:a??0,zIndex:50},children:o.jsx(h8,{$as:aA,className:"w-[300px] overflow-hidden",disableOutsidePointerEvents:!0,onPointerDownOutside:()=>t(!1),onEscapeKeyDown:()=>t(!1),children:s?o.jsx(cT,{location:"chatgpt_composer_tools",statsig_login_event:"chatgpt_composer_upsell_login_button_clicked",statsig_signup_event:"chatgpt_composer_upsell_signup_button_clicked"}):o.jsx(Ywe,{})})});return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:r,className:"absolute"}),typeof window<"u"?XN.createPortal(f,document.body):null]})},KDe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M20 8L12.5 15.5L8.5 11.5L3 17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M15 7H21V13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function cSe(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}var uSe=cSe,dSe=uSe;function fSe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:dSe(e,t,n)}var mSe=fSe,pSe="\\ud800-\\udfff",gSe="\\u0300-\\u036f",hSe="\\ufe20-\\ufe2f",vSe="\\u20d0-\\u20ff",xSe=gSe+hSe+vSe,CSe="\\ufe0e\\ufe0f",ySe="\\u200d",bSe=RegExp("["+ySe+pSe+xSe+CSe+"]");function wSe(e){return bSe.test(e)}var iA=wSe;function SSe(e){return e.split("")}var MSe=SSe,lA="\\ud800-\\udfff",_Se="\\u0300-\\u036f",ESe="\\ufe20-\\ufe2f",kSe="\\u20d0-\\u20ff",TSe=_Se+ESe+kSe,ASe="\\ufe0e\\ufe0f",PSe="["+lA+"]",dp="["+TSe+"]",fp="\\ud83c[\\udffb-\\udfff]",NSe="(?:"+dp+"|"+fp+")",cA="[^"+lA+"]",uA="(?:\\ud83c[\\udde6-\\uddff]){2}",dA="[\\ud800-\\udbff][\\udc00-\\udfff]",jSe="\\u200d",fA=NSe+"?",mA="["+ASe+"]?",ISe="(?:"+jSe+"(?:"+[cA,uA,dA].join("|")+")"+mA+fA+")*",RSe=mA+fA+ISe,LSe="(?:"+[cA+dp+"?",dp,uA,dA,PSe].join("|")+")",OSe=RegExp(fp+"(?="+fp+")|"+LSe+RSe,"g");function DSe(e){return e.match(OSe)||[]}var FSe=DSe,$Se=MSe,BSe=iA,USe=FSe;function HSe(e){return BSe(e)?USe(e):$Se(e)}var VSe=HSe,GSe=mSe,WSe=iA,zSe=VSe,qSe=U8;function ZSe(e){return function(t){t=qSe(t);var n=WSe(t)?zSe(t):void 0,r=n?n[0]:t.charAt(0),s=n?GSe(n,1).join(""):t.slice(1);return r[e]()+s}}var YSe=ZSe,KSe=YSe,QSe=KSe("toUpperCase"),pA=QSe;const QDe=ue(pA);var XSe=U8,JSe=pA;function eMe(e){return JSe(XSe(e).toLowerCase())}var tMe=eMe;const XDe=ue(tMe),nMe="_vanguardAppLaunchers_18xbj_1",rMe="_vanguardAppLaunchersContainer_18xbj_18",JDe={vanguardAppLaunchers:nMe,vanguardAppLaunchersContainer:rMe};function Dv({id:e,name:t,checked:n,onChange:r=Ee}){return o.jsx("input",{className:"sr-only",checked:n,id:e,name:t,type:"checkbox",readOnly:!0,onChange:r})}function eFe({gizmo:e}){const t=Qo(),n=e?s5e(e.tools):!1,r=$e(),s=cE();return o.jsxs(o.Fragment,{children:[!s&&o.jsxs("div",{className:N("mb-5 text-2xl font-semibold"),"data-testid":"temporary-chat-label",children:[o.jsx(Dv,{id:"temporary-chat-checkbox",name:"temporary-chat-checkbox",checked:!0}),o.jsx(C,{...Is.temporaryChat})]}),s&&o.jsxs("h1",{className:N("mb-1 text-[28px] font-semibold leading-[34px] tracking-[0.38px]"),"data-testid":"temporary-chat-label",children:[o.jsx(Dv,{id:"temporary-chat-checkbox",name:"temporary-chat-checkbox",checked:!0}),o.jsx(C,{...Is.temporaryChat})]}),o.jsxs("div",{className:N("text-center font-normal",s?"max-w-xl text-[15px] leading-[18px] tracking-[-0.23px] text-token-text-secondary":"max-w-sm text-sm text-token-text-tertiary"),children:[o.jsx(C,{...r?.isWorkspaceAccount()?t?Is.temporaryChatBizMemoryAvailable:Is.temporaryChatBizMemoryUnavailable:t?Is.temporaryChatDescriptionMemoryAvailable:Is.temporaryChatDescriptionMemoryUnavailable}),n&&o.jsx("div",{className:"mt-3",children:o.jsx(C,{...Is.temporaryChatDescriptionGptActions,values:{link:a=>o.jsx("a",{href:"https://help.openai.com/en/articles/8914046-temporary-chat-faq",target:"_blank",className:"underline",rel:"noreferrer",children:a})}})})]})]})}const Is=U({temporaryChat:{id:"GizmoLanding.temporaryChat",defaultMessage:"Temporary Chat"},temporaryChatBizMemoryAvailable:{id:"g1opBW",defaultMessage:"This chat won't appear in your history and won't use or create memories."},temporaryChatBizMemoryUnavailable:{id:"fQmbtG",defaultMessage:"This chat won't appear your conversation history."},temporaryChatDescriptionMemoryAvailable:{id:"GizmoLanding.temporaryChatDescriptionMemoryAvailable",defaultMessage:"This chat won't appear in history, use or create memories, or be used to train our models. For safety purposes, we may keep a copy for up to 30 days."},temporaryChatDescriptionMemoryUnavailable:{id:"GizmoLanding.temporaryChatDescriptionMemoryUnavailable",defaultMessage:"This chat won't appear in history or be used to train our models. For safety purposes, we may keep a copy of this chat for up to 30 days."},temporaryChatDescriptionGptActions:{id:"GizmoLanding.temporaryChatDescriptionGptActions",defaultMessage:"Any data shared with a third party through GPT actions are subject to the third party's privacy policy. <link>Learn more</link>"}}),h2="m",sMe=2e3;function tFe(e){const{clientThreadId:t,handleRequestCompletion:n}=e,r=u.useRef(!1),s=u.useRef(null),{isLoading:a,data:i}=hr(),l=Sie.useIsEnabled(t),{isLoading:c,data:d}=ko(),f=d&&$8(d),m=Je(t,Z.hasUserMessage),p=Ld(d),[g,v]=bn(),h=Be(),x=g.get(Ci);u.useEffect(()=>{A(!0),r.current=!1,s.current=null},[x]);const y=u.useCallback(async({content:M,attachments:P},I,D)=>{const F=vk(),B=P.length>0?{attachments:P}:{};B.system_hints=I.systemHints,Object.keys(F).length>0&&(B.__internal={search_settings:F});const{extraStreamParams:z}=Mie(I.systemHints?I.systemHints:[],{enableMessageFollowups:l});n({promptMessage:VN(M,B),requestedModelId:D,eventSource:"url",completionMetadata:I,extraStreamParams:z})},[n,l]),b=y8(()=>window.location.pathname)??null,S=VO();let T=!a&&!c&&b!=null;const[k,A]=u.useState(!0);return u.useEffect(()=>{if(!k||r.current)return;const M=_e(t)?.mode;if(!T||M==null)return;if(!oMe(b)||aMe(b)&&S===void 0||vn(t)!=null){A(!1);return}const P=(()=>{try{return Object.fromEntries(new URLSearchParams(location.hash.slice(1)).entries())}catch{return{}}})(),I={...Object.fromEntries(g),...P},{[Ci]:D,[h2]:F,[_U]:B,[C4e]:z}=I,O=(typeof D=="string"?D:null)??(typeof F=="string"?F:null);if(!O||!O.trim()){A(!1);return}else s.current=Date.now();const q=EU(B);r.current=!0;let H=tD(i);if(q.has(Ne.Search)&&!I2(H,S2.Search)&&i)for(const ie of i.models.values())I2(ie,S2.Search)&&(H=ie);const Se=B?.includes(Ne.Search);(e.prefetchSearchThreadIdPromise??Promise.resolve(null)).then(ie=>{v(ae=>{const ft=new URLSearchParams(ae);return ft.delete(Ci),ft.delete(h2),ft.delete("skip_instant_query"),ft.append("model",H.id),ft}),y({content:O,attachments:[]},{conversationMode:M,source:z?void 0:"instant-query",systemHints:B?Array.from(q):void 0,prefetchIds:ie!=null?[ie]:void 0,searchSource:Se?GN.URL_SEARCH_HINT:void 0},H.id),ie!=null&&V.addFirstTiming("createCompletion.prefetchSearch")})},[a,c,T,b,i,f,p,y,k,t,S,h,e.prefetchSearchThreadIdPromise,g,v]),k&&(e.prefetchSearchThreadIdPromise!=null||g.has(Ci)||g.has(h2)?!0:s.current?m||Date.now()-s.current>sMe?(s.current=null,A(!1),!1):!0:!1)}function aMe(e){return gA(e)}function gA(e){return e==null?!1:/^\/g\/[\w-]+$/.test(e)}function oMe(e){return e==null?!1:e==="/"||gA(e)}function nFe({children:e}){let t;return u.Children.forEach(e,n=>{if(u.isValidElement(n)&&n.type==="title"){const r=u.Children.toArray(n.props.children)[0];typeof r=="string"&&(t=r)}}),u.useEffect(()=>{if(t!=null){const n=document.title;return document.title=t,()=>{document.title=n}}},[t]),null}function iMe(e){return e.sub_reasons.length===0&&e.details_placeholder==null&&e.link_attachment==null&&e.subtext==null}function lMe(e,t,n){const r=Be();return Ie({mutationFn:s=>fe.postReport({...s,entity_type:n,entity_id:t}),onError:s=>{V.addError(new Error("Error occurred while reporting",{cause:s}),{entityType:n,id:t}),r.danger(e.formatMessage({id:"report.submitError",defaultMessage:"Error reporting: {detail}"},{detail:s.message}))}})}function cMe(e){return ee({queryKey:["reportReasons",{entityType:e}],queryFn:()=>fe.getReportReasons(e)})}const uMe=ce.div`divide-y overflow-hidden rounded-md border border-token-border-medium`,dMe=ce.button`w-full border-token-border-medium p-2 text-left text-sm hover:bg-token-main-surface-secondary`,fMe=ce.div`text-sm font-semibold`,mMe=ce.div`text-sm text-token-text-secondary`;function Oa({header:e,subHeader:t}){return e==null&&t==null?null:o.jsxs("div",{className:"mb-4",children:[e!=null&&o.jsx(fMe,{children:e}),t!=null&&o.jsx(mMe,{children:t})]})}function pMe({reasons:e,onSelectReason:t}){return o.jsx(uMe,{children:e.map(n=>o.jsx(dMe,{onClick:()=>{t(n)},children:n.cta},n.id))})}function gMe({reason:e,submitReport:t}){const[n,r]=u.useState(""),[s,a]=u.useState(""),[i,l]=u.useState(""),c=e.additional_fields?.map(h=>h.id),d=c?.includes(h4.UserName),f=c?.includes(h4.UserEmail),m=d||f,p=L(),g=p.formatMessage({id:"report.loggedOut.name",defaultMessage:"Your name"}),v=p.formatMessage({id:"report.loggedOut.email",defaultMessage:"Your email address"});return o.jsxs("div",{className:"flex flex-col gap-4",children:[m&&o.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[d&&o.jsxs("div",{className:"flex flex-col gap-1",children:[g,o.jsx(ol,{ariaLabel:g,name:"name",type:"text",value:s,onChange:h=>a(h.target.value)})]}),f&&o.jsxs("div",{className:"flex flex-col gap-1",children:[v,o.jsx(ol,{ariaLabel:v,name:"email",type:"email",value:i,onChange:h=>l(h.target.value)})]})]}),o.jsx(nT,{value:n,onChange:h=>r(h.target.value),placeholder:e.details_placeholder??void 0,autoFocus:!0,className:"!bg-token-main-surface-primary"}),e.subtext!=null&&o.jsx("div",{className:"text-sm text-token-text-secondary",children:e.subtext}),o.jsx("div",{className:"flex justify-end",children:o.jsx(G,{onClick:()=>{let h;m&&(h={},d&&(h.user_name=s),f&&(h.user_email=i)),t.mutateAsync({reason:{id:e.id,details:n},additional_fields_values:h})},disabled:t.isPending,children:o.jsx(C,{id:"report.submitReport",defaultMessage:"Submit"})})})]})}function hMe({reason:e}){return o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"mb-2",children:e.link_explanation}),e.link_attachment!=null&&o.jsx("div",{children:o.jsx("a",{href:e.link_attachment,target:"_blank",rel:"noreferrer",className:"break-words underline",children:e.link_attachment})})]})}function vMe({reasons:e,submitReport:t,title:n,onClose:r,header:s,subHeader:a}){const[i,l]=u.useState([]),c=L();let d=e,f;for(const x of i)f=d.find(y=>y.id===x),d=f?.sub_reasons??[];const m=f!=null&&o.jsx("div",{className:"mb-2 flex gap-1 text-sm",children:o.jsxs("button",{onClick:()=>{l(x=>x.slice(0,-1))},className:"flex items-center gap-2 p-1",children:[o.jsx(dT,{className:"icon-sm"}),o.jsx("div",{children:f.cta})]})}),p=f?.subtext!=null&&o.jsx("div",{className:"text-sm text-token-text-secondary",children:f.subtext}),g=c.formatMessage({id:"report.submittedModal.header",defaultMessage:"Report submitted"}),v=c.formatMessage({id:"report.submittedModal.subHeader",defaultMessage:"You report has been submitted. Thank you for letting us know about this issue."});let h;return t.isSuccess?h=o.jsx(Oa,{header:g,subHeader:v}):f?.details_placeholder!=null?h=o.jsxs(o.Fragment,{children:[o.jsx(Oa,{header:s,subHeader:a}),m,o.jsx(gMe,{reason:f,submitReport:t})]}):f?.link_attachment!=null?h=o.jsxs(o.Fragment,{children:[o.jsx(Oa,{header:s,subHeader:a}),m,o.jsx(hMe,{reason:f}),p]}):d.length>0?h=o.jsxs(o.Fragment,{children:[o.jsx(Oa,{header:s,subHeader:a}),m,d.length>0&&o.jsx(pMe,{reasons:d,onSelectReason:async x=>{iMe(x)?t.mutateAsync({reason:{id:x.id}}):l(y=>[...y,x.id])}}),p]}):f?.subtext!=null?h=o.jsxs(o.Fragment,{children:[o.jsx(Oa,{header:s,subHeader:a}),m,o.jsx("div",{className:"text-sm",children:f?.subtext})]}):(V.addError("Reporting: arrived at empty leaf reason",f),h=o.jsx(Oa,{header:g,subHeader:v})),o.jsx(he,{title:n,onClose:r,isOpen:!0,showCloseButton:!0,type:"success",children:h})}function rFe({serverThreadId:e,clientThreadId:t,isStaticSharedThread:n,isDynamicSharedThread:r}){const s=Vp(un.ReportConversation),a=qe("2935021756")?.value,i=st("3376455464")?.value||n||r,l=_o(t);let c=e??l;const d=u.useContext(Bx);c==null&&d!=null&&(c=d.serverSharedThreadId??void 0),a&&typeof window<"u"&&(window._convo_share_debug={isOpen:s,canReport:i,serverThreadIdIsNull:c==null,isStaticSharedThread:n,isDynamicSharedThread:r});const f=L(),m=Be();return u.useEffect(()=>{c==null&&s&&i&&(m.danger(f.formatMessage({id:"gizmo.report.conversationModal.emptyConversationError",defaultMessage:"Empty conversations cannot be reported"})),pt.closeModal(un.ReportConversation))},[c,s,i,f,m]),!s||!i||c==null?(s&&$.logEvent("chatgpt_conversation_share_report_modal_not_shown",i?"serverThreadId":"canReport"),null):o.jsx(xMe,{serverThreadId:c,onClose:()=>pt.closeModal(un.ReportConversation),isStaticSharedThread:n,isDynamicSharedThread:r})}function xMe({serverThreadId:e,onClose:t,isStaticSharedThread:n,isDynamicSharedThread:r}){const{data:s}=cMe(n||r?hc.ShareableConversation:hc.Conversation),a=L(),i=lMe(a,e,n||r?hc.ShareableConversation:hc.Conversation);return s==null||e==null?($.logEvent("chatgpt_conversation_share_report_modal_not_shown",s==null?"report_reasons":"thread_id"),null):o.jsx(vMe,{reasons:s.reasons,submitReport:i,title:a.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:t,header:s.header,subHeader:s.header_explanation})}const sFe=gt(()=>ut(()=>import("./fy6gadar4ndyv9ng.js"),__vite__mapDeps([70,1,3,4,71])).then(e=>e.default),{loading:()=>o.jsx(CMe,{})});function CMe(e){return o.jsx("button",{...e,className:"flex h-6 w-6 items-center justify-center rounded-full border border-token-border-light text-xs text-token-text-secondary",children:"?"})}const yMe=(e,t,n=!1)=>e.role===Ce.Root?!1:e.role===Ce.System||e.role===Ce.Developer||t.every(r=>r.metadata?.is_visually_hidden_from_conversation)?n:!0,bMe=e=>e.some(t=>{if(t.metadata?.is_visually_hidden_from_conversation||t.author.role===Ce.Tool||t.author.role===Ce.System||t.recipient!=="all")return!1;const n=t.content;return(n.content_type===tt.Text||n.content_type===tt.MultimodalText)&&n.parts.some(r=>typeof r=="string"&&r.length>0)});function wMe(e,t,n){return!n&&e.role!==Ce.User&&bMe(e.messages)&&e.messages.some(r=>{const s=!!r.metadata?.content_references?.some(i=>i.type==="file"||i.type==="file_navlist"),a=t&&SMe(r);return s||a})}function SMe(e){return MMe(e)&&e.content.result.length>0&&e.content.result.trim()!=="Visible: 0% - 100%"}function MMe(e){return e.author.role===Ce.Tool&&e.author.name==="file_search"&&e.content.content_type===tt.TetherBrowsingDisplay}const aFe=(e,t)=>{const n=Jd("searchSources"),r=WN(),s=Xd(),a=s&&r?.type==="searchSources",i=s&&r?.type==="retrievalResults",l=_Me(t),c=l!=null,d=EMe(t),f=!!d,{openThreadSidebar:m,closeThreadSidebar:p}=sa();u.useEffect(()=>{if(!(a||i))return;let g;a?g=l?.id??d?.id:g=d?.id??l?.id;const v=e-1,h=t!==r.clientThreadId,x=v>(r.turnIndex??-1),y=v===r.turnIndex&&!h&&g!==r.messageId;if(!h&&y&&e&&!(c||f)){p();return}x&&g&&(!h||h&&r.clientThreadId===H8)&&(c?m({type:"searchSources",clientThreadId:t,turnIndex:v,messageId:g,scrollToHeader:n?.scrollToHeader}):f&&m({type:"retrievalResults",clientThreadId:t,turnIndex:v,messageId:g}))},[t,e,c,f])},_Me=e=>{const n=Je(e,Z.getConversationLastTurn)?.messages.find(r=>l4e(r));if(n){const s=zN(n).length,a=qN(n),i=c4e(a).length;return s||i?n:null}return null},EMe=e=>{const t=Io(e),n=F_(t),[r,s]=Je(e,i=>[Z.getConversationLastTurn(i),Z.getGizmoId(i)]);return r&&wMe(r,n,!!s)&&r?.messages.length?r.messages[r.messages.length-1]:void 0};function oFe(e,t){const[n]=Je(e,r=>[r?.title??null]);return u.useMemo(()=>kMe(e,n,t),[e,t,n])}function kMe(e,t,n){const r=Rr(e);return n&&n.kind===ke.GizmoInteraction&&n.gizmo?r?`ChatGPT - ${n.gizmo.gizmo.display.name}`:t&&`${n.gizmo.gizmo.display.name} - ${t}`:t||"ChatGPT"}const iFe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 5.29289C11.6834 4.90237 12.3166 4.90237 12.7071 5.29289L17.7071 10.2929C18.0976 10.6834 18.0976 11.3166 17.7071 11.7071C17.3166 12.0976 16.6834 12.0976 16.2929 11.7071L13 8.41421V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V8.41421L7.70711 11.7071C7.31658 12.0976 6.68342 12.0976 6.29289 11.7071C5.90237 11.3166 5.90237 10.6834 6.29289 10.2929L11.2929 5.29289Z",fill:"currentColor"})),TMe=ce.button`group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 px-3 text-lg hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary font-semibold text-token-text-secondary overflow-hidden whitespace-nowrap`;function hA(e){const t=sg(e),[n,r]=Je(e,d=>[Z.hasUserMessage(d),Z.getGizmoId(d)]),s=Cn(),a=Rr(e)&&!n&&(tC(t)||t?.kind===ke.GizmoTest),i=ng(r);return{showEmptyState:a,canUseNewHomepage:a&&i||a&&!r&&!s}}const Fv=ce.button`max-w-28 xs:max-w-40 sm:max-w-60 md:max-w-none group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 ${({$shimmer:e})=>e?"loading-shimmer":""} px-1 text-lg hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary font-semibold text-token-text-secondary overflow-hidden whitespace-nowrap`;function AMe({conversation:e,gizmoResource:t,elementRef:n}){const s=Je(e.id,a=>a?.title??null)??e.title;return o.jsx(nn,{to:yi(e.id,t),children:o.jsx(te.Item,{onSelect:()=>{E.logEvent(_.projectsBreadcrumbPickerPickConversation)},icon:_5,children:o.jsx("div",{ref:n,children:s})},e.id)})}function PMe({gizmoId:e,clientThreadId:t,inMobileHeader:n,modelLabel:r}){const s=L(),a=Cf(),i=pT(t,a),{data:l}=ua(e),{items:c,hasNextPage:d,fetchNextPage:f,isLoading:m,isFetchingNextPage:p}=q5e(e),g=u.useRef(null),v=u.useCallback(P=>{m||P==null||(g.current?.disconnect(),g.current=new IntersectionObserver(I=>{I[0].isIntersecting&&d&&f()}),g.current.observe(P))},[m,d,f]);u.useEffect(()=>()=>{g.current?.disconnect()},[]);const[h,x,y]=Je(t,P=>[P?.isLoading,P?.title??null,Z.getThreadTitleSource(P)]),{showEmptyState:b}=hA(t),S=s.formatMessage(je.newChatTitle),T=qE(t);if(!l||b)return null;const k=x==null&&(Rr(t)||y===gl.NewChat),A=h?o.jsx(o.Fragment,{}):o.jsxs(Fv,{$shimmer:k,children:[o.jsxs("div",{className:"truncate",children:[T?o.jsx(ZE,{text:x??""}):x??S,o.jsx("span",{className:"relative bottom-[1px] mx-1 inline-block rounded-md bg-token-main-surface-secondary px-1 text-xs leading-4 text-token-text-secondary",children:r})]}),o.jsx(Xl,{className:"icon-md text-token-text-tertiary"})]}),M=l.gizmo.display.name;return o.jsxs("div",{className:"flex items-center gap-0 overflow-hidden whitespace-nowrap px-2 py-1.5",children:[o.jsx(Fv,{children:o.jsx(nn,{className:"truncate",to:zi(l),children:M})}),o.jsxs(o.Fragment,{children:[o.jsx(zd,{className:"icon-md text-token-text-tertiary"}),o.jsxs(To,{contentAlign:n?"center":"start",size:"small",onOpenChange:P=>{P&&E.logEvent(_.projectsBreadcrumbPickerOpen)},triggerButton:A,contentClassName:"max-h-[50dvh] overflow-y-scroll",children:[o.jsxs(te.Sub,{onOpenChange:P=>{P&&E.logEvent(_.projectsBreadcrumbPickerModelPickerOpen)},children:[o.jsx(te.SubMenuTrigger,{children:o.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[o.jsx(C,{id:"ilkdMh",defaultMessage:"Model"}),o.jsx("span",{className:"text-xs font-medium text-token-text-secondary",children:r})]})}),o.jsx(te.Portal,{children:o.jsx(te.SubContent,{onClick:()=>{E.logEvent(_.projectsBreadcrumbPickerModelPickerSelect)},children:o.jsx(mT,{sections:i})})})]}),o.jsx(nn,{to:zi(l),children:o.jsx(te.Item,{onSelect:()=>{E.logEvent(_.projectsBreadcrumbPickerPickNewChat)},icon:l0e,children:o.jsx(C,{...je.newChatProjectDropdownItem,values:{name:`"${l.gizmo.display.name}"`}})},"new-chat")}),c.filter(P=>P.id!==t).map((P,I)=>{const D=d&&I===c.length-4?v:void 0;return o.jsx(AMe,{elementRef:D,conversation:P,gizmoResource:l},P.id)}),p&&o.jsx("div",{className:"m-4 mb-5 flex justify-center",children:o.jsx(pr,{})})]})]})]})}function NMe(e,t,n,r){if(t?.modelId)return t.modelId;if(!Rr(e))return;const s=n?.get("model");if(s)return s;const a=g5();if(a)return a;switch(r){case mr.FREE:case void 0:return"auto";default:return"gpt-4o"}}function jMe(e,t,n){if(e!==void 0){if(t){const{modelLabel:r}=yf(e,t);return r}switch(e){case"auto":return"";case"gpt-4o":return"4o";case"gpt-4o-mini":return"4o mini";case"gpt-4o-jawbone":return n.formatMessage({id:"8y5npr",defaultMessage:"Tasks"});case"gpt-4":return"4";case"gpt-4-5":return"4.5";case"o1":return"o1";case"o1-pro":return"o1 pro";case"o3-mini":case"o3-mini-high":return e;default:return}}}const IMe=gt(()=>ut(()=>import("./chh8qc3n6chlinw1.js"),__vite__mapDeps([72,3,1,4,73])).then(e=>e.ThreadHeaderGizmoDropdown)),RMe=({clientThreadId:e})=>{const t=Cf(),n=pT(e,t);return o.jsx(mT,{sections:n})};function LMe({clientThreadId:e,inMobileHeader:t}){const{isLoading:n,data:r}=hr(),[s]=bn(),a=$e()?.planType,i=Je(e,g=>NMe(e,g,s,a)),l=L(),c=jMe(i,r,l),{isUnauthenticated:d}=at(),f=!d&&a!==mr.FREE;f&&(md.markStart("ThreadModelSelector"),c!=null&&md.markRendered("ThreadModelSelector"));const m=o.jsx("div",{className:"text-token-text-secondary",children:f?o.jsxs(o.Fragment,{children:[P6," ",o.jsx("span",{className:"text-token-text-secondary",children:c})]}):P6}),p=o.jsxs(TMe,{style:{viewTransitionName:"var(--vt-thread-model-switcher)"},"aria-label":c?l.formatMessage({id:"JrtGPQ",defaultMessage:"Model selector, current model is {modelLabel}"},{modelLabel:c}):"",children:[m,o.jsx(Xl,{className:"icon-md text-token-text-tertiary"})]});return n?p:o.jsx(To,{sideOffset:8,size:"large",triggerButton:p,onOpenChange:g=>{E.logEvent(_.toggleModelSwitcher,{isOpen:g}),$.logEvent("toggle_model_switcher",null,{isOpen:String(g)})},contentAlign:t?"center":"start",testId:"model-switcher-dropdown",children:o.jsx(RMe,{clientThreadId:e})})}function lFe({clientThreadId:e,inMobileHeader:t=!1}){const n=Dp(e),r=ng(n),{showEmptyState:s}=hA(e),{data:a}=ua(n),{data:i}=hr(),c=Io(e).id,{modelLabel:d}=yf(c,i),f=o.jsx(LMe,{clientThreadId:e,inMobileHeader:t});return n==null?f:r?s&&a?f:o.jsx(PMe,{modelLabel:d??"",gizmoId:n,clientThreadId:e,inMobileHeader:t}):o.jsx(IMe,{clientThreadId:e,gizmoId:n,inMobileHeader:t})}function cFe(e){const t=Dn();return!$e()?.isWorkspaceAccount()||(t?.includes(e)??!1)}const OMe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M10.663 6.3872C10.8152 6.29068 11 6.40984 11 6.59007V8C11 8.55229 11.4477 9 12 9C12.5523 9 13 8.55229 13 8V6.59007C13 6.40984 13.1848 6.29068 13.337 6.3872C14.036 6.83047 14.5 7.61105 14.5 8.5C14.5 9.53284 13.8737 10.4194 12.9801 10.8006C12.9932 10.865 13 10.9317 13 11V13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13V11C11 10.9317 11.0068 10.865 11.0199 10.8006C10.1263 10.4194 9.5 9.53284 9.5 8.5C9.5 7.61105 9.96397 6.83047 10.663 6.3872Z",fill:"currentColor"}),u.createElement("path",{d:"M17.9754 4.01031C17.8588 4.00078 17.6965 4.00001 17.4 4.00001H9.8C8.94342 4.00001 8.36113 4.00078 7.91104 4.03756C7.47262 4.07338 7.24842 4.1383 7.09202 4.21799C6.7157 4.40974 6.40973 4.7157 6.21799 5.09202C6.1383 5.24842 6.07337 5.47263 6.03755 5.91104C6.00078 6.36113 6 6.94343 6 7.80001V16.1707C6.31278 16.0602 6.64937 16 7 16H18L18 4.60001C18 4.30348 17.9992 4.14122 17.9897 4.02464C17.9893 4.02 17.9889 4.0156 17.9886 4.01145C17.9844 4.01107 17.98 4.01069 17.9754 4.01031ZM17.657 18H7C6.44772 18 6 18.4477 6 19C6 19.5523 6.44772 20 7 20H17.657C17.5343 19.3301 17.5343 18.6699 17.657 18ZM4 19L4 7.75871C3.99999 6.95374 3.99998 6.28937 4.04419 5.74818C4.09012 5.18608 4.18868 4.66938 4.43597 4.18404C4.81947 3.43139 5.43139 2.81947 6.18404 2.43598C6.66937 2.18869 7.18608 2.09012 7.74818 2.0442C8.28937 1.99998 8.95373 1.99999 9.7587 2L17.4319 2C17.6843 1.99997 17.9301 1.99994 18.1382 2.01695C18.3668 2.03563 18.6366 2.07969 18.908 2.21799C19.2843 2.40974 19.5903 2.7157 19.782 3.09203C19.9203 3.36345 19.9644 3.63318 19.9831 3.86178C20.0001 4.06994 20 4.31574 20 4.56812L20 17C20 17.1325 19.9736 17.2638 19.9225 17.386C19.4458 18.5253 19.4458 19.4747 19.9225 20.614C20.0517 20.9227 20.0179 21.2755 19.8325 21.5541C19.6471 21.8326 19.3346 22 19 22H7C5.34315 22 4 20.6569 4 19Z",fill:"currentColor"})),vA=me.TemporaryChatOnboarding;function uFe(){const e=Cn(),{eligible:t}=le(vA);return t&&e}function xi({icon:e,title:t,description:n}){return o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"mt-1 h-5 w-5",children:e}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-lg font-semibold",children:t}),o.jsx("p",{className:"mt-1 text-sm text-token-text-secondary",children:n})]})]})}function dFe({onClose:e}){const[t,n]=u.useState(!0),r=$e(),s=L(),{markAsViewed:a}=le(vA),i=Qo(),l=u.useCallback(()=>{a(),n(!1),e?.()},[a,e]);return r?.isWorkspaceAccount()?o.jsx(he,{isOpen:t,onClose:Ee,size:"custom",className:"max-w-xl",type:"success",title:s.formatMessage(Qe.title),primaryButton:o.jsx(Ve.Button,{onClick:l,title:s.formatMessage(Qe.continue),color:"primary"}),children:o.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[o.jsx(xi,{icon:o.jsx(Qe.bulletTitle1.Icon,{}),title:s.formatMessage(Qe.bulletTitle1),description:s.formatMessage({id:"nSGhxr",defaultMessage:"Temporary chats won't appear in your history."})}),o.jsx(xi,{icon:i?o.jsx(Qe.bulletTitle2MemoryAvailable.Icon,{}):o.jsx(Qe.bulletTitle2MemoryUnavailable.Icon,{}),title:s.formatMessage(i?Qe.bulletTitle2MemoryAvailable:Qe.bulletTitle2MemoryUnavailable),description:s.formatMessage(i?Qe.bulletDescription2MemoryAvailable:Qe.bulletDescription2MemoryUnavailable)})]})}):o.jsx(he,{isOpen:t,onClose:Ee,size:"custom",className:"max-w-xl",type:"success",title:s.formatMessage(Qe.title),primaryButton:o.jsx(Ve.Button,{onClick:l,title:s.formatMessage(Qe.continue),color:"primary"}),children:o.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[o.jsx(xi,{icon:o.jsx(Qe.bulletTitle1.Icon,{}),title:s.formatMessage(Qe.bulletTitle1),description:s.formatMessage(Qe.bulletDescription1)}),o.jsx(xi,{icon:o.jsx(Qe.bulletTitle3.Icon,{}),title:s.formatMessage(Qe.bulletTitle3),description:s.formatMessage(Qe.bulletDescription3)}),o.jsx(xi,{icon:i?o.jsx(Qe.bulletTitle2MemoryAvailable.Icon,{}):o.jsx(Qe.bulletTitle2MemoryUnavailable.Icon,{}),title:s.formatMessage(i?Qe.bulletTitle2MemoryAvailable:Qe.bulletTitle2MemoryUnavailable),description:s.formatMessage(i?Qe.bulletDescription2MemoryAvailable:Qe.bulletDescription2MemoryUnavailable)})]})})}const Qe=U({title:{id:"TemporaryChatOnboardingModal.title",defaultMessage:"Temporary Chat"},bulletTitle1:{Icon:cc,id:"TemporaryChatOnboardingModal.bulletTitle1",defaultMessage:"Not in history"},bulletDescription1:{id:"TemporaryChatOnboardingModal.bulletDescription1.1",defaultMessage:"Temporary chats won't appear in your history. For safety purposes, we may keep a copy of your chat for up to 30 days."},bulletTitle2MemoryAvailable:{Icon:Rh,id:"TemporaryChatOnboardingModal.bulletTitle2MemoryAvailable",defaultMessage:"Memory off"},bulletDescription2MemoryAvailable:{id:"Ziehyb",defaultMessage:"While in a Temporary Chat, ChatGPT won't use or create memories. Custom Instructions will still be followed if you have them enabled."},bulletTitle2MemoryUnavailable:{Icon:OMe,id:"TemporaryChatOnboardingModal.bulletTitle2MemoryUnavailable",defaultMessage:"Follows Custom Instructions"},bulletDescription2MemoryUnavailable:{id:"TemporaryChatOnboardingModal.bulletDescription2MemoryUnavailable",defaultMessage:"Custom Instructions will still be followed if you have them enabled."},bulletTitle3:{Icon:ZN,id:"TemporaryChatOnboardingModal.bulletTitle3",defaultMessage:"No model training"},bulletDescription3:{id:"TemporaryChatOnboardingModal.bulletDescription3",defaultMessage:"Temporary chats won't be used to improve our models."},continue:{id:"TemporaryChatOnboardingModal.continue",defaultMessage:"Continue"}});function DMe(e,t=E8){const n=u.useRef(void 0);return r=>{const s=e(r);return t(n.current,s)?n.current:n.current=s}}function xA(e){if(e&&e.messages.length>0){const t=e.messages[0].create_time;if(t)return new Date(t*1e3)}return null}function Td(e,t){return!e||!t?!1:e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function fFe(e){const t=Je(e,DMe(c=>Z.getConversationTurns(c).map(f=>{const m=xA(f),p=yMe(f,f.messages);return{turnDate:m,isRenderable:p}}))),n=_L(e),r=n?.value===hp.UNREAD&&n.source===Rd.SERVER,[s,a]=u.useState(null),{results:i,lastRenderableTurnIndex:l}=u.useMemo(()=>{const c=new Array(t.length).fill(void 0),d=new Date;let f=null;for(const v of t){const h=v.turnDate;h&&(!f||h<f)&&(f=h)}let m=null,p=!0,g=null;for(let v=0;v<t.length;v++){const h=t[v];if(h.isRenderable){g=v;const x=h.turnDate;p?(p=!1,f&&!Td(f,d)&&(c[v]=0)):m&&!Td(x,m)&&(c[v]=0),m=x}}return{results:c,lastRenderableTurnIndex:g}},[t]);return u.useEffect(()=>{r&&l!=null&&l!==s&&a(l)},[r,l,s]),u.useMemo(()=>{const c=[...i];return r&&l!=null?c[l]=1:!r&&s!=null&&(c[s]=1),d=>c[d]},[i,r,l,s])}function FMe(e){const t=L(),n=xA(e);if(n){const r=new Date,s=new Date;s.setDate(r.getDate()-1);let a;if(Td(n,r))a=t.formatMessage({id:"ConversationTurn.todayHeader",defaultMessage:"Today"});else if(Td(n,s))a=t.formatMessage({id:"ConversationTurn.yesterdayHeader",defaultMessage:"Yesterday"});else{const i=r.getFullYear(),l=n.getFullYear();i===l?a=t.formatDate(n,{month:"short",day:"numeric"}):a=t.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}return a}else return null}const $Me=()=>{const{value:e}=st("1847911009");return e||null!=null},mFe=({turn:e,dateHeaderType:t})=>{const n=$Me(),r=FMe(e);return!n||!r||t===void 0?null:t===1?o.jsxs("div",{className:"mx-auto my-4 flex h-[20px] w-full items-center md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",children:[o.jsx("div",{className:"mr-1 flex-1 border-t border-[#B3DBFF] opacity-50 dark:border-[#0088FF]"}),o.jsx("span",{className:"text-sm font-normal leading-5 text-[#0088FF]",children:r}),o.jsx("div",{className:"ml-1 flex-1 border-t border-[#B3DBFF] opacity-50 dark:border-[#0088FF]"})]}):o.jsx("div",{className:"my-4 flex justify-center",style:{height:"20px"},children:o.jsx("span",{className:"text-sm font-normal leading-5 text-token-text-secondary",children:r})})},pFe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.2652 3 12.5196 3.10536 12.7071 3.29289L19.7071 10.2929C20.0976 10.6834 20.0976 11.3166 19.7071 11.7071C19.3166 12.0976 18.6834 12.0976 18.2929 11.7071L13 6.41421V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V6.41422L5.70711 11.7071C5.31658 12.0976 4.68342 12.0976 4.29289 11.7071C3.90237 11.3166 3.90237 10.6834 4.29289 10.2929L11.2929 3.29289C11.4804 3.10536 11.7348 3 12 3Z",fill:"currentColor"})),gFe=e=>u.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M8.98625 7.61406V6.03438C8.98625 5.24527 9.94906 4.78626 10.6422 5.24492L15.124 8.21057C15.7087 8.59749 15.7087 9.40256 15.1239 9.78948L10.6422 12.7551C9.94906 13.2137 8.98625 12.7547 8.98625 11.9656V10.386L5.40595 12.7551C4.71281 13.2137 3.75 12.7547 3.75 11.9656V6.03438C3.75 5.24527 4.71281 4.78626 5.40595 5.24492L8.98625 7.61406Z"}));function hFe(e){const t=L();function n(){switch(e.role){case Ce.User:return t.formatMessage({id:"3DStaP",defaultMessage:"You said:"});case Ce.Assistant:return t.formatMessage({id:"LDIn6l",defaultMessage:"ChatGPT said:"});default:return""}}const r=e.role===Ce.Assistant?"h6":"h5";return o.jsx(r,{className:"sr-only",children:n()})}function vFe({isUserTurn:e,shouldDisplaySideBySideFeedback:t}){return N("group/conversation-turn relative flex w-full min-w-0 flex-col",!e&&UT,!t&&"@xs/thread:px-0 @sm/thread:px-1.5 @md/thread:px-4")}function BMe(e,t="<unknown>"){if(!e)throw YN(new Error(`${t}: unexpected non-truthy condition: ${JSON.stringify(e)}`),BMe)}var n4={exports:{}};n4.exports;(function(e){(function(t,n,r){function s(c){var d=this,f=l();d.next=function(){var m=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=m-(d.c=m|0)},d.c=1,d.s0=f(" "),d.s1=f(" "),d.s2=f(" "),d.s0-=f(c),d.s0<0&&(d.s0+=1),d.s1-=f(c),d.s1<0&&(d.s1+=1),d.s2-=f(c),d.s2<0&&(d.s2+=1),f=null}function a(c,d){return d.c=c.c,d.s0=c.s0,d.s1=c.s1,d.s2=c.s2,d}function i(c,d){var f=new s(c),m=d&&d.state,p=f.next;return p.int32=function(){return f.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,m&&(typeof m=="object"&&a(m,f),p.state=function(){return a(f,{})}),p}function l(){var c=4022871197,d=function(f){f=String(f);for(var m=0;m<f.length;m++){c+=f.charCodeAt(m);var p=.02519603282416938*c;c=p>>>0,p-=c,p*=c,c=p>>>0,p-=c,c+=p*4294967296}return(c>>>0)*23283064365386963e-26};return d}n&&n.exports?n.exports=i:this.alea=i})(Rn,e)})(n4);var UMe=n4.exports,r4={exports:{}};r4.exports;(function(e){(function(t,n,r){function s(l){var c=this,d="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var m=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^m^m>>>8},l===(l|0)?c.x=l:d+=l;for(var f=0;f<d.length+64;f++)c.x^=d.charCodeAt(f)|0,c.next()}function a(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c}function i(l,c){var d=new s(l),f=c&&c.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var p=d.next()>>>11,g=(d.next()>>>0)/4294967296,v=(p+g)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,f&&(typeof f=="object"&&a(f,d),m.state=function(){return a(d,{})}),m}n&&n.exports?n.exports=i:this.xor128=i})(Rn,e)})(r4);var HMe=r4.exports,s4={exports:{}};s4.exports;(function(e){(function(t,n,r){function s(l){var c=this,d="";c.next=function(){var m=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(m^m<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,l===(l|0)?c.x=l:d+=l;for(var f=0;f<d.length+64;f++)c.x^=d.charCodeAt(f)|0,f==d.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function a(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c.v=l.v,c.d=l.d,c}function i(l,c){var d=new s(l),f=c&&c.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var p=d.next()>>>11,g=(d.next()>>>0)/4294967296,v=(p+g)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,f&&(typeof f=="object"&&a(f,d),m.state=function(){return a(d,{})}),m}n&&n.exports?n.exports=i:this.xorwow=i})(Rn,e)})(s4);var VMe=s4.exports,a4={exports:{}};a4.exports;(function(e){(function(t,n,r){function s(l){var c=this;c.next=function(){var f=c.x,m=c.i,p,g;return p=f[m],p^=p>>>7,g=p^p<<24,p=f[m+1&7],g^=p^p>>>10,p=f[m+3&7],g^=p^p>>>3,p=f[m+4&7],g^=p^p<<7,p=f[m+7&7],p=p^p<<13,g^=p^p<<9,f[m]=g,c.i=m+1&7,g};function d(f,m){var p,g=[];if(m===(m|0))g[0]=m;else for(m=""+m,p=0;p<m.length;++p)g[p&7]=g[p&7]<<15^m.charCodeAt(p)+g[p+1&7]<<13;for(;g.length<8;)g.push(0);for(p=0;p<8&&g[p]===0;++p);for(p==8?g[7]=-1:g[p],f.x=g,f.i=0,p=256;p>0;--p)f.next()}d(c,l)}function a(l,c){return c.x=l.x.slice(),c.i=l.i,c}function i(l,c){l==null&&(l=+new Date);var d=new s(l),f=c&&c.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var p=d.next()>>>11,g=(d.next()>>>0)/4294967296,v=(p+g)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,f&&(f.x&&a(f,d),m.state=function(){return a(d,{})}),m}n&&n.exports?n.exports=i:this.xorshift7=i})(Rn,e)})(a4);var GMe=a4.exports,o4={exports:{}};o4.exports;(function(e){(function(t,n,r){function s(l){var c=this;c.next=function(){var f=c.w,m=c.X,p=c.i,g,v;return c.w=f=f+1640531527|0,v=m[p+34&127],g=m[p=p+1&127],v^=v<<13,g^=g<<17,v^=v>>>15,g^=g>>>12,v=m[p]=v^g,c.i=p,v+(f^f>>>16)|0};function d(f,m){var p,g,v,h,x,y=[],b=128;for(m===(m|0)?(g=m,m=null):(m=m+"\0",g=0,b=Math.max(b,m.length)),v=0,h=-32;h<b;++h)m&&(g^=m.charCodeAt((h+32)%m.length)),h===0&&(x=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,h>=0&&(x=x+1640531527|0,p=y[h&127]^=g+x,v=p==0?v+1:0);for(v>=128&&(y[(m&&m.length||0)&127]=-1),v=127,h=4*128;h>0;--h)g=y[v+34&127],p=y[v=v+1&127],g^=g<<13,p^=p<<17,g^=g>>>15,p^=p>>>12,y[v]=g^p;f.w=x,f.X=y,f.i=v}d(c,l)}function a(l,c){return c.i=l.i,c.w=l.w,c.X=l.X.slice(),c}function i(l,c){l==null&&(l=+new Date);var d=new s(l),f=c&&c.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var p=d.next()>>>11,g=(d.next()>>>0)/4294967296,v=(p+g)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,f&&(f.X&&a(f,d),m.state=function(){return a(d,{})}),m}n&&n.exports?n.exports=i:this.xor4096=i})(Rn,e)})(o4);var WMe=o4.exports,i4={exports:{}};i4.exports;(function(e){(function(t,n,r){function s(l){var c=this,d="";c.next=function(){var m=c.b,p=c.c,g=c.d,v=c.a;return m=m<<25^m>>>7^p,p=p-g|0,g=g<<24^g>>>8^v,v=v-m|0,c.b=m=m<<20^m>>>12^p,c.c=p=p-g|0,c.d=g<<16^p>>>16^v,c.a=v-m|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,l===Math.floor(l)?(c.a=l/4294967296|0,c.b=l|0):d+=l;for(var f=0;f<d.length+20;f++)c.b^=d.charCodeAt(f)|0,c.next()}function a(l,c){return c.a=l.a,c.b=l.b,c.c=l.c,c.d=l.d,c}function i(l,c){var d=new s(l),f=c&&c.state,m=function(){return(d.next()>>>0)/4294967296};return m.double=function(){do var p=d.next()>>>11,g=(d.next()>>>0)/4294967296,v=(p+g)/(1<<21);while(v===0);return v},m.int32=d.next,m.quick=m,f&&(typeof f=="object"&&a(f,d),m.state=function(){return a(d,{})}),m}n&&n.exports?n.exports=i:this.tychei=i})(Rn,e)})(i4);var zMe=i4.exports,CA={exports:{}};const qMe={},ZMe=Object.freeze(Object.defineProperty({__proto__:null,default:qMe},Symbol.toStringTag,{value:"Module"})),YMe=JN(ZMe);(function(e){(function(t,n,r){var s=256,a=6,i=52,l="random",c=r.pow(s,a),d=r.pow(2,i),f=d*2,m=s-1,p;function g(T,k,A){var M=[];k=k==!0?{entropy:!0}:k||{};var P=y(x(k.entropy?[T,S(n)]:T??b(),3),M),I=new v(M),D=function(){for(var F=I.g(a),B=c,z=0;F<d;)F=(F+z)*s,B*=s,z=I.g(1);for(;F>=f;)F/=2,B/=2,z>>>=1;return(F+z)/B};return D.int32=function(){return I.g(4)|0},D.quick=function(){return I.g(4)/4294967296},D.double=D,y(S(I.S),n),(k.pass||A||function(F,B,z,O){return O&&(O.S&&h(O,I),F.state=function(){return h(I,{})}),z?(r[l]=F,B):F})(D,P,"global"in k?k.global:this==r,k.state)}function v(T){var k,A=T.length,M=this,P=0,I=M.i=M.j=0,D=M.S=[];for(A||(T=[A++]);P<s;)D[P]=P++;for(P=0;P<s;P++)D[P]=D[I=m&I+T[P%A]+(k=D[P])],D[I]=k;(M.g=function(F){for(var B,z=0,O=M.i,q=M.j,H=M.S;F--;)B=H[O=m&O+1],z=z*s+H[m&(H[O]=H[q=m&q+B])+(H[q]=B)];return M.i=O,M.j=q,z})(s)}function h(T,k){return k.i=T.i,k.j=T.j,k.S=T.S.slice(),k}function x(T,k){var A=[],M=typeof T,P;if(k&&M=="object")for(P in T)try{A.push(x(T[P],k-1))}catch{}return A.length?A:M=="string"?T:T+"\0"}function y(T,k){for(var A=T+"",M,P=0;P<A.length;)k[m&P]=m&(M^=k[m&P]*19)+A.charCodeAt(P++);return S(k)}function b(){try{var T;return p&&(T=p.randomBytes)?T=T(s):(T=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(T)),S(T)}catch{var k=t.navigator,A=k&&k.plugins;return[+new Date,t,A,t.screen,S(n)]}}function S(T){return String.fromCharCode.apply(0,T)}if(y(r.random(),n),e.exports){e.exports=g;try{p=YMe}catch{}}else r["seed"+l]=g})(typeof self<"u"?self:Rn,[],Math)})(CA);var KMe=CA.exports,QMe=UMe,XMe=HMe,JMe=VMe,e_e=GMe,t_e=WMe,n_e=zMe,xa=KMe;xa.alea=QMe;xa.xor128=XMe;xa.xorwow=JMe;xa.xorshift7=e_e;xa.xor4096=t_e;xa.tychei=n_e;var r_e=xa;const xFe=ue(r_e),s_e=de(()=>({displayingSideBySideFeedback:!1})),a_e=/^(\d+)([^]+)([^]+)?$/,o_e=["File created at","File last modified at"];function CFe(e){let t=[];if(!e||typeof e!="object")return null;if(!Object.hasOwn(e,"results"))return null;const n=e.results;if(!Array.isArray(n))return null;const r=n.map($v);for(let a of r){if(a==null)return null;t.push(a)}let s;if(Object.hasOwn(e,"debug_info")){const a=e.debug_info;if(!a||typeof a!="object"||!Object.hasOwn(a,"retrieval_results")||!Array.isArray(a.retrieval_results))return null;const i=a.retrieval_results;s={retrieval_results:[]};for(const l of i){if(!l||typeof l!="object"||typeof l.query!="string"||!Array.isArray(l.results))return null;const c=l.query;let d=l.results.map($v);const f=[];for(const m of d){if(!m)return null;f.push(m)}s.retrieval_results.push({query:c,results:f})}}return{results:t,debug_info:s}}function $v(e){const t={};if(!e||typeof e!="object")return null;for(const[n,r]of Object.entries(e))n==="score"&&typeof r=="number"?t.score=r:["document_id","content","title","created_at","updated_at","file_created_at","file_modified_at","document_chunk_id","cloud_doc_url","document_source"].includes(n)&&(r==null||typeof r=="string")&&(t[n]=r??void 0);return t.document_id==null||t.content==null?null:{...t,document_id:t.document_id,content:t.content}}function yFe(e,t){const n=[];let r=null,s="",a=e.split(`
`);a.length>0&&a[a.length-1].startsWith("Visible: ")&&(s=a.pop()??"");for(const i of a){const l=i.trim(),c=l.startsWith("# ")?a_e.exec(l.slice(2)):null;if(c&&c.length>=3){const d=parseInt(c[1],10),f=c[2],m=c[3]?.slice(1)||void 0;r&&n.push(r),r={resultNum:d,title:f,documentId:m,contents:"",metadata:{}}}else if(r)if(r.contents)r.contents+=`
${i}`;else{let d=!1;for(const f of o_e){const m=`${f}: `;if(l.startsWith(m)){r.metadata[f]=l.slice(m.length),d=!0;break}}d||(r.contents=i)}}if(r&&n.push(r),t)for(let i=0;i<n.length;i++)n[i].metadata.cloud_doc_url?n[i].cloudDocUrl=String(n[i].metadata.cloud_doc_url):i<t.length&&(n[i].cloudDocUrl=t[i]);return{visibilityLine:s,chunks:n}}function bFe(e){const t=e.content;switch(t.content_type){case tt.Text:return t.parts.join();case tt.ExecutionOutput:case tt.SystemError:case tt.Code:case tt.SystemMessage:case tt.TetherQuote:case tt.TetherBrowsingCode:return t.text;case tt.TetherBrowsingDisplay:return t.result;case tt.SonicWebpage:return t.text;case tt.UserEditableContext:case tt.ModelEditableContext:case tt.Error:return null;case tt.MultimodalText:return Bv(t.parts);case tt.SystemContent:case tt.DeveloperContent:return t.instructions==null?null:typeof t.instructions=="string"?t.instructions:Bv(t.instructions)}}function Bv(e){return e.filter(t=>typeof t=="string").join()}const yA=({icon:e,label:t,iconClassName:n,className:r,onClick:s,onBeforeClick:a,disabled:i=!1,asLink:l=!1,href:c,style:d,target:f,testId:m})=>{const p=l?"a":"button";return o.jsx(F8,{sideOffset:0,label:t,disabled:!t,children:o.jsx(p,{className:N("rounded-lg text-token-text-secondary hover:bg-token-main-surface-secondary",r),"aria-label":t,onClick:s,onPointerEnter:a,onTouchStart:a,onFocus:a,disabled:i,target:f,href:c,style:d,"data-testid":m,children:e&&o.jsx("span",{className:"flex h-[30px] w-[30px] items-center justify-center touch:w-[38px]",children:o.jsx(e,{className:n??"icon-md-heavy"})})})})},wFe=({turn:e})=>{const t=wI(),n=L();function r(){n1.logButtonClick(Up.EDIT_IN_CANVAS_MESSAGE);const s=HE(e);t&&Wi.removeTempTextdoc(t.textdocId);const a=Wi.createTempTextdoc(s,n.formatMessage({id:"9e0Zzr",defaultMessage:"New document"}),Gi.MESSAGE);requestAnimationFrame(()=>{fs(a)})}return o.jsx(yA,{icon:bg,iconClassName:"icon-md",onClick:r,label:n.formatMessage({id:"EditInCanvas.tooltip",defaultMessage:"Edit in canvas"})})},SFe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 3.29289C11.6834 2.90237 12.3166 2.90237 12.7071 3.29289L16.7071 7.29289C17.0976 7.68342 17.0976 8.31658 16.7071 8.70711C16.3166 9.09763 15.6834 9.09763 15.2929 8.70711L13 6.41421V15C13 15.5523 12.5523 16 12 16C11.4477 16 11 15.5523 11 15V6.41421L8.70711 8.70711C8.31658 9.09763 7.68342 9.09763 7.29289 8.70711C6.90237 8.31658 6.90237 7.68342 7.29289 7.29289L11.2929 3.29289ZM4 14C4.55228 14 5 14.4477 5 15V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V15C19 14.4477 19.4477 14 20 14C20.5523 14 21 14.4477 21 15V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V15C3 14.4477 3.44772 14 4 14Z",fill:"currentColor"})),MFe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M11.4079 21.4961C11.1953 21.8698 10.7683 22.0649 10.348 21.9805C8.4373 21.5968 7.27541 19.6391 7.84844 17.7691L8.69697 14.9999L6.98577 14.9999C4.35915 14.9999 2.45151 12.492 3.14262 9.94747L4.50063 4.94747C4.97329 3.20722 6.54741 1.99994 8.34378 1.99994H14.0328C15.131 2.00207 16.0206 2.89668 16.0206 3.99994V14.9999H15.6827C15.3253 14.9999 14.9953 15.1922 14.818 15.5038L11.4079 21.4961Z",fill:"currentColor"}),u.createElement("path",{d:"M18.0124 14.9999C19.6624 14.9999 21 13.6568 21 11.9999V4.99994C21 3.34308 19.6624 1.99994 18.0124 1.99994H17.4794C17.8184 2.58829 18.0124 3.27136 18.0124 3.99994V14.9999Z",fill:"currentColor"})),_Fe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8727 21.4961C11.6725 21.8466 11.2811 22.0423 10.8805 21.9922L10.4267 21.9355C7.95958 21.6271 6.36855 19.1665 7.09975 16.7901L7.65054 15H6.93226C4.29476 15 2.37923 12.4921 3.0732 9.94753L4.43684 4.94753C4.91145 3.20728 6.49209 2 8.29589 2H18.0045C19.6614 2 21.0045 3.34315 21.0045 5V12C21.0045 13.6569 19.6614 15 18.0045 15H16.0045C15.745 15 15.5054 15.1391 15.3766 15.3644L11.8727 21.4961ZM14.0045 4H8.29589C7.39399 4 6.60367 4.60364 6.36637 5.47376L5.00273 10.4738C4.65574 11.746 5.61351 13 6.93226 13H9.00451C9.32185 13 9.62036 13.1506 9.8089 13.4059C9.99743 13.6612 10.0536 13.9908 9.96028 14.2941L9.01131 17.3782C8.6661 18.5002 9.35608 19.6596 10.4726 19.9153L13.6401 14.3721C13.9523 13.8258 14.4376 13.4141 15.0045 13.1902V5C15.0045 4.44772 14.5568 4 14.0045 4ZM17.0045 13V5C17.0045 4.64937 16.9444 4.31278 16.8338 4H18.0045C18.5568 4 19.0045 4.44772 19.0045 5V12C19.0045 12.5523 18.5568 13 18.0045 13H17.0045Z",fill:"currentColor"})),EFe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M12.592 2.50386C12.8047 2.13014 13.2317 1.935 13.652 2.01942C15.5627 2.40314 16.7246 4.36079 16.1516 6.23085L15.303 9L17.0142 9C19.6409 9 21.5485 11.5079 20.8574 14.0525L19.4994 19.0525C19.0267 20.7927 17.4526 22 15.6562 22H9.96721C8.869 21.9979 7.97939 21.1033 7.97939 20V9H8.31734C8.67472 9 9.0047 8.80771 9.18201 8.49613L12.592 2.50386Z",fill:"currentColor"}),u.createElement("path",{d:"M5.98763 9C4.33761 9 3 10.3431 3 12V19C3 20.6569 4.33761 22 5.98763 22H6.52055C6.18162 21.4116 5.98763 20.7286 5.98763 20V9Z",fill:"currentColor"})),kFe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1318 2.50389C12.3321 2.15338 12.7235 1.95768 13.124 2.00775L13.5778 2.06447C16.0449 2.37286 17.636 4.83353 16.9048 7.20993L16.354 8.99999H17.0722C19.7097 8.99999 21.6253 11.5079 20.9313 14.0525L19.5677 19.0525C19.0931 20.7927 17.5124 22 15.7086 22H6C4.34315 22 3 20.6568 3 19V12C3 10.3431 4.34315 8.99999 6 8.99999H8C8.25952 8.99999 8.49914 8.86094 8.6279 8.63561L12.1318 2.50389ZM10 20H15.7086C16.6105 20 17.4008 19.3964 17.6381 18.5262L19.0018 13.5262C19.3488 12.2539 18.391 11 17.0722 11H15C14.6827 11 14.3841 10.8494 14.1956 10.5941C14.0071 10.3388 13.9509 10.0092 14.0442 9.70591L14.9932 6.62175C15.3384 5.49984 14.6484 4.34036 13.5319 4.08468L10.3644 9.62789C10.0522 10.1742 9.56691 10.5859 9 10.8098V19C9 19.5523 9.44772 20 10 20ZM7 11V19C7 19.3506 7.06015 19.6872 7.17071 20H6C5.44772 20 5 19.5523 5 19V12C5 11.4477 5.44772 11 6 11H7Z",fill:"currentColor"})),i_e=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L9.70711 19.7071C9.31658 20.0976 8.68342 20.0976 8.29289 19.7071C7.90237 19.3166 7.90237 18.6834 8.29289 18.2929L14.5858 12L8.29289 5.70711C7.90237 5.31658 7.90237 4.68342 8.29289 4.29289Z",fill:"currentColor"}));function TFe({currentPage:e,length:t,onChangeIndex:n}){const r=a=>{n(Ih(e+a,0,t-1))},s=L();return o.jsxs("div",{className:N("flex items-center justify-center text-token-text-secondary"),children:[o.jsx("button",{onClick:()=>r(-1),disabled:e===0,className:"flex h-[30px] w-[24px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent touch:w-[32px]","aria-label":s.formatMessage({id:"XwENI/",defaultMessage:"Previous response"}),children:o.jsx(KN,{className:"icon-md-heavy"})}),o.jsx("div",{className:"px-0.5 text-sm font-semibold tabular-nums",children:`${e+1}/${t}`}),o.jsx("button",{onClick:()=>r(1),disabled:e===t-1,"aria-label":s.formatMessage({id:"V8RFHE",defaultMessage:"Next response"}),className:"flex h-[30px] w-[24px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent touch:w-[32px]",children:o.jsx(i_e,{className:"icon-md-heavy"})})]})}function AFe({currentPage:e,onChangeIndex:t,length:n}){const r=s=>{t(Ih(e+s,0,n-1))};return n===0?null:o.jsxs(l_e,{children:[o.jsx(Uv,{onClick:()=>r(-1),disabled:e===0,children:o.jsx(dT,{className:"icon-sm"})}),o.jsx(c_e,{children:`${e+1}/${n}`}),o.jsx(Uv,{onClick:()=>r(1),disabled:e===n-1,children:o.jsx(zd,{className:"icon-sm"})})]})}const l_e=ce.div`text-xs inline-flex bg-token-main-surface-secondary h-8 border rounded border-token-border-medium`,Uv=ce.button`text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-main-surface-tertiary`,c_e=ce.span`text-token-text-tertiary px-2 flex items-center font-mono tracking-widest`,PFe=({modelSwitcherDeny:e,value:t,label:n,subtitle:r,icon:s,onMouseEnter:a,onMouseLeave:i,onSelect:l,messageModelSlug:c,isHovered:d=!1,shouldShowUpsell:f=!1,className:m,includeCheck:p,includeRegenerate:g,clientThreadId:v})=>{const h=$e(),x=Il({clientThreadId:v}),y=Ag({modelSlug:t,modelSwitcherDenialsBySlug:x}),b=!y&&!f,S=Te(),T=k=>{if(!f){l?.(k);return}E.logEvent(_.accountPayOpenPaymentFromMessageModelPicker),E.logRateLimitGetPlusButtonClicked({type:Fd.RATE_LIMIT,location:"message_model_switcher_dropdown",plan_type:h?.planType??"unknown",is_hard_block:!1,hard_block_reason:"",is_new_conversation:!1}),rf(S,"Message model switcher dropdown")};return o.jsx(te.Item,{onSelect:T,onMouseEnter:()=>y&&a?.(),onMouseLeave:()=>y&&i?.(),disabled:b,className:m??"radix-disabled:pointer-events-auto radix-disabled:cursor-not-allowed radix-disabled:hover:bg-transparent",children:o.jsxs(et,{label:e&&o.jsx(B5,{modelSwitcherDeny:e}),className:"flex w-full items-center justify-between gap-2",sideOffset:0,children:[o.jsxs("div",{className:"flex w-full items-center gap-3",children:[s||null,o.jsxs("div",{children:[o.jsx("div",{children:n}),o.jsx("div",{className:N({"text-sm text-token-text-secondary":!b},{"text-sm text-token-text-quaternary":b}),children:r})]})]}),f?o.jsx(G,{color:"secondary",size:"small",children:o.jsx(C,{id:"54fmrA",defaultMessage:"Get Plus"})}):o.jsx(u_e,{messageModelSlug:c,isHovered:d,modelSwitcherDeny:e,optionModelSlug:t,includeCheck:p,includeRegenerate:g})]})})},u_e=({modelSwitcherDeny:e,optionModelSlug:t,isHovered:n,messageModelSlug:r,includeRegenerate:s=!0,includeCheck:a=!0})=>{let i=null;if(e)switch(e.reason){case Fd.RATE_LIMIT:i=rT;break;default:i=r1;break}if(e)return o.jsx(i,{className:"icon-md"});const l=!!s&&o.jsx(c0e,{className:N("icon-md hidden text-token-text-tertiary",{"group-hover:block":n})});return r===t&&a?o.jsxs(o.Fragment,{children:[o.jsx(US,{className:N("icon-md text-token-text-primary",{"group-hover:hidden":n})}),l]}):l},NFe=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06189 11H8.01766C8.09487 8.8263 8.42177 6.84448 8.93 5.31981C9.02641 5.03057 9.13134 4.7517 9.24521 4.48695C6.48461 5.49947 4.43722 7.9901 4.06189 11ZM12 2C6.47715 2 2 6.47715 2 12C2 17.148 5.88912 21.3862 10.8901 21.939C11.2795 21.9821 11.6582 21.7938 11.8588 21.4573C12.0595 21.1208 12.0452 20.6982 11.8223 20.376C11.425 19.8019 10.9607 18.6839 10.5975 17.1672C10.3041 15.9422 10.0898 14.5119 10.0224 13H21C21.5523 13 22 12.5523 22 12C22 6.47715 17.5228 2 12 2ZM12 4C11.9999 4 12.0001 4 12 4C12.0012 4.00001 12.0058 4.00018 12.0153 4.00305C12.0264 4.00645 12.0485 4.01483 12.0814 4.03507C12.1506 4.07752 12.2545 4.16408 12.3823 4.32624C12.6425 4.65642 12.9206 5.19616 13.1726 5.95227C13.6027 7.24257 13.9045 9.00275 13.981 11H10.019C10.0955 9.00275 10.3973 7.24257 10.8274 5.95227C11.0794 5.19616 11.3575 4.65642 11.6177 4.32624C11.7455 4.16408 11.8494 4.07752 11.9186 4.03507C11.9515 4.01483 11.9736 4.00645 11.9847 4.00305C11.9951 3.9999 11.9993 4 12 4ZM15.9823 11C15.9051 8.8263 15.5782 6.84448 15.07 5.31981C14.9736 5.03058 14.8687 4.7517 14.7548 4.48695C17.5154 5.49947 19.5628 7.9901 19.9381 11H15.9823ZM8.02058 13H4.06191C4.43529 15.9937 6.46303 18.4743 9.20105 19.4969C8.99671 18.9272 8.81194 18.2988 8.6525 17.633C8.32456 16.2637 8.0892 14.6754 8.02058 13ZM14.2929 16.7071C13.9024 16.3166 13.9024 15.6834 14.2929 15.2929C14.6834 14.9024 15.3166 14.9024 15.7071 15.2929L17.5 17.0858L19.2929 15.2929C19.6834 14.9024 20.3166 14.9024 20.7071 15.2929C21.0976 15.6834 21.0976 16.3166 20.7071 16.7071L18.9142 18.5L20.7071 20.2929C21.0976 20.6834 21.0976 21.3166 20.7071 21.7071C20.3166 22.0976 19.6834 22.0976 19.2929 21.7071L17.5 19.9142L15.7071 21.7071C15.3166 22.0976 14.6834 22.0976 14.2929 21.7071C13.9024 21.3166 13.9024 20.6834 14.2929 20.2929L16.0858 18.5L14.2929 16.7071Z",fill:"currentColor"})),jFe=({clientThreadId:e,message:t})=>{const{data:n}=hr(),r=Il({clientThreadId:e}),s=[];for(const c of n?.categories??[]){if(eD(c))continue;const{defaultModel:d,label:f,tagline:m,subscriptionLevel:p,subcategory:g}=c,v=r[d]?.regenerate?.[0];s.push({label:f,value:d,subtitle:m,modelSwitcherDeny:v,subscriptionLevel:p,subcategory:g})}const a=t.metadata?.model_slug,l=og(n?.models,a)?.enabledTools||[];return{modelOptions:s,messageModelEnabledTools:l}};function IFe(e,t){try{return Z.getConversationTurns(_e(e),t).flatMap(a=>a.messages).filter(a=>a.author.role===Ce.Assistant&&!w2(a)).reverse()[1]?.metadata?.model_slug}catch{return}}function RFe(e,t){return e?!!(e&&t!==e):!0}function LFe(e,t){const[n,r,s]=Je(e,f=>[Z.getIsNewConversation(f),Z.getRequestId(f),o0e(f)]),a=vp(r),i=s_e(),{isUnauthenticated:l}=at(),c=t?.metadata?.b1de6e2_s||t?.metadata?.b1de6e2_rm;return!n&&!a&&!i.displayingSideBySideFeedback&&!l&&!s&&!c}function OFe({onAnticipateEdit:e,onEnterEdit:t}){const n=L();return o.jsx(yA,{label:n.formatMessage({id:"gG9rea",defaultMessage:"Edit message"}),icon:RC,onClick:t,onBeforeClick:e})}function DFe(){return!0}const d_e={liveRegionAssertive:"",liveRegionPolite:""},qa=de()(()=>({...d_e}));let v2,x2;const Jc={setLiveRegionAssertive:e=>{window.clearTimeout(v2),qa.setState({liveRegionAssertive:e}),v2=window.setTimeout(()=>{qa.setState({liveRegionAssertive:""}),v2=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(x2),qa.setState({liveRegionPolite:e}),x2=window.setTimeout(()=>{qa.setState({liveRegionPolite:""}),x2=void 0},5e3)}};function FFe(e){const{isCompletionRequestInProgress:t,isUserTurn:n,message:r}=e,s=L(),a=u.useRef(t);u.useEffect(()=>{if(!t)return;let i;Jc.setLiveRegionAssertive(s.formatMessage({id:"0LFLpz",defaultMessage:"ChatGPT is generating a response..."}));const l=s.formatMessage({id:"uqqkLX",defaultMessage:"ChatGPT is still generating a response..."}),c=5e3;function d(){Jc.setLiveRegionAssertive(""),i=window.setTimeout(()=>{Jc.setLiveRegionAssertive(l),i=window.setTimeout(()=>d(),c)},1e3)}return i=window.setTimeout(d,c),()=>{window.clearTimeout(i)}},[t,s]),u.useEffect(()=>{if(t||n||!r||!a.current){a.current=t;return}const{content:i}=r,l=(i.content_type===tt.Text,i),c=s.formatMessage({id:"lZ4dVJ",defaultMessage:"ChatGPT says: {message}"},{message:l?.parts?.join?.(`
`)??""});Jc.setLiveRegionAssertive(c),a.current=!1},[n,t,s,r])}function f_e(e){return e.nodeType===Node.ELEMENT_NODE}function bA(e){if(f_e(e)){if(["THEAD","TR","TD","TH"].includes(e.nodeName.toUpperCase())){let t=e.parentNode;for(;t&&t.nodeName!=="TABLE";)t=t.parentNode;if(!t){k8.debug("Found table element without a parent <table>");const n=document.createElement("table");e.parentNode?.insertBefore(n,e),n.appendChild(e)}}e.attributes&&[...e.attributes].forEach(t=>{["style"].includes(t.name)&&e.removeAttribute(t.name)})}e.childNodes.forEach(bA)}function m_e(e){e.childNodes.forEach(bA)}function p_e(e){const t=e.currentTarget.ownerDocument,n=t.defaultView;e.preventDefault();const r=n?.getSelection();if(r&&r.rangeCount>0){const a=r.getRangeAt(0).cloneContents();m_e(a);const i=t.createElement("div");i.appendChild(a);const l=i.innerHTML;e.clipboardData.setData("text/html",l),e.clipboardData.setData("text/plain",r.toString())}}const $Fe=e=>{const t=Br(),n=Cn();return u.useCallback(r=>{p_e(r);const{currentTarget:s}=r,a=s.closest("[data-message-id]")?.getAttribute("data-message-id"),i=document.getSelection()?.toString(),l=vn(e);!a||!i||!l||n||n5(t,{source:"keyboard",type:"copy",messageId:a,serverThreadId:l,selectedText:i,location:"selection"})},[t,e,n])};function BFe({clientThreadId:e}){u.useEffect(()=>{pt.closeSharingModal(),rt(e,a=>{a.scrollToMessageId="finalAgentTurn"})},[e]);const t=xe();u.useEffect(()=>(Nn.retainThread(e),()=>{setTimeout(()=>{t.invalidateQueries({queryKey:["conversation",e]})},0),Nn.releaseThread(e)}),[e,t]),u.useEffect(()=>()=>{$.checkGate("3922476776")||Su.abortAllRequests()},[e]);const n=u.useRef(e);u.useEffect(()=>{e!==n.current&&($.checkGate("3922476776")||Su.clear(),n.current=e)},[e]);const{closeThreadSidebar:r}=sa(),s=v4.useState(v4.getActiveSidebar);u.useEffect(()=>{(s?.type==="searchSources"||s?.type==="summarizer"||s?.type==="caterpillar"||s?.type==="product")&&s.clientThreadId!==H8&&r()},[e,r])}const UFe={setFocusedObject:e=>{ku.setState({focusedObject:e}),Hj()},close(){ku.setState({focusedObject:null})}},g_e={type:"spring",stiffness:300,damping:30,mass:1},HFe={transition:g_e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};var h_e=(e=>(e[e.ADAVisualization=0]="ADAVisualization",e[e.Image=1]="Image",e))(h_e||{});function VFe(){const{isUnauthenticated:e,isLoading:t}=at(),{eligible:n,isLoading:r,markAsViewed:s}=le(me.hasSeenPioneer),a=wn();return{eligible:a&&a.created>Date.now()/1e3-24*60*60&&n&&!e,isLoading:r||t,markAsViewed:s}}function v_e(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function x_e(){["IDE","ANID","NID"].forEach(t=>{try{document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=."+window.location.hostname}catch{$.logEvent("chatgpt_pioneer_cookie_error")}})}function GFe(){const e=wn(),{cspScriptNonce:t}=u.useContext($r);return!window||!e||!t?()=>{}:async()=>{let n;if(e.email)try{const i=new TextEncoder().encode(e.email);n=await crypto.subtle.digest("SHA-256",i).then(l=>Array.from(new Uint8Array(l)).map(c=>c.toString(16).padStart(2,"0")).join(""))}catch{$.logEvent("chatgpt_pioneer_email_error")}const r=document.createElement("script");r.src="https://www.googletagmanager.com/gtag/js?id=AW-16678058309",r.nonce=t,r.async=!0,document.body.appendChild(r);const s=v_e();s("js",new Date),s("config","AW-16678058309",{send_page_view:!1,conversion_linker:!0,restricted_data_processing:!0}),x_e(),s("set","user_data",{sha256_email_address:n}),s("event","conversion",{send_to:"AW-16678058309/0kStCJHMl9QZEMXy25A-",user_data:{sha256_email_address:n,gclid:V8(Mu.Gclid)??void 0}}),G8(Mu.Gclid),$.logEvent("chatgpt_pioneer_conv")}}function WFe({clientThreadId:e}){return Hm.useCurrentImage()?o.jsx(C_e,{clientThreadId:e}):null}const C_e=gt(()=>ut(()=>import("./h45upoeq12puiam0.js"),__vite__mapDeps([74,1,3,4,20,21])).then(e=>e.ImageLightbox));function zFe(){const e=qa(n=>n.liveRegionAssertive),t=qa(n=>n.liveRegionPolite);return o.jsxs(o.Fragment,{children:[o.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:e}),o.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:t})]})}function qFe(){const{isUnauthenticated:e,isLoading:t}=at(),{eligible:n,isLoading:r,markAsViewed:s}=le(me.hasSeenMaverick);return{eligible:wn()&&n&&!e,isLoading:r||t,markAsViewed:s}}function ZFe(){const e=wn(),{cspScriptNonce:t}=u.useContext($r);return!window||!e||!t?()=>{}:()=>{const n=V8(Mu.Fbclid);if(!n)return;const r=y_e(t);b_e(n??""),r("init","3747963938802455"),r("dataProcessingOptions",["LDU"],0,0),r("track","Lead",{fbclid:n??void 0}),G8(Mu.Fbclid)}}function y_e(e){return!window||!document?()=>{}:(function(t,n,r,s,a,i,l){t.fbq||(a=t.fbq=function(){a.callMethod?a.callMethod(...arguments):a.queue.push(arguments)},t._fbq||(t._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],i=n.createElement(r),i.async=!0,i.src=s,i.nonce=e,l=n.getElementsByTagName(r)[0],l.parentNode.insertBefore(i,l))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),window.fbq)}function b_e(e){if(!window||!document||document.getElementById("noscript-img"))return;const n=document.createElement("noscript"),r=document.createElement("img");n.appendChild(r),r.id="noscript-img",r.src=`https://www.facebook.com/tr?id=3747963938802455&ev=PageView&noscript=1&fbclid=${e}`,r.height=1,r.width=1,r.style.display="none",document.body.appendChild(n)}function w_e(e){return e?e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable:!1}function S_e(){document.documentElement.classList.add("keyboard-open")}function M_e(){document.documentElement.classList.remove("keyboard-open")}function YFe(){if(!QT())return;let e=!1,t=navigator.virtualKeyboard.overlaysContent;function n(){e||(document.removeEventListener("focusout",r),M_e(),document.body.style.removeProperty("--screen-keyboard-height"),navigator.virtualKeyboard.removeEventListener("geometrychange",s))}const r=()=>{e=!1,requestAnimationFrame(n)},s=i=>{document.body.style.setProperty("--screen-keyboard-height",`${i.target.boundingRect.height}px`),S_e()},a=i=>{const l=i.target;w_e(l)&&(e=!0,document.addEventListener("focusout",r),navigator.virtualKeyboard.addEventListener("geometrychange",s))};return navigator.virtualKeyboard.overlaysContent=!0,document.addEventListener("focusin",a),()=>{navigator.virtualKeyboard.overlaysContent=t,document.removeEventListener("focusin",a),n()}}function KFe(e,t,n){if(e.getQueryState(t)?.status==="success")return n(),()=>{};const r=Kv(t),s=e.getQueryCache().subscribe(a=>{a.query.queryHash===r&&a.query.state.status==="success"&&(n(),s())});return s}export{un as $,cke as A,rn as B,s1 as C,Bx as D,le as E,lPe as F,me as G,Kn as H,se as I,g4e as J,lNe as K,cNe as L,Sie as M,BFe as N,lje as O,$x as P,cje as Q,xs as R,BRe as S,uEe as T,pt as U,FIe as V,lFe as W,dRe as X,mRe as Y,fRe as Z,Hp as _,nj as a,rme as a$,s3e as a0,UIe as a1,o3e as a2,m1 as a3,FS as a4,jh as a5,BIe as a6,$Ie as a7,ng as a8,qO as a9,bNe as aA,Fme as aB,ac as aC,Ws as aD,Es as aE,mNe as aF,fNe as aG,gNe as aH,PNe as aI,vNe as aJ,UNe as aK,Y2e as aL,u_ as aM,b_ as aN,Rme as aO,Ime as aP,hNe as aQ,jt as aR,_Ne as aS,NNe as aT,wme as aU,mme as aV,wNe as aW,LNe as aX,FNe as aY,x_ as aZ,v_ as a_,N2 as aa,ZO as ab,iLe as ac,QTe as ad,KIe as ae,ol as af,eH as ag,Ct as ah,nke as ai,Xl as aj,ofe as ak,u0e as al,l_ as am,Gr as an,va as ao,J2e as ap,f5 as aq,h_ as ar,ha as as,wt as at,DNe as au,Xme as av,$Ne as aw,ANe as ax,TNe as ay,BNe as az,f5e as b,gv as b$,xNe as b0,ga as b1,epe as b2,pme as b3,Pg as b4,xMe as b5,Oa as b6,uMe as b7,dMe as b8,cMe as b9,YM as bA,KM as bB,iDe as bC,TL as bD,il as bE,kEe as bF,cEe as bG,je as bH,W8 as bI,uE as bJ,Ql as bK,q1 as bL,mm as bM,Yn as bN,Jl as bO,RO as bP,Yde as bQ,Eue as bR,h1 as bS,qo as bT,Sue as bU,Mue as bV,nPe as bW,V5 as bX,gT as bY,H5 as bZ,G5 as b_,lMe as ba,vMe as bb,XPe as bc,rf as bd,Vje as be,Mwe as bf,YFe as bg,KFe as bh,oD as bi,uke as bj,Ik as bk,r1 as bl,Mje as bm,wn as bn,P_ as bo,YNe as bp,J as bq,nNe as br,aNe as bs,Ih as bt,As as bu,eNe as bv,rNe as bw,sNe as bx,tNe as by,oNe as bz,$_e as c,Dle as c$,P$ as c0,ype as c1,D_ as c2,ec as c3,Io as c4,sg as c5,z1 as c6,bue as c7,cn as c8,ll as c9,iS as cA,Vp as cB,YRe as cC,KRe as cD,YR as cE,nce as cF,p4e as cG,zPe as cH,V1 as cI,gE as cJ,c9e as cK,qn as cL,ms as cM,fo as cN,Xo as cO,ic as cP,cFe as cQ,fLe as cR,Pj as cS,B_e as cT,U_e as cU,H_e as cV,Au as cW,Ya as cX,PPe as cY,CPe as cZ,xPe as c_,Ye as ca,TU as cb,LU as cc,nT as cd,rS as ce,gm as cf,q7 as cg,$h as ch,_7e as ci,y5e as cj,c4e as ck,UFe as cl,h_e as cm,Hm as cn,o4e as co,i4e as cp,Yi as cq,$ce as cr,Wje as cs,a7e as ct,tDe as cu,$i as cv,gje as cw,n1e as cx,YT as cy,KT as cz,mx as d,xfe as d$,hye as d0,oPe as d1,tPe as d2,J6e as d3,_r as d4,Eu as d5,wue as d6,lS as d7,rPe as d8,iPe as d9,eRe as dA,HEe as dB,REe as dC,eC as dD,VEe as dE,Hx as dF,Aje as dG,OM as dH,I_ as dI,OEe as dJ,_5 as dK,AU as dL,Yo as dM,PL as dN,mD as dO,pRe as dP,nFe as dQ,Bie as dR,Gx as dS,KU as dT,bje as dU,ud as dV,wje as dW,Sje as dX,e4 as dY,vfe as dZ,hfe as d_,zh as da,Ke as db,bi as dc,oke as dd,Lje as de,O5e as df,_Ee as dg,aje as dh,Nh as di,tAe as dj,MEe as dk,g6e as dl,Kl as dm,Yt as dn,Zx as dp,yEe as dq,ske as dr,K0e as ds,J1 as dt,bEe as du,EEe as dv,RC as dw,v5 as dx,hE as dy,C5e as dz,dE as e,hoe as e$,Om as e0,TPe as e1,kPe as e2,Wle as e3,hAe as e4,uCe as e5,vde as e6,tde as e7,tc as e8,Aue as e9,qke as eA,sTe as eB,wc as eC,mt as eD,hU as eE,eg as eF,L_e as eG,CEe as eH,dke as eI,tD as eJ,gEe as eK,Wke as eL,dEe as eM,Ox as eN,AEe as eO,fke as eP,mEe as eQ,pEe as eR,AO as eS,ir as eT,LTe as eU,OTe as eV,lh as eW,MTe as eX,_Te as eY,el as eZ,Ds as e_,Iie as ea,qEe as eb,QO as ec,xOe as ed,Rxe as ee,wpe as ef,JNe as eg,ODe as eh,DDe as ei,IDe as ej,oIe as ek,Tj as el,cxe as em,Q as en,K as eo,W1 as ep,Cje as eq,yje as er,_5e as es,kue as et,E5e as eu,Gje as ev,rTe as ew,xEe as ex,Yr as ey,zke as ez,Vm as f,u1 as f$,tl as f0,tse as f1,ITe as f2,RTe as f3,uh as f4,Nb as f5,Rb as f6,jb as f7,Ib as f8,Toe as f9,gPe as fA,rEe as fB,HAe as fC,nAe as fD,hPe as fE,dPe as fF,OAe as fG,CAe as fH,NAe as fI,yAe as fJ,qAe as fK,vPe as fL,sEe as fM,_L as fN,yke as fO,lAe as fP,Tke as fQ,PEe as fR,GIe as fS,WIe as fT,v3e as fU,h3e as fV,yi as fW,YIe as fX,qIe as fY,ZIe as fZ,T_e as f_,Boe as fa,wTe as fb,PTe as fc,NTe as fd,jTe as fe,ATe as ff,STe as fg,ETe as fh,kTe as fi,TTe as fj,Db as fk,kb as fl,Yw as fm,Fb as fn,bTe as fo,mPe as fp,p1 as fq,KR as fr,sC as fs,cTe as ft,DAe as fu,jAe as fv,LAe as fw,ZAe as fx,YAe as fy,pPe as fz,Y8 as g,T5e as g$,da as g0,lC as g1,r$ as g2,J4 as g3,e$ as g4,zIe as g5,K7e as g6,Ne as g7,vk as g8,Zke as g9,tS as gA,dje as gB,j_e as gC,kj as gD,wPe as gE,gCe as gF,A_e as gG,kFe as gH,_Fe as gI,qOe as gJ,XOe as gK,P5e as gL,l0e as gM,Q_ as gN,K_ as gO,$ke as gP,wCe as gQ,n1 as gR,Up as gS,_we as gT,iFe as gU,F_ as gV,yFe as gW,eue as gX,Rh as gY,WNe as gZ,zNe as g_,WRe as ga,md as gb,Yke as gc,Ns as gd,BEe as ge,UEe as gf,v8e as gg,QEe as gh,XEe as gi,WEe as gj,ppe as gk,JEe as gl,No as gm,GEe as gn,AL as go,Gp as gp,lLe as gq,NO as gr,yg as gs,sFe as gt,K1 as gu,Xje as gv,Z6 as gw,Oue as gx,Rue as gy,Lue as gz,uIe as h,j$ as h$,CMe as h0,AS as h1,vue as h2,yA as h3,cwe as h4,EFe as h5,MFe as h6,bFe as h7,CFe as h8,bj as h9,dTe as hA,uTe as hB,JC as hC,vTe as hD,NU as hE,Mg as hF,Vu as hG,ZC as hH,_g as hI,PU as hJ,IU as hK,RU as hL,CTe as hM,Il as hN,_U as hO,oTe as hP,aC as hQ,I2 as hR,PO as hS,Rwe as hT,rT as hU,d5e as hV,HT as hW,gwe as hX,hwe as hY,c7e as hZ,hC as h_,a4e as ha,h6e as hb,GRe as hc,du as hd,OO as he,KEe as hf,SEe as hg,vOe as hh,LEe as hi,lEe as hj,wEe as hk,SFe as hl,z5e as hm,oje as hn,R3e as ho,uRe as hp,URe as hq,YMe as hr,XTe as hs,iie as ht,ake as hu,uLe as hv,ZEe as hw,ln as hx,hTe as hy,jU as hz,cIe as i,Y0e as i$,JTe as i0,T$ as i1,vE as i2,t9e as i3,OE as i4,bIe as i5,U4e as i6,z9e as i7,k4e as i8,G4e as i9,iIe as iA,wIe as iB,sIe as iC,kIe as iD,TIe as iE,eIe as iF,n9e as iG,M5 as iH,LIe as iI,yde as iJ,HFe as iK,yTe as iL,VFe as iM,GFe as iN,qFe as iO,ZFe as iP,rs as iQ,Hje as iR,RIe as iS,WFe as iT,zFe as iU,qje as iV,rje as iW,SRe as iX,QNe as iY,qbe as iZ,XNe as i_,Q4e as ia,T4e as ib,H9e as ic,rIe as id,_Ie as ie,EIe as ig,Jje as ih,NIe as ii,aIe as ij,jIe as ik,AIe as il,PIe as im,tIe as io,nIe as ip,xIe as iq,hIe as ir,pIe as is,mIe as it,gIe as iu,dIe as iv,fIe as iw,SIe as ix,vIe as iy,IIe as iz,lIe as j,f6e as j$,AFe as j0,Rke as j1,qNe as j2,IPe as j3,ZNe as j4,EAe as j5,tj as j6,Wi as j7,fs as j8,i1 as j9,Eg as jA,r6 as jB,YOe as jC,KOe as jD,d1 as jE,vEe as jF,Ph as jG,Cf as jH,EO as jI,MRe as jJ,a6 as jK,wRe as jL,v2e as jM,bRe as jN,pj as jO,o5e as jP,pFe as jQ,tH as jR,W7e as jS,PDe as jT,POe as jU,tn as jV,tje as jW,UTe as jX,ea as jY,yk as jZ,rLe as j_,$5 as ja,Uje as jb,CI as jc,Qw as jd,R_ as je,O_e as jf,wx as jg,dR as jh,yt as ji,re as jj,Hj as jk,Iv as jl,wI as jm,tx as jn,COe as jo,nx as jp,dLe as jq,dT as jr,kie as js,bg as jt,Gi as ju,ZTe as jv,n5 as jw,Wde as jx,nwe as jy,KAe as jz,Qx as k,U$ as k$,JRe as k0,tLe as k1,eLe as k2,nLe as k3,Ck as k4,zRe as k5,qRe as k6,ZRe as k7,QRe as k8,XRe as k9,q5e as kA,D3e as kB,O3e as kC,sRe as kD,QE as kE,Bp as kF,e1 as kG,_2 as kH,U_ as kI,HTe as kJ,c0e as kK,QOe as kL,pOe as kM,Tl as kN,G1 as kO,VRe as kP,B7e as kQ,I5e as kR,Y_ as kS,iA as kT,mSe as kU,VSe as kV,Gke as kW,Vke as kX,x4e as kY,mf as kZ,jEe as k_,N5e as ka,V5e as kb,US as kc,Bh as kd,Qa as ke,Dje as kf,lde as kg,Ir as kh,ePe as ki,lDe as kj,L5e as kk,uPe as kl,JAe as km,Zh as kn,Yh as ko,rRe as kp,cde as kq,_i as kr,Z0 as ks,VIe as kt,vLe as ku,xLe as kv,A6 as kw,XE as kx,B3e as ky,Oje as kz,Fn as l,v1 as l$,CC as l0,sAe as l1,Sx as l2,aAe as l3,vo as l4,ed as l5,Hs as l6,$le as l7,Gle as l8,SAe as l9,rOe as lA,lv as lB,qTe as lC,Kue as lD,ede as lE,r5e as lF,Ux as lG,Rje as lH,mde as lI,kDe as lJ,Nje as lK,Dm as lL,R5e as lM,jje as lN,Pje as lO,DEe as lP,YEe as lQ,eke as lR,tke as lS,Ije as lT,xn as lU,$5e as lV,Yx as lW,DPe as lX,eAe as lY,$k as lZ,N_e as l_,bAe as la,vAe as lb,wAe as lc,Ule as ld,iAe as le,H7 as lf,_Ae as lg,zle as lh,MAe as li,SPe as lj,MPe as lk,_Pe as ll,EPe as lm,TEe as ln,bPe as lo,yPe as lp,AAe as lq,mAe as lr,kAe as ls,TAe as lt,APe as lu,PAe as lv,JOe as lw,i_e as lx,sOe as ly,hve as lz,iD as m,wFe as m$,pA as m0,TMe as m1,WT as m2,FTe as m3,BTe as m4,$Te as m5,HQ as m6,nH as m7,GTe as m8,E2 as m9,lTe as mA,CLe as mB,P_e as mC,eFe as mD,uFe as mE,TDe as mF,pE as mG,P6 as mH,dFe as mI,xFe as mJ,s_e as mK,Hke as mL,$$ as mM,LRe as mN,ORe as mO,BMe as mP,MMe as mQ,IFe as mR,jFe as mS,l4e as mT,ARe as mU,NFe as mV,PFe as mW,o0e as mX,RFe as mY,TFe as mZ,c3e as m_,On as ma,u9 as mb,W_e as mc,px as md,_$ as me,HRe as mf,qoe as mg,DIe as mh,pTe as mi,I7 as mj,zje as mk,u4e as ml,la as mm,MDe as mn,Aj as mo,D4 as mp,Bs as mq,M7e as mr,z$ as ms,KDe as mt,XDe as mu,JDe as mv,iTe as mw,YDe as mx,hLe as my,Nj as mz,pD as n,uje as n$,OFe as n0,LFe as n1,LDe as n2,Cpe as n3,YTe as n4,SCe as n5,Uke as n6,FFe as n7,yMe as n8,wMe as n9,RDe as nA,gAe as nB,d4e as nC,LPe as nD,xo as nE,oAe as nF,RNe as nG,c5 as nH,Bme as nI,MNe as nJ,VNe as nK,INe as nL,kNe as nM,ENe as nN,Vr as nO,GNe as nP,jNe as nQ,yNe as nR,CNe as nS,m_ as nT,ONe as nU,bme as nV,HNe as nW,aTe as nX,Kt as nY,L_ as nZ,nje as n_,mFe as na,hFe as nb,gFe as nc,vFe as nd,cLe as ne,DFe as nf,eje as ng,iEe as nh,DTe as ni,z7e as nj,$Oe as nk,$Fe as nl,fFe as nm,mLe as nn,tC as no,oFe as np,aFe as nq,sje as nr,tFe as ns,Swe as nt,pLe as nu,gLe as nv,D7e as nw,RLe as nx,rFe as ny,ije as nz,aD as o,h7e as o$,s5 as o0,$0e as o1,fje as o2,mje as o3,OPe as o4,i0e as o5,KNe as o6,aEe as o7,pje as o8,Jp as o9,p5e as oA,I3e as oB,B5e as oC,aRe as oD,KE as oE,nRe as oF,tRe as oG,I_e as oH,Ua as oI,Kx as oJ,oRe as oK,$3e as oL,iC as oM,cRe as oN,QIe as oO,lRe as oP,iRe as oQ,HIe as oR,F3e as oS,hRe as oT,vRe as oU,xRe as oV,j5 as oW,CRe as oX,pAe as oY,jle as oZ,Goe as o_,s$ as oa,cg as ob,vje as oc,hje as od,UPe as oe,v5e as of,FPe as og,$je as oh,cE as oi,RPe as oj,Bje as ok,NPe as ol,Fje as om,BPe as on,$Pe as oo,w5 as op,Vi as oq,Uae as or,OIe as os,qD as ot,Eke as ou,j3e as ov,JIe as ow,XIe as ox,C3e as oy,x3e as oz,ua as p,Y6e as p$,NRe as p0,jRe as p1,IRe as p2,uAe as p3,PRe as p4,dAe as p5,Cle as p6,TRe as p7,yle as p8,ble as p9,qPe as pA,t2 as pB,O5 as pC,Ek as pD,Ym as pE,Al as pF,w as pG,ze as pH,Jx as pI,uc as pJ,QPe as pK,KPe as pL,ZPe as pM,YPe as pN,be as pO,Jo as pP,GD as pQ,ig as pR,t2e as pS,uNe as pT,PLe as pU,ALe as pV,_Le as pW,ELe as pX,TLe as pY,kLe as pZ,Rk as p_,R5 as pa,kRe as pb,RRe as pc,gRe as pd,DRe as pe,FRe as pf,$Re as pg,_Re as ph,yRe as pi,ERe as pj,vke as pk,yD as pl,Lo as pm,gke as pn,hke as po,xke as pp,pke as pq,mke as pr,Tue as ps,hie as pt,Ah as pu,V6e as pv,MLe as pw,e2e as px,SLe as py,lke as pz,BD as q,Bj as q$,F$ as q0,NLe as q1,r2e as q2,Bae as q3,Gw as q4,R0 as q5,qae as q6,Zae as q7,XT as q8,Pwe as q9,is as qA,zTe as qB,An as qC,II as qD,dx as qE,KTe as qF,J_e as qG,Tr as qH,Q_e as qI,X_e as qJ,V_e as qK,Y_e as qL,fEe as qM,K_e as qN,co as qO,T2 as qP,VTe as qQ,xI as qR,eEe as qS,Tx as qT,tEe as qU,F_e as qV,nEe as qW,D_e as qX,WTe as qY,G_e as qZ,ux as q_,p5 as qa,UDe as qb,o7e as qc,Awe as qd,Q0e as qe,MIe as qf,kwe as qg,Jce as qh,U9e as qi,RAe as qj,ode as qk,IAe as ql,kve as qm,eS as qn,ej as qo,Z8 as qp,tR as qq,MI as qr,Ju as qs,k_e as qt,_I as qu,m4e as qv,q_e as qw,pn as qx,rAe as qy,gie as qz,zi as r,FOe as r$,Uj as r0,ove as r1,GLe as r2,tv as r3,rv as r4,nv as r5,av as r6,sv as r7,VLe as r8,ive as r9,Qke as rA,XU as rB,JO as rC,b8e as rD,zEe as rE,MOe as rF,bOe as rG,sPe as rH,Z1 as rI,R_e as rJ,$j as rK,fOe as rL,Ixe as rM,cT as rN,TOe as rO,kU as rP,AOe as rQ,jxe as rR,IOe as rS,jOe as rT,ROe as rU,Oxe as rV,DOe as rW,SOe as rX,OOe as rY,LOe as rZ,Lxe as r_,HLe as ra,ULe as rb,ov as rc,lOe as rd,B$ as re,WLe as rf,q7e as rg,Z7e as rh,iOe as ri,aOe as rj,QLe as rk,eOe as rl,nOe as rm,$Le as rn,FLe as ro,ILe as rp,yLe as rq,cOe as rr,dOe as rs,GPe as rt,wLe as ru,oOe as rv,DLe as rw,OLe as rx,LLe as ry,Kke as rz,Wp as s,$De as s$,wOe as s0,HOe as s1,tCe as s2,BOe as s3,$xe as s4,UOe as s5,sCe as s6,aCe as s7,oCe as s8,VOe as s9,fE as sA,Nxe as sB,mDe as sC,pDe as sD,pS as sE,aPe as sF,Z7 as sG,Gue as sH,Y1 as sI,bS as sJ,SS as sK,ei as sL,bd as sM,SDe as sN,xle as sO,wDe as sP,CDe as sQ,yDe as sR,bDe as sS,EDe as sT,xDe as sU,vDe as sV,_Oe as sW,jDe as sX,NDe as sY,ADe as sZ,t5 as s_,GOe as sa,WOe as sb,$_ as sc,ZOe as sd,VPe as se,uOe as sf,aDe as sg,bLe as sh,nDe as si,eDe as sj,jLe as sk,tOe as sl,JLe as sm,rDe as sn,sDe as so,BLe as sp,ev as sq,V9e as sr,tve as ss,NEe as st,cDe as su,uDe as sv,dDe as sw,fDe as sx,cAe as sy,J4e as sz,as as t,rD as t$,zDe as t0,BDe as t1,HDe as t2,VDe as t3,ZDe as t4,Bke as t5,g5 as t6,ECe as t7,MCe as t8,zOe as t9,n2e as tA,iNe as tB,cl as tC,mve as tD,fve as tE,qLe as tF,ZLe as tG,YLe as tH,zLe as tI,XLe as tJ,Zje as tK,Yje as tL,DE as tM,WDe as tN,GDe as tO,Zwe as tP,Hue as tQ,sLe as tR,v6e as tS,Tje as tT,Gh as tU,Hh as tV,Uh as tW,kje as tX,A$ as tY,KLe as tZ,_je as t_,uf as ta,mOe as tb,uxe as tc,Z_e as td,Que as te,xAe as tf,ike as tg,NOe as th,cPe as ti,FEe as tj,o1 as tk,gDe as tl,hDe as tm,_De as tn,fxe as to,kOe as tp,FDe as tq,qDe as tr,oDe as ts,z_e as tt,yOe as tu,EOe as tv,gOe as tw,yIe as tx,L9e as ty,IE as tz,cx as u,Dke as u$,o6e as u0,rke as u1,aLe as u2,oLe as u3,Sk as u4,wk as u5,Mk as u6,a3e as u7,Qje as u8,h4e as u9,FAe as uA,jae as uB,Rce as uC,hEe as uD,ps as uE,Due as uF,wD as uG,Jle as uH,fPe as uI,$Ae as uJ,VAe as uK,GAe as uL,BAe as uM,zAe as uN,WAe as uO,Lde as uP,LS as uQ,Hde as uR,QAe as uS,UAe as uT,XAe as uU,ug as uV,dC as uW,fAe as uX,QF as uY,Mke as uZ,Fke as u_,pf as ua,Kje as ub,Eje as uc,Qo as ud,fTe as ue,IEe as uf,WPe as ug,MC as uh,Xke as ui,nTe as uj,eTe as uk,mn as ul,TC as um,F2 as un,tTe as uo,l9 as up,XB as uq,Jke as ur,zB as us,i9 as ut,o9 as uu,SB as uv,fj as uw,Vde as ux,OS as uy,t6 as uz,pie as v,w$ as v0,Ou as v1,_ke as v2,bke as v3,kke as v4,Ake as v5,Lke as v6,Ike as v7,Ske as v8,jke as v9,wke as va,Oke as vb,Cke as vc,Nke as vd,dNe as ve,QDe as vf,hOe as vg,Rx as vh,P8e as vi,Lx as vj,Pke as vk,xce as vl,yce as vm,$Ee as vn,V0 as vo,oEe as w,xTe as x,og as y,Mie as z};
//# sourceMappingURL=df9u9imhvwerk6zv.js.map

import{aG as m,a1 as h,dM as w,fi as M,fj as C,dD as y,S as _,eS as S,am as x,dE as k,a3 as A,F as E,y as O}from"./cyi7nanrg0vdotzd.js";import{E as l,G as g,H as v,I as L,J as P,K as T,L as F,U as N}from"./df9u9imhvwerk6zv.js";import{r as d,d as R,e as U,h as I}from"./fs6h2trisr1juto6.js";import{u as j}from"./f3zzw463zuggq6da.js";function z(){const{eligible:e,isLoading:a,markAsViewed:o}=l(g.NewOnboardingFlow),{layer:n}=m("109457"),[t,s]=d.useState(!0),i=v();return{isOpen:e&&t&&!i&&n.get("is_guided_onboarding",!1),isLoading:a,setIsOpen:s,markAsViewed:o}}const V=R({hi:{id:"new_user_onboarding.hi",defaultMessage:"Hi"},hiThere:{id:"new_user_onboarding.hi_there",defaultMessage:"Hi there"},tryUploadingAFile:{defaultMessage:"Try uploading a file",id:"chatgpt.new-onboarding.try-uploading-a-file"},uploadFileExample:{defaultMessage:"ChatGPT can summarize and analyze your files or images.",id:"chatgpt.new-onboarding.upload-file-exp"},school:{defaultMessage:"School",id:"chatgpt.new-onboarding.school"},schoolPrompt:{defaultMessage:"Iâ€™m trying to learn and do better in school.",id:"chatgpt.new-onboarding.school-prompt"},work:{defaultMessage:"Work",id:"chatgpt.new-onboarding.work"},workPrompt:{defaultMessage:"I'm here to learn and grow in my work.",id:"chatgpt.new-onboarding.work-prompt"},personalTasks:{defaultMessage:"Personal tasks",id:"chatgpt.new-onboarding.personal-tasks"},personalTasksPrompt:{defaultMessage:"I'm here for my personal tasks",id:"chatgpt.new-onboarding.personal-tasks-prompt"},funAndEntertainment:{defaultMessage:"Fun and entertainment",id:"chatgpt.new-onboarding.fun-and-entertainment"},funAndEntertainmentPrompt:{defaultMessage:"I'm here to explore fun ideas and relax.",id:"chatgpt.new-onboarding.fun-and-entertainment-prompt"},other:{defaultMessage:"Other",id:"chatgpt.new-onboarding.other"},justCurious:{defaultMessage:"Just curious",id:"chatgpt.new-onboarding.just-curious"},justCuriousPrompt:{defaultMessage:"I'm just curious, exploring what you can do.",id:"chatgpt.new-onboarding.just-curious-prompt"},tryAnExample:{defaultMessage:"Try an example below or send any message in the message box below.",id:"chatgpt.new-onboarding.try-an-example"}});function D(){const{eligible:e,isLoading:a,markAsViewed:o}=l(g.NewOnboardingConvo);return{isEligible:e&&!a,markAsViewed:o}}function J(e){const a=d.useContext(h),o=w(a),n=L(f=>f.onboardingConvoState||void 0),{isEligible:t,markAsViewed:s}=D(),i=G({clientThreadId:e}),{layer:u}=m("109457"),r=U(),b=P(),p=I(),c=b||T(p)||F(p);d.useEffect(()=>{t&&!n&&(r.locale===M||r.messages!==C)&&!o&&!c&&u.get("onboarding_style","")==="CONVO"&&(N.setOnboardingConvoState({onboardingConvoClientThreadId:e}),s(),i({eventSource:"url",stepPrompt:r.formatMessage(V.hi),messageMetadata:{is_visually_hidden_from_conversation:!0},authorMetadata:{real_author:y.Onboarding}}),_.logEvent("chatgpt_convo_onboarding_started"))},[t,s,i,n,r,r.locale,r.messages,e,u,o,c])}const G=({clientThreadId:e})=>{const a=j(e);return d.useCallback(({stepPrompt:o,messageMetadata:n,authorMetadata:t,...s})=>{a({...s,promptMessage:S(o,n,t),completionMetadata:{isOnboardingConversation:!0,conversationMode:{kind:x.PrimaryAssistant}}})},[a])};function Y(e){const a=A(e,s=>E.findNode(s,i=>i.message.author.role===O.User)?.message.metadata?.onboarding),{eligible:o,isLoading:n,markAsViewed:t}=l(g.hasSeenFilePickerNuxTooltip);return{isEligible:a?.triggered_tools?.includes("file_upload")&&o&&!n,markAsViewed:t}}function B(){const{layer:e}=k("109457");return e.get("onboarding_show_followups",!1)}export{G as a,J as b,B as c,Y as d,V as m,z as u};
//# sourceMappingURL=nlkl42j3n1q6imdw.js.map

import{e as l,j as t}from"./fs6h2trisr1juto6.js";import{j as _,V as b,aG as w,P as r,a as n,S as i,c4 as E,d as M,bS as x}from"./cyi7nanrg0vdotzd.js";import{cy as S,cz as W,cA as y}from"./df9u9imhvwerk6zv.js";import{u as B}from"./dcj3lxx3f930j9fx.js";import{u as j}from"./twfcf5t51x04u1vc.js";import"./d3vlrpumel0m4925.js";const L=({size:s="medium",disabled:e,onExit:o,buttonClassName:p})=>{const a=l(),{isUnauthenticated:u}=_(),m=j(c=>c.status),{requestMicrophonePermissions:h}=B(),d=a.formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),g=b(),{layer:f}=w("1170120107");if(!f.get("is_whisper_enabled",!1)||u)return null;m==="error"&&(r.logEvent(n.composerWhisperButtonError),i.logEvent("chatgpt_composer_whisper_button_error"));const v=async()=>{if(r.logEvent(n.composerWhisperButtonClickedStart),i.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await h())return g.danger(d);o()};return t.jsx(k,{children:t.jsx(E,{"aria-label":a.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:s,type:"button",onClick:v,disabled:e,style:{viewTransitionName:"--vt-composer-whisper-button"},className:M(S,e?"opacity-30":W,p),children:t.jsx(y,{"aria-label":a.formatMessage({id:"cBnp8z",defaultMessage:"Mic icon"}),className:"h-[18px] w-[18px]",fontSize:"inherit"})})})};function k({children:s}){const e=l();return t.jsx(x,{sideOffset:4,label:e.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"top",onOpenChange:o=>{o&&(r.logEvent(n.composerWhisperButtonHovered),i.logEvent("chatgpt_composer_whisper_button_hovered"))},children:s})}export{L as WhisperIconButton};
//# sourceMappingURL=liaju29fw9oaw0b6.js.map

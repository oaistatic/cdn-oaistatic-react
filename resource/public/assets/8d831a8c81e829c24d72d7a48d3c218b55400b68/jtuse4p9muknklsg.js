const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/o78ee6bw8izhumqc.js","assets/n1tvutderx19k1zs.js","assets/c87uv1mutc86tiqk.js","assets/efuue3ezs0mj4ucx.js","assets/root-gmm606mb.css","assets/conversation-small-nranh1cg.css","assets/b4a5otpy41fdr5l3.js","assets/gffup1245353c03l.js","assets/d995zjnlydagrugw.js","assets/bh0nczk7jf5nipy7.js","assets/bdh1ots4hr6db7w1.js","assets/krj910mzqcd0aq73.js","assets/nj0cdl0bjojh2xn6.js","assets/o97za21c5v9glw28.js","assets/bei4zk14rknuqpj2.js","assets/gr8do7n6orkpzwtb.js","assets/h1a092dluue7fasx.js","assets/euijvuwb3rp9htgu.js","assets/bxe8lsbbwu66fmec.js","assets/BusinessesMap-g8qqrkxo.css"])))=>i.map(i=>d[i]);
import{r as f,aE as Lt,j as a,u as Rt,R as he,au as me,c as P,M as $,g as it,aw as Pe}from"./n1tvutderx19k1zs.js";import{c6 as Ht,d as j,a as N,u as zt,t as Ot,R as Ut,cf as U,bJ as ee,c as Wt,cq as Yt,cg as Bt,bf as Z,cd as Zt,j as be,K as qt,a2 as Vt,c2 as Gt,dl as ct,av as ve,eA as se,D as lt,bo as dt,bY as ut,dq as Xt,bW as Kt,bs as Jt,bt as Qt,gV as es,P as ts,eQ as we,ai as ss,hW as ns,hY as as,er as os,gY as rs}from"./efuue3ezs0mj4ucx.js";import{s as z,c as De,d as ht,R as $e,u as mt,e as is,g as cs,b as ls,i as ds,C as us,j as hs,l as ms,S as Te,D as fs,m as ps,I as gs,n as xs,M as ys,o as bs}from"./b4a5otpy41fdr5l3.js";import{a as vs}from"./gffup1245353c03l.js";import{u as ws,b as $s,i as js}from"./euijvuwb3rp9htgu.js";import{a as Ns}from"./krj910mzqcd0aq73.js";import{rt as _s,cv as ne,cu as ks,ru as ft,rv as Cs,rw as Ss,rx as Ps,bV as je,E as F,ry as Ds,rz as Ts,rA as Ms,rB as As,n7 as te,rC as Es,c3 as Is,c5 as Fs,rD as Ls,pe as Rs,dT as Hs,cH as pt,cI as gt,F as xt,S as zs,r as Me,rE as Os,rF as Ae,gI as Us,gH as Ws,f2 as T,rG as Ys,g1 as Bs,jN as Zs,jO as qs,jP as Vs,rH as Gs,qr as Xs}from"./c87uv1mutc86tiqk.js";import{g as Ks,d as Js,b as yt,I as Qs}from"./nj0cdl0bjojh2xn6.js";import{w as Ne,s as bt,f as en,a as tn,h as sn,M as _e,u as nn,r as an,b as on}from"./bdh1ots4hr6db7w1.js";import{b as Y}from"./gr8do7n6orkpzwtb.js";import{v as Ee,C as rn,A as cn,a as ln,L as dn,B as un,p as hn,b as mn,e as fn,P as pn,f as gn,i as xn,g as yn}from"./n24ph5vohl8fszcu.js";import{N as Ie}from"./gb5z15gr4uo6e2ww.js";import{S as bn}from"./jnjq4wt6v0sb6ord.js";import{c as vt}from"./ou38yrswq97w1ctq.js";import"./d995zjnlydagrugw.js";import"./bh0nczk7jf5nipy7.js";import"./o97za21c5v9glw28.js";import"./bei4zk14rknuqpj2.js";const vn=vt("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),wn=vt("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),$n=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Fe={}.hasOwnProperty;function jn(e,t){const s=t||{};function n(o,...r){let c=n.invalid;const i=n.handlers;if(o&&Fe.call(o,e)){const d=String(o[e]);c=Fe.call(i,d)?i[d]:n.unknown}if(c)return c.call(this,o,...r)}return n.handlers=s.handlers||{},n.invalid=s.invalid,n.unknown=s.unknown,n}const Nn=/^>|^->|<!--|-->|--!>|<!-$/g,_n=[">"],kn=["<",">"];function Cn(e,t,s,n){return n.settings.bogusComments?"<?"+z(e.value,Object.assign({},n.settings.characterReferences,{subset:_n}))+">":"<!--"+e.value.replace(Nn,o)+"-->";function o(r){return z(r,Object.assign({},n.settings.characterReferences,{subset:kn}))}}function Sn(e,t,s,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const k=$t(1),wt=$t(-1),Pn=[];function $t(e){return t;function t(s,n,o){const r=s?s.children:Pn;let c=(n||0)+e,i=r[c];if(!o)for(;i&&Ne(i);)c+=e,i=r[c];return i}}const Dn={}.hasOwnProperty;function jt(e){return t;function t(s,n,o){return Dn.call(e,s.tagName)&&e[s.tagName](s,n,o)}}const ke=jt({body:Mn,caption:ae,colgroup:ae,dd:Fn,dt:In,head:ae,html:Tn,li:En,optgroup:Ln,option:Rn,p:An,rp:Le,rt:Le,tbody:zn,td:Re,tfoot:On,th:Re,thead:Hn,tr:Un});function ae(e,t,s){const n=k(s,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Ne(n.value.charAt(0)))}function Tn(e,t,s){const n=k(s,t);return!n||n.type!=="comment"}function Mn(e,t,s){const n=k(s,t);return!n||n.type!=="comment"}function An(e,t,s){const n=k(s,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function En(e,t,s){const n=k(s,t);return!n||n.type==="element"&&n.tagName==="li"}function In(e,t,s){const n=k(s,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function Fn(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Le(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function Ln(e,t,s){const n=k(s,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function Rn(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function Hn(e,t,s){const n=k(s,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function zn(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function On(e,t,s){return!k(s,t)}function Un(e,t,s){const n=k(s,t);return!n||n.type==="element"&&n.tagName==="tr"}function Re(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const Wn=jt({body:Zn,colgroup:qn,head:Bn,html:Yn,tbody:Vn});function Yn(e){const t=k(e,-1);return!t||t.type!=="comment"}function Bn(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const s=e.children[0];return!s||s.type==="element"}function Zn(e){const t=k(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Ne(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function qn(e,t,s){const n=wt(s,t),o=k(e,-1,!0);return s&&n&&n.type==="element"&&n.tagName==="colgroup"&&ke(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="col")}function Vn(e,t,s){const n=wt(s,t),o=k(e,-1);return s&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&ke(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="tr")}const q={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Gn(e,t,s,n){const o=n.schema,r=o.space==="svg"?!1:n.settings.omitOptionalTags;let c=o.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const i=[];let d;o.space==="html"&&e.tagName==="svg"&&(n.schema=bt);const h=Xn(n,e.properties),l=n.all(o.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=o,l&&(c=!1),(h||!r||!Wn(e,t,s))&&(i.push("<",e.tagName,h?" "+h:""),c&&(o.space==="svg"||n.settings.closeSelfClosing)&&(d=h.charAt(h.length-1),(!n.settings.tightSelfClosing||d==="/"||d&&d!=='"'&&d!=="'")&&i.push(" "),i.push("/")),i.push(">")),i.push(l),!c&&(!r||!ke(e,t,s))&&i.push("</"+e.tagName+">"),i.join("")}function Xn(e,t){const s=[];let n=-1,o;if(t){for(o in t)if(t[o]!==null&&t[o]!==void 0){const r=Kn(e,o,t[o]);r&&s.push(r)}}for(;++n<s.length;){const r=e.settings.tightAttributes?s[n].charAt(s[n].length-1):void 0;n!==s.length-1&&r!=='"'&&r!=="'"&&(s[n]+=" ")}return s.join("")}function Kn(e,t,s){const n=en(e.schema,t),o=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,r=e.settings.allowDangerousCharacters?0:1;let c=e.quote,i;if(n.overloadedBoolean&&(s===n.attribute||s==="")?s=!0:(n.boolean||n.overloadedBoolean&&typeof s!="string")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const d=z(n.attribute,Object.assign({},e.settings.characterReferences,{subset:q.name[o][r]}));return s===!0||(s=Array.isArray(s)?(n.commaSeparated?tn:_s)(s,{padLeft:!e.settings.tightCommaSeparatedLists}):String(s),e.settings.collapseEmptyAttributes&&!s)?d:(e.settings.preferUnquoted&&(i=z(s,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:q.unquoted[o][r]}))),i!==s&&(e.settings.quoteSmart&&De(s,c)>De(s,e.alternative)&&(c=e.alternative),i=c+z(s,Object.assign({},e.settings.characterReferences,{subset:(c==="'"?q.single:q.double)[o][r],attribute:!0}))+c),d+(i&&"="+i))}const Jn=["<","&"];function Nt(e,t,s,n){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?e.value:z(e.value,Object.assign({},n.settings.characterReferences,{subset:Jn}))}function Qn(e,t,s,n){return n.settings.allowDangerousHtml?e.value:Nt(e,t,s,n)}function ea(e,t,s,n){return n.all(e)}const ta=jn("type",{invalid:sa,unknown:na,handlers:{comment:Cn,doctype:Sn,element:Gn,raw:Qn,root:ea,text:Nt}});function sa(e){throw new Error("Expected node, not `"+e+"`")}function na(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const aa={},oa={},ra=[];function ia(e,t){const s=t||aa,n=s.quote||'"',o=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:ca,all:la,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||$n,characterReferences:s.characterReferences||oa,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?bt:sn,quote:n,alternative:o}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function ca(e,t,s){return ta(e,t,s,this)}function la(e){const t=[],s=e&&e.children||ra;let n=-1;for(;++n<s.length;)t[n]=this.one(s[n],n,e);return t.join("")}function da(e){const t=this,s={...t.data("settings"),...e};t.compiler=n;function n(o){return ia(o,s)}}function ua(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const ha=4;function ma({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:s}){const n=Ht(),o=e.images,r=o.some(l=>l.base64_image)?[]:o.map(l=>l.thumbnail_url),c=Lt({queries:r.map(l=>Ks(l)),combine:l=>{const u=new Set;return l.forEach((m,x)=>{m.isSuccess&&u.add(r[x])}),u}}),i=o.filter(l=>c.has(l.thumbnail_url)),d=e.images.length;if(o.some(l=>l.base64_image)){const l=o.find(u=>u.base64_image);return a.jsx(oe,{image:l,imageSource:ne.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"mb-7 ml-7 mt-1 h-auto max-h-[143px] w-auto max-w-[141px] rounded-xl border-[0.5px] border-token-border-light object-cover transition-transform duration-300 ease-in-out hover:scale-105"},l?.thumbnail_url)}if(d===0)return null;if(d===1){const l=e.images[0];return a.jsx(oe,{image:l,imageSource:ne.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},l.content_url)}const h=n?i.length:Math.min(i.length,ha);return a.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:i.slice(0,h).map((l,u)=>a.jsx("div",{className:j("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",u===0&&"rounded-l-xl",u===h-1&&"rounded-r-xl"),children:a.jsx(oe,{image:l,imageSource:ne.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"h-full w-full"},l.thumbnail_url)},l.thumbnail_url))})}const _t=f.memo(ma,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((s,n)=>s.content_url===t.metadata.images[n].content_url));function oe({image:e,imageSource:t,className:s,imgClassName:n,style:o,analyticsMetadata:r,trackContentReferenceEvent:c}){const i=Js(e),{isSuccess:d}=yt(i),h=f.useMemo(()=>({image_url:i,title:e?.title}),[i,e?.title]);f.useEffect(()=>{e&&d&&c(N.searchContentReferenceShown,"search_content_reference_shown","image_v2",h)},[c,e,d,h]);const l=ks.useStore(),u=e?.base64_image??i;return a.jsx("button",{className:j("relative aspect-square overflow-hidden",s),style:o,onClick:()=>{c(N.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",h),l.setCurrentImage(e?{image:e,source:t,analyticsMetadata:r}:void 0)},children:e?e?.base64_image||d?a.jsx(Qs,{children:a.jsx("img",{src:u,alt:e?.content_url,className:j("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",n)})}):a.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):a.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}async function fa({conversationId:e,messageId:t,assetPointerLinks:s}){return await Ut.safePost("/conversation/get_images_for_message",{requestBody:{conversation_id:e,message_id:t,asset_pointer_links:s}})}function pa({reference:e,conversationId:t,messageId:s}){return Rt({queryKey:["inline-images",e,t,s],queryFn:async()=>!e.asset_pointer_links||e.asset_pointer_links.length===0||!t?{images:[],formats:[]}:await fa({conversationId:t,messageId:s,assetPointerLinks:e.asset_pointer_links})})}function ga({reference:e,clientThreadId:t,messageId:s,trackContentReferenceEvent:n}){const o=zt(h=>t==null?void 0:Ot(t,h)),{data:r,isLoading:c,isError:i,error:d}=pa({reference:e,conversationId:o,messageId:s});if(!(c||i||d||!r||!("images"in r)))return a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:r?.images.map((h,l)=>{const m=`data:${`image/${r.formats[l]}`};base64,${h}`,x={matched_text:e.matched_text,start_idx:e.start_idx,end_idx:e.end_idx,safe_urls:e.safe_urls,alt:e.alt,prompt_text:e.prompt_text,type:"image_v2",images:[{url:"",content_url:e.clicked_from_url??"",thumbnail_url:"",title:e.clicked_from_title??"",content_size:{width:141,height:143},thumbnail_size:{width:141,height:143},base64_image:m}]};return a.jsx(_t,{metadata:x,analyticsMetadata:{clientThreadId:t,messageId:s},numImageResults:1,trackContentReferenceEvent:n},`image-carousel-inline-${l}`)})})}function xa({attributions:e,attributionsDebug:t,children:s}){const n=ft(),o=U(),r=f.useMemo(()=>e?.map((u,m)=>({...u,originalIndex:m}))?.toSorted((u,m)=>(m.probability??0)-(u.probability??0)),[e]),c=Cs(),i=Ss(),d=Ps(),l=t&&(t.influence_temperature!==c||t.prob_baseline!==i||t.use_sigmoid_likelihood!==d)&&e&&(d?Ds(e,c,i):Ts(e,c));return!r||!n?s:a.jsx(ee,{label:a.jsxs("div",{className:"text-left text-xs font-normal text-token-text-primary",children:[a.jsx("div",{className:"font-bold",children:"Attributions (Debug)"}),a.jsxs("div",{className:"grid grid-cols-[200px,1fr,1fr] gap-1",children:[a.jsx("div",{children:"Source"}),a.jsxs("div",{children:["τ=",t?.influence_temperature,", b=",t?.prob_baseline]}),a.jsx("div",{children:l&&`τ=${c}, b=${i}`}),r.map((u,m)=>{const x=u.source_type==="prior",p=x?"text-red-500":u.url?"":"text-gray-500",w=u.probability&&`${(u.probability*100).toFixed(2)}%`,y=l&&l[u.originalIndex].probability,C=y&&`${(y*100).toFixed(2)}%`;return a.jsxs(f.Fragment,{children:[a.jsx("div",{className:j("flex flex-col",p),children:x?a.jsx("div",{className:"line-clamp-1 font-bold",children:"Model Prior"}):u.url?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"line-clamp-1 font-bold",children:je(u.url)}),"(",u.source_type,")"]}),a.jsx(F,{href:u.url,className:"line-clamp-1 text-xs",children:u.url})]}):a.jsxs("div",{className:"text-xxs line-clamp-1",children:["(",u.source_type,")"]})}),a.jsx("div",{className:p,children:w}),a.jsx("div",{className:p,children:C})]},m)})]})]}),theme:o?"default":"white",delayDuration:0,className:"inline",side:"left",interactive:!0,children:s})}function ya({attribution:e}){const t=f.useContext(te),s=Es(t?.message.id,e.attributable_index),n=ft();return a.jsx(va,{highlightHue:s,messageId:t?.message.id,isDebugMode:n,content:e.alt??"",attributableIndex:e.attributable_index,attributions:e.attributions??void 0,attributionsDebug:e.attributions_debug??void 0})}function ba({content:e,highlightHue:t,messageId:s,isDebugMode:n,attributableIndex:o,attributions:r,attributionsDebug:c}){const i=U(),[d]=Ms(),h=d.design_flags?.colored_highlights,l=t!=null?h?i?`hsl(${t}, 20%, 30%)`:`hsl(${t}, 40%, 92%)`:i?"var(--yellow-900)":"#FCE8BD":void 0,u=d.design_flags?.highlight_style,m=n?"hover:shadow-[-1px_0_2px_2px_rgba(255,0,0,0.4)]":void 0,x=a.jsxs(a.Fragment,{children:[n&&a.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:a.jsx(ee,{label:"Attribution Index",side:"top",children:o})}),a.jsx(xa,{attributions:r,attributionsDebug:c,children:a.jsx(_e,{rehypePlugins:ht,remarkPlugins:$e,urlTransform:mt,components:{p:({children:p})=>a.jsx(a.Fragment,{children:p})},children:e})})]});return u==="underline"?a.jsx($a,{highlightColor:l,className:m,children:x}):u==="fade"?a.jsx(ja,{isHighlighted:l!=null,messageId:s,className:m,children:x}):a.jsx(wa,{highlightColor:l,className:m,children:x})}const va=he.memo(ba);function wa({highlightColor:e,className:t,children:s}){return a.jsx("span",{className:j("relative","-mx-px my-[-0.2rem] rounded px-px py-[0.2rem]",t),style:{backgroundColor:e},children:s})}function $a({highlightColor:e,className:t,children:s,height:n=5,padding:o=2,margin:r=-1}){const[c,i]=he.useState(),d=he.useRef(null),h=f.useCallback(()=>{if(e!=null){const l=d.current?.getClientRects(),u=l?.[0];if(!l||!u){i(void 0);return}const m=Array.from(l).map(x=>({width:x.width+o*2,height:n,left:x.left-u.left-o,top:x.top-u.top+x.height+r}));i(m)}else i(void 0)},[e,n,o,r]);return Wt(window,{resize:h}),f.useEffect(()=>{h()},[h]),a.jsxs("span",{className:j("relative",t),ref:d,children:[s,c?.map((l,u)=>a.jsx("div",{className:j("absolute -z-10 rounded"),style:{width:l.width,height:l.height,left:l.left,top:l.top,backgroundColor:e}},u))]})}function ja({isHighlighted:e,messageId:t,className:s,children:n}){const o=As(t),r=!e&&o;return a.jsx(me.span,{className:j("relative",s),animate:{opacity:r?.5:1},transition:{duration:.2},children:n})}function He(e,t){try{return BigInt(e).toLocaleString(t)}catch{const s=Number(e);return e.includes("e")||e.includes("E")?s.toExponential():s.toLocaleString(t,{maximumFractionDigits:6})}}function Na({data:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const{currentLocale:s}=Yt();return e.expression&&e.result!=null?a.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[a.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&a.jsx("span",{children:e.prefix}),a.jsx("span",{children:He(e.result,s)}),e.suffix&&a.jsx("span",{children:e.suffix})]}),a.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${He(e.result,s)}`})]}):null}function _a(e){return a.jsxs(Bt,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[a.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function ka({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:s,FormattedText:n}){const o=P();return a.jsx(Z.Root,{isOpen:!0,onClose:s,children:a.jsx(Z.Overlay,{children:a.jsxs(Z.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[a.jsx(Z.Header,{title:o.formatMessage(Ca.title),type:"success",closeButton:a.jsx(Zt,{onClick:s})}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[a.jsx("div",{children:a.jsx(Is,{FormattedText:n,message:e})}),a.jsx("div",{children:a.jsx(Fs,{message:t})})]})]})})})}const Ca=be({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function Sa({displayInfo:e,FormattedText:t,trackContentReferenceEvent:s}){const[n,o]=f.useState(!1),r=P();return f.useEffect(()=>{s(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]),a.jsxs(a.Fragment,{children:[a.jsx(ee,{label:r.formatMessage(Pa.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:a.jsx("button",{onClick:()=>o(!0),children:a.jsx(_a,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),n&&a.jsx(ka,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>o(!1)})]})}const Pa=be({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),ze=24;function Da(e){const t=e.split(".");let s=e;return t.length>1&&t.slice(0,-1).some(n=>n.length>0)&&(s=t.slice(0,-1).join(".")),s.length>ze&&(s=s.slice(0,ze-1)+"…"),s}function Ta({fileRef:e,index:t,trackContentReferenceEvent:s}){const n=Ls(),o=f.useContext(te),r=f.useMemo(()=>({source:e.source,index:t}),[e.source,t]);f.useEffect(()=>{s(N.fileCitationShown,"file_citation_shown","file",r)},[]);const c=f.useCallback(l=>{l?s(N.fileCitationHovered,"file_citation_hovered","file",r):s(N.fileCitationUnhovered,"file_citation_unhovered","file",r)},[r,s]),i=f.useCallback(()=>{s(N.fileCitationClicked,"file_citation_clicked","file",r)},[r,s]),d=f.useCallback(()=>n(e.id,e.name),[n,e.id,e.name]),h=qt(o?.analyticsMetadata.clientThreadId??Gt,l=>Vt(l?.mode));return Rs(h)?h.gizmo_id&&Hs(h.gizmo_id)?a.jsx("span",{className:j(is,"select-none"),title:e.name,children:Da(e.name)}):null:a.jsx(Ma,{fileItem:e,onClickDownloadFile:d,trackTooltipOpenChange:c,trackCloudLinkClick:i})}function Ma({fileItem:e,className:t,trackTooltipOpenChange:s,trackCloudLinkClick:n,onClickDownloadFile:o}){const r=pt(e.cloud_doc_url??""),c=r?.type??a.jsx($,{id:"bqY3sN",defaultMessage:"File"}),i=r?.Icon??gt,d=a.jsx(i,{alt:c,className:"h-[16px] w-[16px] object-contain"}),h=j("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",t),l=a.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?a.jsx(F,{href:e.cloud_doc_url,className:h,onClick:n,children:d}):a.jsx("button",{onClick:o,className:h,children:d})});return a.jsx(Aa,{fileItem:e,icon:a.jsx(i,{alt:c,className:"mr-2 h-[16px] w-[16px] object-contain"}),contentType:c,trackTooltipOpenChange:s,children:l})}function Aa({fileItem:e,children:t,className:s,icon:n,contentType:o,trackTooltipOpenChange:r}){const c=U();return a.jsx(ee,{label:a.jsxs(F,{href:e.cloud_doc_url,className:j("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",s),children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:n}),a.jsx("div",{className:"truncate text-token-text-primary",children:o})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:e.text})]}),onOpenChange:r,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:c?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:t})}function Ea(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function Ia({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:a.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((s,n)=>a.jsx(Fa,{item:s,index:n,trackContentReferenceEvent:t},n))})}function Fa({item:e,index:t,trackContentReferenceEvent:s}){const n=P(),o={title:e.name,description:e.description,index:t};f.useEffect(()=>{s(N.contextualAnswersContentReferenceShown,"contextual_answers_content_reference_shown","file_navlist",o)},[]);const r=pt(e.cloud_doc_url??""),c=r?.Icon??gt,i=r?.type??a.jsx($,{id:"bqY3sN",defaultMessage:"File"});return a.jsxs(F,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.cloud_doc_url??"/",onClick:()=>{s(N.contextualAnswersContentReferenceClicked,"contextual_answers_content_reference_clicked","file_navlist",o)},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"not-prose flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(c,{className:"icon-md object-contain"}),a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-primary",children:i})]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.name}),a.jsx("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-primary",children:e.description}),e.last_modified_time&&a.jsx("div",{className:"text-sm text-token-text-secondary",children:Ea(e.last_modified_time,n.locale)})]})]})}var fe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){if(n===null||n===!0||n===!1)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(fe,fe.exports);var La=fe.exports;const Ra=it(La);var pe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}e.exports=t.default})(pe,pe.exports);var Ha=pe.exports;const Oe=it(Ha);function za(e,t){var s=Ya(t);return s.formatToParts?Ua(s,e):Wa(s,e)}var Oa={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ua(e,t){try{for(var s=e.formatToParts(t),n=[],o=0;o<s.length;o++){var r=Oa[s[o].type];r>=0&&(n[r]=parseInt(s[o].value,10))}return n}catch(c){if(c instanceof RangeError)return[NaN];throw c}}function Wa(e,t){var s=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(s);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var re={};function Ya(e){if(!re[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),s=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";re[e]=s?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return re[e]}function kt(e,t,s,n,o,r,c){var i=new Date(0);return i.setUTCFullYear(e,t,s),i.setUTCHours(n,o,r,c),i}var Ue=36e5,Ba=6e4,ie={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ct(e,t,s){var n,o;if(!e||(n=ie.timezoneZ.exec(e),n))return 0;var r;if(n=ie.timezoneHH.exec(e),n)return r=parseInt(n[1],10),We(r)?-(r*Ue):NaN;if(n=ie.timezoneHHMM.exec(e),n){r=parseInt(n[2],10);var c=parseInt(n[3],10);return We(r,c)?(o=Math.abs(r)*Ue+c*Ba,n[1]==="+"?-o:o):NaN}if(Va(e)){t=new Date(t||Date.now());var i=s?t:Za(t),d=ge(i,e),h=s?d:qa(t,d,e);return-h}return NaN}function Za(e){return kt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ge(e,t){var s=za(e,t),n=kt(s[0],s[1]-1,s[2],s[3]%24,s[4],s[5],0).getTime(),o=e.getTime(),r=o%1e3;return o-=r>=0?r:1e3+r,n-o}function qa(e,t,s){var n=e.getTime(),o=n-t,r=ge(new Date(o),s);if(t===r)return t;o-=r-t;var c=ge(new Date(o),s);return r===c?r:Math.max(r,c)}function We(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Ye={};function Va(e){if(Ye[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Ye[e]=!0,!0}catch{return!1}}var Ga=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ce=36e5,Be=6e4,Xa=2,D={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ga};function xe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var s={},n=s.additionalDigits==null?Xa:Ra(s.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Ka(e),r=Ja(o.date,n),c=r.year,i=r.restDateString,d=Qa(i,c);if(isNaN(d))return new Date(NaN);if(d){var h=d.getTime(),l=0,u;if(o.time&&(l=eo(o.time),isNaN(l)))return new Date(NaN);if(o.timeZone||s.timeZone){if(u=Ct(o.timeZone||s.timeZone,new Date(h+l)),isNaN(u))return new Date(NaN)}else u=Oe(new Date(h+l)),u=Oe(new Date(h+l+u));return new Date(h+l+u)}else return new Date(NaN)}function Ka(e){var t={},s=D.dateTimePattern.exec(e),n;if(s?(t.date=s[1],n=s[3]):(s=D.datePattern.exec(e),s?(t.date=s[1],n=s[2]):(t.date=null,n=e)),n){var o=D.timeZone.exec(n);o?(t.time=n.replace(o[1],""),t.timeZone=o[1].trim()):t.time=n}return t}function Ja(e,t){var s=D.YYY[t],n=D.YYYYY[t],o;if(o=D.YYYY.exec(e)||n.exec(e),o){var r=o[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(o=D.YY.exec(e)||s.exec(e),o){var c=o[1];return{year:parseInt(c,10)*100,restDateString:e.slice(c.length)}}return{year:null}}function Qa(e,t){if(t===null)return null;var s,n,o,r;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(s=D.MM.exec(e),s)return n=new Date(0),o=parseInt(s[1],10)-1,qe(t,o)?(n.setUTCFullYear(t,o),n):new Date(NaN);if(s=D.DDD.exec(e),s){n=new Date(0);var c=parseInt(s[1],10);return no(t,c)?(n.setUTCFullYear(t,0,c),n):new Date(NaN)}if(s=D.MMDD.exec(e),s){n=new Date(0),o=parseInt(s[1],10)-1;var i=parseInt(s[2],10);return qe(t,o,i)?(n.setUTCFullYear(t,o,i),n):new Date(NaN)}if(s=D.Www.exec(e),s)return r=parseInt(s[1],10)-1,Ve(t,r)?Ze(t,r):new Date(NaN);if(s=D.WwwD.exec(e),s){r=parseInt(s[1],10)-1;var d=parseInt(s[2],10)-1;return Ve(t,r,d)?Ze(t,r,d):new Date(NaN)}return null}function eo(e){var t,s,n;if(t=D.HH.exec(e),t)return s=parseFloat(t[1].replace(",",".")),le(s)?s%24*ce:NaN;if(t=D.HHMM.exec(e),t)return s=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),le(s,n)?s%24*ce+n*Be:NaN;if(t=D.HHMMSS.exec(e),t){s=parseInt(t[1],10),n=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return le(s,n,o)?s%24*ce+n*Be+o*1e3:NaN}return null}function Ze(e,t,s){t=t||0,s=s||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var o=n.getUTCDay()||7,r=t*7+s+1-o;return n.setUTCDate(n.getUTCDate()+r),n}var to=[31,28,31,30,31,30,31,31,30,31,30,31],so=[31,29,31,30,31,30,31,31,30,31,30,31];function St(e){return e%400===0||e%4===0&&e%100!==0}function qe(e,t,s){if(t<0||t>11)return!1;if(s!=null){if(s<1)return!1;var n=St(e);if(n&&s>so[t]||!n&&s>to[t])return!1}return!0}function no(e,t){if(t<1)return!1;var s=St(e);return!(s&&t>366||!s&&t>365)}function Ve(e,t,s){return!(t<0||t>52||s!=null&&(s<0||s>6))}function le(e,t,s){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||s!=null&&(s<0||s>=60))}function O(e,t,s){var n=xe(e,s),o=Ct(t,n,!0),r=new Date(n.getTime()-o),c=new Date(0);return c.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),c.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),c}var de={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},ao={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=de),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var s=this.getOption(e,"sync","enabled");s&&(e.crosshair.syncEventHandler=(function(n){this.handleSyncEvent(e,n)}).bind(this),e.crosshair.resetZoomEventHandler=(function(n){var o=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===o&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var s=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,o=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,n),e.crosshair.end=e.crosshair.start===n?n+s:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===o?o-s:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,s){return Ee(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][s]:void 0,de[t][s])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var s=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===s){var n=this.getXScale(e);if(n){var o=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(o=0);var r={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:n.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:o},stop:!0};e._eventHandler(r)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let s=t.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var o=this.getXScale(e);if(o){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var r=s.native.buttons===void 0?s.native.which:s.native.buttons;s.native.type==="mouseup"&&(r=0);var c=this.getOption(e,"sync","enabled"),i=this.getOption(e,"sync","group");if(!s.stop&&c){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=i,t.original=s,t.xValue=o.getValueForPixel(s.x),window.dispatchEvent(t)}var d=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=s.stop&&d,e.crosshair.enabled=s.type!=="mouseout"&&s.x>o.getPixelForValue(o.min)&&s.x<o.getPixelForValue(o.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return s.x>o.getPixelForValue(o.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var h=this.getOption(e,"zoom","enabled");if(r===1&&!e.crosshair.dragStarted&&h&&(e.crosshair.dragStartX=s.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&r===0){e.crosshair.dragStarted=!1;var l=o.getValueForPixel(e.crosshair.dragStartX),u=o.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,l,u),e.update("none")}e.crosshair.x=s.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var o=e.data.datasets[n];o.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var r=this.getOption(e,"sync","enabled");if(!t&&s&&r){var c=this.getOption(e,"sync","group"),i=new CustomEvent("reset-zoom-event");i.chartId=e.id,i.syncGroup=c,window.dispatchEvent(i)}s&&e.update("none")},doZoom:function(e,t,s){if(t>s){var n=t;t=s,s=n}var o=Ee(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,de.callbacks.beforeZoom);if(!o(t,s))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var r=document.createElement("button"),c=this.getOption(e,"zoom","zoomButtonText"),i=this.getOption(e,"zoom","zoomButtonClass"),d=document.createTextNode(c);r.appendChild(d),r.className=i,r.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(r),e.crosshair.button=r}e.options.scales.x.min=t,e.options.scales.x.max=s;var h=e.crosshair.originalData.length===0,l=e.config.options.scales.x.type!=="category";if(l)for(var u=0;u<e.data.datasets.length;u++){var m=[],x=0,p=!1,w=!1;h&&(e.crosshair.originalData[u]=e.data.datasets[u].data);for(var y=e.crosshair.originalData[u],C=0;C<y.length;C++){var _=y[C],S=_.x!==void 0?_.x:NaN;S>=t&&!p&&x>0&&(m.push(y[x-1]),p=!0),S>=t&&S<=s&&m.push(_),S>s&&!w&&x<y.length&&(m.push(_),w=!0),x+=1}e.data.datasets[u].data=m}if(e.crosshair.start=t,e.crosshair.end=s,h){var g=this.getXScale(e);e.crosshair.min=g.min,e.crosshair.max=g.max}e.crosshair.ignoreNextEvents=2,e.update("none");var b=this.getOption(e,"callbacks","afterZoom");b(t,s)},drawZoombox:function(e){var t=this.getYScale(e),s=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=s,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),s=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),o=this.getOption(e,"line","dashPattern"),r=this.getOption(e,"snap","enabled"),c=e.crosshair.x;r&&e._active.length&&(c=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(o),e.ctx.moveTo(c,t.getPixelForValue(t.max)),e.ctx.lineWidth=s,e.ctx.strokeStyle=n,e.ctx.lineTo(c,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.yAxisID];n.hidden||!s.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,o.getPixelForValue(s.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=s.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.xAxisID],r=o.getValueForPixel(e.crosshair.x);if(!(n.hidden||!s.interpolate)){var c=s.data,i=c.findIndex(function(u){return u.x>=r}),d=c[i-1],h=c[i];if(e.data.datasets[t].steppedLine&&d)s.interpolatedValue=d.y;else if(d&&h){var l=(h.y-d.y)/(h.x-d.x);s.interpolatedValue=d.y+(r-d.x)*l}else s.interpolatedValue=NaN}}}};const X=(e=1)=>`rgba(48, 166, 51, ${e})`,K=(e=1)=>`rgba(241, 77, 66, ${e})`,Ge="text-[#30a633]",Xe="text-[#f14d42]",oo=["1d","5d","1m","6m","ytd","1y","5y","max"];function ro({histories:e,selectedInterval:t,onSelectHistoryInterval:s}){const n=Object.keys(e?.quotes??{});return a.jsx("div",{className:"inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold text-token-text-tertiary dark:bg-[#393939] sm:justify-start sm:gap-1",children:n.map(o=>a.jsx("button",{onClick:()=>{s?.(o)},className:j("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase",t===o?"rounded-lg !border-token-border-light bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:!border-token-border-medium":"hover:text-token-text-secondary"),children:Pt[o].label},o))})}const Pt={"1d":{label:"1D",formatTimestampLabel:Ke,formatTimestampTooltip:Ke,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:Je,formatTimestampTooltip:co,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:Je,formatTimestampTooltip:lo,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:ue,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:ue,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:ue,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:Qe,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:Qe,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function io(e){return e?oo.filter(s=>s in e.quotes).find(s=>e.quotes[s].length>0):void 0}function R(e,t){return O(new Date(e*1e3),t??"America/New_York")}function Ke(e,t,s){const n=R(t,s);return e.formatTime(n,{hour:"numeric",minute:"numeric"})}function co(e,t,s){const n=R(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function W(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}function ue(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",year:"numeric"})}function Je(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",day:"numeric"})}function lo(e,t,s){const n=R(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric"})}function Qe(e,t,s){const n=R(t,s);return e.formatDate(n,{year:"numeric"})}rn.register(cn,ln,dn,un,hn,mn,fn,pn,gn,ao,xn);const uo=100,et={color:"#b4b4b4",font:{size:10,weight:"600",family:"Menlo"}};function ho({isUp:e,histories:t,selectedInterval:s,setHighlightedPrice:n,latestTradingPeriod:o,timezone:r}){return a.jsx(a.Fragment,{children:t&&s&&o?a.jsx(mo,{isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:o,timezone:r,setHighlightedPrice:n}):a.jsx(Y,{className:"h-full",index:1,width:100})})}function mo({isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:n,timezone:o,setHighlightedPrice:r}){const[c,i]=f.useState(null),[d,h]=f.useState(!1),l=s==="1d",u=f.useMemo(()=>{let g=t.quotes[s].filter(b=>b.close>=0);if(l&&n){const b=n.regular.start_timestamp,v=n.regular.end_timestamp;if(g=g.filter(M=>M.timestamp>=b&&M.timestamp<=v),g.length===0||g[g.length-1].timestamp<v){let H=g.length>0?g[g.length-1].timestamp:b-600;for(;H<v;)H+=600,g.push({timestamp:H,close:null})}}return g},[t,s,l,n]),m=Pt[s],{formatTimestampTooltip:x,maxTicksLimit:p,useUtc:w=!1}=m,y=P(),C=ct(),_=U(),S=f.useMemo(()=>{const{formatTimestampLabel:g,lineTension:b}=m;return{labels:u.map(v=>g(y,v.timestamp,w?"UTC":o)),datasets:[{data:u.map(v=>v.close),borderColor:e?X():K(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?X():K(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function(v){const{ctx:M,chartArea:H}=v.chart;if(H)return po(M,H,e)},fill:!0,borderWidth:2,lineTension:b??.4}]}},[m,u,e,w,o,y]);return a.jsx("div",{className:"flex h-full flex-col gap-6",children:a.jsxs("div",{className:"relative h-full",onMouseEnter:()=>h(!0),onMouseLeave:()=>{h(!1),r(null)},children:[a.jsx(yn,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:d?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:g=>{if(g.ticks.length>p)if(l)g.ticks=g.ticks.filter((b,v)=>u[v].timestamp%(C?3600:7200)===0);else{const b=Math.ceil(g.ticks.length/(p-1));g.ticks=g.ticks.filter((v,M)=>M>0&&(M%b===0||M===g.ticks.length-1))}},grid:{display:!1},ticks:{...et,align:"end"}},y:{ticks:{...et,maxTicksLimit:7},border:{display:!1},grid:{color:_?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(g){const b=g[0];if(!b)return"";const v=u[b.dataIndex]?.timestamp;return v?x(y,v,w?"UTC":o):""}},external:({tooltip:g})=>{d&&g.opacity>0&&r(B(g.dataPoints?.[0]?.parsed?.y??0)),i(b=>{const v=g.chart.width,M=g.caretX>v-uo;return!b||b.x!==g.caretX||b.y!==g.caretY||b.opacity!==g.opacity||b.flip!==M?{...b,x:g.caretX,y:g.caretY,dateLabel:g.title?.[0],value:B(g.dataPoints?.[0]?.parsed?.y??0),opacity:g.opacity,flip:M}:b})}},dropShadow:!1,crosshair:{line:{color:_?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:S}),a.jsx(fo,{tooltipData:c})]})})}function fo({tooltipData:e}){return!e||!e.opacity?null:a.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:j("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap rounded-lg bg-black px-2 py-1 font-mono font-semibold text-token-main-surface-primary dark:bg-token-main-surface-secondary dark:text-white"),children:a.jsx("div",{className:"text-xs",children:e.dateLabel})})}function po(e,t,s){const n=e.createLinearGradient(0,t.top,0,t.bottom);return n.addColorStop(0,s?X(.4):K(.4)),n.addColorStop(1,s?X(0):K(0)),n}function B(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function V({label:e,value:t}){return a.jsxs("div",{className:"flex w-max flex-1 flex-col gap-1 text-sm",children:[a.jsx("span",{className:"whitespace-nowrap font-normal text-token-text-secondary",children:e}),a.jsx("span",{className:"whitespace-nowrap font-semibold text-token-text-primary",children:t})]})}function go({data:e}){const t=P();return a.jsxs("div",{className:"flex flex-col gap-1 rounded-xl pt-2",children:[a.jsx("div",{className:"py-2 text-sm font-semibold text-token-text-primary",children:t.formatMessage({id:"6MpNPe",defaultMessage:"Key Metrics"})}),a.jsx("hr",{className:"m-0 border-token-border-xlight"}),a.jsxs("div",{className:"flex w-full flex-row flex-wrap gap-8 py-3",children:[a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(V,{label:t.formatMessage({id:"MDHEj7",defaultMessage:"Open"}),value:t.formatNumber(e.openPrice,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx(V,{label:t.formatMessage({id:"uBKgbo",defaultMessage:"Day Range"}),value:t.formatMessage({id:"8LyBkV",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.intradayLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.intradayHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})})]}),a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(V,{label:t.formatMessage({id:"/h0itm",defaultMessage:"52 Week Range"}),value:t.formatMessage({id:"VkpWnl",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.fiftyTwoWeekLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.fiftyTwoWeekHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})}),a.jsx(V,{label:t.formatMessage({id:"PboNMC",defaultMessage:"Volume"}),value:t.formatNumber(e.intradayVolume,{notation:"compact",maximumFractionDigits:1})})]})]})]})}function xo({data:e,priceChange:t,highlightedPrice:s,extendedPriceChange:n,url:o}){function r(c,i="intraday",d=null){const{isUp:h,changePercentage:l,changeLabel:u,changeAmount:m}=c,x=Math.abs(l).toFixed(2),p=B(m);return a.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[i==="extended_hours"&&d!=null&&a.jsx("span",{className:"font-semibold",children:a.jsx($,{id:"HWwWpW",defaultMessage:"{price}",values:{price:d}})}),a.jsx("span",{className:j("font-semibold",h?Ge:Xe),children:a.jsx($,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:p,sign:h?"+":""}})}),a.jsx("span",{className:j("font-semibold",h?Ge:Xe),children:a.jsx($,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:x,sign:h?"+":"-"}})}),i==="extended_hours"?a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:u}):a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:u})]})}return a.jsxs("div",{children:[a.jsx("div",{className:"mt-2 text-sm",children:e?a.jsx($,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):a.jsx("div",{className:"w-32 font-medium",children:a.jsx(Y,{index:9,width:100})})}),a.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?a.jsx(a.Fragment,{children:o!=null&&a.jsxs(a.Fragment,{children:[" · ",a.jsx(F,{href:o,className:"text-token-link hover:underline",children:je(o,"hostname")})]})}):a.jsx("div",{className:"mt-2 w-36",children:a.jsx(Y,{index:6,width:100})})}),a.jsx("div",{className:"mt-2 flex text-4xl font-semibold",children:e?a.jsx($,{id:"s+1uly",defaultMessage:"{price}",values:{price:s??B(e.price.price)}}):a.jsx("div",{className:"w-32",children:a.jsx(Y,{index:0,width:100})})}),a.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:t?r(t):a.jsx("div",{className:"mt-2 w-40",children:a.jsx(Y,{index:3,width:100})})}),a.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&n!=null&&r(n,"extended_hours",B(e.price.extended_price))})]})}function yo({contentReference:e,trackContentReferenceEvent:t}){const s=P();f.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown","stock")},[t]);const n=io(e?.stock?.histories),o=e?.stock,[r,c]=f.useState(n),[i,d]=f.useState(null),h=r==="1d",l=o?.histories?.quotes?.[r??""]?.[0],u=r&&r in G?r:void 0,m=o&&(l&&!h?{changePercentage:(o.price.price-l.close)/l.close*100,changeAmount:o.price.price-l.close,changeLabel:u?s.formatMessage(G[u]):"",isUp:o.price.price>l.close}:o.price.change_percent&&o.price.change?{changePercentage:o.price.change_percent*100,changeAmount:o.price.change,changeLabel:vo(o.price.latest_trade_timestamp,o.asset.timezone,s),isUp:o.price.change?o.price.change>0:!1}:null),x=o&&o.price.extended_price!=null&&o.price.extended_change_percent!=null&&o.price.extended_change!=null?{changePercentage:o.price.extended_change_percent*100,changeAmount:o.price.extended_change,changeLabel:s.formatMessage(bo(o.price.market_status)??G.extended),isUp:o.price.extended_change>0}:null,{fiftyTwoWeekHigh:p,fiftyTwoWeekLow:w}=f.useMemo(()=>{const S=o?.histories?.quotes["1y"];if(!S)return{fiftyTwoWeekHigh:null,fiftyTwoWeekLow:null};const g=S.map(v=>v.high).filter(v=>v!=null),b=S.map(v=>v.low).filter(v=>v!=null);return{fiftyTwoWeekHigh:g.length>0?Math.max(...g):null,fiftyTwoWeekLow:b.length>0?Math.min(...b):null}},[o?.histories?.quotes]),y=o?.price.open_price&&o.price.intraday_high&&o.price.intraday_low&&o.price.intraday_volume&&p&&w?{openPrice:o.price.open_price,intradayHigh:o.price.intraday_high,intradayLow:o.price.intraday_low,intradayVolume:o.price.intraday_volume,fiftyTwoWeekHigh:p,fiftyTwoWeekLow:w}:null,{value:C}=ve("792871137"),_=C&&y!=null;return a.jsxs("div",{className:j("flex flex-col gap-8",_?"min-h-[620px]":"h-[480px]"),children:[a.jsxs("div",{className:"flex flex-wrap items-end justify-between",children:[a.jsx(xo,{data:o??null,highlightedPrice:i,priceChange:m??null,extendedPriceChange:x??null,url:e?.url??null}),a.jsx("div",{className:"mt-4",children:a.jsx(ro,{selectedInterval:r,onSelectHistoryInterval:c,histories:o?.histories})})]}),a.jsx("div",{className:_?"h-[340px]":"h-full",children:a.jsx(ho,{isUp:m?.isUp??!1,selectedInterval:r,histories:o?.histories,setHighlightedPrice:d,onSelectHistoryInterval:S=>c(S),latestTradingPeriod:o?.asset.latest_trading_period,timezone:o?.asset.timezone??null})}),_&&a.jsx("div",{className:"-mt-4 mb-2",children:a.jsx(go,{data:y})})]})}function bo(e){if(e==null)return null;const t=e.toLowerCase();return t==="premarket"||t==="open"?se({id:"By+pvF",defaultMessage:"Pre-Market"}):t==="afterhours"||t==="closed"?se({id:"aLCg3c",defaultMessage:"After Hours"}):se({id:"2p526c",defaultMessage:"Extended Hours"})}function vo(e,t,s){function n(o,r){const i=O(new Date,r),d=s.formatDate(i,{year:"numeric",month:"2-digit",day:"2-digit"}),h=xe(o*1e3),l=O(h,r),u=s.formatDate(l,{year:"numeric",month:"2-digit",day:"2-digit"});return d===u}if(!e||!t||n(e,t))return s.formatMessage(G["1d"]);{const o=xe(e*1e3),r=O(o,t);return s.formatDate(r,{month:"long",day:"numeric"})}}const G=be({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),wo={google_maps:{title:"Google Maps"}};function $o({metadata:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=wo[e.provider]?.title??"Maps";return a.jsx("span",{children:a.jsx($,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:a.jsx(F,{href:e.url,children:s})}})})}function jo({metadata:e,trackContentReferenceEvent:t}){return f.useEffect(()=>{e.items.length>0&&t(N.searchContentReferenceShown,"search_content_reference_shown","nav_list")},[]),e.items.length===0?null:a.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&a.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((s,n)=>a.jsx(No,{item:s,index:n,trackContentReferenceEvent:t},n))]})}function No({item:e,index:t,trackContentReferenceEvent:s}){const{isSuccess:n}=yt(e.thumbnail_url??void 0),o={url:e.url,title:e.title,section_index:t,link_type:"text",section:"nav_list",section_location:"response"};f.useEffect(()=>{s(N.linkAction,"link_action","nav_list",{...o,action:"show"})},[]);const c=P().locale,i=e.pub_date!=null?new Date(e.pub_date*1e3):null,d=new Intl.RelativeTimeFormat(c,{numeric:"auto"}),h=i?Math.max(Math.floor((Date.now()-i.getTime())/(1e3*60*60*24)),0):null;let l=h!=null?d.format(-h,"day"):null;return c.startsWith("en")&&l&&(l=l.charAt(0).toUpperCase()+l.slice(1)),a.jsxs(F,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{s(N.linkAction,"link_action","nav_list",{...o,action:"click"})},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(xt,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??je(e.url)]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),l&&a.jsx("div",{className:"text-xs text-token-text-tertiary",children:l})]}),n&&e.thumbnail_url&&a.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:a.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const _o=5;function ko({sourcesFootnote:e,onShowSearchResults:t,trackContentReferenceEvent:s}){const n={urls:e.sources.map(o=>o.url).toString(),has_images:e.has_images};return f.useEffect(()=>{s(N.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",n)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute h-[60px]",children:a.jsxs("button",{className:j("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{s(N.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",n),t(zs.Sources,e.sources.length>0?Me.Citations:Me.SearchResults)},children:[a.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:a.jsx($,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&a.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,_o).reverse().map((o,r)=>a.jsx("div",{className:j("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:a.jsx(xt,{url:o.url,size:32,minSize:16,className:"icon-md"})},r))})]})}),a.jsx("div",{className:"h-[60px]"})]})}function E(e,t){const s=Os(e),n=t<0?"-":"+",o=Math.abs(t),r=Math.floor(o/3600).toString().padStart(2,"0"),c=Math.floor(o%3600/60).toString().padStart(2,"0"),i=`${n}${r}:${c}`;return O(s,i)}function ye(e,t){if(Ae(t))return a.jsx($,{id:"wxni9H",defaultMessage:"Today"});const s=new Date;return s.setTime(s.getTime()+7*24*60*60*1e3),t<s&&t>new Date||Ae(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const Co="webp",So=250,Po=187,Do="srgb",To=4,Mo="uchar",Ao=72,Eo=!1,Io=!1,Fo=!0,Lo="{{.assetPrefix}}/assets/missing-logo-h96s4tk9.webp",tt={format:Co,width:So,height:Po,space:Do,channels:To,depth:Mo,density:Ao,isProgressive:Eo,hasProfile:Io,hasAlpha:Fo,src:Lo};function Dt({team:e,className:t}){const[s,n]=f.useState(e.logo??tt.src),o=()=>{lt.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),n(tt.src)};return a.jsx("img",{src:s,alt:e.name,className:t,onError:o})}const st=6;function Ro({scheduleRef:e,trackContentReferenceEvent:t}){const[s,n]=f.useState(!0),o=P(),r=e.games.length>0;if(f.useEffect(()=>{r&&t(N.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[r]),!r)return null;const i=(o.formatDateToParts(new Date,{timeZoneName:"long"}).find(u=>u.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let d=e.games;const h=u=>Math.abs(new Date().getTime()-new Date(u.date).getTime());h(d[0])>h(d[d.length-1])&&(d=d.slice().reverse());const l=s?d.slice(0,st):d;return a.jsxs("div",{className:"not-prose mb-3",children:[a.jsx("div",{className:"font-semibold",children:a.jsx($,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),a.jsx("div",{className:"text-sm text-token-text-secondary",children:i}),l.length===1?a.jsx("div",{children:a.jsx(Pe,{children:a.jsx(me.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:a.jsx(zo,{game:l[0]})})})})}):a.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:a.jsx(Pe,{children:l.map((u,m)=>a.jsx(me.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:m*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:j("border-b border-token-border-medium py-3",m%2===0&&"lg:border-r lg:pr-4",m%2===1&&"lg:pl-4",Math.floor(m/2)===Math.ceil(d.length/2)-1&&"lg:border-b-0",m===d.length-1&&"border-b-0"),children:a.jsx(Ho,{game:u})})},m))})}),d.length>st&&a.jsx("div",{className:"mt-2 flex items-center justify-between",children:a.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!s),children:s?a.jsx($,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:a.jsx(Us,{className:"mb-[-2px]"})}}):a.jsx($,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:a.jsx(Ws,{className:"mb-[-2px]"})}})})})]})}function Ho({game:e}){const t=Mt(e),s=[e.first_team_info,e.second_team_info],n=s.find(i=>i.location==="home")??e.first_team_info,o=s.find(i=>i.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,c=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[a.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pr-3",children:[a.jsx(J,{team:o.team,isWinner:c,logoSize:"small"}),a.jsx(J,{team:n.team,isWinner:r,logoSize:"small"})]}),a.jsxs("div",{className:"flex flex-none flex-col items-start gap-1",children:[a.jsx(Q,{score:o.score,isWinner:c}),a.jsx(Q,{score:n.score,isWinner:r})]}),a.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:a.jsx(At,{game:e})})]})}function zo({game:e}){const t=Mt(e),s=[e.first_team_info,e.second_team_info],n=s.find(i=>i.location==="home")??e.first_team_info,o=s.find(i=>i.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,c=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full py-3 text-base",children:[a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(J,{team:n.team,isWinner:r})}),a.jsx("div",{className:"mr-8 flex items-center justify-end",children:a.jsx(Q,{score:n.score,isWinner:r,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:a.jsx(At,{game:e})}),a.jsx("div",{className:"ml-8 flex items-center justify-start",children:a.jsx(Q,{score:o.score,isWinner:c,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(J,{team:o.team,isWinner:c})})]})}function Tt(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function Mt(e){return Tt(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function J({team:e,isWinner:t,logoSize:s}){return a.jsxs("span",{className:j("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&a.jsx(Dt,{team:{name:e.name,logo:e.logo},className:j(s==="small"?"w-6":"w-8")}),a.jsx("span",{className:"truncate",children:e.name})]})}function Q({score:e,isWinner:t,className:s}){return e==null?null:a.jsx("span",{className:j(t&&"font-semibold",s),children:e})}function At({game:e}){const t=P();switch(Tt(e)){case"live":return a.jsxs(a.Fragment,{children:[a.jsx(Oo,{}),a.jsx("div",{children:e.details})]});case"complete":return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-semibold",children:a.jsx($,{id:"q/iMZL",defaultMessage:"Final"})}),a.jsx("div",{className:"text-token-text-secondary",children:ye(t,new Date(e.date))})]});case"scheduled":{const s=new Date(e.date);return isNaN(s.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{children:ye(t,s)}),a.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(s,{timeStyle:"short"})})]})}}}function Oo(){return a.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:a.jsx($,{id:"vObALn",defaultMessage:"Live"})})}function Uo({standingsRef:e,trackContentReferenceEvent:t}){const[s,n]=f.useState(0),o=e.conferences.length>0;f.useEffect(()=>{o&&t(N.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[o]);const r=e.conferences[s],c=e.conferences.length>1?e.conferences.map((i,d)=>a.jsx("button",{className:j(s===d?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(d),children:i.name},i.name)):null;return a.jsxs(a.Fragment,{children:[c&&a.jsx("div",{className:"flex gap-4",children:c}),a.jsx("div",{className:"mt-3",children:r.divisions.map(i=>i.name?a.jsx("div",{className:"mt-3",children:a.jsx(nt,{division:i,teamsColumnHeader:i.name})},i.name):a.jsx(nt,{division:i}))})]})}function nt({division:e,teamsColumnHeader:t}){const s=e.headers.map(n=>n.key);return a.jsxs(T.Root,{size:"compact",className:"not-prose",children:[a.jsxs(T.Header,{children:[a.jsx(Wo,{children:t??a.jsx($,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(n=>a.jsx(Et,{textAlign:"center",className:"min-w-11 !px-0",children:a.jsx(at,{data:n})},n.key))]}),a.jsx(T.Body,{children:e.teams.map(({team:n,data:o},r)=>{const c=o.reduce((i,d)=>(i[d.key]=d,i),{});return a.jsxs(T.Row,{children:[a.jsx(T.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:r+1}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsx(Dt,{team:n,className:"w-6"}),a.jsx("span",{className:"whitespace-nowrap text-base",children:n.name})]})]})}),s.map(i=>a.jsx(T.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:a.jsx(at,{data:c[i]})},i))]},n.name)})})]})}function at({data:e}){switch(e.type){case"text":return a.jsx(a.Fragment,{children:e.text});default:return a.jsx(a.Fragment,{children:e.alt})}}const Et=dt(T.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,Wo=dt(Et)`text-token-text-primary !pl-0`;function Yo({metadata:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=P(),n=O(e.utc_time,e.utc_offset),o=s.formatDate(n,{hour:"numeric",minute:"numeric"});return a.jsx("span",{children:o})}function Bo({metadata:e,trackContentReferenceEvent:t}){return f.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),a.jsx("div",{children:e.url?a.jsx(cs,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:a.jsx(F,{href:e.url,className:"!font-semibold",children:e.description})}):a.jsx("div",{className:"!font-semibold",children:e.description})})}function Zo({url:e,className:t}){let s;const n="aspect-video w-full rounded-lg",o=qo(e);o&&(s=a.jsx(Vo,{videoId:o,className:n}));const r=Go(e);return r&&(s=a.jsx(Xo,{videoId:r,className:n})),s?a.jsx("div",{className:t,children:s}):null}function qo(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,s=e.match(t);return s?s[1]:null}function Vo({videoId:e,className:t}){return a.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Go(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,s=e.match(t);return s?s[1]:null}function Xo({videoId:e,className:t}){return a.jsx(a.Fragment,{children:a.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Ko({video:e,trackContentReferenceEvent:t}){const s={url:e.url,title:e.title};return f.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type,s)},[]),e.url==null||e.url===""?null:a.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:a.jsx(Zo,{url:e.url})})}const Jo=e=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34354 4.92894C6.7341 5.31946 6.7341 5.95263 6.34354 6.34315C3.21906 9.46735 3.21906 14.5327 6.34354 17.6569C6.7341 18.0474 6.7341 18.6806 6.34354 19.0711C5.95298 19.4616 5.31976 19.4616 4.9292 19.0711C1.0236 15.1658 1.0236 8.83418 4.9292 4.92894C5.31976 4.53842 5.95298 4.53842 6.34354 4.92894ZM17.6583 4.92894C18.0488 4.53842 18.682 4.53842 19.0726 4.92894C22.9782 8.83418 22.9782 15.1658 19.0726 19.0711C18.682 19.4616 18.0488 19.4616 17.6583 19.0711C17.2677 18.6806 17.2677 18.0474 17.6583 17.6569C20.7827 14.5327 20.7827 9.46735 17.6583 6.34315C17.2677 5.95263 17.2677 5.31946 17.6583 4.92894Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17222 7.75737C9.56278 8.14789 9.56278 8.78106 9.17222 9.17158C7.60998 10.7337 7.60998 13.2663 9.17222 14.8284C9.56278 15.219 9.56278 15.8521 9.17222 16.2426C8.78166 16.6332 8.14844 16.6332 7.75788 16.2426C5.41452 13.8995 5.41452 10.1005 7.75788 7.75737C8.14844 7.36684 8.78166 7.36684 9.17222 7.75737ZM14.8296 7.75737C15.2201 7.36684 15.8534 7.36684 16.2439 7.75737C18.5873 10.1005 18.5873 13.8995 16.2439 16.2426C15.8534 16.6332 15.2201 16.6332 14.8296 16.2426C14.439 15.8521 14.439 15.219 14.8296 14.8284C16.3918 13.2663 16.3918 10.7337 14.8296 9.17158C14.439 8.78106 14.439 8.14789 14.8296 7.75737Z",fill:"currentColor"}),f.createElement("path",{d:"M14.0011 12C14.0011 13.1046 13.1056 14 12.0009 14C10.8962 14 10.0007 13.1046 10.0007 12C10.0007 10.8954 10.8962 10 12.0009 10C13.1056 10 14.0011 10.8954 14.0011 12Z",fill:"currentColor"})),Qo="webp",er=96,tr=96,sr="srgb",nr=4,ar="uchar",or=288,rr=!1,ir=!1,cr=!0,lr="{{.assetPrefix}}/assets/cloud-foggy-o4a3hmky.webp",dr={format:Qo,width:er,height:tr,space:sr,channels:nr,depth:ar,density:or,isProgressive:rr,hasProfile:ir,hasAlpha:cr,src:lr},ur="webp",hr=96,mr=96,fr="srgb",pr=4,gr="uchar",xr=288,yr=!1,br=!1,vr=!0,wr="{{.assetPrefix}}/assets/cloudy-co8vwrk7.webp",$r={format:ur,width:hr,height:mr,space:fr,channels:pr,depth:gr,density:xr,isProgressive:yr,hasProfile:br,hasAlpha:vr,src:wr},jr="webp",Nr=96,_r=96,kr="srgb",Cr=4,Sr="uchar",Pr=288,Dr=!1,Tr=!1,Mr=!0,Ar="{{.assetPrefix}}/assets/heavy-snow-mke52kag.webp",Er={format:jr,width:Nr,height:_r,space:kr,channels:Cr,depth:Sr,density:Pr,isProgressive:Dr,hasProfile:Tr,hasAlpha:Mr,src:Ar},Ir="webp",Fr=96,Lr=96,Rr="srgb",Hr=4,zr="uchar",Or=288,Ur=!1,Wr=!1,Yr=!0,Br="{{.assetPrefix}}/assets/light-snow-mcy1l7t9.webp",Zr={format:Ir,width:Fr,height:Lr,space:Rr,channels:Hr,depth:zr,density:Or,isProgressive:Ur,hasProfile:Wr,hasAlpha:Yr,src:Br},qr="webp",Vr=96,Gr=96,Xr="srgb",Kr=4,Jr="uchar",Qr=288,ei=!1,ti=!1,si=!0,ni="{{.assetPrefix}}/assets/moon-drizzle-cplxr2ub.webp",ai={format:qr,width:Vr,height:Gr,space:Xr,channels:Kr,depth:Jr,density:Qr,isProgressive:ei,hasProfile:ti,hasAlpha:si,src:ni},oi="webp",ri=96,ii=96,ci="srgb",li=4,di="uchar",ui=288,hi=!1,mi=!1,fi=!0,pi="{{.assetPrefix}}/assets/moon-hazy-jvgt25bp.webp",gi={format:oi,width:ri,height:ii,space:ci,channels:li,depth:di,density:ui,isProgressive:hi,hasProfile:mi,hasAlpha:fi,src:pi},xi="webp",yi=96,bi=96,vi="srgb",wi=4,$i="uchar",ji=288,Ni=!1,_i=!1,ki=!0,Ci="{{.assetPrefix}}/assets/moon-mostly-cloudy-cia3do0v.webp",Si={format:xi,width:yi,height:bi,space:vi,channels:wi,depth:$i,density:ji,isProgressive:Ni,hasProfile:_i,hasAlpha:ki,src:Ci},Pi="webp",Di=96,Ti=96,Mi="srgb",Ai=4,Ei="uchar",Ii=288,Fi=!1,Li=!1,Ri=!0,Hi="{{.assetPrefix}}/assets/moon-mostly-sunny-n3mh1b6a.webp",zi={format:Pi,width:Di,height:Ti,space:Mi,channels:Ai,depth:Ei,density:Ii,isProgressive:Fi,hasProfile:Li,hasAlpha:Ri,src:Hi},Oi="webp",Ui=96,Wi=96,Yi="srgb",Bi=4,Zi="uchar",qi=288,Vi=!1,Gi=!1,Xi=!0,Ki="{{.assetPrefix}}/assets/moon-shower-ntzhti9o.webp",Ji={format:Oi,width:Ui,height:Wi,space:Yi,channels:Bi,depth:Zi,density:qi,isProgressive:Vi,hasProfile:Gi,hasAlpha:Xi,src:Ki},Qi="webp",ec=96,tc=96,sc="srgb",nc=4,ac="uchar",oc=288,rc=!1,ic=!1,cc=!0,lc="{{.assetPrefix}}/assets/moon-sunny-eg2emh4d.webp",dc={format:Qi,width:ec,height:tc,space:sc,channels:nc,depth:ac,density:oc,isProgressive:rc,hasProfile:ic,hasAlpha:cc,src:lc},uc="webp",hc=96,mc=96,fc="srgb",pc=4,gc="uchar",xc=288,yc=!1,bc=!1,vc=!0,wc="{{.assetPrefix}}/assets/rain-thunder-bx7a0l5g.webp",$c={format:uc,width:hc,height:mc,space:fc,channels:pc,depth:gc,density:xc,isProgressive:yc,hasProfile:bc,hasAlpha:vc,src:wc},jc="webp",Nc=96,_c=96,kc="srgb",Cc=4,Sc="uchar",Pc=288,Dc=!1,Tc=!1,Mc=!0,Ac="{{.assetPrefix}}/assets/rain-cxs76xuj.webp",Ec={format:jc,width:Nc,height:_c,space:kc,channels:Cc,depth:Sc,density:Pc,isProgressive:Dc,hasProfile:Tc,hasAlpha:Mc,src:Ac},Ic="webp",Fc=96,Lc=96,Rc="srgb",Hc=4,zc="uchar",Oc=288,Uc=!1,Wc=!1,Yc=!0,Bc="{{.assetPrefix}}/assets/sleet-gc63vwmo.webp",Zc={format:Ic,width:Fc,height:Lc,space:Rc,channels:Hc,depth:zc,density:Oc,isProgressive:Uc,hasProfile:Wc,hasAlpha:Yc,src:Bc},qc="webp",Vc=96,Gc=96,Xc="srgb",Kc=4,Jc="uchar",Qc=288,el=!1,tl=!1,sl=!0,nl="{{.assetPrefix}}/assets/snow-d0k6tmmc.webp",al={format:qc,width:Vc,height:Gc,space:Xc,channels:Kc,depth:Jc,density:Qc,isProgressive:el,hasProfile:tl,hasAlpha:sl,src:nl},ol="webp",rl=96,il=96,cl="srgb",ll=4,dl="uchar",ul=288,hl=!1,ml=!1,fl=!0,pl="{{.assetPrefix}}/assets/sun-drizzle-g94obr5e.webp",gl={format:ol,width:rl,height:il,space:cl,channels:ll,depth:dl,density:ul,isProgressive:hl,hasProfile:ml,hasAlpha:fl,src:pl},xl="webp",yl=96,bl=96,vl="srgb",wl=4,$l="uchar",jl=288,Nl=!1,_l=!1,kl=!0,Cl="{{.assetPrefix}}/assets/sun-hazy-c3z1j0hy.webp",Sl={format:xl,width:yl,height:bl,space:vl,channels:wl,depth:$l,density:jl,isProgressive:Nl,hasProfile:_l,hasAlpha:kl,src:Cl},Pl="webp",Dl=96,Tl=96,Ml="srgb",Al=4,El="uchar",Il=288,Fl=!1,Ll=!1,Rl=!0,Hl="{{.assetPrefix}}/assets/sun-mostly-cloudy-d4o4zkga.webp",zl={format:Pl,width:Dl,height:Tl,space:Ml,channels:Al,depth:El,density:Il,isProgressive:Fl,hasProfile:Ll,hasAlpha:Rl,src:Hl},Ol="webp",Ul=96,Wl=96,Yl="srgb",Bl=4,Zl="uchar",ql=288,Vl=!1,Gl=!1,Xl=!0,Kl="{{.assetPrefix}}/assets/sun-mostly-sunny-livrdkgu.webp",Jl={format:Ol,width:Ul,height:Wl,space:Yl,channels:Bl,depth:Zl,density:ql,isProgressive:Vl,hasProfile:Gl,hasAlpha:Xl,src:Kl},Ql="webp",ed=96,td=96,sd="srgb",nd=4,ad="uchar",od=288,rd=!1,id=!1,cd=!0,ld="{{.assetPrefix}}/assets/sun-shower-lvtjthah.webp",dd={format:Ql,width:ed,height:td,space:sd,channels:nd,depth:ad,density:od,isProgressive:rd,hasProfile:id,hasAlpha:cd,src:ld},ud="webp",hd=96,md=96,fd="srgb",pd=4,gd="uchar",xd=288,yd=!1,bd=!1,vd=!0,wd="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",$d={format:ud,width:hd,height:md,space:fd,channels:pd,depth:gd,density:xd,isProgressive:yd,hasProfile:bd,hasAlpha:vd,src:wd},jd="webp",Nd=96,_d=96,kd="srgb",Cd=4,Sd="uchar",Pd=288,Dd=!1,Td=!1,Md=!0,Ad="{{.assetPrefix}}/assets/thunder-jgjqg9ai.webp",Ed={format:jd,width:Nd,height:_d,space:kd,channels:Cd,depth:Sd,density:Pd,isProgressive:Dd,hasProfile:Td,hasAlpha:Md,src:Ad},Id="webp",Fd=96,Ld=96,Rd="srgb",Hd=4,zd="uchar",Od=288,Ud=!1,Wd=!1,Yd=!0,Bd="{{.assetPrefix}}/assets/tornado-opa24tq3.webp",Zd={format:Id,width:Fd,height:Ld,space:Rd,channels:Hd,depth:zd,density:Od,isProgressive:Ud,hasProfile:Wd,hasAlpha:Yd,src:Bd},qd="webp",Vd=96,Gd=96,Xd="srgb",Kd=4,Jd="uchar",Qd=288,eu=!1,tu=!1,su=!0,nu="{{.assetPrefix}}/assets/windy-mw0a3u21.webp",au={format:qd,width:Vd,height:Gd,space:Xd,channels:Kd,depth:Jd,density:Qd,isProgressive:eu,hasProfile:tu,hasAlpha:su,src:nu},ou="webp",ru=96,iu=96,cu="srgb",lu=4,du="uchar",uu=288,hu=!1,mu=!1,fu=!0,pu="{{.assetPrefix}}/assets/cloud-foggy-fhg0jn0w.webp",gu={format:ou,width:ru,height:iu,space:cu,channels:lu,depth:du,density:uu,isProgressive:hu,hasProfile:mu,hasAlpha:fu,src:pu},xu="webp",yu=96,bu=96,vu="srgb",wu=4,$u="uchar",ju=288,Nu=!1,_u=!1,ku=!0,Cu="{{.assetPrefix}}/assets/cloudy-disd26f3.webp",Su={format:xu,width:yu,height:bu,space:vu,channels:wu,depth:$u,density:ju,isProgressive:Nu,hasProfile:_u,hasAlpha:ku,src:Cu},Pu="webp",Du=96,Tu=96,Mu="srgb",Au=4,Eu="uchar",Iu=288,Fu=!1,Lu=!1,Ru=!0,Hu="{{.assetPrefix}}/assets/heavy-snow-g6jjwo2d.webp",zu={format:Pu,width:Du,height:Tu,space:Mu,channels:Au,depth:Eu,density:Iu,isProgressive:Fu,hasProfile:Lu,hasAlpha:Ru,src:Hu},Ou="webp",Uu=96,Wu=96,Yu="srgb",Bu=4,Zu="uchar",qu=288,Vu=!1,Gu=!1,Xu=!0,Ku="{{.assetPrefix}}/assets/light-snow-iz0efpkh.webp",Ju={format:Ou,width:Uu,height:Wu,space:Yu,channels:Bu,depth:Zu,density:qu,isProgressive:Vu,hasProfile:Gu,hasAlpha:Xu,src:Ku},Qu="webp",eh=96,th=96,sh="srgb",nh=4,ah="uchar",oh=288,rh=!1,ih=!1,ch=!0,lh="{{.assetPrefix}}/assets/moon-drizzle-b1nfv39c.webp",dh={format:Qu,width:eh,height:th,space:sh,channels:nh,depth:ah,density:oh,isProgressive:rh,hasProfile:ih,hasAlpha:ch,src:lh},uh="webp",hh=96,mh=96,fh="srgb",ph=4,gh="uchar",xh=288,yh=!1,bh=!1,vh=!0,wh="{{.assetPrefix}}/assets/moon-hazy-nfnzea7a.webp",$h={format:uh,width:hh,height:mh,space:fh,channels:ph,depth:gh,density:xh,isProgressive:yh,hasProfile:bh,hasAlpha:vh,src:wh},jh="webp",Nh=96,_h=96,kh="srgb",Ch=4,Sh="uchar",Ph=288,Dh=!1,Th=!1,Mh=!0,Ah="{{.assetPrefix}}/assets/moon-mostly-cloudy-e56e3z55.webp",Eh={format:jh,width:Nh,height:_h,space:kh,channels:Ch,depth:Sh,density:Ph,isProgressive:Dh,hasProfile:Th,hasAlpha:Mh,src:Ah},Ih="webp",Fh=96,Lh=96,Rh="srgb",Hh=4,zh="uchar",Oh=288,Uh=!1,Wh=!1,Yh=!0,Bh="{{.assetPrefix}}/assets/moon-mostly-sunny-ffu4gzf4.webp",Zh={format:Ih,width:Fh,height:Lh,space:Rh,channels:Hh,depth:zh,density:Oh,isProgressive:Uh,hasProfile:Wh,hasAlpha:Yh,src:Bh},qh="webp",Vh=96,Gh=96,Xh="srgb",Kh=4,Jh="uchar",Qh=288,em=!1,tm=!1,sm=!0,nm="{{.assetPrefix}}/assets/moon-shower-e5dy9u48.webp",am={format:qh,width:Vh,height:Gh,space:Xh,channels:Kh,depth:Jh,density:Qh,isProgressive:em,hasProfile:tm,hasAlpha:sm,src:nm},om="webp",rm=96,im=96,cm="srgb",lm=4,dm="uchar",um=288,hm=!1,mm=!1,fm=!0,pm="{{.assetPrefix}}/assets/moon-sunny-d9o08xiw.webp",gm={format:om,width:rm,height:im,space:cm,channels:lm,depth:dm,density:um,isProgressive:hm,hasProfile:mm,hasAlpha:fm,src:pm},xm="webp",ym=96,bm=96,vm="srgb",wm=4,$m="uchar",jm=288,Nm=!1,_m=!1,km=!0,Cm="{{.assetPrefix}}/assets/rain-thunder-eplemvu1.webp",Sm={format:xm,width:ym,height:bm,space:vm,channels:wm,depth:$m,density:jm,isProgressive:Nm,hasProfile:_m,hasAlpha:km,src:Cm},Pm="webp",Dm=96,Tm=96,Mm="srgb",Am=4,Em="uchar",Im=288,Fm=!1,Lm=!1,Rm=!0,Hm="{{.assetPrefix}}/assets/rain-ogayr6kt.webp",zm={format:Pm,width:Dm,height:Tm,space:Mm,channels:Am,depth:Em,density:Im,isProgressive:Fm,hasProfile:Lm,hasAlpha:Rm,src:Hm},Om="webp",Um=96,Wm=96,Ym="srgb",Bm=4,Zm="uchar",qm=288,Vm=!1,Gm=!1,Xm=!0,Km="{{.assetPrefix}}/assets/sleet-o8noil7l.webp",Jm={format:Om,width:Um,height:Wm,space:Ym,channels:Bm,depth:Zm,density:qm,isProgressive:Vm,hasProfile:Gm,hasAlpha:Xm,src:Km},Qm="webp",ef=96,tf=96,sf="srgb",nf=4,af="uchar",of=288,rf=!1,cf=!1,lf=!0,df="{{.assetPrefix}}/assets/snow-lq4cl3uc.webp",uf={format:Qm,width:ef,height:tf,space:sf,channels:nf,depth:af,density:of,isProgressive:rf,hasProfile:cf,hasAlpha:lf,src:df},hf="webp",mf=96,ff=96,pf="srgb",gf=4,xf="uchar",yf=288,bf=!1,vf=!1,wf=!0,$f="{{.assetPrefix}}/assets/sun-drizzle-htsohv65.webp",jf={format:hf,width:mf,height:ff,space:pf,channels:gf,depth:xf,density:yf,isProgressive:bf,hasProfile:vf,hasAlpha:wf,src:$f},Nf="webp",_f=96,kf=96,Cf="srgb",Sf=4,Pf="uchar",Df=288,Tf=!1,Mf=!1,Af=!0,Ef="{{.assetPrefix}}/assets/sun-hazy-nfj7clcd.webp",If={format:Nf,width:_f,height:kf,space:Cf,channels:Sf,depth:Pf,density:Df,isProgressive:Tf,hasProfile:Mf,hasAlpha:Af,src:Ef},Ff="webp",Lf=96,Rf=96,Hf="srgb",zf=4,Of="uchar",Uf=288,Wf=!1,Yf=!1,Bf=!0,Zf="{{.assetPrefix}}/assets/sun-mostly-cloudy-e3pqqgs7.webp",qf={format:Ff,width:Lf,height:Rf,space:Hf,channels:zf,depth:Of,density:Uf,isProgressive:Wf,hasProfile:Yf,hasAlpha:Bf,src:Zf},Vf="webp",Gf=96,Xf=96,Kf="srgb",Jf=4,Qf="uchar",ep=288,tp=!1,sp=!1,np=!0,ap="{{.assetPrefix}}/assets/sun-mostly-sunny-o99k1c7a.webp",op={format:Vf,width:Gf,height:Xf,space:Kf,channels:Jf,depth:Qf,density:ep,isProgressive:tp,hasProfile:sp,hasAlpha:np,src:ap},rp="webp",ip=96,cp=96,lp="srgb",dp=4,up="uchar",hp=288,mp=!1,fp=!1,pp=!0,gp="{{.assetPrefix}}/assets/sun-shower-ldwl4jbp.webp",xp={format:rp,width:ip,height:cp,space:lp,channels:dp,depth:up,density:hp,isProgressive:mp,hasProfile:fp,hasAlpha:pp,src:gp},yp="webp",bp=96,vp=96,wp="srgb",$p=4,jp="uchar",Np=!1,_p=!1,kp=!0,Cp="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",Sp={format:yp,width:bp,height:vp,space:wp,channels:$p,depth:jp,isProgressive:Np,hasProfile:_p,hasAlpha:kp,src:Cp},Pp="webp",Dp=96,Tp=96,Mp="srgb",Ap=4,Ep="uchar",Ip=288,Fp=!1,Lp=!1,Rp=!0,Hp="{{.assetPrefix}}/assets/thunder-xzn1cku3.webp",zp={format:Pp,width:Dp,height:Tp,space:Mp,channels:Ap,depth:Ep,density:Ip,isProgressive:Fp,hasProfile:Lp,hasAlpha:Rp,src:Hp},Op="webp",Up=96,Wp=96,Yp="srgb",Bp=4,Zp="uchar",qp=288,Vp=!1,Gp=!1,Xp=!0,Kp="{{.assetPrefix}}/assets/tornado-diqu61wg.webp",Jp={format:Op,width:Up,height:Wp,space:Yp,channels:Bp,depth:Zp,density:qp,isProgressive:Vp,hasProfile:Gp,hasAlpha:Xp,src:Kp},Qp="webp",eg=96,tg=96,sg="srgb",ng=4,ag="uchar",og=288,rg=!1,ig=!1,cg=!0,lg="{{.assetPrefix}}/assets/windy-n2v8wtyp.webp",dg={format:Qp,width:eg,height:tg,space:sg,channels:ng,depth:ag,density:og,isProgressive:rg,hasProfile:ig,hasAlpha:cg,src:lg},ug={foggy:{default:dr},cloudy:{default:$r},"heavy-snow":{default:Er},"light-snow":{default:Zr},sleet:{default:Zc},drizzle:{default:gl,night:ai},hazy:{default:Sl,night:gi},"mostly-cloudy":{default:zl,night:Si},"mostly-sunny":{default:Jl,night:zi},shower:{default:dd,night:Ji},sunny:{default:$d,night:dc},"rain-thunder":{default:$c},rain:{default:Ec},snow:{default:al},thunder:{default:Ed},tornado:{default:Zd},windy:{default:au}},hg={foggy:{default:gu},cloudy:{default:Su},"heavy-snow":{default:zu},"light-snow":{default:Ju},sleet:{default:Jm},drizzle:{default:jf,night:dh},hazy:{default:If,night:$h},"mostly-cloudy":{default:qf,night:Eh},"mostly-sunny":{default:op,night:Zh},shower:{default:xp,night:am},sunny:{default:Sp,night:gm},"rain-thunder":{default:Sm},rain:{default:zm},snow:{default:uf},thunder:{default:zp},tornado:{default:Jp},windy:{default:dg}};function mg({weatherCode:e,isDarkMode:t,isNight:s}){const n=t?hg:ug,o=fg(e),r=n[o];return r.night&&s?r.night:r.default}function fg(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const pg="C";function gg(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function ot(e,t,s=pg){return e===s?`${Math.round(t)}°`:`${gg(e,t)}°`}const xg=7,rt=8,yg=f.memo(function({weatherResults:t,dateRange:s,turnIndex:n,trackContentReferenceEvent:o}){const[r,c]=Pg(),i=wg(t);f.useEffect(()=>{o(N.searchContentReferenceShown,"search_content_reference_shown","forecast")},[o]);const{daily:d,hourly:h,historical:l}=t;let u="daily";if(s||h&&d.length<2)u="hourly";else if(d.length>0)u="daily";else if(l&&l?.length>0)u="historical";else return null;return a.jsxs("div",{className:"relative",children:[i?a.jsxs(a.Fragment,{children:[a.jsx(vg,{weatherResults:t}),a.jsx($g,{weatherResults:t,temperatureUnit:r,setTemperatureUnit:c})]}):a.jsx("div",{className:"absolute right-0 top-3 z-10 rounded bg-token-main-surface-primary",children:a.jsx(It,{onTemperatureUnitChange:c,temperatureUnit:r})}),a.jsx(kg,{turnIndex:n}),u==="hourly"&&a.jsx(jg,{weatherResults:t,temperatureUnit:r,dateRange:s}),u==="daily"&&a.jsx(Ng,{dailyForecast:d.slice(0,xg),temperatureUnit:r}),u==="historical"&&a.jsx(_g,{historical:l,temperatureUnit:r})]})});function bg({weatherAlert:e}){const[t,s]=f.useState(!1),n=P(),o=ct(),r=E(e.start_timestamp,e.utc_offset_sec),c=e.end_timestamp?E(e.end_timestamp,e.utc_offset_sec):null,i=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx($,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:n.formatDate(r,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:c?" - ":"",end:c?n.formatDate(c,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),a.jsx("div",{children:e.summary})]});return a.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-left text-sm text-red-800",onClick:()=>s(!t),children:[a.jsxs("div",{className:"flex w-full items-center gap-4",children:[a.jsx(bn,{className:"h-9 w-9 shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"font-bold",children:a.jsx($,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),o&&i]}),a.jsx("div",{className:"flex-grow"}),a.jsx("div",{className:"opacity-30",children:t?a.jsx(wn,{className:"icon-lg"}):a.jsx(vn,{className:"icon-lg"})})]}),t&&e.details&&a.jsxs(a.Fragment,{children:[!o&&i,a.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function vg({weatherResults:e}){const{severe:t}=e;return t?a.jsx("div",{className:"my-2",children:t.map((s,n)=>a.jsx(bg,{weatherAlert:s},n))}):null}function wg(e){const{historical:t,daily:s,hourly:n,current:o}=e;if(!o)return!1;let r=!1;const c=E(o.timestamp,o.utc_offset_sec);for(const i of[t,s,n])i&&(r=r||i?.some(d=>Ys(c,E(d.timestamp,d.utc_offset_sec))));return r}function $g({weatherResults:e,temperatureUnit:t,setTemperatureUnit:s}){const n=P(),{current:o}=e;if(!o)return null;const r=o.temperature.current,c=o.description,i=r!=null&&c&&" · ";return a.jsxs("div",{className:"not-prose flex items-center gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[r!=null&&a.jsx($,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:L(n,r,t)}}),i,c.description]}),a.jsx("div",{className:"text-token-text-secondary",children:Sg(e.location)})]}),a.jsxs("div",{className:"flex",children:[a.jsx(It,{onTemperatureUnitChange:s,temperatureUnit:t}),a.jsx(Se,{weatherDescriptionData:c,isNight:o.night})]})]})}function Ce({children:e}){return a.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:a.jsx(T.Root,{className:"min-w-0",children:a.jsx(T.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:e})})})}function jg({weatherResults:e,temperatureUnit:t,dateRange:s}){const n=P(),{hourly:o,current:r}=e;let c=o??[];s&&(c=c.filter(l=>l.timestamp>=s.start_timestamp&&l.timestamp<s.end_timestamp));const[i,d]=f.useState(!1),h=c.length>rt;if(!i&&h){const l=c[0],u=E(l.timestamp,l.utc_offset_sec);let m=!1;if(r){const x=E(r.timestamp,r.utc_offset_sec);u.getTime()-x.getTime()>8*60*60*1e3&&c.length>18&&(c=c.slice(7,18),m=!0)}m||(c=c.slice(0,rt))}return a.jsxs(Ce,{children:[c.map((l,u)=>a.jsxs(T.Row,{children:[a.jsxs(A,{className:"w-44",children:[a.jsx(Se,{weatherDescriptionData:l.description,isNight:l.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:a.jsx("span",{className:"lowercase",children:Cg(n,l)})})]}),a.jsx(A,{className:"w-[60px] tabular-nums",children:a.jsx("div",{children:L(n,l.temperature.current,t)})}),a.jsx(A,{children:l.description.description})]},u)),h&&a.jsx(T.Row,{children:a.jsx(A,{className:"w-44",children:a.jsx(ut,{color:"secondary",onClick:()=>d(!i),size:"small",children:i?a.jsx($,{id:"KoC8Ym",defaultMessage:"Show less"}):a.jsx($,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function Ng({dailyForecast:e,temperatureUnit:t}){const s=P();return a.jsx(Ce,{children:e.map((n,o)=>a.jsxs(T.Row,{children:[a.jsxs(A,{className:"w-[7.5rem] min-w-[7.5rem]",children:[a.jsx(Se,{weatherDescriptionData:n.description,isNight:n.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:ye(s,E(n.timestamp,n.utc_offset_sec))})]}),a.jsxs(A,{className:"tabular-nums",children:[a.jsx("div",{children:L(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:L(s,n.temperature.min,t)})]}),a.jsx(A,{className:"min-w-80",children:n.description.description})]},o))})}function _g({historical:e,temperatureUnit:t}){const s=P();return e?a.jsx(Ce,{children:e.map((n,o)=>{const r=E(n.timestamp,n.utc_offset_sec);return a.jsxs(T.Row,{children:[a.jsx(A,{className:"w-[250px]",children:a.jsx("div",{className:"ml-3 whitespace-nowrap",children:s.formatDate(r,{weekday:"long",month:"short",day:"numeric"})})}),a.jsx(A,{className:"tabular-nums",children:n.temperature.max&&n.temperature.min?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:L(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:L(s,n.temperature.min,t)})]}):a.jsx("div",{children:L(s,n.temperature.current,t)})}),a.jsx(A,{})]},o)})}):null}function A({className:e,children:t}){return a.jsx(T.Cell,{className:j("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:t})}function kg({turnIndex:e}){const t=Ns(n=>n.thread?.turns[e]?.use_location),[s]=ws();return!s.useLocation&&t?a.jsx("div",{className:"mt-3",children:a.jsx(ut,{color:"secondary",icon:Jo,onClick:()=>{$s.setSettingsModalOpen(!0)},children:a.jsx($,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function It({temperatureUnit:e,onTemperatureUnitChange:t}){const s=n=>e===n?"font-bold":"font-light";return a.jsx(Xt,{size:"small",triggerButton:a.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:a.jsx(Bs,{className:"icon-sm-heavy"})}),children:a.jsxs(Kt.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[a.jsx($,{id:"bQIoe/",defaultMessage:"Temperature"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:s("F"),children:a.jsx($,{id:"bvDeBB",defaultMessage:"°F"})}),a.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),a.jsx("div",{className:s("C"),children:a.jsx($,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function Se({weatherDescriptionData:e,isNight:t=!1,size:s="normal"}){const n=U(),o=s==="small"?30:50;return a.jsx("img",{draggable:!1,alt:e.description,src:mg({weatherCode:e.id,isDarkMode:n,isNight:t}).src,width:o,height:o})}function Cg(e,t){const s=E(t.timestamp,t.utc_offset_sec);return e.formatDate(s,{hour:"numeric"})}function L(e,t,s){return t==null?"-":ot(s?s??"F":Ft(e),t)}function Ft(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],s=e.locale||"en-US";return t.includes(s)?"F":"C"}function Sg(e){const t=e.name.split(",").map(s=>s.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const Pg=()=>{const e=P(),[t,s]=js("USER_TEMPERATURE_UNIT",Ft(e),n=>["F","C"].includes(n));return[t,s]},Dg=Jt(()=>Qt(()=>import("./o78ee6bw8izhumqc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])).then(e=>e.BusinessesMap));function Tg({index:e,FormattedText:t,node:s}){const n=parseInt(e,10),o=f.useContext(te),{value:r}=ve("756982148"),c=f.useRef(new Set),i=f.useCallback((w,y,C,_,S)=>{const g=o?.analyticsMetadata;if(g&&g.messageId&&es(g.messageId)){const b=Zs(C,g,_),v=`${w}-${JSON.stringify(b)}`;(!c.current.has(v)||!qs(w,_))&&(c.current.add(v),ts.logEventWithStatsig(w,y,b),S?.(g))}},[o?.analyticsMetadata]);if(o==null)return null;const{contentReferences:d,onShowSearchResults:h,numImageResults:l,analyticsMetadata:u}=o,m=d?.[n],x=u?.clientThreadId==null;if(!m||u.turnIndex===void 0||m.type===void 0)return null;let p=null;switch(m.type){case"title_citation":p=a.jsx(Bo,{metadata:m,trackContentReferenceEvent:i});break;case"location_search":p=a.jsx($o,{metadata:m,trackContentReferenceEvent:i});break;case"time":p=a.jsx(Yo,{metadata:m,trackContentReferenceEvent:i});break;case"image_v2":p=a.jsx(_t,{metadata:m,numImageResults:l??0,analyticsMetadata:u,trackContentReferenceEvent:i});break;case"nav_list":p=a.jsx(jo,{metadata:m,trackContentReferenceEvent:i});break;case"file_navlist":p=a.jsx(Ia,{metadata:m,trackContentReferenceEvent:i});break;case"file":p=a.jsx(Ta,{fileRef:m,index:n,trackContentReferenceEvent:i});break;case"grouped_webpages_model_predicted_fallback":p=a.jsx(ds,{webpageRef:m,node:s,trackContentReferenceEvent:i,messageId:o.message.id});break;case"grouped_webpages":p=a.jsx(ls,{webpageRef:m,node:s,trackContentReferenceEvent:i,messageId:o.message.id});break;case"tldr":p=r?a.jsx(Ie,{navigation:{...m,type:"navigation",domains:[{title:m.page_title,subtitle:m.display_title,domain:m.breadcrumbs[0],url:m.url,sub_domains:[]}]},onShowSearchResults:h,trackContentReferenceEvent:i}):a.jsx(Vs,{tldr:m,trackContentReferenceEvent:i});break;case"navigation":p=a.jsx(Ie,{navigation:m,onShowSearchResults:h,trackContentReferenceEvent:i});break;case"stock":p=a.jsx(yo,{contentReference:m,trackContentReferenceEvent:i});break;case"calculator":p=a.jsx(Na,{data:m,trackContentReferenceEvent:i});break;case"code_execution":p=a.jsx(Sa,{FormattedText:t,displayInfo:m,trackContentReferenceEvent:i});break;case"forecast":p=m?.forecast&&a.jsx(yg,{weatherResults:m.forecast,dateRange:m.date_range,turnIndex:u.turnIndex,trackContentReferenceEvent:i});break;case"businesses_map":p=a.jsx(Dg,{contentReference:m,trackContentReferenceEvent:i});break;case"video":p=a.jsx(Ko,{video:m,trackContentReferenceEvent:i});break;case"sources_footnote":p=a.jsx(ko,{sourcesFootnote:m,onShowSearchResults:h,trackContentReferenceEvent:i,isSearchGptApp:x});break;case"sports_standings":p=a.jsx(Uo,{standingsRef:m,trackContentReferenceEvent:i});break;case"sports_schedule":p=a.jsx(Ro,{scheduleRef:m,trackContentReferenceEvent:i});break;case"attribution":p=a.jsx(ya,{attribution:m});break;case"debug":p=a.jsx(a.Fragment,{children:Object.entries(m).map(([w,y])=>a.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:y},w))});break;case"image_inline":p=a.jsx(ga,{reference:m,messageId:o.message.id,clientThreadId:o.clientThreadId,trackContentReferenceEvent:i});break}return a.jsx(we,{name:"content-reference-renderer",fallback:w=>(i(N.searchContentReferenceFailed,"search_content_reference_failed",m.type),lt.addError("Error rendering content reference",w),m?.alt?a.jsx(_e,{components:{img:({src:y,alt:C})=>a.jsx("img",{src:y,alt:C,className:"max-h-28"})},children:m.alt}):a.jsx("span",{className:`errored-object-${m.type}`})),children:p})}function I(e){const{addListStyles:t,children:s,node:n,tag:o,...r}=e,c=Gs(),[i,d]=f.useState(t?{"--marker-color":"transparent"}:{});return f.useEffect(()=>{n&&d(c.createBlockstyles(c.batch)),t&&n?.tagName==="li"&&d(c.createMarkerStyles(n))},[t,n,c]),f.cloneElement(o,{...r,children:n?c.processChildren({children:s,element:n}):s,style:{...r.style,...i}})}const Mg={p:e=>a.jsx(I,{tag:a.jsx("p",{}),...e}),h1:e=>a.jsx(I,{tag:a.jsx("h1",{}),...e}),h2:e=>a.jsx(I,{tag:a.jsx("h2",{}),...e}),h3:e=>a.jsx(I,{tag:a.jsx("h3",{}),...e}),h4:e=>a.jsx(I,{tag:a.jsx("h4",{}),...e}),h5:e=>a.jsx(I,{tag:a.jsx("h5",{}),...e}),h6:e=>a.jsx(I,{tag:a.jsx("h6",{}),...e}),li:e=>a.jsx(I,{tag:a.jsx("li",{}),addListStyles:!0,...e})};function Ag(e){const{src:t,clientThreadId:s,...n}=e,o=os(s),r=f.useContext(te),c=vs(o,t,r?.useSafeUrls);return c==null?a.jsx("div",{}):a.jsx("img",{...n,src:c})}function Eg(e){return a.jsx(Tg,{...e,FormattedText:Ig})}function Ig({size:e="medium",children:t,className:s,clientThreadId:n,messageId:o,isStreamingOrProcessing:r,interpolateCitations:c=!1,componentOverrides:i}){const d=U(),h=ss(),l=Xs(),u=f.useMemo(()=>({pre:({children:p})=>a.jsx("pre",{className:"!overflow-visible",children:p}),code:p=>a.jsx(us,{...p,clientThreadId:n}),[ns]:Eg,[hs]:ms,a:p=>{const{node:w,children:y,...C}=p,_=w?.properties?.href;if(typeof _=="string"&&_.startsWith(Te))return h?a.jsx(fs,{...C}):n!=null&&o!=null?a.jsx(ps,{...C,clientThreadId:n,messageId:o,href:_,children:y}):null;if(typeof _=="string"&&_===gs){const S=w?.children?.map(g=>typeof g.value=="string"?g.value:"").join("").trim();return a.jsx(xs,{...p,text:S,clientThreadId:n,messageId:o,className:"cursor-pointer"})}return _&&typeof _=="string"&&ua(_)?y:a.jsx(ys,{...p,clientThreadId:n,messageId:o,interpolateCitations:c})},td:({children:p})=>a.jsx("td",{children:f.Children.map(p,(w,y)=>w==="<br>"?a.jsx("br",{},y):w)}),img:({node:p,...w})=>{const y=p?.properties?.src;return typeof y=="string"&&(y.startsWith(Te)||y.startsWith("attachment:"))?null:a.jsx(Ag,{...w,clientThreadId:n})},...i}),[i,n,o,c,h]),m=f.useMemo(()=>({...u,...l&&r?Mg:{}}),[u,r,l]),{value:x}=ve("1839283687");return x?!1:a.jsx(we,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:t}),children:a.jsx(Rg,{rehypePlugins:ht,remarkPlugins:$e,className:j(s,"markdown prose w-full break-words dark:prose-invert",d?"dark":"light",e==="small"&&"prose-xs"),urlTransform:mt,components:m,children:t})})}function Fg(e,t,s=void 0){return e===rs.SystemHint?a.jsx("span",{className:"hint-pill",children:t},s):null}function nx({text:e,customSymbolOffsets:t}){return a.jsx(we,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:e}),children:a.jsx(Lg,{text:e,customSymbolOffsets:t})})}const Lg=({text:e,customSymbolOffsets:t=[]})=>{const s=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let n=0;const o=e.split(s).flatMap((r,c)=>{const i=n;if(n+=r.length,r.startsWith("```")&&r.endsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3,-3).trim()})},c);if(r.startsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3).trim()})},c);if(r.startsWith("`")&&r.endsWith("`"))return a.jsx("code",{children:r.slice(1,-1)},c);if(r.startsWith("`"))return a.jsx("code",{children:r.slice(1)},c);{const d=t.map(h=>as(h)).find(h=>i<=h.startIndex&&h.endIndex<=n);if(d){const h=d.startIndex-i,l=d.endIndex-i,u=r.slice(0,h),m=r.slice(l),x=r.slice(h,l);return[u,Fg(d.symbol,x,c),m].filter(p=>!!p)}return r}});return a.jsx("div",{className:"whitespace-pre-wrap",children:o})};async function ax(e){const s=await nn().use(an).use($e).use(on).use(bs).use(da).process(e);return String(s)}const Rg=f.memo(_e);export{Ig as FormattedText,nx as UserFormattedText,ax as markdownToHtml};
//# sourceMappingURL=jtuse4p9muknklsg.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ks1up5jn8sm4lmta.js","assets/n1tvutderx19k1zs.js","assets/yc1xxb47dhqvperg.js","assets/c87uv1mutc86tiqk.js","assets/efuue3ezs0mj4ucx.js","assets/root-gmm606mb.css","assets/conversation-small-nranh1cg.css","assets/jy24clh9s5sbm6a3.js","assets/d995zjnlydagrugw.js","assets/bh0nczk7jf5nipy7.js","assets/ishe91rr928a0b40.js","assets/ka0pfyowuwrq8q81.js","assets/dnxtg4alg3s338gf.js","assets/c1vsiyure2yziq8u.js","assets/ecs2ptmt646v6gvn.js","assets/gb5z15gr4uo6e2ww.js","assets/jsdcyj9n8sisyj26.js","assets/jpczowt57zzw912l.js","assets/bzaypvhehxbw5ucz.js","assets/bc1e5dba03ekpmbp.js","assets/fudxsr1s5wqk63ki.js","assets/m3i9t52w2bjqxoks.js","assets/duvx3jmzsju7uw87.js","assets/iciw5hmv4qfc606n.js","assets/lvedelvd2wa5y0ah.js"])))=>i.map(i=>d[i]);
import{j as e,r as p}from"./n1tvutderx19k1zs.js";import{g_ as Y,g$ as Z,h0 as J,h1 as K,cF as X,h2 as ee,h3 as se,h4 as ae,h5 as E,h6 as te,h7 as re,h8 as oe,h9 as ne,ha as ie,a7 as W,hb as ce,hc as O,hd as de,bs as H,he as le,e0 as he,ge as me,P as ue,fG as pe,a5 as Ce,hf as xe,hg as Te,cW as ge,cX as ve,cZ as je,cY as Se,c_ as fe}from"./c87uv1mutc86tiqk.js";import{bs as M,bt as D,K as U,s as G,fY as ye,br as V,fc as t,d as h,ak as be,bg as Ne,J as Ie,gA as we,bD as Ee}from"./efuue3ezs0mj4ucx.js";import{P as He}from"./d995zjnlydagrugw.js";import{S as Me,u as q,E as De,C as B,b as Pe,T as _e,c as Fe}from"./ka0pfyowuwrq8q81.js";import{f as P,u as Re}from"./jy24clh9s5sbm6a3.js";import{C as ke}from"./npeqg3baimzobwf1.js";import{C as Le}from"./abqqg32xty1y9c6f.js";function Ae({clientThreadId:s,currentModelId:n,isModelLoaded:c,onRequestCompletion:d,chatgptHomepageDisclaimer:a}){return e.jsx(Me,{clientThreadId:s,currentModelId:n,isModelLoaded:c,onRequestCompletion:d,chatgptHomepageDisclaimer:a})}const Be=M(()=>D(()=>import("./ks1up5jn8sm4lmta.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function We({disableEmptyState:s,fullWidth:n,renderEmptyState:c}){const{clientThreadId:a,currentModelId:i,conversationLeafId:l,isCompanionWindow:r,isEmbeddedInFocusedView:m,onChangeItemInView:u,onChangeRating:b,onRequestCompletion:C,onRequestMoreCompletions:N,isModelLoaded:T,prefetchSearch:g}=p.useContext(P),[I,x,v]=U(a,o=>[o?.isLoading,G.getConversationTurns(o,l).length,o?.scrollToMessageId]),j={clientThreadId:a,conversationLeafId:l,currentModelId:i,onChangeItemInView:u,onChangeRating:b,onRequestMoreCompletions:N,onRequestCompletion:C,showAvatar:!1},S=Y({clientThreadId:a,handleRequestCompletion:C,prefetchSearchPromise:g}),f=I||S||s,y=ye(),{initialConversationTurns:_,continuedConversationTurns:F}=Z(x,y),{canUseNewHomepage:R,showEmptyState:z}=q(a),$=x>=2;J($);const{setTargetedContent:k}=K(),Q=X(i),L=ee(a);se(x,a),p.useEffect(()=>{m||k(void 0)},[a,k,m]);const A=ae(a,l);if(z){if(c!=null)return c();if(R&&!f){const o=r?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(E,{clientThreadId:a})});return e.jsx(Ae,{clientThreadId:a,currentModelId:i,isModelLoaded:T,onRequestCompletion:C,chatgptHomepageDisclaimer:o})}else if(!R&&!f)return e.jsx(De,{clientThreadId:a,currentModelId:i,isModelLoaded:T,onRequestCompletion:C,showChatgptHomepage:!Q,chatgptHomepageDisclaimer:e.jsx(E,{clientThreadId:a})})}return e.jsxs(e.Fragment,{children:[y&&e.jsx(te,{}),y&&F.length===0&&e.jsx(re,{}),e.jsx(V,{children:e.jsxs(p.Suspense,{fallback:null,children:[e.jsx(oe,{}),_.length>0&&e.jsx("ol",{className:t.conversationTurnList,onCopy:L,children:_.map(({turnIndex:o,isFinalTurn:w})=>e.jsx("li",{className:h(t.conversationTurnWrapper,n&&"w-full"),children:p.createElement(B,{...j,key:`${a}-${o}`,turnIndex:o,isFinalTurn:w,scrollToMessageId:v,dateHeaderType:A(o)})},o))}),y&&e.jsx(ne,{}),e.jsx("ol",{className:t.conversationTurnList,onCopy:L,children:F.map(({turnIndex:o,isFinalTurn:w})=>e.jsx("li",{className:h(t.conversationTurnWrapper,n&&"w-full"),children:p.createElement(B,{...j,key:`${a}-${o}`,turnIndex:o,isFinalTurn:w,scrollToMessageId:v,dateHeaderType:A(o)})},o))})]})}),e.jsx(Be,{}),x>0&&e.jsx(ie,{})]})}function Oe({renderEmptyState:s}){return e.jsx(We,{renderEmptyState:s})}const Ue=M(()=>D(()=>import("./ka0pfyowuwrq8q81.js").then(s=>s.d),__vite__mapDeps([11,4,1,5,3,6,8,12,7,9,10,13,14,15])).then(s=>s.ChatScreenComposerAlerts));function Ge(){const{clientThreadId:s,currentModelId:n,isCompanionWindow:c,onRequestCompletion:d}=p.useContext(P),a=W(s),[i,l]=U(s,u=>[u&&u.conversationTurns.length>1,G.hasUserMessage(u)]),r=be(s)&&!i&&ce(a),{setComposerFooterElement:m}=p.useContext(O);return e.jsx("div",{className:t.footer,children:e.jsxs(de,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent",position:"relative"},children:[e.jsxs(H,{type:"secondary",className:"absolute bottom-[var(--composer-bar-height)] w-full",children:[i&&e.jsx(le,{className:t.scrollButton}),e.jsx(Ue,{})]}),e.jsxs(H,{type:"primary",ref:m,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(Pe,{clientThreadId:s,currentModelId:n,isNewThread:r,noWrap:!0,onRequestCompletion:d,showPromptStarters:r||!l}),!c&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(E,{clientThreadId:s})})]})]})})}const Ve=M(()=>D(()=>import("./jsdcyj9n8sisyj26.js"),__vite__mapDeps([16,1,3,4,5,6,17,18,8,19,20,21,22,23,12,24,11,7,9,10,13,14,15])).then(s=>s.ConversationHeaderMenuItems));function qe(){const{clientThreadId:s,isLoggedInUser:n,onNewThread:c}=p.useContext(P),d=Ne(s),a=he(d),i=me(d),{useStore:l}=ue(),r=l(m=>m.isSidebarOpen);return e.jsxs(H,{leading:!0,type:"primary",className:t.header,name:"thread-header",children:[e.jsxs("div",{className:t.headerLeading,children:[n&&e.jsx(pe,{className:h(r&&"invisible")}),!a&&(!n||!r)&&e.jsx(ke,{onNewThread:c,className:h(n&&"hidden @lg/thread:inline-flex",r&&"invisible"),location:"thread"}),i?e.jsx("div",{className:h(t.threadDropdown),children:e.jsx(Ve,{clientThreadId:s})}):e.jsx("div",{className:h(t.threadDropdown),children:e.jsx(_e,{clientThreadId:s})})]}),e.jsx("div",{className:t.headerTrailing,children:e.jsx(V,{children:e.jsx(Fe,{clientThreadId:s})})})]})}function es({hideHeader:s=!1,hideFooter:n=!1,hideTools:c=!1,embedded:d=!1,renderEmptyState:a,ref:i}){const{data:l}=Ie(),{clientThreadId:r,currentModelId:m,isCompanionWindow:u,isInstalledApp:b,onRequestCompletion:C,routeType:N}=Re(),{canUseNewHomepage:T,showEmptyState:g}=q(r),I=Ce(l?.models,m),[x,v]=xe({name:"composer-bar",track:"height"}),j=W(r),S=Te(r,j),f=n||g&&T;return we(r),e.jsx(Ee.Provider,{value:C,children:e.jsx(ge,{children:e.jsxs(He,{clientThreadId:r,children:[e.jsx(ve,{children:S!=null&&e.jsx("title",{children:S})}),e.jsx(je,{clientThreadId:r,className:h(d&&"h-full","flex-1"),currentModelConfig:I,children:e.jsxs(O.Provider,{value:{setComposerFooterElement:v},children:[e.jsx(Se,{anchor:"vertical",className:h(t.screen,g&&T&&t.screenEmptyState,u&&t.screenCompanionWindow,b&&t.screenInstalledApp,d&&t.screenEmbedded),contentClassName:h(N==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!s&&e.jsx(qe,{}),style:x,ref:i,trackLeading:!0,trackTrailing:!0,trailing:!f&&e.jsx(Ge,{}),children:e.jsx(Oe,{renderEmptyState:a})}),!u&&!c&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{}),e.jsx(fe,{})]})]})})]})})})}export{es as C,qe as a,Oe as b};
//# sourceMappingURL=ege6d8muw87nvcfp.js.map

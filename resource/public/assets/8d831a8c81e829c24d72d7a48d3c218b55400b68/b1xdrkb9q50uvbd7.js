const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nqsv5um5nyanh6rm.js","assets/efuue3ezs0mj4ucx.js","assets/n1tvutderx19k1zs.js","assets/root-gmm606mb.css","assets/c87uv1mutc86tiqk.js","assets/conversation-small-nranh1cg.css","assets/n37k60fa89w3rc0q.js","assets/no551upyadws5ckb.js","assets/oszw1knsi7z008c4.js","assets/jqzilhinf9ixym20.js","assets/bilppjvtccdsy4m8.js","assets/oqdx4hpmwxvfh9gy.js","assets/oq09nie6yqvskddc.js","assets/jy24clh9s5sbm6a3.js","assets/d995zjnlydagrugw.js","assets/bh0nczk7jf5nipy7.js","assets/ishe91rr928a0b40.js","assets/bzaypvhehxbw5ucz.js","assets/ld597293rbpr29wj.js","assets/gpfnin52ickzsm2c.js","assets/nvkogakwzn6oww8b.js","assets/ibswgel9g2v9wlet.js","assets/npeqg3baimzobwf1.js","assets/e3w17liq9hvaddfe.js","assets/ka0pfyowuwrq8q81.js","assets/dnxtg4alg3s338gf.js","assets/c1vsiyure2yziq8u.js","assets/ecs2ptmt646v6gvn.js","assets/gb5z15gr4uo6e2ww.js","assets/ege6d8muw87nvcfp.js","assets/abqqg32xty1y9c6f.js","assets/fjvy1r20o8tp3dit.js","assets/emffboi7ohg013kr.js","assets/mo3b6rrczfqtnhlo.js"])))=>i.map(i=>d[i]);
import{fG as J,S as O,P as L,a as M,cV as Y,er as X,d$ as V,gJ as T,bs as f,bt as g,ah as $,gL as Z,de as I,t as _,av as ee,D as se,go as ae,gp as te,dM as ie,fI as re,r as oe,ae as ne,aL as de,fA as ce,ac as le}from"./efuue3ezs0mj4ucx.js";import{r as d,j as e,aw as D,e as ue,a as R,c as me,au as u,d as P,f as he,u as fe}from"./n1tvutderx19k1zs.js";import{ig as ge,ih as z,ii as xe,ij as pe,ik as S,il as m,hy as ve,cs as h,ct as N,im as je,v as be,x as we,z as Ce,io as ye,bJ as Ee,cV as Te,ip as Ie,iq as _e,eM as Pe,eN as k,ir as Se,o as Ne,e2 as ke,is as Ae,ce as Fe,dE as Oe,it as Le,d0 as Me,dd as Ve,iu as De,iv as Re,T as A,de as ze,iw as Ue,ix as Ge}from"./c87uv1mutc86tiqk.js";import{C as We}from"./bilppjvtccdsy4m8.js";import{a as U,u as G}from"./jy24clh9s5sbm6a3.js";import{C as Ke}from"./ege6d8muw87nvcfp.js";import{M as He}from"./ka0pfyowuwrq8q81.js";import{K as qe}from"./fjvy1r20o8tp3dit.js";import{u as Qe}from"./bzaypvhehxbw5ucz.js";import{C as Be}from"./emffboi7ohg013kr.js";function Je(){const a=ge(n=>n.notifications),{activeThreadIds:s}=J(),i=d.useRef(new Set);return d.useEffect(()=>{a.filter(t=>t.clientThreadId===void 0||s.has(t.clientThreadId)).map(t=>t.id).filter(t=>t!==void 0).forEach(t=>z(t)),a.forEach(t=>{t.id&&!i.current.has(t.id)&&(O.logEvent("chatgpt_notification_shown"),L.logEvent(M.notificationShown),i.current.add(t.id))})},[s,a]),a.length===0||Y?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(D,{children:a.map(n=>e.jsx(Ye,{...n},n.id))})})}function Ye({...a}){const s=ue(),i=R(),n=me(),t=X(a.clientThreadId),c=()=>{O.logEvent("chatgpt_notification_clicked"),L.logEvent(M.notificationClicked),t&&pe(s,i,t),a.id&&z(a.id)};return e.jsxs(u.div,{onClick:c,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(xe,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:a.title??n.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:a.subtitle??n.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const F=450;function Xe({children:a,clientThreadId:s,isOpen:i,onClose:n}){const t=V();return e.jsxs(D,{children:[i&&t&&e.jsx(U,{clientThreadId:s,children:e.jsx(T,{children:e.jsx(S.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(u.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:F},...m,children:e.jsx(Ke,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:a})]})]})})})}),i&&!t&&e.jsx(T,{children:e.jsx(S.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(u.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:F},...m,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(He,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const $e=f(()=>g(()=>import("./nqsv5um5nyanh6rm.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ze=f(()=>g(()=>import("./n37k60fa89w3rc0q.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32])).then(a=>a.ImageEditor));function es({clientThreadId:a}){const s=ve();d.useEffect(()=>{h.close()},[a]);let i;return s?.type===N.ADAVisualization?i=e.jsx($e,{clientThreadId:a,visualization:s.visualization}):s?.type===N.Image&&(i=e.jsx(Ze,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Xe,{clientThreadId:a,isOpen:s!=null,onClose:h.close,children:i})}function ss(){const{clientThreadId:a,resetThread:s}=G();return Qe({resetThreadAction:s,clientThreadId:a}),null}function as(){const{clientThreadId:a,isCompanionWindow:s}=G();return e.jsx(je,{conversationId:a,isActiveWindow:!s})}function ts({clientThreadId:a,urlThreadId:s}){return be({clientThreadId:a}),e.jsxs(e.Fragment,{children:[e.jsx(as,{}),e.jsx(ss,{}),e.jsx(we,{clientThreadId:a,urlThreadId:s}),e.jsx(Ce,{}),e.jsx(Be,{})]})}var is={};const rs=f(()=>g(()=>import("./mo3b6rrczfqtnhlo.js"),__vite__mapDeps([33,2,1,3,4,5,13,14,15,16,29,24,25,26,27,28,22,30]))),os="gpt-4o-mini";function vs(a){const{urlThreadId:s,clientThreadId:i,prefetchSearch:n}=a;ns();const t=$(),c=P(),[x]=he(),[o,l]=d.useState(()=>{if(s!==void 0){const r=s;return Z(r)??r}return i!==void 0?i:I()});s!==void 0&&o!==s&&(_(o)===s||l(s));const W=ye(P());d.useEffect(()=>{s===void 0&&_(o)!==void 0&&l(I())},[s,o,W]);const K=Ee(Te.workspaceId),H=V(),{value:p}=ee("1887864177"),{eligible:v,isLoading:j,markAsViewed:b}=Ie(),w=_e();d.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&Pe({namespace:k.ChatPageLoad})==null&&(Se({namespace:k.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),se.addTiming("chatgpt.web.chatPage.mounted"))},[]);const C=Ne();d.useEffect(()=>{ae(!0).then(r=>{r.force_login&&C({authType:"login"}),ke.initializeAndGatherData(r),te.initializeAndGatherData(r)})},[C]),d.useEffect(()=>{const r=x.get(Ae)==="true";t!==r&&ie.setIsTemporaryChatEnabled(r)},[t,x]),d.useEffect(()=>{c.state?.focusObject&&h.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),d.useEffect(()=>{!j&&v&&(b(),w())},[v,j,b,w]);const{isOpen:q,isLoading:Q}=Fe(),B=H?ts:We,y=R();return d.useEffect(()=>re(de,{completionFinished:r=>{if(r.serverThreadId!=null){if(!t){const E=oe(r.serverThreadId)?.mode;E?.kind===ne.GizmoInteraction&&Oe.handleGizmoInteracted(y,E.gizmo_id)}p&&Le(r.serverThreadId,r.messageId,os)}}}),[t,y,p]),e.jsx(ce.Provider,{value:null,children:e.jsx(Me,{children:e.jsxs(Ve,{clientThreadId:o,children:[e.jsx(De,{clientThreadId:o},K),!Q&&q&&e.jsx(rs,{clientThreadId:o,setClientThreadId:l}),e.jsx(qe,{}),e.jsx(Re,{}),e.jsx(U,{clientThreadId:o,setClientThreadId:l,prefetchSearch:n,children:e.jsx(A,{clientThreadId:o,children:e.jsx(B,{urlThreadId:s,clientThreadId:o,setClientThreadId:l,prefetchSearch:n})})}),e.jsx(A,{clientThreadId:o,children:e.jsx(es,{clientThreadId:o})}),e.jsx(ze,{clientThreadId:o}),e.jsx(Ue,{}),e.jsx(Je,{}),e.jsx(Ge,{}),null]})})})}function ns(){fe({queryKey:["pingEdge"],queryFn:()=>le.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=is.GOKU_SERVICE);export{vs as C,F};
//# sourceMappingURL=b1xdrkb9q50uvbd7.js.map

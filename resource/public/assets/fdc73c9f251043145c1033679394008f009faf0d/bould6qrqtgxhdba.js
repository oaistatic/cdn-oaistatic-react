const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mycou8b78k3pt0dm.js","assets/or7jf62i5kvok6pm.js","assets/juy90og0wtbp77qa.js","assets/root-ms9lll5g.css","assets/kax7wcp9i7f7jtvz.js","assets/conversation-small-j9iamy23.css","assets/j3ptsph527b7fin3.js","assets/o1xmyqoqptv3197c.js","assets/ocpfit0g1gfti5z4.js","assets/mj9z9iuqobsziv2h.js","assets/dn063lnxb0kec6my.js","assets/g0j29k77kzjbz76f.js","assets/g1mzshmp15rgsy0r.js","assets/kwrsfo4prmlqgo0w.js","assets/6l5wykugon65myc6.js","assets/fgnsrp7wj3i83g7e.js","assets/klzyif2r6c67lyfu.js","assets/osl7p7pfd29pg5qh.js","assets/khey9wv8trxtr5w5.js","assets/beq9ghaom4x8xa0j.js","assets/on0kcnmks7o53xta.js","assets/ndqdq30cq8lae3qb.js","assets/mevzpwnt01gt592f.js","assets/lc0ql189cwpzn88w.js","assets/fzjh1zjd0g21dis4.js","assets/cthaea829w6zpbcu.js","assets/m2ly71nz794qjc4q.js","assets/pc2givv05uuq8g6l.js","assets/hdclltxvbgzx8xl8.js","assets/bp3e26benx61nzb4.js","assets/b6vbevykvjt8za99.js","assets/l0ojckr7ctyz3k3l.js","assets/hnh46qey6g5q3a5a.js","assets/nyp3d57wjtx31u6o.js","assets/mdjfgzvaqpwgw5u5.js","assets/lni3pqnz6q5sgeex.js","assets/cglroz4sel446i9g.js","assets/ghzyx04jxko7zqcu.js","assets/mcqk0bb8u64ru8rz.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{au as Me,iR as Ve,as as Pe,at as Te,e as Ne,aY as Re,l4 as ze,aS as ke,l5 as Le,e8 as Ie,cV as Se,ae as De,al as Ge,ej as Ke,b3 as Ue,$ as Be,bT as We,k0 as He,R as Qe}from"./or7jf62i5kvok6pm.js";import{j as s,r as o,A as Ye,m as ye,c as qe,n as Oe,p as $e,u as Xe}from"./juy90og0wtbp77qa.js";import{i4 as Je,i5 as Ze,hP as Ae,hK as et,bw as we,bx as Fe,c_ as tt,i6 as st,V as it,X as at,i7 as ot,i8 as rt,i9 as nt,ia as lt,ib as ct,ic as dt,ag as ft,id as ut,ie as mt,ig as ht,dK as gt,ih as pt,ii as xt,ep as bt,K as vt,ij as jt,ik as Ct,il as _t,im as Et,io as wt,ip as Pt,iq as Tt,T as kt,ir as It}from"./kax7wcp9i7f7jtvz.js";import{b as St,u as yt}from"./ocpfit0g1gfti5z4.js";import{B as Ot}from"./dn063lnxb0kec6my.js";import{u as At,a as Ft}from"./beq9ghaom4x8xa0j.js";import{P as Mt}from"./lc0ql189cwpzn88w.js";import{C as Vt}from"./hnh46qey6g5q3a5a.js";import{a as Nt,C as Rt}from"./g1mzshmp15rgsy0r.js";import{M as zt}from"./mdjfgzvaqpwgw5u5.js";function Lt({clientThreadId:a}){const e=At();return s.jsxs(s.Fragment,{children:[e&&s.jsx(Ft,{}),s.jsx(Dt,{clientThreadId:a})]})}function Dt({clientThreadId:a}){const e=o.useContext(Je),[i,n]=o.useState(!!e?.postWithProfile&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(d=>d.kind==="media_generation"));return!e?.postWithProfile||!i?null:s.jsx(Me,{clientThreadId:a,children:s.jsx(Mt,{clientThreadId:a,postWithProfile:e.postWithProfile,onClose:()=>n(!1)})})}const Gt=450;function Kt({children:a,clientThreadId:e,isOpen:i,onClose:n,type:d}){return s.jsx(Ye,{children:i&&s.jsx(Ve,{children:s.jsx(Ze.Provider,{value:{isEmbeddedInFocusedView:!0,type:d},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(ye.div,{className:"bg-token-main-surface-secondary h-full w-full",...Ae}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"grow overflow-auto",children:a}),s.jsx(ye.div,{className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:Gt},...Ae,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(zt,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})})]})]})})})})}const Ut=Pe(()=>Te(()=>import("./mycou8b78k3pt0dm.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Bt=Pe(()=>Te(()=>import("./o1xmyqoqptv3197c.js"),__vite__mapDeps([7,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37])).then(a=>a.ImageEditor));function Wt({clientThreadId:a}){const e=et();o.useEffect(()=>{we.close()},[a]);let i;return e?.type===Fe.ADAVisualization?i=s.jsx(Ut,{clientThreadId:a,visualization:e.visualization}):e?.type===Fe.Image&&(i=s.jsx(Bt,{clientThreadId:a,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),s.jsx(Kt,{clientThreadId:a,isOpen:e!=null,onClose:we.close,type:e?.type,children:i})}var Ht={};const Qt=({children:a})=>s.jsx(s.Fragment,{children:a}),Yt=Pe(()=>Te(()=>import("./mcqk0bb8u64ru8rz.js"),__vite__mapDeps([38,2,1,3,4,5,12,9,8,34,20,11,13,14,15,16,17,18,21,23,24,25,26,27,28,29,30,31,35,19,22,39])));function ns(a){"use forget";const e=qe.c(105),{urlThreadId:i,clientThreadId:n,prefetchSearch:d}=a,f=Ne(),l=Re(),y=ze(),T=Oe(),[k]=$e();let O;e[0]!==n||e[1]!==i?(O=()=>{if(i!==void 0){const r=i;return Le(r)??r}return n!==void 0?n:Ie()},e[0]=n,e[1]=i,e[2]=O):O=e[2];const[t,I]=o.useState(O);i!==void 0&&t!==i&&(ke(t)===i||I(i));let A;e[3]!==t||e[4]!==f?(A=tt(f,t),e[3]=t,e[4]=f,e[5]=A):A=e[5];const ve=A,je=Oe();let F;e[6]!==je?(F=st(je),e[6]=je,e[7]=F):F=e[7];const Ce=F;let M;e[8]!==t||e[9]!==i?(M=()=>{i===void 0&&ke(t)!==void 0&&I(Ie())},e[8]=t,e[9]=i,e[10]=M):M=e[10];let V;e[11]!==t||e[12]!==Ce||e[13]!==i?(V=[i,t,Ce],e[11]=t,e[12]=Ce,e[13]=i,e[14]=V):V=e[14],o.useEffect(M,V);const _e=it(at.workspaceId),{eligible:N,isLoading:R,markAsViewed:z}=ot(),L=rt(),{eligible:D,isLoading:G,markAsViewed:K}=nt(),U=lt(),{eligible:B,isLoading:W,markAsViewed:H}=ct(),Q=dt(),Y=ft();let q,$;e[15]!==Y?(q=()=>{mt(!0).then(r=>{r.force_login&&Y({authType:"login"}),ht.initializeAndGatherData(r),gt.initializeAndGatherData(r)})},$=[Y],e[15]=Y,e[16]=q,e[17]=$):(q=e[16],$=e[17]),o.useEffect(q,$);let X,J;e[18]!==y||e[19]!==l||e[20]!==k?(X=()=>{const r=k.get(pt)==="true",S=k.get(xt)==="true";S!==y&&Se.setIsAnonModeEnabled(S),l!==r&&Se.setIsTemporaryChatEnabled(r)},J=[l,y,k],e[18]=y,e[19]=l,e[20]=k,e[21]=X,e[22]=J):(X=e[21],J=e[22]),o.useEffect(X,J);let Z;e[23]!==T.state?(Z=()=>{T.state?.focusObject&&we.setFocusedObject(T.state.focusObject)},e[23]=T.state,e[24]=Z):Z=e[24];const Ee=T.state?.focusObject;let ee;e[25]!==Ee?(ee=[Ee],e[25]=Ee,e[26]=ee):ee=e[26],o.useEffect(Z,ee);let te,se;e[27]!==N||e[28]!==R||e[29]!==z||e[30]!==L?(te=()=>{!R&&N&&(z(),L())},se=[N,R,z,L],e[27]=N,e[28]=R,e[29]=z,e[30]=L,e[31]=te,e[32]=se):(te=e[31],se=e[32]),o.useEffect(te,se);let ie,ae;e[33]!==D||e[34]!==G||e[35]!==K||e[36]!==U?(ie=()=>{!G&&D&&(K(),U())},ae=[D,G,K,U],e[33]=D,e[34]=G,e[35]=K,e[36]=U,e[37]=ie,e[38]=ae):(ie=e[37],ae=e[38]),o.useEffect(ie,ae);let oe,re;e[39]!==B||e[40]!==W||e[41]!==H||e[42]!==Q?(oe=()=>{!W&&B&&(H(),Q())},re=[B,W,H,Q],e[39]=B,e[40]=W,e[41]=H,e[42]=Q,e[43]=oe,e[44]=re):(oe=e[43],re=e[44]),o.useEffect(oe,re),St(t);const c=Xe();let ne,le;e[45]!==f||e[46]!==c?(ne=()=>{De(f)&&Ge.checkGate("1661641186")&&c.fetchQuery({queryKey:["recent","images","bootstrap"],queryFn:qt})},le=[c,f],e[45]=f,e[46]=c,e[47]=ne,e[48]=le):(ne=e[47],le=e[48]),o.useEffect(ne,le);let ce,de;e[49]!==l||e[50]!==c?(ce=()=>Ke(We,{completionFinished:r=>{if(r.serverThreadId!=null&&!l){const S=Ue(r.serverThreadId)?.mode;S?.kind===Be.GizmoInteraction&&bt.handleGizmoInteracted(c,S.gizmo_id)}}}),de=[l,c],e[49]=l,e[50]=c,e[51]=ce,e[52]=de):(ce=e[51],de=e[52]),o.useEffect(ce,de);let u;e[53]!==t||e[54]!==_e?(u=s.jsx(Ot,{clientThreadId:t,page:"chat"},_e),e[53]=t,e[54]=_e,e[55]=u):u=e[55];let m;e[56]!==t?(m=s.jsx($t,{clientThreadId:t,setClientThreadId:I}),e[56]=t,e[57]=m):m=e[57];let fe,ue,me;e[58]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(vt,{}),ue=s.jsx(jt,{}),me=s.jsx(Ct,{}),e[58]=fe,e[59]=ue,e[60]=me):(fe=e[58],ue=e[59],me=e[60]);let he;e[61]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(_t,{}),e[61]=he):he=e[61];let h;e[62]!==t||e[63]!==i?(h=s.jsx(Vt,{urlThreadId:i,clientThreadId:t,setClientThreadId:I}),e[62]=t,e[63]=i,e[64]=h):h=e[64];let g;e[65]!==t?(g=s.jsx(Lt,{clientThreadId:t}),e[65]=t,e[66]=g):g=e[66];let p;e[67]!==t||e[68]!==d||e[69]!==h||e[70]!==g?(p=s.jsxs(Nt,{clientThreadId:t,setClientThreadId:I,prefetchSearchPromises:d,children:[he,h,g]}),e[67]=t,e[68]=d,e[69]=h,e[70]=g,e[71]=p):p=e[71];let x;e[72]!==t||e[73]!==u||e[74]!==m||e[75]!==p?(x=s.jsxs(Rt,{clientThreadId:t,children:[u,m,fe,ue,me,p]}),e[72]=t,e[73]=u,e[74]=m,e[75]=p,e[76]=x):x=e[76];let b,v;e[77]!==t?(b=s.jsx(Wt,{clientThreadId:t}),v=s.jsx(Et,{clientThreadId:t}),e[77]=t,e[78]=b,e[79]=v):(b=e[78],v=e[79]);let ge;e[80]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx(wt,{}),e[80]=ge):ge=e[80];let j;e[81]!==t?(j=s.jsx(Pt,{clientThreadId:t}),e[81]=t,e[82]=j):j=e[82];let pe;e[83]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(Tt,{}),e[83]=pe):pe=e[83];let C;e[84]!==t||e[85]!==x||e[86]!==b||e[87]!==v||e[88]!==j?(C=s.jsxs(Me,{clientThreadId:t,children:[x,b,v,ge,j,pe]}),e[84]=t,e[85]=x,e[86]=b,e[87]=v,e[88]=j,e[89]=C):C=e[89];let _;e[90]!==t||e[91]!==C?(_=s.jsx(kt,{clientThreadId:t,children:C}),e[90]=t,e[91]=C,e[92]=_):_=e[92];let E;e[93]!==t||e[94]!==_?(E=s.jsx(Qt,{clientThreadId:t,children:_}),e[93]=t,e[94]=_,e[95]=E):E=e[95];let w;e[96]!==t||e[97]!==E?(w=s.jsx(It,{clientThreadId:t,children:E}),e[96]=t,e[97]=E,e[98]=w):w=e[98];let xe;e[99]===Symbol.for("react.memo_cache_sentinel")?(xe=!1,e[99]=xe):xe=e[99];let P;e[100]!==w?(P=s.jsxs(He,{children:[w,xe]}),e[100]=w,e[101]=P):P=e[101];let be;return e[102]!==ve||e[103]!==P?(be=s.jsx(ut.Provider,{value:ve,children:P}),e[102]=ve,e[103]=P,e[104]=be):be=e[104],be}function qt(){return Qe.safeGet("/images/bootstrap",{})}function $t({clientThreadId:a,setClientThreadId:e}){const{isOpen:i,isLoading:n}=yt();return!n&&i?s.jsx(Yt,{clientThreadId:a,setClientThreadId:e}):null}typeof window<"u"&&(window._g=Ht.GOKU_SERVICE);export{ns as C,Gt as F};
//# sourceMappingURL=bould6qrqtgxhdba.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mhtae8idjad80amp.js","assets/juy90og0wtbp77qa.js","assets/or7jf62i5kvok6pm.js","assets/root-ms9lll5g.css","assets/jx8giwoqlkjchg55.js","assets/kax7wcp9i7f7jtvz.js","assets/conversation-small-j9iamy23.css","assets/d3y72ugnrmac5z1v.js","assets/fpg3gi3miii1o6uj.js","assets/btuhiaqb7mfnv8py.js","assets/nc631yunytu8n0fx.js"])))=>i.map(i=>d[i]);
import{e as g,ag as w,dW as P,f as _,C as R,B as H,R as G,iN as K,aF as o,b0 as A,as as Q,at as q,eI as E,ae as I,hH as J,P as m,br as W,a7 as V,cr as y,dz as Y,f5 as X,g4 as Z,cf as b,cW as T,dF as $,el as ee,fP as F,e4 as te,a8 as se}from"./or7jf62i5kvok6pm.js";import{r as C,h as k,j as e,M as l,n as ne,e as N}from"./juy90og0wtbp77qa.js";import{fx as U,fy as ae,fz as B,fA as oe,fB as D,fC as ie,fD as re,fE as L,fF as ce,fG as v,U as j,ae as S,fH as le,fI as ue,e as de,fJ as ge,M as pe,fp as fe,fK as me,e3 as he,ec as xe,fL as be,fM as Me,fN as ke,fO as ve,fP as je,G as Se,fQ as _e}from"./kax7wcp9i7f7jtvz.js";import{b as Ie}from"./g1mzshmp15rgsy0r.js";function ye({onClose:t,entryPointElementId:n}){const s=g(),[a,i]=C.useState(!1),[u,d]=C.useState(""),r=w(),c=k(),{clientThreadId:h}=Ie(),M=P(h);if(!_(s,"3065996772"))return null;const x=async()=>{const f=u.trim();if(!f){r.danger(c.formatMessage({id:"feedback.emptyError",defaultMessage:"Please enter your feedback"}),{toastId:"feedback_empty_error"});return}i(!0);try{await G.safePost("/user_feedback/submit_feedback",{requestBody:{user_feedback_description:f,conversation_id:M??null,user_agent:K(),language:navigator.language,network_info:{downlink:null,downlink_max:null,effective_type:null,rtt:null,save_data:navigator.connection?.saveData??null,connection_type:null},viewport_size:{width:window.innerWidth,height:window.innerHeight},screenshot:null,entry_point_element_id:n}}),r.success(c.formatMessage({id:"feedback.success",defaultMessage:"Thank you for your feedback!"})),t()}catch{r.danger(c.formatMessage({id:"feedback.error",defaultMessage:"Failed to submit feedback. Please try again."}),{toastId:"feedback_submit_error",loggingTitle:"Failed to submit feedback",loggingDescription:"User feedback submission failed"})}finally{i(!1)}},z=f=>{f.key==="Enter"&&(f.metaKey||f.ctrlKey)&&(f.preventDefault(),x())};return e.jsx(R,{testId:"modal-report-bug",isOpen:!0,onClose:()=>!a&&t(),shouldIgnoreClickOutside:a,size:"normal",type:"success",title:c.formatMessage({id:"feedback.modalTitle",defaultMessage:"What happened?"}),showCloseButton:!a,primaryButton:e.jsx(H,{color:"primary",fullWidth:!0,onClick:x,disabled:a,loading:a,children:e.jsx(l,{id:"feedback.send",defaultMessage:"Send"})}),children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{children:e.jsx("div",{className:"relative",children:e.jsx("textarea",{id:"feedback-textarea",value:u,onChange:f=>d(f.target.value),className:"border-token-border-default bg-token-bg-primary text-token-text-primary placeholder:text-token-text-tertiary w-full rounded-lg border p-3 pe-10 text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none",placeholder:c.formatMessage({id:"feedback.placeholder",defaultMessage:"Describe the issue"}),rows:6,disabled:a,onKeyDown:z})})})})})}function Ce(){const t=g();if(!_(t,"3065996772"))return null;const s="report-bug-menu-item";return e.jsx(o.Item,{id:s,icon:U,onClick:()=>A(t,ye,{entryPointElementId:s}),children:e.jsx(l,{id:"feedback.reportBug",defaultMessage:"Report Bug"})})}const Ve=({clientThreadId:t})=>{const n=k(),s=g(),a=E(s,"786015841").get("enabled",!1);return I(s)&&a?null:e.jsx(J,{contentAlign:"end",sideOffset:4,triggerButton:e.jsx("button",{onClick:()=>{m.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:"header"})},"aria-label":n.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),"data-testid":"profile-button",className:"group user-select-none ps-2 focus-visible:outline-0",children:e.jsx("div",{className:"group-hover:bg-token-interactive-bg-secondary-selected touch:h-10 touch:w-10 flex h-9 w-9 items-center justify-center rounded-full group-focus-visible:ring-2",children:e.jsx(Pe,{})})}),children:e.jsx(O,{clientThreadId:t})})};function Ye(){const t=v();return e.jsxs(o.Root,{onOpenChange:n=>{n&&m.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:t})},children:[e.jsx(we,{isTinyBar:t==="tiny_bar"}),e.jsx(o.Portal,{children:e.jsx(o.Content,{side:"top",size:"auto",className:"min-w-[calc(var(--sidebar-width)-12px)]",children:e.jsx(O,{})})})]})}function we({isTinyBar:t}){const n=g(),s=E(n,"786015841").get("enabled",!1),{data:a}=y(),i=se(a),u=ke(),d=ve(),r=k();if(!s&&(!i||!a))return null;const c=i!=null&&i.isWorkspaceAccount(),h=a!=null&&a.accountItems.length>1,M=_(n,"1719651090");let p;c||h?p=u:i?.isFree()?p=r.formatMessage(je().name):i?.isPlus()?p=r.formatMessage(Se().name):i?.isPro()&&(p=r.formatMessage(_e({isOperatorEnabled:M}).name));const x=r.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"});return e.jsx(o.BasicTrigger,{asChild:!0,children:e.jsx(T,{as:"div",fillContainer:!0,"data-testid":"accounts-profile-button","aria-label":x,size:"large",icon:e.jsx(D,{}),iconOnly:t,iconAriaLabel:x,label:d,role:"button",secondary:p&&e.jsx("div",{className:"truncate",dir:"auto",children:p})})})}const O=({clientThreadId:t})=>{const n=g(),s=I(n),a=W(),i=ae(n);return e.jsxs("div",{className:"flex flex-col",children:[s?e.jsx(Ae,{}):e.jsx(ze,{}),e.jsx(Ue,{}),e.jsx(o.Separator,{}),!s&&e.jsx(He,{clientThreadId:t}),s?e.jsx(Fe,{}):e.jsx(B,{}),s&&!a&&e.jsx(De,{}),(i||!1)&&e.jsx(o.Separator,{}),i&&e.jsx(oe,{}),!1]})},Pe=()=>{const t=g();return I(t)?e.jsx(D,{showPlanTypeBadge:!0}):e.jsx(ie,{className:"icon-lg"})},Ae=()=>{const t=g(),n=V(),{data:s}=y(),a=s&&s.accountItems.length>1,i=W(),u=a&&!i,d=n?.isWorkspaceAccount()&&!i,r=Y(t),c=ne(),h=c.pathname+c.search+(c.search?"&":"?")+"refresh_account=true";return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{currentAccount:n}),u&&e.jsxs(e.Fragment,{children:[e.jsx(re,{accountSwitcherRedirectUrl:h}),e.jsx(o.Separator,{})]}),e.jsx(Oe,{currentAccount:n}),e.jsx(Re,{currentAccount:n}),d&&e.jsx(We,{currentAccount:n}),!r&&e.jsxs(e.Fragment,{children:[!1,!1,e.jsx(Ne,{})]})]})},Ee=({currentAccount:t})=>{const n=k(),s=de(),a=N(),i=w();if(!s)return null;const u=t&&t.isWorkspaceAccount()&&!t.isEnterprisey(),d=n.formatMessage({id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Team workspace"});return e.jsx(T,{as:"div",onClick:async r=>{await fe(s.id,i,r),i.success("Copied your User ID to clipboard")},icon:ge,className:"text-token-text-tertiary bg-transparent!",trailing:u&&e.jsx($,{label:d,className:"leading-0",side:"right",children:e.jsx(ee,{onClick:()=>{F(a,"profile menu")},"aria-label":d,children:e.jsx(pe,{className:"icon-sm"})})}),label:s.email??s.name})},We=({currentAccount:t})=>{const n=t?.isEdu()&&t?.isStandardUserOfAccount(),s=v();return n?null:e.jsx(o.LinkItem,{to:"/admin",icon:he,onClick:()=>{m.logEventWithStatsig("Account: Open Workspace Settings","chatgpt_account_open_workspace_settings",{location:s})},children:e.jsx(l,{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Workspace settings"})})},Te=()=>e.jsx(o.LinkItem,{icon:be,external:!0,to:"https://openai.com/chatgpt/download",children:e.jsx(l,{id:"mDFGM/",defaultMessage:"Download apps"})}),Fe=()=>e.jsxs(o.Sub,{children:[e.jsx(o.SubMenuTrigger,{icon:le,children:e.jsx(l,{defaultMessage:"Help",id:"navigation.helpMenu"})}),e.jsx(o.Portal,{children:e.jsxs(o.SubContent,{children:[e.jsx(B,{}),e.jsx(Ce,{}),e.jsx(Te,{}),e.jsx(Be,{})]})})]}),Ne=()=>{const t=v();return e.jsx(o.Item,{onClick:()=>{j.openModal(S.UserContext),m.logEventWithStatsig("Account: Click Customize ChatGPT","chatgpt_account_open_customize_chatgpt",{location:t})},icon:xe,children:e.jsx(l,{id:"popoverNavigation.chatPreferences.1",defaultMessage:"Customize ChatGPT"})})},Ue=()=>{const{openSettings:t}=ce(),n=v();return e.jsx(o.Item,{icon:X,onClick:()=>{m.logEventWithStatsig("Account: Click Settings","chatgpt_account_open_settings",{location:n}),t()},"data-testid":"settings-menu-item",children:e.jsx(l,{defaultMessage:"Settings",id:"navigation.settings.0"})})},Be=()=>e.jsx(o.Item,{className:"touch:hidden",icon:Me,onClick:()=>{j.openModal(S.KeyboardActions)},children:e.jsx(l,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),De=()=>e.jsx(o.Item,{onSelect:()=>{m.logEvent("Account: Click Log Out",{eventSource:"mouse"}),m.logLogOutButtonClicked({location:"profile_drop_down"}),j.openModal(S.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:ue,children:e.jsx(l,{defaultMessage:"Log out",id:"navigation.logOut.0"})}),Le=Q(()=>q(()=>import("./mhtae8idjad80amp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Oe=({currentAccount:t})=>{const n=g();return t?.isTeam()?e.jsx(o.Item,{"data-testid":"settings-menu-item-invite-teammates",onSelect:()=>{m.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"profile_drop_down"}),b(n).logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"}),A(n,({onClose:s})=>e.jsx(Le,{workspace:t,onClose:s}))},icon:me,children:e.jsx(l,{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add teammates"})}):null},ze=()=>e.jsx(o.LinkItem,{icon:L,external:!0,to:"https://openai.com/chatgpt/pricing/",children:e.jsx(l,{id:"J1y7uV",defaultMessage:"See plans and pricing"})}),Re=({currentAccount:t})=>{const n=N(),s=g(),{data:a}=y(),i=t?.isWorkspaceAccount()??!1,u=t?.isPlus(),d=t?.isPro(),r=t?.data.subscriptionStatus.planType,c=a&&te(a),h=!i&&!u&&c&&b(s).getLayer("2670443078").get("is_gating_fix_enabled",!1);if(!(!i&&!h&&!d&&b(s).getLayer("2888142241").get("is_upgrade_in_settings",!1)))return null;const p=()=>{b(s).logEvent("chatgpt_upgrade_in_settings_menu_clicked",void 0,{current_plan_type:r??"unknown"}),m.logEvent("Upgrade In Settings Menu Clicked",{planType:r??"unknown"}),F(n,"Upper right settings menu")};return e.jsx(o.Item,{icon:L,onSelect:p,children:e.jsx(l,{id:"navigation.upgradePlan",defaultMessage:"Upgrade plan"})})},He=({clientThreadId:t})=>{const n=g(),s=P(t),a=Z();return b(n).checkGate("3376455464")&&(s||a)?e.jsx(o.Item,{icon:U,onClick:()=>{j.openModal(S.ReportConversation)},children:e.jsx(l,{id:"profileMenu.reportConversation",defaultMessage:"Report conversation"})}):null};export{Ve as P,Ye as S};
//# sourceMappingURL=mevzpwnt01gt592f.js.map

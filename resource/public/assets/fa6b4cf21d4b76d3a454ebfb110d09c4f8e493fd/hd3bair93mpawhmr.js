import{fE as g,P as l,dU as d,af as f,aH as P,m as y,d7 as x}from"./jfjoua4700kji9z3.js";import{D as w,j as i,r as c}from"./ls1hkjm4csy89kc5.js";import{m as s}from"./foftlufav6ncxtja.js";import{R as _}from"./jl53i4v1h82l6528.js";import{C as m}from"./y3btu25tgs4khvwj.js";import{P as C,a as T}from"./exdc9xpq8ubwzri2.js";import"./gws83r0h557ixj4e.js";import"./lqfx7r9jl2q1tbdy.js";import"./hj6jep7mk4776vwc.js";import"./r19pqfj3as87cukj.js";import"./oe4qwwp6lvtt8c1x.js";import"./f35srtyza27o1d4v.js";import"./jl416oerpm5p44nd.js";import"./c166njesc8ruqs2t.js";import"./b8nw7o07u9fxmapm.js";import"./ltik0hzezyevzkdj.js";import"./c5hp2e6cf62lum4k.js";import"./ht69l5cqsqb2usac.js";import"./frnfux3hbefwtfkz.js";import"./nn74387gyac7v6x1.js";import"./g3dajzb0qfwp9r26.js";import"./l54ge405za799dc0.js";import"./mbpp0embmbt5iptr.js";import"./nh14du86kynnf5fc.js";import"./dt7ksh4fvumz5f8p.js";import"./e65eph5k56t09h70.js";import"./enfrb2yfoh52zdmb.js";import"./kxop6zvaqduak0b6.js";import"./f06euqb6n9n90ph6.js";const it=g(function(){const r=w();return r.kind==="forbidden"?i.jsx(j,{chatPageProps:r.chatPageProps,reason:"workspace"}):i.jsx(b,{loaderData:r})});function b({loaderData:t}){c.useEffect(()=>{l.logEvent("Share Post: Shared Post Page Viewed",{post_id:t.postWithProfile.post.id,primary_attachment_type:t.postWithProfile.post.attachments?.[0]?.kind,referrer:t.referrer})},[t]);const r=c.useMemo(()=>{const e=d();return f.initThread(e,{kind:P.PrimaryAssistant}),e},[]);return t.postWithProfile.post.attachments?.[0]?.kind==="deep_research"&&t.postWithProfile.post.attachments[0].tags?.includes("deep_research")?i.jsx(_,{postWithProfile:t.postWithProfile,threadId:r}):i.jsx(W,{postWithProfile:t.postWithProfile,chatPageProps:t.chatPageProps})}function S(t,r){if(!t.attachments||t.attachments.length===0)return{url:s.src};const e=t.attachments[0];switch(e.kind){case"media_generation":{const o=e.encodings?.thumbnail?.path?{url:e.encodings.thumbnail.path}:void 0,n=e.encodings?.unfurl?.path?{url:e.encodings.unfurl.path,size:[1200,630]}:void 0,a={url:e.url,size:[e.width,e.height]};return r?o??n??a:n??o??a}default:return{url:s.src}}}function v(t){const r=t.text?.trim();if(r)return r;const e=t.attachments?.[0];return e?.kind==="media_generation"&&e.title?.trim()?e.title.trim():"Shared Content"}const at=({data:t})=>{const r=t,e={name:"robots",content:"noindex,nofollow"};if(!r||r.kind==="forbidden"){const p="Privately Shared Content";return[{title:`ChatGPT - ${p}`},e,{property:"og:site_name",content:"ChatGPT"},{property:"og:title",content:p},{property:"og:type",content:"website"},{property:"og:image",content:s.src},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:s.src},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:p}]}const{post:o}=r.postWithProfile,n=S(o,r.preferThumbnailUnfurl),a=v(o),h=o.permalink,u=new Date(o.posted_at*1e3).toISOString();return[{title:`ChatGPT - ${a}`},e,{property:"og:site_name",content:"ChatGPT"},{property:"og:type",content:"article"},{property:"og:url",content:h},{property:"og:title",content:a},{property:"og:locale",content:"en_US"},{property:"og:image",content:n.url},{property:"og:image:secure_url",content:n.url},...n.size?[{property:"og:image:width",content:n.size[0]},{property:"og:image:height",content:n.size[1]}]:[],{property:"og:image:alt",content:"Preview of shared ChatGPT content"},{property:"article:published_time",content:u},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:a},{name:"twitter:image",content:n.url},{name:"twitter:image:alt",content:"Preview of shared ChatGPT content"}]};function j({chatPageProps:t,reason:r}){const e=y();return c.useEffect(()=>{x(e,({closeModal:o})=>i.jsx(T,{closeModal:o,reason:r}))},[]),i.jsx(m,{...t})}function W({postWithProfile:t,chatPageProps:r}){return i.jsx(C.Provider,{value:{postWithProfile:t},children:i.jsx(m,{...r})})}export{it as default,at as meta};
//# sourceMappingURL=hd3bair93mpawhmr.js.map

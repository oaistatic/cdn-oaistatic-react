const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/faqokuhhj4q8b1kl.js","assets/ls1hkjm4csy89kc5.js","assets/hj6jep7mk4776vwc.js","assets/jfjoua4700kji9z3.js","assets/root-g83krhyb.css","assets/conversation-small-hvit8l60.css","assets/nh14du86kynnf5fc.js","assets/oe4qwwp6lvtt8c1x.js","assets/i4t7zjo3nr4ov5om.js","assets/m3f31zjufq98h3xn.js","assets/epe2ts57f6uih0zz.js","assets/BusinessesMap-alw4dhxd.css"])))=>i.map(i=>d[i]);
import{j as r,r as p,e as T,M as N,R as Ze,w as sn,u as as,b as nn,d as ye,g as os,p as je,n as is,a9 as ut,a8 as ht}from"./ls1hkjm4csy89kc5.js";import{wZ as rn,w_ as $e,w$ as an,aK as U,ac as Ve,gc as re,gv as on,mC as cn,ce as ln,x0 as dn,cb as ae,cu as Ne,ct as un,x1 as hn,iS as fn,x2 as mn,aQ as pn,gp as gn,rF as xn,aO as yn,jm as cs,ht as bn,hs as wn,mZ as vn,hJ as _n,eN as jn,x3 as $n,x4 as Cb,x5 as Sb,x6 as Tb,M as ls,L as q,x7 as Mb,x8 as Pb,x9 as ft,wO as Nn,xa as X,wN as kn,xb as Cn,xc as Sn,c1 as be,xd as Tn,xe as Mn,xf as Pn,db as Dn,h1 as En,gz as ds,gA as us,af as Ke,R as ke,xg as An,ir as mt,am as Ln,f3 as In,f2 as Fn,h4 as A,xh as Rn,ge as On,qN as Hn,cD as zn,jn as Un,xi as Bn,E as Wn,eZ as Yn,xj as qn}from"./hj6jep7mk4776vwc.js";import{a as j,P as I,cW as Gn,cH as K,dF as ee,D as Xe,m as hs,I as Je,dc as Zn,d7 as Vn,as as Kn,at as Xn,cI as Jn,aH as Qn,aG as Qe,R as er,aP as tr,cq as fs,aj as we,F as ue,ak as sr,h_ as ms,dE as nr,bF as rr,ej as ar,cm as or,bL as ve,cr as oe,o as ir,V as cr,cX as lr,ae as dr,d3 as ur,h0 as ps,b_ as hr,d6 as fr,di as mr,h6 as pr,bX as gs,ea as gr,cF as xr,co as yr,cp as br,b$ as xs,e4 as wr,dQ as vr}from"./jfjoua4700kji9z3.js";import{b as ys,u as bs}from"./epe2ts57f6uih0zz.js";import{s as Z,g as pt,r as _r,b as jr,c as $r,d as Nr,e as kr,C as Cr,i as Sr}from"./jhwen9m0dt0iy2gd.js";import{u as Tr,b as Mr}from"./m3f31zjufq98h3xn.js";import{g as Pr,t as Dr,b as Re,I as Er,d as Ar}from"./ghefszvvbc0hzvcq.js";import{r as ws,a as Lr,b as Ir,d as Fr}from"./m9dr8qz6tq7kspod.js";import{S as Rr}from"./jl53i4v1h82l6528.js";import{a as Or,b as Hr}from"./dt7ksh4fvumz5f8p.js";import{w as et,s as tt,f as vs,a as zr,h as _s,p as gt,n as xt,d as Ur,M as st,r as Br}from"./iwazw5q362siufqb.js";import{k as yt}from"./pc2givv05uuq8g6l.js";import{P as te}from"./oe4qwwp6lvtt8c1x.js";import{v as bt,C as Wr,A as Yr,a as qr,L as Gr,B as Zr,p as Vr,b as Kr,n as Xr,P as Jr,o as Qr,q as ea,e as ta}from"./iijxhy0p5rwh7gyf.js";import{N as wt}from"./lqfx7r9jl2q1tbdy.js";import{b as sa,a as na,c as ra}from"./nh14du86kynnf5fc.js";import{c as js}from"./nxur2fbfj63tq7sy.js";import{u as aa}from"./gstsldttv6qa02ku.js";import{r as oa}from"./b9iv65ef6it0bnl8.js";const ia=js("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),ca=js("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),vt=({children:e,"data-start":t=null,"data-end":s=null,"data-is-last-node":n,"data-is-only-node":a,tag:o})=>{const{animationTiming:i,shouldAnimate:l,shouldHide:d,isDisabled:c,onComplete:h,onReady:m}=rn({isMarker:!0,tag:o,children:e,start:t,end:s,isLastNode:n,isOnlyNode:a});return c||d?r.jsx(o,{"data-start":t,"data-end":s,className:j(d&&"hidden"),children:e}):r.jsx(o,{"data-start":t,"data-end":s,className:j($e.marker,l?$e.animate:$e.hidden),onAnimationStart:()=>m(0),onAnimationEnd:()=>h(0),style:an(i),children:e})},la={p:e=>r.jsx(U,{tag:"p",...e}),h1:e=>r.jsx(U,{tag:"h1",...e}),h2:e=>r.jsx(U,{tag:"h2",...e}),h3:e=>r.jsx(U,{tag:"h3",...e}),h4:e=>r.jsx(U,{tag:"h4",...e}),h5:e=>r.jsx(U,{tag:"h5",...e}),h6:e=>r.jsx(U,{tag:"h6",...e}),li:e=>r.jsx(vt,{tag:"li",isListItem:!0,...e}),hr:e=>r.jsx(vt,{tag:"hr",...e})};function da({closeModal:e,url:t,onAction:s,onActionAborted:n}){const a=p.useRef(!1),o=T();p.useEffect(()=>{I.logEventWithStatsig("Safe Link Warning Modal Shown","chatgpt_safe_link_warning_modal_shown")},[]);const i=async()=>{a.current=!0;try{await navigator.clipboard.writeText(t),I.logEventWithStatsig("Safe Link Warning Modal Copy Clicked","chatgpt_safe_link_warning_modal_copy_clicked")}catch(x){Xe.addError(x)}s?.("copy"),e()},l=()=>{a.current=!0,I.logEventWithStatsig("Safe Link Warning Modal Open Clicked","chatgpt_safe_link_warning_modal_open_clicked"),s?.("open"),e()},d=()=>{a.current||(I.logEventWithStatsig("Safe Link Warning Modal Canceled","chatgpt_safe_link_warning_modal_canceled"),n?.()),a.current=!1,e()};let c="",h=t,m="";try{h=new URL(t).hostname;const b=t.indexOf(h);b!==-1&&(c=t.substring(0,b),m=t.substring(b+h.length))}catch{}return r.jsxs(Gn,{testId:"modal-safe-link-warning",isOpen:!0,hideSeparator:!0,onClose:d,showCloseButton:!0,type:"warning",title:r.jsx("div",{className:"flex items-center gap-2",children:o.formatMessage({id:"dTWOFM",defaultMessage:"This link may be unsafe"})}),primaryButton:r.jsx(K,{as:"link",openNewTab:!0,rel:"noopener noreferer",color:"primary",onClick:l,to:t,children:o.formatMessage({id:"gMzmDW",defaultMessage:"Open link"})}),secondaryButton:r.jsx(ee.Button,{title:o.formatMessage({id:"YGLt71",defaultMessage:"Copy link"}),color:"secondary",onClick:i}),children:[r.jsxs("p",{className:"-mt-4 mb-6 text-sm text-pretty sm:-mt-7",children:[r.jsx(N,{id:"rhdsFP",defaultMessage:"This website may access your conversation data. Preview these links before proceeding."}),r.jsx("a",{className:"can-hover:hover:text-token-link-hover ps-1 underline underline-offset-1",href:"https://help.openai.com/en/articles/10984597-chatgpt-generated-links",target:"_blank",rel:"noopener noreferrer",children:r.jsx(N,{id:"xNvPsR",defaultMessage:"Learn more"})})]}),r.jsxs("div",{className:"mb-2 font-mono text-sm break-all",children:[r.jsx("span",{className:"text-token-text-secondary",children:c}),r.jsx("span",{className:"text-token-text-primary font-bold",children:h}),r.jsx("span",{className:"text-token-text-secondary",children:m})]})]})}const _t={},jt={},$t={};function Nt(e,t){return`${e}::${t}`}function nt({node:e,onClick:t,children:s,clientThreadId:n,messageId:a,href:o,disableSafeURLs:i,...l}){let d=t;const c=e?.properties?.href,h=Ve(),m=p.useContext(re),x=hs(),b=Je(n),g=ys(b,o,m?.useSafeUrls&&!i),w=Zn(x,"387775177"),u=!i&&g===void 0&&w.get("enable-copy-and-open",!1);return a!=null&&typeof c=="string"&&c.includes("/bing/redirect")&&(_t[a]||(I.logEvent("Browsing Show Bing Link",{id:a,content:c}),_t[a]=!0),d=$=>{jt[a]||(I.logEvent("Browsing Click Bing Link",{id:a,content:c}),jt[a]=!0),t?.($)}),d=$=>{const _=""+c;if(a&&!$t[Nt(a,_)]){const k=g||u?"URL Clicked Allowed":"URL Clicked Blocked";I.logEvent(k,{id:a,content:_}),$t[Nt(a,_)]=!0}t?.($),u&&o&&Vn(x,({closeModal:k})=>r.jsx(da,{url:o,closeModal:k}))},r.jsx(r.Fragment,{children:r.jsx("a",{onClick:d,...l,className:j(l.className,u&&"cursor-pointer"),href:g,rel:h?"noopener noreferrer":"noopener",children:s})})}const $s="w";function ua({messageId:e,clientThreadId:t,text:s,children:n,...a}){const o=on(t),i=cn(),l=ln(t),c=`${window.location.origin}?q=${encodeURIComponent(s)}`,h=p.useCallback(async m=>{m.preventDefault(),Kn.count(Xn.DEFAULT,"instant_follow_up_anchor_clicked"),I.logEventWithStatsig("Instant Follow Up Anchor Clicked","chatgpt_instant_follow_up_anchor_clicked",{clientThreadId:t,messageId:e}),o({sourceEvent:m,promptMessage:Jn(s),completionMetadata:{systemHints:[...i],conversationMode:l??{kind:Qn.PrimaryAssistant}}})},[t,l,e,i,o,s]);return r.jsx(nt,{...a,href:c,disableSafeURLs:!0,clientThreadId:t,messageId:e,className:"cursor-pointer",onClick:h,children:n})}const ha=Ze.memo(ua);function fa({messageId:e,clientThreadId:t,text:s,children:n,...a}){const{value:o}=Qe("374768818");return o?r.jsx(ha,{messageId:e,clientThreadId:t,text:s,children:n,...a}):r.jsx(nt,{messageId:e,clientThreadId:t,children:n,...a})}const ma=Ze.memo(fa);function pa(e){const t=e.split(`
`),s=ga(t.pop()).trimEnd();return s&&t.push(s),t.join(`
`)}function ga(e){if(!e||/^\s*-\s*([*_]+)?\s*$/.test(e))return"";let t=[],s="",n=0;for(;n<e.length;){if(e[n]==="*"&&e[n+1]==="*"){s+="**",t.length&&t[t.length-1]==="**"?t.pop():t.push("**"),n+=2;continue}if(e[n]==="*"||e[n]==="_"){s+=e[n];const o=e[n];t.length&&t[t.length-1]===o?t.pop():t.push(o),n++;continue}s+=e[n],n++}if(t.length===0)return e;let a=s.trimEnd();for(;t.length;){const o=t.pop();if(o==null)break;a.endsWith(o)?a=a.slice(0,-o.length).trimEnd():a+=o}return a}const xa=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],kt={}.hasOwnProperty;function ya(e,t){const s=t||{};function n(a,...o){let i=n.invalid;const l=n.handlers;if(a&&kt.call(a,e)){const d=String(a[e]);i=kt.call(l,d)?l[d]:n.unknown}if(i)return i.call(this,a,...o)}return n.handlers=s.handlers||{},n.invalid=s.invalid,n.unknown=s.unknown,n}const ba=/^>|^->|<!--|-->|--!>|<!-$/g,wa=[">"],va=["<",">"];function _a(e,t,s,n){return n.settings.bogusComments?"<?"+Z(e.value,Object.assign({},n.settings.characterReferences,{subset:wa}))+">":"<!--"+e.value.replace(ba,a)+"-->";function a(o){return Z(o,Object.assign({},n.settings.characterReferences,{subset:va}))}}function ja(e,t,s,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const D=ks(1),Ns=ks(-1),$a=[];function ks(e){return t;function t(s,n,a){const o=s?s.children:$a;let i=(n||0)+e,l=o[i];if(!a)for(;l&&et(l);)i+=e,l=o[i];return l}}const Na={}.hasOwnProperty;function Cs(e){return t;function t(s,n,a){return Na.call(e,s.tagName)&&e[s.tagName](s,n,a)}}const rt=Cs({body:Ca,caption:Ce,colgroup:Ce,dd:Pa,dt:Ma,head:Ce,html:ka,li:Ta,optgroup:Da,option:Ea,p:Sa,rp:Ct,rt:Ct,tbody:La,td:St,tfoot:Ia,th:St,thead:Aa,tr:Fa});function Ce(e,t,s){const n=D(s,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&et(n.value.charAt(0)))}function ka(e,t,s){const n=D(s,t);return!n||n.type!=="comment"}function Ca(e,t,s){const n=D(s,t);return!n||n.type!=="comment"}function Sa(e,t,s){const n=D(s,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function Ta(e,t,s){const n=D(s,t);return!n||n.type==="element"&&n.tagName==="li"}function Ma(e,t,s){const n=D(s,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function Pa(e,t,s){const n=D(s,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Ct(e,t,s){const n=D(s,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function Da(e,t,s){const n=D(s,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function Ea(e,t,s){const n=D(s,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function Aa(e,t,s){const n=D(s,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function La(e,t,s){const n=D(s,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function Ia(e,t,s){return!D(s,t)}function Fa(e,t,s){const n=D(s,t);return!n||n.type==="element"&&n.tagName==="tr"}function St(e,t,s){const n=D(s,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const Ra=Cs({body:za,colgroup:Ua,head:Ha,html:Oa,tbody:Ba});function Oa(e){const t=D(e,-1);return!t||t.type!=="comment"}function Ha(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const s=e.children[0];return!s||s.type==="element"}function za(e){const t=D(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&et(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function Ua(e,t,s){const n=Ns(s,t),a=D(e,-1,!0);return s&&n&&n.type==="element"&&n.tagName==="colgroup"&&rt(n,s.children.indexOf(n),s)?!1:!!(a&&a.type==="element"&&a.tagName==="col")}function Ba(e,t,s){const n=Ns(s,t),a=D(e,-1);return s&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&rt(n,s.children.indexOf(n),s)?!1:!!(a&&a.type==="element"&&a.tagName==="tr")}const le={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Wa(e,t,s,n){const a=n.schema,o=a.space==="svg"?!1:n.settings.omitOptionalTags;let i=a.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const l=[];let d;a.space==="html"&&e.tagName==="svg"&&(n.schema=tt);const c=Ya(n,e.properties),h=n.all(a.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=a,h&&(i=!1),(c||!o||!Ra(e,t,s))&&(l.push("<",e.tagName,c?" "+c:""),i&&(a.space==="svg"||n.settings.closeSelfClosing)&&(d=c.charAt(c.length-1),(!n.settings.tightSelfClosing||d==="/"||d&&d!=='"'&&d!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(h),!i&&(!o||!rt(e,t,s))&&l.push("</"+e.tagName+">"),l.join("")}function Ya(e,t){const s=[];let n=-1,a;if(t){for(a in t)if(t[a]!==null&&t[a]!==void 0){const o=qa(e,a,t[a]);o&&s.push(o)}}for(;++n<s.length;){const o=e.settings.tightAttributes?s[n].charAt(s[n].length-1):void 0;n!==s.length-1&&o!=='"'&&o!=="'"&&(s[n]+=" ")}return s.join("")}function qa(e,t,s){const n=vs(e.schema,t),a=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let i=e.quote,l;if(n.overloadedBoolean&&(s===n.attribute||s==="")?s=!0:(n.boolean||n.overloadedBoolean&&typeof s!="string")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const d=Z(n.attribute,Object.assign({},e.settings.characterReferences,{subset:le.name[a][o]}));return s===!0||(s=Array.isArray(s)?(n.commaSeparated?zr:dn)(s,{padLeft:!e.settings.tightCommaSeparatedLists}):String(s),e.settings.collapseEmptyAttributes&&!s)?d:(e.settings.preferUnquoted&&(l=Z(s,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:le.unquoted[a][o]}))),l!==s&&(e.settings.quoteSmart&&pt(s,i)>pt(s,e.alternative)&&(i=e.alternative),l=i+Z(s,Object.assign({},e.settings.characterReferences,{subset:(i==="'"?le.single:le.double)[a][o],attribute:!0}))+i),d+(l&&"="+l))}const Ga=["<","&"];function Ss(e,t,s,n){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?e.value:Z(e.value,Object.assign({},n.settings.characterReferences,{subset:Ga}))}function Za(e,t,s,n){return n.settings.allowDangerousHtml?e.value:Ss(e,t,s,n)}function Va(e,t,s,n){return n.all(e)}const Ka=ya("type",{invalid:Xa,unknown:Ja,handlers:{comment:_a,doctype:ja,element:Wa,raw:Za,root:Va,text:Ss}});function Xa(e){throw new Error("Expected node, not `"+e+"`")}function Ja(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const Qa={},eo={},to=[];function so(e,t){const s=t||Qa,n=s.quote||'"',a=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:no,all:ro,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||xa,characterReferences:s.characterReferences||eo,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?tt:_s,quote:n,alternative:a}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function no(e,t,s){return Ka(e,t,s,this)}function ro(e){const t=[],s=e&&e.children||to;let n=-1;for(;++n<s.length;)t[n]=this.one(s[n],n,e);return t.join("")}function ao(e){const t=this,s={...t.data("settings"),...e};t.compiler=n;function n(a){return so(a,s)}}function oo(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const io=4;function co({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:s}){const n=ae(),a=e.images,o=a.some(h=>h.is_proxied_image)?[]:a.map(h=>h.thumbnail_url),i=sn({queries:o.map(h=>Pr(h)),combine:h=>{const m=new Set;return h.forEach((x,b)=>{x.isSuccess&&m.add(o[b])}),m}}),l=a.filter(h=>i.has(h.thumbnail_url)),d=e.images.length;if(a.some(h=>h.is_proxied_image)){const h=a.find(x=>x.is_proxied_image),m=j("mb-7 mt-1 min-w-32 max-w-[22%] rounded-xl border-[0.5px] border-token-border-default",h?.float_top?"relative block":"float-image z-10 float-end clear-end ms-7 overflow-hidden");return r.jsx(Se,{image:h,imageSource:Ne.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:m},h?.content_url)}if(d===0)return null;if(d===1){const h=e.images[0];return r.jsx(Se,{image:h,imageSource:Ne.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"float-image border-token-border-default z-10 float-end clear-end ms-7 mt-1 mb-7 max-w-[22%] min-w-32 overflow-hidden rounded-xl border-[0.5px]"},h.content_url)}const c=n?l.length:Math.min(l.length,io);return r.jsx("div",{className:"no-scrollbar mt-1 mb-6 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:l.slice(0,c).map((h,m)=>r.jsx("div",{className:j("border-token-border-default relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] sm:w-[calc((100%-1rem)/4)] md:shrink",m===0&&"rounded-s-xl",m===c-1&&"rounded-e-xl"),children:r.jsx(Se,{image:h,imageSource:Ne.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"h-full w-full"},h.thumbnail_url)},h.thumbnail_url))})}const Ts=p.memo(co,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((s,n)=>s.content_url===t.metadata.images[n].content_url));function lo(e,t){if(!e||!t)return null;const{width:s,height:n}=t;if(s===n)return null;const{center_x_percent:a,center_y_percent:o}=e;let i=50,l=50;if(n>s){const d=n-s;l=(o*n-s/2)/d*100,i=50}else{const d=s-n;i=(a*s-n/2)/d*100,l=50}return`${i.toFixed(1)}% ${l.toFixed(1)}%`}function Se({image:e,imageSource:t,className:s,imgClassName:n,style:a,analyticsMetadata:o,trackContentReferenceEvent:i}){const l=Dr(e),d=e?.content_url.replace(/^http:\/\//,"https://"),c=uo(e),{isSuccess:h}=Re(l),{isSuccess:m}=Re(c?d:void 0),x=p.useMemo(()=>({image_url:l,title:e?.title}),[l,e?.title]);p.useEffect(()=>{e&&h&&i("Search Content Reference Shown","search_content_reference_shown","image_v2",x)},[i,e,h,x]);const b=un.useStore(),g=lo(e?.thumbnail_crop_info??null,e?.thumbnail_size??null),w=!e||!(h||m||e.is_proxied_image),u=(()=>{if(!w)return e.is_proxied_image?e.url:c&&m?d:l})();return r.jsx("button",{className:j("relative aspect-square overflow-hidden",s),style:a,onClick:()=>{i("Search Content Reference Clicked","search_content_reference_clicked","image_v2",x),b.setCurrentImage(e?{image:e,source:t,analyticsMetadata:o}:void 0)},children:w?r.jsx("div",{className:"bg-token-main-surface-tertiary aspect-square h-full w-full animate-pulse"}):r.jsx(Er,{children:r.jsx("img",{src:u,alt:e?.content_url,style:g?{objectPosition:g}:{},className:j("bg-token-main-surface-tertiary m-0 h-full w-full object-cover",n)})})})}function uo(e){return!e||e.is_proxied_image?!1:e.thumbnail_url.includes("images.openai.com/thumbnails")}async function ho({conversationId:e,messageId:t,assetPointerLinks:s,sharedConversationLikeId:n}){return await er.safePost("/conversation/get_images_for_message",{requestBody:{conversation_id:e??null,share_id:n??null,message_id:t,asset_pointer_links:s},authOption:tr.SendIfAvailable})}function fo({reference:e,conversationId:t,messageId:s,sharedConversationLikeId:n}){return as({queryKey:["inline-images",e,t,s],queryFn:async()=>{if(!e.asset_pointer_links||e.asset_pointer_links.length===0||!t&&!n)return{images:[],formats:[]};const a=await ho({conversationId:t,messageId:s,assetPointerLinks:e.asset_pointer_links,sharedConversationLikeId:n});for(let o=0;o<a.images.length;o++){const i=a.images[o],d=`image/${a.formats[o]}`,c=mo(i,d);a.images[o]=c}return a}})}function mo(e,t="",s=512){const n=atob(e),a=[];for(let i=0;i<n.length;i+=s){const l=n.slice(i,i+s),d=new Array(l.length);for(let h=0;h<l.length;h++)d[h]=l.charCodeAt(h);const c=new Uint8Array(d);a.push(c)}const o=new Blob(a,{type:t});return URL.createObjectURL(o)}const po=200;function go({reference:e,clientThreadId:t,message:s,trackContentReferenceEvent:n}){const a=Je(t),{sharedDeepresearchId:o}=p.useContext(Rr),{data:i,isLoading:l,isError:d,error:c}=fo({reference:e,conversationId:a,messageId:s.id,sharedConversationLikeId:o}),h=p.useRef([]);if(p.useEffect(()=>()=>{h.current.forEach(b=>{URL.revokeObjectURL(b)}),h.current=[]},[]),l||d||c||!i||!("images"in i))return null;h.current=[];const m=(b,g)=>{const w=new RegExp(g+"\\s*([^\\n]+)","m"),u=b.match(w);return u&&u[1]?u[1].trim().length:0};let x=-1;return s.content.content_type==="text"&&(x=m(s.content.parts.join(""),e.matched_text)),r.jsx(r.Fragment,{children:i?.images.map((b,g)=>{const w={matched_text:e.matched_text,start_idx:e.start_idx,end_idx:e.end_idx,safe_urls:e.safe_urls,alt:e.alt,prompt_text:e.prompt_text,type:"image_v2",images:[{url:b,content_url:e.clicked_from_url??"",thumbnail_url:b,title:e.clicked_from_title??"",content_size:{width:141,height:143},thumbnail_size:{width:141,height:143},is_proxied_image:!0,float_top:x<po||x===-1}]};return r.jsx(Ts,{metadata:w,analyticsMetadata:{clientThreadId:t,messageId:s.id},numImageResults:1,trackContentReferenceEvent:n},`image-carousel-inline-${g}`)})})}function xo({contentReference:e,clientThreadId:t,messageId:s,turnIndex:n,trackContentReferenceEvent:a}){const o=p.useCallback(()=>a("Search Content Reference Shown","search_content_reference_shown","product_entity",{content_reference_start_index:e.start_idx,product_id:e.product.id}),[a,e.start_idx,e.product.id]),i=p.useCallback(()=>a("Search Content Reference Clicked","search_content_reference_clicked","product_entity",{content_reference_start_index:e.start_idx,product_id:e.product.id}),[a,e.start_idx,e.product.id]);p.useEffect(()=>o(),[o]);const{openThreadSidebar:l}=fs(),d=e.product;return r.jsxs("span",{className:"decoration-token-text-secondary inline align-baseline underline decoration-[4%] underline-offset-[16%] [text-decoration-skip-ink:auto] [text-underline-position:from-font] hover:cursor-pointer",onClick:()=>{if(i(),d.offers){if(!t)return;l({type:"product",clientThreadId:t,messageId:s,turnIndex:n,contentReferenceStartIndex:e.start_idx,productIndex:0})}else window.open(d.url,"_blank")},children:[r.jsx(hn,{className:"text-token-text-tertiary me-0.5 inline h-[1em] w-[1em] align-[-0.2em]"}),r.jsx("span",{className:"whitespace-normal",children:d.title})]})}function yo({product:e,wide:t,onShown:s,onClick:n,onHover:a,showDebug:o=!1}){const i=e.image_urls?e.image_urls[0]:void 0,l=p.useRef(null),[d,c]=p.useState("contain"),h=p.useRef(null);return p.useEffect(()=>{if(!l.current)return;const m=new IntersectionObserver(([x])=>x.isIntersecting&&s(),{threshold:.5});return m.observe(l.current),()=>m.disconnect()},[]),r.jsxs("div",{ref:l,className:j(t?"flex w-full flex-row":"flex h-full flex-col","bg-token-main-surface-primary cursor-pointer overflow-hidden rounded-xl","border-token-border-default hover:border-token-border-xlight border bg-clip-padding hover:shadow-md","transition-all duration-200"),onClick:n,onMouseEnter:()=>l.current&&a(l.current),onMouseLeave:()=>a(null),children:[r.jsxs("div",{className:j("relative aspect-square",t?"w-1/3":"w-full","bg-token-main-surface-secondary dark:bg-token-main-surface-primary-inverse"),children:[i?r.jsx("img",{ref:h,className:`absolute inset-0 m-0 h-full w-full mix-blend-darken object-${d}`,src:i,alt:e.title,onLoad:()=>{if(!h.current)return;const{naturalWidth:m,naturalHeight:x}=h.current,b=m/x;c(Math.abs(b-1)<.25?"cover":"contain")}}):r.jsx("div",{className:"flex aspect-square items-center justify-center",children:r.jsx(fn,{className:"text-token-text-tertiary h-12 w-12"})}),e.featured_tag&&r.jsx("div",{className:"absolute start-3 end-3 bottom-3",children:r.jsxs("div",{className:"relative max-w-fit px-2 py-1",children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-white/60 backdrop-blur-xl"}),r.jsx("div",{className:"relative truncate text-xs font-semibold text-gray-950",children:e.featured_tag})]})})]}),r.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[r.jsx("div",{className:"line-clamp-2 leading-snug font-semibold text-ellipsis",children:e.title}),e.description&&r.jsx("div",{className:"line-clamp-3 pt-3 text-sm text-ellipsis",children:e.description}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"flex flex-row items-end pt-3",children:[r.jsxs("div",{className:"flex flex-col overflow-hidden",children:[r.jsx("div",{className:"text-md leading-snug font-semibold",children:e.price}),r.jsx("div",{className:"text-token-text-secondary overflow-hidden pt-0.5 text-xs text-ellipsis whitespace-nowrap",children:e.merchants})]}),r.jsx("div",{className:"flex-1"}),e.num_reviews&&e.num_reviews>0&&r.jsxs("div",{className:"text-token-text-secondary flex w-fit flex-row gap-1 text-sm",children:[r.jsx(mn,{rating:e.rating??0/5}),(e.rating??0).toFixed(1)]})]})]}),!1]})}const O={TTFP:"products.ttfp",TTLT:"products.ttlt",TTF_VISIBLE_CONTENT_TOKEN:"products.ttf_visible_content_token"},at={[O.TTFP]:new Set,[O.TTLT]:new Set,[O.TTF_VISIBLE_CONTENT_TOKEN]:new Set};function Te({profiler:e,messageId:t,metric:s,overrideDurationMs:n}){at[s].add(t);const a=gn();e.logTiming(s,{context:{eval_preset:a.eval_preset},overrideDurationMs:n})}function Me({messageId:e,metric:t}){return at[t].has(e)}function bo({namespace:e,clientThreadId:t}){"use forget";const s=p.useRef(null),n=we(t,o=>ue.getRequestId(o)),a=bs(n);return p.useEffect(()=>{if(n&&n!==a.current){const o=ms(n);o&&(s.current=xn({namespace:e,opts:{debug:!1}}),s.current.reset(o.turnTracker.start_time_ms))}},[n,a,e]),{profiler:s.current}}function wo({clientThreadId:e,messageId:t,products:s}){"use forget";const[n,a]=we(e,c=>[ue.getCurrentLeafId(c),ue.getRequestId(c)]),{profiler:o}=bo({namespace:pn.ProductsCompletionRequest,clientThreadId:e}),l=sr(a)&&n===t,d=bs(l);p.useEffect(()=>{Me({messageId:t,metric:O.TTFP})||o&&l&&s.length>0&&Te({profiler:o,messageId:t,metric:O.TTFP})},[l,t,s.length]),p.useEffect(()=>{Me({messageId:t,metric:O.TTLT})||d.current&&!l&&o&&Te({profiler:o,messageId:t,metric:O.TTLT})},[t,d,l]),p.useEffect(()=>{if(!Me({messageId:t,metric:O.TTF_VISIBLE_CONTENT_TOKEN})&&o){const c=a?ms(a):null;if(c){const h=O.TTF_VISIBLE_CONTENT_TOKEN;at[h].add(t),Te({profiler:o,messageId:t,metric:h,overrideDurationMs:c.turnTracker.first_visible_content_token_lat})}}},[t,o,a,s.length])}function vo({contentReference:e,clientThreadId:t,messageId:s,turnIndex:n,analyticsMetadata:a}){const o=e.products,i=e.target_product_count,l=we(t,S=>{const z=ue.getNode(S,s).message.metadata?.content_references?.find(ce=>ce.type==="products");return e.start_idx===z?.start_idx}),d=hs(),c=nr(d,"3144771298"),{showDebugConversationTurns:h}=yn(),m=cs(a),x=p.useCallback((S,P)=>m("Search Content Reference Shown","search_content_reference_shown","products",{content_reference_start_index:e.start_idx,product_index:P,product_id:S.id}),[m,e.start_idx]),b=p.useCallback((S,P)=>m("Search Content Reference Clicked","search_content_reference_clicked","products",{content_reference_start_index:e.start_idx,product_index:P,product_id:S.id}),[m,e.start_idx]);wo({clientThreadId:t,messageId:s,products:o});const{openThreadSidebar:g}=fs(),w=p.useRef(null),[u,$]=p.useState(null),_=p.useRef(null),k=()=>{_.current=setTimeout(()=>{$(null),_.current=null},200)},v=()=>{_.current&&(clearTimeout(_.current),_.current=null)},y=p.useRef(null),[C,M]=p.useState({left:0,top:0});p.useEffect(()=>{const S=w.current,P=y.current;if(!u||!S||!P)return;const z=()=>{const ce=u.card.getBoundingClientRect(),_e=S.getBoundingClientRect(),en=P.getBoundingClientRect(),tn=ce.bottom-_e.top+8;var J=ce.left-_e.left;J=Math.max(0,J),J=Math.min(J,_e.width-en.width),M({left:J,top:tn})};return z(),S.addEventListener("scroll",z),()=>S.removeEventListener("scroll",z)},[u,o]);const{setTargetedContent:f}=bn(),L=ae(),lt=L?2:4;if(!i&&o.length<lt)return null;const ie=(i??o.length)>=lt,dt=ie&&L;return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{ref:w,className:j("flex flex-row gap-4 py-2",dt&&"mx-[-1rem] px-[1rem]",ie&&"no-scrollbar snap-x snap-proximity scroll-ps-4 overflow-x-scroll scroll-smooth"),children:o.map((S,P)=>r.jsx("div",{className:j(ie?"w-64 shrink-0 snap-start":"min-w-0 flex-1"),children:r.jsx(yo,{product:S,wide:!L&&i===1,onShown:()=>x(S,P),onClick:()=>{t&&(b(S,P),S.offers?g({type:"product",clientThreadId:t,messageId:s,turnIndex:n,contentReferenceStartIndex:e.start_idx,productIndex:P}):window.open(S.url,"_blank"))},onHover:z=>{v(),z?$({card:z,product:S,index:P}):k()},showDebug:h})},`${P}-${S.title}`))}),ie&&!dt&&r.jsx(_o,{scrollableRef:w,units:o.length}),r.jsx("div",{ref:y,className:j("absolute z-10",u?"translate-y-0 opacity-100":"translate-y-[-0.5rem] opacity-0","transition-[transform,opacity] duration-200"),style:C,onMouseEnter:v,onMouseLeave:k,children:r.jsx(jo,{onClick:()=>{u&&(I.logEventWithStatsig("Product Targeted Reply Clicked","product_targeted_reply_clicked",{...rr(a),content_reference_start_index:e.start_idx,product_index:u.index,product_id:u.product.id}),f({type:"object",label:u.product.title,createNewCompletionParams:S=>{const P=ar(u.product.title);return{...S,promptMessage:wn(S.promptMessage,{metadata:{targeted_reply:u.product.title,targeted_reply_label:u.product.title,targeted_reply_icon:"product_tag"}}),appendMessages:[...S.appendMessages??[],P]}},onCreateCompletion:({serverThreadId:S,currentLeafId:P})=>{I.logEventWithStatsig("Targeted Reply Submitted","chatgpt_targeted_reply_submitted",{conversation_id:S,current_leaf_id:P,source_message_id:s,content_reference_start_index:e.start_idx,product_index:u.index,product_id:u.product.id})},onCleared:({serverThreadId:S,currentLeafId:P})=>{I.logEventWithStatsig("Targeted Reply Cleared","chatgpt_targeted_reply_cleared",{conversation_id:S,current_leaf_id:P,source_message_id:s,content_reference_start_index:e.start_idx,product_index:u.index,product_id:u.product.id})}}))}})})]}),l&&c&&r.jsxs("div",{className:"text-token-text-secondary flex text-xs hover:cursor-pointer hover:underline",onClick:()=>window.open("https://help.openai.com/en/articles/11128490","_blank"),children:[r.jsx(N,{id:"4Y5Zn5",defaultMessage:"ChatGPT chooses products independently. Learn more"}),r.jsx(vn,{className:"icon-md -ms-0.5"})]})]})}function _o({scrollableRef:e,units:t}){const[s,n]=p.useState({left:!1,right:!1});p.useEffect(()=>{const o=e.current;if(!o)return;const i=()=>{const{scrollLeft:l,scrollWidth:d,clientWidth:c}=o,h=l/(d-c);n({left:h>0,right:h<1})};return i(),o.addEventListener("scroll",i),()=>o.removeEventListener("scroll",i)},[e,t]);const a=o=>{if(!e.current)return;const{clientWidth:i,scrollWidth:l}=e.current,d=l/t,c=Math.floor(i/d)*d;e.current.scrollBy({left:c*o,behavior:"smooth"})};return r.jsxs("div",{className:"pointer-events-none absolute start-0 top-0 flex h-full w-full flex-row",children:[r.jsx("div",{className:j("flex h-full w-9 items-center justify-start","from-token-main-surface-primary bg-linear-to-r to-transparent",s.left?"opacity-100":"opacity-0","transition-opacity duration-200"),children:r.jsx(K,{color:"secondary",size:"xs",className:"border-token-border-default h-8 w-8 rounded-full",onClick:()=>a(-1),children:r.jsx(_n,{className:"icon-md"})})}),r.jsx("div",{className:j("ms-auto flex h-full w-9 items-center justify-end","from-token-main-surface-primary bg-linear-to-l to-transparent",s.right?"opacity-100":"opacity-0","transition-opacity duration-200"),children:r.jsx(K,{color:"secondary",size:"xs",className:"border-token-border-default h-8 w-8 rounded-full",onClick:()=>a(1),children:r.jsx(or,{className:"icon-md"})})})]})}function jo({onClick:e}){return r.jsx(K,{className:"border-token-border-xlight bg-clip-padding px-4 py-2 shadow-md",size:"small",color:"secondary",onClick:e,children:r.jsxs("div",{className:"flex flex-row items-center gap-1",children:[r.jsx(jn,{className:"text-token-text-secondary h-4 w-4"}),r.jsx(N,{id:"9TG7OR",defaultMessage:"Ask about this"})]})})}const Tt=/[#.]/g;function $o(e,t){const s=e||"",n={};let a=0,o,i;for(;a<s.length;){Tt.lastIndex=a;const l=Tt.exec(s),d=s.slice(a,l?l.index:s.length);d&&(o?o==="#"?n.id=d:Array.isArray(n.className)?n.className.push(d):n.className=[d]:i=d,a+=d.length),l&&(o=l[0],a++)}return{type:"element",tagName:i||t||"div",properties:n,children:[]}}const No=new Set(["button","menu","reset","submit"]),Oe={}.hasOwnProperty;function Ms(e,t,s){const n=s&&To(s);function a(o,i,...l){let d=-1,c;if(o==null){c={type:"root",children:[]};const h=i;l.unshift(h)}else if(c=$o(o,t),c.tagName=c.tagName.toLowerCase(),n&&Oe.call(n,c.tagName)&&(c.tagName=n[c.tagName]),ko(i,c.tagName)){let h;for(h in i)Oe.call(i,h)&&Co(e,c.properties,h,i[h])}else l.unshift(i);for(;++d<l.length;)He(c.children,l[d]);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return a}function ko(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?No.has(e.type.toLowerCase()):!("value"in e)}function Co(e,t,s,n){const a=vs(e,s);let o=-1,i;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;i=n}else typeof n=="boolean"?i=n:typeof n=="string"?a.spaceSeparated?i=ft(n):a.commaSeparated?i=gt(n):a.commaOrSpaceSeparated?i=ft(gt(n).join(" ")):i=Mt(a,a.property,n):Array.isArray(n)?i=n.concat():i=a.property==="style"?So(n):String(n);if(Array.isArray(i)){const l=[];for(;++o<i.length;){const d=Mt(a,a.property,i[o]);l[o]=d}i=l}if(a.property==="className"&&Array.isArray(t.className)){const l=i;i=t.className.concat(l)}t[a.property]=i}}function He(e,t){let s=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++s<t.length;)He(e,t[s]);else if(typeof t=="object"&&"type"in t)t.type==="root"?He(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Mt(e,t,s){if(typeof s=="string"){if(e.number&&s&&!Number.isNaN(Number(s)))return Number(s);if((e.boolean||e.overloadedBoolean)&&(s===""||xt(s)===xt(t)))return!0}return s}function So(e){const t=[];let s;for(s in e)Oe.call(e,s)&&t.push([s,e[s]].join(": "));return t.join("; ")}function To(e){const t={};let s=-1;for(;++s<e.length;)t[e[s].toLowerCase()]=e[s];return t}const Mo=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Po=Ms(_s,"div"),Do=Ms(tt,"g",Mo),Pe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Eo(e,t){return Ps(e,{})||{type:"root",children:[]}}function Ps(e,t){const s=Ao(e,t);return s&&t.afterTransform&&t.afterTransform(e,s),s}function Ao(e,t){switch(e.nodeType){case 1:return Ro(e,t);case 3:return Io(e);case 8:return Fo(e);case 9:return Pt(e,t);case 10:return Lo();case 11:return Pt(e,t);default:return}}function Pt(e,t){return{type:"root",children:Ds(e,t)}}function Lo(){return{type:"doctype"}}function Io(e){return{type:"text",value:e.nodeValue||""}}function Fo(e){return{type:"comment",value:e.nodeValue||""}}function Ro(e,t){const s=e.namespaceURI,n=s===Pe.svg?Do:Po,a=s===Pe.html?e.tagName.toLowerCase():e.tagName,o=s===Pe.html&&a==="template"?e.content:e,i=e.getAttributeNames(),l={};let d=-1;for(;++d<i.length;)l[i[d]]=e.getAttribute(i[d])||"";return n(a,l,Ds(o,t))}function Ds(e,t){const s=e.childNodes,n=[];let a=-1;for(;++a<s.length;){const o=Ps(s[a],t);o!==void 0&&n.push(o)}return n}new DOMParser;function Oo(e,t){const s=Ho(e);return Eo(s)}function Ho(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const Dt=function(e,t,s){const n=Nn(s);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]},Et=/\n/g,At=/[\t ]+/g,ze=X("br"),Lt=X(Zo),zo=X("p"),It=X("tr"),Uo=X(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Go,Vo]),Es=X(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Bo(e,t){const s=t||{},n="children"in e?e.children:[],a=Es(e),o=Is(e,{whitespace:s.whitespace||"normal",breakBefore:!1,breakAfter:!1}),i=[];(e.type==="text"||e.type==="comment")&&i.push(...Ls(e,{whitespace:o,breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<n.length;)i.push(...As(n[l],e,{whitespace:o,breakBefore:l?void 0:a,breakAfter:l<n.length-1?ze(n[l+1]):a}));const d=[];let c;for(l=-1;++l<i.length;){const h=i[l];typeof h=="number"?c!==void 0&&h>c&&(c=h):h&&(c!==void 0&&c>-1&&d.push(`
`.repeat(c)||" "),c=-1,d.push(h))}return d.join("")}function As(e,t,s){return e.type==="element"?Wo(e,t,s):e.type==="text"?s.whitespace==="normal"?Ls(e,s):Yo(e):[]}function Wo(e,t,s){const n=Is(e,s),a=e.children||[];let o=-1,i=[];if(Uo(e))return i;let l,d;for(ze(e)||It(e)&&Dt(t,e,It)?d=`
`:zo(e)?(l=2,d=2):Es(e)&&(l=1,d=1);++o<a.length;)i=i.concat(As(a[o],e,{whitespace:n,breakBefore:o?void 0:l,breakAfter:o<a.length-1?ze(a[o+1]):d}));return Lt(e)&&Dt(t,e,Lt)&&i.push("	"),l&&i.unshift(l),d&&i.push(d),i}function Ls(e,t){const s=String(e.value),n=[],a=[];let o=0;for(;o<=s.length;){Et.lastIndex=o;const d=Et.exec(s),c=d&&"index"in d?d.index:s.length;n.push(qo(s.slice(o,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,c===s.length?t.breakAfter:!0)),o=c+1}let i=-1,l;for(;++i<n.length;)n[i].charCodeAt(n[i].length-1)===8203||i<n.length-1&&n[i+1].charCodeAt(0)===8203?(a.push(n[i]),l=void 0):n[i]?(typeof l=="number"&&a.push(l),a.push(n[i]),l=0):(i===0||i===n.length-1)&&a.push(0);return a}function Yo(e){return[String(e.value)]}function qo(e,t,s){const n=[];let a=0,o;for(;a<e.length;){At.lastIndex=a;const i=At.exec(e);o=i?i.index:e.length,!a&&!o&&i&&!t&&n.push(""),a!==o&&n.push(e.slice(a,o)),a=i?o+i[0].length:o}return a!==o&&!s&&n.push(""),n.join(" ")}function Is(e,t){if(e.type==="element"){const s=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return s.wrap?"pre-wrap":"pre";case"td":case"th":return s.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function Go(e){return!!(e.properties||{}).hidden}function Zo(e){return e.tagName==="td"||e.tagName==="th"}function Vo(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const Ko={},Xo=[];function Fs(e){const t=e||Ko;return function(s,n){kn(s,"element",function(a,o){const i=Array.isArray(a.properties.className)?a.properties.className:Xo,l=i.includes("language-math"),d=i.includes("math-display"),c=i.includes("math-inline");let h=d;if(!l&&!d&&!c)return;let m=o[o.length-1],x=a;if(a.tagName==="code"&&l&&m&&m.type==="element"&&m.tagName==="pre"&&(x=m,m=o[o.length-2],h=!0),!m)return;const b=Bo(x,{whitespace:"pre"});let g;try{g=yt.renderToString(b,{...t,displayMode:h,throwOnError:!0})}catch(u){const $=u,_=$.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...o,a],cause:$,place:a.position,ruleId:_,source:"rehype-katex"}),_==="parseerror"?g=yt.renderToString(b,{...t,displayMode:h,strict:"ignore",throwOnError:!1}):g=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(u)},children:[{type:"text",value:b}]}]}typeof g=="string"&&(g=Oo(g).children);const w=m.children.indexOf(x);return m.children.splice(w,1,...g),Cn})}}const he="sandbox:";function Jo({messageId:e,clientThreadId:t,href:s,...n}){const a=Ve(),o=nn(),[i,l]=p.useState(!1),d=s.substring(he.length),c=ir(t),h=T(),m=cr(),x=p.useCallback(u=>{const $=document.createElement("a");$.href=u,$.click(),l(!1)},[]),b=p.useCallback(u=>{l(!1),m.danger(u)},[m]),g=ei(i&&!a,e,c,d,b,x).data,w=p.useCallback(async u=>{t!==void 0&&(u.preventDefault(),(g===void 0||g?.status!=="success")&&o.invalidateQueries({queryKey:Rs(e,d)}),g?.status==="success"&&g?.download_url?x(g.download_url):l(!0))},[t,g,o,e,d,x]);return r.jsx(oe,{closeOnOutsideClick:!1,delayDuration:0,label:r.jsxs("span",{className:"flex items-center gap-1",children:[i?h.formatMessage(Ue.startingDownload):h.formatMessage(Ue.downloadFile),i&&r.jsx(lr,{})]}),side:"top",sideOffset:4,children:r.jsx("a",{...n,className:"cursor-pointer",onClick:u=>!i&&w(u)})})}function Qo(e){return r.jsx(oe,{closeOnOutsideClick:!1,delayDuration:0,label:r.jsx("span",{className:"flex items-center gap-1",children:r.jsx(N,{...Ue.downloadUnavailable})}),side:"top",sideOffset:4,children:r.jsx("span",{...e,className:"text-token-text-secondary font-semibold underline"})})}function ei(e,t,s,n,a,o){const i=Sn();return as({queryKey:Rs(t,n),queryFn:()=>dr.downloadFromInterpreter(t,s,n).then(l=>(l?.status==="success"&&o(l.download_url),l)).catch(l=>{let d=i("default_download_link_error",{fileName:n});throw l instanceof ur&&l.code!=null&&(d=i(l.code)),a?.(d),l}),enabled:!!(e&&t&&s&&n)})}function Rs(e,t){return["downloadSandboxLink",e,t]}const Ue=ye({downloadFile:{id:"SandboxDownload.downloadFile",defaultMessage:"Download file"},startingDownload:{id:"SandboxDownload.startingDownload",defaultMessage:"Starting download"},downloadUnavailable:{id:"SandboxDownload.downloadUnavailable",defaultMessage:"File download not supported in a shared chat"}}),Os=e=>e.startsWith(he)||e===$s?e:Ur(e);function ti(){return e=>{be(e,"list",t=>{for(const s of t.children)s.spread=!0})}}const ot=[_r,ti,[jr,{singleDollarTextMath:!1}],$r,Nr,kr,si];function si(){return e=>{be(e,"textDirective",t=>{t.name!==ps&&(t.type="text",t.value=`:${t.name}`)})}}function ni(){return e=>{const t=e.position?.end.offset;be(e,"element",(s,n)=>{const{position:a}=s;if(!a)return;const{start:o,end:i}=a,l=o.offset,d=i.offset;s.properties??={},l!=null&&(s.properties["data-start"]=l),d!=null&&(s.properties["data-end"]=d,t===d&&(s.properties["data-is-last-node"]=""),n===e.children.length-1&&(s.properties["data-is-only-node"]=""))})}}const Hs=[Fs,ni,[Tn,{target:"_new",rel:"noopener noreferrer"}],ws],ri=[[Fs,{output:"mathml"}],ws];function ai({attribution:e}){const t=p.useContext(re),s=Mn(t?.message.id,e.attributable_index),n=$n();return r.jsx(ii,{isHighlighted:s,isDebugMode:n&&!1,content:e.alt??"",attributableIndex:e.attributable_index,attributions:void 0,attributionsDebug:void 0})}function oi({content:e,isHighlighted:t,isDebugMode:s,attributableIndex:n,attributions:a,attributionsDebug:o}){const i=r.jsx(st,{rehypePlugins:Hs,remarkPlugins:ot,urlTransform:Os,components:{p:({children:l})=>r.jsx(r.Fragment,{children:l})},children:e});return r.jsx(ci,{isHighlighted:t,children:i})}const ii=Ze.memo(oi);function ci({isHighlighted:e,className:t,children:s}){return r.jsx("span",{className:j("relative","-mx-px my-[-0.2rem] rounded px-px py-[0.2rem]",e&&"bg-[#FCECC1] dark:bg-[#64572A]","transition-colors duration-100 ease-in-out",t),children:s})}function Ft(e,t){try{return BigInt(e).toLocaleString(t)}catch{const s=Number(e);return e.includes("e")||e.includes("E")?s.toExponential():s.toLocaleString(t,{maximumFractionDigits:6})}}function li({data:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const s=hr().locale;return e.expression&&e.result!=null?r.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[r.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&r.jsx("span",{children:e.prefix}),r.jsx("span",{children:Ft(e.result,s)}),e.suffix&&r.jsx("span",{children:e.suffix})]}),r.jsx("div",{className:"text-token-text-primary tracking-wide",children:`${e.expression}=${Ft(e.result,s)}`})]}):null}function di(e){return r.jsxs(fr,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[r.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function ui({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:s,FormattedText:n}){const a=T();return r.jsx(ee.Root,{isOpen:!0,onClose:s,testId:"modal-code-execution",children:r.jsx(ee.Overlay,{children:r.jsxs(ee.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[r.jsx(ee.Header,{title:a.formatMessage(hi.title),type:"success",closeButton:r.jsx(mr,{onClick:s})}),r.jsxs("div",{className:"flex flex-1 flex-col overflow-auto",children:[r.jsx("div",{children:r.jsx(Lr,{FormattedText:n,message:e,codeRendererClassName:"border-none rounded-none",removeTopBorderRadius:!0})}),r.jsx("div",{children:r.jsx(Ir,{message:t})})]})]})})})}const hi=ye({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function fi({displayInfo:e,FormattedText:t,trackContentReferenceEvent:s}){const[n,a]=p.useState(!1),o=T();return p.useEffect(()=>{s("Search Content Reference Shown","search_content_reference_shown",e.type)},[s,e.type]),r.jsxs(r.Fragment,{children:[r.jsx(oe,{label:o.formatMessage(mi.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:r.jsx("button",{onClick:()=>a(!0),children:r.jsx(di,{className:"text-token-link hover:text-token-link-hover ms-0.5 -mt-0.5 inline-block"})})}),n&&r.jsx(ui,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>a(!1)})]})}const mi=ye({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),zs="text-token-text-secondary inline-flex items-center rounded-full bg-[#f4f4f4] select-none dark:bg-token-main-surface-secondary",pi=j(zs," h-[22px] px-2 text-[0.5em] font-medium"),Vb=j(zs,"h-[25px] px-3 text-xs"),Rt=24;function gi(e){const t=e.split(".");let s=e;return t.length>1&&t.slice(0,-1).some(n=>n.length>0)&&(s=t.slice(0,-1).join(".")),s.length>Rt&&(s=s.slice(0,Rt-1)+"â€¦"),s}function xi({fileRef:e,index:t,trackContentReferenceEvent:s}){const n=Pn(),a=p.useContext(re),o=p.useMemo(()=>({source:e.source,index:t}),[e.source,t]);p.useEffect(()=>{s("File Citation Shown","file_citation_shown","file",o)},[]);const i=p.useCallback(h=>{h?s("File Citation Hovered","file_citation_hovered","file",o):s("File Citation Unhovered","file_citation_unhovered","file",o)},[o,s]),l=p.useCallback(()=>{s("File Citation Clicked","file_citation_clicked","file",o)},[o,s]),d=p.useCallback(()=>n(e.id,e.name),[n,e.id,e.name]),c=we(a?.analyticsMetadata.clientThreadId??pr,h=>h?.mode);return Dn(c)?c.gizmo_id&&En(c.gizmo_id)?r.jsx("span",{className:j(pi,"ms-1"),title:e.name,children:gi(e.name)}):null:r.jsx(yi,{fileItem:e,onClickDownloadFile:d,trackTooltipOpenChange:i,trackCloudLinkClick:l})}function yi({fileItem:e,className:t,trackTooltipOpenChange:s,trackCloudLinkClick:n,onClickDownloadFile:a}){const o=ds(e.cloud_doc_url??""),i=o?.type??r.jsx(N,{id:"bqY3sN",defaultMessage:"File"}),l=o?.Icon??us,d=r.jsx(l,{alt:i,className:"h-[16px] w-[16px] object-contain"}),c=j("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] text-token-text-secondary! hover:bg-token-text-primary hover:text-token-main-surface-secondary! dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",t),h=r.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?r.jsx(q,{href:e.cloud_doc_url,className:c,onClick:n,children:d}):r.jsx("button",{onClick:a,className:c,children:d})});return r.jsx(bi,{fileItem:e,icon:r.jsx(l,{alt:i,className:"me-2 h-[16px] w-[16px] object-contain"}),contentType:i,trackTooltipOpenChange:s,children:h})}function bi({fileItem:e,children:t,className:s,icon:n,contentType:a,trackTooltipOpenChange:o}){const i=ve();return r.jsx(oe,{label:r.jsxs(q,{href:e.cloud_doc_url,className:j("text-token-text-primary flex max-w-80 flex-col gap-1 text-start text-xs font-normal no-underline!",s),children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:n}),r.jsx("div",{className:"text-token-text-primary truncate",children:a})]}),r.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&r.jsx("div",{className:"text-token-text-secondary line-clamp-2 text-sm",children:e.text})]}),onOpenChange:o,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:i?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-default border",wide:!0,children:t})}function wi(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function vi({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:r.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((s,n)=>r.jsx(_i,{item:s,index:n,trackContentReferenceEvent:t},n))})}function _i({item:e,index:t,trackContentReferenceEvent:s}){const n=T(),a={title:e.name,description:e.description,index:t};p.useEffect(()=>{s("Contextual Answers Content Reference Shown","contextual_answers_content_reference_shown","file_navlist",a)},[]);const o=ds(e.cloud_doc_url??""),i=o?.Icon??us,l=o?.type??r.jsx(N,{id:"bqY3sN",defaultMessage:"File"});return r.jsxs(q,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.cloud_doc_url??"/",onClick:()=>{s("Contextual Answers Content Reference Clicked","contextual_answers_content_reference_clicked","file_navlist",a)},children:[r.jsx("div",{className:"absolute start-0 top-0 bottom-0 w-[3px] rounded-t-lg rounded-b-lg bg-black/10"}),r.jsxs("div",{className:"ms-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[r.jsxs("div",{className:"not-prose text-token-text-primary flex items-center gap-1.5 text-sm",children:[r.jsx(i,{className:"icon-md object-contain"}),r.jsx("div",{className:"text-token-text-primary line-clamp-2 text-sm",children:l})]}),r.jsx("div",{className:"text-token-link decoration-token-link line-clamp-2 font-semibold group-hover/nav-list:underline",children:e.name}),r.jsx("div",{className:"text-token-text-primary line-clamp-2 text-sm leading-snug font-normal",children:e.description}),e.last_modified_time&&r.jsx("div",{className:"text-token-text-secondary text-sm",children:wi(e.last_modified_time,n.locale)})]})]})}var Be={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){if(n===null||n===!0||n===!1)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}e.exports=t.default})(Be,Be.exports);var ji=Be.exports;const $i=os(ji);var We={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){var a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),n.getTime()-a.getTime()}e.exports=t.default})(We,We.exports);var Ni=We.exports;const Ot=os(Ni);function ki(e,t){var s=Mi(t);return s.formatToParts?Si(s,e):Ti(s,e)}var Ci={year:0,month:1,day:2,hour:3,minute:4,second:5};function Si(e,t){try{for(var s=e.formatToParts(t),n=[],a=0;a<s.length;a++){var o=Ci[s[a].type];o>=0&&(n[o]=parseInt(s[a].value,10))}return n}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function Ti(e,t){var s=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(s);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var De={};function Mi(e){if(!De[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),s=t==="06/25/2014, 00:00:00"||t==="â€Ž06â€Ž/â€Ž25â€Ž/â€Ž2014â€Ž â€Ž00â€Ž:â€Ž00â€Ž:â€Ž00";De[e]=s?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return De[e]}function Us(e,t,s,n,a,o,i){var l=new Date(0);return l.setUTCFullYear(e,t,s),l.setUTCHours(n,a,o,i),l}var Ht=36e5,Pi=6e4,Ee={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Bs(e,t,s){var n,a;if(!e||(n=Ee.timezoneZ.exec(e),n))return 0;var o;if(n=Ee.timezoneHH.exec(e),n)return o=parseInt(n[1],10),zt(o)?-(o*Ht):NaN;if(n=Ee.timezoneHHMM.exec(e),n){o=parseInt(n[2],10);var i=parseInt(n[3],10);return zt(o,i)?(a=Math.abs(o)*Ht+i*Pi,n[1]==="+"?-a:a):NaN}if(Ai(e)){t=new Date(t||Date.now());var l=s?t:Di(t),d=Ye(l,e),c=s?d:Ei(t,d,e);return-c}return NaN}function Di(e){return Us(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Ye(e,t){var s=ki(e,t),n=Us(s[0],s[1]-1,s[2],s[3]%24,s[4],s[5],0).getTime(),a=e.getTime(),o=a%1e3;return a-=o>=0?o:1e3+o,n-a}function Ei(e,t,s){var n=e.getTime(),a=n-t,o=Ye(new Date(a),s);if(t===o)return t;a-=o-t;var i=Ye(new Date(a),s);return o===i?o:Math.max(o,i)}function zt(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Ut={};function Ai(e){if(Ut[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Ut[e]=!0,!0}catch{return!1}}var Li=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Ae=36e5,Bt=6e4,Ii=2,E={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Li};function qe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var s={},n=s.additionalDigits==null?Ii:$i(s.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Fi(e),o=Ri(a.date,n),i=o.year,l=o.restDateString,d=Oi(l,i);if(isNaN(d))return new Date(NaN);if(d){var c=d.getTime(),h=0,m;if(a.time&&(h=Hi(a.time),isNaN(h)))return new Date(NaN);if(a.timeZone||s.timeZone){if(m=Bs(a.timeZone||s.timeZone,new Date(c+h)),isNaN(m))return new Date(NaN)}else m=Ot(new Date(c+h)),m=Ot(new Date(c+h+m));return new Date(c+h+m)}else return new Date(NaN)}function Fi(e){var t={},s=E.dateTimePattern.exec(e),n;if(s?(t.date=s[1],n=s[3]):(s=E.datePattern.exec(e),s?(t.date=s[1],n=s[2]):(t.date=null,n=e)),n){var a=E.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function Ri(e,t){var s=E.YYY[t],n=E.YYYYY[t],a;if(a=E.YYYY.exec(e)||n.exec(e),a){var o=a[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(a=E.YY.exec(e)||s.exec(e),a){var i=a[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function Oi(e,t){if(t===null)return null;var s,n,a,o;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(s=E.MM.exec(e),s)return n=new Date(0),a=parseInt(s[1],10)-1,Yt(t,a)?(n.setUTCFullYear(t,a),n):new Date(NaN);if(s=E.DDD.exec(e),s){n=new Date(0);var i=parseInt(s[1],10);return Bi(t,i)?(n.setUTCFullYear(t,0,i),n):new Date(NaN)}if(s=E.MMDD.exec(e),s){n=new Date(0),a=parseInt(s[1],10)-1;var l=parseInt(s[2],10);return Yt(t,a,l)?(n.setUTCFullYear(t,a,l),n):new Date(NaN)}if(s=E.Www.exec(e),s)return o=parseInt(s[1],10)-1,qt(t,o)?Wt(t,o):new Date(NaN);if(s=E.WwwD.exec(e),s){o=parseInt(s[1],10)-1;var d=parseInt(s[2],10)-1;return qt(t,o,d)?Wt(t,o,d):new Date(NaN)}return null}function Hi(e){var t,s,n;if(t=E.HH.exec(e),t)return s=parseFloat(t[1].replace(",",".")),Le(s)?s%24*Ae:NaN;if(t=E.HHMM.exec(e),t)return s=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),Le(s,n)?s%24*Ae+n*Bt:NaN;if(t=E.HHMMSS.exec(e),t){s=parseInt(t[1],10),n=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return Le(s,n,a)?s%24*Ae+n*Bt+a*1e3:NaN}return null}function Wt(e,t,s){t=t||0,s=s||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,o=t*7+s+1-a;return n.setUTCDate(n.getUTCDate()+o),n}var zi=[31,28,31,30,31,30,31,31,30,31,30,31],Ui=[31,29,31,30,31,30,31,31,30,31,30,31];function Ws(e){return e%400===0||e%4===0&&e%100!==0}function Yt(e,t,s){if(t<0||t>11)return!1;if(s!=null){if(s<1)return!1;var n=Ws(e);if(n&&s>Ui[t]||!n&&s>zi[t])return!1}return!0}function Bi(e,t){if(t<1)return!1;var s=Ws(e);return!(s&&t>366||!s&&t>365)}function qt(e,t,s){return!(t<0||t>52||s!=null&&(s<0||s>6))}function Le(e,t,s){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||s!=null&&(s<0||s>=60))}function V(e,t,s){var n=qe(e,s),a=Bs(t,n,!0),o=new Date(n.getTime()-a),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}var Ie={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},Wi={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=Ie),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:function(){this.resetZoom(e,!1,!1)}.bind(this)};var s=this.getOption(e,"sync","enabled");s&&(e.crosshair.syncEventHandler=function(n){this.handleSyncEvent(e,n)}.bind(this),e.crosshair.resetZoomEventHandler=function(n){var a=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===a&&this.resetZoom(e,!0)}.bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var s=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,a=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,n),e.crosshair.end=e.crosshair.start===n?n+s:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===a?a-s:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,s){return bt(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][s]:void 0,Ie[t][s])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var s=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===s){var n=this.getXScale(e);if(n){var a=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(a=0);var o={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:n.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:a},stop:!0};e._eventHandler(o)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let s=t.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var a=this.getXScale(e);if(a){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var o=s.native.buttons===void 0?s.native.which:s.native.buttons;s.native.type==="mouseup"&&(o=0);var i=this.getOption(e,"sync","enabled"),l=this.getOption(e,"sync","group");if(!s.stop&&i){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=l,t.original=s,t.xValue=a.getValueForPixel(s.x),window.dispatchEvent(t)}var d=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=s.stop&&d,e.crosshair.enabled=s.type!=="mouseout"&&s.x>a.getPixelForValue(a.min)&&s.x<a.getPixelForValue(a.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return s.x>a.getPixelForValue(a.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var c=this.getOption(e,"zoom","enabled");if(o===1&&!e.crosshair.dragStarted&&c&&(e.crosshair.dragStartX=s.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&o===0){e.crosshair.dragStarted=!1;var h=a.getValueForPixel(e.crosshair.dragStartX),m=a.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,h,m),e.update("none")}e.crosshair.x=s.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var a=e.data.datasets[n];a.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var o=this.getOption(e,"sync","enabled");if(!t&&s&&o){var i=this.getOption(e,"sync","group"),l=new CustomEvent("reset-zoom-event");l.chartId=e.id,l.syncGroup=i,window.dispatchEvent(l)}s&&e.update("none")},doZoom:function(e,t,s){if(t>s){var n=t;t=s,s=n}var a=bt(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,Ie.callbacks.beforeZoom);if(!a(t,s))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var o=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),l=this.getOption(e,"zoom","zoomButtonClass"),d=document.createTextNode(i);o.appendChild(d),o.className=l,o.addEventListener("click",function(){this.resetZoom(e)}.bind(this)),e.canvas.parentNode.appendChild(o),e.crosshair.button=o}e.options.scales.x.min=t,e.options.scales.x.max=s;var c=e.crosshair.originalData.length===0,h=e.config.options.scales.x.type!=="category";if(h)for(var m=0;m<e.data.datasets.length;m++){var x=[],b=0,g=!1,w=!1;c&&(e.crosshair.originalData[m]=e.data.datasets[m].data);for(var u=e.crosshair.originalData[m],$=0;$<u.length;$++){var _=u[$],k=_.x!==void 0?_.x:NaN;k>=t&&!g&&b>0&&(x.push(u[b-1]),g=!0),k>=t&&k<=s&&x.push(_),k>s&&!w&&b<u.length&&(x.push(_),w=!0),b+=1}e.data.datasets[m].data=x}if(e.crosshair.start=t,e.crosshair.end=s,c){var v=this.getXScale(e);e.crosshair.min=v.min,e.crosshair.max=v.max}e.crosshair.ignoreNextEvents=2,e.update("none");var y=this.getOption(e,"callbacks","afterZoom");y(t,s)},drawZoombox:function(e){var t=this.getYScale(e),s=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=s,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),s=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),a=this.getOption(e,"line","dashPattern"),o=this.getOption(e,"snap","enabled"),i=e.crosshair.x;o&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(a),e.ctx.moveTo(i,t.getPixelForValue(t.max)),e.ctx.lineWidth=s,e.ctx.strokeStyle=n,e.ctx.lineTo(i,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),a=e.scales[n.yAxisID];n.hidden||!s.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,a.getPixelForValue(s.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=s.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),a=e.scales[n.xAxisID],o=a.getValueForPixel(e.crosshair.x);if(!(n.hidden||!s.interpolate)){var i=s.data,l=i.findIndex(function(m){return m.x>=o}),d=i[l-1],c=i[l];if(e.data.datasets[t].steppedLine&&d)s.interpolatedValue=d.y;else if(d&&c){var h=(c.y-d.y)/(c.x-d.x);s.interpolatedValue=d.y+(o-d.x)*h}else s.interpolatedValue=NaN}}}};const fe=(e=1)=>`rgba(48, 166, 51, ${e})`,me=(e=1)=>`rgba(241, 77, 66, ${e})`,Gt="text-[#30a633]",Zt="text-[#f14d42]",Yi=["1d","5d","1m","6m","ytd","1y","5y","max"];function qi({histories:e,selectedInterval:t,onSelectHistoryInterval:s}){const n=Object.keys(e?.quotes??{});return r.jsx("div",{className:"text-token-text-tertiary inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold sm:justify-start sm:gap-1 dark:bg-[#393939]",children:n.map(a=>r.jsx("button",{onClick:()=>{s?.(a)},className:j("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase",t===a?"border-token-border-default! bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:border-token-border-medium! rounded-lg":"hover:text-token-text-secondary"),children:Ys[a].label},a))})}const Ys={"1d":{label:"1D",formatTimestampLabel:Vt,formatTimestampTooltip:Vt,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:Kt,formatTimestampTooltip:Zi,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:Kt,formatTimestampTooltip:Vi,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:Fe,formatTimestampTooltip:Q,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:Fe,formatTimestampTooltip:Q,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:Fe,formatTimestampTooltip:Q,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:Xt,formatTimestampTooltip:Q,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:Xt,formatTimestampTooltip:Q,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function Gi(e){return e?Yi.filter(s=>s in e.quotes).find(s=>e.quotes[s].length>0):void 0}function G(e,t){return V(new Date(e*1e3),t??"America/New_York")}function Vt(e,t,s){const n=G(t,s);return e.formatTime(n,{hour:"numeric",minute:"numeric"})}function Zi(e,t,s){const n=G(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function Q(e,t,s){const n=G(t,s);return e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}function Fe(e,t,s){const n=G(t,s);return e.formatDate(n,{month:"short",year:"numeric"})}function Kt(e,t,s){const n=G(t,s);return e.formatDate(n,{month:"short",day:"numeric"})}function Vi(e,t,s){const n=G(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric"})}function Xt(e,t,s){const n=G(t,s);return e.formatDate(n,{year:"numeric"})}Wr.register(Yr,qr,Gr,Zr,Vr,Kr,Xr,Jr,Qr,Wi,ea);const Ki=100,Jt={color:"#b4b4b4",font:{size:10,weight:"600",family:"Menlo"}};function Xi({isUp:e,histories:t,selectedInterval:s,setHighlightedPrice:n,latestTradingPeriod:a,timezone:o}){return r.jsx(r.Fragment,{children:t&&s&&a?r.jsx(Ji,{isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:a,timezone:o,setHighlightedPrice:n}):r.jsx(te,{className:"h-full",index:1,width:100})})}function Ji({isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:n,timezone:a,setHighlightedPrice:o}){const[i,l]=p.useState(null),[d,c]=p.useState(!1),h=s==="1d",m=p.useMemo(()=>{let v=t.quotes[s].filter(y=>y.close>=0);if(h&&n){const y=n.regular.start_timestamp,C=n.regular.end_timestamp;if(v=v.filter(M=>M.timestamp>=y&&M.timestamp<=C),v.length===0||v[v.length-1].timestamp<C){let f=v.length>0?v[v.length-1].timestamp:y-600;for(;f<C;)f+=600,v.push({timestamp:f,close:null})}}return v},[t,s,h,n]),x=Ys[s],{formatTimestampTooltip:b,maxTicksLimit:g,useUtc:w=!1}=x,u=T(),$=Ke(),_=ve(),k=p.useMemo(()=>{const{formatTimestampLabel:v,lineTension:y}=x;return{labels:m.map(C=>v(u,C.timestamp,w?"UTC":a)),datasets:[{data:m.map(C=>C.close),borderColor:e?fe():me(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?fe():me(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function(C){const{ctx:M,chartArea:f}=C.chart;if(f)return ec(M,f,e)},fill:!0,borderWidth:2,lineTension:y??.4}]}},[x,m,e,w,a,u]);return r.jsx("div",{className:"flex h-full flex-col gap-6",children:r.jsxs("div",{className:"relative h-full",onMouseEnter:()=>c(!0),onMouseLeave:()=>{c(!1),o(null)},children:[r.jsx(ta,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:d?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:v=>{if(v.ticks.length>g)if(h)v.ticks=v.ticks.filter((y,C)=>m[C].timestamp%($?3600:7200)===0);else{const y=Math.ceil(v.ticks.length/(g-1));v.ticks=v.ticks.filter((C,M)=>M>0&&(M%y===0||M===v.ticks.length-1))}},grid:{display:!1},ticks:{...Jt,align:"end"}},y:{ticks:{...Jt,maxTicksLimit:7},border:{display:!1},grid:{color:_?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(v){const y=v[0];if(!y)return"";const C=m[y.dataIndex]?.timestamp;return C?b(u,C,w?"UTC":a):""}},external:({tooltip:v})=>{d&&v.opacity>0&&o(se(v.dataPoints?.[0]?.parsed?.y??0)),l(y=>{const C=v.chart.width,M=v.caretX>C-Ki;return!y||y.x!==v.caretX||y.y!==v.caretY||y.opacity!==v.opacity||y.flip!==M?{...y,x:v.caretX,y:v.caretY,dateLabel:v.title?.[0],value:se(v.dataPoints?.[0]?.parsed?.y??0),opacity:v.opacity,flip:M}:y})}},dropShadow:!1,crosshair:{line:{color:_?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:k}),r.jsx(Qi,{tooltipData:i})]})})}function Qi({tooltipData:e}){return!e||!e.opacity?null:r.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:j("text-token-main-surface-primary dark:bg-token-main-surface-secondary pointer-events-none absolute translate-y-[-100%] rounded-lg bg-black px-2 py-1 font-mono font-semibold whitespace-nowrap dark:text-white"),children:r.jsx("div",{className:"text-xs",children:e.dateLabel})})}function ec(e,t,s){const n=e.createLinearGradient(0,t.top,0,t.bottom);return n.addColorStop(0,s?fe(.4):me(.4)),n.addColorStop(1,s?fe(0):me(0)),n}function se(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function R({label:e,value:t,className:s}){return r.jsxs("div",{className:j("flex w-full flex-1 flex-row justify-between text-sm",s),children:[r.jsx("span",{className:"text-token-text-secondary font-normal whitespace-nowrap",children:e}),r.jsx("span",{className:"text-token-text-primary font-normal whitespace-nowrap",children:t})]})}function tc({metrics:e}){const t=T(),s=!!(e.marketCap&&e.peRatio&&e.eps);return r.jsx("div",{className:"border-token-border-default flex flex-col gap-1 rounded-b-lg border-t bg-[#f4f4f4] px-4 py-3 dark:bg-[#393939]",children:r.jsxs("div",{className:j("grid grid-cols-2 gap-x-10 gap-y-3 lg:grid-cols-3 lg:gap-x-6"),children:[r.jsx(R,{label:t.formatMessage({id:"MDHEj7",defaultMessage:"Open"}),value:t.formatNumber(e.openPrice,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-1"}),r.jsx(R,{label:t.formatMessage({id:"PboNMC",defaultMessage:"Volume"}),value:t.formatNumber(e.intradayVolume,{notation:"compact",maximumFractionDigits:1}),className:j("order-2",!s&&"lg:order-last")}),r.jsxs("div",{className:"order-4 row-span-2 flex flex-col gap-3",children:[r.jsx(R,{label:t.formatMessage({id:"bresUW",defaultMessage:"Day Low"}),value:t.formatNumber(e.intradayLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),r.jsx(R,{label:t.formatMessage({id:"oWyv5V",defaultMessage:"Day High"}),value:t.formatNumber(e.intradayHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})]}),r.jsxs("div",{className:"order-5 row-span-2 flex flex-col gap-3",children:[r.jsx(R,{label:t.formatMessage({id:"DcEYIK",defaultMessage:"Year Low"}),value:t.formatNumber(e.fiftyTwoWeekLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),r.jsx(R,{label:t.formatMessage({id:"ZfFtJ4",defaultMessage:"Year High"}),value:t.formatNumber(e.fiftyTwoWeekHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})]}),e.marketCap&&r.jsx(R,{label:t.formatMessage({id:"BzyP4Y",defaultMessage:"Market Cap"}),value:t.formatNumber(e.marketCap,{notation:"compact",maximumFractionDigits:2}),className:"order-last lg:order-3"}),e.peRatio&&e.eps&&r.jsxs(r.Fragment,{children:[r.jsx(R,{label:t.formatMessage({id:"edGd+S",defaultMessage:"EPS (TTM)"}),value:t.formatNumber(e.eps,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-last"}),r.jsx(R,{label:t.formatMessage({id:"AhpCu1",defaultMessage:"P/E Ratio"}),value:t.formatNumber(e.peRatio,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-last"})]})]})})}function sc({data:e,priceChange:t,highlightedPrice:s,extendedPriceChange:n,url:a}){function o(i,l="intraday",d=null){const{isUp:c,changePercentage:h,changeLabel:m,changeAmount:x}=i,b=Math.abs(h).toFixed(2),g=se(x);return r.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[l==="extended_hours"&&d!=null&&r.jsx("span",{className:"font-semibold",children:r.jsx(N,{id:"HWwWpW",defaultMessage:"{price}",values:{price:d}})}),r.jsx("span",{className:j("font-semibold",c?Gt:Zt),children:r.jsx(N,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:g,sign:c?"+":""}})}),r.jsx("span",{className:j("font-semibold",c?Gt:Zt),children:r.jsx(N,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:b,sign:c?"+":"-"}})}),l==="extended_hours"?r.jsx("span",{className:"text-token-text-primary min-w-0 truncate",children:m}):r.jsx("span",{className:"text-token-text-primary min-w-0 truncate",children:m})]})}return r.jsxs("div",{children:[r.jsx("div",{className:"mt-2 text-sm",children:e?r.jsx(N,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):r.jsx("div",{className:"w-32 font-medium",children:r.jsx(te,{index:9,width:100})})}),r.jsx("div",{className:"text-token-text-tertiary text-sm",children:e?r.jsx(r.Fragment,{children:a!=null&&r.jsxs(r.Fragment,{children:[" Â· ",r.jsx(q,{href:a,className:"text-token-link hover:underline",children:ls(a,"hostname")})]})}):r.jsx("div",{className:"mt-2 w-36",children:r.jsx(te,{index:6,width:100})})}),r.jsx("div",{className:"mt-2 flex text-4xl font-semibold",children:e?r.jsx(N,{id:"s+1uly",defaultMessage:"{price}",values:{price:s??se(e.price.price)}}):r.jsx("div",{className:"w-32",children:r.jsx(te,{index:0,width:100})})}),r.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:t?o(t):r.jsx("div",{className:"mt-2 w-40",children:r.jsx(te,{index:3,width:100})})}),r.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&n!=null&&o(n,"extended_hours",se(e.price.extended_price))})]})}function nc({contentReference:e,trackContentReferenceEvent:t}){const s=T();p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown","stock")},[t]);const n=Gi(e?.stock?.histories),a=e?.stock,[o,i]=p.useState(n),[l,d]=p.useState(null),c=o==="1d",h=a?.histories?.quotes?.[o??""]?.[0],m=o&&o in de?o:void 0,x=a&&(h&&!c?{changePercentage:(a.price.price-h.close)/h.close*100,changeAmount:a.price.price-h.close,changeLabel:m?s.formatMessage(de[m]):"",isUp:a.price.price>h.close}:a.price.change_percent&&a.price.change?{changePercentage:a.price.change_percent*100,changeAmount:a.price.change,changeLabel:ac(a.price.latest_trade_timestamp,a.asset.timezone,s),isUp:a.price.change?a.price.change>0:!1}:null),b=a&&a.price.extended_price!=null&&a.price.extended_change_percent!=null&&a.price.extended_change!=null?{changePercentage:a.price.extended_change_percent*100,changeAmount:a.price.extended_change,changeLabel:s.formatMessage(rc(a.price.market_status)??de.extended),isUp:a.price.extended_change>0}:null,{fiftyTwoWeekHigh:g,fiftyTwoWeekLow:w}=p.useMemo(()=>{const _=a?.histories?.quotes["1y"];if(!_)return{fiftyTwoWeekHigh:null,fiftyTwoWeekLow:null};const k=_.map(y=>y.high).filter(y=>y!=null),v=_.map(y=>y.low).filter(y=>y!=null);return{fiftyTwoWeekHigh:k.length>0?Math.max(...k):null,fiftyTwoWeekLow:v.length>0?Math.min(...v):null}},[a?.histories?.quotes]),u=a?.price.open_price&&a.price.intraday_high&&a.price.intraday_low&&a.price.intraday_volume&&g&&w?{openPrice:a.price.open_price,intradayHigh:a.price.intraday_high,intradayLow:a.price.intraday_low,intradayVolume:a.price.intraday_volume,fiftyTwoWeekHigh:g,fiftyTwoWeekLow:w,marketCap:a.metrics?.market_cap??void 0,peRatio:a.metrics?.pe_ratio??void 0,eps:a.metrics?.eps??void 0}:null,$=u!=null;return r.jsxs("div",{className:j("border-token-border-default flex min-h-[480px] flex-col gap-8 rounded-lg border"),children:[r.jsxs("div",{className:"mx-6 flex flex-wrap items-end justify-between",children:[r.jsx(sc,{data:a??null,highlightedPrice:l,priceChange:x??null,extendedPriceChange:b??null,url:e?.url??null}),r.jsx("div",{className:"mt-4",children:r.jsx(qi,{selectedInterval:o,onSelectHistoryInterval:i,histories:a?.histories})})]}),r.jsx("div",{className:"mx-6 h-[340px]",children:r.jsx(Xi,{isUp:x?.isUp??!1,selectedInterval:o,histories:a?.histories,setHighlightedPrice:d,onSelectHistoryInterval:_=>i(_),latestTradingPeriod:a?.asset.latest_trading_period,timezone:a?.asset.timezone??null})}),$&&r.jsx("div",{className:"-mt-4",children:r.jsx(tc,{metrics:u})})]})}function rc(e){if(e==null)return null;const t=e.toLowerCase();return t==="premarket"||t==="open"?je({id:"By+pvF",defaultMessage:"Pre-Market"}):t==="afterhours"||t==="closed"?je({id:"aLCg3c",defaultMessage:"After Hours"}):je({id:"2p526c",defaultMessage:"Extended Hours"})}function ac(e,t,s){function n(a,o){const l=V(new Date,o),d=s.formatDate(l,{year:"numeric",month:"2-digit",day:"2-digit"}),c=qe(a*1e3),h=V(c,o),m=s.formatDate(h,{year:"numeric",month:"2-digit",day:"2-digit"});return d===m}if(!e||!t||n(e,t))return s.formatMessage(de["1d"]);{const a=qe(e*1e3),o=V(a,t);return s.formatDate(o,{month:"long",day:"numeric"})}}const de=ye({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),oc={google_maps:{title:"Google Maps"}};function ic({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const s=oc[e.provider]?.title??"Maps";return r.jsx("span",{children:r.jsx(N,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:r.jsx(q,{href:e.url,children:s})}})})}function cc(e){"use forget";const t=is.c(19),{metadata:s,trackContentReferenceEvent:n}=e,a=s.items.length>0,o=p.useRef(n);let i,l;t[0]!==n?(i=()=>{o.current=n},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),p.useEffect(i,l);let d,c;t[3]!==a?(d=()=>{a&&o.current("Search Content Reference Shown","search_content_reference_shown","nav_list")},c=[a],t[3]=a,t[4]=d,t[5]=c):(d=t[4],c=t[5]),p.useEffect(d,c);const h=!Ke(),m=ae();if(s.items.length===0)return null;const x=h||m?2:s.items.length;let b;t[6]!==s.title?(b=s.title&&r.jsx("div",{className:"text-token-text-primary -mb-1 pb-3 font-semibold",children:s.title}),t[6]=s.title,t[7]=b):b=t[7];let g;if(t[8]!==x||t[9]!==s.items||t[10]!==n){let $;t[12]!==n?($=(_,k)=>r.jsx(lc,{item:_,index:k,trackContentReferenceEvent:n,className:"flex-1"},k),t[12]=n,t[13]=$):$=t[13],g=s.items.slice(0,x).map($),t[8]=x,t[9]=s.items,t[10]=n,t[11]=g}else g=t[11];let w;t[14]!==g?(w=r.jsx("div",{className:"flex flex-row justify-start gap-4",children:g}),t[14]=g,t[15]=w):w=t[15];let u;return t[16]!==b||t[17]!==w?(u=r.jsxs("div",{className:"mt-6",children:[b,w]}),t[16]=b,t[17]=w,t[18]=u):u=t[18],u}function lc({item:e,index:t,trackContentReferenceEvent:s,className:n}){const{isSuccess:a}=Re(e.thumbnail_url??void 0),o={url:e.url,title:e.title,section_index:t,link_type:"text",section:"nav_list",section_location:"response"};p.useEffect(()=>{s("link_action","link_action","nav_list",{...o,action:"show"})},[]);const l=T().locale,d=e.pub_date!=null?new Date(e.pub_date*1e3):null,c=new Intl.RelativeTimeFormat(l,{numeric:"auto"}),h=d?Math.max(Math.floor((Date.now()-d.getTime())/(1e3*60*60*24)),0):null;let m=h!=null?c.format(-h,"day"):null;return l.startsWith("en")&&m&&(m=m.charAt(0).toUpperCase()+m.slice(1)),r.jsxs(q,{className:`group/nav-list pt border-token-border-default bg-token-main-surface-primary dark:bg-token-main-surface-secondary relative flex flex-col items-center gap-4 overflow-hidden rounded-xl border pb-6 hover:shadow-sm ${n} max-w-1/2`,href:e.url,onClick:()=>{s("link_action","link_action","nav_list",{...o,action:"click"})},children:[a&&e.thumbnail_url?r.jsx("div",{className:"relative h-36 w-full overflow-hidden",children:r.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full",style:{objectFit:"cover"},alt:e.title})}):r.jsxs("div",{className:"icon-bg relative flex h-36 w-full shrink-0 items-center justify-center overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-cover bg-center bg-no-repeat blur-3xl",children:r.jsx(ke,{url:e.url,size:256,minSize:128,className:"mix-soft-light opacity-30 dark:opacity-20"})}),r.jsx("div",{className:"absolute flex h-10 w-10 items-center justify-center",children:r.jsx(ke,{url:e.url,size:128,minSize:80,className:"icon-xl rounded-full"})})]}),r.jsxs("div",{className:"flex flex-col gap-2 overflow-hidden px-4 text-ellipsis",children:[r.jsxs("div",{className:"text-token-text-primary flex items-center gap-1.5 text-xs",children:[r.jsx(ke,{url:e.url,size:32,minSize:16,className:"icon-xs my-0 rounded-full"}),e.attribution??ls(e.url)]}),r.jsx("div",{className:"text-token-text-primary decoration-token-link line-clamp-5 text-sm font-medium",children:e.title}),m&&r.jsx("div",{className:"text-token-text-secondary text-xs",children:m})]})]})}function H(e,t){const s=An(e),n=t<0?"-":"+",a=Math.abs(t),o=Math.floor(a/3600).toString().padStart(2,"0"),i=Math.floor(a%3600/60).toString().padStart(2,"0"),l=`${n}${o}:${i}`;return V(s,l)}function Ge(e,t){if(mt(t))return r.jsx(N,{id:"wxni9H",defaultMessage:"Today"});const s=new Date;return s.setTime(s.getTime()+7*24*60*60*1e3),t<s&&t>new Date||mt(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const dc="webp",uc=250,hc=187,fc="srgb",mc=4,pc="uchar",gc=72,xc=!1,yc=!1,bc=!0,wc="{{.assetPrefix}}/assets/missing-logo-h96s4tk9.webp",Qt={format:dc,width:uc,height:hc,space:fc,channels:mc,depth:pc,density:gc,isProgressive:xc,hasProfile:yc,hasAlpha:bc,src:wc};function qs({team:e,className:t}){const[s,n]=p.useState(e.logo??Qt.src),a=()=>{Xe.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),n(Qt.src)};return r.jsx("img",{src:s,alt:e.name,className:t,onError:a})}const ne=["ipl"],es=6,B="home",W="away";function vc({scheduleRef:e,trackContentReferenceEvent:t}){const[s,n]=p.useState(!0),a=T(),o=e.games.length>0,i=e.league.id,l=Ln(),d=ae();if(p.useEffect(()=>{o&&t("Search Content Reference Shown","search_content_reference_shown","sports",{hasSchedule:!0})},[o]),!o)return null;const h=(a.formatDateToParts(new Date,{timeZoneName:"long"}).find(g=>g.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let m=e.games;const x=g=>Math.abs(new Date().getTime()-new Date(g.date).getTime());x(m[0])>x(m[m.length-1])&&(m=m.slice().reverse());const b=s?m.slice(0,es):m;return r.jsxs("div",{className:"not-prose mb-3",children:[r.jsx("div",{className:"font-semibold",children:r.jsx(N,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),r.jsx("div",{className:"text-token-text-secondary text-sm",children:h}),b.length===1?r.jsx("div",{children:r.jsx(ut,{children:r.jsx(ht.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:r.jsx("div",{className:"border-token-border-medium mt-3 rounded-xl border py-3",children:r.jsx(jc,{game:b[0],useAlias:ne.includes(i),leagueId:i,activeTeam:b[0]?.active_team??null,isMobile:d})})})})}):r.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:r.jsx(ut,{children:b.map((g,w)=>r.jsx(ht.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:w*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:r.jsx("div",{className:j("border-token-border-medium border-b py-3",w%2===0&&"lg:border-e lg:pe-4",w%2===1&&"lg:ps-4",Math.floor(w/2)===Math.ceil(m.length/2)-1&&"lg:border-b-0",w===m.length-1&&"border-b-0"),children:r.jsx(_c,{game:g,useAlias:(l||d)&&ne.includes(i),leagueId:i,activeTeam:g.active_team??null})})},w))})}),m.length>es&&r.jsx("div",{className:"mt-2 flex items-center justify-between",children:r.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!s),children:s?r.jsx(N,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:r.jsx(In,{className:"mb-[-2px]"})}}):r.jsx(N,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:r.jsx(Fn,{className:"mb-[-2px]"})}})})})]})}function _c({game:e,useAlias:t=!1,leagueId:s,activeTeam:n}){const a=Zs(e),o=[e.first_team_info,e.second_team_info],i=o.find(h=>h.location===B)??e.first_team_info,l=o.find(h=>h.location===W)??e.second_team_info,d=a?.team.name===i?.team.name,c=a?.team.name===l?.team.name;return r.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[r.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pe-3",children:[r.jsx(ge,{team:l.team,isWinner:c,isActive:n===W,logoSize:"small",useAlias:t}),r.jsx(ge,{team:i.team,isWinner:d,isActive:n===B,logoSize:"small",useAlias:t})]}),r.jsxs("div",{className:j("flex flex-none flex-col items-start gap-1",ne.includes(s)&&"me-4"),children:[r.jsx(xe,{score:l.score,scoreSuffix:l.score_suffix,scoreParenthetical:l.score_parenthetical?{message:l.score_parenthetical,position:"right"}:null,isWinner:c,negateScore:pe(s,W,n)}),r.jsx(xe,{score:i.score,scoreSuffix:i.score_suffix,scoreParenthetical:i.score_parenthetical?{message:i.score_parenthetical,position:"right"}:null,isWinner:d,negateScore:pe(s,B,n)})]}),r.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:r.jsx(Vs,{game:e})})]})}function jc({game:e,useAlias:t=!1,leagueId:s,activeTeam:n,isMobile:a}){const o=Zs(e),i=[e.first_team_info,e.second_team_info],l=i.find(m=>m.location===B)??e.first_team_info,d=i.find(m=>m.location===W)??e.second_team_info,c=o?.team.name===l?.team.name,h=o?.team.name===d?.team.name;return r.jsxs("div",{className:"flex w-full py-3 text-base",children:[r.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:r.jsx(ge,{team:d.team,isWinner:h,isActive:n===W,useAlias:t,layoutDirection:a?"column":"row"})}),r.jsx("div",{className:"ms-2 flex items-center justify-start sm:ms-8",children:r.jsx(xe,{score:d.score,scoreSuffix:d.score_suffix,scoreParenthetical:d.score_parenthetical?{message:d.score_parenthetical,position:"bottom"}:null,isWinner:h,negateScore:pe(s,W,n),className:"text-sm font-semibold sm:text-lg"})}),r.jsx("div",{className:"mx-2 flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:r.jsx(Vs,{game:e})}),r.jsx("div",{className:"me-2 flex items-center justify-end sm:me-8",children:r.jsx(xe,{score:l.score,scoreSuffix:l.score_suffix,scoreParenthetical:l.score_parenthetical?{message:l.score_parenthetical,position:"bottom"}:null,isWinner:c,negateScore:pe(s,B,n),className:"text-sm font-semibold sm:text-lg"})}),r.jsx("div",{className:"flex flex-1 items-center justify-center md:px-2",children:r.jsx(ge,{team:l.team,isWinner:c,isActive:n===B,useAlias:t,layoutDirection:a?"column":"row"})})]})}function Gs(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function Zs(e){return Gs(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function pe(e,t,s){return ne.includes(e)&&t===B&&s===W}function ge({team:e,isWinner:t,isActive:s,logoSize:n,useAlias:a=!1,layoutDirection:o="row"}){return r.jsxs("span",{className:j("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64",o==="column"&&"flex-col"),children:[e.logo&&r.jsx(qs,{team:{name:e.name,logo:e.logo},className:j(n==="small"?"w-6":"w-8")}),r.jsx("span",{className:"truncate",children:a?e.alias:e.name}),s&&r.jsx("span",{className:"bg-token-surface-error inline-block h-2 w-2 rounded-full"})]})}function xe({score:e,scoreSuffix:t,scoreParenthetical:s,isWinner:n,negateScore:a=!1,className:o}){const i=T();return e==null?null:r.jsxs("span",{className:j(n&&"font-semibold",o),children:[a?i.formatMessage({id:"sports.dash",defaultMessage:"-"}):e,t&&!a&&r.jsx("span",{children:t}),s&&!a&&r.jsx("span",{className:j("text-token-text-secondary font-normal",s.position==="right"&&"ms-1",s.position==="bottom"&&"mx-auto block text-center"),children:`(${s.message})`})]})}function Vs({game:e}){const t=T();switch(Gs(e)){case"live":return r.jsxs(r.Fragment,{children:[r.jsx($c,{}),r.jsx("div",{children:e.details})]});case"complete":return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-semibold",children:r.jsx(N,{id:"q/iMZL",defaultMessage:"Final"})}),r.jsx("div",{className:"text-token-text-secondary",children:Ge(t,new Date(e.date))})]});case"scheduled":{const s=new Date(e.date);return isNaN(s.getTime())?null:r.jsxs(r.Fragment,{children:[r.jsx("div",{children:Ge(t,s)}),r.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(s,{timeStyle:"short"})})]})}}}function $c(){return r.jsx("div",{className:"bg-token-surface-error rounded-[4px] px-1.5 py-1 text-xs font-semibold text-white",children:r.jsx(N,{id:"vObALn",defaultMessage:"Live"})})}function Nc({standingsRef:e,trackContentReferenceEvent:t}){const[s,n]=p.useState(0),a=e.conferences.length>0,o=ae(),i=e.league.id;p.useEffect(()=>{a&&t("Search Content Reference Shown","search_content_reference_shown","sports",{hasStandings:!0})},[a]);const l=e.conferences[s],d=e.conferences.length>1?e.conferences.map((c,h)=>r.jsx("button",{className:j(s===h?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(h),children:c.name},c.name)):null;return r.jsxs(r.Fragment,{children:[d&&r.jsx("div",{className:"flex gap-4",children:d}),r.jsx("div",{className:"mt-3",children:l.divisions.map(c=>c.name?r.jsx("div",{className:"mt-3",children:r.jsx(ts,{division:c,teamsColumnHeader:c.name})},c.name):r.jsx(ts,{division:c,useAlias:o&&ne.includes(i)}))})]})}function ts({division:e,teamsColumnHeader:t,useAlias:s}){const n=e.headers.map(a=>a.key);return r.jsxs(A.Root,{size:"compact",className:"not-prose",children:[r.jsxs(A.Header,{children:[r.jsx(kc,{children:t??r.jsx(N,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(a=>r.jsx(Ks,{textAlign:"center",className:"min-w-11 px-0!",children:r.jsx(ss,{data:a})},a.key))]}),r.jsx(A.Body,{children:e.teams.map(({team:a,data:o},i)=>{const l=o.reduce((d,c)=>(d[c.key]=c,d),{});return r.jsxs(A.Row,{children:[r.jsx(A.Cell,{className:"w-full border-0! py-0! ps-0!",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-token-text-tertiary me-2 w-4 whitespace-nowrap tabular-nums",children:i+1}),r.jsxs("div",{className:"flex items-center justify-start gap-2",children:[r.jsx(qs,{team:a,className:"w-6"}),r.jsx("span",{className:"text-base whitespace-nowrap",children:s?a.alias:a.name})]})]})}),n.map(d=>r.jsx(A.Cell,{className:"min-w-11 border-0! px-0! py-0! text-start whitespace-nowrap tabular-nums",textAlign:"center",children:r.jsx(ss,{data:l[d]})},d))]},a.name)})})]})}function ss({data:e}){switch(e.type){case"text":return r.jsx(r.Fragment,{children:e.text});default:return r.jsx(r.Fragment,{children:e.alt})}}const Ks=gs(A.HeaderCell)`text-token-text-secondary font-normal! text-sm static! bg-transparent! border-token-border-default! border-t-0! border-s-0! border-e-0!`,kc=gs(Ks)`text-token-text-primary ps-0!`;function Cc({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const s=T(),n=V(e.utc_time,e.utc_offset),a=s.formatDate(n,{hour:"numeric",minute:"numeric"});return r.jsx("span",{children:a})}function Sc({metadata:e,trackContentReferenceEvent:t}){return p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]),r.jsx("div",{children:e.url?r.jsx(sa,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:r.jsx(q,{href:e.url,className:"font-semibold!",children:e.description})}):r.jsx("div",{className:"font-semibold!",children:e.description})})}function Tc({url:e,className:t}){let s;const n="aspect-video w-full rounded-lg",a=Mc(e);a&&(s=r.jsx(Pc,{videoId:a,className:n}));const o=Dc(e);return o&&(s=r.jsx(Ec,{videoId:o,className:n})),s?r.jsx("div",{className:t,children:s}):null}function Mc(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,s=e.match(t);return s?s[1]:null}function Pc({videoId:e,className:t}){return r.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Dc(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,s=e.match(t);return s?s[1]:null}function Ec({videoId:e,className:t}){return r.jsx(r.Fragment,{children:r.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Ac({video:e,trackContentReferenceEvent:t}){const s={url:e.url,title:e.title};return p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type,s)},[]),e.url==null||e.url===""?null:r.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:r.jsx(Tc,{url:e.url})})}const Lc=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34354 4.92894C6.7341 5.31946 6.7341 5.95263 6.34354 6.34315C3.21906 9.46735 3.21906 14.5327 6.34354 17.6569C6.7341 18.0474 6.7341 18.6806 6.34354 19.0711C5.95298 19.4616 5.31976 19.4616 4.9292 19.0711C1.0236 15.1658 1.0236 8.83418 4.9292 4.92894C5.31976 4.53842 5.95298 4.53842 6.34354 4.92894ZM17.6583 4.92894C18.0488 4.53842 18.682 4.53842 19.0726 4.92894C22.9782 8.83418 22.9782 15.1658 19.0726 19.0711C18.682 19.4616 18.0488 19.4616 17.6583 19.0711C17.2677 18.6806 17.2677 18.0474 17.6583 17.6569C20.7827 14.5327 20.7827 9.46735 17.6583 6.34315C17.2677 5.95263 17.2677 5.31946 17.6583 4.92894Z",fill:"currentColor"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17222 7.75737C9.56278 8.14789 9.56278 8.78106 9.17222 9.17158C7.60998 10.7337 7.60998 13.2663 9.17222 14.8284C9.56278 15.219 9.56278 15.8521 9.17222 16.2426C8.78166 16.6332 8.14844 16.6332 7.75788 16.2426C5.41452 13.8995 5.41452 10.1005 7.75788 7.75737C8.14844 7.36684 8.78166 7.36684 9.17222 7.75737ZM14.8296 7.75737C15.2201 7.36684 15.8534 7.36684 16.2439 7.75737C18.5873 10.1005 18.5873 13.8995 16.2439 16.2426C15.8534 16.6332 15.2201 16.6332 14.8296 16.2426C14.439 15.8521 14.439 15.219 14.8296 14.8284C16.3918 13.2663 16.3918 10.7337 14.8296 9.17158C14.439 8.78106 14.439 8.14789 14.8296 7.75737Z",fill:"currentColor"}),p.createElement("path",{d:"M14.0011 12C14.0011 13.1046 13.1056 14 12.0009 14C10.8962 14 10.0007 13.1046 10.0007 12C10.0007 10.8954 10.8962 10 12.0009 10C13.1056 10 14.0011 10.8954 14.0011 12Z",fill:"currentColor"})),Ic="webp",Fc=96,Rc=96,Oc="srgb",Hc=4,zc="uchar",Uc=288,Bc=!1,Wc=!1,Yc=!0,qc="{{.assetPrefix}}/assets/cloud-foggy-o4a3hmky.webp",Gc={format:Ic,width:Fc,height:Rc,space:Oc,channels:Hc,depth:zc,density:Uc,isProgressive:Bc,hasProfile:Wc,hasAlpha:Yc,src:qc},Zc="webp",Vc=96,Kc=96,Xc="srgb",Jc=4,Qc="uchar",el=288,tl=!1,sl=!1,nl=!0,rl="{{.assetPrefix}}/assets/cloudy-co8vwrk7.webp",al={format:Zc,width:Vc,height:Kc,space:Xc,channels:Jc,depth:Qc,density:el,isProgressive:tl,hasProfile:sl,hasAlpha:nl,src:rl},ol="webp",il=96,cl=96,ll="srgb",dl=4,ul="uchar",hl=288,fl=!1,ml=!1,pl=!0,gl="{{.assetPrefix}}/assets/heavy-snow-mke52kag.webp",xl={format:ol,width:il,height:cl,space:ll,channels:dl,depth:ul,density:hl,isProgressive:fl,hasProfile:ml,hasAlpha:pl,src:gl},yl="webp",bl=96,wl=96,vl="srgb",_l=4,jl="uchar",$l=288,Nl=!1,kl=!1,Cl=!0,Sl="{{.assetPrefix}}/assets/light-snow-mcy1l7t9.webp",Tl={format:yl,width:bl,height:wl,space:vl,channels:_l,depth:jl,density:$l,isProgressive:Nl,hasProfile:kl,hasAlpha:Cl,src:Sl},Ml="webp",Pl=96,Dl=96,El="srgb",Al=4,Ll="uchar",Il=288,Fl=!1,Rl=!1,Ol=!0,Hl="{{.assetPrefix}}/assets/moon-drizzle-cplxr2ub.webp",zl={format:Ml,width:Pl,height:Dl,space:El,channels:Al,depth:Ll,density:Il,isProgressive:Fl,hasProfile:Rl,hasAlpha:Ol,src:Hl},Ul="webp",Bl=96,Wl=96,Yl="srgb",ql=4,Gl="uchar",Zl=288,Vl=!1,Kl=!1,Xl=!0,Jl="{{.assetPrefix}}/assets/moon-hazy-jvgt25bp.webp",Ql={format:Ul,width:Bl,height:Wl,space:Yl,channels:ql,depth:Gl,density:Zl,isProgressive:Vl,hasProfile:Kl,hasAlpha:Xl,src:Jl},ed="webp",td=96,sd=96,nd="srgb",rd=4,ad="uchar",od=288,id=!1,cd=!1,ld=!0,dd="{{.assetPrefix}}/assets/moon-mostly-cloudy-cia3do0v.webp",ud={format:ed,width:td,height:sd,space:nd,channels:rd,depth:ad,density:od,isProgressive:id,hasProfile:cd,hasAlpha:ld,src:dd},hd="webp",fd=96,md=96,pd="srgb",gd=4,xd="uchar",yd=288,bd=!1,wd=!1,vd=!0,_d="{{.assetPrefix}}/assets/moon-mostly-sunny-n3mh1b6a.webp",jd={format:hd,width:fd,height:md,space:pd,channels:gd,depth:xd,density:yd,isProgressive:bd,hasProfile:wd,hasAlpha:vd,src:_d},$d="webp",Nd=96,kd=96,Cd="srgb",Sd=4,Td="uchar",Md=288,Pd=!1,Dd=!1,Ed=!0,Ad="{{.assetPrefix}}/assets/moon-shower-ntzhti9o.webp",Ld={format:$d,width:Nd,height:kd,space:Cd,channels:Sd,depth:Td,density:Md,isProgressive:Pd,hasProfile:Dd,hasAlpha:Ed,src:Ad},Id="webp",Fd=96,Rd=96,Od="srgb",Hd=4,zd="uchar",Ud=288,Bd=!1,Wd=!1,Yd=!0,qd="{{.assetPrefix}}/assets/moon-sunny-eg2emh4d.webp",Gd={format:Id,width:Fd,height:Rd,space:Od,channels:Hd,depth:zd,density:Ud,isProgressive:Bd,hasProfile:Wd,hasAlpha:Yd,src:qd},Zd="webp",Vd=96,Kd=96,Xd="srgb",Jd=4,Qd="uchar",eu=288,tu=!1,su=!1,nu=!0,ru="{{.assetPrefix}}/assets/rain-thunder-bx7a0l5g.webp",au={format:Zd,width:Vd,height:Kd,space:Xd,channels:Jd,depth:Qd,density:eu,isProgressive:tu,hasProfile:su,hasAlpha:nu,src:ru},ou="webp",iu=96,cu=96,lu="srgb",du=4,uu="uchar",hu=288,fu=!1,mu=!1,pu=!0,gu="{{.assetPrefix}}/assets/rain-cxs76xuj.webp",xu={format:ou,width:iu,height:cu,space:lu,channels:du,depth:uu,density:hu,isProgressive:fu,hasProfile:mu,hasAlpha:pu,src:gu},yu="webp",bu=96,wu=96,vu="srgb",_u=4,ju="uchar",$u=288,Nu=!1,ku=!1,Cu=!0,Su="{{.assetPrefix}}/assets/sleet-gc63vwmo.webp",Tu={format:yu,width:bu,height:wu,space:vu,channels:_u,depth:ju,density:$u,isProgressive:Nu,hasProfile:ku,hasAlpha:Cu,src:Su},Mu="webp",Pu=96,Du=96,Eu="srgb",Au=4,Lu="uchar",Iu=288,Fu=!1,Ru=!1,Ou=!0,Hu="{{.assetPrefix}}/assets/snow-d0k6tmmc.webp",zu={format:Mu,width:Pu,height:Du,space:Eu,channels:Au,depth:Lu,density:Iu,isProgressive:Fu,hasProfile:Ru,hasAlpha:Ou,src:Hu},Uu="webp",Bu=96,Wu=96,Yu="srgb",qu=4,Gu="uchar",Zu=288,Vu=!1,Ku=!1,Xu=!0,Ju="{{.assetPrefix}}/assets/sun-drizzle-g94obr5e.webp",Qu={format:Uu,width:Bu,height:Wu,space:Yu,channels:qu,depth:Gu,density:Zu,isProgressive:Vu,hasProfile:Ku,hasAlpha:Xu,src:Ju},eh="webp",th=96,sh=96,nh="srgb",rh=4,ah="uchar",oh=288,ih=!1,ch=!1,lh=!0,dh="{{.assetPrefix}}/assets/sun-hazy-c3z1j0hy.webp",uh={format:eh,width:th,height:sh,space:nh,channels:rh,depth:ah,density:oh,isProgressive:ih,hasProfile:ch,hasAlpha:lh,src:dh},hh="webp",fh=96,mh=96,ph="srgb",gh=4,xh="uchar",yh=288,bh=!1,wh=!1,vh=!0,_h="{{.assetPrefix}}/assets/sun-mostly-cloudy-d4o4zkga.webp",jh={format:hh,width:fh,height:mh,space:ph,channels:gh,depth:xh,density:yh,isProgressive:bh,hasProfile:wh,hasAlpha:vh,src:_h},$h="webp",Nh=96,kh=96,Ch="srgb",Sh=4,Th="uchar",Mh=288,Ph=!1,Dh=!1,Eh=!0,Ah="{{.assetPrefix}}/assets/sun-mostly-sunny-livrdkgu.webp",Lh={format:$h,width:Nh,height:kh,space:Ch,channels:Sh,depth:Th,density:Mh,isProgressive:Ph,hasProfile:Dh,hasAlpha:Eh,src:Ah},Ih="webp",Fh=96,Rh=96,Oh="srgb",Hh=4,zh="uchar",Uh=288,Bh=!1,Wh=!1,Yh=!0,qh="{{.assetPrefix}}/assets/sun-shower-lvtjthah.webp",Gh={format:Ih,width:Fh,height:Rh,space:Oh,channels:Hh,depth:zh,density:Uh,isProgressive:Bh,hasProfile:Wh,hasAlpha:Yh,src:qh},Zh="webp",Vh=96,Kh=96,Xh="srgb",Jh=4,Qh="uchar",ef=288,tf=!1,sf=!1,nf=!0,rf="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",af={format:Zh,width:Vh,height:Kh,space:Xh,channels:Jh,depth:Qh,density:ef,isProgressive:tf,hasProfile:sf,hasAlpha:nf,src:rf},of="webp",cf=96,lf=96,df="srgb",uf=4,hf="uchar",ff=288,mf=!1,pf=!1,gf=!0,xf="{{.assetPrefix}}/assets/thunder-jgjqg9ai.webp",yf={format:of,width:cf,height:lf,space:df,channels:uf,depth:hf,density:ff,isProgressive:mf,hasProfile:pf,hasAlpha:gf,src:xf},bf="webp",wf=96,vf=96,_f="srgb",jf=4,$f="uchar",Nf=288,kf=!1,Cf=!1,Sf=!0,Tf="{{.assetPrefix}}/assets/tornado-opa24tq3.webp",Mf={format:bf,width:wf,height:vf,space:_f,channels:jf,depth:$f,density:Nf,isProgressive:kf,hasProfile:Cf,hasAlpha:Sf,src:Tf},Pf="webp",Df=96,Ef=96,Af="srgb",Lf=4,If="uchar",Ff=288,Rf=!1,Of=!1,Hf=!0,zf="{{.assetPrefix}}/assets/windy-mw0a3u21.webp",Uf={format:Pf,width:Df,height:Ef,space:Af,channels:Lf,depth:If,density:Ff,isProgressive:Rf,hasProfile:Of,hasAlpha:Hf,src:zf},Bf="webp",Wf=96,Yf=96,qf="srgb",Gf=4,Zf="uchar",Vf=288,Kf=!1,Xf=!1,Jf=!0,Qf="{{.assetPrefix}}/assets/cloud-foggy-fhg0jn0w.webp",em={format:Bf,width:Wf,height:Yf,space:qf,channels:Gf,depth:Zf,density:Vf,isProgressive:Kf,hasProfile:Xf,hasAlpha:Jf,src:Qf},tm="webp",sm=96,nm=96,rm="srgb",am=4,om="uchar",im=288,cm=!1,lm=!1,dm=!0,um="{{.assetPrefix}}/assets/cloudy-disd26f3.webp",hm={format:tm,width:sm,height:nm,space:rm,channels:am,depth:om,density:im,isProgressive:cm,hasProfile:lm,hasAlpha:dm,src:um},fm="webp",mm=96,pm=96,gm="srgb",xm=4,ym="uchar",bm=288,wm=!1,vm=!1,_m=!0,jm="{{.assetPrefix}}/assets/heavy-snow-g6jjwo2d.webp",$m={format:fm,width:mm,height:pm,space:gm,channels:xm,depth:ym,density:bm,isProgressive:wm,hasProfile:vm,hasAlpha:_m,src:jm},Nm="webp",km=96,Cm=96,Sm="srgb",Tm=4,Mm="uchar",Pm=288,Dm=!1,Em=!1,Am=!0,Lm="{{.assetPrefix}}/assets/light-snow-iz0efpkh.webp",Im={format:Nm,width:km,height:Cm,space:Sm,channels:Tm,depth:Mm,density:Pm,isProgressive:Dm,hasProfile:Em,hasAlpha:Am,src:Lm},Fm="webp",Rm=96,Om=96,Hm="srgb",zm=4,Um="uchar",Bm=288,Wm=!1,Ym=!1,qm=!0,Gm="{{.assetPrefix}}/assets/moon-drizzle-b1nfv39c.webp",Zm={format:Fm,width:Rm,height:Om,space:Hm,channels:zm,depth:Um,density:Bm,isProgressive:Wm,hasProfile:Ym,hasAlpha:qm,src:Gm},Vm="webp",Km=96,Xm=96,Jm="srgb",Qm=4,ep="uchar",tp=288,sp=!1,np=!1,rp=!0,ap="{{.assetPrefix}}/assets/moon-hazy-nfnzea7a.webp",op={format:Vm,width:Km,height:Xm,space:Jm,channels:Qm,depth:ep,density:tp,isProgressive:sp,hasProfile:np,hasAlpha:rp,src:ap},ip="webp",cp=96,lp=96,dp="srgb",up=4,hp="uchar",fp=288,mp=!1,pp=!1,gp=!0,xp="{{.assetPrefix}}/assets/moon-mostly-cloudy-e56e3z55.webp",yp={format:ip,width:cp,height:lp,space:dp,channels:up,depth:hp,density:fp,isProgressive:mp,hasProfile:pp,hasAlpha:gp,src:xp},bp="webp",wp=96,vp=96,_p="srgb",jp=4,$p="uchar",Np=288,kp=!1,Cp=!1,Sp=!0,Tp="{{.assetPrefix}}/assets/moon-mostly-sunny-ffu4gzf4.webp",Mp={format:bp,width:wp,height:vp,space:_p,channels:jp,depth:$p,density:Np,isProgressive:kp,hasProfile:Cp,hasAlpha:Sp,src:Tp},Pp="webp",Dp=96,Ep=96,Ap="srgb",Lp=4,Ip="uchar",Fp=288,Rp=!1,Op=!1,Hp=!0,zp="{{.assetPrefix}}/assets/moon-shower-e5dy9u48.webp",Up={format:Pp,width:Dp,height:Ep,space:Ap,channels:Lp,depth:Ip,density:Fp,isProgressive:Rp,hasProfile:Op,hasAlpha:Hp,src:zp},Bp="webp",Wp=96,Yp=96,qp="srgb",Gp=4,Zp="uchar",Vp=288,Kp=!1,Xp=!1,Jp=!0,Qp="{{.assetPrefix}}/assets/moon-sunny-d9o08xiw.webp",eg={format:Bp,width:Wp,height:Yp,space:qp,channels:Gp,depth:Zp,density:Vp,isProgressive:Kp,hasProfile:Xp,hasAlpha:Jp,src:Qp},tg="webp",sg=96,ng=96,rg="srgb",ag=4,og="uchar",ig=288,cg=!1,lg=!1,dg=!0,ug="{{.assetPrefix}}/assets/rain-thunder-eplemvu1.webp",hg={format:tg,width:sg,height:ng,space:rg,channels:ag,depth:og,density:ig,isProgressive:cg,hasProfile:lg,hasAlpha:dg,src:ug},fg="webp",mg=96,pg=96,gg="srgb",xg=4,yg="uchar",bg=288,wg=!1,vg=!1,_g=!0,jg="{{.assetPrefix}}/assets/rain-ogayr6kt.webp",$g={format:fg,width:mg,height:pg,space:gg,channels:xg,depth:yg,density:bg,isProgressive:wg,hasProfile:vg,hasAlpha:_g,src:jg},Ng="webp",kg=96,Cg=96,Sg="srgb",Tg=4,Mg="uchar",Pg=288,Dg=!1,Eg=!1,Ag=!0,Lg="{{.assetPrefix}}/assets/sleet-o8noil7l.webp",Ig={format:Ng,width:kg,height:Cg,space:Sg,channels:Tg,depth:Mg,density:Pg,isProgressive:Dg,hasProfile:Eg,hasAlpha:Ag,src:Lg},Fg="webp",Rg=96,Og=96,Hg="srgb",zg=4,Ug="uchar",Bg=288,Wg=!1,Yg=!1,qg=!0,Gg="{{.assetPrefix}}/assets/snow-lq4cl3uc.webp",Zg={format:Fg,width:Rg,height:Og,space:Hg,channels:zg,depth:Ug,density:Bg,isProgressive:Wg,hasProfile:Yg,hasAlpha:qg,src:Gg},Vg="webp",Kg=96,Xg=96,Jg="srgb",Qg=4,ex="uchar",tx=288,sx=!1,nx=!1,rx=!0,ax="{{.assetPrefix}}/assets/sun-drizzle-htsohv65.webp",ox={format:Vg,width:Kg,height:Xg,space:Jg,channels:Qg,depth:ex,density:tx,isProgressive:sx,hasProfile:nx,hasAlpha:rx,src:ax},ix="webp",cx=96,lx=96,dx="srgb",ux=4,hx="uchar",fx=288,mx=!1,px=!1,gx=!0,xx="{{.assetPrefix}}/assets/sun-hazy-nfj7clcd.webp",yx={format:ix,width:cx,height:lx,space:dx,channels:ux,depth:hx,density:fx,isProgressive:mx,hasProfile:px,hasAlpha:gx,src:xx},bx="webp",wx=96,vx=96,_x="srgb",jx=4,$x="uchar",Nx=288,kx=!1,Cx=!1,Sx=!0,Tx="{{.assetPrefix}}/assets/sun-mostly-cloudy-e3pqqgs7.webp",Mx={format:bx,width:wx,height:vx,space:_x,channels:jx,depth:$x,density:Nx,isProgressive:kx,hasProfile:Cx,hasAlpha:Sx,src:Tx},Px="webp",Dx=96,Ex=96,Ax="srgb",Lx=4,Ix="uchar",Fx=288,Rx=!1,Ox=!1,Hx=!0,zx="{{.assetPrefix}}/assets/sun-mostly-sunny-o99k1c7a.webp",Ux={format:Px,width:Dx,height:Ex,space:Ax,channels:Lx,depth:Ix,density:Fx,isProgressive:Rx,hasProfile:Ox,hasAlpha:Hx,src:zx},Bx="webp",Wx=96,Yx=96,qx="srgb",Gx=4,Zx="uchar",Vx=288,Kx=!1,Xx=!1,Jx=!0,Qx="{{.assetPrefix}}/assets/sun-shower-ldwl4jbp.webp",ey={format:Bx,width:Wx,height:Yx,space:qx,channels:Gx,depth:Zx,density:Vx,isProgressive:Kx,hasProfile:Xx,hasAlpha:Jx,src:Qx},ty="webp",sy=96,ny=96,ry="srgb",ay=4,oy="uchar",iy=!1,cy=!1,ly=!0,dy="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",uy={format:ty,width:sy,height:ny,space:ry,channels:ay,depth:oy,isProgressive:iy,hasProfile:cy,hasAlpha:ly,src:dy},hy="webp",fy=96,my=96,py="srgb",gy=4,xy="uchar",yy=288,by=!1,wy=!1,vy=!0,_y="{{.assetPrefix}}/assets/thunder-xzn1cku3.webp",jy={format:hy,width:fy,height:my,space:py,channels:gy,depth:xy,density:yy,isProgressive:by,hasProfile:wy,hasAlpha:vy,src:_y},$y="webp",Ny=96,ky=96,Cy="srgb",Sy=4,Ty="uchar",My=288,Py=!1,Dy=!1,Ey=!0,Ay="{{.assetPrefix}}/assets/tornado-diqu61wg.webp",Ly={format:$y,width:Ny,height:ky,space:Cy,channels:Sy,depth:Ty,density:My,isProgressive:Py,hasProfile:Dy,hasAlpha:Ey,src:Ay},Iy="webp",Fy=96,Ry=96,Oy="srgb",Hy=4,zy="uchar",Uy=288,By=!1,Wy=!1,Yy=!0,qy="{{.assetPrefix}}/assets/windy-n2v8wtyp.webp",Gy={format:Iy,width:Fy,height:Ry,space:Oy,channels:Hy,depth:zy,density:Uy,isProgressive:By,hasProfile:Wy,hasAlpha:Yy,src:qy},Zy={foggy:{default:Gc},cloudy:{default:al},"heavy-snow":{default:xl},"light-snow":{default:Tl},sleet:{default:Tu},drizzle:{default:Qu,night:zl},hazy:{default:uh,night:Ql},"mostly-cloudy":{default:jh,night:ud},"mostly-sunny":{default:Lh,night:jd},shower:{default:Gh,night:Ld},sunny:{default:af,night:Gd},"rain-thunder":{default:au},rain:{default:xu},snow:{default:zu},thunder:{default:yf},tornado:{default:Mf},windy:{default:Uf}},Vy={foggy:{default:em},cloudy:{default:hm},"heavy-snow":{default:$m},"light-snow":{default:Im},sleet:{default:Ig},drizzle:{default:ox,night:Zm},hazy:{default:yx,night:op},"mostly-cloudy":{default:Mx,night:yp},"mostly-sunny":{default:Ux,night:Mp},shower:{default:ey,night:Up},sunny:{default:uy,night:eg},"rain-thunder":{default:hg},rain:{default:$g},snow:{default:Zg},thunder:{default:jy},tornado:{default:Ly},windy:{default:Gy}};function Ky({weatherCode:e,isDarkMode:t,isNight:s}){const n=t?Vy:Zy,a=Xy(e),o=n[a];return o.night&&s?o.night:o.default}function Xy(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const Jy="C";function Qy(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function ns(e,t,s=Jy){return e===s?`${Math.round(t)}Â°`:`${Qy(e,t)}Â°`}const eb=7,rs=8,tb=p.memo(function({weatherResults:t,dateRange:s,turnIndex:n,trackContentReferenceEvent:a}){const[o,i]=hb(),l=rb(t);p.useEffect(()=>{a("Search Content Reference Shown","search_content_reference_shown","forecast")},[a]);const{daily:d,hourly:c,historical:h}=t;let m="daily";if(s||c&&d.length<2)m="hourly";else if(d.length>0)m="daily";else if(h&&h?.length>0)m="historical";else return null;return r.jsxs("div",{className:"relative",children:[l?r.jsxs(r.Fragment,{children:[r.jsx(nb,{weatherResults:t}),r.jsx(ab,{weatherResults:t,temperatureUnit:o,setTemperatureUnit:i})]}):r.jsx("div",{className:"bg-token-main-surface-primary absolute end-0 top-3 z-10 rounded-sm",children:r.jsx(Xs,{onTemperatureUnitChange:i,temperatureUnit:o})}),r.jsx(lb,{turnIndex:n}),m==="hourly"&&r.jsx(ob,{weatherResults:t,temperatureUnit:o,dateRange:s}),m==="daily"&&r.jsx(ib,{dailyForecast:d.slice(0,eb),temperatureUnit:o}),m==="historical"&&r.jsx(cb,{historical:h,temperatureUnit:o})]})});function sb({weatherAlert:e}){const[t,s]=p.useState(!1),n=T(),a=Ke(),o=H(e.start_timestamp,e.utc_offset_sec),i=e.end_timestamp?H(e.end_timestamp,e.utc_offset_sec):null,l=r.jsxs(r.Fragment,{children:[r.jsx("div",{children:r.jsx(N,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:n.formatDate(o,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:i?" - ":"",end:i?n.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),r.jsx("div",{children:e.summary})]});return r.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-start text-sm text-red-800",onClick:()=>s(!t),children:[r.jsxs("div",{className:"flex w-full items-center gap-4",children:[r.jsx(zn,{className:"h-9 w-9 shrink-0"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"font-bold",children:r.jsx(N,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),a&&l]}),r.jsx("div",{className:"grow"}),r.jsx("div",{className:"opacity-30",children:t?r.jsx(ca,{className:"icon-lg"}):r.jsx(ia,{className:"icon-lg"})})]}),t&&e.details&&r.jsxs(r.Fragment,{children:[!a&&l,r.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function nb({weatherResults:e}){const{severe:t}=e;return t?r.jsx("div",{className:"my-2",children:t.map((s,n)=>r.jsx(sb,{weatherAlert:s},n))}):null}function rb(e){const{historical:t,daily:s,hourly:n,current:a}=e;if(!a)return!1;let o=!1;const i=H(a.timestamp,a.utc_offset_sec);for(const l of[t,s,n])l&&(o=o||l?.some(d=>Rn(i,H(d.timestamp,d.utc_offset_sec))));return o}function ab({weatherResults:e,temperatureUnit:t,setTemperatureUnit:s}){const n=T(),{current:a}=e;if(!a)return null;const o=a.temperature.current,i=a.description,l=o!=null&&i&&" Â· ";return r.jsxs("div",{className:"not-prose flex items-center gap-4",children:[r.jsxs("div",{className:"grow",children:[r.jsxs("div",{className:"text-lg font-semibold",children:[o!=null&&r.jsx(N,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:Y(n,o,t)}}),l,i.description]}),r.jsx("div",{className:"text-token-text-secondary",children:ub(e.location)})]}),r.jsxs("div",{className:"flex",children:[r.jsx(Xs,{onTemperatureUnitChange:s,temperatureUnit:t}),r.jsx(ct,{weatherDescriptionData:i,isNight:a.night})]})]})}function it({children:e}){return r.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:r.jsx(A.Root,{className:"min-w-0",children:r.jsx(A.Body,{className:"border-token-border-medium border-b-[0.5px] [&_tr:last-child]:border-b-0",children:e})})})}function ob({weatherResults:e,temperatureUnit:t,dateRange:s}){const n=T(),{hourly:a,current:o}=e;let i=a??[];s&&(i=i.filter(h=>h.timestamp>=s.start_timestamp&&h.timestamp<s.end_timestamp));const[l,d]=p.useState(!1),c=i.length>rs;if(!l&&c){const h=i[0],m=H(h.timestamp,h.utc_offset_sec);let x=!1;if(o){const b=H(o.timestamp,o.utc_offset_sec);m.getTime()-b.getTime()>8*60*60*1e3&&i.length>18&&(i=i.slice(7,18),x=!0)}x||(i=i.slice(0,rs))}return r.jsxs(it,{children:[i.map((h,m)=>r.jsxs(A.Row,{children:[r.jsxs(F,{className:"w-44",children:[r.jsx(ct,{weatherDescriptionData:h.description,isNight:h.night,size:"small"}),r.jsx("div",{className:"ms-3 whitespace-nowrap",children:r.jsx("span",{className:"lowercase",children:db(n,h)})})]}),r.jsx(F,{className:"w-[60px] tabular-nums",children:r.jsx("div",{children:Y(n,h.temperature.current,t)})}),r.jsx(F,{children:h.description.description})]},m)),c&&r.jsx(A.Row,{children:r.jsx(F,{className:"w-44",children:r.jsx(K,{color:"secondary",onClick:()=>d(!l),size:"small",children:l?r.jsx(N,{id:"KoC8Ym",defaultMessage:"Show less"}):r.jsx(N,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function ib({dailyForecast:e,temperatureUnit:t}){const s=T();return r.jsx(it,{children:e.map((n,a)=>r.jsxs(A.Row,{children:[r.jsxs(F,{className:"w-[7.5rem] min-w-[7.5rem]",children:[r.jsx(ct,{weatherDescriptionData:n.description,isNight:n.night,size:"small"}),r.jsx("div",{className:"ms-3 whitespace-nowrap",children:Ge(s,H(n.timestamp,n.utc_offset_sec))})]}),r.jsxs(F,{className:"tabular-nums",children:[r.jsx("div",{children:Y(s,n.temperature.max,t)}),r.jsx("div",{className:"text-token-text-secondary ms-1",children:Y(s,n.temperature.min,t)})]}),r.jsx(F,{className:"min-w-80",children:n.description.description})]},a))})}function cb({historical:e,temperatureUnit:t}){const s=T();return e?r.jsx(it,{children:e.map((n,a)=>{const o=H(n.timestamp,n.utc_offset_sec);return r.jsxs(A.Row,{children:[r.jsx(F,{className:"w-[250px]",children:r.jsx("div",{className:"ms-3 whitespace-nowrap",children:s.formatDate(o,{weekday:"long",month:"short",day:"numeric"})})}),r.jsx(F,{className:"tabular-nums",children:n.temperature.max&&n.temperature.min?r.jsxs(r.Fragment,{children:[r.jsx("div",{children:Y(s,n.temperature.max,t)}),r.jsx("div",{className:"text-token-text-secondary ms-1",children:Y(s,n.temperature.min,t)})]}):r.jsx("div",{children:Y(s,n.temperature.current,t)})}),r.jsx(F,{})]},a)})}):null}function F({className:e,children:t}){return r.jsx(A.Cell,{className:j("border-token-border-xlight! border-s-0! border-e-0! py-2! ps-4! pe-3! first:ps-0! last:pe-0!",e),divClassName:"items-start leading-relaxed",children:t})}function lb({turnIndex:e}){const t=Ar(n=>n.thread?.turns[e]?.use_location),[s]=Tr();return!s.useLocation&&t?r.jsx("div",{className:"mt-3",children:r.jsx(K,{color:"secondary",icon:Lc,onClick:()=>{Mr.setSettingsModalOpen(!0)},children:r.jsx(N,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function Xs({temperatureUnit:e,onTemperatureUnitChange:t}){const s=n=>e===n?"font-bold":"font-light";return r.jsx(gr,{size:"small",triggerButton:r.jsx("button",{className:"text-token-text-tertiary hover:text-token-text-primary flex items-center justify-center p-1.5",children:r.jsx(On,{className:"icon-sm-heavy"})}),children:r.jsxs(xr.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[r.jsx(N,{id:"bQIoe/",defaultMessage:"Temperature"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:s("F"),children:r.jsx(N,{id:"bvDeBB",defaultMessage:"Â°F"})}),r.jsx("div",{className:"mx-1 h-4 border-s border-gray-300"}),r.jsx("div",{className:s("C"),children:r.jsx(N,{id:"iNiz6O",defaultMessage:"Â°C"})})]})]})})}function ct({weatherDescriptionData:e,isNight:t=!1,size:s="normal"}){const n=ve(),a=s==="small"?30:50;return r.jsx("img",{draggable:!1,alt:e.description,src:Ky({weatherCode:e.id,isDarkMode:n,isNight:t}).src,width:a,height:a})}function db(e,t){const s=H(t.timestamp,t.utc_offset_sec);return e.formatDate(s,{hour:"numeric"})}function Y(e,t,s){return t==null?"-":ns(s?s??"F":Js(e),t)}function Js(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],s=e.locale||"en-US";return t.includes(s)?"F":"C"}function ub(e){const t=e.name.split(",").map(s=>s.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const hb=()=>{const e=T(),[t,s]=Hn("USER_TEMPERATURE_UNIT",Js(e),n=>["F","C"].includes(n));return[t,s]},fb=yr(()=>br(()=>import("./faqokuhhj4q8b1kl.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(e=>e.BusinessesMap));function mb(e){"use forget";const t=is.c(116),{index:s,FormattedText:n,node:a}=e,o=parseInt(s,10),i=p.useContext(re);let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l="756982148",t[0]=l):l=t[0];const{value:d}=Qe(l),c=cs(i?.analyticsMetadata),h=p.useRef(!1);if(i==null)return null;const{contentReferences:m,onShowSearchResults:x,numImageResults:b,analyticsMetadata:g,message:w}=i,u=m?.[o],$=g?.clientThreadId==null;if(!u||g.turnIndex===void 0||u.type===void 0)return null;let _;t[1]===Symbol.for("react.memo_cache_sentinel")?(_={img:gb},t[1]=_):_=t[1];let k;t[2]!==u.alt?(k=r.jsx(st,{components:_,children:u.alt}),t[2]=u.alt,t[3]=k):k=t[3];const v=k;let y=null;e:switch(u.type){case"title_citation":{let f;t[4]!==u||t[5]!==c?(f=r.jsx(Sc,{metadata:u,trackContentReferenceEvent:c}),t[4]=u,t[5]=c,t[6]=f):f=t[6],y=f;break e}case"location_search":{let f;t[7]!==u||t[8]!==c?(f=r.jsx(ic,{metadata:u,trackContentReferenceEvent:c}),t[7]=u,t[8]=c,t[9]=f):f=t[9],y=f;break e}case"time":{let f;t[10]!==u||t[11]!==c?(f=r.jsx(Cc,{metadata:u,trackContentReferenceEvent:c}),t[10]=u,t[11]=c,t[12]=f):f=t[12],y=f;break e}case"image_v2":{const f=b??0;let L;t[13]!==g||t[14]!==u||t[15]!==c||t[16]!==f?(L=r.jsx(Ts,{metadata:u,numImageResults:f,analyticsMetadata:g,trackContentReferenceEvent:c}),t[13]=g,t[14]=u,t[15]=c,t[16]=f,t[17]=L):L=t[17],y=L;break e}case"nav_list":{let f;t[18]!==u||t[19]!==c?(f=r.jsx(cc,{metadata:u,trackContentReferenceEvent:c}),t[18]=u,t[19]=c,t[20]=f):f=t[20],y=f;break e}case"file_navlist":{let f;t[21]!==u||t[22]!==c?(f=r.jsx(vi,{metadata:u,trackContentReferenceEvent:c}),t[21]=u,t[22]=c,t[23]=f):f=t[23],y=f;break e}case"file":{let f;t[24]!==u||t[25]!==c||t[26]!==o?(f=r.jsx(xi,{fileRef:u,index:o,trackContentReferenceEvent:c}),t[24]=u,t[25]=c,t[26]=o,t[27]=f):f=t[27],y=f;break e}case"grouped_webpages_model_predicted_fallback":{let f;t[28]!==u||t[29]!==i.message.id||t[30]!==c||t[31]!==o||t[32]!==a?(f=r.jsx(ra,{webpageRef:u,node:a,trackContentReferenceEvent:c,messageId:i.message.id,index:o}),t[28]=u,t[29]=i.message.id,t[30]=c,t[31]=o,t[32]=a,t[33]=f):f=t[33],y=f;break e}case"grouped_webpages":{let f;t[34]!==u||t[35]!==i.message.id||t[36]!==c||t[37]!==o||t[38]!==a?(f=r.jsx(na,{webpageRef:u,node:a,trackContentReferenceEvent:c,messageId:i.message.id,index:o}),t[34]=u,t[35]=i.message.id,t[36]=c,t[37]=o,t[38]=a,t[39]=f):f=t[39],y=f;break e}case"tldr":{let f;t[40]!==u||t[41]!==c||t[42]!==d||t[43]!==x?(f=d?r.jsx(wt,{navigation:{...u,type:"navigation",domains:[{title:u.page_title,subtitle:u.display_title,domain:u.breadcrumbs[0],url:u.url,sub_domains:[]}]},onShowSearchResults:x,trackContentReferenceEvent:c}):r.jsx(Un,{tldr:u,trackContentReferenceEvent:c}),t[40]=u,t[41]=c,t[42]=d,t[43]=x,t[44]=f):f=t[44],y=f;break e}case"navigation":{let f;t[45]!==u||t[46]!==c||t[47]!==x?(f=r.jsx(wt,{navigation:u,onShowSearchResults:x,trackContentReferenceEvent:c}),t[45]=u,t[46]=c,t[47]=x,t[48]=f):f=t[48],y=f;break e}case"stock":{let f;t[49]!==u||t[50]!==c?(f=r.jsx(nc,{contentReference:u,trackContentReferenceEvent:c}),t[49]=u,t[50]=c,t[51]=f):f=t[51],y=f;break e}case"calculator":{let f;t[52]!==u||t[53]!==c?(f=r.jsx(li,{data:u,trackContentReferenceEvent:c}),t[52]=u,t[53]=c,t[54]=f):f=t[54],y=f;break e}case"code_execution":{let f;t[55]!==n||t[56]!==u||t[57]!==c?(f=r.jsx(fi,{FormattedText:n,displayInfo:u,trackContentReferenceEvent:c}),t[55]=n,t[56]=u,t[57]=c,t[58]=f):f=t[58],y=f;break e}case"forecast":{let f;t[59]!==g||t[60]!==u.date_range||t[61]!==u.forecast||t[62]!==c?(f=u?.forecast&&r.jsx(tb,{weatherResults:u.forecast,dateRange:u.date_range,turnIndex:g.turnIndex,trackContentReferenceEvent:c}),t[59]=g,t[60]=u.date_range,t[61]=u.forecast,t[62]=c,t[63]=f):f=t[63],y=f;break e}case"businesses_map":{let f;t[64]!==u||t[65]!==c?(f=r.jsx(fb,{contentReference:u,trackContentReferenceEvent:c}),t[64]=u,t[65]=c,t[66]=f):f=t[66],y=f;break e}case"video":{let f;t[67]!==u||t[68]!==c?(f=r.jsx(Ac,{video:u,trackContentReferenceEvent:c}),t[67]=u,t[68]=c,t[69]=f):f=t[69],y=f;break e}case"sources_footnote":{let f;t[70]!==u||t[71]!==c||t[72]!==$||t[73]!==x?(f=r.jsx(Bn,{sourcesFootnote:u,onShowSearchResults:x,trackContentReferenceEvent:c,isSearchGptApp:$}),t[70]=u,t[71]=c,t[72]=$,t[73]=x,t[74]=f):f=t[74],y=f;break e}case"sports_standings":{let f;t[75]!==u||t[76]!==c?(f=r.jsx(Nc,{standingsRef:u,trackContentReferenceEvent:c}),t[75]=u,t[76]=c,t[77]=f):f=t[77],y=f;break e}case"sports_schedule":{let f;t[78]!==u||t[79]!==c?(f=r.jsx(vc,{scheduleRef:u,trackContentReferenceEvent:c}),t[78]=u,t[79]=c,t[80]=f):f=t[80],y=f;break e}case"attribution":{let f;t[81]!==u?(f=r.jsx(ai,{attribution:u}),t[81]=u,t[82]=f):f=t[82],y=f;break e}case"debug":{let f;t[83]!==u?(f=Object.entries(u).map(pb),t[83]=u,t[84]=f):f=t[84];let L;t[85]!==f?(L=r.jsx(r.Fragment,{children:f}),t[85]=f,t[86]=L):L=t[86],y=L;break e}case"image_inline":{let f;t[87]!==u||t[88]!==i.clientThreadId||t[89]!==c||t[90]!==w?(f=r.jsx(go,{reference:u,clientThreadId:i.clientThreadId,trackContentReferenceEvent:c,message:w}),t[87]=u,t[88]=i.clientThreadId,t[89]=c,t[90]=w,t[91]=f):f=t[91],y=f;break e}case"product_entity":{let f;t[92]!==g.turnIndex||t[93]!==u||t[94]!==i.clientThreadId||t[95]!==i.message.id||t[96]!==c?(f=r.jsx(xo,{contentReference:u,clientThreadId:i.clientThreadId,messageId:i.message.id,turnIndex:g.turnIndex,trackContentReferenceEvent:c}),t[92]=g.turnIndex,t[93]=u,t[94]=i.clientThreadId,t[95]=i.message.id,t[96]=c,t[97]=f):f=t[97],y=f;break e}case"products":{let f;t[98]!==g||t[99]!==u||t[100]!==i.clientThreadId||t[101]!==i.message.id?(f=r.jsx(vo,{contentReference:u,clientThreadId:i.clientThreadId,messageId:i.message.id,turnIndex:g.turnIndex,analyticsMetadata:g}),t[98]=g,t[99]=u,t[100]=i.clientThreadId,t[101]=i.message.id,t[102]=f):f=t[102],y=f;break e}case"product_reviews":{let f;t[103]!==u||t[104]!==c?(f=r.jsx(Hr,{contentReference:u,disableAnimation:!0,trackContentReferenceEvent:c}),t[103]=u,t[104]=c,t[105]=f):f=t[105],y=f;break e}case"product_rationale":{let f;t[106]!==u||t[107]!==c?(f=r.jsx(Or,{contentReference:u,trackContentReferenceEvent:c,disableAnimation:!0}),t[106]=u,t[107]=c,t[108]=f):f=t[108],y=f;break e}}let C;t[109]!==v||t[110]!==u||t[111]!==c?(C=f=>(h.current||(c("Search Content Reference Failed","search_content_reference_failed",u.type),Xe.addError(`Error rendering content reference: ${u.type}`,{...f,contentReference:u}),h.current=!0),u?.alt?v:r.jsx("span",{className:`errored-object-${u.type}`})),t[109]=v,t[110]=u,t[111]=c,t[112]=C):C=t[112];let M;return t[113]!==y||t[114]!==C?(M=r.jsx(xs,{name:"content-reference-renderer",fallback:C,children:y}),t[113]=y,t[114]=C,t[115]=M):M=t[115],M}function pb(e){const[t,s]=e;return r.jsx("sub",{className:"ms-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:s},t)}function gb(e){const{src:t,alt:s}=e;return r.jsx("img",{src:t,alt:s,className:"max-h-28"})}const xb=({onClick:e})=>{const[t,s]=p.useState(!1),n=Wn(),a=T(),o=l=>{I.logEvent("ChatGPT Table Copy Clicked"),e(l),s(!0),setTimeout(()=>{n()&&s(!1)},2e3)},i=t?wr:vr;return r.jsx(oe,{label:a.formatMessage({id:"KrNQPS",defaultMessage:"Copy Table"}),className:"pointer-events-none absolute start-full top-4 z-10 hidden h-full w-fit ps-2 md:block",side:"top",align:"center",alignOffset:12,sideOffset:4,children:r.jsx("button",{onClick:o,className:"hover:bg-token-main-surface-secondary text-token-text-secondary pointer-events-auto rounded-lg px-1 py-1 opacity-0 transition-opacity duration-200 group-focus-within:opacity-100 group-hover:opacity-100",children:r.jsx(i,{className:"icon-md-heavy"})})})},yb=({node:e,children:t,...s})=>{const n=p.useRef(null),a=o=>{const i=n.current;i&&Yn({"text/html":i.outerHTML,"text/plain":qn(i)},void 0,o)};return r.jsxs("div",{className:"group pointer-events-none relative flex justify-center *:pointer-events-auto",children:[r.jsx(xb,{onClick:a}),r.jsx("div",{className:"tableContainer horzScrollShadows relative",children:r.jsx("table",{ref:n,className:"min-w-full",...s,children:t})})]})},bb=({node:e,children:t,...s})=>{const n=p.useMemo(()=>e!=null?wb(e):0,[e]);return r.jsx("td",{className:j("max-w-[calc(var(--thread-content-max-width)*2/3)]",n>80?"min-w-[calc(var(--thread-content-max-width)/2)]":n>40?"min-w-[calc(var(--thread-content-max-width)/3)]":null),...s,children:p.Children.map(t,(a,o)=>a==="<br>"?r.jsx("br",{},o):a)})};function wb(e){let t=0;return be(e,"text",s=>{t+=s.value.length}),t}function vb(e){const{src:t,clientThreadId:s,...n}=e,a=Je(s),o=p.useContext(re),i=ys(a,t,o?.useSafeUrls);return i==null?r.jsx("div",{}):r.jsx("img",{...n,src:i})}function _b(e){return r.jsx(mb,{...e,FormattedText:Qs})}function Qs({size:e="medium",children:t,className:s,clientThreadId:n,messageId:a,isActivelyStreaming:o=!1,componentOverrides:i,isDeepResearchResultMessage:l,forceDarkMode:d}){const c=ve()||d,h=Ve(),m=p.useMemo(()=>({pre:({children:g,"data-start":w,"data-end":u,"data-is-last-node":$})=>r.jsx("pre",{className:"overflow-visible!","data-start":w,"data-end":u,"data-is-last-node":$,children:g}),code:g=>r.jsx(Fr,{...g,clientThreadId:n}),[ps]:_b,[Cr]:Sr,a:g=>{const{node:w,children:u,...$}=g,_=w?.properties?.href;if(typeof _=="string"&&_.startsWith(he))return h?r.jsx(Qo,{...$}):n!=null&&a!=null?r.jsx(Jo,{...$,clientThreadId:n,messageId:a,href:_,children:u}):null;if(typeof _=="string"&&_===$s){const k=w?.children?.map(v=>typeof v.value=="string"?v.value:"").join("").trim();return r.jsx(ma,{...g,text:k,clientThreadId:n,messageId:a,className:"cursor-pointer"})}return _&&typeof _=="string"&&oo(_)?u:r.jsx(nt,{...g,clientThreadId:n,messageId:a})},table:yb,td:bb,img:({node:g,...w})=>{const u=g?.properties?.src;return typeof u=="string"&&(u.startsWith(he)||u.startsWith("attachment:"))?null:r.jsx(vb,{...w,clientThreadId:n})},...la,...i}),[i,n,a,h]),x=p.useMemo(()=>o?pa(t):t,[t,o]),{value:b}=Qe("1839283687");return b?!1:r.jsx(xs,{name:"formatted_text_error",fallback:()=>r.jsx(r.Fragment,{children:x}),children:r.jsx($b,{rehypePlugins:Hs,remarkPlugins:ot,className:j(s,"markdown prose dark:prose-invert w-full break-words",c?"dark":"light",e==="small"&&"prose-xs",l&&"deep-research-result"),urlTransform:Os,components:m,children:x})})}async function jb(e){const s=await aa().use(oa).use(ot).use(Br).use(ri).use(ao).process(e);return String(s)}const $b=p.memo(st),Kb=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:Qs,markdownToHtml:jb},Symbol.toStringTag,{value:"Module"}));export{Qs as F,Kb as a,Vb as l};
//# sourceMappingURL=mqyx9svnjg4qfuxq.js.map

import{e as M,r as x,j as e}from"./ls1hkjm4csy89kc5.js";import{cL as k,cM as P,cN as g,cK as j,cO as V}from"./hj6jep7mk4776vwc.js";import{useWhisperHandleClick as b}from"./iosqeshzb1sa23un.js";import{C as v,h as C}from"./jfjoua4700kji9z3.js";import{P as h,B as w,C as B}from"./f35srtyza27o1d4v.js";import"./b6m424ytdgqoc0cg.js";import"./bjo64t20o3wf7ixl.js";import"./m8ev8jg8euq10q3b.js";import"./jl416oerpm5p44nd.js";import"./c166njesc8ruqs2t.js";import"./b8nw7o07u9fxmapm.js";import"./ltik0hzezyevzkdj.js";import"./c5hp2e6cf62lum4k.js";import"./oe4qwwp6lvtt8c1x.js";const T=({onDictationClick:i,onVoiceModeClick:r,onPointerEnter:s,onPointerLeave:a})=>{const{openPopover:t,closePopover:n}=P(),o=M();return e.jsxs("div",{className:"flex flex-col py-2",onPointerEnter:()=>s(t),onPointerLeave:()=>a(n),children:[e.jsx(g,{onClick:()=>{n(),i()},label:o.formatMessage({id:"TbQPoM",defaultMessage:"Dictate"}),icon:e.jsx(j,{"aria-label":o.formatMessage({id:"HfM1/B",defaultMessage:"Icon for menu item to select voice dictation"})})}),e.jsx(g,{onClick:()=>{n(),r()},label:o.formatMessage({id:"5myXsw",defaultMessage:"Voice Mode"}),icon:e.jsx(V,{"aria-label":o.formatMessage({id:"wXJZbs",defaultMessage:"Icon for menu item to select voice mode"})})})]})},y=({renderVoiceButton:i,onPointerEnter:r,onPointerLeave:s,...a})=>{const{openPopover:t,closePopover:n,popoverTriggerRef:o}=P(),m=x.useCallback(c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),t())},[t]);return i({onPointerEnter:()=>r(t),onPointerLeave:()=>s(n),onKeyDown:m,ref:o,...a})},Q=({layoutMode:i,onDictationExit:r,renderVoiceButton:s,restoreFocus:a})=>{const t=b(r),n=k(),o=()=>{v.setBooleanCookie(C.LastVoiceInteraction,!1),t()},m=()=>{v.setBooleanCookie(C.LastVoiceInteraction,!0),n()},c=M(),l=x.useRef(null),d=()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},p=u=>{d(),l.current=window.setTimeout(()=>u(!1),300)},f=u=>{d(),l.current=window.setTimeout(()=>u(),100)};return e.jsxs(h,{layoutMode:i,restoreFocus:a,children:[e.jsx(w,{"aria-label":c.formatMessage({id:"o8zNIZ",defaultMessage:"Open voice menu"}),asChild:!0,children:e.jsx(y,{onPointerEnter:p,onPointerLeave:f,renderVoiceButton:s})}),e.jsx(B,{align:"end",sideOffset:2,children:e.jsx(T,{onDictationClick:o,onVoiceModeClick:m,onPointerEnter:p,onPointerLeave:f})})]})};export{Q as CombinedVoiceButtonPopover};
//# sourceMappingURL=c5axvypbrvpgqa9j.js.map

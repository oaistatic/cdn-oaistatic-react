var B=Object.defineProperty;var M=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var I=(e,t,o)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,w=(e,t)=>{for(var o in t||(t={}))_.call(t,o)&&I(e,o,t[o]);if(M)for(var o of M(t))b.call(t,o)&&I(e,o,t[o]);return e};import{c as k,am as z,h as C,j as y,M as E,m as V}from"./bubexfvksfr7893o.js";import{d4 as N,bz as P}from"./lm3g1zm00rp6al39.js";import{jb as T,d as v,p3 as A,p4 as O,p5 as D}from"./ncw8zw682jinppua.js";import{D as L}from"./ioom1cwgjgkzhe2w.js";import"./bxgk09qvxvkate6l.js";function x(e){return e==="/"?"/":e.replace(/\/+$/,"")}function R({currentLocation:e,nextLocation:t,isIntegratedVoiceModeActive:o,voiceCompletionRequest:n,integratedVoiceModeState:p,isEndingVoiceSession:l}){var r;if(!o)return!1;const s=x(e.pathname),a=x(t.pathname);if(s===a||l)return!1;const m=n==null?void 0:n.responseThreadId;if(m){const c=V("/c/:conversationId",a),i=V("/g/:gizmoId/c/:conversationId",a);if(((r=c==null?void 0:c.params.conversationId)!=null?r:i==null?void 0:i.params.conversationId)===m)return!1}return p!=null}const Y=()=>{"use forget";const e=k.c(17),t=T(),o=v(F),n=v(U),p=v(G);let l;e[0]!==n||e[1]!==p||e[2]!==t||e[3]!==o?(l=d=>{const{nextLocation:$,currentLocation:j}=d;return R({currentLocation:j,nextLocation:$,isIntegratedVoiceModeActive:t,voiceCompletionRequest:o,integratedVoiceModeState:n,isEndingVoiceSession:p})},e[0]=n,e[1]=p,e[2]=t,e[3]=o,e[4]=l):l=e[4];const s=z(l),a=C(),m=s.state==="blocked";let r;e[5]!==s?(r=()=>{var d;(d=s.reset)==null||d.call(s)},e[5]=s,e[6]=r):r=e[6];const c=r;let i;e[7]!==s?(i=async()=>{var d;await N({type:"STOP",reason:L.UserNavigatedAway}),(d=s.proceed)==null||d.call(s)},e[7]=s,e[8]=i):i=e[8];const u=i;let f;e[9]!==a?(f=a.formatMessage(S.title),e[9]=a,e[10]=f):f=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx(E,w({},S.description)),e[11]=g):g=e[11];let h;return e[12]!==u||e[13]!==c||e[14]!==m||e[15]!==f?(h=y.jsx(P,{title:f,isOpen:m,onClose:c,onConfirm:u,primaryButtonColor:"danger",children:g}),e[12]=u,e[13]=c,e[14]=m,e[15]=f,e[16]=h):h=e[16],h},S={title:{id:"voice-navigation-blocker.title",defaultMessage:"Voice Mode is still active",description:"Title of the modal that appears when the user tries to navigate away from the page while voice mode is active"},description:{id:"voice-navigation-blocker.description",defaultMessage:"Navigating away from this page will end your voice mode session.",description:"Message of the modal that appears when the user tries to navigate away from the page while voice mode is active"}};function F(){return A()}function U(){return O()}function G(){return D()}export{Y as VoiceNavigationBlocker};
//# sourceMappingURL=m3f6z8je2ush49jw.js.map

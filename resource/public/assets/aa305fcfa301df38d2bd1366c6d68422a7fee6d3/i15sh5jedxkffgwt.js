const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hbcnisqpfdzhue92.js","assets/bubexfvksfr7893o.js","assets/hp4kvwk57p1zvpfr.js"])))=>i.map(i=>d[i]);
var O=Object.freeze,E=Object.defineProperty,Y=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var _=(e,r,t)=>r in e?E(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,f=(e,r)=>{for(var t in r||(r={}))C.call(r,t)&&_(e,t,r[t]);if(k)for(var t of k(r))N.call(r,t)&&_(e,t,r[t]);return e},g=(e,r)=>Y(e,V(r));var A=e=>typeof e=="symbol"?e:e+"",D=(e,r)=>{var t={};for(var n in e)C.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&k)for(var n of k(e))r.indexOf(n)<0&&N.call(e,n)&&(t[n]=e[n]);return t};var I=(e,r)=>O(E(e,"raw",{value:O(r||e.slice())}));import{_ as B,j as a,M as S,e as w,r as j,h as q}from"./bubexfvksfr7893o.js";import{az as W,aA as X,cr as J,cz as y,e7 as G,cw as Q,kG as Z,_ as K,p as ee,D as te}from"./ncw8zw682jinppua.js";import{S as se,R as ae,B as re,T as ne,a as T,C as oe,X as ie,b as le,p as ce,Y as de,c as me,d as R,M as xe,e as fe,f as he,r as ue}from"./dhsa2d3zcy4je6ke.js";const ge=W(()=>B(()=>import("./hbcnisqpfdzhue92.js"),__vite__mapDeps([0,1])),{loading:e=>X(e)}),pe=W(()=>B(()=>import("./hp4kvwk57p1zvpfr.js"),__vite__mapDeps([2,1])),{loading:e=>X(e)});function je({value:e,previousValue:r,hideTrend:t=!1,className:n}){let h;if(!t&&e!=="loading"&&r!=null&&r!=="loading"){const c=e>=r,m=c?ge:pe,p=(e===0&&r===0?0:Math.abs(e-r)/r).toLocaleString(void 0,{style:"percent"});h=a.jsxs(J,{side:"right",customBackgroundColorClassName:"bg-token-main-surface-primary-inverse",className:y("inline-flex items-center",{"text-green-500":c,"text-red-500":!c}),label:a.jsx("span",{className:"text-token-main-surface-primary font-normal",children:a.jsx(S,g(f({},c?H.increaseHelpText:H.decreaseHelpText),{values:{amount:p}}))}),children:[a.jsx(m,{}),a.jsx("span",{children:p})]})}return a.jsxs("div",{className:y("text-token-text-primary flex items-center gap-1 font-medium",n),children:[a.jsx("span",{className:"text-xl",children:e!=="loading"&&e.toLocaleString()}),h,(e==="loading"||r==="loading"&&!t)&&a.jsx(G,{})]})}const H=w({increaseHelpText:{id:"workspaceUsage.trend.increaseHelpText",defaultMessage:"Up {amount} since the previous month"},decreaseHelpText:{id:"workspaceUsage.trend.decreaseHelpText",defaultMessage:"Down {amount} since the previous month"}});function be(e){const{title:r,data:t,otherGroupLabel:n,displayMoM:h,clientEventSource:c,hideLegend:m=!1,hideTopValue:x=!1,tooltipLabelFormatter:p}=e,u=j.useMemo(()=>t==="loading"?[]:n?[...Object.keys(t.metrics).slice(-9),"other"]:Object.keys(t.metrics).slice(-10),[n,t]),d=j.useMemo(()=>t==="loading"?"loading":n?t.data.map(s=>!("values"in s)||"other"in s.values?s:g(f({},s),{values:g(f({},s.values),{other:s.total-u.reduce((o,i)=>{var l;return o+((l=s.values[i])!=null?l:0)},0)})})):t.data,[t,n,u]),v=j.useMemo(()=>d==="loading"?0:d.reduce((s,o)=>Math.max(s,"total"in o?o.total:0),0),[d]),M=j.useMemo(()=>{if(t==="loading"||d==="loading")return{};let s;return n?s=g(f({},t.metrics),{other:{displayName:n}}):s=t.metrics,Object.fromEntries(u.map(o=>({total:d.reduce((l,b)=>{var L;return l+("values"in b&&(L=b.values[o])!=null?L:0)},0),groupKey:o})).sort(({total:o},{total:i})=>i-o).map(({total:o,groupKey:i},l)=>[i,{displayName:s[i].displayName,total:o,color:se[l]}]))},[t,n,u,d]);return a.jsxs("div",{className:"border-token-border-default mb-4 flex min-h-[350px] flex-col rounded-lg border pt-4 pb-4",children:[a.jsxs("div",{className:"px-6",children:[a.jsx("div",{className:"text-token-text-secondary text-sm",children:a.jsx(S,f({},r))}),!x&&a.jsx(je,{value:t==="loading"?"loading":t.monthOverMonth.cur_month,previousValue:t==="loading"?"loading":t.monthOverMonth.last_month,hideTrend:!h,className:"mb-4 h-7"})]}),a.jsx(ve,{processedData:d,maxTotal:v,seriesMetadata:M,hideLegend:m,clientEventSource:c,tooltipLabelFormatter:p})]})}const F=e=>e.toLocaleString(),P="default";var $;const U=Q.div($||($=I(["flex h-full grow items-center justify-center text-lg text-token-text-tertiary"])));function ve({processedData:e,maxTotal:r,seriesMetadata:t,hideLegend:n,clientEventSource:h,tooltipLabelFormatter:c}){const m=j.useRef(void 0),[x,p]=j.useState(),u=(s,o)=>()=>{s&&m.current!==s&&(m.current=s,K.logEvent("Workspace Usage: Chart Series Hovered",{groupKey:s,seriesCount:o,clientEventSource:h})),p(s)};let d=Object.keys(t);if(x){const M=t,{[x]:s}=M,o=D(M,[A(x)]);d=[...Object.keys(o),x]}if(e==="loading")return a.jsx(U,{children:a.jsx(G,{})});if(r===0)return a.jsx(U,{children:a.jsx(S,f({},ke.noData))});const v=Object.entries(t).sort(([s])=>s==="other"?1:-1);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:y(ue,"flex grow items-center"),children:a.jsx(ae,{width:"100%",height:220,children:a.jsxs(re,{data:e,margin:{left:-20,top:14,right:20},children:[a.jsx(ne,{isAnimationActive:!1,content:a.jsx(oe,{valueFormatter:F,metricToLabel:t,labelFormatter:c}),cursor:{opacity:.2,fill:T}}),a.jsx(ie,{dataKey:"date",axisLine:!1,tickLine:!1,tick:le,tickFormatter:s=>Z(ce(s),"MMM d"),interval:e.length-2}),a.jsx(de,{axisLine:!1,tickLine:!1,domain:[0,r],ticks:[0,r],fontSize:11,fill:T,tick:s=>a.jsx(me,g(f({},s),{textAnchor:"start",y:s.payload.value===0?s.y:s.y-10,x:s.x-10,fontWeight:400,children:F(s.payload.value)}))}),d.map((s,o)=>{const i="values.".concat(s),l=x&&x!==s;return a.jsx(R,{opacity:l?.15:1,dataKey:i,stackId:P,isAnimationActive:!1,fill:l?xe:t[s].color,radius:o===0?[4,4,0,0]:void 0},i)}).reverse(),a.jsx(R,{dataKey:"blank",minPointSize:1,stackId:P,isAnimationActive:!1,children:e.map((s,o)=>a.jsx(fe,{opacity:.5,fill:"blank"in s&&s.blank===0?T:"transparent"},"cell-".concat(o)))}),a.jsx(he,{y:r,stroke:T,strokeDasharray:"3 3",shape:s=>a.jsx("line",g(f({},s),{x1:22}))})]})})}),!n&&a.jsx("div",{className:"text-token-text-primary flex w-full flex-wrap items-center justify-center text-sm",children:v.map(([s,{displayName:o,total:i,color:l}])=>a.jsxs("div",{className:"mx-4 mb-1 flex cursor-pointer items-center justify-center",title:o,onMouseOut:u(void 0,v.length),onMouseOver:u(s,v.length),children:[a.jsx("div",{className:"me-1 h-2 w-2 rounded-[1px]",style:{backgroundColor:l}}),a.jsx("span",{className:"me-1 max-w-32 overflow-hidden text-ellipsis whitespace-nowrap",children:o}),a.jsx("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:"(".concat(Me.format(i),")")})]},s))})]})}const Me=new Intl.NumberFormat(void 0,{notation:"compact",maximumSignificantDigits:3}),ke=w({noData:{id:"workspaceUsage.overviewChart.noData",defaultMessage:"No data for this period"}});function Le(e,{toastId:r,message:t}={}){const n=ee(),h=q();return async(...c)=>{try{return await e(...c)}catch(m){throw n.danger(h.formatMessage(t!=null?t:z.defaultErrorToastMessage),{id:r,loggingTitle:t&&typeof t.defaultMessage=="string"?t.defaultMessage:z.defaultErrorToastMessage.defaultMessage}),te.addError(m),m}}}const z=w({defaultErrorToastMessage:{id:"defaultErrorToastMessage",defaultMessage:"Something went wrong. If this issue persists please contact us through our help center at help.openai.com."}});export{be as O,Me as T,je as V,Le as u};
//# sourceMappingURL=i15sh5jedxkffgwt.js.map

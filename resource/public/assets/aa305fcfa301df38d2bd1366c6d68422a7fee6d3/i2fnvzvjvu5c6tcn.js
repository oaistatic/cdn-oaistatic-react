const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hnb8opv7ic27r33h.js","assets/bubexfvksfr7893o.js","assets/lm3g1zm00rp6al39.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/conversation-small-lq38g8zw.css","assets/gqlgqhfmjeo7hcnf.js","assets/dgs0l83heankdts0.js","assets/c6rj4af6vlx7bzfk.js","assets/egzpifha5criht1h.js","assets/bqnf7jbq8xd3572o.js","assets/fwn4bwvyx3h4ty5g.js","assets/l1teaxoievyk0rz1.js","assets/guejgwxn789esoyt.js","assets/m7ky6cnx5e7w4637.js","assets/j4cpzybta3my41wg.js","assets/dpidockywf8envd2.js","assets/fvq06q6sopd9r6rx.js","assets/j703u6xl4odnuo39.js","assets/me0ap2djy50z6upd.js","assets/nbm98bu0q3774lnr.js","assets/i9ddjt6oaiw4vo4g.js","assets/fum95d46v8d5jv8u.js","assets/n2u3q2i5341kdx8j.js","assets/matxjx64xjrpxbwa.js","assets/ip2dsbq9712r5wna.js","assets/o45zl9yl00508gad.js","assets/mxzk2kf77c8eueuw.js","assets/bc00p2ldn9cv9q32.js","assets/8ix1du5tuckfsvqq.js","assets/hzasobp3hhjtq47p.js","assets/jro698t78r3v26vt.js","assets/mqabubffkpko61wr.js","assets/lxa5p4s1fgqvzcgw.js","assets/ekj7v0hd90m9gfgd.js","assets/c929hhheh8pnurrs.js","assets/b3zmi7k0e1dvao0m.js","assets/i0yczuhbjrdxz6ve.js","assets/cyrjh6r9wv2bzsqv.js","assets/ggfmmtzciqzl0yrm.js","assets/frgcc6golcxg9hoa.js","assets/cb00041tawj438ac.js","assets/jmpxwrnri5yjvfye.js","assets/c9xt9bv12kye5x44.js","assets/iej0cupg2dqkmejt.js","assets/dlyg1wsrxb1bdujw.js","assets/boj7ctg8ggfk4dia.js","assets/ksxre4c7mggncx9t.js","assets/dqug6hftjhmm0wto.js","assets/ic6ed80tep3dx2dk.js","assets/mutdyd1mse3szbqw.js","assets/3oobacop513xsz4v.js","assets/byyk4vwx7jza6c4f.js","assets/uy9hzbj6pcdj4e31.js","assets/dafjbmsuxh1m33um.js","assets/hih7y3lf19ezkzqs.js","assets/m53r6qicunpm4sky.js","assets/mlriv1uls655wdrc.js","assets/hujp8hd4dlhpisvn.js","assets/g7ks5cpobcpesrok.js","assets/cbzvwvjpwl83t006.js","assets/ddrnnlwwkggzz2ny.js","assets/jzr62l5oayzi411c.js","assets/l2l4d2d2bzani7km.js","assets/kib8peb1b8j9rc5d.js","assets/j60aocelvwwr76rd.js","assets/jzxig2ry6drngfyp.js","assets/dnlup45oyqbk6k15.js","assets/lowm54usy4rzuo31.js","assets/mh06u253e6rqurrk.js","assets/kpldwkdi6k2a2fdo.js","assets/j51b3b8y7dx543la.js","assets/gy1lpvuoewmzh42c.js","assets/gqlpgmzguho9n5oh.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js","assets/owbget26s04j6ot0.js","assets/o6p9t02t81236kdb.js","assets/njj37gw3f93ovc26.js","assets/hdkg0cys1b7b4f0v.js","assets/ia54sddtrl9qa2wj.js","assets/g06xst48b3fvssvn.js","assets/m3f6z8je2ush49jw.js","assets/ioom1cwgjgkzhe2w.js","assets/bxgk09qvxvkate6l.js"])))=>i.map(i=>d[i]);
var ie=Object.defineProperty,ae=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(s,e,i)=>e in s?ie(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,k=(s,e)=>{for(var i in e||(e={}))G.call(e,i)&&B(s,i,e[i]);if(j)for(var i of j(e))H.call(e,i)&&B(s,i,e[i]);return s},T=(s,e)=>ae(s,oe(e));var Y=(s,e)=>{var i={};for(var o in s)G.call(s,o)&&e.indexOf(o)<0&&(i[o]=s[o]);if(s!=null&&j)for(var o of j(s))e.indexOf(o)<0&&H.call(s,o)&&(i[o]=s[o]);return i};import{j as a,r as n,_ as f,c as te,a as re,o as ne,u as le}from"./bubexfvksfr7893o.js";import{kT as de,kU as ce,kV as ue,fS as K,jF as fe,d6 as O,d7 as Q,kW as ge,kX as me,kY as pe,kZ as he,k_ as _e,k$ as Ee,l0 as be,l1 as xe,l2 as ke,l3 as Pe,l4 as we,l5 as je,l6 as Te,l7 as Oe,l8 as Se,l9 as $,la as Ce,aI as E,aA as b,lb as Ie,lc as ve,ld as Fe,le as Le,lf as Ne,lg as Me,dn as Ae,T as ye,f_ as Ve,lh as Re,dp as De,li as Ue,g7 as We,lj as ze,cZ as Be,kt as Ge,cR as He,aP as Ye}from"./lm3g1zm00rp6al39.js";import{ih as Ke,m5 as ee,d$ as Qe,qX as $e,dS as Z,az as c,u as se,g as Ze,nG as qe,d as q,d5 as Xe,d6 as Je,aS as es,bD as ss,hW as is,qY as as,bZ as X,bV as J,_ as os,N as ts,jl as rs,O as ns,n as ls,q5 as ds,ao as cs,nE as us,nY as fs,nF as gs}from"./ncw8zw682jinppua.js";import{B as ms}from"./egzpifha5criht1h.js";import{P as ps}from"./dpidockywf8envd2.js";import{C as hs}from"./matxjx64xjrpxbwa.js";import{M as _s}from"./mqabubffkpko61wr.js";function Es({conversation:s}){const e=de();return a.jsxs(a.Fragment,{children:[e&&a.jsx(ce,{conversation:s}),a.jsx(bs,{conversation:s})]})}function bs({conversation:s}){const e=n.useContext(Ke),[i,o]=n.useState(!!(e!=null&&e.postWithProfile)&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(r=>r.kind==="media_generation"));return!(e!=null&&e.postWithProfile)||!i?null:a.jsx(ee,{conversation:s,children:a.jsx(ps,{clientThreadId:s.id,postWithProfile:e.postWithProfile,onClose:()=>o(!1)})})}const xs=450;function ks({children:s,conversation:e,isOpen:i,onClose:o,type:r}){return a.jsx(Qe,{children:i&&a.jsx($e,{children:a.jsx(ue.Provider,{value:{isEmbeddedInFocusedView:!0,type:r},children:a.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[a.jsx(Z.div,k({className:"bg-token-main-surface-secondary h-full w-full"},K)),a.jsxs("div",{className:"absolute inset-0 flex",children:[a.jsx("div",{className:"grow overflow-auto",children:s}),a.jsx(Z.div,T(k({className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:xs}},K),{children:a.jsx("div",{className:"h-[100vh] pb-4",children:a.jsx(_s,{conversation:e,hideHeader:!0,hideDisclaimer:!0},e.id)})}))]})]})})})})}const Ps=c(()=>f(()=>import("./hnb8opv7ic27r33h.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),ws=c(()=>f(()=>import("./c6rj4af6vlx7bzfk.js"),__vite__mapDeps([8,1,3,4,2,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38])).then(s=>s.ImageEditor));function js({conversation:s}){const e=fe();n.useEffect(()=>{O.close()},[s.id]);let i;return(e==null?void 0:e.type)===Q.ADAVisualization?i=a.jsx(Ps,{clientThreadId:s.id,visualization:e.visualization}):(e==null?void 0:e.type)===Q.Image&&(i=a.jsx(ws,{clientThreadId:s.id,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),a.jsx(ks,{conversation:s,isOpen:e!=null,onClose:O.close,type:e==null?void 0:e.type,children:i})}var Ts={};const Os=c(()=>f(()=>import("./ggfmmtzciqzl0yrm.js"),__vite__mapDeps([39,1,3,4,11,2,5,12]))),Ss=c(()=>f(()=>import("./frgcc6golcxg9hoa.js"),__vite__mapDeps([40,1,3,4,41,42,2,5,43,11,12,44,45,46,47,48,49,50,51,52,53,54,20,21,55,56,57,32,22,23,18,19,33,34,30,35,36,37,28,29,16,17,38,26,27]))),Cs=c(()=>f(()=>import("./hujp8hd4dlhpisvn.js"),__vite__mapDeps([58,1,3,4,2,5,11,12,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,20,21,55,56,57,32,22,23,18,19,33,34,30,35,36,37,28,29,16,17,38,26,27,59]))),Is=c(()=>f(()=>import("./cbzvwvjpwl83t006.js"),__vite__mapDeps([60,1,3,4,2,5,51,52,59,61])));c(async()=>()=>null);const vs=c(()=>f(()=>import("./jzr62l5oayzi411c.js"),__vite__mapDeps([62,1,2,3,4,5,18,19,20,21,11,12,22,23,53,52,63]))),Fs=c(()=>f(()=>import("./kib8peb1b8j9rc5d.js"),__vite__mapDeps([64,1,3,4,53,2,5,51,52,18,19,20,21,11,12,22,23]))),Ls=c(()=>f(()=>import("./j60aocelvwwr76rd.js"),__vite__mapDeps([65,1,66,2,3,4,5,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82])).then(s=>s.CheckoutModal)),Ns=c(()=>f(()=>import("./m3f6z8je2ush49jw.js"),__vite__mapDeps([83,1,2,3,4,5,84,85])).then(s=>s.VoiceNavigationBlocker));function Ms(s,e,i,o){"use no forget";return n.useMemo(()=>e?Ze(s,e,{urlGizmoId:i}):qe(s,k({urlGizmoId:i},o)),[s,e,i,o])}function Hs(s){"use forget";var h;const e=te.c(15);let i,o,r,t;e[0]!==s?(h=s,{gizmoId:o,urlThreadId:t,clientThreadId:i}=h,r=Y(h,["gizmoId","urlThreadId","clientThreadId"]),e[0]=s,e[1]=i,e[2]=o,e[3]=r,e[4]=t):(i=e[1],o=e[2],r=e[3],t=e[4]);const g=ge(),p=se(),x=t!=null?t:i,u=Ms(p,x,o,g);let d;e[5]!==u||e[6]!==t?(d=a.jsx(hs,{urlThreadId:t,conversation:u}),e[5]=u,e[6]=t,e[7]=d):d=e[7];let m;return e[8]!==i||e[9]!==u||e[10]!==o||e[11]!==r||e[12]!==d||e[13]!==t?(m=a.jsx(As,T(k({gizmoId:o,urlThreadId:t,clientThreadId:i,conversation:u},r),{children:d})),e[8]=i,e[9]=u,e[10]=o,e[11]=r,e[12]=d,e[13]=t,e[14]=m):m=e[14],m}function As({conversation:s,children:e}){var z;const i=se(),o=q(()=>J(i)),r=q(()=>X(i)),t=re(),[g]=ne(),p=g.get("from_webview")==="ios",x=!!me(t.pathname),u=Xe(Je.workspaceId),{eligible:d,isLoading:m}=pe(),h=he(),{eligible:S,isLoading:C}=_e(),I=Ee(),{eligible:v,isLoading:F}=be(),L=xe(),{eligible:N,isLoading:M}=ke(),A=Pe(),{eligible:y,isLoading:V}=we(),R=je(),{eligible:D,isLoading:U}=Te(),W=Oe();n.useEffect(()=>{Se(!0).then(l=>{l.force_login&&es(i,{fallbackScreenHint:"login"}),$.initializeAndGatherData(l),ss(i).checkGate("4178431533")&&$.precomputeEnforcementToken(l),Ce.initializeAndGatherData(l)})},[i]),n.useEffect(()=>{const l=g.get(is)==="true",_=g.get(as)==="true";_!==r&&X.set(i,_),o!==l&&(J.set(i,l),l&&os.logEvent("Enable Temporary Chat"))},[i,o,r,g]),n.useEffect(()=>{var l;(l=t.state)!=null&&l.focusObject&&O.setFocusedObject(t.state.focusObject)},[(z=t.state)==null?void 0:z.focusObject]),n.useEffect(()=>{!m&&d&&(E(i,b.hasSeenPioneer),h())},[i,d,m,h]),n.useEffect(()=>{!C&&S&&(E(i,b.hasSeenSeeker),I())},[i,S,C,I]),n.useEffect(()=>{!F&&v&&(E(i,b.hasSeenMaverick),L())},[i,v,F,L]),n.useEffect(()=>{!M&&N&&(E(i,b.hasSeenTrailBlazer),A())},[i,N,M,A]),n.useEffect(()=>{!V&&y&&(E(i,b.hasSeenStratos),R())},[i,y,V,R]),n.useEffect(()=>{!U&&D&&(E(i,b.hasSeenWayfinder),W())},[i,D,U,W]),Ie(s.id);const P=le();return n.useEffect(()=>{ts(i)&&ve(P)},[P,i]),Fe(),n.useEffect(()=>rs(cs,{completionFinished:l=>{var _;if(l.serverThreadId!=null&&!o){const w=(_=ns(l.serverThreadId))==null?void 0:_.mode;(w==null?void 0:w.kind)===ls.GizmoInteraction&&ds.handleGizmoInteracted(P,w.gizmo_id)}}}),[o,P]),Le(),Ne(),a.jsxs(us.Provider,{value:s,children:[x&&a.jsx(Me,{clientThreadId:s.id}),a.jsx(Ns,{}),a.jsxs(fs,{children:[a.jsx(Ae,{clientThreadId:s.id,children:a.jsx(ye,{clientThreadId:s.id,children:a.jsx(gs,{conversation:s,children:a.jsxs(ee,{conversation:s,children:[a.jsx(ms,{clientThreadId:s.id,page:"chat",isIosDirectPurchaseFlow:p},u),a.jsx(ys,{clientThreadId:s.id,isIosDirectPurchaseFlow:p}),a.jsx(Os,{}),a.jsx(Ve,{}),a.jsx(Re,{}),e,a.jsx(Es,{conversation:s}),a.jsx(js,{conversation:s}),a.jsx(De,{clientThreadId:s.id}),a.jsx(Ue,{}),a.jsx(We,{clientThreadId:s.id}),a.jsx(ze,{})]})})})}),a.jsx(Ls,{}),!1]})]})}function ys({clientThreadId:s,isIosDirectPurchaseFlow:e}){const{isWorkspaceUser:i,workspaceOnboardingVariant:o,isOpen:r,isLoading:t}=Be(),{isOpen:g,isLoading:p}=Ge(),{isOpen:x,isLoading:u,closeModal:d}=He();return e?null:!t&&r?i?o==="k12"?a.jsx(Cs,{clientThreadId:s}):a.jsx(Is,{clientThreadId:s}):a.jsx(Ss,{clientThreadId:s}):!p&&g?a.jsx(vs,{clientThreadId:s}):!u&&x?a.jsx(Ye,{children:a.jsx(Fs,{clientThreadId:s,onClose:d})}):null}typeof window<"u"&&(window._g=Ts.GOKU_SERVICE);export{Hs as C,xs as F};
//# sourceMappingURL=i2fnvzvjvu5c6tcn.js.map

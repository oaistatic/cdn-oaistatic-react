var $=Object.defineProperty,E=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var A=(o,e,n)=>e in o?$(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,k=(o,e)=>{for(var n in e||(e={}))K.call(e,n)&&A(o,n,e[n]);if(_)for(var n of _(e))O.call(e,n)&&A(o,n,e[n]);return o},P=(o,e)=>E(o,H(e));import{c as W,j as p,M as z}from"./bubexfvksfr7893o.js";import{u as I,g as q,C as B}from"./fy4l2kpcbjlox0ps.js";import{g as R,e as G}from"./o0dw43fppqvaf7ws.js";import{u as J,a as L}from"./bezlbl32xw9oguw1.js";import"./ncw8zw682jinppua.js";import"./lm3g1zm00rp6al39.js";import"./cxp76v1gv71u5chl.js";import"./ha3yj3u2f1w16goy.js";import"./fyy6o8kal64rtpos.js";import"./e5q3f3k67x71csb7.js";import"./lptwpbjabrvjmhsj.js";import"./nnaau44w7pxfjjn3.js";import"./lv98i5lrm8g24nlg.js";import"./ffjw65gjnc6j0nz8.js";import"./ffvjxtmoqooghm1t.js";import"./eqqsnl6kprwt6kvn.js";import"./iqtpdwh2n8o5iyd7.js";import"./ckeauhcg4pu33xfw.js";import"./n630qnacd2oui4py.js";import"./n117ifjno76hbo3f.js";import"./gqlpgmzguho9n5oh.js";import"./h1em0bjkpkjv8ykw.js";import"./m609xwboj0zo059y.js";import"./eifqzljcxkeg8zns.js";import"./o6p9t02t81236kdb.js";import"./hu1bt0oauegdhua6.js";import"./m214aojas5i8u5ss.js";import"./k3w19w5sa48fujqs.js";import"./iv5xwnwraxd9v7zq.js";import"./nzkkesm2p4dklarf.js";import"./icif99f9c6x3iitu.js";import"./f1ucdf2dx4ztfnd4.js";import"./kou7k14ueo6peaoq.js";import"./gfhyoobo4q8q2pzd.js";import"./n8w61inav9kre7iu.js";import"./i8ns2k0nyu6k62qc.js";import"./owg1t5lbjzwpi0hd.js";import"./gc5zntv10x5pyl7r.js";import"./knfzy5vszhnec9ql.js";function Ee(o){"use forget";const e=W.c(39),{diffFiles:n,unifiedDiff:c,enableComments:m,comments:i,setComments:s}=o,{readonlyComments:u}=J(),{focusedAssistantTurn:g,currentDiffTaskTurn:w,pastTurns:F}=L(),a=I();let D;e:{if(!g){D=null;break e}if(R(g,!1).length>0||R(g,!0).length>0){D=g;break e}D=w!=null?w:null}const N=D;let S;e:{if(m){let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0],S=r;break e}let t;e[1]!==N||e[2]!==F?(t=G(N,F).map(Q),e[1]=N,e[2]=F,e[3]=t):t=e[3],S=t}const M=S;let y;e[4]!==i||e[5]!==M||e[6]!==m?(y=m?i!=null?i:[]:M,e[4]=i,e[5]=M,e[6]=m,e[7]=y):y=e[7];const d=y;if(!n.length){let t;return e[8]===Symbol.for("react.memo_cache_sentinel")?(t=p.jsx("div",{className:"flex h-full w-full flex-1 items-center justify-center",children:p.jsx("span",{className:"text-token-text-secondary",children:p.jsx(z,{id:"wham.whamTaskPageCodeDiffContent.noDiffAvailable",defaultMessage:"No diff available"})})}),e[8]=t):t=e[8],t}let T;e[9]!==i||e[10]!==s?(T=function(r){!s||!i||s([...i,r])},e[9]=i,e[10]=s,e[11]=T):T=e[11];const C=T;let b;e[12]!==i||e[13]!==s?(b=function(r){!s||!i||s(i.filter(l=>l.id!==r.id))},e[12]=i,e[13]=s,e[14]=b):b=e[14];const h=b;let j;e[15]!==i||e[16]!==s?(j=function(r){!s||!i||s(i.map(l=>l.id===r.id?r:l))},e[15]=i,e[16]=s,e[17]=j):j=e[17];const x=j;let f;if(e[18]!==a||e[19]!==d||e[20]!==n||e[21]!==m||e[22]!==C||e[23]!==h||e[24]!==x||e[25]!==u||e[26]!==c){let t;e[28]!==a||e[29]!==d||e[30]!==m||e[31]!==C||e[32]!==h||e[33]!==x||e[34]!==u||e[35]!==c?(t=r=>{const l=q(r.diffFile),U=a?"".concat(a.versionKey,"::").concat(l):l;return p.jsx(B,{diff:r,stickyHeader:!0,viewType:c?"unified":"split",enableComments:m,comments:d,onCommentCreate:C,onCommentDelete:h,onCommentUpdate:x,readonlyComments:u},U)},e[28]=a,e[29]=d,e[30]=m,e[31]=C,e[32]=h,e[33]=x,e[34]=u,e[35]=c,e[36]=t):t=e[36],f=n.map(t),e[18]=a,e[19]=d,e[20]=n,e[21]=m,e[22]=C,e[23]=h,e[24]=x,e[25]=u,e[26]=c,e[27]=f}else f=e[27];let v;return e[37]!==f?(v=p.jsx("div",{className:"relative h-full w-full pt-6",children:p.jsx("div",{className:"flex h-full w-full flex-col gap-6 overflow-y-auto px-6 pb-6",children:f})}),e[37]=f,e[38]=v):v=e[38],v}function Q(o){return P(k({},o),{content:o.content.map(V),position:k({},o.position)})}function V(o){return k({},o)}export{Ee as WhamTaskPageCodeDiffContent};
//# sourceMappingURL=g639ca26731n6db6.js.map

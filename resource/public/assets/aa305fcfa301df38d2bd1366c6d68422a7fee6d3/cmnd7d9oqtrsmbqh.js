const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lm3g1zm00rp6al39.js","assets/bubexfvksfr7893o.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/conversation-small-lq38g8zw.css","assets/l5e2clfxpgm30p9v.js","assets/k07fke0i34clap9a.js","assets/dkjdqjcct64qk1e4.js","assets/lyh8bkoye9hz4v56.js","assets/nd9xod27hwpupnsp.js","assets/d9inbyzqo136hon0.js","assets/edolhhlncxur5ops.js","assets/gsyjy3cn2edhhxqr.js","assets/dwgk7r4s1fwn35jq.js"])))=>i.map(i=>d[i]);
var xt=Object.defineProperty,ht=Object.defineProperties;var gt=Object.getOwnPropertyDescriptors;var De=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable;var Be=(t,e,a)=>e in t?xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Z=(t,e)=>{for(var a in e||(e={}))pt.call(e,a)&&Be(t,a,e[a]);if(De)for(var a of De(e))bt.call(e,a)&&Be(t,a,e[a]);return t},se=(t,e)=>ht(t,gt(e));import{j as s,_ as G,c as z,h as X,M as S,r as L,u as Ke,i as wt,d as je,a as ye,R as oe,L as _t,l as ge,aj as ce}from"./bubexfvksfr7893o.js";import{B as vt}from"./egzpifha5criht1h.js";import{az as U,aA as $,u as Q,p as fe,d as jt,pP as ke,i3 as me,d_ as re,cz as ne,cr as Ye,sc as yt,aB as Y,e7 as ie,J as ee,dZ as kt,dQ as Ct,dS as de,ff as Nt,eH as pe,d$ as Et,cC as Qe,l7 as Xe,aC as Je,kR as St,gL as Mt,fN as Rt,br as Tt,iO as At,al as Ot,fX as Pt,fO as It,bT as Lt,k8 as Wt,jC as ae,jU as Fe,L as Dt,u9 as Bt,uf as Ft,iu as Ht,jH as Vt,rr as Gt,u8 as Ce}from"./ncw8zw682jinppua.js";import{b as Ut}from"./ip2dsbq9712r5wna.js";import{u as $t,W as Ne}from"./nzkkesm2p4dklarf.js";import{C as J,u as zt}from"./j0fqk5izlx1mdjjs.js";import{R as qt}from"./j4n77mcz7xzcbanh.js";import{W as Kt}from"./m6ljv8pxljtc7j4d.js";import{b as Yt,a as Qt,c as Xt,E as Jt,h as Ee}from"./gtzjihtnvt59spmg.js";import{W as Ze,a as He}from"./i8ns2k0nyu6k62qc.js";import{Y as Zt,Z as et,_ as es,k as V,W as tt,E as ue,A as ts,P as ss,b as as,x as st,j as ns,m as os,D as rs,h as is,$ as ls}from"./o0dw43fppqvaf7ws.js";import{T as cs}from"./iqtpdwh2n8o5iyd7.js";import{vh as ds,aI as te,vi as Ve,vj as at,vk as ms,vl as nt,vm as fs,mR as us,vn as xs,vo as hs,vp as gs,vq as ot,vr as ps,jC as rt,vs as it,vt as bs,qH as ws,z as be,qJ as _s}from"./lm3g1zm00rp6al39.js";import{I as vs}from"./kou7k14ueo6peaoq.js";import{u as lt}from"./opgbrqj637eoxt1g.js";import{u as Se}from"./9rtpda9g89pwjskr.js";import{g as ct,a as js,W as xe}from"./gc5zntv10x5pyl7r.js";import{W as _e,i as ys}from"./iv5xwnwraxd9v7zq.js";import{U as ks}from"./dbmb9e2m27h228uw.js";import{useSetupBaseWhamKeyboardActions as Cs}from"./kry998ghqvvi5h0n.js";import{g as Ns}from"./icif99f9c6x3iitu.js";import{h as dt}from"./f00k5a6r01z8wq07.js";import{u as Es,A as Ss,a as Ms,N as Rs,b as Ts}from"./baz0q256ww4uq6xs.js";import{F as Ge}from"./nxpg01wwuofkn1k1.js";import{b as As}from"./lptwpbjabrvjmhsj.js";import{a as Os,u as Ps,T as Is,g as Ls}from"./k1nu8ks58mjntacf.js";import{u as Ws}from"./gfhyoobo4q8q2pzd.js";import{u as Ds}from"./drp7x5ntnuk0iqtu.js";import{u as Bs}from"./n8w61inav9kre7iu.js";import{u as Fs}from"./cxhvc6trae8s9e85.js";function mt({disabled:t,children:e}){return t?s.jsx("div",{className:"pointer-events-none opacity-50 select-none","aria-hidden":"true",tabIndex:-1,inert:!0,children:e}):e}const Hs=U(()=>G(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zp),__vite__mapDeps([0,1,2,3,4])),{loading:t=>$(t)}),Vs=U(()=>G(()=>import("./l5e2clfxpgm30p9v.js"),__vite__mapDeps([5,1])),{loading:t=>$(t)});function Gs(t,e){"use forget";return e}const Ue=Gs;function Us(t){"use forget";const e=z.c(35),{isGitHubConnected:a,onClickCreateEnvironment:m}=t,p=a===void 0?!1:a,c=Q(),l=X(),n=fe(),i=Ue(zs,!1),r=Ue($s,J.Complete),o=i&&r===J.NoGithubConnection,d=i&&r===J.NoEnvironmentsCreated;let f;e[0]!==c?(f=()=>yt(c,re.GITHUB_CONNECTOR,{productSku:me.CODEX}),e[0]=c,e[1]=f):f=e[1];const u=jt(f),b=u===void 0;let w;e[2]!==l||e[3]!==n?(w=()=>{n.danger(l.formatMessage({id:"+vfzDI",defaultMessage:"Error fetching connector, please ensure GitHub is enabled for your account"}))},e[2]=l,e[3]=n,e[4]=w):w=e[4];const g=w,y=g,{isConnected:j,isLoading:k,openGithubModal:h,error:C,refetch:N}=ke(re.GITHUB_CONNECTOR,"github","/codex",me.CODEX,g,y);let _;e[5]!==N?(_=s.jsx(qt,{refetchConnectorData:N}),e[5]=N,e[6]=_):_=e[6];const x=_,v=k||b;let E;e[7]!==o||e[8]!==j||e[9]!==u||e[10]!==h?(E=()=>{!o&&(!u||j)||h()},e[7]=o,e[8]=j,e[9]=u,e[10]=h,e[11]=E):E=e[11];const A=o?!1:!u||j;let T;e[12]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(S,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"}),e[12]=T):T=e[12];let R;e[13]!==v||e[14]!==E||e[15]!==A?(R=s.jsx(Y,{color:"primary",size:"medium",icon:Vs,loading:v,onClick:E,disabled:A,className:"px-3",children:T}),e[13]=v,e[14]=E,e[15]=A,e[16]=R):R=e[16];const P=R;let I;e[17]!==m?(I=()=>m==null?void 0:m(),e[17]=m,e[18]=I):I=e[18];let M;e[19]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(S,{id:"wham.createEnvironment.cta",defaultMessage:"Create environment"}),e[19]=M):M=e[19];let W;e[20]!==I?(W=s.jsx(Y,{color:"secondary",size:"medium",icon:Hs,onClick:I,className:"px-3",children:M}),e[20]=I,e[21]=W):W=e[21];const D=W,O=p||d,B=O?D:C?x:P;let H;e[22]===Symbol.for("react.memo_cache_sentinel")?(H=ne("bg-token-bg-tertiary","rounded-2xl","w-full","min-h-[220px]","flex items-center justify-center","pointer-events-auto","border-token-border-light","border"),e[22]=H):H=e[22];let F;e[23]!==B||e[24]!==C||e[25]!==o||e[26]!==l||e[27]!==u||e[28]!==O?(F=O||C||u||o?B:s.jsx(Ye,{label:l.formatMessage({id:"wham.codexOnboardingConnections.githubDisabledByAdmin",defaultMessage:"Disabled by workspace admin"}),children:s.jsx("div",{children:B})}),e[23]=B,e[24]=C,e[25]=o,e[26]=l,e[27]=u,e[28]=O,e[29]=F):F=e[29];let K;e[30]!==O?(K=!O&&s.jsx("div",{className:"text-token-text-secondary text-xs",children:s.jsx(S,{id:"wham.whamComposer.connectGithubSubtitle",defaultMessage:"Connect a repository to create a task"})}),e[30]=O,e[31]=K):K=e[31];let q;return e[32]!==F||e[33]!==K?(q=s.jsx("div",{className:H,children:s.jsxs("div",{className:"flex flex-col items-center gap-2 p-8",children:[F,K]})}),e[32]=F,e[33]=K,e[34]=q):q=e[34],q}function $s(t){return t.codexOnboardingStateOverride}function zs(t){return t.showDevOnboardingOverrides}function qs(){var c;const{data:t,isLoading:e}=Zt(),a=(c=t==null?void 0:t.items)!=null?c:[],[m,p]=L.useState(null);return e&&a.length===0?s.jsx("div",{className:"mt-4 flex h-full w-full items-center justify-center",children:s.jsx(ie,{})}):s.jsx("div",{className:"flex flex-col justify-center",children:a.map((l,n)=>{var i;return s.jsx(Ze,{index:n,taskListItem:l,hoveredIndex:m,onMouseEnter:()=>p(n),onMouseLeave:()=>p(null),linkPath:"/s/".concat(l.share_task_id),showArchiveButton:!1,currentFilter:"current"},(i=l.id)!=null?i:"".concat(n))})})}function Me(){"use forget";const t=z.c(56),e=Q(),a=X(),{homeTab:m,setHomeTab:p}=et();let c;t[0]!==e?(c=es(e),t[0]=e,t[1]=c):c=t[1];const l=c,n=V(Ys),i=V(Ks),{eligible:r,isLoading:o}=ds(),d=l&&!o&&r;let f;t[2]!==e||t[3]!==r||t[4]!==o||t[5]!==p||t[6]!==i?(f=H=>{p(H),H==="code_reviews"&&!o&&r&&te(e,Ve),H==="all"&&i(!1)},t[2]=e,t[3]=r,t[4]=o,t[5]=p,t[6]=i,t[7]=f):f=t[7];const u=f;let b,w;t[8]!==e||t[9]!==m||t[10]!==r||t[11]!==o?(b=()=>{m==="code_reviews"&&!o&&r&&te(e,Ve)},w=[e,m,r,o],t[8]=e,t[9]=m,t[10]=r,t[11]=o,t[12]=b,t[13]=w):(b=t[12],w=t[13]),L.useEffect(b,w);let g,y;t[14]!==m||t[15]!==i?(g=()=>{m==="all"&&i(!1)},y=[m,i],t[14]=m,t[15]=i,t[16]=g,t[17]=y):(g=t[16],y=t[17]),L.useEffect(g,y);let j;t[18]!==a?(j=a.formatMessage({id:"wham.whamTasksHeader.tasks",defaultMessage:"Tasks"}),t[18]=a,t[19]=j):j=t[19];const k=j;let h;t[20]!==n?(h=n?s.jsx("span",{"aria-hidden":"true",className:"absolute -end-2 top-1 size-1.5 -translate-y-1/2 rounded-full bg-blue-400"}):null,t[20]=n,t[21]=h):h=t[21];let C;t[22]!==h||t[23]!==k?(C=s.jsxs("span",{className:"relative inline-flex items-center",children:[k,h]}),t[22]=h,t[23]=k,t[24]=C):C=t[24];const N=C;let _;t[25]!==a?(_=a.formatMessage({id:"wham.whamTasksHeader.codeReviews",defaultMessage:"Code reviews"}),t[25]=a,t[26]=_):_=t[26];const x=_;let v;t[27]!==d?(v=d?s.jsx("span",{"aria-hidden":"true",className:"absolute -end-2 top-1 size-1.5 -translate-y-1/2 rounded-full bg-blue-400"}):null,t[27]=d,t[28]=v):v=t[28];let E;t[29]!==x||t[30]!==v?(E=s.jsxs("span",{className:"relative inline-flex items-center",children:[x,v]}),t[29]=x,t[30]=v,t[31]=E):E=t[31];const A=E;let T;t[32]!==a?(T=a.formatMessage({id:"wham.whamTasksHeader.tasksAriaLabel",defaultMessage:"Tab selector to view active tasks"}),t[32]=a,t[33]=T):T=t[33];let R;t[34]!==T||t[35]!==N?(R={label:N,ariaLabel:T,key:"all"},t[34]=T,t[35]=N,t[36]=R):R=t[36];let P;t[37]!==l||t[38]!==A||t[39]!==a?(P=l?[{label:A,ariaLabel:a.formatMessage({id:"wham.whamTasksHeader.codeReviewsAriaLabel",defaultMessage:"Tab selector to view code reviews"}),key:"code_reviews"}]:[],t[37]=l,t[38]=A,t[39]=a,t[40]=P):P=t[40];let I;t[41]!==a?(I=a.formatMessage({id:"wham.whamTasksHeader.archived",defaultMessage:"Archive"}),t[41]=a,t[42]=I):I=t[42];let M;t[43]!==a?(M=a.formatMessage({id:"wham.whamTasksHeader.archivedAriaLabel",defaultMessage:"Tab selector to view archived tasks"}),t[43]=a,t[44]=M):M=t[44];let W;t[45]!==I||t[46]!==M?(W={label:I,ariaLabel:M,key:"archived"},t[45]=I,t[46]=M,t[47]=W):W=t[47];let D;t[48]!==R||t[49]!==P||t[50]!==W?(D=[R,...P,W],t[48]=R,t[49]=P,t[50]=W,t[51]=D):D=t[51];const O=D;let B;return t[52]!==u||t[53]!==m||t[54]!==O?(B=s.jsx("div",{className:"border-token-border-primary mt-4 flex w-full flex-wrap items-center justify-between gap-3 border-b align-middle md:mt-6",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(cs,{currentTab:m,onChange:u,withUnderline:!0,skipTabUnderlineAnimation:!0,tabs:O})})}),t[52]=u,t[53]=m,t[54]=O,t[55]=B):B=t[55],B}function Ks(t){return t.setShouldHighlightTasksTab}function Ys(t){return t.shouldHighlightTasksTab}function Qs(){const t=X(),e=fe(),a=V(g=>g.environmentId),m=V(g=>g.branch),[p,c]=L.useState(null),l=Ke(),{isCreatingEnvironment:n,ensureEnvironment:i,hasRepository:r}=$t(),o=!!(a&&m),d=!o&&!r,f=!o&&!r,u=[{id:"ask-0",type:"ask",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.ask.prompt.0",defaultMessage:"Explain the codebase to a newcomer. What is the general structure, what are the important things to know, and what are some pointers for things to learn next?"})},{id:"build-1",type:"build",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.build.prompt.1",defaultMessage:"Pick a part of the codebase that seems important and find and fix a bug."})},{id:"ask-2",type:"ask",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.ask.prompt.2",defaultMessage:"Go through the codebase, find issues and propose one task to fix a typo, one task to fix a bug, one task to fix a code comment or documentation discrepancy, and one task to improve a test."})}],{mutate:b}=wt({mutationFn:async({prompt:g,id:y})=>{const{environmentId:j,branch:k}=V.getState();if(!j||!k)throw e.danger(t.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"})),new Error("Environment, content, and branch are required");const h=crypto.randomUUID();return V.getState().addPendingTaskId(h),c(y),await tt.createNewTask(j,k,g,!1).catch(N=>{throw V.getState().removePendingTaskId(h),e.danger(t.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"}),{id:h,duration:5,hasCloseButton:!0}),N}).then(N=>(V.getState().assignPendingTaskToFinalTask(h,N.task.id),N))},onSuccess:()=>{l.refetchQueries({queryKey:["wham","tasks"]}),l.refetchQueries({queryKey:["wham","usage","rate-limit-status"]})},onSettled:()=>{c(null)}}),w=async g=>{if(!o){if(!r){e.danger(t.formatMessage({id:"wham.startFirstTask.selectRepository",defaultMessage:"Select a repository before starting a task"}));return}c(g.id);try{if(!await i()){c(null);return}}catch(y){c(null);return}b({prompt:g.prompt,id:g.id});return}b({prompt:g.prompt,id:g.id})};return s.jsxs("div",{className:"w-full px-3 md:px-0",children:[s.jsx("div",{className:"text-token-text-primary ps-1 pt-6 pb-3 text-sm font-medium",children:s.jsx(S,{id:"wham.startFirstTask.title",defaultMessage:"Start your first task"})}),s.jsx("div",{className:"bg-token-bg-tertiary dark:bg-token-bg-secondary rounded-3xl p-4",children:s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:u.map(g=>s.jsxs("div",{className:ne("bg-token-bg-primary dark:bg-token-bg-tertiary flex flex-col justify-between rounded-2xl p-4 shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]"),children:[s.jsx("div",{className:"text-token-text-primary pb-4 text-sm leading-5.5",children:g.prompt}),s.jsx(Ye,{disabled:!f,label:f?t.formatMessage({id:"wham.startFirstTask.disabledTooltip",defaultMessage:"Please select a repository to start a task"}):null,children:s.jsx(Y,{color:"secondary",disabled:d||n,loading:p===g.id,className:"self-start",onClick:()=>w(g),children:s.jsx(S,{id:"wham.startFirstTask.cta",defaultMessage:"Start"})})})]},g.id))})})]})}const $e=U(()=>G(()=>import("./k07fke0i34clap9a.js"),__vite__mapDeps([6,1])),{loading:t=>$(t)});function Xs(){const t=lt(),e=je(),a=fe(),m=X(),{data:p}=ue(),{mutate:c,isPending:l}=Se({showToast:!1}),n=()=>{c({codeReviewPreference:"always"},{onSuccess:()=>{a.success(m.formatMessage({id:"wham.codeReviewSuggestionsCard.enableForMeSuccess",defaultMessage:"Code review is now enabled for you"}),{duration:2})},onError:()=>{a.danger(m.formatMessage({id:"wham.codeReviewSuggestionsCard.enableForMeError",defaultMessage:"Failed to enable code review for you"}),{duration:2})}})},i=()=>{e("/codex/settings/code-review")};return(p==null?void 0:p.code_review_preference)==="always"?s.jsxs("div",{className:"flex max-w-[300px] flex-col items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary flex flex-col gap-2 rounded-xl p-2 shadow",children:s.jsx($e,{className:"icon-xl"})}),s.jsx("p",{className:"text-token-text-primary font-medium",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.codeReviewEnabledTitle",defaultMessage:"Code review enabled"})}),s.jsx("p",{className:"text-token-text-secondary text-center text-wrap",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.codeReviewEnabledDescription",defaultMessage:"Codex will review PRs you push to connected repos."})}),s.jsx(Y,{onClick:()=>e("/codex/settings/code-review"),className:"min-w-[220px]",children:s.jsx(S,{id:"wham.codexEnvironmentPopover.manageCodeReview",defaultMessage:"Manage code review"})})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary flex flex-col gap-2 rounded-xl p-2 shadow",children:s.jsx($e,{className:"icon-xl"})}),s.jsxs("div",{className:"text-centers flex max-w-[300px] flex-col items-center gap-2",children:[s.jsx("p",{className:"text-token-text-primary font-medium",children:s.jsx(S,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingTitle",defaultMessage:"Enable code review"})}),s.jsx("p",{className:"text-token-text-secondary text-center text-wrap",children:s.jsx(S,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingDescription",defaultMessage:"Catch critical bugs before they ship"})}),s.jsx(Y,{onClick:n,className:"min-w-[220px]",loading:l,children:s.jsx(S,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingButton",defaultMessage:"Enable for me"})}),t&&s.jsx(Y,{onClick:i,className:"min-w-[220px]",color:"secondary",children:s.jsx(S,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingButtonWorkspace",defaultMessage:"Enable for my workspace"})})]})]})}function Js(t){"use forget";const e=z.c(4),{filter:a,homeTab:m}=t,p=m||(a==="archived"?"archived":a==="code_review"?"code_reviews":"all");if(p==="code_reviews"&&a==="code_review"){let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(Xs,{}),e[0]=n):n=e[0],n}if(p==="archived"){let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(S,{id:"wham.whamTasksSection.noArchivedTasks",defaultMessage:"No archived tasks"})}),e[1]=n):n=e[1],n}if(p==="all"){let n;return e[2]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(Qs,{}),e[2]=n):n=e[2],n}let l;return e[3]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(S,{id:"wham.whamTasksSection.noActiveTasks",defaultMessage:"No active tasks"})}),e[3]=l):l=e[3],l}const Zs=U(()=>G(()=>import("./dkjdqjcct64qk1e4.js"),__vite__mapDeps([7,1])),{loading:t=>$(t)});function ea({filterOverride:t,homeTab:e}={}){var N;const a=V(({homeTab:_})=>_),m=e!=null?e:a,p=t!=null?t:ss(m),{data:c,isLoading:l,error:n,fetchNextPage:i,hasNextPage:r,isFetchingNextPage:o,refetch:d,isPending:f}=ts({filter:p,refetchOnMount:!0,refetchOnWindowFocus:!0}),u=(N=c==null?void 0:c.pages.flatMap(_=>{var x;return(x=_.items)!=null?x:[]}))!=null?N:[],b=V(_=>_.pendingTaskIds),w=V(_=>_.pendingCodeReviewIds),g=u.length>0,[y,j]=L.useState(null),k=Array.from(Object.entries(b)).filter(([_,x])=>!u.some(v=>v.id===x)).map(([_])=>_).reverse(),h=Array.from(Object.entries(w)).filter(([_,x])=>!u.some(v=>v.id===x)).map(([_])=>_).reverse(),C=u.length===0&&k.length===0&&h.length===0;return s.jsx("div",{className:"flex flex-col justify-center pb-20",children:l&&!g?s.jsx("div",{className:"mt-4 flex h-full w-full items-center justify-center",children:s.jsx(ie,{})}):s.jsxs(s.Fragment,{children:[C&&s.jsx(s.Fragment,{children:n?s.jsxs("div",{className:"mt-6 flex w-full flex-col items-center justify-center gap-2 text-sm",children:[s.jsx("div",{className:"text-interactive-label-warning-secondary",children:s.jsx(S,{id:"wham.whamTasksSection.errorLoadingTasks",defaultMessage:"Error loading tasks"})}),s.jsx(Y,{color:"secondary",onClick:()=>d(),children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(S,{id:"wham.whamTasksSection.retry",defaultMessage:"Retry"}),s.jsx(Zs,{className:"icon-xs"})]})})]}):s.jsx("div",{className:"mt-6 flex h-full w-full items-center justify-center",children:s.jsx(Js,{filter:p,homeTab:m})})}),p==="current"&&k.map(_=>s.jsx(He,{},_)),p==="code_review"&&h.map(_=>s.jsx(He,{},_)),u.map((_,x)=>s.jsx(Ze,{index:x,taskListItem:_,hoveredIndex:y,onMouseEnter:()=>{j(x)},onMouseLeave:()=>j(null),currentFilter:p,showArchiveButton:p!=="code_review"},_.id)),s.jsx(vs,{isFetchingNextPage:o||f,hasNextPage:r!=null?r:!1,fetchNextPage:i})]})})}const Re=L.memo(ea),ta=U(()=>G(()=>import("./lyh8bkoye9hz4v56.js"),__vite__mapDeps([8,1])),{loading:t=>$(t)}),sa=U(()=>G(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zw),__vite__mapDeps([0,1,2,3,4])),{loading:t=>$(t)});function aa(){"use forget";const t=z.c(22),e=Q(),{eligible:a,isLoading:m}=at(),p=Ke(),c=X(),l=fe();if(m||!a)return null;let n;t[0]!==e?(n=()=>te(e,ms),t[0]=e,t[1]=n):n=t[1];const i=n;let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(ta,{className:"h-6 w-6 shrink-0"}),t[2]=r):r=t[2];let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h2",{className:"text-sm font-semibold md:text-base",children:s.jsx(S,{id:"wham.alphaBanner.title",defaultMessage:"Codex Alpha"})}),t[3]=o):o=t[3];let d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsxs("div",{className:"flex flex-1 items-start gap-3 md:items-center md:gap-4",children:[r,s.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[o,s.jsx("p",{className:"text-token-text-secondary text-xs leading-5 md:text-sm",children:s.jsx(S,{id:"wham.alphaBanner.description",defaultMessage:"Get early access to new models and features."})})]})]}),t[4]=d):d=t[4];let f;t[5]!==c||t[6]!==i||t[7]!==p||t[8]!==l?(f=()=>{tt.updateUserPreferences({alphaOptIn:!0}).then(async()=>{await as(p),i(),l.success(c.formatMessage({id:"wham.alphaBanner.enrolled",defaultMessage:"Enrolled in Codex alpha. Update your selection anytime in your settings."}),{duration:3})}).catch(()=>l.danger(c.formatMessage({id:"wham.alphaBanner.failed",defaultMessage:"Failed to update user preferences"}),{duration:3}))},t[5]=c,t[6]=i,t[7]=p,t[8]=l,t[9]=f):f=t[9];let u;t[10]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(S,{id:"wham.alphaBanner.cta",defaultMessage:"Join now"}),t[10]=u):u=t[10];let b;t[11]!==f?(b=s.jsx(Y,{size:"small",color:"primary",className:"text-token-text-secondary h-9 px-6 text-sm md:px-7",onClick:f,children:u}),t[11]=f,t[12]=b):b=t[12];let w;t[13]!==c?(w=c.formatMessage({id:"wham.alphaBanner.dismiss",defaultMessage:"Dismiss Codex alpha banner"}),t[13]=c,t[14]=w):w=t[14];let g;t[15]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(sa,{className:"icon-sm"}),t[15]=g):g=t[15];let y;t[16]!==i||t[17]!==w?(y=s.jsx(Y,{size:"small",color:"secondary",className:"text-token-text-tertiary border-token-border-subtle hover:bg-token-bg-secondary hover:text-token-text-primary h-9 w-9 text-sm font-medium",onClick:i,"aria-label":w,children:g}),t[16]=i,t[17]=w,t[18]=y):y=t[18];let j;return t[19]!==b||t[20]!==y?(j=s.jsx("div",{className:"mt-4 w-full px-3 md:px-0",children:s.jsx("div",{className:"border-token-border-subtle bg-token-bg-primary text-token-text-primary flex w-full flex-col gap-3 rounded-3xl border px-4 py-3 shadow-[0px_12px_32px_rgba(15,23,42,0.14)] md:px-6 md:py-4",children:s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[d,s.jsxs("div",{className:"flex flex-shrink-0 items-center gap-2",children:[b,y]})]})})}),t[19]=b,t[20]=y,t[21]=j):j=t[21],j}const na=U(()=>G(()=>import("./nd9xod27hwpupnsp.js"),__vite__mapDeps([9,1])),{loading:t=>$(t)}),oa=U(()=>G(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zw),__vite__mapDeps([0,1,2,3,4])),{loading:t=>$(t)}),ra="Nov 20";function ia(){"use forget";const t=z.c(19),e=Q(),a=X(),{eligible:m,isLoading:p}=nt();let c;t[0]!==e?(c=()=>{te(e,fs)},t[0]=e,t[1]=c):c=t[1];const l=c;if(p||!m)return null;let n;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("div",{className:"text-token-text-secondary flex h-10 w-10 shrink-0 items-center justify-center rounded-2xl",children:s.jsx(na,{className:"icon-md","aria-hidden":"true"})}),t[2]=n):n=t[2];let i;t[3]!==a?(i=a.formatNumber(200,{style:"currency",currency:"USD",maximumFractionDigits:0,minimumFractionDigits:0}),t[3]=a,t[4]=i):i=t[4];let r;t[5]!==i?(r=s.jsx("div",{className:"text-sm font-semibold md:text-base",children:s.jsx(S,{id:"wham.giftCredits.title",defaultMessage:"You've received {amount} in free credits",values:{amount:i}})}),t[5]=i,t[6]=r):r=t[6];let o;t[7]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("div",{className:"text-token-text-secondary text-xs leading-5 md:text-sm",children:s.jsx(S,{id:"wham.giftCredits.descriptionWithExpiry",defaultMessage:"Thanks for being a Codex cloud user. Use your credits anytime before {date}.",values:{date:ra}})}),t[7]=o):o=t[7];let d;t[8]!==r?(d=s.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[r,o]}),t[8]=r,t[9]=d):d=t[9];let f;t[10]!==a?(f=a.formatMessage({id:"wham.giftCredits.dismiss",defaultMessage:"Dismiss gift credits banner"}),t[10]=a,t[11]=f):f=t[11];let u;t[12]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(oa,{className:"icon-sm"}),t[12]=u):u=t[12];let b;t[13]!==l||t[14]!==f?(b=s.jsx(Y,{size:"small",color:"ghost",className:"text-token-text-tertiary hover:text-token-text-primary ms-2 h-8 w-8 shrink-0 rounded-lg",onClick:l,"aria-label":f,children:u}),t[13]=l,t[14]=f,t[15]=b):b=t[15];let w;return t[16]!==d||t[17]!==b?(w=s.jsx("div",{className:"mt-4 w-full px-3 md:px-0",children:s.jsxs("div",{className:"border-token-border-subtle bg-token-bg-primary text-token-text-primary flex w-full items-start gap-3 rounded-3xl border px-4 py-3 shadow-[0px_6px_18px_rgba(15,23,42,0.12)] md:items-center md:gap-4 md:px-6 md:py-4",children:[n,d,b]})}),t[16]=d,t[17]=b,t[18]=w):w=t[18],w}const Te="codex_onboarding",ve="code_review";function la(t){const e=new URLSearchParams(t);return e.set(Te,ve),e.toString()}function ca(t){const e=new URLSearchParams(t);return e.delete(Te),e.toString()}function Ae(t){"use forget";var q,le,Oe,Pe,Ie,Le,We;const e=z.c(30);let a;e[0]!==t?(a=t===void 0?{}:t,e[0]=t,e[1]=a):a=e[1];const{redirectUrl:m,onError:p}=a,c=Q();let l;e[2]!==c?(l=ee(c,"423120313"),e[2]=c,e[3]=l):l=e[3];const n=l,{status:i}=us(kt[re.GITHUB_CONNECTOR]),r=i==="loading",o=!r&&i==="required",d=i==="error",{data:f,isLoading:u,error:b}=xs(),{isConnected:w,isLoading:g,openGithubModal:y,error:j}=ke(re.GITHUB_CONNECTOR,"github",m!=null?m:"/codex?codex_onboarding=code_review",me.CODEX),{data:k,isLoading:h,error:C}=ue(),{eligible:N,isLoading:_}=hs(),x=(k==null?void 0:k.code_review_preference)==="always",{data:v,isLoading:E,error:A}=st(N&&!_&&n&&!g&&w);let T;e[4]!==(v==null?void 0:v.memberships)?(T=(q=v==null?void 0:v.memberships)!=null?q:[],e[4]=v==null?void 0:v.memberships,e[5]=T):T=e[5];let R;e[6]!==(v==null?void 0:v.other)?(R=(le=v==null?void 0:v.other)!=null?le:[],e[6]=v==null?void 0:v.other,e[7]=R):R=e[7];let P;e[8]!==T||e[9]!==R?(P=[...T,...R],e[8]=T,e[9]=R,e[10]=P):P=e[10];const I=P.length>0,M=!!((We=(Le=(Ie=(Pe=(Oe=A&&j)!=null?Oe:b)!=null?Pe:j)!=null?Ie:C)!=null?Le:d)!=null&&We);let W,D;e[11]!==M||e[12]!==p?(W=()=>{M&&p&&p()},D=[M,p],e[11]=M,e[12]=p,e[13]=W,e[14]=D):(W=e[13],D=e[14]),L.useEffect(W,D);const O=g||h||r||u||w&&E,B=!o||f,H=!N;let F;e[15]!==c?(F=()=>te(c,gs),e[15]=c,e[16]=F):F=e[16];let K;return e[17]!==M||e[18]!==I||e[19]!==x||e[20]!==n||e[21]!==w||e[22]!==_||e[23]!==o||e[24]!==y||e[25]!==H||e[26]!==F||e[27]!==O||e[28]!==B?(K={isLoading:O,isMfaRequired:o,isMfaEnabled:B,isGitHubConnected:w,hasValidInstallation:I,isCodeReviewEnabled:x,hasCompletedCodeReviewFlow:H,isCodeReviewOnboardingFlowEnabled:n,isHasCompletedCodeReviewLoading:_,error:M,openGithubModal:y,markCompletedCodeReview:F},e[17]=M,e[18]=I,e[19]=x,e[20]=n,e[21]=w,e[22]=_,e[23]=o,e[24]=y,e[25]=H,e[26]=F,e[27]=O,e[28]=B,e[29]=K):K=e[29],K}function da({isHasCompletedCodeReviewLoading:t,isCodeReviewEnabled:e,hasCompletedCodeReviewFlow:a,markCompletedCodeReview:m}){L.useEffect(()=>{!t&&e&&!a&&m()},[t,e,a,m])}const ma=U(()=>G(()=>import("./d9inbyzqo136hon0.js"),__vite__mapDeps([10,1])),{loading:t=>$(t)}),fa=U(()=>G(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zw),__vite__mapDeps([0,1,2,3,4])),{loading:t=>$(t)}),ua=U(()=>G(()=>import("./edolhhlncxur5ops.js"),__vite__mapDeps([11,1])),{loading:t=>$(t)}),xa=U(()=>G(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zv),__vite__mapDeps([0,1,2,3,4])),{loading:t=>$(t)}),ha=U(()=>G(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zD),__vite__mapDeps([0,1,2,3,4])),{loading:t=>$(t)});function ga(){const t=X(),e=Q(),{data:a,isLoading:m}=ns(),p=Ct(),c=V(M=>M.preferredEditor),l=V(M=>M.setPreferredEditor),{eligible:n,isLoading:i}=ot(),{cli:r,vscode:o,cursor:d,windsurf:f}=ct(e),{isLoading:u,isMfaRequired:b,isMfaEnabled:w,isGitHubConnected:g,hasValidInstallation:y,isCodeReviewEnabled:j,hasCompletedCodeReviewFlow:k,isCodeReviewOnboardingFlowEnabled:h,openGithubModal:C,error:N}=Ae({redirectUrl:"/codex/settings/code-review"}),_=je(),x=ye(),v=oe.useMemo(()=>{const W=[...b?[!!w]:[],!!(g&&y),!!(j&&k)],D=W.length,O=W.filter(Boolean).length,B=D===0?0:O/D*100;return{completedSteps:O,totalSteps:D,percentage:B}},[y,b,w,j,k,g]),E=!u&&v.completedSteps<v.totalSteps,A=oe.useCallback(M=>{if(h)N||(M.preventDefault(),_({pathname:x.pathname,search:la(x.search),hash:x.hash},{replace:!1}));else if(!g){M.preventDefault(),C();return}},[g,N,h,x.hash,x.pathname,x.search,_,C]),T=js(c,p),[R,P]=oe.useState(!1),I=oe.useRef(!1);return!n||i||m?null:s.jsxs("div",{className:"group w-full px-3 md:px-0",children:[s.jsxs("div",{className:"text-token-text-primary flex items-center justify-between gap-1 ps-1 pt-6 pb-2 text-sm leading-tight font-medium",children:[a?s.jsx(S,{id:"wham.whatsNew.title",defaultMessage:"What's new with Codex"}):s.jsx(S,{id:"wham.gettingStarted.title",defaultMessage:"Get started with Codex"}),s.jsx(Y,{onClick:()=>te(e,ps),className:"text-token-text-tertiary dark:text-token-text-tertiary w-7 items-center justify-center rounded-lg",size:"small",color:"ghost","aria-label":t.formatMessage({id:"wham.newFeatures.dismiss",defaultMessage:"Dismiss new features announcement"}),children:s.jsx(fa,{className:"icon-sm"})})]}),s.jsxs(de.div,{layout:!0,className:"grid grid-cols-1 gap-3 md:[grid-template-columns:repeat(auto-fit,minmax(220px,1fr))]",children:[s.jsx(de.div,{layout:!0,children:s.jsx(we,{children:s.jsxs("a",{href:r,target:"_blank",rel:"noreferrer",className:"group/card -m-4 flex items-center justify-between gap-3 rounded-2xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(ma,{className:"icon-md"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(S,{id:"wham.gettingStarted.cli",defaultMessage:"Try in your terminal"})})]}),s.jsx(ha,{className:"icon-sm text-token-text-tertiary origin-[bottom_var(--start)] scale-75 opacity-0 transition-all duration-100 ease-out group-hover/card:scale-100 group-hover/card:opacity-100"})]})})}),s.jsx(de.div,{layout:!0,children:s.jsx(we,{children:s.jsxs("div",{className:"group/card -m-4 flex cursor-pointer items-center justify-between gap-3 rounded-2xl p-4 select-none",role:"button",tabIndex:0,onPointerDown:()=>{I.current=R},onClick:()=>{I.current?P(!1):P(!0)},onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),P(W=>!W))},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(T,{className:"h-5 w-5"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(S,{id:"wham.gettingStarted.ide",defaultMessage:"Try in your IDE"})})]}),s.jsxs(Nt,{contentAlign:"end",open:R,onOpenChange:P,triggerButton:s.jsx("button",{onClick:M=>M.stopPropagation(),"aria-label":t.formatMessage({id:"wham.gettingStarted.ide.open",defaultMessage:"Open IDE links"}),"aria-expanded":R,className:"hover:bg-token-bg-tertiary rounded-md p-1",children:s.jsx(xa,{className:ne("icon-sm text-token-text-tertiary shrink-0 transition-all duration-100 ease-out group-hover/card:translate-y-0 group-hover/card:opacity-100",R?"translate-y-0 opacity-100":"translate-y-0.5 opacity-0")})}),children:[s.jsx(pe.ItemAs,{as:"a",href:o,target:"_blank",rel:"noreferrer",onClick:()=>l("vscode"),children:"VS Code"}),s.jsx(pe.ItemAs,{as:"a",href:d,target:"_blank",rel:"noreferrer",onClick:()=>l("cursor"),children:"Cursor"}),s.jsx(pe.ItemAs,{as:"a",href:f,target:"_blank",rel:"noreferrer",onClick:()=>l("windsurf"),children:"Windsurf"})]})]})})}),s.jsx(Et,{initial:!1,children:!k&&s.jsx(de.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:s.jsx(we,{children:s.jsxs(_t,{to:"/codex/settings/code-review",className:"group/card -m-4 flex items-center gap-2 rounded-2xl p-4",onClick:A,children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(ua,{className:"icon-md relative z-10"})}),s.jsx("div",{className:"text-token-text-primary flex-1 text-sm font-medium",children:s.jsx(S,{id:"wham.gettingStarted.codeReview",defaultMessage:"Enable code review"})}),h&&!N&&(u||E)&&s.jsx("span",{className:"pointer-events-none flex h-4 w-4 items-center justify-center",children:u?s.jsx(ie,{className:"h-5 w-5"}):s.jsx(rt,{percentage:v.percentage,thickness:1/10,sizeOverride:10,className:"text-token-text-primary h-10 w-10",backgroundStrokeClassName:"stroke-token-text-primary/20",transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"})})]})})},"code-review-card")})]})]})}function we({children:t}){return s.jsx("div",{className:ne("bg-token-bg-tertiary","dark:bg-token-bg-secondary","flex flex-col justify-between gap-1 rounded-2xl p-4"),children:t})}const pa=U(()=>G(()=>import("./gsyjy3cn2edhhxqr.js"),__vite__mapDeps([12,1])),{loading:t=>$(t)}),ba=U(()=>G(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zw),__vite__mapDeps([0,1,2,3,4])),{loading:t=>$(t)}),wa=U(()=>G(()=>import("./dwgk7r4s1fwn35jq.js"),__vite__mapDeps([13,1])),{loading:t=>$(t)});function _a(){const t=X(),e=Q(),{eligible:a,isLoading:m}=it(),{slack:p}=ct(e),{isConnected:c,isLoading:l}=ke(re.SLACK_CODEX_CONNECTOR,"slack","/codex/settings/connectors",me.CODEX),n=oe.useCallback(()=>{te(e,bs)},[e]);if(!a||m||l||c)return null;const i=s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(pa,{className:"icon-md"})}),s.jsxs("div",{className:"flex flex-1 items-center gap-2 text-start text-sm leading-tight",children:[s.jsx("span",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(S,{id:"wham.gettingStarted.slack",defaultMessage:"Set up Codex with Slack"})}),s.jsx(wa,{className:"icon-sm text-token-text-primary shrink-0"})]})]});return s.jsx("div",{className:"group w-full px-3 pt-4 md:px-0",children:s.jsxs("div",{className:"bg-token-bg-tertiary/80 dark:bg-token-bg-secondary flex items-center gap-3 rounded-2xl px-4 py-3",children:[s.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:"group/card flex flex-1 items-center justify-between gap-3",onClick:()=>_e.recordSlackLinkClicked(),children:i}),s.jsx(Y,{onClick:n,className:"text-token-text-tertiary dark:text-token-text-tertiary w-7 shrink-0 items-center justify-center rounded-lg",size:"small",color:"ghost","aria-label":t.formatMessage({id:"wham.newFeatures.dismiss",defaultMessage:"Dismiss new features announcement"}),children:s.jsx(ba,{className:"icon-sm"})})]})})}function he(){"use forget";const t=z.c(25),e=nt(),a=ot(),m=it(),p=at(),[c,l]=L.useState(null),{data:n}=os(),i=ys(n);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(ga,{}),t[0]=r):r=t[0];let o;t[1]!==a.eligible?(o={eligible:a.eligible,render:r},t[1]=a.eligible,t[2]=o):o=t[2];let d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(ia,{}),t[3]=d):d=t[3];let f;t[4]!==e.eligible?(f={eligible:e.eligible,render:d},t[4]=e.eligible,t[5]=f):f=t[5];let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(_a,{}),t[6]=u):u=t[6];let b;t[7]!==m.eligible?(b={eligible:m.eligible,render:u},t[7]=m.eligible,t[8]=b):b=t[8];let w;t[9]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(aa,{}),t[9]=w):w=t[9];let g;t[10]!==p.eligible?(g={eligible:p.eligible,render:w},t[10]=p.eligible,t[11]=g):g=t[11];let y;t[12]!==o||t[13]!==f||t[14]!==b||t[15]!==g?(y=[o,f,b,g],t[12]=o,t[13]=f,t[14]=b,t[15]=g,t[16]=y):y=t[16];const j=y;let k;t[17]!==j||t[18]!==c?(k=c==null?(()=>{const _=j.findIndex(va);return _>=0?_:null})():null,t[17]=j,t[18]=c,t[19]=k):k=t[19];const h=k;let C,N;if(t[20]!==h?(C=()=>{h!=null&&l(_=>_==null?h:_)},N=[h],t[20]=h,t[21]=C,t[22]=N):(C=t[21],N=t[22]),L.useEffect(C,N),i&&n){let _;return t[23]!==n?(_=s.jsx("div",{className:"w-full pt-6",children:s.jsx(ks,{rateLimit:n,linkToUsageDashboard:!0})}),t[23]=n,t[24]=_):_=t[24],_}return c==null?null:j[c].render}function va(t){return t.eligible}function ja(t){return ee(t,"3984934927")}function ya({shouldTurnOn:t,onChange:e}){const{data:a}=ue(),m=X();return a?s.jsx("div",{className:"border-token-border-heavy bg-token-bg-primary flex w-full flex-col items-center rounded-lg border p-4",children:s.jsxs("div",{className:"flex w-full justify-between",children:[s.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-2",children:[s.jsx("p",{className:"text-token-text-primary text-sm leading-tight font-medium",children:s.jsx(S,{id:"wham.enableCodeReviewsToggle.label",defaultMessage:"Code reviews"})}),s.jsx("p",{className:"text-token-text-secondary justify-start text-xs leading-none font-normal",children:s.jsx(S,{id:"wham.enableCodeReviewsToggle.description",defaultMessage:"Automatically run reviews on new pull requests in this repo."})})]}),s.jsx("div",{className:"flex items-center",children:s.jsx(Qe,{checked:t,onCheckedChange:e,className:"radix-state-checked:bg-black!","aria-label":m.formatMessage({id:"wham.enableCodeReviewsToggle.ariaLabel",defaultMessage:"Enable code reviews by Codex"})})})]})}):null}function ft(){const t=Q(),e=Xe("installations/select_target"),{data:a,isLoading:m}=st();L.useEffect(()=>{var c,l;if(m)return;[...(c=a==null?void 0:a.memberships)!=null?c:[],...(l=a==null?void 0:a.other)!=null?l:[]].length===0&&dt(e)},[m,a,t,e])}function ka({backCta:t,handleGoBack:e,handleSelectEnvironment:a,goToNextPage:m,lockPageView:p,shouldDisableRow:c,disablePill:l}){var _;const n=lt(),i=X(),[r,o]=L.useState(""),[d,f]=L.useState(null),[u,b]=L.useState(!n),{mutate:w,isPending:g}=Ws({onSuccess:x=>{_e.recordCreateEnvSuccess(),a(x.id,Ns(x)),m()}}),{mutate:y}=Os(),{mutate:j}=Se({showToast:!1});ft();const h=Ds({defaultValues:{repositoryId:"",agentNetworkAccess:{mode:"off"}},validators:{onSubmit:({value:x})=>{var E;const v={};return(!x.repositoryId||x.repositoryId==="")&&(v.repositoryId=i.formatMessage({id:"wham.codexOnboardingEnvironments.repositoryIsRequired",defaultMessage:"Repository is required"})),((E=x.agentNetworkAccess)==null?void 0:E.mode)==="on"&&x.agentNetworkAccess.preset_allowlist===As&&(!x.agentNetworkAccess.allowlist_domains||x.agentNetworkAccess.allowlist_domains.length===0)&&(v.agentNetworkAccess=i.formatMessage({id:"wham.environmentsForm.agentNetworkAccessAllowlistRequired",defaultMessage:"At least one domain is required"})),{fields:v}}},onSubmit:({value:x})=>{_e.recordEnvironmentsSubmit(),p(),u&&(j({codeReviewPreference:"repo_default"}),y({repo_review_settings:[{repository:x.repositoryId,review_preference:"team"}]})),w(se(Z({},x),{label:r,description:"",machine:"wham-public/wham-universal",workspaceDirectory:"/workspace",share_settings:"workspace",setupCommands:"",maintenanceSetupCommands:"",envVars:[],secrets:[],autoSetupSettings:{use_auto_setup:!0}}))}}),C=x=>{x.preventDefault(),x.stopPropagation(),h.handleSubmit()},N=Es();return s.jsx("form",{onSubmit:C,className:"flex flex-col gap-6",children:s.jsxs("div",{className:"flex w-full flex-col gap-4",children:[s.jsx(Ss,{selectedInstallationId:(_=d==null?void 0:d.id)!=null?_:null,setSelectedInstallation:f}),s.jsx(h.Field,{name:"repositoryId",children:x=>{var v,E,A;return s.jsxs("div",{className:"flex w-full flex-col gap-4",children:[s.jsx(Ms,{installationId:(v=d==null?void 0:d.id)!=null?v:null,installationAccountLogin:(E=d==null?void 0:d.account_login)!=null?E:null,installationAccountType:(A=d==null?void 0:d.account_type)!=null?A:null,selectedRepository:x.state.value,onSelect:(T,R)=>{x.handleChange(T),o(R)},shouldDisableRow:c,disablePill:l}),s.jsx(Ge,{field:x})]})}}),s.jsx(ya,{shouldTurnOn:u,onChange:b}),s.jsx(h.Field,{name:"agentNetworkAccess",children:x=>{var v;return s.jsxs("div",{className:"flex flex-col gap-4",children:[N!=null&&s.jsx(Rs,{disabledByWorkspaceSettings:N,agentNetworkAccess:x.state.value,onChange:x.handleChange}),s.jsx(Ge,{field:x}),((v=x.state.value)==null?void 0:v.mode)==="on"&&s.jsx(Ts,{})]})}}),s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsx(Y,{color:"secondary",size:"medium",type:"button",onClick:e,children:t}),s.jsx(h.Subscribe,{selector:x=>x.values,children:x=>s.jsx(Y,{color:"primary",size:"medium",loading:g,disabled:!r||!x.agentNetworkAccess,onClick:()=>h.handleSubmit(),children:s.jsx(S,{id:"wham.codexOnboardingEnvironments.createEnvironment",defaultMessage:"Create environment"})})})]})]})})}function Ca(t){"use forget";const e=z.c(26),{isOpen:a,onClose:m}=t,p=Q(),c=X(),l=V(Sa),n=V(Ea);let i;e[0]!==n||e[1]!==l?(i=(k,h)=>{l(k),n(h)},e[0]=n,e[1]=l,e[2]=i):i=e[2];const r=i;let o;e[3]!==p?(o=()=>te(p,ws),e[3]=p,e[4]=o):o=e[4];const d=o;ft();let f;e[5]!==d||e[6]!==m?(f=()=>{d(),m()},e[5]=d,e[6]=m,e[7]=f):f=e[7];let u;e[8]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h2",{className:"text-center text-2xl font-semibold",children:s.jsx(S,{id:"wham.createFirstEnvironmentModal.title",defaultMessage:"Create your first environment"})}),e[8]=u):u=e[8];let b;e[9]!==c?(b=c.formatMessage({id:"wham.createFirstEnvironmentModal.cancel",defaultMessage:"Cancel"}),e[9]=c,e[10]=b):b=e[10];let w;e[11]!==d||e[12]!==m?(w=()=>{d(),m()},e[11]=d,e[12]=m,e[13]=w):w=e[13];let g;e[14]!==d||e[15]!==m?(g=()=>{d(),m()},e[14]=d,e[15]=m,e[16]=g):g=e[16];let y;e[17]!==r||e[18]!==b||e[19]!==w||e[20]!==g?(y=s.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[u,s.jsx(ka,{backCta:b,handleGoBack:w,handleSelectEnvironment:r,goToNextPage:g,lockPageView:Na})]}),e[17]=r,e[18]=b,e[19]=w,e[20]=g,e[21]=y):y=e[21];let j;return e[22]!==a||e[23]!==f||e[24]!==y?(j=s.jsx(Je,{isOpen:a,onClose:f,type:"success",size:"large",noPadding:!0,testId:"modal-wham-create-first-environment",position:"center",contentClassName:"no-scrollbar",className:"h-[90vh]",children:y}),e[22]=a,e[23]=f,e[24]=y,e[25]=j):j=e[25],j}function Na(){}function Ea(t){return t.setBranch}function Sa(t){return t.setEnvironmentId}function Ma(t){"use forget";const e=z.c(32),{disabledInstallations:a,autoReviewPreference:m,isAutoReviewPreferenceSaving:p,onAutoReviewPreferenceChange:c}=t;let l;e[0]!==a?(l=a===void 0?[]:a,e[0]=a,e[1]=l):l=e[1];const n=l,i=X(),[r,o]=L.useState(m);let d,f;e[2]!==m?(d=()=>{o(m)},f=[m],e[2]=m,e[3]=d,e[4]=f):(d=e[3],f=e[4]),L.useEffect(d,f);const{filteredSettings:u,isLoading:b,isFetching:w,isTeamOrEnterprise:g,isPlus:y,isPro:j,user:k,isLegacyEnterprisey:h,currentAccountOwnerId:C,updateCodeReviewRepositories:N}=Ps();let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("p",{className:"text-sm font-medium",children:s.jsx(S,{id:"wham.codeReviewPage.teamAutomations.autoReviewToggle.label",defaultMessage:"Review all my pull requests"})}),e[5]=_):_=e[5];let x;e[6]!==i?(x=i.formatMessage({id:"wham.codeReviewPage.personalPreferences.toggleRepoCodeReviewAria",defaultMessage:"Toggle code review for personal preferences"}),e[6]=i,e[7]=x):x=e[7];const v=r==="always";let E;e[8]!==c?(E=I=>{const M=I?"always":"repo_default";o(M),c(M)},e[8]=c,e[9]=E):E=e[9];let A;e[10]!==p||e[11]!==x||e[12]!==v||e[13]!==E?(A=s.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3",children:[_,s.jsx(Qe,{"aria-label":x,checked:v,disabled:p,onCheckedChange:E})]}),e[10]=p,e[11]=x,e[12]=v,e[13]=E,e[14]=A):A=e[14];let T;e[15]!==C||e[16]!==n||e[17]!==u||e[18]!==w||e[19]!==h||e[20]!==b||e[21]!==y||e[22]!==j||e[23]!==g||e[24]!==N||e[25]!==(k==null?void 0:k.email)?(T=b?Array.from({length:4}).map(Ra):u.length===0&&!w?s.jsx("div",{className:"text-token-text-tertiary px-4 py-6 text-center text-sm",children:s.jsx(S,{id:"wham.codeReviewPage.teamAutomations.noRepositories",defaultMessage:"No repositories"})}):u.map((I,M)=>{var W;return s.jsx(Is,{repo:I,isTeamOrEnterprise:g,isLegacyEnterprisey:h,isPlus:y,isPro:j,disabledInstallations:n,updateCodeReviewRepositories:N,currentAccountOwnerId:C,currentUserEmail:(W=k==null?void 0:k.email)!=null?W:null,layout:"condensed",showDivider:M!==0},Ls(I))}),e[15]=C,e[16]=n,e[17]=u,e[18]=w,e[19]=h,e[20]=b,e[21]=y,e[22]=j,e[23]=g,e[24]=N,e[25]=k==null?void 0:k.email,e[26]=T):T=e[26];let R;e[27]!==T?(R=s.jsx("div",{className:"border-token-border-light min-h-0 flex-1 overflow-y-auto border-t pe-1",children:T}),e[27]=T,e[28]=R):R=e[28];let P;return e[29]!==R||e[30]!==A?(P=s.jsxs("div",{className:"border-token-border-light bg-token-bg-primary flex h-full max-h-[400px] min-h-0 flex-col overflow-hidden rounded-2xl border",children:[A,R]}),e[29]=R,e[30]=A,e[31]=P):P=e[31],P}function Ra(t,e){return s.jsxs("div",{className:ne("flex items-center justify-between gap-3 px-4 py-3",e!==0&&"border-token-border-light border-t"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(be,{className:"h-4 w-4 rounded"}),s.jsx(be,{className:"h-4 w-32"})]}),s.jsx(be,{className:"h-6 w-32 rounded-md"})]},"condensed-skeleton-".concat(e))}const ut=U(()=>G(()=>import("./edolhhlncxur5ops.js"),__vite__mapDeps([11,1])),{loading:t=>$(t)}),Ta=U(()=>G(()=>import("./dwgk7r4s1fwn35jq.js"),__vite__mapDeps([13,1])),{loading:t=>$(t)}),Aa=U(()=>G(()=>import("./ncw8zw682jinppua.js").then(t=>t.yr),__vite__mapDeps([2,1,3])),{loading:t=>$(t)}),Oa=[ge({id:"wham.codeReviewOnboardingModal.step.mfa",defaultMessage:"Set up multi-factor authentication"}),ge({id:"wham.codeReviewOnboardingModal.step.github",defaultMessage:"Connect to GitHub"}),ge({id:"wham.codeReviewOnboardingModal.step.configure",defaultMessage:"Configure code review"})];function ze(t){"use forget";const e=z.c(45),{onClose:a,onModalDismissed:m}=t,p=X();let c;e[0]!==a||e[1]!==m?(c=async q=>{await m(),a()},e[0]=a,e[1]=m,e[2]=c):c=e[2];const l=c,{isLoading:n,isMfaRequired:i,isMfaEnabled:r,isGitHubConnected:o,hasValidInstallation:d,isCodeReviewEnabled:f,openGithubModal:u,markCompletedCodeReview:b}=Ae({onError:()=>{g.danger(p.formatMessage({id:"wham.codeReviewOnboardingModal.errorToast",defaultMessage:"Failed to set up code review. Please try again."}),{id:"codex-code-review-onboarding-error",duration:5,hasCloseButton:!0}),l()}}),w=Q(),g=St(w);let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y={redirectUrl:"/codex?codex_onboarding=code_review"},e[3]=y):y=e[3];const{setupMfa:j}=Bs(y),[k,h]=L.useState(!1),C=!!r,N=!!(o&&d),_=!!f;let x;e[4]!==C||e[5]!==N||e[6]!==_?(x={"wham.codeReviewOnboardingModal.step.mfa":C,"wham.codeReviewOnboardingModal.step.github":N,"wham.codeReviewOnboardingModal.step.configure":_},e[4]=C,e[5]=N,e[6]=_,e[7]=x):x=e[7];const v=x;let E;e[8]===Symbol.for("react.memo_cache_sentinel")?(E=Xe("installations/select_target"),e[8]=E):E=e[8];const A=E;let T;e[9]!==d||e[10]!==o||e[11]!==n||e[12]!==v?(T=q=>n?s.jsx("span",{className:"border-token-border-heavy text-token-text-primary flex h-5 w-5 items-center justify-center rounded-full",children:s.jsx(ie,{className:"h-4 w-4"})}):q==="wham.codeReviewOnboardingModal.step.github"&&o&&!d?s.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full",children:s.jsx(rt,{percentage:50})}):v[q]?s.jsx("span",{className:"border-token-border-heavy bg-token-bg-success/40 text-token-text-primary flex h-5 w-5 items-center justify-center rounded-full border-2",children:s.jsx(Aa,{className:"h-3 w-3"})}):s.jsx("span",{className:"border-token-border-heavy flex h-5 w-5 items-center justify-center rounded-full border-2"}),e[9]=d,e[10]=o,e[11]=n,e[12]=v,e[13]=T):T=e[13];const R=T;let P;e[14]!==l||e[15]!==b?(P=async()=>{await l(),b()},e[14]=l,e[15]=b,e[16]=P):P=e[16];const I=P;let M;e[17]!==w||e[18]!==l||e[19]!==d||e[20]!==f||e[21]!==o||e[22]!==n||e[23]!==r||e[24]!==u||e[25]!==j?(M=async()=>{if(!n){if(!r){j(),await l();return}if(!o){await l(),u();return}if(!d){await l(),dt(A,w,{includeQueryParamForRedirect:!0});return}if(!f){h(!0);return}await l()}},e[17]=w,e[18]=l,e[19]=d,e[20]=f,e[21]=o,e[22]=n,e[23]=r,e[24]=u,e[25]=j,e[26]=M):M=e[26];const W=M;let D;e[27]!==p?(D=p.formatMessage({id:"wham.codeReviewOnboardingModal.hiddenTitle",defaultMessage:" "}),e[27]=p,e[28]=D):D=e[28];const O=D,B=k?"max-w-[520px]":"max-w-[420px]";let H;e[29]!==B?(H=ne("w-full",B),e[29]=B,e[30]=H):H=e[30];let F;e[31]!==I||e[32]!==W||e[33]!==d||e[34]!==o||e[35]!==n||e[36]!==i||e[37]!==R||e[38]!==k?(F=k?s.jsx(Pa,{onComplete:I}):s.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-0",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[s.jsx("div",{className:"rounded-xl border-[0.5px] p-2 shadow-sm",children:s.jsx(ut,{className:"icon h-8 w-8"})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h2",{className:"text-token-text-primary text-xxl font-semibold",children:s.jsx(S,{id:"wham.codeReviewOnboardingModal.title",defaultMessage:"Set up code review"})}),s.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:s.jsx(S,{id:"wham.codeReviewOnboardingModal.subtitle",defaultMessage:"Automatically review your pull requests with Codex"})})]})]}),s.jsx("div",{className:"border-token-border-light bg-token-bg-primary flex flex-col gap-3 rounded-2xl border p-4",children:Oa.map(q=>{if(q.id==="wham.codeReviewOnboardingModal.step.mfa"&&!i)return;const le=q.id==="wham.codeReviewOnboardingModal.step.github"&&!n&&o&&!d;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center gap-2",children:R(q.id)}),s.jsx("p",{className:"text-token-text-primary text-sm leading-5",children:s.jsx(S,Z({},q))}),le?s.jsx("span",{className:"text-token-text-secondary text-xs font-medium",children:s.jsx(S,{id:"wham.codeReviewOnboardingModal.step.github.inProgress",defaultMessage:"In-progress"})}):null]},q.id)})}),s.jsxs(Y,{color:"primary",fullWidth:!0,onClick:W,contentWrapperClassName:"gap-2",disabled:n,children:[s.jsx("span",{children:s.jsx(S,{id:"wham.codeReviewOnboardingModal.continue",defaultMessage:"Continue"})}),s.jsx(Ta,{className:"icon-sm"})]})]}),e[31]=I,e[32]=W,e[33]=d,e[34]=o,e[35]=n,e[36]=i,e[37]=R,e[38]=k,e[39]=F):F=e[39];let K;return e[40]!==l||e[41]!==O||e[42]!==H||e[43]!==F?(K=s.jsx(Je,{isOpen:!0,onClose:l,showCloseButton:!0,showOverlayBackground:!0,noPadding:!0,size:"custom",position:"center",className:H,testId:"modal-codex-code-review-onboarding",closeButtonClassName:"text-token-text-secondary hover:text-token-text-primary transition-colors",title:O,children:F}),e[40]=l,e[41]=O,e[42]=H,e[43]=F,e[44]=K):K=e[44],K}function Pa(t){"use forget";var y;const e=z.c(13),{onComplete:a}=t,{data:m,isLoading:p,isError:c}=ue();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={showToast:!0},e[0]=l):l=e[0];const{mutate:n,isPending:i}=Se(l),{data:r}=rs();let o;e[1]!==(r==null?void 0:r.installations_without_events)?(o=(y=r==null?void 0:r.installations_without_events)!=null?y:[],e[1]=r==null?void 0:r.installations_without_events,e[2]=o):o=e[2];const d=o,f=p||c||!m;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("div",{className:"bg-tertiary rounded-xl border-[0.5px] p-2 shadow-sm",children:s.jsx(ut,{className:"icon h-8 w-8"})}),e[3]=u):u=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("h2",{className:"text-token-text-primary text-xxl font-semibold",children:s.jsx(S,{id:"wham.codeReviewOnboardingModal.configure.title",defaultMessage:"Configure code review"})}),e[4]=b):b=e[4];let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[u,s.jsxs("div",{className:"flex flex-col gap-1",children:[b,s.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:s.jsx(S,{id:"wham.codeReviewOnboardingModal.configure.subtitle",defaultMessage:"Select which repositories and PRs will be reviewed by Codex"})})]})]}),e[5]=w):w=e[5];let g;return e[6]!==d||e[7]!==i||e[8]!==a||e[9]!==f||e[10]!==n||e[11]!==m?(g=s.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-0",children:[w,f?s.jsx("div",{className:"flex flex-1 items-center justify-center",children:s.jsx(ie,{className:"h-9 w-9"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-0 flex-1 pe-1",children:s.jsx(Ma,{autoReviewPreference:m.code_review_preference,isAutoReviewPreferenceSaving:i,onAutoReviewPreferenceChange:j=>{n({codeReviewPreference:j})},disabledInstallations:d.map(Ia)})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-token-text-tertiary text-center text-xs leading-5",children:s.jsx(S,{id:"wham.codeReviewOnboardingModal.configure.footer",defaultMessage:"You can always change it in the settings"})}),s.jsx(Y,{color:"primary",fullWidth:!0,onClick:a,children:s.jsx(S,{id:"wham.codeReviewOnboardingModal.configure.done",defaultMessage:"Done"})})]})]})]}),e[6]=d,e[7]=i,e[8]=a,e[9]=f,e[10]=n,e[11]=m,e[12]=g):g=e[12],g}function Ia(t){return t.account_login}function La(t,{isCodeReviewOnboardingFlowEnabled:e,hasCompletedCodeReviewFlow:a,isHasCompletedCodeReviewLoading:m}){const p=L.useRef(null),c=L.useRef(!1),l=je(),n=ye(),i=Mt();L.useEffect(()=>{const o=new URLSearchParams(n.search).get(Te);if(!e||i||m||a){c.current&&(Rt(t,ze),c.current=!1);return}if(o!==ve){p.current=o;return}if(p.current===ve&&c.current===!0)return;p.current=o;let d=!1;const f=async()=>{if(d)return;d=!0;const u=ca(n.search);await l({pathname:n.pathname,search:u,hash:n.hash},{replace:!0})};c.current=!0,Tt(t,ze,{onModalDismissed:async()=>{await f()}})},[t,n.hash,n.pathname,n.search,l,e,a,m,i])}function Mn(t){"use forget";const e=z.c(19),a=Q(),m=At(a),p=ja(a),c=Ot(a),l=_s();Cs();let n,i;e[0]!==a?(n=()=>Pt(a).limitActionGroups([]),i=[a],e[0]=a,e[1]=n,e[2]=i):(n=e[1],i=e[2]),L.useEffect(n,i);const r=ee(a,"547652119"),o=V(Wa);if(!m){if(p){let C;return e[3]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(Yt,{}),e[3]=C):C=e[3],C}let h;return e[4]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(ce,{to:"/"}),e[4]=h):h=e[4],h}if(l==="DISABLED"&&(c==null?void 0:c.isWorkspacePlan())){let h;return e[5]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(ce,{to:"/codex/access",replace:!0}),e[5]=h):h=e[5],h}if(r){let h;return e[6]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(ce,{to:"/codex/failwhale"}),e[6]=h):h=e[6],h}if(l==="DISABLED"){let h;return e[7]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(ce,{to:"/",replace:!0}),e[7]=h):h=e[7],h}const f=vt,u=c==null?void 0:c.getWorkspaceId();let b;e[8]!==f||e[9]!==u?(b=s.jsx(f,{page:"codex"},u),e[8]=f,e[9]=u,e[10]=b):b=e[10];let w;e[11]!==o?(w=!1,e[11]=o,e[12]=w):w=e[12];let g;e[13]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(Qt,{children:s.jsx(Xt,{hideNotificationBell:!0})}),e[13]=g):g=e[13];let y,j;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(Ut,{mobileHeaderRightContent:null,children:s.jsxs("div",{className:"flex h-full flex-col",children:[g,s.jsx(It,{children:s.jsx(Da,{})})]})}),j=s.jsx(Jt,{}),e[14]=y,e[15]=j):(y=e[14],j=e[15]);let k;return e[16]!==b||e[17]!==w?(k=s.jsxs(s.Fragment,{children:[b,w,y,j]}),e[16]=b,e[17]=w,e[18]=k):k=e[18],k}function Wa(t){return t.showReactQueryDevtools}function Da(){"use forget";var I,M,W;const t=z.c(42),{homeTab:e}=et(),[a,m,p]=V(Ba),[c,l]=L.useState(!1),n=ye(),i=Q(),{composerController:r}=Fs(),o=L.useRef(!1),d=Ae();La(i,d),da(d);let f,u;t[0]!==i?(f=()=>{Lt(i).prefetchInfiniteQuery(ls("archived"))},u=[i],t[0]=i,t[1]=f,t[2]=u):(f=t[1],u=t[2]),L.useEffect(f,u);let b;t[3]!==r||t[4]!==i||t[5]!==((I=n.state)==null?void 0:I.focusComposer)?(b=()=>{var O;const D=ee(i,"1406552515");(O=n.state)!=null&&O.focusComposer&&!o.current&&!D&&(Wt(ae(r)),o.current=!0)},t[3]=r,t[4]=i,t[5]=(M=n.state)==null?void 0:M.focusComposer,t[6]=b):b=t[6];const w=(W=n.state)==null?void 0:W.focusComposer;let g;t[7]!==r||t[8]!==i||t[9]!==w?(g=[w,r,i],t[7]=r,t[8]=i,t[9]=w,t[10]=g):g=t[10],L.useEffect(b,g);let y,j;t[11]!==r||t[12]!==i?(y=()=>{const D=ee(i,"1406552515");Fe(ae(r),D?"":V.getState().promptDraft)},j=[r,i],t[11]=r,t[12]=i,t[13]=y,t[14]=j):(y=t[13],j=t[14]),L.useEffect(y,j);let k,h;t[15]!==r||t[16]!==a?(k=()=>{const D=Dt(O=>{a(Ft(O.doc)?"":Bt(O.doc).content)},1e3);return Ht(()=>Vt(r),D)},h=[r,a],t[15]=r,t[16]=a,t[17]=k,t[18]=h):(k=t[17],h=t[18]),L.useEffect(k,h);let C,N;t[19]!==r||t[20]!==n.search?(N=()=>{const O=new URLSearchParams(n.search).get("prompt");O&&Fe(ae(r),O)},C=[n.search,r],t[19]=r,t[20]=n.search,t[21]=C,t[22]=N):(C=t[21],N=t[22]),L.useEffect(N,C);const{data:_}=is();let x,v;t[23]!==_||t[24]!==n.search||t[25]!==m?(x=()=>{const O=new URLSearchParams(n.search).get("environment");O&&(_!=null&&_.some(B=>B.id===O))&&m(O)},v=[n.search,_,m],t[23]=_,t[24]=n.search,t[25]=m,t[26]=x,t[27]=v):(x=t[26],v=t[27]),L.useEffect(x,v);let E,A;t[28]!==n.search||t[29]!==p?(E=()=>{const O=new URLSearchParams(n.search).get("branch");O&&p(O)},A=[n.search,p],t[28]=n.search,t[29]=p,t[30]=E,t[31]=A):(E=t[30],A=t[31]),L.useEffect(E,A);let T;t[32]!==r||t[33]!==e||t[34]!==a?(T=s.jsx(Kt,{children:s.jsx(Fa,{setPromptDraft:a,setShowCreateEnvModal:l,composerController:r,homeTab:e})}),t[32]=r,t[33]=e,t[34]=a,t[35]=T):T=t[35];let R;t[36]!==c?(R=c&&s.jsx(Ca,{isOpen:c,onClose:()=>l(!1)}),t[36]=c,t[37]=R):R=t[37];let P;return t[38]!==r||t[39]!==T||t[40]!==R?(P=s.jsxs(Gt,{value:r,children:[T,R]}),t[38]=r,t[39]=T,t[40]=R,t[41]=P):P=t[41],P}function Ba(t){return[t.setPromptDraft,t.setEnvironmentId,t.setBranch]}function Fa(t){"use forget";const e=z.c(21),{state:a}=zt(),[m,p]=L.useState(!0);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=o=>{const d=()=>{p(o.scrollTop===0)};return o.addEventListener("scroll",d),d(),()=>o.removeEventListener("scroll",d)},e[0]=c):c=e[0];const l=c,n=V(Ha),[i]=L.useState(!!n),r=m&&n==null;switch(a){case J.Error:case J.Complete:{let o;return e[1]!==r||e[2]!==i||e[3]!==t?(o=s.jsx(qe,se(Z({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[1]=r,e[2]=i,e[3]=t,e[4]=o):o=e[4],o}case J.NoGithubConnection:{let o;return e[5]!==r||e[6]!==i||e[7]!==t?(o=s.jsx(Ua,se(Z({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[5]=r,e[6]=i,e[7]=t,e[8]=o):o=e[8],o}case J.NoEnvironmentsCreated:{let o;return e[9]!==r||e[10]!==i||e[11]!==t?(o=s.jsx($a,se(Z({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[9]=r,e[10]=i,e[11]=t,e[12]=o):o=e[12],o}case J.NoTasksCreated:{let o;return e[13]!==r||e[14]!==i||e[15]!==t?(o=s.jsx(Ka,se(Z({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[13]=r,e[14]=i,e[15]=t,e[16]=o):o=e[16],o}case J.Loading:{let o;return e[17]!==r||e[18]!==i||e[19]!==t?(o=s.jsx(qe,se(Z({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[17]=r,e[18]=i,e[19]=t,e[20]=o):o=e[20],o}}}function Ha(t){return t.lastViewedTaskId}function qe(t){"use forget";const e=z.c(31),{scrollRef:a,hasLastViewTaskIdOnMount:m,defaultExpanded:p,setPromptDraft:c,setShowCreateEnvModal:l,composerController:n,homeTab:i}=t,r=Q();let o;e[0]!==r?(o=ee(r,"1406552515"),e[0]=r,e[1]=o):o=e[1];const d=o;let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f={scrollbarGutter:"stable"},e[2]=f):f=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(xe,{}),e[3]=u):u=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(S,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=b):b=e[4];const w=m||d,g=p?!0:void 0,y=!d;let j;e[5]!==n||e[6]!==c?(j=()=>{Ce(ae(n)),c("")},e[5]=n,e[6]=c,e[7]=j):j=e[7];let k;e[8]!==l?(k=()=>l(!0),e[8]=l,e[9]=k):k=e[9];let h;e[10]!==w||e[11]!==g||e[12]!==y||e[13]!==j||e[14]!==k?(h=s.jsx(Ne,{disableAutoFocus:w,expanded:g,isBigBoxMode:y,onSubmit:j,onSuccess:Va,onCreateEnvironment:k}),e[10]=w,e[11]=g,e[12]=y,e[13]=j,e[14]=k,e[15]=h):h=e[15];let C;e[16]!==d||e[17]!==h?(C=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(mt,{disabled:d,children:h})}),e[16]=d,e[17]=h,e[18]=C):C=e[18];let N,_;e[19]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(he,{}),_=s.jsx(Me,{}),e[19]=N,e[20]=_):(N=e[19],_=e[20]);let x;e[21]!==C?(x=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[b,C,N,_]}),e[21]=C,e[22]=x):x=e[22];let v;e[23]!==i?(v=s.jsx(Re,{homeTab:i}),e[23]=i,e[24]=v):v=e[24];let E;e[25]!==x||e[26]!==v?(E=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[u,x,v]}),e[25]=x,e[26]=v,e[27]=E):E=e[27];let A;return e[28]!==a||e[29]!==E?(A=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:a,style:f,children:E}),e[28]=a,e[29]=E,e[30]=A):A=e[30],A}function Va(){Ee.set(Ga)}function Ga(t){return t+1}function Ua(t){"use forget";const e=z.c(15),{scrollRef:a,setShowCreateEnvModal:m}=t;let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={scrollbarGutter:"stable"},e[0]=p):p=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(xe,{}),e[1]=c):c=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(S,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[2]=l):l=e[2];let n;e[3]!==m?(n=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(Us,{isGitHubConnected:!1,onClickCreateEnvironment:()=>m(!0)})}),e[3]=m,e[4]=n):n=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(he,{}),e[5]=i):i=e[5];let r;e[6]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("div",{className:"w-full px-3 md:px-0",children:s.jsx("div",{className:"text-token-text-primary ps-1 pt-6 pb-4 text-sm font-medium",children:s.jsx(S,{id:"wham.samples.title",defaultMessage:"Examples of what Codex can do"})})}),e[6]=r):r=e[6];let o;e[7]!==n?(o=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[l,n,i,r]}),e[7]=n,e[8]=o):o=e[8];let d;e[9]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("div",{className:"w-full px-3 md:px-0",children:s.jsx(qs,{})}),e[9]=d):d=e[9];let f;e[10]!==o?(f=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[c,o,d]}),e[10]=o,e[11]=f):f=e[11];let u;return e[12]!==a||e[13]!==f?(u=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:a,style:p,children:f}),e[12]=a,e[13]=f,e[14]=u):u=e[14],u}function $a(t){"use forget";const e=z.c(28),{scrollRef:a,hasLastViewTaskIdOnMount:m,defaultExpanded:p,setPromptDraft:c,composerController:l,setShowCreateEnvModal:n,homeTab:i}=t,r=Q();let o;e[0]!==r?(o=ee(r,"1406552515"),e[0]=r,e[1]=o):o=e[1];const d=o;let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f={scrollbarGutter:"stable"},e[2]=f):f=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(xe,{}),e[3]=u):u=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(S,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=b):b=e[4];const w=m||d,g=p?!0:void 0,y=!d;let j;e[5]!==l||e[6]!==c?(j=()=>{Ce(ae(l)),c("")},e[5]=l,e[6]=c,e[7]=j):j=e[7];let k;e[8]!==n?(k=()=>n(!0),e[8]=n,e[9]=k):k=e[9];let h;e[10]!==w||e[11]!==g||e[12]!==y||e[13]!==j||e[14]!==k?(h=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(Ne,{disableAutoFocus:w,expanded:g,isBigBoxMode:y,onSubmit:j,onSuccess:za,onCreateEnvironment:k})}),e[10]=w,e[11]=g,e[12]=y,e[13]=j,e[14]=k,e[15]=h):h=e[15];let C,N;e[16]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(he,{}),N=s.jsx(Me,{}),e[16]=C,e[17]=N):(C=e[16],N=e[17]);let _;e[18]!==h?(_=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[b,h,C,N]}),e[18]=h,e[19]=_):_=e[19];let x;e[20]!==i?(x=s.jsx(Re,{homeTab:i}),e[20]=i,e[21]=x):x=e[21];let v;e[22]!==_||e[23]!==x?(v=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[u,_,x]}),e[22]=_,e[23]=x,e[24]=v):v=e[24];let E;return e[25]!==a||e[26]!==v?(E=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:a,style:f,children:v}),e[25]=a,e[26]=v,e[27]=E):E=e[27],E}function za(){Ee.set(qa)}function qa(t){return t+1}function Ka(t){"use forget";const e=z.c(31),{scrollRef:a,hasLastViewTaskIdOnMount:m,defaultExpanded:p,setPromptDraft:c,setShowCreateEnvModal:l,composerController:n,homeTab:i}=t,r=Q();let o;e[0]!==r?(o=ee(r,"1406552515"),e[0]=r,e[1]=o):o=e[1];const d=o;let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f={scrollbarGutter:"stable"},e[2]=f):f=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(xe,{}),e[3]=u):u=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(S,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=b):b=e[4];const w=m||d,g=p?!0:void 0,y=!d;let j;e[5]!==n||e[6]!==c?(j=()=>{Ce(ae(n)),c("")},e[5]=n,e[6]=c,e[7]=j):j=e[7];let k;e[8]!==l?(k=()=>l(!0),e[8]=l,e[9]=k):k=e[9];let h;e[10]!==w||e[11]!==g||e[12]!==y||e[13]!==j||e[14]!==k?(h=s.jsx(Ne,{disableAutoFocus:w,expanded:g,isBigBoxMode:y,onSubmit:j,onSuccess:Ya,onCreateEnvironment:k}),e[10]=w,e[11]=g,e[12]=y,e[13]=j,e[14]=k,e[15]=h):h=e[15];let C;e[16]!==d||e[17]!==h?(C=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(mt,{disabled:d,children:h})}),e[16]=d,e[17]=h,e[18]=C):C=e[18];let N,_;e[19]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(he,{}),_=s.jsx(Me,{}),e[19]=N,e[20]=_):(N=e[19],_=e[20]);let x;e[21]!==C?(x=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[b,C,N,_]}),e[21]=C,e[22]=x):x=e[22];let v;e[23]!==i?(v=s.jsx("div",{className:"w-full",children:s.jsx(Re,{homeTab:i})}),e[23]=i,e[24]=v):v=e[24];let E;e[25]!==x||e[26]!==v?(E=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[u,x,v]}),e[25]=x,e[26]=v,e[27]=E):E=e[27];let A;return e[28]!==a||e[29]!==E?(A=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:a,style:f,children:E}),e[28]=a,e[29]=E,e[30]=A):A=e[30],A}function Ya(){Ee.set(Qa)}function Qa(t){return t+1}export{Mn as W};
//# sourceMappingURL=cmnd7d9oqtrsmbqh.js.map

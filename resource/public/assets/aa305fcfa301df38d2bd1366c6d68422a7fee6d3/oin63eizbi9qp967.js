const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nzc19yp45z5gjstv.js","assets/bubexfvksfr7893o.js","assets/kka0mq11lb0krjth.js","assets/impv9cw906sxjwad.js","assets/jasggtze31dxpnzc.js","assets/dwgk7r4s1fwn35jq.js"])))=>i.map(i=>d[i]);
var Oe=Object.defineProperty,Ae=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var Se=(s,e,o)=>e in s?Oe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,U=(s,e)=>{for(var o in e||(e={}))Me.call(e,o)&&Se(s,o,e[o]);if(he)for(var o of he(e))_e.call(e,o)&&Se(s,o,e[o]);return s},X=(s,e)=>Ae(s,Le(e));var pe=(s,e)=>{var o={};for(var l in s)Me.call(s,l)&&e.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&he)for(var l of he(s))e.indexOf(l)<0&&_e.call(s,l)&&(o[l]=s[l]);return o};import{c as ae,h as be,j as t,r as G,M as N,_ as ne,L as Re}from"./bubexfvksfr7893o.js";import{aB as oe,d as Q,az as re,f9 as De,aF as L,dc as Pe,aA as ie,eH as J,G as B,ee as Ie,u as we,eU as Te,cz as Ce,aH as ye,_ as ve,dR as Fe,kR as Ge,al as Be,oN as Ve,J as We,gz as Ke,Q as je,eg as qe,aC as Je,rX as Ue,eX as Xe,rY as Ne}from"./ncw8zw682jinppua.js";import{am as Qe,mT as He,my as Ye,bv as Ze,dQ as ze,mU as et}from"./lm3g1zm00rp6al39.js";import{P as Ee,a as ke}from"./gjwwyq2frxc0l7hy.js";import"./hbafdd864xefk46q.js";function tt(s){"use forget";const e=ae.c(15),o=be(),{preset:l,onSelectPreset:i}=s;let u;e[0]!==i||e[1]!==l?(u=()=>i(l),e[0]=i,e[1]=l,e[2]=u):u=e[2];let n;e[3]!==l.color||e[4]!==l.emoji?(n=t.jsx(Qe,{color:l.color,emoji:l.emoji}),e[3]=l.color,e[4]=l.emoji,e[5]=n):n=e[5];let r;e[6]!==o||e[7]!==l.label?(r=o.formatMessage(l.label),e[6]=o,e[7]=l.label,e[8]=r):r=e[8];let c;e[9]!==n||e[10]!==r?(c=t.jsxs("div",{className:"flex gap-1.5",children:[n,r]}),e[9]=n,e[10]=r,e[11]=c):c=e[11];let f;return e[12]!==u||e[13]!==c?(f=t.jsx(oe,{color:"secondary",className:"border-token-border-default hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex items-center justify-center py-2 ps-2.5 pe-3 font-normal select-none",onFocus:st,onClick:u,type:"button",children:c}),e[12]=u,e[13]=c,e[14]=f):f=e[14],f}function st(s){s.target.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}const lt=re(()=>ne(()=>import("./nzc19yp45z5gjstv.js"),__vite__mapDeps([0,1])),{loading:s=>ie(s)}),ot=re(()=>ne(()=>import("./kka0mq11lb0krjth.js"),__vite__mapDeps([2,1])),{loading:s=>ie(s)});function at(s){"use forget";const e=ae.c(65),{isNewProject:o,isPending:l,onSubmit:i,submitTitle:u,planType:n}=s,r=be();let c;e[0]!==s.emoji$||e[1]!==s.theme$||e[2]!==s.title$||e[3]!==s.validationErrors$?(c=()=>{var O,F,K,q;return{title$:(O=s.title$)!=null?O:L(""),validationErrors$:(F=s.validationErrors$)!=null?F:L([]),theme$:(K=s.theme$)!=null?K:L(null),emoji$:(q=s.emoji$)!=null?q:L(null),stylePickerOpen$:L(!1),autofilledFromPreset$:L(!1)}},e[0]=s.emoji$,e[1]=s.theme$,e[2]=s.title$,e[3]=s.validationErrors$,e[4]=c):c=e[4];const[f]=G.useState(c),{title$:m,validationErrors$:g,theme$:a,emoji$:x,autofilledFromPreset$:_}=f,p=Q(m),P=Q(g),R=G.useRef(null),E=Q(_);let S;e[5]===Symbol.for("react.memo_cache_sentinel")?(S=[],e[5]=S):S=e[5],G.useEffect(rt,S);let j;e[6]!==_||e[7]!==x||e[8]!==a||e[9]!==m?(j=O=>{const{color:F,emoji:K,title:q}=O;a.set(F),x.set(K),m.set(q),_.set(!0)},e[6]=_,e[7]=x,e[8]=a,e[9]=m,e[10]=j):j=e[10];const $=j;let y;e[11]!==r?(y=r.formatMessage({id:"A4Fd7M",defaultMessage:"Copenhagen Trip"}),e[11]=r,e[12]=y):y=e[12];let v;e[13]!==m?(v=O=>m.set(O.target.value),e[13]=m,e[14]=v):v=e[14];let b;e[15]!==y||e[16]!==v||e[17]!==p?(b=t.jsx("input",{autoFocus:!0,ref:R,className:"border-token-interactive-border-tertiary-default focus:border-token-interactive-border-focus bg-token-bg-primary col-span-full row-1 w-full resize-none overflow-y-auto rounded-lg border px-2 py-2 ps-9 pe-9 text-sm focus:ring-0",type:"text",name:"projectName",autoComplete:"off",placeholder:y,value:p,onChange:v}),e[15]=y,e[16]=v,e[17]=p,e[18]=b):b=e[18];const w=o?"var(--text-tertiary)":void 0;let C;e[19]!==x||e[20]!==w||e[21]!==a?(C=t.jsx(Ee,{emoji$:x,theme$:a,defaultColor:w}),e[19]=x,e[20]=w,e[21]=a,e[22]=C):C=e[22];let D;e[23]!==x||e[24]!==C||e[25]!==a?(D=t.jsx(ke,{theme$:a,emoji$:x,children:C}),e[23]=x,e[24]=C,e[25]=a,e[26]=D):D=e[26];let d;e[27]!==E||e[28]!==_||e[29]!==x||e[30]!==r||e[31]!==o||e[32]!==a||e[33]!==p||e[34]!==m?(d=o&&E&&p.trim().length>0&&t.jsx("button",{type:"button","aria-label":r.formatMessage({id:"z/7Lq7",defaultMessage:"Clear project name"}),className:"col-span-full row-1 me-2 self-center justify-self-end rounded-full p-1 hover:opacity-80 focus:outline-hidden",onClick:()=>{var O;m.set(""),x.set(null),a.set(null),_.set(!1),(O=R.current)==null||O.focus()},children:t.jsx(ot,{className:"icon text-token-text-tertiary"})}),e[27]=E,e[28]=_,e[29]=x,e[30]=r,e[31]=o,e[32]=a,e[33]=p,e[34]=m,e[35]=d):d=e[35];let h;e[36]!==d||e[37]!==b||e[38]!==D?(h=t.jsxs("div",{className:"content-sheet-root:contents mb-2 grid grid-cols-[auto_minmax(0,1fr)]",children:[b,D,d]}),e[36]=d,e[37]=b,e[38]=D,e[39]=h):h=e[39];let M;e[40]!==r||e[41]!==o||e[42]!==$||e[43]!==n?(M=o&&t.jsx("ul",{className:"focus-outline-margin-default -ms-4 flex w-[calc(100%+32px)] gap-2 overflow-x-auto ps-4 pe-4 [scrollbar-width:none]","aria-label":r.formatMessage({id:"mStfWq",defaultMessage:"Project presets"}),children:He(n).map(O=>t.jsx("li",{children:t.jsx(tt,{preset:O,onSelectPreset:F=>{$(X(U({},F),{title:r.formatMessage(F.label)}))}})},O.emoji))}),e[40]=r,e[41]=o,e[42]=$,e[43]=n,e[44]=M):M=e[44];let k;e[45]!==o?(k=o&&t.jsxs("aside",{className:"bg-token-bg-tertiary mt-4 flex items-center rounded-xl p-3",children:[t.jsx("div",{className:"me-2 h-6 w-6",children:t.jsx("div",{className:"text-token-text-secondary relative flex h-full items-center justify-center",children:t.jsx(lt,{className:"icon"})})}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(N,U({},De.projectHelperBoxDescription))})]}),e[45]=o,e[46]=k):k=e[46];let I;e[47]!==P?(I=P.map(nt),e[47]=P,e[48]=I):I=e[48];let A;e[49]!==h||e[50]!==M||e[51]!==k||e[52]!==I?(A=t.jsxs("div",{className:"flex-1 px-4 pt-1",children:[h,M,k,I]}),e[49]=h,e[50]=M,e[51]=k,e[52]=I,e[53]=A):A=e[53];let T;e[54]!==p||e[55]!==P.length?(T=!p.trim()||P.length>0,e[54]=p,e[55]=P.length,e[56]=T):T=e[56];let V;e[57]!==l||e[58]!==u||e[59]!==T?(V=t.jsx("div",{className:"flex items-center justify-end px-3 pb-3",children:t.jsx(Pe.Actions,{primaryButton:t.jsx(Pe.Button,{title:u,type:"submit",form:"project-modal-form",color:"primary",loading:l,disabled:T})})}),e[57]=l,e[58]=u,e[59]=T,e[60]=V):V=e[60];let W;return e[61]!==i||e[62]!==A||e[63]!==V?(W=t.jsxs("form",{id:"project-modal-form",onSubmit:i,children:[A,V]}),e[61]=i,e[62]=A,e[63]=V,e[64]=W):W=e[64],W}function nt(s,e){return t.jsx("div",{className:"mb-4 text-sm text-red-500",children:s},e)}function rt(){Ye()}function it(l){var i=l,{children:s,onCloseAutoFocus:e}=i,o=pe(i,["children","onCloseAutoFocus"]);const u=G.useRef(!1),n=G.useRef(!1),r=G.useRef(!1);return t.jsx(J.Content,X(U({},o),{onCloseAutoFocus:c=>{const f=u.current,m=n.current,g=r.current;if(u.current=!1,n.current=!1,r.current=!1,g)c.preventDefault();else{if(f||m)return;e&&e(c)}},onEscapeKeyDown:()=>{u.current=!0},onPointerDownOutside:()=>{n.current=!0},onFocusOutside:()=>{r.current=!0},children:s}))}const ct=re(()=>ne(()=>import("./impv9cw906sxjwad.js"),__vite__mapDeps([3,1])),{loading:s=>ie(s)}),dt=Te(()=>{const s=L(!1),e=L(!1);return{isSheetVisible$:ye(()=>s()||e()),isSheetOpen$:s,keepSheetOpen$:e}}),ut=s=>{"use forget";const e=ae.c(25),{onCloseAutoFocus:o,children:l,isNewProject:i,mode:u,displayedMemoryScope$:n,memoryScope$:r,isSunshineEnabled:c}=s,f=u===void 0?"dropdown":u;let m;e[0]!==n?(m=n===void 0?L(B.GLOBAL):n,e[0]=n,e[1]=m):m=e[1];const g=m;let a;e[2]!==r?(a=r===void 0?L(B.GLOBAL):r,e[2]=r,e[3]=a):a=e[3];const x=a,_=c===void 0?!0:c,p=!Ie();let P;e[4]!==g?(P=()=>g(),e[4]=g,e[5]=P):P=e[5];const R=Q(P),E=we();let S;e[6]!==E?(S=dt(E),e[6]=E,e[7]=S):S=e[7];const j=S,$=Q(j.isSheetOpen$),y=f==="auto"?p?"sheet":"dropdown":f;let v;e[8]!==f||e[9]!==j.isSheetOpen$?(v=C=>{j.isSheetOpen$.set(C),C&&ve.logEventWithStatsig("Project Customization: Open","chatgpt_web_project_customization_menu_open",{mode:f})},e[8]=f,e[9]=j.isSheetOpen$,e[10]=v):v=e[10];let b;e[11]!==R||e[12]!==i||e[13]!==_||e[14]!==x||e[15]!==o?(b=t.jsx(J.Portal,{children:t.jsx(ft,{displayedMemoryScope:R,memoryScope$:x,isNewProject:i,onCloseAutoFocus:o,isSunshineEnabled:_})}),e[11]=R,e[12]=i,e[13]=_,e[14]=x,e[15]=o,e[16]=b):b=e[16];let w;return e[17]!==l||e[18]!==p||e[19]!==$||e[20]!==j||e[21]!==v||e[22]!==b||e[23]!==y?(w=t.jsxs(J.Root,{mode:y,open:$,store:j,modal:p,onOpenChange:v,children:[l,b]}),e[17]=l,e[18]=p,e[19]=$,e[20]=j,e[21]=v,e[22]=b,e[23]=y,e[24]=w):w=e[24],w},ft=u=>{var n=u,{displayedMemoryScope:s=B.GLOBAL,memoryScope$:e=L(B.GLOBAL),isNewProject:o,isSunshineEnabled:l}=n,i=pe(n,["displayedMemoryScope","memoryScope$","isNewProject","isSunshineEnabled"]);const r=!o||!l,c=!!o&&!l;return t.jsxs(it,X(U({size:"auto",align:"end",alignOffset:-7,loop:!0},i),{children:[t.jsxs(J.Group,{children:[t.jsx(J.Label,{className:"overflow-visible text-clip whitespace-normal",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{children:t.jsx(N,{id:"w7+gZm",defaultMessage:"Memory"})}),c?t.jsx("span",{className:"text-token-text-secondary mt-1 text-xs",children:t.jsx(N,{id:"VqLy8n",defaultMessage:"Memory is off. Enable it in <link>Settings</link> to use memory within projects.",values:{link:f=>t.jsx(Re,{to:"#settings/Personalization",className:"text-token-text-primary underline",children:f})}})}):null]})}),c?null:t.jsxs(J.RadioGroup,{value:s,className:"flex flex-col",onValueChange:f=>{r||e.set(f)},children:[t.jsx($e,{value:B.GLOBAL,disabled:r,label:t.jsx(N,{id:"AA7d3d",defaultMessage:"Default"}),secondary:t.jsx(N,{id:"XHfasG",defaultMessage:"Project can access memories from outside chats, and vice versa."})}),t.jsx($e,{value:B.PROJECT_V2,disabled:r,label:t.jsx(N,{id:"XToOAe",defaultMessage:"Project-only"}),secondary:t.jsx(N,{id:"W99WlO",defaultMessage:"Project can only access its own memories. Its memories are hidden from outside chats."})})]})]}),c?null:t.jsx(J.Group,{children:t.jsx(J.Label,{children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:"text-token-text-secondary flex items-center text-xs text-pretty",children:t.jsx(N,{id:"FrohSq",defaultMessage:"Note that this setting can't be changed later."})})})})})]}))},mt=s=>t.jsx(J.BasicTrigger,X(U({className:Ce("dropdown-btn"),"data-testid":"composer-plus-btn"},s),{children:t.jsx(ct,{className:"icon"})}));function $e(s){return t.jsx(J.RadioItem,U({trailing:t.jsx(J.RadioItemCheck,{})},s))}const xt=re(()=>ne(()=>import("./jasggtze31dxpnzc.js"),__vite__mapDeps([4,1])),{loading:s=>ie(s)}),ht=re(()=>ne(()=>import("./dwgk7r4s1fwn35jq.js"),__vite__mapDeps([5,1])),{loading:s=>ie(s)});function ge(s){"use forget";var x;const e=ae.c(22);let o,l,i,u,n,r;e[0]!==s?(x=s,{className:l,label:i,children:o,sublabel:n,trailing:r}=x,u=pe(x,["className","label","children","sublabel","trailing"]),e[0]=s,e[1]=o,e[2]=l,e[3]=i,e[4]=u,e[5]=n,e[6]=r):(o=e[1],l=e[2],i=e[3],u=e[4],n=e[5],r=e[6]);let c;e[7]!==l?(c=Ce("flex w-full flex-col gap-2",l),e[7]=l,e[8]=c):c=e[8];let f;e[9]!==i||e[10]!==u?(f=t.jsx("label",X(U({className:"text-token-text-primary text-sm"},u),{children:i})),e[9]=i,e[10]=u,e[11]=f):f=e[11];let m;e[12]!==n||e[13]!==f?(m=t.jsxs("div",{className:"flex flex-col gap-0.5",children:[f,n]}),e[12]=n,e[13]=f,e[14]=m):m=e[14];let g;e[15]!==m||e[16]!==r?(g=t.jsxs("div",{className:"flex items-center justify-between",children:[m,r]}),e[15]=m,e[16]=r,e[17]=g):g=e[17];let a;return e[18]!==o||e[19]!==c||e[20]!==g?(a=t.jsxs("section",{className:c,children:[g,o]}),e[18]=o,e[19]=c,e[20]=g,e[21]=a):a=e[21],a}const pt=s=>{"use forget";const e=ae.c(86),{projectName$:o,instructions$:l,onAddFile:i,onAdvanced:u,onCancel:n,onSave:r,onDelete:c,isSaveDisabled:f,theme$:m,emoji$:g}=s,a=be(),x=Q(o),_=Q(l);let p;e[0]!==f||e[1]!==r?(p=le=>{le.preventDefault(),!f&&r()},e[0]=f,e[1]=r,e[2]=p):p=e[2];const P=p;let R;e[3]!==a?(R=a.formatMessage({id:"L8r7Wi",defaultMessage:"Project settings"}),e[3]=a,e[4]=R):R=e[4];let E;e[5]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:t.jsx(N,{id:"L8r7Wi",defaultMessage:"Project settings"})}),e[5]=E):E=e[5];let S;e[6]!==n?(S=t.jsxs("header",{className:"flex items-center justify-between px-4 py-3",children:[E,t.jsx(Fe,{onClick:n})]}),e[6]=n,e[7]=S):S=e[7];let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(N,{id:"WUDznj",defaultMessage:"Project name"}),e[8]=j):j=e[8];let $;e[9]!==g||e[10]!==m?($=t.jsx(Ee,{theme$:m,emoji$:g,className:"after:border-token-interactive-border-tertiary-default col-1 row-1 justify-self-start! after:absolute after:end-0 after:top-0 after:bottom-0 after:border-e after:content-['']"}),e[9]=g,e[10]=m,e[11]=$):$=e[11];let y;e[12]!==g||e[13]!==$||e[14]!==m?(y=t.jsx(ke,{theme$:m,emoji$:g,children:$}),e[12]=g,e[13]=$,e[14]=m,e[15]=y):y=e[15];let v;e[16]!==a?(v=a.formatMessage({id:"rK1xKK",defaultMessage:"Copenhagen Trip"}),e[16]=a,e[17]=v):v=e[17];let b;e[18]!==o?(b=le=>o.set(le.target.value),e[18]=o,e[19]=b):b=e[19];let w;e[20]!==a?(w=a.formatMessage({id:"azf0CF",defaultMessage:"Project name"}),e[20]=a,e[21]=w):w=e[21];let C;e[22]!==x||e[23]!==w||e[24]!==v||e[25]!==b?(C=t.jsx("input",{className:"border-token-interactive-border-tertiary-default focus:border-token-interactive-border-focus bg-token-bg-primary col-span-full row-1 w-full resize-none rounded-lg border px-2 py-2 ps-11 pe-9 text-sm focus:ring-0",autoComplete:"off",placeholder:v,type:"text",value:x,onChange:b,"aria-label":w,id:"project-name"}),e[22]=x,e[23]=w,e[24]=v,e[25]=b,e[26]=C):C=e[26];let D;e[27]!==C||e[28]!==y?(D=t.jsx(ge,{htmlFor:"project-name",label:j,children:t.jsxs("div",{className:"grid gap-1",children:[y,C]})}),e[27]=C,e[28]=y,e[29]=D):D=e[29];let d;e[30]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(N,{id:"9Mahpq",defaultMessage:"Instructions"}),e[30]=d):d=e[30];let h;e[31]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("span",{className:"text-token-text-secondary text-xs",children:t.jsx(N,{id:"/QvLRA",defaultMessage:"Set context and customize how ChatGPT responds in this project."})}),e[31]=h):h=e[31];let M;e[32]!==a?(M=a.formatMessage({id:"sJpS+d",defaultMessage:"Act as a wedding planner. Suggest timelines and vendor checklists. Keep the tone fun and supportive."}),e[32]=a,e[33]=M):M=e[33];let k;e[34]!==l?(k=le=>l.set(le.target.value),e[34]=l,e[35]=k):k=e[35];let I;e[36]!==a?(I=a.formatMessage({id:"mBOE3J",defaultMessage:"Instructions"}),e[36]=a,e[37]=I):I=e[37];let A;e[38]!==_||e[39]!==M||e[40]!==k||e[41]!==I?(A=t.jsx(ge,{htmlFor:"instructions",label:d,sublabel:h,children:t.jsx("textarea",{id:"instructions",placeholder:M,className:"border-token-interactive-border-tertiary-default focus:border-token-interactive-border-focus bg-token-bg-primary min-h-[60px] w-full resize-none rounded-lg border text-sm focus:ring-0",value:_,onChange:k,"aria-label":I})}),e[38]=_,e[39]=M,e[40]=k,e[41]=I,e[42]=A):A=e[42];let T;e[43]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(N,{id:"b/3iQs",defaultMessage:"Files"}),e[43]=T):T=e[43];let V;e[44]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(N,{id:"bQ9QsE",defaultMessage:"Add"}),e[44]=V):V=e[44];let W;e[45]!==i?(W=t.jsx(oe,{color:"secondary",className:"px-4",onClick:i,type:"button",children:V}),e[45]=i,e[46]=W):W=e[46];let O;e[47]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(xt,{className:"icon text-token-text-secondary mb-2"}),e[47]=O):O=e[47];let F;e[48]!==x?(F=t.jsx("div",{className:"flex w-full flex-col gap-1",children:t.jsxs("div",{className:"border-token-interactive-border-tertiary-press bg-token-interactive-bg-tertiary-press flex min-h-[96px] flex-col items-center justify-center rounded-lg border py-6",children:[O,t.jsx("span",{className:"text-token-text-secondary text-center text-xs",children:t.jsx(N,{id:"wrISr5",defaultMessage:"Add files or links for context when chatting in {projectName}.",values:{projectName:t.jsx("b",{children:x})}})})]})}),e[48]=x,e[49]=F):F=e[49];let K;e[50]!==W||e[51]!==F?(K=t.jsx(ge,{label:T,trailing:W,children:F}),e[50]=W,e[51]=F,e[52]=K):K=e[52];let q;e[53]!==a?(q=a.formatMessage({id:"9kYhss",defaultMessage:"Advanced settings"}),e[53]=a,e[54]=q):q=e[54];let ce,de;e[55]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("span",{children:t.jsx(N,{id:"y0WDaM",defaultMessage:"Advanced"})}),de=t.jsx(ht,{className:"icon"}),e[55]=ce,e[56]=de):(ce=e[55],de=e[56]);let H;e[57]!==u||e[58]!==q?(H=t.jsx(ge,{label:null,children:t.jsxs("button",{type:"button",className:"flex w-full items-center justify-between px-0 py-2 text-sm text-gray-900 focus:outline-none",onClick:u,"aria-label":q,children:[ce,de]})}),e[57]=u,e[58]=q,e[59]=H):H=e[59];let Y;e[60]!==D||e[61]!==A||e[62]!==K||e[63]!==H?(Y=t.jsxs("div",{className:"flex flex-col gap-5 p-4",children:[D,A,K,H]}),e[60]=D,e[61]=A,e[62]=K,e[63]=H,e[64]=Y):Y=e[64];let ue;e[65]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(N,{id:"rJ7Ijf",defaultMessage:"Delete project"}),e[65]=ue):ue=e[65];let Z;e[66]!==c?(Z=t.jsx(oe,{color:"danger-outline",onClick:c,type:"button",children:ue}),e[66]=c,e[67]=Z):Z=e[67];let fe;e[68]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(N,{id:"qz9XeG",defaultMessage:"Cancel"}),e[68]=fe):fe=e[68];let z;e[69]!==n?(z=t.jsx(oe,{color:"secondary",className:"px-4",onClick:n,type:"button",children:fe}),e[69]=n,e[70]=z):z=e[70];let me;e[71]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(N,{id:"+itf/D",defaultMessage:"Save"}),e[71]=me):me=e[71];let ee;e[72]!==f?(ee=t.jsx(oe,{color:"primary",className:"px-4",visuallyDisabled:f,type:"submit",children:me}),e[72]=f,e[73]=ee):ee=e[73];let te;e[74]!==z||e[75]!==ee?(te=t.jsxs("div",{className:"flex gap-2",children:[z,ee]}),e[74]=z,e[75]=ee,e[76]=te):te=e[76];let se;e[77]!==Z||e[78]!==te?(se=t.jsxs("footer",{className:"border-token-interactive-border-tertiary-default mt-2 flex items-center justify-between gap-2 border-t px-4 py-4",children:[Z,te]}),e[77]=Z,e[78]=te,e[79]=se):se=e[79];let xe;return e[80]!==P||e[81]!==R||e[82]!==Y||e[83]!==se||e[84]!==S?(xe=t.jsxs("form",{className:"flex w-full flex-col","aria-label":R,onSubmit:P,children:[S,Y,se]}),e[80]=P,e[81]=R,e[82]=Y,e[83]=se,e[84]=S,e[85]=xe):xe=e[85],xe};function Mt({submitButtonTitle:s,onClose:e,onSuccess:o,gizmo:l,project:i}){"use no forget";const u=we(),n=be(),r=Ge(u),c=Be(u),f=c==null?void 0:c.planType,m=Ze(),g=ze(),a=Ve(),[x,_]=G.useState(()=>a.isPending),p=!l,P=!p&&We(u,"3769650838"),R=!P&&(m||g&&p);!p&&!i&&(i=Ke(u,l.gizmo.id));const[E]=G.useState(()=>L(je(()=>{var d,h;return(h=(d=i==null?void 0:i.emoji$())!=null?d:l==null?void 0:l.gizmo.display.emoji)!=null?h:null}))),[S]=G.useState(()=>L(je(()=>{var d,h;return(h=(d=i==null?void 0:i.theme$())!=null?d:l==null?void 0:l.gizmo.display.theme)!=null?h:null}))),[j]=G.useState(()=>L(je(()=>{var d,h;return(h=(d=i==null?void 0:i.title$())!=null?d:l==null?void 0:l.gizmo.display.name)!=null?h:""}))),[$]=G.useState(()=>L(je(()=>{var d;return(d=l==null?void 0:l.gizmo.instructions)!=null?d:""}))),[y]=G.useState(()=>{const d=l==null?void 0:l.gizmo.memory_scope;let h=d;switch(d){case B.PROJECT_V2:h=B.PROJECT_V2;break;case B.GLOBAL:case B.PROJECT:h=B.GLOBAL;break;default:h=B.UNSET;break}return L(h)}),[v]=G.useState(()=>ye(()=>et(y()))),[b]=G.useState(()=>ye(()=>{const d=[];return j().length>Ne&&d.push(n.formatMessage({id:"feWA6K",defaultMessage:"Project names cannot be longer than {length} characters."},{length:Ne})),d})),w=async()=>{var d;try{_(!0);const h=i?await i.queueUpdate$({emoji:E(),theme:S(),name:j(),options:{memoryScope:y(),instructions:$()}}):await a.mutateAsync({update:I=>{var A,T;return X(U({},I),{emoji:(A=E())!=null?A:void 0,theme:(T=S())!=null?T:void 0,name:j(),memoryScope:y(),instructions:$()})},id:(d=l==null?void 0:l.gizmo.id)!=null?d:Ue}),{id:M,resource:k}=h;_(!1),o&&o(M!=null?M:k==null?void 0:k.gizmo.id),e()}catch(h){const M=Xe(h);r.warning(M!=null?M:n.formatMessage({id:"project-modal.error.create-or-update",defaultMessage:"Error creating or updating project"}),{duration:5,hasCloseButton:!0}),_(!1)}},C=p?n.formatMessage({id:"PoqmRT",defaultMessage:"Create project"}):n.formatMessage({id:"RT8KNi",defaultMessage:"Save"}),D=qe(()=>{const d=j();return x||d.trim().length===0||b().length>0},"ProjectModal:isSaveDisabled");return t.jsx(Je,{testId:"modal-new-project-enhanced",isOpen:!0,hideSeparator:!0,noPadding:!0,headerAccessory:R?t.jsx(ut,{isNewProject:p,displayedMemoryScope$:v,memoryScope$:y,isSunshineEnabled:m,children:t.jsx(mt,{})}):null,showCloseButton:!x,type:"success",size:"large",title:!P&&(p?n.formatMessage({defaultMessage:"Project name",id:"project-modal.title.new-project"}):n.formatMessage({defaultMessage:"Edit project",id:"project-modal.title.edit-project"})),onClose:()=>{x||e()},children:P?t.jsx(pt,{projectName$:j,instructions$:$,files:[],onAddFile:()=>{},onAdvanced:()=>{},onCancel:e,onSave:()=>{ve.logEventWithStatsig("Projects: Create Submit Enhanced","chatgpt_web_projects_create_submit"),w()},onDelete:()=>{},isSaveDisabled:D,theme$:S,emoji$:E}):t.jsx(at,{emoji$:E,isNewProject:p,isPending:x,onClose:e,onSubmit:d=>{d.preventDefault(),ve.logEventWithStatsig("Projects: Create Submit Enhanced","chatgpt_web_projects_create_submit"),w()},submitTitle:s!=null?s:C,title$:j,theme$:S,validationErrors$:b,planType:f})})}export{Mt as CreateOrEditProjectModal};
//# sourceMappingURL=oin63eizbi9qp967.js.map

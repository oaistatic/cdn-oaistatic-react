import{F as _}from"./ce744tj9mbyjpxk9.js";import{_ as o,D as c,a7 as r,$ as f,a0 as F,u as P,al as E,p_ as v,J as S,fX as b,p$ as p}from"./ncw8zw682jinppua.js";import{bi as h,aV as A,aW as m}from"./lm3g1zm00rp6al39.js";import{r as k,l as I,v as u}from"./bubexfvksfr7893o.js";let s="",t="";const g=new Set,i={setSessionId(n){s=n},setQuerySessionId(n){g.clear(),t=n},logClick(n,a,e){c.addAction("fannypack.web.click",{index:a,source:e}),o.logEvent("FannyPack: Click result",{fanny_pack_session_id:s,fanny_pack_query_session_id:t,conversationId:n,index:a,source:e}),r.logEvent("chatgpt_fannypack_click",a,{index:String(a),source:e})},logClose(n){o.logEvent("FannyPack: Close",{fanny_pack_session_id:s,source:n})},logOpen(n){f.count(F.DEFAULT,"conversation_search.open",[{key:"source",value:n}]),c.addAction("fannypack.web.open",{source:n}),o.logEvent("FannyPack: Open",{fanny_pack_session_id:s,source:n}),r.logEvent("chatgpt_fannypack_open",n)},logQuery(){c.addAction("fannypack.web.query"),o.logEvent("FannyPack: Query",{fanny_pack_session_id:s,fanny_pack_query_session_id:t}),r.logEvent("chatgpt_fannypack_query")},logQueryError(){c.addError("fannypack.web.query_error"),o.logEvent("FannyPack: Query Error",{fanny_pack_session_id:s,fanny_pack_query_session_id:t})},logQueryMore(){c.addAction("fannypack.web.queryMore"),o.logEvent("FannyPack: Query Fetch More",{fanny_pack_session_id:s,fanny_pack_query_session_id:t}),r.logEvent("chatgpt_fannypack_query_more")},logNoResults(){o.logEvent("FannyPack: No results",{fanny_pack_session_id:s,fanny_pack_query_session_id:t})},logImpression(n,a,e){g.has(e)||(g.add(e),o.logEvent("FannyPack: Impression",{fanny_pack_session_id:s,fanny_pack_query_session_id:t,source:n,index:a,conversation_id:e}))}};function q(){const n=P(),a=E(n),{isFannyPackEnabled:e}=h(n),y=v(d=>d.isActive),l=S(n,"1422501431");k.useEffect(()=>{e&&a&&(l?_.setCurrentAccountV2(a):_.setCurrentAccount(a),_.init())},[a,l,e]),k.useEffect(()=>b(n).addAction({key:"toggleChatSearch",action:()=>{y?i.logClose("shortcut"):(i.setSessionId(u()),i.logOpen("shortcut")),p.setIsActive(!y)},actionMessageDescriptor:I({id:"oqatXV",defaultMessage:"Search chats"}),group:m.Core,keyboardBinding:[A.Mod,"k"]}),[n,y])}function C(){p.setIsActive(!0),i.setSessionId(u()),i.logOpen("button")}const O=Object.freeze(Object.defineProperty({__proto__:null,openFannyPackSearch:C,useInitializeFannyPackHandler:q},Symbol.toStringTag,{value:"Module"}));export{i as F,O as a,q as u};
//# sourceMappingURL=m7df4jwt169q6ixf.js.map

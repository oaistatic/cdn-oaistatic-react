const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jx5pd8qsxc77tbjo.js","assets/bubexfvksfr7893o.js"])))=>i.map(i=>d[i]);
import{c as z,h as D,r as j,j as t,M as I,_ as P}from"./bubexfvksfr7893o.js";import{bB as F}from"./lm3g1zm00rp6al39.js";import{u as A,cz as b,cr as C,az as G,aA as H}from"./ncw8zw682jinppua.js";const O=G(()=>P(()=>import("./jx5pd8qsxc77tbjo.js"),__vite__mapDeps([0,1])),{loading:l=>H(l)}),B=50;function E({className:l,delay:e=B,height:i,width:x}){const[h,r]=j.useState(!1);return j.useEffect(()=>{const o=setTimeout(()=>{r(!0)},e);return()=>{clearTimeout(o)}},[e]),h?t.jsx("div",{className:"flex max-h-full max-w-full items-center justify-center",style:{width:x,height:i,aspectRatio:"".concat(x," / ").concat(i)},children:t.jsx("div",{className:b("bg-token-border-default h-full w-full animate-pulse",l)})}):null}function q(l){"use forget";const e=z.c(21),{allRepos:i,enableScroll:x,fetchNextPage:h,hasNextPage:r,isFetchingNextPage:o,isLoading:c,onChange:N,searchTerm:S,selectedRepos:d}=l,a=x===void 0?!0:x,w=D(),_=A(),R=j.useRef(null),T=j.useRef(null),p=F(_),M=d.size>=p;let g;e[0]!==h||e[1]!==r||e[2]!==o||e[3]!==c?(g=s=>{if(c||s==null)return;const n=new IntersectionObserver(u=>{u[0].isIntersecting&&!o&&r&&h()});return n.observe(s),()=>{n.disconnect()}},e[0]=h,e[1]=r,e[2]=o,e[3]=c,e[4]=g):g=e[4];const k=g;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=Array.from({length:6}).map(Y),e[5]=y):y=e[5];const L=y;let m;e[6]!==i||e[7]!==a||e[8]!==r||e[9]!==k||e[10]!==w||e[11]!==o||e[12]!==c||e[13]!==M||e[14]!==p||e[15]!==N||e[16]!==S||e[17]!==d?(m=c?t.jsx("div",{className:"h-[300px]",children:L.map($)}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:b("relative flex flex-col",a&&"overflow-y-auto"),children:[a&&t.jsx("div",{ref:R,className:b("from-token-bg-primary pointer-events-none absolute start-0 end-0 top-0 z-10 h-20 bg-gradient-to-b to-transparent opacity-0 transition-opacity duration-200")}),t.jsx("div",{ref:s=>{if(!s)return;const n=()=>{if(!a||!s||!R.current||!T.current)return;const u=s.scrollTop<=10,f=s.scrollHeight-s.scrollTop<=s.clientHeight+10;R.current.style.opacity=u?"0":"1",T.current.style.opacity=f?"0":"1"};return s.addEventListener("scroll",()=>n()),n(),()=>s.removeEventListener("scroll",()=>n())},className:b("no-scrollbar",a&&"h-[300px] overflow-y-auto",!a&&"overflow-y-visible"),children:i.length>0||r?t.jsxs(t.Fragment,{children:[i.map(s=>{if(!s.id)return null;const n=M&&!d.has(s.id);return t.jsx(C,{label:w.formatMessage({id:"N6yvBk",defaultMessage:"You've reached the limit of {maxReposToSync} synced repositories."},{maxReposToSync:p}),side:"right",align:"center",className:"flex w-full flex-1",sideOffset:10,disabled:!n,children:t.jsxs("button",{disabled:n,onClick:u=>{u.preventDefault(),u.stopPropagation();const f=new Map(d);f.has(s.id)?f.delete(s.id):f.set(s.id,s),N(f)},className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:[t.jsx("div",{className:"text-token-text-primary text-md flex-1 text-start",children:s.repository_full_name}),t.jsx("div",{className:"flex items-center",children:d.has(s.id)?t.jsx(O,{className:"icon-lg"}):t.jsx("div",{className:"flex h-6 items-center pe-0.5",children:t.jsx("div",{className:"border-token-border-heavy h-5 w-5 rounded-full border"})})})]},s.id)},s.id)}),r&&t.jsx("div",{ref:k,className:"h-1 w-full"}),o&&t.jsx("div",{className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:t.jsx(E,{className:"rounded-md",width:Math.random()*250+100,height:20})})]}):t.jsx("div",{className:"text-token-text-tertiary mt-5 flex h-full justify-center text-sm",children:t.jsx(I,{id:"IyK1Z7",defaultMessage:"No results found for “{searchTerm}”",values:{searchTerm:S}})})}),a&&t.jsx("div",{ref:T,className:b("from-token-bg-primary pointer-events-none absolute start-0 end-0 bottom-0 z-10 mt-auto h-20 bg-gradient-to-t to-transparent transition-opacity duration-200")})]})}),e[6]=i,e[7]=a,e[8]=r,e[9]=k,e[10]=w,e[11]=o,e[12]=c,e[13]=M,e[14]=p,e[15]=N,e[16]=S,e[17]=d,e[18]=m):m=e[18];let v;return e[19]!==m?(v=t.jsx(t.Fragment,{children:m}),e[19]=m,e[20]=v):v=e[20],v}function $(l,e){return t.jsx("div",{className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:t.jsx(E,{className:"rounded-md",width:l,height:20})},e)}function Y(){return Math.random()*250+100}export{q as G};
//# sourceMappingURL=mcysfy6v18mi457y.js.map

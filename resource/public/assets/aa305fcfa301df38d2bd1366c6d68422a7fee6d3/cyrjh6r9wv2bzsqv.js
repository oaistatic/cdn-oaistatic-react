const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lm3g1zm00rp6al39.js","assets/bubexfvksfr7893o.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/conversation-small-lq38g8zw.css","assets/lavgv2cqxzmuuybx.js","assets/id46gez4t5lcjj08.js","assets/mlyolkcq1y2iuuee.js","assets/fwn4bwvyx3h4ty5g.js","assets/l1teaxoievyk0rz1.js","assets/bc00p2ldn9cv9q32.js","assets/8ix1du5tuckfsvqq.js","assets/nbm98bu0q3774lnr.js","assets/i9ddjt6oaiw4vo4g.js","assets/hzasobp3hhjtq47p.js","assets/li0jizev2hqah27h.js","assets/cslz6wf1si9tisko.js","assets/oedzukfju6acynd1.js"])))=>i.map(i=>d[i]);
var pe=Object.defineProperty;var se=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var te=(s,e,a)=>e in s?pe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,F=(s,e)=>{for(var a in e||(e={}))je.call(e,a)&&te(s,a,e[a]);if(se)for(var a of se(e))we.call(e,a)&&te(s,a,e[a]);return s};import{h as Se,a as ve,e as Ne,j as t,L as oe,c as E,r as A,_ as Q,M as Pe}from"./bubexfvksfr7893o.js";import{u as B,gj as V,x as q,gx as Te,d as z,bX as Ce,h as He,cz as I,cr as re,z as ne,qZ as ye,q_ as _e,ei as Ae,bo as le,N as W,ea as ie,eB as de,cv as Ie,w as Oe,ke,J as ce,fQ as ze,gz as Re,aN as X,az as J,H as Ee,al as Be,dU as Le,ew as Me,q$ as We,ek as De,i8 as Ue,r as Fe,M as Ge,e4 as $e,hV as Qe,dg as Ve,kQ as qe,aA as he,aJ as Xe,V as Je}from"./ncw8zw682jinppua.js";import{br as Ke,am as Ye,lk as Ze,ay as ue,g1 as es,u as ss,ll as ts,ib as as,lm as os,ja as rs,hB as ns,gN as ls,hE as G,ln as is,hD as ae,el as ds,lo as cs,fz as hs,hI as us,ez as ms,jt as fs}from"./lm3g1zm00rp6al39.js";import{A as gs}from"./o45zl9yl00508gad.js";import{C as xs}from"./bc00p2ldn9cv9q32.js";import{a as bs}from"./dpidockywf8envd2.js";function me({projectResource:s}){var S;const e=Se(),a=B(),j=(S=s.gizmo)==null?void 0:S.id,o=V(a,j),f=q(ne),h=ve(),r=(()=>{const i=h.pathname.replace(/\/+$/,"");return/^\/g\/[^/]+\/project$/.test(i)})(),m=Te(s),n=s.gizmo.display.name,d=z(()=>ye(a,s)),b=z(()=>_e(a,s));if(!(o&&!f&&!r)||s.gizmo.gizmo_type!==Ce.PROJECT)return null;const w=n?e.formatMessage($.openProjectHome,{projectName:n}):e.formatMessage($.openProjectHomeFallback),u=He(a,s),c=t.jsx(Ye,{color:d,emoji:b,strict:!0,isSharedProject:m}),x=w,g=t.jsx(oe,{to:u,"aria-label":x,className:I("hover:bg-token-bg-tertiary focus-visible:outline-token-outline-primary text-token-text-secondary ms-2 inline-flex items-center justify-center rounded-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2","h-9 w-9"),children:c}),p=n!=null?n:e.formatMessage($.projectNameFallback);return t.jsxs("div",{className:"flex items-center",children:[t.jsx(re,{label:p,children:g}),t.jsx(Ke,{className:"icon-sm text-token-text-tertiary","aria-hidden":"true"})]})}const $=Ne({openProjectHome:{id:"threadHeader.openProjectHome",defaultMessage:"Open {projectName} project"},openProjectHomeFallback:{id:"threadHeader.openProjectHomeFallback",defaultMessage:"Open project home"},projectNameFallback:{id:"threadHeader.projectNameFallback",defaultMessage:"Project"}});function ps(s){"use forget";const e=E.c(22),{className:a,threadHeaderDropdown:j,conversationActions:o,superWidgetTabs:f,projectResource:h}=s,r=B(),m=Ae(),n=le(r);let d;e[0]!==r||e[1]!==m?(d=m&&!W(r),e[0]=r,e[1]=m,e[2]=d):d=e[2];const b=!d;let l;e[3]!==r||e[4]!==m?(l=m&&!W(r),e[3]=r,e[4]=m,e[5]=l):l=e[5];const w=!l;let u;e[6]!==f?(u=f!=null?f:t.jsx(Ze,{textClassName:"text-sm"}),e[6]=f,e[7]=u):u=e[7];const c=u;if(n){let p;e[8]!==b?(p=b&&t.jsx(gs,{}),e[8]=b,e[9]=p):p=e[9];const S=w&&j;let i;return e[10]!==a||e[11]!==o||e[12]!==h||e[13]!==p||e[14]!==S||e[15]!==c?(i=t.jsx(js,{className:a,conversationActions:o,sidebarOpenButton:p,threadHeaderDropdown:S,superWidgetTabs:c,projectResource:h}),e[10]=a,e[11]=o,e[12]=h,e[13]=p,e[14]=S,e[15]=c,e[16]=i):i=e[16],i}const x=w&&j;let g;return e[17]!==a||e[18]!==o||e[19]!==x||e[20]!==c?(g=t.jsx(ws,{className:a,conversationActions:o,threadHeaderDropdown:x,superWidgetTabs:c}),e[17]=a,e[18]=o,e[19]=x,e[20]=c,e[21]=g):g=e[21],g}function js(s){"use forget";const e=E.c(23),{className:a,conversationActions:j,sidebarOpenButton:o,threadHeaderDropdown:f,superWidgetTabs:h,projectResource:r}=s,m=A.useRef(null),n=A.useRef(null),d=A.useRef(null),b=A.useRef(null);let l,w;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{const T=m.current,C=n.current,H=d.current,P=b.current;if(!T||!C||!H||!P)return;const O=()=>{const k=T.getBoundingClientRect().width,R=H.getBoundingClientRect().width,D=C.getBoundingClientRect(),L=.5*(k-R),M=D.right>L;H.style.justifySelf=M?"start":"center"},y=new ResizeObserver(O);return y.observe(T,{box:"border-box"}),y.observe(C,{box:"border-box"}),y.observe(H,{box:"border-box"}),O(),()=>{y.disconnect()}},w=[],e[0]=l,e[1]=w):(l=e[0],w=e[1]),ie(l,w);let u;e[2]!==a?(u=I("h-header-height w-full px-2 sm:grid sm:grid-cols-[minmax(max-content,1fr)_auto_minmax(0,1fr)] sm:px-0",a),e[2]=a,e[3]=u):u=e[3];let c;e[4]!==r?(c=r?t.jsx(me,{projectResource:r}):null,e[4]=r,e[5]=c):c=e[5];let x;e[6]!==f?(x=t.jsx("div",{ref:n,children:f}),e[6]=f,e[7]=x):x=e[7];let g;e[8]!==o||e[9]!==c||e[10]!==x?(g=t.jsxs("div",{className:"z-10 col-start-1 row-start-1 hidden items-center self-center justify-self-start md:flex",children:[o,c,x]}),e[8]=o,e[9]=c,e[10]=x,e[11]=g):g=e[11];let p,S;e[12]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(ue,{className:"col-span-3 col-start-1 row-start-1 w-full",children:t.jsx("div",{className:"w-full",ref:b})}),S=I("no-scrollbar col-start-2 row-start-1 -mb-px h-full w-full min-w-0 overflow-x-auto overflow-y-hidden"),e[12]=p,e[13]=S):(p=e[12],S=e[13]);let i;e[14]!==h?(i=t.jsx("div",{className:S,ref:d,children:h}),e[14]=h,e[15]=i):i=e[15];let v;e[16]!==j?(v=t.jsx("div",{className:"col-start-3 row-start-1 hidden items-center justify-self-end overflow-visible md:flex",children:j}),e[16]=j,e[17]=v):v=e[17];let N;return e[18]!==v||e[19]!==u||e[20]!==g||e[21]!==i?(N=t.jsxs("div",{className:u,ref:m,children:[g,p,i,v]}),e[18]=v,e[19]=u,e[20]=g,e[21]=i,e[22]=N):N=e[22],N}function ws(s){"use forget";const e=E.c(17),{className:a,conversationActions:j,threadHeaderDropdown:o,superWidgetTabs:f}=s,h=A.useRef(null),r=A.useRef(null),m=A.useRef(null),n=A.useRef(null);let d,b;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{const S=h.current,i=r.current,v=m.current,N=n.current;if(!S||!i||!v||!N)return;const T=()=>{const H=S.getBoundingClientRect().width,P=v.getBoundingClientRect().width,O=i.getBoundingClientRect(),y=.5*(H-P),k=O.right>y;v.style.justifySelf=k?"start":"center"},C=new ResizeObserver(T);return C.observe(S,{box:"border-box"}),C.observe(i,{box:"border-box"}),C.observe(v,{box:"border-box"}),T(),()=>{C.disconnect()}},b=[],e[0]=d,e[1]=b):(d=e[0],b=e[1]),ie(d,b);let l;e[2]!==a?(l=I("h-header-height w-full px-2 sm:grid sm:grid-cols-[minmax(max-content,1fr)_auto_minmax(0,1fr)] sm:px-0",a),e[2]=a,e[3]=l):l=e[3];let w;e[4]!==o?(w=t.jsx("div",{className:"z-10 col-start-1 row-start-1 hidden self-center justify-self-start pe-2 md:flex",ref:r,children:o}),e[4]=o,e[5]=w):w=e[5];let u,c;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(ue,{className:"col-span-3 col-start-1 row-start-1 w-full",children:t.jsx("div",{className:"w-full",ref:n})}),c=I("no-scrollbar col-start-2 row-start-1 -mb-px h-full w-full min-w-0 overflow-x-auto overflow-y-hidden"),e[6]=u,e[7]=c):(u=e[6],c=e[7]);let x;e[8]!==f?(x=t.jsx("div",{className:c,ref:m,children:f}),e[8]=f,e[9]=x):x=e[9];let g;e[10]!==j?(g=t.jsx("div",{className:"col-start-3 row-start-1 hidden items-center justify-self-end overflow-visible md:flex",children:j}),e[10]=j,e[11]=g):g=e[11];let p;return e[12]!==l||e[13]!==w||e[14]!==x||e[15]!==g?(p=t.jsxs("div",{className:l,ref:h,children:[w,u,x,g]}),e[12]=l,e[13]=w,e[14]=x,e[15]=g,e[16]=p):p=e[16],p}const Ss=({clientThreadId:s})=>{const e=B(),a=de(c=>c.activeStageSidebar),j=es(Ie.WorkspaceShareLinks),o=!W(e),f=Oe(),h=ke(s),r=V(e,h);z(()=>r&&h?Re(e,h).gizmo$():null);const m=ce(e,"16480203"),n=ss(),d=ze(),b=q(X),l=j&&!o&&!f&&(!r||m)&&!n&&!d&&!b&&!0,w=!a,u=b;return t.jsx("div",{className:"flex items-center",id:"conversation-header-actions",children:t.jsx(xs,{showShareButton:l,showProfileDropdown:w,showConversationPrivacyIndicator:u,clientThreadId:s})})},vs=J(()=>Q(()=>import("./lm3g1zm00rp6al39.js").then(s=>s.z8),__vite__mapDeps([0,1,2,3,4])),{loading:s=>he(s)}),Ns=J(()=>Q(()=>import("./lm3g1zm00rp6al39.js").then(s=>s.zm),__vite__mapDeps([0,1,2,3,4])),{loading:s=>he(s)}),Ps=J(()=>Q(()=>import("./lavgv2cqxzmuuybx.js"),__vite__mapDeps([5,1,2,3,6,0,4,7,8,9,10,11,12,13,14,15,16,17])).then(s=>s.GizmoUsingAsOwnerNotice)),Ts="text-lg",Cs="icon-sm";function Es({conversation:s,transparentBackground:e,isEmptyState:a}){var K,Y,Z,ee;const j=ts(),o=B(),f=as(o),h=z(()=>Xe(s)),r=V(o,h),m=os(),{data:n}=Ee(h),d=Be(o),b=d==null?void 0:d.getWorkspaceId(),l=Le(),{data:w}=Me(b),u=(K=l==null?void 0:l.data.profilePictureUrl)!=null?K:null,c=(Y=l==null?void 0:l.data.name)!=null?Y:void 0,x=!!(l!=null&&l.isWorkspaceAccount()&&u&&((Z=w==null?void 0:w.beta_settings)!=null&&Z[We.SHOW_LOGO_IN_HEADER])),g=De(),p=Ue(),[S,i]=q(_=>[X(_),ne(_)]),v=Fe(s.id),N=de(_=>_.isConversationScrolledFromTop),T=Ge(s.id,Je.hasUserMessage)||!v,C=$e(),H=C&&p,P=rs()&&T&&!C,O=!h&&!P&&!i,{shouldShow:y,handleClose:k}=ns({clientThreadId:s.id,fromHeader:!0}),R=y&&!H,D=!W(o),L=t.jsx(ls,{clientThreadId:s.id,children:t.jsx(Ss,{clientThreadId:s.id})}),M=S&&!P?{textClassName:Ts,chevronClassName:Cs}:{},fe=P?t.jsx(ps,{projectResource:n!=null?n:void 0,threadHeaderDropdown:t.jsx(G,F({conversation:s},M)),conversationActions:L}):i?t.jsx(is,{clientThreadId:s.id}):g&&(r||!h)?t.jsx(G,{conversation:s}):t.jsx(G,F({conversation:s},M)),ge=(()=>{const _="[box-shadow:var(--sharp-edge-top-shadow)]",U="[box-shadow:var(--sharp-edge-top-shadow-placeholder)]";return S?Qe(o)?N?_:U:"":f?U+" group-data-scroll-from-top/thread:"+_:N?_:U})(),xe=z(()=>us(s).hasPinnedWidget$()),be=!!n&&!(le(o)&&P);return t.jsxs(t.Fragment,{children:[t.jsxs(ys,{id:"page-header",shouldHideHeaderOnSmallScreens:!P&&!i,shouldUseEmptyStateLayout:!!a&&!j,shouldStickSnorlaxNewThread:r&&v,shouldUseDefaultHeaderPositioning:O&&!j,shouldUseTransparentDefaultHeaderBackground:O&&!C&&!xe,shouldForceTransparentBackground:!!(e&&!C&&!P&&!i),shouldShowUpgradeStyles:N&&R,edgeShadowClass:ge,children:[!i&&!P&&t.jsxs("div",{className:"pointer-events-none absolute start-0 flex flex-col items-center gap-2 lg:start-1/2 ltr:-translate-x-1/2 rtl:translate-x-1/2",children:[n==null&&x&&u&&t.jsx(Ve,{src:u,alt:c!=null?c:""}),n!=null&&(d==null?void 0:d.isWorkspaceAccount())&&((ee=n.gizmo.tags)==null?void 0:ee.includes(qe.WorkspaceDisabled))&&t.jsx(Ps,{gizmo:n}),R&&t.jsx("div",{className:"hidden lg:block",children:t.jsx(ae,{onClose:k,clientThreadId:s.id})}),H&&t.jsx(bs,{})]}),t.jsxs("div",{className:I("flex",P||i?"w-full":"items-center"),children:[D&&!i&&ce(o,"2860321732")&&t.jsx(Hs,{}),be&&t.jsx(me,{projectResource:n}),fe,!i&&!P&&t.jsx("div",{className:"block lg:hidden",children:R?t.jsx(ae,{onClose:k,clientThreadId:s.id}):null})]}),!P&&!i&&t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(ds,{gizmoId:h,clientThreadId:s.id})}),t.jsx("div",{className:"flex items-center gap-2",children:L})]})]}),m&&t.jsx(cs,{})]})}const Hs=()=>{"use forget";const s=E.c(12),e=B();let a;s[0]!==e?(a=()=>X(e),s[0]=e,s[1]=a):a=s[1];const j=z(a),o=hs();let f;s[2]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(Pe,{id:"mG13YW",defaultMessage:"New chat"}),s[2]=f):f=s[2];const h=j&&"self-center";let r;s[3]!==h?(r=I("hover:bg-token-bg-tertiary group touch:h-10 flex aspect-square h-9 items-center justify-center rounded-[10px]",h),s[3]=h,s[4]=r):r=s[4];let m;s[5]!==e?(m=b=>{ms(e,b,{location:"Anon desktop header"})},s[5]=e,s[6]=m):m=s[6];let n;s[7]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsxs("div",{children:[t.jsx(Ns,{className:"icon-lg -m-1 group-hover:hidden"}),t.jsx(vs,{className:"icon not-group-hover:hidden"})]}),s[7]=n):n=s[7];let d;return s[8]!==o||s[9]!==r||s[10]!==m?(d=t.jsx(re,{label:f,contentClassName:"cant-hover:hidden",triggerAs:null,children:t.jsx(oe,{to:"/",state:o,className:r,onClick:m,children:n})}),s[8]=o,s[9]=r,s[10]=m,s[11]=d):d=s[11],d};function ys(s){"use forget";const e=E.c(14),{children:a,id:j,shouldHideHeaderOnSmallScreens:o,shouldUseEmptyStateLayout:f,shouldStickSnorlaxNewThread:h,shouldUseDefaultHeaderPositioning:r,shouldUseTransparentDefaultHeaderBackground:m,shouldForceTransparentBackground:n,shouldShowUpgradeStyles:d,edgeShadowClass:b,shouldDisableTransition:l}=s,u=(l===void 0?!1:l)?"transition-none motion-safe:transition-none":"motion-safe:transition",c=o&&"max-md:hidden",x=f&&"absolute start-0 end-0",g=h&&"sharp-edge-on-scroll-start sticky top-0",p=r&&"thread-xl:absolute thread-xl:start-0 thread-xl:end-0 thread-xl:shadow-none!",S=m&&"thread-xl:bg-transparent",i=n&&"bg-transparent",v=d&&"thread-xl:bg-token-main-surface-primary thread-xl:[box-shadow:var(--sharp-edge-top-shadow)]!";let N;e[0]!==b||e[1]!==u||e[2]!==c||e[3]!==x||e[4]!==g||e[5]!==p||e[6]!==S||e[7]!==i||e[8]!==v?(N=I("pointer-events-none select-none [view-transition-name:var(--vt-page-header)] *:pointer-events-auto",u,c,x,g,p,S,i,b,v),e[0]=b,e[1]=u,e[2]=c,e[3]=x,e[4]=g,e[5]=p,e[6]=S,e[7]=i,e[8]=v,e[9]=N):N=e[9];let T;return e[10]!==a||e[11]!==j||e[12]!==N?(T=t.jsx(fs,{id:j,className:N,children:a}),e[10]=a,e[11]=j,e[12]=N,e[13]=T):T=e[13],T}export{Ss as C,me as P,Es as T,ys as a};
//# sourceMappingURL=cyrjh6r9wv2bzsqv.js.map

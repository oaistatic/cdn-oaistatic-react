var P=Object.defineProperty,V=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var q=(s,e,t)=>e in s?P(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,R=(s,e)=>{for(var t in e||(e={}))C.call(e,t)&&q(s,t,e[t]);if(v)for(var t of v(e))O.call(e,t)&&q(s,t,e[t]);return s},I=(s,e)=>V(s,B(e));var T=(s,e)=>{var t={};for(var a in s)C.call(s,a)&&e.indexOf(a)<0&&(t[a]=s[a]);if(s!=null&&v)for(var a of v(s))e.indexOf(a)<0&&O.call(s,a)&&(t[a]=s[a]);return t};import{j as r,M as E,c as K,r as k,h as L}from"./bubexfvksfr7893o.js";import{cz as D,M as F,i7 as U,hO as W,aa as Y,V as _}from"./ncw8zw682jinppua.js";import{cp as $,cc as H,cq as J}from"./lm3g1zm00rp6al39.js";const Q={strong:s=>{const n=s,{node:e,children:t}=n,a=T(n,["node","children"]);return r.jsx("strong",I(R({},a),{className:D(a.className,"text-token-text-primary font-semibold"),children:t}))},p:s=>{const n=s,{node:e,children:t}=n,a=T(n,["node","children"]);return r.jsx("p",I(R({},a),{className:D(a.className,"text-sm","has-[strong]:mb-0 [&:not(:has(strong))]:mb-[18px]"),children:t}))}};function X({isCompletionRequestInProgress:s}){return r.jsx("div",{className:"bg-token-main-surface-primary text-token-text-tertiary flex h-full items-center justify-center px-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg",children:r.jsx(E,{id:"chatScreenSummarizerFlyout.noDetailsAvailable",defaultMessage:"No details available"})}),!s&&r.jsx("div",{className:"mt-2 text-base",children:r.jsx(E,{id:"chatScreenSummarizerFlyout.noSummaryAvailable",defaultMessage:"Occasionally, the model generates the best response without anything to summarize."})})]})})}function re(s){"use forget";const e=K.c(19),{conversation:t,sidebar:a}=s,{currentGroupedMessageIndex:n,turnIndex:m}=a;let u;e[0]!==m?(u=N=>[_.getRequestId(N),N&&m>=0?_.getConversationTurnAtIndex(N,m):void 0],e[0]=m,e[1]=u):u=e[1];const[z,x]=F(t.id,u),A=x==null?void 0:x.messageGroups,j=n!==void 0&&A?A[n]:void 0,o=j&&j.type===U.a8km123?j.messages:void 0;let f;e[2]!==o?(f=o==null?void 0:o.map(Z).join("\n\n"),e[2]=o,e[3]=f):f=e[3];const i=f,w=F(t.id,_.isMessageTurnEnded),G=W(z),M=z&&G&&!w,y=k.useRef(null),S=L();let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})},e[4]=h):h=e[4];let p;if(e[5]!==i?(p=[i],e[5]=i,e[6]=p):p=e[6],k.useEffect(h,p),!x||!(o!=null&&o.length))return null;let l;e[7]!==S?(l=S.formatMessage({id:"region.sidebar.details",defaultMessage:"Details"}),e[7]=S,e[8]=l):l=e[8];let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g=r.jsx("span",{className:"w-full text-[17px] font-medium",children:r.jsx(E,{id:"sidebar-details",defaultMessage:"Details"})}),e[9]=g):g=e[9];let c;e[10]!==t?(c=()=>$(t),e[10]=t,e[11]=c):c=e[11];let d;e[12]!==M||e[13]!==i?(d=i?r.jsxs("div",{id:"sidebar-summarizer",className:"bg-token-main-surface-primary max-h-full overflow-y-auto px-6 pt-4",children:[r.jsx(H,{componentOverrides:Q,className:"not-prose",children:i}),r.jsx("div",{ref:y})]}):r.jsx(X,{isCompletionRequestInProgress:!!M}),e[12]=M,e[13]=i,e[14]=d):d=e[14];let b;return e[15]!==l||e[16]!==c||e[17]!==d?(b=r.jsx("div",{className:"bg-token-main-surface-primary!",children:r.jsx(J,{ariaLabel:l,leading:g,handleClose:c,children:d})}),e[15]=l,e[16]=c,e[17]=d,e[18]=b):b=e[18],b}function Z(s){return Y(s)}export{re as ChatScreenSummarizerFlyout,X as ChatScreenSummarizerNullState,Q as SIDEBAR_SUMMARY_MARKDOWN_COMPONENT_OVERRIDES};
//# sourceMappingURL=ow04nvtt94m1zney.js.map

var y=Object.defineProperty;var R=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var C=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,T=(o,e)=>{for(var t in e||(e={}))S.call(e,t)&&C(o,t,e[t]);if(R)for(var t of R(e))b.call(e,t)&&C(o,t,e[t]);return o};import{y as x,ae as E,a5 as $,r as w}from"./bubexfvksfr7893o.js";import{u as I,a4 as v,g as N,l as O,aw as P,ay as A,nN as G}from"./ncw8zw682jinppua.js";import{f as L,h as j}from"./lm3g1zm00rp6al39.js";import"./c929hhheh8pnurrs.js";import"./b3zmi7k0e1dvao0m.js";import"./ekj7v0hd90m9gfgd.js";import"./hzasobp3hhjtq47p.js";import"./i0yczuhbjrdxz6ve.js";import"./bc00p2ldn9cv9q32.js";import"./8ix1du5tuckfsvqq.js";import"./fwn4bwvyx3h4ty5g.js";import"./l1teaxoievyk0rz1.js";import"./nbm98bu0q3774lnr.js";import"./i9ddjt6oaiw4vo4g.js";import"./dpidockywf8envd2.js";import"./fvq06q6sopd9r6rx.js";import"./j703u6xl4odnuo39.js";import"./me0ap2djy50z6upd.js";import"./fum95d46v8d5jv8u.js";import"./n2u3q2i5341kdx8j.js";const nt=()=>[{title:"ChatGPT"}],at=()=>!1;function k(o){var p,m,c,l,u,f,h,_,g;const e={},t="client-created-root";e[t]={id:t,message:{id:t,author:{role:A.Root},content:{content_type:P.Text,parts:[]}},parent:"",children:[]};let r=t;const d=[],a=new Set;for(const s of o.messages)a.add(s.id);for(const s of o.messages){let i=(m=(p=s.metadata)==null?void 0:p.parent_id)!=null?m:r;a.has(i)||(i=r),e[s.id]={id:s.id,message:s,parent:i,children:[]},r=s.id,d.push(...(l=(c=s.metadata)==null?void 0:c.safe_urls)!=null?l:[])}for(const[s,i]of Object.entries(e))i.parent!==""&&((f=(u=e[i.parent])==null?void 0:u.children)==null||f.push(s));const n=(h=o.conversation_id)!=null?h:o.id;return T({title:(_=o.title)!=null?_:null,conversation_id:n,mapping:e,current_node:r,moderation_results:[],safe_urls:(g=o.safe_urls)!=null?g:d},G(o,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember"))}const it=x(function(){var p;const e=I(),t=E(),r=$(),d=t!=null?t:r;v.debug("IN: POST=".concat(t==null?void 0:t.length,", GET=").concat(r==null?void 0:r.length));const a=JSON.parse(d),n=(p=a.conversation_id)!=null?p:a.id;return N(e,n,{sharedConversationId:n}),w.useEffect(()=>{const m=k(a);L(n,m),j(n),O(n,c=>{c.continuingFromSharedConversationId=n})},[]),v.debug("Ready ".concat(n," (SERVER: false) : ").concat(d.length," byte(s)")),null});export{it as default,nt as meta,at as shouldRevalidate};
//# sourceMappingURL=m8sdcgp2o408xhh7.js.map

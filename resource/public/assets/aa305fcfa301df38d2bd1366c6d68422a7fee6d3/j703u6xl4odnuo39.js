const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lm3g1zm00rp6al39.js","assets/bubexfvksfr7893o.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/conversation-small-lq38g8zw.css","assets/m7ky6cnx5e7w4637.js","assets/j4cpzybta3my41wg.js","assets/fwn4bwvyx3h4ty5g.js","assets/l1teaxoievyk0rz1.js","assets/imwr51rn5ig1qbbo.js","assets/kivvchsexr54fuso.js","assets/eoiorf2tj4fcurgb.js","assets/i1osgu9vuflwjzxh.js","assets/n8lx8e4q0czhsp1o.js","assets/byl20jb73b2ubrut.js","assets/day0eq8ejtzre5iu.js","assets/zqv59oidvge8f4ro.js","assets/ezy6n48j7a81l4k0.js","assets/lvqor23r3netsa7d.js","assets/nbrjep5yk15f1ntt.js","assets/ddrnnlwwkggzz2ny.js","assets/2bue6viisekmmpia.js","assets/mcysfy6v18mi457y.js","assets/9kg8fj3phaeaomhr.js","assets/lbs6y9j3ldmqpk4s.js","assets/ioom1cwgjgkzhe2w.js","assets/bxgk09qvxvkate6l.js","assets/kmfcnx25ea49kkwd.js","assets/j51b3b8y7dx543la.js","assets/gy1lpvuoewmzh42c.js","assets/gqlpgmzguho9n5oh.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js"])))=>i.map(i=>d[i]);
var $i=Object.defineProperty,qi=Object.defineProperties;var Vi=Object.getOwnPropertyDescriptors;var Ja=Object.getOwnPropertySymbols;var Ji=Object.prototype.hasOwnProperty,Ki=Object.prototype.propertyIsEnumerable;var Ka=(t,e,o)=>e in t?$i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,ht=(t,e)=>{for(var o in e||(e={}))Ji.call(e,o)&&Ka(t,o,e[o]);if(Ja)for(var o of Ja(e))Ki.call(e,o)&&Ka(t,o,e[o]);return t},Vt=(t,e)=>qi(t,Vi(e));import{h as kt,d as Qo,r as M,j as s,M as Bt,e as ks,c as Rt,_ as et,o as Yi,a as Qi,ac as Xi}from"./bubexfvksfr7893o.js";import{u as ze,_ as ct,aP as us,au as ps,gH as Zi,kx as el,a6 as re,e8 as Xo,mg as Ts,cz as it,dR as tl,az as tt,N as ss,r as On,M as Nt,dl as Zo,da as sl,ak as Yt,bd as Ln,J as Et,aA as At,V as lt,br as ms,al as Un,tA as ol,kj as ea,d as ue,aB as Ya,d$ as al,dS as As,mf as nl,x as so,tB as rl,z as Wt,bk as Fn,g as Zs,ea as Ho,c8 as oo,ee as il,jb as ao,n as zn,tC as ll,bs as Go,ay as Hn,bM as cl,fp as dl,fk as ul,jy as Gn,qo as pl,aH as eo,eM as ta,gc as ml,eI as fl,tD as gl,tE as _l,tF as hl,gC as sa,jF as yl,gZ as bl,jG as xl,kQ as oa,qk as Wn,qm as Sl,eK as aa,l as Jt,dM as wl,dN as $n,jC as Ze,k9 as Cl,kp as qn,lx as Ml,tG as Wo,fz as Ht,iT as kl,iU as Tl,iW as Al,iS as Il,cp as Vn,jn as vl,eH as rt,k8 as Kt,iw as Pl,cr as na,i_ as El,tH as Rl,fd as Jn,tI as jl,tJ as $s,kS as Eo,eP as Dl,tK as Bl,tL as Nl,tM as Ol,gD as Ll,y as Ul,kO as Fl,j6 as ra,fy as Kn,fi as Yn,cf as Gt,tN as Qn,dX as zl,dY as ws,O as $o,d_ as Ye,dQ as Xn,tO as no,Y as to,dU as Zn,tP as ia,dZ as os,oB as Qa,fs as er,tQ as Xa,la as Hl,p6 as tr,tR as la,ks as ca,p as sr,tS as Gl,p7 as Wl,tT as $l,qp as ql,le as Vl,tU as da,fm as ua,mF as Jl,rE as Kl,ld as or,i3 as qo,e7 as Yl,tV as Ql,tW as Xl,tX as Zl,l7 as ec,fo as tc,tY as sc,tZ as oc,e0 as ac,fE as nc,t_ as rc,qe as ar,l2 as nr,g9 as rr,t$ as ic,pq as ir,aD as lc,lo as Vo,c9 as cc,f3 as Za,f4 as Ro,gl as dc,gk as uc,gn as pc,b_ as jo,k4 as mc,cu as fc,w as gc,u0 as _c,b9 as hc,u1 as yc,bp as bc,kN as xc,j4 as Sc,aV as wc,aW as Cc,ba as Jo,mm as Mc,q7 as kc,jA as lr,u2 as Tc,fx as Ac,gW as Ic,u3 as vc,c3 as en,kZ as Pc,bh as Ec,hy as Rc,l5 as tn,u4 as sn,g8 as jc,ga as Dc,ce as Bc,c5 as Do,c4 as Nc,px as Oc,l3 as on,c2 as Lc,u5 as Uc,u6 as Fc,P as Bo,a2 as an,fw as nn,jU as qs,u7 as zc,u8 as rn,nf as Hc,ka as Gc,pA as Wc,cn as ln,py as $c,pz as qc,hH as Vc,j8 as Vs,B as cn,lc as Jc,es as Kc,gQ as No,u9 as dn,$ as Oo,a0 as Lo,ua as un,Q as Yc,ca as pn,lp as Qc,iz as Xc,ub as Zc,kD as ed,uc as td,jJ as sd,f9 as od,ud as ad,iu as mn,qV as nd,jH as fn,ue as rd,fX as id,L as ld,uf as cd,ug as dd,uh as ud,D as pd,jD as cr,sJ as md,eW as gn,k$ as fd,ke as gd,H as _d,g4 as hd,gj as yd,eN as bd,mL as xd}from"./ncw8zw682jinppua.js";import{qM as Sd,qN as Uo,aF as wd,aG as Cd,aH as dr,aI as Cs,qO as _n,qP as Md,iB as Ue,qQ as ur,qR as kd,qS as Td,nD as Ad,aN as xs,aA as as,qT as Id,j as vd,qU as Pd,nu as pr,qV as Ed,n_ as Rd,qW as mr,mu as hn,jA as fr,qX as jd,qY as Dd,j6 as It,j8 as fs,qZ as H,q_ as Bd,q$ as Nd,M as Od,r0 as Ld,jj as yn,r1 as gr,r2 as Ud,r3 as Fd,r4 as bn,r5 as zd,r6 as Hd,r7 as Gd,r8 as Wd,r9 as $d,ra as qd,rb as Vd,rc as Jd,rd as Kd,re as Yd,rf as Qd,rg as xn,rh as Xd,ri as Zd,rj as eu,rk as tu,rl as su,rm as ou,rn as au,ro as nu,rp as ru,rq as iu,fy as lu,rr as cu,rs as du,rt as uu,ru as pu,jD as mu,ku as fu,rv as gu,rw as _u,rx as hu,ry as yu,rz as bu,rA as xu,rB as Su,rC as wu,rD as Cu,rE as Mu,rF as ku,rG as Tu,rH as Au,rI as Iu,rJ as vu,rK as Pu,rL as Eu,rM as Ru,rN as ju,rO as Du,rP as Bu,rQ as Nu,fN as Ou,rR as _r,nH as Lu,rS as Uu,rT as Fu,rU as zu,rV as Hu,jk as Gu,fI as hr,rW as Sn,rX as Ko,gz as yr,bA as br,rY as Wu,rZ as $u,r_ as qu,bs as Vu,hU as wn,kS as Qs,r$ as Ss,s0 as Ju,s1 as xr,s2 as Ku,s3 as Yu,s4 as Qu,s5 as Xu,s6 as Zu,s7 as ep,bq as Ms,bE as tp,s8 as sp,s9 as op,sa as ap,sb as np,mP as rp,sc as ip,sd as Cn,se as Sr,sf as lp,sg as cp,c7 as wr,sh as Cr,si as Mr,sj as kr,sk as Fo,sl as dp,sm as up,sn as zo,so as pp,sp as mp,sq as fp,m0 as gp,sr as Yo,ss as _p,st as hp,su as yp,sv as Tr,sw as bp,sx as xp,sy as Sp,sz as Mn,sA as wp,sB as Cp,sC as Mp,sD as kp,sE as Tp,P as kn,sF as Ap,sG as Ip,sH as _s,ll as vp,sI as Pp,sJ as Ep,gb as Rp,sK as jp,gd as Dp,sL as Bp,lX as Np,sM as Op,sN as Lp,sO as Up,sP as Fp,sQ as zp,g_ as Hp,h0 as Tn,sR as An,sS as Gp,sT as Wp,sU as $p,sV as qp,c8 as Vp,jL as Jp,gL as Kp,mc as Yp,sW as Qp,sX as Xp,sY as In,gs as hs,sZ as ds,s_ as vn,n9 as Zp,o2 as Pn,s$ as em,t0 as tm,t1 as sm,t2 as om,t3 as En,t4 as am,gm as nm,t5 as rm,t6 as im,l8 as lm,l9 as cm,la as dm,t7 as um,nx as pm,t8 as mm,hI as fm,t9 as gm,mV as yt,ta as _m,tb as hm,tc as ym,td as bm,te as xm,tf as Sm,tg as Js,th as wm,aW as Cm,fK as Mm,ti as km,tj as Tm,tk as Am,tl as Im,tm as vm,tn as Pm,to as Em,tp as Rm,tq as jm,tr as Dm,ts as Bm,tt as Nm,tu as Om,tv as Lm,tw as Um,tx as Fm,gG as zm,kg as Hm,d8 as Gm,cK as Wm,ty as $m,tz as qm,tA as Vm,tB as Jm,tC as Km,kD as Ym}from"./lm3g1zm00rp6al39.js";import{P as Qm,u as Xm}from"./me0ap2djy50z6upd.js";import{P as Zm}from"./i9ddjt6oaiw4vo4g.js";import{b as ef}from"./fwn4bwvyx3h4ty5g.js";import{P as tf,u as sf,h as of}from"./fum95d46v8d5jv8u.js";import{u as af}from"./n2u3q2i5341kdx8j.js";function nf(){const t=ze(),e=kt(),o=Qo(),{shouldShowBanner:a,referralCode:n,discountValue:l,discountDuration:r}=Sd();if(M.useEffect(()=>{a&&n&&l&&r&&(Uo.logShowRefereeRedemptionBanner(n),ct.logUpsellOrModalEvent(wd,{eventId:"referee_redemption_announcement_banner_shown",type:Cd.UPSELL_OR_MODAL_TYPE_NUX_BANNER}))},[a,n,l,r]),!a||!l||!r)return null;const i=rf(e,l,r);return s.jsx(dr,{onPrimaryCtaClick:()=>{Cs(t,_n),Uo.logClickRefereeRedeemButton(n),us.removeItem(ps.ReferralCode),o(Md(n))},primaryCtaText:s.jsx(Bt,{id:"refereeRedemptionBannerPrimaryCta",defaultMessage:"Redeem"}),onDismiss:()=>{Cs(t,_n),Uo.logCloseRefereeRedemptionBanner(n),us.removeItem(ps.ReferralCode)},title:i,content:s.jsx(Bt,{id:"xoQacW",defaultMessage:"Verify you are a student to get your first month of Plus for free."})})}function rf(t,e,o){var r,i;const n=(i=(r=Zi(e.currency_code).code.defaultMessage)==null?void 0:r.toString())!=null?i:el,l=t.formatNumber(e.value,{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:2});return e.value===Zm?s.jsx(Bt,{id:"refereeRedemptionFree",defaultMessage:"Finish redeeming your free month of Plus"}):s.jsx(Bt,{id:"refereeRedemptionDiscount",defaultMessage:"Get ChatGPT Plus for {discount} off for the {months, plural, one {first month} other {first # months}}.",values:{discount:l,months:o.num_periods}})}const E=ks({personal_trainer_title:{id:"curated-starter-prompts.personal_trainer.title-2",defaultMessage:"Be my personal trainer"},personal_trainer_body:{id:"curated-starter-prompts.personal_trainer.body-3",defaultMessage:"Create a strength training plan"},personal_trainer_prompt:{id:"curated-starter-prompts.personal_trainer.prompt",defaultMessage:"Create a strength training plan with daily check-ins and guidance on exercises, sets, and progression."},upgrade_skin_care_title:{id:"curated-starter-prompts.upgrade_skin_care.title",defaultMessage:"Upgrade my skin care"},upgrade_skin_care_body:{id:"curated-starter-prompts.upgrade_skin_care.body",defaultMessage:"Use my selfie for skincare tips"},upgrade_skin_care_prompt:{id:"curated-starter-prompts.upgrade_skin_care.prompt",defaultMessage:"I want good advice with skin care and makeup. Based on a selfie, get me advice for skin and hair, along with any products. Ask for a selfie if not provided."},is_this_scam_title:{id:"curated-starter-prompts.is_this_scam.title",defaultMessage:"Is this text a scam?"},is_this_scam_body:{id:"curated-starter-prompts.is_this_scam.body",defaultMessage:"Tell me if this text is a scam"},is_this_scam_prompt:{id:"curated-starter-prompts.is_this_scam.prompt",defaultMessage:"I just got this weird text message. Here's a screenshot. Do you think itâ€™s a scam or some kind of phishing attempt?"},motivate_me_title:{id:"curated-starter-prompts.motivate_me.title",defaultMessage:"Motivate me"},motivate_me_body:{id:"curated-starter-prompts.motivate_me.body-2",defaultMessage:"Help with procrastination"},motivate_me_prompt:{id:"curated-starter-prompts.motivate_me.prompt",defaultMessage:"I'm struggling to get started. Motivate me. Break things down into the very small tasks to make it easy. Ask me questions for context."},meal_prep_title:{id:"curated-starter-prompts.meal_prep.title",defaultMessage:"Simplify meal prep"},meal_prep_body:{id:"curated-starter-prompts.meal_prep.body-2",defaultMessage:"Create a protein-packed meal plan"},meal_prep_prompt:{id:"curated-starter-prompts.meal_prep.prompt",defaultMessage:"Create a plan for meal prep with a grocery list. I want more protein and less carbs. I have a limited budget. Keep it simple."},morning_routine_title:{id:"curated-starter-prompts.morning_routine.title",defaultMessage:"Build my morning routine"},morning_routine_body:{id:"curated-starter-prompts.morning_routine.body-2",defaultMessage:"Build a morning routine for focus"},morning_routine_prompt:{id:"curated-starter-prompts.morning_routine.prompt",defaultMessage:"Help me build a better morning routine. I want to start my days with more focus. Be my coach and keep me honest."},budget_title:{id:"curated-starter-prompts.budget.title",defaultMessage:"Make my budget"},budget_body:{id:"curated-starter-prompts.budget.body",defaultMessage:"Make my weekly budget"},budget_prompt:{id:"curated-starter-prompts.budget.prompt",defaultMessage:"I want to get control of my bills. Here's what is due, my monthly paycheck, other expenses. I'd like help getting on top of this and then trying to save some money."},color_theory_title:{id:"curated-starter-prompts.color_theory.title",defaultMessage:"Do my color theory analysis"},color_theory_body:{id:"curated-starter-prompts.color_theory.body",defaultMessage:"Do my color theory analysis"},color_theory_prompt:{id:"curated-starter-prompts.color_theory.prompt",defaultMessage:"Take a look at this picture of me. Using color theory, tell me my season and suggest my best colors for clothing and makeup. Ask for a picture if not provided."},fix_procrastination_title:{id:"curated-starter-prompts.fix_procrastination.title-2",defaultMessage:"Help with procrastination"},fix_procrastination_body:{id:"curated-starter-prompts.fix_procrastination.body",defaultMessage:"Help me start a project I put off"},fix_procrastination_prompt:{id:"curated-starter-prompts.fix_procrastination.prompt",defaultMessage:"I'm struggling to get started. Motivate me. Break things down into the very small tasks to make it easy. Ask me questions for context."},decode_this_text_message_title:{id:"curated-starter-prompts.decode_this_text_message.title",defaultMessage:"Decode this text message"},decode_this_text_message_body:{id:"curated-starter-prompts.decode_this_text_message.body",defaultMessage:"Decode this text message"},decode_this_text_message_prompt:{id:"curated-starter-prompts.decode_this_text_message.prompt",defaultMessage:"Decode this text and explain possible intentions behind it. I want to understand what the person might really mean."},help_me_get_recognized_title:{id:"curated-starter-prompts.help_me_get_recognized.title",defaultMessage:"Help me get recognized"},help_me_get_recognized_body:{id:"curated-starter-prompts.help_me_get_recognized.body",defaultMessage:"Help me get recognition for my work"},help_me_get_recognized_prompt:{id:"curated-starter-prompts.help_me_get_recognized.prompt",defaultMessage:"I'm not getting recognized for everything I'm doing. Be my personal coach. Ask me questions and help me advocate for myself."},anime_style_portrait_title:{id:"curated-starter-prompts.anime_style_portrait.title",defaultMessage:"Anime-style portrait"},anime_style_portrait_body:{id:"curated-starter-prompts.anime_style_portrait.body",defaultMessage:"Make an anime-style portrait of me"},anime_style_portrait_prompt:{id:"curated-starter-prompts.anime_style_portrait.prompt-2",defaultMessage:"Recreate this photo in a playful anime style. Ask for a photo if not provided."},action_figure_portrait_title:{id:"curated-starter-prompts.action_figure_portrait.title",defaultMessage:"Action figure portrait"},action_figure_portrait_body:{id:"curated-starter-prompts.action_figure_portrait.body",defaultMessage:"Turn me into an action figure"},action_figure_portrait_prompt:{id:"curated-starter-prompts.action_figure_portrait.prompt",defaultMessage:"Use my photo to create a 3D superhero action figure of me. Label the box and include my pet as a sidekick. Ask for my name and picture if not provided."},b_w_raindrop_portrait_title:{id:"curated-starter-prompts.b_w_raindrop_portrait.title-2",defaultMessage:"Cinematic raindrop portrait"},b_w_raindrop_portrait_body:{id:"curated-starter-prompts.b_w_raindrop_portrait.body-2",defaultMessage:"Make a cinematic raindrop portrait"},b_w_raindrop_portrait_prompt:{id:"curated-starter-prompts.b_w_raindrop_portrait.prompt-2",defaultMessage:"Make this photo a black and white portrait of the subject emerging from water. Make it feel cinematic. Ask for a photo if not provided."},b_w_studio_portrait_title:{id:"curated-starter-prompts.b_w_studio_portrait.title",defaultMessage:"Studio Portrait in B&W"},b_w_studio_portrait_body:{id:"curated-starter-prompts.b_w_studio_portrait.body",defaultMessage:"Make a studio portrait in B&W"},b_w_studio_portrait_prompt:{id:"curated-starter-prompts.b_w_studio_portrait.prompt",defaultMessage:"Fashion photography portrait, black and white. high fashion, editorial lighting, cinematic."},create_a_puppet_title:{id:"curated-starter-prompts.create_a_puppet.title",defaultMessage:"Create a puppet"},create_a_puppet_body:{id:"curated-starter-prompts.create_a_puppet.body",defaultMessage:"Create a puppet"},create_a_puppet_prompt:{id:"curated-starter-prompts.create_a_puppet.prompt",defaultMessage:"Make a puppet from this photo. Ask for a photo if not provided."},document_summary_title:{id:"curated-starter-prompts.document_summary.title",defaultMessage:"Read this document"},document_summary_body:{id:"curated-starter-prompts.document_summary.body",defaultMessage:"Read this document"},document_summary_prompt:{id:"curated-starter-prompts.document_summary.prompt",defaultMessage:"Give me the key points from this document. Start simple, and I'll ask follow-up questions. Ask for a document if not provided."},recommend_a_movie_title:{id:"curated-starter-prompts.recommend_a_movie.title",defaultMessage:"Recommend a movie"},recommend_a_movie_body:{id:"curated-starter-prompts.recommend_a_movie.body",defaultMessage:"Recommend a movie"},recommend_a_movie_prompt:{id:"curated-starter-prompts.recommend_a_movie.prompt",defaultMessage:"What are well-reviewed movies I should watch tonight? I love action and comedies."},create_a_quiz_title:{id:"curated-starter-prompts.create_a_quiz.title",defaultMessage:"Create a quiz"},create_a_quiz_body:{id:"curated-starter-prompts.create_a_quiz.body",defaultMessage:"Create a quiz"},create_a_quiz_prompt:{id:"curated-starter-prompts.create_a_quiz.prompt",defaultMessage:"I have an exam this week. Create a quiz based on my notes and ask questions one at a time."},language_coach_spanish_title:{id:"curated-starter-prompts.language_coach_spanish.title",defaultMessage:"Be my language coach"},language_coach_spanish_body:{id:"curated-starter-prompts.language_coach_spanish.body",defaultMessage:"Help me practice Spanish vocabulary and gently correct my mistakes."},language_coach_spanish_prompt:{id:"curated-starter-prompts.language_coach_spanish.prompt",defaultMessage:"I'm trying to master some Spanish vocabulary before traveling to Mexico. Can you practice with me and gently correct my mistakes when I get something wrong?"},friendly_text_roommate_title:{id:"curated-starter-prompts.friendly_text_roommate.title",defaultMessage:"Make this text sound friendlier"},friendly_text_roommate_body:{id:"curated-starter-prompts.friendly_text_roommate.body",defaultMessage:"Make this text to my roommate kinder, please"},friendly_text_roommate_prompt:{id:"curated-starter-prompts.friendly_text_roommate.prompt",defaultMessage:"My roommate plays heavy metal music really loud late at night. Can you draft a friendly text that asks him to turn it down after 10 PM?"},packing_list_camping_title:{id:"curated-starter-prompts.packing_list_camping.title",defaultMessage:"Make a packing list"},packing_list_camping_body:{id:"curated-starter-prompts.packing_list_camping.body",defaultMessage:"Create a minimal packing list for a camping trip"},packing_list_camping_prompt:{id:"curated-starter-prompts.packing_list_camping.prompt",defaultMessage:"I'm planning on going camping for the first time with friends this weekend and don't have much room to bring stuff with me. Can you create a packing list with just the bare essentials?"},gift_under_20_title:{id:"curated-starter-prompts.gift_under_20.title",defaultMessage:"Find a great gift under $20"},gift_under_20_body:{id:"curated-starter-prompts.gift_under_20.body",defaultMessage:"Give me gift ideas under $20 for a friend"},gift_under_20_prompt:{id:"curated-starter-prompts.gift_under_20.prompt",defaultMessage:"My friend loves kpop music and they have a birthday coming up. Can you recommend a gift for them that's under $20?"},plan_game_night_mystery_title:{id:"curated-starter-prompts.plan_game_night_mystery.title",defaultMessage:"Plan a game night"},plan_game_night_mystery_body:{id:"curated-starter-prompts.plan_game_night_mystery.body",defaultMessage:"Plan a themed game night with six friends"},plan_game_night_mystery_prompt:{id:"curated-starter-prompts.plan_game_night_mystery.prompt",defaultMessage:"I want to host a murder mystery party with my friends. Can you help plan the mystery and suggest fun food and drinks to serve?"},decluttering_plan_4_weeks_title:{id:"curated-starter-prompts.decluttering_plan_4_weeks.title",defaultMessage:"Make a decluttering plan"},decluttering_plan_4_weeks_body:{id:"curated-starter-prompts.decluttering_plan_4_weeks.body",defaultMessage:"Create a 4 week, 10 mins-per-day decluttering plan"},decluttering_plan_4_weeks_prompt:{id:"curated-starter-prompts.decluttering_plan_4_weeks.prompt",defaultMessage:"I want to have more kitchen countertop space. Can you help me create a decluttering plan so I can make more space? I only want to spend 10 minutes per day on it over the next 4 weeks."},fridge_recipes_three_title:{id:"curated-starter-prompts.fridge_recipes_three.title",defaultMessage:"Recipes for what's in my fridge"},fridge_recipes_three_body:{id:"curated-starter-prompts.fridge_recipes_three.body",defaultMessage:"Give me 3 quick recipes with chicken, lettuce, and salsa"},fridge_recipes_three_prompt:{id:"curated-starter-prompts.fridge_recipes_three.prompt",defaultMessage:"I'm stumped on what to make for dinner. Can you create three easy recipes for me based on the leftover chicken, lettuce, and cheese I have in my fridge?"},desk_stretch_routine_title:{id:"curated-starter-prompts.desk_stretch_routine.title",defaultMessage:"Make a daily desk stretch routine"},desk_stretch_routine_body:{id:"curated-starter-prompts.desk_stretch_routine.body",defaultMessage:"Draft a desk-friendly, 5-minute stretch routine"},desk_stretch_routine_prompt:{id:"curated-starter-prompts.desk_stretch_routine.prompt",defaultMessage:"I have a lot of back pain at my desk job. Can you suggest some 5-minute stretches that I can do discreetly at the office?"},prep_for_appointment_title:{id:"curated-starter-prompts.prep_for_appointment.title",defaultMessage:"Prep for an appointment"},prep_for_appointment_body:{id:"curated-starter-prompts.prep_for_appointment.body",defaultMessage:"Write questions + checklist for my PT visit"},prep_for_appointment_prompt:{id:"curated-starter-prompts.prep_for_appointment.prompt",defaultMessage:"I have a mild cough and a runny nose. Help me prep for my doctor's visit with a checklist."},decode_bill_title:{id:"curated-starter-prompts.decode_bill.title",defaultMessage:"Decode this bill"},decode_bill_body:{id:"curated-starter-prompts.decode_bill.body",defaultMessage:"Explain this charge and what I owe, simply."},decode_bill_prompt:{id:"curated-starter-prompts.decode_bill.prompt",defaultMessage:"I'll upload my bill. Help me understand why I was charged this amount and how much I owe in plain language."},decision_pros_cons_title:{id:"curated-starter-prompts.decision_pros_cons.title",defaultMessage:"Help me make a decision"},decision_pros_cons_body:{id:"curated-starter-prompts.decision_pros_cons.body",defaultMessage:"Compare A vs B: give me pros, cons, and a recommendation"},decision_pros_cons_prompt:{id:"curated-starter-prompts.decision_pros_cons.prompt",defaultMessage:"I'm trying to decide what to buy. Can you give me pros, cons and a recommendation?"},organize_notes_title:{id:"curated-starter-prompts.organize_notes.title",defaultMessage:"Organize my notes"},organize_notes_body:{id:"curated-starter-prompts.organize_notes.body",defaultMessage:"Turn these notes into an outline + actions."},organize_notes_prompt:{id:"curated-starter-prompts.organize_notes.prompt",defaultMessage:"Summarize this document and give me a list of key points and action items"},excel_shortcuts_cheatsheet_title:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.title",defaultMessage:"Write an Excel cheat sheet"},excel_shortcuts_cheatsheet_body:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.body",defaultMessage:"Write a one-page Excel shortcuts cheat sheet."},excel_shortcuts_cheatsheet_prompt:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.prompt",defaultMessage:"I'm trying to get better at making spreadsheets. Can you make me a one-page cheat sheet to help me be more productive?"},presentation_outline_title:{id:"curated-starter-prompts.presentation_outline.title",defaultMessage:"Start a presentation outline"},presentation_outline_body:{id:"curated-starter-prompts.presentation_outline.body",defaultMessage:"Outline a 6-slide deck with key points"},presentation_outline_prompt:{id:"curated-starter-prompts.presentation_outline.prompt",defaultMessage:"I'm putting together a presentation on the digestive system for school. Outline a 6-slide deck with key points to help me get started."},social_media_captions_title:{id:"curated-starter-prompts.social_media_captions.title",defaultMessage:"Draft social media captions"},social_media_captions_body:{id:"curated-starter-prompts.social_media_captions.body",defaultMessage:"Write 5 short captions for a summer trip Instagram post"},social_media_captions_prompt:{id:"curated-starter-prompts.social_media_captions.prompt",defaultMessage:"Here's an Instagram campaign I'm running. Write short captions for each of the images."},true_crime_watch_list_title:{id:"curated-starter-prompts.true_crime_watch_list.title",defaultMessage:"Make a true crime watch list"},true_crime_watch_list_body:{id:"curated-starter-prompts.true_crime_watch_list.body",defaultMessage:"Recommend true crime books, videos, and podcasts"},true_crime_watch_list_prompt:{id:"curated-starter-prompts.true_crime_watch_list.prompt",defaultMessage:"Recommend books, videos, and podcasts about true crime that I might like."},help_me_translate_title:{id:"curated-starter-prompts.help_me_translate.title",defaultMessage:"Help me translate"},help_me_translate_body:{id:"curated-starter-prompts.help_me_translate.body",defaultMessage:"Help me translate"},help_me_translate_prompt:{id:"curated-starter-prompts.help_me_translate.prompt",defaultMessage:"Help me translate between English and another language. Explain tone and nuance where helpful."},professional_email_boss_title:{id:"curated-starter-prompts.professional_email_boss.title",defaultMessage:"Write a professional email"},professional_email_boss_body:{id:"curated-starter-prompts.professional_email_boss.body",defaultMessage:"Draft a clear email to my boss about a project that I want to kick off."},professional_email_boss_prompt:{id:"curated-starter-prompts.professional_email_boss.prompt",defaultMessage:"Draft a clear email to my boss about a project that I want to kick off."},summarize_financial_news_title:{id:"curated-starter-prompts.summarize_financial_news.title",defaultMessage:"Summarize this"},summarize_financial_news_body:{id:"curated-starter-prompts.summarize_financial_news.body",defaultMessage:"Summarize the latest financial news with three takeaways that are relevant for me."},summarize_financial_news_prompt:{id:"curated-starter-prompts.summarize_financial_news.prompt",defaultMessage:"Summarize the latest financial news with three takeaways that are relevant for me."},breathing_meditation_title:{id:"curated-starter-prompts.breathing_meditation.title",defaultMessage:"Lead a breathing meditation"},breathing_meditation_body:{id:"curated-starter-prompts.breathing_meditation.body",defaultMessage:"Lead a 5-minute breathing meditation"},breathing_meditation_prompt:{id:"curated-starter-prompts.breathing_meditation.prompt",defaultMessage:"Lead a 5-minute breathing meditation."},voice_mock_interview_title:{id:"curated-starter-prompts.voice_mock_interview.title",defaultMessage:"Mock interview coach"},voice_mock_interview_body:{id:"curated-starter-prompts.voice_mock_interview.body",defaultMessage:"Do a voice mock interview for [role] and give feedback"},voice_mock_interview_prompt:{id:"curated-starter-prompts.voice_mock_interview.prompt",defaultMessage:"Do a voice mock interview for [role] and give feedback."},toast_speech_coach_title:{id:"curated-starter-prompts.toast_speech_coach.title",defaultMessage:"Toast coach"},toast_speech_coach_body:{id:"curated-starter-prompts.toast_speech_coach.body",defaultMessage:"Listen to my toast; coach pacing, pauses, and tone"},toast_speech_coach_prompt:{id:"curated-starter-prompts.toast_speech_coach.prompt",defaultMessage:"Listen to my toast; coach my pacing, pauses, and tone."},logo_ideas_simple_title:{id:"curated-starter-prompts.logo_ideas_simple.title",defaultMessage:"Create simple logo ideas"},logo_ideas_simple_body:{id:"curated-starter-prompts.logo_ideas_simple.body",defaultMessage:"Create simple logo ideas for my business, they should be clean and modern"},logo_ideas_simple_prompt:{id:"curated-starter-prompts.logo_ideas_simple.prompt",defaultMessage:"Create simple logo ideas for my business, they should be clean and modern"},translation_generic_title:{id:"curated-starter-prompts.translation_generic.title",defaultMessage:"Translation"},translation_generic_body:{id:"curated-starter-prompts.translation_generic.body",defaultMessage:"Translate text between languages"},translation_generic_prompt:{id:"curated-starter-prompts.translation_generic.prompt",defaultMessage:"Translate the following text to [language]. Keep it natural and explain any tricky phrases."},professional_profile_picture_title:{id:"curated-starter-prompts.professional_profile_picture.title",defaultMessage:"Make a professional profile picture"},professional_profile_picture_body:{id:"curated-starter-prompts.professional_profile_picture.body",defaultMessage:"Create a professional headshot of me using this photo"},professional_profile_picture_prompt:{id:"curated-starter-prompts.professional_profile_picture.prompt",defaultMessage:"Create a professional headshot of me using this photo. I'll upload the photo."},visualize_concept_benzene_title:{id:"curated-starter-prompts.visualize_concept_benzene.title",defaultMessage:"Visualize a concept"},visualize_concept_benzene_body:{id:"curated-starter-prompts.visualize_concept_benzene.body",defaultMessage:"Create an image to help me visualize the 3D molecular structure for benzene."},visualize_concept_benzene_prompt:{id:"curated-starter-prompts.visualize_concept_benzene.prompt",defaultMessage:"Please create an image to help me visualize the 3D molecular structure for benzene."},redesign_this_room_title:{id:"curated-starter-prompts.redesign_this_room.title",defaultMessage:"Redesign this room"},redesign_this_room_body:{id:"curated-starter-prompts.redesign_this_room.body",defaultMessage:"Make this room a mid-century modern style with new paint and furniture."},redesign_this_room_prompt:{id:"curated-starter-prompts.redesign_this_room.prompt",defaultMessage:"Redesign this room with new paint and furniture. I'll upload a photo of the room."},make_me_an_action_figure_title:{id:"curated-starter-prompts.make_me_an_action_figure.title",defaultMessage:"Make me an action figure"},make_me_an_action_figure_body:{id:"curated-starter-prompts.make_me_an_action_figure.body",defaultMessage:"Draw a picture of me as a real-life action figure. Include my interests, like gardening and baking, in the packaging."},make_me_an_action_figure_prompt:{id:"curated-starter-prompts.make_me_an_action_figure.prompt",defaultMessage:"Draw a picture of me as a real-life action figure. Include my interests, like gardening and baking, in the packaging. I'll upload my photo."},promo_code_title:{id:"curated-starter-prompts.promo_code.title",defaultMessage:"Find shopping promo codes"},promo_code_body:{id:"curated-starter-prompts.promo_code.body",defaultMessage:"Find shopping promo codes"},promo_code_prompt:{id:"curated-starter-prompts.promo_code.prompt",defaultMessage:"Find promo codes or coupons for my favorite sites. Confirm they're active."},review_rubric_title:{id:"curated-starter-prompts.review_rubric.title",defaultMessage:"Review rubric"},review_rubric_body:{id:"curated-starter-prompts.review_rubric.body",defaultMessage:"Review papers based on a rubric"},review_rubric_prompt:{id:"curated-starter-prompts.review_rubric.prompt",defaultMessage:"Review the papers according to the attached rubric. Draft comments and add encouraging feedback. Have a critical eye for detail. I'll upload the papers and the rubric."},draft_email_to_parents_title:{id:"curated-starter-prompts.draft_email_to_parents.title",defaultMessage:"Draft an email to parents"},draft_email_to_parents_body:{id:"curated-starter-prompts.draft_email_to_parents.body",defaultMessage:"Draft an email to parents"},draft_email_to_parents_prompt:{id:"curated-starter-prompts.draft_email_to_parents.prompt",defaultMessage:"Act as a teacher and draft a letter to parents updating them on a field trip we will be taking soon"},translate_email_to_another_language_title:{id:"curated-starter-prompts.translate_email_to_another_language.title",defaultMessage:"Translate an email to another language"},translate_email_to_another_language_body:{id:"curated-starter-prompts.translate_email_to_another_language.body",defaultMessage:"Translate the email to another language"},translate_email_to_another_language_prompt:{id:"curated-starter-prompts.translate_email_to_another_language.prompt",defaultMessage:"Translate the email to another language. I'll upload the email."},summarize_exit_ticket_title:{id:"curated-starter-prompts.summarize_exit_ticket.title",defaultMessage:"Summarize an exit ticket"},summarize_exit_ticket_body:{id:"curated-starter-prompts.summarize_exit_ticket.body",defaultMessage:"Summarize the exit ticket"},summarize_exit_ticket_prompt:{id:"curated-starter-prompts.summarize_exit_ticket.prompt",defaultMessage:"Review my students' answers to the exit ticket from this week's class. Provide me feedback on how well they understand the squares and square roots. Do you have any questions before I upload their answers?"},tailor_lesson_plan_title:{id:"curated-starter-prompts.tailor_lesson_plan.title",defaultMessage:"Tailor a lesson plan"},tailor_lesson_plan_body:{id:"curated-starter-prompts.tailor_lesson_plan.body",defaultMessage:"Tailor a lesson plan"},tailor_lesson_plan_prompt:{id:"curated-starter-prompts.tailor_lesson_plan.prompt",defaultMessage:"Could you create a lesson plan for this week that a substitute teacher can easily follow? Last week, the class was learning about Shakespearean tragedies. Please include clear instructions, timing for each activity, and any materials the substitute might need."},questions_on_different_levels_title:{id:"curated-starter-prompts.questions_on_different_levels.title",defaultMessage:"Questions on different levels"},questions_on_different_levels_body:{id:"curated-starter-prompts.questions_on_different_levels.body",defaultMessage:"Create difficult questions"},questions_on_different_levels_prompt:{id:"curated-starter-prompts.questions_on_different_levels.prompt",defaultMessage:"Create questions for a quiz on the topic of quadratic functions. The questions should be at different levels of difficulty, from easy to medium and hard."},create_quiz_title:{id:"curated-starter-prompts.create_quiz.title",defaultMessage:"Create a quiz"},create_quiz_body:{id:"curated-starter-prompts.create_quiz.body",defaultMessage:"Create a quiz"},create_quiz_prompt:{id:"curated-starter-prompts.create_quiz.prompt",defaultMessage:"Create a 12-question quiz on converting fractions to decimals for 4th grade."},design_activity_title:{id:"curated-starter-prompts.design_activity.title",defaultMessage:"Design an activity"},design_activity_body:{id:"curated-starter-prompts.design_activity.body",defaultMessage:"Design a fun activity"},design_activity_prompt:{id:"curated-starter-prompts.design_activity.prompt",defaultMessage:"Design a first-week activity for 3rd graders called 'Find Someone Who...'"},create_worksheet_title:{id:"curated-starter-prompts.create_worksheet.title",defaultMessage:"Create a worksheet"},create_worksheet_body:{id:"curated-starter-prompts.create_worksheet.body",defaultMessage:"Create a worksheet for 6th grade"},create_worksheet_prompt:{id:"curated-starter-prompts.create_worksheet.prompt",defaultMessage:"Create a printable worksheet introducing cause and effect in reading for 6th grade."},create_slide_deck_title:{id:"curated-starter-prompts.create_slide_deck.title",defaultMessage:"Create a slide"},create_slide_deck_body:{id:"curated-starter-prompts.create_slide_deck.body",defaultMessage:"Create a slide for teaching fractions"},create_slide_deck_prompt:{id:"curated-starter-prompts.create_slide_deck.prompt",defaultMessage:"Create a slide for teaching fractions to 2nd graders."},create_resource_title:{id:"curated-starter-prompts.create_resource.title",defaultMessage:"Create reading materials"},create_resource_body:{id:"curated-starter-prompts.create_resource.body",defaultMessage:"Create reading materials"},create_resource_prompt:{id:"curated-starter-prompts.create_resource.prompt",defaultMessage:"Write a 600-word informational article about the Great Wall of China at an 8th grade reading level."},make_topic_more_engaging_title:{id:"curated-starter-prompts.make_topic_more_engaging.title",defaultMessage:"Make a topic more engaging"},make_topic_more_engaging_body:{id:"curated-starter-prompts.make_topic_more_engaging.body",defaultMessage:"Make a topic more engaging"},make_topic_more_engaging_prompt:{id:"curated-starter-prompts.make_topic_more_engaging.prompt",defaultMessage:"Help make cell organelles more engaging for 7th graders by using an analogy to a real-life example."},image_gen_prompt_title:{id:"curated-starter-prompts.image_gen_prompt.title",defaultMessage:"Generate an image"},image_gen_prompt_body:{id:"curated-starter-prompts.image_gen_prompt.body",defaultMessage:"A fun image for teaching fractions"},image_gen_prompt_prompt:{id:"curated-starter-prompts.image_gen_prompt.prompt",defaultMessage:"Generate a simple, colorful visual of fractions using pizza (1/2 pizza, 1/4 pizza, etc)."}});function Ar(){const t=kt();return[{type:Ue.Starter,id:"morning_routine",title:t.formatMessage(E.morning_routine_title),body:t.formatMessage(E.morning_routine_body),prompt:t.formatMessage(E.morning_routine_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-sun-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-sun-sm@2x.png",accentColor:"#F9C00D",isFeatured:!0,source:"CURATED"},{type:Ue.Starter,id:"be_my_personal_trainer",title:t.formatMessage(E.personal_trainer_title),body:t.formatMessage(E.personal_trainer_body),prompt:t.formatMessage(E.personal_trainer_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-fitness-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-fitness-sm@2x.png",accentColor:"#000000",isFeatured:!0,source:"CURATED"},{type:Ue.Starter,id:"fix_procrastination",title:t.formatMessage(E.fix_procrastination_title),body:t.formatMessage(E.fix_procrastination_body),prompt:t.formatMessage(E.fix_procrastination_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",isFeatured:!0,source:"CURATED"},{type:Ue.Starter,id:"upgrade_skin_care",title:t.formatMessage(E.upgrade_skin_care_title),body:t.formatMessage(E.upgrade_skin_care_body),prompt:t.formatMessage(E.upgrade_skin_care_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-skincare-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-skincare-sm@2x.png",accentColor:"#F3A38C",requires_file_upload:!0,isFeatured:!0,source:"CURATED"},{type:Ue.Starter,id:"meal_prep",title:t.formatMessage(E.meal_prep_title),body:t.formatMessage(E.meal_prep_body),prompt:t.formatMessage(E.meal_prep_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-food@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-food-40@2x.png",accentColor:"#E66E04",isFeatured:!0,source:"CURATED"},{type:Ue.Starter,id:"budget",title:t.formatMessage(E.budget_title),body:t.formatMessage(E.budget_body),prompt:t.formatMessage(E.budget_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-preadsheet@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-preadsheet-40@2x.png",accentColor:"#F8907F",source:"CURATED"},{type:Ue.Starter,id:"color_theory",title:t.formatMessage(E.color_theory_title),body:t.formatMessage(E.color_theory_body),prompt:t.formatMessage(E.color_theory_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-color-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-color-sm@2x.png",accentColor:"#EABD7E",requires_file_upload:!0,source:"CURATED"},{type:Ue.Starter,id:"help_me_get_recognized",title:t.formatMessage(E.help_me_get_recognized_title),body:t.formatMessage(E.help_me_get_recognized_body),prompt:t.formatMessage(E.help_me_get_recognized_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-award@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-award-40@2x.png",source:"CURATED"},{type:Ue.Starter,id:"anime_style_portrait",title:t.formatMessage(E.anime_style_portrait_title),body:t.formatMessage(E.anime_style_portrait_body),prompt:t.formatMessage(E.anime_style_portrait_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-anime@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-anime-40@2x.png",coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/anime@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/anime.png",requires_file_upload:!0,systemHints:[re.PictureV2],source:"CURATED"},{type:Ue.Starter,id:"action_figure_portrait",title:t.formatMessage(E.action_figure_portrait_title),body:t.formatMessage(E.action_figure_portrait_body),prompt:t.formatMessage(E.action_figure_portrait_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-actionfigure@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-actionfigure-40@2x.png",coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/action-figure@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/action-figure.png",requires_file_upload:!0,systemHints:[re.PictureV2],source:"CURATED"},{type:Ue.Starter,id:"b_w_raindrop_portrait",title:t.formatMessage(E.b_w_raindrop_portrait_title),body:t.formatMessage(E.b_w_raindrop_portrait_body),prompt:t.formatMessage(E.b_w_raindrop_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/raindrop-bnw@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/raindrop-bnw.png",requires_file_upload:!0,source:"CURATED"},{type:Ue.Starter,id:"b_w_studio_portrait",title:t.formatMessage(E.b_w_studio_portrait_title),body:t.formatMessage(E.b_w_studio_portrait_body),prompt:t.formatMessage(E.b_w_studio_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/studio-bnw@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/studio-bnw.png",requires_file_upload:!0,source:"CURATED"},{type:Ue.Starter,id:"create_a_puppet",title:t.formatMessage(E.create_a_puppet_title),body:t.formatMessage(E.create_a_puppet_body),prompt:t.formatMessage(E.create_a_puppet_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/create-puppet@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/create-puppet.png",requires_file_upload:!0,systemHints:[re.PictureV2],source:"CURATED"},{type:Ue.Starter,id:"document_summary",title:t.formatMessage(E.document_summary_title),body:t.formatMessage(E.document_summary_body),prompt:t.formatMessage(E.document_summary_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-paper-pen@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-paper-pen-40@2x.png",requires_file_upload:!0,source:"CURATED"},{type:Ue.Starter,id:"recommend_a_movie",title:t.formatMessage(E.recommend_a_movie_title),body:t.formatMessage(E.recommend_a_movie_body),prompt:t.formatMessage(E.recommend_a_movie_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-movies@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-movies-40@2x.png",source:"CURATED"},{type:Ue.Starter,id:"create_a_quiz",title:t.formatMessage(E.create_a_quiz_title),body:t.formatMessage(E.create_a_quiz_body),prompt:t.formatMessage(E.create_a_quiz_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",requires_file_upload:!0,source:"CURATED"},{type:Ue.Starter,id:"promo_code",title:t.formatMessage(E.promo_code_title),body:t.formatMessage(E.promo_code_body),prompt:t.formatMessage(E.promo_code_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",source:"CURATED"}]}function lf(){"use forget";const t=Rt.c(123),e=kt();let o;t[0]!==e?(o=e.formatMessage(E.review_rubric_title),t[0]=e,t[1]=o):o=t[1];let a;t[2]!==e?(a=e.formatMessage(E.review_rubric_body),t[2]=e,t[3]=a):a=t[3];let n;t[4]!==e?(n=e.formatMessage(E.review_rubric_prompt),t[4]=e,t[5]=n):n=t[5];let l;t[6]!==o||t[7]!==a||t[8]!==n?(l={type:Ue.Starter,id:"review_rubric",title:o,body:a,prompt:n,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-paper-pen@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-paper-pen-40@2x.png",accentColor:"#F9C00D",requires_file_upload:!0,source:"CURATED"},t[6]=o,t[7]=a,t[8]=n,t[9]=l):l=t[9];let r;t[10]!==e?(r=e.formatMessage(E.draft_email_to_parents_title),t[10]=e,t[11]=r):r=t[11];let i;t[12]!==e?(i=e.formatMessage(E.draft_email_to_parents_body),t[12]=e,t[13]=i):i=t[13];let g;t[14]!==e?(g=e.formatMessage(E.draft_email_to_parents_prompt),t[14]=e,t[15]=g):g=t[15];let m;t[16]!==r||t[17]!==i||t[18]!==g?(m={type:Ue.Starter,id:"send_email_to_parents",title:r,body:i,prompt:g,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-email.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-email-sm.png",accentColor:"#F9C00D",source:"CURATED"},t[16]=r,t[17]=i,t[18]=g,t[19]=m):m=t[19];let x;t[20]!==e?(x=e.formatMessage(E.summarize_exit_ticket_title),t[20]=e,t[21]=x):x=t[21];let S;t[22]!==e?(S=e.formatMessage(E.summarize_exit_ticket_body),t[22]=e,t[23]=S):S=t[23];let y;t[24]!==e?(y=e.formatMessage(E.summarize_exit_ticket_prompt),t[24]=e,t[25]=y):y=t[25];let c;t[26]!==y||t[27]!==x||t[28]!==S?(c={type:Ue.Starter,id:"summarize_exit_ticket",title:x,body:S,prompt:y,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-checklist@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-checklist-40@2x.png",accentColor:"#F9C00D",requires_file_upload:!0,source:"CURATED"},t[26]=y,t[27]=x,t[28]=S,t[29]=c):c=t[29];let h;t[30]!==e?(h=e.formatMessage(E.tailor_lesson_plan_title),t[30]=e,t[31]=h):h=t[31];let b;t[32]!==e?(b=e.formatMessage(E.tailor_lesson_plan_body),t[32]=e,t[33]=b):b=t[33];let _;t[34]!==e?(_=e.formatMessage(E.tailor_lesson_plan_prompt),t[34]=e,t[35]=_):_=t[35];let C;t[36]!==h||t[37]!==b||t[38]!==_?(C={type:Ue.Starter,id:"tailor_lesson_plan",title:h,body:b,prompt:_,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[36]=h,t[37]=b,t[38]=_,t[39]=C):C=t[39];let I;t[40]!==e?(I=e.formatMessage(E.questions_on_different_levels_title),t[40]=e,t[41]=I):I=t[41];let d;t[42]!==e?(d=e.formatMessage(E.questions_on_different_levels_body),t[42]=e,t[43]=d):d=t[43];let L;t[44]!==e?(L=e.formatMessage(E.questions_on_different_levels_prompt),t[44]=e,t[45]=L):L=t[45];let f;t[46]!==I||t[47]!==d||t[48]!==L?(f={type:Ue.Starter,id:"questions_on_different_levels",title:I,body:d,prompt:L,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[46]=I,t[47]=d,t[48]=L,t[49]=f):f=t[49];let v;t[50]!==e?(v=e.formatMessage(E.create_quiz_title),t[50]=e,t[51]=v):v=t[51];let P;t[52]!==e?(P=e.formatMessage(E.create_quiz_body),t[52]=e,t[53]=P):P=t[53];let O;t[54]!==e?(O=e.formatMessage(E.create_quiz_prompt),t[54]=e,t[55]=O):O=t[55];let w;t[56]!==v||t[57]!==P||t[58]!==O?(w={type:Ue.Starter,id:"create_quiz_k12",title:v,body:P,prompt:O,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[56]=v,t[57]=P,t[58]=O,t[59]=w):w=t[59];let T;t[60]!==e?(T=e.formatMessage(E.design_activity_title),t[60]=e,t[61]=T):T=t[61];let W;t[62]!==e?(W=e.formatMessage(E.design_activity_body),t[62]=e,t[63]=W):W=t[63];let p;t[64]!==e?(p=e.formatMessage(E.design_activity_prompt),t[64]=e,t[65]=p):p=t[65];let A;t[66]!==T||t[67]!==W||t[68]!==p?(A={type:Ue.Starter,id:"design_activity",title:T,body:W,prompt:p,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-color-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-color-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[66]=T,t[67]=W,t[68]=p,t[69]=A):A=t[69];let U;t[70]!==e?(U=e.formatMessage(E.create_worksheet_title),t[70]=e,t[71]=U):U=t[71];let $;t[72]!==e?($=e.formatMessage(E.create_worksheet_body),t[72]=e,t[73]=$):$=t[73];let Z;t[74]!==e?(Z=e.formatMessage(E.create_worksheet_prompt),t[74]=e,t[75]=Z):Z=t[75];let V;t[76]!==U||t[77]!==$||t[78]!==Z?(V={type:Ue.Starter,id:"create_worksheet",title:U,body:$,prompt:Z,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-preadsheet@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-preadsheet-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[76]=U,t[77]=$,t[78]=Z,t[79]=V):V=t[79];let k;t[80]!==e?(k=e.formatMessage(E.create_resource_title),t[80]=e,t[81]=k):k=t[81];let te;t[82]!==e?(te=e.formatMessage(E.create_resource_body),t[82]=e,t[83]=te):te=t[83];let X;t[84]!==e?(X=e.formatMessage(E.create_resource_prompt),t[84]=e,t[85]=X):X=t[85];let F;t[86]!==k||t[87]!==te||t[88]!==X?(F={type:Ue.Starter,id:"create_resource",title:k,body:te,prompt:X,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[86]=k,t[87]=te,t[88]=X,t[89]=F):F=t[89];let ee;t[90]!==e?(ee=e.formatMessage(E.make_topic_more_engaging_title),t[90]=e,t[91]=ee):ee=t[91];let ne;t[92]!==e?(ne=e.formatMessage(E.make_topic_more_engaging_body),t[92]=e,t[93]=ne):ne=t[93];let D;t[94]!==e?(D=e.formatMessage(E.make_topic_more_engaging_prompt),t[94]=e,t[95]=D):D=t[95];let Q;t[96]!==ee||t[97]!==ne||t[98]!==D?(Q={type:Ue.Starter,id:"make_topic_more_engaging",title:ee,body:ne,prompt:D,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-sun-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-sun-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[96]=ee,t[97]=ne,t[98]=D,t[99]=Q):Q=t[99];let pe;t[100]!==e?(pe=e.formatMessage(E.image_gen_prompt_title),t[100]=e,t[101]=pe):pe=t[101];let _e;t[102]!==e?(_e=e.formatMessage(E.image_gen_prompt_body),t[102]=e,t[103]=_e):_e=t[103];let Ae;t[104]!==e?(Ae=e.formatMessage(E.image_gen_prompt_prompt),t[104]=e,t[105]=Ae):Ae=t[105];let we;t[106]===Symbol.for("react.memo_cache_sentinel")?(we=[re.PictureV2],t[106]=we):we=t[106];let Te;t[107]!==pe||t[108]!==_e||t[109]!==Ae?(Te={type:Ue.Starter,id:"image_gen_prompt",title:pe,body:_e,prompt:Ae,category:"dalle",iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-painting.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-painting-sm.png",accentColor:"#F9C00D",systemHints:we,source:"CURATED"},t[107]=pe,t[108]=_e,t[109]=Ae,t[110]=Te):Te=t[110];let Je;return t[111]!==c||t[112]!==C||t[113]!==f||t[114]!==w||t[115]!==A||t[116]!==l||t[117]!==V||t[118]!==F||t[119]!==Q||t[120]!==Te||t[121]!==m?(Je=[l,m,c,C,f,w,A,V,F,Q,Te],t[111]=c,t[112]=C,t[113]=f,t[114]=w,t[115]=A,t[116]=l,t[117]=V,t[118]=F,t[119]=Q,t[120]=Te,t[121]=m,t[122]=Je):Je=t[122],Je}function Rn(t,e=[],o=4,a=2){if(!t||t.length===0)return[];const n=c=>c.category==="dalle"||!!c.coverImageUrl,l=(c,h)=>c.id!=null&&h.id!=null?c.id===h.id:c===h,r=(c,h)=>e.some(b=>h&&!h(b)?!1:l(b,c)),i=t.filter(c=>c.category==="dalle"&&!r(c,n));let g=i.length>0?i[Math.floor(Math.random()*i.length)]:void 0;if(!g){const c=t.filter(h=>!!h.coverImageUrl).filter(h=>!r(h,n));g=c.length>0?c[Math.floor(Math.random()*c.length)]:void 0}const x=[...t.filter(c=>!(c===g||n(c)||r(c,h=>!n(h))))].sort(()=>Math.random()-.5);if(g){const c=Math.max(0,o-1),h=[],b=new Set;for(const I of x){const d=I.iconImageUrl;if(!b.has(d)&&(b.add(d),h.push(I),h.length===c))break}if(h.length<c){for(const I of x)if(!h.includes(I)&&(h.push(I),h.length===c))break}const _=[...h],C=Math.min(Math.max(a,0),Math.max(o-1,0));return _.splice(C,0,g),_.slice(0,o)}const S=[],y=new Set;for(const c of x){const h=c.iconImageUrl;if(!y.has(h)&&(y.add(h),S.push(c),S.length===o))break}if(S.length<o){for(const c of x)if(!S.includes(c)&&(S.push(c),S.length===o))break}return S.slice(0,o)}const cf=ks({subtitle:{id:"starter-prompt-banner.subtitle",defaultMessage:"Just add a picture â€” ChatGPT will do the rest. <tryNow>Try now</tryNow>"}});function df(){"use forget";const[t]=Xo("oai/apps/hasDismissedStarterPromptBanner",!1,uf);return!t}function uf(t){return typeof t=="boolean"}function pf(t){"use forget";var X;const e=Rt.c(35),{className:o}=t,a=ur(),n=kd(),[l,r]=Xo("oai/apps/hasDismissedStarterPromptBanner",!1,gf),i=Ar(),g=Td(),m=ze(),y=Ad(m,!1).get("image_gen_prompts_type","evergreen")==="trending"?g:i;let c;e[0]!==y?(c=y.filter(ff),e[0]=y,e[1]=c):c=e[1];const h=c,b=h[Math.floor(Math.random()*h.length)];let _,C;e[2]!==b?(_=()=>{var F;b&&ct.logEventWithStatsig("Show Image Gen Prompt","chatgpt_prompt_show_suggestion",{type:b.type,id:b.id,index:0,theme:(F=b.theme)!=null?F:""})},C=[b],e[2]=b,e[3]=_,e[4]=C):(_=e[3],C=e[4]),M.useEffect(_,C);const I=Ts();if(!b)return null;let d;e[5]!==b?(d=[b],e[5]=b,e[6]=d):d=e[6];const L=d,f=I,v=b.title,P=(X=b.coverImageUrl)!=null?X:b.coverThumbnailImageUrl;let O;e[7]!==L||e[8]!==a||e[9]!==f||e[10]!==n||e[11]!==b?(O=F=>{var ne;if(f){F.preventDefault();return}if(F.stopPropagation(),b.requires_file_upload===!0&&((ne=b.systemHints)==null?void 0:ne.includes(re.PictureV2))){n(F,b,L,0);return}a(F,b,L,0)},e[7]=L,e[8]=a,e[9]=f,e[10]=n,e[11]=b,e[12]=O):O=e[12];const w=O;if(l)return null;let T;e[13]!==o?(T=it("relative",o),e[13]=o,e[14]=T):T=e[14];const W=f?"opacity-60":"";let p;e[15]!==W?(p=it("border-token-border-default bg-tertiary flex w-full items-center gap-3 rounded-2xl border shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)]",W),e[15]=W,e[16]=p):p=e[16];let A;e[17]!==P?(A=P?s.jsx("div",{className:"py-3 ps-3",children:s.jsx("div",{className:"border-token-border-default borde h-14 w-14 -rotate-2 overflow-hidden rounded-xl p-0.5 shadow-lg",children:s.jsx("img",{src:P,alt:"","aria-hidden":"true",className:"h-full w-full rounded-lg object-cover"})})}):null,e[17]=P,e[18]=A):A=e[18];let U;e[19]!==v?(U=s.jsx("div",{className:"text-token-text-primary truncate text-sm leading-5 font-medium sm:text-base",children:v}),e[19]=v,e[20]=U):U=e[20];let $;e[21]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("div",{className:"text-token-text-secondary mt-1 text-xs leading-5 sm:text-sm",children:s.jsx(Bt,Vt(ht({},cf.subtitle),{values:{tryNow:mf}}))}),e[21]=$):$=e[21];let Z;e[22]!==U?(Z=s.jsxs("div",{className:"min-w-0 flex-1 py-3 text-start",children:[U,$]}),e[22]=U,e[23]=Z):Z=e[23];let V;e[24]!==r?(V=s.jsx(tl,{className:"me-1 mt-1 self-start",iconSize:"md",onClick:F=>{F.stopPropagation(),r(!0)}}),e[24]=r,e[25]=V):V=e[25];let k;e[26]!==w||e[27]!==Z||e[28]!==V||e[29]!==p||e[30]!==A?(k=s.jsxs("div",{role:"button",tabIndex:0,className:p,onClick:w,children:[A,Z,V]}),e[26]=w,e[27]=Z,e[28]=V,e[29]=p,e[30]=A,e[31]=k):k=e[31];let te;return e[32]!==k||e[33]!==T?(te=s.jsx("div",{className:T,children:k}),e[32]=k,e[33]=T,e[34]=te):te=e[34],te}function mf(t){return s.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-500 sm:text-sm dark:text-blue-400",children:s.jsx("span",{children:t})})}function ff(t){var e;return(e=t.systemHints)==null?void 0:e.includes(re.PictureV2)}function gf(t){return typeof t=="boolean"}const _f=tt(()=>et(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zF),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),hf=tt(()=>et(()=>import("./m7ky6cnx5e7w4637.js"),__vite__mapDeps([5,1,0,2,3,4,6,7,8])).then(t=>t.default)),jn=ks({bannerBody:{id:"gqtTeH",defaultMessage:"Work smarter and better with coworkers in your organization"},dismissBanner:{id:"hbc/Bs",defaultMessage:"Dismiss banner"}});function yf(t){"use forget";const e=Rt.c(17),{clientThreadId:o,canShowBanner:a}=t,n=a===void 0?!1:a,l=ze();let r;e[0]!==l?(r=ss(l),e[0]=l,e[1]=r):r=e[1];const i=r;let g;e[2]!==o?(g=On(o),e[2]=o,e[3]=g):g=e[3];const m=g,x=Nt(o,Sf),{eligible:S}=xs(as.hasSeenJoinWorkspaceBanner),y=m&&!x,c=Zo(),h=(c==null?void 0:c.email_domain_type)==="professional",b=i&&h&&n&&y&&m&&!x&&S,{data:_,isLoading:C}=sl();let I;e[4]!==(_==null?void 0:_.accountItems)?(I=_==null?void 0:_.accountItems.some(xf),e[4]=_==null?void 0:_.accountItems,e[5]=I):I=e[5];const d=!!I;let L;e[6]!==l?(L=Yt(l,"3217430380",{disableExposureLog:!0}).get("enable_workspace_discovery",!1),e[6]=l,e[7]=L):L=e[7];const v=!C&&!d&&L&&b;let P;if(e[8]!==l){const F=us.getItem(ps.WorkspaceDiscoveryInfo),ee=Ln(l,"2801792036").get("cache_ttl_ms",6048e5);P=Id(F,ee),e[8]=l,e[9]=P}else P=e[9];const{isFresh:O,hasWorkspacesToJoin:w}=P;let T;e[10]!==l?(T=Et(l,"69563813"),e[10]=l,e[11]=T):T=e[11];const p=!O&&T&&v,{data:A,isFetching:U}=vd(p),$=A==null?void 0:A.workspaces.some(bf);if(!(!U&&(O?!!w:!!$)&&v)){let F;return e[12]===Symbol.for("react.memo_cache_sentinel")?(F={shouldShow:!1},e[12]=F):F=e[12],F}let k;e[13]!==l?(k=Yt(l,"1200251816").get("enable-join-workspaces-banner",!1),e[13]=l,e[14]=k):k=e[14];const te=k;let X;return e[15]!==te?(X={shouldShow:te},e[15]=te,e[16]=X):X=e[16],X}function bf(t){return!t.requested}function xf(t){return t.isEnterprisey()}function Sf(t){return lt.hasUserMessage(t)}function S_(){"use forget";const t=Rt.c(24),e=ze();let o;t[0]!==e?(o=()=>{Cs(e,as.hasSeenJoinWorkspaceBanner)},t[0]=e,t[1]=o):o=t[1];const a=o;let n;t[2]!==a?(n=()=>{ct.logEventWithStatsig("Thread Join Workspace Banner Button Dismissed","chatgpt_thread_join_workspace_banner_button_dismissed"),a()},t[2]=a,t[3]=n):n=t[3];const l=n;let r;t[4]===Symbol.for("react.memo_cache_sentinel")?(r=[],t[4]=r):r=t[4],M.useEffect(wf,r);let i;t[5]!==e||t[6]!==a?(i=()=>{ct.logEventWithStatsig("Thread Join Workspace Banner Button Clicked","chatgpt_thread_join_workspace_banner_button_clicked"),a(),ms(e,hf,{mode:"dismissible",section:"both",source:"join_workspace_banner"})},t[5]=e,t[6]=a,t[7]=i):i=t[7];const g=i;let m;t[8]===Symbol.for("react.memo_cache_sentinel")?(m=it("group flex w-full items-center justify-center gap-1.5 rounded-full py-2 ps-3 sm:justify-start sm:gap-2","bg-primary shadow-short","hover:bg-token-surface-hover motion-safe:transition-colors motion-safe:duration-150 motion-safe:ease-out","focus-visible:ring-token-text-tertiary focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden","pe-7"),t[8]=m):m=t[8];let x;t[9]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("span",{className:"hidden text-[#5856D6] sm:inline",children:s.jsx(_f,{className:"icon-sm","aria-hidden":"true"})}),t[9]=x):x=t[9];let S,y;t[10]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsxs("span",{className:"flex items-center gap-1.5",children:[x,s.jsx("span",{className:"text-token-text-primary text-[13px] leading-[18px] sm:text-sm sm:leading-5",children:s.jsx(Bt,ht({},jn.bannerBody))})]}),y=s.jsx("span",{className:it("inline-flex items-center gap-1 text-sm font-medium","text-[#5856D6]"),children:s.jsx("span",{children:s.jsx(Bt,{id:"V/M/bo",defaultMessage:"Find Workspaces"})})}),t[10]=S,t[11]=y):(S=t[10],y=t[11]);let c;t[12]!==g?(c=s.jsxs("button",{type:"button",onClick:g,className:m,children:[S,y]}),t[12]=g,t[13]=c):c=t[13];let h;t[14]!==l?(h=L=>{L.stopPropagation(),l()},t[14]=l,t[15]=h):h=t[15];let b,_;t[16]===Symbol.for("react.memo_cache_sentinel")?(b=it("mt-0.15 absolute end-1.5 top-1/2 -translate-y-1/2 rounded-full p-1","text-token-text-secondary hover:bg-token-main-surface-tertiary","focus-visible:ring-token-text-tertiary focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden"),_=s.jsx(Pd,{className:"icon-xs","aria-hidden":"true"}),t[16]=b,t[17]=_):(b=t[16],_=t[17]);let C;t[18]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("span",{className:"sr-only",children:s.jsx(Bt,ht({},jn.dismissBanner))}),t[18]=C):C=t[18];let I;t[19]!==h?(I=s.jsxs("button",{type:"button",onClick:h,className:b,children:[_,C]}),t[19]=h,t[20]=I):I=t[20];let d;return t[21]!==I||t[22]!==c?(d=s.jsxs("div",{className:"relative",children:[c,I]}),t[21]=I,t[22]=c,t[23]=d):d=t[23],d}function wf(){ct.logEventWithStatsig("Thread Join Workspace Banner Button Shown","chatgpt_thread_join_workspace_banner_button_shown")}const Cf=tt(()=>et(()=>import("./ncw8zw682jinppua.js").then(t=>t.yq),__vite__mapDeps([2,1,3])),{loading:t=>At(t)}),Mf=tt(()=>et(()=>import("./imwr51rn5ig1qbbo.js"),__vite__mapDeps([9,1])),{loading:t=>At(t)}),Dn=t=>typeof t=="boolean";function Bn({clientThreadId:t,onClick:e}){M.useEffect(()=>{jd(t)},[t]);const o=kt();return s.jsx(As.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},className:"inline-block",children:s.jsx(fr,{onClick:()=>{Dd(t),e()},label:o.formatMessage(Xs.moreStarterPrompts)})})}function kf({starterPrompt:t,starterPrompts:e,index:o,disabled:a,onSelectStarterPrompt:n}){var m;const l=ze(),r=(m=t.theme)!=null?m:t.title,i=ur(),g=t.category==="onboarding"?x=>{Cs(l,as.hasUsedConversationalOnboardingStarterPrompt),i(x,t,e,o)}:x=>n==null?void 0:n(x,t,e,o);return s.jsx(fr,{disabled:a,onClick:g,icon:s.jsx(nl,{category:t.category,useV2Colors:!0}),label:r})}const Tf=5,Af=3;function Ir({starterPrompts:t,onSelectStarterPrompt:e,disabled:o,clientThreadId:a,onExpand:n,mobileLayout:l=!1}){const r=l?Af:Tf,[i,g]=M.useState(r),[m,x]=M.useState(!1),S=M.useRef(null),y=t.length<=i;M.useEffect(()=>{hn(t.slice(0,r),a)},[a]),M.useEffect(()=>{if(!m&&!y&&S.current){const h=S.current,b=h.getBoundingClientRect(),_=b.width,C=Array.from(h.children);let I=0;for(let d=0;d<C.length&&C[d].getBoundingClientRect().right-b.left<=_;d++)I++;g(I),x(!0)}},[t,y,m]);const c=()=>{const h=t.slice(i,t.length).map(b=>Vt(ht({},b),{isAdditional:!0}));h.length>0&&hn(h,a),g(t.length),n()};return s.jsxs("div",{"data-testid":"starter-prompt-chips",className:it("mt-5 flex items-center justify-center gap-x-2 transition-opacity xl:gap-x-2.5",m&&t.length>0?"opacity-100":"opacity-[0.01]",l?"flex-wrap":"flex-nowrap"),children:[s.jsxs("ul",{className:it("relative flex items-stretch gap-x-2 gap-y-4 overflow-hidden py-2 sm:gap-y-2 xl:gap-x-2.5 xl:gap-y-2.5",y||l?"flex-wrap justify-center":"flex-nowrap justify-start"),ref:S,children:[t.slice(0,i).map((h,b)=>{var _;return s.jsx(As.li,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},children:s.jsx(kf,{starterPrompt:h,starterPrompts:t,index:b,disabled:o,onSelectStarterPrompt:e})},(_=h.id)!=null?_:b)}),l&&t.length>i&&s.jsx(Bn,{clientThreadId:a,onClick:c})]}),!l&&t.length>i&&s.jsx(Bn,{clientThreadId:a,onClick:c})]})}const w_=t=>{"use forget";const e=Rt.c(17),{clientThreadId:o,currentModelId:a}=t,[n,l]=M.useState(!1),r=Ts();let i;e[0]!==o||e[1]!==a?(i={shouldBeEnabledForDefaultAssistant:!0,clientThreadId:o,limit:8,modelSlug:a},e[0]=o,e[1]=a,e[2]=i):i=e[2];const{promptStarters:g,shouldShowStarterPrompts:m,onSelectStarterPrompt:x}=mr(i);let S,y,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(S={opacity:0},y={opacity:1},c={duration:.3},e[3]=S,e[4]=y,e[5]=c):(S=e[3],y=e[4],c=e[5]);const h=m&&!n&&"h-[116px]";let b;e[6]!==h?(b=it(h),e[6]=h,e[7]=b):b=e[7];let _;e[8]!==o||e[9]!==r||e[10]!==x||e[11]!==g||e[12]!==m?(_=m&&g&&s.jsx(Ir,{starterPrompts:g,onSelectStarterPrompt:x,disabled:r,clientThreadId:o,onExpand:()=>l(!0),mobileLayout:!0}),e[8]=o,e[9]=r,e[10]=x,e[11]=g,e[12]=m,e[13]=_):_=e[13];let C;return e[14]!==b||e[15]!==_?(C=s.jsx(As.div,{initial:S,animate:y,transition:c,className:b,children:_}),e[14]=b,e[15]=_,e[16]=C):C=e[16],C},C_=t=>{"use forget";const e=Rt.c(20),{currentModelId:o,clientThreadId:a}=t,n=ze(),l=!ss(n),r=Rd(),[i,g]=M.useState(!1),m=Ts();let x;e[0]!==a||e[1]!==o?(x={shouldBeEnabledForDefaultAssistant:!0,clientThreadId:a,limit:8,modelSlug:o},e[0]=a,e[1]=o,e[2]=x):x=e[2];const{promptStarters:S,shouldShowStarterPrompts:y,onSelectStarterPrompt:c}=mr(x);let h;e[3]!==a?(h={clientThreadId:a,canShowBanner:!0},e[3]=a,e[4]=h):h=e[4];const{shouldShow:b}=yf(h),_=y&&S;if(b&&!_)return null;let C,I,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(C={opacity:0},I={opacity:1},d={duration:.3},e[5]=C,e[6]=I,e[7]=d):(C=e[5],I=e[6],d=e[7]);const L=!r&&"min-h-[108px]",f=l&&i||r?"":"h-[70px]";let v;e[8]!==L||e[9]!==f?(v=it("max-w-full max-sm:hidden",L,f),e[8]=L,e[9]=f,e[10]=v):v=e[10];let P;e[11]!==a||e[12]!==m||e[13]!==c||e[14]!==S||e[15]!==_?(P=_&&s.jsx(Ir,{starterPrompts:S,onSelectStarterPrompt:c,disabled:m,clientThreadId:a,onExpand:()=>g(!0)}),e[11]=a,e[12]=m,e[13]=c,e[14]=S,e[15]=_,e[16]=P):P=e[16];let O;return e[17]!==v||e[18]!==P?(O=s.jsx(As.div,{initial:C,animate:I,transition:d,className:v,children:P}),e[17]=v,e[18]=P,e[19]=O):O=e[19],O};function If({className:t,layout:e="grid",hideShuffleButton:o}){var P;const a=kt(),n=Ts(),l=ze(),r=Un(l),i=(P=r==null?void 0:r.isK12())!=null?P:!1,[g,m]=Xo("starter_prompt_tiles_dismissed",!1,Dn),[x,S]=M.useState(null);M.useEffect(()=>{if(!i){S(!1);return}typeof window>"u"||S(ol("starter_prompt_tiles_dismissed",!1,Dn))},[i]);const y=Ar(),c=lf(),h=i&&c.length>0?c:y,b=i&&(g||x===!0),_=i&&x==null,C=ea(),I=ue(pr(C).shouldShowAutocomplete$),[d,L]=M.useState(Rn(h,[],4,e==="carousel"?1:2)),f=()=>{L(Rn(h,d,4,2))};if(!h||h.length===0||b||_)return null;const v=()=>{m(!0)};return s.jsxs("div",{className:it("flex w-full flex-col gap-y-4 transition-opacity",t,I?"pointer-events-none opacity-0":"opacity-100"),children:[s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("div",{className:"text-token-text-secondary text-base leading-7 sm:text-sm",children:a.formatMessage(Xs.trySomethingNew)}),s.jsxs("div",{className:"flex items-center gap-1",children:[!o&&s.jsx(Ya,{type:"button",onClick:f,label:a.formatMessage(Xs.shuffleTiles),color:"ghost",size:"medium",icon:Mf}),i&&s.jsx(Ya,{type:"button",onClick:v,label:a.formatMessage(Xs.dismissStarterPrompts),color:"ghost",size:"medium",icon:Cf})]})]}),s.jsx("div",{"data-testid":"starter-prompt-tiles",className:it(e==="grid"?"grid grid-cols-2 gap-4 sm:flex sm:flex-row":"-mx-(--thread-content-margin) flex flex-row gap-3 overflow-x-auto px-(--thread-content-margin) pb-4 sm:gap-4"),children:Array.from({length:4}).map((O,w)=>{const T=d[w];return T?s.jsx("div",{className:it("max-sm:short:h-[116px] relative h-[132px] sm:h-[144px]",e==="carousel"?"flex-1 max-sm:w-[164px] max-sm:flex-none":"w-full flex-1 sm:basis-0"),children:s.jsx(al,{initial:!1,children:s.jsx(As.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeOut"},className:"absolute inset-0 h-full w-full",children:s.jsx(Ed,{starterPrompt:T,allPrompts:h,index:w,disabled:n,className:"h-full w-full"})},T.id)})},w):s.jsx("div",{},w)})})]})}const Xs=ks({moreStarterPrompts:{id:"SplashScreenV2.moreStarterPrompts",defaultMessage:"More"},trySomethingNew:{id:"StarterPromptTiles.trySomethingNew",defaultMessage:"Try something new"},shuffleTiles:{id:"StarterPromptTiles.shuffle",defaultMessage:"Shuffle"},dismissStarterPrompts:{id:"StarterPromptTiles.dismiss",defaultMessage:"Close"}}),vf=tt(()=>et(()=>import("./kivvchsexr54fuso.js"),__vite__mapDeps([10,1])),{loading:t=>At(t)}),Pf=tt(()=>et(()=>import("./eoiorf2tj4fcurgb.js"),__vite__mapDeps([11,1,0,2,3,4,12])).then(t=>t.JawboneNotificationsBanner)),Ef=M.memo(function({className:e}){const o=ze(),a=ue(()=>Wt(o)),{store:n}=It(),l=n.useIsHeaderContentAreaPopulated(),r=n.useContentAreaId(fs.HeaderTop);let i=r===H.AgentModeAnnouncementBanner?"z-0":Bd.PromptTextareaHeader;const g=Yt(o,"2206338824");return r===H.BannersRateLimit&&g.get("web_design_style","control")==="composer_banner"&&(i="-z-1"),s.jsx("div",{className:it(e!=null?e:"absolute start-0 end-0 bottom-full",i,a&&"start-2 end-2"),children:s.jsx(Nd,{shouldRender:l,contentArea:fs.Header,children:s.jsxs("div",{className:"mb-2 flex flex-col gap-3.5 pt-2",children:[s.jsx(Rf,{}),s.jsx(jf,{})]})})})});function Rf(){const t=ze(),{store:e}=It(),o=e.useSharedProps(m=>m==null?void 0:m.clientThreadId),a=e.useContentAreaId(fs.HeaderTop),n=Od(t),l=ue(()=>o&&Fn(Zs(t,o)).id),r=so(Wt);let i;switch(a){case H.ProjectConversationTaskNoFileAccess:i=s.jsx(Of,{});break;case H.AdvancedVoiceOnMobileAnnouncement:i=s.jsx(su,{clientThreadId:o});break;case H.BannerSignup:i=s.jsx(Nf,{});break;case H.BannerTermsDisclaimer:i=s.jsx(Lf,{});break;case H.NewUserBannerTermsDisclaimer:i=s.jsx(Uf,{});break;case H.PromptTextareaAction:i=s.jsx(Ff,{});break;case H.BannersRateLimit:i=s.jsx(zf,{});break;case H.BannersBeaconUI:i=s.jsx(Hf,{});break;case H.BannerSidekickAnnouncement:i=s.jsx(tu,{});break;case H.SearchBrowserExtensionAnnouncement:i=s.jsx(eu,{});break;case H.MoonshineAnnouncement:i=s.jsx(Zd,{});break;case H.GoldenHourAnnouncementBanner:i=!1;break;case H.SearchBrowserExtensionReactiveAnnouncement:i=s.jsx(Xd,{});break;case H.BannerMemoryAlmostFull:i=s.jsx(xn,{memoryAlmostFullVariant:!0});break;case H.BannerMemoryFull:i=s.jsx(xn,{});break;case H.Box:i=s.jsxs("div",{id:"Box",className:"flex h-20 w-full items-center justify-center gap-2 bg-red-500 p-2",children:["box",s.jsxs("div",{className:"flex h-full w-full items-center justify-center gap-2 bg-blue-500 p-2",children:["inner",s.jsx("div",{className:"flex h-full w-full items-center justify-center bg-yellow-400 text-center",children:"actual content"})]})]});break;case H.JawboneAnnouncement:n?i=s.jsx(Pf,{}):i=null;break;case H.JawboneMaxActiveAnnouncement:n?i=s.jsx(Qd,{}):i=null;break;case H.PromoRedemptionAnnouncement:i=s.jsx(Qm,{});break;case H.OperatorAnnouncement:i=s.jsx(Yd,{});break;case H.BannerPlusUpsell:i=s.jsx(Kd,{});break;case H.PlusFreeTrialHomepageAnnouncementBanner:i=s.jsx(Jd,{});break;case H.BannerNoAuthTrials:i=s.jsx(Vd,{});break;case H.ReferrerRedemptionAvailableAnnouncement:i=s.jsx(qd,{});break;case H.RefereeRedemptionAvailableAnnouncement:i=s.jsx(nf,{});break;case H.ReferralProgramUpsellAnnouncement:i=s.jsx($d,{});break;case H.TatertotIntakeFormAnnouncement:i=!1;break;case H.StudentsUpsellAnnouncement:i=s.jsx(Wd,{});break;case H.ModelDeprecationBanner:i=Gd(l);break;case H.TeamSeatsPromoAnnouncement:i=s.jsx(Hd,{});break;case H.TeamsContextualAnswersUpsell:i=s.jsx(zd,{});break;case H.AgentModeAnnouncementBanner:i=rl(t)&&!r&&s.jsx(Ld,{});break;case H.LanguageUpsellBanner:i=s.jsx(Fd,{onDismissSideEffect:()=>{ct.logEventWithStatsig("Language Upsell Banner Dismissed","chatgpt_web_language_upsell_banner_dismissed"),bn.set(t,!0)},onPrimaryCtaClickSideEffect:()=>{ct.logEventWithStatsig("Language Upsell Banner Primary CTA Clicked","chatgpt_web_language_upsell_banner_primary_cta_clicked"),bn.set(t,!0)}});break;case H.StarterPrompts:i=s.jsx(If,{hideShuffleButton:!0,layout:"carousel"});break;case H.ImageGenBanner:i=s.jsx(pf,{className:"mb-3"});break;case H.SystemHintSuggestion:i=s.jsx(Ud,{});break;default:i=null;break}const g=!!i;return M.useEffect(()=>{yn.set(t,g)},[t,g]),M.useEffect(()=>()=>{yn.set(t,!1)},[t]),i}function jf(){const{store:t}=It(),e=t.useContentAreaId(fs.HeaderBottom);let o;switch(e){case gr.DallePromptControls:o=s.jsx(Bf,{});break;default:o=null;break}return o}const Df=tt(()=>et(()=>import("./n8lx8e4q0czhsp1o.js"),__vite__mapDeps([13,1,2,3,0,4])).then(t=>t.default));function Bf(){const{store:t}=It(),e=t.useSharedProps(o=>o==null?void 0:o.composerController);return e?s.jsx(Df,{composerController:e}):null}function Nf(){const t=ze(),{store:e}=It(),o=e.useSharedProps(l=>l==null?void 0:l.clientThreadId),a=lu(t),n=cu(t);return o?a?s.jsx(du,{threadId:o,showSignUp:n}):s.jsx(uu,{threadId:o,showLogin:n}):null}function Of(){return M.useEffect(()=>()=>{us.getItem(ps.TasksHasSeenProjectDisclaimerBanner)||us.setItem(ps.TasksHasSeenProjectDisclaimerBanner,!0)},[]),s.jsx(dr,{icon:s.jsx(vf,{}),title:s.jsx(Bt,{id:"ibX3g7",defaultMessage:"Tasks canâ€™t access project files"}),content:s.jsx(Bt,{id:"fm94Tm",defaultMessage:"Thereâ€™s a task in this conversation â€” just FYI, it wonâ€™t be able to access project files."}),onDismiss:()=>{us.setItem(ps.TasksHasSeenProjectDisclaimerBanner,!0)}})}function Lf(){const{store:t}=It(),e=t.useSharedProps(o=>o==null?void 0:o.clientThreadId);return e?s.jsx(iu,{threadId:e}):null}function Uf(){const{store:t}=It(),e=t.useSharedProps(o=>o==null?void 0:o.clientThreadId);return e?s.jsx(ru,{threadId:e}):null}function Ff(){const{store:t}=It(),e=t.useSharedProps();return e?s.jsx(nu,ht({},e)):null}function zf(){const{store:t}=It(),e=t.useSharedProps(a=>a==null?void 0:a.clientThreadId),o=t.useSharedProps(a=>a==null?void 0:a.composerController);return!e||!o?null:s.jsx(au,{clientThreadId:e,composerController:o})}function Hf(){const{store:t}=It(),e=t.useSharedProps(n=>n==null?void 0:n.openFileDialog),o=t.useSharedProps(n=>n==null?void 0:n.clientThreadId),a=t.useSharedProps(n=>n==null?void 0:n.composerController);return!o||!a||!e?null:s.jsx(ou,{clientThreadId:o,openFileDialog:e})}const Gf=5,Wf=M.memo(function(e){return $f(e),qf(e),pu({clientThreadId:e.clientThreadId,composerController:e.composerController,openFileDialog:e.openFileDialog}),Vf(),null});function $f(t){"use no forget";const{store:e}=It(),o=e.useSetSharedProps();Ho(()=>{o(t)},[t,o])}function qf(t){"use no forget";const{clientThreadId:e,canContinue:o}=t,{store:a}=It(),n=ze(),l=M.useRef({top:a.useContentAreaApi(fs.HeaderTop),bottom:a.useContentAreaApi(fs.HeaderBottom)}).current,r=mu(e),{shouldShowBannerSignup:i,shouldShowBannerTermsDisclaimer:g}=Jf(e),{isOpen:m}=fu(),x=gu(e),S=_u(e),y=hu(t);yu(t);const c=bu(),h=xu(t),{shouldShowMemoryFull:b}=Su(e),{shouldShowMemoryAlmostFull:_}=wu(e),C=Cu(t),I=Mu(e),d=ku(e),L=Xm(),{eligible:f}=xs(Tu),v=Au(),P=Iu(),O=vu(),w=Pu(),{eligible:T}=xs(as.hasSeenTeamSeatsPromoAnnouncement),W=Eu(e),p=Ru(e),A=ju(),U=Du({clientThreadId:e}),$=Bu(),Z=Nu(e),V=ue(()=>Fn(Zs(n,e)).id),k=Ou(e),te=oo(),X=_r(n),{eligible:F}=xs(as.hasSeenAgentModeAnnouncementBanner),ee=ue(()=>Gu(Zs(n,e)).activeSystemHintSuggestionChips$().length>0),ne=F&&X&&te!==Go,D=il(),Q=On(e),pe=Lu({shouldBeEnabledForDefaultAssistant:Q&&!D,clientThreadId:e}),_e=df(),Ae=pe==="hscroll",we=pe==="image_gen_banner"&&_e,Te=ao()&&Uu();Ho(()=>{g?l.top.set(H.BannerTermsDisclaimer):m?l.top.set(H.NewUserBannerTermsDisclaimer):V&&(k==null?void 0:k.kind)===zn.GizmoInteraction&&k.gizmo&&ll(V,k.gizmo)?l.top.set(H.ProjectConversationTaskNoFileAccess):C.eligible?l.top.set(H.AdvancedVoiceOnMobileAnnouncement):x?l.top.set(H.BannersRateLimit):S?l.top.set(H.BannersBeaconUI):U&&Fu(n)?l.top.set(H.PlusFreeTrialHomepageAnnouncementBanner):A?l.top.set(H.BannerPlusUpsell):$?l.top.set(H.BannerNoAuthTrials):I?l.top.set(H.JawboneAnnouncement):d?l.top.set(H.JawboneMaxActiveAnnouncement):y.eligible?l.top.set(H.BannerSidekickAnnouncement):c?l.top.set(H.MoonshineAnnouncement):h?l.top.set(H.SearchBrowserExtensionReactiveAnnouncement):L?l.top.set(H.PromoRedemptionAnnouncement):f?l.top.set(H.OperatorAnnouncement):O?l.top.set(H.ReferralProgramUpsellAnnouncement):o?l.top.set(H.PromptTextareaAction):i?l.top.set(H.BannerSignup):b?l.top.set(H.BannerMemoryFull):_?l.top.set(H.BannerMemoryAlmostFull):v?l.top.set(H.ReferrerRedemptionAvailableAnnouncement):P?l.top.set(H.RefereeRedemptionAvailableAnnouncement):w?l.top.set(H.StudentsUpsellAnnouncement):T?l.top.set(H.TeamSeatsPromoAnnouncement):W?l.top.set(H.ModelDeprecationBanner):p?l.top.set(H.TeamsContextualAnswersUpsell):Z?l.top.set(H.LanguageUpsellBanner):ne?l.top.set(H.AgentModeAnnouncementBanner):Ae?l.top.set(H.StarterPrompts):we?l.top.set(H.ImageGenBanner):ee?l.top.set(H.SystemHintSuggestion):l.top.set(null),Te&&l.top.set("IntegratedVoiceModeNuxBanner")},[l,te,U,o,g,m,i,x,y,b,_,C,ne,T,Ae,we,ee,Te]),Ho(()=>{r&&l.bottom.set(gr.DallePromptControls)},[l,r])}function Vf(){const{store:t}=It();M.useEffect(()=>()=>{t.reset()},[t])}function Jf(t){const e=ze(),o=!ss(e),a=Yt(e,"3637408529",{disableExposureLog:!0}),l=Yt(e,"3637408529").get("no_auth_banner_signup_rate_limit",Gf),r=a.get("should_show_no_auth_signup_banner",!0),i=zu(y=>y.bannerDisclaimerClientThreadId),g=Hu(),m={shouldShowBannerTermsDisclaimer:!1,shouldShowBannerSignup:!1},[x,S]=Nt(t,y=>{var c;return[lt.getConversationTurns(y).filter(h=>h.role===Hn.User).length,Kf((c=lt.getCurrentNode(y))==null?void 0:c.message)]});return t&&(m.shouldShowBannerTermsDisclaimer=S&&o&&x===1&&!g&&(i==null||i===t),m.shouldShowBannerSignup=r&&S&&o&&x>0&&x%l===0),m}function Kf(t){return(t==null?void 0:t.author.role)===Hn.Assistant&&cl(t)}const Yf=tt(()=>et(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zt),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),Qf=tt(()=>et(()=>import("./byl20jb73b2ubrut.js"),__vite__mapDeps([14,1])),{loading:t=>At(t)}),Xf=tt(()=>et(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zd),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),vr="manage-prompts",Zf=tt(()=>et(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zs),__vite__mapDeps([0,1,2,3,4])).then(t=>t.AgentNuxModal));function eg({hint:t,isHighlighted:e,onHighlight:o,onClick:a}){"use no forget";const n=xr(t.systemHint),l=s.jsx(Pl,{as:"div",hasManagedFocus:!0,disabled:n.isBlocked,highlighted:e,icon:s.jsx(yr,{hint:t,isNextToLabel:!0}),secondary:n.blockedLabel,onPointerMove:o,onClick:a,children:s.jsx("span",{className:"break-all",children:t.name})});return n.remainingLabel?s.jsx(na,{side:"right",labelTextAlign:n.isBlocked?"left":"center",label:n.remainingLabel,secondaryLabel:n.remainingLabelSecondary,contentClassName:"cant-hover:hidden",triggerAs:null,children:l}):l}const tg=vl(t=>{var e,o,a,n;return Ss(t)?{targets:[t.command,...(e=t.aliases)!=null?e:[],...(o=t.regexMatches)!=null?o:[],t.secondary?"".concat(t.title," ").concat(t.secondary):t.title],weight:t.matchWeight}:{targets:[t.systemHint,...(a=t.aliases)!=null?a:[],...(n=t.regexMatches)!=null?n:[],t.name]}});function sg(t){"use forget";const e=Rt.c(125),{gptsAndAppsSlashCommands$:o,modelSlashCommands$:a,libraryPromptSlashCommands:n,slashCommands:l,systemHints:r,composerController:i,clientThreadId:g,layoutMode:m}=t,x=ze(),S=Wu(),y=Qo(),c=kt(),h=m==="center"?"bottom-start":"top-start";let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=[kl({mainAxis:10,alignmentAxis:-18}),Tl({padding:6}),Al({apply:lg})],e[0]=b):b=e[0];let _;e[1]!==h?(_={placement:h,middleware:b,whileElementsMounted:El},e[1]=h,e[2]=_):_=e[2];const{refs:C,floatingStyles:I}=Il(_),[d,L]=M.useState(void 0);let f;e[3]!==i||e[4]!==C.setReference?(f=()=>{const R=Ze(i);R.dispatch(Rl(R.state.tr,{setReferencePosition:C.setReference,onHintMatch(z){L(fe=>Jn(fe,z)?fe:z)}}))},e[3]=i,e[4]=C.setReference,e[5]=f):f=e[5];let v;e[6]!==i||e[7]!==C?(v=[i,C],e[6]=i,e[7]=C,e[8]=v):v=e[8],M.useEffect(f,v);const P=$u(),O=Vn(g),{setThreadSystemHintMode:w,clearAllSystemHintModeTriggers:T}=qu(),W=so(Wt);let p;e[9]!==o||e[10]!==d?(p=()=>d&&(o==null?void 0:o()),e[9]=o,e[10]=d,e[11]=p):p=e[11];const A=ue(p);let U;e[12]!==a?(U=()=>{var R;return(R=a==null?void 0:a())!=null?R:[]},e[12]=a,e[13]=U):U=e[13];const $=ue(U),Z=(d==null?void 0:d.triggerSymbol)==="@",V=(d==null?void 0:d.triggerSymbol)==="/";let k;e[14]!==x?(k=Wn(x),e[14]=x,e[15]=k):k=e[15];const te=k;let X;e[16]!==x?(X=()=>{},e[16]=x,e[17]=X):X=e[17];const F=X;let ee;e:{if(W&&Z){let xe;e[18]===Symbol.for("react.memo_cache_sentinel")?(xe=[],e[18]=xe):xe=e[18],ee=xe;break e}let R;e[19]!==A||e[20]!==Z?(R=Z?A:A==null?void 0:A.filter(ig),e[19]=A,e[20]=Z,e[21]=R):R=e[21];const z=R;let fe;if(e[22]!==c||e[23]!==V||e[24]!==n||e[25]!==y||e[26]!==F||e[27]!==te){if(fe=[],V&&te)if(n&&n.length>0){let xe;e[29]!==n?(xe=[...n],e[29]=n,e[30]=xe):xe=e[30],fe.push(xe);let ke;e[31]!==c?(ke=c.formatMessage({id:"composer.library.managePrompts",defaultMessage:"Manage prompts"}),e[31]=c,e[32]=ke):ke=e[32];let Le;e[33]!==y?(Le=()=>y("/library?tab=prompts&referer=at_cmd"),e[33]=y,e[34]=Le):Le=e[34];let st;e[35]!==ke||e[36]!==Le?(st=[{command:vr,title:ke,icon:void 0,onSelect:Le}],e[35]=ke,e[36]=Le,e[37]=st):st=e[37],fe.push(st)}else{let xe;e[38]!==c?(xe=c.formatMessage({id:"composer.library.createPrompt",defaultMessage:"Create new prompt"}),e[38]=c,e[39]=xe):xe=e[39];let ke;e[40]!==c?(ke=c.formatMessage({id:"composer.library.createPromptDescription",defaultMessage:"Prompts are saved sequences of text that you can quickly add to your messages."}),e[40]=c,e[41]=ke):ke=e[41];let Le;e[42]!==F||e[43]!==xe||e[44]!==ke?(Le=[{command:"create-prompt",title:xe,secondary:ke,icon:void 0,onSelect:F}],e[42]=F,e[43]=xe,e[44]=ke,e[45]=Le):Le=e[45],fe.push(Le)}e[22]=c,e[23]=V,e[24]=n,e[25]=y,e[26]=F,e[27]=te,e[28]=fe}else fe=e[28];let B;e[46]!==z?(B=z!=null?z:[],e[46]=z,e[47]=B):B=e[47];let ge;e[48]!==B?(ge=[B],e[48]=B,e[49]=ge):ge=e[49];const be=ge;let qe;e[50]!==be||e[51]!==m||e[52]!==fe?(qe=m==="bottom"?[...be,...fe]:[...fe,...be],e[50]=be,e[51]=m,e[52]=fe,e[53]=qe):qe=e[53];const ot=qe;if(Z)ee=ot;else{let xe;e[54]!==l||e[55]!==$||e[56]!==ot||e[57]!==r?(xe=[l,r,$,...ot],e[54]=l,e[55]=$,e[56]=ot,e[57]=r,e[58]=xe):xe=e[58],ee=xe}}const ne=ee;let D;e:{if(!d){let B;e[59]===Symbol.for("react.memo_cache_sentinel")?(B=[],e[59]=B):B=e[59];let ge;e[60]===Symbol.for("react.memo_cache_sentinel")?(ge=[],e[60]=ge):ge=e[60];let be;e[61]===Symbol.for("react.memo_cache_sentinel")?(be={displayGroups:B,suggestions:ge},e[61]=be):be=e[61],D=be;break e}let R,z;if(e[62]!==ne||e[63]!==d.text||e[64]!==c||e[65]!==m){const B=d.text?[Vu(wn(ne),d.text,tg,{locale:c.locale})]:ne.map(ng),ge=m==="bottom"?B.reverse().map(ag):B;R=ge,z=wn(ge),e[62]=ne,e[63]=d.text,e[64]=c,e[65]=m,e[66]=R,e[67]=z}else R=e[66],z=e[67];let fe;e[68]!==R||e[69]!==z?(fe={displayGroups:R,suggestions:z},e[68]=R,e[69]=z,e[70]=fe):fe=e[70],D=fe}const{displayGroups:Q,suggestions:pe}=D,[_e,Ae]=M.useState(m==="bottom"?-1:0),we=_e==null?null:(_e+pe.length)%pe.length;let Te;e[71]!==P||e[72]!==pe?(Te=R=>{Ae(z=>{if(z==null)return null;const fe=pe.length;for(let B=0;B<fe;B++){const ge=(z+fe+(B+1)*R)%fe,be=pe[ge];if(!("systemHint"in be?P.includes(be.systemHint):be.disabled))return ge}return null})},e[71]=P,e[72]=pe,e[73]=Te):Te=e[73];const ie=Qs(Te),Ge=pe.length,ce=Ge===0;let me;e[74]!==m||e[75]!==ie?(me=()=>{m==="bottom"?(Ae(0),ie.current(-1)):(Ae(-1),ie.current(1))},e[74]=m,e[75]=ie,e[76]=me):me=e[76];let Be;e[77]!==m||e[78]!==Ge||e[79]!==ie?(Be=[Ge,m,ie],e[77]=m,e[78]=Ge,e[79]=ie,e[80]=Be):Be=e[80],M.useEffect(me,Be);const Ie=we==null?null:pe[we];let Oe;e[81]!==i||e[82]!==d?(Oe=()=>{if(d!=null&&d.range){const R=Ze(i);jl(R,d.range.from,d.range.to)}},e[81]=i,e[82]=d,e[83]=Oe):Oe=e[83];const je=Oe;let oe;e[84]!==S||e[85]!==T||e[86]!==je||e[87]!==g||e[88]!==i||e[89]!==x||e[90]!==d||e[91]!==Ie||e[92]!==O||e[93]!==w?(oe=R=>{var ke;const{hintToSave:z,expectPerfectMatch:fe}=R,B=z===void 0?Ie:z;if(!d||!B)return!1;const ge=d.text.toLocaleLowerCase(),qe=(Ss(B)?B.command:B.name).toLocaleLowerCase()===ge||((ke=B.aliases)==null?void 0:ke.some(Le=>Le.toLocaleLowerCase()===ge));if(fe&&!qe)return!1;if(je(),$s(Ze(i)),Ss(B))return B.onSelect(),!0;ct.logEvent("System Hint Selected",{system_hint:B.systemHint,conversation_id:O!=null?O:Eo});const ot={clientThreadId:g};T();const xe=B.systemHint===re.Search;return w(B.systemHint,!0,ot,xe?Dl.CONVERSATION_COMPOSER_SLASH_SEARCH:Bl.SLASH_COMMAND),B.systemHint===re.Agent&&S==="show"&&ms(x,Zf,{clientThreadId:g!=null?g:Eo,source:"slash_agent"}),!0},e[84]=S,e[85]=T,e[86]=je,e[87]=g,e[88]=i,e[89]=x,e[90]=d,e[91]=Ie,e[92]=O,e[93]=w,e[94]=oe):oe=e[94];const Re=oe,Fe=Qs(Re);let ve;e[95]!==i||e[96]!==ie||e[97]!==Fe||e[98]!==ce?(ve=()=>{const R=Ze(i);return ce||Nl(R,z=>{if(z==="up")ie.current(-1);else if(z==="down")ie.current(1);else if(z==="cancel")$s(R),Ol(R);else{if(z==="submit")return $s(R),Fe.current({expectPerfectMatch:!1});if(z==="checkMatch")return Fe.current({expectPerfectMatch:!0})}}),()=>$s(R)},e[95]=i,e[96]=ie,e[97]=Fe,e[98]=ce,e[99]=ve):ve=e[99];let se;e[100]!==je||e[101]!==i||e[102]!==ie||e[103]!==Fe||e[104]!==Ie||e[105]!==ce?(se=[i,ce,Ie,je,ie,Fe],e[100]=je,e[101]=i,e[102]=ie,e[103]=Fe,e[104]=Ie,e[105]=ce,e[106]=se):se=e[106],M.useEffect(ve,se);const ae=Qs(O);let le,J;if(e[107]!==ce||e[108]!==ae?(le=()=>{var R;ce||ct.logEvent("System Hint List Opened",{conversation_id:(R=ae.current)!=null?R:Eo})},J=[ae,ce],e[107]=ce,e[108]=ae,e[109]=le,e[110]=J):(le=e[109],J=e[110]),M.useEffect(le,J),ce)return null;let N;e[111]!==C?(N=R=>C.setFloating(R),e[111]=C,e[112]=N):N=e[112];const ye=pe.length>6?"max-h-[min(var(--radix-popper-available-height,50svh),--spacing(1.5)+5*var(--menu-item-height))]":"max-h-[var(--radix-popper-available-height,50svh)]";let he;e[113]!==ye?(he=it("max-w-[min(var(--radix-popper-available-width,100vw),--spacing(100))] overflow-y-auto [scrollbar-width:none]",ye),e[113]=ye,e[114]=he):he=e[114];let G;e[115]!==i||e[116]!==Q||e[117]!==Re||e[118]!==we?(G=Q.map((R,z)=>{let fe=0;for(let B=0;B<z;B++)fe=fe+Q[B].length;return s.jsx(rt.Group,{children:R.map((B,ge)=>{const be=fe+ge;return Ss(B)?s.jsx(Ju,{command:B,isHighlighted:be===we,onHighlight:()=>Ae(be),onClick:()=>{Re({hintToSave:B,expectPerfectMatch:!1}),Kt(Ze(i))}},B.command):s.jsx(eg,{hint:B,isHighlighted:be===we,onHighlight:()=>Ae(be),onClick:()=>{Re({hintToSave:B,expectPerfectMatch:!1}),Kt(Ze(i))}},B.systemHint)})},z)}),e[115]=i,e[116]=Q,e[117]=Re,e[118]=we,e[119]=G):G=e[119];let Y;return e[120]!==I||e[121]!==N||e[122]!==he||e[123]!==G?(Y=s.jsx(Ll,{ref:N,style:I,className:he,onPointerDown:og,children:G}),e[120]=I,e[121]=N,e[122]=he,e[123]=G,e[124]=Y):Y=e[124],Y}function og(t){t.preventDefault()}function ag(t){return t.reverse()}function ng(t){return t.filter(rg)}function rg(t){return!Ss(t)||!t.noMatchEmpty}function ig(t){return t.type!==Ko.App}function lg(t){const{elements:e,availableWidth:o,availableHeight:a}=t;e.floating.style.setProperty("--radix-popper-available-width","".concat(o,"px")),e.floating.style.setProperty("--radix-popper-available-height","".concat(a,"px"))}function cg(t){"use forget";var Fe,ve;const e=Rt.c(104),{systemHints:o,availableSystemHints:a,composerController:n,clientThreadId:l,layoutMode:r,composerLayer:i,canUseInlineTagging:g,isFileUploadEnabled:m,fileUploadDisabledReason:x,currentModelConfig:S,openFileDialog:y,connectionInstanceData:c,setActiveSystemHintType:h,selectModelId:b,gizmoId:_,hasGizmoFeatureRateLimit:C,setSelectedGizmoTag:I}=t,d=ze();let L;e[0]!==l||e[1]!==d?(L=Zs(d,l),e[0]=l,e[1]=d,e[2]=L):L=e[2];const f=L,v=kt(),P=Qo(),{connectedTypes:O}=dl(),w=Zo();let T;e[3]!==w?(T=w!=null&&ul(w),e[3]=w,e[4]=T):T=e[4];const W=T;let p;e[5]!==d?(p=()=>aa(d),e[5]=d,e[6]=p):p=e[6];const A=ue(p),{isSingleLine:U,showModelSlashCommands:$}=i,Z=Gn();let V;e[7]===Symbol.for("react.memo_cache_sentinel")?(V={onError:xg},e[7]=V):V=e[7];const{mutate:k}=pl(V);c==null||c.connection_statuses;let te;if(e[8]!==l||e[9]!==O||e[10]!==(c==null?void 0:c.connection_statuses)||e[11]!==d||e[12]!==(S==null?void 0:S.title)||e[13]!==x||e[14]!==v||e[15]!==A||e[16]!==m||e[17]!==W||e[18]!==U||e[19]!==P||e[20]!==y||e[21]!==h||e[22]!==o){if(te=[],U){let J;e[24]===Symbol.for("react.memo_cache_sentinel")?(J=["file","attach","photo"],e[24]=J):J=e[24];const N=!m,ye=S==null?void 0:S.title;let he;e[25]!==d||e[26]!==x||e[27]!==v||e[28]!==N||e[29]!==ye?(he=hr(d,v,N,x,ye),e[25]=d,e[26]=x,e[27]=v,e[28]=N,e[29]=ye,e[30]=he):he=e[30];let G;e[31]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(Yf,{"aria-label":"",className:"icon"}),e[31]=G):G=e[31];const Y=!m;let R;e[32]!==y||e[33]!==Y||e[34]!==he?(R={command:"upload",aliases:J,title:he,icon:G,onSelect:y,disabled:Y},e[32]=y,e[33]=Y,e[34]=he,e[35]=R):R=e[35],te.push(R)}let se;e[36]!==(c==null?void 0:c.connection_statuses)?(se=(Fe=c==null?void 0:c.connection_statuses.filter(bg).map(yg))!=null?Fe:[],e[36]=c==null?void 0:c.connection_statuses,e[37]=se):se=e[37];const ae=se,le=o==null?void 0:o.some(hg);if(W&&(O.size>0||ae.length>0)&&le){let J;e[38]!==v?(J=v.formatMessage({id:"6YT2cp",defaultMessage:"Use all connectors"}),e[38]=v,e[39]=J):J=e[39];let N;e[40]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(Xf,{}),e[40]=N):N=e[40];let ye;e[41]!==l||e[42]!==ae||e[43]!==O||e[44]!==h?(ye=()=>{h(re.Slurm,{analyticsMetadata:{clientThreadId:l}}),Jt(l,G=>{var R,z;const Y=(z=(R=G.selectedSources)==null?void 0:R.get(re.Slurm))!=null?z:new Set;G.selectedSources==null&&(G.selectedSources=new Map),G.selectedSources.set(re.Slurm,new Set([...Y,...O,...ae]))})},e[41]=l,e[42]=ae,e[43]=O,e[44]=h,e[45]=ye):ye=e[45];let he;e[46]!==J||e[47]!==ye?(he={command:"all-connectors",title:J,icon:N,noMatchEmpty:!0,onSelect:ye},e[46]=J,e[47]=ye,e[48]=he):he=e[48],te.push(he)}if(A){let J;e[49]===Symbol.for("react.memo_cache_sentinel")?(J=["mcp"],e[49]=J):J=e[49];let N;e[50]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(Qf,{}),e[50]=N):N=e[50];let ye;e[51]!==P?(ye={command:"add-mcp",aliases:J,title:"Add MCP",icon:N,noMatchEmpty:!0,onSelect:()=>{P(wl($n.Connectors))}},e[51]=P,e[52]=ye):ye=e[52],te.push(ye)}e[8]=l,e[9]=O,e[10]=c==null?void 0:c.connection_statuses,e[11]=d,e[12]=S==null?void 0:S.title,e[13]=x,e[14]=v,e[15]=A,e[16]=m,e[17]=W,e[18]=U,e[19]=P,e[20]=y,e[21]=h,e[22]=o,e[23]=te}else te=e[23];const X=te;let F;e[53]!==f||e[54]!==b||e[55]!==$?(F=eo(()=>{if(!$)return[];const se=ta(f),ae=[];for(const le of se.categories)le.defaultModel!==se.defaultModelSlug&&ae.push({command:le.defaultModel,title:le.label,disabled:!1,icon:s.jsx(Sn,{className:"icon"}),onSelect:()=>{b(le.defaultModel,"slash menu")}});for(const le of se.groups)for(const J of le.modelIds){const N=se.models.get(J);if(N&&!N.tags.includes(ml.HIDDEN)){let ye=N.title;ae.push({command:N.id,title:ye,secondary:void 0,trailing:s.jsx(fl,{children:le.label}),noMatchEmpty:!0,matchWeight:.1,disabled:!1,icon:s.jsx(Sn,{className:"icon"}),onSelect:()=>{b(N.id,"slash menu")}})}}return ae}),e[53]=f,e[54]=b,e[55]=$,e[56]=F):F=e[56];const ee=F;let ne;e[57]!==a?(ne=a!=null?a:[],e[57]=a,e[58]=ne):ne=e[58];let D;e[59]!==ne?(D=ne.filter(_g),e[59]=ne,e[60]=D):D=e[60];const Q=D;let pe;e[61]!==a?(pe=a!=null?a:[],e[61]=a,e[62]=pe):pe=e[62];let _e;e[63]!==pe?(_e=pe.filter(gg),e[63]=pe,e[64]=_e):_e=e[64];const Ae=_e;let we;e[65]!==Z||e[66]!==Ae||e[67]!==g||e[68]!==l||e[69]!==d||e[70]!==_||e[71]!==C||e[72]!==I?(we=eo(()=>{var G,Y,R,z,fe;if(!g)return[];const{data:se}=gl(d),{data:ae}=_l(d),{data:le}=hl(d),J=sa([...(G=se==null?void 0:se.items)!=null?G:[],...(R=(Y=ae==null?void 0:ae.list.items)==null?void 0:Y.map(fg))!=null?R:[],...Et(d,"773249106")?(fe=(z=le==null?void 0:le.items)==null?void 0:z.map(mg))!=null?fe:[]:[]],pg),N=_?J.filter(B=>B.gizmo.id!==_):J,ye=Ae.map(B=>{var ge,be;return{command:(ge=B.actionLabel)!=null?ge:B.name,title:(be=B.actionLabel)!=null?be:B.name,type:Ko.App,icon:s.jsx(yr,{hint:B,isNextToLabel:!0}),onSelect:()=>{Z(B.systemHint),yl(B.systemHint,xl.AtMention,bl({clientThreadId:l}))}}}),he=N.map(B=>{var ge;return{command:B.gizmo.display.name,title:B.gizmo.display.name,type:Ko.Gizmo,disabled:C,icon:s.jsx(br,{simple:!0,isFirstParty:((ge=B.gizmo.tags)==null?void 0:ge.includes(oa.FirstParty))===!0,src:B.gizmo.display.profile_picture_url,className:"icon",alt:""}),onSelect:()=>{ct.logEventWithStatsig("Composer GPT Selected","chatgpt_web_composer_gpt_selected",{gizmo:B.gizmo.id}),I(B)}}}).filter(B=>!ye.some(ge=>ge.command===B.command));return[...ye,...he]}),e[65]=Z,e[66]=Ae,e[67]=g,e[68]=l,e[69]=d,e[70]=_,e[71]=C,e[72]=I,e[73]=we):we=e[73];const Te=we;let Je;e[74]!==d?(Je=Wn(d),e[74]=d,e[75]=Je):Je=e[75];const ie=Je;let Ge;e[76]!==ie?(Ge={enabled:ie},e[76]=ie,e[77]=Ge):Ge=e[77];const{data:ce,isLoading:me}=Sl(Ge);let Be;e[78]!==l||e[79]!==n||e[80]!==f||e[81]!==k||e[82]!==P||e[83]!==h?(Be=se=>{var le,J,N;const ae=Ze(n);if(Cl(ae,"@"),se===vr){P("/library?tab=prompts");return}if(se.id&&!se.created_by_openai&&k(String(se.id)),qn.set(f,!0),ct.logEventWithStatsig("chatgpt_web_prompt_used","chatgpt_web_prompt_used",{referer:"at_cmd",hint:(le=se.system_hint)!=null?le:"none",sources:((J=se.sources)!=null?J:[]).join(",")}),Ml(ae,se.prompt),se.system_hint&&(h(se.system_hint),(N=se.sources)!=null&&N.length)){const ye=se.sources.map(ug).filter(Wo),he=se.system_hint,G=new Set(ye.filter(dg)),Y=new Set(ye.filter(Ht));Jt(l,R=>{R.selectedSources=new Map([[he,G]]),R.selectedMCPSources=new Map([[he,Y]]),R.hasModifiedSources=!0})}},e[78]=l,e[79]=n,e[80]=f,e[81]=k,e[82]=P,e[83]=h,e[84]=Be):Be=e[84];const Ie=Be;let Oe;e:{if(me||ce==null||!ie){let le;e[85]===Symbol.for("react.memo_cache_sentinel")?(le=[],e[85]=le):le=e[85],Oe=le;break e}let se;e[86]!==ce.pages[0].prompts?(se=(ve=ce.pages[0].prompts)!=null?ve:[],e[86]=ce.pages[0].prompts,e[87]=se):se=e[87];let ae;if(e[88]!==Ie||e[89]!==se){let le;e[91]!==Ie?(le=J=>({command:J.name,title:J.name,icon:void 0,onSelect:()=>{Ie(J)}}),e[91]=Ie,e[92]=le):le=e[92],ae=se.map(le),e[88]=Ie,e[89]=se,e[90]=ae}else ae=e[90];Oe=ae}const je=Oe;let oe;e[93]!==Q?(oe=Q!=null?Q:[],e[93]=Q,e[94]=oe):oe=e[94];let Re;return e[95]!==l||e[96]!==n||e[97]!==Te||e[98]!==r||e[99]!==je||e[100]!==ee||e[101]!==X||e[102]!==oe?(Re=s.jsx(sg,{gptsAndAppsSlashCommands$:Te,modelSlashCommands$:ee,libraryPromptSlashCommands:je,slashCommands:X,systemHints:oe,composerController:n,clientThreadId:l,layoutMode:r}),e[95]=l,e[96]=n,e[97]=Te,e[98]=r,e[99]=je,e[100]=ee,e[101]=X,e[102]=oe,e[103]=Re):Re=e[103],Re}function dg(t){return!Ht(t)}function ug(t){return t.trim()}function pg(t){return t.gizmo.id}function mg(t){return t.gizmo}function fg(t){return t.resource}function gg(t){return t.isConnector}function _g(t){return!(t.isConnector&&t.hideFromInitialSelection)}function hg(t){return t.systemHint===re.Slurm}function yg(t){return t.user_connection_details.connection_type}function bg(t){return t.user_connection_details.activation_status==="activated"&&["google_drive_oauth","google_drive_dwd"].includes(t.user_connection_details.knowledge_connector_type)}function xg(){}function Sg(t){"use forget";const e=Rt.c(35),{clientThreadId:o,modelSupportedImageMimeTypes:a,openFileDialog:n,historyDisabled:l,isDisabled:r,highlightTooltip:i,disabledReason:g,currentModelName:m,isLoadingConnectors:x,connectorConfig:S,onSelectConnector:y,showLabel:c,showUpsell:h,hideBorder:b,isSmall:_,showMenuForNoAuth:C,visualTreatment:I}=t,d=ze(),L=Ul();let f;e[0]!==d?(f=Fl(d),e[0]=d,e[1]=f):f=e[1];const{gdriveStatus:v,o365Status:P}=f;let O;e[2]!==d?(O=ss(d),e[2]=d,e[3]=O):O=e[3];const w=!O,T=l?"text-white":i?"text-brand-blue-800":"",W=!h&&(v!=="false"||P!=="false"||L);let p;e[4]!==d?(p=()=>ra(d),e[4]=d,e[5]=p):p=e[5];const{loggedOutAttachPlusIcon:A}=ue(p),U=w&&!A?Ku:Yu;let $;e[6]!==T?($=it("icon",T),e[6]=T,e[7]=$):$=e[7];let Z;e[8]!==U||e[9]!==$?(Z=s.jsx(U,{"aria-label":"",className:$}),e[8]=U,e[9]=$,e[10]=Z):Z=e[10];const V=Z,k=a.length>0;let te;e[11]!==o||e[12]!==S||e[13]!==m||e[14]!==g||e[15]!==b||e[16]!==i||e[17]!==V||e[18]!==r||e[19]!==x||e[20]!==_||e[21]!==w||e[22]!==a||e[23]!==k||e[24]!==y||e[25]!==n||e[26]!==W||e[27]!==c||e[28]!==C||e[29]!==h||e[30]!==I?(te=W?s.jsx(Qu,{clientThreadId:o,icon:V,showLabel:w&&c,modelSupportedImageMimeTypes:a,isLoadingConnectors:x,connectorConfig:S,onSelectConnector:y,openFileDialog:n,isDisabled:r,highlightTooltip:i,disabledReason:g,currentModelName:m}):s.jsx(tf,{isSmall:_,hideBorder:b,clientThreadId:o,openFileDialog:n,showLabel:c,showUpsell:h,icon:V,isDisabled:r,highlightTooltip:i,disabledReason:g,currentModelName:m,visualTreatment:I,showMenuForNoAuth:C,modelSupportsImages:k}),e[11]=o,e[12]=S,e[13]=m,e[14]=g,e[15]=b,e[16]=i,e[17]=V,e[18]=r,e[19]=x,e[20]=_,e[21]=w,e[22]=a,e[23]=k,e[24]=y,e[25]=n,e[26]=W,e[27]=c,e[28]=C,e[29]=h,e[30]=I,e[31]=te):te=e[31];const X=te;let F;return e[32]!==X||e[33]!==i?(F=s.jsx(Xu,{showBackground:i,className:"bg-brand-blue-800/20",children:X}),e[32]=X,e[33]=i,e[34]=F):F=e[34],F}const wg=tt(()=>et(()=>import("./day0eq8ejtzre5iu.js"),__vite__mapDeps([15,1])),{loading:t=>At(t)}),Pr=tt(()=>et(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zq),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),Cg=tt(()=>et(()=>import("./zqv59oidvge8f4ro.js"),__vite__mapDeps([16,1])),{loading:t=>At(t)}),Mg=tt(()=>et(()=>import("./ezy6n48j7a81l4k0.js"),__vite__mapDeps([17,1])),{loading:t=>At(t)}),Er=tt(()=>et(()=>import("./lvqor23r3netsa7d.js"),__vite__mapDeps([18,1])),{loading:t=>At(t)}),kg=tt(()=>et(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zv),__vite__mapDeps([0,1,2,3,4])),{loading:t=>At(t)}),Nn=tt(()=>et(()=>import("./nbrjep5yk15f1ntt.js"),__vite__mapDeps([19,1,2,3,20,0,4])).then(t=>t.ConnectorsOnboardingModal)),Ks=6,Tg=(t,e=!1,{systemHintType:o}={})=>{const a=t.some(g=>!g.disabled),n=e?[...t]:a?t.filter(g=>!g.disabled):[...t],l=Gt(o),r=l?new Set(tr()):null,i=g=>!r||!g.connectorType?0:r.has(g.connectorType)?1:0;return n.sort((g,m)=>{if(g.connected&&!m.connected)return-1;if(!g.connected&&m.connected)return 1;if(g!=null&&g.isAutoConnected&&!(m!=null&&m.isAutoConnected)||g.type==="web"&&m.type!=="web")return-1;if(g.type!=="web"&&m.type==="web"||e&&g.disabled&&!m.disabled)return 1;if(e&&!g.disabled&&m.disabled||g.isEcosystemConnector&&!m.isEcosystemConnector)return-1;if(!g.isEcosystemConnector&&m.isEcosystemConnector)return 1;if(l&&!g.connected&&!m.connected){const x=i(g),S=i(m);if(x!==S)return S-x}return g.name.localeCompare(m.name)}),n},ro=t=>{window.open(t,"","noopener,noreferrer")};function Qt(t){switch(t.user_connection_details.activation_status){case"activated":case"partially_activated":return!0;case"activating":case"inactive":return!1}}function Ag(t){return t.user_connection_details.auth_status==="admin_connected"||t.user_connection_details.auth_status==="user_connected"}const Ig=new Set(["slack_sync_connector","github_sync_connector","notion_sync_connector","sharepoint_admin_sync_connector","teams_admin_sync_connector","confluence_sync_connector","jira_sync_connector","jira_servicemanagement_sync_connector"]),vg=t=>{"use forget";var vt,Lt,Tt,xt,Xt,at;const e=Rt.c(184),{isLoading:o,clientThreadId:a,enabledConnectors:n,enabledEcosystemConnectors:l,includeWebSearch:r,includeCloudBrowser:i,includeSyncConnectors:g,connectorFilterFn:m,connectorConfigMap:x,fetchValidLinksOnly:S,systemHintType:y,selectedSources:c,selectedMCPSources:h,showConnectMore:b,toggleSource:_,contentRef:C,isDeveloperMode:I,defaultAutoConnectors:d}=t,L=o===void 0?!1:o,f=r===void 0?!0:r,v=i===void 0?!1:i,P=g===void 0?!1:g,O=b===void 0?!0:b,w=ze();let T;e[0]!==c?(T=c==null?void 0:c.has("cloud"),e[0]=c,e[1]=T):T=e[1];const W=!!T;let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=to(),e[2]=p):p=e[2];const A=p;let U;e[3]!==w?(U=()=>Wt(w),e[3]=w,e[4]=U):U=e[4];const $=ue(U),V=y==="agent"&&A&&!W,k=kt(),te=Zn(),{openSettings:X}=tp(),F=Nt(a,Rg);let ee;e[5]!==te||e[6]!==I?(ee=(te==null?void 0:te.isWorkspacePlan())&&I,e[5]=te,e[6]=I,e[7]=ee):ee=e[7];const ne=ee,D=!I||F===!1&&!ne,Q=F===!0&&!ne;let pe;e[8]!==S?(pe={fetchValidLinksOnly:S},e[8]=S,e[9]=pe):pe=e[9];const{connectorLinks:_e,isLoading:Ae}=Kn(pe);let we;e[10]!==w?(we=ia(w),e[10]=w,e[11]=we):we=e[11];const Te=we;let Je;e[12]!==w||e[13]!==P?(Je=()=>ua.if$(w,P),e[12]=w,e[13]=P,e[14]=Je):Je=e[14];const{data:ie,isLoading:Ge}=ue(Je);let ce;if(e[15]!==(ie==null?void 0:ie.connection_statuses)||e[16]!==m){e:{const de=sa((vt=ie==null?void 0:ie.connection_statuses)!=null?vt:[],jg);if(m){ce=(Lt=de==null?void 0:de.filter(Ne=>m(Ne.user_connection_details.connection_type)))!=null?Lt:[];break e}ce=de!=null?de:[]}e[15]=ie==null?void 0:ie.connection_statuses,e[16]=m,e[17]=ce}else ce=e[17];const me=ce;let Be;e[18]!==me?(Be=new Set(me.map(Dg).filter(Bg)),e[18]=me,e[19]=Be):Be=e[19];const Ie=Be;let Oe;e[20]!==me?(Oe=me.some(Ng),e[20]=me,e[21]=Oe):Oe=e[21];const je=Oe;let oe;e[22]!==me?(oe=me.some(Og),e[22]=me,e[23]=oe):oe=e[23];const Re=oe;let Fe;e[24]!==l?(Fe=new Set((l!=null?l:[]).map(Lg)),e[24]=l,e[25]=Fe):Fe=e[25];const ve=Fe;let se;if(e[26]!==n||e[27]!==ve){let de;e[29]!==ve?(de=Ne=>{var De;return!((De=Ne.branding)!=null&&De.is_discoverable_app)||Ne.conformance.implements_retrievable||typeof Ne.type=="string"&&ve.has(Ne.type)},e[29]=ve,e[30]=de):de=e[30],se=n.filter(de),e[26]=n,e[27]=ve,e[28]=se}else se=e[28];const ae=se;let le;e:{if(!P){let Ce;e[31]!==x||e[32]!==_e||e[33]!==ae?(Ce={enabledConnectors:ae,connectorConfigMap:x,connectorLinks:_e},e[31]=x,e[32]=_e,e[33]=ae,e[34]=Ce):Ce=e[34],le=Ce;break e}const de=os[Ye.GDRIVE_ACTION_CONNECTOR];let Ne;e[35]!==_e?(Ne=_e.has(de),e[35]=_e,e[36]=Ne):Ne=e[36];const De=Ne;let ut;e[37]!==me?(ut=me.some(Ug),e[37]=me,e[38]=ut):ut=e[38];const gt=ut;let jt;e[39]!==me?(jt=me.some(Fg),e[39]=me,e[40]=jt):jt=e[40];const q=jt;let Se,Pe,Ee;if(e[41]!==x||e[42]!==_e||e[43]!==ae||e[44]!==q||e[45]!==De||e[46]!==gt||e[47]!==je||e[48]!==Re||e[49]!==k||e[50]!==me){if(Ee=[...ae],Se=new Map(x),Pe=new Map(_e),De&&!Ee.some(zg)&&!gt){Ee.push({id:os[Ye.GDRIVE_ACTION_CONNECTOR],type:Ye.GDRIVE_ACTION_CONNECTOR,name:"Google Drive",description:"",logo_url:sp,connector_type:"SERVICE",service:"",base_url:null,actions:[],supported_auth:[],owners:[],access_list:[],conformance:{implements_retrievable:!0}});let Ce;e[54]!==k?(Ce=k.formatMessage(St.contactAdmin),e[54]=k,e[55]=Ce):Ce=e[55];let Qe;e[56]!==Ce?(Qe={disabled:!0,disabledText:Ce,hasBetaTag:!1},e[56]=Ce,e[57]=Qe):Qe=e[57],Se.set(Ye.GDRIVE_ACTION_CONNECTOR,Qe),Pe.delete(de)}else q&&(Ee=Ee.filter(Ce=>{var Qe;if(Ce.type===Ye.GDRIVE_ACTION_CONNECTOR){const nt=(Qe=Pe.get(Ce.id))==null?void 0:Qe[0];if(me.some(Xe=>Xe.user_connection_details.backing_link_id===(nt==null?void 0:nt.id))||Ce.type===Ye.GDRIVE_ACTION_CONNECTOR)return!1}return!0}));me.forEach(Ce=>{Qt(Ce)&&Ce.user_connection_details.backing_link_id?Pe.forEach((Qe,nt)=>{Qe.some(Xe=>Xe.id===Ce.user_connection_details.backing_link_id)&&(Ee=Ee.filter(Xe=>Xe.id!==nt))}):je?Ee=Ee.filter(Hg):Re&&(Ee=Ee.filter(Gg))}),e[41]=x,e[42]=_e,e[43]=ae,e[44]=q,e[45]=De,e[46]=gt,e[47]=je,e[48]=Re,e[49]=k,e[50]=me,e[51]=Se,e[52]=Pe,e[53]=Ee}else Se=e[51],Pe=e[52],Ee=e[53];let Ve;e[58]!==Se||e[59]!==Pe||e[60]!==Ee?(Ve={enabledConnectors:Ee,connectorConfigMap:Se,connectorLinks:Pe},e[58]=Se,e[59]=Pe,e[60]=Ee,e[61]=Ve):Ve=e[61],le=Ve}const{enabledConnectors:J,connectorConfigMap:N,connectorLinks:ye}=le;let he;e[62]!==J?(he=J.some(Wg),e[62]=J,e[63]=he):he=e[63];const G=he;let Y;e[64]!==w||e[65]!==G?(Y=()=>({data:void 0,isLoading:!1,isSuccess:!1,error:void 0}),e[64]=w,e[65]=G,e[66]=Y):Y=e[66];const R=ue(Y);let z;if(e[67]!==_e||e[68]!==ae||e[69]!==Te||e[70]!==ve||e[71]!==a||e[72]!==N||e[73]!==m||e[74]!==ye||e[75]!==C||e[76]!==w||e[77]!==d||e[78]!==Q||e[79]!==D||e[80]!==V||e[81]!==J||e[82]!==je||e[83]!==Re||e[84]!==v||e[85]!==P||e[86]!==f||e[87]!==k||e[88]!==W||e[89]!==h||e[90]!==c||e[91]!==R||e[92]!==me||e[93]!==Ie||e[94]!==y||e[95]!==_){const de=[];if(f){const q=Q||V;let Se;e[97]!==c?(Se=c==null?void 0:c.has("web"),e[97]=c,e[98]=Se):Se=e[98];let Pe;e[99]!==_?(Pe=()=>{_("web")},e[99]=_,e[100]=Pe):Pe=e[100];let Ee;e[101]!==k?(Ee=k.formatMessage(St.webSearch),e[101]=k,e[102]=Ee):Ee=e[102];let Ve;e[103]!==q||e[104]!==Se||e[105]!==Pe||e[106]!==Ee?(Ve=s.jsx(rt.CheckboxItem,{icon:Pr,disabled:q,checked:Se,onCheckedChange:Pe,children:Ee}),e[103]=q,e[104]=Se,e[105]=Pe,e[106]=Ee,e[107]=Ve):Ve=e[107],de.push({connected:!0,type:"web",name:"web",element:Ve})}if(v){let q;e[108]!==_?(q=()=>{_("cloud")},e[108]=_,e[109]=q):q=e[109];let Se;e[110]!==k?(Se=k.formatMessage(St.cloudBrowser),e[110]=k,e[111]=Se):Se=e[111];let Pe;e[112]!==Q||e[113]!==W||e[114]!==q||e[115]!==Se?(Pe=s.jsx(rt.CheckboxItem,{icon:Er,disabled:Q,checked:W,onCheckedChange:q,children:Se}),e[112]=Q,e[113]=W,e[114]=q,e[115]=Se,e[116]=Pe):Pe=e[116],de.push({connected:!0,type:"cloud",name:"cloud",element:Pe})}P&&me.forEach(q=>{var Qe,nt,Xe,Mt;if(m&&!m(q.user_connection_details.connection_type))return;const Se=(Qe=N==null?void 0:N.get("sync_connector"))==null?void 0:Qe.disabled,Pe=q.user_connection_details.backing_link_id,Ee=Pe?[...ye.keys()].find(Ke=>{var Zt;return(Zt=ye.get(Ke))==null?void 0:Zt.some(Ut=>Ut.id===Pe)}):null,Ve=Ee?(nt=ae.find(Ke=>Ke.id===Ee))==null?void 0:nt.type:null;if(q.user_connection_details.connection_type==="gdrive_sync_connector"&&!Qt(q))return;if(!Qt(q)&&q.user_connection_details.backing_link_id&&Ve)return;if(q.user_connection_details.connection_type==="github_sync_connector")return;if(!Ag(q)&&!Ig.has(q.user_connection_details.connection_type))return;if(je&&q.user_connection_details.connection_type==="sharepoint_sync_connector")return;if(Re&&q.user_connection_details.connection_type==="teams_admin_sync_connector"||q.user_connection_details.auth_status==="admin_managed_disconnected")return;const Ce=q.user_connection_details.auth_status==="admin_connected"?q.user_connection_details.activation_status!=="inactive":q.user_connection_details.auth_status!=="not_connected";de.push({connected:Ce,type:"sync",name:no(q),connectorType:q.user_connection_details.connection_type,element:s.jsx(jr,{connection:q,disabled:Se||V,disabledText:Se?(Xe=N==null?void 0:N.get("sync_connector"))==null?void 0:Xe.disabledText:k.formatMessage(St.connectorsNeedCloudBrowserDisabledText),isSelectedInSource:(Mt=c==null?void 0:c.has(q.user_connection_details.connection_type))!=null?Mt:!1,location:"user_dropdown",refetch:()=>Qa(w),showDetails:Ie.has(q.user_connection_details.connection_type),toggleSource:Ke=>{Ve&&c.has(Ve)&&_(Ve),_(Ke)}},q.user_connection_details.connection_instance_id)})}),c&&J.forEach(q=>{var Ve,Ce,Qe,nt,Xe,Mt,Ke,Zt;const Pe=!!((Ve=ye.get(q.id))==null?void 0:Ve[0]),Ee=void 0;if(q.type===er.MCP_CONNECTOR)de.push({connected:Pe,type:"access",name:q.name,connectorType:q.type,element:s.jsx(Pg,{connector:q,connectorLinks:ye,selectedMCPSources:h,toggleSource:_,systemHintType:y,disabled:q.status==="ONLY_ME"&&D||q.status!=="ONLY_ME"&&Q||V})});else{let Ut=Q||((Qe=(Ce=N==null?void 0:N.get(q.type))==null?void 0:Ce.disabled)!=null?Qe:!1),es=Ut?(nt=N==null?void 0:N.get(q.type))==null?void 0:nt.disabledText:void 0;if(q.status==="DISABLED_BY_ADMIN"?(Ut=!0,es=k.formatMessage(Xa.disabledByAdmin)):V&&(Ut=!0,es=k.formatMessage(St.connectorsNeedCloudBrowserDisabledText)),q.type===Ye.GITHUB_CONNECTOR)return;const pa=Te.includes(q.type)&&y===re.Slurm,ns=d==null?void 0:d.includes(q.type),io=typeof q.type=="string"&&ve.has(q.type)&&!!((Xe=q.branding)!=null&&Xe.is_discoverable_app)&&!q.conformance.implements_retrievable;de.push({connected:Pe,disabled:Ut,type:"access",name:q.name,isAutoConnected:pa||ns,connectorType:q.type,isEcosystemConnector:io,element:s.jsx(Rr,{connector:q,syncProgress:Ee,connectorLink:(Mt=ye.get(q.id))==null?void 0:Mt[0],disabled:Ut,disabledText:es,hasBetaTag:(Ke=N==null?void 0:N.get(q.type))==null?void 0:Ke.hasBetaTag,isSelectedInSource:(Zt=c.has(q.type))!=null?Zt:!1,systemHintType:y,toggleSource:_,isDefaultAutoConnected:ns})})}});let Ne;e[117]!==ae||e[118]!==c?(Ne=c&&ae.find($g),e[117]=ae,e[118]=c,e[119]=Ne):Ne=e[119];let De=Ne;m&&!m(Ye.GITHUB_CONNECTOR)&&(De=void 0);let ut;e[120]!==P||e[121]!==me?(ut=P?me.find(qg):void 0,e[120]=P,e[121]=me,e[122]=ut):ut=e[122];const gt=ut;if(De||gt){const q=gt&&gt.user_connection_details.auth_status!=="not_connected"&&gt.user_connection_details.activation_status!=="inactive";let Se;e[123]!==_e?(Se=(Tt=_e.get(Hl))==null?void 0:Tt[0],e[123]=_e,e[124]=Se):Se=e[124];const Pe=Se,Ee=De&&!!Pe;let Ve;e[125]!==N||e[126]!==Q?(Ve=Q||((Xt=(xt=N==null?void 0:N.get(Ye.GITHUB_CONNECTOR))==null?void 0:xt.disabled)!=null?Xt:!1),e[125]=N,e[126]=Q,e[127]=Ve):Ve=e[127];let Ce=Ve,Qe;e[128]!==N||e[129]!==Ce?(Qe=Ce?(at=N==null?void 0:N.get(Ye.GITHUB_CONNECTOR))==null?void 0:at.disabledText:void 0,e[128]=N,e[129]=Ce,e[130]=Qe):Qe=e[130];let nt=Qe;if((De==null?void 0:De.status)==="DISABLED_BY_ADMIN"){Ce=!0;let Ke;e[131]!==k?(Ke=k.formatMessage(Xa.disabledByAdmin),e[131]=k,e[132]=Ke):Ke=e[132],nt=Ke}else if(V){Ce=!0;let Ke;e[133]!==k?(Ke=k.formatMessage(St.connectorsNeedCloudBrowserDisabledText),e[133]=k,e[134]=Ke):Ke=e[134],nt=Ke}let Xe;e[135]!==w?(Xe=()=>Qa(w),e[135]=w,e[136]=Xe):Xe=e[136];let Mt;e[137]!==a||e[138]!==Pe||e[139]!==C||e[140]!==nt||e[141]!==Ce||e[142]!==De||e[143]!==gt||e[144]!==c||e[145]!==y||e[146]!==Xe||e[147]!==_?(Mt=s.jsx(Eg,{clientThreadId:a,githubSyncConnection:gt,githubAccessConnector:De,connectorLink:Pe,selectedSources:c,toggleSource:_,systemHintType:y,refetch:Xe,contentRef:C,disabled:Ce,disabledText:nt}),e[137]=a,e[138]=Pe,e[139]=C,e[140]=nt,e[141]=Ce,e[142]=De,e[143]=gt,e[144]=c,e[145]=y,e[146]=Xe,e[147]=_,e[148]=Mt):Mt=e[148],de.push({disabled:Ce,connected:!!q||!!Ee,type:q?"sync":"access",name:"GitHub",connectorType:Ye.GITHUB_CONNECTOR,element:Mt})}z=Tg(de,Q||D,{systemHintType:y}).reduce(Vg,[[],[]]),e[67]=_e,e[68]=ae,e[69]=Te,e[70]=ve,e[71]=a,e[72]=N,e[73]=m,e[74]=ye,e[75]=C,e[76]=w,e[77]=d,e[78]=Q,e[79]=D,e[80]=V,e[81]=J,e[82]=je,e[83]=Re,e[84]=v,e[85]=P,e[86]=f,e[87]=k,e[88]=W,e[89]=h,e[90]=c,e[91]=R,e[92]=me,e[93]=Ie,e[94]=y,e[95]=_,e[96]=z}else z=e[96];const[fe,B]=z;let ge;e[149]!==fe||e[150]!==B?(ge={connectedRows:fe,disconnectedRows:B},e[149]=fe,e[150]=B,e[151]=ge):ge=e[151];const{connectedRows:be,disconnectedRows:qe}=ge;let ot;e:{if(Gt(y)){let de;e[152]===Symbol.for("react.memo_cache_sentinel")?(de=new Set(tr()),e[152]=de):de=e[152];const Ne=de;let De;if(e[153]!==qe||e[154]!==Ne){let ut;e[156]!==Ne?(ut=gt=>{var jt;return Ne.has((jt=gt.connectorType)!=null?jt:"")},e[156]=Ne,e[157]=ut):ut=e[157],De=qe.filter(ut),e[153]=qe,e[154]=Ne,e[155]=De}else De=e[155];ot=Math.max(Ks-be.length,De.length);break e}ot=Ks-be.length}const xe=ot;if(!a||!c)return null;if(Ge||Ae||L){let de;return e[158]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx("div",{className:"w-50 px-4",children:s.jsx(Jl,{lines:5,size:"lg",widthVariance:0,width:100})}),e[158]=de):de=e[158],de}const ke=be.length>Ks,Le=ke&&"border-token-border-secondary mb-1.5 border-b";let st;e[159]!==Le?(st=it(Le,"overflow-y-auto"),e[159]=Le,e[160]=st):st=e[160];let wt;e[161]!==ke?(wt=ke?{maxHeight:"calc(2.25rem * ".concat(Ks+.5,")")}:void 0,e[161]=ke,e[162]=wt):wt=e[162];let bt;e[163]!==be?(bt=be.map(Jg),e[163]=be,e[164]=bt):bt=e[164];let dt;e[165]!==st||e[166]!==wt||e[167]!==bt?(dt=s.jsx("div",{className:st,style:wt,children:bt}),e[165]=st,e[166]=wt,e[167]=bt,e[168]=dt):dt=e[168];let mt;e[169]!==xe||e[170]!==qe?(mt=qe.length>0&&xe>0&&s.jsx(s.Fragment,{children:qe.slice(0,xe).map(Kg)}),e[169]=xe,e[170]=qe,e[171]=mt):mt=e[171];let ft;e[172]!==w||e[173]!==V||e[174]!==k||e[175]!==$||e[176]!==X||e[177]!==O||e[178]!==y?(ft=O&&s.jsx(rt.Item,{disabled:V,icon:Mg,onPointerOver:()=>{Gt(y)&&Nn.prefetch()},onSelect:()=>{ct.logEventWithStatsig("chatgpt_connectors_dropdown_connect_more_clicked","chatgpt_connectors_dropdown_connect_more_clicked"),$?ro(Kl):Gt(y)?ms(w,Nn,{}):X($n.Connectors)},children:k.formatMessage(St.connectApps)}),e[172]=w,e[173]=V,e[174]=k,e[175]=$,e[176]=X,e[177]=O,e[178]=y,e[179]=ft):ft=e[179];let Ct;return e[180]!==dt||e[181]!==mt||e[182]!==ft?(Ct=s.jsxs("div",{className:"w-70",children:[dt,mt,ft]}),e[180]=dt,e[181]=mt,e[182]=ft,e[183]=Ct):Ct=e[183],Ct},ys=({isLoading:t=!1,clientThreadId:e,enabledConnectors:o,enabledEcosystemConnectors:a,trigger:n,includeWebSearch:l,includeCloudBrowser:r,selectedSources:i,selectedMCPSources:g,addSource:m,deleteSource:x,toggleSource:S,includeSyncConnectors:y=!1,connectorFilterFn:c,connectorConfigMap:h,fetchValidLinksOnly:b,systemHintType:_,showConnectMore:C=!0,isDeveloperMode:I,defaultAutoConnectors:d})=>{const L=ze(),{refetch:f}=Kn({fetchValidLinksOnly:b}),v=Yn(),P=Gt(_)?Qn(L):!0,w=Nt(e,U=>U==null?void 0:U.startedWithByoMcp)===!0,T=M.useRef(null),W=M.useMemo(()=>{const U=a!=null?a:[],$=new Set(U.map(V=>V.id)),Z=o.filter(V=>!$.has(V.id));return[...U,...Z]},[o,a]),p=M.useRef(!1),A=M.useRef(!1);return M.useEffect(()=>{var $,Z;const U=(($=i==null?void 0:i.size)!=null?$:0)+((Z=g==null?void 0:g.size)!=null?Z:0);!p.current&&U===0&&!w&&(m("web"),p.current=!0)},[i,g,m,w]),s.jsxs(rt.Root,{"data-testid":"sources-pill",onOpenChange:U=>{var $,Z;U?(A.current||(zl.logEntryPointShown({referrer:ws.SourcesDropdown}),A.current=!0),f()):(!Zu(ep($o(e),_))&&P&&(x(Ye.GITHUB_CONNECTOR),v&&x("github_sync_connector")),(($=i==null?void 0:i.size)!=null?$:0)+((Z=g==null?void 0:g.size)!=null?Z:0)===0&&!w&&m("web"))},children:[n,s.jsx(rt.Portal,{children:s.jsx(rt.Content,{alignOffset:-7,size:"auto",ref:T,children:s.jsx(vg,{isLoading:t,clientThreadId:e,enabledConnectors:W,enabledEcosystemConnectors:a,includeWebSearch:l,includeCloudBrowser:r,includeSyncConnectors:y,connectorFilterFn:c,connectorConfigMap:h,fetchValidLinksOnly:b,systemHintType:_,selectedSources:i,selectedMCPSources:g,showConnectMore:C,toggleSource:S,contentRef:T,isDeveloperMode:I,defaultAutoConnectors:d})})})]})},Ys=3,bs=({includeSyncConnectors:t,includeWebSearch:e,connectorFilterFn:o,selectedSources:a,selectedMCPSources:n,isDeveloperMode:l})=>{var W;const r=ze(),i=kt(),g=Xn(),m=ue(()=>or(r,{productSku:qo.PROMPT_TEXT_AREA})),x=m===void 0,{data:S,isLoading:y}=ue(()=>ua.if$(r,t)),c=x||y,h=e?a!=null&&a.has("web")?s.jsx(Pr,{className:"icon"}):s.jsx(Cg,{className:"icon"}):void 0,b=a!=null&&a.has("cloud")?s.jsx(Er,{className:"icon"}):void 0,_=[...a!=null?a:[]].filter(p=>p!=="web"&&p!=="cloud").filter(p=>o?o(p):!0).map(p=>{const A=m==null?void 0:m.find(U=>U.type===p);return A?{name:A.name,icon:s.jsx(Ms,{connector:A,size:"xsmall"})}:null}).filter(p=>!!p),C=t?Array.from(new Map(((W=S==null?void 0:S.connection_statuses)!=null?W:[]).filter(p=>Qt(p)&&(o?o(p.user_connection_details.connection_type):!0)&&(a==null?void 0:a.has(p.user_connection_details.connection_type))).map(p=>{var A;return[p.user_connection_details.connection_type,{name:no(p),icon:s.jsx("img",{src:g&&p.connection_display_info.icon_dark_url?p.connection_display_info.icon_dark_url:(A=p.connection_display_info.icon_url)!=null?A:"",alt:p.connection_display_info.display_name,className:"icon"})}]})).values()):[],I=Array.from(n!=null?n:[]).map(p=>{const A=m==null?void 0:m.find(U=>U.id===p);return A?{name:A.name,icon:s.jsx(Ms,{connector:A,size:"xsmall"})}:null}).filter(p=>!!p),d=sa([...I,..._,...C].reverse(),p=>p.name).reverse();d.sort((p,A)=>p.name.localeCompare(A.name));const L=[...h?[{name:"web",icon:h}]:[],...b?[{name:"cloud",icon:b}]:[],...d],f=L.length>Ys?[...L.slice(0,Ys-1),{name:"__plus_overflow",icon:s.jsx("span",{className:"text-token-text-secondary bg-token-bg-secondary text-caption-regular flex h-4.5 w-4.5 items-center justify-center rounded-full",children:L.length-Ys+1},"more")}]:L,P=M.useMemo(()=>Ln(r,"3282868491"),[r]).get("short_text","Connectors"),O=P==="Sources"?i.formatMessage({id:"hocZEX",defaultMessage:"Add"}):i.formatMessage({id:"UjEzZf",defaultMessage:"Add sources"}),w=P==="Sources"?null:i.formatMessage({id:"DhW8Wx",defaultMessage:"Sources"}),T=f.length===0&&!c?O:w;return s.jsx(rt.BasicTrigger,{asChild:!0,children:s.jsxs("button",{type:"button",className:it("composer-btn px-2",l&&f.length>0&&"rounded-full bg-orange-400/10 hover:bg-orange-400/20"),children:[f.length>0&&!c?s.jsx("div",{className:"flex items-center gap-1",children:f.map(p=>s.jsx("div",{className:"icon flex items-center justify-center",children:p.icon},p.name))}):s.jsx(wg,{className:"icon"}),l&&f.length>0?s.jsx("span",{className:"ms-1.5 text-orange-400 [[data-collapse-labels]_&]:sr-only",children:f.length===1?f[0].name:s.jsx(Bt,{id:"+Fsfxz",defaultMessage:"Multiple Connectors"})}):(f.length<Ys||c)&&T&&s.jsx("span",{className:"ms-1.5 [[data-collapse-labels]_&]:sr-only",children:T}),s.jsx(kg,{className:"icon-sm xs:ms-1.5 ms-1"})]})})},Rr=({connector:t,connectorLink:e,disabled:o=!1,disabledText:a="",hasBetaTag:n=!1,isSelectedInSource:l,systemHintType:r,toggleSource:i,isDefaultAutoConnected:g=!1,syncProgress:m})=>{var A,U;const x=ze(),S=kt(),y=ca(),c=ia(x),h=la(x),b=ue(()=>Wt(x)),_=$=>{b?ro(da($)):y($)},C=!!e,I=l&&C,d=c.includes(t.type)&&r===re.Slurm||!h&&Gt(r)||g;if(t.type===er.MCP_CONNECTOR)return null;const L=(A=ql[t.type])==null?void 0:A.title,f=L?S.formatMessage(L):t.name,v=s.jsx(Ms,{connector:t,size:"xsmall"}),P=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate",children:f}),n&&s.jsx(rp,{})]}),O=m==null?void 0:m.is_syncing,w=!1,T=o;let W;C?O?W=s.jsx(rt.Item,{disabled:!0,label:P,icon:v,trailing:s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-2",children:[S.formatMessage(St.syncing),s.jsx(Vl,{sizeOverride:18,percentage:((U=m==null?void 0:m.sync_progress)!=null?U:0)*100,className:"text-blue-400"})]})}):d?W=s.jsx(rt.Item,{disabled:T,label:P,onSelect:()=>{window.location.href=ap(t.type)},icon:v,trailing:s.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:S.formatMessage(St.auto)})}):W=s.jsx(rt.CheckboxItem,{disabled:o,label:P,icon:v,checked:I,onCheckedChange:()=>{i(t.type)}}):W=s.jsx(rt.Item,{disabled:o||w,onSelect:()=>{_({connectorId:t.id,redirectAfter:r?"/?system_hints=".concat(r):void 0,systemHintType:r,referrer:ws.SourcesDropdown})},label:P,icon:v,trailing:o||w?void 0:s.jsx("div",{className:"text-token-text-tertiary",children:S.formatMessage(St.connect)})});let p=null;return d?C||!o?p=S.formatMessage(St.autoConnected):p=a||S.formatMessage(St.autoConnectorDisabled):o&&(p=a),s.jsx(s.Fragment,{children:(o||d&&C)&&p?s.jsx(na,{label:p,side:"right",align:"center",contentClassName:"w-50",children:W}):W})},Pg=({connector:t,connectorLinks:e,selectedMCPSources:o,toggleSource:a,systemHintType:n,disabled:l=!1})=>{var C;const r=ze(),i=kt(),g=ca(),m=ue(()=>Wt(r));if(!t.conformance.implements_retrievable&&(n===re.Research||n===re.Slurm))return null;const S=!!((C=e.get(t.id))==null?void 0:C[0]),y=o.has(t.id)&&S,c=t.name,h=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate",children:c}),s.jsx(np,{connector:t})]}),b=s.jsx(Ms,{connector:t,size:"xsmall"}),_=I=>{m?ro(da(I)):g(I)};return s.jsx(s.Fragment,{children:S?s.jsx(rt.CheckboxItem,{icon:b,checked:y,label:h,disabled:l,onCheckedChange:()=>{a(t.id)}}):s.jsx(rt.Item,{onSelect:()=>{l||_({connectorId:t.id,redirectAfter:n?"/?system_hints=".concat(n):void 0,systemHintType:n,referrer:ws.SourcesDropdown})},icon:b,label:h,trailing:s.jsx("div",{className:"text-token-text-tertiary",children:i.formatMessage(St.connect)}),disabled:l})})},jr=({connection:t,refetch:e,location:o,isSelectedInSource:a,toggleSource:n,showDetails:l,disabled:r=!1,disabledText:i=""})=>{var ne;const g=ze(),m=la(g),x=kt(),S=Xn(),[y,c]=M.useState(!1),[h,b]=M.useState(),_=oo(),C=ca(),I=ue(()=>Wt(g)),d=D=>{I?ro(da(D)):C(D)},L=()=>{n(t.user_connection_details.connection_type)},f=t.user_connection_details.connection_instance_id,v=sr(),P=Gl(g),O=t.user_connection_details.knowledge_connector_type,w=O==="google_drive_oauth",T=t.user_connection_details.connection_type==="notion_sync_connector"&&t.user_connection_details.connection_instance_id.startsWith("ks--merge"),W=Gt(_)?!m&&["activated","partially_activated"].includes(t.user_connection_details.activation_status):!1,p=M.useCallback(async()=>{try{c(!0),await Wl({connectorType:O,connectionId:f,location:o,intl:x})}catch(D){D instanceof Error?v.danger(D.message,{toastId:"sources_dropdown_oauth_error"}):v.danger({defaultMessage:"Encountered an error connecting your account. Please try again later.",description:"Error message shown when a user tries to link their account but it fails."},{toastId:"sources_dropdown_oauth_error"})}finally{c(!1),e==null||e()}},[f,O,x,o,e,v]),[A,U]=M.useState(!1),$=()=>{w?Gt(_)?d({connectorId:os[Ye.GDRIVE_ACTION_CONNECTOR],redirectAfter:_?"/?system_hints=".concat(_):void 0,systemHintType:_!=null?_:void 0,referrer:ws.SourcesDropdown,syncOnly:!0}):U(!0):T?d({connectorId:os[Ye.NOTION_CONNECTOR],redirectAfter:_?"/?system_hints=".concat(_):void 0,systemHintType:_!=null?_:void 0,referrer:ws.SourcesDropdown,syncOnly:!0}):p()},Z=t.user_connection_details.activation_status==="inactive"&&t.user_connection_details.auth_status==="not_connected",V=["activating","partially_activated"].includes(t.user_connection_details.activation_status),k=Z&&!P||V,te=s.jsx("img",{src:S&&t.connection_display_info.icon_dark_url?t.connection_display_info.icon_dark_url:(ne=t.connection_display_info.icon_url)!=null?ne:"",alt:t.connection_display_info.display_name,className:"icon"}),X=D=>{if(D.stopPropagation(),D.preventDefault(),Z){$();return}if(V){b(t);return}},F={key:t.connection_display_info.display_name,disabled:r,icon:te,label:no(t),secondary:l?s.jsx("div",{className:"truncate",children:t.connection_display_info.display_name}):void 0};W&&(F.trailing=s.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:x.formatMessage(St.auto)}));let ee=null;switch(t.user_connection_details.activation_status){case"activated":ee=s.jsx(rt.CheckboxItem,Vt(ht({},F),{checked:a,onCheckedChange:L}));break;case"partially_activated":ee=s.jsx(rt.CheckboxItem,Vt(ht({},F),{checked:a,onCheckedChange:L,secondary:s.jsx("div",{className:"group-radix-disabled:opacity-50 flex items-center gap-1.5",children:s.jsx(Zl,{className:"flex-row-reverse",connection:t})})}));break;case"activating":ee=s.jsx(rt.Item,Vt(ht({},F),{style:{cursor:k?void 0:"default"},onSelect:X,trailing:s.jsx("div",{className:"group-radix-disabled:opacity-50",children:s.jsx(Xl,{connection:t})})}));break;case"inactive":ee=s.jsx(rt.Item,Vt(ht({},F),{style:{cursor:k?void 0:"default"},onSelect:X,trailing:s.jsx("div",{className:"group-radix-disabled:opacity-50",children:y?s.jsx(Yl,{className:"icon"}):s.jsx(Ql,{connection:t,refetch:e,location:"user_dropdown"})})}));break}return s.jsxs(s.Fragment,{children:[h&&s.jsx(op,{connection:h,onClose:()=>b(void 0)}),A&&s.jsx($l,{isAdminFlow:!1,onClose:()=>U(!1),connectionId:f,location:o,onSuccess:e}),r&&i?s.jsx(na,{label:i,side:"right",align:"center",contentClassName:"w-50",children:ee}):ee]})},Eg=({clientThreadId:t,githubSyncConnection:e,githubAccessConnector:o,connectorLink:a,selectedSources:n,toggleSource:l,systemHintType:r,refetch:i,contentRef:g,disabled:m,disabledText:x})=>{var T,W;const S=ze(),y=kt(),c=ec("installations/select_target"),h=Yn(),b=Gt(r)?Qn(S):!0,C=Nt(t,p=>p==null?void 0:p.startedWithByoMcp)===!0,{data:I,isLoading:d}=ip({linkId:(T=a==null?void 0:a.id)!=null?T:""}),L=!!I,f=a==null?void 0:a.id,v=!!f&&!L;if(!o&&!e)return null;const P=p=>{const A=p==="github_sync_connector",U=p===Ye.GITHUB_CONNECTOR;if((A||U)&&o&&e){const $=n==null?void 0:n.has("github_sync_connector"),Z=n==null?void 0:n.has(Ye.GITHUB_CONNECTOR);$===Z&&l(A?Ye.GITHUB_CONNECTOR:"github_sync_connector")}l(p)},O=o?s.jsx(Ms,{connector:o,size:"xsmall"}):e?s.jsx("img",{src:(W=e.connection_display_info.icon_url)!=null?W:"",alt:e.connection_display_info.display_name,className:"icon"}):null,w=o?o.name:e?no(e):"";if(v&&!d&&b)return s.jsx(rt.Item,{label:w,icon:O,onSelect:()=>{window.open(c,"_blank")},trailing:s.jsx("div",{className:"text-token-text-tertiary",children:y.formatMessage(St.finishSetup)})});if(e&&(Qt(e)||!o)){const p=n.has("github_sync_connector");return s.jsxs(s.Fragment,{children:[s.jsx(jr,{connection:e,refetch:i,location:"user_dropdown",isSelectedInSource:p,toggleSource:P,showDetails:!1,disabled:d||m,disabledText:x},e.user_connection_details.connection_instance_id),p&&h&&b&&s.jsx(Cn,{clientThreadId:t,allowSelectAllRepos:!1,githubSyncEnabled:!0,linkId:f,syncConnectionId:e.user_connection_details.connection_instance_id,contentRef:g})]})}else if(o){const p=n.has(Ye.GITHUB_CONNECTOR);return s.jsxs(s.Fragment,{children:[s.jsx(Rr,{connector:o,connectorLink:a,disabled:C||m,disabledText:x,hasBetaTag:!1,isSelectedInSource:p,systemHintType:r,toggleSource:P}),p&&b&&s.jsx(Cn,{clientThreadId:t,linkId:a==null?void 0:a.id,allowSelectAllRepos:!1,githubSyncEnabled:!1,contentRef:g})]})}return null},St=ks({contactAdmin:{id:"JGCH/x",defaultMessage:"Contact your admin to enable Google Drive for chat"},allRepositories:{id:"EzHFPp",defaultMessage:"All Repositories"},connect:{id:"OODbh3",defaultMessage:"Connect"},syncing:{id:"EQFkZV",defaultMessage:"Syncing"},connectOnMobileTooltip:{id:"Ey/eYm",defaultMessage:"Connect on your iPhone or iPad"},fetchingSyncStatus:{id:"mm1SP4",defaultMessage:"Fetching sync progress, please wait"},finishSetup:{id:"j12ad3",defaultMessage:"Finish Setup"},sourcesEnabled:{id:"aEIPI+",defaultMessage:"On"},webSearch:{id:"XoUbAe",defaultMessage:"Web search"},cloudBrowser:{id:"RA2J7e",defaultMessage:"Use cloud browser"},connectorsNeedCloudBrowserDisabledText:{id:"lm1ZXj",defaultMessage:"Connectors can only be enabled for cloud browser"},sourcesDisabled:{id:"j32+iI",defaultMessage:"Off"},connectApps:{id:"wwlf43",defaultMessage:"Connect more"},autoConnected:{id:"7IJBNd",defaultMessage:"This connector is searched automatically"},autoConnectorDisabled:{id:"KJQcAS",defaultMessage:"To enable this connector, toggle off all custom connectors"},auto:{id:"uW03xX",defaultMessage:"Auto"}});function Rg(t){return t==null?void 0:t.startedWithByoMcp}function jg(t){return t.user_connection_details.connection_instance_id}function Dg(t){return t.user_connection_details.connection_type}function Bg(t,e,o){return o.indexOf(t)!==e}function Ng(t){return Qt(t)&&t.user_connection_details.connection_type==="sharepoint_admin_sync_connector"}function Og(t){return Qt(t)&&t.user_connection_details.connection_type==="teams_admin_sync_connector"}function Lg(t){return t.type}function Ug(t){return t.user_connection_details.connection_type==="gdrive_sync_connector"}function Fg(t){return t.user_connection_details.connection_type==="gdrive_sync_connector"&&Qt(t)}function zg(t){return t.type===Ye.GDRIVE_ACTION_CONNECTOR}function Hg(t){return t.id!==os[Ye.SHAREPOINT_CONNECTOR]}function Gg(t){return t.id!==os[Ye.TEAMS_CONNECTOR]}function Wg(t){return!1}function $g(t){return t.type===Ye.GITHUB_CONNECTOR}function qg(t){return t.user_connection_details.connection_type==="github_sync_connector"}function Vg(t,e){const[o,a]=t;return e.connected?[[...o,e],a]:[o,[...a,e]]}function Jg(t){const{element:e,name:o}=t;return s.jsx(M.Fragment,{children:e},o)}function Kg(t){const{element:e}=t;return s.jsx(s.Fragment,{children:e})}function Yg({clientThreadId:t,activeSystemHint:e,selectedSources:o,selectedMCPSources:a,addSource:n,deleteSource:l,toggleSource:r,currentModelConfigId:i,connectionStatuses:g,connectedOnly:m=!1,hiddenTypes:x,hideMcpConnectors:S=!1}){var ee,ne;const y=ze(),c=tc(),h=Zn(),b=ue(()=>aa(y)),_=(e==null?void 0:e.systemHint)===re.Research,C=(e==null?void 0:e.systemHint)===re.ApiTool,I=(e==null?void 0:e.systemHint)===re.Glaux,d=(e==null?void 0:e.systemHint)===re.Slurm,L=Sr(i,e==null?void 0:e.systemHint),{availableConnectors:f,isLoading:v,enabled:P}=sc(),O=oc(y),w=ue(()=>ac(y,{includeDisabledByAdmin:!0,includeAutoConnectors:d,filterDisabledAutoConnectors:d})),T=!w,W=ue(()=>nc(y)),{availableConnectors:p,enabled:A,isLoading:U}=lp({includeDisabledByAdmin:!0}),$=ue(()=>rc(y)),{connectorConfigMap:Z}=cp({clientThreadId:t}),V=ue(()=>or(y)),k=D=>{const Q=o.size+a.size;I&&(Ht(D)&&a.has(D)&&Q<=1||!Ht(D)&&o.has(D)&&Q<=1)||r(D)},te=d&&(((ee=g==null?void 0:g.length)!=null?ee:0)>0||O&&w&&w.length>0),X=D=>D?S!=null&&S?D.filter(Q=>!Ht(Q.type)&&!(x!=null&&x.has(Q.type))):x?D.filter(Q=>!x.has(Q.type)):D:[],F=D=>x?!x.has(D):!0;if(P&&_)return s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:a,addSource:n,deleteSource:l,toggleSource:k,isLoading:v,enabledConnectors:X(f),fetchValidLinksOnly:!0,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:b,connectorFilterFn:F,trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:a,includeSyncConnectors:!1,includeWebSearch:!0,connectorFilterFn:F})});if(te){const D=h!=null&&h.isPersonalAccount()?c:!0;return s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:a,addSource:n,deleteSource:l,toggleSource:k,isLoading:T,enabledConnectors:X(w),includeWebSearch:!1,includeSyncConnectors:D,isDeveloperMode:b,connectorConfigMap:Z,systemHintType:e==null?void 0:e.systemHint,connectorFilterFn:F,trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:a,includeSyncConnectors:D,includeWebSearch:!1,isDeveloperMode:b,connectorFilterFn:F})})}if(C){const D=(ne=V==null?void 0:V.filter(Q=>Q.connector_type==="MCP"))!=null?ne:[];return s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:a,addSource:n,deleteSource:l,toggleSource:k,isLoading:!V,enabledConnectors:D,includeWebSearch:!1,includeSyncConnectors:!1,connectorConfigMap:Z,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:!0,connectorFilterFn:F,trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:a,includeSyncConnectors:!1,includeWebSearch:!1,isDeveloperMode:!0,connectorFilterFn:F})})}if(A&&L){const D=to();return s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:a,addSource:n,deleteSource:l,toggleSource:k,isLoading:U,enabledConnectors:p,fetchValidLinksOnly:!0,systemHintType:e==null?void 0:e.systemHint,includeCloudBrowser:D,isDeveloperMode:b,connectorFilterFn:F,trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:a,includeSyncConnectors:!1,includeWebSearch:!0,connectorFilterFn:F})})}return I?s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:a,addSource:n,deleteSource:l,toggleSource:k,isLoading:!$,enabledConnectors:$!=null?$:[],includeWebSearch:!1,includeSyncConnectors:!0,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:b,connectorFilterFn:D=>{var Q;return(D.endsWith("_sync_connector")?(Q=W!=null?W:[])==null?void 0:Q.some(pe=>pe.user_connection_details.connection_type===D):!0)&&F(D)},trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:a,includeSyncConnectors:!0,connectorFilterFn:D=>{var Q;return(D.endsWith("_sync_connector")?(Q=W!=null?W:[])==null?void 0:Q.some(pe=>pe.user_connection_details.connection_type===D):!0)&&F(D)},includeWebSearch:!1})}):null}function Qg({activeSystemHint:t,clientThreadId:e,connectionStatuses:o,currentModelConfig:a}){const{selectedSources:n=new Set,selectedMCPSources:l=new Set,addSource:r,deleteSource:i,toggleSource:g}=wr(e);return s.jsx(Yg,{clientThreadId:e,activeSystemHint:t,selectedSources:n,selectedMCPSources:l,addSource:r,deleteSource:i,toggleSource:g,currentModelConfigId:a==null?void 0:a.id,connectionStatuses:o})}const Xg=t=>{"use forget";const e=Rt.c(123),{conversation:o,composerController:a,pendingFiles:n,hasFiles:l,placeholder:r,shouldUseRotatingPlaceholders:i,isTemporaryChat:g,state:m,inputState:x,disableReason:S,currentModelConfig:y,gizmoId:c,replyRegions:h,includeSidebarContextTray:b,onSubmit:_,leadingAction:C,legacyFooterActions:I,activeSystemHint:d,activeConnectorSystemHints:L,hideSystemHint:f,isSystemHintLocked:v,onRemoveSystemHint:P,onRemoveModel:O,contextualAnswerUserConnectionData:w,fileInput:T,expanded:W,expandOnMultilineInput:p,layoutMode:A,shouldShowAgentSessionModeDropdown:U,agentSessionModeNuxModal:$,isAgentSessionModeDropdownDisabled:Z,forceStopButton:V}=t,k=i===void 0?!1:i,te=f===void 0?!1:f,X=U===void 0?!1:U,F=Z===void 0?!1:Z,ee=V===void 0?!1:V,ne=ze(),D=so(Wt);let Q;e[0]!==ne?(Q=()=>aa(ne),e[0]=ne,e[1]=Q):Q=e[1];const pe=ue(Q),_e=Nt(o.id,lt.getIsNewConversation),Ae=oo();let we;e[2]!==ne?(we=()=>ra(ne),e[2]=ne,e[3]=we):we=e[3];const{showSelectedModelInComposer:Te,showThinkingEffortPicker:Je,fontSize:ie,disableMotion:Ge}=ue(we);let ce;e[4]!==a?(ce=ar(a),e[4]=a,e[5]=ce):ce=e[5];const{composerThinkingEffort$:me,setThinkingEffort:Be}=ce,Ie=ue(me);let Oe;e[6]===Symbol.for("react.memo_cache_sentinel")?(Oe=!1,e[6]=Oe):Oe=e[6];let je;e[7]!==L?(je=!1,e[7]=L,e[8]=je):je=e[8];const oe=je,Re=(!!(y!=null&&y.configurableThinkingEffort)||(y==null?void 0:y.id)===Cr)&&Ie&&Je&&!oe&&(d==null?void 0:d.systemHint)!==re.Agent&&(d==null?void 0:d.systemHint)!==re.Research;let Fe;e[9]!==o||e[10]!==ne||e[11]!==y||e[12]!==Re||e[13]!==Te?(Fe=()=>{var at;if(!y||!Te&&!Re)return[null];if(ir(ne).id===y.id)return[null];const Tt=ta(o),xt=Tt.categories.find(de=>{var Ne;return de.defaultModel===y.id||((Ne=de.supportedModels)==null?void 0:Ne.includes(y.id))});if(xt)return[(at=xt.actionPillShortName)!=null?at:xt.label];const Xt=Tt.groups.find(de=>de.modelIds.includes(y.id));return Xt?[Xt.label,y.title]:[y.title||y.id]},e[9]=o,e[10]=ne,e[11]=y,e[12]=Re,e[13]=Te,e[14]=Fe):Fe=e[14];const[ve,se]=ue(Fe);let ae;e[15]!==a?(ae=Mr(a),e[15]=a,e[16]=ae):ae=e[16];const le=ue(ae.isWhisperActive$),J=kr(Zg);let N;e[17]!==J?(N=Tr(),e[17]=J,e[18]=N):N=e[18];const he=l||N,G=k&&!he;let Y;e[19]!==a||e[20]!==D?(Y=()=>(lc()||D)&&!Vo(a),e[19]=a,e[20]=D,e[21]=Y):Y=e[21];const R=ue(Y),z=ao(),fe=D&&"text-sm shadow-none! dark:border-token-border-heavy border-t border-gray-100 rounded-none";let B;e[22]!==fe?(B=it(fe),e[22]=fe,e[23]=B):B=e[23];let ge;e[24]!==a||e[25]!==ie||e[26]!==le||e[27]!==r||e[28]!==G?(ge=s.jsx(bp,{children:le?s.jsx("div",{className:"max-w-full min-w-0 flex-1",children:s.jsx(xp,{composerController:a,className:"h-14"})}):s.jsx(Sp,{composerController:a,placeholder:r,fontSize:ie,enableRotatingPlaceholders:G})}),e[24]=a,e[25]=ie,e[26]=le,e[27]=r,e[28]=G,e[29]=ge):ge=e[29];let be;e[30]!==T?(be=T&&s.jsx(Mn,{children:T}),e[30]=T,e[31]=be):be=e[31];let qe;e[32]!==h?(qe=h&&h.length>0&&s.jsx(Fo,{children:s.jsx(dp,{replyRegions:h})}),e[32]=h,e[33]=qe):qe=e[33];let ot;e[34]!==(d==null?void 0:d.systemHint)||e[35]!==he||e[36]!==n||e[37]!==J?(ot=he&&s.jsx(Fo,{children:s.jsx(up,{files:n,selectedApps:J,activeSystemHintType:d==null?void 0:d.systemHint,className:"no-scrollbar horizontal-scroll-fade-mask flex flex-nowrap gap-2 overflow-x-auto px-2.5 pt-2.5 pb-1.5 [--edge-fade-distance:1rem]"})}),e[34]=d==null?void 0:d.systemHint,e[35]=he,e[36]=n,e[37]=J,e[38]=ot):ot=e[38];let xe;e[39]!==b?(xe=b&&s.jsx(Fo,{children:s.jsx(wp,{})}),e[39]=b,e[40]=xe):xe=e[40];let ke;e[41]!==C?(ke=C&&s.jsx(Cp,{children:C}),e[41]=C,e[42]=ke):ke=e[42];let Le;e[43]!==z||e[44]!==I?(Le=!z&&(I==null?void 0:I.map(e_)),e[43]=z,e[44]=I,e[45]=Le):Le=e[45];let st;e[46]!==a||e[47]!==ne||e[48]!==y||e[49]!==z||e[50]!==Re||e[51]!==Ie||e[52]!==ve||e[53]!==se||e[54]!==O||e[55]!==Be||e[56]!==Te?(st=!z&&Re&&ve?s.jsx(zo,{children:s.jsx(pp,{thinkingEffort:Ie,onChangeThinkingEffort:Tt=>{Be(Tt),rr(ne).mutate({modelSlug:y.id,thinkingEffort:Tt})},modelLabel:ve,modelSlug:y.id,onRemoveModel:O,onCloseAutoFocus:Tt=>{nr(ne).composer.autofocusDisabled$()||(Tt.preventDefault(),Kt(Ze(a)))}})},"effort-selector"):!z&&Te&&ve?s.jsx(zo,{children:s.jsx(mp,{label:ve,tooltipLabel:se,onRemoveModel:O})},"active-model-pill"):null,e[46]=a,e[47]=ne,e[48]=y,e[49]=z,e[50]=Re,e[51]=Ie,e[52]=ve,e[53]=se,e[54]=O,e[55]=Be,e[56]=Te,e[57]=st):st=e[57];let wt;e[58]!==L||e[59]!==d||e[60]!==Ae||e[61]!==o.id||e[62]!==te||e[63]!==z||e[64]!==F||e[65]!==v||e[66]!==P||e[67]!==X?(wt=!z&&(d!=null?d:Ae)&&!te&&s.jsx(zo,{children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(fp,{clientThreadId:o.id,activeSystemHint:d,activeSystemHintType:Ae,activeConnectorSystemHints:L!=null?L:[],locked:v,onRemoveSystemHint:P}),X&&s.jsx(gp,{disabled:F})]})},"active-hint-tag"),e[58]=L,e[59]=d,e[60]=Ae,e[61]=o.id,e[62]=te,e[63]=z,e[64]=F,e[65]=v,e[66]=P,e[67]=X,e[68]=wt):wt=e[68];let bt;e[69]!==$?(bt=$&&s.jsx(Mn,{children:$}),e[69]=$,e[70]=bt):bt=e[70];let dt;e[71]!==d||e[72]!==(w==null?void 0:w.connection_statuses)||e[73]!==o.id||e[74]!==ne||e[75]!==y||e[76]!==z||e[77]!==A?(dt=!z&&d&&y&&s.jsxs(Yo,{children:[s.jsx(Qg,{activeSystemHint:d!=null?d:void 0,clientThreadId:o.id,connectionStatuses:w==null?void 0:w.connection_statuses,currentModelConfig:y}),(d==null?void 0:d.systemHint)===re.Agent&&ic(ne)&&s.jsx(_p,{clientThreadId:o.id,activeSystemHintType:d.systemHint,layoutMode:A})]},"sources-tag"),e[71]=d,e[72]=w==null?void 0:w.connection_statuses,e[73]=o.id,e[74]=ne,e[75]=y,e[76]=z,e[77]=A,e[78]=dt):dt=e[78];let mt;e[79]!==(d==null?void 0:d.systemHint)||e[80]!==a||e[81]!==z?(mt=!z&&(d==null?void 0:d.systemHint)===re.PictureV2&&s.jsx(Yo,{children:s.jsx(hp,{composerController:a})},"image-style-picker"),e[79]=d==null?void 0:d.systemHint,e[80]=a,e[81]=z,e[82]=mt):mt=e[82];let ft;e[83]!==a||e[84]!==z||e[85]!==R?(ft=!R&&!z&&s.jsx(Mp,{composerController:a,composerType:"composer-btn"}),e[83]=a,e[84]=z,e[85]=R,e[86]=ft):ft=e[86];let Ct;e[87]!==a||e[88]!==o.id||e[89]!==S||e[90]!==ee||e[91]!==c||e[92]!==x||e[93]!==le||e[94]!==_||e[95]!==m?(Ct=!le&&s.jsx(yp,{forceStopButton:ee,inputState:x,state:m,onSubmit:_,composerController:a,clientThreadId:o.id,gizmoId:c,disableReason:S}),e[87]=a,e[88]=o.id,e[89]=S,e[90]=ee,e[91]=c,e[92]=x,e[93]=le,e[94]=_,e[95]=m,e[96]=Ct):Ct=e[96];let vt;e[97]!==ft||e[98]!==Ct?(vt=s.jsxs(kp,{children:[ft,Ct]}),e[97]=ft,e[98]=Ct,e[99]=vt):vt=e[99];let Lt;return e[100]!==a||e[101]!==Ge||e[102]!==p||e[103]!==W||e[104]!==pe||e[105]!==_e||e[106]!==g||e[107]!==_||e[108]!==B||e[109]!==ge||e[110]!==be||e[111]!==qe||e[112]!==ot||e[113]!==xe||e[114]!==ke||e[115]!==Le||e[116]!==st||e[117]!==wt||e[118]!==bt||e[119]!==dt||e[120]!==mt||e[121]!==vt?(Lt=s.jsxs(Tp,{isTemporaryChat:g,isDeveloperMode:pe,isNewConversation:_e,composerController:a,expanded:W,expandOnMultilineInput:p,onSubmit:_,backgroundClassName:B,disableMotion:Ge,children:[ge,be,qe,ot,xe,ke,Le,st,wt,bt,dt,mt,vt]}),e[100]=a,e[101]=Ge,e[102]=p,e[103]=W,e[104]=pe,e[105]=_e,e[106]=g,e[107]=_,e[108]=B,e[109]=ge,e[110]=be,e[111]=qe,e[112]=ot,e[113]=xe,e[114]=ke,e[115]=Le,e[116]=st,e[117]=wt,e[118]=bt,e[119]=dt,e[120]=mt,e[121]=vt,e[122]=Lt):Lt=e[122],Lt};function Zg(t){return t.selectedApps}function e_(t,e){return s.jsx(Yo,{children:t},"legacy-footer-action-".concat(e))}const t_=tt(()=>et(()=>import("./nbrjep5yk15f1ntt.js"),__vite__mapDeps([19,1,2,3,20,0,4])).then(t=>t.ConnectorsOnboardingModal)),s_=tt(()=>et(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.z6),__vite__mapDeps([0,1,2,3,4])).then(t=>t.TatertotNuxModal)),o_=tt(()=>et(()=>import("./2bue6viisekmmpia.js"),__vite__mapDeps([21,1,2,3,0,4,22])).then(t=>t.GithubOnboardingModal)),a_=()=>null;function n_({onCreateNewCompletion:t,onContinueGenerating:e,account:o,currentModelId:a,currentModelConfig:n,disableDraftPersistence:l=!1,conversation:r,isNewThread:i,isCompletionInProgress:g,disabled:m=!1,disabledReason:x,canPause:S=!1,canContinue:y=!1,isInteractableSharedThread:c,headerClassName:h,hideHeader:b,onlyAllowImageUploads:_,layoutMode:C,availableSystemHints:I,isSnorlaxEnabledForGizmo:d,gizmoId:L}){"use no forget";var Ua,Fa,za,Ha,Ga,Wa,$a,qa;kn.markStart("PromptTextarea"),kn.markRendered("PromptTextarea",void 0,"pageLoad");const f=ze(),v=ue(()=>Ap(r)),P=v&&Ip(v),O=ue(()=>_s(r)),[w,T]=Yi(),W=vp(),p=ea();Pp(p),Ep();const A=Zo(),U=o==null?void 0:o.isSelfServeBusiness(),$=o==null?void 0:o.isEnterprisey(),Z=o==null?void 0:o.isEnterpriseCBP(),V=o==null?void 0:o.isEdu(),k=ss(f),te=to(),X=kt(),F=sr(),ee=cc(),ne=Rp.useStore(),D=Ic(),Q=(Ua=U||$||Z||V)!=null?Ua:!1,[pe,_e,Ae,we,Te,Je,ie]=Nt(r.id,u=>{var j,K,Me,We,$e,Dt;return[lt.getCurrentLeafId(u),lt.getRequestId(u),lt.findAsyncTaskMetadataNode(u,lt.getSteeringAsyncTaskId(u)),(Me=(K=(j=lt.lastUserMessage(u))==null?void 0:j.metadata)==null?void 0:K.system_hints)==null?void 0:Me.includes(re.Agent),!!(u!=null&&u.interruptionInProgress)&&!!(($e=(We=lt.getCurrentNode(u))==null?void 0:We.message.metadata)!=null&&$e.n7jupd_message),u==null?void 0:u.startedWithByoMcp,(Dt=lt.getCurrentNode(u))==null?void 0:Dt.message]}),Ge=(Fa=Ae==null?void 0:Ae.message.metadata)==null?void 0:Fa.async_task_id,ce=Za(u=>Ge?u.tasks[Ge]:null),me=Za(u=>{var j,K;return(j=ie==null?void 0:ie.metadata)!=null&&j.async_completion_id&&(ie==null?void 0:ie.status)==="in_progress"?u.tasks[(K=ie.metadata.async_task_id)!=null?K:""]:null}),Be=M.useMemo(()=>{var u;return!!((u=ie==null?void 0:ie.metadata)!=null&&u.async_completion_id&&(ie==null?void 0:ie.status)==="in_progress"&&(me==null?void 0:me.status)!==Ro.CANCELLED)},[ie,me]),Ie=Nt(r.id,lt.getSteeringAsyncTaskId);M.useEffect(()=>{const u=ce&&dc(ce)===uc.THINKING,j=u&&pc(ce)&&ce.status!==Ro.FINALIZING?ce:null;!Ie&&j?Jt(r.id,K=>{K.steeringAsyncTaskId=j.taskId}):Ie&&!j&&u&&jo(r.id)},[Ie,ce,r.id]);const Oe=!!Ie,je=jp({clientThreadId:r.id,isKaur1br5Client:te}),oe=M.useMemo(()=>Oe?[]:I,[Oe,I]),{gizmoEditorData:Re,mode:Fe,getGizmoId:ve}=mc(),se=fc(),ae=gc(),le=Dp(),J=Vn(r.id),N=!!_c(),ye=Bp.useIsEnabled(r.id),he=!!Ts(),G=oo(),Y=M.useMemo(()=>{var u;return(u=G&&(oe==null?void 0:oe.find(j=>j.systemHint===G)))!=null?u:null},[oe,G]),R=hc(),z=ue(()=>yc(f)),fe=Gn(),B=G===re.Agent||(Y==null?void 0:Y.systemHint)===re.Agent,ge=te&&B,{agentSessionModeNuxModal:be,ensureAgentSessionModeNux:qe}=Np({isAgentHintActive:B});Op(p);const ot=_r(f),xe=bc(f),ke=so(Wt),Le=xc(f),st=ue(()=>Sc(f)),bt=ue(()=>st.isEligible$())&&st.plusMenuInComposer,dt=M.useRef(!1),mt=Et(f,"3457598265"),ft=ue(()=>wc(f,Cc.BrowserReferenceWebHistoryInChat)===!0);M.useEffect(()=>{if(!mt||!Le||!ke||!ft||dt.current)return;const u=Ze(p),j=u==null?void 0:u.dom;if(!j)return;const K=()=>{if(dt.current)return;dt.current=!0;const Me=[];Y&&Me.push(Y.systemHint),md(void 0,Pn,Me,r.id).catch(()=>{})};return j.addEventListener("input",K,{once:!0}),()=>{j.removeEventListener("input",K)}},[Le,p,ke,mt,ft,Y,r.id]);const Ct=Jo.useStore(),vt=Jo.useState(({locked:u})=>u),Lt=Mc(),Tt=kc(f),{data:xt,isLoading:Xt}=ue(()=>ua.if$(f,Lt)),{selectedSources:at,selectedMCPSources:de,addSource:Ne}=wr(r.id),De=lr();M.useEffect(()=>{const u=w.get("add_source");u&&G&&(Ne(u),w.delete("add_source"),T(w))},[G,Ne,w,T]),M.useEffect(()=>{oe!=null&&oe.some(u=>u.systemHint===re.Glaux)&&w.get("company-knowledge")!=null&&(ms(f,t_,{onContinue:()=>{R(re.Glaux,{analyticsMetadata:{clientThreadId:r.id}})}}),w.delete("company-knowledge"),T(w))},[w,oe,f,r.id,R,T]);const{eligible:ut,isLoading:gt}=xs(as.hasSeenTatertotNux);M.useEffect(()=>{G===re.Tatertot&&Et(f,"1586944302")&&ut&&!gt&&ms(f,s_)},[G,ut,gt,f]);const jt=Lp(f),q=jt&&(((za=de==null?void 0:de.size)!=null?za:0)>0||D||De.size>0);Tc({skip:!jt,productSku:qo.PROMPT_TEXT_AREA});const{platformConnectors:Se,isLoading:Pe}=Ac(q,qo.PROMPT_TEXT_AREA),Ee=la(f),Ve=ia(f);vc({platformConnectors:Se,enabled:Ve.length>0&&Q});const Ce=M.useMemo(()=>Array.from(de!=null?de:[]).map(u=>Se.get(u)).filter(u=>u!==void 0),[de,Se]),{selectedConnectorIds:Qe,selectedSyncKnowledgeStoreIds:nt}=M.useMemo(()=>{var K;if(!Ee)return{selectedConnectorIds:void 0,selectedSyncKnowledgeStoreIds:void 0};const u=new Set,j=new Set;for(const Me of at!=null?at:[]){const We=os[Me];We&&u.add(We);const $e=(K=xt==null?void 0:xt.connection_statuses)==null?void 0:K.find(Dt=>Dt.user_connection_details.connection_type===Me);$e&&j.add($e.user_connection_details.connection_instance_id)}return{selectedConnectorIds:u,selectedSyncKnowledgeStoreIds:j}},[at,xt==null?void 0:xt.connection_statuses,Ee]),Xe=M.useRef(0),Mt=Yt(f,"3396794266").get("restore_prompt_on_stop",!1),Ke=M.useRef(null),Zt=Up(),Ut=Fp(),es=ao(),ns=(zp(r.id)||es)&&!Be,io=M.useCallback(()=>{const u=Hp(f);u.isFeedbackModalOpen$()&&u.feedbackModalState$().type!==Tn.FeedbackConversation&&u.feedbackModalState$.set({type:Tn.FeedbackConversation})},[f]),rs=en(n,v,G),lo=Pc(),Is=Ec(f).flags,vs=Is==null?void 0:Is.includes(Rc.NoAuthEnableFileUploads),Dr=oe==null||oe.length>0,Br=M.useMemo(()=>{var u;return(u=oe==null?void 0:oe.filter(j=>De.has(j.systemHint)))!=null?u:[]},[oe,De]),Nr=M.useMemo(()=>{const u=Array.from(De).filter(tn).map(sn);if(u.length===0)return[];const j=u.filter(K=>{var Me,We;return An(K)?!0:(We=(Me=Se.get(K))==null?void 0:Me.conformance)==null?void 0:We.implements_retrievable});return Array.from(new Set(j))},[De,Se]),Or=M.useMemo(()=>Array.from(De).filter(tn).map(sn).filter(u=>{var j,K;return!((K=(j=Se.get(u))==null?void 0:j.supports_full_actions)!=null&&K)&&!An(u)}),[De,Se]),co=M.useCallback(()=>{R(null,{analyticsMetadata:{clientThreadId:r.id}})},[R,r.id]),uo=ue(()=>ir(f).id),Ps=M.useCallback((u,j)=>{ct.logEventWithStatsig("Model Switcher Model Changed","chatgpt_model_switcher_model_changed",{from:a,to:u,location:j}),u&&!jc(f,u)&&rr(f).mutate({modelSlug:u}),Dc(r,u),jo(r.id)},[a,f,r]),ma=M.useCallback(u=>{Bc()&&(u==null||u.preventDefault()),Ps(uo,"remove non-default model")},[Ps,uo]),Es=Sr(a,(Ha=Y==null?void 0:Y.systemHint)!=null?Ha:null),Lr=!m&&rs!==Do.None&&(k||vs),Ot=Nc(n,v),Rs=Oc(n,v),$t=on(u=>Fe==="magic"?u.files.filter(j=>j.gizmoId!=null):u.files.filter(j=>j.gizmoId==null),Jn),[po]=M.useState(()=>Gp()),Ur=Wp(),mo=$t.length>0||Ur,fo=on(Lc.hasUploadInProgress),Fr=kr(u=>u.selectedApps),fa=Tr(),zr=$p(r.id),Hr=M.useMemo(()=>eo(()=>qp(n,Uc(p))),[n,p]),go=ue(Hr),js=ue(()=>Vo(p)),ga=!js,_a=!go&&!fo&&(ga||mo),{composerThinkingEffort$:Gr}=ar(p),{maxUploads:Wr,remaining:ha,baseLimit:$r}=Fc(rs),ya=Math.max(0,Wr-$t.length),_o=ya<=0,qr=ha!=null&&ha<$r,Vr=(Y==null?void 0:Y.systemHint)===re.Research,Jr=Et(f,"3544641259"),{selectedRepos:ho}=Vp(r.id),ba=(Vr||Es)&&Jr&&(at==null?void 0:at.size)===0&&(de==null?void 0:de.size)===0,xa=Jp({taskId:me==null?void 0:me.taskId,intl:X,toaster:F}),Ds=(ce==null?void 0:ce.status)===Ro.RUNNING&&!ns,Sa=(Wa=Kp((Ga=Bo(r.id))!=null?Ga:r.id))==null?void 0:Wa.value,Kr=Sa===an.STREAMING,wa=Sa===an.REALTIME,Bs=g&&S||Kr||wa||Ds||Be,Ns=_a&&!m&&!he&&(!Bs||ns)&&!ba,{targetedContent:Os,setTargetedContent:Ls}=Yp(),He=Os!=null&&Os.isFocusedViewContent&&!le?void 0:Os,Us=nr(f);M.useEffect(()=>{!He||Us.composer.autofocusDisabled$()||requestAnimationFrame(()=>requestAnimationFrame(()=>{Kt(Ze(p))}))},[He,Us,p]);const{getUpsellLabelType:Yr,getUpsellShowsAttach:Qr}=Qp(),yo=ue(()=>ra(f)),{isSingleLine:Xr,plusButtonAddsFiles:Zr,loggedOutAttachLabel:ei,loggedOutHideToolButtons:bo,isImageGenButtonEnabled:ti,showSelectedModelInComposer:si}=yo,Ft=Xr,oi=Dr&&k&&(!U||!Xt)&&!nn(G)&&!Ft,gs=ue(Mr(p).isWhisperActive$),ai=M.useCallback(()=>{T(u=>(u.delete("share_prompt"),u))},[T]),xo=M.useCallback(u=>{if(qn.set(r,!0),qs(Ze(p),u.prompt),u.system_hint){const j=u.system_hint;if(R(j),u.sources){const K=u.sources.map($e=>$e.trim()).filter(Wo),Me=new Set(K.filter($e=>!Ht($e))),We=new Set(K.filter(Ht));Jt(r.id,$e=>{$e.selectedSources=new Map([[j,Me]]),$e.selectedMCPSources=new Map([[j,We]]),$e.hasModifiedSources=!0})}}},[r,p,R]);Xp(f,w.get("share_prompt"),ai,xo),M.useEffect(()=>{!z||z.skipConversationId===r.id||(zc(f),rn(Ze(p)),xo(z.prompt))},[p,r.id,f,xo,z]),M.useEffect(()=>{if(!(A!=null&&A.id))return;const u=In.getAndReset(A.id,J);u&&qs(Ze(p),u.inputText)},[A==null?void 0:A.id,J,p]),M.useEffect(()=>{var j;const u=(j=w.get("prompt"))!=null?j:"";Vo(p)&&u.length>0&&qs(Ze(p),u)},[p,w]);const So=M.useCallback(()=>{G!==re.Slurm&&G!=null&&!(oe!=null&&oe.some(u=>u.systemHint===re.Slurm))||(Y==null&&R(re.Slurm),Jt(r.id,u=>{var K,Me;const j=(Me=(K=u.selectedSources)==null?void 0:K.get(re.Slurm))!=null?Me:new Set;u.selectedSources==null&&(u.selectedSources=new Map),u.selectedSources.set(re.Slurm,new Set([...j,Ye.GITHUB_CONNECTOR]))}))},[G,Y,r.id,R,oe]);M.useEffect(()=>{if(w.has("github_onboarding")){const u=w.get("github_onboarding");let j=hs.ConfigureRepos;u&&[hs.ConfigureRepos,hs.SyncRepos,hs.IndexRepos].includes(u)&&(j=u),Tt&&j!==hs.ConfigureRepos?So():ms(f,o_,{initialState:j,onFinishFlow:So}),T(K=>(K.delete("github_onboarding"),K))}},[w,T,f,G,Y,r.id,R,oe,So,Tt]),M.useEffect(()=>{const u=Hc(w,{availableHints:oe}),j=G!=null?G:u[0],K=j===re.Slurm,Me=j===re.Research,We=j===re.ApiTool;if(!K&&!Me&&!We)return;const $e=w.getAll("sources");if(!$e.length)return;const Dt=w.get("redirect_source");if(We)for(const pt of $e)fe(pt.trim());else{const pt=$e.map(qt=>qt.trim()).filter(Wo),ls=new Set(pt.filter(qt=>!Ht(qt))),cs=new Set(pt.filter(Ht));Jt(r.id,qt=>{qt.selectedSources=new Map([[j,ls]]),qt.selectedMCPSources=new Map([[j,cs]]),qt.hasModifiedSources=!0})}T(pt=>(pt.delete("sources"),pt)),Dt==="suggested_ca_prompts"&&ct.logEventWithStatsig("chatgpt_contextual_answers_connector_activated","chatgpt_contextual_answers_connector_activated",{source:"suggested_ca_prompts"})},[r.id,Ne,w,R,T,G,fe,oe]);const Pt=Gc(n,v),wo=ue(Wc(f,r.id)),{handleFileAccepted:Ca}=sf(X,en(n,v,G),Ot,"mouse",ve,Pt==null?void 0:Pt.attachments,wo),ni=M.useCallback((u,j)=>{const K=ds(f);return K.keepSheetOpen$.set(!1),K.isSheetOpen$.set(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{Kt(Ze(p))})}),Ca(u,j)},[p,Ca,f]),Ma=ue(ds(f).keepSheetOpen$);M.useEffect(()=>{if(!Ma)return;const u=new AbortController,j=document.getElementById("upload-camera"),K=[];function Me(){for(const pt of K)pt();u.abort(),K.length=0}function We(pt){var cs;if(pt.target instanceof HTMLInputElement&&((cs=pt.target.files)==null?void 0:cs.length)===0)return;const ls=ds(f);gn(()=>{ls.keepSheetOpen$.set(!1),ls.isSheetOpen$.set(!1),Me()})}function $e(){const pt=ds(f);gn(()=>{pt.keepSheetOpen$.set(!1),pt.isSheetOpen$.set(!1),Me()})}j&&K.push(ln(j,{change:We,cancel:$e}));const Dt=document.getElementById("upload-photos");return Dt&&K.push(ln(Dt,{change:We,cancel:$e})),Me},[Ma,f]);const zt=!m&&!_o&&Lr&&lo==null&&!Oe,{getInputProps:ri,open:ka}=af(ht({disabled:!zt,noClick:!0,onFileDialogCancel:()=>{ds(f).keepSheetOpen$.set(!1)},onDropAccepted:ni,onDropRejected:u=>{of(u,X,F,rs),ds(f).keepSheetOpen$.set(!1)},multiple:!0,maxSize:qc,maxFiles:ya},$c(!k||_?Ot:Rs))),ts=M.useCallback(()=>{zt&&(ct.logEventWithStatsig("Open File Viewer","chatgpt_web_file_viewer_opened",{intent:rs.toString()}),ka())},[zt,ka,rs]),Ta=Vc(po),Co=M.useCallback(()=>{rn(Ze(p)),Ta.clearMessages(),vn(p).resetData();for(const u of $t)Vs.remove(ee,u.tempId,"none");Zp.markAllAsSent(),Et(f,"2857215914")&&(Y!=null&&Y.persistBetweenMessages||R(null))},[p,Ta,$t,ee,Y,f,R,De,ie]),ii=M.useMemo(()=>{if(ke)return Pn;if(xe)return em;if(to())return tm},[ke,xe]),Aa=ue(()=>ke&&Le&&cn.sidebarUrlTrayOpen$());sm();const li=Jc(f),Mo=ue(()=>Kc(f)),ko=No((u,j,K)=>{var Va;if(u.preventDefault(),m||!_a&&!j||!v||Te)return;if(!(K!=null&&K.bypassAgentSessionModeGate)){const _t=Vt(ht({},K!=null?K:{}),{bypassAgentSessionModeGate:!0});if(qe(()=>ko(u,j,_t))){"persist"in u&&typeof u.persist=="function"&&u.persist();return}}const Me=dn(Ze(p).state.doc),We=Me.content;Po==="streaming"&&(ct.logEventWithStatsig("chatgpt_web_conversation_stream_interrupted","chatgpt_web_conversation_stream_interrupted",{interrupted_message_length:We.length}),Oo.count(Lo.DEFAULT,"chatgpt_web_conversation_stream_interrupted",[])),Oo.count(Lo.DEFAULT,"chatgpt_web_conversation_completion_sent",[]);const{content:$e,attachments:Dt}=om(ee,We,n,v,G),pt=un(Ct).some(_t=>_t===re.Slurm||_t===re.Research);Jt(r.id,_t=>{_t.hasModifiedSources=!1,_t.hasModifiedGithubRepos=!1,_t.startedWithByoMcp===void 0&&pt&&(_t.startedWithByoMcp=Ce.some(Ws=>Ws.status==="ONLY_ME"))}),Zt(),Ut(),io();const ls=En.getState().attachedTempTextdocs;Mt?Ke.current={content:Me.content,files:$t.map(_t=>ht({},_t)),attachedTempTextdocs:Object.fromEntries(Object.entries(ls).map(([_t,Ws])=>[_t,ht({},Ws)])),systemHintType:G!=null?G:null,selectedSources:at?[...at]:void 0,selectedMCPSources:de?[...de]:void 0}:Ke.current=null;const cs=n!=null&&n.configurableThinkingEffort||(n==null?void 0:n.id)===Cr?Yc(Gr):void 0;t(ht({clientThreadId:r.id,ctx:f,sourceEvent:u,attachments:Dt,content:$e,contentToSend:Me,conversationMode:v,hasSelectedApps:fa,isMessageFollowupsEnabled:ye,selectedApps:Fr,desktopOrigin:ii,shouldCollectSidebarContext:Aa,desktopSidebarContext:cn.context$(),selectedGizmoTag:O,selectedRepos:{selectedAllRepos:ho.selectedAllRepos,selectedRepos:ho.selectedRepos?[...ho.selectedRepos]:null},selectedSources:at,selectedMCPConnectors:Ce,selectedConnectorIds:Qe,selectedSyncKnowledgeStoreIds:nt,searchConnectorIds:Nr,noFullActionConnectorIds:Or,startedWithByoMcp:Je===!0,systemHints:un(Ct),allSystemHints:Mo!=null?Mo:[],isN7jupdActive:Es,isForceAllowCustomMcpModeEnabled:li,thinkingEffort:cs},vn(p).getData(Me.content))),(Va=He==null?void 0:He.onCreateCompletion)==null||Va.call(He,{serverThreadId:J,currentLeafId:pe}),(He==null?void 0:He.shouldPersistAcrossMessages)!==!0&&Ls(void 0),pn.hideThreadHeader();for(const _t of $t)_t.status===Qc.Ready&&ne.addFile(_t);Yt(f,"1925940714").get("reset_state_after_submit",!1)?Xc.postTask(Co):Co(),ot&&G===Go&&Cs(f,as.hasSeenAgentModeAnnouncementBanner)}),ci=u=>{Ls(u.targetedReply),u.targetedReply&&ct.logEventWithStatsig("Targeted Reply Button Clicked","chatgpt_targeted_reply_button_clicked",{conversationId:J,sourceMessageId:u.messageId})},{maybeSetWaitingForRealtimeOnAbort:Ia,isWatingForRealtimeStatusChange:di}=am(r.id),To=M.useCallback((u,j="other")=>{Ia(),nm(u,void 0,{clientInitiated:!0,reason:j,isLastTurnAgent:we,hasAgentSystemHint:G===Go})},[Ia,we,G]),va=M.useCallback(()=>{var u;(u=He==null?void 0:He.onCleared)==null||u.call(He,{serverThreadId:J,currentLeafId:pe}),Ls(void 0),Kt(Ze(p))},[pe,J,He,Ls,p]),Fs=Zc(f,n==null?void 0:n.tags,v==null?void 0:v.kind),{autocompletions$:ui,shouldShowAutocomplete$:zs}=pr(p),pi=M.useCallback(()=>zs()&&i,[zs,i]),Pa=No(u=>rm(u,{toaster:F,canSubmit:Ns,isTextContentTooLong:go,requestCompletion:ko})),mi=Ds||wa,Ea=No(u=>im(u,{canAbortCompletion:S&&g&&!mi,clientThreadId:r.id,isAutocompletionActive:pi,clearAutocompletions:()=>ui.set([]),abortCompletion:()=>To(r.id,"escape_key"),isEmpty:js,hasTargetedContent:He!=null,clearTargetedContent:va,hasSystemHint:Y!=null,removeSystemHint:co,hasSelectedTarget:O!=null,removeSelectedTarget:()=>_s.set(r,null),hasNonDefaultModel:si&&a!==uo,removeNonDefaultModel:ma}));M.useEffect(()=>{if(!Ns)return;Et(f,"4178431533")||lm(!0).then(j=>{cm.startEnforcement(j),dm.startEnforcement(j)})},[Ns,f]),M.useEffect(()=>ed(Ze(p),{Enter:Pa,Escape:Ea}),[p,Pa,Ea]);const fi=u=>{Oe||Um({filePickerStore:ee,event:u.nativeEvent,intl:X,toaster:F,clientThreadId:r.id,conversationMode:v,currentModelConfig:n,getEditorGizmoId:ve,modelSupportedImageMimeTypes:Ot,activeSystemHintType:G,ctx:f,contextScopes:wo})},gi=td(r.id,po,Ot,Pt==null?void 0:Pt.attachments),_i=M.useCallback((u,j)=>{if(u.preventDefault(),Be){xa.mutate();return}To(r.id,j),ct.logEventWithStatsig("Pause Completion","chatgpt_pause_completion",{threadId:Bo(r.id),currentLeafId:lt.getCurrentNode($o(r.id)).message.id,eventSource:"mouse"});const K=Ke.current;Mt&&K&&(qs(Ze(p),K.content),Vs.restoreFiles(ee,K.files),En.setState({attachedTempTextdocs:K.attachedTempTextdocs}),K.systemHintType&&(R(K.systemHintType),Jt(r.id,Me=>{var We,$e;K.selectedSources&&(Me.selectedSources=(We=Me.selectedSources)!=null?We:new Map,Me.selectedSources.set(K.systemHintType,new Set(K.selectedSources))),K.selectedMCPSources&&(Me.selectedMCPSources=($e=Me.selectedMCPSources)!=null?$e:new Map,Me.selectedMCPSources.set(K.systemHintType,new Set(K.selectedMCPSources)))})),Ke.current=null),um()},[r.id,To,p,ee,R,Mt,Be,xa]),Ra=M.useCallback(()=>{In.set(A==null?void 0:A.id,J,pm(p))},[J,A==null?void 0:A.id,p]),ja=Re!=null;M.useEffect(()=>{ja||Us.composer.autofocusDisabled$()||Kt(Ze(p))},[p,ja,Us]);const Da=Qs($t);M.useEffect(()=>{var j;if(Ot.length>0)for(const K of Da.current)mm((j=K.fileSpec)==null?void 0:j.mimeType,Rs)||Vs.remove(ee,K.tempId,"none");else Vs.reset(ee)},[a,ee,Rs,Ot.length,Da]);const hi=M.useEffectEvent(()=>{_s.set(r,null)});M.useEffect(()=>{(!Fs&&O||N)&&hi()},[Fs,O,N]);const Ao=ue(()=>fm(r).fullscreenWidgetPlaceholder$(X)),yi=ef();Qi();const[Hs,bi]=(()=>{const u=x?gm(x):void 0;if(u)return[u.placeholder,u.isLastingDisabledStyle];if(c)return[yt.placeholderWithName,!1];if((He==null?void 0:He.placeholderTextOverride)!=null)return[He.placeholderTextOverride,!1];if((n==null?void 0:n.id)===sd)return[yt.n7jupdSystemHintPlaceholder,!1];if(Ie&&(ce!=null&&ce.taskId.startsWith("thinking")))return[yt.placeholderAsyncSteering,!1];if(Y){if(nn(Y.systemHint))return Bs?[yt.n7jupdActivePlaceholder,!1]:[yt.n7jupdSystemHintPlaceholder,!1];switch(Y.systemHint){case re.Search:return[yt.searchPlaceholder,!1];case re.Think:return[yt.thinkPlaceholder,!1];case re.Slurm:return[yt.connectorPlaceholder,!1];case re.ApiTool:return[yt.apiToolPlaceholder,!1];case re.Research:return[yt.researchPlaceholder,!1];case re.Canvas:return[yt.canvasPlaceholder,!1];case re.Picture:return[yt.picturePlaceholder,!1];case re.PictureV2:return[yt.pictureV2Placeholder,!1];case re.Tatertot:return[yt.tatertotPlaceholder,!1];case re.Glaux:return[yt.internalSearchPlaceholder,!1]}}return[yt.placeholderAskAnythingVariant,!1]})(),xi=mo||fa,Si=yo.dynamicPlaceholderEnabled,wi=i&&Si&&!es&&!d&&!Ao&&!xi&&!fo,Ci=(()=>{var u,j;return es?X.formatMessage(_m):d?i?X.formatMessage(od.newChatInProject,{projectName:(u=P==null?void 0:P.gizmo.display.name)!=null?u:"this project"}):Hs?X.formatMessage(Hs,{name:"ChatGPT"}):"â€‹":Ao||(Hs?X.formatMessage(Hs,{name:Re!=null?Fe==="magic"?ad:Re.name||"GPT":(j=P==null?void 0:P.gizmo.display.name)!=null?j:"ChatGPT",workspaceName:yi}):"â€‹")})();M.useEffect(()=>mn(()=>fn(p),()=>{Xe.current=performance.now(),nd(f).getState().isThreadHeaderVisible&&pn.hideThreadHeader(),hm(r.id)&&ym(r.id)}));const{shouldHighlight$:Mi}=bm(p),Io=ue(()=>Mi()),{connectorConfig:Gs,isLoading:ki}=rd(),{onSelectConnector:vo}=xm({connectorConfig:Gs,modelSupportedImageMimeTypes:Ot,modelAcceptedMimeTypes:Rs,attachmentsProductFeature:Pt==null?void 0:Pt.attachments,onOauthRedirect:Ra});Sm(Gs,vo);let Ba=null;const Na=Qr(),Ti=k||Na||vs,is=rs===Do.None?Js.ModelNotSupported:_o&&qr?Js.RateLimitReached:_o?Js.HasReachedMaxFiles:lo!=null?Js.RateLimitReached:void 0,Ai=s.jsx("div",{"data-testid":"composer-action-file-upload",style:{viewTransitionName:"var(--vt-composer-attach-file-action)"},children:s.jsx(Sg,{clientThreadId:r.id,modelSupportedImageMimeTypes:Ot,openFileDialog:ts,historyDisabled:ae,highlightTooltip:Io,isLoadingConnectors:ki,connectorConfig:Gs,onSelectConnector:vo,showLabel:Yr()==="all"&&(ss(f)||ei),showUpsell:Na&&!vs,showMenuForNoAuth:vs,isDisabled:!zt||gs,disabledReason:is,currentModelName:($a=n==null?void 0:n.title)!=null?$a:"",visualTreatment:k?"composer-btn":"legacy"})},"file-upload-button");M.useEffect(()=>id(f).addAction({key:"uploadFile",action:ts,actionMessageDescriptor:hr(f,X,!zt,is,n==null?void 0:n.title),group:Cm.Chat,keyboardBinding:wm}),[f,n,is,X,zt,ts]);const Ii=Yt(f,"853191128"),vi=L!=null&&L.trim().length>0,Pi=!k&&(!vi||d)&&Et(f,"3259514411")&&Ii.get("is_tatertot_enabled",!1);Ft&&!Oe&&(Ba=Zr?s.jsx(Mm,{disabled:m,clientThreadId:r.id,rateLimitPopup:lo,highlightTooltip:Io,label:k?X.formatMessage({id:"composer.plusMenu.label",defaultMessage:"Add files and more"}):X.formatMessage({id:"composer.plusMenu.label.loggedOut.photosOnly",defaultMessage:"Add photos"}),children:s.jsx(km,{onClick:ts,disabled:gs})}):s.jsx(Tm,{conversation:r,composerController:p,composerDisabled:gs,layoutMode:C,shouldUseBottomSheet:bt,openFileDialog:ts,modelSupportedImageMimeTypes:Ot,isFileUploadEnabled:zt,fileUploadDisabledReason:is,currentModelId:a,currentModelConfig:n,selectModelId:Ps,connectorConfig:Gs,onSelectConnector:vo,availableSystemHints:oe,activeConnectorSystemHintTypes:De,activeSystemHintType:G}));const[Ei,Oa]=M.useState(!1),Ri=bi||di?"disabled":"default",ji=!Ns,Di=Om({promptDisabledReason:x,hasPendingFiles:fo,hasTextContent:ga,isTextContentTooLong:go,hasAsyncTaskPending:zr,noSourceSelectedDr:!ba,isDeepResearchTaskStreaming:Ds,isThreadHardBlocked:he}),Po=Bs?"streaming":ji?"disabled":"idle",Bi=Et(f,"222560275")||a&&!a.startsWith("o1")&&!a.startsWith("o3"),La=[He!=null&&He.label?{type:He.type,value:He.label,onRemoveRegion:va}:null,O!=null?{type:"mention",value:O.gizmo.display.name,icon:s.jsx(br,{isFirstParty:!!((qa=O.gizmo.tags)!=null&&qa.includes(oa.FirstParty)),src:O.gizmo.display.profile_picture_url,className:"icon"}),onRemoveRegion:()=>{_s.set(r,null),Kt(Ze(p))}}:null].filter(u=>u!=null);Ie&&ce&&ce.taskId===Ie&&La.push({type:"text",value:ce.title,hideQuotes:!0,onRemoveRegion:()=>jo(r.id)});const Ni=M.useMemo(()=>eo(()=>i&&!W&&(Y==null?void 0:Y.systemHint)!==re.Research&&(Y==null?void 0:Y.systemHint)!==re.ApiTool&&!Es&&zs()),[i,Y,Es,zs,W]),Oi=u=>{if(u.preventDefault(),u.stopPropagation(),Xe.current>0){const j=performance.now()-Xe.current;Oo.hist(Lo.DEFAULT,"final_user_input_to_submit_ms",[],j)}Po==="streaming"&&(!ns||js)||Be?Ds?Oa(!0):_i(u,js?"stop_button":"stop_button_with_prompt"):ko(u)};M.useEffect(()=>{const u=Bo(r.id),j=o==null?void 0:o.normalizedAccountUserId;if(!j||l||ke||ae)return;const K=ld(Me=>{if(cd(Me.doc))dd(u);else{const We=dn(Me.doc).content;ud(u,We,j)}},1e3);return mn(()=>fn(p),K)},[o,r.id,p,l,ke,ae,J]),M.useEffect(()=>{setTimeout(()=>{pd.addFirstTiming("composer.ttfi",{serialTimingGroup:"pageLoad"})},0)},[]);const Li=s.jsx(Wf,{canUseInlineTagging:Fs,isDisabled:m,clientThreadId:r.id,currentLeafId:pe,currentRequestId:_e,canContinue:y,composerController:p,isNewThread:i,onContinueGenerating:u=>{var j;return e({event:u,conversationMode:(j=$o(r.id))==null?void 0:j.mode,systemHints:G?[G]:[]})},onResetState:Co,openFileDialog:ts,conversationMode:v}),Ui=!Bs&&v!=null&&Bi&&Am.includes(v.kind)&&s.jsx(Im,{conversation:r,onTargetedReply:ci}),Fi=s.jsx(Fm,{composerController:p,parsedDocumentHandler:gi}),zi=!b&&s.jsx(Ef,{className:h}),Hi=s.jsx(vm,{modelSupportedImageMimeTypes:Ot,uploadType:Do.Multimodal,attachmentsProductFeature:Pt==null?void 0:Pt.attachments,contextScopes:wo}),Gi=Et(f,"3127600850"),Wi=[!Ft&&Ti?Ai:null,null,!k&&!Ft&&!bo&&!D?s.jsx(Pm,{account:o,clientBootstrapFlags:Is,features:se,currentModelConfig:n,isDisabled:gs,clientThreadId:r.id,composerController:p,gizmoId:L}):oi&&!D?s.jsx(Em,{activeSystemHintType:G,systemHints:oe,composerController:p,clientThreadId:r.id,disabled:gs}):null,!k&&!Ft&&!bo&&Pi&&!D?s.jsx(Rm,{composerController:p,clientThreadId:r.id}):null,!k&&!Ft&&!bo&&!D&&ti?s.jsx(jm,{}):null].filter(u=>u!=null);return s.jsxs(Dm.Provider,{value:po,children:[s.jsxs("div",{className:it("pointer-events-auto relative z-1 flex h-[var(--composer-container-height,100%)] max-w-full flex-[var(--composer-container-flex,1)] flex-col"),onPaste:fi,children:[s.jsx(Bm,{onOauthRedirect:Ra}),Gi&&s.jsx(a_,{}),zi,ce&&Ei&&s.jsx(Nm,{taskId:ce.taskId,clientThreadId:r.id,onClose:()=>Oa(!1)}),s.jsx(Xg,{hasFiles:mo,pendingFiles:$t,isUploadDisabled:!zt,conversation:r,highlightUploadTooltip:Io,disableReason:Di,uploadButtonDisabledReason:is,currentModelConfig:n,conversationMode:v,state:Po,inputState:Ri,gizmoId:L,includeSidebarContextTray:Aa,isTemporaryChat:ae,placeholder:Ci,shouldUseRotatingPlaceholders:wi,composerController:p,onSubmit:Oi,replyRegions:La,leadingAction:Ba,legacyFooterActions:Wi,activeSystemHint:Y,activeConnectorSystemHints:Br,shouldShowAgentSessionModeDropdown:ge,hideSystemHint:vt||!k&&!Ft,isSystemHintLocked:vt,onRemoveSystemHint:co,forceStopButton:Be,onRemoveModel:ma,contextualAnswerUserConnectionData:xt,fileInput:s.jsx("input",ht({},ri())),expanded:Ft?void 0:!0,expandOnMultilineInput:Ft,layoutMode:C,agentSessionModeNuxModal:be,isAgentSessionModeDropdownDisabled:je||(at==null?void 0:at.has("cloud"))}),s.jsx(cg,{systemHints:oe!=null?oe:[],availableSystemHints:oe!=null?oe:[],composerController:p,clientThreadId:r.id,layoutMode:C,composerLayer:yo,canUseInlineTagging:Fs,isFileUploadEnabled:zt,fileUploadDisabledReason:is,currentModelConfig:n!=null?n:null,openFileDialog:ts,connectionInstanceData:xt,setActiveSystemHintType:R,selectModelId:Ps,gizmoId:L!=null?L:null,hasGizmoFeatureRateLimit:N,setSelectedGizmoTag:u=>_s.set(r,u)}),!1,!cr(G)&&s.jsx(Lm,{canShowAutocomplete$:Ni,layoutMode:C,composerController:p,clientThreadId:r.id})]}),Fi,Li,Ui,Hi,G&&oe&&s.jsx(r_,{conversation:r,availableSystemHints:oe,systemHintType:G,onRemoveSystemHint:co})]})}const r_=({conversation:t,availableSystemHints:e,systemHintType:o,onRemoveSystemHint:a})=>{const n=e!=null&&!cr(o)&&e.every(S=>S.systemHint!==o),l=ue(()=>fd(t)),{isBlocked:r}=xr(o),i=ze(),g=!ss(i);M.useEffect(()=>{l&&(n||r)&&!g&&a()},[n,r,g,a,o,l]);const m=Nt(t.id,lt.getLastAssistantMessage),x=lr();return M.useEffect(()=>{var S;Et(i,"2857215914")&&(m==null?void 0:m.channel)==="final"&&((S=m==null?void 0:m.metadata)==null||S.mercury_message)},[x,m,a,i]),null},i_=tt(()=>et(()=>import("./9kg8fj3phaeaomhr.js").then(t=>t.v),__vite__mapDeps([23,1,24,2,3,0,4,25,26,27,28,29,30,31,32,33])).then(t=>t.VoiceHintContainer));function M_(t){"use forget";var fe,B;const e=Rt.c(72),{conversation:o,currentModelId:a,disableDraftPersistence:n,isNewThread:l,isProjectThread:r,onRequestCompletion:i,onContinueGenerating:g,headerClassName:m,hideHeader:x,onlyAllowImageUploads:S,layoutMode:y}=t,c=n===void 0?!1:n,h=r===void 0?!1:r,b=y===void 0?"bottom":y,_=ze();let C;e[0]!==o?(C=()=>ta(o),e[0]=o,e[1]=C):C=e[1];const I=ue(C),[d,L,f,v,P,O]=Nt(o.id,c_);let w;e[2]!==_?(w=Un(_),e[2]=_,e[3]=w):w=e[3];const T=w,W=ea();let p;e[4]!==o.id?(p={clientThreadId:o.id},e[4]=o.id,e[5]=p):p=e[5];const A=zm(p);let U;e[6]===Symbol.for("react.memo_cache_sentinel")?(U={type:"just-hit-rate-limit"},e[6]=U):U=e[6];const{isOpen:$,onClose:Z}=Hm(U);let V;e:{if(!A){V=!d&&L;break e}V=!1}const k=V,te=A,X=gd(o.id),F=Nt(o.id,lt.hasRecentPIMWarning),ee=_d(X).data,ne=Gm();let D;e:{if(F){D="pimBlock";break e}if(v){D="readOnlyConversation";break e}if(((fe=ee==null?void 0:ee.gizmo.tags)==null?void 0:fe.includes(oa.WorkspaceDisabled))&&!ne){D="workspaceDisallowsGizmo";break e}if(I.models.size===0){D="noModelsAvailable";break e}if((f==null?void 0:f.kind)===zn.GizmoTest&&f.gizmo_id==null){D="noTestGizmoId";break e}D=null}const Q=D,pe=Xi(),_e=Wm(),Ae=pe.action==="moderate";let we;e[7]!==_?(we=Et(_,"1860647109"),e[7]=_,e[8]=we):we=e[8];const Te=we,Je=Jo.useState(l_),ie=hd(),Ge=(B=ee==null?void 0:ee.gizmo.id)!=null?B:ie;let ce;e[9]!==_||e[10]!==Ge?(ce=yd(_,Ge),e[9]=_,e[10]=Ge,e[11]=ce):ce=e[11];const me=ce;let Be;e[12]!==a||e[13]!==I?(Be=bd(I,a),e[12]=a,e[13]=I,e[14]=Be):Be=e[14];const Ie=Be;let Oe;e[15]!==o||e[16]!==Je?(Oe=()=>Je?[]:Jm(o),e[15]=o,e[16]=Je,e[17]=Oe):Oe=e[17];const je=ue(Oe);let oe;e[18]!==_?(oe=$m(_),e[18]=_,e[19]=oe):oe=e[19];const Re=!oe,Fe=ao();let ve;e[20]!==je||e[21]!==W||e[22]!==o.id||e[23]!==a||e[24]!==Re||e[25]!==A?(ve=s.jsx(qm,{availableSystemHints:je,composerController:W,clientThreadId:o.id,currentModelId:a,isCompletionInProgress:A,expireConduit:Re}),e[20]=je,e[21]=W,e[22]=o.id,e[23]=a,e[24]=Re,e[25]=A,e[26]=ve):ve=e[26];let se;e[27]!==Ae||e[28]!==Te||e[29]!==_e?(se=_e&&Ae&&Te?s.jsx(Km,{}):null,e[27]=Ae,e[28]=Te,e[29]=_e,e[30]=se):se=e[30];let ae;e[31]!==se?(ae=s.jsx("div",{className:"flex justify-center empty:hidden",children:se}),e[31]=se,e[32]=ae):ae=e[32];let le;e[33]!==$||e[34]!==Z?(le=$?s.jsx(Ym,{onClose:Z}):null,e[33]=$,e[34]=Z,e[35]=le):le=e[35];let J;e[36]!==(T==null?void 0:T.normalizedAccountUserId)||e[37]!==o.id||e[38]!==h?(J=h&&s.jsx(Vm,{clientThreadId:o.id,accountUserId:T==null?void 0:T.normalizedAccountUserId}),e[36]=T==null?void 0:T.normalizedAccountUserId,e[37]=o.id,e[38]=h,e[39]=J):J=e[39];let N;e[40]!==o.id||e[41]!==Fe?(N=Fe?s.jsx("div",{className:"relative flex items-center justify-center",children:s.jsx(i_,{conversationId:o.id})}):null,e[40]=o.id,e[41]=Fe,e[42]=N):N=e[42];const ye=o.id,he=!!Q,G=Q!=null?Q:void 0,Y=_e||P||O;let R;e[43]!==T||e[44]!==je||e[45]!==k||e[46]!==te||e[47]!==o||e[48]!==Ie||e[49]!==a||e[50]!==c||e[51]!==Ge||e[52]!==m||e[53]!==x||e[54]!==A||e[55]!==l||e[56]!==me||e[57]!==b||e[58]!==g||e[59]!==i||e[60]!==S||e[61]!==he||e[62]!==G||e[63]!==Y?(R=s.jsx(n_,{conversation:o,disableDraftPersistence:c,onCreateNewCompletion:i,onContinueGenerating:g,currentModelId:a,account:T,currentModelConfig:Ie,isNewThread:l,isCompletionInProgress:A,className:"w-full",canContinue:k,disabled:he,disabledReason:G,canPause:te,isInteractableSharedThread:Y,headerClassName:m,hideHeader:x,onlyAllowImageUploads:S,layoutMode:b,availableSystemHints:je,isSnorlaxEnabledForGizmo:me,gizmoId:Ge},ye),e[43]=T,e[44]=je,e[45]=k,e[46]=te,e[47]=o,e[48]=Ie,e[49]=a,e[50]=c,e[51]=Ge,e[52]=m,e[53]=x,e[54]=A,e[55]=l,e[56]=me,e[57]=b,e[58]=g,e[59]=i,e[60]=S,e[61]=he,e[62]=G,e[63]=Y,e[64]=R):R=e[64];let z;return e[65]!==ve||e[66]!==ae||e[67]!==le||e[68]!==J||e[69]!==N||e[70]!==R?(z=s.jsxs(s.Fragment,{children:[ve,ae,le,J,N,R]}),e[65]=ve,e[66]=ae,e[67]=le,e[68]=J,e[69]=N,e[70]=R,e[71]=z):z=e[71],z}function l_(t){const{locked:e}=t;return e}function c_(t){var o;const e=lt.getCurrentNode(t);return[((o=e.message.clientMetadata)==null?void 0:o.errType)!=null&&e.message.clientMetadata.errType!=="info",xd(lt.getCurrentNode(t).message),t==null?void 0:t.mode,lt.getIsReadOnly(t),!!(t!=null&&t.continuingFromSharedPostId),(t==null?void 0:t.continuingFromSharedProjectConversationId)!=null]}export{Yg as C,C_ as D,w_ as M,M_ as P,If as S,S_ as T,Ef as a,df as b,yf as c,pf as d,Rn as p,Ar as u};
//# sourceMappingURL=j703u6xl4odnuo39.js.map

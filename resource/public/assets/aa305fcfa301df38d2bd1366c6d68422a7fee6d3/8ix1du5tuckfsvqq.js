const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/btrwhqtnzjbkk202.js","assets/bubexfvksfr7893o.js","assets/d0fvtivu8wtjjx2a.js","assets/jaztged0ed1qpm4w.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/dhu98yuizb3rexhl.js","assets/mg98l7tt7fyp2fvb.js","assets/impv9cw906sxjwad.js","assets/g1dbzw9xahth2rh2.js","assets/lm3g1zm00rp6al39.js","assets/conversation-small-lq38g8zw.css","assets/n3kuwi0p5f7qt6id.js","assets/m971loovzpiztjzi.js","assets/jp1bsz3poves5oxv.js","assets/ujule29h7pphegxk.js","assets/l4ks0xbrenyhbpo7.js","assets/czfk2xng6iz6p6m1.js","assets/mfp49cbmiwd1jt8h.js","assets/mgui3xyp27o5nkyv.js","assets/dtild1iosocbgwoy.js","assets/m7ky6cnx5e7w4637.js","assets/j4cpzybta3my41wg.js","assets/fwn4bwvyx3h4ty5g.js","assets/l1teaxoievyk0rz1.js","assets/bo8mdhc1oc1583ww.js"])))=>i.map(i=>d[i]);
var pe=Object.defineProperty,ge=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var F=(e,t,n)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))he.call(t,n)&&F(e,n,t[n]);if(V)for(var n of V(t))_e.call(t,n)&&F(e,n,t[n]);return e},z=(e,t)=>ge(e,me(t));import{_ as l,u as q,r as D,h as j,j as s,M as m,a as fe,d as w}from"./bubexfvksfr7893o.js";import{az as d,u as x,da as k,e9 as Q,dl as T,p as $,ch as xe,ca as E,eH as r,eI as ve,e7 as W,ji as N,nS as Ie,nT as je,pp as S,aA as g,N as R,ff as Me,_ as f,Y as J,ei as Y,dU as Se,cp as be,bD as X,g as Pe,br as B,$ as Ce,a0 as Ee,dd as ke,dJ as ye,iw as Z,cr as Oe,aT as Ae,dN as Le,ak as H,dh as G}from"./ncw8zw682jinppua.js";import{eB as De,eC as We,eD as we,eE as ee,eF as Te,bO as Ne,eG as Re,eH as Be,bE as Ue,eI as M,cK as Ve,eJ as Fe,b6 as se,al as ze,eK as He,eL as te,eM as Ge,eN as Ke,eO as qe,eP as Qe}from"./lm3g1zm00rp6al39.js";import{c as ne,b as $e,f as Je}from"./fwn4bwvyx3h4ty5g.js";import{b as Ye,a as Xe,g as Ze,c as es}from"./nbm98bu0q3774lnr.js";const ss=d(()=>l(()=>import("./btrwhqtnzjbkk202.js"),__vite__mapDeps([0,1])),{loading:e=>g(e)}),oe=d(()=>l(()=>import("./d0fvtivu8wtjjx2a.js"),__vite__mapDeps([2,1])),{loading:e=>g(e)}),ts=d(()=>l(()=>import("./jaztged0ed1qpm4w.js"),__vite__mapDeps([3,1])),{loading:e=>g(e)}),ns=d(()=>l(()=>import("./ncw8zw682jinppua.js").then(e=>e.yr),__vite__mapDeps([4,1,5])),{loading:e=>g(e)});function os({currentAccount:e}){return s.jsx(ae,{workspace:e,isLoading:!1,currentWorkspaceId:e.id,showCheck:!1})}function as({accountSwitcherRedirectUrl:e}){const t=x(),n=q(),{data:o}=k(),a=Q(o),[u,i]=D.useState(!1),c=T(),p=j(),_=$();if(!a||!o)return null;const v=a.isWorkspaceAccount(),y=o.accountItems.length>1,b=o.accountItems,P=xe([b.find(h=>h.isPersonalAccount()),...b.filter(h=>!h.isPersonalAccount())]);return P.sort((h,C)=>h.isPersonalAccount()?1:C.isPersonalAccount()?-1:0),y?P.map(h=>{const C=h.isDeactivated(),O=()=>{if(C||h.id===(a==null?void 0:a.id))return;i(!0);const{willRedirect:A}=Ie(n,h.id,t,p,_);A||je(e)};return h.isDeactivated()?s.jsx(is,{workspace:h,isLoading:u},h.id):s.jsx(ae,{workspace:h,isLoading:u,currentWorkspaceId:a==null?void 0:a.id,onSelect:O},h.id)}):v?s.jsx(os,{currentAccount:a}):(c==null?void 0:c.email)&&s.jsx("div",{className:"text-token-text-secondary ms-3 me-2 py-2 text-sm",children:c.email})}function ae({workspace:e,isLoading:t,currentWorkspaceId:n,showCheck:o=!0,onSelect:a}){const u=j(),i=e.canAccessWithCurrentSession,c=!t&&o&&e.id===n,_=e.data.ekmConfig!=null?s.jsxs("div",{className:"relative",children:[s.jsx(S,{iconSize:"small",workspace:e}),s.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:s.jsx(oe,{className:"h-2 w-2","aria-hidden":"true"})})]}):s.jsx(S,{iconSize:"small",workspace:e});return s.jsxs(r.RadioItem,{value:e.id,onSelect:a,icon:_,secondary:!i&&(e.ssoConnectionName?s.jsx(m,{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"}):s.jsx(m,{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"})),trailingColor:c?"primary":"tertiary",trailing:c?s.jsx(ns,{className:"icon-sm"}):i?null:ss,children:[s.jsx("div",{className:"line-clamp-1",children:ne(u,e)}),t&&s.jsx(W,{})]})}function is({workspace:e,isLoading:t}){const n=j(),o=e.isOwnerOfAccount(),[a,u]=D.useState(!1),{count:i}=De(e.id);x();const c=We(),p=e.mustGetSubscriptionBillingCurrency("DeactivatedWorkspaceMenuItem");return D.useEffect(()=>{i!=null&&a&&(E.setPurchaseWorkspaceData({minimumSeats:Math.max(i,c),billingDetails:{currency:p},existingAccount:e}),u(!1))},[i,a,e,c,p]),s.jsxs(r.Item,{disabled:!0,icon:oe,trailing:!t&&s.jsxs(r.Root,{children:[s.jsx(r.BasicTrigger,{asChild:!0,children:s.jsx(N,{"aria-label":n.formatMessage({id:"1Fk+46",defaultMessage:"Workspace options"}),icon:ts})}),s.jsx(r.Portal,{children:s.jsxs(r.Content,{alignOffset:2,sideOffset:-2,size:"auto",align:"end",children:[o&&s.jsx(s.Fragment,{children:s.jsx(r.Item,{onClick:()=>{i==null?u(!0):E.setPurchaseWorkspaceData({minimumSeats:Math.max(i,c),billingDetails:{currency:p},existingAccount:e})},children:a?s.jsx(W,{}):s.jsx(m,{id:"navigation.reactivateWorkspace",defaultMessage:"Reactivate workspace"})})}),s.jsx(r.Item,{color:"danger",onClick:()=>{E.setLeaveWorkspaceData(e)},children:s.jsx(m,{id:"navigation.leaveWorkspace",defaultMessage:"Leave workspace"})})]})})]}),children:[s.jsx("div",{className:"line-clamp-1",children:ne(n,e)}),s.jsx(ve,{children:s.jsx(m,{id:"navigation.deactivedWorkspacePill",defaultMessage:"Deactivated"})}),t&&s.jsx(W,{})]})}const ie=d(()=>l(()=>import("./dhu98yuizb3rexhl.js"),__vite__mapDeps([6,1])),{loading:e=>g(e)}),rs=d(()=>l(()=>import("./mg98l7tt7fyp2fvb.js"),__vite__mapDeps([7,1])),{loading:e=>g(e)}),cs=d(()=>l(()=>import("./impv9cw906sxjwad.js"),__vite__mapDeps([8,1])),{loading:e=>g(e)}),ls=d(()=>l(()=>import("./g1dbzw9xahth2rh2.js"),__vite__mapDeps([9,1])),{loading:e=>g(e)}),ds=d(()=>l(()=>import("./lm3g1zm00rp6al39.js").then(e=>e.zp),__vite__mapDeps([10,1,4,5,11])),{loading:e=>g(e)}),us=d(()=>l(()=>import("./n3kuwi0p5f7qt6id.js"),__vite__mapDeps([12,1])),{loading:e=>g(e)}),ps=d(()=>l(()=>import("./d0fvtivu8wtjjx2a.js"),__vite__mapDeps([2,1])),{loading:e=>g(e)}),gs=d(()=>l(()=>import("./m971loovzpiztjzi.js"),__vite__mapDeps([13,1])),{loading:e=>g(e)}),ms=d(()=>l(()=>import("./jp1bsz3poves5oxv.js"),__vite__mapDeps([14,1])),{loading:e=>g(e)}),hs=d(()=>l(()=>import("./ujule29h7pphegxk.js"),__vite__mapDeps([15,1])),{loading:e=>g(e)}),_s=d(()=>l(()=>import("./l4ks0xbrenyhbpo7.js"),__vite__mapDeps([16,1])),{loading:e=>g(e)}),re=d(()=>l(()=>import("./czfk2xng6iz6p6m1.js"),__vite__mapDeps([17,1])),{loading:e=>g(e)}),fs=d(()=>l(()=>import("./mfp49cbmiwd1jt8h.js"),__vite__mapDeps([18,1])),{loading:e=>g(e)}),xs=d(()=>l(()=>import("./mgui3xyp27o5nkyv.js"),__vite__mapDeps([19,1])),{loading:e=>g(e)}),vs=d(()=>l(()=>import("./dtild1iosocbgwoy.js"),__vite__mapDeps([20,1])),{loading:e=>g(e)});function Is(e){return e!=null&&e.isWorkspaceAccount()?!((e==null?void 0:e.isEdu())&&(e==null?void 0:e.isStandardUserOfAccount())):!1}const Ks=({clientThreadId:e})=>{const t=j(),n=x();return R(n)?null:s.jsx(Me,{contentAlign:"end",sideOffset:4,triggerButton:s.jsx("button",{onClick:()=>{f.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:"header"})},"aria-label":t.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),"data-testid":"profile-button",className:"group user-select-none ps-2 focus:outline-0",children:s.jsx("div",{className:"group-hover:bg-token-interactive-bg-secondary-selected touch:h-10 touch:w-10 group-keyboard-focused:focus-ring flex h-9 w-9 items-center justify-center rounded-full",children:s.jsx(Ms,{})})}),children:s.jsx(ce,{clientThreadId:e})})};function qs(){const e=M();return s.jsxs(r.Root,{onOpenChange:t=>{t&&f.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:e})},children:[s.jsx(js,{isTinyBar:e==="tiny_bar"}),s.jsx(r.Portal,{children:s.jsx(r.Content,{side:"top",size:"auto",className:"min-w-[calc(var(--sidebar-width)-12px)]",children:s.jsx(ce,{})})})]})}function js({isTinyBar:e}){const t=x(),{data:n}=k(),o=Q(n),a=$e(),u=Je(),i=j(),{enableProfileUpgradePill:c}=te(),p=Qe(),_=o==null?void 0:o.isSelfServeBusiness(),v=H(t,"1435014612"),y=!e&&!_&&p&&v.get("enable_v3_sidebar_upsell_cta",!1),b=_&&v.get("enable_v2_sidebar_invite_cta",!1),P=_&&v.get("enable_v2_sidebar_invite_cta_cap_button",!1),h=c&&!y&&!b&&!P,O=H(t,"1656913255").get("outcome_value_props_enabled",!1),A=w();if(!o||!n)return null;const le=o!=null&&o.isWorkspaceAccount(),de=n!=null&&n.accountItems.length>1;let I;le||de?I=a:o!=null&&o.isFree()?I=i.formatMessage(Ye({shouldUseOutcomeValueProps:O}).name):o!=null&&o.isPlus()?I=i.formatMessage(Xe({ctx:t}).name):o!=null&&o.isGo()?I=i.formatMessage(Ze({ctx:t}).name):o!=null&&o.isPro()&&(I=i.formatMessage(es({ctx:t}).name));const U=i.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),ue=(o==null?void 0:o.data.ekmConfig)!=null?s.jsxs("div",{className:"relative",children:[s.jsx(S,{}),s.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:s.jsx(ps,{className:"h-2 w-2","aria-hidden":"true"})})]}):s.jsx(S,{});return s.jsx(r.BasicTrigger,{asChild:!0,children:s.jsx(Z,{as:"div",fillContainer:!0,"data-testid":"accounts-profile-button","aria-label":U,size:"large",icon:ue,iconOnly:e,iconAriaLabel:U,label:u,role:"button",trailing:!e&&h?s.jsx(s.Fragment,{children:s.jsx(N,{onClick:()=>{se(A,"sidebar profile")},"aria-label":i.formatMessage(G.upgrade),className:"-my-1.5 -ms-2 -me-2.5 cursor-default py-1.5 ps-2 pe-2.5",children:s.jsx("span",{className:"btn-secondary btn btn-small my-0 me-0 cursor-default hover:cursor-pointer",children:s.jsx(m,L({},G.upgrade))})})}):void 0,secondary:I&&s.jsx("div",{className:"truncate",dir:"auto",children:I})})})}const ce=({clientThreadId:e})=>{const t=x(),n=R(t),o=J(),a=Y(),u=o&&!a,i=we(t);return s.jsxs("div",{className:"flex flex-col",children:[n?s.jsx(Ss,{}):s.jsx(Ts,{}),s.jsx(ys,{}),s.jsx(r.Separator,{}),!n&&s.jsx(Rs,{clientThreadId:e}),n?s.jsx(Es,{}):s.jsx(ee,{}),n&&!u&&s.jsx(As,{}),(i||!1)&&s.jsx(r.Separator,{}),i&&s.jsx(Te,{}),!1]})},Ms=()=>{const e=x();return R(e)?s.jsx(S,{showPlanTypeBadge:!0}):s.jsx(ls,{className:"icon-lg"})},Ss=()=>{const e=x(),t=Se(),{data:n}=k(),o=n&&n.accountItems.length>1,a=J(),u=Y(),i=o&&(!a||u),c=Is(t),p=fe(),_=p.pathname+p.search+(p.search?"&":"?")+"refresh_account=true",v=Ne(e);return s.jsxs(s.Fragment,{children:[v.hasAccess?s.jsxs(s.Fragment,{children:[s.jsx(Re,{currentAccount:t}),s.jsx(r.Separator,{})]}):s.jsx(bs,{currentAccount:t}),i&&s.jsxs(s.Fragment,{children:[s.jsx(as,{accountSwitcherRedirectUrl:_}),s.jsx(K,{shouldShowPlusIcon:c}),s.jsx(r.Separator,{})]}),!i&&s.jsx(K,{shouldShowPlusIcon:c}),s.jsx(ws,{currentAccount:t}),s.jsx(Ns,{}),c&&s.jsx(Ps,{}),!1,s.jsx(Be,{}),s.jsx(ks,{})]})};function bs({currentAccount:e}){var c;const t=j(),n=T(),o=w(),a=$();if(!n)return null;const u=e&&e.isWorkspaceAccount()&&!e.isEnterprisey(),i=t.formatMessage({id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Business workspace"});return s.jsx(Z,{as:"div",onClick:async p=>{await ze(n.id,a,p),a.success("Copied your User ID to clipboard")},icon:fs,className:"text-token-text-tertiary bg-transparent!",trailing:u&&s.jsx(Oe,{label:i,className:"leading-0",side:"right",children:s.jsx(N,{onClick:()=>{se(o,"profile menu")},"aria-label":i,children:s.jsx(ds,{className:"icon-sm"})})}),label:(c=n.email)!=null?c:n.name})}const Ps=()=>{const e=M();return s.jsx(r.LinkItem,{to:"/admin",icon:re,onClick:()=>{f.logEventWithStatsig("Account: Open Workspace Settings","chatgpt_account_open_workspace_settings",{location:e})},children:s.jsx(m,{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Workspace settings"})})},Cs=()=>s.jsx(r.LinkItem,{icon:xs,external:!0,to:"https://openai.com/chatgpt/download",children:s.jsx(m,{id:"mDFGM/",defaultMessage:"Download apps"})}),Es=()=>{const e=M();return s.jsxs(r.Sub,{onOpenChange:t=>{t&&(f.logEventWithStatsig("Account: Open Help Menu","chatgpt_account_help_menu_open",{location:e}),Ce.count(Ee.DEFAULT,"chatgpt_account_help_menu_open",{location:e}))},children:[s.jsx(r.SubMenuTrigger,{icon:gs,children:s.jsx(m,{defaultMessage:"Help",id:"navigation.helpMenu"})}),s.jsx(r.Portal,{children:s.jsxs(r.SubContent,{align:"end",children:[s.jsx(ee,{}),s.jsx(Fe,{}),s.jsx(Cs,{}),s.jsx(Os,{})]})})]})},ks=()=>{const e=M(),t=w(),n=q();return s.jsx(r.Item,{onClick:()=>{t("#settings/".concat(Le.Personalization)),f.logEventWithStatsig("Account: Click Customize ChatGPT","chatgpt_account_open_customize_chatgpt",{location:e})},icon:hs,onMouseOver:()=>{n.prefetchQuery(Ke())},children:s.jsx(m,{id:"S0v338",defaultMessage:"Personalization"})})},ys=()=>{const{openSettings:e}=Ue(),t=M();return s.jsx(r.Item,{icon:cs,onClick:()=>{f.logEventWithStatsig("Account: Click Settings","chatgpt_account_open_settings",{location:t}),e()},"data-testid":"settings-menu-item",children:s.jsx(m,{defaultMessage:"Settings",id:"navigation.settings.0"})})},Os=()=>s.jsx(r.Item,{className:"touch:hidden",icon:rs,onSelect:()=>{qe.set(!0)},children:s.jsx(m,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),As=()=>s.jsx(r.Item,{onSelect:()=>{f.logEvent("Account: Click Log Out",{eventSource:"mouse"}),f.logLogOutButtonClicked({location:"profile_drop_down"},ke.ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN),E.openModal(ye.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:_s,children:s.jsx(m,{defaultMessage:"Log out",id:"navigation.logOut.0"})}),Ls=d(()=>l(()=>import("./lm3g1zm00rp6al39.js").then(e=>e.zi),__vite__mapDeps([10,1,4,5,11])).then(e=>e.AdminInviteModal)),Ds=d(()=>l(()=>import("./m7ky6cnx5e7w4637.js"),__vite__mapDeps([21,1,10,4,5,11,22,23,24])).then(e=>e.default)),Ws=d(()=>l(()=>import("./bo8mdhc1oc1583ww.js"),__vite__mapDeps([25,1,4,5,10,11])).then(e=>e.ThreadReportConversationModal)),ws=({currentAccount:e})=>{var c,p,_;const t=x(),n=(c=e==null?void 0:e.canInviteMembers())!=null?c:!1,o=(p=e==null?void 0:e.isSelfServeBusiness())!=null?p:!1,a=(_=e==null?void 0:e.isK12())!=null?_:!1,u=e==null?void 0:e.isQuorum(),i=o||a&&n||u;return!e||!i?null:s.jsx(r.Item,{"data-testid":"settings-menu-item-invite-teammates",onSelect:()=>{f.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"profile_drop_down"}),Ae(t,"chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"}),B(t,Ls,{workspace:e})},icon:vs,children:s.jsx(m,{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add teammates"})})},Ts=()=>s.jsx(r.LinkItem,{icon:ie,external:!0,to:"https://openai.com/chatgpt/pricing/",children:s.jsx(m,{id:"J1y7uV",defaultMessage:"See plans and pricing"})}),Ns=()=>{const{showUpgradePlan:e,onUpgradeClick:t}=He("chatgpt_upgrade_in_settings_menu_clicked","Upgrade In Settings Menu Clicked","profile-dropdown-menu"),{enableUpgradeMenuSparkleIcon:n}=te();return e?s.jsx(r.Item,{icon:n?s.jsx(Ge,{className:"icon-sm"}):ie,onSelect:()=>t("Upper right settings menu"),children:s.jsx(m,{id:"navigation.upgradePlan",defaultMessage:"Upgrade plan"})}):null},K=({shouldShowPlusIcon:e})=>{const t=x(),n=M(),o=T(),{data:a}=k(),u=!!(a!=null&&a.accountItems.some(p=>p.isEnterprisey())),i=(o==null?void 0:o.email_domain_type)==="professional";return!i||u||!(i&&!u&&X(t).getLayer("3217430380").get("enable_workspace_discovery",!1))?null:s.jsx(r.Item,{onSelect:()=>{f.logEventWithStatsig("Account: Open Workspace Discovery","chatgpt_workspace_discovery_modal_shown",{location:n}),B(t,Ds,{mode:"dismissible",section:"discoverable",source:"find_workspaces"})},icon:e?us:re,children:s.jsx(m,{defaultMessage:"Find workspaces",id:"navigation.findWorkspaces"})})},Rs=({clientThreadId:e})=>{const t=x(),n=be(e),o=Ve();if(e&&X(t).checkGate("3376455464")&&(n||o)){const a=Pe(t,e);return s.jsx(r.Item,{icon:ms,onClick:()=>B(t,Ws,z(L({clientThreadId:e},o&&(a!=null&&a.sharedConversationId)?{serverThreadId:a.sharedConversationId,isSharedConversation:!0}:{}),{isStaticSharedThread:!1})),children:s.jsx(m,{id:"profileMenu.reportConversation",defaultMessage:"Report conversation"})})}return null};export{as as A,bs as L,Ks as P,qs as S};
//# sourceMappingURL=8ix1du5tuckfsvqq.js.map

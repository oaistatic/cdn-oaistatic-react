var C=Object.defineProperty,_=Object.defineProperties;var l=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var d=(r,t,e)=>t in r?C(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,m=(r,t)=>{for(var e in t||(t={}))h.call(t,e)&&d(r,e,t[e]);if(i)for(var e of i(t))c.call(t,e)&&d(r,e,t[e]);return r},p=(r,t)=>_(r,l(t));var u=(r,t)=>{var e={};for(var o in r)h.call(r,o)&&t.indexOf(o)<0&&(e[o]=r[o]);if(r!=null&&i)for(var o of i(r))t.indexOf(o)<0&&c.call(r,o)&&(e[o]=r[o]);return e};import{y as I,a5 as y,j as s,b as E,r as n}from"./bubexfvksfr7893o.js";import{C as T}from"./i2fnvzvjvu5c6tcn.js";import{u as j,nG as R,hZ as A,h_ as N,T as P,e7 as g,R as w}from"./ncw8zw682jinppua.js";import{S as F}from"./lm3g1zm00rp6al39.js";import"./egzpifha5criht1h.js";import"./bqnf7jbq8xd3572o.js";import"./fwn4bwvyx3h4ty5g.js";import"./l1teaxoievyk0rz1.js";import"./guejgwxn789esoyt.js";import"./m7ky6cnx5e7w4637.js";import"./j4cpzybta3my41wg.js";import"./dpidockywf8envd2.js";import"./fvq06q6sopd9r6rx.js";import"./j703u6xl4odnuo39.js";import"./me0ap2djy50z6upd.js";import"./nbm98bu0q3774lnr.js";import"./i9ddjt6oaiw4vo4g.js";import"./fum95d46v8d5jv8u.js";import"./n2u3q2i5341kdx8j.js";import"./matxjx64xjrpxbwa.js";import"./ip2dsbq9712r5wna.js";import"./o45zl9yl00508gad.js";import"./mxzk2kf77c8eueuw.js";import"./bc00p2ldn9cv9q32.js";import"./8ix1du5tuckfsvqq.js";import"./hzasobp3hhjtq47p.js";import"./jro698t78r3v26vt.js";import"./mqabubffkpko61wr.js";import"./lxa5p4s1fgqvzcgw.js";import"./ekj7v0hd90m9gfgd.js";import"./c929hhheh8pnurrs.js";import"./b3zmi7k0e1dvao0m.js";import"./i0yczuhbjrdxz6ve.js";import"./cyrjh6r9wv2bzsqv.js";function G(r){const t=r.sharedConversationId,{data:e,isError:o}=E({queryKey:["shared-conversation/".concat(t)],queryFn:()=>w.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),f=j(),[S]=n.useState(()=>R(f,{sharedConversationId:t})),a=S.id,[v,x]=n.useState(!1);return n.useEffect(()=>{o&&(window.location.href=A(N.SHARE_NOT_FOUND))},[o]),n.useEffect(()=>{e&&a&&(P.updateThreadFromServer(a,e,{skipIfExisting:!0,continuingFromSharedConversationId:t}),x(!0))},[e,t,a]),v&&e?s.jsx(F.Provider,{value:{serverSharedThreadId:r.sharedConversationId},children:s.jsx(T,p(m({},r.chatPageProps),{clientThreadId:a}))}):s.jsx("div",{className:"flex h-full items-center justify-center",children:s.jsx(g,{className:"text-token-text-tertiary"})})}const St=I(function(){const o=y(),{sharedConversationId:t}=o,e=u(o,["sharedConversationId"]);return s.jsx(G,p(m({},e),{sharedConversationId:t}))});export{St as default};
//# sourceMappingURL=eskvfrgws71m6wsr.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/g683sukvvwb09shg.js","assets/bubexfvksfr7893o.js","assets/lm3g1zm00rp6al39.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/conversation-small-lq38g8zw.css","assets/ei2rr3u86wwo8xvm.js","assets/d0fvtivu8wtjjx2a.js","assets/cmff6ny7qwtuxu45.js","assets/jaztged0ed1qpm4w.js","assets/lljm2enx48t0mwrk.js","assets/czfk2xng6iz6p6m1.js","assets/fzx8w6zld7x6ef2y.js","assets/up4p8fwl1sob5zne.js","assets/c5zxee1cdidi3ygt.js"])))=>i.map(i=>d[i]);
var ke=Object.freeze,Ne=Object.defineProperty,Ke=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var _e=(t,e,i)=>e in t?Ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,N=(t,e)=>{for(var i in e||(e={}))Je.call(e,i)&&_e(t,i,e[i]);if(Se)for(var i of Se(e))Xe.call(e,i)&&_e(t,i,e[i]);return t},Y=(t,e)=>Ke(t,Ye(e));var de=(t,e)=>ke(Ne(t,"raw",{value:ke(e||t.slice())}));import{j as s,r as v,M as j,e as re,L as xe,c as K,t as Ce,_ as W,d as ne,u as Ze,h as te,v as we}from"./bubexfvksfr7893o.js";import{aB as q,_ as I,gv as es,u as Q,J as pe,aS as Te,cz as A,kP as ss,al as le,dk as ts,R as Re,az as U,cw as Le,dS as is,cr as ce,s2 as os,go as as,s3 as rs,pa as ns,kQ as X,s4 as ls,qK as ue,h as ee,ff as Ie,eH as ae,gu as cs,d9 as Z,s5 as ds,aA as F,s6 as ms,s7 as us,mr as Ae,e7 as De,ee as gs,s8 as fs,d8 as H,s9 as xs,aP as ps,au as hs,dU as Oe,sa as ys,gp as vs,ew as js,gC as bs,ch as ks,iJ as ze,lN as Ss,lS as _s}from"./ncw8zw682jinppua.js";import{b as We}from"./fwn4bwvyx3h4ty5g.js";import{g4 as Ns,bI as ws,g3 as he,bA as ye,hx as zs,jt as Ps,eo as Es,ai as oe,n6 as Gs,b6 as Ue,d8 as Ms,J}from"./lm3g1zm00rp6al39.js";import{a as Cs}from"./bc00p2ldn9cv9q32.js";import{P as Ts}from"./8ix1du5tuckfsvqq.js";import{G as Rs}from"./li0jizev2hqah27h.js";import{G as Fe,a as Ve,b as Ls}from"./cslz6wf1si9tisko.js";import{G as Is,C as As}from"./oedzukfju6acynd1.js";function Ds({href:t,children:e,onClickTrackingEventName:i,onClick:o}){function a(){i&&I.logEvent(i),o==null||o()}return t?s.jsx(q,{as:"link",to:t,onClick:a,size:"large",children:e}):s.jsx(q,{onClick:a,size:"large",children:e})}function Ht({gizmo:t}){const e=es(t),[i,o]=v.useState(!1),a=Q(),r=pe(a,"1855896025");return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(ge,{redirectUrl:e}),s.jsxs("div",{className:"flex grow flex-col items-center justify-center p-2",children:[s.jsx(Ns,{gizmo:t,isAnon:!0,children:s.jsxs("div",{className:"mt-7 flex flex-col items-center gap-4",children:[s.jsx(Ds,{onClick:()=>Te(a,{callbackUrl:e,skipLoginModal:!1}),children:s.jsx(j,{id:"gizmo.anonLandingPage.login",defaultMessage:"Sign up to chat"})}),s.jsx("div",{className:"text-token-text-tertiary flex gap-2 text-sm whitespace-nowrap",children:r&&s.jsx(s.Fragment,{children:s.jsx("div",{onClick:()=>o(!0),className:"cursor-pointer",children:s.jsx(j,{id:"gizmo.anonLandingPage.report",defaultMessage:"Report illegal content"})})})})]})}),i&&s.jsx(Rs,{onClose:()=>o(!1),gizmoId:t.gizmo.id})]})]})}function ge({redirectUrl:t,className:e}){const i=Q(),o=ws(i,Ws.signUpCta);return s.jsxs("div",{className:A("flex items-center justify-between px-7 py-4",e),children:[s.jsx(Os,{}),s.jsx(q,{color:"primary",onClick:()=>Te(i,{callbackUrl:t,skipLoginModal:!1}),children:s.jsx(j,N({},o))})]})}function Os(){return s.jsx(xe,{to:"/",children:s.jsx(ss,{className:"h-8 w-8"})})}const Ws=re({signUpCta:{id:"gizmo.anonLandingPage.signup",defaultMessage:"Sign up"}}),Us=t=>{var o;const e=le(t),i=ts(t,"690090010");return((o=e==null?void 0:e.isWorkspaceAccount)==null?void 0:o.call(e))&&i.get("enabled",!1)};function qt(t){"use forget";var M,T,L,_,R,z,C,G,D;const e=K.c(30),{workspaceId:i,limit:o,search:a,categories:r,userIds:l,enabled:n}=t,d=o===void 0?20:o,p=n===void 0?!0:n;let u;e[0]!==r||e[1]!==d||e[2]!==a||e[3]!==l||e[4]!==i?(u=["workspace_gizmos",{workspaceId:i,limit:d,search:a,categories:r,user_ids:l}],e[0]=r,e[1]=d,e[2]=a,e[3]=l,e[4]=i,e[5]=u):u=e[5];const g=p&&i!=null;let x;e[6]!==r||e[7]!==d||e[8]!==a||e[9]!==l||e[10]!==i?(x=async B=>{const{pageParam:P}=B;if(!i)return{gizmos:[],query_continuation:void 0};const $={limit:d};return P!=null&&($.query_continuation=P.query_continuation),a&&($.search=a),r&&r.length>0&&($.categories=r),l&&l.length>0&&($.user_ids=l),await Re.safeGet("/workspace-resources/{account_id}/gizmos",{parameters:{path:{account_id:i},query:$}})},e[6]=r,e[7]=d,e[8]=a,e[9]=l,e[10]=i,e[11]=x):x=e[11];let c;e[12]===Symbol.for("react.memo_cache_sentinel")?(c={},e[12]=c):c=e[12];let f;e[13]!==u||e[14]!==g||e[15]!==x?(f={queryKey:u,enabled:g,getNextPageParam:Vs,queryFn:x,initialPageParam:c},e[13]=u,e[14]=g,e[15]=x,e[16]=f):f=e[16];const m=Ce(f);let k;e[17]!==((M=m.data)==null?void 0:M.pages)?(k=(L=(T=m.data)==null?void 0:T.pages.flatMap(Fs))!=null?L:[],e[17]=(_=m.data)==null?void 0:_.pages,e[18]=k):k=e[18];const b=k;let S;e[19]!==((R=m.data)==null?void 0:R.pages)?(S=(G=(C=(z=m.data)==null?void 0:z.pages.at(-1))==null?void 0:C.query_continuation)!=null?G:void 0,e[19]=(D=m.data)==null?void 0:D.pages,e[20]=S):S=e[20];const h=S,y=!!h;let w;e[21]!==m||e[22]!==h?(w=()=>h?m.fetchNextPage():Promise.resolve(),e[21]=m,e[22]=h,e[23]=w):w=e[23];let E;return e[24]!==b||e[25]!==m||e[26]!==h||e[27]!==y||e[28]!==w?(E=Y(N({},m),{gizmos:b,queryContinuation:h,hasMore:y,loadMore:w}),e[24]=b,e[25]=m,e[26]=h,e[27]=y,e[28]=w,e[29]=E):E=e[29],E}function Fs(t){return t.gizmos}function Vs(t){var e;return{query_continuation:(e=t.query_continuation)!=null?e:void 0}}function Qt(t){"use forget";var w,E,M,T,L,_,R;const e=K.c(25),{workspaceId:i,search:o,limit:a,enabled:r}=t,l=a===void 0?50:a,n=r===void 0?!0:r;let d;e[0]!==l||e[1]!==o||e[2]!==i?(d=["workspace_users_infinite",{workspaceId:i,search:o,limit:l}],e[0]=l,e[1]=o,e[2]=i,e[3]=d):d=e[3];const p=n&&!!i;let u;e[4]!==l||e[5]!==o||e[6]!==i?(u=async z=>{var P;const{pageParam:C}=z;if(!i)return{items:[],total:0,limit:l,offset:0};const G=(P=C==null?void 0:C.offset)!=null?P:0,D=await Re.safeGet("/accounts/{account_id}/users",{parameters:{path:{account_id:i},query:{offset:G,limit:l,query:o}}});return{items:D.items.map($s),total:D.total,limit:l,offset:G}},e[4]=l,e[5]=o,e[6]=i,e[7]=u):u=e[7];let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g={},e[8]=g):g=e[8];let x;e[9]!==d||e[10]!==p||e[11]!==u?(x={queryKey:d,enabled:p,getNextPageParam:Hs,queryFn:u,initialPageParam:g},e[9]=d,e[10]=p,e[11]=u,e[12]=x):x=e[12];const c=Ce(x);let f;e[13]!==((w=c.data)==null?void 0:w.pages)?(f=(M=(E=c.data)==null?void 0:E.pages.flatMap(Bs))!=null?M:[],e[13]=(T=c.data)==null?void 0:T.pages,e[14]=f):f=e[14];const m=f;let k;e[15]!==((L=c.data)==null?void 0:L.pages)?(k=(_=c.data)==null?void 0:_.pages.at(-1),e[15]=(R=c.data)==null?void 0:R.pages,e[16]=k):k=e[16];const b=k,S=!!b&&b.offset+b.limit<b.total;let h;e[17]!==S||e[18]!==c?(h=()=>S?c.fetchNextPage():Promise.resolve(),e[17]=S,e[18]=c,e[19]=h):h=e[19];let y;return e[20]!==m||e[21]!==S||e[22]!==c||e[23]!==h?(y=Y(N({},c),{users:m,hasMore:S,loadMore:h}),e[20]=m,e[21]=S,e[22]=c,e[23]=h,e[24]=y):y=e[24],y}function Bs(t){return t.items}function $s(t){var e,i;return{id:t.id,accountUserId:t.account_user_id,name:(e=t.name)!=null?e:void 0,email:(i=t.email)!=null?i:void 0}}function Hs(t){const e=t.offset+t.limit;if(!(e>=t.total))return{offset:e}}const qs=U(()=>W(()=>import("./g683sukvvwb09shg.js"),__vite__mapDeps([0,1])),{loading:t=>F(t)}),Qs=U(()=>W(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zp),__vite__mapDeps([2,1,3,4,5])),{loading:t=>F(t)}),Ks=U(()=>W(()=>import("./ei2rr3u86wwo8xvm.js"),__vite__mapDeps([6,1])),{loading:t=>F(t)}),Ys=U(()=>W(()=>import("./d0fvtivu8wtjjx2a.js"),__vite__mapDeps([7,1])),{loading:t=>F(t)}),Js=U(()=>W(()=>import("./cmff6ny7qwtuxu45.js"),__vite__mapDeps([8,1])),{loading:t=>F(t)}),Xs=U(()=>W(()=>import("./jaztged0ed1qpm4w.js"),__vite__mapDeps([9,1])),{loading:t=>F(t)}),Zs=U(()=>W(()=>import("./lljm2enx48t0mwrk.js"),__vite__mapDeps([10,1])),{loading:t=>F(t)}),et=U(()=>W(()=>import("./czfk2xng6iz6p6m1.js"),__vite__mapDeps([11,1])),{loading:t=>F(t)});function se({delay:t,animateTap:e=!0,children:i}){return s.jsx(is.div,{whileTap:{scale:e?.98:void 0},initial:{opacity:0,translateY:5},animate:{opacity:1,translateY:0,transition:{duration:.3,ease:"easeIn",delay:t!=null?t:0}},children:i})}var st=(t=>(t.Enabled="enabled",t.ComingSoon="coming-soon",t))(st||{});function tt({gizmoResource:t}){var a,r;const e=(a=t.gizmo.vanity_metrics)==null?void 0:a.num_conversations_str,i=(r=t.gizmo.share_recipient)!=null?r:Z.Private,o=ds(i);return s.jsxs("div",{children:[t.gizmo.share_recipient!==Z.Private&&e!=null?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zs,{className:"icon-sm"}),s.jsx("span",{children:s.jsx(j,Y(N({},at.conversationCountStrLabel),{values:{numConvos:e}}))})]}):void 0,s.jsxs("div",{className:"flex items-center gap-1",children:[i===Z.Link||i===Z.Marketplace?s.jsx(Js,{className:"icon-sm shrink-0"}):i===Z.Workspace?s.jsx(et,{className:"icon-sm shrink-0"}):s.jsx(Ys,{className:"icon-sm shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:o})]})]})}function Kt({gizmoResource:t,canRemoveRecent:e}){var d,p,u;const i=Q(),o=ne(),{canEdit:a}=as(t),{canDelete:r}=rs(t),l=ns(t),n=!!((d=t.gizmo.tags)!=null&&d.includes(X.FirstParty));return s.jsx(Be,{href:l?ue(t.gizmo.id):ee(i,t),icon:s.jsx(ye,{isFirstParty:n,src:(p=t==null?void 0:t.gizmo.display.profile_picture_url)!=null?p:void 0,className:"h-[42px] w-[42px] shrink-0"}),title:t.gizmo.display.name||ls,isDraft:l,description:(u=t.gizmo.display.description)!=null?u:"",byline:a?s.jsx(tt,{gizmoResource:t}):s.jsx(he,{gizmo:t}),buttons:s.jsxs(s.Fragment,{children:[a&&s.jsx(ce,{label:s.jsx(j,{id:"gizmo.gpt.grid.EditGPT",defaultMessage:"Edit GPT"}),className:"flex justify-center",side:"top",children:s.jsx("button",{className:"text-token-text-primary rounded-lg px-3 py-2 transition-transform duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{o(ue(t.gizmo.id))},children:s.jsx(Ks,{className:"icon-sm"})})}),s.jsx(ot,{gizmoResource:t,canDelete:r,canRemoveRecent:e})]})})}var Ge;const it=Le.div(Ge||(Ge=de(["flex h-[42px] w-[42px] shrink-0 items-center justify-center rounded-full border border-dashed\n",""])),({$disabled:t})=>t?"":"border-token-border-default bg-token-main-surface-secondary");function Yt({type:t}){const e=os(),i=t==="coming-soon";return s.jsxs(ce,{disabled:!i,label:s.jsx(j,{id:"gizmo.gpt.grid.CreateGPTComingSoon",defaultMessage:"GPT creation will be available in the coming weeks"}),triggerAs:null,children:[s.jsx(Be,{href:e,disabled:i,icon:s.jsx(it,{$disabled:i,children:s.jsx(Qs,{className:A("icon-sm",i&&"opacity-30")})}),title:s.jsx("div",{className:"flex items-center gap-1",children:s.jsx(j,{id:"gizmo.gpt.grid.CreateGPT",defaultMessage:"Create a GPT"})}),description:"Customize a version of ChatGPT for a specific purpose",byline:i?s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("div",{className:"flex items-center",children:s.jsx(j,{id:"gizmo.gpt.grid.ComingSoon",defaultMessage:"Coming soon"})})}):void 0}),s.jsx("div",{className:"h-px bg-gray-100 dark:bg-gray-700"})]})}function Be({href:t,icon:e,title:i,isDraft:o=!1,description:a,byline:r,buttons:l,disabled:n,className:d}){const p=A("flex items-center px-2 py-4 rounded-xl",n?"":"hover:bg-token-main-surface-secondary",d),u=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex grow items-center overflow-hidden md:w-3/5 md:grow-0",children:[e,s.jsxs("div",{className:A("grow overflow-hidden ps-4 pe-9 leading-tight",n?"opacity-50":"hover:cursor-pointer"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold",children:i}),o&&s.jsx(ce,{label:s.jsx(j,{id:"gizmo.gpt.grid.Draft",defaultMessage:"Draft"}),className:"flex justify-center",side:"top",children:s.jsx("div",{className:"m-1.5 inline-block h-1.5 w-1.5 rounded-full bg-gray-200 dark:bg-gray-600"})})]}),s.jsx("div",{className:"line-clamp-2 overflow-hidden text-sm break-words text-ellipsis",children:a}),r!=null&&s.jsx("div",{className:"text-token-text-tertiary text-sm text-ellipsis md:hidden",children:r})]})]}),r!=null&&s.jsx("div",{className:"text-token-text-tertiary hidden flex-1 text-sm text-ellipsis md:block",children:r}),l!=null&&s.jsx("div",{onClick:g=>{g.preventDefault()},onPointerDownCapture:g=>{g.stopPropagation()},className:"flex h-9 shrink-0 justify-end gap-2 font-semibold md:w-[100px]",children:l})]});return n?s.jsx(se,{children:s.jsx("span",{className:p,children:u})}):s.jsx(se,{children:s.jsx(xe,{className:p,to:t,children:u})})}function ot({gizmoResource:t,canDelete:e,canRemoveRecent:i}){const[o,a]=v.useState(!1),[r,l]=v.useState(!1),n=Ze();return!e&&!i?null:s.jsxs(s.Fragment,{children:[s.jsxs(Ie,{side:"top",contentAlign:"end",sideOffset:8,open:r,onOpenChange:d=>l(d),triggerButton:s.jsx("button",{color:"secondary",className:"text-token-text-primary rounded-lg bg-transparent px-3 py-2 duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{l(d=>!d)},children:s.jsx(Xs,{className:"icon"})}),children:[e&&s.jsx(ae.Item,{color:"danger",onClick:()=>{a(!0)},icon:qs,children:s.jsx(j,{id:"gizmo.gpt.grid.DeleteGPT",defaultMessage:"Delete GPT"})}),i&&s.jsx(ae.Item,{onClick:()=>{cs.removeFromRecent(n,t.gizmo.id)},children:s.jsx(j,{id:"gizmo.gpt.grid.RemoveFromRecent",defaultMessage:"Remove from Recent"})})]}),o&&s.jsx(zs,{children:s.jsx(Is,{gizmoId:t.gizmo.id,onSuccess:()=>{a(!1)},onClose:()=>{a(!1)}})})]})}const at=re({conversationCountStrLabel:{id:"gizmo.gpt.grid.conversationCountStrLabel",defaultMessage:"{numConvos} Chats"}});function $e({gizmo:t,children:e,onClick:i,onModalOpen:o,onModalClose:a,selectOnly:r,className:l}){const n=Q(),d=pe(n,"1825130190"),[p,u]=v.useState(!1);return r?s.jsx("a",{className:A("gizmo-link cursor-pointer",l),href:"#",onClick:g=>{g.preventDefault(),i==null||i(g)},children:e}):d?s.jsxs(s.Fragment,{children:[p&&s.jsx(Fe,{gizmoId:t.gizmo.id,creatorId:t.gizmo.author.user_id,onClose:()=>{u(!1),a==null||a()},children:s.jsx(Ve,{as:"link",to:ee(n,t)})}),s.jsx("a",{className:A("gizmo-link cursor-pointer",l),href:"#",onClick:g=>{g.preventDefault(),i==null||i(g),u(!0),o==null||o()},children:e})]}):s.jsx(xe,{to:ee(n,t),className:A("gizmo-link",l),target:"_blank",onClick:i,children:e})}const rt=U(()=>W(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zl),__vite__mapDeps([2,1,3,4,5])),{loading:t=>F(t)}),nt=U(()=>W(()=>import("./lljm2enx48t0mwrk.js"),__vite__mapDeps([10,1])),{loading:t=>F(t)});function lt(t){"use forget";const e=K.c(28),{placeholder:i,effectiveRole:o,onSelect:a,popoverClassName:r}=t,l=te(),[n,d]=v.useState("ALL"),[p,u]=v.useState(""),[g,x]=v.useState(""),[c,f]=v.useState(null),m=Q();let k;if(e[0]!==m){const G=le(m);k=G==null?void 0:G.isWorkspaceAccount(),e[0]=m,e[1]=k}else k=e[1];const b=k,S=b!==void 0&&b;let h,y;e[2]!==p?(h=()=>{const G=setTimeout(()=>{x(p)},250);return()=>{clearTimeout(G)}},y=[p],e[2]=p,e[3]=h,e[4]=y):(h=e[3],y=e[4]),v.useEffect(h,y);const w=Q(),E=ne();let M;e[5]!==a||e[6]!==E||e[7]!==w?(M=G=>{if(a){a(G);return}if(!pe(w,"1825130190")){const B=ee(w,G);E(B);return}f(G)},e[5]=a,e[6]=E,e[7]=w,e[8]=M):M=e[8];const T=M;let L;e[9]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(rt,{className:"text-token-text-tertiary icon absolute start-5 top-1/2 z-30 -translate-y-1/2"}),e[9]=L):L=e[9];let _;e[10]!==l||e[11]!==i||e[12]!==r||e[13]!==p?(_=(G,D)=>s.jsxs(As,{label:i!=null?i:l.formatMessage(V.discoverySearch),inputClassName:"bg-token-main-surface-primary! py-4 px-3 rounded-xl font-normal text-base! ps-12",popoverClassName:A("-top-3! border-token-border-default! rounded-xl",r!=null?r:"bg-token-main-surface-primary!"),className:"border-token-border-default! rounded-xl! p-0! ring-0!",name:"search",inputValue:p,onInputChange:u,onTabChange:B=>d(B==="WORKSPACE"?"WORKSPACE":"ALL"),suggestions:G,RenderTab:dt,children:[D,D==null&&s.jsx("div",{className:"w-full py-4",children:s.jsx(mt,{})})]}),e[10]=l,e[11]=i,e[12]=r,e[13]=p,e[14]=_):_=e[14];let R;e[15]!==n||e[16]!==g||e[17]!==o||e[18]!==T||e[19]!==S||e[20]!==_?(R=s.jsx(ut,{activeTab:n,query:g,effectiveRole:o,setPopoverForceOpen:ct,onSelect:T,showWorkspaceResults:S,renderCombobox:_}),e[15]=n,e[16]=g,e[17]=o,e[18]=T,e[19]=S,e[20]=_,e[21]=R):R=e[21];let z;e[22]!==c||e[23]!==w?(z=c&&s.jsx(Fe,{gizmoId:c.gizmo.id,creatorId:c.gizmo.author.user_id,onClose:()=>{f(null)},children:s.jsx(Ve,{as:"link",to:ee(w,c)})}),e[22]=c,e[23]=w,e[24]=z):z=e[24];let C;return e[25]!==R||e[26]!==z?(C=s.jsxs("div",{className:"relative z-0",children:[L,R,z]}),e[25]=R,e[26]=z,e[27]=C):C=e[27],C}function ct(){}function dt(t){"use forget";const e=K.c(4),{tab:i}=t,o=We();if(i==="ALL"){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(j,N({},V.discoveryAllResultsHeader)),e[0]=a):a=e[0],a}if(i==="WORKSPACE"){let a;return e[1]!==o?(a=s.jsx(j,Y(N({},V.discoveryWorkspaceResultsHeader),{values:{workspaceName:o}})),e[1]=o,e[2]=a):a=e[2],a}if(i==="discoverySearchRecentlyUsed"){let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(j,N({},V.discoverySearchRecentlyUsed)),e[3]=a):a=e[3],a}return i}function mt(){"use forget";const t=K.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx("div",{className:"flex items-center justify-center py-1",children:s.jsx(De,{})}),t[0]=e):e=t[0],e}function ut(t){"use forget";var M;const e=K.c(20),{activeTab:i,query:o,effectiveRole:a,setPopoverForceOpen:r,showWorkspaceResults:l,onSelect:n,renderCombobox:d}=t;let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],e[0]=p):p=e[0],v.useEffect(xt,p);const{data:u,isLoading:g}=ms(o),{data:x,isLoading:c}=us(o,l);let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f={cutId:"recent",limit:3},e[1]=f):f=e[1];const{data:m,isLoading:k}=Ae(f),b=u==null?void 0:u.items,S=u==null?void 0:u.cursor,h=x==null?void 0:x.items,y=x==null?void 0:x.cursor;let w;e[2]!==(m==null?void 0:m.pages)?(w=(M=m==null?void 0:m.pages.flatMap(gt))!=null?M:[],e[2]=m==null?void 0:m.pages,e[3]=w):w=e[3];let E;return e[4]!==i||e[5]!==a||e[6]!==k||e[7]!==g||e[8]!==c||e[9]!==n||e[10]!==o||e[11]!==d||e[12]!==r||e[13]!==l||e[14]!==b||e[15]!==S||e[16]!==h||e[17]!==y||e[18]!==w?(E=s.jsx(pt,{debouncedQuery:o,searchResults:b,isLoadingSearch:g,searchResultsCursor:S,showWorkspaceResults:l,workspaceSearchResults:h,workspaceSearchResultsCursor:y,isLoadingWorkspaceSearch:c,isLoadingRecent:k,recent:w,effectiveRole:a,setPopoverForceOpen:r,onSelect:n,activeTab:i,renderCombobox:d}),e[4]=i,e[5]=a,e[6]=k,e[7]=g,e[8]=c,e[9]=n,e[10]=o,e[11]=d,e[12]=r,e[13]=l,e[14]=b,e[15]=S,e[16]=h,e[17]=y,e[18]=w,e[19]=E):E=e[19],E}function gt(t){return t.list.items.map(ft)}function ft(t){return t.resource}function xt(){I.logEvent("Search Start")}function pt(t){"use forget";const e=K.c(25),{activeTab:i,debouncedQuery:o,searchResults:a,isLoadingSearch:r,searchResultsCursor:l,showWorkspaceResults:n,workspaceSearchResults:d,workspaceSearchResultsCursor:p,isLoadingWorkspaceSearch:u,recent:g,isLoadingRecent:x,effectiveRole:c,setPopoverForceOpen:f,onSelect:m,renderCombobox:k}=t;let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=we(),e[0]=b):b=e[0];const S=v.useRef(b);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[1]=h):h=e[1],v.useEffect(ht,h);let y,w;e[2]!==o||e[3]!==r||e[4]!==a?(y=()=>{!r&&a&&(S.current=we(),a.length>0?Promise.all(a.map((T,L)=>{I.logEvent("Search Display Result",{search_id:S.current,gizmo_id:T.gizmo.id,position:L,query:o})})):I.logEvent("Search No Results",{query:o}))},w=[a,r,o],e[2]=o,e[3]=r,e[4]=a,e[5]=y,e[6]=w):(y=e[5],w=e[6]),v.useEffect(y,w);let E;e[7]!==g?(E=g!=null?g:[],e[7]=g,e[8]=E):E=e[8];let M;return e[9]!==i||e[10]!==o||e[11]!==c||e[12]!==x||e[13]!==r||e[14]!==u||e[15]!==m||e[16]!==k||e[17]!==a||e[18]!==l||e[19]!==f||e[20]!==n||e[21]!==E||e[22]!==d||e[23]!==p?(M=s.jsx(yt,{query:o,activeTab:i,searchIdRef:S,searchResults:a,searchResultsCursor:l,isLoadingSearch:r,showWorkspaceResults:n,workspaceSearchResults:d,workspaceSearchResultsCursor:p,isLoadingWorkspaceSearch:u,isLoadingRecent:x,recentSearchResults:E,setPopoverForceOpen:f,effectiveRole:c,onSelect:m,renderCombobox:k}),e[9]=i,e[10]=o,e[11]=c,e[12]=x,e[13]=r,e[14]=u,e[15]=m,e[16]=k,e[17]=a,e[18]=l,e[19]=f,e[20]=n,e[21]=E,e[22]=d,e[23]=p,e[24]=M):M=e[24],M}function ht(){I.logEvent("Search Start")}function me(t){"use forget";const e=K.c(6),{children:i,onClick:o,isSelected:a,isClickable:r}=t,l="text-token-text-tertiary px-3 pb-2 text-xs ".concat(a?"border-b-2 font-bold":"font-semibold"," ").concat(r?"cursor-pointer":"");let n;e[0]!==o?(n=()=>{o==null||o()},e[0]=o,e[1]=n):n=e[1];let d;return e[2]!==i||e[3]!==l||e[4]!==n?(d=s.jsx("div",{className:l,onClick:n,children:i}),e[2]=i,e[3]=l,e[4]=n,e[5]=d):d=e[5],d}function yt({query:t,searchIdRef:e,isLoadingRecent:i,searchResults:o=[],searchResultsCursor:a,isLoadingSearch:r,showWorkspaceResults:l,workspaceSearchResults:n=[],workspaceSearchResultsCursor:d,isLoadingWorkspaceSearch:p,recentSearchResults:u,setPopoverForceOpen:g,activeTab:x,effectiveRole:c,onSelect:f,renderCombobox:m}){"use no forget";var D,B;const k=gs(),[b,S]=v.useState(!1),h=fs(t,b,x==="WORKSPACE",x==="WORKSPACE"?d:a),{data:y,hasNextPage:w,fetchNextPage:E,isFetchingNextPage:M,isError:T}=Y(N({},h),{data:(B=(D=h.data)==null?void 0:D.pages.flatMap(P=>P.items.map($=>$)))!=null?B:[]}),[L,_]=v.useState(y.length),R=v.useRef(null);v.useEffect(()=>{var P;y.length>L&&(_(y.length),(P=R.current)==null||P.scrollIntoView({behavior:"smooth",block:"nearest"}))},[y.length,L]);const z=(P,$)=>{var je,be;const ve=(je=P.gizmo.vanity_metrics)==null?void 0:je.num_conversations_str,ie=((be=P.gizmo.tags)==null?void 0:be.includes(X.WorkspaceDisabled))&&c!==H.OWNER;return{id:P.gizmo.id,className:A("group flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-50 dark:hover:bg-white/10",ie&&"opacity-50 hover:opacity-100"),focusedClassName:"bg-gray-50 dark:bg-white/10",onClick:()=>{f?f(P):I.logEvent("Store Click Gizmo",{search_id:e.current,gizmo_id:P.gizmo.id,position:$,query:t,section:"search"})},children:s.jsx(vt,{resource:P,grayedOut:ie!=null?ie:!1,isScreenSm:k,numConvos:ve})}};if(t===""&&u&&u.length>0)return m({discoverySearchRecentlyUsed:u.map(z)},null);if(t===""&&i)return m([],null);if(t==="")return m([],s.jsx(me,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,N({},V.discoverySearchRecentlyUsedEmpty))}));if(t!==""&&!r&&x==="ALL"&&(o==null||o.length===0))return m([],s.jsx("div",{className:"text-token-text-tertiary mt-4 px-3 pb-2 text-xs font-semibold",children:s.jsx(j,N({},V.discoveryNoResultsSearch))}));if(t!==""&&!p&&x==="WORKSPACE"&&(n==null||n.length===0))return m([],s.jsx("div",{className:"text-token-text-tertiary mt-4 px-3 pb-2 text-xs font-semibold",children:s.jsx(j,N({},V.discoveryNoResultsSearch))}));if(l){if(t!==""&&!r&&!p&&(!o||o.length===0)&&(!n||n.length===0))return m([],s.jsx("div",{className:"mx-2",children:s.jsx(me,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,N({},V.discoveryNoResultsSearch))})}))}else{if(r)return m([],null);if(t!==""&&!r&&(!o||o.length===0))return m([],s.jsx("div",{className:"mx-2",children:s.jsx(me,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,N({},V.discoveryNoResultsSearch))})}))}let C=[];if(o){const P=o.map(z);C=[...C,...P]}if(o&&y){const P=y.map(z);C=[...C,...P]}if((!b&&y.length===0||w||M||T)&&a!=null){const P={id:"all-load-more-button",className:"",onClick:()=>{S(!0),E(),g==null||g(!0)},children:s.jsx(q,{color:T?"danger-outline":"secondary",onClick:()=>{},loading:M,fullWidth:!0,className:"mt-2 md:mt-3",children:T?s.jsx(j,N({},V.discoveryLoadMoreError)):s.jsx(j,N({},V.discoveryLoadMore))})};C=[...C,P]}const G={ALL:C};if(n){const P=n.map(z);G.WORKSPACE=P}if(n&&y){const P=y.map(z);G.WORKSPACE=[...G.WORKSPACE,...P]}if((!b&&y.length===0||w||M||T)&&d!=null){const P={id:"workspace-load-more-button",className:"",onClick:()=>{S(!0),E(),g==null||g(!0)},children:s.jsx(q,{color:T?"danger-outline":"secondary",onClick:()=>{},fullWidth:!0,className:"mt-2 md:mt-3",loading:M,children:T?s.jsx(j,N({},V.discoveryLoadMoreError)):s.jsx(j,N({},V.discoveryLoadMore))})};G.WORKSPACE=[...G.WORKSPACE,P]}return m(G,null)}function vt(t){"use forget";var h,y;const e=K.c(27),{resource:i,grayedOut:o,isScreenSm:a,numConvos:r}=t;let l;e[0]!==i.gizmo.tags?(l=(h=i.gizmo.tags)==null?void 0:h.includes(X.FirstParty),e[0]=i.gizmo.tags,e[1]=l):l=e[1];const n=!!l,d=(y=i.gizmo.display.profile_picture_url)!=null?y:void 0,p=o&&"grayscale group-hover:grayscale-0";let u;e[2]!==p?(u=A("h-8 w-8 shrink-0",p),e[2]=p,e[3]=u):u=e[3];let g;e[4]!==n||e[5]!==d||e[6]!==u?(g=s.jsx(ye,{isFirstParty:n,src:d,className:u}),e[4]=n,e[5]=d,e[6]=u,e[7]=g):g=e[7];let x;e[8]!==i.gizmo.display.name?(x=s.jsx("div",{className:"flex flex-row items-end space-x-2",children:s.jsx("span",{className:"shrink-0 truncate text-sm font-semibold",children:i.gizmo.display.name})}),e[8]=i.gizmo.display.name,e[9]=x):x=e[9];let c;e[10]!==a||e[11]!==i.gizmo.display.description?(c=a&&s.jsx("span",{className:"text-token-text-tertiary max-w-md truncate text-xs",children:i.gizmo.display.description}),e[10]=a,e[11]=i.gizmo.display.description,e[12]=c):c=e[12];let f;e[13]!==i?(f=s.jsx("div",{className:"-mt-1",children:s.jsx(he,{gizmo:i,className:"text-token-text-tertiary truncate text-xs",hideLink:!0})}),e[13]=i,e[14]=f):f=e[14];let m;e[15]!==r?(m=r&&s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 font-semibold",style:{marginTop:"-2px"},children:[s.jsx(nt,{className:"icon-xs"}),s.jsx("span",{className:"line-clamp-1 text-xs",children:r})]}),e[15]=r,e[16]=m):m=e[16];let k;e[17]!==m||e[18]!==f?(k=s.jsxs("div",{className:"flex items-center gap-2",children:[f,m]}),e[17]=m,e[18]=f,e[19]=k):k=e[19];let b;e[20]!==k||e[21]!==x||e[22]!==c?(b=s.jsxs("div",{className:"flex flex-col space-y-1 truncate",children:[x,c,k]}),e[20]=k,e[21]=x,e[22]=c,e[23]=b):b=e[23];let S;return e[24]!==b||e[25]!==g?(S=s.jsxs(s.Fragment,{children:[g,b]}),e[24]=b,e[25]=g,e[26]=S):S=e[26],S}const V=re({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"}}),He=U(()=>W(()=>import("./fzx8w6zld7x6ef2y.js"),__vite__mapDeps([12,1])),{loading:t=>F(t)}),jt=U(()=>W(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zp),__vite__mapDeps([2,1,3,4,5])),{loading:t=>F(t)}),bt=U(()=>W(()=>import("./lljm2enx48t0mwrk.js"),__vite__mapDeps([10,1])),{loading:t=>F(t)}),kt=U(()=>W(()=>import("./up4p8fwl1sob5zne.js"),__vite__mapDeps([13,1])),{loading:t=>F(t)}),St=U(()=>W(()=>import("./c5zxee1cdidi3ygt.js"),__vite__mapDeps([14,1])),{loading:t=>F(t)});var Me;const qe=Le.div(Me||(Me=de(["grid grid-cols-1 gap-x-1.5 gap-y-1 md:gap-x-2 md:gap-y-1.5 lg:grid-cols-2 lg:gap-x-3 lg:gap-y-2.5"]))),fe="gpt_store";function _t(t,e){e.scrollLeft>t.offsetLeft?e.scrollBy({left:t.offsetLeft-e.scrollLeft-20,behavior:"smooth"}):e.scrollLeft+e.clientWidth<t.offsetLeft+t.clientWidth&&e.scrollBy({left:t.offsetLeft+t.clientWidth-e.clientWidth-e.scrollLeft+20,behavior:"smooth"})}function Jt({anon:t}){const[e]=v.useState(()=>ps.getItem(hs.GizmoDiscoveryLocale)),i=Oe(),[o,a]=v.useState(!1),r=i!=null&&i.isOwnerOfAccount()&&!o?H.OWNER:H.STANDARD;return s.jsx(Nt,{anon:t,currAccount:i,requestedLocale:e,effectiveRole:r,setPretendStandardUser:a})}function Nt({anon:t,currAccount:e,requestedLocale:i,effectiveRole:o,setPretendStandardUser:a}){const[r,l]=v.useState(void 0),n=!!t||(e==null?void 0:e.isPersonalAccount())&&!0,{data:d,isLoading:p,isError:u}=ys(i,n);v.useEffect(()=>{d&&l({locale:d.locale,workspace_filtered:d.workspace_filtered,cuts:d.cuts.map(x=>({info:x.info,list:{items:x.list.items.map(c=>c.resource),cursor:x.list.cursor}}))})},[d]);const g=(...x)=>{var f,m;const c=Ae(...x);return Y(N({},c),{data:(m=(f=c.data)==null?void 0:f.pages.flatMap(k=>k.list.items.map(b=>b.resource)))!=null?m:[]})};return s.jsx(zt,{anon:t,discoveryLanding:r,isLoading:p,isError:u,effectiveRole:o,setPretendStandardUser:a,useFetchMoreQuery:g})}function wt(t,e){if(t)return s.jsx(oe,{type:"info",children:s.jsx(j,N({},O.discoveryResidencyRestriction))});switch(e){case"allow_none":return s.jsx(oe,{type:"info",children:s.jsx(j,N({},O.discoveryThirdPartyDisabled))});case"allow_specific":return s.jsx(oe,{type:"info",children:s.jsx(j,N({},O.discoveryThirdPartySpecific))});default:return null}}function zt({anon:t,discoveryLanding:e,isLoading:i,isError:o,effectiveRole:a,setPretendStandardUser:r,useFetchMoreQuery:l}){var M,T,L;const n=Oe(),d=js(n==null?void 0:n.getWorkspaceId()),p=v.useRef({}),[u,g]=v.useState({}),x=Q(),c=Us(x),f=v.useMemo(()=>bs(ks(e==null?void 0:e.cuts.map(_=>({id:_.info.id,name:_.info.display_group}))),"name"),[e]),m=v.useRef(null),k=(M=f.find(_=>u[_.id]))!=null?M:f[0];v.useEffect(()=>{const _=p.current,R=new IntersectionObserver(z=>{z.forEach(C=>{for(const G of f){const D=_[G.id];D!=null&&C.target===D&&g(B=>Y(N({},B),{[G.id]:C.isIntersecting}))}})},{root:null,rootMargin:"-96px",threshold:.1});return Object.values(_).forEach(z=>{z!=null&&R.observe(z)}),()=>{Object.values(_).forEach(z=>{z!=null&&R.unobserve(z)})}},[p,f]);const b=v.useRef(null),S=s.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o?s.jsx(oe,{type:"danger",children:s.jsx(j,N({},O.discoveryError))}):s.jsx(De,{})}),h=(n==null?void 0:n.data.residencyRegion)!=null&&n.data.residencyRegion!=="no_constraint"&&n.data.residencyRegion!=="us",y=(T=d.data)==null?void 0:T.allow_third_party_gpts,w=wt(h,y),E=s.jsxs("div",{className:"screen-arch:w-full mx-auto max-w-3xl overflow-x-clip px-4",children:[s.jsx(Pt,{}),s.jsxs("div",{className:"bg-token-bg-primary sticky top-14 z-30 -mt-2 mb-12 flex flex-col gap-6 pt-2 [@media(min-width:1560px)]:top-0",children:[!t&&s.jsx(lt,{}),s.jsx("div",{ref:m,className:"scroll-mt-28"}),w,f.length>0&&s.jsx(Et,{displayGroups:f,currentDisplayGroup:k,scrollToDisplayGroup:_=>{var z;((z=p.current[_.id])!=null?z:m.current).scrollIntoView({behavior:"smooth",block:"start"})}})]}),(L=e==null?void 0:e.cuts.map(_=>{var R;return _.info.display_type==="featured"?s.jsx(Tt,{info:_.info,items:_.list.items,ref:z=>{z!=null&&(p.current[_.info.id]=z)},effectiveRole:a},_.info.id):s.jsx(Lt,{info:_.info,items:_.list.items,cursor:(R=_.list.cursor)!=null?R:void 0,ref:z=>{z!=null&&(p.current[_.info.id]=z)},anon:t,effectiveRole:a,useFetchMoreQuery:l},_.info.id)}))!=null?L:[]]});return i||o?s.jsxs(s.Fragment,{children:[t?s.jsx(ge,{redirectUrl:ze(),className:"bg-token-main-surface-primary sticky top-0 z-30 h-14"}):c?null:s.jsx(Pe,{}),S]}):s.jsxs("div",{ref:b,className:"h-full overflow-y-auto",children:[t?s.jsx(ge,{redirectUrl:ze(),className:"bg-token-main-surface-primary sticky top-0 z-30 h-14"}):s.jsxs(s.Fragment,{children:[(n==null?void 0:n.isWorkspaceAccount())&&s.jsx(Mt,{role:a,onPretendStandardUser:_=>{r(_)}}),!c&&s.jsx(Pe,{})]}),E,(e==null?void 0:e.workspace_filtered)&&!(n!=null&&n.isOwnerOfAccount())&&s.jsx(Gt,{})]})}function Pt(){return s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"my-2 text-center text-3xl font-bold md:my-4 md:text-5xl",children:s.jsx(j,N({},O.discoverySplashHeader))}),s.jsx("div",{className:"text-token-text-secondary mx-auto w-full text-center text-sm md:text-lg md:leading-tight",children:s.jsx(j,N({},O.discoverySplashDescription))})]})}function Et({displayGroups:t,currentDisplayGroup:e,scrollToDisplayGroup:i}){const o=v.useRef(null),a=te(),r=(...c)=>a.formatMessage(...c),l=v.useRef({}),[n,d]=v.useState(!1);v.useEffect(()=>{if(n||e==null)return;const f=l.current[e.id];if(f==null)return;const m=o.current;m!=null&&_t(f,m)},[e,n]);const[p,u]=v.useState(!1),[g,x]=v.useState(!1);return v.useEffect(()=>{const c=o.current,f=()=>{c!=null&&(u(c.scrollLeft>0),x(c.scrollLeft+c.clientWidth<c.scrollWidth))};return c==null||c.addEventListener("scroll",f),window.addEventListener("resize",f),f(),()=>{c==null||c.removeEventListener("scroll",f),window.removeEventListener("resize",f)}},[o]),s.jsxs("div",{className:"bg-token-main-surface-primary sticky top-14 z-10 -ms-4 w-screen py-2 text-sm md:ms-0 md:w-full md:pb-0",children:[p&&s.jsx("div",{className:"absolute start-0 top-2 hidden h-full items-end bg-linear-to-r from-white from-50% to-transparent pe-8 md:block dark:from-gray-800",children:s.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/20",onClick:()=>{o.current!=null&&o.current.scrollBy({left:-400,behavior:"smooth"})},children:s.jsx(St,{className:"icon-sm"})})}),s.jsx("div",{className:"no-scrollbar flex scroll-m-5 gap-1.5 overflow-x-auto md:overflow-hidden",ref:o,children:t.map(c=>s.jsx("div",{className:A("md:text-token-text-primary cursor-pointer scroll-mx-5 rounded-3xl px-3 py-2 whitespace-nowrap select-none first:ms-4 last:me-4 md:bg-transparent md:px-2 md:first:ms-0 md:last:me-0",c.id===(e==null?void 0:e.id)?"border-token-text-primary text-token-main-surface-primary bg-black md:rounded-none md:border-b-2 dark:bg-gray-100 dark:md:bg-transparent":"bg-token-main-surface-secondary hover:text-token-text-primary md:text-token-text-tertiary hover:bg-gray-100 md:rounded-lg md:hover:bg-gray-50 dark:hover:bg-white/20 dark:md:bg-transparent dark:md:hover:bg-gray-700"),onClick:()=>{d(!0),i(c),setTimeout(()=>{d(!1)},1e3),I.logEvent("Store Click Category",{category:c.id})},ref:f=>{f!=null&&(l.current[c.id]=f)},children:r({id:"gizmo.categoryName.".concat(c.name),defaultMessage:c.name,description:"store category"})},c.id))}),g&&s.jsx("div",{className:"absolute end-0 top-2 hidden h-full bg-linear-to-l from-white from-50% to-transparent ps-8 md:block dark:from-gray-800",children:s.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/10",onClick:()=>{o.current!=null&&o.current.scrollBy({left:400,behavior:"smooth"})},children:s.jsx(kt,{className:"icon-sm"})})})]})}function Gt(){const t=te(),e=We(),i=_s();return s.jsxs("div",{className:A("bg-token-main-surface-secondary text-token-text-secondary screen-arch:static fixed bottom-0 flex w-full items-center justify-center gap-2 p-3 text-sm",i&&"md:w-[calc(100%-16rem)]"),children:[s.jsx(He,{className:"icon-sm"}),t.formatMessage(O.discoveryThirdPartyGPTsDisabled,{workspaceName:e})]})}function Mt({role:t,onPretendStandardUser:e}){const i=te();return Ms()?s.jsxs("div",{className:"h-52px flex w-full items-center justify-center gap-2 bg-gray-100 p-3 text-sm dark:bg-gray-700",children:[s.jsx(He,{className:"icon-sm"}),s.jsx(j,{id:"gizmo.discovery.browsingAsOwner",defaultMessage:"You're viewing as a <b>workspace member</b>",values:{b:a=>s.jsxs(J.Root,{defaultValue:t,onValueChange:r=>{e(r===H.STANDARD)},children:[s.jsxs(J.Trigger,{className:"-mx-2 -my-2 bg-transparent px-1 font-semibold",children:[s.jsx(ce,{disabled:t!==H.OWNER,label:i.formatMessage({id:"gizmo.discovery.browsingAsOwnerTooltip",defaultMessage:"Owners can access all third-party GPTs, even if they haven’t been approved."}),side:"bottom",triggerAs:null,children:s.jsx(J.Value,{})}),s.jsx(J.Icon,{})]}),s.jsx(J.Portal,{children:s.jsxs(J.Content,{children:[s.jsx(J.Item,{value:H.OWNER,children:s.jsx(j,{id:"gizmo.discovery.browsingOwnerRole",defaultMessage:"workspace owner"})}),s.jsx(J.Item,{value:H.STANDARD,children:s.jsx(j,{id:"gizmo.discovery.browsingMemberRole",defaultMessage:"workspace member"})})]})})]})}})]}):null}function Pe({isMobile:t=!1,tabButtons:e,hideTitle:i=!1}){var x;const o=ue(),a=ne(),r=te(),{canCreate:l,isLoading:n}=vs(),d=Q(),p=le(d),u=(x=p==null?void 0:p.planType)!=null?x:"unknown",g=()=>{l?(I.logEvent("Store Create Gizmo"),a(o)):(I.logUpsellGetPlusButtonClicked({location:fe,type:"create_gpt",plan_type:u}),Ue(a,"Gizmo Discovery page upsell"))};return s.jsx(s.Fragment,{children:s.jsxs(Ps,{className:A("z-30 flex w-full items-center justify-between whitespace-nowrap",t&&"ps-2 pe-0",!t&&"max-md:hidden",e&&"border-token-border-soft border-b"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"hidden md:flex",children:s.jsx(Cs,{})}),e?s.jsx("div",{className:"flex items-center gap-2 px-2",children:e}):!i&&s.jsx("h1",{className:"px-2 text-lg font-normal select-none [text-box-trim:trim-both] [view-transition-name:var(--vt-tool-page-title)]",children:s.jsx(j,{id:"h8AzQb",defaultMessage:"Explore GPTs"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"hidden items-center gap-2 md:flex",children:[l&&s.jsx(q,{color:"ghost",onClick:()=>{a("/gpts/mine"),I.logEvent("Store My Gizmos")},children:s.jsx(j,N({},O.discoveryMyGPTs))}),s.jsx(Ct,{canCreateGPTs:l,loadingPermissions:n,createUrl:o})]}),s.jsx("div",{className:"md:hidden",children:s.jsxs(Ie,{contentAlign:"end",triggerButton:s.jsx(Es,{"aria-label":r.formatMessage({id:"pdxBIm",defaultMessage:"Open actions menu"})}),children:[l&&s.jsx(ae.Item,{onClick:()=>{a("/gpts/mine"),I.logEvent("Store My Gizmos")},children:s.jsx(j,N({},O.discoveryMyGPTs))}),s.jsx(ae.Item,{onClick:g,children:s.jsx(j,N({},O.discoveryCreateGPT))})]})}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Ts,{})})]})]})})}const Ct=({canCreateGPTs:t,loadingPermissions:e,createUrl:i})=>{var S;const[o,a]=v.useState(!1),r=v.useRef(void 0),l=Ss(),n=Q(),d=le(n),p=d==null?void 0:d.isFree(),u=d==null?void 0:d.isWorkspaceAccount(),g=(S=d==null?void 0:d.planType)!=null?S:"unknown",x="create_gpt",c=()=>{t||(I.logPopoverHover({location:fe,type:x,plan_type:g}),clearTimeout(r.current),a(!0))},f=()=>{t||(r.current=l(function(){a(!1)},300))},m=ne(),k=()=>{I.logUpsellGetPlusButtonClicked({location:fe,type:x,plan_type:g}),Ue(m,"Gizmo Discovery page upsell")},b=t?()=>I.logEvent("Store Create Gizmo"):h=>h.preventDefault();return s.jsxs("div",{onMouseEnter:c,onMouseLeave:f,className:"screen-arch:flex screen-arch:items-center relative",children:[s.jsx(q,{color:"primary",disabled:!t,visuallyDisabled:!t,onClick:b,as:"link",to:i,icon:jt,"data-testid":"create-gpt-discovery-button",loading:e,children:s.jsx(j,N({},O.discoveryCreateGPT))}),!t&&o&&s.jsx("div",{className:"border-token-border-default bg-token-main-surface-primary screen-arch:top-12 absolute end-0 z-10 mt-2 w-64 rounded-lg border p-3 text-sm shadow-lg",children:p?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"from-token-text-tertiary mb-2 text-start font-normal break-words whitespace-normal",children:s.jsx(j,N({},O.createGPTUpsell))}),s.jsx(q,{color:"secondary",onClick:k,size:"small",children:s.jsx(j,N({},Gs(n)))})]}):u?s.jsx("p",{className:"from-token-text-tertiary mb-2 text-start font-normal break-words whitespace-normal",children:s.jsx(j,N({},O.createGPTDisabledByAdmin))}):null})]})},Tt=v.forwardRef(function({info:e,items:i,effectiveRole:o},a){return s.jsx(Qe,{title:e.title,description:e.description,ref:a,children:s.jsx(qe,{children:i.map((r,l)=>s.jsx(Rt,{resource:r,effectiveRole:o},"".concat(l,"-").concat(r.gizmo.id)))})})});function Rt({resource:t,effectiveRole:e}){var a,r,l,n;const i=(a=t.gizmo.vanity_metrics)==null?void 0:a.num_conversations_str,o=((r=t.gizmo.tags)==null?void 0:r.includes(X.WorkspaceDisabled))&&e!==H.OWNER;return s.jsx(se,{children:s.jsxs($e,{gizmo:t,className:A("group flex h-24 items-center gap-5 overflow-hidden rounded-xl bg-gray-50 px-7 py-8 hover:bg-gray-100 md:h-32 lg:h-36 dark:bg-gray-700 dark:hover:bg-white/10",o&&"opacity-50 hover:opacity-100"),onClick:()=>{I.logEvent("Store Click Gizmo",{gizmo_id:t.gizmo.id,section:"featured"})},children:[s.jsx(ye,{isFirstParty:!!((l=t.gizmo.tags)!=null&&l.includes(X.FirstParty)),src:(n=t.gizmo.display.profile_picture_url)!=null?n:void 0,className:A("h-16 w-16 shrink-0 md:h-24 md:w-24",o&&"grayscale group-hover:grayscale-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"line-clamp-2 font-semibold md:text-lg",children:t.gizmo.display.name}),s.jsx("span",{className:"line-clamp-2 text-xs md:line-clamp-3",children:t.gizmo.display.description}),s.jsxs("div",{className:"text-token-text-tertiary mt-1 line-clamp-1 flex justify-start gap-1 text-xs",children:[s.jsx(he,{gizmo:t,className:"text-xs",hideLink:!0}),i&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-[10px]",children:"•"}),s.jsx(bt,{className:"mt-0.5 h-3 w-3"}),i]})]})]})]})})}const Lt=v.forwardRef(function({info:e,items:i,cursor:o,anon:a,effectiveRole:r,useFetchMoreQuery:l},n){const[d,p]=v.useState(i.length===0),{data:u,hasNextPage:g,fetchNextPage:x,isFetchingNextPage:c,isError:f}=l({cutId:e.id,locale:e.locale,limit:6,cursor:o,enabled:d});v.useEffect(()=>{i.length===0&&x()},[x,i.length]);const[m,k]=v.useState(u.length),b=v.useRef(null),S=xs(.1);return v.useEffect(()=>{var h;u.length>m&&(k(u.length),(h=b.current)==null||h.scrollIntoView({behavior:"smooth",block:"nearest"}))},[u.length,m]),s.jsxs(Qe,{title:e.title,description:e.description,ref:n,children:[s.jsxs(qe,{children:[i.map((h,y)=>s.jsx(Ee,{resource:h,rank:y+1,cutId:e.id,effectiveRole:r},y)),u.map((h,y)=>s.jsx(Ee,{resource:h,rank:i.length+y+1,cutId:e.id,delay:S(y-m,u.length-m),effectiveRole:r},y))]}),(!d||g||c||f)&&!a&&o!=null&&s.jsx(q,{color:f?"danger-outline":"secondary",onClick:()=>{p(!0),I.logEvent("Store Load More",{section:e.id}),x()},fullWidth:!0,className:"mt-2 md:mt-3",loading:c,children:f?s.jsx(j,N({},O.discoveryLoadMoreError)):s.jsx(j,N({},O.discoveryLoadMore))}),s.jsx("div",{ref:b})]})});function Ee({resource:t,rank:e,cutId:i,delay:o,effectiveRole:a}){var n,d;const r=((n=t.gizmo.tags)==null?void 0:n.includes(X.WorkspaceDisabled))&&a!==H.OWNER,l=(d=t.gizmo.tags)==null?void 0:d.includes(X.FirstParty);return s.jsx(se,{delay:o,children:s.jsxs($e,{gizmo:t,className:A("group hover:bg-token-main-surface-secondary flex h-[104px] items-center gap-2.5 overflow-hidden rounded-xl px-1 py-4 md:px-3 md:py-4 lg:px-3",r&&"opacity-50 hover:opacity-100"),onClick:()=>{I.logEvent("Store Click Gizmo",{gizmo_id:t.gizmo.id,position:e,section:l?"first_party":i})},children:[s.jsx("div",{className:"text-md flex w-8 shrink-0 items-center justify-center font-semibold",children:e}),s.jsx(Ls,{resource:t,grayedOut:r})]},t.gizmo.id)})}const Qe=v.forwardRef(function({title:e,description:i,className:o,children:a},r){return s.jsxs("div",{ref:r,className:"h-fit scroll-mt-28 last:min-h-[calc(100vh-8rem)]",children:[s.jsxs(se,{animateTap:!1,children:[s.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:e}),i&&s.jsx("div",{className:"text-token-text-tertiary text-sm md:text-base",children:i})]}),s.jsx("div",{className:A("mt-4 mb-10",o),children:a})]})}),O=re({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryEmpty:{id:"gizmo.discovery.empty",defaultMessage:"Nothing to discover"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoveryError:{id:"gizmo.discovery.error",defaultMessage:"Error loading GPTs"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchSmall:{id:"gizmo.discovery.searchSmall",defaultMessage:"Search"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoverySearchResults:{id:"gizmo.discovery.search.results",defaultMessage:"Search Results"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"},discoveryMyGPTs:{id:"gizmo.discovery.myGPTs",defaultMessage:"My GPTs"},discoveryCreateGPT:{id:"gizmo.discovery.createGPT",defaultMessage:"Create"},discoveryThirdPartyGPTsDisabled:{id:"gizmo.discovery.thirdPartyGPTsDisabled",defaultMessage:"Your admin has blocked GPTs created outside {workspaceName}."},discoverySplashHeader:{id:"gizmo.discovery.splashHeader",defaultMessage:"GPTs"},discoverySplashDescription:{id:"gizmo.discovery.splashDescription",defaultMessage:"Discover and create custom versions of ChatGPT that combine instructions, extra knowledge, and any combination of skills."},discoveryGlobalViewOn:{id:"gizmo.discovery.globalViewOn",defaultMessage:"Global View On"},discoveryGlobalViewOff:{id:"gizmo.discovery.globalViewOff",defaultMessage:"Global View Off"},createdAgoLabel:{id:"gizmo.discovery.createdAgoLabel",defaultMessage:"Created {createdAgo}"},createGPTUpsell:{id:"gizmo.discovery.createGPTUpsell",defaultMessage:"Get ChatGPT Plus to create and share your own GPTs"},createGPTDisabledByAdmin:{id:"bOPXXW",defaultMessage:"Your admin has disabled the ability to create GPTs."},discoveryResidencyRestriction:{id:"gizmo.discovery.residencyRestriction",defaultMessage:"To comply with data residency requirements, only GPTs created within your workspace are accessible. All third-party GPTs are not available."},discoveryThirdPartyDisabled:{id:"gizmo.discovery.thirdPartyDisabled",defaultMessage:"Your admin has disabled all third-party GPTs. Only workspace GPTs are available."},discoveryThirdPartySpecific:{id:"gizmo.discovery.thirdPartySpecific",defaultMessage:"Your admin has disabled most third-party GPTs, except for specific ones that have been explicitly approved. Workspace GPTs are available."}});export{Yt as C,Pe as G,lt as a,st as b,Kt as c,qt as d,$e as e,Jt as f,Ht as g,Ds as h,Us as i,Qt as u};
//# sourceMappingURL=mlyolkcq1y2iuuee.js.map

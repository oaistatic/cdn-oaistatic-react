const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lm3g1zm00rp6al39.js","assets/bubexfvksfr7893o.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/conversation-small-lq38g8zw.css","assets/kivvchsexr54fuso.js","assets/hat5btlw8o1745f7.js","assets/o0dw43fppqvaf7ws.js","assets/n117ifjno76hbo3f.js","assets/gqlpgmzguho9n5oh.js","assets/h1em0bjkpkjv8ykw.js","assets/m609xwboj0zo059y.js","assets/eifqzljcxkeg8zns.js","assets/o6p9t02t81236kdb.js","assets/hu1bt0oauegdhua6.js"])))=>i.map(i=>d[i]);
import{_ as J,c as Y,j as s,M as N,h as ne,r as _e,y as Oe}from"./bubexfvksfr7893o.js";import{az as Z,aA as ce,u as je,J as Se,cr as pe,aB as oe,br as Ee,kG as $e,aP as Te,au as Ae,e7 as He}from"./ncw8zw682jinppua.js";import{W as Fe}from"./gtzjihtnvt59spmg.js";import{a as we,c as Me}from"./opgbrqj637eoxt1g.js";import{a_ as B,mk as We}from"./lm3g1zm00rp6al39.js";import{u as ze}from"./cty4owpsgisnj83c.js";import{M as De}from"./0wlpnvhb9lv8yqkn.js";import{G as Ve,H as Ge,I as qe,m as Ye}from"./o0dw43fppqvaf7ws.js";import{p as Ke}from"./dhsa2d3zcy4je6ke.js";import{f as Qe,i as Je,a as Ze}from"./iv5xwnwraxd9v7zq.js";import{U as Xe,a as et}from"./dbmb9e2m27h228uw.js";import"./egzpifha5criht1h.js";import"./bqnf7jbq8xd3572o.js";import"./fwn4bwvyx3h4ty5g.js";import"./l1teaxoievyk0rz1.js";import"./guejgwxn789esoyt.js";import"./m7ky6cnx5e7w4637.js";import"./j4cpzybta3my41wg.js";import"./lowm54usy4rzuo31.js";import"./bc00p2ldn9cv9q32.js";import"./8ix1du5tuckfsvqq.js";import"./nbm98bu0q3774lnr.js";import"./i9ddjt6oaiw4vo4g.js";import"./hzasobp3hhjtq47p.js";import"./i8ns2k0nyu6k62qc.js";import"./owg1t5lbjzwpi0hd.js";import"./f1ucdf2dx4ztfnd4.js";import"./e5q3f3k67x71csb7.js";import"./n117ifjno76hbo3f.js";import"./gqlpgmzguho9n5oh.js";import"./h1em0bjkpkjv8ykw.js";import"./m609xwboj0zo059y.js";import"./eifqzljcxkeg8zns.js";import"./o6p9t02t81236kdb.js";import"./hu1bt0oauegdhua6.js";import"./ke3w2t9x8i7kgfhv.js";import"./bnh7zkn4xutjm6i9.js";import"./ffjw65gjnc6j0nz8.js";import"./galyil7vygq0i5a6.js";import"./kf7tqzde2yk57qjr.js";import"./d9ec94om23qfz1v2.js";import"./luif5kl8klbqcpjy.js";import"./ng29wvm3o2y0a25k.js";import"./krengkwf9us2g646.js";const tt=Z(()=>J(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zp),__vite__mapDeps([0,1,2,3,4])),{loading:t=>ce(t)}),st=Z(()=>J(()=>import("./kivvchsexr54fuso.js"),__vite__mapDeps([5,1])),{loading:t=>ce(t)}),at=Z(()=>J(()=>import("./hat5btlw8o1745f7.js"),__vite__mapDeps([6,1,2,3,0,4,7,8,9,10,11,12,13,14])).then(t=>t.CodexCreditPurchaseModal));function Ue(t){return Math.floor(Number(t!=null?t:0))}function Pe(t){return new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:0,maximumSignificantDigits:10}).format(Ue(t))}function rt(t){"use forget";var E,S,P,U,$,y,D,v;const e=Y.c(27),{creditDetails:r}=t,c=we(),a=Me(),i=je(),f=Se(i,"1823130936"),m=r==null?void 0:r.balance;let u;e[0]!==m?(u=Ue(m),e[0]=m,e[1]=u):u=e[1];const l=u,o=r==null?void 0:r.balance;let x;e[2]!==o?(x=Pe(o),e[2]=o,e[3]=x):x=e[3];const h=x;if(!f||!c&&!a)return null;let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:s.jsx(N,{id:"wham.usageDashboard.metric.rcreditsRemainingLabel",defaultMessage:"Credits remaining"})}),e[4]=g):g=e[4];let d;e[5]!==i?(d=s.jsxs("div",{className:"flex w-full items-center justify-between",children:[g,s.jsx(oe,{onClick:()=>Ee(i,at),size:"small",icon:tt})]}),e[5]=i,e[6]=d):d=e[6];let p;e[7]!==(r==null?void 0:r.unlimited)||e[8]!==h?(p=r!=null&&r.unlimited?s.jsx(N,{id:"wham.usageDashboard.metric.creditsUnlimited",defaultMessage:"Unlimited"}):h,e[7]=r==null?void 0:r.unlimited,e[8]=h,e[9]=p):p=e[9];let w;e[10]!==p?(w=s.jsx("div",{className:"text-token-text-primary flex items-baseline gap-1",children:s.jsx("span",{className:"text-2xl font-semibold",children:p})}),e[10]=p,e[11]=w):w=e[11];let _;e[12]!==d||e[13]!==w?(_=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("header",{className:"flex w-full flex-col gap-1",children:[d,w]})}),e[12]=d,e[13]=w,e[14]=_):_=e[14];let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(N,{id:"wham.usageDashboard.metric.creditsUsageSubtitle",defaultMessage:"Use credits to send messages beyond your plan limit"}),e[15]=C):C=e[15];let j;e[16]!==l||e[17]!==r?(j=l!==0&&(r==null?void 0:r.approx_local_messages)&&(r==null?void 0:r.approx_cloud_messages)&&s.jsx(pe,{label:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("p",{children:s.jsx(N,{id:"wham.usageDashboard.metric.creditsUsageTooltip",defaultMessage:"From remaining credits"})}),s.jsx("p",{children:s.jsx(N,{id:"wham.usageDashboard.metric.creditsLocalUsageTooltip",defaultMessage:"Local: ~{messagesLowerBound}-{messagesUpperBound} messages",values:{messagesLowerBound:(S=(E=r.approx_local_messages)==null?void 0:E[0])!=null?S:0,messagesUpperBound:(U=(P=r.approx_local_messages)==null?void 0:P[1])!=null?U:0}})}),s.jsx("p",{children:s.jsx(N,{id:"wham.usageDashboard.metric.creditsCloudUsageTooltip",defaultMessage:"Cloud: ~{messagesLowerBound}-{messagesUpperBound} messages",values:{messagesLowerBound:(y=($=r.approx_cloud_messages)==null?void 0:$[0])!=null?y:0,messagesUpperBound:(v=(D=r.approx_cloud_messages)==null?void 0:D[1])!=null?v:0}})})]}),children:s.jsx("span",{className:"ms-1 text-base font-normal",children:s.jsx(st,{className:"inline-block size-4"})})}),e[16]=l,e[17]=r,e[18]=j):j=e[18];let M;e[19]!==j?(M=s.jsxs("span",{children:[C,j]}),e[19]=j,e[20]=M):M=e[20];let n;e[21]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("span",{className:"bg-token-border-subtle mx-2 inline-block h-1 w-1 rounded-full","aria-hidden":!0}),e[21]=n):n=e[21];let b;e[22]!==M?(b=s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 text-xs",children:[M,n]}),e[22]=M,e[23]=b):b=e[23];let k;return e[24]!==b||e[25]!==_?(k=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-4 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[_,b]}),e[24]=b,e[25]=_,e[26]=k):k=e[26],k}const xe={web:{label:"Cloud",color:"#3A7DE8"},cli:{label:"CLI",color:"#2A5EB1"},vscode:{label:"IDE",color:"#EF9262"},github_turn:{label:"GitHub Turn",color:"#BB5926"},github_code_review:{label:"GitHub Code Review",color:"#D47C3D"},slack:{label:"Slack",color:"#16B7DB"},sdk:{label:"SDK",color:"#0C839E"},exec:{label:"Exec",color:"#783CBF"}};function lt(t){var c;const e=(c=xe[t])==null?void 0:c.label;return e||t.split("_").map(a=>a.length===0?a:a.charAt(0).toUpperCase()+a.slice(1)).join(" ")||t}const ot=Z(()=>J(()=>import("./kivvchsexr54fuso.js"),__vite__mapDeps([5,1])),{loading:t=>ce(t)});function it(t,e){const r=Math.max(t.data.length-e,0),c=t.data.slice(r),a=Object.fromEntries(Object.entries(t.metrics).map(([i,f])=>{const m=c.reduce((u,l)=>{var o;return u+((o=l.values[i])!=null?o:0)},0);return[i,{displayName:f.displayName,total:m}]}));return{data:c,metrics:a}}function ve(t){const e={data:[],metrics:{}};if(!(t!=null&&t.data)||t.data.length===0)return{chartData:e,seriesColorMap:{},seriesOrder:[]};const r=Object.keys(xe),c={};r.forEach(l=>{c[l]=0});const a=t.data.map(({date:l,product_surface_usage_values:o})=>{const x={};let h=0;return r.forEach(g=>{var p;const d=Number((p=o==null?void 0:o[g])!=null?p:0);c[g]+=d,x[g]=d,h+=d}),{date:l,total:h,values:x}}),i=r.filter(l=>c[l]>0),f=a.map(({date:l,total:o,values:x})=>{const h={};return i.forEach(g=>{var d;h[g]=(d=x[g])!=null?d:0}),{date:l,total:o,values:h}}),m=Object.fromEntries(i.map(l=>[l,{total:c[l],displayName:xe[l].label}])),u=Object.fromEntries(i.map(l=>[l,xe[l].color]));return{chartData:{data:f,metrics:m},seriesColorMap:u,seriesOrder:i}}function nt(){"use forget";const t=Y.c(56),{data:e,isLoading:r,error:c}=Ve(),i=ze();let f;t[0]!==i?(f={enabled:i},t[0]=i,t[1]=f):f=t[1];const{data:m,isLoading:u,error:l}=Ge(f);let o;t[2]!==e?(o=ve(e),t[2]=e,t[3]=o):o=t[3];const{chartData:x,seriesColorMap:h,seriesOrder:g}=o;let d;t[4]!==m?(d=ve(m),t[4]=m,t[5]=d):d=t[5];const{chartData:p,seriesColorMap:w,seriesOrder:_}=d,C=!!c,j=!!(i&&l),M=(e==null?void 0:e.units)==="credits",n=ne();let b;t[6]!==n?(b=n.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.month",defaultMessage:"30 days"}),t[6]=n,t[7]=b):b=t[7];let k;t[8]!==b?(k={id:"month",label:b,apply:mt},t[8]=b,t[9]=k):k=t[9];let E;t[10]!==n?(E=n.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.week",defaultMessage:"Week"}),t[10]=n,t[11]=E):E=t[11];let S;t[12]!==E?(S={id:"week",label:E,apply:dt},t[12]=E,t[13]=S):S=t[13];let P;t[14]!==k||t[15]!==S?(P=[k,S],t[14]=k,t[15]=S,t[16]=P):P=t[16];const U=P;let $;t[17]!==n?($=(T,K)=>n.formatNumber(T/K,{style:"percent",maximumFractionDigits:0}),t[17]=n,t[18]=$):$=t[18];const y=$;let D;t[19]!==n?(D=(T,K)=>{const G=Math.round(T);return n.formatMessage({id:"wham.usageDashboard.chart.credits",defaultMessage:"{value, number} {value, plural, one {credit} other {credits}}"},{value:G})},t[19]=n,t[20]=D):D=t[20];const v=D;let L;t[21]!==v?(L=(T,K)=>{const G=Math.round(K.reduce(ct,0));return"".concat($e(Ke(String(T)),"MMM d")," (").concat(v(G,G),")")},t[21]=v,t[22]=L):L=t[22];const R=L;let A;t[23]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(N,{id:"wham.usageDashboard.section.personalUsage",defaultMessage:"Usage breakdown"}),t[23]=A):A=t[23];let H;t[24]!==n?(H=n.formatMessage({id:"wham.usageDashboard.usageChart.tooltip",defaultMessage:"Usage data is approximate and may be incomplete before Oct 20th. Data may be delayed by up to 12 hours."}),t[24]=n,t[25]=H):H=t[25];let V;t[26]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(ot,{className:"inline-block size-4"}),t[26]=V):V=t[26];let F;t[27]!==H?(F=s.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-gray-100",children:[A,s.jsx(pe,{label:H,children:V})]}),t[27]=H,t[28]=F):F=t[28];let I;t[29]!==v||t[30]!==y||t[31]!==C||t[32]!==n||t[33]!==r||t[34]!==R||t[35]!==x||t[36]!==h||t[37]!==g||t[38]!==M||t[39]!==U?(I=C?s.jsx(ie,{title:s.jsx(N,{id:"wham.usageDashboard.dailyUsage.error.title",defaultMessage:"We couldn’t load your usage"})}):s.jsx(De,{title:s.jsx(N,{id:"wham.usageDashboard.section.dailyUsageChart",defaultMessage:"Personal usage"}),data:r?"loading":x,clientEventSource:"whamDailyTokenUsageBreakdown",forceStack:!0,seriesColorMap:h,stackOrder:g,legendOrder:g,filters:U,filterLabel:n.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.aria",defaultMessage:"Select usage timeframe"}),valueFormatter:M?v:y,labelFormatter:M?R:void 0,hideYAxis:!0,hideReferenceLine:!0}),t[29]=v,t[30]=y,t[31]=C,t[32]=n,t[33]=r,t[34]=R,t[35]=x,t[36]=h,t[37]=g,t[38]=M,t[39]=U,t[40]=I):I=t[40];let O;t[41]!==p||t[42]!==w||t[43]!==_||t[44]!==v||t[45]!==j||t[46]!==n||t[47]!==u||t[48]!==R||t[49]!==i||t[50]!==U?(O=i&&(j?s.jsx(ie,{title:s.jsx(N,{id:"wham.usageDashboard.dailyUsage.error.title",defaultMessage:"We couldn’t load your usage"})}):s.jsx(De,{title:s.jsx(N,{id:"wham.usageDashboard.section.teamUsageChart",defaultMessage:"Team usage"}),data:u?"loading":p,clientEventSource:"whamDailyEnterpriseTokenUsageBreakdown",forceStack:!0,seriesColorMap:w,stackOrder:_,legendOrder:_,filters:U,filterLabel:n.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.aria",defaultMessage:"Select usage timeframe"}),valueFormatter:v,labelFormatter:R,hideYAxis:!0,hideReferenceLine:!0})),t[41]=p,t[42]=w,t[43]=_,t[44]=v,t[45]=j,t[46]=n,t[47]=u,t[48]=R,t[49]=i,t[50]=U,t[51]=O):O=t[51];let W;return t[52]!==F||t[53]!==I||t[54]!==O?(W=s.jsxs("section",{className:"flex flex-col gap-6",children:[F,I,O]}),t[52]=F,t[53]=I,t[54]=O,t[55]=W):W=t[55],W}function ct(t,e){return t+e.value}function dt(t){return it(t,7)}function mt(t){return t}function ie(t){"use forget";const e=Y.c(10),{title:r,description:c,action:a}=t;let i;e[0]!==r?(i=s.jsx("h2",{className:"text-token-text-primary text-base font-medium",children:r}),e[0]=r,e[1]=i):i=e[1];let f;e[2]!==c?(f=c?s.jsx("p",{className:"text-token-text-secondary text-sm",children:c}):null,e[2]=c,e[3]=f):f=e[3];let m;e[4]!==a?(m=a?s.jsx("div",{className:"pt-1",children:a}):null,e[4]=a,e[5]=m):m=e[5];let u;return e[6]!==i||e[7]!==f||e[8]!==m?(u=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-3 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[i,f,m]}),e[6]=i,e[7]=f,e[8]=m,e[9]=u):u=e[9],u}const Le=Z(()=>J(()=>import("./hat5btlw8o1745f7.js"),__vite__mapDeps([6,1,2,3,0,4,7,8,9,10,11,12,13,14])).then(t=>t.CodexCreditPurchaseModal)),ge=10;function ft(t){"use forget";var Ce;const e=Y.c(72),{formattedCreditBalance:r}=t,c=ne(),{data:a,isLoading:i,error:f,refetch:m,isFetching:u}=qe();let l;e[0]!==(a==null?void 0:a.data)?(l=(Ce=a==null?void 0:a.data)!=null?Ce:[],e[0]=a==null?void 0:a.data,e[1]=l):l=e[1];const o=l,[x,h]=_e.useState(1),g=je();let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{h(1)},e[2]=d):d=e[2];let p;e[3]!==o?(p=[o],e[3]=o,e[4]=p):p=e[4],_e.useEffect(d,p);const w=Math.max(1,Math.ceil(o.length/ge)),_=Math.min(x,w),C=o.length===0?0:(_-1)*ge,j=Math.min(C+ge,o.length);let M;e[5]!==j||e[6]!==o||e[7]!==C?(M=o.slice(C,j),e[5]=j,e[6]=o,e[7]=C,e[8]=M):M=e[8];let n;e[9]!==j||e[10]!==_||e[11]!==C||e[12]!==M||e[13]!==w?(n={pageRows:M,start:C,end:j,safePage:_,pageCount:w},e[9]=j,e[10]=_,e[11]=C,e[12]=M,e[13]=w,e[14]=n):n=e[14];const{pageRows:b,start:k,end:E,safePage:S,pageCount:P}=n;if(f){let q,z;e[15]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(N,{id:"wham.usageDashboard.creditHistory.error.title",defaultMessage:"We couldn’t load your credit usage"}),z=s.jsx(N,{id:"wham.usageDashboard.creditHistory.error.body",defaultMessage:"Please try again or contact support if the issue persists."}),e[15]=q,e[16]=z):(q=e[15],z=e[16]);let Q;e[17]!==m?(Q=()=>{m()},e[17]=m,e[18]=Q):Q=e[18];let re;e[19]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(N,{id:"wham.usageDashboard.creditHistory.retry",defaultMessage:"Try again"}),e[19]=re):re=e[19];let le;return e[20]!==Q?(le=s.jsx(ie,{title:q,description:z,action:s.jsx(oe,{color:"secondary",onClick:Q,children:re})}),e[20]=Q,e[21]=le):le=e[21],le}const U=!i&&o.length===0,$=u&&!i;let y;e[22]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:s.jsx(N,{id:"wham.usageDashboard.creditHistory.title",defaultMessage:"Credits remaining"})}),e[22]=y):y=e[22];let D;e[23]!==r?(D=s.jsxs("div",{className:"flex flex-col items-start gap-2",children:[y,s.jsx("p",{className:"text-token-text-secondary text-lg font-medium",children:r})]}),e[23]=r,e[24]=D):D=e[24];let v;e[25]!==g?(v=()=>{Ee(g,Le)},e[25]=g,e[26]=v):v=e[26];let L;e[27]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(N,{id:"wham.usageDashboard.creditHistory.addMore",defaultMessage:"Add more"}),e[27]=L):L=e[27];let R;e[28]!==v?(R=s.jsx(oe,{color:"secondary",onPointerOver:xt,onClick:v,children:L}),e[28]=v,e[29]=R):R=e[29];let A;e[30]!==R||e[31]!==D?(A=s.jsxs("div",{className:"flex w-full items-center justify-between p-6",children:[D,R]}),e[30]=R,e[31]=D,e[32]=A):A=e[32];let H;e[33]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(B.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(N,{id:"wham.usageDashboard.creditHistory.date",defaultMessage:"Date"})}),e[33]=H):H=e[33];let V;e[34]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(B.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(N,{id:"wham.usageDashboard.creditHistory.surface",defaultMessage:"Service"})}),e[34]=V):V=e[34];let F;e[35]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsxs(B.Header,{children:[H,V,s.jsx(B.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(N,{id:"wham.usageDashboard.creditHistory.credits",defaultMessage:"Credits used"})})]}),e[35]=F):F=e[35];let I;e[36]!==i?(I=i?Array.from({length:ge}).map(gt):null,e[36]=i,e[37]=I):I=e[37];let O;e[38]!==U?(O=U?s.jsx(B.Row,{children:s.jsx(B.Cell,{colSpan:4,divClassName:"flex h-16 items-center justify-center text-sm",children:s.jsx(N,{id:"wham.usageDashboard.creditHistory.empty",defaultMessage:"No credit usage recorded yet"})})}):null,e[38]=U,e[39]=O):O=e[39];let W;if(e[40]!==c||e[41]!==b){let q;e[43]!==c?(q=(z,Q)=>{var Ne;const re=lt(z.product_surface),le=c.formatMessage({id:"wham.usageDashboard.creditHistory.creditsValue",defaultMessage:"{value, number} {value, plural, one {credit} other {credits}}"},{value:z.credit_amount}),Ie=c.formatDate(new Date(z.date),{month:"short",day:"numeric",year:"numeric"});return s.jsxs(B.Row,{children:[s.jsx(B.Cell,{divClassName:"flex h-14 items-center ps-4",children:s.jsx("span",{className:"text-sm",children:Ie})}),s.jsx(B.Cell,{divClassName:"flex h-14 flex-col justify-center ps-4",children:s.jsx("span",{className:"text-sm font-medium",children:re})}),s.jsx(B.Cell,{divClassName:"flex h-14 items-center ps-4",children:s.jsx("span",{className:"text-sm font-medium",children:le})})]},"".concat((Ne=z.usage_id)!=null?Ne:"usage","-").concat(z.date,"-").concat(Q))},e[43]=c,e[44]=q):q=e[44],W=b.map(q),e[40]=c,e[41]=b,e[42]=W}else W=e[42];let T;e[45]!==I||e[46]!==O||e[47]!==W?(T=s.jsxs(B.Root,{className:"overflow-x-auto overflow-y-clip rounded-2xl",disableScroll:!0,children:[F,s.jsxs(B.Body,{children:[I,O,W]})]}),e[45]=I,e[46]=O,e[47]=W,e[48]=T):T=e[48];const K="border-token-border-light flex items-center justify-between border-t px-4 py-3 text-xs ".concat($?"opacity-70":""),G=o.length===0?0:k+1;let X;e[49]!==E||e[50]!==o.length||e[51]!==G?(X=s.jsx("div",{className:"text-token-text-tertiary",children:s.jsx(N,{id:"wham.usageDashboard.creditHistory.range",defaultMessage:"{from}-{to} of {total} usage events",values:{from:G,to:E,total:o.length}})}),e[49]=E,e[50]=o.length,e[51]=G,e[52]=X):X=e[52];const be=i||S<=1;let de,me;e[53]===Symbol.for("react.memo_cache_sentinel")?(de=()=>h(ht),me=s.jsx(N,{id:"wham.usageDashboard.creditHistory.prev",defaultMessage:"Previous"}),e[53]=de,e[54]=me):(de=e[53],me=e[54]);let ee;e[55]!==be?(ee=s.jsx(oe,{as:"button",size:"small",color:"secondary",disabled:be,onClick:de,children:me}),e[55]=be,e[56]=ee):ee=e[56];const ye=i||S>=P;let fe,ue;e[57]===Symbol.for("react.memo_cache_sentinel")?(fe=()=>h(ut),ue=s.jsx(N,{id:"wham.usageDashboard.creditHistory.next",defaultMessage:"Next"}),e[57]=fe,e[58]=ue):(fe=e[57],ue=e[58]);let te;e[59]!==ye?(te=s.jsx(oe,{as:"button",size:"small",color:"secondary",disabled:ye,onClick:fe,children:ue}),e[59]=ye,e[60]=te):te=e[60];let se;e[61]!==ee||e[62]!==te?(se=s.jsxs("div",{className:"flex items-center gap-2",children:[ee,te]}),e[61]=ee,e[62]=te,e[63]=se):se=e[63];let ae;e[64]!==K||e[65]!==X||e[66]!==se?(ae=s.jsxs("div",{className:K,children:[X,se]}),e[64]=K,e[65]=X,e[66]=se,e[67]=ae):ae=e[67];let he;return e[68]!==A||e[69]!==T||e[70]!==ae?(he=s.jsxs("div",{className:"border-token-border-light bg-token-bg-primary rounded-2xl border shadow-sm",children:[A,T,ae]}),e[68]=A,e[69]=T,e[70]=ae,e[71]=he):he=e[71],he}function ut(t){return t+1}function ht(t){return Math.max(1,t-1)}function gt(t,e){return s.jsx(B.Row,{children:s.jsx(B.Cell,{colSpan:4,divClassName:"p-4",children:s.jsx("div",{className:"bg-token-bg-tertiary border-token-border-light h-6 w-full animate-pulse rounded-md border"})})},"credit-usage-loading-".concat(e))}function xt(){return Le.prefetch()}const pt=Z(()=>J(()=>import("./kivvchsexr54fuso.js"),__vite__mapDeps([5,1])),{loading:t=>ce(t)});function bt(t){"use forget";var h;const e=Y.c(13),{rateLimit:r}=t,c=ne();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(N,{id:"wham.usageDashboard.section.creditUsageHistory",defaultMessage:"Credits usage history"}),e[0]=a):a=e[0];let i;e[1]!==c?(i=c.formatMessage({id:"wham.usageDashboard.creditHistory.tooltip",defaultMessage:"Credit history data may be incomplete before Oct 24th. Data may be delayed by up to 12 hours."}),e[1]=c,e[2]=i):i=e[2];let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(pt,{className:"inline-block size-4"}),e[3]=f):f=e[3];let m;e[4]!==i?(m=s.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-gray-100",children:[a,s.jsx(pe,{label:i,children:f})]}),e[4]=i,e[5]=m):m=e[5];const u=(h=r==null?void 0:r.credits)==null?void 0:h.balance;let l;e[6]!==u?(l=Pe(u),e[6]=u,e[7]=l):l=e[7];let o;e[8]!==l?(o=s.jsx(ft,{formattedCreditBalance:l}),e[8]=l,e[9]=o):o=e[9];let x;return e[10]!==m||e[11]!==o?(x=s.jsxs("section",{className:"flex flex-col gap-6 pb-12",children:[m,o]}),e[10]=m,e[11]=o,e[12]=x):x=e[12],x}const yt=Z(()=>J(()=>import("./kivvchsexr54fuso.js"),__vite__mapDeps([5,1])),{loading:t=>ce(t)});function _t(t){return Math.min(Math.max(Math.round(t),0),100)}function Be(t){return t<=30?"bg-[#f87171]":"bg-[#22c55e]"}function ke(t,e,r,c){var f;const a=_t(100-((f=e.used_percent)!=null?f:0)),i=jt(t,e.reset_after_seconds);return{id:r,label:c,remainingPercent:a,resetLabel:i,barColorClassName:Be(a)}}function jt(t,e){const r=Qe(t,e);return t.formatMessage({id:"wham.usageDashboard.metric.resetsAt",defaultMessage:"Resets {label}"},{label:r})}function wt(t){"use forget";const e=Y.c(34),{rateLimit:r,creditDetails:c}=t,a=ne(),i=we(),f=Me(),m=r.primary_window,u=r.secondary_window;if(!m||!u)return null;let l;e[0]!==a||e[1]!==m?(l=ke(a,m,"quota-primary",a.formatMessage({id:"wham.usageDashboard.metric.window.primary",defaultMessage:"5 hour usage limit"})),e[0]=a,e[1]=m,e[2]=l):l=e[2];let o;e[3]!==a||e[4]!==u?(o=ke(a,u,"quota-secondary",a.formatMessage({id:"wham.usageDashboard.metric.window.secondary",defaultMessage:"Weekly usage limit"})),e[3]=a,e[4]=u,e[5]=o):o=e[5];let x;e[6]!==l||e[7]!==o?(x=[l,o],e[6]=l,e[7]=o,e[8]=x):x=e[8];const h=x;let g;e[9]!==a?(g=a.formatMessage({id:"wham.usageDashboard.section.quota",defaultMessage:"Balance"}),e[9]=a,e[10]=g):g=e[10];let d;e[11]!==g?(d=s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:g}),e[11]=g,e[12]=d):d=e[12];let p;e[13]!==h?(p=h.map(Mt),e[13]=h,e[14]=p):p=e[14];let w;e[15]!==a?(w=a.formatMessage({id:"wham.usageDashboard.metric.window.codeReview",defaultMessage:"Code review"}),e[15]=a,e[16]=w):w=e[16];let _;e[17]!==a?(_=a.formatMessage({id:"wham.usageDashboard.metric.window.codeReview.tooltip",defaultMessage:"Code review is unlimited until Nov 20th"}),e[17]=a,e[18]=_):_=e[18];let C;e[19]===Symbol.for("react.memo_cache_sentinel")?(C=Be(100),e[19]=C):C=e[19];let j;e[20]!==w||e[21]!==_?(j=s.jsx(Re,{metric:{id:"code-review",label:w,remainingPercent:100,resetLabel:"",tooltip:_,barColorClassName:C}},"code-review"),e[20]=w,e[21]=_,e[22]=j):j=e[22];let M;e[23]!==c||e[24]!==i||e[25]!==f?(M=(!!i||!!f)&&s.jsx(rt,{creditDetails:c}),e[23]=c,e[24]=i,e[25]=f,e[26]=M):M=e[26];let n;e[27]!==j||e[28]!==M||e[29]!==p?(n=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[p,j,M]}),e[27]=j,e[28]=M,e[29]=p,e[30]=n):n=e[30];let b;return e[31]!==n||e[32]!==d?(b=s.jsxs("section",{className:"flex flex-col gap-6",children:[d,n]}),e[31]=n,e[32]=d,e[33]=b):b=e[33],b}function Mt(t){return s.jsx(Re,{metric:t},t.id)}function Re(t){"use forget";const e=Y.c(32),{metric:r}=t,c=ne(),{label:a,remainingPercent:i,resetLabel:f,barColorClassName:m}=r;let u;e[0]!==i?(u=Math.round(i),e[0]=i,e[1]=u):u=e[1];const l=Math.min(Math.max(u,0),100);let o;e[2]!==c||e[3]!==l?(o=c.formatNumber(l/100,{style:"percent",maximumFractionDigits:0}),e[2]=c,e[3]=l,e[4]=o):o=e[4];const x=o;let h;e[5]!==c?(h=c.formatMessage({id:"wham.usageDashboard.metric.remainingLabel",defaultMessage:"remaining"}),e[5]=c,e[6]=h):h=e[6];const g=h;let d;e[7]!==a?(d=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:a}),e[7]=a,e[8]=d):d=e[8];let p;e[9]!==x?(p=s.jsx("span",{className:"text-2xl font-semibold",children:x}),e[9]=x,e[10]=p):p=e[10];let w;e[11]!==g?(w=s.jsxs("span",{className:"text-base font-normal",children:[" ",g," "]}),e[11]=g,e[12]=w):w=e[12];let _;e[13]!==r.tooltip?(_=r.tooltip?s.jsx(pe,{label:r.tooltip,children:s.jsx("span",{className:"text-base font-normal",children:s.jsx(yt,{className:"inline-block size-4"})})}):null,e[13]=r.tooltip,e[14]=_):_=e[14];let C;e[15]!==p||e[16]!==w||e[17]!==_?(C=s.jsxs("div",{className:"text-token-text-primary flex items-baseline gap-1",children:[p,w,_]}),e[15]=p,e[16]=w,e[17]=_,e[18]=C):C=e[18];let j;e[19]!==d||e[20]!==C?(j=s.jsxs("header",{className:"flex flex-col gap-1",children:[d,C]}),e[19]=d,e[20]=C,e[21]=j):j=e[21];const M="".concat(m," rounded-full").concat(l===0?" hidden":"");let n;e[22]!==l||e[23]!==M?(n=s.jsx(We,{percentage:l,height:12,backgroundClassName:"rounded-full bg-[#ebebf0]",barClassName:M}),e[22]=l,e[23]=M,e[24]=n):n=e[24];let b;e[25]!==l||e[26]!==f?(b=l<100?s.jsxs("div",{className:"text-token-text-tertiary flex items-center text-xs",children:[s.jsx("span",{children:f}),s.jsx("span",{className:"bg-token-border-subtle mx-2 inline-block h-1 w-1 rounded-full","aria-hidden":!0})]}):null,e[25]=l,e[26]=f,e[27]=b):b=e[27];let k;return e[28]!==n||e[29]!==b||e[30]!==j?(k=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-4 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[j,n,b]}),e[28]=n,e[29]=b,e[30]=j,e[31]=k):k=e[31],k}function Ct(){"use forget";var U,$;const t=Y.c(35),e=je();let r;t[0]!==e?(r=Se(e,"1823130936"),t[0]=e,t[1]=r):r=t[1];const c=r,{data:a,isLoading:i,error:f}=Ye(),m=we(),u=Me(),l=(U=a==null?void 0:a.rate_limit)!=null?U:null,o=($=a==null?void 0:a.credits)!=null?$:null;let x;t[2]!==a?(x=!!a&&Je(a),t[2]=a,t[3]=x):x=t[3];const h=x;let g;t[4]!==a?(g=!!a&&Ze(a),t[4]=a,t[5]=g):g=t[5];const d=g,p=!!(l!=null&&l.primary_window&&(l!=null&&l.secondary_window)),w=!!(a&&l==null),_=!!(l&&!p),C=!!w,M=!!f||_;let n,b;if(t[6]===Symbol.for("react.memo_cache_sentinel")?(b=[],t[6]=b):b=t[6],_e.useEffect(Nt,b),i){let y;t[7]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(He,{className:"icon me-2"}),t[7]=y):y=t[7];let D;t[8]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsxs("div",{className:"flex w-full items-center justify-center py-16",children:[y,s.jsx("span",{className:"text-token-text-secondary text-sm font-medium",children:s.jsx(N,{id:"wham.usageDashboard.loading",defaultMessage:"Loading usage data"})})]}),t[8]=D):D=t[8],n=D}else if(C){let y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(ie,{title:s.jsx(N,{id:"wham.usageDashboard.noLimits",defaultMessage:"Your plan does not impose Codex rate limits"})}),t[9]=y):y=t[9],n=y}else if(M){let y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(ie,{title:s.jsx(N,{id:"wham.usageDashboard.error.title",defaultMessage:"We couldn’t load your usage data"}),description:s.jsx(N,{id:"wham.usageDashboard.error.body",defaultMessage:"Please try again. If the issue continues, contact support."})}),t[10]=y):y=t[10],n=y}else{let y;t[11]!==a||t[12]!==h?(y=h&&a&&s.jsx(Xe,{rateLimit:a}),t[11]=a,t[12]=h,t[13]=y):y=t[13];let D;t[14]!==a||t[15]!==d||t[16]!==h?(D=d&&!h&&a&&s.jsx(et,{rateLimit:a}),t[14]=a,t[15]=d,t[16]=h,t[17]=D):D=t[17];let v;t[18]!==o||t[19]!==l?(v=l&&s.jsx(wt,{rateLimit:l,creditDetails:o}),t[18]=o,t[19]=l,t[20]=v):v=t[20];let L;t[21]!==y||t[22]!==D||t[23]!==v?(L=s.jsxs(s.Fragment,{children:[y,D,v]}),t[21]=y,t[22]=D,t[23]=v,t[24]=L):L=t[24],n=L}let k;t[25]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("header",{className:"border-token-border-heavy flex flex-col border-b",children:s.jsx("h1",{className:"text-token-text-primary py-2 text-xl leading-7 font-medium",children:s.jsx(N,{id:"wham.usageDashboard.title",defaultMessage:"Usage dashboard"})})}),t[25]=k):k=t[25];let E;t[26]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("div",{className:"flex flex-col gap-10",children:s.jsx(nt,{})}),t[26]=E):E=t[26];let S;t[27]!==c||t[28]!==m||t[29]!==u||t[30]!==a?(S=c&&(m||u)&&s.jsx(bt,{rateLimit:a}),t[27]=c,t[28]=m,t[29]=u,t[30]=a,t[31]=S):S=t[31];let P;return t[32]!==n||t[33]!==S?(P=s.jsx(Fe,{topPadding:!0,children:s.jsxs("div",{className:"mx-auto flex h-full max-w-screen-xl flex-1 flex-col gap-10 ps-4 pe-12 pb-16",children:[k,s.jsxs("div",{className:"flex flex-col gap-10",children:[n,E,S]})]})}),t[32]=n,t[33]=S,t[34]=P):P=t[34],P}function Nt(){Te.removeItem(Ae.CreditCheckoutRedirectPath)}const xs=()=>[{title:"Codex"}],ps=Oe(function(){"use forget";const e=Y.c(1);let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(Ct,{}),e[0]=r):r=e[0],r});export{ps as default,xs as meta};
//# sourceMappingURL=f0vpy31dvbs575wk.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/on6zjr1bjw5z2d08.js","assets/bubexfvksfr7893o.js","assets/btrwhqtnzjbkk202.js","assets/kivvchsexr54fuso.js","assets/b2zd7hoskp4hcpqp.js","assets/jzxig2ry6drngfyp.js","assets/lm3g1zm00rp6al39.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/conversation-small-lq38g8zw.css","assets/dnlup45oyqbk6k15.js","assets/lowm54usy4rzuo31.js","assets/j51b3b8y7dx543la.js","assets/gy1lpvuoewmzh42c.js","assets/gqlpgmzguho9n5oh.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js","assets/owbget26s04j6ot0.js","assets/o6p9t02t81236kdb.js","assets/mh06u253e6rqurrk.js","assets/kpldwkdi6k2a2fdo.js","assets/nfrmbe34m800x218.js","assets/ebn7bwt2w9d4cap9.js","assets/i420bybxmtbqtbfk.js","assets/cifdjmblsrwrxxb4.js","assets/ce3hgmw4iyyhicud.js","assets/drmwaklva7v056il.js","assets/ns51nblw8ziscsgd.js","assets/b6setehb9ivy4393.js","assets/hq3y7ibldw993hso.js","assets/fqzt6ckf6r80fm8s.js","assets/l9j1pgpmylhm9ysw.js","assets/or8gthzj9b8a4hel.js","assets/hahiy9dm7k71twz4.js","assets/paev76b70tpkjsm5.js","assets/jvekt1e2c3xc6a2l.js","assets/kdezcnbv0vjez4rk.js","assets/kqt9cgrmvst37t89.js","assets/9paxni9f8n7suc5d.js","assets/dwgk7r4s1fwn35jq.js","assets/ei2rr3u86wwo8xvm.js","assets/cpbwuvtd08flapfg.js"])))=>i.map(i=>d[i]);
var ln=Object.freeze,dn=Object.defineProperty,wo=Object.defineProperties;var jo=Object.getOwnPropertyDescriptors;var cn=Object.getOwnPropertySymbols;var Co=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable;var ss=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Eo=t=>{throw TypeError(t)};var Ls=(t,e,n)=>e in t?dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fe=(t,e)=>{for(var n in e||(e={}))Co.call(e,n)&&Ls(t,n,e[n]);if(cn)for(var n of cn(e))No.call(e,n)&&Ls(t,n,e[n]);return t},st=(t,e)=>wo(t,jo(e));var ee=(t,e,n)=>Ls(t,typeof e!="symbol"?e+"":e,n);var Ct=(t,e)=>ln(dn(t,"raw",{value:ln(e||t.slice())}));var bs=function(t,e){this[0]=t,this[1]=e},Os=(t,e,n)=>{var o=(i,l,c,f)=>{try{var m=n[i](l),h=(l=m.value)instanceof bs,_=m.done;Promise.resolve(h?l[0]:l).then(d=>h?o(i==="return"?i:"next",l[1]?{done:d.done,value:d.value}:d,c,f):c({value:d,done:_})).catch(d=>o("throw",d,c,f))}catch(d){f(d)}},a=i=>r[i]=l=>new Promise((c,f)=>o(i,l,c,f)),r={};return n=n.apply(t,e),r[ss("asyncIterator")]=()=>r,a("next"),a("throw"),a("return"),r},$s=t=>{var e=t[ss("asyncIterator")],n=!1,o,a={};return e==null?(e=t[ss("iterator")](),o=r=>a[r]=i=>e[r](i)):(e=e.call(t),o=r=>a[r]=i=>{if(n){if(n=!1,r==="throw")throw i;return i}return n=!0,{done:!1,value:new bs(new Promise(l=>{var c=e[r](i);c instanceof Object||Eo("Object expected"),l(c)}),1)}}),a[ss("iterator")]=()=>a,o("next"),"throw"in e?o("throw"):a.throw=r=>{throw r},"return"in e&&o("return"),a},un=(t,e,n)=>(e=t[ss("asyncIterator")])?e.call(t):(t=t[ss("iterator")](),e={},n=(o,a)=>(a=t[o])&&(e[o]=r=>new Promise((i,l,c)=>(r=a.call(t,r),c=r.done,Promise.resolve(r.value).then(f=>i({value:f,done:c}),l)))),n("next"),n("return"),e);import{h as Tt,j as s,e as Ns,r as D,_ as K,c as Te,M as te,v as So,l as ns,o as Mo}from"./bubexfvksfr7893o.js";import{az as se,aB as at,cw as os,aA as ce,c8 as To,fy as Pn,fx as Qs,cr as Ps,dc as Mt,dR as Dn,cl as rt,ci as Me,i1 as Ke,h$ as $e,cj as W,co as Bn,ck as Fn,aE as Ao,aF as Oe,aH as vs,eW as Ds,br as ls,R as Wn,J as Es,g as cs,V as zs,O as mn,a1 as Io,D as Ro,kt as Lo,ua as Oo,aw as $o,ay as Po,cb as Do,be as Bo,lu as Fo,rk as fn,pV as pn,cz as Ze,dS as Gs,el as Zs,w6 as Wo,w7 as Vo,Q as gn,lA as Uo,hB as Ko,gQ as it,eY as zo,bl as ws,fO as Go,u as ds,id as Vn,eg as Ho,P as Xs,du as qo,dw as Jo,ff as Yo,eH as Bs,fb as Qo,d as Se,js as Zo,bh as Xo,ba as ei,jo as hn,eK as Un,ca as ti,cn as si,d$ as ni,fN as xn,w8 as oi,hn as ii,cp as ai,g4 as ri,M as li,H as ci,oS as _n,i3 as di,ks as ui,jF as yn,gZ as bn,jG as vn,as as mi,dY as fi,hF as pi,aa as kn,l as gi,dO as hi}from"./ncw8zw682jinppua.js";import{bq as Hs,ak as xi,al as _i,h1 as Kn,aH as yi,d_ as Fs,mj as bi,aY as vi,hI as en,de as ki,wI as wn,wJ as wi,wK as ji,nR as Ci,nO as Ni,nQ as is,gU as zn,c7 as Ei,io as Si,c0 as Nt,wL as ks,w as Mi,c1 as jn,wM as Ti,ew as Ai}from"./lm3g1zm00rp6al39.js";import{g as Ii}from"./nfrmbe34m800x218.js";import{L as qs}from"./ebn7bwt2w9d4cap9.js";import{p as Gn,h as St,g as tn,a as Hn,b as qn,J as $,c as Jn,i as qe,d as Ri,e as Li,f as Oi,j as $i,k as Pi,l as Di,m as Cn}from"./i420bybxmtbqtbfk.js";import{a as Ws}from"./cifdjmblsrwrxxb4.js";import{a as Nn,b as Bi,i as Fi}from"./drmwaklva7v056il.js";import{M as Vs,E as Wi}from"./ns51nblw8ziscsgd.js";import{A as Yn,C as Vi}from"./b6setehb9ivy4393.js";const Ui=se(()=>K(()=>import("./on6zjr1bjw5z2d08.js"),__vite__mapDeps([0,1])),{loading:t=>ce(t)});var An;const Ki=os.div(An||(An=Ct(["h-px bg-token-border-default"])));var In;const nt=os.div(In||(In=Ct(["text-sm font-medium py-3 leading-6"])));var Rn;const zi=os.div(Rn||(Rn=Ct(["my-4 p-5 w-full rounded-2xl popover bg-token-main-surface-primary shadow-lg border border-token-border-default"]))),Us=":",Gi=({to:t,cc:e,bcc:n,subject:o,body:a,onClick:r,isDraft:i=!0,isCanceled:l=!1})=>{const c=Tt(),f=[];return t&&f.push(s.jsx("div",{children:s.jsxs("div",{className:"flex",children:[s.jsxs(nt,{className:"text-token-text-tertiary me-1",children:[c.formatMessage(Et.draftToFieldLabel),Us]}),s.jsx(nt,{children:t})]})},"to")),e&&f.push(s.jsx("div",{children:s.jsxs("div",{className:"flex",children:[s.jsxs(nt,{className:"text-token-text-tertiary me-1",children:[c.formatMessage(Et.draftCcFieldLabel),Us]}),s.jsx(nt,{children:e})]})},"cc")),n&&f.push(s.jsx("div",{children:s.jsxs("div",{className:"flex",children:[s.jsxs(nt,{className:"text-token-text-tertiary me-1",children:[c.formatMessage(Et.draftBccFieldLabel),Us]}),s.jsx(nt,{children:n})]})},"bcc")),o&&f.push(s.jsx(nt,{children:o},"subject")),a&&f.push(s.jsx(nt,{className:"whitespace-pre-line",children:a},"body")),s.jsxs(zi,{children:[s.jsxs("div",{className:"mb-4 flex items-center",children:[s.jsx(Ui,{className:"icon-sm me-4"}),s.jsx("div",{className:"font-semibold",children:i?c.formatMessage(Et.draftMessageLabel):c.formatMessage(Et.sentMessageLabel)})]}),f.map((m,h)=>s.jsxs(D.Fragment,{children:[s.jsx(Ki,{}),m]},h)),i&&!l&&s.jsx("div",{className:"mt-2 flex justify-end gap-4",children:s.jsx(at,{color:"primary",className:"py-2",onClick:r,children:c.formatMessage(Et.sendButton)})}),l&&s.jsx("div",{className:"mt-2 flex justify-end gap-4",children:s.jsx(at,{color:"primary",className:"py-2",disabled:!0,children:c.formatMessage(Et.canceledButton)})})]})},Et=Ns({draftMessageLabel:{id:"emailView.draftMessageLabel",defaultMessage:"Draft Message"},sentMessageLabel:{id:"emailView.sentMessageLabel",defaultMessage:"Sent Message"},sendButton:{id:"emailView.sendButton",defaultMessage:"Send"},draftToFieldLabel:{id:"emailView.draftToLabel",defaultMessage:"To"},draftCcFieldLabel:{id:"emailView.draftCcLabel",defaultMessage:"Cc"},draftBccFieldLabel:{id:"emailView.draftBccLabel",defaultMessage:"Bcc"},canceledButton:{id:"emailView.canceledButton",defaultMessage:"Canceled"}}),Hi=t=>{"use forget";const e=Te.c(19),{clientThreadId:n,action:o,messages:a,onRequestCompletion:r,handleUserAction:i,rememberAnswer:l,toolCallSafetySummary:c}=t;let f;e[0]!==a?(f=Gn(a),e[0]=a,e[1]=f):f=e[1];const{assistantMessage:m}=f,h=To();let _;e[2]!==c?(_=c!=null&&c.sensitive_data?Object.keys(c.sensitive_data).some(qi):!1,e[2]=c,e[3]=_):_=e[3];const d=_,b=(c==null?void 0:c.danger_level)==="HIGH"||d;let j;return e[4]!==o.allow||e[5]!==o.always_allow||e[6]!==o.deny||e[7]!==o.name||e[8]!==o.type||e[9]!==h||e[10]!==m||e[11]!==n||e[12]!==i||e[13]!==b||e[14]!==a||e[15]!==r||e[16]!==l||e[17]!==c?(j=o.type==="deny"?s.jsx(at,{className:"flex-1",color:b?"primary":"secondary",size:"medium",onClick:g=>{i({clientThreadId:n,sourceEvent:g,onRequestCompletion:r,assistantMessage:m,allMessages:a,actionData:st(fe({type:"deny"},o.deny),{remember_answer:l}),activeSystemHint:h})},children:s.jsx(te,fe({},o.name==="decline"?as.decline:as.deny))}):o.type==="allow"?s.jsx(at,{className:"flex-1",color:b?"secondary":"primary",size:"medium",onClick:g=>{i({clientThreadId:n,sourceEvent:g,onRequestCompletion:r,assistantMessage:m,allMessages:a,actionData:st(fe({type:"allow"},o.allow),{remember_answer:l}),activeSystemHint:h})},children:c!=null&&c.action_name?c.action_name:s.jsx(te,fe({},o.name==="allow"?as.allow:as.confirm))}):o.type==="always_allow"?s.jsx(at,{className:"flex-1",color:"secondary",size:"medium",onClick:g=>{i({clientThreadId:n,sourceEvent:g,onRequestCompletion:r,assistantMessage:m,allMessages:a,actionData:fe({type:"always_allow"},o.always_allow),activeSystemHint:h})},children:s.jsx(te,fe({},as.alwaysAllow))}):null,e[4]=o.allow,e[5]=o.always_allow,e[6]=o.deny,e[7]=o.name,e[8]=o.type,e[9]=h,e[10]=m,e[11]=n,e[12]=i,e[13]=b,e[14]=a,e[15]=r,e[16]=l,e[17]=c,e[18]=j):j=e[18],j},as=Ns({alwaysAllow:{id:"jitPluginMessage.alwaysAllow",defaultMessage:"Always Allow"},allow:{id:"jitPluginMessage.allow",defaultMessage:"Allow"},decline:{id:"jitPluginMessage.decline",defaultMessage:"Decline"},confirm:{id:"jitPluginMessage.confirm",defaultMessage:"Confirm"},deny:{id:"jitPluginMessage.deny",defaultMessage:"Deny"}});function qi(t){return t==="Suspicious Content"}const Ji=se(()=>K(()=>import("./btrwhqtnzjbkk202.js"),__vite__mapDeps([2,1])),{loading:t=>ce(t)}),Yi=se(()=>K(()=>import("./kivvchsexr54fuso.js"),__vite__mapDeps([3,1])),{loading:t=>ce(t)});function Qi({functionName:t,params:e,toolCallSafetySummary:n,result:o,isWrite:a,messages:r,clientThreadId:i,jitPluginData:l,onRequestCompletion:c,rememberForThisConversation:f}){var j,g,u,k;const m=Pn(),h=Qs(),{namespace:_,actionName:d}=Zi(t),b=((j=l==null?void 0:l.from_server)==null?void 0:j.type)!=="denied_by_user"?(g=l==null?void 0:l.from_server)==null?void 0:g.body.actions.map((x,E)=>s.jsx(Hi,{clientThreadId:i,messages:r,onRequestCompletion:c,action:x,handleUserAction:St,rememberAnswer:f,toolCallSafetySummary:n},E)):null;if(_==="api_tool"&&d==="call_tool"&&e&&"path"in e&&"args"in e&&typeof e.path=="string"&&(typeof e.args=="object"||typeof e.args=="string")&&e.args!=null){const[x,E,T]=e.path.split("/").filter(Boolean);if(x&&E&&T){const S=[...m.connectorLinks.values()].flat().find(M=>M.id===E),v=S&&h.platformConnectors.get(S.connector_id);return s.jsx(En,{connector:{name:(u=v==null?void 0:v.name)!=null?u:x,logo_url:(k=v==null?void 0:v.logo_url)!=null?k:null},actionName:T,isWrite:a,params:typeof e.args=="object"?e.args:JSON.parse(e.args),toolCallSafetySummary:n,result:o,actionButtons:b})}}return s.jsx(En,{connector:{name:_,logo_url:null},actionName:d,isWrite:a,params:e,result:o,actionButtons:b})}function Zi(t){const e=t.indexOf("."),n=e===-1?t:t.slice(0,e),o=e===-1?"":t.slice(e+1);return{namespace:n,actionName:o}}function En({connector:t,actionName:e,params:n,result:o,isWrite:a,toolCallSafetySummary:r,actionButtons:i}){var O,F,B,z;const l=Tt(),[c,f]=D.useState(!1),[,m]=D.useState("request"),h=D.useId(),_=D.useId(),d=(O=r==null?void 0:r.title)!=null?O:"",b=(F=r==null?void 0:r.description)!=null?F:"",j=e,g=Object.entries((B=r==null?void 0:r.sensitive_data)!=null?B:{}).filter(([,y])=>y==null?!1:Array.isArray(y)),u=Object.entries((z=r==null?void 0:r.suspicious_data)!=null?z:{}).filter(([,y])=>y==null?!1:Array.isArray(y)),k=g.length>0||u.length>0,x=y=>y.join(", "),E=y=>{const A=x(y);return A.length<20?A:A.slice(0,20)+"..."},T=n!=null,S=o!=null,v=T||S,M=()=>{m(T?"request":"response"),f(!0)};return r?s.jsxs("div",{className:"mt-1 mb-4 w-full max-w-md",children:[s.jsxs("div",{className:"border-token-border-medium bg-token-bg-tertiary/20 flex flex-col gap-3 rounded-3xl border px-5 py-5 text-start",children:[s.jsx("div",{className:"flex items-center justify-between gap-2",children:s.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[s.jsx(Hs,{connector:t,size:"xsmall"}),s.jsx("div",{className:"flex flex-1 flex-col gap-2",children:s.jsx("div",{className:"text-token-text-secondary text-sm tracking-wide",children:t.name})})]})}),s.jsxs("div",{className:"flex flex-col gap-2 px-1",children:[s.jsx("h2",{className:"text-token-text-primary text-lg font-semibold",children:d}),b&&s.jsxs("p",{className:"text-token-text-secondary text-sm",children:[b,v&&s.jsxs(s.Fragment,{children:[" ",s.jsx("button",{type:"button",onClick:M,className:"text-token-text-secondary font-regular underline",children:s.jsx(te,fe({},ot.details))})]})]})]}),k&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col gap-2 px-1 py-2",children:[s.jsx("div",{className:"text-token-text-tertiary font-regular text-sm",children:l.formatMessage(ot.dataShared)}),s.jsxs("dl",{className:"",children:[g.map(([y,A])=>{const p=x(A),N=E(A);return s.jsxs("div",{className:"flex flex-col gap-1 py-1 sm:flex-row sm:items-center sm:gap-4",children:[s.jsx("dt",{className:"font-regular text-token-text-tertiary text-start text-sm",children:y}),s.jsx("dd",{className:"text-token-text-primary text-sm font-normal sm:ms-auto sm:max-w-xs sm:truncate sm:text-end",children:s.jsx(Ps,{side:"top",align:"end",label:p?s.jsx("div",{className:"text-token-text-primary max-w-xs text-start text-sm break-words",children:p}):void 0,children:s.jsx("span",{className:"block truncate",children:N})})})]},y)}),u.map(([y,A])=>{const p=x(A),N=E(A);return s.jsxs("div",{className:"flex flex-col gap-1 py-1 sm:flex-row sm:items-center sm:gap-4",children:[s.jsx("dt",{className:"font-regular text-interactive-label-warning-secondary text-start text-sm",children:s.jsx(Ps,{side:"top",align:"start",label:l.formatMessage(ot.suspiciousContentTooltip),children:s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx("span",{className:"text-token-text-error",children:y}),s.jsx(Ji,{"aria-hidden":"true",className:"interactive-label-warning-secondary icon-xs text-token-text-error"})]})})}),s.jsx("dd",{className:"text-token-text-primary text-sm font-normal sm:ms-auto sm:max-w-xs sm:truncate sm:text-end",children:s.jsx(Ps,{side:"top",align:"end",label:p?s.jsx("div",{className:"text-token-text-primary max-w-xs text-start text-sm break-words",children:p}):void 0,children:s.jsx("span",{className:"block truncate",children:N})})})]},y)})]})]}),s.jsx("div",{className:"token-border-subtle mx-1 mt-1 h-0 border-t"})]}),i&&Array.isArray(i)&&i.length>0&&s.jsx("div",{className:"mt-3 mb-1 flex flex-wrap justify-end gap-3",children:i})]}),s.jsx("div",{className:"text-token-text-tertiary mt-3 text-center text-sm",children:s.jsx(te,{id:"APIToolCallCard.toolCallSafetyWarning",defaultMessage:"Using tools comes with risks. <link>Learn more</link>",values:{link:y=>s.jsx("a",{href:"https://platform.openai.com/docs/mcp#risks-and-safety",className:"underline underline-offset-2",target:"_blank",rel:"noopener noreferrer",children:y},"link")}})}),v&&s.jsx(Mt.Root,{testId:"modal-api-tool-call-details",isOpen:c,onClose:f,children:s.jsx(Mt.Overlay,{children:s.jsx(Mt.Content,{size:"large",className:"max-w-2xl",ariaLabelledBy:h,ariaDescribedBy:b?_:void 0,children:s.jsxs("div",{className:"flex flex-col py-2",children:[s.jsx(Mt.Header,{hasSeparator:!0,title:s.jsx("span",{id:h,className:"px-2",children:s.jsx(te,fe({},ot.details))}),closeButton:s.jsx(Dn,{className:"me-2",onClick:()=>f(!1)})}),s.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[b&&s.jsx("p",{id:_,className:"text-token-text-secondary text-sm",children:b}),s.jsx("div",{className:"border-token-border-subtle bg-token-bg-secondary/40 flex flex-col overflow-hidden rounded-2xl border",children:s.jsxs("div",{className:"border-token-border-subtle flex flex-wrap items-center justify-between gap-3 py-1",children:[s.jsxs("div",{className:"border-token-border-subtle flex w-full items-center justify-between border-b px-4 py-3",children:[s.jsx("span",{className:"text-token-text-primary text-sm font-semibold",children:j}),a&&s.jsx("div",{className:"bg-token-bg-status-error/10 text-token-text-error inline-flex min-w-[60px] items-center justify-center rounded-full px-2 text-[10px] font-semibold tracking-wide uppercase",children:s.jsx(te,{id:"APIToolCallCard.write",defaultMessage:"Write"})})]}),s.jsxs("div",{className:"mb-4 grid w-full gap-4 px-1",children:[n!=null&&s.jsx(rs,{isInitialLevelExpanded:a,name:ot.request,params:n}),o!=null&&s.jsx(rs,{name:ot.response,params:o})]})]})})]})]})})})})]}):s.jsxs("div",{className:"bg-token-bg-default mt-1 mb-4 grid max-w-xl gap-4 rounded-xl p-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{connector:{name:t.name,logo_url:t.logo_url,logo_url_dark:void 0},size:"large"}),s.jsxs("div",{className:"flex flex-1 flex-col",children:[s.jsx("div",{className:"text-token-text-secondary text-xs",children:t.name}),s.jsx("div",{className:"text-token-text-primary text-sm",children:e})]}),a&&s.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:s.jsx(te,{id:"APIToolCallCard.write",defaultMessage:"Write"})})]}),n!=null&&s.jsx(rs,{isInitialLevelExpanded:a,name:ot.request,params:n}),o!=null&&s.jsx(rs,{name:ot.response,params:o}),a&&s.jsxs("div",{className:"text-token-text-secondary text-sm",children:[s.jsx(Yi,{className:"icon-sm me-1 mb-0.5 inline-block"}),s.jsx(te,{id:"APIToolCallCard.writeWarning",defaultMessage:"Write actions come with risks. <link>Learn more</link>",values:{link:y=>s.jsx("a",{href:"https://platform.openai.com/docs/mcp#risks-and-safety",className:"underline underline-offset-2",target:"_blank",rel:"noopener noreferrer",children:y},"link")}})]})]})}function rs({name:t,afterName:e,params:n,isInitialLevelExpanded:o=!1}){const a=Tt();return s.jsxs("div",{className:"bg-token-bg-secondary/30 max-w-full min-w-0 space-y-3 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-token-text-secondary text-xs",children:typeof t=="string"?t:a.formatMessage(t)}),e]}),s.jsx(xi,{buttonText:!0,className:"text-token-text-secondary text-xs",onCopy:()=>_i(typeof n=="string"?n:JSON.stringify(n))})]}),typeof n=="string"?s.jsx("div",{className:"text-token-text-primary line-clamp-3 font-mono text-sm",children:n}):s.jsx(qs,{isInitialLevelExpanded:o,value:n})]})}const ot=Ns({request:{id:"APIToolCallCard.request",defaultMessage:"Request"},response:{id:"APIToolCallCard.response",defaultMessage:"Response"},details:{id:"APIToolCallCard.details",defaultMessage:"Details"},noDetails:{id:"APIToolCallCard.noDetails",defaultMessage:"No additional details available."},dataShared:{id:"APIToolCallCard.dataShared",defaultMessage:"Sharing data includes:"},functionLabel:{id:"APIToolCallCard.function",defaultMessage:"Function"},allowForConversation:{id:"APIToolCallCard.allowForConversation",defaultMessage:"Allow for conversation"},suspiciousContentTooltip:{id:"APIToolCallCard.suspiciousContentTooltip",defaultMessage:"There is a suspicious piece of text being shared that looks like random or encrypted data. It could be risky, for example it could contain your personal information encrypted in some way. It may not be harmful though, for example if it is part of a legitimate link being shared. It is safe to deny the action."}}),Xi=["AF","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BV","BR","IO","BN","BG","BF","BI","CV","KH","CM","CA","KY","CF","TD","CL","CN","CX","CC","CO","KM","CD","CG","CK","CR","HR","CU","CW","CY","CZ","CI","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","SZ","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","MK","RO","RU","RW","RE","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","GS","SS","ES","LK","SD","SR","SJ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","UM","US","UY","UZ","VU","VE","VN","VG","VI","WF","EH","YE","ZM","ZW","AX","XK"],ea=rt(Xi,null),ta=["stripe"],sa=["card"],na=["terms_of_use","privacy_policy","seller_shop_policies"],oa=["missing","invalid","out_of_stock","payment_declined","requires_sign_in","requires_3ds"],ia=["items_base_amount","items_discount","subtotal","discount","fulfillment","tax","fee","total"],Qn=["not_ready_for_payment","ready_for_payment","completed","canceled"],Zn=Me({id:W,item:Me({id:W,quantity:$e}),base_amount:$e,discount:$e,subtotal:$e,tax:$e,total:$e}),Xn=Me({type:rt(ia),display_text:W,amount:$e}),aa=Me({id:W,type:()=>"shipping",title:W,subtitle:W,subtotal:$e,tax:$e,total:$e,carrier_info:W,earliest_delivery_time:W,latest_delivery_time:W}),ra=Me({id:W,type:()=>"digital",title:W,subtitle:W,subtotal:$e,tax:$e,total:$e}),eo=t=>{var n;switch(Bn((n=Fn(t))==null?void 0:n.type,["shipping","digital"])){case"shipping":return aa(t);case"digital":return ra(t)}},la=Me({type:()=>"info",param:W,content_type:W,content:W}),to=Me({type:()=>"error",code:rt(oa),param:W,content_type:W,content:W}),so=t=>{var n;switch(Bn((n=Fn(t))==null?void 0:n.type,["info","error"])){case"info":return la(t);case"error":return to(t)}},no=Me({type:rt(na),value:W}),oo=Me({name:W,line_one:W,line_two:W,city:W,state:W,country:t=>{var e;return(e=ea(t))!=null?e:"US"},postal_code:W}),ca=Me({id:W,checkout_session_id:W,permalink_url:W}),io=Me({merchant_id:W,provider:rt(ta),supported_payment_methods:Ke(rt(sa))}),da=Me({id:W,payment_provider:io,status:rt(Qn),currency:W,line_items:Ke(Zn),totals:Ke(Xn),fulfillment_options:Ke(eo),fulfillment_address:oo,messages:Ke(so),links:Ke(no)}),Vr=Me({id:W,buyer:Me({email:W,phone_number:W}),status:rt(Qn),currency:W,line_items:Ke(Zn),totals:Ke(Xn),fulfillment_options:Ke(eo),fulfillment_address:oo,fulfillment_option_id:W,messages:Ke(so),links:Ke(no),order:ca}),ua=se(()=>K(()=>import("./b2zd7hoskp4hcpqp.js"),__vite__mapDeps([4,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29])).then(t=>t.EcosystemCheckoutModal));class ma{constructor(e){ee(this,"checkoutPromise$",Oe(null));ee(this,"chatSDK$",Oe(null));ee(this,"isCheckoutOpen$",vs(()=>!!this.chatSDK$()));ee(this,"isLoadingPayment$",Oe(!0));ee(this,"checkoutSession$",Oe(null));ee(this,"grandTotal$",vs(()=>{var e;return(e=this.checkoutSession$())==null?void 0:e.totals.find(n=>n.type==="total")}));ee(this,"status$",Oe("idle"));ee(this,"messages$",Oe([]));ee(this,"errorMessages$",vs(()=>this.messages$().filter(e=>e.type==="error")));ee(this,"paymentDetails$",Oe(null));ee(this,"paymentTypes$",Oe([]));ee(this,"allowedCountries$",Oe([]));ee(this,"publishableKey$",Oe(null));ee(this,"customerId$",Oe(null));ee(this,"billingAddress$",Oe(null));ee(this,"billingAddressComplete$",vs(()=>{var e,n,o,a,r,i;return this.billingAddress$()?!!((e=this.billingAddress$())!=null&&e.name)&&!!((n=this.billingAddress$())!=null&&n.line_one)&&!!((o=this.billingAddress$())!=null&&o.city)&&!!((a=this.billingAddress$())!=null&&a.state)&&!!((r=this.billingAddress$())!=null&&r.country)&&!!((i=this.billingAddress$())!=null&&i.postal_code):!1}));ee(this,"openCheckout",(e,n)=>new Promise((o,a)=>{Ds(()=>{var r;this.checkoutPromise$.set({resolve:o,reject:a}),this.chatSDK$.set(e),this.checkoutSession$.set(n),this.billingAddress$.set((r=n.fulfillment_address)!=null?r:null),ls(this.conversation.ctx,ua,{conversation:this.conversation})})}));ee(this,"closeCheckout",()=>Ds(()=>{this.chatSDK$.set(null),this.checkoutSession$.set(null),this.billingAddress$.set(null),this.checkoutPromise$.set(null),this.status$.set("idle")}));ee(this,"cancelCheckout$",()=>{var e;(e=this.checkoutPromise$())==null||e.reject(),this.closeCheckout()});ee(this,"completeCheckout$",e=>{var n,o;this.status$.set("complete"),(o=(n=this.checkoutPromise$())==null?void 0:n.resolve)==null||o.call(n,e)});ee(this,"addErrorMessage$",e=>{this.messages$.set([...this.messages$(),to({code:"invalid",content:e})])});ee(this,"fetchStripeSession$",async()=>{var m,h,_,d,b,j;const e=window.location.href,n=e.includes("/share/"),o=this.conversation.serverId$(),a=io((h=(m=this.checkoutSession$())==null?void 0:m.payment_provider)!=null?h:{}),{customer_id:r,customer_session_client_secret:i,publishable_key:l,payment_types:c,allowed_countries:f}=await Wn.safePost("/shopping/ecosystem/checkout/{checkout_session_id}",{parameters:{path:{checkout_session_id:(d=(_=this.checkoutSession$())==null?void 0:_.id)!=null?d:""}},requestBody:fe({payment_provider:a,ecosystem_app_uri:(j=(b=this.chatSDK$())==null?void 0:b.widgetParent)!=null?j:""},n?{sharedConversationUrl:e}:{conversationId:o})});return Ds(()=>{this.publishableKey$.set(l),this.customerId$.set(r),this.paymentTypes$.set(c),this.allowedCountries$.set(f)}),{client_secret:i,publishable_key:l}});this.conversation=e}}const fa=Ao(t=>new ma(t)),ao=async({ctx:t,chatSDK:e,clientThreadId:n,checkoutSession:o})=>{if(!Es(t,"2563418478"))return;const r=da(o);return fa(cs(t,n)).openCheckout(e,r)},pa=(t,{csp:e,domain:n,subdomain:o})=>"".concat(t.metadata.html_asset_pointer,"-").concat(JSON.stringify(e),"-").concat(n,"-").concat(o),ga=({chatSDK:t,prompt:e,persistedSystemHintsStore:n,clientThreadId:o,systemPrompt:a,isVisible:r=!1})=>{var c;const i=zs.getRequestId(mn(o));if(Io(i))return null;if(!e)return Ro.addError("No prompt provided to sendFollowUpMessage"),null;const l=zs.getBranch(mn(o)).findLast(({message:f})=>Lo(f));return{completionType:Bo.Next,appendMessages:a?[Do(['The user is referring to the "'.concat(t.widgetType,'" tool with additional instructions:\n').concat(a)],{exclude_after_next_user_message:!0})]:[],promptMessage:{id:So(),author:{role:Po.Tool,name:t.widgetType},content:{content_type:$o.Text,parts:[e]},recipient:"all",metadata:{system_hints:Oo(n),developer_mode_connector_ids:(c=l==null?void 0:l.message.metadata)==null?void 0:c.developer_mode_connector_ids,chatgpt_sdk_attribution:t.metadata.attribution_id,is_visually_hidden_from_conversation:!r}},eventSource:"mouse"}},ro=new Set(["http:","https:"]),Sn={"http:":80,"https:":443,"ws:":80,"wss:":443};function lo(t){if(!t)return null;const e=t.trim();if(!e||e.includes("\\"))return null;try{return{url:new URL(e)}}catch(n){if(!/^[a-z][a-z0-9+.-]*:/.test(e))try{const o=e.startsWith("//")?"https:".concat(e):"https://".concat(e);return{url:new URL(o)}}catch(o){return null}return null}}function co(t){var _,d;const e=t.trim();if(!e)return null;const n=/^([a-z][a-z0-9+.-]*):$/i.exec(e);if(n)return{kind:"scheme",scheme:"".concat(n[1].toLowerCase(),":")};const o=/^(?:([a-z][a-z0-9+.+-]*):\/\/)?(\*|\*\.[^/:]+|[^/:]+)(?::(\*|\d+))?(\/.*)?$/i.exec(e);if(!o)return null;const a=o[1]?"".concat(o[1].toLowerCase(),":"):void 0,r=o[2],i=(_=o[3])!=null?_:null,l=(d=o[4])!=null?d:null,c=r.startsWith("*."),f=(c?r.slice(2):r).toLowerCase().replace(/\.$/,"");let m=null,h=!1;return i!==null&&(h=!0,m=i==="*"?"*":Number(i),m!=="*"&&(!Number.isFinite(m)||m<0))?null:{kind:"host",scheme:a,host:f,wildcard:c,portExplicit:h,port:m,path:l}}function js(t){return t.toLowerCase().replace(/\.$/,"")}function uo(t,e){const n=js(t),o=js(e);return n===o||n.endsWith("."+o)}function ha(t,e,n){return n?uo(t,e):js(t)===js(e)}function xa(t,e){var o,a;if(e.port==="*")return!0;const n=t.port?Number(t.port):(o=Sn[t.protocol])!=null?o:null;if(!e.portExplicit){const r=(a=Sn[t.protocol])!=null?a:null;return n===r}return typeof e.port=="number"&&n===e.port}function _a(t){var a,r;const e=(a=t.scheme)!=null?a:"https:";if(!ro.has(e)||!t.host)return null;const n=typeof t.port=="number"?":".concat(t.port):"",o=(r=t.path)!=null?r:"";try{return new URL("".concat(e,"//").concat(t.host).concat(n).concat(o))}catch(i){return null}}function ya(t){var o,a;const e=lo(t!=null?t:void 0);if(e&&ro.has(e.url.protocol)&&!e.url.hostname.includes("*"))return e.url.toString();if(!t)return null;const n=co(t);return!n||n.kind==="scheme"?null:(a=(o=_a(n))==null?void 0:o.toString())!=null?a:null}function ba(t,e,n){var l;if(!t)return!1;const o=lo(t);if(!o)return!1;const a=o.url;if(a.username||a.password)return!1;const r=[];(l=e==null?void 0:e.connectDomains)!=null&&l.length&&r.push(...e.connectDomains);const i=n==null?void 0:n.trim();return i&&r.push(i),r.length?r.some(c=>{const f=co(c);if(!f)return!1;if(f.kind==="scheme")return a.protocol===f.scheme;if(f.scheme)return!(a.protocol!==f.scheme||!ha(a.hostname,f.host,f.wildcard)||!xa(a,f));{const m=f.host;return!!uo(a.hostname,m)}}):!1}const va=se(()=>K(()=>import("./hq3y7ibldw993hso.js"),__vite__mapDeps([30,1,7,8])).then(t=>t.ConfirmExternalLinkModal)),ka=se(()=>K(()=>import("./fqzt6ckf6r80fm8s.js"),__vite__mapDeps([31,1,7,8])).then(t=>t.SafeLinkWarningModal)),mo=({ctx:t,href:e,csp:n,domain:o})=>{if(e){if(ba(e,n,o)){Fo()?ls(t,va,{url:e}):window.open(e,"_blank","noopener,noreferrer");return}ls(t,ka,{urls:e})}},wa=se(()=>K(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zx),__vite__mapDeps([6,1,7,8,9])),{loading:t=>ce(t)}),Mn=t=>{"use forget";const e=Te.c(6),{onClose:n,onSubmit:o,clientX:a,clientY:r,placeholder:i}=t;let l;return e[0]!==a||e[1]!==r||e[2]!==n||e[3]!==o||e[4]!==i?(l=s.jsx("div",{className:"pointer-events-none fixed inset-0 z-[1000]",children:s.jsx(ja,{clientX:a,clientY:r,placeholder:i,onSubmit:o,onBlur:n})}),e[0]=a,e[1]=r,e[2]=n,e[3]=o,e[4]=i,e[5]=l):l=e[5],l},ja=t=>{"use forget";const e=Te.c(43),{placeholder:n,clientX:o,clientY:a,onBlur:r,onSubmit:i}=t,l=Tt(),[c,f]=D.useState("");let m;e[0]!==c?(m=c.trim(),e[0]=c,e[1]=m):m=e[1];const h=!!m;let _;e[2]!==i||e[3]!==c?(_=C=>{const{metaKey:Y,shiftKey:ae,key:be}=C;be==="Enter"&&!C.nativeEvent.isComposing&&c.trim()&&!(ae||Y)?(i==null||i(C,c),C.preventDefault()):be==="Escape"&&f("")},e[2]=i,e[3]=c,e[4]=_):_=e[4];const d=_,b=fn(0),j=fn(0);let g;e[5]!==a?(g=C=>a-8<=C?a+C+C:a-8,e[5]=a,e[6]=g):g=e[6];const u=pn(b,g);let k;e[7]!==o?(k=C=>o+C>window.innerWidth?o-C:o,e[7]=o,e[8]=k):k=e[8];const x=pn(j,k);let E;e[9]!==b||e[10]!==j?(E=Kn({axis:"both",onChange:C=>{b.set(C.height),j.set(C.width)}}),e[9]=b,e[10]=j,e[11]=E):E=e[11];let T,S;e[12]===Symbol.for("react.memo_cache_sentinel")?(T={opacity:0,scale:.95},S={opacity:1,scale:1},e[12]=T,e[13]=S):(T=e[12],S=e[13]);let v;e[14]!==x||e[15]!==u?(v={top:u,left:x},e[14]=x,e[15]=u,e[16]=v):v=e[16];let M,O,F;e[17]===Symbol.for("react.memo_cache_sentinel")?(F={opacity:0,scale:.95},M={type:"spring",bounce:.1,duration:.1},O=Ze("pointer-events-auto absolute z-[1000] -translate-y-full"),e[17]=M,e[18]=O,e[19]=F):(M=e[17],O=e[18],F=e[19]);let B;e[20]===Symbol.for("react.memo_cache_sentinel")?(B=C=>f(C.target.value),e[20]=B):B=e[20];let z;e[21]!==d||e[22]!==r||e[23]!==n?(z=s.jsx("div",{children:s.jsx("input",{autoFocus:!0,className:"border-none text-sm shadow-[none] outline-none focus:border-none focus:outline-none",placeholder:n,onBlur:r,onChange:B,onKeyDown:d})}),e[21]=d,e[22]=r,e[23]=n,e[24]=z):z=e[24];let y;e[25]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(Ws.Separator,{}),e[25]=y):y=e[25];const A=!h;let p;e[26]!==l?(p=l.formatMessage({id:"iIqOqN",defaultMessage:"Submit"}),e[26]=l,e[27]=p):p=e[27];let N;e[28]!==i||e[29]!==c?(N=C=>i==null?void 0:i(C,c),e[28]=i,e[29]=c,e[30]=N):N=e[30];let J;e[31]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(wa,{className:"h-4 w-4 text-white dark:text-black"}),e[31]=J):J=e[31];let R;e[32]!==A||e[33]!==p||e[34]!==N?(R=s.jsx(Ws.Button,{disabled:A,"aria-label":p,className:"ms-2 me-1 flex h-6 w-6 items-center justify-center rounded-full bg-black dark:bg-white",onClick:N,children:J}),e[32]=A,e[33]=p,e[34]=N,e[35]=R):R=e[35];let P;e[36]!==z||e[37]!==R?(P=s.jsxs(Ws,{children:[z,y,R]}),e[36]=z,e[37]=R,e[38]=P):P=e[38];let w;return e[39]!==P||e[40]!==E||e[41]!==v?(w=s.jsx(Gs.div,{ref:E,initial:T,animate:S,style:v,exit:F,transition:M,className:O,children:P}),e[39]=P,e[40]=E,e[41]=v,e[42]=w):w=e[42],w},Ca=se(()=>K(()=>import("./l9j1pgpmylhm9ysw.js"),__vite__mapDeps([32,1,7,8,6,9,33])).then(t=>t.KanziWidgetFeedback)),Na=t=>{"use forget";const e=Te.c(20),{logoUrl:n,name:o,isLoading:a,onClick:r,conversationId:i,chatSDK:l,withGutter:c,withMarginBottom:f}=t,m=c===void 0?!1:c,_=(f===void 0?!1:f)&&"mb-4",d=m&&"px-4";let b;e[0]!==_||e[1]!==d?(b=Ze("text-token-text-secondary dark:text-token-text-tertiary flex w-full items-center gap-2 max-sm:mt-1",_,d),e[0]=_,e[1]=d,e[2]=b):b=e[2];let j;e[3]!==a||e[4]!==n||e[5]!==o?(j=!n||a?s.jsx("div",{className:"loading-results-shimmer h-5 w-5 rounded-lg"}):n&&o&&s.jsx("img",{className:"h-5 w-5 rounded-lg",src:n,alt:o}),e[3]=a,e[4]=n,e[5]=o,e[6]=j):j=e[6];let g;e[7]!==o?(g=o?s.jsx("button",{className:"hover:text-token-text-primary group-hover:text-token-text-primary",children:o}):s.jsx("div",{className:"loading-results-shimmer h-5 w-16 rounded-md"}),e[7]=o,e[8]=g):g=e[8];let u;e[9]!==r||e[10]!==j||e[11]!==g?(u=s.jsxs("span",{className:"group inline-flex items-center gap-2",onClick:r,role:"button",children:[j,g]}),e[9]=r,e[10]=j,e[11]=g,e[12]=u):u=e[12];let k;e[13]!==l||e[14]!==i?(k=s.jsx("span",{className:"ms-auto",children:s.jsx(Ca,{chatSDK:l,conversationId:i})}),e[13]=l,e[14]=i,e[15]=k):k=e[15];let x;return e[16]!==b||e[17]!==u||e[18]!==k?(x=s.jsxs("div",{className:b,children:[u,k]}),e[16]=b,e[17]=u,e[18]=k,e[19]=x):x=e[19],x},Ea=({title:t,logoUrl:e})=>s.jsxs("div",{className:"bg-token-bg-primary dark:bg-token-bg-elevated-secondary border-token-border-default dark:border-token-border-light my-2 flex w-fit items-center gap-2 rounded-xl px-4 py-2 pe-6",children:[e?s.jsx("img",{className:"h-5 w-5 rounded-md",src:e,alt:t!=null?t:""}):s.jsx("div",{className:"loading-results-shimmer h-5 w-5 rounded-md"}),s.jsx("div",{className:"text-token-text-primary text-base font-medium",children:t})]}),Sa=se(()=>K(()=>import("./hahiy9dm7k71twz4.js"),__vite__mapDeps([34,1])),{loading:t=>ce(t)}),Ma=t=>{"use forget";const e=Te.c(6),{errorMessage:n,onClickRetry:o}=t;let a,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(Sa,{className:"icon"}),r=s.jsx(te,{id:"DTbTrQ",defaultMessage:"Error loading app"}),e[0]=a,e[1]=r):(a=e[0],r=e[1]);let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(te,{id:"thEh3U",defaultMessage:"Retry"}),e[2]=i):i=e[2];let l;return e[3]!==n||e[4]!==o?(l=s.jsx(yi,{type:"error",icon:a,title:r,content:n,primaryCtaText:i,primaryCtaColor:"secondary",onPrimaryCtaClick:o}),e[3]=n,e[4]=o,e[5]=l):l=e[5],l},Ta=se(()=>K(()=>import("./ncw8zw682jinppua.js").then(t=>t.yq),__vite__mapDeps([7,1,8])),{loading:t=>ce(t)}),Js=44,Aa=t=>{"use forget";const e=Te.c(7),{safeAreaInsetTop:n,safeAreaInsetLeft:o,onClick:a}=t;let r;e[0]!==o||e[1]!==n?(r={height:Js,width:Js,marginTop:n,marginLeft:o},e[0]=o,e[1]=n,e[2]=r):r=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(Ta,{}),e[3]=i):i=e[3];let l;return e[4]!==a||e[5]!==r?(l=s.jsx("button",{className:"bg-token-bg-primary text-token-text-primary shadow-short dark:shadow-long fixed start-4 top-0 z-10 aspect-square rounded-full p-3 transition-transform active:scale-115 active:opacity-75",onClick:a,style:r,children:i}),e[4]=a,e[5]=r,e[6]=l):l=e[6],l},Ia=se(()=>K(()=>import("./paev76b70tpkjsm5.js"),__vite__mapDeps([35,1])),{loading:t=>ce(t)}),Ra=se(()=>K(()=>import("./ncw8zw682jinppua.js").then(t=>t.yq),__vite__mapDeps([7,1,8])),{loading:t=>ce(t)}),La=se(()=>K(()=>import("./jvekt1e2c3xc6a2l.js"),__vite__mapDeps([36,1])),{loading:t=>ce(t)}),Oa=se(()=>K(()=>import("./kdezcnbv0vjez4rk.js"),__vite__mapDeps([37,1])),{loading:t=>ce(t)}),fo=8,$a=t=>{"use forget";const e=Te.c(34),{title:n,widgetDisplayName:o,widgetDomain:a,onClickBack:r,onClickClose:i,onClickForward:l,onClickOpenInApp:c,canGoBack:f,canGoForward:m,logo:h}=t,_=Tt();if(Zs()){let O;return e[0]!==i?(O=s.jsx(Aa,{safeAreaInsetTop:fo,safeAreaInsetLeft:0,onClick:i}),e[0]=i,e[1]=O):O=e[1],O}let d;e[2]!==_?(d=_.formatMessage({id:"H0F9KU",defaultMessage:"Close"}),e[2]=_,e[3]=d):d=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(Ra,{className:"icon"}),e[4]=b):b=e[4];let j;e[5]!==i||e[6]!==d?(j=s.jsx(Fs,{label:d,className:"h-7! w-7!",onClick:i,icon:b}),e[5]=i,e[6]=d,e[7]=j):j=e[7];let g;e[8]!==f||e[9]!==m||e[10]!==_||e[11]!==r||e[12]!==l?(g=(f||m)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fs,{label:_.formatMessage({id:"y0H9Ps",defaultMessage:"Back"}),className:"h-7! w-7!",onClick:r,disabled:!f,icon:s.jsx(Oa,{className:"icon"})}),s.jsx(Fs,{label:_.formatMessage({id:"4zGgS+",defaultMessage:"Forward"}),className:"h-7! w-7!",onClick:l,disabled:!m,icon:s.jsx(La,{className:"icon"})})]}),e[8]=f,e[9]=m,e[10]=_,e[11]=r,e[12]=l,e[13]=g):g=e[13];let u;e[14]!==j||e[15]!==g?(u=s.jsxs("div",{className:"flex items-center justify-start gap-3",children:[j,g]}),e[14]=j,e[15]=g,e[16]=u):u=e[16];let k;e[17]!==n?(k=s.jsx("div",{className:"text-token-text-secondary flex items-center justify-center text-base",children:n}),e[17]=n,e[18]=k):k=e[18];const x=h?void 0:Ia,E=!a;let T;e[19]!==h||e[20]!==o?(T=h&&s.jsx("img",{src:h,alt:o,className:"me-2 h-4 w-4"}),e[19]=h,e[20]=o,e[21]=T):T=e[21];let S;e[22]!==o?(S=s.jsx(te,{id:"JvQEOX",defaultMessage:"Open in {app}",values:{app:o}}),e[22]=o,e[23]=S):S=e[23];let v;e[24]!==c||e[25]!==S||e[26]!==x||e[27]!==E||e[28]!==T?(v=s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs(at,{icon:x,disabled:E,onClick:c,color:"secondary",children:[T,S]})}),e[24]=c,e[25]=S,e[26]=x,e[27]=E,e[28]=T,e[29]=v):v=e[29];let M;return e[30]!==v||e[31]!==u||e[32]!==k?(M=s.jsxs("div",{className:"border-token-border-secondary bg-token-bg-primary sm:bg-token-bg-primary z-10 grid h-(--header-height) grid-cols-[1fr_auto_1fr] border-b px-2",children:[u,k,v]}),e[30]=v,e[31]=u,e[32]=k,e[33]=M):M=e[33],M},po=()=>{let t="unknown";return Zs()?t="mobile":Wo()?t="tablet":Vo()&&(t="desktop"),{device:{type:t},capabilities:{hover:gn(Ko),touch:gn(Uo)}}},Pa=t=>t.concat().sort().map(e=>"".concat(e," *")).join("; "),Da=(t,e,n)=>"?"+["","app=".concat(t),"locale=".concat(e),"deviceType=".concat(po().device.type),""].filter(Boolean).join("&"),Ba=t=>{if(t){const e=new URL(Nn);return e.hostname="".concat(t,".").concat(e.hostname),e.protocol=Bi,e.origin}return Nn},Fa=t=>function(...n){return Os(this,null,function*(){yield*$s(t("streamCompletion",...n))})},Wa=t=>{"use forget";const e=Te.c(24),{host:n,features:o,isInert:a,title:r,ref:i,subdomain:l,iframeRef:c,api:f,locale:m}=t,h=n===void 0?"chatgpt":n,_=a===void 0?!1:a,[d]=D.useState(Va);let b;e[0]!==d?(b=async(A,...p)=>{var R;const N=p;return await zo(()=>!!d()),ws((R=d())==null?void 0:R[A],"Method ".concat(String(A)," not found"))(...N)},e[0]=d,e[1]=b):b=e[1];const j=it(b);let g,u;e[2]!==j?(g=()=>new Proxy({},{get:(A,p)=>(...N)=>j(p,...N)}),u=[j],e[2]=j,e[3]=g,e[4]=u):(g=e[3],u=e[4]),D.useImperativeHandle(i,g,u);let k;e[5]!==f?(k=(A,...p)=>{const N=p,J=f[A];if(!J){console.warn("HostAPI method not found",A);return}return J(...N)},e[5]=f,e[6]=k):k=e[6];const x=it(k);let E;e[7]!==x||e[8]!==d?(E=A=>A?(Fi(A,{drawBoundingBoxes:(...p)=>x("drawBoundingBoxes",...p),notifyBackgroundColor:(...p)=>x("notifyBackgroundColor",...p),notifyIntrinsicHeight:(...p)=>x("notifyIntrinsicHeight",...p),sendInstrument:(...p)=>x("sendInstrument",...p),getDownloadURL:(...p)=>x("getDownloadURL",...p),callTool:(...p)=>x("callTool",...p),streamCompletion:Fa(x),callCompletion:(...p)=>x("callCompletion",...p),notifySecurityPolicyViolation:(...p)=>x("notifySecurityPolicyViolation",...p),notifyEnvironmentError:(...p)=>x("notifyEnvironmentError",...p),updateWidgetState:(...p)=>x("updateWidgetState",...p),sendFollowUpMessage:(...p)=>x("sendFollowUpMessage",...p),notifyNavigation:(...p)=>x("notifyNavigation",...p),notifyEscapeKey:(...p)=>x("notifyEscapeKey",...p),openExternal:(...p)=>x("openExternal",...p),requestModal:(...p)=>x("requestModal",...p),requestClose:(...p)=>x("requestClose",...p),requestPrompt:(...p)=>x("requestPrompt",...p),openPromptInput:(...p)=>x("openPromptInput",...p),requestDisplayMode:(...p)=>x("requestDisplayMode",...p),requestCheckout:(...p)=>x("requestCheckout",...p)},["runUserCode","runWidgetCode"]).then(p=>{d.set(p)}),()=>{d.set(null)}):d.set(null),e[7]=x,e[8]=d,e[9]=E):E=e[9];const T=it(E);let S;e[10]!==l?(S=Ba(l),e[10]=l,e[11]=S):S=e[11];const v=S,M="sandbox-".concat(v);let O;e[12]!==h||e[13]!==m?(O=Da(h,m),e[12]=h,e[13]=m,e[14]=O):O=e[14];const F="".concat(v).concat(O),B=bi(T,c);let z;e[15]!==o?(z=o!=null&&o.length?Pa(o):void 0,e[15]=o,e[16]=z):z=e[16];let y;return e[17]!==_||e[18]!==F||e[19]!==B||e[20]!==z||e[21]!==M||e[22]!==r?(y=s.jsx(Go,{children:s.jsx("iframe",{title:r,inert:_,src:F,ref:B,sandbox:"allow-scripts allow-same-origin allow-forms",allow:z,className:"h-full w-full max-w-full"},M)}),e[17]=_,e[18]=F,e[19]=B,e[20]=z,e[21]=M,e[22]=r,e[23]=y):y=e[23],y};function Va(){return Oe(null)}const Ua=async(t,e)=>{const{trackFatalWidgetError:n}=await K(async()=>{const{trackFatalWidgetError:o}=await import("./or8gthzj9b8a4hel.js");return{trackFatalWidgetError:o}},__vite__mapDeps([33,7,1,8]));n(t,e)},Ka=async(t,e)=>{const{trackWidgetError:n}=await K(async()=>{const{trackWidgetError:o}=await import("./or8gthzj9b8a4hel.js");return{trackWidgetError:o}},__vite__mapDeps([33,7,1,8]));n(t,e)},za=async t=>{const{trackWidgetLinkOut:e}=await K(async()=>{const{trackWidgetLinkOut:n}=await import("./or8gthzj9b8a4hel.js");return{trackWidgetLinkOut:n}},__vite__mapDeps([33,7,1,8]));e(t)},Ga=async(t,e)=>{const{trackSandboxInstrument:n}=await K(async()=>{const{trackSandboxInstrument:o}=await import("./or8gthzj9b8a4hel.js");return{trackSandboxInstrument:o}},__vite__mapDeps([33,7,1,8]));n(t,e)},Ha=async t=>{const{trackSecurityPolicyViolation:e}=await K(async()=>{const{trackSecurityPolicyViolation:n}=await import("./or8gthzj9b8a4hel.js");return{trackSecurityPolicyViolation:n}},__vite__mapDeps([33,7,1,8]));e(t)},qa=async(t,e)=>{const{trackWidgetDisplayMode:n}=await K(async()=>{const{trackWidgetDisplayMode:o}=await import("./or8gthzj9b8a4hel.js");return{trackWidgetDisplayMode:o}},__vite__mapDeps([33,7,1,8]));n(t,e)},Ja=async(t,e)=>{const{trackWidgetNavigation:n}=await K(async()=>{const{trackWidgetNavigation:o}=await import("./or8gthzj9b8a4hel.js");return{trackWidgetNavigation:o}},__vite__mapDeps([33,7,1,8]));n(t,e)},Ya={insets:{top:0,bottom:0,left:0,right:0}};function Qa(){let t,e;return{promise:new Promise((o,a)=>{t=o,e=a}),resolve:t,reject:e}}const go=({host:t,ref:e,iframeRef:n,html:o,accessToken:a,features:r,safeArea:i=Ya,attributionId:l,conversationId:c,widgetId:f,widgetParent:m,suggestionMessageId:h,widgetType:_,csp:d,subdomain:b,viewParams:j,widgetState:g=null,toolInput:u=null,toolOutput:k=null,toolResponseMetadata:x=null,maxHeight:E,theme:T,title:S,api:v,locale:M,displayMode:O="inline",onReady:F,onError:B})=>{"use no forget";const z=D.useMemo(()=>{var w;return{attribution_id:(w=l!=null?l:m)!=null?w:"",name:_,conversation_id:c!=null?c:null,message_id:f||null,suggestion_message_id:h!=null?h:null}},[l,m,_,c,f,h]),y=D.useRef(null),A=D.useRef(null),p=D.useRef(null),N=it(()=>{B==null||B()}),J=it(()=>{F==null||F()}),R=it(async w=>{var Y,ae;A.current=Qa();const C=(Y=y.current)==null?void 0:Y.runWidgetCode({html:w,widgetId:f,viewParams:j,widgetState:g,toolInput:u,toolOutput:k,toolResponseMetadata:x,features:r,maxHeight:E,theme:T,displayMode:O,safeArea:i,userAgent:po(),csp:d});if(C)try{for(var be=un(await C),ve,ie,oe;ve=!(ie=await be.next()).done;ve=!1){const q=ie.value;q.type===Vs.ENVIRONMENT_STATUS&&q.status===Wi.RUNNING_CODE?(J(),(ae=A.current)==null||ae.resolve()):q.type===Vs.ERROR?(Ka(z,q.error),p.current=q.error):q.type===Vs.RUN_COMPLETE&&q.wasFatalError&&(Ua(z,p.current),N())}}catch(ie){oe=[ie]}finally{try{ve&&(ie=be.return)&&await ie.call(be)}finally{if(oe)throw oe[0]}}});D.useEffect(()=>{o&&R(o)},[o,R]);const P=it(async w=>{var C;await((C=A.current)==null?void 0:C.promise),w()});return D.useEffect(()=>{P(()=>{var w;(w=y.current)==null||w.setWidgetProps({widgetId:f,widgetState:g,toolInput:u,toolOutput:k,toolResponseMetadata:x})})},[f,g,u,k,x,P]),D.useEffect(()=>{P(()=>{var w;(w=y.current)==null||w.setAdditionalGlobals({additionalGlobals:{maxHeight:E}})})},[E,P]),D.useEffect(()=>{P(()=>{var w;(w=y.current)==null||w.setAdditionalGlobals({additionalGlobals:{displayMode:O,view:{params:j,mode:O}}})})},[O,j,P]),D.useEffect(()=>{P(()=>{var w;(w=y.current)==null||w.setTheme({theme:T})})},[T,P]),D.useEffect(()=>{P(()=>{var w;(w=y.current)==null||w.setSafeArea({safeArea:i})})},[i,P]),s.jsx(Wa,{title:S,host:t,subdomain:b,features:r,api:st(fe({},v),{notifyNavigation:w=>{var C;Ja(z,w),(C=v.notifyNavigation)==null||C.call(v,w)},requestDisplayMode:w=>{var Y,ae;const{mode:C}=w;return C!==O&&qa(z,C),(ae=(Y=v.requestDisplayMode)==null?void 0:Y.call(v,w))!=null?ae:{mode:C}},openExternal:w=>{var C;za(z),(C=v.openExternal)==null||C.call(v,w)},sendInstrument:w=>{Ga(w,z)},notifySecurityPolicyViolation:w=>{var C;Ha({attribution_id:(C=l!=null?l:m)!=null?C:"",name:_,conversation_id:c!=null?c:null,message_id:f||null,suggestion_message_id:void 0,violation:w})},streamCompletion:function(w){return Os(this,null,function*(){const{completionStream:C}=yield new bs(K(async()=>{const{completionStream:Y}=await import("./kqt9cgrmvst37t89.js");return{completionStream:Y}},__vite__mapDeps([38,7,1,8,6,9])));yield*$s(C(w,ws(m),a))})},callCompletion:async function(w){const{callCompletion:C}=await K(async()=>{const{callCompletion:Y}=await import("./kqt9cgrmvst37t89.js");return{callCompletion:Y}},__vite__mapDeps([38,7,1,8,6,9]));return await C(w,ws(m),a)}}),iframeRef:n,ref:vi(y,e),locale:M})},Za=se(()=>K(()=>import("./9paxni9f8n7suc5d.js"),__vite__mapDeps([39,1])),{loading:t=>ce(t)}),Ks=t=>{"use forget";const e=Te.c(84),{heightHint:n,title:o,sendFollowUpMessage:a,conversation:r,chatSDK:i,clientThreadId:l,onClose:c,domain:f,html:m,attributionId:h,widgetId:_,widgetParent:d,suggestionMessageId:b,widgetType:j,features:g,subdomain:u,csp:k,locale:x,params:E}=t,T=n===void 0?null:n,S=ds();let v;e[0]!==r?(v=en(r),e[0]=r,e[1]=v):v=e[1];const M=v,[O,F]=D.useState(T),[B,z]=D.useState(!1),y=D.useRef(null),A=Vn(),[p,N]=D.useState(!1),[J,R]=D.useState(null);let P;e[2]!==i||e[3]!==M?(P=()=>M.getWidgetStateAndProps$(i),e[2]=i,e[3]=M,e[4]=P):P=e[4];const{toolInput:w,toolOutput:C,widgetState:Y,toolResponseMetadata:ae}=Ho(P),be=J!=null?J:0;let ve;e[5]!==be?(ve={insets:{top:be,bottom:0,left:0,right:0}},e[5]=be,e[6]=ve):ve=e[6];const ie=ve,oe=!p,q=p?"opacity-100":"opacity-0";let Q;e[7]!==q?(Q=Ze(q),e[7]=q,e[8]=Q):Q=e[8];const re=!p,V=p?"opacity-100":"opacity-0";let ke;e[9]!==V?(ke=Ze("relative flex min-h-0 max-w-xl flex-col overflow-hidden",V),e[9]=V,e[10]=ke):ke=e[10];let Ae;e[11]!==o?(Ae=s.jsx(qo,{asChild:!0,className:"sr-only",children:s.jsx("span",{children:o})}),e[11]=o,e[12]=Ae):Ae=e[12];let ne;e[13]===Symbol.for("react.memo_cache_sentinel")?(ne=Kn({axis:"height",onChange:le=>{const{height:De}=le;return R(De)}}),e[13]=ne):ne=e[13];let de;e[14]!==B?(de=B&&s.jsx(ki,{onClick:()=>{var le;return(le=y.current)==null?void 0:le.navigate({delta:-1})},children:s.jsx(Za,{})}),e[14]=B,e[15]=de):de=e[15];let Ie;e[16]!==c?(Ie=s.jsx(Jo,{asChild:!0,children:s.jsx(Dn,{onClick:c,iconSize:"lg",className:"ms-auto"})}),e[16]=c,e[17]=Ie):Ie=e[17];let we;e[18]!==de||e[19]!==Ie?(we=s.jsxs("header",{className:"absolute start-0 end-0 top-0 flex items-center p-2",ref:ne,children:[de,Ie]}),e[18]=de,e[19]=Ie,e[20]=we):we=e[20];const Xe=Math.max(O!=null?O:0,T!=null?T:0);let pe;e[21]!==Xe?(pe={height:Xe},e[21]=Xe,e[22]=pe):pe=e[22];const he=A!=null?A:"light";let We;e[23]===Symbol.for("react.memo_cache_sentinel")?(We=()=>N(!0),e[23]=We):We=e[23];let je;e[24]!==l?(je=Xs(l),e[24]=l,e[25]=je):je=e[25];let ze;e[26]===Symbol.for("react.memo_cache_sentinel")?(ze=le=>{F(le)},e[26]=ze):ze=e[26];let Pe;if(e[27]!==i||e[28]!==l||e[29]!==k||e[30]!==S||e[31]!==f||e[32]!==M||e[33]!==c||e[34]!==a||e[35]!==d){let le;e[37]!==i||e[38]!==l||e[39]!==S?(le=ge=>ao({ctx:S,chatSDK:i,clientThreadId:l,checkoutSession:ge}),e[37]=i,e[38]=l,e[39]=S,e[40]=le):le=e[40];let De;e[41]===Symbol.for("react.memo_cache_sentinel")?(De=ge=>{const{canGoBack:Fe}=ge;z(Fe)},e[41]=De):De=e[41];let Be;e[42]!==M||e[43]!==d?(Be=(ge,Fe)=>M.callTool$(ws(d),ge,Fe),e[42]=M,e[43]=d,e[44]=Be):Be=e[44];let Ge;e[45]!==M?(Ge=(ge,Fe)=>M.setWidgetState$(ge,Fe),e[45]=M,e[46]=Ge):Ge=e[46],Pe={notifyIntrinsicHeight:ze,openExternal(ge){const{href:Fe}=ge;mo({ctx:S,href:Fe,csp:k,domain:f})},sendFollowUpMessage:a,requestClose:c,notifyEscapeKey:c,requestCheckout:le,notifyNavigation:De,callTool:Be,updateWidgetState:Ge},e[27]=i,e[28]=l,e[29]=k,e[30]=S,e[31]=f,e[32]=M,e[33]=c,e[34]=a,e[35]=d,e[36]=Pe}else Pe=e[36];let Ce;e[47]!==h||e[48]!==k||e[49]!==g||e[50]!==m||e[51]!==x||e[52]!==E||e[53]!==ie||e[54]!==u||e[55]!==b||e[56]!==he||e[57]!==je||e[58]!==Pe||e[59]!==w||e[60]!==C||e[61]!==ae||e[62]!==_||e[63]!==d||e[64]!==Y||e[65]!==j?(Ce=s.jsx(go,{host:"chatgpt",html:m,ref:y,theme:he,attributionId:h,onReady:We,conversationId:je,widgetId:_,widgetParent:d,suggestionMessageId:b,widgetType:j,subdomain:u,widgetState:Y,toolInput:w,toolOutput:C,toolResponseMetadata:ae,features:g,viewParams:E,safeArea:ie,displayMode:"modal",api:Pe,csp:k,locale:x}),e[47]=h,e[48]=k,e[49]=g,e[50]=m,e[51]=x,e[52]=E,e[53]=ie,e[54]=u,e[55]=b,e[56]=he,e[57]=je,e[58]=Pe,e[59]=w,e[60]=C,e[61]=ae,e[62]=_,e[63]=d,e[64]=Y,e[65]=j,e[66]=Ce):Ce=e[66];let X;e[67]!==pe||e[68]!==Ce?(X=s.jsx("div",{className:"max-h-full flex-shrink overflow-y-auto",style:pe,children:Ce}),e[67]=pe,e[68]=Ce,e[69]=X):X=e[69];let me;e[70]!==ke||e[71]!==Ae||e[72]!==we||e[73]!==X||e[74]!==re?(me=s.jsxs(Mt.Content,{"aria-hidden":re,className:ke,children:[Ae,we,X]}),e[70]=ke,e[71]=Ae,e[72]=we,e[73]=X,e[74]=re,e[75]=me):me=e[75];let ue;e[76]!==p||e[77]!==me?(ue=s.jsx(Mt.Overlay,{showBackground:p,children:me}),e[76]=p,e[77]=me,e[78]=ue):ue=e[78];let Ne;return e[79]!==c||e[80]!==ue||e[81]!==oe||e[82]!==Q?(Ne=s.jsx(Mt.Root,{"aria-hidden":oe,className:Q,isOpen:!0,onClose:c,testId:"modal-kanzi-widget",children:ue}),e[79]=c,e[80]=ue,e[81]=oe,e[82]=Q,e[83]=Ne):Ne=e[83],Ne},Xa=t=>{"use forget";var f;const e=Te.c(7),{clientThreadId:n,messages:o,isLastMessageInTurn:a,rememberForThisConversation:r,onRequestCompletion:i}=t;let l,c;if(e[0]!==n||e[1]!==a||e[2]!==o||e[3]!==i||e[4]!==r){c=Symbol.for("react.early_return_sentinel");e:{const{jitPluginData:m}=tn(o,a);if(!(m!=null&&m.from_server)||((f=m.from_server)==null?void 0:f.type)==="denied_by_user"){c=null;break e}const{from_server:h}=m,{body:_}=h,{domain:d,actions:b}=_;l=b.map((j,g)=>s.jsx(Yn,{clientThreadId:n,messages:o,onRequestCompletion:i,action:j,domain:d,handleUserAction:St,rememberAnswer:r},g))}e[0]=n,e[1]=a,e[2]=o,e[3]=i,e[4]=r,e[5]=l,e[6]=c}else l=e[5],c=e[6];return c!==Symbol.for("react.early_return_sentinel")?c:l},er=se(()=>K(()=>import("./kivvchsexr54fuso.js"),__vite__mapDeps([3,1])),{loading:t=>ce(t)}),tr=se(()=>K(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zv),__vite__mapDeps([6,1,7,8,9])),{loading:t=>ce(t)});function sr(t){"use forget";var M,O;const e=Te.c(40),{messages:n,isLastMessageInTurn:o,clientThreadId:a,onRequestCompletion:r}=t,[i,l]=D.useState(!1);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(te,{id:"WidgetOverlay.alwaysAsk",defaultMessage:"Always ask"}),e[0]=c):c=e[0];const f=c;let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(te,{id:"WidgetOverlay.allowThisConversation",defaultMessage:"Allow for this conversation"}),e[1]=m):m=e[1];const h=m,_=Pn(),d=Qs();let b;e[2]!==o||e[3]!==n?(b=tn(n,o),e[2]=o,e[3]=n,e[4]=b):b=e[4];const{uiState:j}=b;let g;e[5]!==o||e[6]!==n?(g=Hn(n,o),e[5]=o,e[6]=n,e[7]=g):g=e[7];const u=g;let k,x,E,T;if(e[8]!==a||e[9]!==d||e[10]!==o||e[11]!==_.connectorLinks||e[12]!==n||e[13]!==u||e[14]!==r||e[15]!==i||e[16]!==j){const F=qn(n,o),[B,z,y]=(M=F==null?void 0:F.path.split("/").filter(Boolean))!=null?M:[],A=[..._.connectorLinks.values()].flat().find(w=>w.id===z),p=A&&d.platformConnectors.get(A.connector_id);k=j===$.UserConfirmation,x="bg-token-bg-primary text-token-text-primary shadow-long pointer-events-auto grid w-[min(90%,40rem)] max-w-[min(100%,600px)] gap-4 rounded-2xl p-4 sm:rounded-3xl";const N=s.jsx("div",{className:"text-token-text-primary ms-3 font-medium",children:s.jsx(te,{id:"VHhzt6",defaultMessage:"{connectorName} wants to perform an action",values:{connectorName:B}})});let J;e[21]!==u||e[22]!==i?(J=u?s.jsx("div",{className:"-mt-0.5 flex justify-start text-sm",children:s.jsx(Yo,{size:"small",triggerButton:s.jsxs("button",{className:"bg-token-bg-primary hover:bg-token-bg-tertiary text-token-text-primary inline-flex items-center gap-1 rounded-lg px-2 py-1 ps-3 transition-colors",children:[i?h:f,s.jsx(tr,{strokeWidth:1,className:"icon-sm opacity-30","aria-hidden":!0})]}),children:s.jsxs(Bs.RadioGroup,{value:i?"allow":"ask",onValueChange:w=>l(w==="allow"),children:[s.jsx(Bs.RadioItem,{value:"ask",children:f}),s.jsx(Bs.RadioItem,{value:"allow",children:h})]})})}):null,e[21]=u,e[22]=i,e[23]=J):J=e[23];let R;e[24]!==N||e[25]!==J?(R=s.jsxs("div",{className:"flex flex-1 flex-col",children:[N,J]}),e[24]=N,e[25]=J,e[26]=R):R=e[26];let P;e[27]!==a||e[28]!==o||e[29]!==n||e[30]!==r||e[31]!==i?(P=s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(Xa,{clientThreadId:a,messages:n,isLastMessageInTurn:o,rememberForThisConversation:i,onRequestCompletion:r})}),e[27]=a,e[28]=o,e[29]=n,e[30]=r,e[31]=i,e[32]=P):P=e[32],E=s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Hs,{connector:{name:B,logo_url:(O=p==null?void 0:p.logo_url)!=null?O:null},size:"medium",className:"bg-primary shadow-xxs max-h-fit rounded-2xl border bg-clip-padding p-2"}),R,P]}),T=F!=null&&s.jsx(rs,{name:y,afterName:k&&s.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:s.jsx(te,{id:"APIToolCallCard.write",defaultMessage:"Write"})}),params:typeof F.args=="object"?F.args:JSON.parse(F.args)}),e[8]=a,e[9]=d,e[10]=o,e[11]=_.connectorLinks,e[12]=n,e[13]=u,e[14]=r,e[15]=i,e[16]=j,e[17]=k,e[18]=x,e[19]=E,e[20]=T}else k=e[17],x=e[18],E=e[19],T=e[20];let S;e[33]!==k?(S=k&&s.jsxs("div",{className:"text-token-text-secondary text-xs",children:[s.jsx(er,{className:"icon-sm me-2 mb-0.5 inline-block"}),s.jsx(te,{id:"APIToolCallCard.writeWarning",defaultMessage:"Write actions come with risks. <link>Learn more</link>",values:{link:nr}})]}),e[33]=k,e[34]=S):S=e[34];let v;return e[35]!==x||e[36]!==E||e[37]!==T||e[38]!==S?(v=s.jsxs("div",{className:x,children:[E,T,S]}),e[35]=x,e[36]=E,e[37]=T,e[38]=S,e[39]=v):v=e[39],v}function nr(t){return s.jsx("a",{href:"https://platform.openai.com/docs/mcp#risks-and-safety",className:"underline underline-offset-2",target:"_blank",rel:"noopener noreferrer",children:t},"link")}const or=se(()=>K(()=>import("./ncw8zw682jinppua.js").then(t=>t.yq),__vite__mapDeps([7,1,8])),{loading:t=>ce(t)}),ir=["midi","microphone"],ar=t=>{"use forget";var sn,nn;const e=Te.c(241),{chatSDK:n,clientThreadId:o,onRequestCompletion:a,isLastMessageInTurn:r}=t,i=ds();let l;e[0]!==i?(l=()=>Un(i),e[0]=i,e[1]=l):l=e[1];const c=Se(l);let f;e[2]!==i?(f=Xo(i),e[2]=i,e[3]=f):f=e[3];const{locale:m}=f;let h,_;e[4]!==o||e[5]!==i?(h=cs(i,o),_=en(h),e[4]=o,e[5]=i,e[6]=h,e[7]=_):(h=e[6],_=e[7]);const d=_,b=wi(),[j,g]=D.useState(null),u=ji(n),{refetch:k,isLoading:x,isError:E,html:T,domain:S,subdomain:v,name:M,logoUrl:O,csp:F,prefersBorder:B,hideWidgetFeedback:z}=u,{widgetParent:y,widgetType:A,metadata:p}=n,[N,J]=D.useState(null),R=D.useRef(null),P=D.useRef(null),w=ei.useStore();let C;e[8]!==n||e[9]!==o||e[10]!==a||e[11]!==w?(C=U=>{const _e=ga(st(fe({},U),{chatSDK:n,persistedSystemHintsStore:w,clientThreadId:o}));_e!=null&&a(_e)},e[8]=n,e[9]=o,e[10]=a,e[11]=w,e[12]=C):C=e[12];const Y=C;let ae;e[13]!==d?(ae=()=>d.title$(),e[13]=d,e[14]=ae):ae=e[14];const be=Se(ae);let ve;e[15]!==n||e[16]!==d?(ve=()=>d.isPinned$(n),e[15]=n,e[16]=d,e[17]=ve):ve=e[17];const ie=Se(ve);let oe;e[18]!==n||e[19]!==d?(oe=()=>d.isPinOrigin$(n),e[18]=n,e[19]=d,e[20]=oe):oe=e[20];const q=Se(oe);let Q;e[21]!==n||e[22]!==d?(Q=()=>d.isPinOrigin$(n)?d.displayMode$():"inline",e[21]=n,e[22]=d,e[23]=Q):Q=e[23];const re=Se(Q),V=re==="fullscreen",ke=re==="pip";let Ae;e[24]!==d?(Ae=()=>d.maxWidgetHeight$(),e[24]=d,e[25]=Ae):Ae=e[25];const ne=Se(Ae);let de;e[26]!==n.widgetId||e[27]!==d?(de=()=>d.transitioningId$()===n.widgetId,e[26]=n.widgetId,e[27]=d,e[28]=de):de=e[28];const Ie=Se(de);let we;e[29]!==n||e[30]!==d?(we=()=>d.getLatestChatSDK$(n),e[29]=n,e[30]=d,e[31]=we):we=e[31];const Xe=Se(we),pe=j!=null?j:n;let he;e[32]!==pe||e[33]!==d?(he=()=>d.getWidgetStateAndProps$(pe),e[32]=pe,e[33]=d,e[34]=he):he=e[34];const{toolInput:We,toolOutput:je,widgetState:ze,toolResponseMetadata:Pe}=Se(he),Ce=Xe.messages,X=pe.widgetId,me=(sn=p==null?void 0:p.attribution_id)!=null?sn:y,[ue,Ne]=D.useState(0),[le,De]=D.useState(!1),[Be,Ge]=D.useState(!1),[ge,Fe]=D.useState(!1),[At,us]=D.useState(!1),It=Vn(),Rt=n.distributionChannel===hn.OPENAI&&z;let lt;e[35]!==X||e[36]!==n||e[37]!==re||e[38]!==N||e[39]!==q||e[40]!==d||e[41]!==w||e[42]!==B?(lt=(U,_e)=>{if(U===re)return{mode:U};U==="fullscreen"&&(ti.setSidebarOpen(!1),w.setActiveSystemHint(null)),q?d.transitioningId$.set(X):d.transitioningId$.set(n.widgetId),U!=="inline"&&d.subscribeToNewMessages$(n,g);const vt=()=>{var kt,wt;(kt=P.current)==null||kt.focus(),U==="inline"?(wt=R.current)==null||wt.navigate({popToRoot:!0}):d.setPinnedWidgetHeight(N!=null?N:0),g(null),d.setDisplayMode$(n,U,_e)};return B?(Ni({forceFlushSync:!0,className:U==="inline"?[is["pinned-widget"],is["becoming-inline"]]:re==="inline"?[is["pinned-widget"],is["becoming-pinned"]]:is["pinned-widget"],update:vt}).finished.then(()=>{d.transitioningId$.set(null)}),{mode:U}):(vt(),d.transitioningId$.set(null),{mode:U})},e[35]=X,e[36]=n,e[37]=re,e[38]=N,e[39]=q,e[40]=d,e[41]=w,e[42]=B,e[43]=lt):lt=e[43];const Z=it(lt);let ct,dt;e[44]!==ie||e[45]!==Z?(ct=()=>{if(ie)return si(window,{keydown:U=>{U.key==="Escape"&&Z("inline")}})},dt=[ie,Z],e[44]=ie,e[45]=Z,e[46]=ct,e[47]=dt):(ct=e[46],dt=e[47]),D.useEffect(ct,dt);let ut;e[48]!==k||e[49]!==ue?(ut=()=>{k(),De(!1),Ge(!1),Ne(ue+1)},e[48]=k,e[49]=ue,e[50]=ut):ut=e[50];const Lt=ut;let mt;e[51]!==Z?(mt=()=>{De(!0),Z("inline")},e[51]=Z,e[52]=mt):mt=e[52];const Ot=mt;let ft;e[53]!==o||e[54]!==i?(ft=Ci(cs(i,o)),e[53]=o,e[54]=i,e[55]=ft):ft=e[55];const{height$:$t,marginBottom$:Pt}=ft;let pt;e[56]!==$t||e[57]!==q||e[58]!==V||e[59]!==Pt?(pt=()=>{var U,_e;return V&&q?16+((U=$t())!=null?U:0)+((_e=Pt())!=null?_e:0):0},e[56]=$t,e[57]=q,e[58]=V,e[59]=Pt,e[60]=pt):pt=e[60];const Dt=Se(pt);let gt;e[61]!==V?(gt=()=>V&&Zs()?Js+fo:0,e[61]=V,e[62]=gt):gt=e[62];const Bt=Se(gt);let ht;e[63]!==Bt||e[64]!==Dt?(ht={insets:{top:Bt,bottom:Dt,left:0,right:0}},e[63]=Bt,e[64]=Dt,e[65]=ht):ht=e[65];const Ft=ht;if(b){let U;return e[66]!==O||e[67]!==M?(U=s.jsx(Ea,{title:M,logoUrl:O}),e[66]=O,e[67]=M,e[68]=U):U=e[68],U}else if(ie&&!q&&!Ie)return null;const ms=V?void 0:N?"".concat(Math.min(N,ne!=null?ne:1/0),"px"):"auto";let xt;e[69]!==o||e[70]!==q||e[71]!==r||e[72]!==Ce||e[73]!==a?(xt=Jn(Ce,r||q)&&s.jsx(sr,{messages:Ce,isLastMessageInTurn:r||q,clientThreadId:o,onRequestCompletion:a}),e[69]=o,e[70]=q,e[71]=r,e[72]=Ce,e[73]=a,e[74]=xt):xt=e[74];const He=xt,_t=x||!Be||N==null;let yt;e[75]!==S?(yt=ya(S),e[75]=S,e[76]=yt):yt=e[76];const Ee=yt;let bt;e[77]!==o?(bt=Xs(o),e[77]=o,e[78]=bt):bt=e[78];const Je=bt,Ve=c?ir:void 0,L=Ie&&B&&"[view-transition-name:pinned-kanzi-widget]",G=!q&&"relative mb-2";let H;e[79]!==re||e[80]!==V||e[81]!==ke||e[82]!==ie||e[83]!==B||e[84]!==L||e[85]!==G?(H=Ze("no-scrollbar",L,G,re==="inline"&&Ze("thread-sm:w-full",!ie&&"mx-0 max-sm:-mx-(--thread-content-margin) max-sm:w-[100cqw] max-sm:overflow-hidden",B&&!ie&&!V&&"max-sm:overflow-visible max-sm:px-4"),ke&&"thread-xl:top-4 fixed start-4 end-4 top-4 z-50 mx-auto max-w-(--thread-content-max-width) sm:start-0 sm:end-0 sm:top-(--header-height) sm:w-full",V?"fixed start-0 end-0 top-0 bottom-0 z-50 mx-auto flex w-auto flex-col overflow-hidden":"overflow-visible"),e[79]=re,e[80]=V,e[81]=ke,e[82]=ie,e[83]=B,e[84]=L,e[85]=G,e[86]=H):H=e[86];let I;e[87]!==ne?(I={maxHeight:ne},e[87]=ne,e[88]=I):I=e[88];let xe;e[89]!==V||e[90]!==ie||e[91]!==Z?(xe=ie&&!V&&s.jsx("button",{className:"absolute -start-2 -top-1.5 z-10 rounded-full bg-[#3a3a3a] p-1.25 text-white shadow-[0px_0px_0px_1px_var(--border-heavy),0px_4px_12px_rgba(0,0,0,0.12)] hover:bg-[#6a6a6a] md:-start-6",onClick:()=>Z("inline"),children:s.jsx(or,{className:"h-4.5 w-4.5"})}),e[89]=V,e[90]=ie,e[91]=Z,e[92]=xe):xe=e[92];let Re;e[93]!==ge||e[94]!==At||e[95]!==be||e[96]!==V||e[97]!==O||e[98]!==M||e[99]!==Z||e[100]!==Ee?(Re=V&&s.jsx($a,{logo:O,onClickBack:()=>{var U;return(U=R.current)==null?void 0:U.navigate({delta:-1})},onClickClose:()=>Z("inline"),onClickForward:()=>{var U;return(U=R.current)==null?void 0:U.navigate({delta:1})},canGoBack:ge,canGoForward:At,title:(nn=be!=null?be:M)!=null?nn:"",widgetDisplayName:M!=null?M:"",widgetDomain:Ee!=null?Ee:null,onClickOpenInApp:()=>{var U;(U=R.current)==null||U.getCurrentPath().then(_e=>{_e==null||!Ee||window.open(new URL(_e.replace(/^\/+/,""),Ee),"_blank")})}}),e[93]=ge,e[94]=At,e[95]=be,e[96]=V,e[97]=O,e[98]=M,e[99]=Z,e[100]=Ee,e[101]=Re):Re=e[101];const Ue=V?"flex-1":"h-full",et=!ie&&B&&"border-token-border-light shadow-short rounded-2xl sm:rounded-3xl dark:shadow-[0px_0px_0px_1px_#414141,0px_4px_14px_rgba(0,0,0,0.24)]",Wt=!V&&(B||ke)&&"rounded-2xl sm:rounded-3xl",Vt=ke&&"shadow-[0px_0px_0px_1px_var(--border-heavy),0px_6px_20px_rgba(0,0,0,0.1)] md:-mx-4";let Ye;e[102]!==Ue||e[103]!==et||e[104]!==Wt||e[105]!==Vt?(Ye=Ze("relative overflow-hidden",Ue,et,Wt,Vt),e[102]=Ue,e[103]=et,e[104]=Wt,e[105]=Vt,e[106]=Ye):Ye=e[106];const Ut=_t?406:ms;let Qe;e[107]!==Ut?(Qe={height:Ut},e[107]=Ut,e[108]=Qe):Qe=e[108];let tt;e[109]!==_t?(tt=_t&&s.jsx(Gs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},className:"loading-results-shimmer absolute inset-0 sm:rounded-3xl"},"loading-results-shimmer"),e[109]=_t,e[110]=tt):tt=e[110];let Kt;e[111]!==tt?(Kt=s.jsx(ni,{initial:!1,children:tt}),e[111]=tt,e[112]=Kt):Kt=e[112];let zt;e[113]!==pe||e[114]!==ue||e[115]!==u?(zt=ue||pa(pe,u),e[113]=pe,e[114]=ue,e[115]=u,e[116]=zt):zt=e[116];const Ss=It!=null?It:"light",Ms=re!=null?re:"inline";let fs;e[117]===Symbol.for("react.memo_cache_sentinel")?(fs=()=>Ge(!0),e[117]=fs):fs=e[117];let Gt;if(e[118]!==X||e[119]!==me||e[120]!==n||e[121]!==o||e[122]!==h||e[123]!==F||e[124]!==i||e[125]!==S||e[126]!==Ve||e[127]!==T||e[128]!==d||e[129]!==m||e[130]!==p.suggestion_message_id||e[131]!==Y||e[132]!==Z||e[133]!==v||e[134]!==y||e[135]!==A){let U;e[137]!==i?(U=ye=>{const{clientX:Le,clientY:jt,placeholder:Rs}=ye;return new Promise((bo,vo)=>{var on,an,rn;const ts=(on=P.current)==null?void 0:on.getBoundingClientRect();ls(i,Mn,{placeholder:Rs,clientX:Le+((an=ts==null?void 0:ts.left)!=null?an:0),clientY:jt+((rn=ts==null?void 0:ts.top)!=null?rn:0),onSubmit:(Tr,ko)=>{bo({prompt:ko}),xn(i,Mn)},onClose:vo})})},e[137]=i,e[138]=U):U=e[138];let _e;e[139]!==X||e[140]!==me||e[141]!==n||e[142]!==o||e[143]!==h||e[144]!==F||e[145]!==i||e[146]!==S||e[147]!==Ve||e[148]!==T||e[149]!==m||e[150]!==p.suggestion_message_id||e[151]!==Y||e[152]!==v||e[153]!==y||e[154]!==A?(_e=ye=>{const{title:Le,params:jt,heightHint:Rs}=ye;Es(i,"4226530095")&&ls(i,Ks,{conversation:h,sendFollowUpMessage:Y,chatSDK:n,features:Ve,clientThreadId:o,title:Le,params:jt,html:T,attributionId:me,widgetId:X,widgetParent:y,suggestionMessageId:p==null?void 0:p.suggestion_message_id,widgetType:A,subdomain:v,domain:S,csp:F,locale:m,heightHint:Rs})},e[139]=X,e[140]=me,e[141]=n,e[142]=o,e[143]=h,e[144]=F,e[145]=i,e[146]=S,e[147]=Ve,e[148]=T,e[149]=m,e[150]=p.suggestion_message_id,e[151]=Y,e[152]=v,e[153]=y,e[154]=A,e[155]=_e):_e=e[155];let vt;e[156]!==X||e[157]!==i||e[158]!==d?(vt=()=>{if(oi(i,Ks))return xn(i,Ks);d.closeWidget$(X,"request_close")},e[156]=X,e[157]=i,e[158]=d,e[159]=vt):vt=e[159];let kt;e[160]!==n||e[161]!==o||e[162]!==i?(kt=ye=>ao({ctx:i,chatSDK:n,clientThreadId:o,checkoutSession:ye}),e[160]=n,e[161]=o,e[162]=i,e[163]=kt):kt=e[163];let wt;e[164]!==Z?(wt=()=>Z("inline"),e[164]=Z,e[165]=wt):wt=e[165];let hs;e[166]===Symbol.for("react.memo_cache_sentinel")?(hs=ye=>{const{canGoBack:Le,canGoForward:jt}=ye;Fe(Le),us(jt)},e[166]=hs):hs=e[166];let xs;e[167]!==d?(xs=(ye,Le)=>d.setWidgetState$(ye,Le),e[167]=d,e[168]=xs):xs=e[168];let _s;e[169]!==Z?(_s=ye=>{const{mode:Le,title:jt}=ye;return Z(Le,jt)},e[169]=Z,e[170]=_s):_s=e[170];let ys;e[171]!==d||e[172]!==y?(ys=(ye,Le)=>d.callTool$(y,ye,Le),e[171]=d,e[172]=y,e[173]=ys):ys=e[173],Gt={openExternal(ye){const{href:Le}=ye;mo({ctx:i,href:Le,csp:F,domain:S})},openPromptInput:U,requestModal:_e,requestClose:vt,requestCheckout:kt,notifyEscapeKey:wt,notifyNavigation:hs,notifyIntrinsicHeight:J,sendFollowUpMessage:Y,updateWidgetState:xs,requestDisplayMode:_s,callTool:ys},e[118]=X,e[119]=me,e[120]=n,e[121]=o,e[122]=h,e[123]=F,e[124]=i,e[125]=S,e[126]=Ve,e[127]=T,e[128]=d,e[129]=m,e[130]=p.suggestion_message_id,e[131]=Y,e[132]=Z,e[133]=v,e[134]=y,e[135]=A,e[136]=Gt}else Gt=e[136];let Ht;e[174]!==X||e[175]!==me||e[176]!==Je||e[177]!==F||e[178]!==Ve||e[179]!==Ot||e[180]!==T||e[181]!==m||e[182]!==ne||e[183]!==p.suggestion_message_id||e[184]!==Ft||e[185]!==v||e[186]!==zt||e[187]!==Ss||e[188]!==Ms||e[189]!==Gt||e[190]!==We||e[191]!==je||e[192]!==Pe||e[193]!==y||e[194]!==ze||e[195]!==A?(Ht=s.jsx(go,{iframeRef:P,ref:R,host:"chatgpt",title:A,locale:m,html:T,csp:F,features:Ve,subdomain:v,attributionId:me,conversationId:Je,widgetId:X,suggestionMessageId:p.suggestion_message_id,widgetType:A,widgetParent:y,widgetState:ze,toolInput:We,toolOutput:je,toolResponseMetadata:Pe,maxHeight:ne,theme:Ss,displayMode:Ms,safeArea:Ft,onReady:fs,onError:Ot,api:Gt},zt),e[174]=X,e[175]=me,e[176]=Je,e[177]=F,e[178]=Ve,e[179]=Ot,e[180]=T,e[181]=m,e[182]=ne,e[183]=p.suggestion_message_id,e[184]=Ft,e[185]=v,e[186]=zt,e[187]=Ss,e[188]=Ms,e[189]=Gt,e[190]=We,e[191]=je,e[192]=Pe,e[193]=y,e[194]=ze,e[195]=A,e[196]=Ht):Ht=e[196];let qt;e[197]!==He?(qt=!!He&&s.jsx("div",{className:"bg-token-bg-secondary/50 pointer-events-auto absolute inset-0 z-0 flex items-center justify-center rounded-none sm:rounded-3xl"}),e[197]=He,e[198]=qt):qt=e[198];let Jt;e[199]!==Ye||e[200]!==Qe||e[201]!==Kt||e[202]!==Ht||e[203]!==qt?(Jt=s.jsxs("div",{className:Ye,style:Qe,children:[Kt,Ht,qt]}),e[199]=Ye,e[200]=Qe,e[201]=Kt,e[202]=Ht,e[203]=qt,e[204]=Jt):Jt=e[204];let Yt;e[205]!==He||e[206]!==V||e[207]!==Be?(Yt=Be&&He&&s.jsx(Gs.div,{className:Ze("pointer-events-none absolute inset-0 z-10 flex justify-center",V?"top-(--header-height) items-center":"items-start pt-10"),initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:.1,duration:.24},children:He}),e[205]=He,e[206]=V,e[207]=Be,e[208]=Yt):Yt=e[208];let ps;e[209]!==H||e[210]!==I||e[211]!==xe||e[212]!==Re||e[213]!==Jt||e[214]!==Yt?(ps=s.jsxs("div",{className:H,style:I,children:[xe,Re,Jt,Yt]}),e[209]=H,e[210]=I,e[211]=xe,e[212]=Re,e[213]=Jt,e[214]=Yt,e[215]=ps):ps=e[215];const Ts=ps,As=E||le,Is=!ie&&!E&&n.distributionChannel!==hn.OPENAI;let Qt;e[216]!==V?(Qt=V&&s.jsx("div",{className:"bg-token-bg-primary fixed start-0 end-0 top-0 bottom-0 z-10"}),e[216]=V,e[217]=Qt):Qt=e[217];let Zt;e[218]!==n||e[219]!==Je||e[220]!==x||e[221]!==O||e[222]!==M||e[223]!==Is||e[224]!==Ee?(Zt=Is&&s.jsx("div",{className:"mt-2 sm:mt-4",children:s.jsx(Na,{withMarginBottom:!0,onClick:Ee?()=>window.open(Ee,"_blank","noopener,noreferrer"):void 0,isLoading:x,logoUrl:O,name:M,conversationId:Je,chatSDK:n})}),e[218]=n,e[219]=Je,e[220]=x,e[221]=O,e[222]=M,e[223]=Is,e[224]=Ee,e[225]=Zt):Zt=e[225];let Xt;e[226]!==Lt||e[227]!==As||e[228]!==E||e[229]!==le||e[230]!==Ts?(Xt=As?s.jsx("div",{className:Ze(E&&"mt-2"),children:s.jsx(Ma,{onClickRetry:Lt,errorMessage:E?"Failed to fetch template":le?"Runtime error":void 0})}):Ts,e[226]=Lt,e[227]=As,e[228]=E,e[229]=le,e[230]=Ts,e[231]=Xt):Xt=e[231];let es;e[232]!==Rt||e[233]!==V||e[234]!==B?(es=!V&&!B&&!Rt&&s.jsx("div",{className:"bg-token-border-default my-3 h-px w-full"}),e[232]=Rt,e[233]=V,e[234]=B,e[235]=es):es=e[235];let gs;return e[236]!==Qt||e[237]!==Zt||e[238]!==Xt||e[239]!==es?(gs=s.jsxs(s.Fragment,{children:[Qt,Zt,Xt,es]}),e[236]=Qt,e[237]=Zt,e[238]=Xt,e[239]=es,e[240]=gs):gs=e[240],gs},rr=t=>{"use forget";const e=Te.c(18),{messages:n,clientThreadId:o,onRequestCompletion:a,isLastMessageInTurn:r}=t;let i;e[0]!==n?(i=wn(n),e[0]=n,e[1]=i):i=e[1];const l=i,c=ds();let f,m;e[2]!==o||e[3]!==c?(f=cs(c,o),m=en(f),e[2]=o,e[3]=c,e[4]=f,e[5]=m):(f=e[4],m=e[5]);const h=m;let _;e[6]!==l.widgetId||e[7]!==h?(_=()=>h.closedWidgetIds$().has(l.widgetId),e[6]=l.widgetId,e[7]=h,e[8]=_):_=e[8];const d=Se(_);let b;e[9]!==l||e[10]!==f||e[11]!==h?(b=()=>{if(!l.sessionId||h.isPinned$(l))return!0;const u=Zo(f);for(let k=u.length-1;k>=0;k--){const{messages:x}=u[k];let E;try{E=wn(x)}catch(v){continue}if(E==null)continue;const{sessionId:T,invocationUuid:S}=E;if(T&&T===l.sessionId)return S===l.invocationUuid}return!0},e[9]=l,e[10]=f,e[11]=h,e[12]=b):b=e[12];const j=Se(b);if(l.metadata.is_widget_closed||d||l.isError||!j)return null;let g;return e[13]!==l||e[14]!==o||e[15]!==r||e[16]!==a?(g=s.jsx(ar,{clientThreadId:o,onRequestCompletion:a,isLastMessageInTurn:r,chatSDK:l}),e[13]=l,e[14]=o,e[15]=r,e[16]=a,e[17]=g):g=e[17],g},lr=t=>{"use forget";const e=Te.c(5),{messages:n,clientThreadId:o,onRequestCompletion:a,isLastMessageInTurn:r}=t,i=ds();if(Es(i,"1037317296"))return null;let l;return e[0]!==o||e[1]!==r||e[2]!==n||e[3]!==a?(l=s.jsx(Qo,{name:"ChatSDKContent",children:s.jsx(rr,{messages:n,clientThreadId:o,onRequestCompletion:a,isLastMessageInTurn:r})}),e[0]=o,e[1]=r,e[2]=n,e[3]=a,e[4]=l):l=e[4],l},cr=se(()=>K(()=>import("./dwgk7r4s1fwn35jq.js"),__vite__mapDeps([40,1])),{loading:t=>ce(t)}),dr=se(()=>K(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zv),__vite__mapDeps([6,1,7,8,9])),{loading:t=>ce(t)});function ur({messageMetadata:t}){const[e,n]=D.useState(!1);return s.jsxs("div",{className:"my-2 flex flex-col text-sm",children:[s.jsxs("div",{className:"flex flex-row items-center hover:cursor-pointer",onClick:()=>{n(!e)},children:[e?s.jsx(dr,{className:"icon-sm"}):s.jsx(cr,{className:"icon-sm"}),s.jsx("div",{className:"font-semibold",children:t.display_message})]}),e&&s.jsx("pre",{children:JSON.stringify(t.data,null,2)})]})}function mr({debugMessages:t}){return t.length===0?null:s.jsx("div",{children:t.map((e,n)=>{var a,r;const o=(r=(a=e.metadata)==null?void 0:a.jit_plugin_data)==null?void 0:r.from_server;return o&&o.type==="debug"?s.jsx(ur,{messageMetadata:o.body},n):null})})}const ho="openaiFileIdRefs",fr=["send_email","batch_modify_email","create_event","update_event","delete_event"];function pr({name:t,params:e,result:n,privacyPolicyUrl:o,isPromptingForPermission:a}){var l;const i=((l=e==null?void 0:e[ho])!=null?l:[]).map((c,f)=>{const m=c.name.startsWith("dalle-");let h=c.name;return m&&(h="".concat(h,".webp")),s.jsx(zn,{file:h,fileId:c.id},f)});return s.jsxs("div",{className:"divide-token-border-default border-token-border-default mt-1 mb-4 divide-y overflow-hidden rounded-xl border",children:[t&&s.jsx("div",{className:"bg-token-bg-tertiary text-token-text-secondary px-4 py-2 text-sm",children:s.jsx(te,{id:"JITPluginMessage.params.toolCall",defaultMessage:"Tool call: {name}",values:{name:s.jsx("span",{className:"text-token-text-primary",children:t})}})}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-token-bg-tertiary text-token-text-secondary flex justify-between px-4 py-2 text-sm",children:[a?s.jsx(te,{id:"JITPluginMessage.params.sharing.present",defaultMessage:"The following will be shared:"}):s.jsx(te,{id:"JITPluginMessage.params.sharing.past",defaultMessage:"The following was shared:"}),o&&s.jsx("a",{href:ii(o),className:"text-token-text-primary",target:"_blank",rel:"noreferrer",children:s.jsx(te,fe({},qe.privacyPolicyLink))})]}),s.jsx("div",{className:"px-4 py-2",children:s.jsx(qs,{value:e})}),i.length>0&&s.jsx("div",{className:"px-4 py-2",children:i})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-token-bg-tertiary text-token-text-secondary flex justify-between px-4 py-2 text-sm",children:s.jsx(te,{id:"JITPluginMessage.params.result",defaultMessage:"Result:"})}),s.jsx("div",{className:"px-4 py-2",children:s.jsx(qs,{value:n})})]})]})}var Ln;const gr=os.div(Ln||(Ln=Ct(["h-px bg-token-border-default"])));var On;const Tn=os.div(On||(On=Ct(["text-sm font-medium py-3 leading-6"])));var $n;const hr=os.div($n||($n=Ct(["my-4 p-5 w-full rounded-2xl popover bg-token-main-surface-primary shadow-lg border border-token-border-default"]))),xr=":",_r=({functionName:t,parameters:e,onClick:n,isDraft:o=!0,isCanceled:a=!1})=>{const r=Tt(),i=Object.entries(e).filter(([l,c])=>!c||l==="timezone_str"&&c===Intl.DateTimeFormat().resolvedOptions().timeZone?!1:c.length>0);return s.jsxs(hr,{children:[s.jsx("div",{className:"mb-4 flex items-center font-semibold",children:s.jsx("div",{children:o?Ys(t):yr(t,r)})}),i.map(([l,c])=>s.jsxs("div",{children:[s.jsx(gr,{}),s.jsxs("div",{className:"flex",children:[s.jsxs(Tn,{className:"text-token-text-tertiary me-1",children:[Ys(l),xr]}),s.jsx(Tn,{className:"whitespace-pre-line",children:xo(c,r)})]})]},l)),o&&!a&&s.jsx("div",{className:"mt-2 flex justify-end gap-4",children:s.jsx(at,{color:"primary",className:"py-2",onClick:n,children:r.formatMessage(Cs.approveButton)})}),a&&s.jsx("div",{className:"mt-2 flex justify-end gap-4",children:s.jsx(at,{color:"primary",className:"py-2",disabled:!0,children:r.formatMessage(Cs.canceledButton)})})]})},yr=(t,e)=>{switch(t){case"create_event":return"Created Event ✅";default:return"".concat(Ys(t)," ").concat(e.formatMessage(Cs.completedAction)," ✅")}},Ys=t=>{switch(t){case"timezone_str":return"Timezone";default:return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}},xo=(t,e)=>{if(Array.isArray(t))return t.map(a=>xo(a,e)).join(e.formatMessage(Cs.valueSeparator));if(typeof t=="object")return JSON.stringify(t);if(t.match(/^\s*\d{4}-\d{2}-\d{2}/)==null)return t;const o=new Date(t);return Number.isNaN(o.getTime())?t:e.formatDate(o,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})},Cs=Ns({approveButton:{id:"ParametersView.approveButton",defaultMessage:"Approve"},completedAction:{id:"ParametersView.completedAction",defaultMessage:"Completed"},canceledButton:{id:"ParametersView.canceledButton",defaultMessage:"Canceled"},valueSeparator:{id:"ParametersView.valueSeparator",defaultMessage:","}}),_o="api_tool.list_resources",yo="api_tool.search_tools",br="api_tool",vr=new Set([_o,yo,br]),kr=t=>vr.has(t);function wr(t,e,n,o,a,r=null){const i=jr(e,o,a,r);return i?typeof i=="string"?i:t.formatMessage(i,n):null}function jr(t,e,n,o=null){if(![$.Finished,$.Running,$.Stopped].includes(n)||!e)return t;switch(e){case _o:{const a=o==null?void 0:o[n];return a!=null?a:n===$.Finished||n===$.Stopped?ns({id:"OdEouq",defaultMessage:"Looked for available tools"}):ns({id:"hSyoq0",defaultMessage:"Looking for available tools"})}case yo:{const a=o==null?void 0:o[n];return a!=null?a:n===$.Finished||n===$.Stopped?ns({id:"4et5qC",defaultMessage:"Searched tools"}):ns({id:"V0IDh0",defaultMessage:"Searching tools"})}case"api_tool.call_tool":{const a=o==null?void 0:o[n];return a!=null?a:n===$.Finished||n===$.Stopped?ns({id:"NTASw4",defaultMessage:"Called tool"}):ns({id:"gc64KQ",defaultMessage:"Calling tool"})}}return t}const Cr=se(()=>K(()=>import("./ei2rr3u86wwo8xvm.js"),__vite__mapDeps([41,1])),{loading:t=>ce(t)}),Nr=se(()=>K(()=>import("./cpbwuvtd08flapfg.js"),__vite__mapDeps([42,1])),{loading:t=>ce(t)}),Er=se(()=>K(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zv),__vite__mapDeps([6,1,7,8,9])),{loading:t=>ce(t)}),Sr=(t,e)=>{const n=t.recipient==="api_tool.call_tool",o=["mcp://komi","mcp://kakao"],a=kn(t).toLowerCase(),r=n&&o.some(l=>a.includes(l));let i=!1;if(r&&e){const l=kn(e);if(l){let c;try{c=JSON.parse(l)}catch(f){}i=typeof c=="object"&&c!==null&&"widget"in c}}return{calledKakoMCP:r,displayedWidget:i}};function Mr({messages:t,nextMessage:e,clientThreadId:n,isLastMessageInTurn:o,isLastTurnInConversation:a,connectorFixture:r,onRequestCompletion:i}){var le,De,Be,Ge,ge,Fe,At,us,It,Rt,lt,Z,ct,dt,ut,Lt,mt,Ot,ft,$t,Pt,pt,Dt,gt,Bt,ht,Ft,ms,xt,He,_t,yt,Ee,bt,Je,Ve;const l=ds(),[c,f]=Mo(),{assistantMessage:m,toolMessages:h,debugMessages:_}=Gn(t),d=(le=m.recipient)!=null?le:"",b=ai(n),{addSource:j}=Ei(n),{uiState:g,jitPluginData:u,fileAttachments:k,invokedPlugin:x,lastConfirmActionJitPluginData:E}=tn(t,o),T=Tt(),S=ri(),[v,M,O]=li(n,L=>{var H,I,xe;const G=(I=(H=m.metadata)==null?void 0:H.gizmo_id)!=null?I:L?zs.getGizmoId(L):S;return[G,Ai(L==null?void 0:L.mode,G),(xe=L==null?void 0:L.conversationOrigin)!=null?xe:null]}),F=h.length>0?h[h.length-1]:void 0,B=Sr(m,F),z=Si(M)&&M.gizmo_id===v,y=(De=ci(v,z))==null?void 0:De.data,[A,p]=D.useState(!1),[N,J]=D.useState(!1),R=_n(m.recipient);let P;if((R==null?void 0:R.functionName)!=null&&(y==null?void 0:y.tools)!=null){for(const L of y.tools)if(Ri(L,R.functionName)){P=L;break}}const w=(Be=_n(e==null?void 0:e.recipient))==null?void 0:Be.namespace,{connectorId:C,connectorToolStatus:Y,connectorStatusMessage:ae,showConnectorConnect:be}=Li(R==null?void 0:R.namespace,w,h,a),ve=Se(()=>Un(l)),ie=Qs(!0,di.JIT_PLUGIN),oe=r!=null?r:ie.platformConnectors.get(C!=null?C:""),q=ui();let Q=((Ge=u==null?void 0:u.from_server)==null?void 0:Ge.type)!=="denied_by_user"?(ge=u==null?void 0:u.from_server)==null?void 0:ge.body.domain:(Fe=P==null?void 0:P.metadata)==null?void 0:Fe.domain,re=null,V=null;if(!Q&&(R!=null&&R.functionName)&&R.namespace==="kanzi_app"){const[L,G]=R.functionName.split("/");Q=L.replace(/_/g," "),re=s.jsx(hi,{openNewTab:!0,className:"text-token-text-secondary pt-1 opacity-0 transition-opacity duration-200 group-hover/tool-message:opacity-100",href:"/kanzi/studio/c/".concat(G),children:s.jsx(Cr,{})})}ve&&d==="api_tool.call_tool"&&(V=s.jsx("button",{onClick:()=>Ii(cs(l,n)).focusMessage$(m.id),className:"text-token-text-secondary",children:s.jsx(Nr,{})})),Q?Q.endsWith("__jit_plugin")&&(Q=Q.slice(0,-12)):Q="connector";const ke=(At=P==null?void 0:P.metadata)==null?void 0:At.privacy_policy_url;D.useEffect(()=>{var G,H;if(((G=Oi(u==null?void 0:u.from_client))==null?void 0:G.type)==="oauth_success")return;const L=c.get("oauth_success");if(((H=u==null?void 0:u.from_server)==null?void 0:H.type)==="oauth_required"&&L){f(I=>(I.delete("oauth_success"),I),{replace:!0});for(const I of u.from_server.body.actions)if(I.type==="oauth_redirect"){St({eventSource:"url",assistantMessage:m,onRequestCompletion:i,actionData:{type:"oauth_success",target_message_id:I.oauth_redirect.target_message_id},clientThreadId:n});return}}},[M,m,t,n,i,u,a,c,f,j]),D.useEffect(()=>{var H;const L=c.get("link_success"),G=c.get("oauth_success");if((L||G)&&((H=u==null?void 0:u.from_server)==null?void 0:H.type)==="link_required"){f(I=>(I.delete("link_success"),I.delete("oauth_success"),I),{replace:!0});for(const I of u.from_server.body.actions)if(I.type==="link_created"){St({eventSource:"url",assistantMessage:m,onRequestCompletion:i,actionData:{type:"link_success",target_message_id:I.link_created.target_message_id},clientThreadId:n});return}}},[c,f,m,n,i,u]);const Ae=l&&Es(l,"2792858552");let ne=Nt.Running,de=Q?qe.running:qe.starting,Ie={domain:Q};if(g===$.Hidden)return null;if(g===$.OauthLogin||g===$.UserConfirmation||g===$.NoAuthLink){ne=Nt.Paused,de=qe.confirmingSimple;const L={gizmoName:(us=y==null?void 0:y.gizmo.display.name)!=null?us:"ChatGPT",domain:Q};Ie=st(fe({},L),{title:G=>s.jsxs("div",{className:"inline-flex items-center gap-1 text-sm",children:[G,s.jsx(Er,{className:"icon-sm"})]}),subtitle:G=>s.jsx("div",{className:"text-xs",children:G})})}else g===$.Finished?(ne=Nt.Finished,de=qe.finished,Ie={domain:Q}):g===$.Error?(ne=Nt.Error,de=qe.error):g===$.Stopped||g===$.Denied?(ne=Nt.Stopped,de=g===$.Denied?qe.declined:qe.stopped):g===$.Allowed&&(ne=Nt.Stopped,de=qe.allowed);const we=((It=u==null?void 0:u.from_server)==null?void 0:It.type)!=="denied_by_user"?(Rt=u==null?void 0:u.from_server)==null?void 0:Rt.body.actions.map((L,G)=>s.jsx(Yn,{clientThreadId:n,messages:t,onRequestCompletion:i,action:L,domain:Q,handleUserAction:St,rememberAnswer:A},G)):null;let Xe=null;((lt=m.metadata)!=null&&lt.tool_invoking_message||(Z=m.metadata)!=null&&Z.tool_invoked_message||(dt=(ct=m.metadata)==null?void 0:ct.chatgpt_sdk)!=null&&dt.tool_invoking_message||(Lt=(ut=m.metadata)==null?void 0:ut.chatgpt_sdk)!=null&&Lt.tool_invoked_message)&&(Xe={[$.Running]:(Pt=($t=(Ot=(mt=m.metadata)==null?void 0:mt.chatgpt_sdk)==null?void 0:Ot.tool_invoking_message)!=null?$t:(ft=m.metadata)==null?void 0:ft.tool_invoking_message)!=null?Pt:void 0,[$.Finished]:(ht=(Bt=(Dt=(pt=m.metadata)==null?void 0:pt.chatgpt_sdk)==null?void 0:Dt.tool_invoked_message)!=null?Bt:(gt=m.metadata)==null?void 0:gt.tool_invoked_message)!=null?ht:void 0,[$.Stopped]:(_t=(He=(ms=(Ft=m.metadata)==null?void 0:Ft.chatgpt_sdk)==null?void 0:ms.tool_invoked_message)!=null?He:(xt=m.metadata)==null?void 0:xt.tool_invoked_message)!=null?_t:void 0});const pe=wr(T,de,Ie,d,g,Xe);if(B.calledKakoMCP&&!B.displayedWidget||kr(d)&&!o&&!ve)return null;const he=qn(t,o),We=$i(t,o),je=Pi(t),ze=(yt=he==null?void 0:he[ho])!=null?yt:[],Pe=(!ks(t)||ve)&&(!!he||!!je||ze.length>0)&&(R==null?void 0:R.functionName)!=="list_resources"&&g!==$.Running,Ce=Jn(t,o),X=Hn(t,o),me=ks(t)&&g!==$.Denied&&!ve;let ue=s.jsx(s.Fragment,{});const Ne=Di(t,o);if(fr.includes(Ne)&&(g===$.UserConfirmation||g===$.Finished||g===$.Stopped||g===$.Denied)){const L=g!==$.Finished,G=(g===$.Stopped||g===$.Denied)&&!a,H=(Ee=Cn(u,x))!=null?Ee:Cn(E,void 0),I=H&&typeof H=="object"?Object.fromEntries(Object.entries(H).map(([Re,Ue])=>[Re,String(Ue)])):{},xe=Re=>{var Ue,et,Wt,Vt,Ye,Ut,Qe;((Ue=u==null?void 0:u.from_server)==null?void 0:Ue.type)==="confirm_action"&&((Vt=(Wt=(et=u==null?void 0:u.from_server)==null?void 0:et.body)==null?void 0:Wt.actions)==null?void 0:Vt[0].type)==="allow"&&(St({clientThreadId:n,assistantMessage:m,onRequestCompletion:i,sourceEvent:Re,actionData:st(fe({type:"allow"},(Qe=(Ut=(Ye=u==null?void 0:u.from_server)==null?void 0:Ye.body)==null?void 0:Ut.actions)==null?void 0:Qe[0].allow),{remember_answer:A})}),gi(n,tt=>{tt.scrollToMessageId=n}))};switch(Ne){case"send_email":ue=s.jsx(Gi,{to:I==null?void 0:I.to,cc:I==null?void 0:I.cc,bcc:I==null?void 0:I.bcc,subject:I==null?void 0:I.subject,body:I==null?void 0:I.body,onClick:g===$.UserConfirmation?xe:()=>{},isDraft:L,isCanceled:G});break;default:ue=s.jsx(_r,{functionName:Ne!=null?Ne:"",parameters:I,onClick:g===$.UserConfirmation?xe:()=>{},isDraft:L,isCanceled:G});break}}else(g===$.UserConfirmation||g===$.NoAuthLink||g===$.OauthLogin)&&we&&!We&&(ue=s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[we,((bt=u==null?void 0:u.from_server)==null?void 0:bt.type)==="confirm_action"&&X?s.jsx("div",{className:"flex gap-2 text-sm",children:s.jsx(Mi,{id:"dont-ask-again",label:s.jsx(te,fe({},qe.rememberForThisConversation)),checked:A,onChange:L=>p(L.target.checked)})}):null]})}));return u==null||u.from_server,C?s.jsxs(s.Fragment,{children:[ae&&s.jsx(jn,{highlightedCommand:oe?T.formatMessage(ae,{domain:oe.name}):s.jsx("br",{}),status:Y,showWorkUserSetting:!1}),be&&oe&&s.jsx("div",{className:"mb-2 flex gap-2",children:s.jsx(Vi,{connector:oe,clientThreadId:n,hasWidget:ks(t),onConnect:()=>{var I;const L=Xs(n),G=L?new URL(mi(L),window.location.origin):new URL(window.location.href);G.searchParams.set("oauth_success","true");const H=((I=u==null?void 0:u.from_server)==null?void 0:I.type)==="oauth_required"?"OAUTH":Ae?void 0:"NONE";q({connectorId:oe.id,redirectAfter:G.toString(),referrer:fi.JitPluginMessage,authTypeOverride:H}),yn(oe.id,vn.ConnectorPromptAccept,st(fe({},bn({clientThreadId:L!=null?L:n})),{auth_type_override:H!=null?H:"",supports_mixed_auth:oe.supported_auth.length>1?"true":"false"}))},onProceedWithoutConnecting:L=>{var H,I,xe,Re;const G=(H=u==null?void 0:u.from_server)==null?void 0:H.type;if(G==="oauth_required"||G==="link_required"){for(const Ue of(xe=(I=u==null?void 0:u.from_server)==null?void 0:I.body.actions)!=null?xe:[])if(Ue.type==="deny"){const et=Ue.deny.target_message_id;St({eventSource:Ti(L),assistantMessage:m,onRequestCompletion:i,actionData:{type:"deny",target_message_id:et},clientThreadId:n}),yn(oe.id,vn.ConnectorPromptReject,bn({clientThreadId:b!=null?b:n})),(Re=oe==null?void 0:oe.branding)!=null&&Re.is_discoverable_app&&Wn.safePost("/system_hints/suggestion_cooldown",{requestBody:{system_hint:"connector:".concat(oe.id)}});return}}}})})]}):s.jsxs(s.Fragment,{children:[s.jsx(mr,{debugMessages:_}),!me&&!0&&s.jsx("span",{className:"group/tool-message",children:s.jsx(jn,{highlightedCommand:pe,status:ne,showWorkUserSetting:!1,accessory:re,labelPrefix:V,forceExpanded:g===$.UserConfirmation,children:Pe?(R==null?void 0:R.namespace)==="api_tool"?Ce?null:s.jsx(Qi,{isWrite:g===$.UserConfirmation,functionName:(Je=m.recipient)!=null?Je:Ne,params:he,result:je,toolCallSafetySummary:We,messages:t,clientThreadId:n,jitPluginData:u!=null?u:{},onRequestCompletion:i,rememberForThisConversation:A,conversationOrigin:O}):s.jsx(pr,{privacyPolicyUrl:ke,name:(Ve=m.recipient)!=null?Ve:Ne,params:he,result:je,isPromptingForPermission:ne===Nt.Paused}):null})}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-2 empty:hidden",children:k==null?void 0:k.map(L=>s.jsx(zn,{file:L.name,fileId:L.id,width:"wide",alwaysShowData:!0,showDownloadButton:!0,downloadLink:L.download_url,contextConnectorInfo:pi(L.context_connector_info)},L.id))}),ks(t)&&g!==$.Denied&&s.jsx(lr,{clientThreadId:n,messages:t,isLastMessageInTurn:o,onRequestCompletion:i}),!Ce&&ue]})}const Ur=Object.freeze(Object.defineProperty({__proto__:null,JITPluginMessage:Mr},Symbol.toStringTag,{value:"Module"}));export{so as a,ea as b,fa as g,Ur as i,Vr as t};
//# sourceMappingURL=pe3pcjrh9sz9z5bk.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hm16fnzstqf70eit.js","assets/bubexfvksfr7893o.js","assets/ncw8zw682jinppua.js","assets/root-ookb7xuw.css","assets/lm3g1zm00rp6al39.js","assets/conversation-small-lq38g8zw.css","assets/dgs0l83heankdts0.js","assets/cxce66s7ooa3xwei.js","assets/bnh7zkn4xutjm6i9.js","assets/mbmcx8v24u1ao1ke.js","assets/ia54sddtrl9qa2wj.js","assets/gqlgqhfmjeo7hcnf.js","assets/ADAVisualizationComponent-kv1hz405.css"])))=>i.map(i=>d[i]);
var V=Object.freeze,k=Object.defineProperty;var A=(a,n)=>V(k(a,"raw",{value:V(n||a.slice())}));import{j as t,h as w,_ as O}from"./bubexfvksfr7893o.js";import{aw as F,az as W,cB as D,aW as v,cw as L}from"./ncw8zw682jinppua.js";import{u as N,g as U}from"./gqlgqhfmjeo7hcnf.js";import{c3 as I,cb as P,c0 as m,c1 as B,cc as H}from"./lm3g1zm00rp6al39.js";import{i as J,C as R,g as G,a as K,b as Q}from"./dgs0l83heankdts0.js";const E=W(()=>O(()=>import("./hm16fnzstqf70eit.js").then(a=>a.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(a=>a.default));function as({messages:a,isRequestActive:n,clientThreadId:d}){var y,C,_,M,j;const[l,s]=a,o=I(l),e=(y=s==null?void 0:s.metadata)==null?void 0:y.aggregate_result,h=N(),u=P(),g=s?U(s):[],i=(M=(_=(C=s==null?void 0:s.metadata)==null?void 0:C.aggregate_result)==null?void 0:_.messages.filter(J))!=null?M:[],p=((j=g.filter(r=>r.type==="chart"))!=null?j:[]).length!==i.length,x=u&&!p;let c=m.Running;return(e==null?void 0:e.status)==="success"?c=m.Finished:s!=null&&s.content.content_type!==F.ExecutionOutput||e!=null&&e.status!=="running"?c=m.Error:(o||!n)&&(c=m.Stopped),t.jsxs(t.Fragment,{children:[t.jsx(X,{messages:a,status:c,isRequestActive:n}),x&&g.map((r,S)=>{const{type:T}=r;return T==="chart"&&!h?(r.fallback_to_image=!0,t.jsx(b,{children:t.jsx(E,{clientThreadId:d,visualization:r})},S)):t.jsx(b,{children:t.jsx(E,{clientThreadId:d,visualization:r})},S)}),!x&&s!=null&&t.jsx(R,{message:s})]})}var z;const b=L.div(z||(z=A(["mb-3 max-w-[80%]"])));function X({messages:a,status:n,isRequestActive:d}){var f;const[l,s]=a,o=w(),e=(f=s==null?void 0:s.metadata)==null?void 0:f.aggregate_result,h=I(l),{data:u,isLoading:g}=D(v.ShowExpandedCodeView);let i=o.formatMessage({id:"message.tools.data-analysis.running",defaultMessage:"Analyzing"});if((e==null?void 0:e.status)==="success"?i=o.formatMessage({id:"message.tools.data-analysis.finished",defaultMessage:"Analyzed"}):s!=null&&s.content.content_type!==F.ExecutionOutput||e!=null&&e.status!=="running"?i=o.formatMessage({id:"message.tools.data-analysis.error",defaultMessage:"Analysis errored"}):(h||!d)&&(i=o.formatMessage({id:"message.tools.data-analysis.stopped",defaultMessage:"Analysis paused"})),!g){const p=G(l)!=null;return t.jsx(B,{status:n,highlightedCommand:i,showWorkUserSetting:u!=null?u:!1,hideOnlyIfNotInteractedWith:!0,children:p?t.jsxs("div",{className:"bg-token-main-surface-primary mt-0.5 mb-3 overflow-hidden rounded-b-xl",children:[t.jsx(K,{message:l,FormattedText:H,codeRendererClassName:"rounded-t-md rounded-b-none"}),s!=null&&t.jsx(Q,{message:s})]}):null})}return null}export{as as DataAnalysisMessage};
//# sourceMappingURL=nmtov52so9futqj4.js.map

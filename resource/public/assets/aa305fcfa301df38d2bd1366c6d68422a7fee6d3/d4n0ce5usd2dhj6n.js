import{d as f,r as h,j as e,h as g,M as l}from"./bubexfvksfr7893o.js";import{bO as p,bU as C}from"./lm3g1zm00rp6al39.js";import{u as x,d as i,aC as M,dc as c}from"./ncw8zw682jinppua.js";function b({title:t,memberCount:o,handleDeleteAndClose:n,onClose:s}){"use no forget";const a=g();return e.jsx(M,{testId:"modal-delete-group-chat-confirmation",isOpen:!0,onClose:()=>s(),type:"danger",title:a.formatMessage({id:"GH5Dwv",defaultMessage:"Delete group chat?"}),primaryButton:e.jsx(c.Button,{title:a.formatMessage({id:"mf2uvk",defaultMessage:"Delete"}),color:"danger",onClick:()=>{n()},"data-testid":"delete-group-chat-confirm-button"}),secondaryButton:e.jsx(c.Button,{title:a.formatMessage({id:"QFpPhw",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>s()}),children:o===1?e.jsx(l,{id:"a/tRVb",defaultMessage:"This will delete {title}. Youâ€™ll no longer see the chat history, and no one else will be able to join.",values:{title:e.jsx("span",{className:"font-medium",children:t})}}):e.jsx(l,{id:"0esR03",defaultMessage:"This will delete {title} for all {memberCount} members. You and {memberCountExcludingCurrentUser, plural, one {the other member} other {the other # members}} will no longer see the chat history, and no one else will be able to join.",values:{title:e.jsx("span",{className:"font-medium",children:t}),memberCount:o,memberCountExcludingCurrentUser:o-1}})})}const D=({room:t,onClose:o})=>{"use no forget";const n=x(),s=p(n),a=f(),u=i(()=>t.name$()),d=C()===t.id,r=h.useRef(!1),m=i(()=>t.members$().length);return e.jsx(b,{title:u,memberCount:m,handleDeleteAndClose:async()=>{if(!r.current)try{r.current=!0,await s.deleteRoom$(t.id),d&&a("/"),o()}catch(R){}finally{r.current=!1}},onClose:o})};export{D as CalpicoDeleteChatConfirmationModalContainer};
//# sourceMappingURL=d4n0ce5usd2dhj6n.js.map

import{r as f,j as u}from"./bubexfvksfr7893o.js";import{O as l,V as m,aC as g}from"./ncw8zw682jinppua.js";import{h,b2 as v}from"./lm3g1zm00rp6al39.js";function w(e,s){const t=l(e);return t?{id:"tmp",kind:"message_slice",messages:s.map(i=>{var o;const n=m.findNode(t,({message:a})=>a.id===i);return(o=n==null?void 0:n.message)!=null?o:null}).filter(Boolean)}:null}function d(e){return{id:"tmp",kind:"message_slice",messages:[e.previewMessage]}}function M({clientThreadId:e,coverImageUrl:s,messageSliceIds:t,odysseyShareIntent:r,onClose:i}){f.useEffect(()=>{if(!t||t.length===0)return;const o=l(e);t.filter(p=>!m.findNode(o,({message:c})=>c.id===p)).length>0&&h(e)},[e,t]);const n=f.useMemo(()=>r?d(r):s||!t||t.length===0?null:w(e,t),[s,e,t,r]);return n?u.jsx(g,{testId:"modal-mobile-post-preview",isOpen:!0,onClose:i,type:"success",size:"custom",position:"top",noPadding:!0,contentClassName:"w-full",children:u.jsx("div",{className:"aspect-[4/3] w-full",children:u.jsx(v,{attachments:[n],clientThreadId:e,className:"h-full"})})}):null}export{M as MobilePostPreview};
//# sourceMappingURL=k6yn3au0i45wwn1u.js.map

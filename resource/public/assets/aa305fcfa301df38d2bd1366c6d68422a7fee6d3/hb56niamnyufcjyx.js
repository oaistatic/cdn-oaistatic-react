import{j as r,r as l,h as g}from"./bubexfvksfr7893o.js";import{bO as h,x}from"./lm3g1zm00rp6al39.js";import{d as C,u as M,aC as y,dc as c}from"./ncw8zw682jinppua.js";function m(a){const e=a.trim();return e.length===0||e.length>32?null:e}function b({roomId:a,currentName:e,onClose:n}){"use no forget";const d=M(),p=h(d),o=l.useRef(!1),s=g(),[u,f]=l.useState(e),i=async()=>{if(o.current)return;const t=m(u);if(t!=null){if(t===e){n();return}try{o.current=!0,await p.editRoom$(a,{name:t}),n()}catch(j){}finally{o.current=!1}}};return r.jsx(y,{testId:"modal-rename-group-chat",isOpen:!0,onClose:()=>n(),type:"success",title:s.formatMessage({id:"izJ4jn",defaultMessage:"Rename group chat"}),primaryButton:r.jsx(c.Button,{title:s.formatMessage({id:"C6dvh5",defaultMessage:"Rename"}),color:"primary",disabled:m(u)==null,onClick:()=>{i()},"data-testid":"rename-group-chat-confirm-button"}),secondaryButton:r.jsx(c.Button,{title:s.formatMessage({id:"zsdTf3",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>n()}),children:r.jsx("form",{onSubmit:t=>{t.preventDefault(),i()},children:r.jsx(x,{ariaLabel:s.formatMessage({id:"2DMQRd",defaultMessage:"Group chat name"}),className:"my-1 px-3 py-2",inputClassName:"bg-token-bg-primary!",name:"group-chat-name",type:"text",value:u,placeholder:e,autoComplete:"off","data-1p-ignore":!0,onChange:t=>{f(t.currentTarget.value)}})})})}const S=({room:a,onClose:e})=>{"use no forget";const n=C(()=>a.name$());return r.jsx(b,{roomId:a.id,currentName:n,onClose:e})};export{S as CalpicoRenameChatModalContainer};
//# sourceMappingURL=hb56niamnyufcjyx.js.map

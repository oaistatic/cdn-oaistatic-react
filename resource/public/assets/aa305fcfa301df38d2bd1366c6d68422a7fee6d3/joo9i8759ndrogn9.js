const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ncw8zw682jinppua.js","assets/bubexfvksfr7893o.js","assets/root-ookb7xuw.css","assets/l2abfcr2z9ymq1hi.js","assets/m5mcutn5uufk1mu2.js","assets/opmmdmsjtdw3umtw.js","assets/lm3g1zm00rp6al39.js","assets/conversation-small-lq38g8zw.css"])))=>i.map(i=>d[i]);
var Ve=Object.defineProperty,Ke=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var _e=(t,e,i)=>e in t?Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,h=(t,e)=>{for(var i in e||(e={}))Ze.call(e,i)&&_e(t,i,e[i]);if(be)for(var i of be(e))Xe.call(e,i)&&_e(t,i,e[i]);return t},B=(t,e)=>Ke(t,Qe(e));import{j as s,r as O,c as Re,M as y,_ as oe,h as Ae,e as De,b as Je,a as fe,R as et}from"./bubexfvksfr7893o.js";import{rR as qe,u as ce,J as ge,cz as I,az as ae,rS as tt,aA as ie,hK as st,dR as nt,aB as se,rT as ot,R as at,rU as it,q9 as Be,e7 as Oe,rV as rt,rW as xe,dX as E,_ as U,jF as lt,jG as ct,I as dt,D as ut}from"./ncw8zw682jinppua.js";import{b as F}from"./mstl8wgfzorpgdoe.js";import{mQ as mt,de as gt,bq as Pe,dA as Me,h4 as ft,mR as xt,mS as ht}from"./lm3g1zm00rp6al39.js";import{s as Ge}from"./fth7uuh3sodzalk8.js";import{C as Ie}from"./c0ls495fz2t1hbyy.js";import{u as Fe}from"./n8w61inav9kre7iu.js";const Ue=t=>{const e=[],i=/\[([^\]]+)\]\(([^)]+)\)/g;let o=0,a;for(;(a=i.exec(t))!==null;){a.index>o&&e.push(t.slice(o,a.index));const[l,u,r]=a;e.push(s.jsx("a",{href:r,target:"_blank",rel:"noreferrer",className:"underline",children:u},"".concat(r,"-").concat(a.index))),o=a.index+l.length}return o<t.length&&e.push(t.slice(o)),e.length===0?t:e.length===1?e[0]:e},We=({blurbs:t})=>{var e;return s.jsx("div",{className:"border-token-border-default rounded-2xl border px-4 py-2",children:Array.from({length:(e=t==null?void 0:t.length)!=null?e:3}).map((i,o)=>{const a=t==null?void 0:t[o];return s.jsx("div",{className:"border-token-border-default flex gap-4 border-b py-2 last-of-type:border-none",children:a?s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"pb-0.5 text-sm font-medium",children:a.title}),s.jsx("div",{className:"text-token-text-secondary text-xs",children:Ue(a.description)})]}):s.jsx(qe,{lines:2})},"".concat(o))})})},pt=({blurbs:t})=>{var e;return s.jsx("div",{className:"flex flex-col gap-2",children:Array.from({length:(e=t==null?void 0:t.length)!=null?e:3}).map((i,o)=>{const a=t==null?void 0:t[o];return s.jsx(O.Fragment,{children:a?s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"text-token-text-secondary text-sm font-medium",children:a.title}),s.jsx("div",{className:"text-token-text-tertiary text-xs",children:Ue(a.description)})]}):s.jsx(qe,{lines:2})},"".concat(o))})})};function yt(t){try{const e=new DOMParser().parseFromString(t,"image/svg+xml"),i=new Set(["fill","stroke","stop-color","flood-color","lighting-color","color","background-color"]),o=[/#(?:[0-9a-fA-F]{3,8})\b/g,/\brgba?\(\s*[\d.\s%,]+\)/g,/\bhsla?\(\s*[\d.\s%,]+\)/g],a=/\b(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|black|white|bisque|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|whitesmoke|yellow|yellowgreen)\b/gi,l=new Set,u=n=>{var c,g;for(const f of o)((c=n.match(f))!=null?c:[]).forEach(j=>{var d;return l.add((d=Ne(j))!=null?d:"")});((g=n.match(a))!=null?g:[]).forEach(f=>{var j;return l.add((j=Ne(f.toLowerCase()))!=null?j:"")})};e.querySelectorAll("*").forEach(n=>{var c,g;for(const f of n.getAttributeNames())i.has(f)&&u((c=n.getAttribute(f))!=null?c:""),f==="style"&&u((g=n.getAttribute("style"))!=null?g:"")}),e.querySelectorAll("style").forEach(n=>u(n.textContent||"")),e.querySelectorAll("stop").forEach(n=>{const c=n.getAttribute("stop-color");c&&u(c);const g=n.getAttribute("style");g&&u(g)});for(const n of Array.from(l))/^url\(#/.test(n)&&l.delete(n),(n==="#000000"||n==="#ffffff")&&l.delete(n),n===""&&l.delete(n),n||l.delete(n);return Array.from(l)}catch(e){return[]}}const jt=t=>yt(t).filter(i=>{const o=F.parse(i),a=F.getBlue(o),l=F.getGreen(o),u=F.getRed(o);return a!==l||l!==u});var P=(t=>(t[t.YELLOW=0]="YELLOW",t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=3]="BLUE",t))(P||{});const vt=t=>jt(t).reduce((o,a)=>{const l=F.parse(a),u=F.getBlue(l),r=F.getGreen(l),n=F.getRed(l);o.push({channel:3,score:u},{channel:2,score:r},{channel:1,score:n});const c=kt(n,r,u);return c>0&&o.push({channel:0,score:c}),o},[]).reduce((o,a)=>a.score>o.score||a.score===o.score&&a.channel<o.channel?a:o,{channel:3,score:0}).channel,kt=(t,e,i)=>{const o=Math.min(t,e),l=Math.max(t,e)-o;if(o<120||l>80||i>o*.6)return 0;const u=(t+e)/2,r=Math.max(o-i,0),n=u+r;return n>0?n:0};function Ne(t){const e=t.replace("#","").toLowerCase();return e.length===3||e.length===4?"#".concat(e[0]).concat(e[0]).concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]):e.length===6||e.length===8?"#".concat(e.slice(0,6)):null}const bt=ae(()=>oe(()=>import("./ncw8zw682jinppua.js").then(t=>t.yq),__vite__mapDeps([0,1,2])),{loading:t=>ie(t)}),_t={[P.RED]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-red.jpg",[P.GREEN]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-green.jpg",[P.BLUE]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-blue.jpg",[P.YELLOW]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-yellow.jpg"},Mt="https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg.jpg",Nt={[P.RED]:"light",[P.GREEN]:"light",[P.BLUE]:"dark",[P.YELLOW]:"light"},ze=t=>{"use forget";var pe,ye,je,ve,ke;const e=Re.c(62),{blurbs:i,primaryActions:o,connector:a,onClose:l}=t,u=ce(),r=ge(u,"3641170085"),n=ge(u,"3764093839"),c=(pe=a.logo_url)!=null?pe:null,g=(ye=a.logo_url_dark)!=null?ye:null;let f;e[0]!==c||e[1]!==g?(f={lightLogoUrl:c,darkLogoUrl:g},e[0]=c,e[1]=g,e[2]=f):f=e[2];const j=mt(f);(je=j.data)==null||je.text;const d=vt((ke=(ve=j.data)==null?void 0:ve.text)!=null?ke:""),p="flex flex-col",m=r?Nt[d]:"dark";let x;e[3]!==m?(x=I("overflow-hidden bg-cover bg-no-repeat",m),e[3]=m,e[4]=x):x=e[4];const _="url(".concat(r?_t[d]:Mt,")");let k;e[5]!==_?(k={backgroundImage:_},e[5]=_,e[6]=k):k=e[6];let b;e[7]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(bt,{className:"icon"}),e[7]=b):b=e[7];let L;e[8]!==l?(L=s.jsx("div",{className:"flex justify-end p-2",children:s.jsx(gt,{className:"text-white",onClick:l,children:b})}),e[8]=l,e[9]=L):L=e[9];const D=n?"md:gap-4 md:px-12":"";let N;e[10]!==D?(N=I("flex w-full flex-row",D),e[10]=D,e[11]=N):N=e[11];const M=n?"items-center md:items-start md:justify-center":"items-center";let w;e[12]!==M?(w=I("flex flex-auto flex-col gap-4",M),e[12]=M,e[13]=w):w=e[13];const S=n?"small":"medium";let v;e[14]!==a||e[15]!==S?(v=s.jsx(Pe,{connector:a,className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",size:S}),e[14]=a,e[15]=S,e[16]=v):v=e[16];let T;e[17]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("div",{className:"my-auto h-8 w-px bg-white opacity-70"}),e[17]=T):T=e[17];const R=n?"small":"medium";let A;e[18]!==R?(A=s.jsx(tt,{size:R}),e[18]=R,e[19]=A):A=e[19];let q;e[20]!==v||e[21]!==A?(q=s.jsxs("div",{className:"flex items-center gap-3.5",children:[v,T,A]}),e[20]=v,e[21]=A,e[22]=q):q=e[22];const ne=n?"max-md:px-5 md:items-start":"items-center text-center";let z;e[23]!==ne?(z=I("flex flex-col gap-2 text-balance",ne),e[23]=ne,e[24]=z):z=e[24];const de=n?"text-2xl md:text-xl":"text-2xl";let $;e[25]!==de?($=I("text-token-text-primary text-center font-medium",de),e[25]=de,e[26]=$):$=e[26];let H;e[27]!==a.name?(H=s.jsx(y,{id:"Ihrgq0",defaultMessage:"Use {connectorName} in ChatGPT",values:{connectorName:a.name}}),e[27]=a.name,e[28]=H):H=e[28];let Y;e[29]!==$||e[30]!==H?(Y=s.jsx("span",{className:$,children:H}),e[29]=$,e[30]=H,e[31]=Y):Y=e[31];const ue=a.description&&s.jsx("span",{className:I("text-token-text-secondary text-center text-sm",n&&"md:hidden"),children:a.description});let V;e[32]!==z||e[33]!==Y||e[34]!==ue?(V=s.jsxs("div",{className:z,children:[Y,ue]}),e[32]=z,e[33]=Y,e[34]=ue,e[35]=V):V=e[35];const me=n?"flex-col items-center md:items-start":"flex-row items-center";let K;e[36]!==me?(K=I("flex justify-center gap-4 pt-4 pb-10",me),e[36]=me,e[37]=K):K=e[37];let Q;e[38]!==o||e[39]!==K?(Q=s.jsx("div",{className:K,children:o}),e[38]=o,e[39]=K,e[40]=Q):Q=e[40];let Z;e[41]!==w||e[42]!==q||e[43]!==V||e[44]!==Q?(Z=s.jsxs("div",{className:w,children:[q,V,Q]}),e[41]=w,e[42]=q,e[43]=V,e[44]=Q,e[45]=Z):Z=e[45];let X;e[46]!==n?(X=n&&s.jsx("div",{className:"flex flex-col max-md:hidden",children:s.jsx("div",{className:"shadow-long h-full min-h-68 w-56 overflow-hidden rounded-ss-2xl rounded-se-2xl bg-white",children:s.jsx("div",{className:"h-full w-full bg-white bg-cover bg-top bg-no-repeat"})})}),e[46]=n,e[47]=X):X=e[47];let J;e[48]!==N||e[49]!==Z||e[50]!==X?(J=s.jsxs("div",{className:N,children:[Z,X]}),e[48]=N,e[49]=Z,e[50]=X,e[51]=J):J=e[51];let ee;e[52]!==L||e[53]!==J||e[54]!==x||e[55]!==k?(ee=s.jsxs("div",{className:x,style:k,children:[L,J]}),e[52]=L,e[53]=J,e[54]=x,e[55]=k,e[56]=ee):ee=e[56];let te;e[57]!==i?(te=s.jsx("div",{className:"border-token-border-primary border-t p-4",children:s.jsx(pt,{blurbs:i})}),e[57]=i,e[58]=te):te=e[58];let le;return e[59]!==ee||e[60]!==te?(le=s.jsxs("div",{className:p,children:[ee,te]}),e[59]=ee,e[60]=te,e[61]=le):le=e[61],le},wt=t=>{"use forget";const e=Re.c(44),{value:i,onChange:o,onClose:a,isSaveDisabled:l}=t,u=l===void 0?!1:l,[r,n]=O.useState(i),c=Ae();let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("div",{className:"text-2xl font-semibold",children:s.jsx(y,h({},G.advancedSettingsTitle))}),e[0]=g):g=e[0];let f;e[1]!==a?(f=s.jsxs("div",{className:"flex items-start justify-between",children:[g,s.jsx(nt,{onClick:a})]}),e[1]=a,e[2]=f):f=e[2];let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx("div",{className:"mt-6 mb-2 text-sm font-medium",children:s.jsx(y,h({},G.connectionType))}),e[3]=j):j=e[3];const d=r?"sync":"ondemand";let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=ne=>n(ne==="sync"),e[4]=p):p=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx("div",{className:"text-sm font-medium",children:s.jsx(y,h({},G.syncTitle))}),e[5]=m):m=e[5];let x;e[6]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsxs("div",{className:"flex flex-col gap-1",children:[m,s.jsx("div",{className:"text-token-text-secondary text-xs",children:s.jsx(y,B(h({},G.syncDescription),{values:{link:Ct}}))})]}),e[6]=x):x=e[6];let _;e[7]!==r?(_=s.jsxs("label",{className:"flex items-start justify-between gap-3 p-4",children:[x,s.jsx(Me,{value:"sync",children:s.jsx(we,{selected:r})})]}),e[7]=r,e[8]=_):_=e[8];let k;e[9]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{className:"text-sm font-medium",children:s.jsx(y,h({},G.onDemandTitle))}),e[9]=k):k=e[9];let b;e[10]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsxs("div",{className:"flex flex-col gap-1",children:[k,s.jsx("div",{className:"text-token-text-secondary text-xs",children:s.jsx(y,h({},G.onDemandDescription))})]}),e[10]=b):b=e[10];const L=!r;let D;e[11]!==L?(D=s.jsxs("label",{className:"border-token-border-default flex items-start justify-between gap-3 border-t p-4",children:[b,s.jsx(Me,{value:"ondemand",children:s.jsx(we,{selected:L})})]}),e[11]=L,e[12]=D):D=e[12];let N;e[13]!==D||e[14]!==d||e[15]!==_?(N=s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"border-token-border-default overflow-hidden rounded-xl border",children:s.jsxs(ft.Root,{value:d,onValueChange:p,className:"flex w-full flex-col",children:[_,D]})})}),e[13]=D,e[14]=d,e[15]=_,e[16]=N):N=e[16];let M;e[17]!==r||e[18]!==a||e[19]!==i?(M=()=>{r!==i&&n(i),a()},e[17]=r,e[18]=a,e[19]=i,e[20]=M):M=e[20];let w;e[21]!==c?(w=c.formatMessage(G.cancel),e[21]=c,e[22]=w):w=e[22];let S;e[23]!==M||e[24]!==w?(S=s.jsx(se,{color:"secondary",onClick:M,children:w}),e[23]=M,e[24]=w,e[25]=S):S=e[25];let v;e[26]!==r||e[27]!==o||e[28]!==a||e[29]!==i?(v=()=>{i!==r&&o(r),a()},e[26]=r,e[27]=o,e[28]=a,e[29]=i,e[30]=v):v=e[30];let T;e[31]!==c?(T=c.formatMessage(G.save),e[31]=c,e[32]=T):T=e[32];let R;e[33]!==u||e[34]!==v||e[35]!==T?(R=s.jsx(se,{onClick:v,disabled:u,children:T}),e[33]=u,e[34]=v,e[35]=T,e[36]=R):R=e[36];let A;e[37]!==S||e[38]!==R?(A=s.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4",children:[S,R]}),e[37]=S,e[38]=R,e[39]=A):A=e[39];let q;return e[40]!==N||e[41]!==A||e[42]!==f?(q=s.jsxs("div",{className:"flex flex-1 flex-col p-2",children:[f,j,N,A]}),e[40]=N,e[41]=A,e[42]=f,e[43]=q):q=e[43],q},we=({selected:t})=>t?s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-gray-950 p-0.5 dark:bg-white",children:s.jsx("div",{className:"h-2 w-2 rounded-full bg-white dark:bg-gray-950"})}):s.jsx("button",{className:"border-token-border-default h-5 w-5 rounded-full border"}),G=De({advancedSettingsLink:{id:"qAio8L",defaultMessage:"Advanced settings"},advancedSettingsTitle:{id:"W24xFG",defaultMessage:"Advanced settings"},connectionType:{id:"GpZZmq",defaultMessage:"Connection type"},syncTitle:{id:"3kK9K9",defaultMessage:"Sync"},syncDescription:{id:"a0q+Sp",defaultMessage:"Automatically syncs, indexes, and stores content to ChatGPT for improved response speed and quality. <link>Learn more</link>"},onDemandTitle:{id:"JSo4N3",defaultMessage:"On demand"},onDemandDescription:{id:"5PZSBI",defaultMessage:"Access content on demand. Responses will take longer and may be lower quality"},cancel:{id:"qz9XeG",defaultMessage:"Cancel"},save:{id:"LXZUd1",defaultMessage:"Save changes"}});function Ct(t){return s.jsx(st,{href:Ie,className:"underline",children:t})}const $e=O.createContext(null),Lt=async(t,e)=>await at.safeGet("/aip/connectors/{connector_id}/tos",{parameters:{path:{connector_id:t}},additionalHeaders:e?{[it]:e}:void 0}),He=(t,e,{enabled:i=!0}={})=>Je({queryKey:ot(t,e),queryFn:()=>{if(!t)throw new Error("connectorId is required to fetch connector TOS");return Lt(t,e)},staleTime:300*1e3,enabled:i&&!!t}),Tt=({connectorId:t,productSku:e,children:i,enabled:o=!0})=>{const a=He(t,e,{enabled:o}),l=O.useMemo(()=>({query:a}),[a]);return s.jsx($e.Provider,{value:l,children:i})},Et=()=>{const t=O.useContext($e);if(!t)throw new Error("useRedirectTos must be used within a RedirectTosProvider");return t.query},St=ae(()=>oe(()=>import("./l2abfcr2z9ymq1hi.js"),__vite__mapDeps([3,1])),{loading:t=>ie(t)}),Rt=ae(()=>oe(()=>import("./m5mcutn5uufk1mu2.js"),__vite__mapDeps([4,1])),{loading:t=>ie(t)}),At=ae(()=>oe(()=>import("./opmmdmsjtdw3umtw.js"),__vite__mapDeps([5,1])),{loading:t=>ie(t)}),Ce=ae(()=>oe(()=>import("./lm3g1zm00rp6al39.js").then(t=>t.zD),__vite__mapDeps([6,1,0,2,7])),{loading:t=>ie(t)}),Dt=(t,e)=>{var i,o;return e?{genericName:(i=e.generic_name)!=null?i:t.name,blurbs:(o=e.blurbs)!=null?o:[]}:null};function he(){const t=fe();return et.useMemo(()=>{var i;const e=t.hash.includes("?")?t.hash.substring(t.hash.indexOf("?")+1):t.search.substring(1);return(i=new URLSearchParams(e).get("referrer"))!=null?i:void 0},[t.hash,t.search])}const W=({loading:t,fitWidth:e=!1,color:i="primary",onClick:o,children:a})=>s.jsx(se,{className:e?"w-fit":"w-full",size:"large",onClick:o,loading:t,color:i,children:a}),Le=({loading:t=!1,disabled:e=!1,fitWidth:i=!1,onClick:o,children:a})=>s.jsx(se,{className:I("text-token-text-secondary border-0",i?"w-fit":"w-full"),size:"large",onClick:o,loading:t,disabled:e,color:"secondary",children:a}),re=({connector:t,tos:e,onClose:i,children:o,beforeBlurbs:a,willSync:l=!1})=>{var n,c;const u=Ae(),r={icon:"folder_stuffed",title:u.formatMessage(C.syncTitle),description:u.formatMessage(C.syncDescription,{connectorName:t.name,link:g=>"[".concat(g,"](").concat(Ie,")")})};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{children:s.jsx(Be,{onClose:i,connectorIcon:s.jsx(Pe,{connector:t,className:"rounded-xl border-[0.5px] p-2 shadow-sm",size:"medium"}),connectorDeveloper:(c=(n=t.branding)==null?void 0:n.developer)!=null?c:void 0,title:s.jsx(y,B(h({},C.addConnectorLinkModalTitle),{values:{connectorName:t.name}}))})}),a,s.jsx(We,{blurbs:l&&e?[r,...e.blurbs]:e==null?void 0:e.blurbs}),o]})},Te=({connector:t,tos:e,onClose:i})=>{var l;const o=ce();return Ge(o,t)?s.jsx(ze,{blurbs:(l=e==null?void 0:e.blurbs)!=null?l:null,connector:t,primaryActions:s.jsx(W,{loading:!0,onClick:()=>{}}),onClose:i}):s.jsx(re,{connector:t,tos:e,onClose:i,children:s.jsx(W,{loading:!0,onClick:()=>{}})})},Ee=({connector:t,tos:e,onClose:i,retry:o})=>s.jsx(re,{connector:t,tos:e,onClose:i,children:s.jsx("div",{className:"flex items-center justify-center pt-4",children:s.jsx(se,{onClick:o,size:"large",className:"w-full",children:s.jsx(y,h({},C.errorLoadingStateButton))})})}),Ht=({connectorIcon:t,connectorName:e,connectorId:i,onClose:o,isConnecting:a,onContinue:l,productSku:u})=>{var d,p;const{data:r,isLoading:n,isError:c,refetch:g}=He(i,u),f=(d=r==null?void 0:r.blurbs)!=null?d:[],j=(p=r==null?void 0:r.generic_name)!=null?p:"Google";return s.jsxs(s.Fragment,{children:[s.jsx(Be,{onClose:o,connectorIcon:t,title:s.jsx(y,B(h({},C.addConnectorLinkModalTitle),{values:{connectorName:e}}))}),n?s.jsx("div",{className:"flex items-center justify-center p-4",children:s.jsx(Oe,{})}):c?s.jsx("div",{className:"flex items-center justify-center pt-4",children:s.jsx(se,{onClick:()=>void g(),size:"large",className:"w-full",children:s.jsx(y,h({},C.errorLoadingStateButton))})}):f.length>0?s.jsx(We,{blurbs:f}):null,s.jsx("div",{className:"pt-4",children:s.jsx(W,{loading:a,onClick:l,children:s.jsx(y,B(h({},C.continueButton),{values:{connectorName:j}}))})})]})},Ye=({connector:t,tos:e,onClose:i,isConnecting:o,isConnectingAuthType:a,onContinue:l,showExternalIcon:u,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:n,canSync:c=!1,isRequestingSync:g=!1,setIsRequestingSync:f})=>{const j=ce(),d=j&&ge(j,"2792858552"),p=rt(),m=he(),x=xe(t,p);O.useEffect(()=>{E.logModalShown({connector_id_metadata:E.createIdMetadataFromConnector(t,m!=null?m:"unknown_referrer"),referrer:m!=null?m:"unknown_referrer",mfaState:"not_required",authType:x!=null?x:void 0}),U.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",h({mfa:"not_required",type:t.id},m&&{referrer:m}))},[t,m,x]);const _=v=>{var T,R;lt(t.id,ct.ConnectorLinkContinueClick,{auth_type:(T=b?v:x)!=null?T:""}),E.logModalContinue({connector_id_metadata:E.createIdMetadataFromConnector(t,m!=null?m:"unknown_referrer"),action:"connection",authType:(R=b?v:x)!=null?R:"NONE",referrer:m!=null?m:"unknown_referrer"}),U.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",{action:"connection",type:t.id}),l(v)},{supported_auth:k}=t,b=d&&!p&&k.some(v=>v.type==="OAUTH")&&k.some(v=>v.type==="NONE"),L=n?s.jsx("div",{className:"bg-token-interactive-bg-accent-muted-context rounded-xl p-4 text-center text-sm text-[#0285FF]",children:n}):void 0,[D,N]=O.useState(!1),M=Ge(j,t),w=s.jsxs(s.Fragment,{children:[s.jsx(W,{fitWidth:M,loading:o&&a==="OAUTH",onClick:()=>_("OAUTH"),children:s.jsxs("span",{className:"flex items-center justify-center gap-1",children:[M?s.jsx(y,{id:"emLORe",defaultMessage:"Continue"}):s.jsx(y,B(h({},C.continueButton),{values:{connectorName:t.name}})),u&&s.jsx(Ce,{className:"icon-sm"})]})}),s.jsx(Le,{fitWidth:M,loading:o&&a==="NONE",onClick:()=>_("NONE"),children:s.jsx("span",{className:"flex items-center justify-center gap-1",children:s.jsx(y,h({},C.connectWithoutAccountButton))})})]}),S=s.jsx(W,{fitWidth:M,loading:o,onClick:()=>_(),children:s.jsxs("span",{className:"flex items-center justify-center gap-1",children:[x==="OAUTH"?M?s.jsx(y,{id:"emLORe",defaultMessage:"Continue"}):s.jsx(y,B(h({},C.continueButton),{values:{connectorName:t.name}})):M?s.jsx(y,{id:"yWpEzd",defaultMessage:"Connect"}):s.jsx(y,B(h({},C.connectButton),{values:{connectorName:t.name}})),x==="OAUTH"&&u&&s.jsx(Ce,{className:"icon-sm"})]})});return M?s.jsx(ze,{blurbs:e.blurbs,connector:t,primaryActions:b?w:S,onClose:i}):s.jsx(s.Fragment,{children:D&&f&&!o?s.jsx(wt,{value:g,onChange:f,onClose:()=>N(!1)}):s.jsx(re,{connector:t,tos:e,onClose:i,beforeBlurbs:L,willSync:g,children:s.jsxs("div",{className:"flex flex-col gap-2",children:[r,b?w:S,c&&s.jsx("p",{className:"text-token-text-secondary text-center text-sm font-medium",children:s.jsx(Le,{onClick:()=>N(!0),disabled:o,children:s.jsx(y,{id:"qAio8L",defaultMessage:"Advanced settings"})})})]})})})},qt=({connector:t,tos:e,onClose:i})=>{const o=fe(),[a,l]=O.useState(!1),u=o.hash?o.pathname+o.hash:o.pathname,{setupMfa:r}=Fe({redirectUrl:u}),n=he(),c=xe(t);O.useEffect(()=>{E.logModalShown({connector_id_metadata:E.createIdMetadataFromConnector(t,n!=null?n:"unknown_referrer"),referrer:n!=null?n:"unknown_referrer",mfaState:"required",authType:c!=null?c:void 0}),U.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",h({mfa:"required",type:t.id},n&&{referrer:n}))},[t,n,c]);const g=()=>{l(!0),E.logModalContinue({connector_id_metadata:E.createIdMetadataFromConnector(t,n!=null?n:"unknown_referrer"),referrer:n!=null?n:"unknown_referrer",action:"mfa",authType:c!=null?c:"NONE"}),U.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",h({action:"mfa",type:t.id},n&&{referrer:n})),r()};return s.jsxs(re,{connector:t,tos:e,onClose:i,children:[s.jsx("div",{className:"pt-2"}),s.jsx("div",{className:"border-token-border-default border-t p-4",children:s.jsx("div",{className:"text-token-text-primary font-medium",children:s.jsx(y,h({},C.mfaRequiredTitle))})}),s.jsx(W,{loading:a,onClick:g,children:s.jsx(y,h({},C.mfaRequiredButton))})]})},Se={"google-oauth2":{icon:s.jsx(Rt,{}),name:"Google"},windowslive:{icon:s.jsx(St,{}),name:"Microsoft"},apple:{icon:s.jsx(At,{}),name:"Apple"}},Bt=({connector:t,tos:e,onClose:i,isConnecting:o,onContinue:a})=>{var b;const l=ce(),{session:u}=dt(l),r=(b=u==null?void 0:u.user)==null?void 0:b.idp,n=fe(),[c,g]=O.useState(!1),f=n.hash?n.pathname+n.hash:n.pathname,{setupMfa:j}=Fe({redirectUrl:f}),d=he(),p=xe(t);O.useEffect(()=>{E.logModalShown({connector_id_metadata:E.createIdMetadataFromConnector(t,d!=null?d:"unknown_referrer"),referrer:d!=null?d:"unknown_referrer",mfaState:"suggested",authType:p!=null?p:"NONE"}),U.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",h({mfa:"suggested",type:t.id},d&&{referrer:d}))},[t,d,p]);const m=()=>{g(!0),E.logModalContinue({connector_id_metadata:E.createIdMetadataFromConnector(t,d!=null?d:"unknown_referrer"),referrer:d!=null?d:"unknown_referrer",action:"mfa",authType:p!=null?p:"NONE"}),U.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",h({action:"mfa",type:t.id},d&&{referrer:d})),j()},x=()=>{E.logModalContinue({connector_id_metadata:E.createIdMetadataFromConnector(t,d!=null?d:"unknown_referrer"),referrer:d!=null?d:"unknown_referrer",action:"mfa",authType:p!=null?p:"NONE"}),U.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",h({action:"mfa",type:t.id},d&&{referrer:d})),a()};if(!r||!Se[r])return ut.addError("Unknown idp found on suggested mfa requirement",{idp:r}),s.jsx(Ye,{connector:t,onClose:i,tos:e,isConnecting:o,onContinue:a});const{icon:_,name:k}=Se[r];return s.jsxs(re,{connector:t,tos:e,onClose:i,children:[s.jsxs("div",{className:"border-token-border-default flex items-center gap-4 rounded-xl border p-4 text-sm",children:[s.jsx("div",{className:"text-token-text-primary",children:_}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-token-text-primary font-medium",children:s.jsx(y,B(h({},C.socialLoginTitle),{values:{socialProvider:k}}))}),s.jsx("div",{className:"text-token-text-secondary",children:s.jsx(y,B(h({},C.socialLoginDescription),{values:{socialProvider:k,link:L=>s.jsx("button",{onClick:m,className:"underline",children:s.jsxs("span",{className:"flex items-center gap-2",children:[L,c&&s.jsx(Oe,{className:"h-4 w-4"})]})})}}))})]})]}),s.jsx("div",{className:"pt-6",children:s.jsx(W,{loading:o,onClick:x,children:s.jsx(y,B(h({},C.continueButton),{values:{connectorName:t.name}}))})})]})},Ot=({connector:t,onClose:e,isConnecting:i,isConnectingAuthType:o,onContinue:a,showExternalIcon:l,additionalContent:u,additionalMessageThatDoesNotContainLegalClaims:r,canSync:n,isRequestingSync:c,setIsRequestingSync:g})=>{const{data:f,isLoading:j,isError:d,refetch:p}=Et(),m=Dt(t,f),{status:x,retry:_}=xt(t.id),{status:k,retry:b}=ht({enabled:x==="required"||x==="suggested"});return j?s.jsx(Te,{connector:t,tos:m,onClose:e}):d||!m?s.jsx(Ee,{connector:t,tos:m,onClose:e,retry:()=>{p(),b(),_()}}):k==="loading"||x==="loading"?s.jsx(Te,{connector:t,tos:m,onClose:e}):k==="enabled"||x==="not_required"?s.jsx(Ye,{connector:t,tos:m,onClose:e,isConnecting:i,isConnectingAuthType:o,onContinue:a,showExternalIcon:l,additionalContent:u,additionalMessageThatDoesNotContainLegalClaims:r,canSync:n,isRequestingSync:c,setIsRequestingSync:g}):x==="required"?s.jsx(qt,{connector:t,tos:m,onClose:e}):x==="suggested"?s.jsx(Bt,{connector:t,tos:m,onClose:e,isConnecting:i,onContinue:a}):s.jsx(Ee,{connector:t,tos:m,onClose:e,retry:()=>{b(),_(),p()}})},Yt=({connector:t,onClose:e,isConnecting:i,isConnectingAuthType:o,onContinue:a,showExternalIcon:l,productSku:u,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:n,canSync:c,isRequestingSync:g,setIsRequestingSync:f})=>s.jsx(Tt,{connectorId:t.id,productSku:u,children:s.jsx(Ot,{connector:t,onClose:e,isConnecting:i,isConnectingAuthType:o,onContinue:a,showExternalIcon:l,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:n,canSync:c,isRequestingSync:g,setIsRequestingSync:f})}),C=De({addConnectorLinkModalTitle:{id:"addConnectorLinkModal.title",defaultMessage:"Connect {connectorName}"},permissionsTitle:{id:"addConnectorLinkModal.permissionsTitle",defaultMessage:"Permissions always respected"},permissionsDescription:{id:"addConnectorLinkModal.permissionsDescription",defaultMessage:"ChatGPT is strictly limited to permissions you've explicitly set."},inControlTitle:{id:"addConnectorLinkModal.inControlTitle",defaultMessage:"You're in control"},inControlDescription:{id:"addConnectorLinkModal.inControlDescription",defaultMessage:"ChatGPT always respects your training data preferences."},noTrainTitle:{id:"addConnectorLinkModal.noTrainTitle",defaultMessage:"How ChatGPT uses data"},noTrainDescription:{id:"addConnectorLinkModal.noTrainDescription",defaultMessage:"Data accessed from this connector is not used to train our models."},neverTrainTitle:{id:"addConnectorLinkModal.neverTrainTitle",defaultMessage:"How ChatGPT uses data"},neverTrainDescription:{id:"addConnectorLinkModal.neverTrainDescription",defaultMessage:"Your data is never used for training."},risksTitle:{id:"addConnectorLinkModal.risksTitle",defaultMessage:"Connectors may introduce risk"},risksDescription:{id:"addConnectorLinkModal.risksDescription",defaultMessage:"Connectors are designed to respect your privacy, but sites may attempt to steal your data. <link>Learn more on how to stay safe</link>"},syncTitle:{id:"addConnectorLinkModal.syncTitle",defaultMessage:"Continuous sync"},syncDescription:{id:"addConnectorLinkModal.syncDescription",defaultMessage:"Your {connectorName} content is indexed, stored, and kept up to date in ChatGPT. <link>Learn more</link>"},redirectTitle:{id:"addConnectorLinkModal.redirectTitle",defaultMessage:"This page will redirect to {connectorName}"},redirectDescription:{id:"addConnectorLinkModal.redirectDescription",defaultMessage:"You'll sign in and confirm permissions on {connectorName}'s page."},googlePrivacyTitle:{id:"addConnectorLinkModal.googlePrivacyTitle",defaultMessage:"Private and secure"},googlePrivacyDescription:{id:"addConnectorLinkModal.googlePrivacyDescription",defaultMessage:"Data accessed from {connectorName} may be used to reply to prompts. We do not train generalized models on this data or derivations of it, unless you choose to submit it as feedback. <link>Learn more</link>"},googleControlTitle:{id:"addConnectorLinkModal.googleControlTitle",defaultMessage:"You're in control of your data"},googleControlDescription:{id:"addConnectorLinkModal.googleControlDescription",defaultMessage:"You can delete your conversations, which will also delete any {connectorName} data used in those conversations. <link>Learn more</link>"},connectButton:{id:"addConnectorLinkModal.connectButton",defaultMessage:"Connect {connectorName}"},connectWithoutAccountButton:{id:"addConnectorLinkModal.connectWithoutAccountButton",defaultMessage:"Continue without account"},continueButton:{id:"addConnectorLinkModal.continueButton",defaultMessage:"Continue to {connectorName}"},socialLoginTitle:{id:"addConnectorLinkModal.socialLoginTitle",defaultMessage:"You use {socialProvider} to authenticate"},socialLoginDescription:{id:"addConnectorLinkModal.socialLoginDescription",defaultMessage:"For added security, enable Multi-factor authentication (MFA) on your {socialProvider} account or <link>your ChatGPT account.</link>"},mfaRequiredTitle:{id:"addConnectorLinkModal.mfaRequiredTitle",defaultMessage:"Multi-factor authentication (MFA) required"},mfaRequiredButton:{id:"addConnectorLinkModal.mfaRequiredButton",defaultMessage:"Turn on MFA to continue"},errorLoadingStateButton:{id:"addConnectorLinkModal.errorLoadingStateButton",defaultMessage:"Failed to load connector settings, please retry"}});export{Ht as GoogleRedirectContent,Ye as MainRedirectContent,Ot as MainRedirectContentWrapper,Yt as RedirectContent};
//# sourceMappingURL=joo9i8759ndrogn9.js.map

import{j as s,h as M,r as d,M as o}from"./bubexfvksfr7893o.js";import{bO as b,bP as I}from"./lm3g1zm00rp6al39.js";import{u as T,d as g,aC as S,iG as R,gI as G,dc as f}from"./ncw8zw682jinppua.js";function P({room:e,onClose:a}){"use no forget";const h=T(),x=b(h),n=M(),r=d.useRef(!1),m=g(()=>e.assistantPersonality$()),p=g(()=>{var t;return(t=e.shouldAutoRespond$())!=null?t:!1}),[u,y]=d.useState(m),[i,C]=d.useState(p),l=u.trim()!==m.trim(),c=i!==p,j=async()=>{if(r.current||!l&&!c)return;const t={};l&&(t.assistant_personality=u.trim()),c&&(t.should_auto_respond=i);try{r.current=!0,await x.editRoom$(e.id,t),a()}catch(v){}finally{r.current=!1}};return s.jsxs(S,{testId:"modal-customize-chatgpt",isOpen:!0,size:"large",onClose:()=>a(),type:"success",title:n.formatMessage({id:"xos1sT",defaultMessage:"Customize ChatGPT"}),primaryButton:s.jsx(f.Button,{title:n.formatMessage({id:"bm1R3R",defaultMessage:"Save"}),color:"primary",disabled:!l&&!c,onClick:()=>{j()}}),secondaryButton:s.jsx(f.Button,{title:n.formatMessage({id:"381CHU",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>a()}),children:[s.jsxs("section",{children:[s.jsx("div",{className:"mb-2 text-sm",children:s.jsx(o,{id:"dI0Q2P",defaultMessage:"Custom instructions"})}),s.jsx(I,{disabled:!1,name:"calpico-chatgpt-custom-instructions",onSubmit:()=>{},value:u,placeholder:n.formatMessage({id:"f/OrU+",defaultMessage:"Get tailored responses by adding details about your group, such as goals, preferences, or inside jokes."}),size:"sm",onChange:t=>{y(t.currentTarget.value)},textareaClassName:"bg-token-bg-primary!",rows:5})]}),s.jsx("div",{className:"my-5 flex items-center",children:s.jsxs("div",{className:"w-full",children:[s.jsx(R,{label:s.jsx("span",{className:"text-sm",children:s.jsx(o,{id:"y3+N21",defaultMessage:"Respond automatically"})}),enabled:i,onChange:t=>{C(t)}}),s.jsx(G,{children:i?s.jsx(o,{id:"JoYva6",defaultMessage:"ChatGPT will respond to new messages automatically."}):s.jsx(o,{id:"lh9j/1",defaultMessage:"ChatGPT will respond only when you or someone else mentions it."})})]})}),s.jsx("p",{className:"text-token-text-tertiary my-1 text-xs text-pretty",children:s.jsx(o,{id:"yCQMUO",defaultMessage:"Group chat custom instructions are separate from custom instructions for your personal ChatGPT. Your personal ChatGPT memory is never used in group chats."})})]})}const A=({room:e,onClose:a})=>{"use no forget";return s.jsx(P,{room:e,onClose:a})};export{A as CalpicoCustomizeChatGPTModalContainer};
//# sourceMappingURL=fxq0cwt37b3o4eca.js.map

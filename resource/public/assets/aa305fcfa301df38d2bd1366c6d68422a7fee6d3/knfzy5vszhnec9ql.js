const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gcz4idmglz4mpipa.js","assets/bubexfvksfr7893o.js","assets/d0fvtivu8wtjjx2a.js","assets/okzsq1aji2s9p1ex.js","assets/i9nsqs70ntdej3pg.js"])))=>i.map(i=>d[i]);
import{e as B,h as E,j as e,M as b,_ as c}from"./bubexfvksfr7893o.js";import{u as L,al as S,dS as l,cz as N,aB as _,az as d,d$ as R,aA as p}from"./ncw8zw682jinppua.js";import{J as r,K as o}from"./lm3g1zm00rp6al39.js";const j=d(()=>c(()=>import("./gcz4idmglz4mpipa.js"),__vite__mapDeps([0,1])),{loading:i=>p(i)}),z=d(()=>c(()=>import("./d0fvtivu8wtjjx2a.js"),__vite__mapDeps([2,1])),{loading:i=>p(i)}),U=d(()=>c(()=>import("./okzsq1aji2s9p1ex.js"),__vite__mapDeps([3,1])),{loading:i=>p(i)}),V=d(()=>c(()=>import("./i9nsqs70ntdej3pg.js"),__vite__mapDeps([4,1])),{loading:i=>p(i)});function F({inputRef:i,isLoading:n,shareUrl:m,sharedObject:s,shareTextPlaceholder:C,title:g,isCopySuccessful:k,isCreateLinkRequestInProgress:h,didPublishUpdates:P,isPublishedVersionLatest:v,handleUpdateLatestSharedVersion:y,handlePrivacyChange:D,handlePrimaryButtonClick:A,maybeRenderWarndingContent:x}){const t=E(),T=L(),u=S(T),I=u==null?void 0:u.isWorkspaceAccount(),M=g?e.jsx(b,{id:"mxstAC",defaultMessage:"Share {title}",values:{title:"'".concat(g,"'")}}):e.jsx(b,{id:"dm0aoB",defaultMessage:"Share"});return s!=null&&s.isModerationBlocked?e.jsx("div",{className:"w-[max(95vw,300px)] sm:w-[460px]",children:e.jsx("div",{className:"overflow-hidden rounded-[22px] shadow-[0_4px_24px_-5px_rgba(0,0,0,0.2)]",children:e.jsxs("div",{className:"bg-token-main-surface-primary flex flex-col gap-4 border-b border-black/10 pt-5 *:px-5 dark:border-white/10",children:[e.jsx("div",{className:"text-lg font-semibold",children:M}),e.jsx("div",{className:"pb-6",children:e.jsx("div",{className:"text-md border-token-surface-error/5 bg-token-surface-error/5 text-token-text-error rounded-lg border px-4 py-2",children:t.formatMessage(a.moderationBlocked)})})]})})}):e.jsx(l.div,{initial:{opacity:0,scale:.75},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.75},style:{transformOrigin:"top right"},transition:{type:"spring",bounce:.2,duration:.32},className:"w-[max(95vw,300px)] sm:w-[460px]",children:e.jsx("div",{className:"overflow-hidden rounded-[22px] shadow-[0_4px_24px_-5px_rgba(0,0,0,0.2)]",children:e.jsxs("div",{className:"bg-token-main-surface-primary flex flex-col gap-4 border-b border-black/10 p-6 dark:border-white/10",children:[e.jsx("div",{className:"line-clamp-1 text-lg font-medium",children:M}),e.jsx("div",{children:e.jsxs("div",{className:"border-token-border-default text-token-text-secondary flex items-center justify-between rounded-full border",children:[e.jsxs("div",{className:"relative grow",children:[e.jsx("input",{ref:i,type:"text",readOnly:!0,onPointerDown:w=>{w.currentTarget.select(),w.preventDefault()},value:m,placeholder:C,className:N("text-md w-full rounded-xl border-0 bg-transparent py-2 ps-4 pe-0 focus:ring-0 focus:outline-hidden",s?"text-token-text-secondary":"text-token-text-tertiary")}),e.jsx("div",{className:"from-token-main-surface-primary pointer-events-none absolute end-0 top-0 bottom-0 w-6 bg-linear-to-l"})]}),e.jsx(_,{icon:s?null:U,disabled:k,loading:n||h,onClick:A,size:"medium",className:N("absolute inset-0 m-1 font-semibold transition-opacity duration-300",n?"pointer-events-none opacity-0":"opacity-100"),children:k?t.formatMessage(a.copied):s?t.formatMessage(a.copyLink):h?t.formatMessage(a.creatingLink):n?null:t.formatMessage(a.createLink)})]})}),x==null?void 0:x(),s&&e.jsx(r.Root,{value:s.access,onValueChange:D,children:e.jsxs("div",{className:"items-start",children:[e.jsx(r.Trigger,{asChild:!0,className:"text-md text-token-text-secondary hover:bg-token-bg-primary dark:hover:bg-token-bg-primary flex h-auto w-full items-center justify-between p-0",children:e.jsxs("div",{className:"flex w-full items-start justify-between gap-2",children:[e.jsx("div",{className:"text-token-text-secondary flex flex-col items-start text-sm",children:(()=>{switch(s==null?void 0:s.access){case o.PUBLIC:return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:t.formatMessage(a.publicDescription)}),e.jsx("span",{children:t.formatMessage(a.conversationPrivateDescription)})]});case o.PRIVATE:return e.jsx("span",{children:t.formatMessage(a.privateDescription)});case o.WORKSPACE:return e.jsx("span",{children:t.formatMessage(a.workspaceDescription)});case void 0:return null}})()}),e.jsxs("button",{className:"text-token-text-primary hover:bg-token-main-surface-tertiary dark:hover:bg-token-main-surface-secondary flex items-center gap-1 rounded-lg py-1.5 ps-3 pe-2 text-sm font-semibold",children:[(()=>{switch(s==null?void 0:s.access){case o.PUBLIC:return e.jsx(j,{className:"icon-xs me-1"});case o.PRIVATE:return e.jsx(z,{className:"icon-xs me-1"});case o.WORKSPACE:return e.jsx(j,{className:"icon-xs me-1"});case void 0:return null}})(),t.formatMessage((s==null?void 0:s.access)===o.WORKSPACE?a.workspace:(s==null?void 0:s.access)===o.PUBLIC?a.public:a.private),e.jsx("span",{className:"text-token-text-tertiary",children:e.jsx(r.Icon,{})})]})]})}),e.jsx(r.Portal,{children:e.jsxs(r.Content,{className:"min-w-[var(--radix-select-trigger-width)]",position:"popper",sideOffset:-50,children:[I?e.jsx(f,{access:o.WORKSPACE,title:t.formatMessage(a.workspace),description:t.formatMessage(a.workspaceDescription)}):e.jsx(f,{access:o.PUBLIC,title:t.formatMessage(a.public),description:t.formatMessage(a.publicDescription)}),e.jsx(f,{access:o.PRIVATE,title:t.formatMessage(a.private),description:t.formatMessage(a.privateDescription)})]})})]})}),e.jsx(R,{mode:"wait",children:s&&y&&(!v||P)&&e.jsx("div",{className:"border-token-border-default border-t-token-border-xlight bg-token-main-surface-secondary text-token-text-secondary -mx-6 -mb-6 flex items-center justify-between gap-4 border-t px-[22px] py-4 text-sm",children:v?e.jsxs(e.Fragment,{children:[e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"spring",bounce:.2,duration:.32},children:t.formatMessage(a.publishedChanges)}),e.jsx(l.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:.2,duration:.32},children:e.jsx(V,{className:"icon-lg my-2 me-2 shrink-0 opacity-50"})})]}):e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"spring",bounce:.2,duration:.32},className:"flex w-full items-center justify-between gap-4",children:[t.formatMessage(a.unsharedChanges),e.jsx(_,{color:"secondary",size:"medium",className:"me-1 px-4",onClick:()=>y(s.id),children:t.formatMessage(a.publish)})]})})})]})})})}function f({access:i,title:n,description:m}){return e.jsx(r.Item,{iconClassName:"icon-lg",value:i,children:e.jsx("div",{className:"flex w-full items-start justify-between gap-2",children:e.jsxs("div",{className:"text-md flex flex-col items-start",children:[e.jsx("span",{className:"text-md text-token-text-primary",children:n}),e.jsx("span",{className:"text-token-text-secondary text-sm",children:m})]})})})}const a=B({share:{id:"Tne3oh",defaultMessage:"Share"},createLink:{id:"Ns/mpl",defaultMessage:"Create link"},copyLink:{id:"dHmHBn",defaultMessage:"Copy link"},creatingLink:{id:"hHh4kJ",defaultMessage:"Creating ..."},copied:{id:"zMndTF",defaultMessage:"Copied"},workspace:{id:"XuBl8l",defaultMessage:"Workspace"},public:{id:"i4Czrk",defaultMessage:"Public"},private:{id:"WZUwOD",defaultMessage:"Private"},privateDescription:{id:"hBkTCk",defaultMessage:"Only you can view."},publicDescription:{id:"k38+6+",defaultMessage:"Anyone with the link can view."},workspaceDescription:{id:"RRaxxv",defaultMessage:"Members of your workspace can view."},conversationPrivateDescription:{id:"dP5iAS",defaultMessage:"Your chat messages will not be shared."},failedToCopyLink:{id:"ChbUTM",defaultMessage:"Failed to copy link to clipboard."},publish:{id:"MT1/Gm",defaultMessage:"Update"},unsharedChanges:{id:"X9C94W",defaultMessage:"Your latest changes arenâ€™t included."},publishedChanges:{id:"+VCnlg",defaultMessage:"The shared canvas is up to date."},moderationBlocked:{id:"UbWyx9",defaultMessage:"This shared link has been blocked by moderation"},workspaceSharingDisabled:{id:"+HZ/LH",defaultMessage:"Sharing has been disabled for this workspace. Contact your admin to enable."}});export{F as B,a as s};
//# sourceMappingURL=knfzy5vszhnec9ql.js.map

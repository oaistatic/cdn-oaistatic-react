import{c as O,h as R,r as k,j as i}from"./bubexfvksfr7893o.js";import{i as _,P as B}from"./njj37gw3f93ovc26.js";import{dc as W,aC as q}from"./ncw8zw682jinppua.js";import{u as v}from"./pae25sf49s4jjbfo.js";import{g as z}from"./lbhb969lk2p04ra5.js";import"./hdkg0cys1b7b4f0v.js";import"./lm3g1zm00rp6al39.js";import"./ia54sddtrl9qa2wj.js";import"./gggvcj5scm81g6wy.js";import"./b3zmi7k0e1dvao0m.js";import"./ekj7v0hd90m9gfgd.js";import"./hzasobp3hhjtq47p.js";import"./knfzy5vszhnec9ql.js";import"./kl7c6054usfnqmd4.js";import"./k97n0y6ba9c9h39c.js";import"./m7df4jwt169q6ixf.js";import"./ce744tj9mbyjpxk9.js";import"./o5k1tu95390082c1.js";import"./n4o6myks52v56x0h.js";import"./hbafdd864xefk46q.js";import"./boj7ctg8ggfk4dia.js";import"./dafjbmsuxh1m33um.js";import"./nbm98bu0q3774lnr.js";import"./i9ddjt6oaiw4vo4g.js";import"./dlyg1wsrxb1bdujw.js";import"./hih7y3lf19ezkzqs.js";import"./mutdyd1mse3szbqw.js";import"./m53r6qicunpm4sky.js";import"./c9xt9bv12kye5x44.js";import"./fwn4bwvyx3h4ty5g.js";import"./l1teaxoievyk0rz1.js";import"./iej0cupg2dqkmejt.js";import"./jmpxwrnri5yjvfye.js";import"./mlriv1uls655wdrc.js";import"./bfsxq3x61wm88q0l.js";import"./dqug6hftjhmm0wto.js";import"./ic6ed80tep3dx2dk.js";import"./cb00041tawj438ac.js";import"./bvne52hzx4trm49n.js";import"./me0ap2djy50z6upd.js";import"./6sb0te5xkk0og38q.js";import"./lgjrstdhr8uh290o.js";import"./kfmo3i9aewr7n1rn.js";import"./bigxnci02lyq2i8w.js";import"./hfqw080f7apy6xx1.js";import"./drp7x5ntnuk0iqtu.js";import"./n2u3q2i5341kdx8j.js";import"./odse8tni4w9vfvgl.js";import"./h4jnqd77fz22arvf.js";import"./mcysfy6v18mi457y.js";import"./cimzu82zsgrorurc.js";import"./c3ebvgxcix5v6glh.js";import"./lurtdf45vy313wxa.js";import"./fth7uuh3sodzalk8.js";import"./kpldwkdi6k2a2fdo.js";import"./j51b3b8y7dx543la.js";import"./gy1lpvuoewmzh42c.js";import"./gqlpgmzguho9n5oh.js";import"./h1em0bjkpkjv8ykw.js";import"./kbj1b07s2z6vxqkg.js";import"./hu1bt0oauegdhua6.js";import"./owbget26s04j6ot0.js";import"./o6p9t02t81236kdb.js";import"./b31nd59wtbgjw90y.js";import"./nnnfg3p2im8fkaq0.js";import"./mg42e28yllzkdaxs.js";import"./mf0m4r73wo03szkn.js";import"./n8w61inav9kre7iu.js";import"./hmf9tq54zhr2dacw.js";import"./b5saxx3revwce53b.js";import"./g4swdbr5jmfp7d0n.js";import"./evy28vmenoadahce.js";const A=s=>{if(typeof s!="object"||s===null||typeof s.session_id!="string")return!1;const t=s.factor;return!(typeof t!="object"||t===null||typeof t.id!="string")};function se(s){"use forget";const t=O.c(47),{onClose:m,onOtpRequested:w}=s,e=R(),[o,D]=k.useState(""),[l,I]=k.useState(null),p=v();let N;t[0]!==p||t[1]!==e||t[2]!==m||t[3]!==w||t[4]!==o?(N=async()=>{I(null),p.mutateAsync({factor:"sms",phoneNumber:o}).then(r=>{if(!A(r))throw new Error("Unsupported enrollment response shape");m(),w({phoneNumber:o.trim(),enrollmentSessionId:r.session_id,factorId:r.factor.id})}).catch(r=>{I(e.formatMessage(z(r,!0)))})},t[0]=p,t[1]=e,t[2]=m,t[3]=w,t[4]=o,t[5]=N):N=t[5];const n=N;let a;t[6]!==e?(a=e.formatMessage({id:"qU7XHp",defaultMessage:"Enter your phone number"}),t[6]=e,t[7]=a):a=t[7];let f;t[8]!==a?(f=i.jsx("span",{className:"text-heading-3",children:a}),t[8]=a,t[9]=f):f=t[9];let u;t[10]!==e?(u=e.formatMessage({id:"s65ktO",defaultMessage:"Send code"}),t[10]=e,t[11]=u):u=t[11];let d;t[12]!==p.isPending||t[13]!==o?(d=o.trim().length===0||p.isPending||!_(o),t[12]=p.isPending,t[13]=o,t[14]=d):d=t[14];let c;t[15]!==n||t[16]!==u||t[17]!==d?(c=i.jsx(W.Button,{title:u,color:"primary",disabled:d,onClick:n}),t[15]=n,t[16]=u,t[17]=d,t[18]=c):c=t[18];let h;t[19]!==n?(h=r=>{r.preventDefault(),n()},t[19]=n,t[20]=h):h=t[20];let x;t[21]!==e?(x=e.formatMessage({id:"UzZdQv",defaultMessage:"We’ll text you a code to confirm it’s really you"}),t[21]=e,t[22]=x):x=t[22];let g;t[23]!==x?(g=i.jsx("p",{children:x}),t[23]=x,t[24]=g):g=t[24];let y;t[25]!==e?(y=e.formatMessage({id:"gn7CkF",defaultMessage:"Phone number"}),t[25]=e,t[26]=y):y=t[26];let b;t[27]!==l?(b=r=>{D(r),l&&I(null)},t[27]=l,t[28]=b):b=t[28];let S,j;t[29]===Symbol.for("react.memo_cache_sentinel")?(S=["US","CA"],j={layout:"inline",showDialCodePrefix:!1,rounded:"lg",densePadding:!0,triggerShowOnlyDialCode:!0,fullWidthJustifyDialCode:!1,placeholderTextSize:"sm",dropdownPanelWidthPx:320},t[29]=S,t[30]=j):(S=t[29],j=t[30]);const U=l!=null?l:void 0;let M;t[31]!==o||t[32]!==y||t[33]!==b||t[34]!==U?(M=i.jsx(B,{label:y,value:o,setValue:b,defaultCountry:"US",countries:S,appearance:j,error:U}),t[31]=o,t[32]=y,t[33]=b,t[34]=U,t[35]=M):M=t[35];let P;t[36]!==M||t[37]!==g?(P=i.jsxs("div",{className:"flex flex-col items-start gap-[12px] self-stretch",children:[g,M]}),t[36]=M,t[37]=g,t[38]=P):P=t[38];let C;t[39]!==P||t[40]!==h?(C=i.jsx("form",{onSubmit:h,className:"text-token-text-primary self-stretch text-sm",children:P}),t[39]=P,t[40]=h,t[41]=C):C=t[41];let E;return t[42]!==m||t[43]!==C||t[44]!==f||t[45]!==c?(E=i.jsx(q,{testId:"modal-enter-phone-number",isOpen:!0,onClose:m,type:"success",noPadding:!0,contentClassName:"flex flex-col items-start gap-[24px] p-[24px]",headerClassName:"!px-6 !py-0 !h-[76px] !items-center",showCloseButton:!0,hasSeparator:!0,title:f,primaryButton:c,children:C}),t[42]=m,t[43]=C,t[44]=f,t[45]=c,t[46]=E):E=t[46],E}export{se as EnterPhoneNumberModal};
//# sourceMappingURL=c1p8zzncjkx1amdi.js.map

var q=Object.defineProperty,Q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var F=(a,e,t)=>e in a?q(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,c=(a,e)=>{for(var t in e||(e={}))Z.call(e,t)&&F(a,t,e[t]);if(U)for(var t of U(e))ee.call(e,t)&&F(a,t,e[t]);return a},T=(a,e)=>Q(a,X(e));import{c as te,e as Y,r as I,j as s,M as k}from"./bubexfvksfr7893o.js";import{u as oe,ee as se,Y as ae,os as le,dS as P,aB as R,aS as V,_ as h,a7 as z,e6 as $,oy as ie,d$ as ne,aC as ce}from"./ncw8zw682jinppua.js";import{g as re,L as D,c as G,a as ue}from"./ddx2x56vdgvdclvn.js";import{bI as de,bJ as me,bF as ge}from"./lm3g1zm00rp6al39.js";import"./ic6ed80tep3dx2dk.js";import"./hbafdd864xefk46q.js";import"./drp7x5ntnuk0iqtu.js";import"./mutdyd1mse3szbqw.js";import"./njj37gw3f93ovc26.js";import"./hdkg0cys1b7b4f0v.js";import"./ia54sddtrl9qa2wj.js";const Oe=a=>{"use forget";const e=te.c(38),{onClose:t}=a,l=oe(),K=se();let x;e[0]!==l?(x=de(l,p.signUpCta),e[0]=l,e[1]=x):x=e[1];const O=x,W=K?"center":"bottom",{isOpen:n,onClose:i}=me();let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=ae(),e[2]=b):b=e[2];const r=b,[J,E]=I.useState(!1);let M;e[3]!==l?(M=re(l),e[3]=l,e[4]=M):M=e[4];const _=M;let A,S;e[5]!==n?(A=()=>{if(n){if(r){const f=setTimeout(()=>E(!0),3e3);return()=>clearTimeout(f)}E(!0)}else E(!1)},S=[n,r],e[5]=n,e[6]=A,e[7]=S):(A=e[6],S=e[7]),I.useEffect(A,S);const{accountInfo:v}=ge(),o=!!v&&!!v.user&&_!==D.control;let L,B;e[8]!==o||e[9]!==n?(L=()=>{n&&(h.logEvent("No Auth Welcome Back Modal Shown",{isLogBackFormVisible:o}),z.logEvent("chatgpt_no_auth_welcome_back_modal_shown",null,{isLogBackFormVisible:o.toString()}))},B=[n,o],e[8]=o,e[9]=n,e[10]=L,e[11]=B):(L=e[10],B=e[11]),I.useEffect(L,B);const j=le();if(!J)return null;let N;e[12]!==l||e[13]!==t?(N=f=>{h.logSwitchToGenericLoginOrSignup({location:"No Auth Welcome Back Modal"}),t(),ie(l,f)},e[12]=l,e[13]=t,e[14]=N):N=e[14];const y=N,w=o?" ":null;let u;e[15]!==t||e[16]!==i?(u=()=>{t(),i==null||i()},e[15]=t,e[16]=i,e[17]=u):u=e[17];let d;e[18]!==j||e[19]!==o||e[20]!==_||e[21]!==y?(d=o&&s.jsx(P.div,T(c({},G),{children:s.jsx(ue,{onSwitchToGenericLoginOrSignup:y,isSsoOptionsVisible:_===D.ssoExpanded,title:p.title2.defaultMessage,authorizationParams:j,location:"Log Back In Modal"})}),"log-back"),e[18]=j,e[19]=o,e[20]=_,e[21]=y,e[22]=d):d=e[22];let m;e[23]!==l||e[24]!==o||e[25]!==t||e[26]!==i||e[27]!==O?(m=!o&&s.jsx(P.div,T(c({},G),{children:s.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[s.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:s.jsx(k,c({},r?H.title:p.title))}),s.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:s.jsx(k,c({},r?H.subtitle:p.subtitle))}),s.jsx(R,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"".concat(r?"":"mb-2 sm:mb-3"),"data-testid":"welcome-login-button",onClick:()=>{V(l,{fallbackScreenHint:"login",callback:pe,skipLoginModal:!1})},children:s.jsx(k,c({},p.logInCta))}),!r&&s.jsx(R,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{V(l,{fallbackScreenHint:"signup",callback:fe,skipLoginModal:!1})},children:s.jsx(k,c({},O))}),!r&&s.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:f=>{f.preventDefault(),h.logEvent("No Auth Welcome Modal Stay Logged Out Link Clicked",{location:"No Auth Welcome Back Modal",isLogBackFormVisible:o}),z.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked",null,{isLogBackFormVisible:o.toString()}),t(),i==null||i()},"data-testid":"dismiss-welcome",children:s.jsx(k,c({},p.stayLoggedOutLink))})]})}),"control"),e[23]=l,e[24]=o,e[25]=t,e[26]=i,e[27]=O,e[28]=m):m=e[28];let g;e[29]!==d||e[30]!==m?(g=s.jsxs(ne,{mode:"wait",initial:!1,children:[d,m]}),e[29]=d,e[30]=m,e[31]=g):g=e[31];let C;return e[32]!==o||e[33]!==W||e[34]!==u||e[35]!==g||e[36]!==w?(C=s.jsx(ce,{testId:"modal-no-auth-welcome-back",isOpen:!0,title:w,onClose:u,shouldIgnoreClickOutside:!0,showCloseButton:o,closeButtonClassName:"rounded-full!",headerClassName:"pb-0",type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[388px]",position:W,children:g}),e[32]=o,e[33]=W,e[34]=u,e[35]=g,e[36]=w,e[37]=C):C=e[37],C},p=Y({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"NoAuthWelcomeBackModal.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},title2:{id:"NoAuthWelcomeBackModal.title2",defaultMessage:"Log back in"},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),H=Y({title:{id:"NoAuthWelcomeBackModal.Desktop.title",defaultMessage:"Restoring your session"},subtitle:{id:"NoAuthWelcomeBackModal.Desktop.subtitle",defaultMessage:"Youâ€™ll be logged back in automatically. If not, you can log in below."}});function pe(a){h.logLogInButtonClicked({provider:a,location:"No Auth Welcome Back Modal"},$.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL)}function fe(a){h.logSignUpButtonClicked({provider:a,location:"No Auth Welcome Back Modal"},$.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL)}export{Oe as NoAuthWelcomeBackModal};
//# sourceMappingURL=ez64jdn8rx3tl0g9.js.map

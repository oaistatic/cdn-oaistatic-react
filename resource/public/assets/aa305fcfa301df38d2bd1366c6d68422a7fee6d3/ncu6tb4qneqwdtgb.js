var E=Object.defineProperty,w=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var P=(o,t,e)=>t in o?E(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,h=(o,t)=>{for(var e in t||(t={}))S.call(t,e)&&P(o,e,t[e]);if(f)for(var e of f(t))T.call(t,e)&&P(o,e,t[e]);return o},g=(o,t)=>w(o,x(t));import{y as b,o as k,d as v,ac as L,r as c,ag as F,j as i,e as j}from"./bubexfvksfr7893o.js";import{bg as U,b6 as K}from"./lm3g1zm00rp6al39.js";import{C as A,i as l,a as _}from"./m53r6qicunpm4sky.js";import{cu as N,dU as D,u as I,J as q,e7 as z,aP as G,au as H,kx as J,_ as V}from"./ncw8zw682jinppua.js";import{A as Y}from"./o5k1tu95390082c1.js";import"./c9xt9bv12kye5x44.js";import"./fwn4bwvyx3h4ty5g.js";import"./l1teaxoievyk0rz1.js";import"./iej0cupg2dqkmejt.js";import"./dlyg1wsrxb1bdujw.js";import"./jmpxwrnri5yjvfye.js";import"./boj7ctg8ggfk4dia.js";import"./n4o6myks52v56x0h.js";import"./hbafdd864xefk46q.js";import"./dafjbmsuxh1m33um.js";import"./nbm98bu0q3774lnr.js";import"./i9ddjt6oaiw4vo4g.js";import"./hih7y3lf19ezkzqs.js";import"./mutdyd1mse3szbqw.js";import"./mlriv1uls655wdrc.js";const y={pro:"chatgptpro",plus:"chatgptplusplan"},C={[_.SORA]:"sora_redirect",[_.OPERATOR]:"operator_redirect"};function $(o){l(o)&&(window.location.href=A[o])}const gt=b(function(){const[t]=k(),e=v(),R=N(),{plan:s}=L(),a=t.get("checkout_from"),u=c.useRef(!1),r=D(),p=c.useMemo(()=>r==null?void 0:r.subscriptionAnalyticsParams,[r]),O=I(),n=q(O,"1719651090");if(!s||!(s in y))throw F("/");return c.useEffect(()=>{if(!r||u.current)return;if(u.current=!0,a==="vza493q"){r.hasPaidSubscription()&&r.isPro()?window.location.href=A[a]:n||e("/");return}(async()=>{const m=l(a)&&C[a]?C[a]:"purchase_plan_redirect";try{l(a)&&G.setItem(H.CheckoutFrom,a);const d=await U.getCheckoutLink({plan_name:y[s],billing_details:{currency:J}});V.logEvent("Account Pay: Purchase Plan Redirect",g(h({},p),{plan:s,location:m})),window.location.href=d.url}catch(d){K(e,m)}})()},[e,R,s,a,p,n,r]),i.jsxs(i.Fragment,{children:[r&&a==="vza493q"&&n&&i.jsx(Y,{currentAccount:r,onClose:()=>$(a),subtitle:M.operatorModalSubtitle,title:M.operatorModalTitle}),i.jsx("div",{className:"flex h-full w-full items-center justify-center",children:i.jsx(z,{})})]})}),M=j({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{gt as default};
//# sourceMappingURL=ncu6tb4qneqwdtgb.js.map

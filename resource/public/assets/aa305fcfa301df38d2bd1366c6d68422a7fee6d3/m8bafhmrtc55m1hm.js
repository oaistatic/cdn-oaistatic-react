const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/8yatsd42k1ox8n2w.js","assets/bubexfvksfr7893o.js","assets/hw8bsku1vts8j7n2.js"])))=>i.map(i=>d[i]);
var ie=Object.freeze,de=Object.defineProperty,Me=Object.defineProperties;var Te=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var ae=(t,e,s)=>e in t?de(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,T=(t,e)=>{for(var s in e||(e={}))Le.call(e,s)&&ae(t,s,e[s]);if(ce)for(var s of ce(e))Ee.call(e,s)&&ae(t,s,e[s]);return t},Z=(t,e)=>Me(t,Te(e));var te=(t,e)=>ie(de(t,"raw",{value:ie(e||t.slice())}));import{_ as _e,c as x,j as l,M as k,r as E,e as je,h as Ie,u as De,aj as $e,y as Ae}from"./bubexfvksfr7893o.js";import{az as Ce,aA as ve,u as P,aB as W,cz as U,cw as ye,aW as J,dF as Fe,cA as Oe,i3 as Re,fy as We,ks as Ue,dN as Ye,dY as Ge,hK as Ve,r as ze,nG as He,O as qe,n8 as Be,T as Qe,n as Ze,bT as fe,eY as Je,l as Ke,be as Xe,bS as et,d as ne,$ as tt,a0 as st,J as be,fO as nt,g as ot,kS as lt}from"./ncw8zw682jinppua.js";import{C as rt}from"./matxjx64xjrpxbwa.js";import{a as it}from"./bc00p2ldn9cv9q32.js";import{gZ as F,g0 as ct,jc as at,jT as Se,pS as dt,pT as ft,jV as we,bE as ut,pU as mt,z as L,pV as ke,g as pt,pW as ue,dd as gt,pX as xt,pY as ht,pZ as _t,jU as jt,p_ as me,p$ as Ct,q0 as vt,q1 as yt,q2 as bt}from"./lm3g1zm00rp6al39.js";import{H as se}from"./bigxnci02lyq2i8w.js";import"./ip2dsbq9712r5wna.js";import"./o45zl9yl00508gad.js";import"./mxzk2kf77c8eueuw.js";import"./8ix1du5tuckfsvqq.js";import"./fwn4bwvyx3h4ty5g.js";import"./l1teaxoievyk0rz1.js";import"./nbm98bu0q3774lnr.js";import"./i9ddjt6oaiw4vo4g.js";import"./jro698t78r3v26vt.js";import"./fum95d46v8d5jv8u.js";import"./n2u3q2i5341kdx8j.js";import"./j703u6xl4odnuo39.js";import"./me0ap2djy50z6upd.js";import"./mqabubffkpko61wr.js";import"./lxa5p4s1fgqvzcgw.js";import"./ekj7v0hd90m9gfgd.js";import"./hzasobp3hhjtq47p.js";import"./c929hhheh8pnurrs.js";import"./b3zmi7k0e1dvao0m.js";import"./i0yczuhbjrdxz6ve.js";import"./dpidockywf8envd2.js";import"./fvq06q6sopd9r6rx.js";import"./cyrjh6r9wv2bzsqv.js";const St=Ce(()=>_e(()=>import("./8yatsd42k1ox8n2w.js"),__vite__mapDeps([0,1])),{loading:t=>ve(t)}),Ne=t=>{F(t).logEventWithStatsig("(Web) FYP Personalize Tapped","chatgpt_web_fyp_personalize_tapped")},wt=t=>{"use forget";const e=x.c(6),{onClick:s}=t,n=P();let r;e[0]!==n||e[1]!==s?(r=()=>{s(),Ne(n)},e[0]=n,e[1]=s,e[2]=r):r=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(k,{id:"sZVLRv",defaultMessage:"Curate"}),e[3]=o):o=e[3];let i;return e[4]!==r?(i=l.jsx(W,{icon:St,onClick:r,children:o}),e[4]=r,e[5]=i):i=e[5],i},kt=t=>{"use forget";const e=x.c(6),{onClick:s}=t,n=P();let r;e[0]!==n||e[1]!==s?(r=()=>{s(),Ne(n)},e[0]=n,e[1]=s,e[2]=r):r=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(k,{id:"PYkj8c",defaultMessage:"Curate for tomorrow"}),e[3]=o):o=e[3];let i;return e[4]!==r?(i=l.jsx(W,{onClick:r,size:"large",className:"w-full max-w-80",children:o}),e[4]=r,e[5]=i):i=e[5],i},oe=t=>{"use forget";const e=x.c(7);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={threshold:.8,onlyOnce:!0},e[0]=s):s=e[0];const[n,r]=ct(s);let o,i;e[1]!==n||e[2]!==t?(o=()=>{n&&t()},i=[n,t],e[1]=n,e[2]=t,e[3]=o,e[4]=i):(o=e[3],i=e[4]),E.useEffect(o,i);let c;return e[5]!==r?(c={ref:r},e[5]=r,e[6]=c):c=e[6],c};function le(t){"use forget";const e=x.c(16),{image:s,content:n,actions:r,onClick:o,onImpression:i,className:c}=t,{ref:d}=oe(i!=null?i:Nt);let a;e[0]!==c?(a=U("border-token-border-default flex w-full items-stretch gap-6 rounded-4xl border p-4 shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors","flex-row","max-sm:flex-col",c),e[0]=c,e[1]=a):a=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=U("flex flex-shrink-0 items-center justify-center","h-32 w-32","max-sm:h-full max-sm:w-full"),e[2]=u):u=e[2];let f;e[3]!==s?(f=l.jsx("div",{className:u,children:s}),e[3]=s,e[4]=f):f=e[4];let m;e[5]!==n?(m=l.jsx("div",{className:"flex flex-col gap-1",children:n}),e[5]=n,e[6]=m):m=e[6];let p;e[7]!==r||e[8]!==m?(p=l.jsxs("div",{className:"flex flex-1 flex-col justify-between max-sm:gap-4",children:[m,r]}),e[7]=r,e[8]=m,e[9]=p):p=e[9];let g;return e[10]!==o||e[11]!==d||e[12]!==a||e[13]!==f||e[14]!==p?(g=l.jsxs("div",{ref:d,onClick:o,className:a,children:[f,p]}),e[10]=o,e[11]=d,e[12]=a,e[13]=f,e[14]=p,e[15]=g):g=e[15],g}function Nt(){}const Pt=Ce(()=>_e(()=>import("./hw8bsku1vts8j7n2.js"),__vite__mapDeps([2,1])),{loading:t=>ve(t)}),pe=je({dislikedCardTitle:{id:"pulse.dislikedCardTitle",defaultMessage:"You'll see less like this."},dislikedCardDescription:{id:"pulse.dislikedCardDescription",defaultMessage:"Sorry this didn't hit the mark. Mind sharing a bit more about why you didn't like it? Every bit of feedback helps shape what shows up next."}});var xe;const Mt=ye.div(xe||(xe=te(["border-token-border-default flex w-full items-stretch gap-6 rounded-4xl border p-4 shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors"])));function Tt(t){"use forget";const e=x.c(27),{cardId:s,title:n,description:r,image:o,onClick:i,onImpression:c}=t,{data:d}=at(s),a=(d==null?void 0:d.reaction)==="dislike",u=o==null?void 0:o.url,f=o==null?void 0:o.fallback_url,m=a&&"grayscale";let p;e[0]!==m?(p=U("aspect-square h-full w-full rounded-2xl",m),e[0]=m,e[1]=p):p=e[1];let g;e[2]!==u||e[3]!==f||e[4]!==p?(g=l.jsx(Se,{src:u,fallbackSrc:f,className:p}),e[2]=u,e[3]=f,e[4]=p,e[5]=g):g=e[5];let h;e[6]!==a||e[7]!==n?(h=a?l.jsx(k,T({},pe.dislikedCardTitle)):n,e[6]=a,e[7]=n,e[8]=h):h=e[8];let j;e[9]!==h?(j=l.jsx("div",{className:"text-xl font-medium",children:h}),e[9]=h,e[10]=j):j=e[10];let y;e[11]!==r||e[12]!==a?(y=a?l.jsx(k,T({},pe.dislikedCardDescription)):r,e[11]=r,e[12]=a,e[13]=y):y=e[13];let C;e[14]!==y?(C=l.jsx("div",{children:y}),e[14]=y,e[15]=C):C=e[15];let b;e[16]!==j||e[17]!==C?(b=l.jsx("div",{className:"flex flex-1 flex-col justify-between",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[j,C]})}),e[16]=j,e[17]=C,e[18]=b):b=e[18];let _;e[19]!==s?(_=l.jsx(dt,{cardId:s}),e[19]=s,e[20]=_):_=e[20];let v;return e[21]!==i||e[22]!==c||e[23]!==b||e[24]!==_||e[25]!==g?(v=l.jsx(le,{className:"hover:bg-token-bg-tertiary cursor-pointer",image:g,content:b,actions:_,onClick:i,onImpression:c}),e[21]=i,e[22]=c,e[23]=b,e[24]=_,e[25]=g,e[26]=v):v=e[26],v}function Lt(t){"use forget";const e=x.c(12),{body:s,dateTs:n,className:r}=t;let o;e[0]!==n?(o=new Date(n*1e3).toLocaleDateString(void 0,{month:"long",day:"numeric"}),e[0]=n,e[1]=o):o=e[1];const i=o;let c;e[2]!==r?(c=U("text-token-text-primary text-4xl",r),e[2]=r,e[3]=c):c=e[3];let d;e[4]!==i||e[5]!==c?(d=l.jsx("div",{className:c,children:i}),e[4]=i,e[5]=c,e[6]=d):d=e[6];let a;e[7]!==s?(a=l.jsx(Pe,{children:s}),e[7]=s,e[8]=a):a=e[8];let u;return e[9]!==d||e[10]!==a?(u=l.jsxs(l.Fragment,{children:[d,a]}),e[9]=d,e[10]=a,e[11]=u):u=e[11],u}function Pe(t){"use forget";const e=x.c(10),{children:s,includeDivider:n}=t,r=n===void 0?!1:n;let o;e[0]!==r?(o=r&&l.jsx(re,{}),e[0]=r,e[1]=o):o=e[1];const i=r&&"pt-8";let c;e[2]!==i?(c=U("text-token-text-primary py-2 text-xl font-medium",i),e[2]=i,e[3]=c):c=e[3];let d;e[4]!==s||e[5]!==c?(d=l.jsx("div",{className:c,children:s}),e[4]=s,e[5]=c,e[6]=d):d=e[6];let a;return e[7]!==o||e[8]!==d?(a=l.jsxs(l.Fragment,{children:[o,d]}),e[7]=o,e[8]=d,e[9]=a):a=e[9],a}function Et(t){"use forget";const e=x.c(15),{title:s,suggestions:n,onImpression:r}=t;let o;e[0]!==r?(o=()=>r(),e[0]=r,e[1]=o):o=e[1];const{ref:i}=oe(o);let c;e[2]!==i?(c=l.jsx(re,{ref:i}),e[2]=i,e[3]=c):c=e[3];let d;e[4]!==s?(d=l.jsx("div",{className:"text-token-text-primary text-start text-xl font-medium",children:s}),e[4]=s,e[5]=d):d=e[5];let a;e[6]!==n||e[7]!==s?(a=l.jsx("div",{className:"flex w-full flex-col gap-2",children:l.jsx(ft,{suggestions:n,question:s})}),e[6]=n,e[7]=s,e[8]=a):a=e[8];let u;e[9]!==d||e[10]!==a?(u=l.jsxs("div",{className:"flex flex-col gap-6 pt-6",children:[d,a]}),e[9]=d,e[10]=a,e[11]=u):u=e[11];let f;return e[12]!==c||e[13]!==u?(f=l.jsxs(l.Fragment,{children:[c,u]}),e[12]=c,e[13]=u,e[14]=f):f=e[14],f}function It(t){"use forget";const e=x.c(17),{title:s,body:n,onImpression:r}=t;let o;e[0]!==r?(o=()=>r(),e[0]=r,e[1]=o):o=e[1];const{ref:i}=oe(o),c=P();let d;e[2]!==i?(d=l.jsx(re,{ref:i}),e[2]=i,e[3]=d):d=e[3];let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx("div",{className:"bg-token-text-primary flex h-12 w-12 items-center justify-center rounded-full",children:l.jsx(Pt,{className:"text-token-bg-primary"})}),e[4]=a):a=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx("br",{}),e[5]=u):u=e[5];let f;e[6]!==n||e[7]!==s?(f=l.jsxs("div",{className:"text-token-text-primary text-center text-xl font-medium",children:[s," ",u," ",n]}),e[6]=n,e[7]=s,e[8]=f):f=e[8];let m;e[9]!==c?(m=l.jsx(kt,{onClick:()=>we(c)}),e[9]=c,e[10]=m):m=e[10];let p;e[11]!==f||e[12]!==m?(p=l.jsxs("div",{className:"flex flex-col items-center gap-6 py-8",children:[a,f,m]}),e[11]=f,e[12]=m,e[13]=p):p=e[13];let g;return e[14]!==d||e[15]!==p?(g=l.jsxs(l.Fragment,{children:[d,p]}),e[14]=d,e[15]=p,e[16]=g):g=e[16],g}var he;const re=ye.div(he||(he=te(["border-token-border-medium border-b pb-8"]))),Dt=[J.H17180rGmail,J.H17180rGoogleCalendar],N=je({emailConnectorDescription:{id:"pulse.emailConnectorDescription",defaultMessage:"emails"},calendarConnectorDescription:{id:"pulse.calendarConnectorDescription",defaultMessage:"calendar"},upsellCardTitle:{id:"pulse.upsellCardTitle",defaultMessage:"Get insights from your {connectorDescriptions}"},upsellCardDescription:{id:"pulse.upsellCardDescription",defaultMessage:"Let ChatGPT proactively read {connectorNames} and give you helpful info. {LearnMoreLink}"},connectorsAcceptedText:{id:"pulse.connectorsAcceptedText",defaultMessage:"I'll start showing helpful insights from your {connectorDescriptions} here. You can adjust this anytime in Settings."},connectorsDeclinedText:{id:"pulse.connectorsDeclinedText",defaultMessage:"I won't show anything related to your {connectorDescriptions} here. You can adjust this anytime in Settings."},manageConnectorsCta:{id:"pulse.manageConnectorsCta",defaultMessage:"Manage settings"},connectorsDeclineCta:{id:"pulse.connectorsDeclineCta",defaultMessage:"Don't allow"},connectorsAllowCta:{id:"pulse.connectorsAllowCta",defaultMessage:"Allow"},gmail:{id:"pulse.gmail",defaultMessage:"Gmail"},googleCalendar:{id:"pulse.googleCalendar",defaultMessage:"Google Calendar"}});function $t(t,e){const n=t.map(i=>se[i]).filter(i=>Dt.includes(i)).map(i=>i===J.H17180rGmail?{name:e.formatMessage(N.gmail),description:e.formatMessage(N.emailConnectorDescription)}:i===J.H17180rGoogleCalendar?{name:e.formatMessage(N.googleCalendar),description:e.formatMessage(N.calendarConnectorDescription)}:null).filter(i=>i!=null),r=n.map(i=>i.name),o=n.map(i=>i.description);return{connectorNames:e.formatList(r),connectorDescriptions:e.formatList(o)}}const At=t=>{"use forget";const e=x.c(39),{itemId:s,learnMoreUrl:n,image:r,connectorIds:o,onImpression:i}=t,c=P(),d=Ie();let a;e[0]!==c?(a=Fe(c),e[0]=c,e[1]=a):a=e[1];const{country:u}=a,{openSettings:f}=ut(),{mutate:m,isPending:p}=Oe(!0),{mutate:g}=mt(o,s),[h,j]=E.useState(null);let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y={fetchValidLinksOnly:!0,productSku:Re.CONNECTOR_SETTING},e[2]=y):y=e[2];const{connectorLinks:C,isLoading:b}=We(y);let _;e[3]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[3]=_):_=e[3];const[v,M]=E.useState(_),A=Ue();let I;e[4]!==C?(I=w=>C.has(w),e[4]=C,e[5]=I):I=e[5];const S=I;let Y;e[6]!==m?(Y=w=>{m({setting:se[w],value:!0})},e[6]=m,e[7]=Y):Y=e[7];const D=Y;let G;e[8]!==o||e[9]!==D||e[10]!==S||e[11]!==A?(G=()=>{const w=o.filter(S),O=o.filter($=>!S($));w.forEach($=>D($)),O.forEach($=>{A({referrer:Ge.PulseConnectorsProactiveToggle,connectorId:$,showSettingsBehindConnectorLink:!1,noRedirect:!0}),M(O)}),O.length===0&&j("accepted")},e[8]=o,e[9]=D,e[10]=S,e[11]=A,e[12]=G):G=e[12];const K=G;let V,z;e[13]!==D||e[14]!==S||e[15]!==v?(V=()=>{const w=v.filter(S);if(!w.length)return;w.forEach(D),j("accepted");const O=v.filter($=>!w.includes($));M(O)},z=[v,S,D],e[13]=D,e[14]=S,e[15]=v,e[16]=V,e[17]=z):(V=e[16],z=e[17]),E.useEffect(V,z);let H;e[18]!==o||e[19]!==S||e[20]!==m||e[21]!==g?(H=()=>{o.forEach(w=>{S(w)&&m({setting:se[w],value:!1})}),g(),j("declined")},e[18]=o,e[19]=S,e[20]=m,e[21]=g,e[22]=H):H=e[22];const X=H;let q;e[23]!==o||e[24]!==d?(q=$t(o,d),e[23]=o,e[24]=d,e[25]=q):q=e[25];const{connectorNames:ee,connectorDescriptions:B}=q;let Q;return e[26]!==K||e[27]!==h||e[28]!==B||e[29]!==ee||e[30]!==u||e[31]!==X||e[32]!==r||e[33]!==b||e[34]!==p||e[35]!==n||e[36]!==i||e[37]!==f?(Q=h?l.jsx(Ot,{content:l.jsx(k,Z(T({},h==="accepted"?N.connectorsAcceptedText:N.connectorsDeclinedText),{values:{connectorDescriptions:B}})),onClick:()=>f(Ye.Connectors)}):l.jsx(Ft,{image:r,connectorNames:ee,connectorDescriptions:B,learnMoreUrl:n,declineConnectors:X,acceptConnectors:K,acceptButtonColor:u==="EU"?"ghost":"primary",isLoading:b||p,onImpression:i}),e[26]=K,e[27]=h,e[28]=B,e[29]=ee,e[30]=u,e[31]=X,e[32]=r,e[33]=b,e[34]=p,e[35]=n,e[36]=i,e[37]=f,e[38]=Q):Q=e[38],Q},Ft=t=>{"use forget";const e=x.c(31),{image:s,connectorNames:n,connectorDescriptions:r,learnMoreUrl:o,declineConnectors:i,acceptConnectors:c,acceptButtonColor:d,isLoading:a,onImpression:u}=t;let f;e[0]!==n||e[1]!==s?(f=l.jsx(Se,{alt:n,src:s,fallbackSrc:null,className:"aspect-square h-full w-full rounded-2xl object-cover"}),e[0]=n,e[1]=s,e[2]=f):f=e[2];let m;e[3]!==r?(m=l.jsx("div",{className:"text-xl font-medium",children:l.jsx(k,Z(T({},N.upsellCardTitle),{values:{connectorDescriptions:r}}))}),e[3]=r,e[4]=m):m=e[4];let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(k,{id:"CJ28fH",defaultMessage:"Learn more"}),e[5]=p):p=e[5];let g;e[6]!==o?(g=l.jsx(Ve,{href:o,className:"underline",children:p}),e[6]=o,e[7]=g):g=e[7];let h;e[8]!==n||e[9]!==g?(h=l.jsx("div",{children:l.jsx(k,Z(T({},N.upsellCardDescription),{values:{connectorNames:n,LearnMoreLink:g}}))}),e[8]=n,e[9]=g,e[10]=h):h=e[10];let j;e[11]!==m||e[12]!==h?(j=l.jsxs("div",{className:"flex flex-col gap-1",children:[m,h]}),e[11]=m,e[12]=h,e[13]=j):j=e[13];let y;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx(k,T({},N.connectorsDeclineCta)),e[14]=y):y=e[14];let C;e[15]!==i||e[16]!==a?(C=l.jsx(W,{color:"ghost",className:"border-token-border-light",onClick:i,loading:a,children:y}),e[15]=i,e[16]=a,e[17]=C):C=e[17];let b;e[18]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(k,T({},N.connectorsAllowCta)),e[18]=b):b=e[18];let _;e[19]!==d||e[20]!==c||e[21]!==a?(_=l.jsx(W,{color:d,onClick:c,loading:a,children:b}),e[19]=d,e[20]=c,e[21]=a,e[22]=_):_=e[22];let v;e[23]!==_||e[24]!==C?(v=l.jsxs("div",{className:"flex justify-end gap-2",children:[C,_]}),e[23]=_,e[24]=C,e[25]=v):v=e[25];let M;return e[26]!==u||e[27]!==f||e[28]!==v||e[29]!==j?(M=l.jsx(le,{onImpression:u,image:f,content:j,actions:v}),e[26]=u,e[27]=f,e[28]=v,e[29]=j,e[30]=M):M=e[30],M},Ot=t=>{"use forget";const e=x.c(8),{content:s,onClick:n}=t;let r;e[0]!==s?(r=l.jsx("div",{className:"flex-1 text-sm",children:s}),e[0]=s,e[1]=r):r=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(k,T({},N.manageConnectorsCta)),e[2]=o):o=e[2];let i;e[3]!==n?(i=l.jsx(W,{className:"flex-shrink-0",color:"secondary",onClick:n,children:o}),e[3]=n,e[4]=i):i=e[4];let c;return e[5]!==r||e[6]!==i?(c=l.jsxs(Mt,{className:"justify-between",children:[r,i]}),e[5]=r,e[6]=i,e[7]=c):c=e[7],c};function Rt(){"use forget";const t=x.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx(L,{className:"mb-6 h-12 w-46 rounded-full"}),l.jsx(L,{className:"h-4 w-full max-w-xl rounded-full"}),l.jsx(L,{className:"h-4 w-full max-w-[28rem] rounded-full"})]}),l.jsx(R,{}),l.jsx(R,{withSecondaryAction:!0}),l.jsx(R,{}),l.jsx(R,{}),l.jsx(R,{})]}),t[0]=e):e=t[0],e}function R(t){"use forget";const e=x.c(4),{withSecondaryAction:s}=t,n=s===void 0?!1:s;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(L,{className:"aspect-square h-full w-full rounded-2xl"}),e[0]=r):r=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx(L,{className:"h-6 w-3/4 rounded-lg"}),l.jsx(L,{className:"h-4 w-11/12 rounded-lg"})]}),e[1]=o):o=e[1];let i;return e[2]!==n?(i=l.jsx(le,{image:r,content:o,actions:n?l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx(ge,{}),l.jsx(L,{className:"h-10 w-40 rounded-full"})]}):l.jsx(ge,{})}),e[2]=n,e[3]=i):i=e[3],i}function ge(){"use forget";const t=x.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("div",{className:"flex items-center gap-3",children:Array.from({length:4}).map(Wt)}),t[0]=e):e=t[0],e}function Wt(t,e){return l.jsx(L,{className:"h-6 w-6 rounded-full"},e)}function Ut(t,e){"use forget";var d;const s=x.c(7);let n;if(s[0]!==e||s[1]!==t){const a=(d=t.filter(ke).map(Vt).filter(Gt))!=null?d:[];e&&a.push(e),n=a.filter(Yt),s[0]=e,s[1]=t,s[2]=n}else n=s[2];const r=n,o=De();let i,c;s[3]!==r||s[4]!==o?(i=()=>{r.forEach(a=>{o.prefetchQuery(T({},pt({clientThreadId:a})))})},c=[r,o],s[3]=r,s[4]=o,s[5]=i,s[6]=c):(i=s[5],c=s[6]),E.useEffect(i,c)}function Yt(t){return!ze(t)}function Gt(t){return t!=null}function Vt(t){return t.conversation_id}function zt(t){"use forget";const e=x.c(6),s=P();let n;e[0]!==t?(n=t.filter(ke).filter(Ht),e[0]=t,e[1]=n):n=e[1];const r=n;let o,i;e[2]!==r||e[3]!==s?(o=()=>{r.forEach(c=>{qt(s,c.id)})},i=[r,s],e[2]=r,e[3]=s,e[4]=o,e[5]=i):(o=e[4],i=e[5]),E.useEffect(o,i)}function Ht(t){return t.conversation_id==null}const qt=async(t,e)=>{var o,i;const s=He(t),n=qe(s.id),r=Be(t);n||(Qe.initThread({clientThreadId:s.id,conversationMode:{kind:Ze.PrimaryAssistant},userId:(o=r==null?void 0:r.user)==null?void 0:o.id,accountId:(i=r==null?void 0:r.account)==null?void 0:i.id,disableConversationNavigation:!0,pulseCardId:e}),ue(fe(t),e,s.id)),Je(()=>s.serverId$()!==void 0,()=>{const c=s.serverId$();c&&(Ke(c,d=>(d.disableConversationNavigation=!0,d)),ue(fe(t),e,c))}),await gt({conversation:s,sourceEvent:new Event("pulse-card-stream"),promptMessage:et(""),completionType:Xe.Next,extraStreamParams:{pulseCompletionParams:{type:"card",card_id:e}}})};function Bt(){"use forget";var f,m;const t=x.c(8),e=P();let s;t[0]!==e?(s=()=>ht(e),t[0]=e,t[1]=s):s=t[1];const{data:n,isLoading:r}=ne(s);let o;t[2]!==(n==null?void 0:n.items)?(o=(f=n==null?void 0:n.items)!=null?f:[],t[2]=n==null?void 0:n.items,t[3]=o):o=t[3];const i=o,c=(m=n==null?void 0:n.feedback)==null?void 0:m.feedback_conversation_id,d=c!=null?c:void 0;xt(n==null?void 0:n.id),Ut(i,d),zt(i);let a;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[4]=a):a=t[4],E.useEffect(Qt,a);let u;return t[5]!==r||t[6]!==i?(u=l.jsx("div",{className:"mx-auto flex w-full max-w-3xl grow flex-col gap-6 px-4 py-12 max-sm:px-6",children:r?l.jsx(Rt,{}):l.jsx(Zt,{pulseItems:i})}),t[5]=r,t[6]=i,t[7]=u):u=t[7],u}function Qt(){tt.count(st.PULSE,"chatgpt_web_fyp_feed_shown")}const Zt=t=>{"use forget";const e=x.c(14),{pulseItems:s}=t,n=P(),{trackCardImpression:r}=_t(),{openModal:o}=jt();let i,c;e[0]!==n?(i=()=>{var u;return F(n).logEventWithStatsig("(Web) FYP Feed Shown","chatgpt_web_fyp_feed_shown",{source:(u=me(n))!=null?u:Ct.Url}),()=>{F(n).logEventWithStatsig("(Web) FYP Feed Hidden","chatgpt_web_fyp_feed_hidden"),me.set(n,void 0)}},c=[n],e[0]=n,e[1]=i,e[2]=c):(i=e[1],c=e[2]),E.useEffect(i,c);let d;if(e[3]!==n||e[4]!==o||e[5]!==s||e[6]!==r){let u;e[8]!==n||e[9]!==o||e[10]!==r?(u=(f,m)=>{var p,g,h,j,y,C,b,_,v,M,A,I,S;switch(f.content_type){case"header_with_date":return l.jsx(Lt,{body:f.body,dateTs:(p=f.date)!=null?p:0},m);case"commentary":return l.jsx(Pe,{includeDivider:m>0,children:f.title},m);case"card":return l.jsx(Tt,{cardId:f.id,image:f.image,title:f.title,description:(g=f.preview_markdown_text)!=null?g:"",onImpression:()=>r(f.id),onClick:()=>{f.conversation_id&&o(f.id)}},m);case"footer":return l.jsx(It,{title:(h=f.title)!=null?h:"",body:(j=f.body)!=null?j:"",onImpression:()=>F(n).logEventWithStatsig("(Web) FYP Feed Footer Viewed","chatgpt_web_fyp_feed_footer_viewed")},m);case"survey":return l.jsx(Et,{suggestions:(C=(y=f.survey_config)==null?void 0:y.prompt.suggestions)!=null?C:[],title:(v=(_=(b=f.survey_config)==null?void 0:b.content)==null?void 0:_.title)!=null?v:"",onImpression:()=>F(n).logEventWithStatsig("(Web) FYP Feed Survey Viewed","chatgpt_web_fyp_feed_survey_viewed")},m);case"connector_proactive_toggle":return be(n,"3304830717")&&((M=f.connector_ids)==null?void 0:M.length)>0&&l.jsx(At,{itemId:f.id,learnMoreUrl:(A=f.learn_more_url)!=null?A:"",image:(S=(I=f.connectors_image)==null?void 0:I.url)!=null?S:"",connectorIds:f.connector_ids,onImpression:()=>F(n).logEventWithStatsig("(Web) FYP Proactive Connector Toggle Shown","chatgpt_web_fyp_proactive_connector_toggle_shown",{connector_ids:f.connector_ids})},m);default:return null}},e[8]=n,e[9]=o,e[10]=r,e[11]=u):u=e[11],d=s.map(u),e[3]=n,e[4]=o,e[5]=s,e[6]=r,e[7]=d}else d=e[7];let a;return e[12]!==d?(a=l.jsx(l.Fragment,{children:d}),e[12]=d,e[13]=a):a=e[13],a};function Jt(){"use forget";const t=x.c(15),e=P();let s;t[0]!==e?(s=()=>!vt(e),t[0]=e,t[1]=s):s=t[1];const n=ne(s);let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(it,{hideNewChat:!0}),t[2]=r):r=t[2];let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx("h1",{className:"text-lg font-normal",children:l.jsx(k,{id:"I1hXU9",defaultMessage:"Pulse"})}),t[3]=o):o=t[3];let i;t[4]!==e||t[5]!==n?(i=!n&&l.jsx(wt,{onClick:()=>we(e)}),t[4]=e,t[5]=n,t[6]=i):i=t[6];let c;t[7]!==i?(c=l.jsx("div",{className:"h-header-height sticky top-0 z-10 flex shrink-0 items-center ps-6 pe-3",children:l.jsxs("div",{className:"flex grow items-center gap-2",children:[r,l.jsxs("div",{className:"flex w-full items-center justify-between",children:[o,i]})]})}),t[7]=i,t[8]=c):c=t[8];let d;t[9]!==n?(d=l.jsx(nt,{children:n?l.jsx(yt,{}):l.jsx(Kt,{})}),t[9]=n,t[10]=d):d=t[10];let a;t[11]===Symbol.for("react.memo_cache_sentinel")?(a=!1,t[11]=a):a=t[11];let u;return t[12]!==c||t[13]!==d?(u=l.jsxs("div",{className:"flex min-h-screen flex-col",children:[c,d,a]}),t[12]=c,t[13]=d,t[14]=u):u=t[14],u}function Kt(){"use forget";const t=x.c(4),e=P();let s;t[0]!==e?(s=be(e,"1833324140"),t[0]=e,t[1]=s):s=t[1];const n=s;let r;return t[2]!==n?(r=l.jsx(l.Fragment,{children:l.jsx(Bt,{})}),t[2]=n,t[3]=r):r=t[3],r}function Xt(){"use forget";const t=x.c(4),e=P();let s;t[0]!==e?(s=()=>bt(e),t[0]=e,t[1]=s):s=t[1];const n=ne(s);if(n===void 0)return null;if(!n){let o;return t[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx($e,{to:"/",replace:!0}),t[2]=o):o=t[2],o}let r;return t[3]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(es,{}),t[3]=r):r=t[3],r}function es(){return l.jsx(ts,{children:l.jsx(Jt,{})})}function ts(t){"use forget";const e=x.c(5),{children:s}=t,n=P();let r;e[0]!==n?(r=ot(n,lt),e[0]=n,e[1]=r):r=e[1];let o;return e[2]!==s||e[3]!==r?(o=l.jsx(rt,{conversation:r,threadContent:s}),e[2]=s,e[3]=r,e[4]=o):o=e[4],o}const Es=()=>null,Is=()=>!1,Ds=Ae(function(){return l.jsx(Xt,{})});export{Es as clientLoader,Ds as default,Is as shouldRevalidate};
//# sourceMappingURL=m8bafhmrtc55m1hm.js.map

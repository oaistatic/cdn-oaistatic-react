const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ed431zrbjws1gptf.js","assets/bubexfvksfr7893o.js","assets/es7viyythgveaxr6.js","assets/lm3g1zm00rp6al39.js","assets/conversation-small-lq38g8zw.css","assets/btrwhqtnzjbkk202.js","assets/i9nsqs70ntdej3pg.js","assets/d0gvf7mwynz3ci13.js","assets/ddx2x56vdgvdclvn.js","assets/ic6ed80tep3dx2dk.js","assets/hbafdd864xefk46q.js","assets/drp7x5ntnuk0iqtu.js","assets/mutdyd1mse3szbqw.js","assets/njj37gw3f93ovc26.js","assets/hdkg0cys1b7b4f0v.js","assets/ia54sddtrl9qa2wj.js","assets/f5o1irqfews46q7f.js","assets/dwgk7r4s1fwn35jq.js","assets/njolo99wevvir9n6.js","assets/kkxu8ycyl86d3l3q.js","assets/hih7y3lf19ezkzqs.js","assets/k6mze6dmdufp928k.js","assets/c09b3wnyb7ragkgg.js","assets/ho6r9c28sd358f5b.js","assets/oo4a5cyom9orocbu.js","assets/6kppbcfhmenkpk5e.js","assets/gsyjy3cn2edhhxqr.js","assets/eangdf46283zeknc.js","assets/ff9q8rnvshheb2le.js","assets/kfuq18fnfa4tpk36.js","assets/gl3rapxbeig8umvj.js","assets/gb09ykdmnecx7kqm.js","assets/h5fyoet6k65xpe5v.js","assets/n3mnqs8qkb4827qo.js","assets/lwk021izsqda1ink.js","assets/e78y0x0bsn1pjk21.js","assets/iz7y4yt60huv2j20.js","assets/d3lmw35s8no1rcpb.js","assets/k16xm6jk3odnmnqs.js","assets/mj2brfr01cewzl9a.js","assets/jlsb77lt6kqhcsln.js","assets/htgqwnjx12i16hc6.js","assets/n9uspcjz6oc12tia.js","assets/fsahglpl2wxoakvg.js","assets/cablc6lr74ppvrr3.js","assets/edtxx94txmhqvu0e.js","assets/on6zjr1bjw5z2d08.js","assets/odeqnwkly96z750u.js","assets/l5e2clfxpgm30p9v.js","assets/m2xwf1u8hpj7ku67.js","assets/fnhiupokkmaz6zzq.js","assets/l3abi823pjnrhiuj.js","assets/z73jc6cuiis8j7zw.js","assets/f5goq4s9xgjjvv2f.js","assets/b6wurwufazegul5k.js","assets/kzg5ev41drr4p042.js","assets/km0dhf1mvcjs8kkd.js","assets/oeu7ns9by1ylfahx.js","assets/qr8ktpa6xn24sy7q.js","assets/fenai6dwr8b5i5c6.js","assets/ip633et1a2kaq027.js","assets/impv9cw906sxjwad.js","assets/fdop6k24k03x7mek.js","assets/lp37n48fw7cf8x3c.js","assets/jx5pd8qsxc77tbjo.js","assets/9paxni9f8n7suc5d.js","assets/bfa3wce2s8qrtmda.js","assets/c02liuldac2129ws.js","assets/nh1pnlx0ql3cilt1.js","assets/ojgc3f33xqlpzccg.js","assets/up4p8fwl1sob5zne.js","assets/c5zxee1cdidi3ygt.js","assets/kivvchsexr54fuso.js","assets/m5mcutn5uufk1mu2.js","assets/hahiy9dm7k71twz4.js","assets/joo9i8759ndrogn9.js","assets/mstl8wgfzorpgdoe.js","assets/fth7uuh3sodzalk8.js","assets/c0ls495fz2t1hbyy.js","assets/n8w61inav9kre7iu.js","assets/bktng2ex41ldavy0.js","assets/jaztged0ed1qpm4w.js","assets/mvmwqt2pbedq2unu.js","assets/mp4v4wji3l4bfpxc.js","assets/llkvyyg8wmzr0pic.js","assets/cs13hjllyr5z07le.js","assets/i9crbuggadd1d18l.js","assets/nerwniv8icoyqyjk.js","assets/d44ajf70j3x0ukox.js","assets/e2pao17z9chhaeja.js","assets/jxm76met7627mjx2.js","assets/i5k0afugrdcsuykc.js","assets/lkmczt35o10m07le.js","assets/oxxcjbsxp6geruj7.js","assets/c7qil1xrrvzai08b.js","assets/h1cvjk2t0epef180.js","assets/hclewew689dar074.js","assets/mwp7m3ndwpiwdpf7.js","assets/nmzmp5kdz018tjqk.js","assets/mlll5kvj3qdj7fj8.js","assets/br6ko04bgbuatd54.js","assets/jeaomqbuafptryjs.js","assets/f89umoqrdveizlz7.js","assets/kutccmhbcgdrtvey.js","assets/nq6tg09w6idos054.js","assets/cmff6ny7qwtuxu45.js","assets/lkc3nwe59xkd7c29.js","assets/it6rjx5w2svroddn.js","assets/nevgytedezvd3xx4.js","assets/ienm79cm1bk4lr7x.js","assets/lnixzvkgr8dw42w8.js","assets/kyimc4818d03zzip.js","assets/o1aebe05xijworve.js","assets/o3ymvudit3nvpd56.js","assets/fbcn5tqy8soeyrhn.js","assets/lff8m4b7cwpsgyam.js","assets/g939r1pipss4e4jn.js","assets/it0t7o405zppocuo.js","assets/j51b3b8y7dx543la.js","assets/gy1lpvuoewmzh42c.js","assets/gqlpgmzguho9n5oh.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js","assets/fdpa7j95byzypdty.js","assets/dc2llyeyz16fmcf4.js","assets/g4swdbr5jmfp7d0n.js","assets/ga6j99kn1iju276w.js","assets/pae25sf49s4jjbfo.js","assets/gggvcj5scm81g6wy.js","assets/b3zmi7k0e1dvao0m.js","assets/ekj7v0hd90m9gfgd.js","assets/hzasobp3hhjtq47p.js","assets/knfzy5vszhnec9ql.js","assets/kl7c6054usfnqmd4.js","assets/k97n0y6ba9c9h39c.js","assets/m7df4jwt169q6ixf.js","assets/ce744tj9mbyjpxk9.js","assets/o5k1tu95390082c1.js","assets/n4o6myks52v56x0h.js","assets/boj7ctg8ggfk4dia.js","assets/dafjbmsuxh1m33um.js","assets/nbm98bu0q3774lnr.js","assets/i9ddjt6oaiw4vo4g.js","assets/dlyg1wsrxb1bdujw.js","assets/m53r6qicunpm4sky.js","assets/c9xt9bv12kye5x44.js","assets/fwn4bwvyx3h4ty5g.js","assets/l1teaxoievyk0rz1.js","assets/iej0cupg2dqkmejt.js","assets/jmpxwrnri5yjvfye.js","assets/mlriv1uls655wdrc.js","assets/bfsxq3x61wm88q0l.js","assets/dqug6hftjhmm0wto.js","assets/cb00041tawj438ac.js","assets/bvne52hzx4trm49n.js","assets/me0ap2djy50z6upd.js","assets/6sb0te5xkk0og38q.js","assets/lgjrstdhr8uh290o.js","assets/kfmo3i9aewr7n1rn.js","assets/bigxnci02lyq2i8w.js","assets/hfqw080f7apy6xx1.js","assets/n2u3q2i5341kdx8j.js","assets/odse8tni4w9vfvgl.js","assets/h4jnqd77fz22arvf.js","assets/mcysfy6v18mi457y.js","assets/cimzu82zsgrorurc.js","assets/c3ebvgxcix5v6glh.js","assets/lurtdf45vy313wxa.js","assets/kpldwkdi6k2a2fdo.js","assets/owbget26s04j6ot0.js","assets/o6p9t02t81236kdb.js","assets/b31nd59wtbgjw90y.js","assets/nnnfg3p2im8fkaq0.js","assets/mg42e28yllzkdaxs.js","assets/mf0m4r73wo03szkn.js","assets/hmf9tq54zhr2dacw.js","assets/b5saxx3revwce53b.js","assets/evy28vmenoadahce.js","assets/os2b4ttix21n5tb8.js","assets/b8ubcib4mml7pdx4.js"])))=>i.map(i=>d[i]);
var YN=Object.freeze,KN=Object.defineProperty,nJ=Object.defineProperties;var rJ=Object.getOwnPropertyDescriptors;var $h=Object.getOwnPropertySymbols;var JN=Object.prototype.hasOwnProperty,XN=Object.prototype.propertyIsEnumerable;var wv=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),QN=e=>{throw TypeError(e)};var Av=(e,t,n)=>t in e?KN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))JN.call(t,n)&&Av(e,n,t[n]);if($h)for(var n of $h(t))XN.call(t,n)&&Av(e,n,t[n]);return e},I=(e,t)=>nJ(e,rJ(t));var W=(e,t)=>{var n={};for(var r in e)JN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$h)for(var r of $h(e))t.indexOf(r)<0&&XN.call(e,r)&&(n[r]=e[r]);return n};var U=(e,t,n)=>Av(e,typeof t!="symbol"?t+"":t,n),xv=(e,t,n)=>t.has(e)||QN("Cannot "+n);var fe=(e,t,n)=>(xv(e,t,"read from private field"),n?n.call(e):t.get(e)),Nt=(e,t,n)=>t.has(e)?QN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ut=(e,t,n,r)=>(xv(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Vc=(e,t,n)=>(xv(e,t,"access private method"),n);var Hi=(e,t)=>YN(KN(e,"raw",{value:YN(t||e.slice())}));var ho=function(e,t){this[0]=e,this[1]=t},Hh=(e,t,n)=>{var r=(o,a,c,l)=>{try{var u=n[o](a),d=(a=u.value)instanceof ho,f=u.done;Promise.resolve(d?a[0]:a).then(h=>d?r(o==="return"?o:"next",a[1]?{done:h.done,value:h.value}:h,c,l):c({value:h,done:f})).catch(h=>r("throw",h,c,l))}catch(h){l(h)}},i=o=>s[o]=a=>new Promise((c,l)=>r(o,a,c,l)),s={};return n=n.apply(e,t),s[wv("asyncIterator")]=()=>s,i("next"),i("throw"),i("return"),s};var ZN=(e,t,n)=>(t=e[wv("asyncIterator")])?t.call(e):(e=e[wv("iterator")](),t={},n=(r,i)=>(i=e[r])&&(t[r]=s=>new Promise((o,a,c)=>(s=i.call(e,s),c=s.done,Promise.resolve(s.value).then(l=>o({value:l,done:c}),a)))),n("next"),n("return"),t);import{r as E,c as Y,j as _,B as Nn,C as Jn,D as iJ,Q as sJ,E as bw,R as Et,n as Cw,_ as k,G as oJ,I as aJ,H as lB,v as dr,g as Gt,l as fn,e as Tt,q as bn,h as gt,z as od,u as ln,i as un,A as hl,t as ta,a as zt,M as yt,L as Rg,$ as cJ,o as Tc,J as uB,K as lJ,s as dB,b as Yt,x as Ew,N as uJ,O as dJ,k as fJ,P as hJ,d as Zs,S as Eo,T as fB,U as pJ,V as hB,W as mJ,X as pB,Y as gJ,Z as _J,a0 as mB,a1 as gB,a2 as _B,a3 as vJ,a4 as yJ,y as bJ,a5 as CJ,a6 as EJ,a7 as SJ,a8 as OJ,a9 as TJ,aa as wJ}from"./bubexfvksfr7893o.js";var Ul,ir,Ha,wo;const Fa=class Fa{constructor(){Nt(this,ir);Nt(this,Ha,new Map);Nt(this,wo,[])}static get instance(){return fe(Fa,Ul)||Ut(Fa,Ul,new Fa),fe(Fa,Ul)}setLogger(t){if(fe(this,ir))throw new Error("Logger already set");Ut(this,ir,t);for(const[n,{time:r,onlyLogFirst:i,serialTimingGroup:s}]of fe(this,Ha).entries())i?fe(this,ir).addFirstTiming(n,{time:r,serialTimingGroup:s}):fe(this,ir).addTiming(n,{time:r,serialTimingGroup:s});fe(this,Ha).clear();for(const{error:n,context:r}of fe(this,wo))fe(this,ir).addError(n,r);Ut(this,wo,[])}addTiming(t,{time:n,serialTimingGroup:r}={}){fe(this,ir)?fe(this,ir).addTiming(t,{time:n,serialTimingGroup:r}):fe(this,Ha).set(t,{time:n!=null?n:Date.now(),onlyLogFirst:!1,serialTimingGroup:r})}addFirstTiming(t,{time:n,serialTimingGroup:r}={}){fe(this,ir)?fe(this,ir).addFirstTiming(t,{time:n,serialTimingGroup:r}):fe(this,Ha).set(t,{time:n!=null?n:Date.now(),onlyLogFirst:!0,serialTimingGroup:r})}addError(t,n){fe(this,ir)?fe(this,ir).addError(t,n):(fe(this,wo).push({error:t,context:n}),fe(this,wo).length>10&&(console.warn("LazyLogger: too many errors"),fe(this,wo).shift()))}};Ul=new WeakMap,ir=new WeakMap,Ha=new WeakMap,wo=new WeakMap,Nt(Fa,Ul);let mT=Fa;function Pg(e){return function(n){const r=Symbol(void 0);return i=>{if(!i)throw new Error("Attempted to access scoped value without a ".concat(e,"."));const s=i;if(r in s){const o=s[r];if(o===eR)throw new Error("[".concat(e,"] Dependency cycle during scoped value initialization."));if(o instanceof Error)throw o;return o}try{s[r]=eR;const o=n(i);return s[r]=o,o}catch(o){const a=o instanceof Error?o:new Error("[".concat(e,"] Failed to initialize scoped value: ")+o,{cause:o});throw s[r]=a,a}}}}const ut=Pg("SessionContext");function AJ(){const e=Symbol(void 0);return[r=>{if(!r)throw new Error("[SessionContext] Attempted to access session value without a SessionContext.");const i=r;if(e in i)return i[e];throw new Error("[SessionContext] Attempted to access session value before initialization.")},(r,i)=>{const s=r;if(e in s)throw new Error("[SessionContext] Attempted to initialize session value more than once.");s[e]=i}]}const eR=Symbol();function re(){"use forget";const e=E.useContext(vB);if(!e)throw new Error("[SessionContext] Attempted to access sessionContext outside of <SessionContextProvider>");return e}const vB=E.createContext(void 0);function yB(){return{}}const xJ=e=>{"use forget";const t=Y.c(3),{sessionContext:n,children:r}=e;let i;return t[0]!==r||t[1]!==n?(i=_.jsx(vB.Provider,{value:n,children:r}),t[0]=r,t[1]=n,t[2]=i):i=t[2],i};var IJ=(e=>(e.FreeSearchHoldout="fsh",e.AnonSearchHoldout="ash",e.NoAuthEnableFileUploads="naefu",e.AnonGizmoChatEnabled="agce",e))(IJ||{});const[xt,NJ]=AJ();function RJ(){const e=re();return xt(e)}let PJ=yB();function At(){return PJ}let tR=!1;function kJ(e,t){tR||(tR=!0,NJ(e,t))}function eo(e){const t=new WeakMap;return function(n){if(t.has(n))return t.get(n);{const r=e(n);return t.set(n,r),r}}}function MJ(e){const t=new WeakMap;return function(n,r){let i=t.get(n);if(i||(i=new WeakMap,t.set(n,i)),i.has(r))return i.get(r);{const s=e(n,r);return i.set(r,s),s}}}function es(e){let t;return()=>(t!=null?t:t={value:e()}).value}function Nr(){return navigator.userAgent}function Sw(){return/iPad|iPhone|iPod/.test(Nr())}function Ow(){return/Android/.test(Nr())}function DJ(){return Sw()&&Nr().includes("CriOS")}function lu(){return Sw()||Ow()||DJ()}function nR(){return/^((?!chrome|android).)*safari/i.test(Nr())}function q5e(){return Ow()&&Nr().includes("Chrome")}function LJ(){return Nr().includes("Mac OS X")}function bB(){return Sw()||LJ()}function V5e(){return Nr().includes("Windows_NT")}function $5e(){return Nr().includes("Chrome/")&&!/Android|iPhone|iPad/i.test(Nr())}function H5e(){return Nr().includes("Firefox")}function Tw(){const e=Nr();return/iPad/.test(e)||Ow()&&!/Mobile/.test(e)||/Tablet/.test(e)}const jJ=["; wv","webview","fbav","fb_iab","fban","instagram","line/","kakaotalk","snapchat","tiktok"];function FJ(){const e=Nr(),t=/iPhone|iPad|iPod/.test(e),n=/Android/.test(e),r=t&&!/Safari/.test(e),i=n&&/Version\/\d+\.\d+/.test(e),s=jJ.some(o=>e.toLocaleLowerCase().includes(o));return r||i||s}function UJ(){return lu()&&!Tw()}function CB(){return lu()||Tw()}function ww(){return!CB()}const BJ=/^ChatGPT.+Macintosh;.+ Chrome\/([\d.]+) .*$/;let zh;function fr(){return zh!=null||(zh=GJ(Nr())),zh}function GJ(e){return BJ.test(e)}const WJ=["Fetch is aborted","Load failed","Script error.","Failed to execute 'insertBefore' on 'Node'","ResizeObserver loop completed with undelivered notifications.","Object Not Found Matching Id","Object.hasOwn is not a function"],qJ=100,rR=1e3,Yh=[];function iR(e,t){const n=e.findIndex(r=>r<=t);return n===-1?e.length:n}const VJ=e=>{var i;if((i=e.stack)!=null&&i.includes("-extension://")||e.source==="console"||WJ.some(s=>{var o;return(o=e==null?void 0:e.message)==null?void 0:o.includes(s)})||e.type==="RequestError")return!0;const t=Date.now(),n=t-1e3*60;if(iR(Yh,n)>=qJ)return!0;const r=t-1e3*60*60*24;return iR(Yh,r)>=rR?!0:(Yh.unshift(t),Yh.splice(rR),!1)};function EB(){return location.origin===window.location.origin||!1||!1}function $J(){return fr()?"mini-web":"chatgpt-web"}const Kh=typeof window>"u"?void 0:window.DesktopHostGateway,ot=(Kh==null?void 0:Kh.getVersion())===1?Kh:void 0,kg=ot!==void 0,SB=kg||!1;function z5e(e){if(e===void 0)return;const t=/^ChatGPT\/([\d.]+) \(([^)]+)\) Electron\/([\d.]+) Chrome\/([\d.]+)$/,n=e.match(t);if(n)return n[1]}class Ht extends Error{constructor(n,r,i,s,o){var c,l,u,d;const a=typeof i.error=="string"&&i.error||typeof i.detail=="string"&&i.detail||((c=i.detail)==null?void 0:c.message)||((l=i.detail)==null?void 0:l.description)||((d=(u=i.detail)==null?void 0:u.error)==null?void 0:d.message)||zJ;super(a);U(this,"name","RequestError");U(this,"detail");U(this,"jsonError");this.url=n,this.status=r,this.json=i,this.requestId=s,this.rawError=o,this.detail=i.detail,this.jsonError=i.error,this.rawError=o}static createWithErrorMessage(n,r,i,s,o){return new Ht(n,r==="client"?400:500,{error:i},s,o)}get code(){var n,r,i,s,o,a,c,l,u;return(u=(a=(i=(n=this.detail)==null?void 0:n.code)!=null?i:(r=this.jsonError)==null?void 0:r.code)!=null?a:(o=(s=this.jsonError)==null?void 0:s.error)==null?void 0:o.code)!=null?u:(l=(c=this.detail)==null?void 0:c.error)==null?void 0:l.code}isClientError(){return this.status>=400&&this.status<500}isServerError(){return this.status>=500}}class Dt extends Error{constructor(n,r,i){super(n);U(this,"name","UserFileError");U(this,"code");U(this,"extra");this.code=r,this.extra=i}}const HJ="If this issue persists please contact us through our help center at help.openai.com.",OB="If this issue persists please contact us through our help center at [help.openai.com](https://help.openai.com/).",zJ="Something went wrong. ".concat(HJ),Y5e="Something went wrong while generating the response. ".concat(OB),K5e="A network error occurred. Please check your connection and try again. ".concat(OB),J5e="Network connection lost. Attempting to reconnectâ€¦";function YJ(e){if(e instanceof Ht&&typeof e.message=="string"&&e.message)return e.message}var KJ=(e=>(e.HistoryDisabledConversationNotFound="history_disabled_conversation_not_found",e.ModelCapExceeded="model_cap_exceeded",e.MissingLastCompletion="missing_last_completion",e.InterruptionServerError="interruption_server_error",e))(KJ||{}),JJ=(e=>(e.NetworkErrorWithReconnection="network_error_with_reconnection",e))(JJ||{});function X5e(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Something went wrong")}function XJ(e){return e instanceof Error&&e.name==="AbortError"}function QJ(e){if(typeof navigator<"u"&&!navigator.onLine)return!0;if(e instanceof Error){const t=e.message.toLowerCase();if(t.includes("failed to fetch")||t.includes("networkerror when attempting to fetch resource")||t.includes("network error")||t.includes("load failed")||t.includes("failed to resolve")||t.includes("dns")||/\b(enotfound|eai_again|eaddrinfo|econnrefused|econnreset|etimedout)\b/.test(t))return!0;if(t.includes("something went wrong while generating the response")||t.includes("aborted")||t.includes("no available models")||t.includes("starting a new chat")||t.includes("too many concurrent requests")||t.includes("message you submitted was too long")||t.includes("hit your limit")||t.includes("maximum length")||t.includes("rate limit exceeded")||t.includes("limit of messages")||t.includes("unusual activity")||t.includes("input too large")||t.includes("conversation key not found")||t.includes("authentication token is expired")||t.includes("conversation is stale"))return!1;if(e instanceof TypeError)return!0}return!1}function Q5e(e){return e instanceof Ht?{error_category:"request_error",error_status:e.status,error_code:e.code,error_name:e.name,error_request_id:e.requestId,error_is_client_error:e.isClientError(),error_is_server_error:e.isServerError()}:XJ(e)?{error_category:"abort_error",error_name:e.name}:QJ(e)?{error_category:"network_error",error_name:e instanceof Error?e.name:void 0}:e instanceof Error?{error_category:"unknown_error",error_name:e.name}:e===void 0?{error_category:"none"}:{error_category:"unknown_error",error_name:typeof e}}function sR(...e){try{return new URL(...e)}catch(t){return null}}function wd(e){const t=new URL(e);return t.searchParams.has("q")&&t.searchParams.set("q","<redacted>"),t.toString()}const Jh=(e,t,n={})=>{var i;const r=S({level:e,message:String(t)},n);t instanceof Error&&(r.error=t),r.error instanceof Error&&(r.error=(i=r.error.stack)!=null?i:String(r.error));try{console[e](r)}catch(s){ql.error({level:"error",message:"Error stringifying log object."+(typeof r.message=="string"?" Message: ".concat(r.message):"")})}},ql={info:(...e)=>Jh("info",...e),error:(...e)=>Jh("error",...e),warn:(...e)=>Jh("warn",...e),debug:(...e)=>Jh("debug",...e)};function oR(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function ZJ(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let Iv;function eX(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=ZJ();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(Iv||(Iv={postTask:oR,yield:()=>oR(()=>{})}),Iv)}class tX{constructor(){U(this,"scheduler")}setScheduler(){this.scheduler||(this.scheduler=eX())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const TB=new tX,nX="client-nb0qtYlZuy2tCMN5s5ncnuIBCJncjRViT0IzFm7GqST";let wB="development";wB="production";const rX=wB;var ga={},$c={},Xh={},aR;function iX(){if(aR)return Xh;aR=1,Object.defineProperty(Xh,"__esModule",{value:!0});const e=Nn();let t=class{constructor(r){this._sdkKey=r,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(r,i){var s,o;if(!r)return!1;const a=(0,e._typedJsonParse)(r.data,"has_updates","EvaluationResponse");return a==null?!1:(this._source=r.source,(a==null?void 0:a.has_updates)!==!0||((s=a.time)!==null&&s!==void 0?s:0)<this._lcut||(this._rawValues=r.data,this._lcut=a.time,this._receivedAt=r.receivedAt,this._values=a,this._bootstrapMetadata=this._extractBootstrapMetadata(r.source,a),r.source&&a.user&&this._setWarningState(i,a),e.SDKFlags.setFlags(this._sdkKey,(o=a.sdk_flags)!==null&&o!==void 0?o:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.feature_gates,r)}getConfig(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.dynamic_configs,r)}getConfigList(){var r;return!((r=this._values)===null||r===void 0)&&r.dynamic_configs?Object.values(this._values.dynamic_configs).map(i=>i.name):[]}getLayer(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.layer_configs,r)}getParamStore(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.param_stores,r)}getSource(){return this._source}getExposureMapping(){var r;return(r=this._values)===null||r===void 0?void 0:r.exposures}_extractBootstrapMetadata(r,i){if(r!=="Bootstrap")return null;const s={};return i.user&&(s.user=i.user),i.sdkInfo&&(s.generatorSDKInfo=i.sdkInfo),s.lcut=i.time,s}_getDetailedStoreResult(r,i){let s=null;return r&&(s=r[i]?r[i]:r[(0,e._DJB2)(i)]),{result:s,details:this._getDetails(s==null)}}_setWarningState(r,i){var s,o;const a=e.StableID.get(this._sdkKey);if(((s=r.customIDs)===null||s===void 0?void 0:s.stableID)!==a&&(!((o=r.customIDs)===null||o===void 0)&&o.stableID||a)){this._warnings.add("StableIDMismatch");return}if("user"in i){const c=i.user,l=Object.assign(Object.assign({},r),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,e._getFullUserHash)(l)!==(0,e._getFullUserHash)(c)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const r={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(r.warnings=Array.from(this._warnings)),r}_getDetails(r){var i,s;const o=this.getCurrentSourceDetails();let a=o.reason;const c=(i=o.warnings)!==null&&i!==void 0?i:[];if(this._source==="Bootstrap"&&c.length>0&&(a=a+c[0]),a!=="Uninitialized"&&a!=="NoValues"){const u=r?"Unrecognized":"Recognized";a="".concat(a,":").concat(u)}const l=this._source==="Bootstrap"&&(s=this._bootstrapMetadata)!==null&&s!==void 0?s:void 0;return l&&(o.bootstrapMetadata=l),Object.assign(Object.assign({},o),{reason:a})}};return Xh.default=t,Xh}var Hc={},Bu={},cR;function sX(){if(cR)return Bu;cR=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu._resolveDeltasResponse=void 0;const e=Nn(),t=2;function n(o,a){const c=(0,e._typedJsonParse)(a,"checksum","DeltasEvaluationResponse");if(!c)return{hadBadDeltaChecksum:!0};const l=r(o,c),u=i(l),d=(0,e._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},t);return d===c.checksumV2?JSON.stringify(u):{hadBadDeltaChecksum:!0,badChecksum:d,badMergedConfigs:u,badFullResponse:c.deltas_full_response}}Bu._resolveDeltasResponse=n;function r(o,a){return Object.assign(Object.assign(Object.assign({},o),a),{feature_gates:Object.assign(Object.assign({},o.feature_gates),a.feature_gates),layer_configs:Object.assign(Object.assign({},o.layer_configs),a.layer_configs),dynamic_configs:Object.assign(Object.assign({},o.dynamic_configs),a.dynamic_configs)})}function i(o){const a=o;return s(o.deleted_gates,a.feature_gates),delete a.deleted_gates,s(o.deleted_configs,a.dynamic_configs),delete a.deleted_configs,s(o.deleted_layers,a.layer_configs),delete a.deleted_layers,a}function s(o,a){o==null||o.forEach(c=>{delete a[c]})}return Bu}var lR;function AB(){if(lR)return Hc;lR=1;var e=Hc&&Hc.__awaiter||function(i,s,o,a){function c(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(p){try{h(a.next(p))}catch(m){u(m)}}function f(p){try{h(a.throw(p))}catch(m){u(m)}}function h(p){p.done?l(p.value):c(p.value).then(d,f)}h((a=a.apply(i,s||[])).next())})};Object.defineProperty(Hc,"__esModule",{value:!0});const t=Nn(),n=sX();class r extends t.NetworkCore{constructor(s,o){super(s,o);const a=s==null?void 0:s.networkConfig;this._option=s,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,a==null?void 0:a.initializeUrl,a==null?void 0:a.api,a==null?void 0:a.initializeFallbackUrls)}fetchEvaluations(s,o,a,c,l){return e(this,void 0,void 0,function*(){var u,d,f,h,p,m;const g=o?(0,t._typedJsonParse)(o,"has_updates","InitializeResponse"):null;let y={user:c,hash:(f=(d=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||d===void 0?void 0:d.initializeHashAlgorithm)!==null&&f!==void 0?f:"djb2",deltasResponseRequested:!1,full_checksum:null};if(g!=null&&g.has_updates){const v=(g==null?void 0:g.hash_used)!==((m=(p=(h=this._option)===null||h===void 0?void 0:h.networkConfig)===null||p===void 0?void 0:p.initializeHashAlgorithm)!==null&&m!==void 0?m:"djb2");y=Object.assign(Object.assign({},y),{sinceTime:l&&!v?g.time:0,previousDerivedFields:"derived_fields"in g&&l?g.derived_fields:{},deltasResponseRequested:!0,full_checksum:g.full_checksum,partialUserMatchSinceTime:v?0:g.time})}return this._fetchEvaluations(s,g,y,a)})}_fetchEvaluations(s,o,a,c){return e(this,void 0,void 0,function*(){var l,u;const d=yield this.post({sdkKey:s,urlConfig:this._initializeUrlConfig,data:a,retries:2,isStatsigEncodable:!0,priority:c});if((d==null?void 0:d.code)===204)return'{"has_updates": false}';if((d==null?void 0:d.code)!==200)return(l=d==null?void 0:d.body)!==null&&l!==void 0?l:null;if((o==null?void 0:o.has_updates)!==!0||((u=d.body)===null||u===void 0?void 0:u.includes('"is_delta":true'))!==!0||a.deltasResponseRequested!==!0)return d.body;const f=(0,n._resolveDeltasResponse)(o,d.body);return typeof f=="string"?f:this._fetchEvaluations(s,o,Object.assign(Object.assign(Object.assign({},a),f),{deltasResponseRequested:!1}),c)})}}return Hc.default=r,Hc}var Gu={},uR;function oX(){if(uR)return Gu;uR=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu._makeParamStoreGetter=void 0;const e=Nn(),t={disableExposureLog:!0};function n(u){return u==null||u.disableExposureLog===!1}function r(u,d){return d!=null&&!(0,e._isTypeMatch)(u,d)}function i(u,d){return u.value}function s(u,d,f){return u.getFeatureGate(d.gate_name,n(f)?void 0:t).value?d.pass_value:d.fail_value}function o(u,d,f,h){const m=u.getDynamicConfig(d.config_name,n(h)?void 0:t).get(d.param_name);return r(m,f)?f:m}function a(u,d,f,h){const m=u.getExperiment(d.experiment_name,n(h)?void 0:t).get(d.param_name);return r(m,f)?f:m}function c(u,d,f,h){const m=u.getLayer(d.layer_name,n(h)?void 0:t).get(d.param_name);return r(m,f)?f:m}function l(u,d,f){return(h,p)=>{if(d==null)return p;const m=d[h];if(m==null||p!=null&&(0,e._typeOf)(p)!==m.param_type)return p;switch(m.ref_type){case"static":return i(m);case"gate":return s(u,m,f);case"dynamic_config":return o(u,m,p,f);case"experiment":return a(u,m,p,f);case"layer":return c(u,m,p,f);default:return p}}}return Gu._makeParamStoreGetter=l,Gu}var _a={},dR;function aX(){if(dR)return _a;dR=1;var e=_a&&_a.__awaiter||function(i,s,o,a){function c(l){return l instanceof o?l:new o(function(u){u(l)})}return new(o||(o=Promise))(function(l,u){function d(p){try{h(a.next(p))}catch(m){u(m)}}function f(p){try{h(a.throw(p))}catch(m){u(m)}}function h(p){p.done?l(p.value):c(p.value).then(d,f)}h((a=a.apply(i,s||[])).next())})};Object.defineProperty(_a,"__esModule",{value:!0}),_a.StatsigEvaluationsDataAdapter=void 0;const t=Nn(),n=AB();let r=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(s,o,a){super.attach(s,o,a),a!==null&&a instanceof n.default?this._network=a:this._network=new n.default(o!=null?o:{})}getDataAsync(s,o,a){return this._getDataAsyncImpl(s,(0,t._normalizeUser)(o,this._options),a)}prefetchData(s,o){return this._prefetchDataImpl(s,o)}setData(s){const o=(0,t._typedJsonParse)(s,"has_updates","data");o&&"user"in o?super.setData(s,o.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(s,o){super.setData(s,o)}_fetchFromNetwork(s,o,a,c){return e(this,void 0,void 0,function*(){var l;const u=yield(l=this._network)===null||l===void 0?void 0:l.fetchEvaluations(this._getSdkKey(),s,a==null?void 0:a.priority,o,c);return u!=null?u:null})}_getCacheKey(s){var o;const a=(0,t._getStorageKey)(this._getSdkKey(),s,(o=this._options)===null||o===void 0?void 0:o.customUserCacheKeyFunc);return"".concat(t.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(a)}_isCachedResultValidFor204(s,o){return s.fullUserHash!=null&&s.fullUserHash===(0,t._getFullUserHash)(o)}};return _a.StatsigEvaluationsDataAdapter=r,_a}var fR;function cX(){if(fR)return $c;fR=1;var e=$c&&$c.__awaiter||function(a,c,l,u){function d(f){return f instanceof l?f:new l(function(h){h(f)})}return new(l||(l=Promise))(function(f,h){function p(y){try{g(u.next(y))}catch(v){h(v)}}function m(y){try{g(u.throw(y))}catch(v){h(v)}}function g(y){y.done?f(y.value):d(y.value).then(p,m)}g((u=u.apply(a,c||[])).next())})};Object.defineProperty($c,"__esModule",{value:!0});const t=Nn(),n=iX(),r=AB(),i=oX(),s=aX();let o=class gT extends t.StatsigClientBase{static instance(c){const l=(0,t._getStatsigGlobal)().instance(c);return l instanceof gT?l:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new gT(c!=null?c:"",{}))}constructor(c,l,u=null){var d,f;t.SDKType._setClientType(c,"javascript-client");const h=new r.default(u,m=>{this.$emt(m)});super(c,(d=u==null?void 0:u.dataAdapter)!==null&&d!==void 0?d:new s.StatsigEvaluationsDataAdapter,h,u),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(t.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(c),this._network=h,this._user=this._configureUser(l,u),this._sdkInstanceID=(0,t.getUUID)();const p=(f=u==null?void 0:u.plugins)!==null&&f!==void 0?f:[];for(const m of p)m.bind(this)}initializeSync(c){var l;return this.loadingStatus!=="Uninitialized"?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(l=this._store.getWarnings())!==null&&l!==void 0?l:[]]):(this._logger.start(),this.updateUserSync(this._user,c))}initializeAsync(c){return e(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(c),this._initializePromise)})}updateUserSync(c,l){const u=performance.now();try{return this._updateUserSyncImpl(c,l,u)}catch(d){const f=d instanceof Error?d:new Error(String(d));return this._createErrorUpdateDetails(f,u)}}_updateUserSyncImpl(c,l,u){var d;const f=[...(d=this._store.getWarnings())!==null&&d!==void 0?d:[]];this._resetForUser(c);const h=this.dataAdapter.getDataSync(this._user);h==null&&f.push("NoCachedValues"),this._store.setValues(h,this._user),this._finalizeUpdate(h);const p=l==null?void 0:l.disableBackgroundCacheRefresh;return p===!0||p==null&&(h==null?void 0:h.source)==="Bootstrap"?(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f):(this._runPostUpdate(h!=null?h:null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f))}updateUserAsync(c,l){return e(this,void 0,void 0,function*(){const u=performance.now();try{return yield this._updateUserAsyncImpl(c,l)}catch(d){const f=d instanceof Error?d:new Error(String(d));return this._createErrorUpdateDetails(f,u)}})}_updateUserAsyncImpl(c,l){return e(this,void 0,void 0,function*(){this._resetForUser(c);const u=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let d=this.dataAdapter.getDataSync(u);if(this._store.setValues(d,this._user),this._setStatus("Loading",d),d=yield this.dataAdapter.getDataAsync(d,u,l),u!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let f=!1;d!=null&&(t.Diagnostics._markInitProcessStart(this._sdkKey),f=this._store.setValues(d,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:f})),this._finalizeUpdate(d),f||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,f,this._store.getCurrentSourceDetails());const h=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(f,this._store.getSource(),h,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(c,l){return this.getFeatureGate(c,l).value}logEvent(c,l,u){const d=typeof c=="string"?{eventName:c,value:l,metadata:u}:c;this.$emt({name:"log_event_called",event:d}),this._logger.enqueue(Object.assign(Object.assign({},d),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(c){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:c}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(c){return e(this,void 0,void 0,function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,c)})}_createErrorUpdateDetails(c,l){var u;return(0,t.createUpdateDetails)(!1,this._store.getSource(),performance.now()-l,c,null,[...(u=this._store.getWarnings())!==null&&u!==void 0?u:[]])}_finalizeUpdate(c){this._store.finalize(),this._setStatus("Ready",c)}_runPostUpdate(c,l){this.dataAdapter.getDataAsync(c,l,{priority:"low"}).catch(u=>{t.Log.error("An error occurred after update.",u)})}_resetForUser(c){this._logger.reset(),this._store.reset(),this._user=this._configureUser(c,this._options)}_configureUser(c,l){var u,d,f;const h=(0,t._normalizeUser)(c,l),p=(u=h.customIDs)===null||u===void 0?void 0:u.stableID;if(p){const m=(f=(d=this.storageProvider).isReadyResolver)===null||f===void 0?void 0:f.call(d);m?m.then(()=>t.StableID.setOverride(p,this._sdkKey),()=>t.StableID.setOverride(p,this._sdkKey)):t.StableID.setOverride(p,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(h.analyticsOnlyMetadata=Object.assign(Object.assign({},h.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),h}_getFeatureGateImpl(c,l){var u,d;const{result:f,details:h}=this._store.getGate(c),p=(0,t._makeFeatureGate)(c,h,f),m=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getGateOverride)===null||d===void 0?void 0:d.call(u,p,this._user,l),g=m!=null?m:p;return this._enqueueExposure(c,(0,t._createGateExposure)(this._user,g,this._store.getExposureMapping()),l),this.$emt({name:"gate_evaluation",gate:g}),g}_getDynamicConfigImpl(c,l){var u,d;const{result:f,details:h}=this._store.getConfig(c),p=(0,t._makeDynamicConfig)(c,h,f),m=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getDynamicConfigOverride)===null||d===void 0?void 0:d.call(u,p,this._user,l),g=m!=null?m:p;return this._enqueueExposure(c,(0,t._createConfigExposure)(this._user,g,this._store.getExposureMapping()),l),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:g}),g}_getExperimentImpl(c,l){var u,d,f,h;const{result:p,details:m}=this._store.getConfig(c),g=(0,t._makeExperiment)(c,m,p);g.__evaluation!=null&&(g.__evaluation.secondary_exposures=(0,t._mapExposures)((d=(u=g.__evaluation)===null||u===void 0?void 0:u.secondary_exposures)!==null&&d!==void 0?d:[],this._store.getExposureMapping()));const y=(h=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getExperimentOverride)===null||h===void 0?void 0:h.call(f,g,this._user,l),v=y!=null?y:g;return this._enqueueExposure(c,(0,t._createConfigExposure)(this._user,v,this._store.getExposureMapping()),l),this.$emt({name:"experiment_evaluation",experiment:v}),v}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(c,l){var u,d,f;const{result:h,details:p}=this._store.getLayer(c),m=(0,t._makeLayer)(c,p,h),g=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getLayerOverride)===null||d===void 0?void 0:d.call(u,m,this._user,l);l!=null&&l.disableExposureLog&&this._logger.incrementNonExposureCount(c);const y=(0,t._mergeOverride)(m,g,(f=g==null?void 0:g.__value)!==null&&f!==void 0?f:m.__value,v=>{l!=null&&l.disableExposureLog||this._enqueueExposure(c,(0,t._createLayerParameterExposure)(this._user,y,v,this._store.getExposureMapping()),l)});return this.$emt({name:"layer_evaluation",layer:y}),y}_getParameterStoreImpl(c,l){var u,d;const{result:f,details:h}=this._store.getParamStore(c);this._logger.incrementNonExposureCount(c);const p={name:c,details:h,__configuration:f,get:(0,i._makeParamStoreGetter)(this,f,l)},m=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getParamStoreOverride)===null||d===void 0?void 0:d.call(u,p,l);return m!=null&&(p.__configuration=m.config,p.details=m.details,p.get=(0,i._makeParamStoreGetter)(this,m.config,l)),p}};return $c.default=o,$c}var hR;function lX(){return hR||(hR=1,(function(e){var t=ga&&ga.__createBinding||(Object.create?(function(o,a,c,l){l===void 0&&(l=c);var u=Object.getOwnPropertyDescriptor(a,c);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,l,u)}):(function(o,a,c,l){l===void 0&&(l=c),o[l]=a[c]})),n=ga&&ga.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&t(a,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const r=Nn(),i=cX();e.StatsigClient=i.default,n(Nn(),e);const s=Object.assign((0,r._getStatsigGlobal)(),{StatsigClient:i.default});e.default=s})(ga)),ga}var xB=lX(),va={},ya={},pR;function uX(){if(pR)return ya;pR=1;var e=ya&&ya.__awaiter||function(o,a,c,l){function u(d){return d instanceof c?d:new c(function(f){f(d)})}return new(c||(c=Promise))(function(d,f){function h(g){try{m(l.next(g))}catch(y){f(y)}}function p(g){try{m(l.throw(g))}catch(y){f(y)}}function m(g){g.done?d(g.value):u(g.value).then(h,p)}m((l=l.apply(o,a||[])).next())})};Object.defineProperty(ya,"__esModule",{value:!0}),ya.LocalOverrideAdapter=void 0;const t=Nn(),n="LocalOverride:Recognized";function r(){return{gate:{},dynamicConfig:{},experiment:{},layer:{}}}function i(o,a){return{gate:Object.assign({},o.gate,a.gate),dynamicConfig:Object.assign({},o.dynamicConfig,a.dynamicConfig),experiment:Object.assign({},o.experiment,a.experiment),layer:Object.assign({},o.layer,a.layer)}}let s=class{constructor(a){this._overrides=r(),this._sdkKey=a!=null?a:null}_getLocalOverridesStorageKey(a){return"statsig.local-overrides.".concat((0,t._getStorageKey)(a))}loadFromStorage(){return e(this,void 0,void 0,function*(){if(this._sdkKey==null)return;t.Storage.isReady()||(yield t.Storage.isReadyResolver());const a=this._getLocalOverridesStorageKey(this._sdkKey),c=t.Storage.getItem(a),l=c?(0,t._typedJsonParse)(c,"gate","LocalOverrideAdapter overrides"):null,u=this._hasInMemoryOverrides();l&&(this._overrides=u?i(l,this._overrides):l),u&&this._saveOverridesToStorage()})}_saveOverridesToStorage(){if(this._sdkKey==null||!t.Storage.isReady())return;const a=this._getLocalOverridesStorageKey(this._sdkKey);t.Storage.setItem(a,JSON.stringify(this._overrides))}overrideGate(a,c){this._overrides.gate[a]=c,this._overrides.gate[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}_warnIfStorageNotReady(){t.Storage.isReady()||t.Log.warn("Storage is not ready. Override removal may not persist.")}removeGateOverride(a){this._warnIfStorageNotReady(),delete this._overrides.gate[a],delete this._overrides.gate[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getGateOverride(a,c){var l;const u=(l=this._overrides.gate[a.name])!==null&&l!==void 0?l:this._overrides.gate[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,details:Object.assign(Object.assign({},a.details),{reason:n})})}overrideDynamicConfig(a,c){this._overrides.dynamicConfig[a]=c,this._overrides.dynamicConfig[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeDynamicConfigOverride(a){this._warnIfStorageNotReady(),delete this._overrides.dynamicConfig[a],delete this._overrides.dynamicConfig[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getDynamicConfigOverride(a,c){return this._getConfigOverride(a,this._overrides.dynamicConfig)}overrideExperiment(a,c){this._overrides.experiment[a]=c,this._overrides.experiment[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeExperimentOverride(a){this._warnIfStorageNotReady(),delete this._overrides.experiment[a],delete this._overrides.experiment[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getExperimentOverride(a,c){return this._getConfigOverride(a,this._overrides.experiment)}overrideLayer(a,c){this._overrides.layer[a]=c,this._overrides.layer[(0,t._DJB2)(a)]=c,this._saveOverridesToStorage()}removeLayerOverride(a){this._warnIfStorageNotReady(),delete this._overrides.layer[a],delete this._overrides.layer[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getAllOverrides(){return JSON.parse(JSON.stringify(this._overrides))}removeAllOverrides(){this._warnIfStorageNotReady(),this._overrides=r(),this._saveOverridesToStorage()}getLayerOverride(a,c){var l;const u=(l=this._overrides.layer[a.name])!==null&&l!==void 0?l:this._overrides.layer[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{__value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_getConfigOverride(a,c){var l;const u=(l=c[a.name])!==null&&l!==void 0?l:c[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_hasInMemoryOverrides(){return Object.keys(this._overrides.gate).length>0||Object.keys(this._overrides.dynamicConfig).length>0||Object.keys(this._overrides.experiment).length>0||Object.keys(this._overrides.layer).length>0}};return ya.LocalOverrideAdapter=s,ya}var mR;function dX(){return mR||(mR=1,(function(e){var t=va&&va.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=va&&va.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(uX(),e)})(va)),va}var fX=dX(),Nv={},Os={},Wu={},gR;function Ff(){return gR||(gR=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.AutoCaptureEventName=void 0,Wu.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}),Wu}var qu={},Rv={},_R;function uu(){return _R||(_R=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapFunctionWithRestore=e.throttle=e._sanitizeString=e._getAnchorNodeInHierarchy=e._getSafeTimezoneOffset=e._getSafeTimezone=e._getSafeNetworkInformation=e._registerEventHandler=e._getSanitizedPageUrl=e._getSafeUrlString=e._getSafeUrl=e._shouldLogEvent=e._getTargetNode=e._stripEmptyValues=e.interactiveElements=void 0;const t=Nn(),n="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",r=new RegExp("^(?:".concat(n,")$")),i="\\d{3}-?\\d{2}-?\\d{4}",s=new RegExp("^(".concat(i,")$"));e.interactiveElements=["button","a","input","select","textarea","form","select","label"];function o(b){return Object.fromEntries(Object.entries(b).filter(([O,w])=>w!=null&&w!==""&&w!==void 0))}e._stripEmptyValues=o;function a(b){if(!b)return null;let O=b.target||b.srcElement;return!O||!(O instanceof Element)?null:(O.nodeType===3&&(O=O.parentNode||null),O)}e._getTargetNode=a;function c(b,O,w=!1){if(!b||!O||O.nodeType!==1)return!1;const A=O.tagName.toLowerCase(),x=b.type.toLowerCase();if(O.classList.contains("statsig-no-capture"))return!1;if(w)return!0;switch(A){case"html":return!1;case"form":return["submit"].indexOf(x)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(x)>=0;default:if(x==="click"){const R=window.getComputedStyle(O);if(R&&R.getPropertyValue("cursor")==="pointer"||e.interactiveElements.includes(A)||O.getAttribute("contenteditable")==="true"||g(O))return!0}return!1}}e._shouldLogEvent=c;function l(){var b,O,w;const A=(w=(O=(b=(0,t._getWindowSafe)())===null||b===void 0?void 0:b.location)===null||O===void 0?void 0:O.href)!==null&&w!==void 0?w:"";let x;try{x=new URL(A)}catch(N){x=new URL("error:")}return x}e._getSafeUrl=l;function u(){const b=l().toString();return b.startsWith("error:")?"":b}e._getSafeUrlString=u;function d(){return(0,t._getCurrentPageUrlSafe)()||""}e._getSanitizedPageUrl=d;function f(b,O,w){!b||!b.addEventListener||b.addEventListener(O,w,!0)}e._registerEventHandler=f;function h(){const b=(0,t._getWindowSafe)();if(!b||!b.navigator)return null;const O=b.navigator.connection;return O||null}e._getSafeNetworkInformation=h;function p(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(b){return null}}e._getSafeTimezone=p;function m(){try{return new Date().getTimezoneOffset()}catch(b){return null}}e._getSafeTimezoneOffset=m;function g(b){if(!b)return null;let O=b;for(;O;){const w=O.tagName.toLowerCase();if(["body","document"].includes(w))return null;if(O.tagName.toLowerCase()==="a")return O;O=O.parentElement}return null}e._getAnchorNodeInHierarchy=g;function y(b){return b?b.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(O=>v(O)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null}e._sanitizeString=y;function v(b){return!(r.test((b||"").replace(/[- ]/g,""))||s.test((b||"").replace(/[- ]/g,"")))}function T(b,O){let w=0;return function(...A){const x=Date.now();x-w>=O&&(w=x,b(...A))}}e.throttle=T;function C(b,O,w){const A=b[O];if(typeof A!="function")return()=>{};try{const x=w(A);return Object.defineProperty(x,"__statsig_original__",{enumerable:!1,value:A}),b[O]=x,()=>{b[O]=A}}catch(x){return()=>{}}}e.wrapFunctionWithRestore=C})(Rv)),Rv}var ba={},vR;function hX(){if(vR)return ba;vR=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba._getStackTrace=ba._safeStringify=void 0;function e(a,c){return a.length<=c?a:a.slice(0,c)+"..."}function t(a,c,l,u){try{return r(a,c,l)?o(a,u):e(typeof a=="string"?a:typeof a=="object"&&a!==null?JSON.stringify(a):String(a),u)}catch(d){return e("[Unserializable]",u)}}ba._safeStringify=t;function n(){var a,c;try{return(c=(a=new Error().stack)===null||a===void 0?void 0:a.split("\n").slice(2))!==null&&c!==void 0?c:[]}catch(l){return[]}}ba._getStackTrace=n;function r(a,c,l){return!!(i(a)&&(Object.keys(a).length>c||s(a,l))||typeof a=="function")}function i(a){return Object.prototype.toString.call(a)==="[object Object]"}function s(a,c){return c<=0?!0:typeof a!="object"||a===null?!1:Object.keys(a).some(l=>s(a[l],c-1))}function o(a,c){return e(a.toString(),c)}return ba}var di={},yR;function Aw(){if(yR)return di;yR=1,Object.defineProperty(di,"__esModule",{value:!0}),di._getPossibleFirstTouchMetadata=di._getNetworkInfo=di._gatherAllMetadata=di._gatherCommonMetadata=void 0;const e=Nn(),t=uu();function n(c){var l,u,d,f,h,p,m,g;const y=(0,e._getDocumentSafe)(),v=(0,e._getWindowSafe)();return(0,t._stripEmptyValues)(Object.assign({title:y==null?void 0:y.title,current_url:(l=v==null?void 0:v.location)===null||l===void 0?void 0:l.href,user_agent:!((u=v==null?void 0:v.navigator)===null||u===void 0)&&u.userAgent&&((f=(d=v==null?void 0:v.navigator)===null||d===void 0?void 0:d.userAgent)===null||f===void 0?void 0:f.length)>200?v.navigator.userAgent.substring(0,200):(h=v==null?void 0:v.navigator)===null||h===void 0?void 0:h.userAgent,locale:(p=v==null?void 0:v.navigator)===null||p===void 0?void 0:p.language,hostname:c.hostname,pathname:c.pathname,screen_width:(m=v==null?void 0:v.screen)===null||m===void 0?void 0:m.width,screen_height:(g=v==null?void 0:v.screen)===null||g===void 0?void 0:g.height,viewport_width:v==null?void 0:v.innerWidth,viewport_height:v==null?void 0:v.innerHeight,viewport:"".concat(v==null?void 0:v.innerWidth,"x").concat(v==null?void 0:v.innerHeight),timestamp:Date.now(),timezone:(0,t._getSafeTimezone)(),timezone_offset:(0,t._getSafeTimezoneOffset)()},i()))}di._gatherCommonMetadata=n;function r(c){const l=(0,e._getDocumentSafe)(),u=(0,e._getWindowSafe)();if(!l||!u)return{};const d=o(l),f=n(c),h=a(c),p={};return c.searchParams.forEach((m,g)=>{p[g]=m}),Object.assign(Object.assign({},f),(0,t._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},d),h),p)))}di._gatherAllMetadata=r;function i(){const c=(0,t._getSafeNetworkInformation)(),l={};return(c==null?void 0:c.effectiveType)!==void 0&&(l.effective_connection_type=c.effectiveType),(c==null?void 0:c.rtt)!==void 0&&(l.rtt_ms=c.rtt),(c==null?void 0:c.downlink)!==void 0&&(l.downlink_mbps=c.downlink,l.downlink_kbps=c.downlink*1e3),(c==null?void 0:c.saveData)!==void 0&&(l.save_data=c.saveData),l}di._getNetworkInfo=i;function s(c){const l=(0,e._getDocumentSafe)(),u=(0,e._getWindowSafe)();if(!l||!u)return{};const d=o(l),f=a(c),h=(0,t._stripEmptyValues)(Object.assign(Object.assign({},d),f)),p={};for(const[m,g]of Object.entries(h))p["$s_".concat(m)]=g;return p}di._getPossibleFirstTouchMetadata=s;function o(c){const l=(c==null?void 0:c.referrer)||"";if(!l)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{const u=new URL(l),d=u.hostname,f=["google","bing","yahoo","duckduckgo","baidu"].find(p=>d.includes(p+"."))||"",h=u.searchParams.get(f==="yahoo"?"p":"q")||"";return{referrer:l,referrer_domain:u.hostname,referrer_path:u.pathname,searchEngine:f,searchQuery:h}}catch(u){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function a(c){const l=c.searchParams,u={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(f=>{const h=l.get(f);h&&(u[f]=h)}),u}return di}var bR;function pX(){if(bR)return qu;bR=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.ConsoleLogManager=void 0;const e=Nn(),t=Ff(),n=uu(),r=hX(),i=Aw(),s={trace:10,debug:20,log:30,info:30,warn:40,error:50},o=10,a=10,c=500;let l=class{constructor(d,f,h){var p,m,g,y;this._enqueueFn=d,this._errorBoundary=f,this._options=h,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=(p=this._options.logLevel)!==null&&p!==void 0?p:"info",this._maxKeys=(m=this._options.maxKeys)!==null&&m!==void 0?m:o,this._maxDepth=(g=this._options.maxDepth)!==null&&g!==void 0?g:a,this._maxStringLength=(y=this._options.maxStringLength)!==null&&y!==void 0?y:c}startTracking(){try{if(this._isTracking||!this._options.enabled||!(0,e._getWindowSafe)())return;this._patchConsole(),this._isTracking=!0}catch(d){e.Log.error("Error starting console log tracking",d),this._errorBoundary.logError("autoCapture:ConsoleLogManager",d)}}stopTracking(){this._isTracking&&(this._restoreFns.forEach(d=>d()),this._restoreFns=[],this._isTracking=!1)}_patchConsole(){Object.entries(s).forEach(([d,f])=>{if(f<s[this._logLevel]||!console[d])return;const h=console[d].bind(console);let p=!1;const m=(0,n.wrapFunctionWithRestore)(console,d,g=>(...y)=>{if(g(...y),!p){p=!0;try{const v=y.map(C=>(0,r._safeStringify)(C,this._maxKeys,this._maxDepth,this._maxStringLength)),T=(0,r._getStackTrace)();this._enqueueConsoleLog(d,v,T)}catch(v){h("console observer error:",v,...y),this._errorBoundary.logError("autoCapture:ConsoleLogManager",v)}finally{p=!1}}});this._restoreFns.push(m)})}_enqueueConsoleLog(d,f,h){if(!this._shouldLog())return;const p=Object.assign({status:d==="log"?"info":d,log_level:d,payload:f,trace:h,timestamp:Date.now(),source:this.__source},(0,i._gatherAllMetadata)((0,n._getSafeUrl)()));this._enqueueFn(t.AutoCaptureEventName.CONSOLE_LOG,f.join(" "),p)}_shouldLog(){return!this._options.sampleRate||typeof this._options.sampleRate!="number"||this._options.sampleRate<=0||this._options.sampleRate>=1?!0:Math.random()<this._options.sampleRate}};return qu.ConsoleLogManager=l,qu}var Pv={},Ts={},CR;function IB(){if(CR)return Ts;CR=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts._getMetadataFromElement=Ts._gatherCopyEventData=Ts._gatherEventData=void 0;const e=Nn(),t=uu(),n=1e3,r=100,i=50;function s(b){const O=(0,t._getSanitizedPageUrl)()||"",w=b.tagName.toLowerCase();if(a(b))return{value:O,metadata:m(b)};const A={};A.tagName=w;const x=g(b);Object.assign(A,x),w==="form"&&Object.assign(A,c(b)),w==="input"&&Object.assign(A,l(b));const N=(0,t._getAnchorNodeInHierarchy)(b);return N&&Object.assign(A,u(N)),(w==="button"||N)&&Object.assign(A,d(N||b)),p(A)&&(A.isOutbound="true"),{value:O,metadata:A}}Ts._gatherEventData=s;function o(b){var O,w;const A=(w=(O=(0,e._getWindowSafe)())===null||O===void 0?void 0:O.getSelection())===null||w===void 0?void 0:w.toString(),x={};x.selectedText=(0,t._sanitizeString)(A);const N=b.type||"clipboard";return x.clipType=N,x}Ts._gatherCopyEventData=o;function a(b){return b.tagName.toLowerCase()==="input"&&["button","checkbox","submit","reset"].includes(b.getAttribute("type")||"")||b.tagName.toLowerCase()==="textarea"||b.tagName.toLowerCase()==="select"||b.getAttribute("contenteditable")==="true"}function c(b){var O;const w={};return w.action=b.getAttribute("action"),w.method=(O=b.getAttribute("method"))!==null&&O!==void 0?O:"GET",w.formName=b.getAttribute("name"),w.formId=b.getAttribute("id"),w}function l(b){const O={};return O.content=b.value,O.inputName=b.getAttribute("name"),O}function u(b){const O={};return O.href=b.getAttribute("href"),O}function d(b){const O={};O.content=(b.textContent||"").trim();const w=f(b);return Object.assign(O,w),O}function f(b){const O={};if(!b)return O;const w=b==null?void 0:b.dataset;if(!w)return O;for(const A in w)O["data-".concat(A)]=w[A]||"";return O}function h(b,O){return b?b.length>O?b.substring(0,O)+"...":b:null}function p(b){var O;if(Array.isArray(b.classList)&&(!((O=b.classList)===null||O===void 0)&&O.includes("statsig-ctr-capture")))return!0;const w=b.href;if(w)try{const A=(0,t._getSafeUrl)(),x=new URL(w);return A.host!==x.host}catch(A){return!1}return!1}function m(b){const O={};return O.class=y(h(b.getAttribute("class"),n)||""),O.id=h(b.getAttribute("id"),n),O.ariaLabel=h(b.getAttribute("aria-label"),n),O.name=h(b.getAttribute("name"),n),O}function g(b){const O={},w=m(b);Object.assign(O,w);const A=Array.from(b.classList);return O.classList=A.length>0?A.slice(0,r):null,O.selector=C(b),O}Ts._getMetadataFromElement=g;function y(b){return b.replace(/\s+/g," ").trim()}function v(b){let O=b.nextElementSibling;for(;O;){if(O.tagName===b.tagName)return!0;O=O.nextElementSibling}return!1}function T(b){const O=b.tagName.toLowerCase();if(b.id)return"#".concat(b.id);let w=O;if(b.className&&typeof b.className=="string"){const x=b.className.trim().split(/\s+/);x.length>0&&x[0]!==""&&(w+="."+x.join("."))}const A=b.parentElement;if(A&&A.children.length>1){let x=1,N=1,R=b.previousElementSibling;for(;R;)x++,R.tagName===b.tagName&&N++,R=R.previousElementSibling;w+=":nth-child(".concat(x,")"),(N>1||v(b))&&(w+=":nth-of-type(".concat(N,")"))}return w}function C(b){if(!b)return"";if(!b.parentNode){const x=b.tagName.toLowerCase();if(b.id)return"#".concat(b.id);let N=x;if(b.className&&typeof b.className=="string"){const R=b.className.trim().split(/\s+/);R.length>0&&R[0]!==""&&(N+="."+R.join("."))}return N}const O=[];let w=b,A=0;for(;w&&w.nodeType===Node.ELEMENT_NODE&&A<i;){const x=T(w);if(O.unshift(x),w.id||(w=w.parentElement,w&&w.tagName.toLowerCase()==="body"))break;A++}return O.join(" > ")}return Ts}var ER;function mX(){return ER||(ER=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeadClickConfig=void 0;const t=Nn(),n=Ff(),r=uu(),i=IB(),s=Aw();e.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750};class o{constructor(c,l){this._enqueueFn=c,this._errorBoundary=l,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=e.DeadClickConfig,this._handleScroll=(0,r.throttle)(()=>{const u=Date.now();this._clicks.forEach(d=>{d.scrollDelayMs||(d.scrollDelayMs=u-d.timestamp)})},50)}startTracking(){try{const c=(0,t._getWindowSafe)();if(!c)return;c.addEventListener("click",l=>this._handleClick(l),{capture:!0}),c.addEventListener("scroll",()=>this._handleScroll(),{capture:!0,passive:!0}),c.addEventListener("selectionchange",()=>this._handleSelectionChange()),this._setupMutationObserver()}catch(c){t.Log.error("Error starting dead click tracking",c),this._errorBoundary.logError("autoCapture:DeadClickManager",c)}}_handleClick(c){var l,u;const d=c.target;if(!d)return;const f={timestamp:Date.now(),eventTarget:d};r.interactiveElements.includes((l=d==null?void 0:d.tagName)===null||l===void 0?void 0:l.toLowerCase())||this._clicks.push(f),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(u=(0,t._getWindowSafe)())===null||u===void 0?void 0:u.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_handleSelectionChange(){this._lastSelectionChangeTime=Date.now()}_setupMutationObserver(){const c=(0,t._getDocumentSafe)();c&&(this._observer=new MutationObserver(()=>{this._lastMutationTime=Date.now()}),this._observer.observe(c.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}_checkForDeadClick(){var c;if(!this._clicks.length)return;clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;const l=this._clicks;this._clicks=[];for(const u of l){this._updateClickDelayMs(u);const d=u.scrollDelayMs!=null&&u.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,f=u.selectionChangeDelayMs!=null&&u.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,h=u.mutationDelayMs!=null&&u.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(d||f||h)continue;const p=u.scrollDelayMs!=null&&u.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,m=u.selectionChangeDelayMs!=null&&u.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,g=u.mutationDelayMs!=null&&u.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,y=u.absoluteDelayMs!=null&&u.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;p||m||g||y?this._logDeadClick(u,{scrollTimeout:p,selectionChangeTimeout:m,mutationTimeout:g,absoluteTimeout:y}):u.absoluteDelayMs!=null&&u.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(u)}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=(c=(0,t._getWindowSafe)())===null||c===void 0?void 0:c.setTimeout(()=>{this._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}_logDeadClick(c,l){const{value:u,metadata:d}=(0,i._gatherEventData)(c.eventTarget);u&&this._enqueueFn(n.AutoCaptureEventName.DEAD_CLICK,u,Object.assign(Object.assign(Object.assign(Object.assign({},d),l),(0,s._gatherCommonMetadata)((0,r._getSafeUrl)())),{scrollDelayMs:c.scrollDelayMs,selectionChangeDelayMs:c.selectionChangeDelayMs,mutationDelayMs:c.mutationDelayMs,absoluteDelayMs:c.absoluteDelayMs}))}_updateClickDelayMs(c){!c.mutationDelayMs&&this._lastMutationTime>0&&c.timestamp<=this._lastMutationTime&&(c.mutationDelayMs=Date.now()-this._lastMutationTime),!c.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&c.timestamp<=this._lastSelectionChangeTime&&(c.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),c.absoluteDelayMs=Date.now()-c.timestamp}}e.default=o})(Pv)),Pv}var Vu={},SR;function gX(){if(SR)return Vu;SR=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.EngagementManager=void 0;const e=Nn(),t=6e5;let n=class{constructor(){this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._meaningfulEngagementOccurred=!1,this._initializeScrollTracking()}_initializeScrollTracking(){const i=(0,e._getWindowSafe)();i&&(i.addEventListener("scroll",()=>this._handleScroll()),i.addEventListener("scrollend",()=>this._handleScroll()),i.addEventListener("resize",()=>this._handleScroll()))}_handleScroll(){const i=(0,e._getWindowSafe)(),s=(0,e._getDocumentSafe)();if(!i||!s)return;const o=s.body.scrollHeight,a=i.scrollY||s.documentElement.scrollTop||0,c=i.innerHeight;this._lastScrollY=a,this._maxScrollY=Math.max(this._maxScrollY,a);const l=Math.min(100,Math.round((a+c)/o*100));this._lastScrollPercentage=l,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,l),this.bumpInactiveTimer()}getScrollMetrics(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}getPageViewLength(){return Date.now()-this._lastPageViewTime}setLastPageViewTime(i){this._lastPageViewTime=i}startInactivityTracking(i){this._onInactivityCallback=i}bumpInactiveTimer(){const i=(0,e._getWindowSafe)();i&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=i.setTimeout(()=>{this._onInactivityCallback&&this._onInactivityCallback()},t))}setMeaningfulEngagementOccurred(i){this._meaningfulEngagementOccurred=i}getPageViewEndMetadata(){const i=Object.assign(Object.assign({},this.getScrollMetrics()),{pageViewLength:this.getPageViewLength(),meaningfulEngagementOccurred:this._meaningfulEngagementOccurred});return this.setMeaningfulEngagementOccurred(!1),i}};return Vu.EngagementManager=n,Vu}var Qh={},OR;function _X(){if(OR)return Qh;OR=1,Object.defineProperty(Qh,"__esModule",{value:!0});const e=30,t=1e3,n=3;let r=class{constructor(){this._clicks=[]}isRageClick(s,o,a){this._clicks=this._clicks.filter(l=>a-l.timestamp<t);const c=l=>{const u=s-l.x,d=o-l.y;return Math.abs(u)+Math.abs(d)<=e};return this._clicks.length>0&&!c(this._clicks[this._clicks.length-1])&&(this._clicks=[]),this._clicks.push({x:s,y:o,timestamp:a}),this._clicks.length>=n}};return Qh.default=r,Qh}var $u={},ad={exports:{}},vX=ad.exports,TR;function yX(){return TR||(TR=1,(function(e,t){(function(n,r){r(t)})(vX,(function(n){let r=-1;const i=J=>{addEventListener("pageshow",(K=>{K.persisted&&(r=K.timeStamp,J(K))}),!0)},s=(J,K,ne,X)=>{let ee,ve;return ue=>{K.value>=0&&(ue||X)&&(ve=K.value-(ee!=null?ee:0),(ve||ee===void 0)&&(ee=K.value,K.delta=ve,K.rating=((oe,be)=>oe>be[1]?"poor":oe>be[0]?"needs-improvement":"good")(K.value,ne),J(K)))}},o=J=>{requestAnimationFrame((()=>requestAnimationFrame((()=>J()))))},a=()=>{const J=performance.getEntriesByType("navigation")[0];if(J&&J.responseStart>0&&J.responseStart<performance.now())return J},c=()=>{var K;const J=a();return(K=J==null?void 0:J.activationStart)!=null?K:0},l=(J,K=-1)=>{const ne=a();let X="navigate";return r>=0?X="back-forward-cache":ne&&(document.prerendering||c()>0?X="prerender":document.wasDiscarded?X="restore":ne.type&&(X=ne.type.replace(/_/g,"-"))),{name:J,value:K,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:X}},u=new WeakMap;function d(J,K){return u.get(J)||u.set(J,new K),u.get(J)}class f{constructor(){U(this,"t");U(this,"i",0);U(this,"o",[])}h(K){var ee;if(K.hadRecentInput)return;const ne=this.o[0],X=this.o.at(-1);this.i&&ne&&X&&K.startTime-X.startTime<1e3&&K.startTime-ne.startTime<5e3?(this.i+=K.value,this.o.push(K)):(this.i=K.value,this.o=[K]),(ee=this.t)==null||ee.call(this,K)}}const h=(J,K,ne={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(J)){const X=new PerformanceObserver((ee=>{Promise.resolve().then((()=>{K(ee.getEntries())}))}));return X.observe(S({type:J,buffered:!0},ne)),X}}catch(X){}},p=J=>{let K=!1;return()=>{K||(J(),K=!0)}};let m=-1;const g=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,y=J=>{document.visibilityState==="hidden"&&m>-1&&(m=J.type==="visibilitychange"?J.timeStamp:0,T())},v=()=>{addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0)},T=()=>{removeEventListener("visibilitychange",y,!0),removeEventListener("prerenderingchange",y,!0)},C=()=>{var J;if(m<0){const K=c(),ne=document.prerendering||(J=globalThis.performance.getEntriesByType("visibility-state").filter((X=>X.name==="hidden"&&X.startTime>K))[0])==null?void 0:J.startTime;m=ne!=null?ne:g(),v(),i((()=>{setTimeout((()=>{m=g(),v()}))}))}return{get firstHiddenTime(){return m}}},b=J=>{document.prerendering?addEventListener("prerenderingchange",(()=>J()),!0):J()},O=[1800,3e3],w=(J,K={})=>{b((()=>{const ne=C();let X,ee=l("FCP");const ve=h("paint",(ue=>{for(const oe of ue)oe.name==="first-contentful-paint"&&(ve.disconnect(),oe.startTime<ne.firstHiddenTime&&(ee.value=Math.max(oe.startTime-c(),0),ee.entries.push(oe),X(!0)))}));ve&&(X=s(J,ee,O,K.reportAllChanges),i((ue=>{ee=l("FCP"),X=s(J,ee,O,K.reportAllChanges),o((()=>{ee.value=performance.now()-ue.timeStamp,X(!0)}))})))}))},A=[.1,.25];let x=0,N=1/0,R=0;const L=J=>{for(const K of J)K.interactionId&&(N=Math.min(N,K.interactionId),R=Math.max(R,K.interactionId),x=R?(R-N)/7+1:0)};let D;const F=()=>{var J;return D?x:(J=performance.interactionCount)!=null?J:0},G=()=>{"interactionCount"in performance||D||(D=h("event",L,{type:"event",buffered:!0,durationThreshold:0}))};let z=0;class V{constructor(){U(this,"u",[]);U(this,"l",new Map);U(this,"m");U(this,"p")}v(){z=F(),this.u.length=0,this.l.clear()}T(){const K=Math.min(this.u.length-1,Math.floor((F()-z)/50));return this.u[K]}h(K){var ee,ve;if((ee=this.m)==null||ee.call(this,K),!K.interactionId&&K.entryType!=="first-input")return;const ne=this.u.at(-1);let X=this.l.get(K.interactionId);if(X||this.u.length<10||K.duration>ne.P){if(X?K.duration>X.P?(X.entries=[K],X.P=K.duration):K.duration===X.P&&K.startTime===X.entries[0].startTime&&X.entries.push(K):(X={id:K.interactionId,entries:[K],P:K.duration},this.l.set(X.id,X),this.u.push(X)),this.u.sort(((ue,oe)=>oe.P-ue.P)),this.u.length>10){const ue=this.u.splice(10);for(const oe of ue)this.l.delete(oe.id)}(ve=this.p)==null||ve.call(this,X)}}}const M=J=>{const K=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?J():(J=p(J),document.addEventListener("visibilitychange",J,{once:!0}),K((()=>{J(),document.removeEventListener("visibilitychange",J)})))},te=[200,500];class ${constructor(){U(this,"m")}h(K){var ne;(ne=this.m)==null||ne.call(this,K)}}const se=[2500,4e3],me=[800,1800],Ce=J=>{document.prerendering?b((()=>Ce(J))):document.readyState!=="complete"?addEventListener("load",(()=>Ce(J)),!0):setTimeout(J)};n.CLSThresholds=A,n.FCPThresholds=O,n.INPThresholds=te,n.LCPThresholds=se,n.TTFBThresholds=me,n.onCLS=(J,K={})=>{w(p((()=>{let ne,X=l("CLS",0);const ee=d(K,f),ve=oe=>{for(const be of oe)ee.h(be);ee.i>X.value&&(X.value=ee.i,X.entries=ee.o,ne())},ue=h("layout-shift",ve);ue&&(ne=s(J,X,A,K.reportAllChanges),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(ve(ue.takeRecords()),ne(!0))})),i((()=>{ee.i=0,X=l("CLS",0),ne=s(J,X,A,K.reportAllChanges),o((()=>ne()))})),setTimeout(ne))})))},n.onFCP=w,n.onINP=(J,K={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&b((()=>{var oe;G();let ne,X=l("INP");const ee=d(K,V),ve=be=>{M((()=>{for(const He of be)ee.h(He);const Ae=ee.T();Ae&&Ae.P!==X.value&&(X.value=Ae.P,X.entries=Ae.entries,ne())}))},ue=h("event",ve,{durationThreshold:(oe=K.durationThreshold)!=null?oe:40});ne=s(J,X,te,K.reportAllChanges),ue&&(ue.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",(()=>{document.visibilityState==="hidden"&&(ve(ue.takeRecords()),ne(!0))})),i((()=>{ee.v(),X=l("INP"),ne=s(J,X,te,K.reportAllChanges)})))}))},n.onLCP=(J,K={})=>{b((()=>{const ne=C();let X,ee=l("LCP");const ve=d(K,$),ue=be=>{K.reportAllChanges||(be=be.slice(-1));for(const Ae of be)ve.h(Ae),Ae.startTime<ne.firstHiddenTime&&(ee.value=Math.max(Ae.startTime-c(),0),ee.entries=[Ae],X())},oe=h("largest-contentful-paint",ue);if(oe){X=s(J,ee,se,K.reportAllChanges);const be=p((()=>{ue(oe.takeRecords()),oe.disconnect(),X(!0)}));for(const Ae of["keydown","click","visibilitychange"])addEventListener(Ae,(()=>M(be)),{capture:!0,once:!0});i((Ae=>{ee=l("LCP"),X=s(J,ee,se,K.reportAllChanges),o((()=>{ee.value=performance.now()-Ae.timeStamp,X(!0)}))}))}}))},n.onTTFB=(J,K={})=>{let ne=l("TTFB"),X=s(J,ne,me,K.reportAllChanges);Ce((()=>{const ee=a();ee&&(ne.value=Math.max(ee.responseStart-c(),0),ne.entries=[ee],X(!0),i((()=>{ne=l("TTFB",0),X=s(J,ne,me,K.reportAllChanges),X(!0)})))}))}}))})(ad,ad.exports)),ad.exports}var wR;function bX(){if(wR)return $u;wR=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.WebVitalsManager=void 0;const e=yX(),t=Nn(),n=Ff(),r=uu(),i=["CLS","FCP","INP","LCP","TTFB"];let s=class{constructor(a,c){this._enqueueFn=a,this._errorBoundary=c,this._isInitialized=!1,this._metricEvent={url:(0,r._getSafeUrlString)(),sanitizedUrl:(0,r._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}startTracking(){var a,c;try{if(this._isInitialized)return;const l=(c=(a=(0,t._getWindowSafe)())===null||a===void 0?void 0:a.location)===null||c===void 0?void 0:c.protocol;if(l!=="https:"&&l!=="http:")return;(0,e.onCLS)(u=>this._handleMetric(u)),(0,e.onFCP)(u=>this._handleMetric(u)),(0,e.onINP)(u=>this._handleMetric(u)),(0,e.onLCP)(u=>this._handleMetric(u)),(0,e.onTTFB)(u=>this._handleMetric(u)),this._isInitialized=!0}catch(l){t.Log.error("Error starting web vitals tracking",l),this._errorBoundary.logError("autoCapture:WebVitalsManager",l)}}_handleMetric(a){if(this._metricEvent.firstMetricTimestamp===void 0&&(this._metricEvent.firstMetricTimestamp=Date.now()),a===void 0||(a==null?void 0:a.name)===void 0)return;const c=(0,r._getSafeUrlString)();if(c===""||!i.includes(a.name))return;c!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=c);const l=a;this._metricEvent.metrics.push({name:l.name,value:l.value,delta:l.delta,id:l.id}),this._metricEvent.metrics.length===i.length&&this._enqueueWebVitalsAutoCaptureEvent()}_enqueueWebVitalsAutoCaptureEvent(){if(this._metricEvent.url===""||this._metricEvent.metrics.length===0)return;const a={};this._metricEvent.metrics.forEach(c=>{const l=c.name.toLowerCase();a["".concat(l,"_value")]=c.value,a["".concat(l,"_delta")]=c.delta,a["".concat(l,"_id")]=c.id}),this._enqueueFn(n.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},a),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,r._getSafeUrlString)(),sanitizedUrl:(0,r._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}};return $u.WebVitalsManager=s,$u}var AR;function CX(){if(AR)return Os;AR=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.AutoCapture=Os.runStatsigAutoCapture=Os.StatsigAutoCapturePlugin=void 0;const e=Nn(),t=Ff(),n=pX(),r=mX(),i=gX(),s=_X(),o=bX(),a=uu(),c=IB(),l=Aw(),u={submit:t.AutoCaptureEventName.FORM_SUBMIT,click:t.AutoCaptureEventName.CLICK,copy:t.AutoCaptureEventName.COPY,cut:t.AutoCaptureEventName.COPY};class d{constructor(m){this._options=m,this.__plugin="auto-capture"}bind(m){f(m,this._options)}}Os.StatsigAutoCapturePlugin=d;function f(p,m){var g;const{sdkKey:y}=p.getContext();if(!(0,e._isServerEnv)()){const T=(g=(0,e._getStatsigGlobal)().acInstances)!==null&&g!==void 0?g:{};if(T[y])return T[y]}return new h(p,m)}Os.runStatsigAutoCapture=f;let h=class{constructor(m,g){var y,v,T,C;this._client=m,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;const{sdkKey:b,errorBoundary:O,values:w}=m.getContext();this._options=g,this._disabledEvents=(v=(y=w==null?void 0:w.auto_capture_settings)===null||y===void 0?void 0:y.disabled_events)!==null&&v!==void 0?v:{},this._errorBoundary=O,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",()=>{var x,N;const R=this._client.getContext().values;this._disabledEvents=(N=(x=R==null?void 0:R.auto_capture_settings)===null||x===void 0?void 0:x.disabled_events)!==null&&N!==void 0?N:this._disabledEvents}),this._engagementManager=new i.EngagementManager,this._rageClickManager=new s.default,this._webVitalsManager=new o.WebVitalsManager(this._enqueueAutoCapture.bind(this),O),this._deadClickManager=new r.default(this._enqueueAutoCapture.bind(this),O),this._consoleLogManager=new n.ConsoleLogManager(this._enqueueAutoCapture.bind(this),O,(T=g==null?void 0:g.consoleLogAutoCaptureSettings)!==null&&T!==void 0?T:{enabled:!1}),this._eventFilterFunc=g==null?void 0:g.eventFilterFunc;const A=(0,e._getDocumentSafe)();if(!(0,e._isServerEnv)()){__STATSIG__=(0,e._getStatsigGlobal)();const x=(C=__STATSIG__.acInstances)!==null&&C!==void 0?C:{};x[b]=this,__STATSIG__.acInstances=x}if((A==null?void 0:A.readyState)==="loading"){A.addEventListener("DOMContentLoaded",()=>this._initialize());return}this._initialize()}_addEventHandlers(){const m=(0,e._getWindowSafe)(),g=(0,e._getDocumentSafe)();if(!m||!g)return;const y=(v,T=!0)=>{var C;const b=v||((C=(0,e._getWindowSafe)())===null||C===void 0?void 0:C.event);this._autoLogEvent(b),T&&this._engagementManager.bumpInactiveTimer(),b.type==="click"&&b instanceof MouseEvent&&this._rageClickManager.isRageClick(b.clientX,b.clientY,Date.now())&&this._logRageClick(b)};(0,a._registerEventHandler)(g,"click",v=>y(v)),(0,a._registerEventHandler)(g,"submit",v=>y(v)),(0,a._registerEventHandler)(g,"copy",v=>y(v)),(0,a._registerEventHandler)(g,"cut",v=>y(v)),(0,a._registerEventHandler)(m,"error",v=>y(v,!1)),(0,a._registerEventHandler)(m,"pagehide",()=>this._tryLogPageViewEnd()),(0,a._registerEventHandler)(m,"beforeunload",()=>this._tryLogPageViewEnd())}_addPageViewTracking(){const m=(0,e._getWindowSafe)(),g=(0,e._getDocumentSafe)();!m||!g||((0,a._registerEventHandler)(m,"popstate",()=>this._tryLogPageView("popstate")),window.history.pushState=new Proxy(window.history.pushState,{apply:(y,v,[T,C,b])=>{y.apply(v,[T,C,b]),this._tryLogPageView("pushstate")}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:(y,v,[T,C,b])=>{y.apply(v,[T,C,b]),this._tryLogPageView("replacestate")}}),this._tryLogPageView())}_autoLogEvent(m){var g,y,v,T;const C=(g=m.type)===null||g===void 0?void 0:g.toLowerCase();if(C==="error"&&m instanceof ErrorEvent){this._logError(m);return}const b=(0,a._getTargetNode)(m);if(!b)return;const O=u[C];if(!O)return;const w=O===t.AutoCaptureEventName.COPY;if(!(0,a._shouldLogEvent)(m,b,w))return;const A={};if(w){const L=(v=(y=(0,e._getWindowSafe)())===null||y===void 0?void 0:y.getSelection())===null||v===void 0?void 0:v.toString();if(!L)return;!((T=this._options)===null||T===void 0)&&T.captureCopyText&&(A.selectedText=(0,a._sanitizeString)(L));const D=m.type||"clipboard";A.clipType=D}const{value:x,metadata:N}=(0,c._gatherEventData)(b);N.isOutbound&&this._engagementManager.setMeaningfulEngagementOccurred(!0),Object.assign(A,N);const R=(0,l._gatherAllMetadata)((0,a._getSafeUrl)());this._enqueueAutoCapture(O,x,Object.assign(Object.assign({},R),A))}_initialize(){this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(()=>this._tryLogPageViewEnd(!0)),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(m){const g=(m==null?void 0:m.error)||{};let y=g;if(typeof g=="object")try{y=JSON.stringify(g)}catch(v){y=typeof(g==null?void 0:g.toString)=="function"?g.toString():"Unknown Error"}this._enqueueAutoCapture(t.AutoCaptureEventName.ERROR,m.message,{message:m.message,filename:m.filename,lineno:m.lineno,colno:m.colno,error_str:y})}_logSessionStart(){const m=this._getSessionFromClient();try{if(!this._isNewSession(m))return;this._enqueueAutoCapture(t.AutoCaptureEventName.SESSION_START,(0,a._getSanitizedPageUrl)(),Object.assign({sessionID:m.data.sessionID},(0,l._gatherAllMetadata)((0,a._getSafeUrl)())),{flushImmediately:!0})}catch(g){this._errorBoundary.logError("AC::logSession",g)}}_tryLogPageView(m){const g=(0,a._getSafeUrl)(),y=this._previousLoggedPageViewUrl;if(y&&g.pathname===y.pathname)return;this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;const v=(0,l._gatherAllMetadata)(g);m&&(v.navigation_type=m),this._previousLoggedPageViewUrl&&(v.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(t.AutoCaptureEventName.PAGE_VIEW,(0,a._getSanitizedPageUrl)(),v,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=g,this._engagementManager.bumpInactiveTimer()}_tryLogPageViewEnd(m=!1){this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(t.AutoCaptureEventName.PAGE_VIEW_END,(0,a._getSanitizedPageUrl)(),Object.assign(Object.assign({},this._engagementManager.getPageViewEndMetadata()),{dueToInactivity:m}),{flushImmediately:!0}))}_logRageClick(m){if(!(0,a._shouldLogEvent)(m,m.target))return;const{value:g,metadata:y}=(0,c._gatherEventData)(m.target);this._enqueueAutoCapture(t.AutoCaptureEventName.RAGE_CLICK,g,Object.assign(Object.assign({x:m.clientX,y:m.clientY,timestamp:Date.now()},(0,l._gatherAllMetadata)((0,a._getSafeUrl)())),y))}_logPerformance(){const m=(0,e._getWindowSafe)();!m||!m.performance||typeof(m==null?void 0:m.performance)>"u"||typeof m.performance.getEntriesByType!="function"||typeof m.performance.getEntriesByName!="function"||setTimeout(()=>{const g={},y=m.performance.getEntriesByType("navigation");if(y&&y.length>0&&y[0]instanceof PerformanceNavigationTiming){const T=y[0];g.load_time_ms=T.duration,g.dom_interactive_time_ms=T.domInteractive-T.startTime,g.redirect_count=T.redirectCount,g.transfer_bytes=T.transferSize}const v=m.performance.getEntriesByName("first-contentful-paint");v&&v.length>0&&v[0]instanceof PerformancePaintTiming&&(g.first_contentful_paint_time_ms=v[0].startTime),this._enqueueAutoCapture(t.AutoCaptureEventName.PERFORMANCE,(0,a._getSanitizedPageUrl)(),Object.assign(Object.assign({},g),(0,l._getNetworkInfo)()))},1)}_enqueueAutoCapture(m,g,y,v){var T,C,b;if(!g)return;const O=m.slice(14);if(this._disabledEvents[m]||this._disabledEvents[O])return;const w=this._getSessionFromClient();try{const A=Object.assign({sessionID:w.data.sessionID,page_url:(b=(C=(T=(0,e._getWindowSafe)())===null||T===void 0?void 0:T.location)===null||C===void 0?void 0:C.href)!==null&&b!==void 0?b:""},y);v!=null&&v.addNewSessionMetadata&&(A.isNewSession=String(this._isNewSession(w)));const x={eventName:m,value:g,metadata:A};if(this._eventFilterFunc&&!this._eventFilterFunc(x))return;this._client.logEvent(x),v!=null&&v.flushImmediately&&this._flushImmediately()}catch(A){this._errorBoundary.logError("AC::enqueue",A)}}_updateClientWithPossibleFirstTouchMetadata(){const m=this._client;m._possibleFirstTouchMetadata=(0,l._getPossibleFirstTouchMetadata)((0,a._getSafeUrl)()),Object.keys(m._possibleFirstTouchMetadata).length>0&&(m._user=Object.assign(Object.assign({},m._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},m._possibleFirstTouchMetadata),m._user.analyticsOnlyMetadata)}))}_flushImmediately(){this._client.flush().catch(m=>{e.Log.error(m)})}_isNewSession(m){return Math.abs(m.data.startTime-Date.now())<1e3}_getSessionFromClient(){return this._client.getContext().session}static getAllMetadata(){return(0,l._gatherAllMetadata)((0,a._getSafeUrl)())}};return Os.AutoCapture=h,Os}var xR;function EX(){return xR||(xR=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigAutoCapturePlugin=e.runStatsigAutoCapture=e.AutoCapture=e.AutoCaptureEventName=void 0;const t=Nn(),n=CX();Object.defineProperty(e,"AutoCapture",{enumerable:!0,get:function(){return n.AutoCapture}}),Object.defineProperty(e,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return n.StatsigAutoCapturePlugin}}),Object.defineProperty(e,"runStatsigAutoCapture",{enumerable:!0,get:function(){return n.runStatsigAutoCapture}});var r=Ff();Object.defineProperty(e,"AutoCaptureEventName",{enumerable:!0,get:function(){return r.AutoCaptureEventName}});const i=Object.assign((0,t._getStatsigGlobal)(),{AutoCapture:n.AutoCapture,runStatsigAutoCapture:n.runStatsigAutoCapture,StatsigAutoCapturePlugin:n.StatsigAutoCapturePlugin});e.default=i})(Nv)),Nv}EX();function _T(e,t,n,r){return hr(e).logEvent(t,n,r)}function $e(e,t,n){return hr(e).checkGate(t,n)}function Zt(e,t,n){return hr(e).getDynamicConfig(t,n)}function NB(e,t,n){return hr(e).getExperiment(t,n)}function an(e,t,n){return hr(e).getLayer(t,n)}const SX=ut(()=>new fX.LocalOverrideAdapter),OX=e=>{var n,r,i;const t={};return typeof((n=e==null?void 0:e.custom)==null?void 0:n.auth_status)=="string"&&(t.auth_status=e.custom.auth_status),typeof(e==null?void 0:e.locale)=="string"&&(t.browser_locale=e.locale),typeof((r=e==null?void 0:e.custom)==null?void 0:r.container_build_number)=="string"&&(t.container_build_number=e.custom.container_build_number),typeof((i=e==null?void 0:e.custom)==null?void 0:i.container_build_version)=="string"&&(t.container_build_version=e.custom.container_build_version),t};class TX extends xB.StatsigClient{constructor(){super(...arguments);U(this,"commonMetadata",{})}logEvent(n,r,i){var o;const s=S(S({},this.commonMetadata),typeof n=="string"?i:n.metadata);super.logEvent(typeof n=="string"?n:n.eventName,typeof n=="string"?r:(o=n.value)!=null?o:void 0,s)}}const hr=ut(e=>{const t=xt(e),n=SX(e),r=new TX(nX,t.statsigPayload.user,{environment:{tier:rX},networkConfig:{api:window.location.origin+"/v1",preventAllNetworkTraffic:!1},loggingBufferMaxSize:100,disableLogging:!1,disableStorage:!1,overrideAdapter:n,logEventCompressionMode:xB.LogEventCompressionMode.Forced});return r.commonMetadata=OX(t.statsigPayload.user),r.dataAdapter.setData(JSON.stringify(t.statsigPayload)),r.initializeSync(),r});function Hu(){return hr(At())}const ft={logEvent:(e,t,n)=>{TB.postTask(()=>{Hu().logEvent(e,t!=null?t:void 0,n)},{priority:"background"})},checkGate:e=>Hu().checkGate(e),getUser:()=>Hu().getContext().user,getLayerValue(e){var t;return(t=Hu().getLayer(e.layerName,{disableExposureLog:!e.shouldLogExposure}).get(e.key))!=null?t:e.defaultValue},checkGateWithExposureLoggingDisabled:e=>Hu().checkGate(e,{disableExposureLog:!0})},xw=window.location.host+"/ces",Iw="https",wX={},AX=wX,RB="".concat(Iw,"://").concat(xw),PB={disableClientPersistence:!0,integrations:{"Segment.io":{apiHost:"".concat(xw,"/v1"),host:RB,protocol:Iw,deliveryStrategy:S({},AX)}}},kB={writeKey:"oai",cdnURL:"".concat(Iw,"://").concat(xw)};var Nw={},Xt=(e=>(e[e.Required=0]="Required",e[e.SendIfAvailable=1]="SendIfAvailable",e[e.Anonymous=2]="Anonymous",e))(Xt||{}),KU;const Je=(KU=Nw.VITE_SHARED_API_URL)!=null?KU:window.location.origin+"/backend-api";var JU;const Rw=(JU=Nw.VITE_SHARED_ANON_API_URL)!=null?JU:window.location.origin+"/backend-anon";var XU;const Bp=(XU=Nw.VITE_PUBLIC_API_URL)!=null?XU:window.location.origin+"/public-api",xX="v4-2023-04-27",aUe={IT:"Italy",KR:"South Korea"},IX={AD:"Andorra",AI:"Anguilla",AT:"Austria",AW:"Aruba",AX:"Ã…land Islands",BG:"Bulgaria",BL:"Saint BarthÃ©lemy",BM:"Bermuda",BQ:"Caribbean Netherlands",BV:"Bouvet Island",CH:"Switzerland",CW:"CuraÃ§ao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",EE:"Estonia",ES:"Spain",FI:"Finland",FK:"Falkland Islands",FO:"Faroe Islands",FR:"France",GB:"United Kingdom",GF:"French Guiana",GG:"Guernsey",GI:"Gibraltar",GL:"Greenland",GP:"Guadeloupe",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",HR:"Croatia",HU:"Hungary",IC:"Canary Islands",IE:"Ireland",IM:"Isle of Man",IO:"British Indian Ocean Territory",IS:"Iceland",IT:"Italy",JE:"Jersey",KY:"Cayman Islands",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",ME:"Montenegro",MF:"Saint Martin",MQ:"Martinique",MS:"Montserrat",MT:"Malta",NC:"New Caledonia",NL:"Netherlands",NO:"Norway",PF:"French Polynesia",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PT:"Portugal",RE:"Reunion",SE:"Sweden",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SM:"San Marino",SX:"Sint Maarten",TC:"Turks and Caicos Islands",TF:"French Southern Territories",VG:"British Virgin Islands",WF:"Wallis and Futuna",YT:"Mayotte",ZA:"South Africa",ID:"Indonesia",BE:"Belgium",IN:"India",RO:"Romania",CA:"Canada",SG:"Singapore"},MB=[/^https:\/\/ab\.chatgpt\.com\//,e=>e.startsWith(RB),e=>{const t=[Je,Rw],n=[/^\/sentinel\//];for(const r of t)if(e.startsWith(r)){const i=e.slice(r.length);return n.some(s=>s.test(i))}return!1}];var ks,Rf,Pf,kf,Mf,za;class NX{constructor(){Nt(this,ks,!1);Nt(this,Rf,new Set);Nt(this,Pf,new Set);Nt(this,kf,new Map);Nt(this,Mf,!1);Nt(this,za,new Map);U(this,"addAction",(t,n)=>{fe(this,ks)||(console.error("Should not call addAction before initialize"),this.initialize()),Jn.addAction(t,n)})}initialize(t){var n;if(!fe(this,ks)){{const r=kg?(n=ot==null?void 0:ot.getTelemetryConfig)==null?void 0:n.call(ot):void 0,i=r!==void 0?r.datadogService:"chatgpt-web",s=1;Jn.init(S(I(S({applicationId:"fd6e06b8-4825-4fbb-8db4-2a243f92c4bc",clientToken:"pub1f79f8ac903a5872ae5f53026d20a77c",site:"datadoghq.com",service:i,env:"prod",version:"aa305fcfa301df38d2bd1366c6d68422a7fee6d3"},document.documentElement.dataset.jsp?{profilingSampleRate:100}:{}),{sessionSampleRate:s,sessionReplaySampleRate:0,trackUserInteractions:!1,defaultPrivacyLevel:iJ.MASK_USER_INPUT,beforeSend:o=>{if(o.type==="error"&&VJ(o.error))return!1;if(o.view.url=wd(o.view.url),o.type==="resource"){const a=sR(o.resource.url);if(a!=null&&(a.hostname===window.location.host||a.pathname.startsWith("/ces/")))return!1;o.resource.url=wd(o.resource.url)}return o.type==="error"&&o.error.resource&&(o.error.resource.url=wd(o.error.resource.url)),!0},allowedTrackingOrigins:[/chatgpt\.com/],allowedTracingUrls:[{match:o=>{const a=sR(o);if(a==null)return!1;const{hostname:c,pathname:l}=a;return!(!["openai.com",window.location.host].some(d=>c.endsWith(d))||c===window.location.host||l.startsWith("/ces/")||l.startsWith("/healthcheck"))},propagatorTypes:["datadog"]}],traceSampleRate:s,excludedActivityUrls:MB}),t)),Jn.setGlobalContextProperty("track","stable"),r!==void 0&&Jn.setGlobalContextProperty("is_electron_desktop_app",!0),Jn.setGlobalContextProperty("is_authenticated",!1)}Ut(this,ks,!0),mT.instance.setLogger(this)}}get viewId(){var t,n;return(n=(t=Jn.getInternalContext())==null?void 0:t.view)==null?void 0:n.id}get sessionId(){var t;return(t=Jn.getInternalContext())==null?void 0:t.session_id}addError(t,n){if(console.error(t,n),fe(this,ks)||(console.error("Should not call addError before initialize"),this.initialize()),t instanceof Ht)return;const r=typeof t=="string"?new Error(t):t;fe(this,Mf)||(ft.logEvent("session_has_datadog_error"),Ut(this,Mf,!0)),Jn.addError(r,n)}addTiming(t,{time:n,serialTimingGroup:r}={}){const i=n!=null?n:Date.now(),s=i-performance.timeOrigin;if(performance.mark(t,{startTime:Math.max(0,s)}),r){fe(this,za).has(r)||fe(this,za).set(r,0);const o=fe(this,za).get(r);performance.measure(t,{start:o,end:s}),fe(this,za).set(r,s)}fe(this,kf).set(t,i),fe(this,ks)||(console.error("Should not call addTiming before initialize"),this.initialize()),Jn.addTiming(t,n)}addFirstTiming(t,{time:n,serialTimingGroup:r}={}){fe(this,Rf).has(t)||(fe(this,Rf).add(t),this.addTiming(t,{time:n,serialTimingGroup:r}))}addDurationVital(t,n,r){Jn.addDurationVital(t,{startTime:n,duration:r})}addFirstDurationVital(t,n,r){fe(this,Pf).has(t)||(fe(this,Pf).add(t),this.addDurationVital(t,n,r))}getTimings(){return fe(this,kf)}setUser(t,n){var i;Jn.setGlobalContextProperty("is_authenticated",!0);const r={id:t.id,account_plan_type:(i=n==null?void 0:n.planType)!=null?i:"none",workspace_id:n==null?void 0:n.id};fe(this,ks)||(console.error("Should not call setUser before initialize"),this.initialize()),Jn.setUser(r)}addFeatureFlagEvaluation(t,n){Jn.addFeatureFlagEvaluation(t,n)}}ks=new WeakMap,Rf=new WeakMap,Pf=new WeakMap,kf=new WeakMap,Mf=new WeakMap,za=new WeakMap;const Q=new NX,RX=Object.freeze(Object.defineProperty({__proto__:null,DatadogLogger:Q},Symbol.toStringTag,{value:"Module"})),PX=["disable-pli","disable-rq-timeouts","defer-pc","use-observe","user-settings-context"];function Uf(e,t,{disableExposureLog:n}={}){return an(e,"3671511802",{disableExposureLog:n}).get(t,!1)}function kX(e){for(const t of PX)Q.addFeatureFlagEvaluation("js-perf-".concat(t),Uf(e,t,{disableExposureLog:!0}))}function MX(e,t){var n;return e instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,e,t)),e}function oi(e,t="<unknown>"){if(e==null)throw MX(new Error("".concat(t,": unexpected nullish value: ").concat(JSON.stringify(e))),oi);return e}const DB=3480*1e3,DX=DB;function LX(e){return e}const LB=JSON.stringify,on=ut(jX);function jX(e){let t=!0;return e&&(t=Uf(e,"disable-rq-timeouts")),new sJ({defaultOptions:{queries:{gcTime:t?1/0:DX,staleTime:t?1/0:DB,retry:!1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,networkMode:"always",queryKeyHashFn:LB,throwOnError:(n,r)=>{if(!(n instanceof Ht||n instanceof Dt))try{Q.addError(n,{queryKey:r.queryKey.map(String).join(","),queryHash:r.queryHash})}catch(i){console.error(i)}return!1}},hydrate:{deserializeData:LX}}})}const Gp=E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!Gp)throw new Error("Missing react shared internals. Check version.");function Mg(){const e=Gp==null?void 0:Gp.H;return e!=null&&e.useState!==e.useReducer}function et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var FX={};function Dg(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:FX}var jB=Object.assign,Sm=Object.getOwnPropertyDescriptor,rs=Object.defineProperty,Bf=Object.prototype,vT=[];Object.freeze(vT);var Pw={};Object.freeze(Pw);var UX=typeof Proxy<"u",BX=Object.toString();function FB(){UX||et("Proxy not available")}function UB(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var pl=function(){};function Rr(e){return typeof e=="function"}function ac(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Lg(e){return e!==null&&typeof e=="object"}function qs(e){if(!Lg(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===BX}function BB(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Gf(e,t,n){rs(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function GB(e,t,n){rs(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function na(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Lg(r)&&r[n]===!0}}function du(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function GX(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Ms(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var WB=typeof Object.getOwnPropertySymbols<"u";function WX(e){var t=Object.keys(e);if(!WB)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Bf.propertyIsEnumerable.call(e,r)})):t}var Vl=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:WB?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function qB(e){return e===null?null:typeof e=="object"?""+e:e}function Ls(e,t){return Bf.hasOwnProperty.call(e,t)}var qX=Object.getOwnPropertyDescriptors||function(t){var n={};return Vl(t).forEach(function(r){n[r]=Sm(t,r)}),n};function Er(e,t){return!!(e&t)}function Sr(e,t,n){return n?e|=t:e&=~t,e}function IR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function VX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HX(r.key),r)}}function fu(e,t,n){return t&&VX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ml(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zX(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wo.apply(null,arguments)}function VB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yT(e,t)}function yT(e,t){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yT(e,t)}function $X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(e){if(typeof e=="string")return IR(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IR(e,t):void 0}}var ts=Symbol("mobx-stored-annotations");function Ci(e){function t(n,r){if(qf(r))return e.decorate_20223_(n,r);Wf(n,r,e)}return Object.assign(t,e)}function Wf(e,t,n){Ls(e,ts)||Gf(e,ts,Wo({},e[ts])),nQ(n)||(e[ts][t]=n)}function YX(e){return Ls(e,ts)||Gf(e,ts,Wo({},e[ts])),e[ts]}function qf(e){return typeof e=="object"&&typeof e.kind=="string"}var je=Symbol("mobx administration"),ra=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=ht.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return c6(this)},t.reportChanged=function(){or(),l6(this),ar()},t.toString=function(){return this.name_},fu(e,[{key:"isBeingObserved",get:function(){return Er(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Er(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Er(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Sr(this.flags_,e.diffValueMask_,r===1)}}])})();ra.isBeingObservedMask_=1;ra.isPendingUnobservationMask_=2;ra.diffValueMask_=4;var kw=na("Atom",ra);function jg(e,t,n){t===void 0&&(t=pl),n===void 0&&(n=pl);var r=new ra(e);return t!==pl&&v6(r,t),n!==pl&&jw(r,n),r}function KX(e,t){return e===t}function JX(e,t){return qw(e,t)}function XX(e,t){return qw(e,t,1)}function QX(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var cc={identity:KX,structural:JX,default:QX,shallow:XX};function lc(e,t,n){return $g(e)?e:Array.isArray(e)?mn.array(e,{name:n}):qs(e)?mn.object(e,void 0,{name:n}):du(e)?mn.map(e,{name:n}):Ms(e)?mn.set(e,{name:n}):typeof e=="function"&&!Hl(e)&&!zl(e)?BB(e)?dc(e):$l(n,e):e}function ZX(e,t,n){if(e==null||jn(e)||pr(e)||Fn(e)||gn(e))return e;if(Array.isArray(e))return mn.array(e,{name:n,deep:!1});if(qs(e))return mn.object(e,void 0,{name:n,deep:!1});if(du(e))return mn.map(e,{name:n,deep:!1});if(Ms(e))return mn.set(e,{name:n,deep:!1})}function Fg(e){return e}function eQ(e,t){return qw(e,t)?t:e}var $B="override",tQ=Ci({annotationType_:$B,make_:rQ,extend_:iQ,decorate_20223_:sQ});function nQ(e){return e.annotationType_===$B}function rQ(e,t){return 0}function iQ(e,t,n,r){et("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function sQ(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function Vf(e,t){return{annotationType_:e,options_:t,make_:oQ,extend_:aQ,decorate_20223_:cQ}}function oQ(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Hl(n.value))return 1;var s=HB(e,this,t,n,!1);return rs(r,t,s),2}function aQ(e,t,n,r){var i=HB(e,this,t,n);return e.defineProperty_(t,i,r)}function cQ(e,t){var n=t.kind,r=t.name,i=t.addInitializer,s=this,o=function(l){var u,d,f,h;return qo((u=(d=s.options_)==null?void 0:d.name)!=null?u:r.toString(),l,(f=(h=s.options_)==null?void 0:h.autoAction)!=null?f:!1)};if(n=="field")return function(c){var l,u=c;return Hl(u)||(u=o(u)),(l=s.options_)!=null&&l.bound&&(u=u.bind(this),u.isMobxAction=!0),u};if(n=="method"){var a;return Hl(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&i(function(){var c=this,l=c[r].bind(c);l.isMobxAction=!0,c[r]=l}),e}et("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+("\n'"+s.annotationType_+"' can only be used on properties with a function value."))}function lQ(e,t,n,r){t.annotationType_,r.value}function HB(e,t,n,r,i){var s,o,a,c,l,u,d;i===void 0&&(i=ce.safeDescriptors),lQ(e,t,n,r);var f=r.value;if((s=t.options_)!=null&&s.bound){var h;f=f.bind((h=e.proxy_)!=null?h:e.target_)}return{value:qo((o=(a=t.options_)==null?void 0:a.name)!=null?o:n.toString(),f,(c=(l=t.options_)==null?void 0:l.autoAction)!=null?c:!1,(u=t.options_)!=null&&u.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function zB(e,t){return{annotationType_:e,options_:t,make_:uQ,extend_:dQ,decorate_20223_:fQ}}function uQ(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!Ls(e.target_,t)||!zl(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(zl(n.value))return 1;var s=YB(e,this,t,n,!1,!1);return rs(r,t,s),2}function dQ(e,t,n,r){var i,s=YB(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,s,r)}function fQ(e,t){var n,r=t.name,i=t.addInitializer;return zl(e)||(e=dc(e)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),e}function hQ(e,t,n,r){t.annotationType_,r.value}function YB(e,t,n,r,i,s){s===void 0&&(s=ce.safeDescriptors),hQ(e,t,n,r);var o=r.value;if(zl(o)||(o=dc(o)),i){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function Mw(e,t){return{annotationType_:e,options_:t,make_:pQ,extend_:mQ,decorate_20223_:gQ}}function pQ(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function mQ(e,t,n,r){return _Q(e,this,t,n),e.defineComputedProperty_(t,Wo({},this.options_,{get:n.get,set:n.set}),r)}function gQ(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var s=Ac(this)[je],o=Wo({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new Ai(o))}),function(){return this[je].getObservablePropValue_(r)}}function _Q(e,t,n,r){t.annotationType_,r.get}function Ug(e,t){return{annotationType_:e,options_:t,make_:vQ,extend_:yQ,decorate_20223_:bQ}}function vQ(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function yQ(e,t,n,r){var i,s;return CQ(e,this),e.defineObservableProperty_(t,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:lc,r)}function bQ(e,t){var n=this,r=t.kind,i=t.name,s=new WeakSet;function o(a,c){var l,u,d=Ac(a)[je],f=new jo(c,(l=(u=n.options_)==null?void 0:u.enhancer)!=null?l:lc,"ObservableObject."+i.toString(),!1);d.values_.set(i,f),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[je].getObservablePropValue_(i)},set:function(c){return s.has(this)||o(this,c),this[je].setObservablePropValue_(i,c)},init:function(c){return s.has(this)||o(this,c),c}}}function CQ(e,t,n,r){t.annotationType_}var EQ="true",SQ=KB();function KB(e){return{annotationType_:EQ,options_:e,make_:OQ,extend_:TQ,decorate_20223_:wQ}}function OQ(e,t,n,r){var i,s;if(n.get)return hu.make_(e,t,n,r);if(n.set){var o=qo(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:ce.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(rs(r,t,{configurable:!0,set:o}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(BB(n.value)){var c,l=(c=this.options_)!=null&&c.autoBind?dc.bound:dc;return l.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?$l.bound:$l;return u.make_(e,t,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?mn.ref:mn;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function TQ(e,t,n,r){var i,s;if(n.get)return hu.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:ce.safeDescriptors?e.isPlainObject_:!0,set:qo(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?mn.ref:mn;return a.extend_(e,t,n,r)}function wQ(e,t){et("'"+this.annotationType_+"' cannot be used as a decorator")}var AQ="observable",xQ="observable.ref",IQ="observable.shallow",NQ="observable.struct",JB={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(JB);function Zh(e){return e||JB}var bT=Ug(AQ),RQ=Ug(xQ,{enhancer:Fg}),PQ=Ug(IQ,{enhancer:ZX}),kQ=Ug(NQ,{enhancer:eQ}),XB=Ci(bT);function ep(e){return e.deep===!0?lc:e.deep===!1?Fg:DQ(e.defaultDecorator)}function MQ(e){var t;return e?(t=e.defaultDecorator)!=null?t:KB(e):void 0}function DQ(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:lc}function QB(e,t,n){if(qf(t))return bT.decorate_20223_(e,t);if(ac(t)){Wf(e,t,bT);return}return $g(e)?e:qs(e)?mn.object(e,t,n):Array.isArray(e)?mn.array(e,t):du(e)?mn.map(e,t):Ms(e)?mn.set(e,t):typeof e=="object"&&e!==null?e:mn.box(e,t)}jB(QB,XB);var LQ={box:function(t,n){var r=Zh(n);return new jo(t,ep(r),r.name,!0,r.equals)},array:function(t,n){var r=Zh(n);return(ce.useProxies===!1||r.proxy===!1?XZ:GZ)(t,ep(r),r.name)},map:function(t,n){var r=Zh(n);return new Bw(t,ep(r),r.name)},set:function(t,n){var r=Zh(n);return new Gw(t,ep(r),r.name)},object:function(t,n,r){return ia(function(){return Fw(ce.useProxies===!1||(r==null?void 0:r.proxy)===!1?Ac({},r):jZ({},r),t,n)})},ref:Ci(RQ),shallow:Ci(PQ),deep:XB,struct:Ci(kQ)},mn=jB(QB,LQ),ZB="computed",jQ="computed.struct",CT=Mw(ZB),FQ=Mw(jQ,{equals:cc.structural}),hu=function(t,n){if(qf(n))return CT.decorate_20223_(t,n);if(ac(n))return Wf(t,n,CT);if(qs(t))return Ci(Mw(ZB,t));var r=qs(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Ai(r)};Object.assign(hu,CT);hu.struct=Ci(FQ);var NR,RR,Om=0,UQ=1,BQ=(NR=(RR=Sm(function(){},"name"))==null?void 0:RR.configurable)!=null?NR:!1,PR={value:"action",configurable:!0,writable:!1,enumerable:!1};function qo(e,t,n,r){n===void 0&&(n=!1);function i(){return e6(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},BQ&&(PR.value=e,rs(i,"name",PR)),i}function e6(e,t,n,r,i){var s=t6(e,t);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{n6(s)}}function t6(e,t,n,r){var i=!1,s=0,o=ce.trackingDerivation,a=!t||!o;or();var c=ce.allowStateChanges;a&&(wc(),c=Bg(!0));var l=Wg(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:c,prevAllowStateReads_:l,notifySpy_:i,startTime_:s,actionId_:UQ++,parentActionId_:Om};return Om=u.actionId_,u}function n6(e){Om!==e.actionId_&&et(30),Om=e.parentActionId_,e.error_!==void 0&&(ce.suppressReactionErrors=!0),Gg(e.prevAllowStateChanges_),Il(e.prevAllowStateReads_),ar(),e.runAsAction_&&js(e.prevDerivation_),ce.suppressReactionErrors=!1}function Dw(e,t){var n=Bg(e);try{return t()}finally{Gg(n)}}function Bg(e){var t=ce.allowStateChanges;return ce.allowStateChanges=e,t}function Gg(e){ce.allowStateChanges=e}var jo=(function(e){function t(r,i,s,o,a){var c;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=cc.default),c=e.call(this,s)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=i,c.name_=s,c.equals=a,c.value_=i(r,void 0,s),c}VB(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==ce.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(Yr(this)){var s=Kr(this,{object:this,type:is,newValue:i});if(!s)return ce.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?ce.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),Ei(this)&&Si(this,{type:is,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return Hf(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:is,newValue:this.value_,oldValue:void 0}),zf(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return qB(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(ra),Lw=na("ObservableValue",jo),Ai=(function(){function e(n){this.dependenciesState_=ht.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ht.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new wm(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Tm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||et(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=qo("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?cc.structural:cc.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){XQ(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&et(32,this.name_,this.derivation),ce.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)ET(this)&&(this.warnAboutUntrackedRead_(),or(),this.value_=this.computeValue_(!1),ar());else if(c6(this),ET(this)){var r=ce.trackingContext;this.keepAlive_&&!r&&(ce.trackingContext=this),this.trackAndCompute()&&JQ(this),ce.trackingContext=r}var i=this.value_;if(Wp(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&et(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else et(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===ht.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Wp(r)||Wp(s)||!this.equals_(r,s);return o&&(this.value_=s),o},t.computeValue_=function(r){this.isComputing=!0;var i=Bg(!1),s;if(r)s=r6(this,this.derivation,this.scope_);else if(ce.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new wm(o)}return Gg(i),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(ST(this),this.value_=void 0)},t.observe_=function(r,i){var s=this,o=!0,a=void 0;return qg(function(){var c=s.get();if(!o||i){var l=wc();r({observableKind:"computed",debugObjectName:s.name_,type:is,object:s,newValue:c,oldValue:a}),js(l)}o=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return qB(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},fu(e,[{key:"isComputing",get:function(){return Er(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Er(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Er(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Er(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Er(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Sr(this.flags_,e.diffValueMask_,r===1)}}])})();Ai.isComputingMask_=1;Ai.isRunningSetterMask_=2;Ai.isBeingObservedMask_=4;Ai.isPendingUnobservationMask_=8;Ai.diffValueMask_=16;var uc=na("ComputedValue",Ai),ht;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(ht||(ht={}));var Tm;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Tm||(Tm={}));var wm=function(t){this.cause=void 0,this.cause=t};function Wp(e){return e instanceof wm}function ET(e){switch(e.dependenciesState_){case ht.UP_TO_DATE_:return!1;case ht.NOT_TRACKING_:case ht.STALE_:return!0;case ht.POSSIBLY_STALE_:{for(var t=Wg(!0),n=wc(),r=e.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(uc(o)){if(ce.disableErrorBoundaries)o.get();else try{o.get()}catch(a){return js(n),Il(t),!0}if(e.dependenciesState_===ht.STALE_)return js(n),Il(t),!0}}return i6(e),js(n),Il(t),!1}}}function GQ(){return ce.trackingDerivation!==null}function r6(e,t,n){var r=Wg(!0);i6(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++ce.runId;var i=ce.trackingDerivation;ce.trackingDerivation=e,ce.inBatch++;var s;if(ce.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(o){s=new wm(o)}return ce.inBatch--,ce.trackingDerivation=i,WQ(e),Il(r),s}function WQ(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ht.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,e.newObserving_=null,s=t.length;s--;){var c=t[s];c.diffValue===0&&o6(c,e),c.diffValue=0}for(;i--;){var l=n[i];l.diffValue===1&&(l.diffValue=0,KQ(l,e))}r!==ht.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function ST(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)o6(t[n],e);e.dependenciesState_=ht.NOT_TRACKING_}function $f(e){var t=wc();try{return e()}finally{js(t)}}function wc(){var e=ce.trackingDerivation;return ce.trackingDerivation=null,e}function js(e){ce.trackingDerivation=e}function Wg(e){var t=ce.allowStateReads;return ce.allowStateReads=e,t}function Il(e){ce.allowStateReads=e}function i6(e){if(e.dependenciesState_!==ht.UP_TO_DATE_){e.dependenciesState_=ht.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ht.UP_TO_DATE_}}var qQ=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Ad=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},qp=!0,s6=!1,ce=(function(){var e=Dg();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(qp=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Ad().version&&(qp=!1),qp?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ad):(setTimeout(function(){s6||et(35)},1),new Ad)})();function VQ(){if((ce.pendingReactions.length||ce.inBatch||ce.isRunningReactions)&&et(36),s6=!0,qp){var e=Dg();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),ce=new Ad}}function $Q(){return ce}function HQ(){var e=new Ad;for(var t in e)qQ.indexOf(t)===-1&&(ce[t]=e[t]);ce.allowStateChanges=!ce.enforceActions}function zQ(e){return e.observers_&&e.observers_.size>0}function YQ(e){return e.observers_}function KQ(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function o6(e,t){e.observers_.delete(t),e.observers_.size===0&&a6(e)}function a6(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,ce.pendingUnobservations.push(e))}function or(){ce.inBatch++}function ar(){if(--ce.inBatch===0){u6();for(var e=ce.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Ai&&n.suspend_())}ce.pendingUnobservations=[]}}function c6(e){var t=ce.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&ce.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&ce.inBatch>0&&a6(e),!1)}function l6(e){e.lowestObserverState_!==ht.STALE_&&(e.lowestObserverState_=ht.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ht.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=ht.STALE_}))}function JQ(e){e.lowestObserverState_!==ht.STALE_&&(e.lowestObserverState_=ht.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ht.POSSIBLY_STALE_?t.dependenciesState_=ht.STALE_:t.dependenciesState_===ht.UP_TO_DATE_&&(e.lowestObserverState_=ht.UP_TO_DATE_)}))}function XQ(e){e.lowestObserverState_===ht.UP_TO_DATE_&&(e.lowestObserverState_=ht.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ht.UP_TO_DATE_&&(t.dependenciesState_=ht.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ni=(function(){function e(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ht.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Tm.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ce.pendingReactions.push(this),u6())},t.runReaction_=function(){if(!this.isDisposed){or(),this.isScheduled=!1;var r=ce.trackingContext;if(ce.trackingContext=this,ET(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}ce.trackingContext=r,ar()}},t.track=function(r){if(!this.isDisposed){or(),this.isRunning=!0;var i=ce.trackingContext;ce.trackingContext=this;var s=r6(this,r,void 0);ce.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ST(this),Wp(s)&&this.reportExceptionInDerivation_(s.cause),ar()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ce.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";ce.suppressReactionErrors||console.error(s,r),ce.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(or(),ST(this),ar()))},t.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[je]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},fu(e,[{key:"isDisposed",get:function(){return Er(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Er(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Er(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Er(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Sr(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Er(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Sr(this.flags_,e.diffValueMask_,r===1)}}])})();ni.isDisposedMask_=1;ni.isScheduledMask_=2;ni.isTrackPendingMask_=4;ni.isRunningMask_=8;ni.diffValueMask_=16;function QQ(e){return ce.globalReactionErrorHandlers.push(e),function(){var t=ce.globalReactionErrorHandlers.indexOf(e);t>=0&&ce.globalReactionErrorHandlers.splice(t,1)}}var ZQ=100,OT=function(t){return t()};function u6(){ce.inBatch>0||ce.isRunningReactions||OT(eZ)}function eZ(){ce.isRunningReactions=!0;for(var e=ce.pendingReactions,t=0;e.length>0;){++t===ZQ&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}ce.isRunningReactions=!1}var Am=na("Reaction",ni);function tZ(e){var t=OT;OT=function(r){return e(function(){return t(r)})}}function xd(){return!1}function d6(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var f6="action",nZ="action.bound",h6="autoAction",rZ="autoAction.bound",p6="<unnamed action>",TT=Vf(f6),iZ=Vf(nZ,{bound:!0}),wT=Vf(h6,{autoAction:!0}),sZ=Vf(rZ,{autoAction:!0,bound:!0});function m6(e){var t=function(r,i){if(Rr(r))return qo(r.name||p6,r,e);if(Rr(i))return qo(r,i,e);if(qf(i))return(e?wT:TT).decorate_20223_(r,i);if(ac(i))return Wf(r,i,e?wT:TT);if(ac(r))return Ci(Vf(e?h6:f6,{name:r,autoAction:e}))};return t}var Io=m6(!1);Object.assign(Io,TT);var $l=m6(!0);Object.assign($l,wT);Io.bound=Ci(iZ);$l.bound=Ci(sZ);function xm(e){return e6(e.name||p6,!1,e,this,void 0)}function Hl(e){return Rr(e)&&e.isMobxAction===!0}function qg(e,t){var n,r,i,s;t===void 0&&(t=Pw);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new ni(o,function(){this.track(d)},t.onError,t.requiresObservable);else{var l=g6(t),u=!1;c=new ni(o,function(){u||(u=!0,l(function(){u=!1,c.isDisposed||c.track(d)}))},t.onError,t.requiresObservable)}function d(){e(c)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||c.schedule_(),c.getDisposer_((s=t)==null?void 0:s.signal)}var oZ=function(t){return t()};function g6(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:oZ}function _6(e,t,n){var r,i,s;n===void 0&&(n=Pw);var o=(r=n.name)!=null?r:"Reaction",a=Io(o,n.onError?aZ(n.onError,t):t),c=!n.scheduler&&!n.delay,l=g6(n),u=!0,d=!1,f,h=n.compareStructural?cc.structural:n.equals||cc.default,p=new ni(o,function(){u||c?m():d||(d=!0,l(m))},n.onError,n.requiresObservable);function m(){if(d=!1,!p.isDisposed){var g=!1,y=f;p.track(function(){var v=Dw(!1,function(){return e(p)});g=u||!h(f,v),f=v}),(u&&n.fireImmediately||!u&&g)&&a(f,y,p),u=!1}}return(i=n)!=null&&(i=i.signal)!=null&&i.aborted||p.schedule_(),p.getDisposer_((s=n)==null?void 0:s.signal)}function aZ(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var cZ="onBO",lZ="onBUO";function v6(e,t,n){return y6(cZ,e,t,n)}function jw(e,t,n){return y6(lZ,e,t,n)}function y6(e,t,n,r){var i=typeof r=="function"?Vs(t,n):Vs(t),s=Rr(r)?r:n,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var uZ="never",tp="always",dZ="observed";function b6(e){e.isolateGlobalState===!0&&VQ();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(ce.useProxies=t===tp?!0:t===uZ?!1:typeof Proxy<"u"),t==="ifavailable"&&(ce.verifyProxies=!0),n!==void 0){var r=n===tp?tp:n===dZ;ce.enforceActions=r,ce.allowStateChanges=!(r===!0||r===tp)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(ce[i]=!!e[i])}),ce.allowStateReads=!ce.observableRequiresReaction,e.reactionScheduler&&tZ(e.reactionScheduler)}function Fw(e,t,n,r){var i=qX(t);return ia(function(){var s=Ac(e,r)[je];Vl(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),e}function C6(e,t){return E6(Vs(e,t))}function E6(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=hZ(e.observing_).map(E6)),t}function fZ(e,t){return S6(Vs(e,t))}function S6(e){var t={name:e.name_};return zQ(e)&&(t.observers=Array.from(YQ(e)).map(S6)),t}function hZ(e){return Array.from(new Set(e))}var pZ=0;function Vg(){this.message="FLOW_CANCELLED"}Vg.prototype=Object.create(Error.prototype);function mZ(e){return e instanceof Vg}var kv=zB("flow"),gZ=zB("flow.bound",{bound:!0}),dc=Object.assign(function(t,n){if(qf(n))return kv.decorate_20223_(t,n);if(ac(n))return Wf(t,n,kv);var r=t,i=r.name||"<unnamed flow>",s=function(){var a=this,c=arguments,l=++pZ,u=Io(i+" - runid: "+l+" - init",r).apply(a,c),d,f=void 0,h=new Promise(function(p,m){var g=0;d=m;function y(C){f=void 0;var b;try{b=Io(i+" - runid: "+l+" - yield "+g++,u.next).call(u,C)}catch(O){return m(O)}T(b)}function v(C){f=void 0;var b;try{b=Io(i+" - runid: "+l+" - yield "+g++,u.throw).call(u,C)}catch(O){return m(O)}T(b)}function T(C){if(Rr(C==null?void 0:C.then)){C.then(T,m);return}return C.done?p(C.value):(f=Promise.resolve(C.value),f.then(y,v))}y(void 0)});return h.cancel=Io(i+" - runid: "+l+" - cancel",function(){try{f&&kR(f);var p=u.return(void 0),m=Promise.resolve(p.value);m.then(pl,pl),kR(m),d(new Vg)}catch(g){d(g)}}),h};return s.isMobXFlow=!0,s},kv);dc.bound=Ci(gZ);function kR(e){Rr(e.cancel)&&e.cancel()}function _Z(e){return e}function zl(e){return(e==null?void 0:e.isMobXFlow)===!0}function vZ(e,t,n){var r;return Fn(e)||pr(e)||Lw(e)?r=$s(e):jn(e)&&(r=$s(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function yZ(e,t,n){return Rr(n)?CZ(e,t,n):bZ(e,t)}function bZ(e,t){return $s(e).intercept_(t)}function CZ(e,t,n){return $s(e,t).intercept_(n)}function O6(e,t){if(t===void 0)return uc(e);if(jn(e)===!1||!e[je].values_.has(t))return!1;var n=Vs(e,t);return uc(n)}function EZ(e){return O6(e)}function SZ(e,t){return O6(e,t)}function T6(e,t){return e?t!==void 0?jn(e)?e[je].values_.has(t):!1:jn(e)||!!e[je]||kw(e)||Am(e)||uc(e):!1}function $g(e){return T6(e)}function OZ(e,t){return T6(e,t)}function Kd(e){if(jn(e))return e[je].keys_();if(Fn(e)||gn(e))return Array.from(e.keys());if(pr(e))return e.map(function(t,n){return n});et(5)}function TZ(e){if(jn(e))return Kd(e).map(function(t){return e[t]});if(Fn(e))return Kd(e).map(function(t){return e.get(t)});if(gn(e))return Array.from(e.values());if(pr(e))return e.slice();et(6)}function wZ(e){if(jn(e))return Kd(e).map(function(t){return[t,e[t]]});if(Fn(e))return Kd(e).map(function(t){return[t,e.get(t)]});if(gn(e))return Array.from(e.entries());if(pr(e))return e.map(function(t,n){return[n,t]});et(7)}function w6(e,t,n){if(arguments.length===2&&!gn(e)){or();var r=t;try{for(var i in r)w6(e,i,r[i])}finally{ar()}return}jn(e)?e[je].set_(t,n):Fn(e)?e.set(t,n):gn(e)?e.add(t):pr(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&et("Invalid index: '"+t+"'"),or(),t>=e.length&&(e.length=t+1),e[t]=n,ar()):et(8)}function AZ(e,t){jn(e)?e[je].delete_(t):Fn(e)||gn(e)?e.delete(t):pr(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):et(9)}function A6(e,t){if(jn(e))return e[je].has_(t);if(Fn(e))return e.has(t);if(gn(e))return e.has(t);if(pr(e))return t>=0&&t<e.length;et(10)}function xZ(e,t){if(A6(e,t)){if(jn(e))return e[je].get_(t);if(Fn(e))return e.get(t);if(pr(e))return e[t];et(11)}}function IZ(e,t,n){if(jn(e))return e[je].defineProperty_(t,n);et(39)}function x6(e){if(jn(e))return e[je].ownKeys_();et(38)}function NZ(e,t,n,r){return Rr(n)?PZ(e,t,n,r):RZ(e,t,n)}function RZ(e,t,n){return $s(e).observe_(t,n)}function PZ(e,t,n,r){return $s(e,t).observe_(n,r)}function np(e,t,n){return e.set(t,n),n}function il(e,t){if(e==null||typeof e!="object"||e instanceof Date||!$g(e))return e;if(Lw(e)||uc(e))return il(e.get(),t);if(t.has(e))return t.get(e);if(pr(e)){var n=np(t,e,new Array(e.length));return e.forEach(function(o,a){n[a]=il(o,t)}),n}if(gn(e)){var r=np(t,e,new Set);return e.forEach(function(o){r.add(il(o,t))}),r}if(Fn(e)){var i=np(t,e,new Map);return e.forEach(function(o,a){i.set(a,il(o,t))}),i}else{var s=np(t,e,{});return x6(e).forEach(function(o){Bf.propertyIsEnumerable.call(e,o)&&(s[o]=il(e[o],t))}),s}}function kZ(e,t){return il(e,new Map)}function MZ(){}function Ji(e,t){t===void 0&&(t=void 0),or();try{return e.apply(t)}finally{ar()}}function AT(e,t,n){return arguments.length===1||t&&typeof t=="object"?DZ(e,t):I6(e,t,n||{})}function I6(e,t,n){var r;if(typeof n.timeout=="number"){var i=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!o[je].isDisposed)if(o(),n.onError)n.onError(i);else throw i},n.timeout)}n.name="When";var s=qo("When-effect",t),o=qg(function(a){var c=Dw(!1,e);c&&(a.dispose(),r&&clearTimeout(r),s())},n);return o}function DZ(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,i,s=new Promise(function(o,a){var c,l=I6(e,o,Wo({},t,{onError:a}));r=function(){l(),a(new Error("WHEN_CANCELLED"))},i=function(){l(),a(new Error("WHEN_ABORTED"))},t==null||(c=t.signal)==null||c.addEventListener==null||c.addEventListener("abort",i)}).finally(function(){var o;return t==null||(o=t.signal)==null||o.removeEventListener==null?void 0:o.removeEventListener("abort",i)});return s.cancel=r,s}function zc(e){return e[je]}var LZ={has:function(t,n){return zc(t).has_(n)},get:function(t,n){return zc(t).get_(n)},set:function(t,n,r){var i;return ac(n)?(i=zc(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return ac(n)?(r=zc(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=zc(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return zc(t).ownKeys_()},preventExtensions:function(t){et(13)}};function jZ(e,t){var n,r;return FB(),e=Ac(e,t),(r=(n=e[je]).proxy_)!=null?r:n.proxy_=new Proxy(e,LZ)}function Yr(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Hf(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),UB(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Kr(e,t){var n=wc();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&(t=r[i](t),t&&!t.type&&et(14),!!t);i++);return t}finally{js(n)}}function Ei(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function zf(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),UB(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Si(e,t){var n=wc(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](t);js(n)}}function N6(e,t,n){return ia(function(){var r,i=Ac(e,n)[je];(r=t)!=null||(t=YX(e)),Vl(t).forEach(function(s){return i.make_(s,t[s])})}),e}var Mv=Symbol("mobx-keys");function FZ(e,t,n){return qs(e)?Fw(e,e,t,n):(ia(function(){var r=Ac(e,n)[je];if(!e[Mv]){var i=Object.getPrototypeOf(e),s=new Set([].concat(Vl(e),Vl(i)));s.delete("constructor"),s.delete(je),Gf(i,Mv,s)}e[Mv].forEach(function(o){return r.make_(o,t&&o in t?t[o]:!0)})}),e)}var MR="splice",is="update",UZ=1e4,BZ={get:function(t,n){var r=t[je];return n===je?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ls(Im,n)?Im[n]:t[n]},set:function(t,n,r){var i=t[je];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){et(15)}},Uw=(function(){function e(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new ra(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Hf(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),zf(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&et("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&et(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&D6(r+i+1)},t.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=vT),Yr(this)){var c=Kr(this,{object:this.proxy_,type:MR,index:r,removedCount:i,added:s});if(!c)return vT;i=c.removedCount,s=c.added}if(s=s.length===0?s:s.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var l=s.length-i;this.updateArrayLength_(a,l)}var u=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,i,s){if(s.length<UZ){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),c=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var l=0;l<s.length;l++)this.values_[r+l]=s[l];for(var u=0;u<c.length;u++)this.values_[r+s.length+u]=c[u];return a}},t.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&xd(),a=Ei(this),c=a||o?{observableKind:"array",object:this.proxy_,type:is,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&Si(this,c)},t.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&xd(),a=Ei(this),c=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:MR,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&Si(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&et(17,r,s.length),r<s.length){this.atom_;var o=s[r];if(Yr(this)){var a=Kr(this,{type:is,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var c=i!==o;c&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var l=new Array(r+1-s.length),u=0;u<l.length-1;u++)l[u]=void 0;l[l.length-1]=i,this.spliceWithArray_(s.length,0,l)}},e})();function GZ(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),FB(),ia(function(){var i=new Uw(n,t,r,!1);GB(i.values_,je,i);var s=new Proxy(i.values_,BZ);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s})}var Im={clear:function(){return this.splice(0)},replace:function(t){var n=this[je];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[je];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[je].spliceWithArray_(t,n,r)},push:function(){for(var t=this[je],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[je].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[je],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ce.trackingDerivation&&et(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ce.trackingDerivation&&et(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[je],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};It("at",kr);It("concat",kr);It("flat",kr);It("includes",kr);It("indexOf",kr);It("join",kr);It("lastIndexOf",kr);It("slice",kr);It("toString",kr);It("toLocaleString",kr);It("toSorted",kr);It("toSpliced",kr);It("with",kr);It("every",Pi);It("filter",Pi);It("find",Pi);It("findIndex",Pi);It("findLast",Pi);It("findLastIndex",Pi);It("flatMap",Pi);It("forEach",Pi);It("map",Pi);It("some",Pi);It("toReversed",Pi);It("reduce",R6);It("reduceRight",R6);function It(e,t){typeof Array.prototype[e]=="function"&&(Im[e]=t(e))}function kr(e){return function(){var t=this[je];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pi(e){return function(t,n){var r=this,i=this[je];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[e](function(o,a){return t.call(n,o,a,r)})}}function R6(e){return function(){var t=this,n=this[je];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,t)},r[e].apply(r,arguments)}}var WZ=na("ObservableArrayAdministration",Uw);function pr(e){return Lg(e)&&WZ(e[je])}var qZ={},No="add",Nm="delete",Bw=(function(){function e(n,r,i){var s=this;r===void 0&&(r=lc),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[je]=qZ,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,Rr(Map)||et(18),ia(function(){s.keysAtom_=jg("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!ce.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new jo(this.has_(r),Fg,"ObservableMap.key?",!1);this.hasMap_.set(r,o),jw(o,function(){return i.hasMap_.delete(r)})}return s.get()},t.set=function(r,i){var s=this.has_(r);if(Yr(this)){var o=Kr(this,{type:s?is:No,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,Yr(this)){var s=Kr(this,{type:Nm,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=xd(),a=Ei(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:Nm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ji(function(){var l;i.keysAtom_.reportChanged(),(l=i.hasMap_.get(r))==null||l.setNewValue_(!1);var u=i.data_.get(r);u.setNewValue_(void 0),i.data_.delete(r)}),a&&Si(this,c),!0}return!1},t.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==ce.UNCHANGED){var o=xd(),a=Ei(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:is,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&Si(this,c)}},t.addValue_=function(r,i){var s=this;this.keysAtom_,Ji(function(){var l,u=new jo(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,u),i=u.value_,(l=s.hasMap_.get(r))==null||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=xd(),a=Ei(this),c=a||o?{observableKind:"map",debugObjectName:this.name_,type:No,object:this,name:r,newValue:i}:null;a&&Si(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return DR({next:function(){var o=i.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:r.get(c)}}})},t.entries=function(){var r=this,i=this.keys();return DR({next:function(){var o=i.next(),a=o.done,c=o.value;return{done:a,value:a?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var s=ml(this),o;!(o=s()).done;){var a=o.value,c=a[0],l=a[1];r.call(i,l,c,this)}},t.merge=function(r){var i=this;return Fn(r)&&(r=new Map(r)),Ji(function(){qs(r)?WX(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):du(r)?(GX(r)||et(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&et(20,r)}),this},t.clear=function(){var r=this;Ji(function(){$f(function(){for(var i=ml(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.replace=function(r){var i=this;return Ji(function(){for(var s=VZ(r),o=new Map,a=!1,c=ml(i.data_.keys()),l;!(l=c()).done;){var u=l.value;if(!s.has(u)){var d=i.delete(u);if(d)a=!0;else{var f=i.data_.get(u);o.set(u,f)}}}for(var h=ml(s.entries()),p;!(p=h()).done;){var m=p.value,g=m[0],y=m[1],v=i.data_.has(g);if(i.set(g,y),i.data_.has(g)){var T=i.data_.get(g);o.set(g,T),v||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var C=i.data_.keys(),b=o.keys(),O=C.next(),w=b.next();!O.done;){if(O.value!==w.value){i.keysAtom_.reportChanged();break}O=C.next(),w=b.next()}i.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return zf(this,r)},t.intercept_=function(r){return Hf(this,r)},fu(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),Fn=na("ObservableMap",Bw);function DR(e){return e[Symbol.toStringTag]="MapIterator",Vw(e)}function VZ(e){if(du(e)||Fn(e))return e;if(Array.isArray(e))return new Map(e);if(qs(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return et(21,e)}var $Z={},Gw=(function(){function e(n,r,i){var s=this;r===void 0&&(r=lc),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[je]=$Z,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Rr(Set)||et(22),this.enhancer_=function(o,a){return r(o,a,i)},ia(function(){s.atom_=jg(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Ji(function(){$f(function(){for(var i=ml(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.forEach=function(r,i){for(var s=ml(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},t.add=function(r){var i=this;if(this.atom_,Yr(this)){var s=Kr(this,{type:No,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Ji(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=Ei(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:No,object:this,newValue:r}:null;a&&Si(this,c)}return this},t.delete=function(r){var i=this;if(Yr(this)){var s=Kr(this,{type:Nm,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=Ei(this),c=a||o?{observableKind:"set",debugObjectName:this.name_,type:Nm,object:this,oldValue:r}:null;return Ji(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&Si(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return LR({next:function(){var s=r.next(),o=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[o,o],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return LR({next:function(){var o=i.next(),a=o.value,c=o.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(a),done:c}}})},t.intersection=function(r){if(Ms(r)&&!gn(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(Ms(r)&&!gn(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Ms(r)&&!gn(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Ms(r)&&!gn(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return gn(r)&&(r=new Set(r)),Ji(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):Ms(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&et("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return zf(this,r)},t.intercept_=function(r){return Hf(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},fu(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),gn=na("ObservableSet",Gw);function LR(e){return e[Symbol.toStringTag]="SetIterator",Vw(e)}var jR=Object.create(null),FR="remove",P6=(function(){function e(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=SQ),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new ra("ObservableObject.keys"),this.isPlainObject_=qs(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof Ai)return s.set(i),!0;if(Yr(this)){var o=Kr(this,{type:is,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==ce.UNCHANGED){var a=Ei(this),c=!1,l=a||c?{type:is,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&Si(this,l)}return!0},t.get_=function(r){return ce.trackingDerivation&&!Ls(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,s){return s===void 0&&(s=!1),Ls(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!ce.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new jo(r in this.target_,Fg,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[ts])!=null&&s[r])return;et(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==Bf;){var a=Sm(o,r);if(a){var c=i.make_(this,r,a,o);if(c===0)return;if(c===1)break}o=Object.getPrototypeOf(o)}BR(this,i,r)}},t.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var a=s.extend_(this,r,i,o);return a&&BR(this,s,r),a},t.defineProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{or();var o=this.delete_(r);if(!o)return o;if(Yr(this)){var a=Kr(this,{object:this.proxy_||this.target_,name:r,type:No,newValue:i.value});if(!a)return null;var c=a.newValue;i.value!==c&&(i=Wo({},i,{value:c}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else rs(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{ar()}return!0},t.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{or();var a=this.delete_(r);if(!a)return a;if(Yr(this)){var c=Kr(this,{object:this.proxy_||this.target_,name:r,type:No,newValue:i});if(!c)return null;i=c.newValue}var l=UR(r),u={configurable:ce.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else rs(this.target_,r,u);var d=new jo(i,s,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{ar()}return!0},t.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{or();var o=this.delete_(r);if(!o)return o;if(Yr(this)){var a=Kr(this,{object:this.proxy_||this.target_,name:r,type:No,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var c=UR(r),l={configurable:ce.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,l))return!1}else rs(this.target_,r,l);this.values_.set(r,new Ai(i)),this.notifyPropertyAddition_(r,void 0)}finally{ar()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!Ls(this.target_,r))return!0;if(Yr(this)){var s=Kr(this,{object:this.proxy_||this.target_,name:r,type:FR});if(!s)return null}try{var o;or();var a=Ei(this),c=!1,l=this.values_.get(r),u=void 0;if(!l&&(a||c)){var d;u=(d=Sm(this.target_,r))==null?void 0:d.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(l&&(this.values_.delete(r),l instanceof jo&&(u=l.value_),l6(l)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||c){var f={type:FR,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:r};a&&Si(this,f)}}finally{ar()}return!0},t.observe_=function(r,i){return zf(this,r)},t.intercept_=function(r){return Hf(this,r)},t.notifyPropertyAddition_=function(r,i){var s,o=Ei(this),a=!1;if(o||a){var c=o||a?{type:No,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;o&&Si(this,c)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Vl(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function Ac(e,t){var n;if(Ls(e,je))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",i=new P6(e,new Map,String(r),MQ(t));return Gf(e,je,i),e}var HZ=na("ObservableObjectAdministration",P6);function UR(e){return jR[e]||(jR[e]={get:function(){return this[je].getObservablePropValue_(e)},set:function(n){return this[je].setObservablePropValue_(e,n)}})}function jn(e){return Lg(e)?HZ(e[je]):!1}function BR(e,t,n){var r;(r=e.target_[ts])==null||delete r[n]}var zZ=M6(0),YZ=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),Dv=0,k6=function(){};function KZ(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}KZ(k6,Array.prototype);var Ww=(function(e){function t(r,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,ia(function(){var c=new Uw(s,i,o,!0);c.proxy_=a,GB(a,je,c),r&&r.length&&a.spliceWithArray(0,0,r),YZ&&Object.defineProperty(a,"0",zZ)}),a}VB(t,e);var n=t.prototype;return n.concat=function(){this[je].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return pr(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,i=0;return Vw({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},fu(t,[{key:"length",get:function(){return this[je].getArrayLength_()},set:function(i){this[je].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(k6);Object.entries(Im).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Gf(Ww.prototype,t,n)});function M6(e){return{enumerable:!1,configurable:!0,get:function(){return this[je].get_(e)},set:function(n){this[je].set_(e,n)}}}function JZ(e){rs(Ww.prototype,""+e,M6(e))}function D6(e){if(e>Dv){for(var t=Dv;t<e+100;t++)JZ(t);Dv=e}}D6(1e3);function XZ(e,t,n){return new Ww(e,t,n)}function Vs(e,t){if(typeof e=="object"&&e!==null){if(pr(e))return t!==void 0&&et(23),e[je].atom_;if(gn(e))return e.atom_;if(Fn(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||et(25,t,Rm(e)),n}if(jn(e)){if(!t)return et(26);var r=e[je].values_.get(t);return r||et(27,t,Rm(e)),r}if(kw(e)||uc(e)||Am(e))return e}else if(Rr(e)&&Am(e[je]))return e[je];et(28)}function $s(e,t){if(e||et(29),t!==void 0)return $s(Vs(e,t));if(kw(e)||uc(e)||Am(e)||Fn(e)||gn(e))return e;if(e[je])return e[je];et(24,e)}function Rm(e,t){var n;if(t!==void 0)n=Vs(e,t);else{if(Hl(e))return e.name;jn(e)||Fn(e)||gn(e)?n=$s(e):n=Vs(e)}return n.name_}function ia(e){var t=wc(),n=Bg(!0);or();try{return e()}finally{ar(),Gg(n),js(t)}}var GR=Bf.toString;function qw(e,t,n){return n===void 0&&(n=-1),xT(e,t,n)}function xT(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var o=GR.call(e);if(o!==GR.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=WR(e),t=WR(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(Rr(c)&&c instanceof c&&Rr(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var u=r.length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!xT(e[u],t[u],n-1,r,i))return!1}else{var d=Object.keys(e),f=d.length;if(Object.keys(t).length!==f)return!1;for(var h=0;h<f;h++){var p=d[h];if(!(Ls(t,p)&&xT(e[p],t[p],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function WR(e){return pr(e)?e.slice():du(e)||Fn(e)||Ms(e)||gn(e)?Array.from(e.entries()):e}var qR,QZ=((qR=Dg().Iterator)==null?void 0:qR.prototype)||{};function Vw(e){return e[Symbol.iterator]=ZZ,Object.assign(Object.create(QZ),e)}function ZZ(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Dg();typeof t[e]>"u"&&et("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:d6,extras:{getDebugName:Rm},$mobx:je});const cUe=Object.freeze(Object.defineProperty({__proto__:null,$mobx:je,FlowCancellationError:Vg,ObservableMap:Bw,ObservableSet:Gw,Reaction:ni,_allowStateChanges:Dw,_allowStateChangesInsideComputed:xm,_allowStateReadsEnd:Il,_allowStateReadsStart:Wg,_autoAction:$l,_endAction:n6,_getAdministration:$s,_getGlobalState:$Q,_interceptReads:vZ,_isComputingDerivation:GQ,_resetGlobalState:HQ,_startAction:t6,action:Io,autorun:qg,comparer:cc,computed:hu,configure:b6,createAtom:jg,defineProperty:IZ,entries:wZ,extendObservable:Fw,flow:dc,flowResult:_Z,get:xZ,getAtom:Vs,getDebugName:Rm,getDependencyTree:C6,getObserverTree:fZ,has:A6,intercept:yZ,isAction:Hl,isBoxedObservable:Lw,isComputed:EZ,isComputedProp:SZ,isFlow:zl,isFlowCancellationError:mZ,isObservable:$g,isObservableArray:pr,isObservableMap:Fn,isObservableObject:jn,isObservableProp:OZ,isObservableSet:gn,keys:Kd,makeAutoObservable:FZ,makeObservable:N6,observable:mn,observe:NZ,onBecomeObserved:v6,onBecomeUnobserved:jw,onReactionError:QQ,override:tQ,ownKeys:x6,reaction:_6,remove:AZ,runInAction:xm,set:w6,spy:d6,toJS:kZ,trace:MZ,transaction:Ji,untracked:$f,values:TZ,when:AT},Symbol.toStringTag,{value:"Module"}));if(!E.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!N6)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function eee(e){e()}function tee(e){e||(e=eee),b6({reactionScheduler:e})}function nee(e){return C6(e)}var ree=1e4,iee=1e4,see=(function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=ree),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(s,o){i-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,iee))}}),e})(),oee=typeof FinalizationRegistry<"u"?FinalizationRegistry:see,Jd=new oee(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),Lv={exports:{}},jv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function aee(){if(VR)return jv;VR=1;var e=bw();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),m=p[0].inst,g=p[1];return s(function(){m.value=h,m.getSnapshot=f,c(m)&&g({inst:m})},[d,h,f]),i(function(){return c(m)&&g({inst:m}),d(function(){c(m)&&g({inst:m})})},[d]),o(h),h}function c(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch(p){return!0}}function l(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return jv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,jv}var $R;function cee(){return $R||($R=1,Lv.exports=aee()),Lv.exports}var lee=cee();function HR(e){e.reaction=new ni("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function uee(e,t){t===void 0&&(t="observed");var n=Et.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return Jd.unregister(r),r.onStoreChange=a,r.reaction||(HR(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(HR(i),Jd.register(n,i,i)),Et.useDebugValue(i.reaction,nee),lee.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var s,o;if(i.reaction.track(function(){try{s=e()}catch(a){o=a}}),o)throw o;return s}var Fv,Uv,L6=typeof Symbol=="function"&&Symbol.for;Uv=(Fv=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Fv===void 0?void 0:Fv.configurable;L6?Symbol.for("react.forward_ref"):typeof E.forwardRef=="function"&&E.forwardRef(function(e){return null}).$$typeof;L6?Symbol.for("react.memo"):typeof E.memo=="function"&&E.memo(function(e){return null}).$$typeof;var Bv;tee(Cw.unstable_batchedUpdates);Bv=Jd.finalizeAllImmediately;function dee(e,t){return t===void 0&&(t="observed"),uee(e,t)}let Pm=0;function ls(e){try{return Pm++,e()}finally{Pm--}}function fee(){!Pm&&Mg()&&IT(new Error("[signal] Must read signal with useObserve() or untracked() within React component"))}function hee(){Pm&&IT(new Error("[signal] Cannot update signal value directly within useObserve(), memoSignal() or effect()")),Mg()&&IT(new Error("[signal] Cannot update signal value directly within React component"))}function IT(e){k(async()=>{const{DatadogLogger:t}=await Promise.resolve().then(()=>RX);return{DatadogLogger:t}},void 0).then(({DatadogLogger:t})=>t.addError(e))}function zR(e){e.reaction=new ni("observer".concat(e.name),()=>{var r,i,s;if(!e.evaluate||!e.reaction){e.stateVersion=Symbol(),(r=e.onStoreChange)==null||r.call(e);return}let t,n;if(e.reaction.track(()=>{try{t=ls(e.evaluate)}catch(o){n=o}}),n!==void 0){e.stateVersion=Symbol(),(i=e.onStoreChange)==null||i.call(e);return}Object.is(t,e.lastValue)||(e.lastValue=t,e.stateVersion=Symbol(),(s=e.onStoreChange)==null||s.call(e))})}function pee(e,t="observed"){"use no forget";const n=Et.useRef(null);if(!n.current){const o={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,lastValue:void 0,evaluate:null,subscribe(a){return Jd.unregister(o),o.onStoreChange=a,o.reaction||(zR(o),o.stateVersion=Symbol()),()=>{var c;o.onStoreChange=null,(c=o.reaction)==null||c.dispose(),o.reaction=null}},getSnapshot(){return o.stateVersion}};n.current=o}const r=n.current;r.reaction||(zR(r),Jd.register(n,r,r)),r.evaluate=e,E.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);let i,s;if(r.reaction.track(()=>{try{i=ls(e)}catch(o){s=o}}),r.lastValue=i,s)throw s;return i}function Oe(e,t){const n=bee(e),r=mn.box(n?void 0:e,{deep:!1,name:t==null?void 0:t.name,equals:t==null?void 0:t.equals});let i=n?()=>{i=void 0,r.set(e())}:void 0;const s=()=>(i==null||i(),r.get()),o=t==null?void 0:t.getServerFallback,a=G6(s),c=o?Ee(a,{name:t.name,getServerFallback:o}):a;return c.set=l=>{hee(),xm(()=>{r==null||r.set(B6(l)?l($f(s)):l)})},c}function mee(e){"use forget";const t=Y.c(4);let n;t[0]!==e?(n=Ee(e),t[0]=e,t[1]=n):n=t[1];const r=n;let i;return t[2]!==r?(i=()=>ls(r),t[2]=r,t[3]=i):i=t[3],dee(i)}const gee=ut(e=>Uf(e,"use-observe"));function Ue(e){"use no forget";const t=re();return(gee(t)?pee:mee)(e)}function Ee(e,t){const n=t==null?void 0:t.getServerFallback,r=hu(n?()=>Hg()?n():ls(e):()=>ls(e),{name:t==null?void 0:t.name,equals:t==null?void 0:t.equals});return G6(()=>r.get())}function _ee(e){if(Mg())throw new Error("[signal] Cannot run effect directly within React component");let t;const n=qg(()=>{t==null||t(),t=ls(e)});return()=>{n(),t==null||t()}}function Vo(e,t,n){return _6(()=>ls(e),t,{equals:n==null?void 0:n.equals,fireImmediately:n==null?void 0:n.fireImmediately})}function Qt(e){return $f(()=>ls(e))}function j6(e,t){return typeof t=="function"?AT(()=>ls(e),t):AT(()=>ls(e))}function F6(e){return xm(e)}function ai(e,t,n){var c;let r,i,s;const o=jg((c=n==null?void 0:n.name)!=null?c:"external",()=>{r=!1,s=t(()=>{var u;if(!r)return;const l=e();((u=n==null?void 0:n.equals)!=null?u:Object.is)(i,l)||(i=l,o.reportChanged())}),i=e(),r=!0},()=>{r=!1,s==null||s()}),a=n==null?void 0:n.getServerFallback;return Ee(()=>a&&Hg()?a():(o.reportObserved()||(i=e()),i),{equals:n==null?void 0:n.equals})}const U6=Oe(!0,{name:"isServerRendering"}),Hg=U6;function vee(){"use forget";const e=Y.c(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],E.useLayoutEffect(yee,t)}function yee(){U6.set(!1)}function bee(e){return typeof e=="function"}function B6(e){return typeof e=="function"}function G6(e){return(()=>(fee(),e()))}function Cn(e,t,n){var u;const r=es(t),i=n==null?void 0:n.enabled$,s=()=>r().enabled!==!1&&(i==null||Qt(i)!==!1),o=es(()=>on(e).defaultQueryOptions(I(S({},r()),{notifyOnChangeProps:["data","error","fetchStatus","status"],experimental_prefetchInRender:!(n!=null&&n.skipPrefetchOnMount),enabled:s()}))),a=es(()=>new lB(on(e),o())),c=async()=>{if(s())return await on(e).prefetchQuery(o())},l=es(()=>{var d;return!(n!=null&&n.skipPrefetchOnMount)&&s()&&c(),n!=null&&n.getServerData?Oee(n.getServerData(),(d=n.serverDataType)!=null?d:"placeholder"):(i==null?void 0:i())===!1?YR():See()});return Object.assign(ai(()=>a().getCurrentResult(),d=>{let f;if(i&&r().enabled!==!1){const p=()=>{a().setOptions(I(S({},o()),{enabled:s()}))};p(),f=Vo(i,p)}const h=a().subscribe(d);return()=>{f==null||f(),h()}},{name:(u=n==null?void 0:n.name)!=null?u:"reactQuerySignal",equals:W6,getServerFallback:l}),{prefetch:c,refetch(d){return a().getCurrentResult().refetch(d)},if$(d){return d?this():Hg()?YR():Eee(a().getCurrentResult())}})}function Cee(e,t,n){const r=on(e),i=es(()=>{const o=t();return S({notifyOnChangeProps:["data","failureCount","isLoading","error","status","isFetchingNextPage","isFetchNextPageError","hasNextPage","fetchStatus"],refetchOnReconnect:!1,throwOnError:!1,queryHash:JSON.stringify(o.queryKey)},o)}),s=es(()=>new aJ(r,i()));return ai(()=>s().getCurrentResult(),o=>s().subscribe(o),{name:"infiniteReactQuerySignal",equals:W6,getServerFallback:()=>Tee()})}function zg(e,t){const n=on(e),r=new oJ(n,t);return{mutate:async i=>{try{await r.mutate(i)}catch(s){}return r.getCurrentResult()},result$:ai(()=>r.getCurrentResult(),i=>r.subscribe(()=>{i()}))}}function W6(e,t){return e instanceof km||t instanceof km?e.data===t.data&&e.error===t.error&&e.status===t.status&&e.fetchStatus===t.fetchStatus:Object.is(e,t)}const Eee=eo(e=>e.fetchStatus==="idle"&&!e.isLoading&&!e.isFetching&&!e.isStale?e:I(S({},e),{fetchStatus:"idle",isLoading:!1,isFetching:!1,isStale:!1})),q6={data:void 0,error:null,isError:!1,isLoadingError:!1,isPending:!0,isRefetchError:!1,isSuccess:!1,status:"pending"},YR=es(()=>$w(q6)),V6=I(S({},q6),{fetchStatus:"fetching",isFetching:!0,isLoading:!0}),See=es(()=>$w(V6));function Oee(e,t){return $w({data:e,error:null,fetchStatus:t==="fresh"?"idle":"fetching",isError:!1,isFetched:t!=="placeholder",isFetching:t!=="fresh",isLoading:!1,isLoadingError:!1,isPending:!1,isPlaceholderData:t==="placeholder",isRefetchError:!1,isRefetching:t==="stale",isStale:t!=="fresh",isSuccess:!0,status:"success"})}function $w(e){return new km(e)}class km{constructor(t){U(this,"data");U(this,"dataUpdatedAt",0);U(this,"error",null);U(this,"errorUpdateCount",0);U(this,"errorUpdatedAt",0);U(this,"failureCount",0);U(this,"failureReason",null);U(this,"fetchStatus","idle");U(this,"isError",!1);U(this,"isFetched",!1);U(this,"isFetchedAfterMount",!1);U(this,"isFetching",!1);U(this,"isInitialLoading",!1);U(this,"isLoading",!1);U(this,"isLoadingError",!1);U(this,"isPaused",!1);U(this,"isPending",!1);U(this,"isPlaceholderData",!1);U(this,"isRefetchError",!1);U(this,"isRefetching",!1);U(this,"isStale",!1);U(this,"isSuccess",!1);U(this,"status","pending");Object.assign(this,t)}get promise(){return Promise.reject(new Error("[react-query-signal] Cannot use promise from SSR"))}refetch(){return Promise.reject(new Error("[react-query-signal] Cannot refetch from SSR"))}}function Tee(){return wee(I(S({},V6),{isFetchNextPageError:!1,isFetchPreviousPageError:!1}))}function wee(e){return new Aee(e)}class Aee extends km{constructor(){super(...arguments);U(this,"hasNextPage",!1);U(this,"hasPreviousPage",!1);U(this,"isFetchNextPageError",!1);U(this,"isFetchingNextPage",!1);U(this,"isFetchPreviousPageError",!1);U(this,"isFetchingPreviousPage",!1)}fetchNextPage(){return Promise.reject(new Error("[react-query-signal] Cannot fetch from SSR"))}fetchPreviousPage(){return Promise.reject(new Error("[react-query-signal] Cannot fetch from SSR"))}}function Hw(e,t){return n=>$6(e(n),t)}function $6(e,t=e.length){return new Proxy(((...n)=>e(...n)()),{get(n,r){return(...i)=>{const s=i.slice(0,t),o=i.slice(t),a=e(...s);if(typeof a[r]!="function"){if(o.length>0)throw new Error("signal$.".concat(String(r)," is not a function"));return a[r]}return a[r](...o)}}})}function Yg(e,t){var r;const n=t==null?void 0:t.selector;return ai(n?()=>n(e.getState()):()=>e.getState(),i=>e.subscribe(i),{name:(r=t==null?void 0:t.name)!=null?r:"storeSignal",getServerFallback:n?()=>n(e.getInitialState()):()=>e.getInitialState(),equals:t==null?void 0:t.equals})}const Ge=Hw(ut);class cd extends Error{}cd.prototype.name="InvalidTokenError";function xee(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function Iee(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return xee(t)}catch(n){return atob(t)}}function Nee(e,t){if(typeof e!="string")throw new cd("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new cd("Invalid token specified: missing part #".concat(n+1));let i;try{i=Iee(r)}catch(s){throw new cd("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(s.message,")"))}try{return JSON.parse(i)}catch(s){throw new cd("Invalid token specified: invalid json for part #".concat(n+1," (").concat(s.message,")"))}}const Ree="aa305fcfa301df38d2bd1366c6d68422a7fee6d3",Pee="prod",kee="",Mee="",pu="".concat(Pee,"-").concat(Ree).concat(kee).concat(Mee);var Se=(e=>(e.AgeVerification="oai-av-seen",e.AllowNonessential="oai-allow-ne",e.CookieBannerIgnored="oai-cbi",e.LastVoiceInteraction="oai-lvi",e.DeviceId="oai-did",e.DotcomDeviceId="dotcom-did",e.WaId="oai-wid",e.IpOverride="oai-ip-country",e.GeohashOverride="oai-geohash-override",e.IpCityOverride="oai-ip-city",e.ShowPaymentModal="ui-show-payment-modal",e.TempEnableUnauthedCompliance="temp-oai-compliance",e.Workspace="_account",e.WorkspaceResidencyRegion="_account_residency_region",e.AcceptAccountId="_accept_account_id",e.LastLocation="oai-ll",e.HideLoggedOutBanner="hide-logged-out-banner",e.HasLoggedInBefore="oai-hlib",e.PunchOutInfoToken="oai-poit",e.PunchOutRequireLoginInfo="oai-porli",e.SharedConversationId="oai-sh-c-i",e.AuthSessionLoggingId="oai-asli",e.PunchOutRequireAnonToAuthedToken="oai-po-ra2a",e.PunchOutAnonToAuthedEnabled="oai-po-a2a",e.DowngradeAccountEnabled="oai-downgrade-account-enabled",e.DogfoodingAccountType="oai-dogfooding-account-type",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.HasClickedOnTryItFirstLink="oai-tif-20240402",e.IntercomDeviceIdProd="intercom-device-id-dgkjq2bp",e.IntercomDeviceIdDev="intercom-device-id-izw1u7l7",e.DomainMigrationSourceCompleted="oai-dm-src-c-240329",e.DomainMigrationTargetCompleted="oai-dm-tgt-c-240329",e.SignupRedirectUrl="signup_redirect_url",e.DesktopResultsTab="sonic_desktop_results_tab",e.NavigationState="oai-nav-state",e.PreferredLocale="oai-locale",e.InternalSearchSettings="oai-internal-search-settings",e.InternalSidebarApiSettings="oai-internal-sidebar-api-settings",e.LastUsedModel="oai-last-model",e.LastUsedModelConfig="oai-last-model-config",e.IsSpecificModel="oai-is-specific-model",e.ModelStickyForNewChats="oai-model-sticky-for-new-chats",e.GreetingName="oai-gn",e.headlineMessage="oai-hm",e.ConsentAnalytics="oai_consent_analytics",e.ConsentMarketing="oai_consent_marketing",e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.Msclkid="msclkid",e.LastSelectedGithubRepo="oai-last-selected-github-repo",e.ShowInternalModels="oai-show-internal-models",e.SidebarSections="oai-sidebar-sections",e.AccountInfo="oai-client-auth-info",e))(Se||{});const Dee=["gclid","fbclid","rdt_cid","ttclid","li_fat_id","msclkid"],Lee=["ajs_user_id","ajs_user_traits"],jee={sameSite:"lax"};var Ca={},rp={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var KR;function Fee(){if(KR)return rp;KR=1,rp.parse=r,rp.serialize=i;var e=decodeURIComponent,t=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(o,a){if(typeof o!="string")throw new TypeError("argument str must be a string");for(var c={},l=a||{},u=o.split(";"),d=l.decode||e,f=0;f<u.length;f++){var h=u[f],p=h.indexOf("=");if(!(p<0)){var m=h.substring(0,p).trim();if(c[m]==null){var g=h.substring(p+1,h.length).trim();g[0]==='"'&&(g=g.slice(1,-1)),c[m]=s(g,d)}}}return c}function i(o,a,c){var l=c||{},u=l.encode||t;if(typeof u!="function")throw new TypeError("option encode is invalid");if(!n.test(o))throw new TypeError("argument name is invalid");var d=u(a);if(d&&!n.test(d))throw new TypeError("argument val is invalid");var f=o+"="+d;if(l.maxAge!=null){var h=l.maxAge-0;if(isNaN(h)||!isFinite(h))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(h)}if(l.domain){if(!n.test(l.domain))throw new TypeError("option domain is invalid");f+="; Domain="+l.domain}if(l.path){if(!n.test(l.path))throw new TypeError("option path is invalid");f+="; Path="+l.path}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(f+="; HttpOnly"),l.secure&&(f+="; Secure"),l.sameSite){var p=typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite;switch(p){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f}function s(o,a){try{return a(o)}catch(c){return o}}return rp}var JR;function Uee(){return JR||(JR=1,(function(e){var t=Ca&&Ca.__assign||function(){return t=Object.assign||function(g){for(var y,v=1,T=arguments.length;v<T;v++){y=arguments[v];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(g[C]=y[C])}return g},t.apply(this,arguments)},n=Ca&&Ca.__rest||function(g,y){var v={};for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&y.indexOf(T)<0&&(v[T]=g[T]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,T=Object.getOwnPropertySymbols(g);C<T.length;C++)y.indexOf(T[C])<0&&Object.prototype.propertyIsEnumerable.call(g,T[C])&&(v[T[C]]=g[T[C]]);return v};Object.defineProperty(e,"__esModule",{value:!0}),e.checkCookies=e.hasCookie=e.removeCookies=e.deleteCookie=e.setCookies=e.setCookie=e.getCookie=e.getCookies=void 0;var r=Fee(),i=function(){return typeof window<"u"},s=function(g){if(g==="true")return!0;if(g==="false")return!1;if(g!=="undefined")return g==="null"?null:g},o=function(g){g===void 0&&(g="");try{var y=JSON.stringify(g);return/^[\{\[]/.test(y)?y:g}catch(v){return g}},a=function(g){return g&&g.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},c=function(g){var y;if(g&&(y=g.req),!i())return y&&y.cookies?y.cookies:y&&y.headers&&y.headers.cookie?(0,r.parse)(y.headers.cookie):{};for(var v={},T=document.cookie?document.cookie.split("; "):[],C=0,b=T.length;C<b;C++){var O=T[C].split("="),w=O.slice(1).join("="),A=O[0];v[A]=w}return v};e.getCookies=c;var l=function(g,y){var v=(0,e.getCookies)(y),T=v[g];if(T!==void 0)return s(a(T))};e.getCookie=l;var u=function(g,y,v){var T,C,b;if(v){var O=v.req,w=v.res,A=n(v,["req","res"]);C=O,b=w,T=A}var x=(0,r.serialize)(g,o(y),t({path:"/"},T));if(i())document.cookie=x;else if(b&&C){var N=b.getHeader("Set-Cookie");if(Array.isArray(N)||(N=N?[String(N)]:[]),b.setHeader("Set-Cookie",N.concat(x)),C&&C.cookies){var R=C.cookies;y===""?delete R[g]:R[g]=o(y)}if(C&&C.headers&&C.headers.cookie){var R=(0,r.parse)(C.headers.cookie);y===""?delete R[g]:R[g]=o(y),C.headers.cookie=Object.entries(R).reduce(function(D,F){return D.concat("".concat(F[0],"=").concat(F[1],";"))},"")}}};e.setCookie=u;var d=function(g,y,v){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,e.setCookie)(g,y,v)};e.setCookies=d;var f=function(g,y){return(0,e.setCookie)(g,"",t(t({},y),{maxAge:-1}))};e.deleteCookie=f;var h=function(g,y){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,e.deleteCookie)(g,y)};e.removeCookies=h;var p=function(g,y){if(!g)return!1;var v=(0,e.getCookies)(y);return v.hasOwnProperty(g)};e.hasCookie=p;var m=function(g,y){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,e.hasCookie)(g,y)};e.checkCookies=m})(Ca)),Ca}var ip=Uee();const Gv=".chatgpt.com",H6=window!==window.top,Bee=e=>e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);class z6{constructor(){U(this,"allowAnalyticsCookies",!1);U(this,"allowMarketingCookies",!1);H6||(this.synchronizeWithLocalStorage(),setInterval(()=>this.synchronizeWithLocalStorage(),6e4))}setAllowAnalyticsCookies_CLIENT_ONLY(t){this.allowAnalyticsCookies=t,t===!1&&this.clearAnalyticsCookies()}setAllowMarketingCookies_CLIENT_ONLY(t){this.allowMarketingCookies=t,t===!1&&this.clearMarketingCookies()}clearAnalyticsCookies(){for(const t of Lee)this.deleteCookie(t)}clearMarketingCookies(){for(const t of Dee)this.deleteCookie(t)}synchronizeWithLocalStorage(){[Se.Workspace,Se.WorkspaceResidencyRegion,Se.DeviceId].forEach(n=>{const r=ip.getCookie(n);r!=null?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)})}_getCookie(t){const n=ip.getCookies()[t];return n===void 0?void 0:Bee(n)}getCookie(t){return this._getCookie(t)}getBooleanCookie(t){const n=this._getCookie(t);return n==null?void 0:n==="true"}getAnalyticsCookie(t){if(this.allowAnalyticsCookies)return this._getCookie(t);this.deleteCookie(t)}getMarketingCookie(t){if(this.allowMarketingCookies)return this._getCookie(t);this.deleteCookie(t)}_setCookie(t,n,r){ip.setCookie(t,n,S(S({},jee),r))}setCookie(t,n,r){this._setCookie(t,n,r)}setBooleanCookie(t,n,r){this._setCookie(t,n!=null?n?"true":"false":void 0,r)}setAnalyticsCookie(t,n,r){this.allowAnalyticsCookies?this._setCookie(t,n,r):this.deleteCookie(t)}setMarketingCookie(t,n,r){this.allowMarketingCookies?this._setCookie(t,n,r):this.deleteCookie(t)}deleteCookie(t){const n={};ip.deleteCookie(t,n)}}class Gee extends z6{getCookie(t){const n=localStorage.getItem(t);return typeof n=="string"?JSON.parse(n):n}setCookie(){}setAnalyticsCookie(){}setMarketingCookie(){}deleteCookie(){}setAllowAnalyticsCookies_CLIENT_ONLY(){}setAllowMarketingCookies_CLIENT_ONLY(){}}const De=H6?new Gee:new z6,Wee=3600*24*30*12,qee=()=>dr(),Vee=e=>typeof e=="string"&&e.length>0,$ee=e=>{const t={maxAge:Wee};return e.endsWith("openai.com")?t.domain=".openai.com":e.endsWith(window.location.host)&&(t.domain=".chatgpt.com"),t};function Hee(){var e;return(e=window.location.hostname)!=null?e:void 0}function ri(e=Hee()){const t=De.getCookie(Se.DeviceId);if(Vee(t))return t;const n=qee(),r=$ee(e);return De.setCookie(Se.DeviceId,n,r),n}const zee="OAI-Language",Kg="OAI-Client-Version",Jg="OAI-Device-Id",_n="OAI-Product-Sku",Yee="ChatGPT-Account-ID",Kee={},XR=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=(d!=null?d:typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Kee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,i,c);return c},xc=e=>e?XR(e):XR;var Wv={exports:{}},qv={},Vv={exports:{}},$v={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR;function Jee(){if(QR)return $v;QR=1;var e=bw();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),p=r({inst:{value:h,getSnapshot:f}}),m=p[0].inst,g=p[1];return s(function(){m.value=h,m.getSnapshot=f,c(m)&&g({inst:m})},[d,h,f]),i(function(){return c(m)&&g({inst:m}),d(function(){c(m)&&g({inst:m})})},[d]),o(h),h}function c(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch(p){return!0}}function l(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return $v.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,$v}var ZR;function Xee(){return ZR||(ZR=1,Vv.exports=Jee()),Vv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function Qee(){if(eP)return qv;eP=1;var e=bw(),t=Xee();function n(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return qv.useSyncExternalStoreWithSelector=function(l,u,d,f,h){var p=s(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=a(function(){function y(O){if(!v){if(v=!0,T=O,O=f(O),h!==void 0&&m.hasValue){var w=m.value;if(h(w,O))return C=w}return C=O}if(w=C,r(T,O))return w;var A=f(O);return h!==void 0&&h(w,A)?w:(T=O,C=A)}var v=!1,T,C,b=d===void 0?null:d;return[function(){return y(u())},b===null?void 0:function(){return y(b())}]},[u,d,f,h]);var g=i(l,p[0],p[1]);return o(function(){m.hasValue=!0,m.value=g},[g]),c(g),g},qv}var tP;function Zee(){return tP||(tP=1,Wv.exports=Qee()),Wv.exports}var ete=Zee();const Y6=Gt(ete),K6={},{useDebugValue:tte}=Et,{useSyncExternalStoreWithSelector:nte}=Y6;let nP=!1;const rte=e=>e;function Yf(e,t=rte,n){(K6?"production":void 0)!=="production"&&n&&!nP&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nP=!0);const r=nte(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tte(r),r}const rP=e=>{(K6?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?xc(e):e,n=(r,i)=>Yf(t,r,i);return Object.assign(n,t),n},rr=e=>e?rP(e):rP,NT=new Set;function lUe(e){return NT.add(e),()=>NT.delete(e)}async function ite(){await Promise.all(Array.from(NT).map(async e=>{try{await e()}catch(t){}}))}function uUe(){(async()=>(await ite(),window.location.href=window.location.origin+"/auth/logout"))()}const Mm="auth_session_logging_id";var zw=(e=>(e.OpenAI="openai",e.OpenAIDev="openai-dev",e.Mocked="mocked",e.OpenAISidetron="openai-sidetron",e.OpenAISidetronDev="openai-sidetron-dev",e))(zw||{}),ste=(e=>(e[e.Auth0=1]="Auth0",e[e.WorkOS=2]="WorkOS",e))(ste||{});const J6=ut(e=>{const t=xt(e),n=t.authStatus==="logged_in"?t.session:null;return xc(()=>({session:n}))});function St(e){return xt(e).authStatus==="logged_in"}function Ic(e){return J6(e).getState().session}function Kf(e){var t;return(t=Ic(e))==null?void 0:t.accessToken}async function ote(e){var t,n,r;try{const i=Date.now(),s=new URL("/api/auth/session",location.origin);s.searchParams.set("refresh","true");for(const[d,f]of Object.entries(e))s.searchParams.set(d,f);const o=ri();Q.addAction("Refreshing access token due to ".concat(e.reason," error."),I(S({},e),{url:location.origin+((t=e.path)!=null?t:""),deviceId:o}));const a=await fetch(s,{headers:{[Jg]:o,[Kg]:pu}}),c=await a.json(),u=(Date.now()-i)/1e3;if(a.status!==200&&Q.addAction("fetchSession.statusNon200",{status:a.status,reqDuration:u}),Object.keys(c).length)return c.accessToken==null&&c.error==null&&Q.addAction("missing_access_token_error",{error:"Missing access token for User: ".concat((n=c.user)==null?void 0:n.id," (").concat(c.accessToken,")")}),c.error==="RefreshAccessTokenError"&&((r=window._oaiHandleSessionExpired)==null||r.call(window,"page load",c.error)),c.error&&Q.addAction("fetchSession.error",{error:c.error}),c}catch(i){}return null}function ate(e){return{session:Ic(e),isLoading:!1}}function cte(e){return!e||!e.email?!1:e.email.endsWith("@openai.com")}var Yl=(e=>(e.LoggedOut="logged_out",e.LoggedIn="logged_in",e))(Yl||{});const dUe="https://api.openai.com/mfa",lte="https://api.openai.com/auth",ute=ut(()=>({pending:null}));function Yw(e,t){const n=J6(e),r=n.getState().session;r&&n.setState({session:I(S({},r),{accessToken:t})})}function dte(e,t){const n=ute(e);return n.pending||(n.pending=(async()=>{try{const r=await ote(t);r!=null&&r.accessToken&&Yw(e,r.accessToken)}finally{n.pending=null}})()),n.pending}var fte=(e=>(e[e.Unspecified=0]="Unspecified",e[e.Password=1]="Password",e[e.Google=2]="Google",e[e.Microsoft=3]="Microsoft",e[e.Apple=4]="Apple",e[e.Samlp=5]="Samlp",e[e.Oidc=6]="Oidc",e))(fte||{});function hte(e){return e?e.startsWith("google-oauth2|")?2:e.startsWith("auth0|")?1:e.startsWith("apple|")?4:e.startsWith("windowslive|")?3:e.startsWith("samlp|")?5:e.startsWith("oidc|")?6:0:0}function fUe(e){var r,i;const t=Kf(e),n=t?Nee(t):null;return{isSignup:(i=(r=n==null?void 0:n[lte])==null?void 0:r.is_signup)!=null?i:!1,connectionType:hte(n==null?void 0:n.sub)}}class pte{constructor(){U(this,"wantsModelSlug$",Oe(void 0));U(this,"selectedConversationId$",Oe(void 0));U(this,"wantsNewConversation$",Oe(!1));U(this,"newConversationGizmoId$",Oe(void 0));U(this,"prepareConversationDetails");U(this,"attachments");U(this,"whisperContent");U(this,"tabContext");U(this,"requestCompletion");U(this,"wantsRequestCompletion$",Oe(!1));U(this,"populatePrompt");U(this,"wantsPopulatePrompt$",Oe(!1));U(this,"context$",Oe(void 0));U(this,"promptOrigin");U(this,"agentSessionMode$",Oe("signedInAccounts"));U(this,"agentSafeModeHasSeenNux$",Oe(void 0));U(this,"authSessionContext");U(this,"wantsAuthSessionContext$",Oe(!1));U(this,"agentRequest");U(this,"wantsHandleAgentRequest$",Oe(!1));U(this,"sidebarUrlTrayOpen$",Oe(!0));U(this,"wantsAttachUserFile$",Oe(!1));U(this,"attachUserFileRequest");U(this,"wantsSetChatTheme$",Oe(!1));U(this,"chatTheme");U(this,"wantsInitialTab$",Oe(void 0))}}const Hs=Ge(e=>Oe(xt(e).windowStyle)),Xr=new pte,Xg="new_page_view",Jf="new_page_overlay_view",Kw="sidebar_view",Xf="ref",Dm={name:Xf,value:"mini"},X6={name:Xf,value:"mini-ntp"},Xd={name:Xf,value:"mini-sidebar"},mte=Dm;function gte(e){Hs.set(e,Kw)}function _te(e){Hs.set(e,Xg)}function vte(e){Hs.set(e,Jf)}const ki=ut(e=>Qt(()=>Q6(e)||Jw(e)||Qf(e)));function Jw(e){const t=Hs(e);return t==="mainPage"||t===Xg||t===Jf}function Q6(e){return Zf(e)?Hs(e)===Jf:!1}function Qf(e){const t=Hs(e);return t==="sidebar"||t===Kw}function yte(e){const t=Z6(e);return t===Xg||Zf(e)&&t===Jf}function Z6(e){return xt(e).windowStyle}function bte(e){switch(e){case Jf:return X6.value;case Xg:return Dm.value;case"mainPage":return Dm.value;case Kw:return Xd.value;case"sidebar":return Xd.value;default:throw new Error("Invalid Aura window style: ".concat(e))}}function eG(e,t){const n=new URLSearchParams(e);return n.set(Xf,t),n.toString()}function Cte(e,t){const n=e.indexOf("#"),r=e.indexOf("?"),i=Math.min(r===-1?e.length:r,n===-1?e.length:n),s=e.slice(0,i),o=r===-1?"":e.slice(r+1,n===-1?e.length:n),a=n===-1?"":e.slice(n+1),c=eG(o,t);let l=s;return c&&(l+="?".concat(c)),a&&(l+="#".concat(a)),l}function Ete(e,t){var n,r,i;return{pathname:(n=e.pathname)!=null?n:"",search:eG(((r=e.search)!=null?r:"").replace(/^\?/,""),t),hash:((i=e.hash)!=null?i:"").replace(/^#/,"")}}function Qd(e){const t=Qt(()=>{const n=At();return ki(n)?bte(Hs(n)):void 0});return t?typeof e=="string"?Cte(e,t):Ete(e,t):e}function tG(e){return ki(e)&&xt(e).isContainerOTR===!0}function hUe(e){return Jw(e)||yte(e)}function Ste(e){const t=re();return Ue(()=>e(t))}function pUe(){const e=re();return Ue(()=>tG(e)?!0:ki(e)&&!St(e))}function mUe(e){return!$e(e,"1365150540")}function gUe(e){return $e(e,"757783264")}function _Ue(e){return $e(e,"1821051864")}function Zf(e){return Ote(e,"use-hybrid-ntp")}function nG(e){return Zf(e)&&ki(e)}function vUe(e){return ki(e)?Zf(e)?Qf(e):!0:!1}const yUe=Ge(e=>Oe(()=>$e(e,"2406317317")));function Ote(e,t){var n;return((n=xt(e).containerFlags)==null?void 0:n.includes(t))===!0}class Tte extends TypeError{constructor(t,n){let r;const l=t,{message:i,explanation:s}=l,o=W(l,["message","explanation"]),{path:a}=t,c=a.length===0?i:"At path: ".concat(a.join(".")," -- ").concat(i);super(s!=null?s:c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r!=null?r:r=[t,...n()]}}function wte(e){return eh(e)&&typeof e[Symbol.iterator]=="function"}function eh(e){return typeof e=="object"&&e!=null}function Lm(e){return eh(e)&&!Array.isArray(e)}function fc(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):"".concat(e)}function Ate(e){const{done:t,value:n}=e.next();return t?void 0:n}function xte(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:c="Expected a value of type `".concat(o,"`").concat(a?" with refinement `".concat(a,"`"):"",", but received: `").concat(fc(r),"`")}=e;return I(S({value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s},e),{message:c})}function*iP(e,t,n,r){wte(e)||(e=[e]);for(const i of e){const s=xte(i,t,n,r);s&&(yield s)}}function*rG(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(e=t.coercer(e,a));let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of t.entries(e,a)){const f=rG(u,d,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const h of f)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):s&&(u=h[1],l===void 0?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):eh(e)&&(u!==void 0||l in e)&&(e[l]=u))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}class th{constructor(t){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const u=i(c,l);return iP(u,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const u=s(c,l);return iP(u,l,this,c)}:this.refiner=()=>[]}assert(t,n){return Ite(t,this,n)}create(t,n){return Nte(t,this,n)}is(t){return Pte(t,this)}mask(t,n){return Rte(t,this,n)}validate(t,n={}){return nh(t,this,n)}}function Ite(e,t,n){const r=nh(e,t,{message:n});if(r[0])throw r[0]}function Nte(e,t,n){const r=nh(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Rte(e,t,n){const r=nh(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Pte(e,t){return!nh(e,t)[0]}function nh(e,t,n={}){const r=rG(e,t,n),i=Ate(r);return i[0]?[new Tte(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Xw(e,t){return new th({type:e,schema:null,validator:t})}function bUe(e){return new th({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: ".concat(fc(t))}})}function CUe(){return Xw("boolean",e=>typeof e=="boolean")}function EUe(e){const t={},n=e.map(r=>fc(r)).join();for(const r of e)t[r]=r;return new th({type:"enums",schema:t,validator(r){return e.includes(r)||"Expected one of `".concat(n,"`, but received: ").concat(fc(r))}})}function kte(){return Xw("never",()=>!1)}function Mte(e){const t=e?Object.keys(e):[],n=kte();return new th({type:"object",schema:e||null,*entries(r){if(e&&eh(r)){const i=new Set(Object.keys(r));for(const s of t)i.delete(s),yield[s,r[s],e[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return Lm(r)||"Expected an object, but received: ".concat(fc(r))},coercer(r,i){if(!Lm(r))return r;const s=S({},r);if(i.mask&&e)for(const o in s)e[o]===void 0&&delete s[o];return s}})}function sP(){return Xw("string",e=>typeof e=="string"||"Expected a string, but received: ".concat(fc(e)))}function SUe(e){const t=Object.keys(e);return new th({type:"type",schema:e,*entries(n){if(eh(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Lm(n)||"Expected an object, but received: ".concat(fc(n))},coercer(n){return Lm(n)?S({},n):n}})}var hc=(e=>(e.Birthday="birthday",e.Sunshine="sunshine",e.GoldenHour="golden_hour",e.TrainingAllowed="training_allowed",e.ShowExpandedCodeView="show_expanded_code_view",e.VoiceName="voice_name",e.VoiceMainLanguage="voice_main_language",e.VoiceEnabled="voice_enabled",e.MemoryInSearch="memory_in_search",e.VoiceTrainingAllowed="voice_training_allowed",e.VideoTrainingAllowed="video_training_allowed",e.Moonshine="moonshine",e.CodexTrainingAllowed="codex_training_allowed_v2",e.BrowserReferenceWebHistoryInChat="hippo_in_chat_allowed",e.ShowLegacyModels="show_legacy_models",e.HiveReferencedInInternalKnowledge="hive_referenced_in_internal_knowledge",e.ConnectorSearchEnabled="connector_search_enabled",e.DeveloperMode="developer_mode",e.Gift="gift",e.ChatTheme="chat_theme",e.LastUsedModelConfig="last_used_model_config",e.VoiceSpeed="voice_speed",e.EnableRemoteBrowserData="enable_remote_browser_data",e.EnableDeviceCodeAuth="enable_device_code_auth",e.UkdvthEntrypointVisible="ukdvth_entrypoint_visible",e.UkdvthMemoryEnabled="ukdvth_memory_enabled",e.H17180rGmail="h17180r_gmail",e.H17180rGoogleCalendar="h17180r_google_calendar",e.H17180rGoogleContacts="h17180r_google_contacts",e.RecordMeetingOnCalendar="record_meeting_on_calendar",e.PreciseLocationEnabledForDevice="precise_location_enabled_for_device",e.AtlasAdultSearchAllowed="atlas_adult_search_allowed",e.AmphoraLocks="amphora_locks",e.GxM2LY8iJnEnabled="gxM2LY8iJn_enabled",e))(hc||{}),xs=(e=>(e.DEEP_RESEARCH="deep_research",e.WORKSPACE_GPT_CUSTOM_ACTIONS="workspace_gpt_custom_actions",e.APP_PAIRING="app_pairing",e.BROWSING="browsing",e.CANVAS="canvas",e.CANVAS_CODE_EXECUTION="canvas_code_execution",e.CANVAS_CODE_NETWORK_ACCESS="canvas_code_network_access",e.DALLE="dalle",e.MEMORY="sunshine",e.LEGACY_MODELS="legacy_models",e.CONTEXT_CONNECTOR_CONFLUENCE="context_connector_confluence",e.CONTEXT_CONNECTOR_GDRIVE="context_connector_gdrive",e.CONTEXT_CONNECTOR_JIRA="context_connector_java",e.CONTEXT_CONNECTOR_NOTION="context_connector_notion",e.CONTEXT_CONNECTOR_O365_PERSONAL="context_connector_o365_personal",e.CONTEXT_CONNECTOR_O365_BUSINESS="context_connector_o365_business",e.CONTEXT_CONNECTOR_SLACK="context_connector_slack",e.CONTEXT_CONNECTOR_GITHUB="context_connector_github",e.CLIENT_APPLICATION_APPLE="client_application_apple",e.CLIENT_APPLICATION_APPLE_MDM_REQUIRED="client_application_apple_mdm_required",e.MEMORY_IN_SEARCH="memory_in_search_2",e.VIDEO_SCREEN_SHARING="video_screen_sharing",e.AURA="aura",e.HIVE="hive",e.HIVE_KNOWLEDGE_RETRIEVAL="hive_knowledge_retrieval",e.ALLOW_CODEX_ACCESS="wham_access",e.ALLOW_CODEX_LOCAL_ACCESS="wham_local_access",e.CODEX_ADMIN="codex_admin",e.CODEX_AGENT_NETWORK_ACCESS="codex_agent_network_access",e.CODEX_DEVICE_CODE_AUTH="codex_device_code_auth",e.CODEX_SLACK_POSTING="codex_slack_posting",e.WORKSPACE_POLICY="workspace_policy",e.PROJECT_SHARING="project_sharing",e.PROJECT_SHARING_GA_OPT_OUT="project_sharing_ga_opt_out",e.AURA_GA_OPT_OUT="aura_ga_opt_out",e.REFERENCE_WEB_HISTORY_IN_CHAT="hippo_in_chat_allowed",e.SHOW_LOGO_IN_HEADER="show_logo_in_header",e.GPT51_GA_OPT_OUT="gpt51_ga_opt_out",e))(xs||{}),Dte=(e=>(e.FREE="chatgptfreeplan",e.GO="chatgptgoplan",e.PLUS="chatgptplusplan",e.PRO="chatgptpro",e.PRO_FREE="chatgptprofreeplan",e.PLUS_FREE="chatgptplusfreeplan",e.SELF_SERVE_BUSINESS="chatgptteamplan",e.ENTERPRISE_CBP_SEAT_USAGE="chatgptbusiness_seat_usage",e.ENTERPRISE_CBP_FLAT="chatgptbusiness_flat",e.EDUCATION_CBP_FLAT="chatgpteducation_flat",e.K12="chatgptk12plan",e.QUORUM="chatgptquorumplan",e.DEPRECATED_ENTERPRISE="chatgptenterpriseplan",e.DEPRECATED_EDU="chatgpteduplan",e))(Dte||{}),Te=(e=>(e.FREE="free",e.GO="go",e.PLUS="plus",e.PRO="pro",e.SELF_SERVE_BUSINESS="team",e.ENTERPRISE_CBP="business",e.EDUCATION_CBP="education",e.QUORUM="quorum",e.DEPRECATED_ENTERPRISE="enterprise",e.DEPRECATED_EDU="edu",e.K12="k12",e))(Te||{}),iG=(e=>(e.ANYONE="anyone",e.NO_ONE="no_one",e.WORKSPACE_ONLY="workspace_only",e))(iG||{});const OUe={ALLOW_ALL:"allow_all",ALLOW_SPECIFIC:"allow_specific",ALLOW_NONE:"allow_none"};var Lte=(e=>(e.GPT_SHARE_SETTINGS="gpt_share_setting",e.CHAT_SHARE_SETTINGS="chat_share_setting",e))(Lte||{}),jte=(e=>(e.WORKSPACE="workspace",e.THIRD_PARTY="third_party",e.UNASSIGNED="unassigned",e))(jte||{}),ld=(e=>(e.WEB="web",e.IOS_APP="ios_app",e.ANDROID_APP="android_app",e.WINDOWS_APP="windows_app",e.MAC_APP="mac_os_app",e.DEFAULT="default",e))(ld||{}),Ro=(e=>(e.CodeInterpreter="code_interpreter",e.Multimodal="multimodal",e.Retrieval="retrieval",e.ContextConnector="context_connector",e))(Ro||{}),sa=(e=>(e.FREE="free",e.PLUS="plus",e))(sa||{}),Be=(e=>(e.TOOL_USE="tool_use",e.IMAGE="image",e.ATTACHMENT="attachment",e.AUDIO="audio",e.TARGETED_REPLY="targeted_reply",e.CANVAS_SUPPORTED="canvas_supported",e.TOOL_SEARCH="tool_search",e.CUSTOM_INSTRUCTIONS="custom_instructions",e.GIZMO_PROJECT="gizmo_project",e))(Be||{}),oa=(e=>(e.SHORT_LABEL="short_label",e.TITLE="title",e))(oa||{}),RT=(e=>(e[e.DEPRECATED_PENDING=1]="DEPRECATED_PENDING",e[e.DEPRECATED_FINISHED=2]="DEPRECATED_FINISHED",e[e.STREAMING=3]="STREAMING",e[e.UNREAD=4]="UNREAD",e[e.REALTIME=5]="REALTIME",e))(RT||{}),sG=(e=>(e[e.CLIENT=1]="CLIENT",e[e.SERVER=2]="SERVER",e))(sG||{}),Zn=(e=>(e.PERSONAL="personal",e.WORKSPACE="workspace",e))(Zn||{}),Id=(e=>(e.OWNER="account-owner",e.ADMIN="account-admin",e.STANDARD="standard-user",e))(Id||{}),Fte=(e=>(e.VERIFIED="verified",e.PENDING="pending",e.EXPIRED="expired",e))(Fte||{}),Ute=(e=>(e.PERCENTAGE="percentage",e.FIXED="fixed",e))(Ute||{}),Bte=(e=>(e.IMMEDIATE="immediate",e.TERM_END="term_end",e.DISCOUNT_END="discount_end",e))(Bte||{}),hn=(e=>(e.AceUpload="ace_upload",e.MyFiles="my_files",e.LibraryFiles="library_files",e.Multimodal="multimodal",e.ProfilePicture="profile_picture",e.Gizmo="agent",e.DalleAgent="dalle_agent",e.Codex="codex",e))(hn||{}),Or=(e=>(e.Initial="initial",e.FileCreated="file_created",e.FileUploaded="file_uploaded",e.FileProcessed="file_processed",e.RetrievalIndexCreated="retrieval_index_created",e))(Or||{}),Zd=(e=>(e.Success="success",e.Retry="retry",e.Error="error",e))(Zd||{}),Nl=(e=>(e.Success="success",e.Failed="failed",e.Processing="processing",e.Skipped="skipped",e))(Nl||{}),xe=(e=>(e.GDRIVE="gdrive",e.O365="o365",e.O365_PERSONAL="o365_personal",e.O365_BUSINESS="o365_business",e.CONFLUENCE="confluence",e.JIRA="java",e.NOTION_OPEN_CONNECTOR="notion_open_connector",e.SLACK_OPEN_CONNECTOR="slack_open_connector",e))(xe||{});const P={GDRIVE_ACTION_CONNECTOR:"gdrive_action_connector",GITHUB_CONNECTOR:"github_connector",LINEAR_CONNECTOR:"linear_connector",LINEAR_CODEX_BOT_CONNECTOR:"linear_codex_bot_connector",DROPBOX_CONNECTOR:"dropbox_connector",SHAREPOINT_CONNECTOR:"sharepoint_connector",GCAL_CONNECTOR:"google_calendar_connector",GMAIL_CONNECTOR:"gmail_connector",GOOGLE_CONTACTS_CONNECTOR:"google_contacts_connector",TEAMS_CONNECTOR:"teams_connector",OUTLOOK_CALENDAR_CONNECTOR:"outlook_calendar_connector",OUTLOOK_EMAIL_CONNECTOR:"outlook_email_connector",BOX_CONNECTOR:"box_connector",INTERCOM_CONNECTOR:"intercom_connector",NOTION_CONNECTOR:"notion_connector",HUBSPOT_CONNECTOR:"hubspot_connector",SALESFORCE_CONNECTOR:"salesforce_connector",AHA_CONNECTOR:"aha_connector",ASANA_CONNECTOR:"asana_connector",AZURE_DEVOPS_CONNECTOR:"azure_devops_connector",BASECAMP_CONNECTOR:"basecamp_connector",CLICKUP_CONNECTOR:"clickup_connector",FRESHDESK_CONNECTOR:"freshdesk_connector",FRESHSERVICE_CONNECTOR:"freshservice_connector",FRONT_CONNECTOR:"front_connector",GITLAB_CONNECTOR:"gitlab_connector",GORGIAS_CONNECTOR:"gorgias_connector",HELP_SCOUT_CONNECTOR:"help_scout_connector",IRONCLAD_CONNECTOR:"ironclad_connector",PIPEDRIVE_CONNECTOR:"pipedrive_connector",SALESFORCE_SERVICE_CLOUD_CONNECTOR:"salesforce_service_cloud_connector",SHORTCUT_CONNECTOR:"shortcut_connector",TEAMWORK_CONNECTOR:"teamwork_connector",ZENDESK_CONNECTOR:"zendesk_connector",ZOHO_CONNECTOR:"zoho_connector",ZOHO_DESK_CONNECTOR:"zoho_desk_connector",CANVA_CONNECTOR:"canva_connector",SLACK_CONNECTOR:"slack_connector",SLACK_CODEX_CONNECTOR:"slack_codex_connector",SLACK_CODEX_BOT_CONNECTOR:"slack_codex_bot_connector",UAE_PASS_CONNECTOR:"uae_pass_connector",SHAREPOINT_ADMIN_CONNECTOR:"sharepoint_admin_connector",TEAMS_ADMIN_CONNECTOR:"teams_admin_connector",CONFLUENCE_CONNECTOR:"confluence_connector",JIRA_CONNECTOR:"jira_connector",JIRA_SERVICEMANAGEMENT_CONNECTOR:"jira_servicemanagement_connector"};var Oi=(e=>(e.MCP_CONNECTOR="mcp_connector",e))(Oi||{}),jm=(e=>(e.GDRIVE_SYNC_CONNECTOR="gdrive_sync_connector",e.SLACK_SYNC_CONNECTOR="slack_sync_connector",e))(jm||{}),Vp=(e=>(e.GCAL_CONNECTOR="gcal_action_connector",e.GMAIL_CONNECTOR="gmail_action_connector",e.GOOGLE_CONTACTS_CONNECTOR="google_contacts_action_connector",e))(Vp||{}),Gte=(e=>(e.PAGE="page",e))(Gte||{}),Wte=(e=>(e.PAGE="page",e.DATABASE="database",e))(Wte||{}),qte=(e=>(e.MESSAGE="message",e))(qte||{}),Qg=(e=>(e.PYTHON="python",e.RETRIEVAL="retrieval",e.BROWSER="browser",e.CANVAS="canvas",e.FUNCTION="function",e.DALLE="dalle",e.API="api",e.PARALLEL_BROWSE="parallel_browse",e.MEMORY="memory",e.CONTEXT_CONNECTOR="context_connector",e.JIT_PLUGIN="plugins_prototype",e.IMAGE_GEN="image_gen",e))(Qg||{}),Vte=(e=>(e.Gizmo="gizmo",e.Project="project",e.ShareableConversation="share_link",e.Conversation="conversation",e.Profile="profile",e.Message="message",e.Post="post",e.CommerceProduct="commerce_product",e.Connector="connector",e.CalpicoRoom="calpico_room",e))(Vte||{}),$te=(e=>(e.UserName="user_name",e.UserEmail="user_email",e.EntityName="entity_name",e.EntityUrl="entity_url",e.SampleLongerInput="sample_longer_input",e.SampleUrl="sample_url_input",e.SampleIntInput="sample_int_input",e))($te||{}),Hte=(e=>(e.Calpico="calpico",e))(Hte||{});const TUe={shouldnt_have_created:fn({id:"ImageGenFeedback.ShouldNotHaveCreated",defaultMessage:"Shouldn't have created an image"}),dont_like_style:fn({id:"ImageGenFeedback.DontLikeStyle",defaultMessage:"Don't like the style"}),didnt_fully_follow_instructions:fn({id:"ImageGenFeedback.DidntFollowInstructions",defaultMessage:"Didn't fully follow instructions"}),low_quality_or_distorted:fn({id:"ImageGenFeedback.LowQualityOrDistorted",defaultMessage:"Low quality or distorted"}),odd_cropping:fn({id:"ImageGenFeedback.OddCropping",defaultMessage:"Odd cropping"}),inaccurate_editing:fn({id:"ImageGenFeedback.InaccurateEditing",defaultMessage:"Inaccurate editing"}),inaccurate_text_rendering:fn({id:"ImageGenFeedback.InaccurateTextRendering",defaultMessage:"Inaccurate text rendering"}),unsafe_or_problematic:fn({id:"ImageGenFeedback.UnsafeOrProblematic",defaultMessage:"Unsafe or problematic"}),biased:fn({id:"ImageGenFeedback.Biased",defaultMessage:"Biased"}),other:fn({id:"ImageGenFeedback.Other",defaultMessage:"Other"})};var zte=(e=>(e.AUDIO_ISSUES="audio_issues",e.RESPONSE_QUALITY="response_quality",e.INTERRUPTIONS="interruptions",e.TRANSCRIPTION_ISSUES="transcription_issues",e.INAUDIBLE_ISSUES="inaudible_issues",e.OTHER="other",e))(zte||{});const wUe={audio_issues:fn({id:"VoiceFeedback.AudioIssues",defaultMessage:"Audio issues"}),response_quality:fn({id:"VoiceFeedback.ResponseQuality",defaultMessage:"I didn't like the responses"}),interruptions:fn({id:"VoiceFeedback.Interruptions",defaultMessage:"It interrupted me"}),transcription_issues:fn({id:"VoiceFeedback.TranscriptionIssues",defaultMessage:"It misheard me"}),inaudible_issues:fn({id:"VoiceFeedback.InaudibleIssues",defaultMessage:"It couldn't hear me"}),other:fn({id:"VoiceFeedback.Other",defaultMessage:"Other"})};var Yte=(e=>(e.THUMBS_UP="thumbs_up",e.THUMBS_DOWN="thumbs_down",e))(Yte||{}),Kte=(e=>(e.Auto="auto",e.Arabic="ar",e.Bosnian="bs",e.Bulgarian="bg",e.Catalan="ca",e.Chinese="zh",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.English="en",e.Finnish="fi",e.French="fr",e.Galician="gl",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Macedonian="mk",e.Malay="ms",e.Norwegian="no",e.Polish="pl",e.Portuguese="pt",e.Romanian="ro",e.Russian="ru",e.Slovak="sk",e.Spanish="es",e.Tagalog="tl",e.Tamil="ta",e.Thai="th",e.Turkish="tr",e.Swedish="sv",e.Ukrainian="uk",e.Vietnamese="vi",e))(Kte||{});const AUe="warm",xUe=["new_chat","switch_to_standard","ok","upgrade_to_plus","upgrade_to_pro"],Hv="account_switch",zv="error",IUe=Mte({email:sP(),token:sP()});var Jte=(e=>(e.InvalidProof="invalid_proof",e.ExternalAccountAlreadyLinked="external_account_already_linked",e.InternalAccountAlreadyLinked="account_already_linked",e.UnsupportedPlatform="unsupported_platform",e.UnsupportedPlanType="unsupported_plan_type",e.SessionExpired="user_session_expired",e))(Jte||{});function NUe(e){if(typeof e!="object"||e==null)return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function RUe(e){return e!=null}const Xte=(e,t)=>e.includes(t),Qte=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},PUe=(e,t=[])=>n=>Qte(n,e,t),Zte=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,ene=(e,t)=>{const n=Zte(e),r={};for(const i in t)r[i]=t[i](n==null?void 0:n[i]);return r},kUe=e=>t=>ene(t,e),MUe=(e,t="")=>typeof e=="object"||e==null?t:String(e),DUe=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},tne=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},PT=(e,t,n=t[0])=>Xte(t,e)?e:n,nne=(e,t=e[0])=>n=>PT(n,e,t),LUe=e=>t=>t===void 0?void 0:e(t),jUe=e=>t=>t==null?null:e(t),rne=e=>$e(e,"506294923");function Fm(e,t){switch(t){case"gpt-4o":return hr(e).checkGate("1627380539");default:return!1}}const Zg=ut(()=>xc(()=>({modals:[],nextKey:1})));function Mi(e,t,n){Zg(e).setState(r=>{const i=r.modals.find(s=>s.ModalComponent===t);return i?{modals:[...r.modals.filter(s=>s.ModalComponent!==t),{key:i.key,ModalComponent:t,props:n}]}:{modals:[...r.modals,{key:r.nextKey,ModalComponent:t,props:n}],nextKey:r.nextKey+1}})}function Qw(e,t){Zg(e).setState(n=>({modals:n.modals.filter(r=>r.ModalComponent!==t)}))}function FUe(e,t){return Zg(e).getState().modals.some(n=>n.ModalComponent===t)}const ine=E.memo(function({modal:{ModalComponent:t,props:n}}){const r=re();return _.jsx(t,I(S({},n),{onClose:()=>{var i;(i=n==null?void 0:n.onClose)==null||i.call(n),Qw(r,t)}}))});function sne(){const e=re(),t=Zg(e),n=Yf(t,r=>r.modals);return _.jsx(_.Fragment,{children:n.map(r=>_.jsx(ine,{modal:r},r.key))})}const oG=()=>{},one=()=>oG;function ane(e,t=oG){return E.useSyncExternalStore(one,e,t)}function e_(){return ane(()=>!0,()=>!1)}function cne(){return null}function B(e,t){const n=async()=>{var c;try{const l=await e();return"default"in l?l:{default:l}}catch(l){return Q.addAction("Failed importing dynamic component",{error:l}),{default:(c=t==null?void 0:t.fallback)!=null?c:cne}}},r=E.lazy(n),i=t==null?void 0:t.loading;function s(c){const[l]=E.useState(()=>a);return e_()?l?_.jsx(l,S({},c)):_.jsx(E.Suspense,{fallback:i==null?null:_.jsx(i,S({},c)),children:_.jsx(r,S({},c))}):i!=null?_.jsx(i,S({},c)):null}let o,a;return s.prefetch=()=>(o||(o=n().then(c=>{a=c.default})),o),s}const lne=B(()=>k(()=>import("./ed431zrbjws1gptf.js"),__vite__mapDeps([0,1])).then(e=>e.AllWorkspacesBlockedModal));function une(e,t){Mi(e,lne,{userEmail:t})}var dne={};const fne=window.location.origin+"/backend/se";var QU,ZU;const UUe=(ZU=(QU=dne.VITE_VZA493Q_SERVICE_URL)!=null?QU:"https://operator.chatgpt.com")!=null?ZU:"https://operator.chatgpt.com",Fs="personal",aG=3600*24*90,BUe=Tt({signUpButtonText:{id:"Kiuf8K",defaultMessage:"Sign up"},logInButtonText:{id:"Yx8BXg",defaultMessage:"Log in"},cancelButtonText:{id:"DR1Cxg",defaultMessage:"Cancel"},continueButtonText:{id:"bT1n8o",defaultMessage:"Continue"},gotItButtonText:{id:"Eomb3Y",defaultMessage:"Got it"},stayLoggedOut:{id:"JpuO4U",defaultMessage:"Stay logged out"},somethingWentWrong:{id:"SJ1B8J",defaultMessage:"Something went wrong. Please try again later"},getPlus:{id:"nPUS9f",defaultMessage:"Get Plus"},getPro:{id:"MC/MAr",defaultMessage:"Get Pro"},getBusiness:{id:"V3AJYL",defaultMessage:"Get Business"},tryPlus:{id:"lhUk0N",defaultMessage:"Try Plus"},tryBusiness:{id:"D5Q+Xo",defaultMessage:"Try Business"},tryGo:{id:"OkPnQG",defaultMessage:"Try Go"},upgradeToPlus:{id:"LIJKv1",defaultMessage:"Upgrade to Plus"},upgradeToPro:{id:"U92S4K",defaultMessage:"Upgrade to Pro"},upgradeToGo:{id:"xbeQTB",defaultMessage:"Upgrade to Go"},joinGo:{id:"w4EEKa",defaultMessage:"Join Go"},joinPlus:{id:"HmtUzT",defaultMessage:"Join Plus"},joinPro:{id:"Ehp9lH",defaultMessage:"Join Pro"},unlockGo:{id:"C3xzfi",defaultMessage:"Unlock Go"},unlockPlus:{id:"W3hk8e",defaultMessage:"Unlock Plus"},unlockPro:{id:"TXstaY",defaultMessage:"Unlock Pro"},longCtaPlus:{id:"kp6hSg",defaultMessage:"Get better, faster answers"},longCtaPro:{id:"SEKq+P",defaultMessage:"Unlock all of ChatGPT"},upgradeYourPlan:{id:"aWGaHN",defaultMessage:"Upgrade your plan"},upgradePlan:{id:"N8cHz1",defaultMessage:"Upgrade plan"},upgrade:{id:"0CZNA2",defaultMessage:"Upgrade"},upgradeForFree:{id:"c1Drc7",defaultMessage:"Upgrade for free"},featureProjectsTasksCustomGPTs:{id:"pricing.plusRedesign.feature.projectsTasksCustomGPTs",defaultMessage:"Projects, tasks, custom GPTs"},maybeLater:{id:"common-message.maybeLater",defaultMessage:"Maybe later"},dismissUpgradeReminder:{id:"common-message.dismissUpgradeReminder",defaultMessage:"Dismiss upgrade reminder"},confirm:{id:"common-message.confirm",defaultMessage:"Confirm"},cancel:{id:"common-message.cancel",defaultMessage:"Cancel"},tryPlusTrial:{id:"common-message.tryPlusFree",defaultMessage:"Try Plus free"},tryGoTrial:{id:"common-message.tryGoFree",defaultMessage:"Try Go free"},chatGPT:{id:"common-message.chatGPT",defaultMessage:"ChatGPT"},connect:{id:"common-message.connect",defaultMessage:"Connect"},notApplicable:{id:"common-message.notApplicable",defaultMessage:"N/A"},contactSales:{id:"common-message.contactSales",defaultMessage:"Contact Sales"},close:{id:"common-message.close",defaultMessage:"Close"},specialOffer:{id:"pricingPlanConstants.specialOffer",defaultMessage:"SPECIAL OFFER"},title:{id:"meta.title",defaultMessage:"ChatGPT | Smart, Fast & Free AI Chat"},planNameGo:{id:"common-message.planNameGo",defaultMessage:"Go"},planNamePlus:{id:"common-message.planNamePlus",defaultMessage:"Plus"},planNamePro:{id:"common-message.planNamePro",defaultMessage:"Pro"},planNameBusiness:{id:"common-message.planNameBusiness",defaultMessage:"Business"}});var hne=(e=>(e.APPLE="apple",e))(hne||{});const pne="gpt-4o",GUe=pne;var mne=(e=>(e.NoAuthPlan="ifpazk",e))(mne||{}),gne=(e=>(e.Go="zkl",e.Plus="ioaj",e.Pro="1k0d2",e.Business="oicnw",e))(gne||{}),cG=(e=>(e.GPT_3_5="gpt3.5",e.GPT_4="gpt4",e.GPT_4o="gpt4o",e.HIDDEN="hidden",e))(cG||{});const Zw="WEB:",WUe="".concat(Zw,":DUMMY");var _ne=(e=>(e.Next="next",e.Variant="variant",e.Continue="continue",e))(_ne||{}),Ke=(e=>(e.Root="root",e.User="user",e.Assistant="assistant",e.System="system",e.Critic="critic",e.Tool="tool",e.Developer="developer",e))(Ke||{}),zs=(e=>(e.PrimaryAssistant="primary_assistant",e.GizmoInteraction="gizmo_interaction",e.GizmoMagicCreate="gizmo_magic_create",e.GizmoTest="gizmo_test",e.FlyingCircusCustomization="flying_circus_customization",e))(zs||{});const it={Web:"web",Cloud:"cloud",GitHub:"github",GoogleDrive:"google_drive",GoogleCalendar:"google_calendar",Gmail:"gmail",GoogleContacts:"google_contacts",Dropbox:"dropbox",Linear:"linear",Sharepoint:"sharepoint",Teams:"teams",OutlookEmail:"outlook_email",OutlookCalendar:"outlook_calendar",Box:"box",Intercom:"intercom",Hubspot:"hubspot",Salesforce:"salesforce",Aha:"aha",Asana:"asana",AzureDevOps:"azure_devops",Basecamp:"basecamp",Clickup:"clickup",Freshdesk:"freshdesk",Freshservice:"freshservice",Front:"front",Gitlab:"gitlab",Gorgias:"gorgias",HelpScout:"help_scout",Ironclad:"ironclad",Pipedrive:"pipedrive",SalesforceServiceCloud:"salesforce_service_cloud",Shortcut:"shortcut",Teamwork:"teamwork",Zendesk:"zendesk",Zoho:"zoho",ZohoDesk:"zoho_desk",Canva:"canva",Notion:"notion",Slack:"slack",Confluence:"confluence",Jira:"jira",JiraServiceManagement:"jira_servicemanagement"};var vne=(e=>(e.None="none",e.OAuth="oauth",e.ServiceHTTP="service_http",e))(vne||{}),yne=(e=>(e.CONVERSATION="conversation",e.REGENERATE="regenerate",e))(yne||{}),bne=(e=>(e.UNSUPPORTED_ATTACHMENT="unsupported_attachment",e.UNSUPPORTED_AUDIO="unsupported_audio",e.UNSUPPORTED_IMAGE="unsupported_image",e.UNSUPPORTED_TOOL_USE="unsupported_tool_use",e.UNSUPPORTED_GIZMO="unsupported_gizmo",e.UNSUPPORTED_CUSTOM_INSTRUCTIONS="unsupported_custom_instructions",e.UNSUPPORTED_TEMPORARY_CHAT="unsupported_temporary_chat",e.UNSUPPORTED_CANVAS="unsupported_canvas",e))(bne||{}),Cne=(e=>(e.RATE_LIMIT="rate_limit",e))(Cne||{}),qe=(e=>(e.Text="text",e.MultimodalText="multimodal_text",e.StructuredThoughts="thoughts",e.ReasoningRecap="reasoning_recap",e.TetherBrowsingCode="tether_browsing_code",e.Code="code",e.ExecutionOutput="execution_output",e.SystemError="system_error",e.SystemMessage="system_message",e.SystemContent="system_content",e.DeveloperContent="developer_content",e.TetherBrowsingDisplay="tether_browsing_display",e.TetherQuote="tether_quote",e.UserEditableContext="user_editable_context",e.ModelEditableContext="model_editable_context",e.SonicWebpage="sonic_webpage",e.ComputerOutput="computer_output",e.Error="error",e.SuperWidget="super_widget",e.CitableCodeOutput="citable_code_output",e))(qe||{}),Bn=(e=>(e.Audio="audio",e.AudioAssetPointer="audio_asset_pointer",e.ImageAssetPointer="image_asset_pointer",e.Image="image",e.AudioTranscription="audio_transcription",e.RealTimeUserAudioVideoAssetPointer="real_time_user_audio_video_asset_pointer",e.SimpleImageAssetPointer="simple_image_asset_pointer",e.ArbitraryAssetPointer="arbitrary_asset_pointer",e.VideoAssetPointer="video_asset_pointer",e))(Bn||{}),ef=(e=>(e.Picker="Picker",e.Link="Link",e))(ef||{}),Zr=(e=>(e.SEND="send",e.GIZMO_TAG="gizmo_tag",e.FILE_UPLOAD="file_upload",e.REASON="reason",e.DEEP_RESEARCH="deep_research",e.IMAGE_GEN="image_gen",e.WHAM="wham",e.ODYSSEY="odyssey",e))(Zr||{}),Ene=(e=>(e.AUTHENTICATE="authenticate",e.AUTHENTICATE_SECONDARY="authenticate_secondary",e.NEW_CHAT="new_chat",e.DEEP_RESEARCH_IN_CONTEXT_UPSELL="deep_research_in_context_upsell",e.TRY_CODEX="try_codex",e.TRY_TATERTOT="try_tatertot",e.NOTIFY_ADMIN_FOR_CREDITS="notify_admin_for_credits",e.ADD_CREDITS="add_credits",e.CONNECT_CONNECTOR="connect_connector",e.UPGRADE_TO_GO="upgrade_to_go",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.GET_BUSINESS_TRIAL="get_business_trial",e.GET_PLUS_TRIAL="get_plus_trial",e.GET_GO_TRIAL="get_go_trial",e))(Ene||{}),eA=(e=>(e.DEEP_RESEARCH="deep_research",e.ODYSSEY="odyssey",e))(eA||{}),Sne=(e=>(e.VIEW="view",e.CLICK="click",e.DISMISS="dismiss",e))(Sne||{}),One=(e=>(e.FILE_UPLOAD="file_upload",e.PHOTO_UPLOAD="photo_upload",e.AUTHENTICATE_LOGIN="authenticate_login",e.AUTHENTICATE_SIGNUP="authenticate_signup",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.SYSTEM_HINT="system_hint",e.DISMISS="dismiss",e.GET_GO="get_go",e.GET_TEAM="get_team",e.INVITE_TEAM_MEMBERS="invite_team_members",e.OPEN_URL="open_url",e.OPEN_LOCAL_URL="open_local_url",e.COPY_TO_CLIPBOARD="copy_to_clipboard",e.SHARE_CONVERSATION="share_conversation",e.CREATE_PROMPT="create_prompt",e.UPDATE_PERSONALITY_TRAIT="update_personality_trait",e.DROPDOWN="dropdown",e.REGENERATE="regenerate",e.OPEN_CONNECTORS_ONBOARDING_MODAL="open_connectors_onboarding_modal",e))(One||{}),Tne=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.COPY="copy",e.DROPDOWN="dropdown",e))(Tne||{}),kT=(e=>(e.SystemHint="systemHint",e.EcosystemMention="ecosystemMention",e))(kT||{});function qUe(e){return"start_index"in e?{startIndex:e.start_index,endIndex:e.end_index,symbol:e.symbol}:e}var wne=(e=>(e.InstantQuery="instant_query",e.ComposerSearch="composer_search",e.UrlSearch="url_search",e))(wne||{}),Ane=(e=>(e.ONLY_ME="only_me",e.OPENAI="openai",e.EXTERNAL="external",e))(Ane||{}),xne=(e=>(e.RiskyDomainNotWatching="risky_domain_not_watching",e.UserInterrupted="user_interrupted",e.MaliciousInstructionDetected="malicious_instruction_detected",e.ModerationBlocked="moderation_blocked",e.Unknown="unknown",e))(xne||{}),Ine=(e=>(e.ToolWeb="tool:web",e.Onboarding="onboarding",e.AppPairing="tool:app-pairing",e.IPL="campaign:ipl",e))(Ine||{}),lG=(e=>(e.Search="search",e.Canvas="canvas",e.ImageGen="image_gen_tool_enabled",e))(lG||{}),uG=(e=>(e.Search="search",e.Click="click",e.MultiClick="mclick",e.Lookup="lookup",e.OpenUrl="open_url",e.Open="open",e.Quote="quote",e.QuoteFull="quote_full",e.QuoteLines="quote_lines",e.Back="back",e.Scroll="scroll",e.Spinner="spinner",e))(uG||{}),Nne=(e=>(e.Bing="bing",e.Fortis="fortis",e))(Nne||{}),Rne=(e=>(e.Starting="starting",e.Running="running",e.Done="done",e.Timeout="timeout",e.Error="error",e.Cancelled="cancelled",e))(Rne||{}),Pne=(e=>(e.AUTO="auto",e.GPT5="gpt-5",e.GPT5_PRO="gpt-5-pro",e))(Pne||{}),mr=(e=>(e.AUTO="auto",e.ON="reasoning",e.OFF="none",e.PRO="pro",e))(mr||{});const tA="agent",kne="~oai~s1~";function Mne(e){let t=2166136261;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);t=Math.imul(t^i&255,16777619),t=Math.imul(t^i&65280,16777619)}return t>>>0}function Po(e,t){if(typeof e!="number")throw new Error("Unexpected: ".concat(e));return t!=null&&e===Dne(t)}const oP={};function Dne(e){var t;return(t=oP[e])!=null?t:oP[e]=Mne(kne+e)}const VUe="n7jupd",dG="-0dy553y",Lne=1338619165;function fG(e){return Po(Lne,e+dG)}const jne=3675352570;function $Ue(e){return Po(jne,e+dG)}var Fne=(e=>(e[e.Setup=0]="Setup",e[e.Random=1]="Random",e[e.Animation=2]="Animation",e[e.Done=3]="Done",e[e.Thinking=4]="Thinking",e[e.KAUR1BR5=5]="KAUR1BR5",e[e.Research=6]="Research",e[e.Autoswitch=7]="Autoswitch",e))(Fne||{});const ae={Search:"search",Think:"reason",Research:"research",Canvas:"canvas",Picture:"picture",PictureV2:"picture_v2",Video:"video",Slurm:"slurm",ApiTool:"api_tool",Pineapple:"pineapple",Moonshine:"moonshine",Tatertot:"tatertot",Agent:"agent",Glaux:"glaux"},nA="synthetic_connector";function Rl(e){return e===nA}function Une(e){return Object.values(ae).includes(e)}function Bne(e){return Une(e)?e:Wne[e]}const Gne="study",Wne={connectors:ae.Slurm,image:ae.PictureV2,think:ae.Think,[Gne]:ae.Tatertot,"company-knowledge":ae.Glaux};function Um(e){return typeof e=="string"&&e.startsWith("connector:")}function hG(e){return"connector:".concat(e)}function HUe(e){if(Um(e))return qne(e)}function qne(e){return e.split("connector:")[1]}var pG=Symbol.for("immer-nothing"),aP=Symbol.for("immer-draftable"),vt=Symbol.for("immer-state");function Jr(e,...t){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Kl=Object.getPrototypeOf;function Jl(e){return!!e&&!!e[vt]}function Ys(e){var t;return e?mG(e)||Array.isArray(e)||!!e[aP]||!!((t=e.constructor)!=null&&t[aP])||n_(e)||r_(e):!1}var Vne=Object.prototype.constructor.toString();function mG(e){if(!e||typeof e!="object")return!1;const t=Kl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Vne}function Xl(e,t){t_(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function t_(e){const t=e[vt];return t?t.type_:Array.isArray(e)?1:n_(e)?2:r_(e)?3:0}function MT(e,t){return t_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gG(e,t,n){const r=t_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function $ne(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function n_(e){return e instanceof Map}function r_(e){return e instanceof Set}function wn(e){return e.copy_||e.base_}function DT(e,t){if(n_(e))return new Map(e);if(r_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&mG(e))return Kl(e)?S({},e):Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[vt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Kl(e),n)}function rA(e,t=!1){return i_(e)||Jl(e)||!Ys(e)||(t_(e)>1&&(e.set=e.add=e.clear=e.delete=Hne),Object.freeze(e),t&&Xl(e,(n,r)=>rA(r,!0))),e}function Hne(){Jr(2)}function i_(e){return Object.isFrozen(e)}var LT={};function pc(e){const t=LT[e];return t||Jr(0,e),t}function zne(e,t){LT[e]||(LT[e]=t)}var tf;function Bm(){return tf}function Yne(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cP(e,t){t&&(pc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jT(e){FT(e),e.drafts_.forEach(Kne),e.drafts_=null}function FT(e){e===tf&&(tf=e.parent_)}function lP(e){return tf=Yne(tf,e)}function Kne(e){const t=e[vt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[vt].modified_&&(jT(t),Jr(4)),Ys(e)&&(e=Gm(t,e),t.parent_||Wm(t,e)),t.patches_&&pc("Patches").generateReplacementPatches_(n[vt].base_,e,t.patches_,t.inversePatches_)):e=Gm(t,n,[]),jT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pG?e:void 0}function Gm(e,t,n){if(i_(t))return t;const r=t[vt];if(!r)return Xl(t,(i,s)=>dP(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Wm(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Xl(s,(a,c)=>dP(e,r,i,a,c,n,o)),Wm(e,i,!1),n&&e.patches_&&pc("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function dP(e,t,n,r,i,s,o){if(Jl(i)){const a=s&&t&&t.type_!==3&&!MT(t.assigned_,r)?s.concat(r):void 0,c=Gm(e,i,a);if(gG(n,r,c),Jl(c))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Ys(i)&&!i_(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gm(e,i),(!t||!t.scope_.parent_)&&Wm(e,i)}}function Wm(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rA(t,n)}function Jne(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Bm(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=iA;n&&(i=[r],s=nf);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var iA={get(e,t){if(t===vt)return e;const n=wn(e);if(!MT(n,t))return Xne(e,n,t);const r=n[t];return e.finalized_||!Ys(r)?r:r===Yv(e.base_,t)?(Kv(e),e.copy_[t]=rf(r,e)):r},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,n){const r=_G(wn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Yv(wn(e),t),s=i==null?void 0:i[vt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if($ne(n,i)&&(n!==void 0||MT(e.base_,t)))return!0;Kv(e),Ns(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Kv(e),Ns(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=wn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Jr(11)},getPrototypeOf(e){return Kl(e.base_)},setPrototypeOf(){Jr(12)}},nf={};Xl(iA,(e,t)=>{nf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});nf.deleteProperty=function(e,t){return nf.set.call(this,e,t,void 0)};nf.set=function(e,t,n){return iA.set.call(this,e[0],t,n,e[0])};function Yv(e,t){const n=e[vt];return(n?wn(n):e)[t]}function Xne(e,t,n){var i;const r=_G(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function _G(e,t){if(!(t in e))return;let n=Kl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Kl(n)}}function Ns(e){e.modified_||(e.modified_=!0,e.parent_&&Ns(e.parent_))}function Kv(e){e.copy_||(e.copy_=DT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Qne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(c=s,...l){return o.produce(c,u=>n.call(this,u,...l))}}typeof n!="function"&&Jr(6),r!==void 0&&typeof r!="function"&&Jr(7);let i;if(Ys(t)){const s=lP(this),o=rf(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?jT(s):FT(s)}return cP(s,r),uP(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===pG&&(i=void 0),this.autoFreeze_&&rA(i,!0),r){const s=[],o=[];pc("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Jr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ys(e)||Jr(8),Jl(e)&&(e=Zne(e));const t=lP(this),n=rf(e,void 0);return n[vt].isManual_=!0,FT(t),n}finishDraft(e,t){const n=e&&e[vt];(!n||!n.isManual_)&&Jr(9);const{scope_:r}=n;return cP(r,t),uP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=pc("Patches").applyPatches_;return Jl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function rf(e,t){const n=n_(e)?pc("MapSet").proxyMap_(e,t):r_(e)?pc("MapSet").proxySet_(e,t):Jne(e,t);return(t?t.scope_:Bm()).drafts_.push(n),n}function Zne(e){return Jl(e)||Jr(10,e),vG(e)}function vG(e){if(!Ys(e)||i_(e))return e;const t=e[vt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=DT(e,t.scope_.immer_.useStrictShallowCopy_)}else n=DT(e,!0);return Xl(n,(r,i)=>{gG(n,r,vG(i))}),t&&(t.finalized_=!1),n}function ere(){class e extends Map{constructor(c,l){super(),this[vt]={type_:2,parent_:l,scope_:l?l.scope_:Bm(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return wn(this[vt]).size}has(c){return wn(this[vt]).has(c)}set(c,l){const u=this[vt];return o(u),(!wn(u).has(c)||wn(u).get(c)!==l)&&(n(u),Ns(u),u.assigned_.set(c,!0),u.copy_.set(c,l),u.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const l=this[vt];return o(l),n(l),Ns(l),l.base_.has(c)?l.assigned_.set(c,!1):l.assigned_.delete(c),l.copy_.delete(c),!0}clear(){const c=this[vt];o(c),wn(c).size&&(n(c),Ns(c),c.assigned_=new Map,Xl(c.base_,l=>{c.assigned_.set(l,!1)}),c.copy_.clear())}forEach(c,l){const u=this[vt];wn(u).forEach((d,f,h)=>{c.call(l,this.get(f),f,this)})}get(c){const l=this[vt];o(l);const u=wn(l).get(c);if(l.finalized_||!Ys(u)||u!==l.base_.get(c))return u;const d=rf(u,l);return n(l),l.copy_.set(c,d),d}keys(){return wn(this[vt]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const l=c.next();return l.done?l:{done:!1,value:this.get(l.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const l=c.next();if(l.done)return l;const u=this.get(l.value);return{done:!1,value:[l.value,u]}}}}[Symbol.iterator](){return this.entries()}}function t(a,c){return new e(a,c)}function n(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class r extends Set{constructor(c,l){super(),this[vt]={type_:3,parent_:l,scope_:l?l.scope_:Bm(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return wn(this[vt]).size}has(c){const l=this[vt];return o(l),l.copy_?!!(l.copy_.has(c)||l.drafts_.has(c)&&l.copy_.has(l.drafts_.get(c))):l.base_.has(c)}add(c){const l=this[vt];return o(l),this.has(c)||(s(l),Ns(l),l.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const l=this[vt];return o(l),s(l),Ns(l),l.copy_.delete(c)||(l.drafts_.has(c)?l.copy_.delete(l.drafts_.get(c)):!1)}clear(){const c=this[vt];o(c),wn(c).size&&(s(c),Ns(c),c.copy_.clear())}values(){const c=this[vt];return o(c),s(c),c.copy_.values()}entries(){const c=this[vt];return o(c),s(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,l){const u=this.values();let d=u.next();for(;!d.done;)c.call(l,d.value,d.value,this),d=u.next()}}function i(a,c){return new r(a,c)}function s(a){a.copy_||(a.copy_=new Set,a.base_.forEach(c=>{if(Ys(c)){const l=rf(c,a);a.drafts_.set(c,l),a.copy_.add(l)}else a.copy_.add(c)}))}function o(a){a.revoked_&&Jr(3,JSON.stringify(wn(a)))}zne("MapSet",{proxyMap_:t,proxySet_:i})}var Pr=new Qne,_i=Pr.produce;Pr.produceWithPatches.bind(Pr);Pr.setAutoFreeze.bind(Pr);Pr.setUseStrictShallowCopy.bind(Pr);Pr.applyPatches.bind(Pr);Pr.createDraft.bind(Pr);Pr.finishDraft.bind(Pr);const tre=e=>(t,n,r)=>(r.setState=(i,s,...o)=>{const a=typeof i=="function"?_i(i):i;return t(a,s,...o)},e(r.setState,n,r)),mu=tre,nre={bannerInfo:null,modelLimits:[],blockedFeatures:[],isInitialLoad:!0,limitsProgress:[]},Ti=rr(mu(()=>S({},nre))),sA={[ae.Research]:Zr.DEEP_RESEARCH,[ae.PictureV2]:Zr.IMAGE_GEN,[ae.Think]:Zr.REASON};sA[tA]=Zr.ODYSSEY;const zUe=e=>{var t;return fG(e)?Zr.ODYSSEY:(t=sA[e])!=null?t:null},YUe=e=>{for(const[t,n]of Object.entries(sA))if(n===e)return t;return null},rre={[ae.Research]:eA.DEEP_RESEARCH};function ire(e){var t;return fG(e)?eA.ODYSSEY:(t=rre[e])!=null?t:null}function Ks(e){return new Date(e.resets_after)>new Date}const KUe=e=>{var r,i;const t=((i=(r=e.model_limits)==null?void 0:r.filter(Ks))!=null?i:[]).map(s=>s.model_slug),n=new Set(Ti.getState().modelLimits.filter(Ks).map(s=>s.model_slug));return t.length!==n.size||!t.every(s=>n.has(s))},sre={updateDetails:({banner_info:e,model_limits:t,blocked_features:n,limits_progress:r})=>{Ti.setState(i=>{i.bannerInfo=e,i.isInitialLoad=!1,i.blockedFeatures=i.blockedFeatures.concat(n).filter(Ks),i.modelLimits=i.modelLimits.concat(t!=null?t:[]).filter(Ks),i.limitsProgress=r!=null?r:[]})},dismissBanner:()=>{Ti.setState(e=>{e.bannerInfo=null})},reset:()=>{Ti.setState(e=>{e.blockedFeatures=[],e.bannerInfo=null})}};function JUe(){return Ti(({bannerInfo:e})=>{const{resets_after:t}=e!=null?e:{};return!e||t!=null&&!Ks({resets_after:t})?null:e})}function s_(e){return Ti(({blockedFeatures:t})=>{if(!e)return null;const n=t.find(({name:r})=>r===e);return n&&Ks(n)?n:null})}function ore(){return s_(Zr.SEND)}function XUe(){return!!ore()}function QUe(){return s_(Zr.FILE_UPLOAD)}function ZUe(){return s_(Zr.GIZMO_TAG)}function eBe(){return s_(Zr.DEEP_RESEARCH)}function tBe(){return Ti(({modelLimits:t})=>t).filter(Ks)}const are=Ge(()=>Yg(Ti,{selector:e=>e.modelLimits.filter(Ks)}));function cre(e){return Ti(({limitsProgress:n})=>n).filter(n=>e(I(S({},n),{bySystemHint:r=>n.feature_name===ire(r)})))[0]}function nBe(){return Ti(({blockedFeatures:t})=>t).filter(Ks)}const lre=rr(()=>null),ure=rr(()=>null);var yG=(e=>(e.UnexpectedSSOLogin="unexpected_sso_login",e.SSOMismatch="sso_mismatch",e.RequireSSOLogin="require_sso_login",e))(yG||{});const dre=Object.freeze(new Set(Object.values(yG)));function fre(e){return e?dre.has(e):!1}const hre=rr(()=>null),fP=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},rh="en-US",rBe=["am","ar","bg-BG","bn-BD","bs-BA","ca-ES","cs-CZ","da-DK","de-DE","el-GR","en-US","es-419","es-ES","et-EE","fi-FI","fr-CA","fr-FR","gu-IN","hi-IN","hr-HR","hu-HU","hy-AM","id-ID","is-IS","it-IT","ja-JP","ka-GE","kk","kn-IN","ko-KR","lt","lv-LV","mk-MK","ml","mn","mr-IN","ms-MY","my-MM","nb-NO","nl-NL","pa","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","so-SO","sq-AL","sr-RS","sv-SE","sw-TZ","ta-IN","te-IN","th-TH","tl","tr-TR","uk-UA","ur","vi-VN","zh-CN","zh-HK","zh-TW"],pre=["es-419","fr-FR","zh-TW"],iBe={am:"áŠ áˆ›áˆ­áŠ›",ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©","bg-BG":"Ð±ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸","bn-BD":"à¦¬à¦¾à¦‚à¦²à¦¾","bs-BA":"bosanski","ca-ES":"catalÃ ","cs-CZ":"ÄeÅ¡tina","da-DK":"dansk","de-DE":"Deutsch","el-GR":"Î•Î»Î»Î·Î½Î¹ÎºÎ¬","en-US":"English (US)","es-419":"espaÃ±ol (LatinoamÃ©rica)","es-ES":"espaÃ±ol (EspaÃ±a)","et-EE":"eesti","fi-FI":"suomi","fr-CA":"franÃ§ais (Canada)","fr-FR":"franÃ§ais (France)","gu-IN":"àª—à«àªœàª°àª¾àª¤à«€","hi-IN":"à¤¹à¤¿à¤¨à¥à¤¦à¥€","hr-HR":"hrvatski","hu-HU":"magyar","hy-AM":"Õ°Õ¡ÕµÕ¥Ö€Õ¥Õ¶","id-ID":"Indonesia","is-IS":"Ã­slenska","it-IT":"italiano","ja-JP":"æ—¥æœ¬èªž","ka-GE":"áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜",kk:"Ò›Ð°Ð·Ð°Ò› Ñ‚Ñ–Ð»Ñ–","kn-IN":"à²•à²¨à³à²¨à²¡","ko-KR":"í•œêµ­ì–´",lt:"lietuviÅ³","lv-LV":"latvieÅ¡u","mk-MK":"Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸",ml:"à´®à´²à´¯à´¾à´³à´‚",mn:"Ð¼Ð¾Ð½Ð³Ð¾Ð»","mr-IN":"à¤®à¤°à¤¾à¤ à¥€","ms-MY":"Bahasa Melayu","my-MM":"á€™á€¼á€”á€ºá€™á€¬","nb-NO":"norsk bokmÃ¥l","nl-NL":"Nederlands",pa:"à¨ªà©°à¨œà¨¾à¨¬à©€","pl-PL":"polski","pt-BR":"portuguÃªs (Brasil)","pt-PT":"portuguÃªs (Portugal)","ro-RO":"romÃ¢nÄƒ","ru-RU":"Ñ€ÑƒÑÑÐºÐ¸Ð¹","sk-SK":"slovenÄina","sl-SI":"slovenÅ¡Äina","so-SO":"Soomaali","sq-AL":"shqip","sr-RS":"ÑÑ€Ð¿ÑÐºÐ¸","sv-SE":"svenska","sw-TZ":"Kiswahili","ta-IN":"à®¤à®®à®¿à®´à¯","te-IN":"à°¤à±†à°²à±à°—à±","th-TH":"à¹„à¸—à¸¢",tl:"Tagalog","tr-TR":"TÃ¼rkÃ§e","uk-UA":"ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",ur:"Ø§Ø±Ø¯Ùˆ","vi-VN":"Tiáº¿ng Viá»‡t","zh-CN":"ç®€ä½“ä¸­æ–‡","zh-HK":"ç¹é«”ä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰","zh-TW":"ç¹é«”ä¸­æ–‡ï¼ˆå°ç£ï¼‰"};function mre(){return Array.from(new Set(Object.values(ud)))}const ud={am:"am",ar:"ar",bg:"bg-BG","bg-bg":"bg-BG",bn:"bn-BD","bn-bd":"bn-BD",bs:"bs-BA","bs-ba":"bs-BA",ca:"ca-ES","ca-es":"ca-ES",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",el:"el-GR","el-gr":"el-GR",en:"en-US","en-us":"en-US",es:"es-ES","es-es":"es-ES","es-419":"es-419","es-ar":"es-419","es-bo":"es-419","es-br":"es-419","es-bz":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419","es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-jp":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419",et:"et-EE","et-ee":"et-EE",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-ca":"fr-CA","fr-fr":"fr-FR",gu:"gu-IN","gu-in":"gu-IN",hi:"hi-IN","hi-in":"hi-IN",hr:"hr-HR","hr-hr":"hr-HR",hu:"hu-HU","hu-hu":"hu-HU",hy:"hy-AM","hy-am":"hy-AM",id:"id-ID","id-id":"id-ID",is:"is-IS","is-is":"is-IS",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ka:"ka-GE","ka-ge":"ka-GE",kk:"kk",kn:"kn-IN","kn-in":"kn-IN",ko:"ko-KR","ko-kr":"ko-KR",lt:"lt",lv:"lv-LV","lv-lv":"lv-LV",mk:"mk-MK","mk-mk":"mk-MK",ml:"ml",mn:"mn",mr:"mr-IN","mr-in":"mr-IN",ms:"ms-MY","ms-my":"ms-MY",my:"my-MM","my-mm":"my-MM",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL","nl-nl":"nl-NL",pa:"pa",pl:"pl-PL","pl-pl":"pl-PL",pt:"pt-BR","pt-br":"pt-BR","pt-pt":"pt-PT","pt-ao":"pt-PT","pt-ch":"pt-PT","pt-cv":"pt-PT","pt-fr":"pt-PT","pt-gq":"pt-PT","pt-gw":"pt-PT","pt-lu":"pt-PT","pt-mo":"pt-PT","pt-mz":"pt-PT","pt-st":"pt-PT","pt-tl":"pt-PT",ro:"ro-RO","ro-ro":"ro-RO",ru:"ru-RU","ru-ru":"ru-RU",sk:"sk-SK","sk-sk":"sk-SK",sl:"sl-SI","sl-si":"sl-SI",so:"so-SO","so-so":"so-SO",sq:"sq-AL","sq-al":"sq-AL",sr:"sr-RS","sr-rs":"sr-RS",sv:"sv-SE","sv-se":"sv-SE",sw:"sw-TZ","sw-tz":"sw-TZ",ta:"ta-IN","ta-in":"ta-IN",te:"te-IN","te-in":"te-IN",th:"th-TH","th-th":"th-TH",tl:"tl",tr:"tr-TR","tr-tr":"tr-TR",uk:"uk-UA","uk-ua":"uk-UA",ur:"ur",vi:"vi-VN","vi-vn":"vi-VN",zh:"zh-CN","zh-cn":"zh-CN","zh-hans":"zh-CN","zh-hans-cn":"zh-CN","zh-tw":"zh-TW","zh-hant":"zh-TW","zh-hant-tw":"zh-TW","zh-hk":"zh-HK","zh-hant-hk":"zh-HK"},bG=new Set(["ar"]);function o_(e){const t=e.replace("_","-").toLowerCase();if(t in ud)return ud[t];const n=t.split("-");for(let r=n.length-1;r>=1;r--){const i=n.slice(0,r).join("-");if(i in ud)return ud[i]}return null}const Nd={};function CG(e){return pre.includes(e)}async function gre(e,t){return e===rh?Nd:(await(CG(e)&&t?fP(Object.assign({"./locales-mt/es-419.json":()=>k(()=>import("./b2yl76aobjylk1v4.js"),[]),"./locales-mt/fr-FR.json":()=>k(()=>import("./k2a1vdl3eopw4skh.js"),[]),"./locales-mt/zh-TW.json":()=>k(()=>import("./lfcgm82oqhoz1a7c.js"),[])}),"./locales-mt/".concat(e,".json"),3):fP(Object.assign({"./locales/am.json":()=>k(()=>import("./otaodhhg85xxk3vl.js"),[]),"./locales/ar.json":()=>k(()=>import("./b4znjrdzjeatxaoj.js"),[]),"./locales/bg-BG.json":()=>k(()=>import("./l5vibkbek4rh59t5.js"),[]),"./locales/bn-BD.json":()=>k(()=>import("./c1lajjya4gfir4lk.js"),[]),"./locales/bs-BA.json":()=>k(()=>import("./isinlhuxggu096lt.js"),[]),"./locales/ca-ES.json":()=>k(()=>import("./iswcyzbzaoma0blv.js"),[]),"./locales/cs-CZ.json":()=>k(()=>import("./vkrh198zguc9546y.js"),[]),"./locales/da-DK.json":()=>k(()=>import("./fk045jera4hdapyt.js"),[]),"./locales/de-DE.json":()=>k(()=>import("./ofv2zfgiu4g8edp7.js"),[]),"./locales/el-GR.json":()=>k(()=>import("./mgaylbf9wxbr3cjx.js"),[]),"./locales/es-419.json":()=>k(()=>import("./kgjh4b90esmsrk1n.js"),[]),"./locales/es-ES.json":()=>k(()=>import("./srfc23eirwhg441w.js"),[]),"./locales/et-EE.json":()=>k(()=>import("./jjo4k03da3jm8g63.js"),[]),"./locales/fi-FI.json":()=>k(()=>import("./el7oywbzuuzji40e.js"),[]),"./locales/fr-CA.json":()=>k(()=>import("./ka90fuxs8ez5gl5l.js"),[]),"./locales/fr-FR.json":()=>k(()=>import("./fxyyrqvt536t097t.js"),[]),"./locales/gu-IN.json":()=>k(()=>import("./e5vw5fz967scglsn.js"),[]),"./locales/he-IL.json":()=>k(()=>import("./ive7lec6agtid78g.js"),[]),"./locales/hi-IN.json":()=>k(()=>import("./jak0rt1ghev6h0sg.js"),[]),"./locales/hr-HR.json":()=>k(()=>import("./i57fk5ei51ppz1am.js"),[]),"./locales/hu-HU.json":()=>k(()=>import("./moh03bajxiz3le8e.js"),[]),"./locales/hy-AM.json":()=>k(()=>import("./h66jr65u5fqzbrwj.js"),[]),"./locales/id-ID.json":()=>k(()=>import("./bxtec0imb4ifhyfj.js"),[]),"./locales/is-IS.json":()=>k(()=>import("./k2ts39jk4svwngmo.js"),[]),"./locales/it-IT.json":()=>k(()=>import("./jii84qgcumkuf9g7.js"),[]),"./locales/ja-JP.json":()=>k(()=>import("./ivh7o3j0lknrr381.js"),[]),"./locales/ka-GE.json":()=>k(()=>import("./etb2dz970istndfb.js"),[]),"./locales/kk.json":()=>k(()=>import("./d23mo7ycogtjvyx4.js"),[]),"./locales/kn-IN.json":()=>k(()=>import("./civ7ibn96guqptqu.js"),[]),"./locales/ko-KR.json":()=>k(()=>import("./llat9b8i8nmub54g.js"),[]),"./locales/lt.json":()=>k(()=>import("./n1in23c7jac955ms.js"),[]),"./locales/lv-LV.json":()=>k(()=>import("./gjsl0auly1cao5ul.js"),[]),"./locales/mk-MK.json":()=>k(()=>import("./bz6b08o3ok7slban.js"),[]),"./locales/ml.json":()=>k(()=>import("./ms678px85pxd4unf.js"),[]),"./locales/mn.json":()=>k(()=>import("./drex1ftrxtcibqc0.js"),[]),"./locales/mr-IN.json":()=>k(()=>import("./bmoc8zcxtyks2lka.js"),[]),"./locales/ms-MY.json":()=>k(()=>import("./lhg2llwf33cwntid.js"),[]),"./locales/my-MM.json":()=>k(()=>import("./dpzb0unvpq0pc96c.js"),[]),"./locales/nb-NO.json":()=>k(()=>import("./go4idmdcby3du1uz.js"),[]),"./locales/nl-NL.json":()=>k(()=>import("./hfnnd1bsz2r8prh4.js"),[]),"./locales/pa.json":()=>k(()=>import("./sl4nbp4z3qphsp7m.js"),[]),"./locales/pl-PL.json":()=>k(()=>import("./gtidarcb491ewjcx.js"),[]),"./locales/pt-BR.json":()=>k(()=>import("./j3d7aiqtrazypv5v.js"),[]),"./locales/pt-PT.json":()=>k(()=>import("./dw8ll3q1yzbusxoi.js"),[]),"./locales/ro-RO.json":()=>k(()=>import("./nr02jfzxio5zd3ur.js"),[]),"./locales/ru-RU.json":()=>k(()=>import("./dmpmpnlq3yan865p.js"),[]),"./locales/sk-SK.json":()=>k(()=>import("./f3vxwxz8mnks4y1h.js"),[]),"./locales/sl-SI.json":()=>k(()=>import("./oiwaq1l3bnt9rkcm.js"),[]),"./locales/so-SO.json":()=>k(()=>import("./n7g867ud6a5o6o0z.js"),[]),"./locales/sq-AL.json":()=>k(()=>import("./i5o6lnnua4wxxrnq.js"),[]),"./locales/sr-RS.json":()=>k(()=>import("./ko2ys3o5matmfr8w.js"),[]),"./locales/sv-SE.json":()=>k(()=>import("./m7rw8d57mkyspzmv.js"),[]),"./locales/sw-TZ.json":()=>k(()=>import("./bgpc96btsvaoac5o.js"),[]),"./locales/ta-IN.json":()=>k(()=>import("./onkhkwgmk0f4tolo.js"),[]),"./locales/te-IN.json":()=>k(()=>import("./mgiak9l0e58y0ks4.js"),[]),"./locales/th-TH.json":()=>k(()=>import("./3ja274ose7zi2xx8.js"),[]),"./locales/tl.json":()=>k(()=>import("./gb0sjvc9xph6gytc.js"),[]),"./locales/tr-TR.json":()=>k(()=>import("./gsdjtgm4n6foq6mt.js"),[]),"./locales/uk-UA.json":()=>k(()=>import("./g5phz552ioqadjk5.js"),[]),"./locales/ur.json":()=>k(()=>import("./dum3bhlsqftpp4ug.js"),[]),"./locales/vi-VN.json":()=>k(()=>import("./dhvdg1aodti9gh39.js"),[]),"./locales/zh-CN.json":()=>k(()=>import("./gumd4pulorl295w3.js"),[]),"./locales/zh-HK.json":()=>k(()=>import("./djw55k9jl3vcr6n3.js"),[]),"./locales/zh-TW.json":()=>k(()=>import("./ep391y7wfftu6jty.js"),[])}),"./locales/".concat(e,".json"),3))).default}const _re=365*24*60*60,sBe=e=>{e==null?De.deleteCookie(Se.PreferredLocale):De.setCookie(Se.PreferredLocale,e,{maxAge:_re}),window.location.reload()},oBe=()=>{const e=De.getCookie(Se.PreferredLocale);return e!=null?o_(e):null},vre="temporary-chat",yre="anon-mode";function $o(e,t){for(const[n,r]of Object.entries(t))e.addEventListener(n,r);return()=>{for(const[n,r]of Object.entries(t))e.removeEventListener(n,r)}}function aBe(e,t){for(const[n,r]of Object.entries(t))e.on(n,r);return()=>{for(const[n,r]of Object.entries(t))e.off(n,r)}}const zi=window.localStorage;var en=(e=>(e.Theme="theme",e.NextAuth="nextauth.message",e.IsNoAuthChatTrainingEnabled="oai/apps/isNoAuthChatTrainingEnabled",e.ComposerMenuSheetBounced="oai/apps/composerMenuBounced",e.IsNavigationCollapsed="UiState.isNavigationCollapsed.1",e.IsHistoryCollapsed="UiState.isOnlyShowingRecents.1",e.ChatThreadFlyoutState="UiState.chatThreadFlyoutState",e.IsGptListCollapsed="UiState.isGptListCollapsed",e.LastUsedModel="oai/apps/lastModelUsed",e.EnabledPlugins="oai/enabledPluginIds",e.HasSeenNewChatModal="oai/apps/hasSeenNewChatModal",e.HasSeenMeetChatGptModal="oai/apps/hasSeenMeetChatGptModal",e.HasSignedUpForPlusUpgradeWaitlistV1="oai/apps/HasSignedUpForPlusUpgradeWaitlist",e.HasSignedUpForPlusUpgradeWaitlistV2="oai/apps/HasSignedUpForPlusUpgradeWaitlistV2",e.HasSignedUpForTeamUpgradeWaitlistV1="oai/apps/HasSignedUpForTeamUpgradeWaitlist",e.HasSignedUpForTeamUpgradeWaitlistV2="oai/apps/HasSignedUpForTeamUpgradeWaitlistV2",e.HasDismissedUpgradeInviteModal="oai/apps/hasDismissedUpgradeInviteModal",e.GizmoEditorTab="oai/apps/gizmoEditorTab",e.GizmoDiscoveryLocale="oai/apps/gizmoDiscoveryLocale",e.NoAuthRateLimitState="oai/apps/noAuthRateLimitState",e.RestoreMessageAfterOauthRedirect="oai/apps/restoreMessageAfterOauthRedirect",e.HasSeenAdaInteractiveChart="oai/apps/hasSeenAdaInteractiveChart",e.HasSeenAdaInteractiveTable="oai/apps/hasSeenAdaInteractiveTable",e.SearchSettings="oai/apps/searchSettings",e.NoAuthBannerDisclaimerClientThreadId="oai/apps/noAuthBannerDisclaimerClientThreadId",e.NoAuthHasAcceptedFooterDisclaimer="oai/apps/noAuthHasAcceptedFooterDisclaimer",e.NoAuthUserMessageCount="oai/apps/noAuthUserMessageCount",e.HasSeenNoAuthImagegenNux="oai/apps/hasSeenNoAuthImagegenNux",e.HasSeenNoAuthFreeTrialUpsell="oai/apps/hasSeenNoAuthFreeTrialUpsell",e.LoggedInUserMessageCount="oai/apps/loggedInUserMessageCount",e.NoAuthHasDismissedSoftRateLimitModal="oai/apps/noAuthHasDismissedSoftRateLimitModal",e.NoAuthHasSeenGpt4oModal="oai/apps/noAuthHasSeenGpt4oModal",e.MemoryFullBannerDismissed="oai/apps/memoryFullBannerDismissed",e.MemoryFullBannerDismissedTimestamp="oai/apps/memoryFullBannerDismissedTimestamp",e.MemoryAlmostFullBannerDismissed="oai/apps/memoryAlmostFullBannerDismissed",e.MemoryAlmostFullBannerDismissedTimestamp="oai/apps/memoryAlmostFullBannerDismissedTimestamp",e.IndepthFeedbackDismissedAt="oai/apps/indepthFeedbackDismissedAt",e.AdvancedVoiceOnMobileAnnouncementCount="oai/apps/oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.CheckoutFrom="oai/apps/checkout_from",e.CreditCheckoutRedirectPath="oai/apps/creditCheckoutRedirectPath",e.HasConfirmedCanvasCodeExecution="oai/apps/hasConfirmedCanvasCodeExecution",e.CODE_EXECUTION_DOMAIN_ALLOW_LIST="oai/apps/codeExecutionDomainAllowlistWithTTL",e.TasksHasSeenProjectDisclaimerBanner="oai/apps/tasksHasSeenProjectDisclaimerBanner",e.ExpandSummarizedCoT="oai/apps/ExpandSummarizedCoT",e.PromoCode="oai/apps/promoCode",e.LastPageLoadDate="oai/apps/lastPageLoadDate",e.NoAuthMadlibsModalState="oai/apps/noAuthMadlibsModalState",e.d2dee219="oai/apps/d2dee219",e.ReferralCode="oai/apps/referralCode",e.LastFeedLoad="oai/apps/2dc5214a",e.VoiceLastUsed="oai/apps/voiceLastUsed",e.ModelCustomConfig="oai/modelCustomConfig",e.ChatThemeOverride="oai/apps/chatThemeOverride",e.ChatTheme="oai/apps/chatTheme",e.ChatThemeCustomWorkspace="oai/apps/chatThemeCustomWorkspace",e.ConversationDrafts="oai/apps/conversationDrafts",e.DebugSettings="oai/apps/debugSettings",e.InternalModels="oai/apps/enableIIM",e.WorkspacePolicyViewed="oai/apps/workspacePolicyViewed",e.LastOpenedPulseId="oai/apps/lastOpenedPulseId",e.HasSeenPulseOnboarding="oai/apps/hasSeenPulseOnboarding",e.GlauxUsePromptOverride="oai/apps/glauxUsePromptOverride",e.GlauxPromptOverride="oai/apps/glauxPromptOverride",e.GlauxJuiceScore="oai/apps/glauxJuiceScore",e.LastEnvironment="oai/apps/l1239dk1/a3f4b29d",e.PromptDraft="oai/apps/l1239dk1/c7e2d18f",e.ProposedTasks="oai/apps/l1239dk1/8fa94c1e",e.ReactQueryDevtoolsVisible="oai/apps/l1239dk1/3e2d18f",e.WhamForcedRateLimitRemaining="oai/apps/l1239dk1/49292001",e.WhamChangelogClickedDate="oai/apps/l1239dk1/4b7d9e2f",e.WhamRepoDownloadDurations="oai/apps/l1239dk1/9182cd99",e.WhamRepoLastBranchById="oai/apps/l1239dk1/4b9f42ce",e.WhamRepoRecentBranchesById="oai/apps/l1239dk1/a7c41ef0",e.WhamBestOfN="oai/apps/l1239dk1/109b6e28",e.WhamImageSnapshot="oai/apps/l1239dk1/4kdf92l2",e.WhamShowFullDiff="oai/apps/l1239dk1/7a8d45ff",e.WhamPreferredEditor="oai/apps/l1239dk1/e2b7ab3c",e.WhamCodexOnboardingState="oai/apps/l1239dk1/codexOnboardingState",e.WhamLastRepositoryId="oai/apps/l1239dk1/7f2c4aa2",e.WhamShowDevOnboardingOverrides="oai/apps/l1239dk1/showDevOnboardingOverrides",e.WhamCodexOnboardingStateOverride="oai/apps/l1239dk1/codexOnboardingStateOverride",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.MessageFollowupsStoreState="oai/apps/messageFollowupsStoreState",e.JumpToShade="jump-to-shade",e.HasManuallyClosedLanguageUpsellBanner="oai/apps/hasManuallyClosedLanguageUpsellBanner",e.PluginsAuthRedirect="oai/apps/plugins/authRedirect",e.SelectedSources="oai/apps/connectors/selectedSources",e.SelectedGithubRepos="oai/apps/connectors/selectedGithubRepos",e.ConnectorOAuthFlowType="oai/apps/connectors/oauthFlowType",e.SubscriptionFailedBanner="oai/apps/subscriptionFailedBanner",e.HasDismissedTeamsNoAuthUpsell="oai/apps/hasDismissedTeamsNoAuthUpsell",e.FinchAdminNotified="oai/apps/finchAdminNotified",e.GetTeamPillDismissed="oai/apps/getTeamPillDismissed",e.CARecommendedPromptsUpsell="oai/apps/caRecommendedPromptsUpsell",e.ChinookStartupInfo="oai/apps/chinookStartupInfo",e.ConnectorsDismissableBannerUpsell="oai/apps/connectorsDismissableBannerUpsell",e.HasClickedCompanyKnowledgePill="oai/apps/hasClickedCompanyKnowledgePill",e.ConnectorsExternalNuxBannerDismissed="oai/apps/connectorsExternalNuxBannerDismissed",e.ModelSlugStatsOverride="oai/apps/modelSlugStatsOverride",e.ShortcutLinks="oai/apps/shortcutLinks",e.HomeDiscoveryDismissed="oai/apps/homeDiscoveryDismissed",e.O3MiniHighInContextUpsellBanner="oai/apps/o3MiniHighInContextUpsellBanner",e.TatertotInContextUpsellBannerV2="oai/apps/tatertotInContextUpsellBannerV2",e.ImageGenProgressUpsellV2="oai/apps/imageGenProgressUpsellV2",e.HasDismissedMobileAppUpsellBanner="oai/apps/hasDismissedMobileAppUpsellBanner",e.HasDismissedMoodengUpsellBanner="oai/apps/hasDismissedMoodengUpsellBanner",e.LastSeenPlusUpsellBannerAt="oai/apps/lastSeenPlusUpsellBannerAt",e.HasDismissedOnboardingSidebarEntry="oai/apps/hasDismissedOnboardingSidebarEntry",e.LastSeenNoAuthTrialsBannerAt="oai/apps/lastSeenNoAuthTrialsBannerAt",e.ThreadHeaderUpgradePillDismissals="oai/apps/threadHeaderUpgradePillDismissals",e.PendingSurveySpec="oai/apps/pendingSurveySpec",e.WorkspaceDiscoveryInfo="oai/apps/workspaceDiscoveryInfo",e.WorkspaceDiscoveryRenamePromptInfo="oai/apps/workspaceDiscoveryRenamePromptInfo",e.HasDismissedAuraAnnouncementBanner="oai/apps/hasDismissedAuraAnnouncementBanner",e.FirstSeenAuraAnnouncementBannerAt="oai/apps/firstSeenAuraAnnouncementBannerAt",e.LastSeenAuraAnnouncementBannerAt="oai/apps/lastSeenAuraAnnouncementBannerAt",e.AuraAnnouncementBannerImpressions="oai/apps/auraAnnouncementBannerImpressions",e.ResumeTokenStore="RESUME_TOKEN_STORE_KEY",e))(en||{});class vn{static setItem(t,n,r){if(!zi)return;const i=$p(t,r);try{zi.setItem(i,JSON.stringify(n))}catch(s){Q.addError(s)}}static getItem(t,n){if(!zi)return null;try{const r=$p(t,n),i=zi.getItem(r);return typeof i=="string"?JSON.parse(i):i}catch(r){return null}}static removeItem(t,n){if(zi){const r=$p(t,n);return zi.removeItem(r)}}static DANGER_SECRET_FOLDERS_ONLY_setItem(t,n){if(!zi){console.warn("You cannot set localStorage server-side (".concat(t,")"));return}try{zi.setItem(t,JSON.stringify(n))}catch(r){Q.addError(r)}}static DANGER_SECRET_FOLDERS_ONLY_getItem(t){if(!zi)return console.warn("You cannot get localStorage server-side (".concat(t,")")),null;const n=zi.getItem(t);return typeof n=="string"?JSON.parse(n):n}}function $p(e,t){const n=[e];return t!==void 0&&(t.userId!=null&&n.push(t.userId),t.workspaceId!=null&&n.push(t.workspaceId)),n.join("/")}function bre(e,t,n){let r;const i=()=>{const a=vn.getItem(e);return a==null?t():n!=null&&n.coerceStoredValue?n.coerceStoredValue(a):a},o=ai(i,a=>(r=a,$o(window,{storage:({key:c})=>{c===e&&a()}})),{name:"localStorage:".concat(e),getServerFallback:t});return o.set=a=>{vn.setItem(e,B6(a)?a(i()):a),r==null||r()},o}function oA(){return new URL(window.location.href)}const Cre=Ge(e=>bre(en.IsNoAuthChatTrainingEnabled,()=>Sre(e),{coerceStoredValue:tne})),aA=Ge(()=>Oe(()=>oA().searchParams.has(vre))),cBe=Ge(()=>Oe(()=>oA().searchParams.has(yre))),Ere=e=>aA(e)||!St(e)&&!Cre(e);function lBe(){const e=re();return Ue(()=>aA(e))}function Sre(e){return $e(e,"1656345175")}const hP=100,sf=rr()(mu(()=>{var e;return(e=vn.getItem(en.ConversationDrafts))!=null?e:{drafts:[],userId:null}})),cA=e=>{sf.setState(e),vn.setItem(en.ConversationDrafts,e)},lA=e=>e!=null?e:"null_thread",uBe=(e,t,n)=>{const r=lA(e);let s=sf.getState().userId===n?sf.getState().drafts:[];const o=s.findIndex(c=>c.id===r),a={id:r,content:t,timestamp:Date.now()};o!==-1?s[o]=a:s.push(a),s.length>hP&&(s=s.sort((c,l)=>l.timestamp-c.timestamp).slice(0,hP)),cA({drafts:s,userId:n})};function Ore(e){var t;if(Are(e)){const n=Qt(e.serverId$);return(t=Tre(n))==null?void 0:t.content}}const Tre=e=>{const t=lA(e);return sf.getState().drafts.find(n=>n.id===t)},dBe=e=>{const t=lA(e),n=sf.getState().drafts.filter(r=>r.id!==t);cA({drafts:n,userId:null})},wre=()=>{cA({drafts:[],userId:null})};function Are(e){return Qt(()=>e!=null&&!Qf(e.ctx)&&!Qt(()=>aA(e.ctx)))}function xre(e,t,n){if(n)return t!=null?t:void 0;if(!e)return;const r=e.trim();if(!r)return;const i=r.split(/\s+/);if(i.length===0)return;const s=i[0];return s.indexOf("@")!==-1||/^\d+$/.test(s)?void 0:s.replace(/[^a-zA-ZÃ€-Å¾]+/g,"")}function fBe(e,t,n){var o,a;const r=xre(t==null?void 0:t.name,t==null?void 0:t.first_name,n);let i="";e&&("object"in e&&e.object==="user_system_message_detail"?i=e.name_user_message:i=(o=e.nameUserMessage)!=null?o:"");const s=i.trim();return((a=e==null?void 0:e.enabled)==null||a)&&s?s:r}function Ire(){De.deleteCookie(Se.GreetingName)}const gl="@@",uA=[],qm=new Map;function Yc(e,t,n,r){if(qm.has(e)||e==="Ref")throw new Error("Already registered pickler ".concat(e));const i={key:e,test:t,pickle:n,unpickle:r};qm.set(e,i),uA.push(i)}function EG(){const e=[],t=new Map;return function(n,r){for(;e.length&&e[e.length-1][0]!==this;){const s=e.pop()[1];typeof s=="object"&&s!=null&&t.set(s,t.size)}const i=this[n];if(typeof i=="object"&&i!=null){const s=t.get(i);if(s!=null)return{[gl]:"Ref","":s}}for(const s of uA)if(s.test(i)){const o={[gl]:s.key,"":s.pickle(i)};return e.push([o,i]),o}if(typeof r=="object"&&r!=null){if(gl in r)throw new Error("Unexpected ".concat(gl," property"));e.push([r,i])}return r}}function Nre(){const e=[];return function(t,n){if(typeof n!="object"||n==null)return n;if(gl in n){const{[gl]:r,"":i}=n;if(r==="Ref")return e[i];const s=qm.get(r);if(!s)throw Error("Unknown pickle key ".concat(r));if(n=s.unpickle(i),typeof n!="object"||n==null)return n}return e.push(n),n}}function Rre(){uA.length=0,qm.clear(),Yc("Map",e=>e instanceof Map,e=>[...e.entries()],e=>new Map(e)),Yc("Set",e=>e instanceof Set,e=>[...e.keys()],e=>new Set(e)),Yc("Date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),Yc("RegExp",e=>e instanceof RegExp,e=>[e.source,e.flags],([e,t])=>new RegExp(e,t)),Yc("Number",e=>typeof e=="number"&&(Object.is(e,-0)||!isFinite(e)||isNaN(e)),e=>Object.is(e,-0)?"-0":String(e),e=>Number(e)),Yc("BigInt",e=>typeof e=="bigint",e=>String(e),e=>BigInt(e))}Rre();function Pre(e){if(e==null)return null;const t=xt(At());return t.authStatus!==Yl.LoggedIn?null:{workspaceId:e,userId:t.user.id}}function dA(e,t){const n=Pre(e);return n==null?null:"cache/".concat(n.userId,"/").concat(n.workspaceId,"/").concat(t)}const kre=1e3*60*60*24;function Mre(e,t,n){const r=dA(e,t);if(r==null)return;const i=localStorage.getItem(r);if(i!=null)try{const{value:s,timestamp:o,version:a,used:c}=JSON.parse(i,Nre());if(a!==n||Date.now()-o>kre){localStorage.removeItem(r);return}return{localStorageKey:r,value:s,version:a,used:typeof c=="number"?c:0}}catch(s){return}}const Jv={};function Dre(e,t,n){if(e==null)return;if(t in Jv)return Jv[t];const r=Mre(e,t,n);if(Q.addAction("localStorageCache.".concat(t),{cacheVersion:n,wasPresent:r!=null}),Jv[t]=r==null?void 0:r.value,r!=null)return r.used+1>=4?localStorage.removeItem(r.localStorageKey):localStorage.setItem(r.localStorageKey,JSON.stringify({timestamp:Date.now(),value:r.value,version:r.version,used:r.used+1},EG())),r.value}function Lre(e,t,n,r){const i=dA(e,t);if(i!=null)try{localStorage.setItem(i,JSON.stringify({value:n,timestamp:Date.now(),version:r},EG()))}catch(s){Q.addError(s)}}function jre(e,t){const n=dA(e,t);n!=null&&localStorage.removeItem(n)}function SG(){for(const e of Object.keys(localStorage))e.startsWith("cache/")&&localStorage.removeItem(e)}const Fre="session",OG="refresh";let Rd;typeof window<"u"&&window.BroadcastChannel!==void 0&&(Rd=new window.BroadcastChannel(Fre),Rd.onmessage=e=>{e.data===OG&&(document.hidden?window.addEventListener("visibilitychange",()=>{document.hidden||(window.location.href="/")}):setTimeout(()=>{window.location.href="/"},300))});function Ure(){Rd==null||Rd.postMessage(OG)}function Bre(){Ure(),SG(),wre(),Ire(),De.deleteCookie(Se.LastUsedModel),De.deleteCookie(Se.LastUsedModelConfig)}function fA(e){Bre(),window.location.href=e!=null?e:"/?refresh_account=true"}const Gre="dgkjq2bp",Wre=Gre;function TG(){return k(()=>import("./es7viyythgveaxr6.js").then(e=>e.i),__vite__mapDeps([2,1]))}function qre(e,t,n){if(e.id){const r={app_id:Wre,user_id:e.id,name:e.name,email:e.email,user_hash:n,hide_default_launcher:!0,is_chatgpt_user:!0,chatgpt_plan_type:t==null?void 0:t.planType};TG().then(i=>i==null?void 0:i.boot(r))}}function wG(e,t){TG().then(n=>n==null?void 0:n.trackEvent(e,t))}class a_ extends Error{constructor(){super(...arguments);U(this,"name","ClientRequestMismatchedAuthError")}}function Vre(e,t="fetch"){var i,s,o;e.url.includes("/aip");const n=e.detail,r=n==null?void 0:n.conversation_detail_metadata;if(r&&sre.updateDetails(r),e.code==="request_account_access"&&ure.setState({accountName:n==null?void 0:n.account_name,ownerEmail:n==null?void 0:n.owner_email,userEmail:n==null?void 0:n.user_email,accountId:n==null?void 0:n.account_id,hasActiveRequest:n==null?void 0:n.has_active_request,workspacePlanType:n==null?void 0:n.workspace_plan_type}),e.code==="all_accounts_blocked"&&une(At(),n==null?void 0:n.user_email),fre(e.code)&&hre.setState({accountName:n==null?void 0:n.account_name,errorCode:e.code}),e.code==="trigger_account_transfer"){lre.setState({destinationWorkspaceId:n==null?void 0:n.workspace_id,destinationWorkspaceName:n==null?void 0:n.workspace_name,destinationWorkspaceProfilePictureUrl:n==null?void 0:n.workspace_profile_picture_url,destinationWorkspacePlanType:n==null?void 0:n.workspace_plan_type});return}if(e.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}if((e.code==="expired_session_key"||e.code==="token_expired"||e.code==="token_invalidated"||((s=(i=e.jsonError)==null?void 0:i.error)==null?void 0:s.code)==="token_invalidated")&&(Q.addAction("Token expired",{url:e.url,error:n}),typeof window<"u"&&((o=window._oaiHandleSessionExpired)==null||o.call(window,t,JSON.stringify(n)))),e.code==="invalid_account_id_header"&&typeof De.getCookie(Se.Workspace)=="string"){De.deleteCookie(Se.Workspace),fA();return}}function $re(e){var t;Q.addAction("RequestError",{url:e.url,message:e.message,status:e.status,json:e.json,requestId:e.requestId,deviceId:ri(),rawErrorMessage:(t=e.rawError)==null?void 0:t.message})}function Hre(e,t){return e.replace(/\{([^}]+)\}/g,(n,r)=>t[r].toString())}function zre(e){if(!e)return"";const t=new URLSearchParams;for(const[r,i]of Object.entries(e))if(Array.isArray(i))for(const s of i)t.append(r,s.toString());else i!=null&&t.append(r,i.toString());const n=t.toString();return n.length===0?"":"?".concat(n)}function Yre(){var e;return(e=xt(At()).locale)!=null?e:rh}function AG(){const e=ri();return{[zee]:Yre(),[Jg]:e,[Kg]:pu}}function hA(e={}){var i;const t=(i=e.accessToken)!=null?i:Kre(),n=AG();if(t==null){if(e.isAuthOptional===!0)return n;throw new a_("No access token when trying to use AuthHeader")}n.Authorization="Bearer ".concat(t);const r=De.getCookie(Se.Workspace);return typeof r=="string"&&r!==Fs&&(n[Yee]=encodeURIComponent(r)),n}function Kre(){return Kf(At())}function xG({method:e,body:t,authOption:n,accessToken:r,additionalHeaders:i,signal:s}){return{method:e==null?void 0:e.toUpperCase(),body:t,credentials:"include",signal:s,headers:S(S(S(S({},n===Xt.Anonymous?AG():hA({isAuthOptional:n===Xt.SendIfAvailable,accessToken:r})),t!=null&&!(t instanceof FormData||t instanceof File)?{"Content-Type":"application/json"}:null),t!=null&&t instanceof File?{"Content-Type":"application/octet-stream"}:null),i)}}function Jre(e){return(t,n)=>{const r=(i,s)=>{if(i>=e.length)return n(s);const o=e[i];return o(s,a=>r(i+1,a))};return r(0,t)}}function IG(e,t){const n=Jre(e);return r=>n(r,t)}async function NG(e,t){var r,i;let n=await t(e.clone());if(n.status===401){const o=await n.clone().json(),a=(r=n.headers.get("X-Request-Id"))!=null?r:void 0;if(new Ht(e.url,n.status,o,a,new Error(JSON.stringify(o))).code==="token_expired"){const l=ri();await dte(oi(At()),{reason:"token_expired",method:(i=e.method)!=null?i:"GET",path:new URL(e.url,location.origin).pathname});const u=hA(),d=e.clone();for(const[f,h]of Object.entries(u))d.headers.set(f,h);n=await t(d),n.status===200?Q.addAction("Request succeeded after refresh.",{url:e.url,deviceId:l}):Q.addAction("Request failed after refresh.",{url:e.url,deviceId:l})}}return n}async function RG(e,t){var r,i;let n;try{n=await t(e)}catch(s){throw s instanceof Error?Ht.createWithErrorMessage(e.url,"server",s.message,void 0,s):s}if(n.status>=400){const s=await n.text();let o;try{o=JSON.parse(s)}catch(l){o={detail:{code:"not_json_response",text:s==null?void 0:s.substring(0,1e3)}}}const a=(i=(r=n.headers.get("X-Request-Id"))!=null?r:n.headers.get("cf-ray"))!=null?i:void 0,c=new Ht(e.url,n.status,o,a,new Error(JSON.stringify(o)));throw Vre(c),$re(c),c}return n}var Bl,Df,Ig,PG;class pA{constructor(t){Nt(this,Ig);Nt(this,Bl);Nt(this,Df);const{baseUrl:n}=t;Ut(this,Df,typeof n=="string"?()=>n:n)}baseUrl(t,n){return fe(this,Df).call(this,t,n)}async fetch(t,n={}){try{const r=await fe(this,Ig,PG).call(this,t);return n.skipJsonTransform?r:r.status===204?{}:r.json()}catch(r){throw n.intercomEventOnError&&wG(n.intercomEventOnError,{url:t.url}),r}}request(t,n,r){const i=r!=null&&r.parameters&&"query"in r.parameters?r.parameters.query:void 0,s=r!=null&&r.parameters&&"path"in r.parameters&&r.parameters.path?r.parameters.path:{},o=Hre(n,s),a=zre(i),c=xG(I(S({},r),{method:t,body:r&&"requestBody"in r?r.requestBody instanceof File?r.requestBody:JSON.stringify(r.requestBody):void 0})),l="".concat(this.baseUrl(c,n)).concat(o).concat(a),u=new globalThis.Request(l,c);return this.fetch(u,r)}safeGet(t,...n){return this.request("get",t,n[0])}safePost(t,...n){return this.request("post",t,n[0])}safeDelete(t,...n){return this.request("delete",t,n[0])}safePatch(t,...n){return this.request("patch",t,n[0])}safePut(t,...n){return this.request("put",t,n[0])}streamedJsonPost(t,n){return Hh(this,null,function*(){n.skipJsonTransform=!0;const r=yield new ho(this.request("post",t,n));if(!r.body)return;const i=r.body.getReader(),s=new TextDecoder;let o="";for(;;){const{value:a,done:c}=yield new ho(i.read());a&&(o+=s.decode(a,{stream:!0}));let l;for(;(l=o.indexOf("\n"))!==-1;){const u=o.slice(0,l).trim();if(o=o.slice(l+1),u.length!==0)try{yield JSON.parse(u)}catch(d){o=u+"\n"+o;break}}if(c){const u=o.trim();u&&(yield JSON.parse(u));return}}})}}Bl=new WeakMap,Df=new WeakMap,Ig=new WeakSet,PG=function(){return fe(this,Bl)||Ut(this,Bl,IG([RG,NG],fetch)),fe(this,Bl)};function Xre(e,t){const n={[Je]:Rw};if(t.headers.Authorization)return e;for(const[r,i]of Object.entries(n))if(e.startsWith(r))return e.replace(r,i);return e}var Gl,Ng,kG;class Qre{constructor(){Nt(this,Ng);Nt(this,Gl)}async fetch(t,n={}){n.params&&(t+="?"+new URLSearchParams(n.params).toString());try{const r=xG(n),i=await fe(this,Ng,kG).call(this,new globalThis.Request(Xre(t,r),r));return n.skipJsonTransform?i:i.status===204?{}:i.json()}catch(r){throw n.intercomEventOnError&&wG(n.intercomEventOnError,{url:t}),r}}get(t,n={}){return this.fetch(t,n)}post(t,n,r={}){return this.fetch(t,I(S({},r),{method:"post",body:n instanceof FormData?n:JSON.stringify(n)}))}streamedJsonPost(i,s){return Hh(this,arguments,function*(t,n,r={}){const a=(yield new ho(this.fetch(t,I(S({},r),{method:"post",body:JSON.stringify(n),skipJsonTransform:!0})))).body;if(!a)return;const c=a.getReader(),l=new TextDecoder;let u=!1,d="";for(;!u;){const f=yield new ho(c.read());if(u=f.done,u&&f.value==null)break;const h=d+l.decode(f.value,{stream:!0});d="";const p=h.split("\n").filter(m=>!!m.trim());for(let m=0;m<p.length;m++)try{yield JSON.parse(p[m])}catch(g){d=p[m];break}}d.length>0&&(yield JSON.parse(d))})}streamedSsePost(i,s){return Hh(this,arguments,function*(t,n,r={}){const a=(yield new ho(this.fetch(t,I(S({},r),{method:"post",body:JSON.stringify(n),skipJsonTransform:!0,additionalHeaders:S({Accept:"text/event-stream"},r.additionalHeaders)})))).body;if(!a)return;const c=a.getReader(),l=new TextDecoder;let u="";for(;;){const{value:d,done:f}=yield new ho(c.read());d&&(u+=l.decode(d,{stream:!0})),u=u.replace(/\r\n/g,"\n");let h;for(;(h=u.indexOf("\n\n"))!==-1;){const p=u.slice(0,h);u=u.slice(h+2);const m=[];for(const y of p.split("\n"))y.startsWith(":")||y.startsWith("data:")&&m.push(y.slice(5).trimStart());const g=m.join("\n").trim();if(g){if(g==="[DONE]")return;try{yield JSON.parse(g)}catch(y){}}}if(f){const p=u.trim();if(p.startsWith("data:")){const m=p.split("\n").filter(g=>g.startsWith("data:")).map(g=>g.slice(5).trimStart()).join("\n").trim();if(m&&m!=="[DONE]")try{yield JSON.parse(m)}catch(g){}}return}}})}}Gl=new WeakMap,Ng=new WeakSet,kG=function(){return fe(this,Gl)||Ut(this,Gl,IG([RG,NG],fetch)),fe(this,Gl)};const Z=new pA({baseUrl(e,t){return!!e.headers.Authorization?Je:Rw}}),Zre=new pA({baseUrl:Bp});new pA({baseUrl:fne});const Ze=new Qre;var Hp=(e=>(e[e.DEV=0]="DEV",e[e.BETA=1]="BETA",e[e.CUSTOM=2]="CUSTOM",e))(Hp||{});async function eie(){const e=await Z.safeGet("/system_hints",{authOption:Xt.SendIfAvailable});return Q.addFirstTiming("load.systemHints"),e.system_hints.map(({name:n,description:r,action_label:i,short_label:s,logo:o,system_hint:a,aliases:c=[],required_features:l=[],required_models:u=[],required_conversation_modes:d=[],composer_bar_button_info:f,suggested_prompt:h,allow_in_temporary_chat:p,persist_between_messages:m,regex_matches:g,is_auto:y,category:v,requires_opt_in:T,is_connector:C,keyword_invocations:b,hide_from_initial_selection:O,badge_text:w,is_dangerous:A})=>{var x,N;return{name:n,description:r,actionLabel:i!=null?i:void 0,shortLabel:s!=null?s:void 0,logo:o,systemHint:a,aliases:c,requiredFeatures:l,requiredModels:u,requiredConversationModes:d,composerBarButtonInfo:f?{announcementKey:f.announcement_key,disabledText:f.disabled_text,nuxTitle:f.nux_title,nuxDescription:f.nux_description,tooltipText:f.tooltip_text,rateLimitReachedText:(x=f.rate_limit_reached_text)!=null?x:void 0}:void 0,suggestedPrompt:h?{theme:h.theme,title:h.title,subtitle:h.subtitle,sortOrder:h.sort_order,badge:(N=h.badge)!=null?N:void 0}:void 0,allowInTemporaryChat:p,persistBetweenMessages:!!m,regexMatches:g!=null?g:void 0,isAuto:y,category:v,requiresOptIn:!!T,isConnector:!!C,keywordInvocations:b!=null?b:[],hideFromInitialSelection:!!O,badgeText:w!=null?w:void 0,isDangerous:!!A}})}const mA=es(()=>bn({queryKey:["system-hints"],queryFn:eie,staleTime:1/0})),MG=Ge(e=>Cn(e,mA)),tie=Object.prototype.toString;function nie(e,t){try{return e instanceof t}catch(n){return!1}}function rie(e){switch(tie.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return nie(e,Error)}}const pP={componentStack:null,error:null};function iie(e,t){const n=new WeakMap;function r(i,s){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,s);i.cause=s}}r(e,t)}const sie=["The node to be removed is not a child of this node","The object can not be found here."];function oie(e){return sie.some(t=>{var n;return(n=e.message)==null?void 0:n.includes(t)})}let c_=class extends E.Component{constructor(n){super(n);U(this,"state");U(this,"resetErrorBoundary",()=>{const{onReset:n}=this.props,{error:r,componentStack:i}=this.state;n&&n(r,i!=null?i:""),this.setState(pP)});this.state=pP}componentDidCatch(n,{componentStack:r}){if(rie(n)){const i=new Error(n.message);i.name="React ErrorBoundary ".concat(i.name),i.stack=r!=null?r:"",iie(n,i)}if(!oie(n)&&(this.props.logRequestErrors===!0||!(n instanceof Ht))){const i=new Error(n.message);i.name="ReactRenderingError",i.stack=r!=null?r:"",i.cause=n,Q.addError(i,{error_boundary:this.props.name})}SG(),this.props.onError&&this.props.onError(n,r!=null?r:""),this.setState({error:n,componentStack:r})}render(){var s;const{fallback:n,children:r}=this.props,i=this.state;if(i.error){let o;return typeof n=="function"?o=n({error:i.error,componentStack:(s=i.componentStack)!=null?s:"",resetError:this.resetErrorBoundary}):o=n,E.isValidElement(o)?o:null}return typeof r=="function"?r():r}};function DG(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=DG(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=DG(e))&&(r&&(r+=" "),r+=t);return r}var Jt=(e=>(e.info="info",e.neutral="neutral",e.success="success",e.successNeutral="successNeutral",e.warning="warning",e.danger="danger",e))(Jt||{});function mP(e){return typeof e=="number"?"".concat(e,"px"):e}function H(e){"use forget";var h;const t=Y.c(22);let n,r,i,s,o,a,c;t[0]!==e?(h=e,{className:r,role:s,style:o,tabIndex:a,height:i,width:c}=h,n=W(h,["className","role","style","tabIndex","height","width"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7]);let l;t[8]!==c?(l=mP(c),t[8]=c,t[9]=l):l=t[9];let u;t[10]!==i?(u=mP(i),t[10]=i,t[11]=u):u=t[11];let d;t[12]!==o||t[13]!==l||t[14]!==u?(d=S({display:"inline-block",width:l,height:u},o),t[12]=o,t[13]=l,t[14]=u,t[15]=d):d=t[15];let f;return t[16]!==n||t[17]!==r||t[18]!==s||t[19]!==d||t[20]!==a?(f=_.jsx("div",S({className:r,role:s,style:d,tabIndex:a},n)),t[16]=n,t[17]=r,t[18]=s,t[19]=d,t[20]=a,t[21]=f):f=t[21],f}const aie=B(()=>k(()=>import("./lm3g1zm00rp6al39.js").then(e=>e.zw),__vite__mapDeps([3,1,4])),{loading:e=>H(e)}),cie=Tt({closeButtonLabel:{id:"Alert.closeButtonLabel",defaultMessage:"Close"}}),lie=Et.memo(function(t){const n=gt(),{className:r,intent:i="info",fullWidth:s,children:o,icon:a,onRemove:c,testId:l}=t,u=_e({"px-3 py-2 rounded-lg inline-flex flex-row border pointer-events-auto gap-2":!0,flex:s,"popover shadow-lg bg-token-main-surface-primary text-token-text-secondary dark:border-black/20":i===Jt.neutral||i===Jt.info,"border-green-600 bg-green-600 text-white":i===Jt.success,"border-orange-500 text-white bg-orange-500":i===Jt.warning,"border-red-500 text-white bg-red-500":i===Jt.danger,"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white":i===Jt.successNeutral},r);return _.jsxs("div",{className:u,role:"alert","data-testid":l,children:[a!=null&&_.jsx("div",{className:"mt-1 shrink-0 grow-0",children:_.jsx(a,{className:"icon-sm"})}),_.jsx("div",{className:"flex-1 justify-center gap-2",children:typeof o=="string"?_.jsx("div",{className:"font-semibold",children:o}):o}),c?_.jsx("div",{className:"flex shrink-0 grow-0",children:_.jsx("button",{onClick:c,"aria-label":n.formatMessage(cie.closeButtonLabel),className:"hover:opacity-80",children:_.jsx(aie,{className:"icon-sm"})})}):null]})});function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gP.apply(null,arguments)}function uie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function UT(e,t){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},UT(e,t)}function die(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,UT(e,t)}var Xv={exports:{}},Qv,_P;function fie(){if(_P)return Qv;_P=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qv=e,Qv}var Zv,vP;function hie(){if(vP)return Zv;vP=1;var e=fie();function t(){}function n(){}return n.resetWarningCache=t,Zv=function(){function r(o,a,c,l,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Zv}var yP;function pie(){return yP||(yP=1,Xv.exports=hie()()),Xv.exports}var mie=pie();const pBe=Gt(mie),bP={disabled:!1},LG=Et.createContext(null);var gie=function(t){return t.scrollTop},dd="unmounted",Ta="exited",wa="entering",sl="entered",BT="exiting",to=(function(e){die(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=Ta,s.appearStatus=wa):c=sl:r.unmountOnExit||r.mountOnEnter?c=dd:c=Ta,s.state={status:c},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===dd?{status:Ta}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==wa&&o!==sl&&(s=wa):(o===wa||o===sl)&&(s=BT)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===wa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:od.findDOMNode(this);o&&gie(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ta&&this.setState({status:dd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[od.findDOMNode(this),a],l=c[0],u=c[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||bP.disabled){this.safeSetState({status:sl},function(){s.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:wa},function(){s.props.onEntering(l,u),s.onTransitionEnd(f,function(){s.safeSetState({status:sl},function(){s.props.onEntered(l,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:od.findDOMNode(this);if(!s||bP.disabled){this.safeSetState({status:Ta},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:BT},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ta},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:od.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=c[0],u=c[1];this.props.addEndListener(l,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===dd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=uie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Et.createElement(LG.Provider,{value:null},typeof o=="function"?o(i,a):Et.cloneElement(Et.Children.only(o),a))},t})(Et.Component);to.contextType=LG;to.propTypes={};function Kc(){}to.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Kc,onEntering:Kc,onEntered:Kc,onExit:Kc,onExiting:Kc,onExited:Kc};to.UNMOUNTED=dd;to.EXITED=Ta;to.ENTERING=wa;to.ENTERED=sl;to.EXITING=BT;function mBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _ie(e){const t=E.useRef(null);return E.useInsertionEffect(()=>{t.current=e},[e]),E.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const vie={liveRegionAssertive:"",liveRegionPolite:""},sp=rr()(()=>S({},vie));let ey,ty;const yie={setLiveRegionAssertive:e=>{window.clearTimeout(ey),sp.setState({liveRegionAssertive:e}),ey=window.setTimeout(()=>{sp.setState({liveRegionAssertive:""}),ey=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(ty),sp.setState({liveRegionPolite:e}),ty=window.setTimeout(()=>{sp.setState({liveRegionPolite:""}),ty=void 0},5e3)}},CP=B(()=>k(()=>import("./btrwhqtnzjbkk202.js"),__vite__mapDeps([5,1])),{loading:e=>H(e)}),EP=B(()=>k(()=>import("./i9nsqs70ntdej3pg.js"),__vite__mapDeps([6,1])),{loading:e=>H(e)}),bie={[Jt.success]:EP,[Jt.successNeutral]:EP,[Jt.warning]:CP,[Jt.danger]:CP};function Cie(e,t,n){let r,i;try{switch(n.intent){case Jt.success:i={defaultMessage:"Success",description:"Prefix for success toast announcements",id:"toast.success"};break;case Jt.warning:i={defaultMessage:"Warning",description:"Prefix for warning toast announcements",id:"toast.warning"};break;case Jt.danger:i={defaultMessage:"Error",description:"Prefix for error toast announcements",id:"toast.error"};break;default:i=void 0}i?r=e.formatMessage({id:"SieQiR",defaultMessage:"{prefix}: {message}"},{prefix:e.formatMessage(i),message:typeof t=="string"?t:e.formatMessage(t)}):r=e.formatMessage({id:"opr5Yt",defaultMessage:"{message}"},{message:typeof t=="string"?t:e.formatMessage(t)}),yie.setLiveRegionPolite(r)}catch(s){Q.addError(s)}}const Eie=({zIndex:e,duration:t,onRemove:n,intent:r=Jt.info,title:i,description:s,hasCloseButton:o,isShown:a=!0,testId:c})=>{"use no forget";const[l,u]=E.useState(0),[d,f]=E.useState(a),h=E.useRef(null),p=E.useRef(null),m=()=>{t&&(p.current=setTimeout(()=>{n==null||n(),y(),f(!1)},t*1e3))},g=_ie(()=>m());E.useEffect(()=>(g(),()=>{y()}),[d]);const y=()=>{p.current&&(clearTimeout(p.current),p.current=null)},v=()=>{y()},T=()=>{m()},C=O=>{if(O===null)return;const{height:w}=O.getBoundingClientRect();u(w)},b=gt();return E.useEffect(()=>{Cie(b,i,{intent:r})},[b,i,r]),_.jsx(to,{appear:!0,unmountOnExit:!0,timeout:240,in:d,onExited:n,nodeRef:h,children:O=>{var w;return _.jsx("div",{ref:h,"data-state":O,className:"toast-root",onMouseEnter:v,onMouseLeave:T,style:{height:l,zIndex:e,marginBottom:d?0:-l},children:_.jsx("div",{ref:C,className:"w-full p-1 text-center md:w-auto md:text-justify",children:_.jsxs(lie,{icon:(w=bie[r])!=null?w:void 0,intent:r,onRemove:o?()=>close():void 0,testId:c,children:[_.jsx("div",{className:_e("text-start whitespace-pre-wrap",{"font-semibold":s!=null&&s!==""}),children:typeof i=="string"?i:b.formatMessage(i)}),s&&_.jsx("div",{className:"line-clamp-3 text-start",children:s})]})})})}})},Sie="ext-oai-did",gBe="ext-login-allow-phone",_Be="ext-whatsapp-al-flow";function Vm(e){return{[Sie]:e}}const vBe=B(()=>k(()=>import("./d0gvf7mwynz3ci13.js"),__vite__mapDeps([7,1,8,3,4,9,10,11,12,13,14,15])).then(e=>e.NoAuthLoginModal)),jG=B(()=>k(()=>import("./d0gvf7mwynz3ci13.js"),__vite__mapDeps([7,1,8,3,4,9,10,11,12,13,14,15])).then(e=>e.AuthModal));function yBe(e,t){const n=Pd(),r=I(S({},Vm(ri())),{[Mm]:n});Mi(e,jG,{callbackUrl:window.location.href,authorizationParams:r,isUsernameOnTop:t})}function bBe(){"use forget";const e=Y.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=Pd(),e[0]=t):t=e[0];const n=t;let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=I(S({},Vm(ri())),{[Mm]:n}),e[1]=r):r=e[1],r}function Pd(e){const t=De.getCookie(Se.AuthSessionLoggingId);if(t)return t;const n=dr();return De.setCookie(Se.AuthSessionLoggingId,n),n}function op(){De.deleteCookie(Se.AuthSessionLoggingId)}const SP="_sli";function Oie(){const e=sessionStorage.getItem(SP);if(e)return e;const t=dr();return sessionStorage.setItem(SP,t),t}function gA(){return De.getCookie(Se.PunchOutInfoToken)}function CBe(){return gA()!=null}const Tie=window.location.host+"/ces",wie="https",Aie="".concat(wie,"://").concat(Tie);function GT(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n.key]=n.value,t),{}):e}var Wn=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.CODEX="Wham",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e.GOLDEN_HOUR="golden_hour",e.CUSTOMIZE_CHATGPT="customize_chatgpt",e.WEB_SANDBOX="web_sandbox",e.ECOSYSTEM="ecosystem",e.CANVAS="canvas",e.COT_SUMMARIZER="cot_summarizer",e.CLASSMATES="classmates",e.REFERRALS="referrals",e.STUDENTS="students",e.TEACHERS="teachers",e.TEAMS="teams",e.WEBSOCKET="ws",e.TATERTOT="tatertot",e.PROJECTS="projects",e.WRITING_BLOCKS="writing_blocks",e.ATLAS="aura,",e.PULSE="pulse",e))(Wn||{});class OP{constructor(){U(this,"counterMap",new Map);U(this,"histMap",new Map)}}class xie{constructor(){U(this,"metrics",new OP);U(this,"postUrl","".concat(Aie,"/statsc/flush"));U(this,"postInterval",3e4);U(this,"maxPostErrors",10);U(this,"isScheduled",!1);U(this,"numMetricPostErrors",0);U(this,"numLostMetrics",0)}count(t,n,r={},i=1){r=GT(r);const s=this.makeKey(t,n,r);var o=this.metrics.counterMap;const a=o.get(s);a?a.value+=i:o.set(s,{namespace:t,metric:n,tags:r,value:i}),this.scheduleIfNeeded()}hist(t,n,r={},i){r=GT(r);const s=this.makeKey(t,n,r);var o=this.metrics.histMap;const a=o.get(s);a?a.values.push(i):o.set(s,{namespace:t,metric:n,tags:r,values:[i]}),this.scheduleIfNeeded()}makeKey(t,n,r){const i=Object.entries(r).map(([s,o])=>"".concat(s,"=").concat(o)).sort().join(",");return"".concat(t,":").concat(n,":").concat(i)}scheduleIfNeeded(){this.isScheduled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new OP;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:{},value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:{},value:this.numLostMetrics}));const i={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},s=JSON.stringify(i);try{await Ze.post(this.postUrl,i,{authOption:Xt.Anonymous}),this.numMetricPostErrors=0}catch(o){o instanceof Ht||Q.addError(o,{json:s}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(Q.addAction("Exceeded maximum number of post errors (".concat(this.maxPostErrors,"). Dropping ").concat(this.numLostMetrics," metrics.")),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const Xn=new xie,EBe=Object.freeze(Object.defineProperty({__proto__:null,Namespace:Wn,convertTagsToKV:GT,statsc:Xn},Symbol.toStringTag,{value:"Module"}));class Iie{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:i,options:s,settings:o,getPunchOut:a=()=>{},count:c=(l,u)=>{}}){this.analytics=new Promise(l=>{k(()=>import("./f5o1irqfews46q7f.js").then(u=>u.v),__vite__mapDeps([16,1])).then(u=>{if(!u){c("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const d=new u.AnalyticsBrowser;d.addSourceMiddleware(Nie(this)),l([d])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=i,this.options=s,this.settings=o,this.getPunchOut=a,this.count=c}async initialize({user:t,statsigClient:n}){n&&(this.statsigClient=n);const r={appName:this.appName,appVersion:this.appVersion};this.count("ClientEventsServiceLogger.initialize.start",r),t&&this.identify(t);const[i]=await this.analytics;i.load(this.settings,this.options).catch(()=>{this.count("ClientEventsServiceLogger.initialize.failed",r)}),i.ready(()=>{this.count("ClientEventsServiceLogger.initialize.success",r)})}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}buildEnvelope(t,n){var u,d,f,h,p,m,g,y,v,T;const r=this.getExtraContext(),i=t.$type,s=(u=this.statsigClient)==null?void 0:u.getContext(),o=s==null?void 0:s.user;let a;if(o){let C;o.customIDs&&(C=Object.fromEntries(Object.entries(o.customIDs).filter(w=>typeof w[1]=="string")));let b;if(o.custom){const w=Object.entries(o.custom).flatMap(A=>{const[x,N]=A;if(N===void 0)return[];try{const R=JSON.stringify(N);return R===void 0?[]:[[x,R]]}catch(R){return[]}});w.length>0&&(b=Object.fromEntries(w))}const O={userId:o.userID,customIds:C,email:o.email,ip:o.ip,userAgent:o.userAgent,country:o.country,locale:o.locale,appVersion:o.appVersion,custom:b};a={sessionId:(f=(d=s==null?void 0:s.session)==null?void 0:d.data)==null?void 0:f.sessionID,user:O}}const c={userId:(p=(h=this.user)==null?void 0:h.userId)!=null?p:"",deviceId:this.deviceId,authStatus:String((m=r.auth_status)!=null?m:""),planType:String((y=(g=r.user_traits)==null?void 0:g.plan_type)!=null?y:""),workspaceId:String((T=(v=r.user_traits)==null?void 0:v.workspace_id)!=null?T:"")},l={};return{eventClass:"chatgpt_web",eventId:dr(),eventCreatedAt:new Date().toISOString(),eventType:"client",userParams:c,deviceParams:l,statsig:a,eventParams:S({"@type":"openai.buf.dev/openai/protobuf-analytics-events/".concat(i)},n)}}async trackStructuredEvent(t,n){const r=this.buildEnvelope(t,n),[i]=await this.analytics;i.track("__protobuf_structured_event__",r);const s={platform:"web",event_name:t.$type};this.count("analytics_event_tracked",s)}getExtraContext(){var t;return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?"logged_in":"logged_out",user_traits:(t=this.user)==null?void 0:t.traits,punch_out_info_token:this.getPunchOut()}}}function Nie(e){return({payload:t,next:n})=>{t.obj.context=S(S({},t.obj.context),e.getExtraContext()),n(t)}}var Rie=(e=>(e[e.ACCESS_FLOW_CONNECTION_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_CONNECTION_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_CONNECTION_TYPE_PASSWORD=1]="ACCESS_FLOW_CONNECTION_TYPE_PASSWORD",e[e.ACCESS_FLOW_CONNECTION_TYPE_GOOGLE=2]="ACCESS_FLOW_CONNECTION_TYPE_GOOGLE",e[e.ACCESS_FLOW_CONNECTION_TYPE_MICROSOFT=3]="ACCESS_FLOW_CONNECTION_TYPE_MICROSOFT",e[e.ACCESS_FLOW_CONNECTION_TYPE_APPLE=4]="ACCESS_FLOW_CONNECTION_TYPE_APPLE",e[e.ACCESS_FLOW_CONNECTION_TYPE_SAMLP=5]="ACCESS_FLOW_CONNECTION_TYPE_SAMLP",e[e.ACCESS_FLOW_CONNECTION_TYPE_OIDC=6]="ACCESS_FLOW_CONNECTION_TYPE_OIDC",e[e.ACCESS_FLOW_CONNECTION_TYPE_SSO=7]="ACCESS_FLOW_CONNECTION_TYPE_SSO",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(Rie||{}),fd=(e=>(e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_ENTRY_ACTION_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN=1]="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP=2]="ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP=3]="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_CONTINUE_WITH_SOCIAL=4]="ACCESS_FLOW_ENTRY_ACTION_TYPE_CONTINUE_WITH_SOCIAL",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN=5]="ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN",e[e.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOG_BACK_IN_MODAL_AUTO_SHOWN=6]="ACCESS_FLOW_ENTRY_ACTION_TYPE_LOG_BACK_IN_MODAL_AUTO_SHOWN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(fd||{}),FG=(e=>(e[e.ACCESS_FLOW_ENTRY_POINT_UNSPECIFIED=0]="ACCESS_FLOW_ENTRY_POINT_UNSPECIFIED",e[e.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL=1]="ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL=26]="ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_FULL_SCREEN=2]="ACCESS_FLOW_ENTRY_POINT_MOBILE_FULL_SCREEN",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_BOTTOM_SHEET=3]="ACCESS_FLOW_ENTRY_POINT_MOBILE_BOTTOM_SHEET",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PAGE=24]="ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PASSWORD_PAGE=25]="ACCESS_FLOW_ENTRY_POINT_MOBILE_LOGIN_PASSWORD_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_ANONYMOUS_SIDE_BAR=32]="ACCESS_FLOW_ENTRY_POINT_MOBILE_ANONYMOUS_SIDE_BAR",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_TEMPLATE=4]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_TEMPLATE",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_PROGRESS_BANNER_GPT_5=35]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_PROGRESS_BANNER_GPT_5",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_IMAGE_GEN=36]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_IMAGE_GEN",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_SEND=37]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_SEND",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO=38]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO_TAG=39]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GIZMO_TAG",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_DALLE=40]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_DALLE",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_ADAVANCED_DATA_ANALYSIS=41]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_ADAVANCED_DATA_ANALYSIS",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_4O=42]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_4O",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_5_AUTO=43]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GPT_5_AUTO",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_UPGRADE_TO_GO_UPSELL=49]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_UPGRADE_TO_GO_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PLUS_UPSELL=50]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PLUS_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PRO_UPSELL=51]="ACCESS_FLOW_ENTRY_POINT_RATE_LIMIT_BANNER_GET_PRO_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_NEW_CHAT_MODAL=5]="ACCESS_FLOW_ENTRY_POINT_NEW_CHAT_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_SIDEBAR_BOTTOM_UNIT=6]="ACCESS_FLOW_ENTRY_POINT_SIDEBAR_BOTTOM_UNIT",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL=7]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_CHAT_STAGE_HEADER=8]="ACCESS_FLOW_ENTRY_POINT_MOBILE_CHAT_STAGE_HEADER",e[e.ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER=55]="ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER",e[e.ACCESS_FLOW_ENTRY_POINT_LOGIN_PAGE=9]="ACCESS_FLOW_ENTRY_POINT_LOGIN_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_SIGNUP_PAGE=29]="ACCESS_FLOW_ENTRY_POINT_SIGNUP_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_LOGIN_OR_SIGNUP_PAGE=30]="ACCESS_FLOW_ENTRY_POINT_LOGIN_OR_SIGNUP_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_LOGIN_PASSWORD_PAGE=31]="ACCESS_FLOW_ENTRY_POINT_LOGIN_PASSWORD_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_SSO_SELECTION_PAGE=33]="ACCESS_FLOW_ENTRY_POINT_SSO_SELECTION_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_START_PAGE=34]="ACCESS_FLOW_ENTRY_POINT_START_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_FILE_PICKER_RATE_LIMIT_TOOLTIP=10]="ACCESS_FLOW_ENTRY_POINT_FILE_PICKER_RATE_LIMIT_TOOLTIP",e[e.ACCESS_FLOW_ENTRY_POINT_FILE_UPLOAD_RATE_LIMIT_TOAST=11]="ACCESS_FLOW_ENTRY_POINT_FILE_UPLOAD_RATE_LIMIT_TOAST",e[e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIGNUP_BANNER=12]="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIGNUP_BANNER",e[e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_LOGIN_BANNER=13]="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_LOGIN_BANNER",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PLAN_UPSELL_MODAL=14]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PLAN_UPSELL_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PROMO_REDEMPTION_MODAL=15]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PROMO_REDEMPTION_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_IMAGEGEN_NUX_MODAL=16]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_IMAGEGEN_NUX_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_SOFT_RATE_LIMIT_MODAL=17]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_SOFT_RATE_LIMIT_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_VOICE_PICKER_PAGE=18]="ACCESS_FLOW_ENTRY_POINT_VOICE_PICKER_PAGE",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PUNCH_OUT_SIGN_IN_AS_MODAL=19]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_PUNCH_OUT_SIGN_IN_AS_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GPT4_UPSELL=20]="ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GPT4_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GO_UPSELL=21]="ACCESS_FLOW_ENTRY_POINT_MODEL_SWITCHER_GO_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL=22]="ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION=23]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_ADD_FILES=44]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_ADD_FILES",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_PICTURE_V2=45]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_PICTURE_V2",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_GPT_5=46]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_GPT_5",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_RESEARCH=47]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_RESEARCH",e[e.ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_REASON=48]="ACCESS_FLOW_ENTRY_POINT_PLUS_MENU_OPTION_REASON",e[e.ACCESS_FLOW_ENTRY_POINT_COMPOSER_PLUS_LOGGED_OUT_UPSELL=27]="ACCESS_FLOW_ENTRY_POINT_COMPOSER_PLUS_LOGGED_OUT_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIDEBAR=28]="ACCESS_FLOW_ENTRY_POINT_CHAT_STAGE_SIDEBAR",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL=52]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_ATTACH=53]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_ATTACH",e[e.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_MODEL_SWITCHER=54]="ACCESS_FLOW_ENTRY_POINT_NO_AUTH_UPSELL_MODEL_SWITCHER",e[e.ACCESS_FLOW_ENTRY_POINT_MOBILE_DISPATCH_TO_WEB=56]="ACCESS_FLOW_ENTRY_POINT_MOBILE_DISPATCH_TO_WEB",e[e.ACCESS_FLOW_ENTRY_POINT_MFA_SETTING=57]="ACCESS_FLOW_ENTRY_POINT_MFA_SETTING",e[e.ACCESS_FLOW_ENTRY_POINT_RETRIGGER_SSO=58]="ACCESS_FLOW_ENTRY_POINT_RETRIGGER_SSO",e[e.ACCESS_FLOW_ENTRY_POINT_ATLAS_LOGIN_WINDOW=59]="ACCESS_FLOW_ENTRY_POINT_ATLAS_LOGIN_WINDOW",e[e.ACCESS_FLOW_ENTRY_POINT_NOFACE_LOGIN_VIEW=60]="ACCESS_FLOW_ENTRY_POINT_NOFACE_LOGIN_VIEW",e[e.ACCESS_FLOW_ENTRY_POINT_NOFACE_LEGACY_LOGIN_VIEW=61]="ACCESS_FLOW_ENTRY_POINT_NOFACE_LEGACY_LOGIN_VIEW",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(FG||{}),hd=(e=>(e[e.ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE=1]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE=22]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT=23]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE=24]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_SSO=33]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_SSO",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_PASSWORD=34]="ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_PASSWORD",e[e.ACCESS_FLOW_USER_ACTION_TYPE_PREVIOUS_STEP=2]="ACCESS_FLOW_USER_ACTION_TYPE_PREVIOUS_STEP",e[e.ACCESS_FLOW_USER_ACTION_TYPE_EDIT_USERNAME=3]="ACCESS_FLOW_USER_ACTION_TYPE_EDIT_USERNAME",e[e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT=4]="ACCESS_FLOW_USER_ACTION_TYPE_EXIT",e[e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED=25]="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_BUTTON_CLICKED=26]="ACCESS_FLOW_USER_ACTION_TYPE_EXIT_CLOSE_BUTTON_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_RESEND=5]="ACCESS_FLOW_USER_ACTION_TYPE_RESEND",e[e.ACCESS_FLOW_USER_ACTION_TYPE_INPUT=6]="ACCESS_FLOW_USER_ACTION_TYPE_INPUT",e[e.ACCESS_FLOW_USER_ACTION_TYPE_AUTOFILL=7]="ACCESS_FLOW_USER_ACTION_TYPE_AUTOFILL",e[e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL=8]="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL",e[e.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE=9]="ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_FORGOT_PASSWORD=10]="ACCESS_FLOW_USER_ACTION_TYPE_FORGOT_PASSWORD",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_OTP_DEEPLINK=11]="ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_OTP_DEEPLINK",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_MFA_DEEPLINK=12]="ACCESS_FLOW_USER_ACTION_TYPE_CONSUME_MFA_DEEPLINK",e[e.ACCESS_FLOW_USER_ACTION_TYPE_COPY_RECOVERY_CODE=13]="ACCESS_FLOW_USER_ACTION_TYPE_COPY_RECOVERY_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_TOTP_CODE=14]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_TOTP_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_EMAIL_CODE=15]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_EMAIL_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_RECOVERY_CODE=16]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_RECOVERY_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PUSH_AUTH_CODE=29]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PUSH_AUTH_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_UNKNOWN_FACTOR=17]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_UNKNOWN_FACTOR",e[e.ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_INSTEAD_LINK_CLICKED=18]="ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_INSTEAD_LINK_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_INSTEAD_LINK_CLICKED=19]="ACCESS_FLOW_USER_ACTION_TYPE_SIGNUP_INSTEAD_LINK_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_TERMS_OF_USE_CLICK=20]="ACCESS_FLOW_USER_ACTION_TYPE_TERMS_OF_USE_CLICK",e[e.ACCESS_FLOW_USER_ACTION_TYPE_PRIVACY_POLICY_CLICK=21]="ACCESS_FLOW_USER_ACTION_TYPE_PRIVACY_POLICY_CLICK",e[e.ACCESS_FLOW_USER_ACTION_TYPE_WORDMARK_CLICKED=27]="ACCESS_FLOW_USER_ACTION_TYPE_WORDMARK_CLICKED",e[e.ACCESS_FLOW_USER_ACTION_TYPE_SEND_EMAIL_OTP=28]="ACCESS_FLOW_USER_ACTION_TYPE_SEND_EMAIL_OTP",e[e.ACCESS_FLOW_USER_ACTION_TYPE_CANCEL_WEB_FLOW=30]="ACCESS_FLOW_USER_ACTION_TYPE_CANCEL_WEB_FLOW",e[e.ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_WITH_ONE_TIME_CODE=31]="ACCESS_FLOW_USER_ACTION_TYPE_LOGIN_WITH_ONE_TIME_CODE",e[e.ACCESS_FLOW_USER_ACTION_TYPE_BACK_TO_LOGIN=32]="ACCESS_FLOW_USER_ACTION_TYPE_BACK_TO_LOGIN",e[e.ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PASSKEY=35]="ACCESS_FLOW_USER_ACTION_TYPE_MFA_SELECT_PASSKEY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(hd||{}),pd=(e=>(e[e.ACCESS_FLOW_FIELD_UNSPECIFIED=0]="ACCESS_FLOW_FIELD_UNSPECIFIED",e[e.ACCESS_FLOW_FIELD_EMAIL=1]="ACCESS_FLOW_FIELD_EMAIL",e[e.ACCESS_FLOW_FIELD_PHONE=2]="ACCESS_FLOW_FIELD_PHONE",e[e.ACCESS_FLOW_FIELD_COUNTRY_CODE=3]="ACCESS_FLOW_FIELD_COUNTRY_CODE",e[e.ACCESS_FLOW_FIELD_PASSWORD=4]="ACCESS_FLOW_FIELD_PASSWORD",e[e.ACCESS_FLOW_FIELD_OTP=5]="ACCESS_FLOW_FIELD_OTP",e[e.ACCESS_FLOW_FIELD_NAME=6]="ACCESS_FLOW_FIELD_NAME",e[e.ACCESS_FLOW_FIELD_BIRTHDAY=7]="ACCESS_FLOW_FIELD_BIRTHDAY",e[e.ACCESS_FLOW_FIELD_CONFIRM_PASSWORD=8]="ACCESS_FLOW_FIELD_CONFIRM_PASSWORD",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(pd||{}),ol=(e=>(e[e.ACCESS_FLOW_PAGE_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_PAGE_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_PAGE_TYPE_ABOUT_YOU=1]="ACCESS_FLOW_PAGE_TYPE_ABOUT_YOU",e[e.ACCESS_FLOW_PAGE_TYPE_ADD_EMAIL=2]="ACCESS_FLOW_PAGE_TYPE_ADD_EMAIL",e[e.ACCESS_FLOW_PAGE_TYPE_APPLE_INTELLIGENCE_START=3]="ACCESS_FLOW_PAGE_TYPE_APPLE_INTELLIGENCE_START",e[e.ACCESS_FLOW_PAGE_TYPE_CONTACT_VERIFICATION=4]="ACCESS_FLOW_PAGE_TYPE_CONTACT_VERIFICATION",e[e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER=5]="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER",e[e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER_QUEUED=6]="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_LATER_QUEUED",e[e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_PASSWORD=7]="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_PASSWORD",e[e.ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_START=8]="ACCESS_FLOW_PAGE_TYPE_CREATE_ACCOUNT_START",e[e.ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_SEND=9]="ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_SEND",e[e.ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_VERIFICATION=10]="ACCESS_FLOW_PAGE_TYPE_EMAIL_OTP_VERIFICATION",e[e.ACCESS_FLOW_PAGE_TYPE_ERROR=11]="ACCESS_FLOW_PAGE_TYPE_ERROR",e[e.ACCESS_FLOW_PAGE_TYPE_EXTERNAL_URL=12]="ACCESS_FLOW_PAGE_TYPE_EXTERNAL_URL",e[e.ACCESS_FLOW_PAGE_TYPE_IDENTITY_VERIFICATION=13]="ACCESS_FLOW_PAGE_TYPE_IDENTITY_VERIFICATION",e[e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL=30]="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL",e[e.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL=31]="ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL",e[e.ACCESS_FLOW_PAGE_TYPE_LOGIN_OR_SIGNUP_START=14]="ACCESS_FLOW_PAGE_TYPE_LOGIN_OR_SIGNUP_START",e[e.ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSWORD=15]="ACCESS_FLOW_PAGE_TYPE_LOGIN_PASSWORD",e[e.ACCESS_FLOW_PAGE_TYPE_LOGIN_START=16]="ACCESS_FLOW_PAGE_TYPE_LOGIN_START",e[e.ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE=17]="ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE",e[e.ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE_SELECTION=33]="ACCESS_FLOW_PAGE_TYPE_MFA_CHALLENGE_SELECTION",e[e.ACCESS_FLOW_PAGE_TYPE_MFA_ENROLL=18]="ACCESS_FLOW_PAGE_TYPE_MFA_ENROLL",e[e.ACCESS_FLOW_PAGE_TYPE_PHONE_OTP_SEND=19]="ACCESS_FLOW_PAGE_TYPE_PHONE_OTP_SEND",e[e.ACCESS_FLOW_PAGE_TYPE_PUSH_AUTH_VERIFICATION=20]="ACCESS_FLOW_PAGE_TYPE_PUSH_AUTH_VERIFICATION",e[e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_START=21]="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_START",e[e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_NEW_PASSWORD=22]="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_NEW_PASSWORD",e[e.ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_SUCCESS=23]="ACCESS_FLOW_PAGE_TYPE_RESET_PASSWORD_SUCCESS",e[e.ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_CONSENT=24]="ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_CONSENT",e[e.ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_ORG=25]="ACCESS_FLOW_PAGE_TYPE_SIGN_IN_WITH_CHATGPT_ORG",e[e.ACCESS_FLOW_PAGE_TYPE_SSO=26]="ACCESS_FLOW_PAGE_TYPE_SSO",e[e.ACCESS_FLOW_PAGE_TYPE_TOKEN_EXCHANGE=27]="ACCESS_FLOW_PAGE_TYPE_TOKEN_EXCHANGE",e[e.ACCESS_FLOW_PAGE_TYPE_WORKSPACE=28]="ACCESS_FLOW_PAGE_TYPE_WORKSPACE",e[e.ACCESS_FLOW_PAGE_TYPE_END=29]="ACCESS_FLOW_PAGE_TYPE_END",e[e.ACCESS_FLOW_PAGE_TYPE_MOBILE_LEGACY_FINISH_ONBOARDING=32]="ACCESS_FLOW_PAGE_TYPE_MOBILE_LEGACY_FINISH_ONBOARDING",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(ol||{}),UG=(e=>(e[e.ACCESS_FLOW_VALIDATION_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_VALIDATION_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_VALIDATION_TYPE_BACKEND_API=1]="ACCESS_FLOW_VALIDATION_TYPE_BACKEND_API",e[e.ACCESS_FLOW_VALIDATION_TYPE_CLIENT=2]="ACCESS_FLOW_VALIDATION_TYPE_CLIENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(UG||{}),Pie=(e=>(e[e.ACCESS_LOGOUT_ACTION_LOCATION_UNSPECIFIED=0]="ACCESS_LOGOUT_ACTION_LOCATION_UNSPECIFIED",e[e.ACCESS_LOGOUT_ACTION_LOCATION_SSO_CATCH_ALL_MODAL=1]="ACCESS_LOGOUT_ACTION_LOCATION_SSO_CATCH_ALL_MODAL",e[e.ACCESS_LOGOUT_ACTION_LOCATION_INVALID_ACCOUNT_MODAL=2]="ACCESS_LOGOUT_ACTION_LOCATION_INVALID_ACCOUNT_MODAL",e[e.ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN=3]="ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN",e[e.ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_ALL=4]="ACCESS_LOGOUT_ACTION_LOCATION_SETTINGS_MODAL_LOG_OUT_ALL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(Pie||{}),BG=(e=>(e[e.ACCESS_LOGOUT_TYPE_UNSPECIFIED=0]="ACCESS_LOGOUT_TYPE_UNSPECIFIED",e[e.ACCESS_LOGOUT_TYPE_USER_INITIATED=1]="ACCESS_LOGOUT_TYPE_USER_INITIATED",e[e.ACCESS_LOGOUT_TYPE_SYSTEM_FORCED_LOGOUT=2]="ACCESS_LOGOUT_TYPE_SYSTEM_FORCED_LOGOUT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(BG||{}),kie=(e=>(e[e.ACCESS_FLOW_TYPE_UNSPECIFIED=0]="ACCESS_FLOW_TYPE_UNSPECIFIED",e[e.ACCESS_FLOW_TYPE_LOGIN=1]="ACCESS_FLOW_TYPE_LOGIN",e[e.ACCESS_FLOW_TYPE_SIGNUP=2]="ACCESS_FLOW_TYPE_SIGNUP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(kie||{});const ap={$type:"protobuf_analytics_events.v1.AccessFlowEntry"},cp={$type:"protobuf_analytics_events.v1.AccessFlowUserAction"},Mie={$type:"protobuf_analytics_events.v1.AccessFlowPageLoad"},Die={$type:"protobuf_analytics_events.v1.AccessFlowValidationError"},Lie={$type:"protobuf_analytics_events.v1.AccessLogoutAction"},SBe={$type:"protobuf_analytics_events.v1.AccessFlowSuccess"};function jie(){De.deleteCookie(Se.SegmentUserId),De.deleteCookie(Se.SegmentUserTraits),vn.removeItem(en.SegmentUserId),vn.removeItem(en.SegmentUserTraits)}const WT=()=>({hash:window.location.hash,path:window.location.pathname,search:window.location.search,url:window.location.href});var _A=(e=>(e.WINDOW_VISIBILITY_STATE_CHANGED="WINDOW_VISIBILITY_STATE_CHANGED",e.WINDOW_FOCUS_CHANGED="WINDOW_FOCUS_CHANGED",e))(_A||{}),Ho=(e=>(e.LOGIN_CHANGED="LOGIN_CHANGED",e.LOGOUT="LOGOUT",e.QUIT="QUIT",e.SET_COMPANION_WINDOW_VISIBILITY="SET_COMPANION_WINDOW_VISIBILITY",e.SET_WEB_RELEASE_PROPERTIES="WEB_RELEASE_PROPERTIES",e.ERROR_THROWN="ERROR_THROWN",e.ZOOM="ZOOM",e.DESKTOP_SETTING_CHANGED="DESKTOP_SETTING_CHANGED",e.HOTKEY_RECORDING_STATE="HOTKEY_RECORDING_STATE",e.ADD_BREADCRUMB="ADD_BREADCRUMB",e))(Ho||{}),l_=(e=>(e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.ZOOM_RESET="ZOOM_RESET",e))(l_||{}),GG=(e=>(e.MICROPHONE="MICROPHONE",e))(GG||{});function OBe(){ot==null||ot.publish(Ho.ZOOM,{command:l_.ZOOM_IN})}function TBe(){ot==null||ot.publish(Ho.ZOOM,{command:l_.ZOOM_OUT})}function wBe(){ot==null||ot.publish(Ho.ZOOM,{command:l_.ZOOM_RESET})}function TP(e){if(kg){const t=Date.now();ot==null||ot.publish(Ho.ADD_BREADCRUMB,{message:e,epochTimestamp:t})}}class Fie{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:i,options:s,settings:o}){U(this,"analytics");U(this,"appName");U(this,"appVersion");U(this,"deviceId");U(this,"browserLocale");U(this,"options");U(this,"settings");U(this,"user");U(this,"isBusinessIp2");this.analytics=new Promise(a=>{k(()=>import("./f5o1irqfews46q7f.js").then(c=>c.v),__vite__mapDeps([16,1])).then(c=>{if(!c){Q.addAction("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const l=new c.AnalyticsBrowser;l.addSourceMiddleware(Uie(this)),a([l])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=i,this.options=s,this.settings=o}async initialize({user:t}){const n={appName:this.appName,appVersion:this.appVersion};Q.addAction("ClientEventsServiceLogger.initialize.start",n),t&&this.identify(t);const[r]=await this.analytics;r.load(this.settings,this.options).catch(()=>{Q.addAction("ClientEventsServiceLogger.initialize.failed",n)}),r.ready(()=>{Q.addAction("ClientEventsServiceLogger.initialize.success",n)})}async track(t,n){const[r]=await this.analytics;r.track(t,n,{page:WT()}),TP("Web Client Event: ".concat(t," with data: ").concat(JSON.stringify(n)))}async trackPageView(){const t=WT(),[n]=await this.analytics;n.page(void 0,t,{page:t}),TP("Web Client Page View: ".concat(t.path))}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}setBusinessIpFlag(t){this.isBusinessIp2=t}getExtraContext(){var t;return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?Yl.LoggedIn:Yl.LoggedOut,user_traits:(t=this.user)==null?void 0:t.traits,punch_out_info_token:gA(),is_business_ip2:String(!!this.isBusinessIp2)}}}function Uie(e){return({payload:t,next:n})=>{t.obj.context=S(S({},t.obj.context),e.getExtraContext()),n(t)}}const WG=ri(),qG=navigator.language,$m="aa305fcfa301df38d2bd1366c6d68422a7fee6d3";function Bie(e,t,n=1){Xn.count(Wn.DEFAULT,e,t,n)}const zu=new Fie({appName:"chatgpt",appVersion:$m,deviceId:WG,browserLocale:qG,options:PB,settings:kB}),ny=new Iie({appName:"chatgpt",appVersion:$m,deviceId:WG,browserLocale:qG,options:PB,settings:kB,getPunchOut:gA,count:Bie});function Gie(e){const t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="number"||typeof r=="string"||typeof r=="boolean")&&(t[n]=String(r))}),t}const we={initialize({userInfo:e}={}){var o,a,c,l,u,d;const t=((o=e==null?void 0:e.currentAccount)==null?void 0:o.structure)===Zn.WORKSPACE?e.currentAccount.id:null,n=e?{userId:e.sessionUser.id,traits:{plan_type:(c=(a=e.currentAccount)==null?void 0:a.planType)!=null?c:null,workspace_id:t,workspace_type:(u=(l=e.currentAccount)==null?void 0:l.workspaceType)!=null?u:null}}:null;zu.initialize({user:n});const r=At(),i=hr(r),s=xt(r);zu.setBusinessIpFlag((d=s.isBusinessIp2)!=null?d:!1),ny.initialize({user:n!=null?n:void 0,statsigClient:i})},logEvent(e,t){zu.track(e,I(S({},t),{origin:"chat",app_version:$m}))},logEventWithStatsig(e,t,n){this.logValueEventWithStatsig({segmentEventName:e,statsigEventName:t,data:n})},logValueEventWithStatsig({segmentEventName:e,value:t,statsigEventName:n,data:r}){const i=I(S(S({},t!=null?{value:t}:{}),r),{origin:"chat",app_version:$m});zu.track(e,i);const s=Gie(i);ft.logEvent(n,t!=null?t:null,s)},logPageView(){zu.trackPageView()},logStructuredEvent(e,t){ny.trackStructuredEvent(e,t)},logNewChatButtonClicked({location:e,gizmo_id:t}){this.logEvent("New Chat Button Clicked",{location:e,gizmo_id:t}),ft.logEvent("chatgpt_new_chat_button_clicked",null,{location:e})},logAuthErrorResponse(e,t){this.logEvent("Auth: Error",{error_code:e,providerId:t}),ft.logEvent("chatgpt_auth_error",e,{providerId:t})},logNoAuthAttachButtonClicked(e){this.logEvent("No Auth Attach Button Clicked",e),ft.logEvent("chatgpt_web_no_auth_attach_button_clicked",null,e)},logNoAuthVoiceButtonClicked(e){this.logEvent("No Auth Voice Button Clicked",e),ft.logEvent("chatgpt_web_no_auth_voice_button_clicked",null,e)},logLogInButtonClicked(e,t){this.logEvent("Auth: Login",e),ft.logEvent("chatgpt_auth_log_in",null,e),op(),this.logStructuredEvent(ap,{authSessionLoggingId:Pd(),actionType:fd.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN,entryPoint:t})},logSignUpButtonClicked(e,t){this.logEvent("Auth: Signup",e),ft.logEvent("chatgpt_auth_sign_up",null,e),op(),this.logStructuredEvent(ap,{authSessionLoggingId:Pd(),actionType:fd.ACCESS_FLOW_ENTRY_ACTION_TYPE_SIGNUP,entryPoint:t})},logLoginOrSignUpButtonClicked(e,t){this.logEvent("Auth: Login or Signup",e),ft.logEvent("chatgpt_auth_log_in_or_sign_up",null,e),op(),this.logStructuredEvent(ap,{authSessionLoggingId:Pd(),actionType:fd.ACCESS_FLOW_ENTRY_ACTION_TYPE_LOGIN_OR_SIGNUP,entryPoint:t})},logLoginModalContinueAction(e,t,n,r){this.logStructuredEvent(cp,{authSessionLoggingId:e,actionType:t,page:n,field:r})},logLogOutButtonClicked(e,t){this.logEvent("Auth: Logout",e),ft.logEvent("chatgpt_auth_log_out",null,e),this.logStructuredEvent(Lie,{logoutLocation:t,logoutType:BG.ACCESS_LOGOUT_TYPE_USER_INITIATED})},logAuthModalShown(e,t){t!=null&&t.isWelcomeBack&&(op(),we.logStructuredEvent(ap,{authSessionLoggingId:e,actionType:fd.ACCESS_FLOW_ENTRY_ACTION_TYPE_WELCOME_BACK_MODAL_AUTO_SHOWN,entryPoint:FG.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL,cta:"auto-triggerred"})),this.logEventWithStatsig("Auth Modal Shown","chatgpt_auth_modal_shown",t),this.logStructuredEvent(Mie,{authSessionLoggingId:e,page:ol.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL})},logAuthModalEmailTyped(e){this.logEventWithStatsig("Auth Modal Email Typed","chatgpt_auth_modal_email_typed",{AUTH_SESSION_LOGGING_ID:e}),we.logStructuredEvent(cp,{authSessionLoggingId:e,actionType:hd.ACCESS_FLOW_USER_ACTION_TYPE_INPUT,page:ol.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:pd.ACCESS_FLOW_FIELD_EMAIL})},logUsernameKindSwitched(e,t){this.logEventWithStatsig("Username Kind Switched","chatgpt_auth_modal_username_kind_switched",{targetKind:t,AUTH_SESSION_LOGGING_ID:e}),we.logStructuredEvent(cp,{authSessionLoggingId:e,actionType:t=="email"?hd.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_EMAIL:hd.ACCESS_FLOW_USER_ACTION_TYPE_SWITCH_TO_PHONE,page:ol.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL})},logAuthModalPhoneNumberTyped(e){this.logEventWithStatsig("Auth Modal Phone Number Typed","chatgpt_auth_modal_phone_typed",{AUTH_SESSION_LOGGING_ID:e}),we.logStructuredEvent(cp,{authSessionLoggingId:e,actionType:hd.ACCESS_FLOW_USER_ACTION_TYPE_INPUT,page:ol.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:pd.ACCESS_FLOW_FIELD_PHONE})},logAuthModalClosed(e){this.logEventWithStatsig("Auth Modal Closed","chatgpt_auth_modal_closed",e)},logAuthModalInvalidUsername(e,t){this.logEventWithStatsig("Auth Modal Invalid Username",t.usernameKind==="email"?"chatgpt_auth_modal_invalid_email":"chatgpt_auth_modal_invalid_phone_number",t),this.logStructuredEvent(Die,{authSessionLoggingId:e,page:ol.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,field:t.usernameKind==="email"?pd.ACCESS_FLOW_FIELD_EMAIL:pd.ACCESS_FLOW_FIELD_PHONE,validationType:UG.ACCESS_FLOW_VALIDATION_TYPE_CLIENT})},logAuthModalProfileCardLogin(e){this.logEventWithStatsig("Auth Modal Profile Card Login","chatgpt_auth_modal_profile_card_login",e)},logAuthModalProfileCardRemoval(e){this.logEventWithStatsig("Auth Modal Profile Card Removal","chatgpt_auth_modal_profile_card_removal",e)},logSwitchToGenericLoginOrSignup(e){this.logEventWithStatsig("Auth Modal Switch to Generic Login or Signup","chatgpt_auth_modal_switch_to_generic_login_or_signup",e)},logRateLimitBannerShown(e){let t,n;switch(e.type){case"account_sharing_degrade":t="Account Sharing Degrade: Show Info",n="chatgpt_account_sharing_degrade_banner_shown";break;case"image-gen-multi-stream-banner":t="Image Gen Multi Stream: Show Multitasking Banner",n="chatgpt_image_gen_multi_stream_banner_shown";break;case"pro-mode-async-banner":t="Pro Mode Async Banner: Show Multitasking Banner",n="chatgpt_pro_mode_async_banner_shown";break;case"deep-research-banner":t="Deep Research Banner: Show Multitasking Banner",n="chatgpt_deep_research_banner_shown";break;case"tatertot-in-context-upsell":case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":t="In-Context Upsell Banner: Show Info",n="chatgpt_in_context_upsell_banner_shown";break;case"agent-connector-in-context-upsell":t="Agent Connector In Context Upsell Banner: Show Info",n="chatgpt_agent_connector_in_context_upsell_banner_shown";break;default:t="Rate Limit: Show Info",n="chatgpt_rate_limit_banner_shown";break}this.logEvent(t,e);const o=e,{call_to_action:r}=o,s=W(o,["call_to_action"]);r==null||r.forEach((a,c)=>{s["call_to_action.".concat(c)]=a}),ft.logEvent(n,null,I(S({},s),{is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()}))},logRateLimitGetPlusButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),ft.logEvent("chatgpt_rate_limit_get_plus_button_clicked",null,I(S({},e),{is_new_conversation:e.is_new_conversation?e.is_new_conversation.toString():"",is_hard_block:e.is_hard_block.toString()}))},logRateLimitUpgradePlanButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),ft.logEvent("chatgpt_rate_limit_upgrade_plan_button_clicked",null,I(S({},e),{is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()}))},logPopoverHover(e){this.logEvent("Popover Hover",e),ft.logEvent("chatgpt_popover_hover",null,e)},logUpsellGetPlusButtonClicked(e){this.logEventWithStatsig("Upsell: Get Plus Clicked","chatgpt_upsell_get_plus_button_clicked",e)},logToggleShowRecents({isOnlyShowingRecents:e}){this.logEvent("Toggle Show Recents",{isOnlyShowingRecents:e}),ft.logEvent("chatgpt_toggle_show_recents",null,{isOnlyShowingRecents:String(e)})},logToggleShowGptList({isCollapsed:e}){this.logEvent("Toggle Show GPT List",{isCollapsed:e})},logToggleDesktopNavCollapsed({isDesktopNavCollapsed:e,action:t}){this.logEvent("Toggle Desktop Nav Collapsed",{isDesktopNavCollapsed:e}),ft.logEvent("chatgpt_toggle_desktop_nav_collapsed",null,{isDesktopNavCollapsed:String(e),action:t})},logTogglePlanManagementModal({isOpen:e}){const t="chatgpt_toggle_plan_management_modal";this.logEvent("Toggle Plan Management Modal",{isOpen:e}),ft.logEvent(t,null,{isOpen:String(e)})},logPaymentSuccess(e){this.logEvent("Subscription: Payment Success Page",e),ft.logEvent("chatgpt_plan_payment_success_page",null,e)},logNetworkError(e){this.logEvent("chatgpt_web_network_error",e),ft.logEvent("chatgpt_web_network_error",null,e)},logFailedToFetchError(e){this.logEvent("chatgpt_web_failed_to_fetch",e),ft.logEvent("chatgpt_web_failed_to_fetch",null,e)},logUpsellOrModalEvent(e,t){ny.trackStructuredEvent(e,S({sessionId:Oie()},t))}},wP=e=>Object.hasOwnProperty.call(e,"id");let Wie=0;class qie{constructor(){U(this,"toasts$",Oe([]))}notify(t,n){if(wP(n))for(const i of this.toasts$())String(i.id).startsWith(n.id)&&this.closeToast(i.id);const r=this.createToastInstance(t,n);return this.toasts$.set(i=>[r,...i]),r}createToastInstance(t,n){var s;const r=++Wie,i=wP(n)?"".concat(n.id,"-").concat(r):r;return{id:i,title:t,description:n.description,hasCloseButton:!!n.hasCloseButton,duration:typeof n.duration=="number"?n.duration:5,close:()=>this.closeToast(i),onRemove:n.onRemove,intent:(s=n.intent)!=null?s:Jt.info,isShown:!0,testId:n.testId}}closeToast(t){this.toasts$.set(n=>n.map(r=>r.id===t?I(S({},r),{isShown:!1}):r))}removeToast(t){Qt(()=>{var n,r;(r=(n=this.toasts$().find(i=>i.id===t))==null?void 0:n.onRemove)==null||r.call(n)}),this.toasts$.set(n=>n.filter(r=>r.id!==t))}closeAll(){Qt(()=>{this.toasts$().forEach(t=>t.close())})}info(t,n){return this.notify(t,I(S({},n),{intent:Jt.info}))}success(t,n){return this.notify(t,I(S({},n),{intent:Jt.success}))}successNeutral(t,n){return this.notify(t,I(S({},n),{intent:Jt.successNeutral}))}warning(t,n){return this.notify(t,I(S({},n),{intent:Jt.warning}))}danger(t,n){var o,a,c,l,u;const r=t;let i="",s="";return typeof t=="string"?i=t:(i=String((o=t.defaultMessage)!=null?o:""),s=String((a=t.description)!=null?a:"")),n!=null&&n.error&&!n.description&&(n=I(S({},n),{description:Vie(n.error)})),we.logEvent("error_toast_shown",{category:(c=n==null?void 0:n.toastId)!=null?c:"unknown",title:(l=n==null?void 0:n.loggingTitle)!=null?l:i,description:(u=n==null?void 0:n.loggingDescription)!=null?u:s}),this.notify(r,I(S({},n),{intent:Jt.danger}))}}function Vie(e){var t;if(typeof e=="string")return e;if(e instanceof Ht&&typeof((t=e.detail)==null?void 0:t.details)=="string")return e.detail.details;if(e instanceof Error)return e.message}const VG=ut(()=>new qie);function En(){"use forget";const e=Y.c(2),t=re();let n;return e[0]!==t?(n=VG(t),e[0]=t,e[1]=n):n=e[1],n}function $ie(){"use forget";const e=Y.c(5),t=re(),n=VG(t),i=Ue(n.toasts$).filter(Hie);if(i.length===0)return null;const s=c_,o="toaster_boundary_error",a="pointer-events-none fixed inset-0 z-60 mx-auto my-2 flex max-w-[728px] flex-col items-stretch justify-start md:pb-5",c=i.map(d=>{const p=d,{id:f}=p,h=W(p,["id"]);return _.jsx(Eie,I(S({},h),{onRemove:()=>n.removeToast(f)}),f)});let l;e[0]!==c?(l=_.jsx("span",{className:a,children:c}),e[0]=c,e[1]=l):l=e[1];let u;return e[2]!==s||e[3]!==l?(u=_.jsx(s,{name:o,children:l}),e[2]=s,e[3]=l,e[4]=u):u=e[4],u}function Hie(e){return e.isShown!==!1}function So(){return bn({queryKey:["userSettings"],queryFn:async()=>{const e=Z.safeGet("/settings/user",{authOption:Xt.SendIfAvailable});Q.addFirstTiming("load.userSettings");const t=await e;return HG(zG(t)),t}})}function $G(e){const t=De.getCookie(Se.LastUsedModelConfig);if(t)try{const r=JSON.parse(t);if(r&&typeof r=="object"&&(r.model===void 0||typeof r.model=="string")&&(r.effort===void 0||typeof r.effort=="string")){const i=r;return Fm(e,i.model)?(De.deleteCookie(Se.LastUsedModelConfig),{}):i}}catch(r){}const n=De.getCookie(Se.LastUsedModel);if(n&&(De.deleteCookie(Se.LastUsedModel),!Fm(e,n))){const r={model:n};return HG(r),r}return{}}function HG(e){try{e.model?De.setCookie(Se.LastUsedModelConfig,JSON.stringify(e),{path:"/",maxAge:3600*24*30}):De.deleteCookie(Se.LastUsedModelConfig)}catch(t){}}function zG(e){var i,s,o,a,c;const t=(i=e.settings)==null?void 0:i[hc.LastUsedModelConfig],n=(s=t==null?void 0:t.slugs[ld.WEB])!=null?s:t==null?void 0:t.slugs[ld.DEFAULT],r=n?(c=(o=t==null?void 0:t.juices[ld.WEB])==null?void 0:o[n])!=null?c:(a=t==null?void 0:t.juices[ld.DEFAULT])==null?void 0:a[n]:void 0;return{model:n,effort:r}}const gu=Ge(e=>Cn(e,()=>I(S({},So()),{enabled:St(e)}))),YG=E.createContext(void 0);function zie(e){"use forget";const t=Y.c(5),{children:n}=e,r=re();let i;t[0]!==r?(i=()=>gu(r),t[0]=r,t[1]=i):i=t[1];const s=Ue(i);let o;return t[2]!==n||t[3]!==s?(o=_.jsx(YG.Provider,{value:s,children:n}),t[2]=n,t[3]=s,t[4]=o):o=t[4],o}function Yie(){"use forget";const e=Y.c(3),t=re(),n=E.use(YG);let r;return e[0]!==n||e[1]!==t?(r=()=>Uf(t,"user-settings-context")?oi(n):gu(t),e[0]=n,e[1]=t,e[2]=r):r=e[2],Ue(r)}function Kie(e,t){var n,r;return(r=(n=gu(e).data)==null?void 0:n.settings)==null?void 0:r[t]}function ABe(e){"use forget";var o;const t=Y.c(3),{data:n,isLoading:r}=Yie(),i=(o=n==null?void 0:n.settings)==null?void 0:o[e];let s;return t[0]!==r||t[1]!==i?(s={data:i,isLoading:r},t[0]=r,t[1]=i,t[2]=s):s=t[2],s}const xBe=ut(e=>zg(e,{mutationFn:async({modelSlug:t,thinkingEffort:n})=>{if(!Fm(e,t))return await Z.safePatch("/settings/user_last_used_model_config",{parameters:{query:{model_slug:t,thinking_effort:n}}})},onSuccess:()=>{on(e).invalidateQueries(So())}}));function Jie(e=!1){const t=ln(),n=En(),r=gt(),i=Tt({updatePermissionError:{id:"user.permissions.updatePermissionError",defaultMessage:"Unable to update permissions: {error}"}});return un({mutationFn:({setting:s,value:o,account_id:a})=>{const c=typeof o=="string"||typeof o=="boolean"?o.toString():JSON.stringify(o),l=a?{"ChatGPT-Account-ID":a}:{};return Z.safePatch("/settings/account_user_setting",{additionalHeaders:l,parameters:{query:{feature:s,value:c}}})},onMutate:async({setting:s,value:o})=>{if(e){await t.cancelQueries(So());const a=t.getQueryData(So().queryKey);return t.setQueryData(So().queryKey,c=>c!=null&&c.settings?I(S({},c),{settings:I(S({},c.settings),{[s]:o})}):c),{previousValue:a}}},onError:(s,o,a)=>{e&&a!==void 0&&t.setQueryData(So().queryKey,a.previousValue);const c=s;c&&c.status===403&&c.code==="feature-locked-by-owner"&&n.danger(r.formatMessage(i.updatePermissionError,{error:c.message})),o.setting===hc.AtlasAdultSearchAllowed&&c&&c.status===403&&c.code==="immutable-setting"&&n.danger(r.formatMessage(i.updatePermissionError,{error:c.message}))},onSuccess:(s,{setting:o})=>{t.invalidateQueries(So()),o===hc.DeveloperMode&&t.invalidateQueries(mA())}})}const Xie=Ge(e=>Cn(e,()=>I(S({},bn({queryKey:["userIsAdult"],queryFn:async()=>await Z.safeGet("/settings/is_adult",{authOption:Xt.SendIfAvailable})})),{enabled:St(e)})));function IBe(e){return Xie(e).data}const Qie="USD",NBe="GBP",RBe="EUR",PBe="INR",kBe="IDR",MBe="PKR",DBe="THB",LBe="MYR",jBe="VND",FBe="PHP",Zie={USD:"$",GBP:"Â£",EUR:"â‚¬",INR:"â‚¹",IDR:"Rp",PKR:"â‚¨",THB:"à¸¿",MYR:"RM",VND:"â‚«",PHP:"â‚±",NGN:"â‚¦",ZAR:"R",KZT:"â‚¸",TZS:"TSh",EGP:"EÂ£",BRL:"R$",SEK:"kr",CZK:"KÄ",PLN:"zÅ‚",DKK:"kr",NOK:"kr"},ese={USD:2,GBP:2,EUR:2,INR:2,IDR:2,PKR:2,THB:2,MYR:2,VND:0,PHP:2,NGN:2,ZAR:2,KZT:2,TZS:2,EGP:2,BRL:2,SEK:2,CZK:2,PLN:2,DKK:2,NOK:2};function tse(e){const t=Zie[e],n=e.toLowerCase();return{sign:{id:"currencyCodes.".concat(n,"Sign"),defaultMessage:t,description:"Currency sign/symbol for ".concat(e,".")},code:{id:"currencyCodes.".concat(n,"Code"),defaultMessage:e,description:"Abbreviated currency code for ".concat(e,".")}}}function UBe(e){return ese[e.toUpperCase()]}tse("USD");function ih(e){return e===Te.EDUCATION_CBP||e===Te.DEPRECATED_EDU||e===Te.K12}function KG(e){return e===Te.ENTERPRISE_CBP||e===Te.DEPRECATED_ENTERPRISE}function u_(e){return KG(e)||ih(e)}function BBe(e){return e===Te.SELF_SERVE_BUSINESS||e===Te.ENTERPRISE_CBP||e===Te.EDUCATION_CBP||e===Te.QUORUM||e===Te.DEPRECATED_ENTERPRISE||e===Te.DEPRECATED_EDU||e===Te.K12}var ry,AP;function nse(){if(AP)return ry;AP=1;function e(){this.__data__=[],this.size=0}return ry=e,ry}var iy,xP;function d_(){if(xP)return iy;xP=1;function e(t,n){return t===n||t!==t&&n!==n}return iy=e,iy}var sy,IP;function f_(){if(IP)return sy;IP=1;var e=d_();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return sy=t,sy}var oy,NP;function rse(){if(NP)return oy;NP=1;var e=f_(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return oy=r,oy}var ay,RP;function ise(){if(RP)return ay;RP=1;var e=f_();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return ay=t,ay}var cy,PP;function sse(){if(PP)return cy;PP=1;var e=f_();function t(n){return e(this.__data__,n)>-1}return cy=t,cy}var ly,kP;function ose(){if(kP)return ly;kP=1;var e=f_();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return ly=t,ly}var uy,MP;function h_(){if(MP)return uy;MP=1;var e=nse(),t=rse(),n=ise(),r=sse(),i=ose();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,uy=s,uy}var dy,DP;function ase(){if(DP)return dy;DP=1;var e=h_();function t(){this.__data__=new e,this.size=0}return dy=t,dy}var fy,LP;function cse(){if(LP)return fy;LP=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return fy=e,fy}var hy,jP;function lse(){if(jP)return hy;jP=1;function e(t){return this.__data__.get(t)}return hy=e,hy}var py,FP;function use(){if(FP)return py;FP=1;function e(t){return this.__data__.has(t)}return py=e,py}var my,UP;function JG(){if(UP)return my;UP=1;var e=typeof hl=="object"&&hl&&hl.Object===Object&&hl;return my=e,my}var gy,BP;function Di(){if(BP)return gy;BP=1;var e=JG(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return gy=n,gy}var _y,GP;function _u(){if(GP)return _y;GP=1;var e=Di(),t=e.Symbol;return _y=t,_y}var vy,WP;function dse(){if(WP)return vy;WP=1;var e=_u(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),c=o[i];try{o[i]=void 0;var l=!0}catch(d){}var u=r.call(o);return l&&(a?o[i]=c:delete o[i]),u}return vy=s,vy}var yy,qP;function fse(){if(qP)return yy;qP=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return yy=n,yy}var by,VP;function vu(){if(VP)return by;VP=1;var e=_u(),t=dse(),n=fse(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return by=o,by}var Cy,$P;function Li(){if($P)return Cy;$P=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Cy=e,Cy}var Ey,HP;function XG(){if(HP)return Ey;HP=1;var e=vu(),t=Li(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var c=e(a);return c==r||c==i||c==n||c==s}return Ey=o,Ey}var Sy,zP;function hse(){if(zP)return Sy;zP=1;var e=Di(),t=e["__core-js_shared__"];return Sy=t,Sy}var Oy,YP;function pse(){if(YP)return Oy;YP=1;var e=hse(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Oy=n,Oy}var Ty,KP;function QG(){if(KP)return Ty;KP=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch(i){}try{return r+""}catch(i){}}return""}return Ty=n,Ty}var wy,JP;function mse(){if(JP)return wy;JP=1;var e=XG(),t=pse(),n=Li(),r=QG(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,c=o.toString,l=a.hasOwnProperty,u=RegExp("^"+c.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?u:s;return h.test(r(f))}return wy=d,wy}var Ay,XP;function gse(){if(XP)return Ay;XP=1;function e(t,n){return t==null?void 0:t[n]}return Ay=e,Ay}var xy,QP;function Nc(){if(QP)return xy;QP=1;var e=mse(),t=gse();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return xy=n,xy}var Iy,ZP;function vA(){if(ZP)return Iy;ZP=1;var e=Nc(),t=Di(),n=e(t,"Map");return Iy=n,Iy}var Ny,ek;function p_(){if(ek)return Ny;ek=1;var e=Nc(),t=e(Object,"create");return Ny=t,Ny}var Ry,tk;function _se(){if(tk)return Ry;tk=1;var e=p_();function t(){this.__data__=e?e(null):{},this.size=0}return Ry=t,Ry}var Py,nk;function vse(){if(nk)return Py;nk=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Py=e,Py}var ky,rk;function yse(){if(rk)return ky;rk=1;var e=p_(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return ky=i,ky}var My,ik;function bse(){if(ik)return My;ik=1;var e=p_(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return My=r,My}var Dy,sk;function Cse(){if(sk)return Dy;sk=1;var e=p_(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return Dy=n,Dy}var Ly,ok;function Ese(){if(ok)return Ly;ok=1;var e=_se(),t=vse(),n=yse(),r=bse(),i=Cse();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Ly=s,Ly}var jy,ak;function Sse(){if(ak)return jy;ak=1;var e=Ese(),t=h_(),n=vA();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return jy=r,jy}var Fy,ck;function Ose(){if(ck)return Fy;ck=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Fy=e,Fy}var Uy,lk;function m_(){if(lk)return Uy;lk=1;var e=Ose();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Uy=t,Uy}var By,uk;function Tse(){if(uk)return By;uk=1;var e=m_();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return By=t,By}var Gy,dk;function wse(){if(dk)return Gy;dk=1;var e=m_();function t(n){return e(this,n).get(n)}return Gy=t,Gy}var Wy,fk;function Ase(){if(fk)return Wy;fk=1;var e=m_();function t(n){return e(this,n).has(n)}return Wy=t,Wy}var qy,hk;function xse(){if(hk)return qy;hk=1;var e=m_();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return qy=t,qy}var Vy,pk;function yA(){if(pk)return Vy;pk=1;var e=Sse(),t=Tse(),n=wse(),r=Ase(),i=xse();function s(o){var a=-1,c=o==null?0:o.length;for(this.clear();++a<c;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Vy=s,Vy}var $y,mk;function Ise(){if(mk)return $y;mk=1;var e=h_(),t=vA(),n=yA(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var c=a.__data__;if(!t||c.length<r-1)return c.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(s,o),this.size=a.size,this}return $y=i,$y}var Hy,gk;function bA(){if(gk)return Hy;gk=1;var e=h_(),t=ase(),n=cse(),r=lse(),i=use(),s=Ise();function o(a){var c=this.__data__=new e(a);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,Hy=o,Hy}var zy,_k;function Nse(){if(_k)return zy;_k=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return zy=t,zy}var Yy,vk;function Rse(){if(vk)return Yy;vk=1;function e(t){return this.__data__.has(t)}return Yy=e,Yy}var Ky,yk;function ZG(){if(yk)return Ky;yk=1;var e=yA(),t=Nse(),n=Rse();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Ky=r,Ky}var Jy,bk;function Pse(){if(bk)return Jy;bk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Jy=e,Jy}var Xy,Ck;function eW(){if(Ck)return Xy;Ck=1;function e(t,n){return t.has(n)}return Xy=e,Xy}var Qy,Ek;function tW(){if(Ek)return Qy;Ek=1;var e=ZG(),t=Pse(),n=eW(),r=1,i=2;function s(o,a,c,l,u,d){var f=c&r,h=o.length,p=a.length;if(h!=p&&!(f&&p>h))return!1;var m=d.get(o),g=d.get(a);if(m&&g)return m==a&&g==o;var y=-1,v=!0,T=c&i?new e:void 0;for(d.set(o,a),d.set(a,o);++y<h;){var C=o[y],b=a[y];if(l)var O=f?l(b,C,y,a,o,d):l(C,b,y,o,a,d);if(O!==void 0){if(O)continue;v=!1;break}if(T){if(!t(a,function(w,A){if(!n(T,A)&&(C===w||u(C,w,c,l,d)))return T.push(A)})){v=!1;break}}else if(!(C===b||u(C,b,c,l,d))){v=!1;break}}return d.delete(o),d.delete(a),v}return Qy=s,Qy}var Zy,Sk;function nW(){if(Sk)return Zy;Sk=1;var e=Di(),t=e.Uint8Array;return Zy=t,Zy}var eb,Ok;function kse(){if(Ok)return eb;Ok=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return eb=e,eb}var tb,Tk;function CA(){if(Tk)return tb;Tk=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return tb=e,tb}var nb,wk;function Mse(){if(wk)return nb;wk=1;var e=_u(),t=nW(),n=d_(),r=tW(),i=kse(),s=CA(),o=1,a=2,c="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",T=e?e.prototype:void 0,C=T?T.valueOf:void 0;function b(O,w,A,x,N,R,L){switch(A){case v:if(O.byteLength!=w.byteLength||O.byteOffset!=w.byteOffset)return!1;O=O.buffer,w=w.buffer;case y:return!(O.byteLength!=w.byteLength||!R(new t(O),new t(w)));case c:case l:case f:return n(+O,+w);case u:return O.name==w.name&&O.message==w.message;case h:case m:return O==w+"";case d:var D=i;case p:var F=x&o;if(D||(D=s),O.size!=w.size&&!F)return!1;var G=L.get(O);if(G)return G==w;x|=a,L.set(O,w);var z=r(D(O),D(w),x,N,R,L);return L.delete(O),z;case g:if(C)return C.call(O)==C.call(w)}return!1}return nb=b,nb}var rb,Ak;function EA(){if(Ak)return rb;Ak=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return rb=e,rb}var ib,xk;function Mr(){if(xk)return ib;xk=1;var e=Array.isArray;return ib=e,ib}var sb,Ik;function rW(){if(Ik)return sb;Ik=1;var e=EA(),t=Mr();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return sb=n,sb}var ob,Nk;function Dse(){if(Nk)return ob;Nk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return ob=e,ob}var ab,Rk;function iW(){if(Rk)return ab;Rk=1;function e(){return[]}return ab=e,ab}var cb,Pk;function SA(){if(Pk)return cb;Pk=1;var e=Dse(),t=iW(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return cb=s,cb}var lb,kk;function Lse(){if(kk)return lb;kk=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return lb=e,lb}var ub,Mk;function aa(){if(Mk)return ub;Mk=1;function e(t){return t!=null&&typeof t=="object"}return ub=e,ub}var db,Dk;function jse(){if(Dk)return db;Dk=1;var e=vu(),t=aa(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return db=r,db}var fb,Lk;function OA(){if(Lk)return fb;Lk=1;var e=jse(),t=aa(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return fb=s,fb}var md={exports:{}},hb,jk;function Fse(){if(jk)return hb;jk=1;function e(){return!1}return hb=e,hb}md.exports;var Fk;function TA(){return Fk||(Fk=1,(function(e,t){var n=Di(),r=Fse(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,c=a?a.isBuffer:void 0,l=c||r;e.exports=l})(md,md.exports)),md.exports}var pb,Uk;function g_(){if(Uk)return pb;Uk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i==null?e:i,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return pb=n,pb}var mb,Bk;function wA(){if(Bk)return mb;Bk=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return mb=t,mb}var gb,Gk;function Use(){if(Gk)return gb;Gk=1;var e=vu(),t=wA(),n=aa(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",c="[object Function]",l="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",b="[object Int16Array]",O="[object Int32Array]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",x="[object Uint16Array]",N="[object Uint32Array]",R={};R[v]=R[T]=R[C]=R[b]=R[O]=R[w]=R[A]=R[x]=R[N]=!0,R[r]=R[i]=R[g]=R[s]=R[y]=R[o]=R[a]=R[c]=R[l]=R[u]=R[d]=R[f]=R[h]=R[p]=R[m]=!1;function L(D){return n(D)&&t(D.length)&&!!R[e(D)]}return gb=L,gb}var _b,Wk;function __(){if(Wk)return _b;Wk=1;function e(t){return function(n){return t(n)}}return _b=e,_b}var gd={exports:{}};gd.exports;var qk;function AA(){return qk||(qk=1,(function(e,t){var n=JG(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch(l){}})();e.exports=a})(gd,gd.exports)),gd.exports}var vb,Vk;function sW(){if(Vk)return vb;Vk=1;var e=Use(),t=__(),n=AA(),r=n&&n.isTypedArray,i=r?t(r):e;return vb=i,vb}var yb,$k;function oW(){if($k)return yb;$k=1;var e=Lse(),t=OA(),n=Mr(),r=TA(),i=g_(),s=sW(),o=Object.prototype,a=o.hasOwnProperty;function c(l,u){var d=n(l),f=!d&&t(l),h=!d&&!f&&r(l),p=!d&&!f&&!h&&s(l),m=d||f||h||p,g=m?e(l.length,String):[],y=g.length;for(var v in l)(u||a.call(l,v))&&!(m&&(v=="length"||h&&(v=="offset"||v=="parent")||p&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||i(v,y)))&&g.push(v);return g}return yb=c,yb}var bb,Hk;function xA(){if(Hk)return bb;Hk=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return bb=t,bb}var Cb,zk;function aW(){if(zk)return Cb;zk=1;function e(t,n){return function(r){return t(n(r))}}return Cb=e,Cb}var Eb,Yk;function Bse(){if(Yk)return Eb;Yk=1;var e=aW(),t=e(Object.keys,Object);return Eb=t,Eb}var Sb,Kk;function Gse(){if(Kk)return Sb;Kk=1;var e=xA(),t=Bse(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return Sb=i,Sb}var Ob,Jk;function yu(){if(Jk)return Ob;Jk=1;var e=XG(),t=wA();function n(r){return r!=null&&t(r.length)&&!e(r)}return Ob=n,Ob}var Tb,Xk;function bu(){if(Xk)return Tb;Xk=1;var e=oW(),t=Gse(),n=yu();function r(i){return n(i)?e(i):t(i)}return Tb=r,Tb}var wb,Qk;function cW(){if(Qk)return wb;Qk=1;var e=rW(),t=SA(),n=bu();function r(i){return e(i,n,t)}return wb=r,wb}var Ab,Zk;function Wse(){if(Zk)return Ab;Zk=1;var e=cW(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,c,l,u){var d=a&t,f=e(s),h=f.length,p=e(o),m=p.length;if(h!=m&&!d)return!1;for(var g=h;g--;){var y=f[g];if(!(d?y in o:r.call(o,y)))return!1}var v=u.get(s),T=u.get(o);if(v&&T)return v==o&&T==s;var C=!0;u.set(s,o),u.set(o,s);for(var b=d;++g<h;){y=f[g];var O=s[y],w=o[y];if(c)var A=d?c(w,O,y,o,s,u):c(O,w,y,s,o,u);if(!(A===void 0?O===w||l(O,w,a,c,u):A)){C=!1;break}b||(b=y=="constructor")}if(C&&!b){var x=s.constructor,N=o.constructor;x!=N&&"constructor"in s&&"constructor"in o&&!(typeof x=="function"&&x instanceof x&&typeof N=="function"&&N instanceof N)&&(C=!1)}return u.delete(s),u.delete(o),C}return Ab=i,Ab}var xb,eM;function qse(){if(eM)return xb;eM=1;var e=Nc(),t=Di(),n=e(t,"DataView");return xb=n,xb}var Ib,tM;function Vse(){if(tM)return Ib;tM=1;var e=Nc(),t=Di(),n=e(t,"Promise");return Ib=n,Ib}var Nb,nM;function lW(){if(nM)return Nb;nM=1;var e=Nc(),t=Di(),n=e(t,"Set");return Nb=n,Nb}var Rb,rM;function $se(){if(rM)return Rb;rM=1;var e=Nc(),t=Di(),n=e(t,"WeakMap");return Rb=n,Rb}var Pb,iM;function v_(){if(iM)return Pb;iM=1;var e=qse(),t=vA(),n=Vse(),r=lW(),i=$se(),s=vu(),o=QG(),a="[object Map]",c="[object Object]",l="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),p=o(t),m=o(n),g=o(r),y=o(i),v=s;return(e&&v(new e(new ArrayBuffer(1)))!=f||t&&v(new t)!=a||n&&v(n.resolve())!=l||r&&v(new r)!=u||i&&v(new i)!=d)&&(v=function(T){var C=s(T),b=C==c?T.constructor:void 0,O=b?o(b):"";if(O)switch(O){case h:return f;case p:return a;case m:return l;case g:return u;case y:return d}return C}),Pb=v,Pb}var kb,sM;function Hse(){if(sM)return kb;sM=1;var e=bA(),t=tW(),n=Mse(),r=Wse(),i=v_(),s=Mr(),o=TA(),a=sW(),c=1,l="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function p(m,g,y,v,T,C){var b=s(m),O=s(g),w=b?u:i(m),A=O?u:i(g);w=w==l?d:w,A=A==l?d:A;var x=w==d,N=A==d,R=w==A;if(R&&o(m)){if(!o(g))return!1;b=!0,x=!1}if(R&&!x)return C||(C=new e),b||a(m)?t(m,g,y,v,T,C):n(m,g,w,y,v,T,C);if(!(y&c)){var L=x&&h.call(m,"__wrapped__"),D=N&&h.call(g,"__wrapped__");if(L||D){var F=L?m.value():m,G=D?g.value():g;return C||(C=new e),T(F,G,y,v,C)}}return R?(C||(C=new e),r(m,g,y,v,T,C)):!1}return kb=p,kb}var Mb,oM;function IA(){if(oM)return Mb;oM=1;var e=Hse(),t=aa();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return Mb=n,Mb}var Db,aM;function zse(){if(aM)return Db;aM=1;var e=IA();function t(n,r){return e(n,r)}return Db=t,Db}var Yse=zse();const NA=Gt(Yse);function GBe(e){try{const n=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(const i of n)r.push(i.segment);return r}catch(t){return e.split("")}}function Kse(e){const t=[];for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r!==void 0&&(t.push(r),r>65535&&n++)}return t}function Jse(e){const t=e.trim();if("Intl"in window&&"Segmenter"in Intl){const n=navigator.language||"en-US",i=new Intl.Segmenter(n,{granularity:"word"}).segment(t);let s=0;for(const o of i)o.isWordLike&&s++;return s}return t.split(/\s+/).filter(n=>n.length>0).length}function cM(e){return String.fromCodePoint(...e)}function WBe(e){return e.replaceAll(/[\s_]+/g,"-").replaceAll(/([a-z0-9])([A-Z])/g,"$1-$2").replaceAll(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replaceAll(/-+/g,"-").toLowerCase()}let qT;function Xse(){let e;return{promise:new Promise(n=>{e=n}),resolve:e}}const{promise:Qse,resolve:Zse}=Xse();function qBe(e){qT=e,Zse(e)}const lM=1e4;async function y_(){if(qT)return qT;try{return await Promise.race([Qse,new Promise((t,n)=>setTimeout(()=>n(new Error("Aura host initialization timed out")),lM))])}catch(e){throw ql.error("Aura host failed to initialize before whisper request",{timeout_ms:lM,error_message:e&&typeof e=="object"&&"message"in e?e.message:String(e)}),e instanceof Error?e:new Error(String(e))}}async function VBe(){try{return await(await y_()).getHost().getToolNames()}catch(e){return null}}const uM=e=>e;class eoe{static async getTask({taskId:t}){return Z.safeGet("/task/{task_id}",{parameters:{path:{task_id:t}}})}static async cancelTask({taskId:t}){return Z.safePost("/task/cancel",{requestBody:{task_id:t}})}static async answerNowTask({taskId:t}){return Z.safePost("/task/answer_now",{requestBody:{task_id:t}})}static async getTasks({cursor:t}){return Z.safeGet("/tasks",{parameters:{query:{cursor:t!=null?t:null}}})}static async addResultMessage({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return Z.safePost("/task/add_result_message",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}static async interruptTask({taskId:t,prompt:n}){return Z.safePost("/task/interrupt",{requestBody:{task_id:t,prompt:n}})}static async addResultMessageToCanvas({taskId:t,parentConversationId:n,leafNodeToAppendTo:r}){return Z.safePost("/task/add_result_message_to_canvas",{requestBody:{task_id:t,parent_conversation_id:n,leaf_node_to_append_to:r}})}}async function toe(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function noe(e){let t,n,r,i=!1;return function(o){t===void 0?(t=o,n=0,r=-1):t=ioe(t,o);const a=t.length;let c=0;for(;n<a;){i&&(t[n]===10&&(c=++n),i=!1);let l=-1;for(;n<a&&l===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-c);break;case 13:i=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),r),c=n,r=-1}c===a?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function roe(e,t,n){let r=dM();const i=new TextDecoder;return function(o,a){if(o.length===0)n==null||n(r),r=dM();else if(a>0){const c=i.decode(o.subarray(0,a)),l=a+(o[a+1]===32?2:1),u=i.decode(o.subarray(l));switch(c){case"data":r.data=r.data?r.data+"\n"+u:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(r.retry=d);break}}}}function ioe(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function dM(){return{data:"",event:"",id:"",retry:void 0}}var soe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Hm="text/event-stream",ooe=1e3,fM="last-event-id";function aoe(e,t){var{signal:n,headers:r,onopen:i,onmessage:s,onclose:o,onerror:a,openWhenHidden:c,fetch:l}=t,u=soe(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,f)=>{const h=Object.assign({},r);h.accept||(h.accept=Hm);let p;function m(){p.abort(),document.hidden||b()}c||document.addEventListener("visibilitychange",m);let g=ooe,y=0;function v(){document.removeEventListener("visibilitychange",m),window.clearTimeout(y),p.abort()}n==null||n.addEventListener("abort",()=>{v(),d()});const T=l!=null?l:window.fetch,C=i!=null?i:coe;async function b(){var O;p=new AbortController;try{const w=await T(e,Object.assign(Object.assign({},u),{headers:h,signal:p.signal}));await C(w),await toe(w.body,noe(roe(A=>{A?h[fM]=A:delete h[fM]},A=>{g=A},s))),o==null||o(),v(),d()}catch(w){if(!p.signal.aborted)try{const A=(O=a==null?void 0:a(w))!==null&&O!==void 0?O:g;window.clearTimeout(y),y=window.setTimeout(b,A)}catch(A){v(),f(A)}}}b()})}function coe(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(Hm)))throw new Error("Expected content-type to be ".concat(Hm,", Actual: ").concat(t))}var Lb,hM;function loe(){if(hM)return Lb;hM=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Lb=e,Lb}var uoe=loe();const Us=Gt(uoe);var jb,pM;function doe(){if(pM)return jb;pM=1;var e=_u(),t=OA(),n=Mr(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return jb=i,jb}var Fb,mM;function uW(){if(mM)return Fb;mM=1;var e=EA(),t=doe();function n(r,i,s,o,a){var c=-1,l=r.length;for(s||(s=t),a||(a=[]);++c<l;){var u=r[c];i>0&&s(u)?i>1?n(u,i-1,s,o,a):e(a,u):o||(a[a.length]=u)}return a}return Fb=n,Fb}var Ub,gM;function RA(){if(gM)return Ub;gM=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return Ub=e,Ub}var Bb,_M;function sh(){if(_M)return Bb;_M=1;var e=vu(),t=aa(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Bb=r,Bb}var Gb,vM;function PA(){if(vM)return Gb;vM=1;var e=Mr(),t=sh(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return Gb=i,Gb}var Wb,yM;function dW(){if(yM)return Wb;yM=1;var e=yA(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],c=s.cache;if(c.has(a))return c.get(a);var l=r.apply(this,o);return s.cache=c.set(a,l)||c,l};return s.cache=new(n.Cache||e),s}return n.Cache=e,Wb=n,Wb}var qb,bM;function foe(){if(bM)return qb;bM=1;var e=dW(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return qb=n,qb}var Vb,CM;function hoe(){if(CM)return Vb;CM=1;var e=foe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,c,l){s.push(c?l.replace(n,"$1"):a||o)}),s});return Vb=r,Vb}var $b,EM;function poe(){if(EM)return $b;EM=1;var e=_u(),t=RA(),n=Mr(),r=sh(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return $b=o,$b}var Hb,SM;function moe(){if(SM)return Hb;SM=1;var e=poe();function t(n){return n==null?"":e(n)}return Hb=t,Hb}var zb,OM;function b_(){if(OM)return zb;OM=1;var e=Mr(),t=PA(),n=hoe(),r=moe();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return zb=i,zb}var Yb,TM;function oh(){if(TM)return Yb;TM=1;var e=sh();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Yb=t,Yb}var Kb,wM;function C_(){if(wM)return Kb;wM=1;var e=b_(),t=oh();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return Kb=n,Kb}var Jb,AM;function goe(){if(AM)return Jb;AM=1;var e=bA(),t=IA(),n=1,r=2;function i(s,o,a,c){var l=a.length,u=l,d=!c;if(s==null)return!u;for(s=Object(s);l--;){var f=a[l];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++l<u;){f=a[l];var h=f[0],p=s[h],m=f[1];if(d&&f[2]){if(p===void 0&&!(h in s))return!1}else{var g=new e;if(c)var y=c(p,m,h,s,o,g);if(!(y===void 0?t(m,p,n|r,c,g):y))return!1}}return!0}return Jb=i,Jb}var Xb,xM;function fW(){if(xM)return Xb;xM=1;var e=Li();function t(n){return n===n&&!e(n)}return Xb=t,Xb}var Qb,IM;function _oe(){if(IM)return Qb;IM=1;var e=fW(),t=bu();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return Qb=n,Qb}var Zb,NM;function hW(){if(NM)return Zb;NM=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Zb=e,Zb}var eC,RM;function voe(){if(RM)return eC;RM=1;var e=goe(),t=_oe(),n=hW();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return eC=r,eC}var tC,PM;function yoe(){if(PM)return tC;PM=1;var e=C_();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return tC=t,tC}var nC,kM;function boe(){if(kM)return nC;kM=1;function e(t,n){return t!=null&&n in Object(t)}return nC=e,nC}var rC,MM;function Coe(){if(MM)return rC;MM=1;var e=b_(),t=OA(),n=Mr(),r=g_(),i=wA(),s=oh();function o(a,c,l){c=e(c,a);for(var u=-1,d=c.length,f=!1;++u<d;){var h=s(c[u]);if(!(f=a!=null&&l(a,h)))break;a=a[h]}return f||++u!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(h,d)&&(n(a)||t(a)))}return rC=o,rC}var iC,DM;function pW(){if(DM)return iC;DM=1;var e=boe(),t=Coe();function n(r,i){return r!=null&&t(r,i,e)}return iC=n,iC}var sC,LM;function Eoe(){if(LM)return sC;LM=1;var e=IA(),t=yoe(),n=pW(),r=PA(),i=fW(),s=hW(),o=oh(),a=1,c=2;function l(u,d){return r(u)&&i(d)?s(o(u),d):function(f){var h=t(f,u);return h===void 0&&h===d?n(f,u):e(d,h,a|c)}}return sC=l,sC}var oC,jM;function E_(){if(jM)return oC;jM=1;function e(t){return t}return oC=e,oC}var aC,FM;function Soe(){if(FM)return aC;FM=1;function e(t){return function(n){return n==null?void 0:n[t]}}return aC=e,aC}var cC,UM;function Ooe(){if(UM)return cC;UM=1;var e=C_();function t(n){return function(r){return e(r,n)}}return cC=t,cC}var lC,BM;function Toe(){if(BM)return lC;BM=1;var e=Soe(),t=Ooe(),n=PA(),r=oh();function i(s){return n(s)?e(r(s)):t(s)}return lC=i,lC}var uC,GM;function Cu(){if(GM)return uC;GM=1;var e=voe(),t=Eoe(),n=E_(),r=Mr(),i=Toe();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return uC=s,uC}var dC,WM;function woe(){if(WM)return dC;WM=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),c=a.length;c--;){var l=a[t?c:++s];if(r(o[l],l,o)===!1)break}return n}}return dC=e,dC}var fC,qM;function Aoe(){if(qM)return fC;qM=1;var e=woe(),t=e();return fC=t,fC}var hC,VM;function xoe(){if(VM)return hC;VM=1;var e=Aoe(),t=bu();function n(r,i){return r&&e(r,i,t)}return hC=n,hC}var pC,$M;function Ioe(){if($M)return pC;$M=1;var e=yu();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,c=Object(i);(r?a--:++a<o)&&s(c[a],a,c)!==!1;);return i}}return pC=t,pC}var mC,HM;function mW(){if(HM)return mC;HM=1;var e=xoe(),t=Ioe(),n=t(e);return mC=n,mC}var gC,zM;function Noe(){if(zM)return gC;zM=1;var e=mW(),t=yu();function n(r,i){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(a,c,l){o[++s]=i(a,c,l)}),o}return gC=n,gC}var _C,YM;function Roe(){if(YM)return _C;YM=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return _C=e,_C}var vC,KM;function Poe(){if(KM)return vC;KM=1;var e=sh();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=e(n),c=r!==void 0,l=r===null,u=r===r,d=e(r);if(!l&&!d&&!a&&n>r||a&&c&&u&&!l&&!d||s&&c&&u||!i&&u||!o)return 1;if(!s&&!a&&!d&&n<r||d&&i&&o&&!s&&!a||l&&i&&o||!c&&o||!u)return-1}return 0}return vC=t,vC}var yC,JM;function koe(){if(JM)return yC;JM=1;var e=Poe();function t(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,c=o.length,l=i.length;++s<c;){var u=e(o[s],a[s]);if(u){if(s>=l)return u;var d=i[s];return u*(d=="desc"?-1:1)}}return n.index-r.index}return yC=t,yC}var bC,XM;function Moe(){if(XM)return bC;XM=1;var e=RA(),t=C_(),n=Cu(),r=Noe(),i=Roe(),s=__(),o=koe(),a=E_(),c=Mr();function l(u,d,f){d.length?d=e(d,function(m){return c(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):d=[a];var h=-1;d=e(d,s(n));var p=r(u,function(m,g,y){var v=e(d,function(T){return T(m)});return{criteria:v,index:++h,value:m}});return i(p,function(m,g){return o(m,g,f)})}return bC=l,bC}var CC,QM;function Doe(){if(QM)return CC;QM=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return CC=e,CC}var EC,ZM;function gW(){if(ZM)return EC;ZM=1;var e=Doe(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,c=t(o.length-i,0),l=Array(c);++a<c;)l[a]=o[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=o[a];return u[i]=s(l),e(r,this,u)}}return EC=n,EC}var SC,eD;function Loe(){if(eD)return SC;eD=1;function e(t){return function(){return t}}return SC=e,SC}var OC,tD;function _W(){if(tD)return OC;tD=1;var e=Nc(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch(r){}})();return OC=t,OC}var TC,nD;function joe(){if(nD)return TC;nD=1;var e=Loe(),t=_W(),n=E_(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return TC=r,TC}var wC,rD;function Foe(){if(rD)return wC;rD=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),c=t-(a-o);if(o=a,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return wC=r,wC}var AC,iD;function vW(){if(iD)return AC;iD=1;var e=joe(),t=Foe(),n=t(e);return AC=n,AC}var xC,sD;function Uoe(){if(sD)return xC;sD=1;var e=E_(),t=gW(),n=vW();function r(i,s){return n(t(i,s,e),i+"")}return xC=r,xC}var IC,oD;function Boe(){if(oD)return IC;oD=1;var e=d_(),t=yu(),n=g_(),r=Li();function i(s,o,a){if(!r(a))return!1;var c=typeof o;return(c=="number"?t(a)&&n(o,a.length):c=="string"&&o in a)?e(a[o],s):!1}return IC=i,IC}var NC,aD;function Goe(){if(aD)return NC;aD=1;var e=uW(),t=Moe(),n=Uoe(),r=Boe(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return NC=i,NC}var Woe=Goe();const qoe=Gt(Woe);var Voe=(e=>(e.CANCELLED="cancelled",e.CREATED="created",e.RUNNING="running",e.COMPLETED="completed",e.FAILED="failed",e.FINALIZING="finalizing",e.SKIPPING="skipping",e.UNDETERMINED="undetermined",e))(Voe||{}),yW=(e=>(e.UNKNOWN="unknown",e.RESEARCH="research",e.PRO_MODE="pro_mode",e.THINKING="thinking",e.IMAGE_GEN="image_gen",e))(yW||{});function $oe(e){return e.status==="completed"}function $Be(e){return e.status==="cancelled"||e.status==="failed"}function HBe(e){return e.status==="running"||e.status==="undetermined"||e.status==="created"||e.status==="finalizing"||e.status==="skipping"}function zBe(e){return e.taskId.startsWith("promode_")?"pro_mode":e.taskId.startsWith("thinking_")?"thinking":e.taskId.startsWith("deepresch_")||e.taskId.startsWith("shishito_")?"research":e.taskId.startsWith("imagegen_")?"image_gen":"unknown"}function Hoe(e,t){var s;if(!$oe(e))return null;const n=(s=t.update_time)!=null?s:t.create_time,r=n?new Date(n*1e3):null,i=e.updatedAt?new Date(e.updatedAt):null;return i?r?+i>+r?i:r:i:r}const S_=rr(mu(()=>({tasks:{},taskIdsByConversationId:{},taskStreams:{},researchShareIntent:null}))),Aa=S_.getState,vr=S_.setState,Oo={setTask:(e,t)=>{vr(n=>{var s;n.tasks[e]=t;const r=t.originalConversationId,i=(s=n.taskIdsByConversationId[r])!=null?s:new Set;i.add(e),n.taskIdsByConversationId[r]=i})},setTaskStatus:(e,t)=>{vr(n=>{if(n.tasks[e]){if(n.tasks[e].status==="cancelled")return;n.tasks[e].status=t}})},setTaskMetadataItems:({taskId:e,originalConversationId:t,responseMessageId:n,canvasTextdocId:r})=>{vr(i=>{i.tasks[e]&&(i.tasks[e].originalConversationId=t,i.tasks[e].responseMessageId=n,i.tasks[e].responseCanvasTextdocId=r)})},loadBulkTasks:e=>{vr(t=>{e.forEach(n=>{var o,a,c;const r=t.tasks[n.taskId];t.tasks[n.taskId]=I(S({},n),{rows:(o=r==null?void 0:r.rows)!=null?o:[],finalMessage:(a=r==null?void 0:r.finalMessage)!=null?a:Us(n.messages)});const i=n.originalConversationId,s=(c=t.taskIdsByConversationId[i])!=null?c:new Set;s.add(n.taskId),t.taskIdsByConversationId[i]=s})})},addTaskRow:(e,t)=>{vr(n=>{var s;const r=n.tasks[e];if(r==null)return;const i=[...(s=r.rows)!=null?s:[]];i.find(o=>o.id===t.id)||(i.push(t),r.rows=i)})},setTaskCompleted:(e,t)=>{vr(n=>{var i,s,o;const r=n.tasks[e];r!=null&&(r.status!=="completed"&&(r.collapsed=!0),r.status="completed",r.updatedAt=((i=Hoe(r,t))==null?void 0:i.toString())||r.updatedAt,r.finalMessage=t,r.responseMessageId=(o=(s=t.metadata)==null?void 0:s.response_message_id)!=null?o:t.id)})},setTaskRecentlyCompleted:e=>{vr(t=>{const n=t.tasks[e];n!=null&&(n.notificationStatus||(n.notificationStatus={recentlyCompleted:!0,notificationSent:!1}),n.notificationStatus.recentlyCompleted=!0)})},setTaskNotificationSent:e=>{vr(t=>{var n;(n=t.tasks[e])!=null&&n.notificationStatus&&(t.tasks[e].notificationStatus.notificationSent=!0)})},setResearchShareIntent:e=>{vr(t=>{t.researchShareIntent=e})},setTaskTitle:(e,t)=>{vr(n=>{n.tasks[e]&&(n.tasks[e].title=t)})},async retainTaskStream(e){var o;const n=Aa().taskStreams[e],r=(o=n==null?void 0:n.refCount)!=null?o:0;let i,s=null;r===0&&(i=new AbortController,s=Xoe(e,i)),vr(a=>{var l;const c=i||((l=a.taskStreams[e])==null?void 0:l.abortController);if(!c)throw Error("Missing abort controller");a.taskStreams[e]=I(S({},a.taskStreams[e]),{refCount:r+1,abortController:c})}),s&&await s},releaseTaskStream(e){vr(t=>{const n=t.taskStreams[e];n&&(n.refCount-=1)})},abortTaskStream(e){vr(t=>{const n=t.taskStreams[e];!n||n.refCount||(n.abortController.abort(),delete t.taskStreams[e])})}},cD=[],Ql={getTask:(e,t=Aa())=>t.tasks[e],getAllTasks:(e=Aa())=>Object.values(e.tasks).filter(t=>!!t),getAllTasksOrdered:(e=Aa())=>qoe(Ql.getAllTasks(e),t=>-new Date(t.createdAt)),hasTaskStreamEntry:(e,t=Aa())=>!!t.taskStreams[e],getTaskIdsByConversationId:(e,t=Aa())=>{if(!e)return cD;const n=t.taskIdsByConversationId[e];return!n||n.size===0?cD:Array.from(n)},getResearchShareIntent:(e=Aa())=>e.researchShareIntent};function zoe(e){var r,i,s,o,a;const t=e.task_id;return{conversationId:(r=e.conversation_id)!=null?r:"",taskId:t,title:e.title,prompt:e.prompt,createdAt:e.created_at,updatedAt:e.updated_at,status:e.status,messages:(i=e.messages)!=null?i:[],rows:[],originalConversationId:e.original_conversation_id,responseMessageId:(s=e.response_message_id)!=null?s:void 0,responseCanvasTextdocId:(o=e.response_canvas_textdoc_id)!=null?o:void 0,originalConversationUserMessageId:(a=e.original_conversation_user_message_id)!=null?a:void 0}}function Yoe(e){var t,n,r,i,s,o,a,c,l,u,d;switch(e.type){case"website_open":return{id:e.id,type:"websiteOpen",url:e.url,rowText:e.row_text,activeRowText:e.active_row_text,sanitizedUrl:(t=e.sanitized_url)!=null?t:null,created_at:(n=e.created_at)!=null?n:null};case"summary":return{id:e.id,type:"summary",title:e.title,summary:(r=e.summary)!=null?r:null,message:(i=e.message)!=null?i:null,created_at:(s=e.created_at)!=null?s:null};case"search":return{id:e.id,type:"search",query:(o=e.query)!=null?o:null,created_at:(a=e.created_at)!=null?a:null,urls:(c=e.urls)!=null?c:null};case"python_analysis":return{id:e.id,type:"pythonAnalysis",analysisSummary:(l=e.analysis_summary)!=null?l:null,created_at:(u=e.created_at)!=null?u:null};case"file_open":return{id:e.id,type:"fileOpen",fileName:e.file_name,iconType:e.icon_type,fileExt:e.file_ext,rowText:e.row_text,activeRowText:e.active_row_text,created_at:(d=e.created_at)!=null?d:null}}}function YBe(){const e=ta({queryKey:["fetch-tasks"],queryFn:async({pageParam:t})=>{const n=await eoe.getTasks({cursor:t});return Oo.loadBulkTasks(n.tasks.map(r=>zoe(r)).filter(r=>r!==null)),n},initialPageParam:null,getNextPageParam:({cursor:t})=>t!=null?t:null,enabled:!0});return{isLoading:e.isLoading,isFetching:e.isFetching}}const Koe=30,Joe=30;async function Xoe(e,t){if(Ql.hasTaskStreamEntry(e))return!1;const r=hA();r["content-type"]="application/json";let i=0,s=0;return aoe("".concat(Je,"/tasks/").concat(e,"/stream"),{headers:r,signal:t.signal,openWhenHidden:!0,onopen:async o=>{if(!(o.ok&&o.headers.get("content-type")===Hm))if(i<Koe)i++;else throw new Error("Failure opening stream")},onmessage(o){const a=JSON.parse(o.data);if(a.task_status)Oo.setTaskStatus(a.task_id,a.task_status);else if(a.final_message)Oo.setTaskCompleted(e,a.final_message),a.was_recently_completed&&Oo.setTaskRecentlyCompleted(e);else if(a.row){const c=Yoe(a.row);c&&Oo.addTaskRow(e,c)}else a.title&&Oo.setTaskTitle(e,a.title)},onerror(o){if(s<Joe){s++;return}throw t.abort(),o},onclose(){}}),!0}function KBe(e){"use forget";const t=Y.c(3);let n,r;t[0]!==e?(n=()=>{if(e)return Oo.retainTaskStream(e),()=>{Oo.releaseTaskStream(e)}},r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),E.useEffect(n,r)}function JBe(e){"use forget";const t=Y.c(2);let n;return t[0]!==e?(n=i=>Ql.getTaskIdsByConversationId(e,i).map(s=>Ql.getTask(s,i)).filter(Zoe).filter(Qoe),t[0]=e,t[1]=n):n=t[1],S_(n)}function Qoe(e){return e.status==="created"||e.status==="running"||e.status==="finalizing"}function Zoe(e){return e!==void 0}function XBe(e){"use forget";const t=Y.c(2);let n;return t[0]!==e?(n=i=>Ql.getTaskIdsByConversationId(e,i).map(s=>Ql.getTask(s,i)).filter(eae),t[0]=e,t[1]=n):n=t[1],S_(n)}function eae(e){return e!==void 0}var ah=(e=>(e.ContentOrTos="content_or_tos",e.ContentPolicy="content_policy",e.BioSafetyContentPolicy="bio_safety_content_policy",e.ModelIncompatibility="model_incompatibility",e.ContentRegurgitation="content_regurgitation",e))(ah||{});const tae={errType:"warning",errCode:"content_policy"},nae={errType:"danger",errCode:"model_incompatibility"},rae={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy"},iae={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy",shouldDisableConversation:!0},sae={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1},oae={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1,shouldDisableConversation:!0},aae=(e,t)=>!e.length||t?null:{disclaimers:e},cae=({isSafetyLimited:e,shouldDisableConversation:t,isModelIncompatibility:n})=>e?t?oae:sae:t?iae:n?nae:rae;class lae{isMultimodalTextMessage(t){return t.content.content_type===qe.MultimodalText}isPartAssetPointer(t){return typeof t!="string"&&(t.content_type===Bn.ImageAssetPointer||t.content_type===Bn.AudioAssetPointer)}isBase64ImagePart(t){return typeof t!="string"&&t.content_type===Bn.Image}isPartRealTimeUserAudioVideoAssetPointer(t){return typeof t!="string"&&t.content_type===Bn.RealTimeUserAudioVideoAssetPointer}isPartAudioTranscription(t){return typeof t!="string"&&t.content_type===Bn.AudioTranscription}getAudio(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>typeof n!="string"&&n.content_type===Bn.Audio):[]}getAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>this.isPartAssetPointer(n)):[]}getImageAssetPointers(t){return this.isMultimodalTextMessage(t)?this.getImageAssetPointersFromParts(t.content.parts):[]}getImageAssetPointersFromParts(t){return t.filter(n=>this.isPartAssetPointer(n)&&n.content_type===Bn.ImageAssetPointer)}getFrameAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>{if(typeof n!="string"&&n.content_type===Bn.RealTimeUserAudioVideoAssetPointer)return n.frames_asset_pointers}).filter(n=>!!n):[]}getAudioAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n!="string")switch(n.content_type){case Bn.AudioAssetPointer:return n;case Bn.RealTimeUserAudioVideoAssetPointer:return n.audio_asset_pointer;default:return}}).filter(n=>!!n):[]}getVideoContainerAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>typeof n!="string"&&n.content_type===Bn.RealTimeUserAudioVideoAssetPointer?n.video_container_asset_pointer:null).filter(n=>!!n):[]}getImageOperationFileIds(t){var r,i,s,o,a,c,l;const n=(l=(s=(i=(r=t.metadata)==null?void 0:r.dalle)==null?void 0:i.from_client)==null?void 0:s.operation)!=null?l:(c=(a=(o=t.metadata)==null?void 0:o.generation)==null?void 0:a.from_client)==null?void 0:c.operation;return(n==null?void 0:n.type)==="inpainting"?{operation:"inpainting",originalFileId:n.original_file_id,maskFileId:n.mask_file_id}:(n==null?void 0:n.type)==="transformation"?{operation:"transformation",originalFileId:n.original_file_id}:void 0}getPartsAsString(t,n=!0){return this.isMultimodalTextMessage(t)?t.content.parts.map(r=>{var i;if(typeof r=="string")return r;if(this.isPartAudioTranscription(r))return r.text;if(n){if(this.isPartAssetPointer(r))return'[media pointer="'.concat(r.asset_pointer,'"]');if(this.isPartRealTimeUserAudioVideoAssetPointer(r)){const s=(i=r.audio_asset_pointer)==null?void 0:i.asset_pointer;return s&&'[media pointer="'.concat(s,'"]')}else if(this.isBase64ImagePart(r))return r.payload}else return!1}).filter(Boolean).join("\n"):""}}const kA=new lae,uae=["image_gen"];var ye=(e=>(e[e.no_render=0]="no_render",e[e.BrowseTool=1]="BrowseTool",e[e.Browsing=2]="Browsing",e[e.CanmoreTool=3]="CanmoreTool",e[e.Container=4]="Container",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.CodeInterpreterTool=6]="CodeInterpreterTool",e[e.Dalle=7]="Dalle",e[e.DalleTool=8]="DalleTool",e[e.GizmoEditor=9]="GizmoEditor",e[e.JITPlugin=10]="JITPlugin",e[e.JITPluginTool=11]="JITPluginTool",e[e.JITPluginGoogleTool=12]="JITPluginGoogleTool",e[e.DILWidget=13]="DILWidget",e[e.APIToolElicitation=14]="APIToolElicitation",e[e.ImagePreloadTool=15]="ImagePreloadTool",e[e.ModelEditableContext=16]="ModelEditableContext",e[e.MultimodalText=17]="MultimodalText",e[e.ParallelBrowsing=18]="ParallelBrowsing",e[e.ParallelBrowsingTool=19]="ParallelBrowsingTool",e[e.RetrievalBrowsing=20]="RetrievalBrowsing",e[e.RetrievalBrowsingTool=21]="RetrievalBrowsingTool",e[e.SearchResultTool=22]="SearchResultTool",e[e.SearchGPTQuery=23]="SearchGPTQuery",e[e.System=24]="System",e[e.SystemContent=25]="SystemContent",e[e.DeveloperContent=26]="DeveloperContent",e[e.Text=27]="Text",e[e.StructuredThoughts=28]="StructuredThoughts",e[e.ReasoningRecap=29]="ReasoningRecap",e[e.UserEditableContext=30]="UserEditableContext",e[e.UserModelBio=31]="UserModelBio",e[e.UserModelBioTool=32]="UserModelBioTool",e[e.Unknown=33]="Unknown",e[e.de1d73e=34]="de1d73e",e[e.a8km123=35]="a8km123",e[e.f959b8c=36]="f959b8c",e[e.b1de6e2_c=37]="b1de6e2_c",e[e.b1de6e2_s=38]="b1de6e2_s",e[e.b1de6e2_d=39]="b1de6e2_d",e[e.b1de6e2_rm=40]="b1de6e2_rm",e[e.l1p9k3u=41]="l1p9k3u",e[e.l1239dk1=42]="l1239dk1",e[e.l1239dk2=43]="l1239dk2",e[e.is_loading_message=44]="is_loading_message",e[e.b47u8ra0_t=45]="b47u8ra0_t",e[e.oiw209h=46]="oiw209h",e[e.oiw209h_c=47]="oiw209h_c",e[e.t2uay3k=48]="t2uay3k",e[e.t2uay3k_c=49]="t2uay3k_c",e[e.Oboe=50]="Oboe",e[e.UserSettings=51]="UserSettings",e[e.UserSettingsTool=52]="UserSettingsTool",e[e.CoTSearchToolCall=53]="CoTSearchToolCall",e[e.CoTSearchToolResult=54]="CoTSearchToolResult",e[e.n7jupd_c=55]="n7jupd_c",e[e.n7jupd_r=56]="n7jupd_r",e[e.n7jupd_t=57]="n7jupd_t",e[e.n7jupd_m=58]="n7jupd_m",e[e.n7jupd_x=59]="n7jupd_x",e[e.n7jupd_a=60]="n7jupd_a",e[e.n7jupd_n=61]="n7jupd_n",e[e.n7jupd_p=62]="n7jupd_p",e[e.n7jupd_image_gen=63]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=64]="n7jupd_native_api_tool",e[e.Mercury=65]="Mercury",e[e.PIMBlock=66]="PIMBlock",e[e.Mochi=67]="Mochi",e[e.SuperWidget=68]="SuperWidget",e[e.Croquette=69]="Croquette",e[e.kaur1br5=70]="kaur1br5",e[e.e1ld0dvz=71]="e1ld0dvz",e[e.Glaux=72]="Glaux",e[e.Strix=73]="Strix",e[e.async_task_result_message=74]="async_task_result_message",e))(ye||{}),kd=(e=>(e.BROWSER="browser",e.CANMORE="canmore",e.MTBROWSER="mtbrowser",e.WIKI_BROWSER="wiki_browser",e.MYFILES_BROWSER="myfiles_browser",e.FILE_SEARCH="file_search",e.GDRIVE_BROWSER="gdrive_browser",e.BROWSING_TEAM="browsing_team",e.BIO="bio",e.PYTHON="python",e.DALLE="dalle",e.GIZMO_EDITOR="gizmo_editor",e.JIT_PLUGIN="jit_plugin",e.SEARCH_RESULT="search_result",e.SEARCH_RESULTS="search_results",e.A8KM123="a8km123",e.SEARCHGPT="web",e.SEARCH_COT="web.run",e.DE1D73E="de1d73e",e.L1P9K3U="l1p9k3u",e.L1239DK1="l1239dk1",e.CONTAINER="container",e.COMPUTER="computer",e.MERCURY="mercury",e.OIW209H="oiw209h",e.T2UAY3K="t2uay3k",e.G9X2M5N="g9x2m5n",e.START_RESEARCH_TASK="research_kickoff_tool.start_research_task",e.CLARIFY_WITH_TEXT="research_kickoff_tool.clarify_with_text",e.ADVANCED_VOICE="advanced_voice",e.OBOE="oboe",e.IMAGE_GEN_HALLUCINATED="image_gen",e.USER_SETTINGS="user_settings",e.USER_SETTINGS_TOOL="user_settings_tool",e.n7jupd_m="n7jupd.metadata",e.IMAGEGEN_MAKE_IMAGE="imagegen.make_image",e.SUPER_WIDGET="super_widget",e.E1LD0DVZ="e1ld0dvz",e))(kd||{});function lD(e){return e&&[4202148095,653746659,45870204,111655449].some(t=>Po(t,e))}function dae(e){var i;const t=VT(e.author.name),n=t==null?void 0:t.namespace,r=["browser","container","computer"];return((i=e.metadata)==null?void 0:i.n7jupd_message)&&r.includes(n)&&e.content.content_type===qe.Text}function fae(e,t){return e&&Po(t,e.split(".")[0])}function us(e){var n,r,i,s,o,a,c,l,u,d,f,h,p,m,g,y,v,T,C,b,O,w,A,x,N,R,L,D,F,G,z,V,M,te,$,se,me,Ce,J,K,ne,X,ee,ve,ue,oe,be,Ae,He,Ne,ge,he;if(e.recipient==="api_tool")return 0;if((n=e.metadata)!=null&&n.elicitation_metadata)return 14;if((r=e.metadata)!=null&&r.n7jupd_subtool&&((i=e.metadata.n7jupd_subtool.subtool)!=null&&i.includes("api_tool")||(s=e.metadata.n7jupd_subtool.result_of_subtool)!=null&&s.includes("api_tool")))return 60;if((o=e.metadata)!=null&&o.n7jupd_message&&((a=e.recipient)!=null&&a.includes("api_tool")||(l=(c=e.author)==null?void 0:c.name)!=null&&l.includes("api_tool"))&&!e.metadata.chatgpt_sdk&&!e.metadata.jit_plugin_data)return 64;if((u=e.metadata)!=null&&u.is_pim_warning)return 66;if((d=e.metadata)!=null&&d.n7jupd_message&&e.content.content_type===qe.StructuredThoughts)return 57;if((f=e.metadata)!=null&&f.is_auto_proceed_message)return 62;if((h=e.metadata)!=null&&h.is_takeover_ended_message)return 61;if((m=(p=e.metadata)==null?void 0:p.chatgpt_sdk)!=null&&m.dil||(v=(y=(g=e.metadata)==null?void 0:g.chatgpt_sdk)==null?void 0:y.tool_response_metadata)!=null&&v.kakao_widget)return 13;if(e.content.content_type===qe.StructuredThoughts)return e.author.name==="mercury"?65:28;if(e.content.content_type===qe.ReasoningRecap)return 29;if((T=e.metadata)!=null&&T.b1de6e2_c)return 37;if(e.recipient==="l1p9k3u"||e.author.name==="l1p9k3u")return 41;if(e.author.name==="l1239dk1"||e.recipient==="l1239dk1")return 42;if((C=e.author.name)!=null&&C.startsWith("container"))return Po(3061204740,e.author.name)&&((b=e==null?void 0:e.metadata)!=null&&b.n7jupd_message)?6:4;if(e.author.role===Ke.Assistant&&((O=e.metadata)==null?void 0:O.async_task_id)!=null&&((w=e.metadata)==null?void 0:w.async_task_turn_id)!=null)return 43;if((A=e.metadata)!=null&&A.b1de6e2_s||e.recipient==="research_kickoff_tool.start_research_task")return 38;if((x=e.metadata)!=null&&x.b1de6e2_d)return 39;if((N=e.metadata)!=null&&N.b1de6e2_rm)return 40;if((R=e.metadata)!=null&&R.is_async_task_result_message)return 74;if((L=e.metadata)!=null&&L.is_loading_message)return 44;if((D=e.metadata)!=null&&D.b47u8ra0_t)return 45;if((F=e.metadata)!=null&&F.f959b8c)return 36;if((G=e.recipient)!=null&&G.startsWith("e1ld0dvz")||(z=e.author.name)!=null&&z.startsWith("e1ld0dvz"))return 71;if(lD(e.author.name)||lD(e.recipient)||dae(e))return 0;const t="kaur1br5";if((V=e.recipient)!=null&&V.startsWith(t)||(M=e.author.name)!=null&&M.startsWith(t))return 70;if(e.author.role===Ke.Assistant&&fae(e.recipient,724319625))return 55;if(e.content.content_type===qe.ComputerOutput)return 56;if(e.author.role===Ke.Assistant){if(uae.some(Qe=>{var Re;return(Re=e.recipient)==null?void 0:Re.startsWith(Qe)}))return 33;const j=VT(e.recipient);if(e.recipient==="browser"||e.recipient==="wiki_browser"||(j==null?void 0:j.namespace)==="mtbrowser")return 2;if(e.recipient==="web"||(te=e.recipient)!=null&&te.startsWith("web."))return 23;if(e.recipient==="web.run"&&((me=(se=($=e==null?void 0:e.metadata)==null?void 0:$.search_queries)==null?void 0:se.length)!=null?me:0)>0)return 53;if(e.recipient==="myfiles_browser"||e.recipient==="gdrive_browser"||(j==null?void 0:j.namespace)==="file_search"||(j==null?void 0:j.namespace)==="myfiles_browser")return 20;if(e.recipient==="browsing_team")return 18;if(e.recipient==="bio")return 31;if(e.recipient==="python")return 5;if((Ce=e==null?void 0:e.metadata)!=null&&Ce.n7jupd_message&&(Po(3179801956,e.recipient)||Po(3061204740,e.recipient)))return 5;if((j==null?void 0:j.namespace)==="dalle"||e.recipient==="dalle")return 7;if((j==null?void 0:j.namespace)==="t2uay3k"||e.recipient==="t2uay3k")return 48;if((j==null?void 0:j.namespace)==="g9x2m5n")return 0;if((j==null?void 0:j.namespace)==="oiw209h"||e.recipient==="oiw209h")return 46;if((j==null?void 0:j.namespace)==="gizmo_editor")return 9;if((j==null?void 0:j.namespace)==="container")return 4;if((j==null?void 0:j.namespace)==="canmore")return 3;if((j==null?void 0:j.namespace)==="de1d73e")return 34;if((j==null?void 0:j.namespace)==="user_settings"||(j==null?void 0:j.namespace)==="user_settings_tool"||e.recipient==="user_settings"||e.recipient==="user_settings_tool")return 51;if(!RC(j==null?void 0:j.namespace)){if(lp(j==null?void 0:j.namespace)&&((J=e.metadata)==null?void 0:J.api_tool_type)==="glaux")return 72;if(uD(j==null?void 0:j.namespace)||lp(j==null?void 0:j.namespace)||dD(j==null?void 0:j.namespace))return 10;if(j!=null)return 33;if(e.content.content_type===qe.ModelEditableContext)return 16}}else if(e.author.role===Ke.Tool){const j=VT(e.author.name);if(e.author.name==="browser"||e.author.name==="wiki_browser"||(j==null?void 0:j.namespace)==="mtbrowser")return 1;if(e.author.name==="myfiles_browser"||e.author.name==="gdrive_browser"||e.author.name==="file_search"||(j==null?void 0:j.namespace)==="file_search"||(j==null?void 0:j.namespace)==="myfiles_browser")return 21;if(e.author.name==="browsing_team")return 19;if(e.author.name==="web.run"&&((X=(ne=(K=e==null?void 0:e.metadata)==null?void 0:K.search_result_groups)==null?void 0:ne.length)!=null?X:0)>0)return 54;if(e.author.name==="search_result"&&e.content.content_type===qe.TetherQuote)return 22;if(e.author.name==="search_results"&&e.content.content_type===qe.TetherBrowsingDisplay)return 15;if(e.author.name==="bio")return 32;if(e.author.name==="a8km123")return 35;if(e.author.name==="python")return 6;if(Po(3179801956,e.author.name))return 6;if((j==null?void 0:j.namespace)==="dalle"||e.author.name==="dalle")return 8;if((j==null?void 0:j.namespace)==="t2uay3k"||e.author.name==="image_gen")return 49;if((ee=e.metadata)!=null&&ee.image_gen_async)return 48;if((j==null?void 0:j.namespace)==="g9x2m5n")return 0;if((j==null?void 0:j.namespace)==="gizmo_editor")return 9;if((j==null?void 0:j.namespace)==="canmore")return 3;if((j==null?void 0:j.namespace)==="user_settings"||(j==null?void 0:j.namespace)==="user_settings_tool"||e.author.name==="user_settings"||e.author.name==="user_settings_tool")return 52;if(!(RC(j==null?void 0:j.namespace)||RC(e.author.name))){if(lp(j==null?void 0:j.namespace)&&((ve=e.metadata)==null?void 0:ve.api_tool_type)==="glaux")return 72;if(uD(j==null?void 0:j.namespace)||lp(j==null?void 0:j.namespace)||(ue=e.author.name)!=null&&ue.startsWith("api_tool"))return 11;if(dD(j==null?void 0:j.namespace))return 12;if((j==null?void 0:j.namespace)==="de1d73e")return 34;if((j==null?void 0:j.namespace)==="oiw209h")return 47;if((oe=e.author.name)!=null&&oe.startsWith("web."))return 24;if(e.author.name==="research_kickoff_tool.start_research_task")return 38;if(e.author.name==="research_kickoff_tool.clarify_with_text")return 0;if(e.author.name==="n7jupd.metadata")return 58;if(e.author.name==="imagegen.make_image")return 63;if((j==null?void 0:j.namespace)==="browser")return 59;if(e.author.name==="mercury")return 65;if(e.author.name==="super_widget")return 68;if(j!=null||e.author.name==="plugin_service")return hae(e)}}else{if(e.author.role===Ke.System||e.author.role===Ke.Developer)return(be=e.metadata)!=null&&be.n7jupd_message?24:(He=(Ae=e.metadata)==null?void 0:Ae.exclusive_key)!=null&&He.startsWith("widget_state")||(Ne=e.metadata)!=null&&Ne.rebase_system_message||e.content.content_type===qe.SystemMessage||e.content.content_type===qe.SystemContent?25:(ge=e.metadata)!=null&&ge.rebase_developer_message||e.content.content_type===qe.DeveloperContent?26:24;if(e.author.role===Ke.User&&(e.content.content_type===qe.UserEditableContext||(he=e.metadata)!=null&&he.is_user_system_message))return 30}return e.content.content_type===qe.Text||e.content.content_type===qe.MultimodalText?27:33}function hae(e){return e.create_time&&e.create_time>17172e5?Q.addError("[Unknown tool] Encountered a message with an unknown tool. Rendering as Unknown message type, which is not visible.",{message:e}):Q.addError("[Unknown tool] Encountered a message with an unknown tool, which is most likely an old plugin. Rendering as Unknown message type, which may not appear as expected.",{message:e}),33}function QBe(e){var t;return((t=e.metadata)==null?void 0:t.finish_details)!=null}function O_(e){return e.content.content_type===qe.Text?e.content.parts.some(t=>t.length>0):e.content.content_type===qe.MultimodalText?kA.getPartsAsString(e).length>0:!1}function pae(e){const t=e.author.role===Ke.User,n=e.metadata&&"s2s_stream_sequence"in e.metadata,r=e.content.content_type===qe.MultimodalText&&e.content.parts.some(i=>typeof i!="string"&&i.content_type===Bn.AudioTranscription);return t&&n&&r}function bW(e){var t;return O_(e)?!0:"text"in e.content?e.content.text.length>0:"result"in e.content?e.content.result.length>0:!!((t=e.clientMetadata)!=null&&t.errCode&&Object.values(ah).some(n=>{var r;return n===((r=e.clientMetadata)==null?void 0:r.errCode)}))}function ZBe(e){var t,n;return e.author.name==="a8km123"||((t=e.metadata)==null?void 0:t.reasoning_status)||((n=e.metadata)==null?void 0:n.is_visually_hidden_from_conversation)}function mae(e){var t,n,r,i,s,o,a;if(e.author.name==="a8km123"&&((t=e.metadata)!=null&&t.async_task_id))return!0;if(!MA(e))return!1;switch(e.content.content_type){case qe.StructuredThoughts:{const{thoughts:c}=e.content;return c.some(l=>{var u,d,f,h,p,m;return((f=(d=(u=l.summary)==null?void 0:u.trim())==null?void 0:d.length)!=null?f:0)>0||((m=(p=(h=l.content)==null?void 0:h.trim())==null?void 0:p.length)!=null?m:0)>0})}case qe.ReasoningRecap:{const{content:c}=e.content;return((r=(n=c==null?void 0:c.trim())==null?void 0:n.length)!=null?r:0)>0}case qe.Code:case qe.ExecutionOutput:case qe.TetherBrowsingCode:{const{text:c}=e.content;return((s=(i=c==null?void 0:c.trim())==null?void 0:i.length)!=null?s:0)>0}case qe.TetherBrowsingDisplay:{const{result:c}=e.content;return((a=(o=c==null?void 0:c.trim())==null?void 0:o.length)!=null?a:0)>0}case qe.ComputerOutput:return!0;case qe.Text:case qe.MultimodalText:return O_(e);default:return!1}}function e6e(e){var t,n;return((n=(t=e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="stop"}function gae(e){var t,n;return((n=(t=e==null?void 0:e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="max_tokens"}function t6e(e){var t,n;return((n=(t=e.metadata)==null?void 0:t.finish_details)==null?void 0:n.type)==="interrupted"}function _ae(e){var t;return((t=e.metadata)==null?void 0:t.message_type)==="continue"}function VT(e){if(e==null||!e.includes("."))return null;const[t,n]=e.split(".");return{namespace:t,functionName:n}}function vae(e,t){return{id:dr(),author:{role:Ke.System},content:{content_type:qe.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function n6e(e,t,n,r=dr()){return{id:r,author:{role:Ke.Assistant},content:{content_type:qe.Text,parts:Array.isArray(e)?e:[e]},metadata:t,clientMetadata:n}}function yae(e,t,n){const r={role:Ke.User};return n&&(r.metadata=n),{id:dr(),author:r,create_time:Date.now()/1e3,content:typeof e=="string"?{content_type:qe.Text,parts:[e]}:e,metadata:t}}function r6e(e){return vae(["The user is referring to this in particular:\n".concat(e)],{exclude_after_next_user_message:!0})}function i6e(e){return yae(e,{is_visually_hidden_from_conversation:!0})}function s6e(e){return{id:dr(),author:{role:Ke.System},content:e,metadata:{rebase_system_message:!0},recipient:"all"}}function lp(e){return e==="api_tool"||e==="kanzi_app"||e==="scopes"}function RC(e){return!1}function uD(e){if(!e)return!1;const t=e.split("__");return t.findIndex(n=>n==="jit_plugin")===t.length-1}function dD(e){return e==="gmail"||e==="gcal"||e==="gcontacts"}function fD(e){var t;return e.author.role===Ke.Assistant?(t=e.metadata)==null?void 0:t.gizmo_id:void 0}function La(e){var t;return e.author.role===Ke.User&&!((t=e.metadata)!=null&&t.is_user_system_message)}function bae(e){var t;return(t=e.metadata)==null?void 0:t.is_contextual_retry_user_message}function CW(e){var t;return La(e)&&!bae(e)||((t=e.author.metadata)==null?void 0:t.is_system_initiated_conversation)===!0}function MA(e){var t;return((t=e.metadata)==null?void 0:t.reasoning_status)!=null}function Eu(e){var i,s;const t=us(e);return t===24||t===25||t===26||t===31||t===32||t===16||t===30||t===33||!(t===48||t===49)&&!(t===61)&&!((i=e.metadata)!=null&&i.targeted_reply_label)&&((s=e.metadata)==null?void 0:s.is_visually_hidden_from_conversation)===!0}function zm(e){switch(us(e)){case 25:case 26:case 30:case 16:return!0;default:return!1}}function Cae(e){return kA.isMultimodalTextMessage(e)&&e.content.parts.some(t=>typeof t!="string"&&(t.content_type===Bn.VideoAssetPointer||t.content_type===Bn.ImageAssetPointer))}function Ym(e){return!!(Cae(e)||pae(e)||Eae(e)&&bW(e)||mae(e))}function Eae(e){var t,n,r,i,s,o,a,c;if(Eu(e))return!1;if(((r=(n=(t=e.metadata)==null?void 0:t.attachments)==null?void 0:n.length)!=null?r:0)>0||(i=e.metadata)!=null&&i.chatgpt_sdk||(s=e.metadata)!=null&&s.async_completion_id)return!0;if((o=e.metadata)!=null&&o.reasoning_status)return!1;if((a=e.clientMetadata)!=null&&a.errCode&&Object.values(ah).some(l=>{var u;return l===((u=e.clientMetadata)==null?void 0:u.errCode)}))return!0;switch(us(e)){case 27:case 66:return O_(e);case 3:return bW(e);case 48:case 62:case 61:case 5:case 6:case 52:return!0;case 35:return!!((c=e.metadata)!=null&&c.async_task_id);default:return!1}}function Sae(e){var r;if(Eu(e))return!1;const t=us(e),n=O_(e);return t===27?n:!!(n&&t===74&&((r=e.metadata)==null?void 0:r.async_task_type)===yW.PRO_MODE)}function o6e(e){return Eu(e)?!1:us(e)===49&&e.status==="finished_successfully"&&e.recipient==="all"}function a6e(e){const t=e.recipient;return!!t&&(t.includes("image_gen")||t.includes("image_gen")||t.includes("t2uay3k"))}var PC,hD;function EW(){if(hD)return PC;hD=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return PC=e,PC}var kC,pD;function Oae(){if(pD)return kC;pD=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return kC=t,kC}var MC,mD;function Tae(){if(mD)return MC;mD=1;var e=Oae(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return MC=n,MC}var DC,gD;function SW(){if(gD)return DC;gD=1;var e=Tae(),t=Li(),n=sh(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function c(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=s.test(l);return d||o.test(l)?a(l.slice(2),d?2:8):i.test(l)?r:+l}return DC=c,DC}var LC,_D;function wae(){if(_D)return LC;_D=1;var e=SW(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return LC=r,LC}var jC,vD;function Aae(){if(vD)return jC;vD=1;var e=wae();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return jC=t,jC}var FC,yD;function OW(){if(yD)return FC;yD=1;var e=EW(),t=Cu(),n=Aae(),r=Math.max,i=Math.min;function s(o,a,c){var l=o==null?0:o.length;if(!l)return-1;var u=l-1;return c!==void 0&&(u=n(c),u=c<0?r(l+u,0):i(u,l-1)),e(o,t(a,3),u,!0)}return FC=s,FC}var xae=OW();const TW=Gt(xae),Iae="contentReference",wW="writing",c6e=[wW],Nae=e=>{if("render_as"in e&&typeof e.render_as=="string")return e.render_as};function Rae(e,t=[]){const n=T_(t);return DA(n,e,{includeDirectives:!1})}function l6e(e,t=[]){const n=T_(t);return DA(n,e,{includeDirectives:!0})}function u6e(e,t=[],n,r,i=!0,s){var u;const o=T_(t,r);let a=0,c=o.filter(({index:d,displayType:f})=>d!=null&&f).reduce((d,{index:f,newContentReference:h})=>((h.type==="grouped_webpages"||h.type==="grouped_webpages_v2"||h.type==="grouped_webpages_model_predicted_fallback")&&(h.items=h.items.map(p=>I(S({},p),{section_index:a++}))),d[f]=h,d),[]),l=DA(o,e);return i&&(l=Pae(l)),c=kae(s,c),n&&((u=s==null?void 0:s.length)!=null?u:0)===0&&({updatedText:l,updatedReferences:c}=Mae(n,c,l)),{processedText:l,displayedContentReferences:c}}function T_(e=[],t){return[...e.entries()].sort(([,i],[,s])=>i.start_idx-s.start_idx||i.end_idx-s.end_idx).reduce((i,[s,o])=>{var l;let a,c;switch(o.type){case"invalid":case"hidden":a=I(S({},o),{type:"hidden",invalid:o.type==="invalid"});break;case"image_v2":case"nav_list":case"tldr":case"optimistic_image_citation":case"sources_footnote":case"sports_standings":case"sports_schedule":case"navigation":case"checkout_confirmation":case"video":case"file_navlist":o.type==="tldr"&&o.used_as_navigation||o.type==="navigation"?a=I(S({},o),{type:"hidden",invalid:!0}):(c="block",a=S({},o));break;case"file":case"python":case"container":case"title_citation":case"location_search":case"time":case"entity":case"map":case"product_entity":case"grouped_webpages":case"grouped_webpages_v2":case"grouped_webpages_model_predicted_fallback":case"attribution":case"image_inline":case"strix":c="inline",a=S({},o);break;case"webpage":case"webpage_extended":c="inline",a={type:"grouped_webpages",matched_text:o.matched_text,start_idx:o.start_idx,end_idx:o.end_idx,alt:o.alt,refs:o.refs,prompt_text:o.prompt_text,items:[S({},o)],safe_urls:o.safe_urls};break;case"entity_metadata":case"calculator":case"stock":case"forecast":case"businesses_map":case"products":case"product_reviews":case"product_rationale":case"image_group":case"dil":c="block",a=S({},o);break;case"product":{c=((l=Nae(o))!=null?l:"inline")==="table"?"inline":"block",a=S({},o);break}default:a=I(S({},o),{type:"hidden",invalid:!0}),c="alt";break}return i.push({originalContentReference:o,newContentReference:a,index:s,displayType:c}),t&&i.push({originalContentReference:o,newContentReference:S({type:"debug",matched_text:o.matched_text.replace(/(^ã€|ã€‘$)/g,"")},o.type==="webpage_extended"&&o.pub_date&&{pub_date:new Date(o.pub_date*1e3).toLocaleString()}),index:s}),i},[])}const $T="â€‹",d6e="îˆ€";function DA(e,t,n={includeDirectives:!0}){var o,a;let r="",i=0;const s=Kse(t);for(const c of e){const{originalContentReference:l,displayType:u,index:d}=c,{start_idx:f,end_idx:h}=l,p=s.slice(i,f);if(r+=cM(p),i=h,u)if(n.includeDirectives)switch(u){case"block":r+="\n"+HT(d,"leaf")+"\n";break;case"inline":{r.endsWith("```")&&(r+="\n"),r.length!==0&&r[r.length-1].match(/[:\\]/)&&(r+=$T),/https?:\/\/[^\s]*$/.test(r)&&(r+=" "),r+=HT(d,"inline");break}case"alt":r+=(o=l.alt)!=null?o:"";break}else r+=(a=l.alt)!=null?a:""}return r+=cM(s.slice(i)),r}function HT(e,t){const n=t==="leaf"?"::":":";return"".concat(n).concat(Iae,"[oaicite:").concat(e,"]{index=").concat(e,"}")}function Pae(e){let t=e;t=t.replace(/ã€[^ã€‘]*$/g,"");const n=t.match(/(\n|^):::/g);return n&&n.length%2===1&&(t+="\n:::"),t=t.replace(/^\d+$/,""),t}function kae(e,t){return t.map(r=>{var i,s,o,a,c,l,u;if(r.type==="python"){const d=e==null?void 0:e.find(f=>{var h,p;return((p=(h=f.metadata)==null?void 0:h.python_citation)==null?void 0:p.citation_id)===r.citation_id});return I(S({},r),{cited_message:d,highlighted_text:bD((o=(s=(i=d==null?void 0:d.metadata)==null?void 0:i.python_citation)==null?void 0:s.annotated_text)!=null?o:"",r.starting_line,r.ending_line)})}else if(r.type==="container"){const d=e==null?void 0:e.find(f=>{var h,p;return((p=(h=f.metadata)==null?void 0:h.container_citation)==null?void 0:p.citation_id)===r.citation_id});return I(S({},r),{cited_message:d,highlighted_text:bD((u=(l=(c=(a=d==null?void 0:d.metadata)==null?void 0:a.container_citation)==null?void 0:c.annotated_parts)==null?void 0:l.join("\n"))!=null?u:"",r.starting_line,r.ending_line)})}return r})}function Mae(e,t,n){const r=e.find(s=>us(s)===ye.CodeInterpreter),i=e.find(s=>us(s)===ye.CodeInterpreterTool);if(r!=null&&i!=null){const s=t.length;n.endsWith("```")&&(n+="\n"),n+=" "+$T+HT(s,"inline")+$T,t.push({type:"code_execution",codeMessage:r,codeExecutionOutputMessage:i})}return{updatedText:n,updatedReferences:t}}function bD(e,t,n){const r=e.split("\n"),i=r.findIndex(c=>c.startsWith("".concat(t,":"))),s=r.findIndex(c=>c.startsWith("".concat(n,":")));return i===-1||s===-1||s<i?null:r.slice(i,s+1).map(c=>c.replace(/^L\d+:\s*/,"").trim()).join("\n")}function Dae(e,t){var i;if(!t||Object.keys(t).length===0)return e;const n=e.split("\n");let r=!1;for(let s=0;s<n.length;s++){const o=n[s];if(CD(o)){r=!r;continue}if(r)continue;const a=o.trim(),c=Lae(a);if(!c)continue;const l=c.attributes,u=jae(l);if(!u)continue;const d=(i=t[u])==null?void 0:i.content;if(typeof d!="string")continue;let f=s+1;for(;f<n.length;){const m=n[f];if(CD(m)){r=!r,f++;continue}if(!r&&m.trim()===":::")break;f++}if(f>=n.length)continue;const h=d.split("\n"),p=f-(s+1);n.splice(s+1,p,...h),s=s+h.length}return n.join("\n")}function CD(e){return e.trimStart().startsWith("```")}function Lae(e){var r;const t=new RegExp("^:::".concat(wW,"\\{([^}]*)\\}$")),n=e.match(t);return n?{attributes:(r=n[1])!=null?r:""}:null}function jae(e){var r,i,s;const t=/(?:^|\s)id\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s}]+))/,n=e.match(t);if(n)return(s=(i=(r=n[1])!=null?r:n[2])!=null?i:n[3])!=null?s:void 0}function AW(e,t={shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!1}){var n,r,i,s,o;if(t.shouldGetVisibleText&&!Sae(e))return"";switch(e.content.content_type){case qe.Text:{let a=e.content.parts.join("");return(n=e.metadata)!=null&&n.writing_blocks&&(a=Dae(a,e.metadata.writing_blocks)),t.shouldGetTextFromContentReferences&&((r=e.metadata)!=null&&r.content_references)&&(a=Rae(a,e.metadata.content_references)),a}case qe.MultimodalText:return kA.getPartsAsString(e,!t.shouldGetVisibleText);case qe.TetherBrowsingDisplay:return e.content.result;case qe.TetherQuote:case qe.TetherBrowsingCode:case qe.Code:case qe.ExecutionOutput:case qe.SystemError:return e.content.text;case qe.SystemMessage:case qe.SystemContent:return(o=(s=(i=e==null?void 0:e.metadata)==null?void 0:i.__internal)==null?void 0:s.rendered_harmony_string)!=null?o:JSON.stringify(e.content,null,2);case qe.UserEditableContext:return"".concat(e.content.user_profile,"\n").concat(e.content.user_instructions);case qe.SonicWebpage:return"[".concat(e.content.ref_id,"] ").concat(e.content.title," (").concat(e.content.url,")");case qe.StructuredThoughts:return e.content.thoughts.map(a=>"**".concat(a.summary,"**\n\n").concat(a.content)).join("\n\n");case qe.ReasoningRecap:return e.content.content;default:return""}}var UC,ED;function Fae(){if(ED)return UC;ED=1;var e=Cu(),t=yu(),n=bu();function r(i){return function(s,o,a){var c=Object(s);if(!t(s)){var l=e(o,3);s=n(s),o=function(d){return l(c[d],d,c)}}var u=i(s,o,a);return u>-1?c[l?s[u]:u]:void 0}}return UC=r,UC}var BC,SD;function Uae(){if(SD)return BC;SD=1;var e=Fae(),t=OW(),n=e(t);return BC=n,BC}var Bae=Uae();const zp=Gt(Bae),GC=-1;var xW=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.StructuredThoughts=2]="StructuredThoughts",e[e.ReasoningRecap=3]="ReasoningRecap",e[e.Browsing=4]="Browsing",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.JITPlugin=6]="JITPlugin",e[e.DILWidget=7]="DILWidget",e[e.RetrievalBrowsing=8]="RetrievalBrowsing",e[e.ParallelBrowsing=9]="ParallelBrowsing",e[e.Dalle=10]="Dalle",e[e.Canmore=11]="Canmore",e[e.Container=12]="Container",e[e.GizmoEditor=13]="GizmoEditor",e[e.SearchResult=14]="SearchResult",e[e.Debug=15]="Debug",e[e.SearchGPTQuery=16]="SearchGPTQuery",e[e.l1p9k3u=17]="l1p9k3u",e[e.a8km123=18]="a8km123",e[e.f959b8c=19]="f959b8c",e[e.b1de6e2_c=20]="b1de6e2_c",e[e.b1de6e2_s=21]="b1de6e2_s",e[e.b1de6e2_d=22]="b1de6e2_d",e[e.b1de6e2_rm=23]="b1de6e2_rm",e[e.is_loading_message=24]="is_loading_message",e[e.b47u8ra0_t=25]="b47u8ra0_t",e[e.de1d73e=26]="de1d73e",e[e.oiw209h=27]="oiw209h",e[e.t2uay3k=28]="t2uay3k",e[e.Oboe=29]="Oboe",e[e.UserSettings=30]="UserSettings",e[e.CoTSearchTool=31]="CoTSearchTool",e[e.n7jupd=32]="n7jupd",e[e.n7jupd_x=33]="n7jupd_x",e[e.n7jupd_a=34]="n7jupd_a",e[e.n7jupd_n=35]="n7jupd_n",e[e.n7jupd_p=36]="n7jupd_p",e[e.n7jupd_image_gen=37]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=38]="n7jupd_native_api_tool",e[e.APIToolElicitation=39]="APIToolElicitation",e[e.PIMBlock=40]="PIMBlock",e[e.Mochi=41]="Mochi",e[e.SuperWidget=42]="SuperWidget",e[e.Croquette=43]="Croquette",e[e.kaur1br5=44]="kaur1br5",e[e.e1ld0dvz=45]="e1ld0dvz",e[e.Glaux=46]="Glaux",e[e.Strix=47]="Strix",e[e.Mercury=48]="Mercury",e[e.async_task_result_message=49]="async_task_result_message",e))(xW||{});const IW={[ye.StructuredThoughts]:2,[ye.ReasoningRecap]:3,[ye.Browsing]:4,[ye.BrowseTool]:4,[ye.SearchGPTQuery]:16,[ye.RetrievalBrowsing]:8,[ye.RetrievalBrowsingTool]:8,[ye.ParallelBrowsing]:9,[ye.ParallelBrowsingTool]:9,[ye.JITPlugin]:6,[ye.JITPluginTool]:6,[ye.JITPluginGoogleTool]:6,[ye.DILWidget]:7,[ye.Dalle]:10,[ye.DalleTool]:10,[ye.t2uay3k]:28,[ye.t2uay3k_c]:28,[ye.oiw209h]:27,[ye.oiw209h_c]:27,[ye.Container]:12,[ye.CodeInterpreter]:5,[ye.CodeInterpreterTool]:5,[ye.UserSettings]:30,[ye.UserSettingsTool]:30,[ye.a8km123]:18,[ye.f959b8c]:19,[ye.b1de6e2_c]:20,[ye.b1de6e2_s]:21,[ye.b1de6e2_d]:22,[ye.b1de6e2_rm]:23,[ye.async_task_result_message]:49,[ye.l1p9k3u]:17,[ye.is_loading_message]:24,[ye.b47u8ra0_t]:25,[ye.de1d73e]:26,[ye.GizmoEditor]:13,[ye.SearchResultTool]:14,[ye.ImagePreloadTool]:14,[ye.CanmoreTool]:11,[ye.CoTSearchToolCall]:31,[ye.CoTSearchToolResult]:31,[ye.n7jupd_c]:32,[ye.n7jupd_r]:32,[ye.n7jupd_t]:32,[ye.n7jupd_m]:32,[ye.n7jupd_x]:33,[ye.n7jupd_a]:34,[ye.n7jupd_native_api_tool]:38,[ye.n7jupd_n]:35,[ye.n7jupd_p]:36,[ye.kaur1br5]:44,[ye.Mercury]:48,[ye.PIMBlock]:40,[ye.Mochi]:41,[ye.SuperWidget]:42,[ye.Croquette]:43,[ye.n7jupd_image_gen]:37,[ye.e1ld0dvz]:45,[ye.Glaux]:46,[ye.Strix]:47,[ye.APIToolElicitation]:39};function Gae(e){switch(e){case ye.JITPlugin:case ye.Dalle:case ye.t2uay3k:case ye.oiw209h:case ye.DILWidget:case ye.CoTSearchToolCall:case ye.CodeInterpreter:case ye.UserSettings:case ye.PIMBlock:return!0;default:return!1}}function Wae(e,t,n){var r;return(e==null?void 0:e.type)===6&&zm(n)?!0:!e||e.type!==t||Gae(us(n))||e.type===12&&!((r=n.author.name)!=null&&r.startsWith(kd.CONTAINER))?!1:e.type===t}function f6e(e){return IW[us(e)]}function OD(e,t,n){return _i(t,r=>{var c;if(e===Ke.User&&!Ym(n))return r;if(MA(n)){let l;const u=(c=n.metadata)==null?void 0:c.reasoning_group_id;u?l=zp(r,f=>f.type===GC&&f.reasoningGroupId===u):l=Us(r);let d;(l==null?void 0:l.type)===GC?d=l:(d={type:GC,groups:[],reasoningGroupId:u},r.push(d)),r=d.groups}const i=us(n);if(i===ye.no_render)return;const s=IW[i],o=Us(r),a=(o==null?void 0:o.type)!==15?o:zp(r,l=>l.type!==15);i===ye.Text&&((a==null?void 0:a.type)===1||(a==null?void 0:a.type)===0)&&AW(n)!=null&&(_ae(n)||gae(a.messages[a.messages.length-1]))?(a.type=1,a.messages.push(n)):s===18&&r.some(l=>l.type===18)?zp(r,u=>u.type===18).messages.push(n):Wae(a,s,n)?a.messages.push(n):r.push({type:s!=null?s:Eu(n)?15:0,messages:[n]})})}function LA(e,t){const n=e.getNodeByIdOrMessageId(t),r=n.id!==e.rootId?LA(e,n.parentId):qae;return Vae(r,n.message)}const qae=Object.freeze([]),Vae=MJ($ae);function $ae(e,t){var s,o,a;const n=[...e],r=Us(n),i=CW(t);if(r&&Hae(r,t)){const c=[...r.messages,t],l=OD(r.role,r.messageGroups,t),u=r.role===Ke.System?TD(t):r.role,d=(s=fD(t))!=null?s:r.gizmoId;let f=r.authorId,h=r.modelSlug;n[n.length-1]=I(S({},r),{messages:c,messageGroups:l,role:u,isPrompt:r.isPrompt||i,gizmoId:d,authorId:f,modelSlug:h,hasDisplayableMessages:r.hasDisplayableMessages||Ym(t),userContinuationRootTurnId:r.userContinuationRootTurnId,userContinuationParentTurnId:r.userContinuationParentTurnId,userContinuationSuccessorTurnId:r.userContinuationSuccessorTurnId})}else{const c=(o=t.clientMetadata)==null?void 0:o.requestId,l=TD(t),u=l===Ke.Assistant&&c&&c!==(r==null?void 0:r.id)?c:t.id,d=Ym(t);let f=null,h=null;if(l===Ke.User&&d){const p=TW(n,m=>m.hasDisplayableMessages);if(p!==-1){const m=n[p];m.role===Ke.User?(f=(a=m.userContinuationRootTurnId)!=null?a:m.id,h=m.id,n[p]=I(S({},m),{userContinuationSuccessorTurnId:u})):(f=u,h=u)}}n.push({id:u,role:l,messages:[t],messageGroups:OD(l,[],t),isPrompt:i,gizmoId:fD(t),hasDisplayableMessages:d,userContinuationRootTurnId:f,userContinuationParentTurnId:h,userContinuationSuccessorTurnId:null})}return n}function TD(e){return zm(e)?Ke.System:e.author.role===Ke.Tool?Ke.Assistant:e.author.role===Ke.Developer?Ke.System:e.author.role}function Hae(e,t){var n,r,i,s,o,a,c,l;if((n=t.metadata)!=null&&n.is_indepth_feedback)return!1;if((r=t.metadata)!=null&&r.async_completion_id){const u=Us(e.messages);return!!((i=u==null?void 0:u.metadata)!=null&&i.async_task_id&&u.metadata.async_task_id===((s=t.metadata)==null?void 0:s.async_task_id))}return(a=(o=Us(e.messages))==null?void 0:o.metadata)!=null&&a.reasoning_status&&((c=t.metadata)!=null&&c.reasoning_status)||e.role===t.author.role?!0:e.role===Ke.User&&t.recipient==="bio"?!1:((l=Us(e.messageGroups))==null?void 0:l.type)===xW.JITPlugin&&zm(t)?!0:zm(t)?e.role===Ke.Root||e.role===Ke.System:Eu(t)||(e.role===Ke.System||e.role===Ke.Developer)&&!e.isPrompt?!0:t.author.role===Ke.Tool?e.role===Ke.Assistant:!1}function zae(){"use forget";const e=Y.c(2),t=zt();let n;return e[0]!==t.pathname?(n=Jae(t.pathname),e[0]=t.pathname,e[1]=n):n=e[1],n}function Yae(e){const n=new URL("http://example.com".concat(e)).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(n)return n[1]}function Kae(e){const t=e.split("-");return t.length>1&&t[0]==="g"?(t==null?void 0:t[1])==="p"?"g-p-".concat(t[2]):"g-".concat(t[1]):e}function Jae(e){const t=Yae(e);if(t)return Kae(t)}const NW=e=>{var t,n;return["models",JSON.stringify({IIM:(t=e==null?void 0:e.IIM)!=null?t:!1,isGizmo:(n=e==null?void 0:e.isGizmo)!=null?n:!1})]},Xae=()=>["gizmo-models"],Qae="models",Zae=1,ece=e=>{var t;return bn({retry:5,enabled:(t=e==null?void 0:e.enabled)!=null?t:!0,queryKey:NW(e),queryFn:async()=>{const n=oi(await Z.safeGet("/models",{authOption:Xt.SendIfAvailable,parameters:{query:{iim:e==null?void 0:e.IIM,is_gizmo:e==null?void 0:e.isGizmo}}}));return rce(n)},placeholderData:e==null?void 0:e.placeholderData})},tce=Ge(e=>Cn(e,nce));function nce(e=!0){return bn({retry:5,enabled:e,queryKey:Xae(),queryFn:async()=>{const t=oi(await Z.safeGet("/models/gpts",{authOption:Xt.SendIfAvailable}));return ice(t)}})}function rce(e){var t,n,r;return{categories:e.categories.concat().reverse().map(sce),groups:(n=(t=e.internal_groups)==null?void 0:t.map(oce))!=null?n:[],defaultModelSlug:(r=e.default_model_slug)!=null?r:null,modelPickerVersion:e.model_picker_version,models:new Map(e.models.map(i=>[i.slug,RW(i)])),title:e.title,secondaryTitle:e.secondary_title}}function ice(e){return{editor:e.editor,model_override:e.model_override}}function RW(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features,enableInfer:e.enable_infer,enableInferOptOut:e.enable_infer_opt_out,reasoningType:e.reasoning_type,configurableThinkingEffort:e.configurable_thinking_effort}}function sce(O){var w=O,{default_model:e,tagline:t,color:n,human_category_name:r,category:i,human_category_short_name:s,human_category_shorter_name:o,subscription_level:a,short_explainer:c,subcategory:l,render_header_type:u,title:d,is_beta:f,is_alpha:h,model_badge:p,supported_features:m,supported_models:g,disabled_by_admin:y,date_updated:v,action_pill_short_name:T,slash_command_enabled:C}=w,b=W(w,["default_model","tagline","color","human_category_name","category","human_category_short_name","human_category_shorter_name","subscription_level","short_explainer","subcategory","render_header_type","title","is_beta","is_alpha","model_badge","supported_features","supported_models","disabled_by_admin","date_updated","action_pill_short_name","slash_command_enabled"]);return S({color:n,tagline:t,defaultModel:e,label:r,shortLabel:s,description:c,shorterLabel:o!=null?o:s,subscriptionLevel:a,categoryId:i,subcategory:l,renderHeaderType:u,isBeta:f,isAlpha:h,modelBadge:p,title:d,supportedFeatures:m,supportedModels:g!=null?g:[],dateUpdated:v,actionPillShortName:T,slashCommandEnabled:C,disabledByAdmin:y!=null?y:!1},b)}function oce({group:e,human_group_name:t,human_group_short_name:n,model_ids:r}){return{group:e,label:t,shortLabel:n,modelIds:r}}const wD=new WeakMap;function ace(e){let t=wD.get(e);if(!t){const n=new Map([...e.models.entries()].filter(([,r])=>r.tags.includes("history_off_approved")));t={models:n,defaultModelSlug:e.defaultModelSlug,categories:e.categories.filter(r=>n.has(r.defaultModel)),groups:e.groups.map(r=>I(S({},r),{modelIds:r.modelIds.filter(i=>n.has(i))})).filter(r=>r.modelIds.length>0)},wD.set(e,t)}return t}const Yp=new BroadcastChannel("plugin_oauth_channel"),h6e=e=>{Yp.postMessage(e)};function AD(){return _.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:_.jsx(yt,{id:"PoPvGE",defaultMessage:"Alpha"})})}const PW=e=>E.createElement("svg",S({width:20,height:20,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M9.5 2.9375V5.5625M9.5 13.4375V16.0625M2.9375 9.5H5.5625M13.4375 9.5H16.0625",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"}),E.createElement("path",{d:"M4.86011 4.85961L6.71627 6.71577M12.2847 12.2842L14.1409 14.1404M4.86011 14.1404L6.71627 12.2842M12.2847 6.71577L14.1409 4.85961",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"})),p6e=Object.freeze(Object.defineProperty({__proto__:null,default:PW},Symbol.toStringTag,{value:"Module"}));function of({className:e}){return _.jsx(PW,{className:_e("motion-safe:animate-spin",e)})}function m6e({className:e}){return _.jsx("div",{className:"flex h-full w-full items-center justify-center",children:_.jsx(of,{className:e})})}function br(e){return e?"":void 0}function cce(e,t){return e.getAttribute(t)!=null}function g6e(e,t,n){kW(e,t,br(n))}function kW(e,t,n){e&&(n!=null?e.setAttribute(t,n):e.removeAttribute(t))}const lce=new Set(["primary"]);function _s(g){var y=g,{children:e,onClick:t,className:n,contentWrapperClassName:r,color:i="primary",label:s,disabled:o=!1,visuallyDisabled:a=!1,loading:c=!1,size:l="medium",fullWidth:u=!1,contentsFullWidth:d=!1,icon:f,iconClassName:h,style:p}=y,m=W(y,["children","onClick","className","contentWrapperClassName","color","label","disabled","visuallyDisabled","loading","size","fullWidth","contentsFullWidth","icon","iconClassName","style"]);var w;const v=a||o||c,T=c||o,C=_e(v&&!lce.has(i)&&"opacity-50",T&&"cursor-not-allowed","btn relative",i==="primary"&&"btn-primary",i==="primary-inverse"&&"btn-primary-inverse",i==="green"&&"btn-green",i==="purple"&&"btn-purple",i==="accent"&&"btn-accent",i==="secondary"&&"btn-secondary",i==="custom"&&"btn-custom",i==="danger"&&"btn-danger",i==="danger-outline"&&"btn-danger-outline",i==="blue"&&"btn-blue",i==="ghost"&&"btn-ghost",l==="small"&&"btn-small",l==="large"&&"btn-large",u&&"w-full",n),b=f?_.jsxs("div",{className:_e("flex w-full","items-center justify-center",r,{"gap-1.5":l==="medium"||l==="large","gap-1":l==="small"}),children:[c?_.jsx(of,{className:_e(e?"-ms-0.5":"-mx-1",l==="small"&&"icon-sm",(l==="medium"||l==="large")&&"icon")}):_.jsx(f,{"aria-label":"",className:_e(e?"-ms-0.5":"-mx-1",l==="small"&&"icon-sm",(l==="medium"||l==="large")&&"icon",h)}),e]}):_.jsxs("div",{className:_e("flex items-center justify-center",r,d&&"w-full"),children:[e,c&&_.jsx(of,{className:_e(l==="small"&&"icon-sm ms-1",(l==="medium"||l==="large")&&"icon ms-1.5")})]});switch(m.as){case"link":case"a":{const O=m,{openNewTab:A}=O,x=W(O,["openNewTab"]);return _.jsx(Rg,I(S({},x),{"aria-label":s,to:(w=m.to)!=null?w:"/",target:A===!0?"_blank":"_self",onClick:t,className:C,"data-visually-disabled":br(v),style:p,children:b}))}default:return _.jsx("button",I(S({className:C,ref:m.ref,"aria-label":s,onClick:t,disabled:T,"data-visually-disabled":br(v)},m),{style:p,children:b}))}}_s.displayName="Button";function uce(){return bB()?8:1}function MW(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function dce(e){return!w_(e)&&!MW(e)}function w_(e){const t="nativeEvent"in e?e.nativeEvent:e;return t.isComposing||t.keyCode===229}function fce(e){const{key:t,currentTarget:n}=e,r=n instanceof HTMLInputElement;return dce(e)&&(t==="Tab"||t==="ArrowDown"||t==="ArrowUp"||t==="ArrowLeft"&&(!r||n.selectionStart===0||n.selectionEnd===0)||t==="ArrowRight"&&(!r||n.selectionEnd===n.selectionStart&&n.selectionStart===n.value.length))}const hce=B(()=>k(()=>import("./dwgk7r4s1fwn35jq.js"),__vite__mapDeps([17,1])),{loading:e=>H(e)}),pce=B(()=>k(()=>import("./lm3g1zm00rp6al39.js").then(e=>e.zD),__vite__mapDeps([3,1,4])),{loading:e=>H(e)}),no=e=>{"use forget";var Qe;const t=Y.c(89),j=e,{as:n,icon:r,trailing:i,highlightTrailing:s,showHighlightTrailing:o,trailingColor:a,label:c,badge:l,secondary:u,className:d,color:f,size:h,active:p,highlighted:m,hasManagedFocus:g,subMenu:y,fillContainer:v,children:T,iconOnly:C,iconAriaLabel:b}=j,O=W(j,["as","icon","trailing","highlightTrailing","showHighlightTrailing","trailingColor","label","badge","secondary","className","color","size","active","highlighted","hasManagedFocus","subMenu","fillContainer","children","iconOnly","iconAriaLabel"]),w=o===void 0?!1:o,A=a===void 0?"tertiary":a,x=h===void 0?"default":h,N=p===void 0?!1:p,R=m===void 0?!1:m,L=g===void 0?!1:g,D=y===void 0?!1:y,F=v===void 0?!1:v,G=C===void 0?!1:C;let z;if(E.isValidElement(T)&&!c&&!l)z=T;else{let Re;t[0]!==c?(Re=c&&_.jsx(gce,{children:c}),t[0]=c,t[1]=Re):Re=t[1];let de;t[2]!==l?(de=l&&_.jsx(_ce,{children:l}),t[2]=l,t[3]=de):de=t[3];let pe;t[4]!==T||t[5]!==Re||t[6]!==de?(pe=_.jsxs("div",{className:"flex min-w-0 grow items-center gap-2.5 group-data-no-contents-gap:gap-0",children:[Re,T,de]}),t[4]=T,t[5]=Re,t[6]=de,t[7]=pe):pe=t[7],z=pe}if(u){let Re;t[8]!==u?(Re=_.jsx("div",{className:"not-group-data-disabled:text-token-text-tertiary leading-dense mb-0.5 text-xs group-data-sheet-item:mt-0.5 group-data-sheet-item:mb-0",children:u}),t[8]=u,t[9]=Re):Re=t[9];let de;t[10]!==z||t[11]!==Re?(de=_.jsxs("div",{className:"min-w-0",children:[z,Re]}),t[10]=z,t[11]=Re,t[12]=de):de=t[12],z=de}if(r){const Re=x==="large"?"icon-lg":"icon";let de;t[13]!==Re?(de=_e("flex items-center justify-center group-disabled:opacity-50 group-data-disabled:opacity-50",Re),t[13]=Re,t[14]=de):de=t[14];let pe;t[15]!==r||t[16]!==b||t[17]!==G?(pe=typeof r!="function"?r:_.jsx(r,{className:"icon","aria-hidden":G?"false":"true","aria-label":G?b:void 0}),t[15]=r,t[16]=b,t[17]=G,t[18]=pe):pe=t[18];let Le;t[19]!==de||t[20]!==pe?(Le=_.jsx("div",{className:de,children:pe}),t[19]=de,t[20]=pe,t[21]=Le):Le=t[21];const ie=!G&&z;let Pe;t[22]!==Le||t[23]!==ie?(Pe=_.jsxs(_.Fragment,{children:[Le,ie]}),t[22]=Le,t[23]=ie,t[24]=Pe):Pe=t[24],z=Pe}let V;if(i){const Re=A==="tertiary"&&"text-token-text-tertiary";let de;t[25]!==Re?(de=_e("trailing",Re),t[25]=Re,t[26]=de):de=t[26];const pe=s?-1:void 0;let Le;t[27]!==i?(Le=typeof i!="function"?i:_.jsx(i,{className:"icon","aria-hidden":"true"}),t[27]=i,t[28]=Le):Le=t[28];let ie;t[29]!==de||t[30]!==pe||t[31]!==Le?(ie=_.jsx("div",{className:de,tabIndex:pe,children:Le}),t[29]=de,t[30]=pe,t[31]=Le,t[32]=ie):ie=t[32],V=ie}if(s){const Re=A==="tertiary"&&"text-token-text-tertiary";let de;t[33]!==Re?(de=_e("trailing highlight",Re),t[33]=Re,t[34]=de):de=t[34];let pe;t[35]!==s?(pe=typeof s!="function"?s:_.jsx(s,{className:"icon","aria-hidden":"true"}),t[35]=s,t[36]=pe):pe=t[36];let Le;t[37]!==de||t[38]!==pe?(Le=_.jsx("div",{className:de,children:pe}),t[37]=de,t[38]=pe,t[39]=Le):Le=t[39];const ie=Le;let Pe;t[40]!==ie||t[41]!==V?(Pe=V?_.jsxs("div",{className:"trailing-pair",children:[ie,V]}):ie,t[40]=ie,t[41]=V,t[42]=Pe):Pe=t[42],V=Pe}if(D){let Re;t[43]===Symbol.for("react.memo_cache_sentinel")?(Re=_.jsx(hce,{className:"icon-sm -me-0.25"}),t[43]=Re):Re=t[43];const de=Re;let pe;t[44]!==V?(pe=V?_.jsxs("div",{className:"flex items-center gap-1 self-stretch",children:[V,de]}):de,t[44]=V,t[45]=pe):pe=t[45],V=pe}if(V&&!G){if(r){const de=x==="large"?"gap-2":"gap-1.5";let pe;t[46]!==de?(pe=_e("flex min-w-0 items-center",de),t[46]=de,t[47]=pe):pe=t[47];let Le;t[48]!==z||t[49]!==pe?(Le=_.jsx("div",{className:pe,children:z}),t[48]=z,t[49]=pe,t[50]=Le):Le=t[50],z=Le}let Re;t[51]!==z||t[52]!==V?(Re=_.jsxs(_.Fragment,{children:[z,V]}),t[51]=z,t[52]=V,t[53]=Re):Re=t[53],z=Re}const M=n,te=E.useRef(null),$=E.useRef(!1);let se,me;t[54]!==R?(se=()=>{if($.current){$.current=!1;return}R&&requestAnimationFrame(()=>{var Re;(Re=te.current)==null||Re.scrollIntoView({block:"nearest"})})},me=[R],t[54]=R,t[55]=se,t[56]=me):(se=t[55],me=t[56]),E.useEffect(se,me);const Ce=O.disabled?-1:0,J=br((Qe=O.disabled)!=null?Qe:!1);let K;t[57]!==N?(K=br(N),t[57]=N,t[58]=K):K=t[58];let ne;t[59]!==R?(ne=br(R),t[59]=R,t[60]=ne):ne=t[60];let X;t[61]!==D?(X=br(D),t[61]=D,t[62]=X):X=t[62];let ee;t[63]!==F?(ee=br(F),t[63]=F,t[64]=ee):ee=t[64];let ve;t[65]!==w?(ve=br(w),t[65]=w,t[66]=ve):ve=t[66];const ue=x==="large"?"large":void 0,oe=f!=="default"?f:void 0,be=!L&&"hoverable",Ae=r&&!V&&(x==="large"?"gap-2":"gap-1.5"),He=x==="large"&&G&&"p-2";let Ne;t[67]!==d||t[68]!==be||t[69]!==Ae||t[70]!==He?(Ne=_e("group __menu-item",be,Ae,He,d),t[67]=d,t[68]=be,t[69]=Ae,t[70]=He,t[71]=Ne):Ne=t[71];let ge;t[72]!==O?(ge=Re=>{var de;$.current=!0,(de=O.onPointerMoveCapture)==null||de.call(O,Re)},t[72]=O,t[73]=ge):ge=t[73];let he;return t[74]!==M||t[75]!==z||t[76]!==O||t[77]!==Ce||t[78]!==J||t[79]!==K||t[80]!==ne||t[81]!==X||t[82]!==ee||t[83]!==ve||t[84]!==ue||t[85]!==oe||t[86]!==Ne||t[87]!==ge?(he=_.jsx(M,I(S({ref:te,tabIndex:Ce,"data-disabled":J,"data-active":K,"data-highlighted":ne,"data-has-submenu":X,"data-fill":ee,"data-revealed":ve,"data-size":ue,"data-color":oe,className:Ne},O),{onPointerMoveCapture:ge,children:z})),t[74]=M,t[75]=z,t[76]=O,t[77]=Ce,t[78]=J,t[79]=K,t[80]=ne,t[81]=X,t[82]=ee,t[83]=ve,t[84]=ue,t[85]=oe,t[86]=Ne,t[87]=ge,t[88]=he):he=t[88],he},mce=n=>{var r=n,{external:e}=r,t=W(r,["external"]);return _.jsx(no,S(S({as:Rg},e?{highlightTrailing:_.jsx(pce,{className:"icon-sm"}),target:"_blank",rel:"noopener noreferrer"}:null),t))},jA=e=>{var o;const s=e,{row:t,className:n}=s,r=W(s,["row","className"]),i=(o=e.as)!=null?o:"button";return _.jsx(no,I(S({"data-sheet-item":!0},r),{as:i,className:_e("bg-token-bg-tertiary dark:bg-token-bg-secondary mx-0 w-full py-4 leading-5",t?"justify-between px-4 text-start":"flex-col justify-center px-0",n)}))},gce=E.memo(function({children:t}){return _.jsx("div",{className:"truncate",ref:n=>{n!=null&&n.textContent&&n.scrollWidth>n.clientWidth&&(n.title=n.textContent)},children:t})}),_ce=({children:e,className:t})=>_.jsx("span",{className:_e("__menu-item-badge",t),children:e}),_6e=s=>{var o=s,{disabled:e,icon:t,children:n,className:r}=o,i=W(o,["disabled","icon","children","className"]);return _.jsx("button",I(S({disabled:e,tabIndex:e?void 0:0,"data-trailing-button":br(!0),className:_e("__menu-item-trailing-btn",r)},i),{onClick:a=>{var c;a.preventDefault(),a.stopPropagation(),(c=i.onClick)==null||c.call(i,a)},onDoubleClick:a=>{var c;a.preventDefault(),a.stopPropagation(),(c=i.onDoubleClick)==null||c.call(i,a)},onPointerDown:a=>{var c;(c=i.onPointerDown)==null||c.call(i,a),a.preventDefault(),a.stopPropagation()},onMouseDown:a=>{var c;(c=i.onMouseDown)==null||c.call(i,a),a.preventDefault(),a.stopPropagation()},children:_.jsx("div",{children:t?_.jsx(t,{className:"icon","aria-hidden":"true"}):n})}))},v6e=r=>{var i=r,{children:e,className:t}=i,n=W(i,["children","className"]);return _.jsx(Rg,I(S({"data-trailing-button":br(!0),className:_e("__menu-item-trailing-lnk",t)},n),{onClick:s=>{var o;s.preventDefault(),s.stopPropagation(),(o=n.onClick)==null||o.call(n,s)},onDoubleClick:s=>{var o;s.preventDefault(),s.stopPropagation(),(o=n.onDoubleClick)==null||o.call(n,s)},children:e}))},vce=r=>{var i=r,{as:e,className:t}=i,n=W(i,["as","className"]);const s=e;return _.jsx(s,S({className:_e("__menu-label",t)},n))};function yce({size:e="long"}){const t=e==="long"?220:120,[n]=E.useState(()=>.75+.25*Math.random());return _.jsx(no,{as:"div",disabled:!0,children:_.jsx("div",{className:"loading-results-shimmer h-4 rounded-sm",style:{width:Math.round(n*t)}})})}const bce=e=>{"use forget";var b;const t=Y.c(32);let n,r,i,s,o,a,c,l,u;t[0]!==e?(b=e,{holdFocus:c,selectAllOnFocus:l,onClick:r,onFocus:i,onKeyDownCapture:s,onSubmit:o,border:u,className:n}=b,a=W(b,["holdFocus","selectAllOnFocus","onClick","onFocus","onKeyDownCapture","onSubmit","border","className"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9]);const d=c===void 0?!1:c,f=l===void 0?!0:l,h=u===void 0?!0:u;let p;t[10]!==n?(p=_e("text-token-text-primary bg-token-bg-primary data-border:border-token-border-default relative m-[-1px] mx-1.5 w-[calc(100%---spacing(3))] min-w-[200px] rounded-[10px] border-transparent px-2.5 py-2 text-sm focus:ring-0 focus:ring-offset-0 focus:outline-hidden disabled:opacity-50 data-border:border-1 dark:bg-transparent",n),t[10]=n,t[11]=p):p=t[11];let m;t[12]!==d?(m=br(d),t[12]=d,t[13]=m):m=t[13];let g;t[14]!==h?(g=br(h),t[14]=h,t[15]=g):g=t[15];let y;t[16]!==r?(y=O=>{r==null||r(O),O.preventDefault()},t[16]=r,t[17]=y):y=t[17];let v;t[18]!==i||t[19]!==f?(v=O=>{i==null||i(O),f&&O.currentTarget.select()},t[18]=i,t[19]=f,t[20]=v):v=t[20];let T;t[21]!==s||t[22]!==o?(T=O=>{s==null||s(O);const{key:w}=O;fce(O)||(O.stopPropagation(),w==="Enter"&&(o==null||o(O)))},t[21]=s,t[22]=o,t[23]=T):T=t[23];let C;return t[24]!==a||t[25]!==p||t[26]!==m||t[27]!==g||t[28]!==y||t[29]!==v||t[30]!==T?(C=_.jsx("input",S({type:"text",className:p,"data-hold-focus":m,"data-border":g,autoComplete:"off",onClick:y,onFocus:v,onKeyDownCapture:T},a)),t[24]=a,t[25]=p,t[26]=m,t[27]=g,t[28]=y,t[29]=v,t[30]=T,t[31]=C):C=t[31],C};function Ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Cce(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function A_(...e){return t=>e.forEach(n=>Cce(n,t))}function cn(...e){return E.useCallback(A_(...e),e)}function Ece(e,t){const n=E.createContext(t),r=s=>{const l=s,{children:o}=l,a=W(l,["children"]),c=E.useMemo(()=>a,Object.values(a));return _.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(s){const o=E.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error("`".concat(s,"` must be used within `").concat(e,"`"))}return[r,i]}function Su(e,t=[]){let n=[];function r(s,o){const a=E.createContext(o),c=n.length;n=[...n,o];const l=d=>{var v;const y=d,{scope:f,children:h}=y,p=W(y,["scope","children"]),m=((v=f==null?void 0:f[e])==null?void 0:v[c])||a,g=E.useMemo(()=>p,Object.values(p));return _.jsx(m.Provider,{value:g,children:h})};l.displayName=s+"Provider";function u(d,f){var m;const h=((m=f==null?void 0:f[e])==null?void 0:m[c])||a,p=E.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error("`".concat(d,"` must be used within `").concat(s,"`"))}return[l,u]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const c=(a==null?void 0:a[e])||s;return E.useMemo(()=>({["__scope".concat(e)]:I(S({},a),{[e]:c})}),[a,c])}};return i.scopeName=e,[r,Sce(i,...t)]}function Sce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(s)["__scope".concat(l)];return S(S({},a),d)},{});return E.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return n.scopeName=t.scopeName,n}function ii(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Rc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Oce({defaultProp:t,onChange:n}),s=e!==void 0,o=s?e:r,a=ii(n),c=E.useCallback(l=>{if(s){const d=typeof l=="function"?l(e):l;d!==e&&a(d)}else i(l)},[s,e,i,a]);return[o,c]}function Oce({defaultProp:e,onChange:t}){const n=E.useState(e),[r]=n,i=E.useRef(r),s=ii(t);return E.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function Tce(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var mc=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{};function DW(e){const[t,n]=E.useState(void 0);return mc(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Zl=E.forwardRef((e,t)=>{const o=e,{children:n}=o,r=W(o,["children"]),i=E.Children.toArray(n),s=i.find(wce);if(s){const a=s.props.children,c=i.map(l=>l===s?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:l);return _.jsx(zT,I(S({},r),{ref:t,children:E.isValidElement(a)?E.cloneElement(a,void 0,c):null}))}return _.jsx(zT,I(S({},r),{ref:t,children:n}))});Zl.displayName="Slot";var zT=E.forwardRef((e,t)=>{const i=e,{children:n}=i,r=W(i,["children"]);if(E.isValidElement(n)){const s=xce(n);return E.cloneElement(n,I(S({},Ace(r,n.props)),{ref:t?A_(t,s):s}))}return E.Children.count(n)>1?E.Children.only(null):null});zT.displayName="SlotClone";var LW=({children:e})=>_.jsx(_.Fragment,{children:e});function wce(e){return E.isValidElement(e)&&e.type===LW}function Ace(e,t){const n=S({},t);for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]=S(S({},i),s):r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return S(S({},e),n)}function xce(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ice=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ot=Ice.reduce((e,t)=>{const n=E.forwardRef((r,i)=>{const c=r,{asChild:s}=c,o=W(c,["asChild"]),a=s?Zl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(a,I(S({},o),{ref:i}))});return n.displayName="Primitive.".concat(t),I(S({},e),{[t]:n})},{});function jW(e,t){e&&Cw.flushSync(()=>e.dispatchEvent(t))}var FA="Switch",[Nce]=Su(FA),[Rce,Pce]=Nce(FA),FW=E.forwardRef((e,t)=>{const T=e,{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:l,form:u}=T,d=W(T,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[f,h]=E.useState(null),p=cn(t,C=>h(C)),m=E.useRef(!1),g=f?u||!!f.closest("form"):!0,[y=!1,v]=Rc({prop:i,defaultProp:s,onChange:l});return _.jsxs(Rce,{scope:n,checked:y,disabled:a,children:[_.jsx(Ot.button,I(S({type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":GW(y),"data-disabled":a?"":void 0,disabled:a,value:c},d),{ref:p,onClick:Ve(e.onClick,C=>{v(b=>!b),g&&(m.current=C.isPropagationStopped(),m.current||C.stopPropagation())})})),g&&_.jsx(kce,{control:f,bubbles:!m.current,name:r,value:c,checked:y,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});FW.displayName=FA;var UW="SwitchThumb",BW=E.forwardRef((e,t)=>{const s=e,{__scopeSwitch:n}=s,r=W(s,["__scopeSwitch"]),i=Pce(UW,n);return _.jsx(Ot.span,I(S({"data-state":GW(i.checked),"data-disabled":i.disabled?"":void 0},r),{ref:t}))});BW.displayName=UW;var kce=e=>{const c=e,{control:t,checked:n,bubbles:r=!0}=c,i=W(c,["control","checked","bubbles"]),s=E.useRef(null),o=Tce(n),a=DW(t);return E.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[o,n,r]),_.jsx("input",I(S({type:"checkbox","aria-hidden":!0,defaultChecked:n},i),{tabIndex:-1,ref:s,style:I(S(S({},e.style),a),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function GW(e){return e?"checked":"unchecked"}var Mce=FW,Dce=BW;const WW=s=>{var o=s,{size:e,className:t,icon:n,withinLabel:r}=o,i=W(o,["size","className","icon","withinLabel"]);return _.jsx(Mce,I(S({className:_e("radix-state-checked:bg-blue-400 focus-visible:ring-token-text-primary relative box-content aspect-7/4 shrink-0 rounded-full bg-gray-200 p-[2px] focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:opacity-50 dark:bg-gray-600",e==="small"?"h-3":"h-4",t)},i),{children:_.jsx(Dce,{className:"radix-state-checked:translate-x-[calc(var(--to-end-unit,1)*100%*(7/4-1))] flex aspect-square h-full items-center justify-center rounded-full bg-white transition-transform duration-100",children:n})}))};function qW(e,t){const n=E.useLayoutEffect;n(e,t)}const Lce=()=>{var e;return(e=document==null?void 0:document.body)!=null?e:null},VW=E.createContext(Lce);function y6e(e){"use forget";const t=Y.c(17),{children:n,className:r,open:i,onClose:s,closedBy:o}=e,a=E.useRef(null);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>a.current,t[0]=c):c=t[0];const l=c;let u,d;t[1]!==i?(u=()=>{const T=a.current;if(!(!i||!T))return i==="modal"?T.showModal():T.show(),()=>{T.close()}},d=[i],t[1]=i,t[2]=u,t[3]=d):(u=t[2],d=t[3]),E.useEffect(u,d);let f;t[4]!==s?(f=T=>{T.target===T.currentTarget&&(s==null||s())},t[4]=s,t[5]=f):f=t[5];const h=f;let p;t[6]!==o||t[7]!==s?(p=T=>{o&&["any","closerequest"].includes(o)&&T.key==="Escape"&&(s==null||s())},t[6]=o,t[7]=s,t[8]=p):p=t[8];const m=p,g=i===!0;let y;t[9]!==n?(y=_.jsx(VW,{value:l,children:n}),t[9]=n,t[10]=y):y=t[10];let v;return t[11]!==r||t[12]!==h||t[13]!==m||t[14]!==g||t[15]!==y?(v=_.jsx("dialog",{className:r,open:g,ref:a,onClick:h,onKeyUp:m,children:y}),t[11]=r,t[12]=h,t[13]=m,t[14]=g,t[15]=y,t[16]=v):v=t[16],v}function $W(){"use forget";const e=Y.c(7),[t,n]=E.useState(null),r=E.use(VW);let i;e[0]!==r?(i=r(),e[0]=r,e[1]=i):i=e[1];const s=i;let o,a;e[2]!==s?(o=()=>{n(s)},a=[s],e[2]=s,e[3]=o,e[4]=a):(o=e[3],a=e[4]),qW(o,a);let c;return e[5]!==t?(c=t!=null?{container:t}:{},e[5]=t,e[6]=c):c=e[6],c}function xD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function HW(...e){return t=>{let n=!1;const r=e.map(i=>{const s=xD(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():xD(e[i],null)}}}}function b6e(...e){return E.useCallback(HW(...e),e)}function jce(e){const t=Fce(e),n=E.forwardRef((r,i)=>{const l=r,{children:s}=l,o=W(l,["children"]),a=E.Children.toArray(s),c=a.find(Bce);if(c){const u=c.props.children,d=a.map(f=>f===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:f);return _.jsx(t,I(S({},o),{ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,d):null}))}return _.jsx(t,I(S({},o),{ref:i,children:s}))});return n.displayName="".concat(e,".Slot"),n}var zW=jce("Slot");function Fce(e){const t=E.forwardRef((n,r)=>{const o=n,{children:i}=o,s=W(o,["children"]);if(E.isValidElement(i)){const a=Wce(i),c=Gce(s,i.props);return i.type!==E.Fragment&&(c.ref=r?HW(r,a):a),E.cloneElement(i,c)}return E.Children.count(i)>1?E.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Uce=Symbol("radix.slottable");function Bce(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Uce}function Gce(e,t){const n=S({},t);for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]=S(S({},i),s):r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return S(S({},e),n)}function Wce(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function qce(e,t=globalThis==null?void 0:globalThis.document){const n=ii(e);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Vce="DismissableLayer",YT="dismissableLayer.update",$ce="dismissableLayer.pointerDownOutside",Hce="dismissableLayer.focusOutside",ID,YW=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ch=E.forwardRef((e,t)=>{var A;const w=e,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a}=w,c=W(w,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),l=E.useContext(YW),[u,d]=E.useState(null),f=(A=u==null?void 0:u.ownerDocument)!=null?A:globalThis==null?void 0:globalThis.document,[,h]=E.useState({}),p=cn(t,x=>d(x)),m=Array.from(l.layers),[g]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),v=u?m.indexOf(u):-1,T=l.layersWithOutsidePointerEventsDisabled.size>0,C=v>=y,b=Yce(x=>{const N=x.target,R=[...l.branches].some(L=>L.contains(N));!C||R||(i==null||i(x),o==null||o(x),x.defaultPrevented||a==null||a())},f),O=Kce(x=>{const N=x.target;[...l.branches].some(L=>L.contains(N))||(s==null||s(x),o==null||o(x),x.defaultPrevented||a==null||a())},f);return qce(x=>{v===l.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&a&&(x.preventDefault(),a()))},f),E.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(ID=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),ND(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ID)}},[u,f,n,l]),E.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),ND())},[u,l]),E.useEffect(()=>{const x=()=>h({});return document.addEventListener(YT,x),()=>document.removeEventListener(YT,x)},[]),_.jsx(Ot.div,I(S({},c),{ref:p,style:S({pointerEvents:T?C?"auto":"none":void 0},e.style),onFocusCapture:Ve(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,b.onPointerDownCapture)}))});ch.displayName=Vce;var zce="DismissableLayerBranch",KW=E.forwardRef((e,t)=>{const n=E.useContext(YW),r=E.useRef(null),i=cn(t,r);return E.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),_.jsx(Ot.div,I(S({},e),{ref:i}))});KW.displayName=zce;function Yce(e,t=globalThis==null?void 0:globalThis.document){const n=ii(e),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){JW($ce,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Kce(e,t=globalThis==null?void 0:globalThis.document){const n=ii(e),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&JW(Hce,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ND(){const e=new CustomEvent(YT);document.dispatchEvent(e)}function JW(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?jW(i,s):i.dispatchEvent(s)}var C6e=ch,E6e=KW,Jce=cJ.useId||(()=>{}),Xce=0;function ss(e){const[t,n]=E.useState(Jce());return mc(()=>{n(r=>r!=null?r:String(Xce++))},[e]),e||(t?"radix-".concat(t):"")}const Qce=["top","right","bottom","left"],zo=Math.min,Cr=Math.max,Km=Math.round,up=Math.floor,Yo=e=>({x:e,y:e}),Zce={left:"right",right:"left",bottom:"top",top:"bottom"},ele={start:"end",end:"start"};function KT(e,t,n){return Cr(e,zo(t,n))}function Js(e,t){return typeof e=="function"?e(t):e}function Xs(e){return e.split("-")[0]}function Ou(e){return e.split("-")[1]}function UA(e){return e==="x"?"y":"x"}function BA(e){return e==="y"?"height":"width"}function Tu(e){return["top","bottom"].includes(Xs(e))?"y":"x"}function GA(e){return UA(Tu(e))}function tle(e,t,n){n===void 0&&(n=!1);const r=Ou(e),i=GA(e),s=BA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Jm(o)),[o,Jm(o)]}function nle(e){const t=Jm(e);return[JT(e),t,JT(t)]}function JT(e){return e.replace(/start|end/g,t=>ele[t])}function rle(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function ile(e,t,n,r){const i=Ou(e);let s=rle(Xs(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(JT)))),s}function Jm(e){return e.replace(/left|right|bottom|top/g,t=>Zce[t])}function sle(e){return S({top:0,right:0,bottom:0,left:0},e)}function XW(e){return typeof e!="number"?sle(e):{top:e,right:e,bottom:e,left:e}}function Xm(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function RD(e,t,n){let{reference:r,floating:i}=e;const s=Tu(t),o=GA(t),a=BA(o),c=Xs(t),l=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(c){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Ou(t)){case"start":h[o]-=f*(n&&l?-1:1);break;case"end":h[o]+=f*(n&&l?-1:1);break}return h}const ole=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=RD(l,r,c),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:T,data:C,reset:b}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});u=v!=null?v:u,d=T!=null?T:d,h=I(S({},h),{[g]:S(S({},h[g]),C)}),b&&p<=50&&(p++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(l=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:u,y:d}=RD(l,f,c)),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function af(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Js(t,e),p=XW(h),g=a[f?d==="floating"?"reference":"floating":d],y=Xm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),v=d==="floating"?I(S({},o.floating),{x:r,y:i}):o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},b=Xm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:c}):v);return{top:(y.top-b.top+p.top)/C.y,bottom:(b.bottom-y.bottom+p.bottom)/C.y,left:(y.left-b.left+p.left)/C.x,right:(b.right-y.right+p.right)/C.x}}const ale=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=Js(e,t)||{};if(l==null)return{};const d=XW(u),f={x:n,y:r},h=GA(i),p=BA(h),m=await o.getDimensions(l),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",T=g?"clientHeight":"clientWidth",C=s.reference[p]+s.reference[h]-f[h]-s.floating[p],b=f[h]-s.reference[h],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let w=O?O[T]:0;(!w||!await(o.isElement==null?void 0:o.isElement(O)))&&(w=a.floating[T]||s.floating[p]);const A=C/2-b/2,x=w/2-m[p]/2-1,N=zo(d[y],x),R=zo(d[v],x),L=N,D=w-m[p]-R,F=w/2-m[p]/2+A,G=KT(L,F,D),z=!c.arrow&&Ou(i)!=null&&F!==G&&s.reference[p]/2-(F<L?N:R)-m[p]/2<0,V=z?F<L?F-L:F-D:0;return{[h]:f[h]+V,data:S({[h]:G,centerOffset:F-G-V},z&&{alignmentOffset:V}),reset:z}}}),cle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=t,L=Js(e,t),{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0}=L,g=W(L,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Xs(i),v=Xs(a)===a,T=await(c.isRTL==null?void 0:c.isRTL(l.floating)),C=f||(v||!m?[Jm(a)]:nle(a));!f&&p!=="none"&&C.push(...ile(a,m,p,T));const b=[a,...C],O=await af(t,g),w=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&w.push(O[y]),d){const D=tle(i,o,T);w.push(O[D[0]],O[D[1]])}if(A=[...A,{placement:i,overflows:w}],!w.every(D=>D<=0)){var x,N;const D=(((x=s.flip)==null?void 0:x.index)||0)+1,F=b[D];if(F)return{data:{index:D,overflows:A},reset:{placement:F}};let G=(N=A.filter(z=>z.overflows[0]<=0).sort((z,V)=>z.overflows[1]-V.overflows[1])[0])==null?void 0:N.placement;if(!G)switch(h){case"bestFit":{var R;const z=(R=A.map(V=>[V.placement,V.overflows.filter(M=>M>0).reduce((M,te)=>M+te,0)]).sort((V,M)=>V[1]-M[1])[0])==null?void 0:R[0];z&&(G=z);break}case"initialPlacement":G=a;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function PD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kD(e){return Qce.some(t=>e[t]>=0)}const lle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,s=Js(e,t),{strategy:r="referenceHidden"}=s,i=W(s,["strategy"]);switch(r){case"referenceHidden":{const o=await af(t,I(S({},i),{elementContext:"reference"})),a=PD(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:kD(a)}}}case"escaped":{const o=await af(t,I(S({},i),{altBoundary:!0})),a=PD(o,n.floating);return{data:{escapedOffsets:a,escaped:kD(a)}}}default:return{}}}}};async function ule(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Xs(n),a=Ou(n),c=Tu(n)==="y",l=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,d=Js(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:S({mainAxis:0,crossAxis:0,alignmentAxis:null},d);return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),c?{x:h*u,y:f*l}:{x:f*l,y:h*u}}const dle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,c=await ule(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:I(S({},c),{placement:o})}}}},fle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,g=Js(e,t),{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:T}=y;return{x:v,y:T}}}}=g,c=W(g,["mainAxis","crossAxis","limiter"]),l={x:n,y:r},u=await af(t,c),d=Tu(Xs(i)),f=UA(d);let h=l[f],p=l[d];if(s){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",T=h+u[y],C=h-u[v];h=KT(T,h,C)}if(o){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",T=p+u[y],C=p-u[v];p=KT(T,p,C)}const m=a.fn(I(S({},t),{[f]:h,[d]:p}));return I(S({},m),{data:{x:m.x-n,y:m.y-r}})}}},hle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Js(e,t),u={x:n,y:r},d=Tu(i),f=UA(d);let h=u[f],p=u[d];const m=Js(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:S({mainAxis:0,crossAxis:0},m);if(c){const T=f==="y"?"height":"width",C=s.reference[f]-s.floating[T]+g.mainAxis,b=s.reference[f]+s.reference[T]-g.mainAxis;h<C?h=C:h>b&&(h=b)}if(l){var y,v;const T=f==="y"?"width":"height",C=["top","left"].includes(Xs(i)),b=s.reference[d]-s.floating[T]+(C&&((y=o.offset)==null?void 0:y[d])||0)+(C?0:g.crossAxis),O=s.reference[d]+s.reference[T]+(C?0:((v=o.offset)==null?void 0:v[d])||0)-(C?g.crossAxis:0);p<b?p=b:p>O&&(p=O)}return{[f]:h,[d]:p}}}},ple=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,O=Js(e,t),{apply:o=()=>{}}=O,a=W(O,["apply"]),c=await af(t,a),l=Xs(n),u=Ou(n),d=Tu(n)==="y",{width:f,height:h}=r.floating;let p,m;l==="top"||l==="bottom"?(p=l,m=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=l,p=u==="end"?"top":"bottom");const g=h-c[p],y=f-c[m],v=!t.middlewareData.shift;let T=g,C=y;if(d){const w=f-c.left-c.right;C=u||v?zo(y,w):w}else{const w=h-c.top-c.bottom;T=u||v?zo(g,w):w}if(v&&!u){const w=Cr(c.left,0),A=Cr(c.right,0),x=Cr(c.top,0),N=Cr(c.bottom,0);d?C=f-2*(w!==0||A!==0?w+A:Cr(c.left,c.right)):T=h-2*(x!==0||N!==0?x+N:Cr(c.top,c.bottom))}await o(I(S({},t),{availableWidth:C,availableHeight:T}));const b=await i.getDimensions(s.floating);return f!==b.width||h!==b.height?{reset:{rects:!0}}:{}}}};function x_(){return typeof window<"u"}function wu(e){return QW(e)?(e.nodeName||"").toLowerCase():"#document"}function Ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vs(e){var t;return(t=(QW(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QW(e){return x_()?e instanceof Node||e instanceof Ar(e).Node:!1}function xi(e){return x_()?e instanceof Element||e instanceof Ar(e).Element:!1}function ds(e){return x_()?e instanceof HTMLElement||e instanceof Ar(e).HTMLElement:!1}function MD(e){return!x_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ar(e).ShadowRoot}function lh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ii(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function mle(e){return["table","td","th"].includes(wu(e))}function I_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function WA(e){const t=qA(),n=xi(e)?Ii(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function gle(e){let t=Ko(e);for(;ds(t)&&!eu(t);){if(WA(t))return t;if(I_(t))return null;t=Ko(t)}return null}function qA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function eu(e){return["html","body","#document"].includes(wu(e))}function Ii(e){return Ar(e).getComputedStyle(e)}function N_(e){return xi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ko(e){if(wu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||MD(e)&&e.host||vs(e);return MD(t)?t.host:t}function ZW(e){const t=Ko(e);return eu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&lh(t)?t:ZW(t)}function cf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=ZW(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ar(i);if(s){const a=XT(o);return t.concat(o,o.visualViewport||[],lh(i)?i:[],a&&n?cf(a):[])}return t.concat(i,cf(i,[],n))}function XT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eq(e){const t=Ii(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ds(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=Km(n)!==s||Km(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function VA(e){return xi(e)?e:e.contextElement}function Pl(e){const t=VA(e);if(!ds(t))return Yo(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=eq(t);let o=(s?Km(n.width):n.width)/r,a=(s?Km(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _le=Yo(0);function tq(e){const t=Ar(e);return!qA()||!t.visualViewport?_le:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vle(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ar(e)?!1:t}function gc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=VA(e);let o=Yo(1);t&&(r?xi(r)&&(o=Pl(r)):o=Pl(e));const a=vle(s,n,r)?tq(s):Yo(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=Ar(s),h=r&&xi(r)?Ar(r):r;let p=f,m=XT(p);for(;m&&r&&h!==p;){const g=Pl(m),y=m.getBoundingClientRect(),v=Ii(m),T=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,C=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;c*=g.x,l*=g.y,u*=g.x,d*=g.y,c+=T,l+=C,p=Ar(m),m=XT(p)}}return Xm({width:u,height:d,x:c,y:l})}function yle(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=vs(r),a=t?I_(t.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},l=Yo(1);const u=Yo(0),d=ds(r);if((d||!d&&!s)&&((wu(r)!=="body"||lh(o))&&(c=N_(r)),ds(r))){const f=gc(r);l=Pl(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x,y:n.y*l.y-c.scrollTop*l.y+u.y}}function ble(e){return Array.from(e.getClientRects())}function QT(e,t){const n=N_(e).scrollLeft;return t?t.left+n:gc(vs(e)).left+n}function Cle(e){const t=vs(e),n=N_(e),r=e.ownerDocument.body,i=Cr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Cr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+QT(e);const a=-n.scrollTop;return Ii(r).direction==="rtl"&&(o+=Cr(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Ele(e,t){const n=Ar(e),r=vs(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const l=qA();(!l||l&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function Sle(e,t){const n=gc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ds(e)?Pl(e):Yo(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function DD(e,t,n){let r;if(t==="viewport")r=Ele(e,n);else if(t==="document")r=Cle(vs(e));else if(xi(t))r=Sle(t,n);else{const i=tq(e);r=I(S({},t),{x:t.x-i.x,y:t.y-i.y})}return Xm(r)}function nq(e,t){const n=Ko(e);return n===t||!xi(n)||eu(n)?!1:Ii(n).position==="fixed"||nq(n,t)}function Ole(e,t){const n=t.get(e);if(n)return n;let r=cf(e,[],!1).filter(a=>xi(a)&&wu(a)!=="body"),i=null;const s=Ii(e).position==="fixed";let o=s?Ko(e):e;for(;xi(o)&&!eu(o);){const a=Ii(o),c=WA(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lh(o)&&!c&&nq(e,o))?r=r.filter(u=>u!==o):i=a,o=Ko(o)}return t.set(e,r),r}function Tle(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?I_(t)?[]:Ole(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=DD(t,u,i);return l.top=Cr(d.top,l.top),l.right=zo(d.right,l.right),l.bottom=zo(d.bottom,l.bottom),l.left=Cr(d.left,l.left),l},DD(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wle(e){const{width:t,height:n}=eq(e);return{width:t,height:n}}function Ale(e,t,n){const r=ds(t),i=vs(t),s=n==="fixed",o=gc(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const c=Yo(0);if(r||!r&&!s)if((wu(t)!=="body"||lh(i))&&(a=N_(t)),r){const h=gc(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&(c.x=QT(i));let l=0,u=0;if(i&&!r&&!s){const h=i.getBoundingClientRect();u=h.top+a.scrollTop,l=h.left+a.scrollLeft-QT(i,h)}const d=o.left+a.scrollLeft-c.x-l,f=o.top+a.scrollTop-c.y-u;return{x:d,y:f,width:o.width,height:o.height}}function WC(e){return Ii(e).position==="static"}function LD(e,t){if(!ds(e)||Ii(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return vs(e)===n&&(n=n.ownerDocument.body),n}function rq(e,t){const n=Ar(e);if(I_(e))return n;if(!ds(e)){let i=Ko(e);for(;i&&!eu(i);){if(xi(i)&&!WC(i))return i;i=Ko(i)}return n}let r=LD(e,t);for(;r&&mle(r)&&WC(r);)r=LD(r,t);return r&&eu(r)&&WC(r)&&!WA(r)?n:r||gle(e)||n}const xle=async function(e){const t=this.getOffsetParent||rq,n=this.getDimensions,r=await n(e.floating);return{reference:Ale(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ile(e){return Ii(e).direction==="rtl"}const Nle={convertOffsetParentRelativeRectToViewportRelativeRect:yle,getDocumentElement:vs,getClippingRect:Tle,getOffsetParent:rq,getElementRects:xle,getClientRects:ble,getDimensions:wle,getScale:Pl,isElement:xi,isRTL:Ile};function Rle(e,t){let n=null,r;const i=vs(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:l,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=up(u),p=up(i.clientWidth-(l+d)),m=up(i.clientHeight-(u+f)),g=up(l),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:Cr(0,zo(1,c))||1};let T=!0;function C(b){const O=b[0].intersectionRatio;if(O!==c){if(!T)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(C,I(S({},v),{root:i.ownerDocument}))}catch(b){n=new IntersectionObserver(C,v)}n.observe(e)}return o(!0),s}function Ple(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=VA(e),u=i||s?[...l?cf(l):[],...cf(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=l&&a?Rle(l,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=h)==null||T.observe(t)})),n()}),l&&!c&&h.observe(l),h.observe(t));let p,m=c?gc(e):null;c&&g();function g(){const y=gc(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;u.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const kle=dle,Mle=fle,Dle=cle,Lle=ple,jle=lle,jD=ale,Fle=hle,Ule=(e,t,n)=>{const r=new Map,i=S({platform:Nle},n),s=I(S({},i.platform),{_c:r});return ole(e,t,I(S({},i),{platform:s}))};var Kp=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Qm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Qm(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function iq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function FD(e,t){const n=iq(e);return Math.round(t*n)/n}function qC(e){const t=E.useRef(e);return Kp(()=>{t.current=e}),t}function Ble(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,d]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=E.useState(r);Qm(f,r)||h(r);const[p,m]=E.useState(null),[g,y]=E.useState(null),v=E.useCallback(M=>{M!==O.current&&(O.current=M,m(M))},[]),T=E.useCallback(M=>{M!==w.current&&(w.current=M,y(M))},[]),C=s||p,b=o||g,O=E.useRef(null),w=E.useRef(null),A=E.useRef(u),x=c!=null,N=qC(c),R=qC(i),L=qC(l),D=E.useCallback(()=>{if(!O.current||!w.current)return;const M={placement:t,strategy:n,middleware:f};R.current&&(M.platform=R.current),Ule(O.current,w.current,M).then(te=>{const $=I(S({},te),{isPositioned:L.current!==!1});F.current&&!Qm(A.current,$)&&(A.current=$,Cw.flushSync(()=>{d($)}))})},[f,t,n,R,L]);Kp(()=>{l===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(M=>I(S({},M),{isPositioned:!1})))},[l]);const F=E.useRef(!1);Kp(()=>(F.current=!0,()=>{F.current=!1}),[]),Kp(()=>{if(C&&(O.current=C),b&&(w.current=b),C&&b){if(N.current)return N.current(C,b,D);D()}},[C,b,D,N,x]);const G=E.useMemo(()=>({reference:O,floating:w,setReference:v,setFloating:T}),[v,T]),z=E.useMemo(()=>({reference:C,floating:b}),[C,b]),V=E.useMemo(()=>{const M={position:n,left:0,top:0};if(!z.floating)return M;const te=FD(z.floating,u.x),$=FD(z.floating,u.y);return a?S(I(S({},M),{transform:"translate("+te+"px, "+$+"px)"}),iq(z.floating)>=1.5&&{willChange:"transform"}):{position:n,left:te,top:$}},[n,a,z.floating,u.x,u.y]);return E.useMemo(()=>I(S({},u),{update:D,refs:G,elements:z,floatingStyles:V}),[u,D,G,z,V])}const Gle=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?jD({element:r.current,padding:i}).fn(n):{}:r?jD({element:r,padding:i}).fn(n):{}}}},Wle=(e,t)=>I(S({},kle(e)),{options:[e,t]}),qle=(e,t)=>I(S({},Mle(e)),{options:[e,t]}),Vle=(e,t)=>I(S({},Fle(e)),{options:[e,t]}),$le=(e,t)=>I(S({},Dle(e)),{options:[e,t]}),Hle=(e,t)=>I(S({},Lle(e)),{options:[e,t]}),zle=(e,t)=>I(S({},jle(e)),{options:[e,t]}),Yle=(e,t)=>I(S({},Gle(e)),{options:[e,t]});var Kle="Arrow",sq=E.forwardRef((e,t)=>{const o=e,{children:n,width:r=10,height:i=5}=o,s=W(o,["children","width","height"]);return _.jsx(Ot.svg,I(S({},s),{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})}))});sq.displayName=Kle;var Jle=sq;function $A(e,t=[]){let n=[];function r(s,o){const a=E.createContext(o),c=n.length;n=[...n,o];function l(d){const y=d,{scope:f,children:h}=y,p=W(y,["scope","children"]),m=(f==null?void 0:f[e][c])||a,g=E.useMemo(()=>p,Object.values(p));return _.jsx(m.Provider,{value:g,children:h})}function u(d,f){const h=(f==null?void 0:f[e][c])||a,p=E.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error("`".concat(d,"` must be used within `").concat(s,"`"))}return l.displayName=s+"Provider",[l,u]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const c=(a==null?void 0:a[e])||s;return E.useMemo(()=>({["__scope".concat(e)]:I(S({},a),{[e]:c})}),[a,c])}};return i.scopeName=e,[r,Xle(i,...t)]}function Xle(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(s)["__scope".concat(l)];return S(S({},a),d)},{});return E.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return n.scopeName=t.scopeName,n}var HA="Popper",[oq,R_]=$A(HA),[Qle,aq]=oq(HA),cq=e=>{const{__scopePopper:t,children:n}=e,[r,i]=E.useState(null);return _.jsx(Qle,{scope:t,anchor:r,onAnchorChange:i,children:n})};cq.displayName=HA;var lq="PopperAnchor",uq=E.forwardRef((e,t)=>{const c=e,{__scopePopper:n,virtualRef:r}=c,i=W(c,["__scopePopper","virtualRef"]),s=aq(lq,n),o=E.useRef(null),a=cn(t,o);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:_.jsx(Ot.div,I(S({},i),{ref:a}))});uq.displayName=lq;var zA="PopperContent",[Zle,eue]=oq(zA),dq=E.forwardRef((e,t)=>{var ee,ve,ue,oe,be,Ae,He,Ne;const X=e,{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p}=X,m=W(X,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),g=aq(zA,n),[y,v]=E.useState(null),T=cn(t,ge=>v(ge)),[C,b]=E.useState(null),O=DW(C),w=(ee=O==null?void 0:O.width)!=null?ee:0,A=(ve=O==null?void 0:O.height)!=null?ve:0,x=r+(s!=="center"?"-"+s:""),N=typeof u=="number"?u:S({top:0,right:0,bottom:0,left:0},u),R=Array.isArray(l)?l:[l],L=R.length>0,D={padding:N,boundary:R.filter(nue),altBoundary:L},{refs:F,floatingStyles:G,placement:z,isPositioned:V,middlewareData:M}=Ble({strategy:"fixed",placement:x,whileElementsMounted:(...ge)=>Ple(...ge,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Wle({mainAxis:i+A,alignmentAxis:o}),c&&qle(S({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Vle():void 0},D)),c&&$le(S({},D)),Hle(I(S({},D),{apply:({elements:ge,rects:he,availableWidth:j,availableHeight:Qe})=>{const{width:Re,height:de}=he.reference,pe=ge.floating.style;pe.setProperty("--radix-popper-available-width","".concat(j,"px")),pe.setProperty("--radix-popper-available-height","".concat(Qe,"px")),pe.setProperty("--radix-popper-anchor-width","".concat(Re,"px")),pe.setProperty("--radix-popper-anchor-height","".concat(de,"px"))}})),C&&Yle({element:C,padding:a}),rue({arrowWidth:w,arrowHeight:A}),f&&zle(S({strategy:"referenceHidden"},D))]}),[te,$]=pq(z),se=ii(p);mc(()=>{V&&(se==null||se())},[V,se]);const me=(ue=M.arrow)==null?void 0:ue.x,Ce=(oe=M.arrow)==null?void 0:oe.y,J=((be=M.arrow)==null?void 0:be.centerOffset)!==0,[K,ne]=E.useState();return mc(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),_.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:S(I(S({},G),{transform:V?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(Ae=M.transformOrigin)==null?void 0:Ae.x,(He=M.transformOrigin)==null?void 0:He.y].join(" ")}),((Ne=M.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:_.jsx(Zle,{scope:n,placedSide:te,onArrowChange:b,arrowX:me,arrowY:Ce,shouldHideArrow:J,children:_.jsx(Ot.div,I(S({"data-side":te,"data-align":$},m),{ref:T,style:I(S({},m.style),{animation:V?void 0:"none"})}))})})});dq.displayName=zA;var fq="PopperArrow",tue={top:"bottom",right:"left",bottom:"top",left:"right"},hq=E.forwardRef(function(t,n){const a=t,{__scopePopper:r}=a,i=W(a,["__scopePopper"]),s=eue(fq,r),o=tue[s.placedSide];return _.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:_.jsx(Jle,I(S({},i),{ref:n,style:I(S({},i.style),{display:"block"})}))})});hq.displayName=fq;function nue(e){return e!==null}var rue=e=>({name:"transformOrigin",options:e,fn(t){var g,y,v,T,C;const{placement:n,rects:r,middlewareData:i}=t,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[l,u]=pq(n),d={start:"0%",center:"50%",end:"100%"}[u],f=((v=(y=i.arrow)==null?void 0:y.x)!=null?v:0)+a/2,h=((C=(T=i.arrow)==null?void 0:T.y)!=null?C:0)+c/2;let p="",m="";return l==="bottom"?(p=o?d:"".concat(f,"px"),m="".concat(-c,"px")):l==="top"?(p=o?d:"".concat(f,"px"),m="".concat(r.floating.height+c,"px")):l==="right"?(p="".concat(-c,"px"),m=o?d:"".concat(h,"px")):l==="left"&&(p="".concat(r.floating.width+c,"px"),m=o?d:"".concat(h,"px")),{data:{x:p,y:m}}}});function pq(e){const[t,n="center"]=e.split("-");return[t,n]}var YA=cq,mq=uq,gq=dq,_q=hq,iue="Portal",uh=E.forwardRef((e,t)=>{var c;const a=e,{container:n}=a,r=W(a,["container"]),[i,s]=E.useState(!1);mc(()=>s(!0),[]);const o=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?od.createPortal(_.jsx(Ot.div,I(S({},r),{ref:t})),o):null});uh.displayName=iue;var S6e=uh;function sue(e,t){return E.useReducer((n,r)=>{const i=t[n][r];return i!=null?i:n},e)}var ji=e=>{const{present:t,children:n}=e,r=oue(t),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=cn(r.ref,aue(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};ji.displayName="Presence";function oue(e){const[t,n]=E.useState(),r=E.useRef({}),i=E.useRef(e),s=E.useRef("none"),o=e?"mounted":"unmounted",[a,c]=sue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=dp(r.current);s.current=a==="mounted"?l:"none"},[a]),mc(()=>{const l=r.current,u=i.current;if(u!==e){const f=s.current,h=dp(l);e?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),mc(()=>{var l;if(t){let u;const d=(l=t.ownerDocument.defaultView)!=null?l:window,f=p=>{const g=dp(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(s.current=dp(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function dp(e){return(e==null?void 0:e.animationName)||"none"}function aue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cue="VisuallyHidden",KA=E.forwardRef((e,t)=>_.jsx(Ot.span,I(S({},e),{ref:t,style:S({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)})));KA.displayName=cue;var lue=KA,[P_]=Su("Tooltip",[R_]),k_=R_(),vq="TooltipProvider",uue=700,ZT="tooltip.open",[due,JA]=P_(vq),yq=e=>{const{__scopeTooltip:t,delayDuration:n=uue,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[o,a]=E.useState(!0),c=E.useRef(!1),l=E.useRef(0);return E.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),_.jsx(due,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(l.current),a(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:E.useCallback(u=>{c.current=u},[]),disableHoverableContent:i,children:s})};yq.displayName=vq;var M_="Tooltip",[fue,dh]=P_(M_),bq=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=e,c=JA(M_,e.__scopeTooltip),l=k_(t),[u,d]=E.useState(null),f=ss(),h=E.useRef(0),p=o!=null?o:c.disableHoverableContent,m=a!=null?a:c.delayDuration,g=E.useRef(!1),[y=!1,v]=Rc({prop:r,defaultProp:i,onChange:w=>{w?(c.onOpen(),document.dispatchEvent(new CustomEvent(ZT))):c.onClose(),s==null||s(w)}}),T=E.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),C=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,v(!0)},[v]),b=E.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v(!1)},[v]),O=E.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,v(!0),h.current=0},m)},[m,v]);return E.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),_.jsx(YA,I(S({},l),{children:_.jsx(fue,{scope:t,contentId:f,open:y,stateAttribute:T,trigger:u,onTriggerChange:d,onTriggerEnter:E.useCallback(()=>{c.isOpenDelayed?O():C()},[c.isOpenDelayed,O,C]),onTriggerLeave:E.useCallback(()=>{p?b():(window.clearTimeout(h.current),h.current=0)},[b,p]),onOpen:C,onClose:b,disableHoverableContent:p,children:n})}))};bq.displayName=M_;var e1="TooltipTrigger",Cq=E.forwardRef((e,t)=>{const f=e,{__scopeTooltip:n}=f,r=W(f,["__scopeTooltip"]),i=dh(e1,n),s=JA(e1,n),o=k_(n),a=E.useRef(null),c=cn(t,a,i.onTriggerChange),l=E.useRef(!1),u=E.useRef(!1),d=E.useCallback(()=>l.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),_.jsx(mq,I(S({asChild:!0},o),{children:_.jsx(Ot.button,I(S({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r),{ref:c,onPointerMove:Ve(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ve(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ve(e.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ve(e.onFocus,()=>{l.current||i.onOpen()}),onBlur:Ve(e.onBlur,i.onClose),onClick:Ve(e.onClick,i.onClose)}))}))});Cq.displayName=e1;var XA="TooltipPortal",[hue,pue]=P_(XA,{forceMount:void 0}),Eq=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=dh(XA,t);return _.jsx(hue,{scope:t,forceMount:n,children:_.jsx(ji,{present:n||s.open,children:_.jsx(uh,{asChild:!0,container:i,children:r})})})};Eq.displayName=XA;var tu="TooltipContent",Sq=E.forwardRef((e,t)=>{const n=pue(tu,e.__scopeTooltip),a=e,{forceMount:r=n.forceMount,side:i="top"}=a,s=W(a,["forceMount","side"]),o=dh(tu,e.__scopeTooltip);return _.jsx(ji,{present:r||o.open,children:o.disableHoverableContent?_.jsx(Oq,I(S({side:i},s),{ref:t})):_.jsx(mue,I(S({side:i},s),{ref:t}))})}),mue=E.forwardRef((e,t)=>{const n=dh(tu,e.__scopeTooltip),r=JA(tu,e.__scopeTooltip),i=E.useRef(null),s=cn(t,i),[o,a]=E.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:d}=r,f=E.useCallback(()=>{a(null),d(!1)},[d]),h=E.useCallback((p,m)=>{const g=p.currentTarget,y={x:p.clientX,y:p.clientY},v=vue(y,g.getBoundingClientRect()),T=yue(y,v),C=bue(m.getBoundingClientRect()),b=Eue([...T,...C]);a(b),d(!0)},[d]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(c&&u){const p=g=>h(g,u),m=g=>h(g,c);return c.addEventListener("pointerleave",p),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",m)}}},[c,u,h,f]),E.useEffect(()=>{if(o){const p=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),T=!Cue(y,o);v?f():T&&(f(),l())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,u,o,l,f]),_.jsx(Oq,I(S({},e),{ref:s}))}),[gue,_ue]=P_(M_,{isInside:!1}),Oq=E.forwardRef((e,t)=>{const d=e,{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o}=d,a=W(d,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),c=dh(tu,n),l=k_(n),{onClose:u}=c;return E.useEffect(()=>(document.addEventListener(ZT,u),()=>document.removeEventListener(ZT,u)),[u]),E.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),_.jsx(ch,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:_.jsxs(gq,I(S(S({"data-state":c.stateAttribute},l),a),{ref:t,style:I(S({},a.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[_.jsx(LW,{children:r}),_.jsx(gue,{scope:n,isInside:!0,children:_.jsx(lue,{id:c.contentId,role:"tooltip",children:i||r})})]}))})});Sq.displayName=tu;var Tq="TooltipArrow",wq=E.forwardRef((e,t)=>{const o=e,{__scopeTooltip:n}=o,r=W(o,["__scopeTooltip"]),i=k_(n);return _ue(Tq,n).isInside?null:_.jsx(_q,I(S(S({},i),r),{ref:t}))});wq.displayName=Tq;function vue(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yue(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function bue(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Cue(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,c=t[s].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(i=!i)}return i}function Eue(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Sue(t)}function Sue(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Oue=yq,Tue=bq,wue=Cq,Aue=Eq,xue=Sq,Iue=wq;function Nue(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Aq(t))&&(r&&(r+=" "),r+=n);return r}function Aq(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Aq(e[r]))&&(n&&(n+=" "),n+=t);return n}function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t1.apply(this,arguments)}function Rue(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var QA="-";function Pue(e){var t=Mue(e);function n(i){var s=i.split(QA);return s[0]===""&&s.length!==1&&s.shift(),xq(s,t)||kue(i)}function r(i){return e.conflictingClassGroups[i]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function xq(e,t){var n;if(e.length===0)return t.classGroupId;var r=e[0],i=t.nextPart.get(r),s=i?xq(e.slice(1),i):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(QA);return(n=t.validators.find(function(a){var c=a.validator;return c(o)}))==null?void 0:n.classGroupId}}var UD=/^\[(.+)\]$/;function kue(e){if(UD.test(e)){var t=UD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Mue(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=Lue(Object.entries(e.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];n1(a,r,o,t)}),r}function n1(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var s=i===""?t:BD(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(Due(i)){n1(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],c=o[1];n1(c,BD(t,a),n,r)})})}function BD(e,t){var n=e;return t.split(QA).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Due(e){return e.isThemeGetter}function Lue(e,t){return t?e.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],l=a[1];return[t+c,l]})):o});return[r,s]}):e}var Iq="!";function jue(e){var t=e.separator||":";return function(r){for(var i=0,s=[],o=0,a=0;a<r.length;a++){var c=r[a];i===0&&c===t[0]&&(t.length===1||r.slice(a,a+t.length)===t)&&(s.push(r.slice(o,a)),o=a+t.length),c==="["?i++:c==="]"&&i--}var l=s.length===0?r:r.substring(o),u=l.startsWith(Iq),d=u?l.substring(1):l;return{modifiers:s,hasImportantModifier:u,baseClassName:d}}}function Fue(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Uue(e){return t1({cache:Rue(e.cacheSize),splitModifiers:jue(e)},Pue(e))}var Bue=/\s+/;function Gue(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(Bue).map(function(o){var a=n(o),c=a.modifiers,l=a.hasImportantModifier,u=a.baseClassName,d=r(u);if(!d)return{isTailwindClass:!1,originalClassName:o};var f=Fue(c).join(":"),h=l?f+Iq:f;return{isTailwindClass:!0,modifierId:h,classGroupId:d,originalClassName:o}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,l=a+c;return s.has(l)?!1:(s.add(l),i(c).forEach(function(u){return s.add(a+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function Wue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,s,o=a;function a(l){var u=t[0],d=t.slice(1),f=d.reduce(function(h,p){return p(h)},u());return r=Uue(f),i=r.cache.get,s=r.cache.set,o=c,c(l)}function c(l){var u=i(l);if(u)return u;var d=Gue(l,r);return s(l,d),d}return function(){return o(Nue.apply(null,arguments))}}function Pt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var ca=/^\[(.+)\]$/,que=/^\d+\/\d+$/,Vue=new Set(["px","full","screen"]),$ue=/^(\d+)?(xs|sm|md|lg|xl)$/,Hue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh)/,zue=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function fi(e){return!Number.isNaN(Number(e))||Vue.has(e)||que.test(e)||xa(e)}function xa(e){var t,n=(t=ca.exec(e))==null?void 0:t[1];return n?n.startsWith("length:")||Hue.test(n):!1}function Yue(e){var t,n=(t=ca.exec(e))==null?void 0:t[1];return n?n.startsWith("size:"):!1}function Kue(e){var t,n=(t=ca.exec(e))==null?void 0:t[1];return n?n.startsWith("position:"):!1}function Jue(e){var t,n=(t=ca.exec(e))==null?void 0:t[1];return n?n.startsWith("url(")||n.startsWith("url:"):!1}function GD(e){var t,n=(t=ca.exec(e))==null?void 0:t[1];return n?!Number.isNaN(Number(n))||n.startsWith("number:"):!1}function Kn(e){var t,n=(t=ca.exec(e))==null?void 0:t[1];return n?Number.isInteger(Number(n)):Number.isInteger(Number(e))}function Rn(e){return ca.test(e)}function Yu(){return!0}function po(e){return $ue.test(e)}function Xue(e){var t,n=(t=ca.exec(e))==null?void 0:t[1];return n?zue.test(n):!1}function Que(){var e=Pt("colors"),t=Pt("spacing"),n=Pt("blur"),r=Pt("brightness"),i=Pt("borderColor"),s=Pt("borderRadius"),o=Pt("borderSpacing"),a=Pt("borderWidth"),c=Pt("contrast"),l=Pt("grayscale"),u=Pt("hueRotate"),d=Pt("invert"),f=Pt("gap"),h=Pt("gradientColorStops"),p=Pt("inset"),m=Pt("margin"),g=Pt("opacity"),y=Pt("padding"),v=Pt("saturate"),T=Pt("scale"),C=Pt("sepia"),b=Pt("skew"),O=Pt("space"),w=Pt("translate"),A=function(){return["auto","contain","none"]},x=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",t]},R=function(){return["",fi]},L=function(){return["auto",Kn]},D=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},G=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},z=function(){return["start","end","center","between","around","evenly"]},V=function(){return["","0",Rn]},M=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]};return{cacheSize:500,theme:{colors:[Yu],spacing:[fi],blur:["none","",po,xa],brightness:[Kn],borderColor:[e],borderRadius:["none","","full",po,xa],borderSpacing:[t],borderWidth:R(),contrast:[Kn],grayscale:V(),hueRotate:[Kn],invert:V(),gap:[t],gradientColorStops:[e],inset:N(),margin:N(),opacity:[Kn],padding:[t],saturate:[Kn],scale:[Kn],sepia:V(),skew:[Kn,Rn],space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",Rn]}],container:["container"],columns:[{columns:[po]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(D(),[Rn])}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:[Kn]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rn]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Kn]}],"grid-cols":[{"grid-cols":[Yu]}],"col-start-end":[{col:["auto",{span:[Kn]}]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Yu]}],"row-start-end":[{row:["auto",{span:[Kn]}]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:z()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(z(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(z(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",fi]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[po]},po,xa]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",fi]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",po,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",GD]}],"font-family":[{font:[Yu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi]}],"list-style-type":[{list:["none","disc","decimal",Rn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",fi]}],"underline-offset":[{"underline-offset":["auto",fi]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xa]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",Rn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(D(),[Kue])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Jue]}],"bg-color":[{bg:[e]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[fi]}],"outline-w":[{outline:[fi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[fi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",po,Xue]}],"shadow-color":[{shadow:[Yu]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":G()}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",po,Rn]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rn]}],duration:[{duration:[Kn]}],ease:[{ease:["linear","in","out","in-out",Rn]}],delay:[{delay:[Kn]}],animate:[{animate:["none","spin","ping","pulse","bounce",Rn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Kn,Rn]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fi,GD]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],"col-start-end":["col-start","col-end"],"row-start-end":["row-start","row-end"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var Zue=Wue(Que),ede=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],tde=ede,Nq=Symbol("isTwElement?"),nde=(e,t)=>e.reduce((n,r,i)=>n.concat(r||[],t[i]||[]),[]),rde=(e,t="")=>{let n=e.join(" ").trim().replace(/\n/g," ").replace(/\s{2,}/g," ").split(" ").filter(i=>i!==","),r=t?t.split(" "):[];return Zue(...n.concat(r).filter(i=>i!==" "))},ide=([e])=>e.charAt(0)!=="$",VC=e=>e[Nq]===!0,Rq=e=>(t,...n)=>{let r=(i=[])=>{let s=Et.forwardRef((o,a)=>{let p=o,{$as:c=e,style:l={}}=p,u=W(p,["$as","style"]),d=VC(e)?e:c,f=i?i.reduce((m,g)=>Object.assign(m,typeof g=="function"?g(o):g),{}):{},h=VC(d)?u:Object.fromEntries(Object.entries(u).filter(ide));return Et.createElement(d,S(I(S({},h),{style:S(S({},f),l),ref:a,className:rde(nde(t,n.map(m=>m(I(S({},u),{$as:c})))),u.className)}),VC(e)?{$as:c}:{}))});return s[Nq]=!0,typeof e!="string"?s.displayName=e.displayName||e.name||"tw.Component":s.displayName="tw."+e,s.withStyle=o=>r(i.concat(o)),s};return r()},sde=tde.reduce((e,t)=>I(S({},e),{[t]:Rq(t)}),{}),ode=Object.assign(Rq,sde),ro=ode;const ade=B(()=>k(()=>Promise.resolve().then(()=>jxe),void 0),{loading:e=>H(e)}),io=e=>{"use forget";const t=Y.c(70),{ariaLive:n,triggerAs:r,disabled:i,label:s,secondaryLabel:o,contentClassName:a,customPaddingClassName:c,customBorderClassName:l,customBackgroundColorClassName:u,theme:d,cornerRadius:f,side:h,sideOffset:p,align:m,alignOffset:g,withArrow:y,wide:v,narrow:T,interactive:C,usePortal:b,className:O,children:w,delayDuration:A,closeOnOutsideClick:x,open:N,onOpenChange:R,onDismissClick:L,isLeftArrow:D,labelTextAlign:F,ignoreTriggerOnOutsideClick:G,labelOrientation:z,defaultOpen:V,labelClassName:M,secondaryLabelClassName:te}=e,$=r===void 0?"span":r,se=d===void 0?"default":d,me=f===void 0?"lg":f,Ce=h===void 0?"bottom":h,J=p===void 0?8:p,K=m===void 0?"center":m,ne=g===void 0?0:g,X=y===void 0?!1:y,ee=v===void 0?!1:v,ve=T===void 0?!1:T,ue=C===void 0?!1:C,oe=b===void 0?!0:b,be=A===void 0?0:A,Ae=x===void 0?!0:x,He=D===void 0?!1:D,Ne=F===void 0?"center":F,ge=G===void 0?!1:G,he=z===void 0?"vertical":z,j=V===void 0?!1:V,Qe=gt(),Re=E.useRef(null);if(i){let dn;return t[0]!==w?(dn=_.jsx(_.Fragment,{children:w}),t[0]=w,t[1]=dn):dn=t[1],dn}if(!s){let dn;return t[2]!==$||t[3]!==w||t[4]!==O?(dn=$?_.jsx($,{className:O,children:w}):w,t[2]=$,t[3]=w,t[4]=O,t[5]=dn):dn=t[5],dn}let de;e:switch(se){case"white":{de="light bg-white";break e}case"primary":{de="bg-token-main-surface-primary";break e}case"default":de="dark bg-black"}u!=null&&(de=u);const pe=Ne==="left"?"text-start":"text-center";let Le;t[6]!==Ae||t[7]!==ge?(Le=Ae?ge?dn=>{var Ss;(Ss=Re.current)!=null&&Ss.contains(dn.target)&&dn.preventDefault()}:void 0:_de,t[6]=Ae,t[7]=ge,t[8]=Le):Le=t[8];const ie=c!=null?c:"px-2 py-1",Pe=se==="white"&&"shadow-xs",tt="rounded-".concat(me),nt=!X&&"overflow-hidden",rt=ee?"max-w-sm":ve?"max-w-2xs":"max-w-xs";let On;t[9]!==de||t[10]!==a||t[11]!==l||t[12]!==ie||t[13]!==Pe||t[14]!==tt||t[15]!==nt||t[16]!==rt?(On=_e("relative z-50 transition-opacity select-none",ie,Pe,tt,nt,l,de,rt,a),t[9]=de,t[10]=a,t[11]=l,t[12]=ie,t[13]=Pe,t[14]=tt,t[15]=nt,t[16]=rt,t[17]=On):On=t[17];const Yn=he==="horizontal"?"flex gap-2":void 0;let nn;t[18]!==M||t[19]!==pe?(nn=_e("text-token-text-primary text-xs font-semibold whitespace-pre-wrap",pe,M),t[18]=M,t[19]=pe,t[20]=nn):nn=t[20];let Ft;t[21]!==s||t[22]!==nn?(Ft=_.jsx("div",{className:nn,children:s}),t[21]=s,t[22]=nn,t[23]=Ft):Ft=t[23];let Wt;t[24]!==o||t[25]!==te||t[26]!==pe?(Wt=o&&_.jsx("div",{className:_e("text-token-text-tertiary text-xs font-medium whitespace-pre-wrap",pe,te),children:o}),t[24]=o,t[25]=te,t[26]=pe,t[27]=Wt):Wt=t[27];let Kt;t[28]!==de||t[29]!==He||t[30]!==X?(Kt=X&&_.jsx(Iue,{asChild:!0,children:He?_.jsx(ude,{className:de}):_.jsx(lde,{className:de})}),t[28]=de,t[29]=He,t[30]=X,t[31]=Kt):Kt=t[31];let Gr;t[32]!==Yn||t[33]!==Ft||t[34]!==Wt||t[35]!==Kt?(Gr=_.jsxs("div",{className:Yn,children:[Ft,Wt,Kt]}),t[32]=Yn,t[33]=Ft,t[34]=Wt,t[35]=Kt,t[36]=Gr):Gr=t[36];let Bi;t[37]!==Qe||t[38]!==L?(Bi=L&&_.jsx(ade,{role:"button","aria-label":Qe.formatMessage(dde.dismissTooltip),tabIndex:0,className:"icon -me-1 cursor-pointer text-gray-400",onClick:L}),t[37]=Qe,t[38]=L,t[39]=Bi):Bi=t[39];let Gi;t[40]!==Gr||t[41]!==Bi?(Gi=_.jsxs("div",{className:"flex items-center gap-1",children:[Gr,Bi]}),t[40]=Gr,t[41]=Bi,t[42]=Gi):Gi=t[42];let uo;t[43]!==K||t[44]!==ne||t[45]!==n||t[46]!==Ce||t[47]!==J||t[48]!==Le||t[49]!==On||t[50]!==Gi?(uo=_.jsx(xue,{onEscapeKeyDown:gde,collisionPadding:8,onPointerDownOutside:Le,"aria-live":n,side:Ce,sideOffset:J,alignOffset:ne,align:K,className:On,children:Gi}),t[43]=K,t[44]=ne,t[45]=n,t[46]=Ce,t[47]=J,t[48]=Le,t[49]=On,t[50]=Gi,t[51]=uo):uo=t[51];const ui=uo,Wi=!ue,qi=ge?vde:void 0;let _r;t[52]!==$||t[53]!==w||t[54]!==O?(_r=$?_.jsx(fde,{as:$,className:O,children:w}):w,t[52]=$,t[53]=w,t[54]=O,t[55]=_r):_r=t[55];let Vi;t[56]!==qi||t[57]!==_r?(Vi=_.jsx(wue,{asChild:!0,ref:Re,onClick:qi,children:_r}),t[56]=qi,t[57]=_r,t[58]=Vi):Vi=t[58];let $i;t[59]!==ui||t[60]!==oe?($i=oe?_.jsx(cde,{children:_.jsx(WD,{children:ui})}):_.jsx(WD,{children:ui}),t[59]=ui,t[60]=oe,t[61]=$i):$i=t[61];let fo;return t[62]!==j||t[63]!==be||t[64]!==R||t[65]!==N||t[66]!==Wi||t[67]!==Vi||t[68]!==$i?(fo=_.jsxs(Tue,{delayDuration:be,disableHoverableContent:Wi,defaultOpen:j,open:N,onOpenChange:R,children:[Vi,$i]}),t[62]=j,t[63]=be,t[64]=R,t[65]=N,t[66]=Wi,t[67]=Vi,t[68]=$i,t[69]=fo):fo=t[69],fo};function cde(e){"use forget";const t=Y.c(3),{children:n}=e,r=$W();let i;return t[0]!==n||t[1]!==r?(i=_.jsx(Aue,I(S({},r),{children:n})),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}var eB;const lde=ro.div(eB||(eB=Hi(["relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10"])));var tB;const ude=ro.div(tB||(tB=Hi(["relative top-[-4px] end-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10"]))),dde=Tt({dismissTooltip:{id:"Tooltip.dismissTooltip",defaultMessage:"Close Tooltip"}}),fde=e=>{"use forget";var c;const t=Y.c(15);let n,r,i;if(t[0]!==e?(c=e,{as:n,children:r}=c,i=W(c,["as","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]),!E.isValidElement(r)){let l;return t[4]!==n||t[5]!==r||t[6]!==i?(l=_.jsx(n,I(S({},i),{children:r})),t[4]=n,t[5]=r,t[6]=i,t[7]=l):l=t[7],l}const s=i["aria-describedby"];let o;t[8]!==r||t[9]!==s?(o=_.jsx(zW,{"aria-describedby":s,children:r}),t[8]=r,t[9]=s,t[10]=o):o=t[10];let a;return t[11]!==n||t[12]!==i||t[13]!==o?(a=_.jsx(n,I(S({},i),{onFocusCapture:i.onFocus,children:o})),t[11]=n,t[12]=i,t[13]=o,t[14]=a):a=t[14],a},Zm=E.createContext(!1),WD=e=>{"use forget";const t=Y.c(5),{children:n}=e,i=E.use(Zm)&&"sr-only!";let s;t[0]!==i?(s=_e(i),t[0]=i,t[1]=s):s=t[1];let o;return t[2]!==n||t[3]!==s?(o=_.jsx(zW,{className:s,children:n}),t[2]=n,t[3]=s,t[4]=o):o=t[4],o},hde=e=>{"use forget";const t=Y.c(2),{children:n}=e;let r;return t[0]!==n?(r=_.jsx(Zm.Provider,{value:!1,children:n}),t[0]=n,t[1]=r):r=t[1],r},pde=e=>{"use forget";var d;const t=Y.c(6),{children:n}=e,r=E.use(Zm),[i,s]=E.useState(!1);let o;t[0]!==r||t[1]!==n?(o=r?n:E.cloneElement(n,{onOpenChange:f=>{var h,p;s(f),(p=(h=n.props).onOpenChange)==null||p.call(h,f)}}),t[0]=r,t[1]=n,t[2]=o):o=t[2];const a=o,c=(d=n.props.open)!=null?d:i,l=r===!0||c;let u;return t[3]!==a||t[4]!==l?(u=_.jsx(Zm.Provider,{value:l,children:a}),t[3]=a,t[4]=l,t[5]=u):u=t[5],u};function mde(){document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))}function gde(e){e.preventDefault(),e.stopPropagation(),queueMicrotask(mde)}function _de(e){return e.preventDefault()}function vde(e){e.preventDefault()}function Pq(e){const t=e+"CollectionProvider",[n,r]=$A(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:m}=h,g=Et.useRef(null),y=Et.useRef(new Map).current;return _.jsx(i,{scope:p,itemMap:y,collectionRef:g,children:m})};o.displayName=t;const a=e+"CollectionSlot",c=Et.forwardRef((h,p)=>{const{scope:m,children:g}=h,y=s(a,m),v=cn(p,y.collectionRef);return _.jsx(Zl,{ref:v,children:g})});c.displayName=a;const l=e+"CollectionItemSlot",u="data-radix-collection-item",d=Et.forwardRef((h,p)=>{const b=h,{scope:m,children:g}=b,y=W(b,["scope","children"]),v=Et.useRef(null),T=cn(p,v),C=s(l,m);return Et.useEffect(()=>(C.itemMap.set(v,S({ref:v},y)),()=>void C.itemMap.delete(v))),_.jsx(Zl,{[u]:"",ref:T,children:g})});d.displayName=l;function f(h){const p=s(e+"CollectionConsumer",h);return Et.useCallback(()=>{const g=p.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll("[".concat(u,"]")));return Array.from(p.itemMap.values()).sort((C,b)=>y.indexOf(C.ref.current)-y.indexOf(b.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},f,r]}var kq=E.createContext(void 0),yde=e=>{const{dir:t,children:n}=e;return _.jsx(kq.Provider,{value:t,children:n})};function ZA(e){const t=E.useContext(kq);return e||t||"ltr"}var $C="rovingFocusGroup.onEntryFocus",bde={bubbles:!1,cancelable:!0},D_="RovingFocusGroup",[r1,Mq,Cde]=Pq(D_),[Ede,L_]=$A(D_,[Cde]),[Sde,Ode]=Ede(D_),Dq=E.forwardRef((e,t)=>_.jsx(r1.Provider,{scope:e.__scopeRovingFocusGroup,children:_.jsx(r1.Slot,{scope:e.__scopeRovingFocusGroup,children:_.jsx(Tde,I(S({},e),{ref:t}))})}));Dq.displayName=D_;var Tde=E.forwardRef((e,t)=>{const A=e,{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1}=A,d=W(A,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),f=E.useRef(null),h=cn(t,f),p=ZA(s),[m=null,g]=Rc({prop:o,defaultProp:a,onChange:c}),[y,v]=E.useState(!1),T=ii(l),C=Mq(n),b=E.useRef(!1),[O,w]=E.useState(0);return E.useEffect(()=>{const x=f.current;if(x)return x.addEventListener($C,T),()=>x.removeEventListener($C,T)},[T]),_.jsx(Sde,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:m,onItemFocus:E.useCallback(x=>g(x),[g]),onItemShiftTab:E.useCallback(()=>v(!0),[]),onFocusableItemAdd:E.useCallback(()=>w(x=>x+1),[]),onFocusableItemRemove:E.useCallback(()=>w(x=>x-1),[]),children:_.jsx(Ot.div,I(S({tabIndex:y||O===0?-1:0,"data-orientation":r},d),{ref:h,style:S({outline:"none"},e.style),onMouseDown:Ve(e.onMouseDown,()=>{b.current=!0}),onFocus:Ve(e.onFocus,x=>{const N=!b.current;if(x.target===x.currentTarget&&N&&!y){const R=new CustomEvent($C,bde);if(x.currentTarget.dispatchEvent(R),!R.defaultPrevented){const L=C().filter(V=>V.focusable),D=L.find(V=>V.active),F=L.find(V=>V.id===m),z=[D,F,...L].filter(Boolean).map(V=>V.ref.current);Fq(z,u)}}b.current=!1}),onBlur:Ve(e.onBlur,()=>v(!1))}))})}),Lq="RovingFocusGroupItem",jq=E.forwardRef((e,t)=>{const p=e,{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s}=p,o=W(p,["__scopeRovingFocusGroup","focusable","active","tabStopId"]),a=ss(),c=s||a,l=Ode(Lq,n),u=l.currentTabStopId===c,d=Mq(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=l;return E.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),_.jsx(r1.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:_.jsx(Ot.span,I(S({tabIndex:u?0:-1,"data-orientation":l.orientation},o),{ref:t,onMouseDown:Ve(e.onMouseDown,m=>{r?l.onItemFocus(c):m.preventDefault()}),onFocus:Ve(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:Ve(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){l.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=xde(m,l.orientation,l.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=d().filter(T=>T.focusable).map(T=>T.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const T=v.indexOf(m.currentTarget);v=l.loop?Ide(v,T+1):v.slice(T+1)}setTimeout(()=>Fq(v))}})}))})});jq.displayName=Lq;var wde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ade(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xde(e,t,n){const r=Ade(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wde[r]}function Fq(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ide(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Uq=Dq,Bq=jq,ex="Tabs",[Nde]=Su(ex,[L_]),Gq=L_(),[Rde,tx]=Nde(ex),Wq=E.forwardRef((e,t)=>{const h=e,{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic"}=h,l=W(h,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),u=ZA(a),[d,f]=Rc({prop:r,onChange:i,defaultProp:s});return _.jsx(Rde,{scope:n,baseId:ss(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:c,children:_.jsx(Ot.div,I(S({dir:u,"data-orientation":o},l),{ref:t}))})});Wq.displayName=ex;var qq="TabsList",Vq=E.forwardRef((e,t)=>{const a=e,{__scopeTabs:n,loop:r=!0}=a,i=W(a,["__scopeTabs","loop"]),s=tx(qq,n),o=Gq(n);return _.jsx(Uq,I(S({asChild:!0},o),{orientation:s.orientation,dir:s.dir,loop:r,children:_.jsx(Ot.div,I(S({role:"tablist","aria-orientation":s.orientation},i),{ref:t}))}))});Vq.displayName=qq;var $q="TabsTrigger",Hq=E.forwardRef((e,t)=>{const d=e,{__scopeTabs:n,value:r,disabled:i=!1}=d,s=W(d,["__scopeTabs","value","disabled"]),o=tx($q,n),a=Gq(n),c=Kq(o.baseId,r),l=Jq(o.baseId,r),u=r===o.value;return _.jsx(Bq,I(S({asChild:!0},a),{focusable:!i,active:u,children:_.jsx(Ot.button,I(S({type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},s),{ref:t,onMouseDown:Ve(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ve(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ve(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(r)})}))}))});Hq.displayName=$q;var zq="TabsContent",Yq=E.forwardRef((e,t)=>{const f=e,{__scopeTabs:n,value:r,forceMount:i,children:s}=f,o=W(f,["__scopeTabs","value","forceMount","children"]),a=tx(zq,n),c=Kq(a.baseId,r),l=Jq(a.baseId,r),u=r===a.value,d=E.useRef(u);return E.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),_.jsx(ji,{present:i||u,children:({present:h})=>_.jsx(Ot.div,I(S({"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0},o),{ref:t,style:I(S({},e.style),{animationDuration:d.current?"0s":void 0}),children:h&&s}))})});Yq.displayName=zq;function Kq(e,t){return"".concat(e,"-trigger-").concat(t)}function Jq(e,t){return"".concat(e,"-content-").concat(t)}var O6e=Wq,T6e=Vq,Pde=Hq,kde=Yq;const Mde=B(()=>k(()=>import("./njolo99wevvir9n6.js"),__vite__mapDeps([18,1])),{loading:e=>H(e)}),Dde=B(()=>k(()=>import("./dwgk7r4s1fwn35jq.js"),__vite__mapDeps([17,1])),{loading:e=>H(e)});var Lde=(e=>(e.ArchivedChats="ArchivedChats",e))(Lde||{}),j_=(e=>(e.General="General",e.Notifications="Notifications",e.Personalization="Personalization",e.Connectors="Connectors",e.ConnectorsAdvanced="Connectors/Advanced",e.DataControls="DataControls",e.Schedules="Schedules",e.Orders="Orders",e.Security="Security",e.ParentalControls="ParentalControls",e.Hazelnuts="Hazelnuts",e.Account="Account",e.Internal="Internal",e))(j_||{});function jde(e){return e.startsWith("#settings")}function w6e(e){return e.startsWith("#settings/Account")}function A6e(e){if(!jde(e))return null;const t=e.split("?")[0].split("/")[1];if(Object.values(j_).includes(t))return t;switch(t){case"Subscription":case"BuilderProfile":case"Referrals":return"Account";case"ConnectorSettings":return"Connectors";case"SecureSignIn":return"Security";case"Record":return"Personalization";case"AmphoraControls":return"ParentalControls"}return"General"}function x6e(e,t={}){const{dataControlsRoute:n,parentalControlsMemberId:r}=t;let i=e&&e!=="General"?"settings/".concat(e):"settings";return e==="DataControls"&&n!=null&&(i+="/".concat(n)),e==="ParentalControls"&&typeof r=="string"&&r.length>0&&(i+="/member/".concat(encodeURIComponent(r))),Qd({hash:i})}const I6e=e=>_.jsx(no,S({as:Pde,fillContainer:!0},e));function N6e({value:e,children:t}){return _.jsx(kde,{className:"text-token-text-primary relative flex w-full flex-col overflow-y-auto px-4 text-sm max-md:max-h-[calc(100vh-150px)] md:min-h-[380px]",value:e,children:t})}const Fde=({title:e,description:t,learnMoreHref:n,children:r,noBorder:i=!1,headerTrailingContent:s,headerInteractable:o=!1})=>{let a;if(e){let c=o?e:_.jsx("div",{className:"truncate select-none",children:e});n&&(c=_.jsxs("div",{className:"flex items-center gap-2",children:[c,_.jsx(io,{label:_.jsx(yt,{id:"WbGW2C",defaultMessage:"Learn more"}),contentClassName:"touch:hidden",side:"right",triggerAs:null,children:_.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-token-text-tertiary not-touch:mt-0.5 flex shrink-0 items-center gap-1 text-sm",children:_.jsx(Mde,{className:"icon-sm"})})})]}));const l=t?_.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:t}):null;a=s?_.jsxs("div",{className:_e("min-h-header-height grid items-start gap-x-4 gap-y-1 py-3","grid-cols-[minmax(0,1fr)_auto]",!i&&"border-token-border-default border-b"),children:[_.jsxs("h3",{className:"min-w-0 text-lg font-normal",children:[c,l]}),_.jsx("div",{className:"justify-self-end",children:s})]}):_.jsx("div",{className:_e("min-h-header-height flex items-center py-3",!i&&"border-token-border-default border-b"),children:_.jsxs("h3",{className:"w-full text-lg font-normal",children:[c,l]})})}return _.jsxs("section",{className:"relative mb-4 not-has-[>div,>section,>h1,>h2,>h3,>h4,>h5,>h6]:hidden",children:[a,r]})};function Ude({children:e}){return _.jsx("div",{className:"border-token-border-light flex min-h-15 items-center border-b py-2 last-of-type:border-none",children:_.jsx("div",{className:"w-full",children:e})})}function R6e(e){"use forget";const t=Y.c(8),{labelMessage:n,value:r,testId:i}=e;let s;t[0]!==n?(s=_.jsx("div",{className:"text-token-text-primary text-sm",children:_.jsx(yt,S({},n))}),t[0]=n,t[1]=s):s=t[1];let o;t[2]!==r?(o=_.jsx("div",{className:"text-token-text-secondary min-w-0 text-end text-sm break-words",children:r}),t[2]=r,t[3]=o):o=t[3];let a;return t[4]!==s||t[5]!==o||t[6]!==i?(a=_.jsxs("div",{className:"flex w-full items-start justify-between gap-4","data-testid":i,children:[s,o]}),t[4]=s,t[5]=o,t[6]=i,t[7]=a):a=t[7],a}var nB;const i1=ro.div(nB||(nB=Hi(["text-xs text-token-text-tertiary pe-12 my-1"])));function P6e({label:e,disabled:t,enabled:n,onChange:r,description:i,toggleTooltip:s,isLoading:o=!1,testId:a,compactDescription:c=!1,centerToggleVertically:l=!1,showAlphaPill:u=!1,ariaLabel:d}){const f=typeof e=="string"?e:d,h=f?{"aria-label":f}:{"aria-hidden":!0},p=_.jsx(WW,S({disabled:t,checked:n,onCheckedChange:r,size:"normal","data-testid":a},h)),m=s?_.jsx(io,{label:s,side:"top",children:p}):p;return l?_.jsxs("div",{className:"flex justify-between gap-2",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&_.jsx(AD,{})]}),i!=null&&_.jsx(i1,{className:c?"mt-0.5":void 0,children:i})]}),_.jsx("div",{className:"flex items-center",children:o?_.jsx(of,{}):m})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&_.jsx(AD,{})]}),o?_.jsx(of,{}):m]}),i!=null&&_.jsx(i1,{className:c?"mt-0.5":void 0,children:i})]})}function k6e({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:i,description:s,testId:o}){const a=s?"items-start":"items-center";return _.jsxs("div",{className:_e("flex",a,"justify-between"),children:[_.jsxs("div",{children:[_.jsx("div",{children:n}),s!=null&&_.jsx(i1,{children:s})]}),_.jsx(_s,{className:"shrink-0",color:e,disabled:!!t,onClick:i,"data-testid":o,children:r})]})}function M6e({onClick:e,label:t,stateLabel:n,testId:r}){return _.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{children:t}),_.jsxs("div",{className:"text-token-text-secondary flex min-h-[38px] items-center",children:[n&&_.jsx("div",{className:"me-1 flex items-center",children:n}),_.jsx(Dde,{className:"icon-sm"})]})]})})}function D6e(e){return Z.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}}})}function zr(){if(typeof window>"u")return;const{hash:e,search:t}=window.location,n=r=>{var o;const i=r.startsWith("?")?r.slice(1):r;return(o=new URLSearchParams(i).get("referrer"))!=null?o:void 0};if(e&&e.includes("?")){const r=e.substring(e.indexOf("?")+1),i=n(r);if(i)return i}return n(t)}const L6e=e=>(e==null?void 0:e.visibility)==="HIDDEN",j6e="connector_bd313622bce5485cb3d0b338715f7108",nx="connector_3f8d1a79f27c4c7ba1a897ab13bf37dc",Bde="slack_codex_oauth_client",rx="connector_8cbe1e9e357f4ec79fa9f1a8aa78f4c1",Gde="slack_codex_bot_oauth_client",ix="connector_fdb98b59c8d44f678b086d20e82bd316",Wde="linear_codex_bot_oauth_client",lf={gdrive_sync_connector:"gdrive_sync_connector",slack_sync_connector:"slack_sync_connector",github_sync_connector:"github_sync_connector",notion_sync_connector:"notion_sync_connector",sharepoint_sync_connector:"sharepoint_sync_connector",sharepoint_admin_sync_connector:"sharepoint_admin_sync_connector",teams_sync_connector:"teams_sync_connector",teams_admin_sync_connector:"teams_admin_sync_connector",linear_sync_connector:"linear_sync_connector",jira_sync_connector:"jira_sync_connector",jira_servicemanagement_sync_connector:"jira_servicemanagement_sync_connector",intercom_sync_connector:"intercom_sync_connector",hubspot_sync_connector:"hubspot_sync_connector",salesforce_sync_connector:"salesforce_sync_connector",confluence_sync_connector:"confluence_sync_connector",dropbox_sync_connector:"dropbox_sync_connector",box_sync_connector:"box_sync_connector",aha_sync_connector:"aha_sync_connector",asana_sync_connector:"asana_sync_connector",azure_devops_sync_connector:"azure_devops_sync_connector",basecamp_sync_connector:"basecamp_sync_connector",clickup_sync_connector:"clickup_sync_connector",freshdesk_sync_connector:"freshdesk_sync_connector",freshservice_sync_connector:"freshservice_sync_connector",front_sync_connector:"front_sync_connector",gitlab_sync_connector:"gitlab_sync_connector",gorgias_sync_connector:"gorgias_sync_connector",helpscout_sync_connector:"helpscout_sync_connector",ironclad_sync_connector:"ironclad_sync_connector",pipedrive_sync_connector:"pipedrive_sync_connector",salesforce_service_cloud_sync_connector:"salesforce_service_cloud_sync_connector",shortcut_sync_connector:"shortcut_sync_connector",teamwork_sync_connector:"teamwork_sync_connector",zendesk_sync_connector:"zendesk_sync_connector",zoho_sync_connector:"zoho_sync_connector",zoho_desk_sync_connector:"zoho_desk_sync_connector"},Pc={[P.NOTION_CONNECTOR]:{access:"connector_37316be7febe4224b3d31465bae4dbd7",sync:"connector_1ee51bd730c272434e1b17c46f8a2397"},[P.INTERCOM_CONNECTOR]:{access:"connector_25f8569426254c019971d2481ddda775",sync:"connector_9f3d361ec84b4c6588a7129a2d4e3cb3"},[P.HUBSPOT_CONNECTOR]:{access:"connector_2a3c0c472f6f4238b47d41acfb317307",sync:"connector_6529c30f7e3590253d20626b8f971879"}},Lt={[P.GDRIVE_ACTION_CONNECTOR]:"connector_5f3c8c41a1e54ad7a76272c89e2554fa",[P.GITHUB_CONNECTOR]:"connector_76869538009648d5b282a4bb21c3d157",[P.LINEAR_CONNECTOR]:"connector_686fad9b54914a35b75be6d06a0f6f31",[P.DROPBOX_CONNECTOR]:"connector_14e85e16800b4e53bc6246019a83a307",[P.HUBSPOT_CONNECTOR]:"connector_2a3c0c472f6f4238b47d41acfb317307",[P.SALESFORCE_CONNECTOR]:"connector_6095bdb01e9482eb0cac719f6ba313cd",[P.AHA_CONNECTOR]:"connector_251970f16cb647d4b76fc445753f9276",[P.ASANA_CONNECTOR]:"connector_4886707321be47efb8b9369ebb877881",[P.AZURE_DEVOPS_CONNECTOR]:"connector_da257d66000a45c683fe44e411037409",[P.BASECAMP_CONNECTOR]:"connector_4d2f184d2773465f977823d8d03a059a",[P.CLICKUP_CONNECTOR]:"connector_f9447fe87aae4b598f8ca9dc03483c9a",[P.FRESHDESK_CONNECTOR]:"connector_5da92388bc1842fe8f33f04eb59a7d29",[P.FRESHSERVICE_CONNECTOR]:"connector_b1ec778333b24ed3adbff456d0207475",[P.FRONT_CONNECTOR]:"connector_d38d1f35825b4ebebf977ff9fe20841e",[P.GITLAB_CONNECTOR]:"connector_0c9786b2f41f41558056126bdb46c9bd",[P.GORGIAS_CONNECTOR]:"connector_16ebbb3c9f7e449d94a61eb0473dd9dc",[P.HELP_SCOUT_CONNECTOR]:"connector_b969d12728c04baeb585eb9299be3b6d",[P.IRONCLAD_CONNECTOR]:"connector_f317b2c679f84ad5b6f2af12fb6f609a",[P.PIPEDRIVE_CONNECTOR]:"connector_36803b8cc4164d84aa3fbfc7ddb420e1",[P.SALESFORCE_SERVICE_CLOUD_CONNECTOR]:"connector_97fbcfe6da0d4a4282ebb47f6e01e56b",[P.SHORTCUT_CONNECTOR]:"connector_7a9cae0e3c7c4fadb98be0028af7d346",[P.SHAREPOINT_CONNECTOR]:"connector_1e4f6a44acf14e3ca1d96672f8c945bc",[P.SHAREPOINT_ADMIN_CONNECTOR]:"connector_5ae2fd76f08447718080f11bc2faac6c",[P.TEAMS_CONNECTOR]:"connector_246af0940da3457da0e751171dc1ce60",[P.TEAMS_ADMIN_CONNECTOR]:"connector_601cc22bb3b740599c7274cf7e8084e8",[P.TEAMWORK_CONNECTOR]:"connector_86de01a2aaf544b0a039013db9bcfae7",[P.ZENDESK_CONNECTOR]:"connector_30434c47d61341d69dc82aaffa23f5c6",[P.ZOHO_CONNECTOR]:"connector_fd0f007550a242459d6dd1f923668769",[P.ZOHO_DESK_CONNECTOR]:"connector_bc42113c21de4f94a5b5259c2aa914f6",[P.GCAL_CONNECTOR]:"connector_947e0d954944416db111db556030eea6",[P.GMAIL_CONNECTOR]:"connector_2128aebfecb84f64a069897515042a44",[P.GOOGLE_CONTACTS_CONNECTOR]:"connector_c0f748249d6a42aea4b00fd375570ded",[P.OUTLOOK_EMAIL_CONNECTOR]:"connector_4aaab2856305417b993eca9a216aaf6e",[P.OUTLOOK_CALENDAR_CONNECTOR]:"connector_e6a7394682e24467ac68c60696f275a4",[P.BOX_CONNECTOR]:"connector_2fc94c70cbb74b7caa6d07bf7231202e",[P.INTERCOM_CONNECTOR]:"connector_25f8569426254c019971d2481ddda775",[P.NOTION_CONNECTOR]:"connector_37316be7febe4224b3d31465bae4dbd7",[P.CANVA_CONNECTOR]:"connector_ef718304ffe64e31947b71887e3d51fa",[P.SLACK_CONNECTOR]:"connector_0f9c9d4592e54d0a9a12b3f44a1e2010",[P.SLACK_CODEX_CONNECTOR]:nx,[P.SLACK_CODEX_BOT_CONNECTOR]:rx,[P.LINEAR_CODEX_BOT_CONNECTOR]:ix,[P.CONFLUENCE_CONNECTOR]:"connector_258b4e1b0cb61498ac3907daf4072fa7",[P.JIRA_CONNECTOR]:"connector_141ed0ff031248bb8e5b5584de945cef",[P.JIRA_SERVICEMANAGEMENT_CONNECTOR]:"connector_cfcd99fd238d43c888544acd294b3f31"},fs={connector_5f3c8c41a1e54ad7a76272c89e2554fa:P.GDRIVE_ACTION_CONNECTOR,connector_76869538009648d5b282a4bb21c3d157:P.GITHUB_CONNECTOR,connector_686fad9b54914a35b75be6d06a0f6f31:P.LINEAR_CONNECTOR,connector_14e85e16800b4e53bc6246019a83a307:P.DROPBOX_CONNECTOR,connector_2a3c0c472f6f4238b47d41acfb317307:P.HUBSPOT_CONNECTOR,connector_6095bdb01e9482eb0cac719f6ba313cd:P.SALESFORCE_CONNECTOR,connector_251970f16cb647d4b76fc445753f9276:P.AHA_CONNECTOR,connector_4886707321be47efb8b9369ebb877881:P.ASANA_CONNECTOR,connector_da257d66000a45c683fe44e411037409:P.AZURE_DEVOPS_CONNECTOR,connector_4d2f184d2773465f977823d8d03a059a:P.BASECAMP_CONNECTOR,connector_f9447fe87aae4b598f8ca9dc03483c9a:P.CLICKUP_CONNECTOR,connector_5da92388bc1842fe8f33f04eb59a7d29:P.FRESHDESK_CONNECTOR,connector_b1ec778333b24ed3adbff456d0207475:P.FRESHSERVICE_CONNECTOR,connector_d38d1f35825b4ebebf977ff9fe20841e:P.FRONT_CONNECTOR,connector_0c9786b2f41f41558056126bdb46c9bd:P.GITLAB_CONNECTOR,connector_16ebbb3c9f7e449d94a61eb0473dd9dc:P.GORGIAS_CONNECTOR,connector_b969d12728c04baeb585eb9299be3b6d:P.HELP_SCOUT_CONNECTOR,connector_f317b2c679f84ad5b6f2af12fb6f609a:P.IRONCLAD_CONNECTOR,connector_36803b8cc4164d84aa3fbfc7ddb420e1:P.PIPEDRIVE_CONNECTOR,connector_97fbcfe6da0d4a4282ebb47f6e01e56b:P.SALESFORCE_SERVICE_CLOUD_CONNECTOR,connector_7a9cae0e3c7c4fadb98be0028af7d346:P.SHORTCUT_CONNECTOR,connector_86de01a2aaf544b0a039013db9bcfae7:P.TEAMWORK_CONNECTOR,connector_30434c47d61341d69dc82aaffa23f5c6:P.ZENDESK_CONNECTOR,connector_fd0f007550a242459d6dd1f923668769:P.ZOHO_CONNECTOR,connector_bc42113c21de4f94a5b5259c2aa914f6:P.ZOHO_DESK_CONNECTOR,connector_1e4f6a44acf14e3ca1d96672f8c945bc:P.SHAREPOINT_CONNECTOR,connector_5ae2fd76f08447718080f11bc2faac6c:P.SHAREPOINT_ADMIN_CONNECTOR,connector_246af0940da3457da0e751171dc1ce60:P.TEAMS_CONNECTOR,connector_601cc22bb3b740599c7274cf7e8084e8:P.TEAMS_ADMIN_CONNECTOR,connector_947e0d954944416db111db556030eea6:P.GCAL_CONNECTOR,connector_2128aebfecb84f64a069897515042a44:P.GMAIL_CONNECTOR,connector_c0f748249d6a42aea4b00fd375570ded:P.GOOGLE_CONTACTS_CONNECTOR,connector_4aaab2856305417b993eca9a216aaf6e:P.OUTLOOK_EMAIL_CONNECTOR,connector_e6a7394682e24467ac68c60696f275a4:P.OUTLOOK_CALENDAR_CONNECTOR,connector_2fc94c70cbb74b7caa6d07bf7231202e:P.BOX_CONNECTOR,connector_25f8569426254c019971d2481ddda775:P.INTERCOM_CONNECTOR,connector_9f3d361ec84b4c6588a7129a2d4e3cb3:P.INTERCOM_CONNECTOR,connector_37316be7febe4224b3d31465bae4dbd7:P.NOTION_CONNECTOR,connector_1ee51bd730c272434e1b17c46f8a2397:P.NOTION_CONNECTOR,connector_ef718304ffe64e31947b71887e3d51fa:P.CANVA_CONNECTOR,connector_6887fff96c948190aa97fd69c3041dea:P.UAE_PASS_CONNECTOR,connector_0f9c9d4592e54d0a9a12b3f44a1e2010:P.SLACK_CONNECTOR,[nx]:P.SLACK_CODEX_CONNECTOR,[rx]:P.SLACK_CODEX_BOT_CONNECTOR,[ix]:P.LINEAR_CODEX_BOT_CONNECTOR,connector_258b4e1b0cb61498ac3907daf4072fa7:P.CONFLUENCE_CONNECTOR,connector_141ed0ff031248bb8e5b5584de945cef:P.JIRA_CONNECTOR,connector_cfcd99fd238d43c888544acd294b3f31:P.JIRA_SERVICEMANAGEMENT_CONNECTOR,connector_6529c30f7e3590253d20626b8f971879:P.HUBSPOT_CONNECTOR};function qde(e){return Object.keys(fs).includes(e)}function F6e(e){return!(e==="web"||e==="cloud"||e in Lt||e in lf)}function Vde(e){return typeof window<"u"?"".concat(window.location.origin,"/connector_platform_oauth_redirect"):""}const $de="https://github.com/apps/chatgpt-codex-connector";function Hde(e){return"".concat($de,"/").concat(e)}const U6e={[P.GITHUB_CONNECTOR]:it.GitHub,[P.GDRIVE_ACTION_CONNECTOR]:it.GoogleDrive,[P.DROPBOX_CONNECTOR]:it.Dropbox,[P.LINEAR_CONNECTOR]:it.Linear,[P.SHAREPOINT_CONNECTOR]:it.Sharepoint,[P.TEAMS_CONNECTOR]:it.Teams,[P.OUTLOOK_EMAIL_CONNECTOR]:it.OutlookEmail,[P.OUTLOOK_CALENDAR_CONNECTOR]:it.OutlookCalendar,[P.BOX_CONNECTOR]:it.Box,[P.INTERCOM_CONNECTOR]:it.Intercom,[P.GCAL_CONNECTOR]:it.GoogleCalendar,[P.GMAIL_CONNECTOR]:it.Gmail,[P.GOOGLE_CONTACTS_CONNECTOR]:it.GoogleContacts,[P.HUBSPOT_CONNECTOR]:it.Hubspot,[P.SALESFORCE_CONNECTOR]:it.Salesforce,[P.AHA_CONNECTOR]:it.Aha,[P.ASANA_CONNECTOR]:it.Asana,[P.AZURE_DEVOPS_CONNECTOR]:it.AzureDevOps,[P.BASECAMP_CONNECTOR]:it.Basecamp,[P.CLICKUP_CONNECTOR]:it.Clickup,[P.FRESHDESK_CONNECTOR]:it.Freshdesk,[P.FRESHSERVICE_CONNECTOR]:it.Freshservice,[P.FRONT_CONNECTOR]:it.Front,[P.GITLAB_CONNECTOR]:it.Gitlab,[P.GORGIAS_CONNECTOR]:it.Gorgias,[P.HELP_SCOUT_CONNECTOR]:it.HelpScout,[P.IRONCLAD_CONNECTOR]:it.Ironclad,[P.PIPEDRIVE_CONNECTOR]:it.Pipedrive,[P.SALESFORCE_SERVICE_CLOUD_CONNECTOR]:it.SalesforceServiceCloud,[P.SHORTCUT_CONNECTOR]:it.Shortcut,[P.TEAMWORK_CONNECTOR]:it.Teamwork,[P.ZENDESK_CONNECTOR]:it.Zendesk,[P.ZOHO_CONNECTOR]:it.Zoho,[P.ZOHO_DESK_CONNECTOR]:it.ZohoDesk,[P.CANVA_CONNECTOR]:it.Canva,[P.NOTION_CONNECTOR]:it.Notion,[P.SLACK_CONNECTOR]:it.Slack,[P.SLACK_CODEX_CONNECTOR]:it.Slack,[P.CONFLUENCE_CONNECTOR]:it.Confluence,[P.JIRA_CONNECTOR]:it.Jira,[P.JIRA_SERVICEMANAGEMENT_CONNECTOR]:it.JiraServiceManagement,[P.SLACK_CODEX_BOT_CONNECTOR]:it.Slack,[P.LINEAR_CODEX_BOT_CONNECTOR]:it.Linear},zde=e=>[...Object.values(P),...Object.values(jm)].includes(e)?e:null,B6e=e=>e.map(t=>zde(t)).filter(t=>t!=null);async function Yde({redirectUri:e,connectorPlatformParams:t,redirectTo:n,onError:r,openPopup:i=!1,toaster:s,intl:o,productSku:a}){var l,u,d;we.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_initiated",{event:"start",type:t.connectorId});const{ConnectorsAnalytics:c}=await k(async()=>{const{ConnectorsAnalytics:f}=await Promise.resolve().then(()=>eMe);return{ConnectorsAnalytics:f}},void 0);c.logOAuthInitiated({connector_id_metadata:c.createIdMetadataFromId(t.connectorId,(l=zr())!=null?l:"unknown_referrer"),referrer:(u=zr())!=null?u:"unknown_referrer",authType:"OAUTH",scopes:t.oauthClientScopes});try{const f={connector_id:t.connectorId,oauth_client_id:t.oauthClientId,name:t.name,action_names:t.actionNames,requested_scopes:t.oauthClientScopes,callback_url:e,post_auth_url:n,slack_team_id:(d=t.slackTeamId)!=null?d:void 0,link_params:t.linkParams&&Object.keys(t.linkParams).length>0?t.linkParams:void 0};let h=await Z.safePost("/aip/connectors/links/oauth",{requestBody:f,additionalHeaders:a?{[_n]:a}:void 0});h.email_challenge_sent&&await new Promise((g,y)=>{const v=At();let T=!1;Mi(v,qD,{onVerify:async C=>{h=await Z.safePost("/aip/connectors/links/oauth",{requestBody:I(S({},f),{otp_code:C}),additionalHeaders:a?{[_n]:a}:void 0}),T=!0,Qw(v,qD),g()},onResendOtp:async()=>{await Z.safePost("/aip/connectors/links/oauth",{requestBody:f,additionalHeaders:a?{[_n]:a}:void 0})},onClose:()=>{T||y(null)}})});let p=null;qde(t.connectorId)&&fs[t.connectorId]===P.HUBSPOT_CONNECTOR?p=h.redirect_url+"&utm_source=chatgpt":p=h.redirect_url;let m=null;if(i&&(m=window.open("about:blank","_blank")),!m)window.location.href=p;else if(m)return m.location.href=p,new Promise(g=>{const y=v=>{var x,N,R,L;const{error:T,errorDesc:C,errorType:b,connectorId:O,success:w,linkId:A}=v.data;if(v.origin===window.location.origin&&!(O&&t.connectorId!==O)){if(w)we.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_success",{success:!0,type:t.connectorId}),c.logOAuthCompleted({connector_id_metadata:c.createIdMetadataFromId(t.connectorId,(x=zr())!=null?x:"unknown_referrer"),referrer:(N=zr())!=null?N:"unknown_referrer",authType:"OAUTH",scopes:t.oauthClientScopes,success:!0}),s==null||s.success(o.formatMessage(HC.createLinkSuccess,{connectorName:t.name})),g({success:!0,linkId:A,message:""});else{we.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_error",{success:!1,type:t.connectorId,errorType:b}),b!=="oauth_failed_scope_mismatch"&&(s==null||s.danger(o.formatMessage(HC.createLinkError,{connectorName:t.name}),{toastId:"connector_oauth_connect",loggingTitle:HC.createLinkError.defaultMessage,loggingDescription:"Failed to link connector"}));const D="".concat(T).concat(C?": ".concat(C):"");c.logOAuthCompleted({connector_id_metadata:c.createIdMetadataFromId(t.connectorId,(R=zr())!=null?R:"unknown_referrer"),referrer:(L=zr())!=null?L:"unknown_referrer",authType:"OAUTH",scopes:t.oauthClientScopes,success:!1,errorType:b,errorMessage:D}),g({errorType:b,success:w,message:D})}Yp.removeEventListener("message",y,!1)}};Yp.addEventListener("message",y,!1),m.addEventListener("beforeunload",()=>{Yp.removeEventListener("message",y,!1)})})}catch(f){if(r)r(f);else throw f}}const G6e={box:P.BOX_CONNECTOR,dropbox:P.DROPBOX_CONNECTOR,github:P.GITHUB_CONNECTOR,gmail:P.GMAIL_CONNECTOR,"google drive":P.GDRIVE_ACTION_CONNECTOR,"google calendar":P.GCAL_CONNECTOR,outlook:P.OUTLOOK_EMAIL_CONNECTOR,"outlook email":P.OUTLOOK_EMAIL_CONNECTOR,"outlook calendar":P.OUTLOOK_CALENDAR_CONNECTOR,sharepoint:P.SHAREPOINT_CONNECTOR,linear:P.LINEAR_CONNECTOR,teams:P.TEAMS_CONNECTOR,intercom:P.INTERCOM_CONNECTOR,hubspot:P.HUBSPOT_CONNECTOR,salesforce:P.SALESFORCE_CONNECTOR,notion:P.NOTION_CONNECTOR,canva:P.CANVA_CONNECTOR,slack:P.SLACK_CONNECTOR,confluence:P.CONFLUENCE_CONNECTOR,jira:P.JIRA_CONNECTOR,"jira service management":P.JIRA_SERVICEMANAGEMENT_CONNECTOR,slack_codex_connector:P.SLACK_CODEX_CONNECTOR,slack_codex_bot_connector:P.SLACK_CODEX_BOT_CONNECTOR,linear_codex_bot_connector:P.LINEAR_CODEX_BOT_CONNECTOR},HC=Tt({createLinkSuccess:{id:"KVbj6o",defaultMessage:"{connectorName} is now connected."},createLinkError:{id:"Y6p1d0",defaultMessage:"There was a problem connecting {connectorName}. Try again later."}});function fp(e){switch(e){case P.GOOGLE_CONTACTS_CONNECTOR:return"gcontacts";case P.GMAIL_CONNECTOR:return"gmail";case P.GCAL_CONNECTOR:return"gcal";default:return null}}function Kde(e){switch(e){case"gmail":return P.GMAIL_CONNECTOR;case"gcal":return P.GCAL_CONNECTOR;case"gcontacts":return P.GOOGLE_CONTACTS_CONNECTOR;default:return null}}function W6e(e,t){var n,r,i,s,o;switch(e){case"gmail":return Lt[P.GMAIL_CONNECTOR];case"gcal":return Lt[P.GCAL_CONNECTOR];case"gcontacts":return Lt[P.GOOGLE_CONTACTS_CONNECTOR];case"api_tool":{const a=(i=(r=(n=t==null?void 0:t[t.length-1])==null?void 0:n.metadata)==null?void 0:r.jit_plugin_data)==null?void 0:i.from_server;return(a==null?void 0:a.type)==="oauth_required"?(s=a.body.connector_id)!=null?s:null:(a==null?void 0:a.type)==="link_required"&&(o=a.body.connector_id)!=null?o:null}default:return null}}const Jde={aha_sync_connector:"Aha!",asana_sync_connector:"Asana",azure_devops_sync_connector:"Azure DevOps",basecamp_sync_connector:"Basecamp",box_sync_connector:"Box",dropbox_sync_connector:"Dropbox",github_sync_connector:"GitHub",gdrive_sync_connector:"Google Drive",clickup_sync_connector:"ClickUp",notion_sync_connector:"Notion",slack_sync_connector:"Slack",sharepoint_sync_connector:"SharePoint",sharepoint_admin_sync_connector:"SharePoint",teams_sync_connector:"Microsoft Teams",teams_admin_sync_connector:"Microsoft Teams",linear_sync_connector:"Linear",jira_sync_connector:"Jira",jira_servicemanagement_sync_connector:"Jira Service Management",confluence_sync_connector:"Confluence",intercom_sync_connector:"Intercom",hubspot_sync_connector:"HubSpot",salesforce_sync_connector:"Salesforce",freshdesk_sync_connector:"Freshdesk",freshservice_sync_connector:"Freshservice",front_sync_connector:"Front",gitlab_sync_connector:"GitLab",gorgias_sync_connector:"Gorgias",helpscout_sync_connector:"Help Scout",ironclad_sync_connector:"Ironclad",pipedrive_sync_connector:"Pipedrive",salesforce_service_cloud_sync_connector:"Salesforce Service Cloud",shortcut_sync_connector:"Shortcut",teamwork_sync_connector:"Teamwork",zendesk_sync_connector:"Zendesk",zoho_sync_connector:"Zoho",zoho_desk_sync_connector:"Zoho Desk"},Xde=e=>{var t;return(t=Jde[e.user_connection_details.connection_type])!=null?t:e.connection_display_info.display_name},qD=B(()=>k(()=>import("./kkxu8ycyl86d3l3q.js"),__vite__mapDeps([19,1,20,12,3,4])).then(e=>e.ConnectorEmailVerifyModal)),Qde=[ae.Slurm,ae.Research,tA],VD="cloud",Xq=e=>[...e.values()].some(r=>r==null?void 0:r.has(VD))?new Map([...e].map(([r,i])=>[r,new Set([...i].filter(s=>s!==VD))])):new Map(e),Zde=e=>{const t=new Map([[void 0,new Set(Object.keys(lf))],[ae.Slurm,new Set(Object.keys(lf))],[ae.Research,new Set(["web"])],[tA,new Set(["web"])]]);try{const n=efe(e);n&&n.forEach((r,i)=>{Qde.includes(i)&&t.set(i,new Set(r))})}catch(n){}return t},Qq="v1.1",Zq=e=>{var n;const t=vn.getItem(en.SelectedSources,e);if(!t)return{};try{const{version:r,data:i}=JSON.parse(t);if(r!==Qq)return vn.removeItem(en.SelectedSources),{};const s=new Map([...i.selected_sources].map(([a,c])=>[a,new Set(c)])),o=new Map(((n=i.selected_mcp_sources)!=null?n:[]).map(([a,c])=>[a,new Set(c)]));return{selectedSources:s,selectedMCPSources:o}}catch(r){return{}}},efe=e=>{const t=Zq(e).selectedSources;return Xq(t!=null?t:new Map)},tfe=e=>Zq(e).selectedMCPSources,nfe=e=>{const t=tfe(e);return t&&t.delete(ae.Glaux),t!=null?t:new Map},q6e=({selectedSourcesMap:e,selectedMCPSourcesMap:t,scope:n})=>{if(!e&&!t){vn.removeItem(en.SelectedSources);return}const r=Xq(e!=null?e:new Map),i={selected_sources:[...r!=null?r:new Map].map(([o,a])=>[o,[...a]]),selected_mcp_sources:[...t!=null?t:new Map].map(([o,a])=>[o,[...a]])},s={version:Qq,data:i};vn.setItem(en.SelectedSources,JSON.stringify(s),n)},rfe="placeholder-";function $D(e){return e.startsWith(rfe)}var kt;const Ua=class Ua{constructor(t){Nt(this,kt);U(this,"rootId");const n={};let r;for(const i of t)n[i.id]=i,!r&&i.message.author.role===Ke.Root&&(r=i.id);if(!r)throw new Error("Missing root node");Ut(this,kt,n),this.rootId=r}static emptyTree(){return new Ua([Ua.createRootNode("client-created-root")])}static createNode(t,n,r=[],i){const s=i!=null?i:t.id;if(s===n)throw new Error("createNode: parent.id and node.id cannot be the same: ".concat(s));return{id:s,parentId:n,children:r,message:t}}static createRootNode(t){const n={id:t,author:{role:Ke.Root},content:{content_type:qe.Text,parts:[]}};return Ua.createNode(n,"")}get nodes(){return Object.values(fe(this,kt))}messageIdToNodeId(t){var n;return(n=this.messageIdToExistingNodeId(t))!=null?n:t}messageIdToExistingNodeId(t){var n;if(fe(this,kt)[t]!=null)return t;for(const r of Object.values(fe(this,kt)))if(((n=r.message)==null?void 0:n.id)===t)return e7(r.id,r.message.id),r.id}containsNodeOrMessageId(t){return this.messageIdToExistingNodeId(t)!=null}getNodeByIdOrMessageId(t){const n=this.getNodeIfExists(t);if(n)return n;const r=$D(t);throw we.logEventWithStatsig("chatgpt_conversation_tree__node_not_found","chatgpt_web_conversation_tree_node_not_found",{rootId:this.rootId,nodeOrMessageId:t,isNodeStartWithPlaceholder:r}),Xn.count(Wn.DEFAULT,"chatgpt_web_conversation_tree_node_not_found",[{key:"isNodeStartWithPlaceholder",value:r?"true":"false"}]),Q.addError(new Error("web client getNodeByIdOrMessageId - no node found by id ".concat(t," isNodeStartWithPlaceholder: ").concat(r))),new Error("getNodeByIdOrMessageId - no node found by id: ".concat(t))}getNodeIfExists(t){const n=this.messageIdToExistingNodeId(t);if(n)return fe(this,kt)[n]}findNode(t,n,r=this.rootId){const i=this.getNodeIfExists(r);let s=this.getNodeIfExists(n);for(;i&&s&&s!==i;){if(t(s))return s;s=this.getNodeIfExists(s.parentId)}}findFirst(t){let n=this.getNodeByIdOrMessageId(this.rootId);for(;n&&n.children.length===1;)if(n=this.getNodeByIdOrMessageId(n.children[0]),t(n))return n}findFirstFromLeaf(t,n){let r,i=this.getNodeByIdOrMessageId(n);for(;i;)t(i)&&(r=i),i=this.getNodeIfExists(i.parentId);return r}findFirstFromLeafToParent(t,n,r){let i,s=this.getNodeByIdOrMessageId(n);for(;s&&(t(s)&&(i=s),s.parentId!==r);)s=this.getNodeIfExists(s.parentId);return i}getLeafFromNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;)n=this.getNodeByIdOrMessageId(n.children[0]);return n}getLeafFromNodeAvoidingPlaceholders(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;){const r=n.children.find(i=>!$D(i));r?n=this.getNodeByIdOrMessageId(r):n=this.getNodeByIdOrMessageId(n.children[0])}return n}getDescendants(t){const n=[],r=[t];for(;r.length>0;){const i=r.shift();if(!i)break;const s=this.getNodeByIdOrMessageId(i);r.push(...s.children),n.push(...s.children)}return n}getParent(t){const n=this.getNodeByIdOrMessageId(t).parentId;return this.getNodeByIdOrMessageId(n)}getBranchFromLeaf(t){let n=[],r=this.getNodeByIdOrMessageId(t);for(;r!=null;){if(n.includes(r)){Q.addError("Infinite loop detected in getBranchFromLeaf. Branch already contains node ".concat(r==null?void 0:r.id,". Parent id: ").concat(r==null?void 0:r.parentId,"."),{branch:n});break}if(n.push(r),r.message.author.role===Ke.Root)break;r=this.getNodeByIdOrMessageId(r.parentId)}return n=n.reverse(),n}addMessageNode(t,n){const r=this.messageIdToNodeId(n.id),i=this.getNodeByIdOrMessageId(t),s=Ua.createNode(n,i.id,[],r);return Ut(this,kt,_i(fe(this,kt),o=>{o[s.id]=s;const a=o[s.parentId];a.children.includes(s.id)||a.children.push(s.id)})),s.id}prependNode(t,n){const r=this.messageIdToNodeId(n.id),i=this.getNodeByIdOrMessageId(t),s=Ua.createNode(n,i.parentId,[i.id],r);Ut(this,kt,_i(fe(this,kt),o=>{o[s.id]=s;const a=o[s.parentId];a.children=a.children.filter(l=>l!==i.id),a.children.includes(s.id)||a.children.push(s.id);const c=o[i.id];c.parentId=s.id}))}deleteNode(t){const n=this.getNodeByIdOrMessageId(t);Ut(this,kt,_i(fe(this,kt),r=>{const i=n.parentId,s=n.children;for(const a of s){const c=r[this.messageIdToNodeId(a)];c.parentId=i}const o=r[this.messageIdToNodeId(i)];if(o==null){console.warn("Cannot deleteNode with nodeId: ".concat(t," - parent not found. Either this is root or in an orphaned branch"));return}o.children=o.children.flatMap(a=>this.messageIdToNodeId(a)===this.messageIdToNodeId(n.id)?s:[a]),delete r[n.id]}))}moveNode(t,n){Ut(this,kt,_i(fe(this,kt),r=>{const i=this.getDescendants(n);if(i.includes(t)){Q.addError("Cannot moveNode with nodeId: ".concat(n," - new parent is already a descendant."),{parentId:t,descendants:i});return}const s=r[this.messageIdToNodeId(n)],o=r[this.messageIdToNodeId(s.parentId)];if(o==null){console.warn("Cannot moveNode with nodeId: ".concat(n," - old parent not found. Either this is root or in an orphaned branch"));return}o.children=o.children.filter(c=>c!==s.id);const a=r[this.messageIdToNodeId(t)];if(a==null){console.warn("Cannot moveNode with nodeId: ".concat(n," - new parent not found."));return}a.children.includes(s.id)||a.children.push(s.id),s.parentId=t}))}clearNodeMessageParts(t){Ut(this,kt,_i(fe(this,kt),n=>{const r=n[this.messageIdToNodeId(t)];r&&r.message&&"parts"in r.message.content&&(r.message.content.parts=[])}))}updateNodeMetadata(t,n){Ut(this,kt,_i(fe(this,kt),r=>{const i=r[this.messageIdToNodeId(t)];i&&(i.message.clientMetadata=S(S({},i==null?void 0:i.message.clientMetadata),n))}))}updateNodeMessage(t,n){Ut(this,kt,_i(fe(this,kt),r=>{const i=r[this.messageIdToNodeId(t)];if(i){const s=i.message.clientMetadata;i.message=s?I(S({},n),{clientMetadata:s}):n}}))}updateNodeMessageMetadata(t,n){Ut(this,kt,_i(fe(this,kt),r=>{const i=r[this.messageIdToNodeId(t)];i&&(i.message.metadata=S(S({},i.message.metadata),n))}))}prettyPrint(t=this.rootId,n=0){const r=this.getNodeByIdOrMessageId(t),i=AW(r.message);let s="".concat("	".repeat(n),"->").concat(t," - ").concat(i.replaceAll("\n","\\n"),"\n");const o=r.children.map(a=>this.getNodeByIdOrMessageId(a));for(const a of o)s+=this.prettyPrint(a.id,n+1);return s}};kt=new WeakMap;let _c=Ua;const HD=new Set;function e7(e,t,n){const r=new Error("Found TreeNode where message.id ".concat(t," != node.id ").concat(e));console.warn(r),HD.has(e)||(HD.add(e),n?Q.addAction("tree_node_id_mismatch_api",{nodeId:e,messageId:t,conversationId:n}):Q.addAction("tree_node_id_mismatch_client",{nodeId:e,messageId:t}))}function ife(e,t){var a;const n=new Set,r=new Set,i=new Set,s=new Map;return((a=e.moderation_results)!=null?a:[]).forEach(c=>{var l;s.set(c.message_id,c),c.blocked?r.add(c.message_id):c.flagged&&n.add(c.message_id),(l=c.disclaimers)!=null&&l.length&&!c.blocked&&i.add(c.message_id)}),{nodes:Object.values(e.mapping).map(({id:c,parent:l,children:u,message:d})=>{var g,y,v,T,C,b;if(!l)return _c.createRootNode(c);if(!d)throw new Error("Missing message for node ".concat(c));c!==d.id&&e7(c,d.id,t);const f={},h=s.get(d.id);let p=!1;if(r.has(d.id)){const O=(g=h==null?void 0:h.should_disable_conversation)!=null?g:!1,w=(v=(y=h==null?void 0:h.metadata)==null?void 0:y.model_incompatibility)!=null?v:!1,A=(C=(T=h==null?void 0:h.metadata)==null?void 0:T.safety_limited)!=null?C:!1;Object.assign(f,{isSafetyLimited:A}),Object.assign(f,cae({isSafetyLimited:A,shouldDisableConversation:O,isModelIncompatibility:w})),p=!0}else n.has(d.id)&&Object.assign(f,tae);if(i.has(d.id)){const O=s.get(d.id);(b=O==null?void 0:O.disclaimers)!=null&&b.length&&Object.assign(f,aae(O.disclaimers,p))}const m=I(S({},d),{clientMetadata:f});return _c.createNode(m,l,u,c)},{}),initialCurrentLeafId:e.current_node}}var hp={exports:{}},zD;function sfe(){if(zD)return hp.exports;zD=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(b,O,w){return Function.prototype.apply.call(b,O,w)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:n=function(b){return Object.getOwnPropertyNames(b)};function r(C){console&&console.warn&&console.warn(C)}var i=Number.isNaN||function(b){return b!==b};function s(){s.init.call(this)}hp.exports=s,hp.exports.once=y,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");o=C}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||i(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this};function c(C){return C._maxListeners===void 0?s.defaultMaxListeners:C._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(b){for(var O=[],w=1;w<arguments.length;w++)O.push(arguments[w]);var A=b==="error",x=this._events;if(x!==void 0)A=A&&x.error===void 0;else if(!A)return!1;if(A){var N;if(O.length>0&&(N=O[0]),N instanceof Error)throw N;var R=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw R.context=N,R}var L=x[b];if(L===void 0)return!1;if(typeof L=="function")t(L,this,O);else for(var D=L.length,F=p(L,D),w=0;w<D;++w)t(F[w],this,O);return!0};function l(C,b,O,w){var A,x,N;if(a(O),x=C._events,x===void 0?(x=C._events=Object.create(null),C._eventsCount=0):(x.newListener!==void 0&&(C.emit("newListener",b,O.listener?O.listener:O),x=C._events),N=x[b]),N===void 0)N=x[b]=O,++C._eventsCount;else if(typeof N=="function"?N=x[b]=w?[O,N]:[N,O]:w?N.unshift(O):N.push(O),A=c(C),A>0&&N.length>A&&!N.warned){N.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");R.name="MaxListenersExceededWarning",R.emitter=C,R.type=b,R.count=N.length,r(R)}return C}s.prototype.addListener=function(b,O){return l(this,b,O,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(b,O){return l(this,b,O,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(C,b,O){var w={fired:!1,wrapFn:void 0,target:C,type:b,listener:O},A=u.bind(w);return A.listener=O,w.wrapFn=A,A}s.prototype.once=function(b,O){return a(O),this.on(b,d(this,b,O)),this},s.prototype.prependOnceListener=function(b,O){return a(O),this.prependListener(b,d(this,b,O)),this},s.prototype.removeListener=function(b,O){var w,A,x,N,R;if(a(O),A=this._events,A===void 0)return this;if(w=A[b],w===void 0)return this;if(w===O||w.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete A[b],A.removeListener&&this.emit("removeListener",b,w.listener||O));else if(typeof w!="function"){for(x=-1,N=w.length-1;N>=0;N--)if(w[N]===O||w[N].listener===O){R=w[N].listener,x=N;break}if(x<0)return this;x===0?w.shift():m(w,x),w.length===1&&(A[b]=w[0]),A.removeListener!==void 0&&this.emit("removeListener",b,R||O)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(b){var O,w,A;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[b]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[b]),this;if(arguments.length===0){var x=Object.keys(w),N;for(A=0;A<x.length;++A)N=x[A],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=w[b],typeof O=="function")this.removeListener(b,O);else if(O!==void 0)for(A=O.length-1;A>=0;A--)this.removeListener(b,O[A]);return this};function f(C,b,O){var w=C._events;if(w===void 0)return[];var A=w[b];return A===void 0?[]:typeof A=="function"?O?[A.listener||A]:[A]:O?g(A):p(A,A.length)}s.prototype.listeners=function(b){return f(this,b,!0)},s.prototype.rawListeners=function(b){return f(this,b,!1)},s.listenerCount=function(C,b){return typeof C.listenerCount=="function"?C.listenerCount(b):h.call(C,b)},s.prototype.listenerCount=h;function h(C){var b=this._events;if(b!==void 0){var O=b[C];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(C,b){for(var O=new Array(b),w=0;w<b;++w)O[w]=C[w];return O}function m(C,b){for(;b+1<C.length;b++)C[b]=C[b+1];C.pop()}function g(C){for(var b=new Array(C.length),O=0;O<b.length;++O)b[O]=C[O].listener||C[O];return b}function y(C,b){return new Promise(function(O,w){function A(N){C.removeListener(b,x),w(N)}function x(){typeof C.removeListener=="function"&&C.removeListener("error",A),O([].slice.call(arguments))}T(C,b,x,{once:!0}),b!=="error"&&v(C,A,{once:!0})})}function v(C,b,O){typeof C.on=="function"&&T(C,"error",b,O)}function T(C,b,O,w){if(typeof C.on=="function")w.once?C.once(b,O):C.on(b,O);else if(typeof C.addEventListener=="function")C.addEventListener(b,function A(x){w.once&&C.removeEventListener(b,A),O(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return hp.exports}var ofe=sfe();const afe=Gt(ofe);class sx{constructor(){U(this,"emitter",new afe);this.emitter.setMaxListeners(1e3)}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}publish(t){this.emitter.emit(t.kind,t),this.emitter.emit("anyEvent",t)}}const cfe=new sx;function F_(e,t,n=Object.is){if(e===t)return!0;if(typeof e!="object"||e==null||typeof t!="object"||t==null)return n(e,t);if(Array.isArray(e)&&Array.isArray(t)){const i=e.length;if(t.length!==i)return!1;for(let s=0;s<i;s++)if(!n(e[s],t[s]))return!1;return!0}const r=Object.getPrototypeOf(e);if(Object.getPrototypeOf(t)!==r)return!1;if(e instanceof Map){const i=t;if(e.size!==i.size)return!1;for(const[s,o]of e.entries())if(!n(o,i.get(s)))return!1;return!0}if(Symbol.iterator in e&&Symbol.iterator in t){const i=e,o=t[Symbol.iterator]();for(const a of i){const c=o.next();if(c.done||!n(a,c.value))return!1}return o.next().done===!0}if(r===Object.prototype||r==null){const i=e,s=t,o=Object.keys(i),a=o.length;if(Object.keys(s).length!==a)return!1;for(let c=0;c<a;++c){const l=o[c];if(!Object.prototype.hasOwnProperty.call(s,l)||!n(i[l],s[l]))return!1}return!0}return!1}var zC,YD;function lfe(){if(YD)return zC;YD=1;function e(t){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];o&&(s[i++]=o)}return s}return zC=e,zC}var ufe=lfe();const ox=Gt(ufe),dfe="text/plain",ffe="us-ascii",YC=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),hfe=new Set(["https:","http:","file:"]),pfe=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!hfe.has(t)}catch(t){return!1}},mfe=(e,{stripHash:t})=>{var d,f;const n=new RegExp("^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$").exec(e);if(!n)throw new Error("Invalid URL: ".concat(e));let{type:r,data:i,hash:s}=n.groups;const o=r.split(";");s=t?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);const c=(f=(d=o.shift())==null?void 0:d.toLowerCase())!=null?f:"",u=[...o.map(h=>{let[p,m=""]=h.split("=").map(g=>g.trim());return p==="charset"&&(m=m.toLowerCase(),m===ffe)?"":"".concat(p).concat(m?"=".concat(m):"")}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||c&&c!==dfe)&&u.unshift(c),"data:".concat(u.join(";"),",").concat(a?i.trim():i).concat(s?"#".concat(s):"")};function gfe(e,t){if(t=S({defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0},t),typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol="".concat(t.defaultProtocol,":")),e=e.trim(),/^data:/i.test(e))return mfe(e,t);if(pfe(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){const o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let a=0,c="";for(;;){const u=o.exec(i.pathname);if(!u)break;const d=u[0],f=u.index,h=i.pathname.slice(a,f);c+=h.replace(/\/{2,}/g,"/"),c+=d,a=f+d.length}const l=i.pathname.slice(a,i.pathname.length);c+=l.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname).replace(/\\/g,"%5C")}catch(o){}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/");const a=o[o.length-1];YC(a,t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const o of[...i.searchParams.keys()])YC(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(i.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const o of[...i.searchParams.keys()])YC(o,t.keepQueryParameters)||i.searchParams.delete(o);if(t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch(o){}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,"")),t.removeExplicitPort&&i.port&&(i.port="");const s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}const _fe={},vfe=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=f=>{const h=o(f);if(!u(d,h)){const p=d;a(d=h,p)}},c!=null&&c.fireImmediately&&a(d,d)}return i(l)},e(t,n,r)},yfe=vfe;function bfe(e,t){let n;try{n=e()}catch(i){return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const uf=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return uf(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return uf(r)(n)}}}},Cfe=(e,t)=>(n,r,i)=>{let s=S({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,y)=>S(S({},y),g)},t),o=!1;const a=new Set,c=new Set;let l;try{l=s.getStorage()}catch(g){}if(!l)return e((...g)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),n(...g)},r,i);const u=uf(s.serialize),d=()=>{const g=s.partialize(S({},r()));let y;const v=u({state:g,version:s.version}).then(T=>l.setItem(s.name,T)).catch(T=>{y=T});if(y)throw y;return v},f=i.setState;i.setState=(g,y)=>{f(g,y),d()};const h=e((...g)=>{n(...g),d()},r,i);let p;const m=()=>{var g;if(!l)return;o=!1,a.forEach(v=>v(r()));const y=((g=s.onRehydrateStorage)==null?void 0:g.call(s,r()))||void 0;return uf(l.getItem.bind(l))(s.name).then(v=>{if(v)return s.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==s.version){if(s.migrate)return s.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var T;return p=s.merge(v,(T=r())!=null?T:h),n(p,!0),d()}).then(()=>{y==null||y(p,void 0),o=!0,c.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:g=>{s=S(S({},s),g),g.getStorage&&(l=g.getStorage())},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},m(),p||h},Efe=(e,t)=>(n,r,i)=>{let s=S({storage:bfe(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>S(S({},g),m)},t),o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return e((...m)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),n(...m)},r,i);const u=()=>{const m=s.partialize(S({},r()));return l.setItem(s.name,{state:m,version:s.version})},d=i.setState;i.setState=(m,g)=>{d(m,g),u()};const f=e((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let h;const p=()=>{var m,g;if(!l)return;o=!1,a.forEach(v=>{var T;return v((T=r())!=null?T:f)});const y=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(m=r())!=null?m:f))||void 0;return uf(l.getItem.bind(l))(s.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==s.version){if(s.migrate)return s.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var T;return h=s.merge(v,(T=r())!=null?T:f),n(h,!0),u()}).then(()=>{y==null||y(h,void 0),h=r(),o=!0,c.forEach(v=>v(h))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:m=>{s=S(S({},s),m),m.storage&&(l=m.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},s.skipHydration||p(),h||f},Sfe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((_fe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Cfe(e,t)):Efe(e,t),Ofe=Sfe;function t7(e,t){var n,r;return(r=(n=e.findNode(i=>n7(i,t),t))==null?void 0:n.children)!=null?r:wfe}function Tfe(e,t){return t7(e,t).find(n=>{var r;return n===t||n===((r=e.findNode(i=>i.id===n||n7(i,t),t))==null?void 0:r.id)})}function n7(e,t){return e.id!==t&&(e.children.length>1||!Eu(e.message))}const wfe=Object.freeze([]);function Afe(){return"".concat(Zw).concat(dr())}let xfe=0;function V6e(){return xfe++}function fh(e){return e.startsWith(Zw)}const r7=()=>_c.emptyTree(),Ife=new Set(Object.keys(fs)),i7=e=>{var n;const t=(n=e==null?void 0:e.metadata)==null?void 0:n.system_hints;return t!=null&&t.length?t.some(r=>typeof r=="string"&&Ife.has(r)):!1},s7=e=>e.nodes.some(t=>i7(t.message)),Nfe=Object.freeze({});var Rfe=(e=>(e.NewChat="NewChat",e.Server="Server",e.User="User",e.Generated="Generated",e.Unknown="Unknown",e))(Rfe||{});const mi={};function Pfe(e,t){mi[e]&&(clearTimeout(mi[e]),delete mi[e]);const n=3e4;mi[e]=setTimeout(()=>{var s;const r=Xi();if(r.threads[e]==null){clearTimeout(mi[e]),delete mi[e];return}if(((s=r.threadRetainCounts[e])!=null?s:0)>0){clearTimeout(mi[e]),delete mi[e];return}o7.deleteThread(e),clearTimeout(mi[e]),delete mi[e]},n)}function kfe(e){return e}const Mfe=kfe,hh=rr(Mfe(mu(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}})))),Xi=hh.getState,Ia=hh.setState;function ax(e,t=Xi()){return fh(e)?t.clientNewThreadIdToServerIdMapping[e]:e}function $6e(e,t=Xi()){var r;const n=(r=Object.entries(t.clientNewThreadIdToServerIdMapping).find(([i,s])=>s===e))==null?void 0:r[0];return n!=null?n:e}const H6e=e=>hh(t=>e?ax(e,t):void 0);function s1(e,t=Xi()){var n;return(n=t.clientNewThreadIdToServerIdMapping[e])!=null?n:e}function ph(e,t=Xi()){const n=s1(e,t);return t.threads[n]}function Dfe(e,t){const n=E.useRef(void 0);return E.useMemo(()=>[],[t.clientThreadId]),r=>{const i=e(r);return F_(n.current,i)||(n.current=i),n.current}}function mh(e,t,n){return hh(Dfe(r=>t(e&&ph(e,r)),{disablePerfDetector:(n==null?void 0:n.disablePerfDetector)===!0,clientThreadId:e}))}function _l(e,t){Ia(n=>{const r=ph(e,n);r&&t(r)})}const Lfe=["utm_source"],KD=e=>{try{return gfe(e,{stripWWW:!1,removeTrailingSlash:!0,sortQueryParameters:!0,removeQueryParameters:Lfe})}catch(t){return e}},jfe=e=>{var t;return((t=e==null?void 0:e.search_result_groups)!=null?t:[]).flatMap(n=>{var r;return(r=n.entries)!=null?r:[]}).map(n=>n==null?void 0:n.url)},Me={getGizmoId:e=>(e==null?void 0:e.mode.kind)===zs.GizmoInteraction||(e==null?void 0:e.mode.kind)===zs.GizmoTest?e.mode.gizmo_id:void 0,getTree:e=>{var t;return(t=e==null?void 0:e.tree)!=null?t:r7()},getBranch:(e,t=Me.getCurrentLeafId(e))=>{var n;return(n=e==null?void 0:e.tree.getBranchFromLeaf(t))!=null?n:[]},getThreadTitleSource:e=>{var t;return(t=e==null?void 0:e.titleSource)!=null?t:"Unknown"},getThreadCreateTime:e=>e==null?void 0:e.createTime,getIsNewConversation:e=>Me.getCurrentLeafId(e)===Me.getTree(e).rootId,getCurrentLeafId:e=>{var t;return(t=e==null?void 0:e.currentLeafId)!=null?t:Me.getTree(e).rootId},getCurrentNode:e=>Me.getNode(e,Me.getCurrentLeafId(e)),getNode:(e,t)=>Me.getTree(e).getNodeByIdOrMessageId(t),getParentNode:(e,t)=>Me.getTree(e).getParent(t),getParentPromptNode:(e,t=Me.getCurrentLeafId(e))=>Me.findNode(e,n=>CW(n.message),t),getAsyncTurns:e=>{var t;return(t=e==null?void 0:e.asyncTurns)!=null?t:Nfe},isThreadUrlSafe:(e,t)=>{var n;return(n=e==null?void 0:e.safeUrls.map(r=>KD(r)).includes(KD(t)))!=null?n:!1},getTurnContentReferences:(e,t)=>{var n;return ox((n=Me.getConversationTurnAtIndex(e,t).messages.flatMap(Ufe))!=null?n:[])},isArchived:e=>{var t;return(t=e==null?void 0:e.isArchived)!=null?t:!1},isStarred:e=>{var t;return(t=e==null?void 0:e.isStarred)!=null?t:!1},shouldRefetchConvoOnFinalize:e=>{var t;return(t=e==null?void 0:e.shouldRefetchConvoOnFinalize)!=null?t:!1},getUpdateTime:e=>{var t;return(t=e==null?void 0:e.update_time)!=null?t:e!=null&&e.createTime?e.createTime.getTime()/1e3:null},hasUserMessage:e=>Me.findNode(e,t=>La(t.message))!=null,lastUserMessage:e=>{var t,n;return(n=(t=Me.findNode(e,r=>La(r.message)))==null?void 0:t.message)!=null?n:null},firstUserMessage:e=>{var t,n;return(n=(t=Me.findFirstFromLeaf(e,r=>La(r.message)))==null?void 0:t.message)!=null?n:null},isLastActorMessage:(e,t)=>Me.getTree(e).findNode(n=>n.message.author.role===Ke.Assistant||n.message.author.role===Ke.User||n.message.author.role===Ke.Tool&&n.message.author.name===kd.A8KM123,Me.getCurrentLeafId(e),t)==null,findNode:(e,t,n=Me.getCurrentLeafId(e))=>Me.getTree(e).findNode(t,n),findFirstFromLeaf(e,t,n=Me.getCurrentLeafId(e)){return Me.getTree(e).findFirstFromLeaf(t,n)},isMessageTurnEnded:(e,t=Me.getCurrentLeafId(e))=>{var n;return(n=e==null?void 0:e.tree.getNodeByIdOrMessageId(t).message.end_turn)!=null?n:!1},getConversationTurns:(e,t=Me.getCurrentLeafId(e))=>LA(Me.getTree(e),t),getConversationTurnIds:e=>Ffe(Me.getConversationTurns(e)),getConversationTurnAtIndex:(e,t,n=Me.getCurrentLeafId(e))=>{const r=Me.getConversationTurns(e,n);if(t>=r.length)throw new Error("Turn index ".concat(t," out of bounds"));return r[t]},getConversationLastTurn:(e,t=Me.getCurrentLeafId(e))=>Us(Me.getConversationTurns(e,t)),getConversationSearchEntryUrls:(e,t=Me.getCurrentLeafId(e))=>Me.getConversationTurns(e,t).flatMap(n=>n.messages).flatMap(n=>jfe(n==null?void 0:n.metadata)),getConversationTurnIndex:(e,t=Me.getCurrentLeafId(e))=>Me.getConversationTurns(e).findIndex(r=>r.messages.some(i=>i.id===t)),hasUserContextPrompt:e=>{var t;return Me.getTree(e).findFirst(n=>{var r;return((r=n.message.metadata)==null?void 0:r.is_user_system_message)!=null})!=null||((t=e==null?void 0:e.sharedConversationMetadata)==null?void 0:t.hasUserEditableContextFlag)!=null},hasModelEditableContext:e=>Me.findNode(e,t=>t.message.content.content_type==="model_editable_context")!=null,hasRecentPIMWarning:e=>{var n;const t=e==null?void 0:e.tree.getBranchFromLeaf(e.currentLeafId);if(!t)return!1;for(let r=t.length-1;r>=0;r--){if(t[r].message.author.role===Ke.User)return!1;if((n=t[r].message.metadata)!=null&&n.is_pim_warning)return!0}return!1},getRequestId:(e,t=Me.getCurrentLeafId(e))=>{var n,r;return(r=(n=Me.findNode(e,i=>{var s;return((s=i.message.clientMetadata)==null?void 0:s.requestId)!=null},t))==null?void 0:n.message.clientMetadata)==null?void 0:r.requestId},getLastMessageSystemHints:e=>{var n,r;const t=Me.findNode(e,i=>La(i.message));return(r=(n=t==null?void 0:t.message.metadata)==null?void 0:n.system_hints)!=null?r:[]},getVariantIds:(e,t=Me.getCurrentLeafId(e))=>t7(Me.getTree(e),t),getCurrentVariantId:(e,t=Me.getCurrentLeafId(e))=>Tfe(Me.getTree(e),t),getIsDoNotRemember:e=>{var t;return(t=e==null?void 0:e.is_do_not_remember)!=null?t:!1},getSuperWidgetMessages:(e,t)=>(t!=null?Me.getConversationTurnAtIndex(e,t).messages:Me.getConversationTurns(e).flatMap(r=>r.messages)).filter(r=>r.content.content_type==="super_widget"),getLastAssistantMessage:e=>Me.getConversationTurns(e).flatMap(t=>t.messages).filter(t=>t.author.role===Ke.Assistant).at(-1),getUserMessages:e=>Me.getConversationTurns(e).flatMap(t=>t.messages).filter(La),isReasoningResponseMessage:(e,t)=>{var r;const n=(r=Me.getParentNode(e,t))==null?void 0:r.message;return n!=null&&MA(n)},getSteeringAsyncTaskId:e=>{var t;return(t=e==null?void 0:e.steeringAsyncTaskId)!=null?t:null},findAsyncTaskMetadataNode:(e,t)=>{if(t){const n=Me.findNode(e,r=>{const i=r.message.metadata;return(i==null?void 0:i.b1de6e2_s)===!0&&(i==null?void 0:i.async_task_id)===t||r.message.author.name===kd.A8KM123&&(i==null?void 0:i.async_task_id)===t});if(n)return n}return Me.findNode(e,n=>{const r=n.message.metadata;return(r==null?void 0:r.b1de6e2_s)===!0||n.message.author.name===kd.A8KM123&&(r==null?void 0:r.async_task_id)!=null})},hasContinuedFromAsyncTask:(e,t,n)=>{var s,o;const r=(o=(s=Me.findFirstFromLeaf(e,a=>{var c;return((c=a.message.metadata)==null?void 0:c.async_task_id)===n}))==null?void 0:s.message)!=null?o:null;return r?Me.getTree(e).findFirstFromLeafToParent(a=>Ym(a.message)&&a.message.id!==t,t,r.id)!=null:!1},getIsReadOnly:e=>{var t;return(t=e==null?void 0:e.isReadOnly)!=null?t:!1}};let JD=0,XD,QD=[];function Ffe(e){var r;const t=e.length,n=(r=Us(e))==null?void 0:r.id;return(JD!==t||XD!==n)&&(JD=t,XD=n,QD=e.map(i=>i.id)),QD}const KC={updateTree(e,t){const n=t(e.tree,Me.getCurrentLeafId(e));e._treeVersion++,n&&(e.currentLeafId=n),!e.hasIKConvo&&s7(e.tree)&&(e.hasIKConvo=!0)},setCurrentBranch(e,t){KC.updateTree(e,n=>n.getLeafFromNode(t).id)},appendMessage(e,t){KC.updateTree(e,(n,r)=>n.addMessageNode(r,t)),!e.hasIKConvo&&i7(t)&&(e.hasIKConvo=!0)},setShouldRefetchConvoOnFinalize(e,t){e.shouldRefetchConvoOnFinalize=t},setRequestIdOnCurrentLeaf(e,t){KC.updateTree(e,(n,r)=>{n.updateNodeMetadata(r,{requestId:t})})}},o7={initThread:({clientThreadId:e,conversationMode:t,userId:n=void 0,accountId:r=void 0,disableConversationNavigation:i=void 0,skipFollowupMcpCheck:s=void 0,pulseCardId:o=void 0})=>{const a=s1(e);Xi().threads[a]==null&&Ia(c=>{const l=_c.emptyTree();c.threads[a]={disableConversationNavigation:i,createTime:new Date,isArchived:!1,isStarred:!1,shouldRefetchConvoOnFinalize:!1,mode:uM(t),contextScopes:null,defaultModelId:null,tree:l,_treeVersion:0,title:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,stopConduitToken:null,titleSource:"NewChat",currentLeafId:l.rootId,safeUrls:[],selectedSources:Zde({userId:n,workspaceId:r}),selectedMCPSources:nfe({userId:n,workspaceId:r}),startedWithByoMcp:void 0,hasRemovedWebSource:!1,hasModifiedSources:!1,isLoading:!fh(a),docsReferencedByURL:{},hasIKConvo:!1,conversationOrigin:null,selectedGithubRepos:new Map,hasModifiedGithubRepos:!1,disabledToolIds:null,is_do_not_remember:!1,prepareRequestBlocked:!1,lastCompletionFinishedTimestamp:null,interruptionInProgress:!1,asyncTurns:{},skipFollowupMcpCheck:s!=null?s:!1,steeringAsyncTaskId:null,isReadOnly:!1,pulseCardId:o!=null?o:null}})},setServerIdForNewThread:(e,t)=>{Xi().clientNewThreadIdToServerIdMapping[e]===void 0&&Ia(n=>{n.threads[t]=n.threads[e],delete n.threads[e],n.clientNewThreadIdToServerIdMapping[e]=t})},updateThreadFromServer:(e,t,n={})=>{var T,C,b,O,w,A,x,N,R,L,D,F,G,z;const r=s1(e),{skipIfExisting:i,continuingFromSharedConversationId:s,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwnerId:a,continuingFromSharedPostId:c,forkFromSharedPost:l,branchingFromConversationId:u,branchingFromMessageId:d}=n;if(i&&((T=Xi().threads[r])==null?void 0:T.isLoading)===!1)return;const f=ife(t,r),h=new _c(f.nodes),p=(C=f.initialCurrentLeafId)!=null?C:h.rootId,m="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&t.model!=null?RW(t.model):void 0}:void 0;let g;for(const V of h.getBranchFromLeaf(p)){const M=V.message;if(!(M.author.role!==Ke.User&&((b=M.metadata)==null?void 0:b.invoked_resource)===void 0)&&(((O=M.metadata)==null?void 0:O.invoked_resource)!==void 0||((x=(A=(w=M.metadata)==null?void 0:w.selected_sources)==null?void 0:A.length)!=null?x:0)>0||((L=(R=(N=M.metadata)==null?void 0:N.selected_mcp_sources)==null?void 0:R.length)!=null?L:0)>0)){g=((F=(D=M.metadata)==null?void 0:D.selected_mcp_sources)!=null?F:[]).some($=>$.status==="ONLY_ME")||((z=(G=M.metadata)==null?void 0:G.invoked_resource)==null?void 0:z.publish_status)==="private";break}}const y=t.context_scopes,v=y&&y.length>0?Array.from(y):void 0;Ia(V=>{var te,$,se,me,Ce,J,K,ne,X,ee,ve,ue,oe,be,Ae,He,Ne,ge,he,j,Qe,Re,de;const M=V.threads[r];V.threads[r]={createTime:"create_time"in t?new Date(t.create_time*1e3):void 0,isArchived:(te=t.is_archived)!=null?te:!1,isStarred:($=t.is_starred)!=null?$:!1,shouldRefetchConvoOnFinalize:(se=M==null?void 0:M.shouldRefetchConvoOnFinalize)!=null?se:!1,is_do_not_remember:(me=t.is_do_not_remember)!=null?me:!1,selectedSources:M!=null&&M.hasModifiedSources?M.selectedSources:new Map,selectedMCPSources:M!=null&&M.hasModifiedSources?M.selectedMCPSources:new Map,mentionedSources:M==null?void 0:M.mentionedSources,selectedGithubRepos:(Ce=M==null?void 0:M.selectedGithubRepos)!=null?Ce:new Map,hasModifiedGithubRepos:(J=M==null?void 0:M.hasModifiedGithubRepos)!=null?J:!1,defaultModelId:(ne=(K=t.default_model_slug)!=null?K:M==null?void 0:M.defaultModelId)!=null?ne:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,stopConduitToken:null,mode:t.gizmo_id!=null?{kind:zs.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:zs.PrimaryAssistant},contextScopes:(X=v!=null?v:M==null?void 0:M.contextScopes)!=null?X:null,sharedConversationMetadata:uM(m),title:(ee=t.title)!=null?ee:null,titleSource:"Server",tree:h,_treeVersion:0,currentLeafId:p,isLoading:!1,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwner:(()=>{var Pe,tt,nt,rt;const pe=M==null?void 0:M.sharedProjectConversationOwner,Le=(tt=a!=null?a:(Pe=t==null?void 0:t.owner)==null?void 0:Pe.user_id)!=null?tt:pe==null?void 0:pe.id,ie=(rt=(nt=t==null?void 0:t.owner)==null?void 0:nt.name)!=null?rt:pe==null?void 0:pe.name;return Le!=null||ie!=null?{id:Le,name:ie}:void 0})(),continuingFromSharedConversationId:s,continuingFromSharedPostId:c,forkFromSharedPost:l,continuingSharedConversationLastMessageId:(s!=null||c!=null||l)&&!u?p:void 0,branchingFromConversationId:u,branchingFromMessageId:d,safeUrls:(ve=t.safe_urls)!=null?ve:[],hasRemovedWebSource:(ue=M==null?void 0:M.hasRemovedWebSource)!=null?ue:!1,hasModifiedSources:(oe=M==null?void 0:M.hasModifiedSources)!=null?oe:!1,docsReferencedByURL:(be=M==null?void 0:M.docsReferencedByURL)!=null?be:{},hasIKConvo:s7(h),conversationOrigin:(He=(Ae=M==null?void 0:M.conversationOrigin)!=null?Ae:t.conversation_origin)!=null?He:null,disabledToolIds:(Ne=t.disabled_tool_ids)!=null?Ne:[],update_time:(ge=t.update_time)!=null?ge:null,scrollToMessageId:M==null?void 0:M.scrollToMessageId,scrollToMessageIsAssistant:M==null?void 0:M.scrollToMessageIsAssistant,prepareRequestBlocked:(he=M==null?void 0:M.prepareRequestBlocked)!=null?he:!1,lastCompletionFinishedTimestamp:(j=M==null?void 0:M.lastCompletionFinishedTimestamp)!=null?j:null,interruptionInProgress:!1,asyncTurns:{},pulseCardId:(Qe=t.sugar_item_id)!=null?Qe:null,steeringAsyncTaskId:(Re=M==null?void 0:M.steeringAsyncTaskId)!=null?Re:null,startedWithByoMcp:(M==null?void 0:M.startedWithByoMcp)||g,isReadOnly:(de=t.is_read_only)!=null?de:!1}}),cfe.publish({kind:"createConversation",clientThreadId:e})},deleteThread:e=>{Ia(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{Ia(t=>{var n;t.threadRetainCounts[e]=((n=t.threadRetainCounts[e])!=null?n:0)+1}),clearTimeout(mi[e])},releaseThread:e=>{Xi().threads[e]!=null&&(Ia(t=>{var n;t.threadRetainCounts[e]=Math.max(((n=t.threadRetainCounts[e])!=null?n:0)-1,0)}),!(Xi().threadRetainCounts[e]>0)&&Pfe(e))},resetThread:e=>{_l(e,t=>{t.tree=r7(),t.currentLeafId=t.tree.rootId})}};function z6e(e){_l(e,t=>{t.steeringAsyncTaskId=null})}const Y6e=e=>{const t=zae();return mh(e,n=>n?Me.getGizmoId(n):t)};function K6e({clientThreadId:e}){return mh(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>{var i;return((i=r.message.clientMetadata)==null?void 0:i.errCode)===ah.ContentPolicy&&r.message.clientMetadata.shouldDisableConversation}):!1})}function J6e({clientThreadId:e}){return mh(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>{var i;return((i=r.message.clientMetadata)==null?void 0:i.errCode)===ah.ContentPolicy&&r.message.clientMetadata.isSafetyLimited}):!1})}const X6e=e=>{var t,n;return(n=(t=e==null?void 0:e.metadata)==null?void 0:t.search_result_groups)!=null?n:[]},Ufe=e=>{var t,n;return(n=(t=e==null?void 0:e.metadata)==null?void 0:t.content_references)!=null?n:[]},Q6e=e=>{var n,r;const t=(r=(n=e==null?void 0:e.metadata)==null?void 0:n.search_model_queries)==null?void 0:r.queries;return Array.isArray(t)?t:[]},U_="kaur1br5",a7="".concat(U_,"_context");function Bfe(e){const t=ph(e);if(!t)return;const n=Me.getConversationTurns(t).flatMap(r=>r.messages);for(let r=n.length-1;r>=0;r--){const i=n[r];if(i.author.role===Ke.Tool&&i.author.name===a7)return i}}function ZD(e){var n,r;const t=e.metadata;return{content:e.content,attachments:(n=t==null?void 0:t.attachments)!=null?n:[],browserContext:t==null?void 0:t[U_],exclusiveKey:(r=t==null?void 0:t.exclusive_key)!=null?r:void 0}}function Gfe(e,t){return NA(ZD(e),ZD(t))}const eL=9e4;class Wfe extends Error{constructor(n){super("sidebar whisper timed out after ".concat(n,"ms"));U(this,"timeoutMs");this.name="SidebarWhisperTimeoutError",this.timeoutMs=n}}const qfe="unqfp8es";let as;y_().then(e=>{as=e}).catch(()=>{});function Jo(){return as==null?void 0:as.getHost()}function c7(){const[e,t]=E.useState(()=>Jo());return E.useEffect(()=>{if(e)return;let n=!0;return y_().then(r=>{n&&t(r.getHost())}).catch(()=>{}),()=>{n=!1}},[e]),e}function Z6e(){return as==null?void 0:as.getLinkHandler()}function eGe(){return as==null?void 0:as.getProductEventHandler()}function l7(e){return(e==null?void 0:e.includes(ae.Agent))===!0}async function tGe(e,t,n,r){const i=await y_();return await new Promise((s,o)=>{const a=setTimeout(()=>o(new Wfe(eL)),eL);Vfe(e,t,n,r,i).then(c=>{clearTimeout(a),s(c)}).catch(c=>{clearTimeout(a),o(c)})})}async function Vfe(e,t,n,r,i){if(l7(n))return;const s=await i.getSidebarWhisperContent();if(!s)throw new Error("Client didn't return whisper content");return await d7(s,u7(e==null?void 0:e.url),e,t,n,r)}function $fe(e,t){return e.map(n=>S({id:n.fileid,name:n.name,size:n.size,mime_type:n.mimetype,source:"aura_tab_context"},t&&{[U_]:{source:{url:t.url,host:t.url?new URL(t.url).hostname:void 0,title:t.title}}}))}function u7(e){if(e)try{const t=new URL(e);return t.search="",t.hash="","".concat(qfe," - ").concat(t.toString())}catch(t){return}}function Hfe(e,t){const n=[];t!=null&&t.length&&n.push(...t);const r="-",i={content_type:"app_pairing_content",workspaces:[{id:r,content_type:"browser_window"}],context_parts:e.map(s=>{var o,a,c;return{content:(o=s.content)!=null?o:void 0,url:(a=s.url)!=null?a:void 0,title:(c=s.title)!=null?c:void 0,workspace_id:r,content_type:"browser_text"}}),custom_instructions:null};return n.push(i),{content_type:qe.MultimodalText,parts:n}}function zfe(e,t){if(t.length>0){const n=e;return{content_type:qe.MultimodalText,parts:[...t,n]}}return{content_type:qe.Text,parts:[e]}}async function d7(e,t,n,r,i,s){if(l7(i))return;const{imageAssetPointers:o,content:a,files:c,embeddedDocumentContexts:l,customInstructions:u}=e,d=l!=null?l:[],f=d.length>0;if(!a&&!f)throw new Error("Whisper content is missing content");const h=a!=null?a:"",p=(o!=null?o:[]).map(C=>({content_type:Bn.ImageAssetPointer,asset_pointer:C.assetPointer,size_bytes:C.sizeBytes,width:C.width,height:C.height})),m=f?Hfe(d,p):zfe(h,p),g=d.reduce((C,b)=>{var O,w;return C+((w=(O=b.content)==null?void 0:O.length)!=null?w:0)},0);Xn.hist(Wn.DEFAULT,"aura-tab-context.web-whisper-content",{hasDocumentContent:f?"true":"false",hasAttachments:c&&c.length>0?"true":"false",hasImages:p.length>0?"true":"false"},g);const y=S(I(S({is_visually_hidden_from_conversation:!0},t&&{exclusive_key:t}),{attachments:$fe(c!=null?c:[],n)}),await Yfe(n,r,"context",i)),v={id:dr(),author:{role:Ke.Tool,name:a7},create_time:Date.now()/1e3,content:m,recipient:"all",metadata:y};if(s){const C=Bfe(s);if(C&&Gfe(C,v)){ql.debug("Sidechat Context:Skipping duplicate context tool message",{clientThreadId:s,duplicateMessageId:C.id});return}else ql.debug("Sidechat Context: Adding tool message",{clientThreadId:s,messageId:v.id})}const T=[v];if(u&&u.trim().length>0&&T.push({id:dr(),author:{role:Ke.Developer},recipient:"all",create_time:Date.now()/1e3,content:{content_type:qe.Text,parts:[u]},metadata:S({is_visually_hidden_from_conversation:!0},t&&{exclusive_key:"".concat(t,"-instructions")})}),T.length!==0)return T}async function nGe(e,t,n,r){if(!(!e||!fr()||!Xr.whisperContent))return await d7(Xr.whisperContent,u7(e.url),e,t,n,r)}async function Yfe(e,t,n,r){const i=(r==null?void 0:r.includes(ae.Agent))===!0;let s,o;if(!i&&(e!=null&&e.selection)){const u=e.selection;o=Jse(u),s=u.length>1e3?u.substring(0,1e3):u}let a;try{const u=Jo();u&&(a=await u.getClientID())}catch(u){}let c;try{const u=Jo();u&&(c=await u.getClientCapabilityVersion())}catch(u){}const l=I(S({origin:t,type:n,client_id:a,client_capability_version:c},(e==null?void 0:e.blocked)===!0?{client_bl_active:!0}:{}),{sources:e?[S(S({id:e.id,url:e.url,host:new URL(e.url).hostname,title:e.title},s&&{selection:s,selection_word_count:o}),e.base64favicon&&{base64favicon:e.base64favicon})]:[]});return{[U_]:l}}function f7(e){return e!==Te.FREE}const h7="fetchAccounts";async function p7({accessToken:e,eventPrefix:t=h7,acceptWorkspaceId:n}){try{await Z.safePost("/accounts/{account_id}/invites/accept",{parameters:{path:{account_id:n}},accessToken:e,authOption:Xt.SendIfAvailable}),De.deleteCookie(Se.AcceptAccountId),Q.addAction("".concat(t,".accept_invite.success"),{acceptWorkspaceId:n})}catch(r){Q.addAction("".concat(t,".accept_invite.error"),{acceptWorkspaceId:n,error:r instanceof Error?r.message:String(r)})}}function Kfe({accessToken:e,eventPrefix:t=h7}={}){const n=De.getCookie(Se.AcceptAccountId);if(n)return p7({accessToken:e,eventPrefix:t,acceptWorkspaceId:n})}const Jfe=Ge(()=>Oe(!1));function cx(e){var t;return(t=e==null?void 0:e.startsWith("referrals"))!=null?t:!1}function rGe(){const{hash:e}=zt(),t=cx(e.slice(1)),[n]=Tc(),r=n.get("program");return{isOpen:t,program:r}}function iGe(){const{hash:e}=zt(),t=cx(e.slice(1)),[n]=Tc(),r=n.get("code");return{isOpen:t,referralCode:r}}function Xfe(){const{hash:e}=zt();return cx(e.slice(1))}const Qfe=E.createContext({postWithProfile:null,setIsReportModalOpen:e=>{}});function Zfe(){"use forget";const e=E.useContext(Qfe);return!!(e!=null&&e.postWithProfile)}Se.IntercomDeviceIdProd;function ehe(){return the()}function the(){var e;return(e=De.getBooleanCookie(Se.HasLoggedInBefore))!=null?e:!1}const m7="has-dismissed-login-modal",sGe=()=>{"use forget";const e=Y.c(16),t=re(),[n,r]=E.useState(she),i=Xfe();let s;e[0]!==t?(s=St(t),e[0]=t,e[1]=s):s=e[1];const o=!s;let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=ehe(),e[2]=a):a=e[2];const c=a,l=Zfe();let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=fr(),e[3]=u):u=e[3];const d=u;let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{r(!0),sessionStorage.setItem(m7,"true")},e[4]=f):f=e[4];const h=f;let p;if(e[5]!==t?(p=()=>Jfe(t),e[5]=t,e[6]=p):p=e[6],Ue(p)){let v;return e[7]===Symbol.for("react.memo_cache_sentinel")?(v={isOpen:!1},e[7]=v):v=e[7],v}let g;e[8]!==t||e[9]!==n||e[10]!==l||e[11]!==i||e[12]!==o?(g=o&&!n&&c&&!i&&!l&&!d&&!ihe()&&nhe(t),e[8]=t,e[9]=n,e[10]=l,e[11]=i,e[12]=o,e[13]=g):g=e[13];let y;return e[14]!==g?(y={isOpen:g,onClose:h},e[14]=g,e[15]=y):y=e[15],y},nhe=e=>!lu()||g7(e),rhe=e=>!lu()||g7(e),g7=e=>an(e,"3233347819").get("enable_login_modal_for_mobile",!1),oGe=e=>an(e,"3233347819").get("is_login_spinner_enabled",!1),aGe=e=>an(e,"3233347819").get("is_login_modal_spinner_enabled",!1),ihe=()=>document.referrer===""?!1:new URL(document.referrer).pathname.startsWith("/auth/logout");function she(){return sessionStorage.getItem(m7)!=null}const ohe=zw.OpenAISidetron;function ahe(e){if(xt(e).isElectron)return ohe}function che(e,t){const n=ahe(e);return n!=null?n:zw.OpenAI}async function lhe(e,{fallbackScreenHint:t="login_or_signup",useFallbackScreenHint:n=!1,callbackUrl:r=window.location.href,additionalAuthParams:i={},callback:s,shouldOpenPaymentModalOnAuth:o=!1,skipLoginModal:a=!0,loginModalSubtitleVariant:c}={}){const l=che(e,new URL(window.location.href).searchParams),u=an(e,"2667897829"),d=xt(e).isBusinessIp2===!0,f=i!=null&&Object.entries(i).length>0,h=r!=null&&r!==window.location.href;if(d&&t==="signup"&&!n&&!o&&!f&&!h&&u.get("enabled_business_ip_targeting",!1)){s==null||s(l);try{await tL(e)}catch(b){}const C=new URL(window.location.href);C.pathname="/team-sign-up",window.location.assign(C.toString());return}let m=t;!n&&m!=="login_or_signup"&&an(e,"1803944755").get("enable_unified_login_or_signup_start_page_at_chatgpt_web",!1)&&(m="login_or_signup"),o&&De.setBooleanCookie(Se.ShowPaymentModal,!0,{maxAge:360*60});const g=dr();De.setCookie(Se.AuthSessionLoggingId,g),s==null||s(l);const{login_hint:y,connection:v}=i;if(!rhe(e)||a||y||v){try{await tL(e)}catch(C){}return uB.signIn(l,{callbackUrl:r},S(I(S({prompt:"login",screen_hint:m},Vm(ri())),{[Mm]:g}),i))}Mi(e,jG,{callbackUrl:r,authorizationParams:S(I(S({},Vm(ri())),{[Mm]:g}),i),subtitleVariant:c})}async function tL(e,t=1e3){const n=hr(e);await Promise.race([n.flush(),new Promise(r=>setTimeout(r,t))])}const uhe=Te.FREE,dhe=Id.OWNER;function _7(e){return Date.parse(e)/1e3}function al(e){if(e==null)return;const t=_7(e);if(!isNaN(t))return t}class fhe{constructor(t){this.data=t}get id(){return this.data.id}get residencyRegion(){return this.data.residencyRegion}get computeResidency(){return this.data.computeResidency}get computeResidencyDisplayName(){return this.data.computeResidencyDisplayName}get computeResidencyDescription(){return this.data.computeResidencyDescription}get isHipaaCompliantWorkspace(){var t;return(t=this.data.isHipaaCompliantWorkspace)!=null?t:!1}get structure(){return this.data.structure}get workspaceType(){return this.data.workspaceType}get eligibleForReactivation(){return this.data.eligibleForReactivation}get organizationId(){return this.data.organizationId}get name(){return this.data.name}get features(){return this.data.features}get eligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}getEligiblePromoCampaign(t){var n;return(n=this.eligiblePromoCampaigns)==null?void 0:n[t]}getEligiblePromoCampaignId(t){var n;return(n=this.getEligiblePromoCampaign(t))==null?void 0:n.id}isEligibleForPlanPromo(t){return!!this.getEligiblePromoCampaignId(t)}isEqual(t){return NA(this.data,t.data)}get planType(){return this.data.subscriptionStatus.planType}get canAccessWithCurrentSession(){return this.data.canAccessWithCurrentSession}get ssoConnectionName(){return this.data.ssoConnectionName}get isDelinquent(){return this.data.subscriptionStatus.isDelinquent}get gracePeriodId(){return this.data.subscriptionStatus.gracePeriodId}get accountUserId(){return this.data.accountUserId}get normalizedAccountUserId(){return this.isPersonalAccount()?this.authUserId:this.data.accountUserId}get authUserId(){var t;return(t=this.data.accountUserId)==null?void 0:t.split("__")[0]}get subscriptionAnalyticsParams(){const{subscriptionStatus:t}=this.data;return{currentPlanType:t.planType,subscriptionStatus:{billingPeriod:t.billingPeriod,hasPaidSubscription:t.hasPaidSubscription,subscriptionPlan:t.subscriptionPlan,subscriptionExpiresAt:t.subscriptionExpiresAt,wasPaidCustomer:t.wasPaidCustomer}}}isResellerHosted(){return this.data.subscriptionStatus.isResellerHosted}isEnterprisey(){return u_(this.data.subscriptionStatus.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isSelfServeBusiness()}isPro(){return this.data.subscriptionStatus.planType===Te.PRO}isEdu(){return ih(this.data.subscriptionStatus.planType)}isQuorum(){return this.data.subscriptionStatus.planType===Te.QUORUM}isSelfServeBusiness(){return this.data.subscriptionStatus.planType===Te.SELF_SERVE_BUSINESS}isK12(){return this.data.subscriptionStatus.planType===Te.K12}isGo(){return this.data.subscriptionStatus.planType===Te.GO}isPlus(){return this.data.subscriptionStatus.planType===Te.PLUS}isFree(){return this.data.subscriptionStatus.planType===Te.FREE}isCBP(){return this.data.subscriptionStatus.planType===Te.ENTERPRISE_CBP||this.data.subscriptionStatus.planType===Te.EDUCATION_CBP}isWorkspaceAccount(){return this.data.structure===Zn.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}getDaysUntilPlanRenews(){const t=this.data.subscriptionStatus.subscriptionRenewsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getDaysUntilSubscriptionCancelAt(){const t=this.data.subscriptionStatus.subscriptionCancelsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getDaysUntilPlanDiscountExpires(){var r;const t=al((r=this.data.subscriptionStatus.discount)==null?void 0:r.discount_expires_at);if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}isPersonalAccount(){return this.data.structure===Zn.PERSONAL}hasPaidSubscription(){return this.data.subscriptionStatus.hasPaidSubscription}isActiveSubscriptionGratis(){return this.data.subscriptionStatus.isActiveSubscriptionGratis}getSubscriptionBillingCurrency(){return this.data.subscriptionStatus.billingCurrency}mustGetSubscriptionBillingCurrency(t){const n=this.getSubscriptionBillingCurrency();return n!==void 0?(Q.addAction("chatgpt_present_subscription_billing_currency",{subscriptionBillingCurrency:n,callLocation:t}),_T(At(),"chatgpt_present_subscription_billing_currency",void 0,{subscriptionBillingCurrency:n,callLocation:t}),n):(Q.addError(new Error("chatgpt_missing_subscription_billing_currency"),{callLocation:t}),_T(At(),"chatgpt_missing_subscription_billing_currency",void 0,{callLocation:t}),Qie)}willRenewSubscription(){return this.data.subscriptionStatus.lastActiveSubscription.will_renew}willPlanChange(){return!!this.data.subscriptionStatus.scheduledPlanChange}getDaysUntilPlanChanges(){var r;const t=(r=this.data.subscriptionStatus.scheduledPlanChange)==null?void 0:r.changesAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(3600*24))}getNextPlanType(){var t,n;return(n=(t=this.data.subscriptionStatus.scheduledPlanChange)==null?void 0:t.planType)!=null?n:null}getLastActiveSubscription(){return this.data.subscriptionStatus.lastActiveSubscription}isDeactivated(){return this.data.deactivated}canInviteMembers(){return this.isSelfServeBusiness()||this.isEnterprisey()&&(this.isOwnerOfAccount()||this.isAdminOfAccount())}isOwnerOfAccount(){return this.data.role===Id.OWNER}isAdminOfAccount(){return this.data.role===Id.ADMIN}isStandardUserOfAccount(){return this.data.role===Id.STANDARD}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}hasCustomerObject(){return this.data.subscriptionStatus.hasCustomerObject}getProcessorEntity(){return this.data.subscriptionStatus.processorEntity}wasPaidCustomer(){return!this.data.subscriptionStatus.hasPaidSubscription&&this.data.subscriptionStatus.wasPaidCustomer}isOrWasPaidCustomer(){return this.data.subscriptionStatus.hasPaidSubscription||this.data.subscriptionStatus.wasPaidCustomer}isEligibleForCancellationPromotion(){return this.data.subscriptionStatus.isEligibleForCancellationPromotion}getEligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}}class lx{constructor(t){this.data=t}static fromLightAccount(t,n){return new lx({lightAccount:t,authUserId:n})}get id(){return this.data.lightAccount.id}get authUserId(){return this.data.authUserId}get structure(){return this.data.lightAccount.structure}get planType(){return this.data.lightAccount.planType}get isDelinquent(){return this.data.lightAccount.isDelinquent}get gracePeriodId(){return this.data.lightAccount.gracePeriodId}get accountUserId(){return this.data.authUserId?this.data.authUserId+"__"+this.data.lightAccount.id:void 0}get normalizedAccountUserId(){return this.isPersonalAccount()?this.data.authUserId:this.accountUserId}isEnterprise(){return KG(this.planType)}isEnterprisey(){return u_(this.planType)}isK12(){return this.planType===Te.K12}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isSelfServeBusiness()}isGo(){return this.planType===Te.GO}isPro(){return this.planType===Te.PRO}isEdu(){return ih(this.planType)}isSelfServeBusiness(){return this.planType===Te.SELF_SERVE_BUSINESS}isEnterpriseCBP(){return this.planType===Te.ENTERPRISE_CBP}isPlus(){return this.planType===Te.PLUS}isFree(){return this.planType===Te.FREE}isCBP(){return this.planType===Te.ENTERPRISE_CBP||this.planType===Te.EDUCATION_CBP}hasPaidSubscription(){return f7(this.planType)}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}isWorkspaceAccount(){return this.structure===Zn.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}isPersonalAccount(){return this.structure===Zn.PERSONAL}hasPlusFeatures(){return this.planType!==Te.FREE}}const hhe=eo(e=>{var t,n,r,i,s,o,a,c,l,u,d;return new fhe({id:e.account.account_id,residencyRegion:e.account.account_residency_region,computeResidency:e.account.account_compute_residency,computeResidencyDisplayName:e.account.account_compute_residency_display_name,computeResidencyDescription:e.account.account_compute_residency_description,accountUserId:e.account.account_user_id,name:(t=e.account.name)!=null?t:null,profilePictureId:e.account.profile_picture_id,profilePictureUrl:e.account.profile_picture_url,structure:e.account.structure,workspaceType:e.account.workspace_type,role:(n=e.account.account_user_role)!=null?n:dhe,organizationId:e.account.organization_id,deactivated:e.account.is_deactivated,eligibleForReactivation:e.account.eligible_for_reactivation,ekmConfig:e.account.ekm_config,isHipaaCompliantWorkspace:e.account.is_hipaa_compliant_workspace,isFedrampCompliantWorkspace:e.account.is_fedramp_compliant_workspace,subscriptionStatus:{billingPeriod:e.entitlement.billing_period,hasPaidSubscription:e.entitlement.has_active_subscription||!1,isActiveSubscriptionGratis:e.entitlement.is_active_subscription_gratis||!1,billingCurrency:e.entitlement.billing_currency,subscriptionPlan:e.entitlement.subscription_plan,planType:(r=e.account.plan_type)!=null?r:uhe,subscriptionRenewsAt:al(e.entitlement.renews_at),subscriptionCancelsAt:al(e.entitlement.cancels_at),subscriptionExpiresAt:al(e.entitlement.expires_at),scheduledPlanChange:e.entitlement.scheduled_plan_change?{changesAt:_7(e.entitlement.scheduled_plan_change.changes_at),planType:e.entitlement.scheduled_plan_change.plan_type}:void 0,wasPaidCustomer:(i=e.account.has_previously_paid_subscription)!=null?i:!1,hasCustomerObject:(o=(s=e.account.processor)==null?void 0:s.a001.has_customer_object)!=null?o:!1,processorEntity:(a=e.account.processor)==null?void 0:a.a001.processor_entity,lastActiveSubscription:e.last_active_subscription,isResellerHosted:(c=e.account.reseller_hosted_account)!=null?c:!1,discount:e.entitlement.discount,isEligibleForCancellationPromotion:(l=e.entitlement.is_eligible_for_cp)!=null?l:!1,isDelinquent:e.entitlement.is_delinquent,becameDelinquentAt:al(e.entitlement.became_delinquent_timestamp),gracePeriodEndAt:al(e.entitlement.grace_period_end_timestamp),gracePeriodId:e.entitlement.grace_period_id},features:[...e.features].sort(),canAccessWithCurrentSession:e.can_access_with_session!==!1,ssoConnectionName:(u=e.sso_connection_name)!=null?u:null,eligiblePromoCampaigns:(d=e.eligible_promo_campaigns)!=null?d:{}})});function phe(e){return e.account_ordering.map(t=>hhe(e.accounts[t]))}function mhe(e,t){const n=e.filter(i=>i.canAccessWithCurrentSession);if(typeof t=="string"){const i=n.find(s=>s.id===t);if(i!==void 0)return i;if(t===Fs){const s=n.find(o=>o.structure===Zn.PERSONAL);if(s!==void 0)return s}}if(n.length===1||!n.some(i=>i.structure===Zn.WORKSPACE))return n[0]}function ghe(e,t){if(e){if(e.structure===Zn.WORKSPACE)return e.id;if(t.some(r=>r.structure===Zn.WORKSPACE))return Fs}}async function _he(){return await Kfe({eventPrefix:"fetchAccountState"}),await Z.safeGet("/accounts/check/{version}",{parameters:{path:{version:xX},query:{timezone_offset_min:new Date().getTimezoneOffset().toString()}},intercomEventOnError:"fetch-error:accounts:get",authOption:Xt.SendIfAvailable})}const nL=e=>e!=null&&typeof e=="object"&&"account"in e&&typeof e.account=="object"&&e.account!=null&&"account_id"in e.account;function vhe(e,t){return nL(e)&&nL(t)&&e.isEqual(t)?e:lJ(e,t)}const yhe=bn({queryKey:["account-status"],queryFn:_he,structuralSharing:vhe,staleTime:1/0});function bhe(){return yhe}const Che=Ge(e=>Cn(e,bhe)),Ehe=e=>{var i;const t=(i=De.getCookie(Se.Workspace))!=null?i:void 0,n=phe(e),r=mhe(n,t);return{accountItems:n,currentAccount:r,currentAccountId:r==null?void 0:r.id}},ux=Ge(()=>Oe({}));Ge(()=>Oe(null));const Md=Ge(e=>Ee(()=>{ux(e);const t=Che(e);return t.isLoading||t.data==null?t:I(S({},t),{data:Ehe(t.data)})})),gh=Ge(e=>Ee(()=>{if(Hg()){const n=Md(e),{data:r}=n,i=W(n,["data"]);return I(S({},i),{isLoading:!0,data:void 0})}return Md(e)}));function v7(e){var t;return(t=e==null?void 0:e.accountItems.find(n=>n.id===e.currentAccountId))!=null?t:null}const Dr=Ge(e=>Ee(()=>v7(gh(e).data)));function She(e){return Qt(()=>Dr(e))}function o1(e){e!=null?De.setCookie(Se.Workspace,e,{maxAge:aG}):De.deleteCookie(Se.Workspace)}function Ohe(e){De.setCookie(Se.WorkspaceResidencyRegion,e,{maxAge:aG})}function y7(e,t){var r;const n=De.getCookie(Se.Workspace);return e.structure===Zn.WORKSPACE?(o1(e.id),Ohe(e.residencyRegion)):e.structure===Zn.PERSONAL&&t&&o1(Fs),De.deleteCookie(Se.DowngradeAccountEnabled),De.deleteCookie(Se.DogfoodingAccountType),{accountCookieChanged:(n!=null?n:Fs)!==((r=De.getCookie(Se.Workspace))!=null?r:Fs)}}function cGe(e,t,n,r=!0){const i=Qt(()=>gh(e).data);if(i==null)return{updatedAccount:!1};const s=i.accountItems.find(o=>o.id===n);return s==null?{updatedAccount:!1}:(y7(s,r),ux.set(e,{}),{updatedAccount:!0})}function lGe(e,t,n,r,i,s=!0){const o=Qt(()=>gh(n).data);if(o==null)return{willRedirect:!1,updatedAccount:!1};const a=o.accountItems.find(f=>f.id===t);if(a==null)return{willRedirect:!1,updatedAccount:!1};const c=fr(),l=Qt(()=>tG(n)),u=ki(n)&&!St(n);if(c&&!(l||u)){const f=Jo();return f==null||f.onSwitchAccount(t),{willRedirect:!0,updatedAccount:!1}}const{accountCookieChanged:d}=y7(a,s);if(!a.canAccessWithCurrentSession){const f=a.ssoConnectionName?{connection:a.ssoConnectionName}:void 0,h=r.formatMessage(rL.workspacePlaceholder),p=a.data.name||h;return i.info(r.formatMessage(rL.authenticateNotice,{workspaceName:p})),lhe(n,{fallbackScreenHint:"login",additionalAuthParams:f}),{willRedirect:!0,updatedAccount:!0}}return d?fA():ux.set(n,{}),{willRedirect:!1,updatedAccount:!0}}function uGe(){"use forget";const e=Y.c(2),t=re();let n;return e[0]!==t?(n=()=>gh(t),e[0]=t,e[1]=n):n=e[1],Ue(n)}function ys(){"use forget";const e=Y.c(2),t=re();let n;return e[0]!==t?(n=()=>Dr(t),e[0]=t,e[1]=n):n=e[1],Ue(n)}const at=ut(e=>{var i,s;const t=Ic(e),n=(i=t==null?void 0:t.user)==null?void 0:i.id,r=(s=t==null?void 0:t.account)!=null?s:null;return r?lx.fromLightAccount(r,n):null}),The=Ge(e=>Ee(()=>{var t,n;return(n=(t=Dr(e))==null?void 0:t.isHipaaCompliantWorkspace)!=null?n:!1}));function dGe(){"use forget";const e=Y.c(2),t=re();let n;return e[0]!==t?(n=()=>The(t),e[0]=t,e[1]=n):n=e[1],Ue(n)}const b7=Ge(e=>Ee(()=>{var t,n;return(n=(t=Dr(e))==null?void 0:t.features)!=null?n:[]}));function whe(){"use forget";const e=Y.c(2),t=re();let n;return e[0]!==t?(n=()=>b7(t),e[0]=t,e[1]=n):n=e[1],Ue(n)}function fGe(e){"use forget";const t=Y.c(3),n=re();let r;return t[0]!==n||t[1]!==e?(r=()=>{var i,s;return(s=(i=b7(n))==null?void 0:i.includes(e))!=null?s:!1},t[0]=n,t[1]=e,t[2]=r):r=t[2],Ue(r)}function hGe(e){return e.accountItems.some(t=>t.hasPaidFeatures())}function pGe(e){return!(e==null?void 0:e.accountItems.every(n=>n.isPlus()||n.isFree()||n.isGo()))}function mGe(e,t){const n=Dr(e);if(!(n==null?void 0:n.isRBACEnabled()))return!0;const{data:i}=MG(e);return i!=null&&i.some(s=>s.systemHint===t)}const rL=Tt({authenticateNotice:{id:"zALe8U",defaultMessage:"You need to authenticate to access {workspaceName}. Redirecting..."},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"}});function dx(e,t){return Yt({queryKey:["workspace-settings",e],queryFn:e?()=>Z.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):dB,select:n=>n&&t?t(n):n,enabled:!!e})}function Ahe(e){return bn({queryKey:["workspace-settings",e],queryFn:e!=null?()=>Z.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):dB})}const fx=Ge(e=>{var n;const t=(n=at(e))==null?void 0:n.getWorkspaceId();return Cn(e,()=>Ahe(t))});function xhe(e,t){var r,i;const{data:n}=fx(e);if(n)return(i=(r=n.permissions)==null?void 0:r.includes(t))!=null?i:!1}const Ihe=["default","blue","green","yellow","pink","orange","custom"],Nhe=["purple"],Rhe=["black"],Phe=e=>{var a;const t=(a=at(e))==null?void 0:a.planType,n=t===Te.PLUS,r=t===Te.PRO,i=t===Te.SELF_SERVE_BUSINESS||u_(t),o=!ih(t)&&(n||r||i)||fr();return[...Ihe,...o?Nhe:[],...r?Rhe:[]]};function C7(e){return fr()?!0:an(e,"1187049270").get("themes_enabled",!1)}const E7=ut(e=>rr(()=>{var t,n;return(n=vn.getItem(B_(),{userId:(t=at(e))==null?void 0:t.normalizedAccountUserId}))!=null?n:"default"})),hx=(e,t)=>{var n;E7(e).setState(t),vn.setItem(B_(),t,{userId:(n=at(e))==null?void 0:n.normalizedAccountUserId})},khe=(e,t)=>{fr()&&(S7(t),hx(e,t))};function gGe(){const e=re(),t=C7(e),n=E7(e)(),r=Jie();return t?{isLoading:!1,value:n,setValue:i=>{r.mutate({setting:hc.ChatTheme,value:i}),hx(e,i)}}:{isLoading:!1,value:"default",setValue:()=>{}}}const Mhe=()=>{var n;const e=re();if(!C7(e))return null;const t=$p(B_(),{userId:(n=at(e))==null?void 0:n.normalizedAccountUserId});return _.jsx("script",{nonce:xt(e).cspScriptNonce,suppressHydrationWarning:!0,children:"!function(){try{const t=localStorage.getItem(".concat(JSON.stringify(t),');document.documentElement.dataset.chatTheme="string"==typeof t?JSON.parse(t):void 0}catch(e){}}();')})};function Dhe(e){const t=Phe(e),n=at(e),r=Ee(()=>{var o,a,c,l,u;if(fr()){const d=vn.getItem(B_(),{userId:n==null?void 0:n.normalizedAccountUserId});return{theme:PT(d,t,"default")}}const i=(c=(a=(o=gu(e).data)==null?void 0:o.settings)==null?void 0:a[hc.ChatTheme])!=null?c:vn.getItem(en.ChatTheme,{userId:n==null?void 0:n.normalizedAccountUserId});let s;if(i==="custom"&&rne(e)&&(n!=null&&n.isWorkspacePlan())&&(n!=null&&n.id)){const d=fx(e).data,f=vn.getItem(en.ChatThemeCustomWorkspace,{userId:n==null?void 0:n.normalizedAccountUserId});s={light:(l=d==null?void 0:d.beta_settings_dict.workspace_chat_theme_light)!=null?l:f==null?void 0:f.light,dark:(u=d==null?void 0:d.beta_settings_dict.workspace_chat_theme_dark)!=null?u:f==null?void 0:f.dark}}return{theme:PT(i,t,"default"),customTheme:s}});return _ee(()=>{var o,a;const{theme:i,customTheme:s}=r();S7(i),i==="custom"&&s&&Lhe({light:(o=s.light)!=null?o:null,dark:(a=s.dark)!=null?a:null}),hx(e,i)})}function B_(){return fr()?en.ChatThemeOverride:en.ChatTheme}function S7(e){document.documentElement.dataset.chatTheme=e}const _Ge=["user-msg-bg","user-msg-text","submit-btn-bg","submit-btn-text","secondary-btn-bg","secondary-btn-text","user-selection-bg","entity-accent","attribution-highlight-bg"],iL="workspace-chat-theme";function ws(e){return e?e.replace(/[;}]/g,"").trim():""}function sL(e,t,n){const r=t==="light"?'[data-chat-theme="'.concat(e,'"]'):'[data-chat-theme="'.concat(e,'"].dark, [data-chat-theme="').concat(e,'"] .dark');return"".concat(r," {\n  --theme-user-msg-bg: ").concat(ws(n["user-msg-bg"]),";\n  --theme-user-msg-text: ").concat(ws(n["user-msg-text"]),";\n  --theme-submit-btn-bg: ").concat(ws(n["submit-btn-bg"]),";\n  --theme-submit-btn-text: ").concat(ws(n["submit-btn-text"]),";\n  --theme-secondary-btn-bg: ").concat(ws(n["secondary-btn-bg"]),";\n  --theme-secondary-btn-text: ").concat(ws(n["secondary-btn-text"]),";\n  --theme-user-selection-bg: ").concat(ws(n["user-selection-bg"]),";\n  --theme-attribution-highlight-bg: ").concat(ws(n["attribution-highlight-bg"]),";\n  --theme-entity-accent: ").concat(ws(n["entity-accent"]),";\n}")}function Lhe(e){if(typeof document>"u")return;const{light:t,dark:n}=e;if(!t&&!n)return;const r=document.getElementById(iL);let i;r&&r instanceof HTMLStyleElement?i=r:(i=document.createElement("style"),i.id=iL,document.head.appendChild(i));const s=[];t&&s.push(sL("custom","light",t)),n&&s.push(sL("custom","dark",n)),i.textContent=s.join("\n\n")}var jhe=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e))(jhe||{});const G_={small:640,medium:768,large:1024,xlarge:1280};function kc(e,t){const n=es(()=>window.matchMedia(e));return ai(()=>n().matches,r=>$o(n(),{change:r}),{name:"@media ".concat(e),getServerFallback:t})}function _h(e){return[()=>Ue(e),()=>Qt(e)]}const O7=kc("(prefers-reduced-motion: reduce)",()=>!1),[vGe]=_h(O7),Mc=kc("(min-width: ".concat(G_.small,"px)"),()=>!UJ()),[yGe]=_h(Mc),bGe=()=>!Mc(),T7=kc("(min-width: ".concat(G_.medium,"px)"),()=>Tw()||ww()),[Fhe,Uhe]=_h(T7),Bhe=kc("(min-width: ".concat(G_.large,"px)"),ww),[CGe]=_h(Bhe),EGe=kc("(min-width: ".concat(G_.xlarge,"px)"),()=>!1),Ghe=kc("(pointer: coarse)",CB),[SGe,w7]=_h(Ghe),A7=kc("(hover: hover)",ww);function OGe(){return!Ue(T7)}function Whe(){const e={composer:{autofocusDisabled$:Oe(lu()||nR()),reset:()=>{e.composer.autofocusDisabled$.set(w7()||nR())}},projects:{createOrUpdateProject$:Oe(void 0),moveConversationToProject$:Oe(void 0),renamingProjectId$:Oe(void 0),reset:()=>{e.projects.renamingProjectId$.set(void 0)}}};return e}const qhe=ut(Whe),Vhe="{{.assetPrefix}}/assets/chatgpt-share-og-u7j5uyao.webp",$he={src:Vhe},Hhe="{{.assetPrefix}}/assets/favicon-180x180-od45eci6.webp",zhe={src:Hhe},Yhe="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVfSURBVHgB5VuLUeMwEJWZKyBUgK8Cch2khHRwpgJCBQkVJFSQpAKggtBBuAocKiBUsKcX24wtZHlXlpIwvJkdYyLJ2q/WKzlRkUFEqb6MNF1rSksalNc6dpr25fWfpldQkiQ79d2gmR5pmmvKqT+2mpYYU50z9AQHmqaBmG5DrimjwqrOAzXG3+l4yMtnpuqU0BO4PTLjNkFk6tiA5DVt6HyQ07GsgU6v9TZgThMVE1RE9nPHVMUAFUvRd8GSy1fCaaQH3OrLUH0vIIn609WoUwClNDMVCPv9Xu12u88rkKbp4TocDtVgMFABsdJCuFG+oGKt7Y3NZkOTyYQ0o4RhXYQ24/GYVqsVvb8HibVz5QMqor03MPnZbEZao51MuyjLMsrznHpCtjpQsc57iT8U44EFAV5SxQV55vMwda6Zj0ajA1Mg/K39n9UPruGJDZf5jDywWCxaJw5rQAyAgLr8mhMvYGGemHQxD9PPSQhMqE1jy+WSfIG+bYJAoPQIkugwcAlgSkK0MT+dTkNFcZrP59aYAtfxwCyY9m3MQ2Pb7ZZCAwHQZg1wFyHsVkBC34ev2pgPsGS1AhZlC5aIP0LMbALIub1t2ojNfAWbEOAewmfnJvMiZ8LSZWohhtm3AcyaMcEjHozqAlhye+HhtoB3bDw+Pn6ZB9xSgEVdAGz1mdqH6Z8K0HoPK8jr0Z/Xw6J91zqP37BSxIoNtkAstIIUAhhzW4MhrvbrSyTahcoJTJhWIMwSswslKHQ8Pz837nU21tr25eXl82+89z88PKgY0PGnca/fFZQAQ1jAI1dcZuR1RX5kb6rfUsUCLMucl8DantgBEMyaDHXBXK8RQGPAdAOsEExs4QKsGhRKWA3bGXZ7jraCxj3Ms+4aoVCV1Cq8vb0pJgYQQMppWdXvPnsyandaM1/ixP39vQoNUwCmslxdL5QnuMVLWEG9LSwgtBVcXV017k1lueAtAAlMYQk0FB3RBQCTr2sE5upaPn3w8fHRuJeU1iGAHafh5eVl456jRTBursvmuh0CPvGp6vpLFcdSOnF9fd24f3197exzc9Pck9DL4IEaM9CTv7u76xwPAdWMJ/UxXHN1YN8rEXIlHGbaDLIlQrZXayUshkoSNANPcAH2ommu/WZqXMd6vW7c397eflmuDioQBERbW1hO/f+wEE6OUnUXlcLMGqDr9RO1OsWoFkFb3L0EjgUJs82x6HXYTIeVw9zgHhACytcckwRzLmqDKTxBGnzofrADEtQDzbw7Vn7PgWmRwuLM9tMR9A27rBqgCBEEtrqgcBNmWReAqJZkWkHMgodkDtIhGuGQBG5gswL4+rFg25ARaj9XJjCuZIR6lK/IY5dGDBvzHnEoswkAFQ6RHZtm6DkZNtq24qSbItR2VoCEVgC/t63hoXeJMJZN2J7Pmak2kIcVtG1aqjJ17SMI12kT/M9jNyqnrpMiuoHYkcFk2wkPCAduIZksxnMds+lhYZnJb9IihI0qPnIQAW91eqe29Xe8CyBPB6GKU73ZIZfHOz3yelSLXBUdvBXqbM/nON0uSZLfrJbU45CU61RHH4I1oNTuCdkhqVIIvda0UIIA4wFOm/gdoiZBiuwSBJIkybE5tEXUh8YDZJgzF4+co7IrffmrAgD+DT9H3R5+D6p8GVfEhSpGBDoyu9Z+n7ka/PjD0qyqcDnQWn0frDnMi0HCTPFEWKiYoGJ1+JmfzNSE4HWiNCI2dIpP6KgoqOZ0OhxP6w4hwBpmRxbEe/nMoJ+X9EIpiNgWkZ8d4zZQUWNckeD4XQfTyEhHKgJYiVAfUBGchiVVn9B3fT6P3SpsFr7E/nz+P3T08cw43Z8wAAAAAElFTkSuQmCC",Khe="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3crect%20width='64'%20height='64'%20rx='32'%20fill='white'%20/%3e%3cpath%20d='M34.2043%2037.0916H41.6359'%20stroke='black'%20stroke-width='3.42172'%20stroke-linecap='round'%20/%3e%3cpath%20d='M32.089%2053.6889C28.2099%2053.6889%2024.6248%2052.7289%2021.3334%2050.809C18.0421%2048.8499%2015.4169%2046.2247%2013.4578%2042.9334C11.5378%2039.642%2010.5779%2036.0569%2010.5779%2032.1778C10.5779%2028.2987%2011.5378%2024.7136%2013.4578%2021.4222C15.4169%2018.1309%2018.0421%2015.5253%2021.3334%2013.6054C24.6248%2011.6462%2028.2099%2010.6667%2032.089%2010.6667C35.968%2010.6667%2039.5532%2011.6462%2042.8445%2013.6054C46.1359%2015.5253%2048.7415%2018.1309%2050.6614%2021.4222C52.6205%2024.7136%2053.6001%2028.2987%2053.6001%2032.1778C53.6001%2036.0569%2052.6205%2039.642%2050.6614%2042.9334C48.7415%2046.2247%2046.1359%2048.8499%2042.8445%2050.809C39.5532%2052.7289%2035.968%2053.6889%2032.089%2053.6889ZM32.089%2049.6923C35.2628%2049.6923%2038.1818%2048.9087%2040.8462%2047.3414C43.5498%2045.7741%2045.6853%2043.6582%2047.2526%2040.9938C48.8199%2038.2902%2049.6035%2035.3516%2049.6035%2032.1778C49.6035%2029.004%2048.8199%2026.0849%2047.2526%2023.4205C45.6853%2020.717%2043.5498%2018.5815%2040.8462%2017.0142C38.1818%2015.4469%2035.2628%2014.6633%2032.089%2014.6633C28.9152%2014.6633%2025.9765%2015.4469%2023.273%2017.0142C20.6086%2018.5815%2018.4927%2020.717%2016.9254%2023.4205C15.3581%2026.0849%2014.5745%2029.004%2014.5745%2032.1778C14.5745%2035.3516%2015.3581%2038.2902%2016.9254%2040.9938C18.4927%2043.6582%2020.6086%2045.7741%2023.273%2047.3414C25.9765%2048.9087%2028.9152%2049.6923%2032.089%2049.6923ZM24.2133%2039.7008C23.6648%2039.7008%2023.1946%2039.5049%2022.8028%2039.1131C22.411%2038.7212%2022.215%2038.2511%2022.215%2037.7025C22.215%2037.3499%2022.313%2037.0364%2022.5089%2036.7621L25.2713%2032.0602L22.6265%2027.5935C22.3522%2027.1625%2022.215%2026.7706%2022.215%2026.418C22.215%2025.9086%2022.411%2025.458%2022.8028%2025.0662C23.1946%2024.6744%2023.6648%2024.4785%2024.2133%2024.4785C24.9186%2024.4785%2025.4672%2024.7919%2025.859%2025.4188L29.0328%2030.8848C29.2679%2031.2766%2029.3854%2031.6684%2029.3854%2032.0602C29.3854%2032.4521%2029.2679%2032.8439%2029.0328%2033.2357L25.859%2038.7017C25.4672%2039.3678%2024.9186%2039.7008%2024.2133%2039.7008ZM34.2048%2039.1131C33.6563%2039.1131%2033.1861%2038.9172%2032.7943%2038.5253C32.4025%2038.1335%2032.2065%2037.6633%2032.2065%2037.1148C32.2065%2036.6054%2032.4025%2036.1548%2032.7943%2035.763C33.1861%2035.3712%2033.6563%2035.1752%2034.2048%2035.1752H41.7279C42.2372%2035.1752%2042.6878%2035.3712%2043.0796%2035.763C43.4715%2036.1548%2043.6674%2036.6054%2043.6674%2037.1148C43.6674%2037.6633%2043.4715%2038.1335%2043.0796%2038.5253C42.6878%2038.9172%2042.2372%2039.1131%2041.7279%2039.1131H34.2048Z'%20fill='black'%20/%3e%3c/svg%3e",Jhe="{{.assetPrefix}}/assets/favicon-eex17e9e.ico",Xhe="{{.assetPrefix}}/assets/favicon-l4nq08hd.svg";function Qhe(e){if(typeof document>"u")throw new Error("not supported in SSR");const t=document.createElement("template");return t.innerHTML=e,t.innerHTML}function Zhe(e){return"data:image/svg+xml;utf8,".concat(encodeURIComponent(e))}const TGe=n=>{var r=n,{svgString:e}=r,t=W(r,["svgString"]);const i=E.useMemo(()=>Qhe(e),[e]);return i?_.jsx("img",S({src:Zhe(i)},t)):null},wGe=({svgString:e,className:t,color:n})=>_.jsx(c_,{name:"StringToSVG",fallback:_.jsx("div",{className:t}),children:_.jsx("div",{className:_e("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e},style:{color:n}})}),JC=Tt({description:{id:"meta.description.Oct2025Update",defaultMessage:"ChatGPT is your AI chatbot for everyday use. Chat with the most advanced AI to explore ideas, solve problems, and learn faster."},keywords:{id:"meta.keywords",defaultMessage:"ai chat,ai,chap gpt,chat gbt,chat gpt 3,chat gpt login,chat gpt website,chat gpt,chat gtp,chat openai,chat,chatai,chatbot gpt,chatg,chatgpt login,chatgpt,gpt chat,open ai,openai chat,openai chatgpt,openai"},ogDescription:{id:"meta.ogDescription.Nov2025Update",defaultMessage:"ChatGPT helps you get answers, find inspiration, and be more productive."}}),epe=[{property:"og:title",content:"ChatGPT"},{property:"og:image",content:$he.src}];function tpe(e){const t=new URL(e,window.location.origin);return o_(x7(t.pathname))!=null?window.location.origin:t.toString()}function x7(e){return e.replace(/\//g,"")}function XC(e,t){const n=new URL(e,window.location.origin),r=e==="/",i=o_(x7(n.pathname))!=null;return t===rh?i?window.location.origin:n.toString():((r||i)&&t?n.pathname="/".concat(t,"/"):!i&&t&&n.searchParams.set("locale",t),n.toString())}function npe(){const e=gt(),t=re(),n=zt();return Ew().some(s=>{var o;return(o=s.handle)==null?void 0:o.hasRouteMeta})||n.pathname.startsWith("/gg/")?null:_.jsxs(_.Fragment,{children:[_.jsx("meta",{name:"description",content:e.formatMessage(JC.description)}),_.jsx("meta",{name:"keyword",content:e.formatMessage(JC.keywords)}),_.jsx("meta",{property:"og:description",content:e.formatMessage(JC.ogDescription)}),_.jsx("meta",{property:"og:url",content:XC("/",xt(t).locale)}),_.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),mre().map(s=>_.jsx("link",{rel:"alternate",hrefLang:s,href:XC(n.pathname,s)},s)),_.jsx("link",{rel:"alternate",hrefLang:"x-default",href:tpe(n.pathname)}),_.jsx("link",{rel:"canonical",href:XC(n.pathname)})]})}function rpe(){"use forget";const e=Y.c(6),t=re();let n;e[0]!==t?(n=an(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=n):n=e[1];const r=n;let i;e[2]!==r?(i=r&&_.jsx("link",{rel:"manifest",href:"/manifest.json"}),e[2]=r,e[3]=i):i=e[3];let s;return e[4]!==i?(s=_.jsx(_.Fragment,{children:i}),e[4]=i,e[5]=s):s=e[5],s}function ipe(){"use forget";const e=Y.c(4),t=re();let n;e[0]!==t?(n=$e(t,"271523926"),e[0]=t,e[1]=n):n=e[1];const r=n,i=window.location.origin;let s;return e[2]!==r?(s=r?_.jsx("link",{rel:"preconnect",href:i}):null,e[2]=r,e[3]=s):s=e[3],s}function spe(){"use forget";const e=Y.c(5),{pathname:t}=zt();if(t!=="/")return null;let n,r,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@graph":[{"@type":"Organization",name:"ChatGPT",description:"ChatGPT is your AI chatbot for everyday use. Chat with the most advanced AI to explore ideas, solve problems, and learn faster.",url:window.location.origin,logo:window.location.origin+"/favicon.ico",sameAs:["https://x.com/ChatGPTapp","https://www.linkedin.com/company/openai/","https://github.com/openai","https://www.youtube.com/OpenAI"],parentOrganization:{"@type":"Organization",name:"OpenAI",url:"https://openai.com"}}]};n="organization-ld",r="application/ld+json",i=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=i}else n=e[0],r=e[1],i=e[2];let s;return e[3]!==i?(s=_.jsx("script",{id:n,type:r,children:i}),e[3]=i,e[4]=s):s=e[4],s}function ope(){"use forget";const e=Y.c(5),{pathname:t}=zt();if(t!=="/")return null;let n,r,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@type":"WebSite",url:window.location.origin+"/",name:"ChatGPT"};n="website-ld",r="application/ld+json",i=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=i}else n=e[0],r=e[1],i=e[2];let s;return e[3]!==i?(s=_.jsx("script",{id:n,type:r,children:i}),e[3]=i,e[4]=s):s=e[4],s}function ape(){"use forget";const e=Y.c(5),{pathname:t}=zt();if(t!=="/")return null;let n,r,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const o={"@context":"https://schema.org","@type":"WebPage",url:window.location.origin+"/",name:"ChatGPT â€“ AI Chat & AI Chatbot",description:"Explore ChatGPT, the AI chat platform that helps with content generation, problem-solving, and interactive AI conversations.",publisher:{"@type":"Organization",name:"ChatGPT",logo:{"@type":"ImageObject",url:window.location.origin+"/favicon.ico"}}};n="webpage-ld",r="application/ld+json",i=JSON.stringify(o),e[0]=n,e[1]=r,e[2]=i}else n=e[0],r=e[1],i=e[2];let s;return e[3]!==i?(s=_.jsx("script",{id:n,type:r,children:i}),e[3]=i,e[4]=s):s=e[4],s}function cpe(){"use forget";const e=Y.c(14),t=re(),{pathname:n}=zt();let r;e[0]!==n?(r=!n.startsWith("/share")&&!n.startsWith("/s")&&!n.startsWith("/canvas/shared")&&!n.startsWith("/gg"),e[0]=n,e[1]=r):r=e[1];const i=r;let s;e[2]!==t?(s=an(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[2]=t,e[3]=s):s=e[3];const o=s;let a,c;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=_.jsx("link",{rel:"preconnect",href:"{{.assetPrefix}}"}),c=_.jsx("link",{rel:"preconnect",href:window.location.origin}),e[4]=a,e[5]=c):(a=e[4],c=e[5]);let l;e[6]!==i?(l=i&&_.jsx("meta",{name:"robots",content:"index, follow"}),e[6]=i,e[7]=l):l=e[7];let u;e[8]===Symbol.for("react.memo_cache_sentinel")?(u=_.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),e[8]=u):u=e[8];let d;e[9]!==o?(d=o&&_.jsx("meta",{name:"apple-itunes-app",content:"app-id=6448311069"}),e[9]=o,e[10]=d):d=e[10];let f;return e[11]!==l||e[12]!==d?(f=_.jsxs(_.Fragment,{children:[a,c,l,u,d]}),e[11]=l,e[12]=d,e[13]=f):f=e[13],f}function oL({href:e}){return _.jsxs(_.Fragment,{children:[_.jsx("link",{rel:"icon",href:e,type:"image/svg+xml"}),_.jsx("link",{rel:"icon",href:e,type:"image/svg+xml",media:"(prefers-color-scheme: dark)"})]})}function lpe(){"use forget";const e=Y.c(5),{pathname:t}=zt();let n;e[0]!==t?(n=t.startsWith("/codex")?_.jsxs(_.Fragment,{children:[_.jsx("link",{rel:"icon",href:Yhe,sizes:"32x32"}),_.jsx(oL,{href:Khe})]}):_.jsxs(_.Fragment,{children:[_.jsx("link",{rel:"icon",href:Jhe,sizes:"32x32"}),_.jsx(oL,{href:Xhe})]}),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=_.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:zhe.src}),e[2]=r):r=e[2];let i;return e[3]!==n?(i=_.jsxs(_.Fragment,{children:[n,r]}),e[3]=n,e[4]=i):i=e[4],i}const upe=Oe(!1),AGe=()=>Ue(upe);function xGe(e,t=!1){return an(e,"790459319",{disableExposureLog:t}).get("voice_integrated_ux")}function IGe(){const e=At();an(e,"790459319").get("voice_integrated_ux")}const dpe=Oe({type:"unrequested",granted:!1,active:!1,forceMuted:!1,label:""}),NGe=()=>Ue(dpe),I7=Oe(null);function RGe(){return I7()}const PGe=()=>Ue(I7),kGe=Oe(!1),fpe=Oe(null),MGe=()=>Ue(fpe),hpe=Oe(!1),DGe=()=>Ue(hpe),Ka=xc(()=>({activeRequests:{}})),px=Ge(()=>Yg(Ka)),LGe=(e,t)=>{var n;return(n=px(e).activeRequests[t])!=null?n:null};function jGe(e){"use forget";const t=Y.c(2);let n;return t[0]!==e?(n=r=>N7(e,r),t[0]=e,t[1]=n):n=t[1],Yf(Ka,n)}const ppe=(e,t)=>N7(t,px(e));function N7(e,t=Ka.getState()){return e!=null&&t.activeRequests[e]!=null}const mpe=()=>!1;function FGe(){"use forget";const e=Yf(Ka,gpe),t=mpe();return e||t}function gpe(e){return Object.keys(e.activeRequests).length>0}const UGe=e=>Object.keys(px(e).activeRequests).length>0,_pe={addRequest(e,t,n){Ka.setState(r=>({activeRequests:I(S({},r.activeRequests),{[e]:{id:e,abortController:t,turnTracker:n}})}))},removeRequest(e){Ka.setState(t=>{const n=S({},t.activeRequests);return delete n[e],{activeRequests:n}})},abortRequest(e){const{activeRequests:t}=Ka.getState();return t[e]!=null?(t[e].abortController.abort(),_pe.removeRequest(e),!0):!1}},R7=Pg("Conversation"),Lr=Hw(R7),vh=ut(()=>({conversations:{},newClientIdToServerId:{},allKnownConversationIds$:Oe([])}));function P7(e,t,n){const{conversations:r}=vh(e),i=S({ctx:e,id:t,serverId$:Oe(ax(t))},n);return r[t]=i,vpe(e),i}function BGe(e,t){return P7(e,Afe(),t)}function mx(e,t,n){const{conversations:r,newClientIdToServerId:i}=vh(e);if(r[t]!=null)return r[t];if(fh(t)){const s=i[t];if(s!=null&&r[s]!=null)return r[s]}return P7(e,t,n)}function GGe(e,t,n){const r=mx(e,t);r.serverId$.set(n);const{conversations:i,newClientIdToServerId:s}=vh(e);delete i[t],i[n]=r,fh(t)&&(s[t]=n,o7.setServerIdForNewThread(t,n))}function WGe(e){const{conversations:t,allKnownConversationIds$:n}=vh(e);return n(),Object.values(t)}let QC;function vpe(e){QC==null&&(QC=window.setTimeout(()=>{const{conversations:t,allKnownConversationIds$:n}=vh(e);n.set(Object.keys(t)),QC=void 0},100))}const ype=E.createContext(void 0);function qGe(){"use forget";return E.use(ype)}const yh=Lr(e=>Yg(hh,{selector:t=>ph(e.id,t)}));function la(e,t){return Lr(n=>Ee(()=>e(yh(n)),t))}la(e=>e==null?void 0:e.title);const bpe=la(Me.getIsNewConversation),Cpe=la(e=>e==null?void 0:e.defaultModelId),k7=la(Me.getTree),M7=la(Me.getCurrentLeafId),VGe=Lr(e=>Ee(()=>LA(k7(e),M7(e)))),Epe=(e,t,n=M7(e))=>k7(e).findNode(t,n),$Ge=la(e=>e==null?void 0:e.mode),W_=Lr(e=>Ee(()=>{var t;return(t=Me.getGizmoId(yh(e)))!=null?t:e.urlGizmoId}));Lr(e=>Ee(()=>{var t,n;return(n=(t=yh(e))==null?void 0:t.isLoading)!=null?n:!fh(e.id)}));const Spe=la(Me.getRequestId),HGe=Lr(e=>Ee(()=>ppe(e.ctx,Spe(e)))),zGe=la(e=>e==null?void 0:e.startedWithByoMcp);function D7(e){var t;return e.author.role===Ke.Assistant&&!!((t=e.metadata)!=null&&t.thinking_effort)}function YGe(e,t){var r;const n=Me.getNode(e,t);return n!=null&&n.message&&D7(n.message)?(r=n.message.metadata)==null?void 0:r.thinking_effort:void 0}function Ope(e){return Me.findNode(e,t=>D7(t.message))}const L7=Ge(e=>Ee(()=>{const{data:t}=gu(e);return t?zG(t):$G(e)})),Tpe=(e,t,n,r)=>{var i,s;if(e.value){const o=(s=(i=t.marks.startend)==null?void 0:i.create(n))!=null?s:null;return t.text(e.value,o?[o,...r!=null?r:[]]:r)}return null};function kn(e){this.content=e}kn.prototype={constructor:kn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new kn(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new kn(n)},addToStart:function(e,t){return new kn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new kn(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new kn(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=kn.from(e),e.size?new kn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=kn.from(e),e.size?new kn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=kn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};kn.from=function(e){if(e instanceof kn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new kn(t)};function j7(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=j7(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function F7(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),c=o.nodeSize;if(o==a){n-=c,r-=c;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let l=0,u=Math.min(o.text.length,a.text.length);for(;l<u&&o.text[o.text.length-l-1]==a.text[a.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let l=F7(o.content,a.content,n-1,r-1);if(l)return l}n-=c,r-=c}}class le{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let c=this.content[o],l=a+c.nodeSize;if(l>t&&r(c,i+a,s||null,o)!==!1&&c.content.size){let u=a+1;c.nodesBetween(Math.max(0,t-u),Math.min(c.content.size,n-u),r,i+u)}a=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,c)=>{let l=a.isText?a.text.slice(Math.max(t,c)-c,n-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=l},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new le(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],c=o+a.nodeSize;c>t&&((o<t||c>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=c}return new le(r,i)}cutByIndex(t,n){return t==n?le.empty:t==0&&n==this.content.length?this:new le(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new le(i,s)}addToStart(t){return new le([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new le(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return j7(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return F7(this,t,n,r)}findIndex(t,n=-1){if(t==0)return pp(0,t);if(t==this.size)return pp(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position ".concat(t," outside of fragment (").concat(this,")"));for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=t)return o==t||n>0?pp(r+1,o):pp(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return le.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return le.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new le(n||t,r)}static from(t){if(!t)return le.empty;if(t instanceof le)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new le([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const ZC={index:0,offset:0};function pp(e,t){return ZC.index=e,ZC.offset=t,ZC}function eg(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!eg(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!eg(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class pt{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&eg(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError("There is no mark type ".concat(n.type," in this schema"));let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return pt.none;if(t instanceof pt)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}pt.none=[];class tg extends Error{}class Ie{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=B7(this.content,t+this.openStart,n);return r&&new Ie(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Ie(U7(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ie.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ie(le.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ie(t,r,i)}}Ie.empty=new Ie(le.empty,0,0);function U7(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(U7(s.content,t-i-1,n-i-1)))}function B7(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=B7(o.content,t-s-1,n);return a&&e.replaceChild(i,o.copy(a))}function wpe(e,t,n){if(n.openStart>e.depth)throw new tg("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new tg("Inconsistent open depths");return G7(e,t,n,0)}function G7(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=G7(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return Xa(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=Ape(n,e);return Xa(s,q7(e,o,a,t,r))}else return Xa(s,ng(e,t,r))}function W7(e,t){if(!t.type.compatibleContent(e.type))throw new tg("Cannot join "+t.type.name+" onto "+e.type.name)}function a1(e,t,n){let r=e.node(n);return W7(r,t.node(n)),r}function Ja(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Dd(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(Ja(e.nodeAfter,r),s++));for(let a=s;a<o;a++)Ja(i.child(a),r);t&&t.depth==n&&t.textOffset&&Ja(t.nodeBefore,r)}function Xa(e,t){return e.type.checkContent(t),e.copy(t)}function q7(e,t,n,r,i){let s=e.depth>i&&a1(e,t,i+1),o=r.depth>i&&a1(n,r,i+1),a=[];return Dd(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(W7(s,o),Ja(Xa(s,q7(e,t,n,r,i+1)),a)):(s&&Ja(Xa(s,ng(e,t,i+1)),a),Dd(t,n,i,a),o&&Ja(Xa(o,ng(n,r,i+1)),a)),Dd(r,null,i,a),new le(a)}function ng(e,t,n){let r=[];if(Dd(null,e,n,r),e.depth>n){let i=a1(e,t,n+1);Ja(Xa(i,ng(e,t,n+1)),r)}return Dd(t,null,n,r),new le(r)}function Ape(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(le.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class df{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return pt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Npe(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:c}=o.content.findIndex(s),l=s-c;if(r.push(o,a,i+c),!l||(o=o.child(a),o.isText))break;s=l-1,i+=c+1}return new df(n,r,s)}static resolveCached(t,n){let r=aL.get(t);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else aL.set(t,r=new xpe);let i=r.elts[r.i]=df.resolve(t,n);return r.i=(r.i+1)%Ipe,i}}class xpe{constructor(){this.elts=[],this.i=0}}const Ipe=12,aL=new WeakMap;class Npe{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Rpe=Object.create(null);let Qa=class c1{constructor(t,n,r,i=pt.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||le.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&eg(this.attrs,n||t.defaultAttrs||Rpe)&&pt.sameSet(this.marks,r||pt.none)}copy(t=null){return t==this.content?this:new c1(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new c1(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Ie.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),l=i.node(o).content.cut(i.pos-a,s.pos-a);return new Ie(l,i.depth-o,s.depth-o)}replace(t,n,r){return wpe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return df.resolveCached(this,t)}resolveNoCache(t){return df.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),V7(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=le.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=pt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!pt.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(n=>n.type.name)));this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=le.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Qa.prototype.text=void 0;class rg extends Qa{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):V7(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new rg(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new rg(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function V7(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class vc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Ppe(t,n);if(r.next==null)return vc.empty;let i=$7(r);r.next&&r.err("Unexpected trailing text");let s=Upe(Fpe(i));return Bpe(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let c=o.matchFragment(t,r);if(c&&(!n||c.validEnd))return le.from(a.map(l=>l.createAndFill()));for(let l=0;l<o.next.length;l++){let{type:u,next:d}=o.next[l];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:c}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError("There's no ".concat(t,"th edge in this content match"));return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join("\n")}}vc.empty=new vc(!0);class Ppe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function $7(e){let t=[];do t.push(kpe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function kpe(e){let t=[];do t.push(Mpe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Mpe(e){let t=jpe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Dpe(e,t);else break;return t}function cL(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Dpe(e,t){let n=cL(e),r=n;return e.eat(",")&&(e.next!="}"?r=cL(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Lpe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(t)>-1&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function jpe(e){if(e.eat("(")){let t=$7(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Lpe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Fpe(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,c){let l={term:c,to:a};return t[o].push(l),l}function i(o,a){o.forEach(c=>c.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((c,l)=>c.concat(s(l,a)),[]);if(o.type=="seq")for(let c=0;;c++){let l=s(o.exprs[c],a);if(c==o.exprs.length-1)return l;i(l,a=n())}else if(o.type=="star"){let c=n();return r(a,c),i(s(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return i(s(o.expr,a),c),i(s(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let c=a;for(let l=0;l<o.min;l++){let u=n();i(s(o.expr,c),u),c=u}if(o.max==-1)i(s(o.expr,c),c);else for(let l=o.min;l<o.max;l++){let u=n();r(c,u),i(s(o.expr,c),u),c=u}return[r(c)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function H7(e,t){return t-e}function lL(e,t){let n=[];return r(t),n.sort(H7);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:c}=s[o];!a&&n.indexOf(c)==-1&&r(c)}}}function Upe(e){let t=Object.create(null);return n(lL(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:c})=>{if(!a)return;let l;for(let u=0;u<i.length;u++)i[u][0]==a&&(l=i[u][1]);lL(e,c).forEach(u=>{l||i.push([a,l=[]]),l.indexOf(u)==-1&&l.push(u)})})});let s=t[r.join(",")]=new vc(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(H7);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function Bpe(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:c,next:l}=i.next[a];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(l)==-1&&r.push(l)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function z7(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Y7(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function K7(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError("Unsupported attribute ".concat(i," for ").concat(n," of type ").concat(i));for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function J7(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Wpe(e,r,t[r]);return n}let uL=class X7{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=J7(t,r.attrs),this.defaultAttrs=z7(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==vc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Y7(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Qa(this,this.computeAttrs(t),le.from(n),pt.setFrom(r))}createChecked(t=null,n,r){return n=le.from(n),this.checkContent(n),new Qa(this,this.computeAttrs(t),n,pt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=le.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(le.empty,!0);return s?new Qa(this,t,n.append(s),pt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(t.toString().slice(0,50)))}checkAttrs(t){K7(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:pt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new X7(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Gpe(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError("Expected value of type ".concat(r," for attribute ").concat(t," on type ").concat(e,", got ").concat(s))}}class Wpe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Gpe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class q_{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=J7(t,i.attrs),this.excluded=null;let s=z7(this.attrs);this.instance=s?new pt(this,s):null}create(t=null){return!t&&this.instance?this.instance:new pt(this,Y7(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new q_(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){K7(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class qpe{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=kn.from(t.nodes),n.marks=kn.from(t.marks||{}),this.nodes=uL.compile(this.spec.nodes,this),this.marks=q_.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=vc.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?dL(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:dL(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof uL){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new rg(r,r.defaultAttrs,t,pt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Qa.fromJSON(this,t)}markFromJSON(t){return pt.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function dL(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let c=e.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Vpe(e){return e.tag!=null}function $pe(e){return e.style!=null}class ff{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Vpe(i))this.tags.push(i);else if($pe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new hL(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new hL(this,n,!0);return r.addAll(t,n.from,n.to),Ie.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Ype(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=pL(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=pL(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new ff(t,ff.schemaRules(t)))}}const Q7={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Hpe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Z7={ol:!0,ul:!0},ig=1,sg=2,Ld=4;function fL(e,t,n){return t!=null?(t?ig:0)|(t==="full"?sg:0):e&&e.whitespace=="pre"?ig|sg:n&~Ld}class mp{constructor(t,n,r,i,s,o,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=pt.none,this.stashMarks=[],this.match=o||(a&Ld?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(le.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&ig)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=le.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):Kpe(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Q7.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class hL{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=fL(null,n.preserveWhitespace,0)|(r?Ld:0);i?s=new mp(i.type,i.attrs,pt.none,pt.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new mp(null,null,pt.none,pt.none,!0,null,o):s=new mp(t.schema.topNodeType,null,pt.none,pt.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.style;if(!r||!r.length)return n();let i=this.readStyles(t.style);if(!i)return;let[s,o]=i,a=this.top;for(let c=0;c<o.length;c++)this.removePendingMark(o[c],a);for(let c=0;c<s.length;c++)this.addPendingMark(s[c]);n();for(let c=0;c<s.length;c++)this.removePendingMark(s[c],a);for(let c=0;c<o.length;c++)this.addPendingMark(o[c])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&sg||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&ig)r.options&sg?n=n.replace(/\r\n?/g,"\n"):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=t.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;Z7.hasOwnProperty(r)&&this.parser.normalizeLists&&zpe(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(s?s.ignore:Hpe.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let o,a=this.top,c=this.needsBlock;if(Q7.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}s&&s.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),o&&this.sync(a),this.needsBlock=c}else this.withStyleRules(t,()=>{this.addElementByRule(t,s,s.consuming===!1?i:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=pt.none,r=pt.none;if(t.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=t.getPropertyValue(s);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(s,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{c.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[c.mark].create(c.attrs).addToSet(n),c.consuming===!1)a=c;else break}}return[n,r]}addElementByRule(t,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(t):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=t;typeof n.contentElement=="string"?c=t.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(t):n.contentElement&&(c=n.contentElement),this.findAround(t,c,!0),this.addAll(c)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,n,r){let i=n||0;for(let s=n?t.childNodes[n]:t.firstChild,o=r==null?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(t);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let o=fL(t,i,s.options);s.options&Ld&&s.content.length==0&&(o|=Ld),this.nodes.push(new mp(t,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,c)=>{for(;a>=0;a--){let l=n[a];if(l==""){if(a==n.length-1||a==0)continue;for(;c>=s;c--)if(o(a-1,c))return!0;return!1}else{let u=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!u||u.name!=l&&u.groups.indexOf(l)==-1)return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=Jpe(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function zpe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&Z7.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Ype(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function pL(e){let t={};for(let n in e)t[n]=e[n];return t}function Kpe(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let c=0;c<a.edgeCount;c++){let{type:l,next:u}=a.edge(c);if(l==t||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}function Jpe(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Au{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=eE(n).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,c=0;for(;a<s.length&&c<o.marks.length;){let l=o.marks[c];if(!this.marks[l.type.name]){c++;continue}if(!l.eq(s[a][0])||l.type.spec.spanning===!1)break;a++,c++}for(;a<s.length;)i=s.pop()[1];for(;c<o.marks.length;){let l=o.marks[c++],u=this.serializeMark(l,o.isInline,n);u&&(s.push([l,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=Jp(eE(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&Jp(eE(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return Jp(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Au(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=mL(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return mL(t.marks)}}function mL(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function eE(e){return e.document||window.document}const gL=new WeakMap;function Xpe(e){let t=gL.get(e);return t===void 0&&gL.set(e,t=Qpe(e)),t}function Qpe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function Jp(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Xpe(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,c=n?e.createElementNS(n,i):e.createElement(i),l=t[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let d in l)if(l[d]!=null){let f=d.indexOf(" ");f>0?c.setAttributeNS(d.slice(0,f),d.slice(f+1),l[d]):c.setAttribute(d,l[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:p}=Jp(e,f,n,r);if(c.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:c,contentDOM:a}}const e8=65535,t8=Math.pow(2,16);function Zpe(e,t){return e+t*t8}function _L(e){return e&e8}function eme(e){return(e-(e&e8))/t8}const n8=1,r8=2,Xp=4,i8=8;class l1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&i8)>0}get deletedBefore(){return(this.delInfo&(n8|Xp))>0}get deletedAfter(){return(this.delInfo&(r8|Xp))>0}get deletedAcross(){return(this.delInfo&Xp)>0}}class Tr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Tr.empty)return Tr.empty}recover(t){let n=0,r=_L(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+eme(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>t)break;let l=this.ranges[a+s],u=this.ranges[a+o],d=c+l;if(t<=d){let f=l?t==c?-1:t==d?1:n:n,h=c+i+(f<0?0:u);if(r)return h;let p=t==(n<0?c:d)?null:Zpe(a/3,t-c),m=t==c?r8:t==d?n8:Xp;return(n<0?t!=c:t!=d)&&(m|=i8),new l1(h,m,p)}i+=u-l}return r?t+i:new l1(t+i,0,null)}touches(t,n){let r=0,i=_L(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>t)break;let l=this.ranges[a+s],u=c+l;if(t<=u&&a==i*3)return!0;r+=this.ranges[a+o]-l}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),c=o+(this.inverted?0:s),l=this.ranges[i+n],u=this.ranges[i+r];t(a,a+l,c,c+u),s+=u-l}}invert(){return new Tr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Tr.empty:new Tr(t<0?[0,-t,0]:[0,0,t])}}Tr.empty=new Tr([]);class kl{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new kl(this.maps,this.mirror,t,n)}copy(){return new kl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new kl;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(t,n);if(a.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,t=this.maps[c].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new l1(t,i,null)}}const tE=Object.create(null);class Hn{getMap(){return Tr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=tE[n.stepType];if(!r)throw new RangeError("No step type ".concat(n.stepType," defined"));return r.fromJSON(t,n)}static jsonID(t,n){if(t in tE)throw new RangeError("Duplicate use of step JSON ID "+t);return tE[t]=n,n.prototype.jsonID=t,n}}class sn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new sn(t,null)}static fail(t){return new sn(null,t)}static fromReplace(t,n,r,i){try{return sn.ok(t.replace(n,r,i))}catch(s){if(s instanceof tg)return sn.fail(s.message);throw s}}}function gx(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(gx(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return le.fromArray(r)}class ko extends Hn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ie(gx(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return sn.fromReplace(t,this.from,this.to,s)}invert(){return new ns(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ko(n.pos,r.pos,this.mark)}merge(t){return t instanceof ko&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ko(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ko(n.from,n.to,t.markFromJSON(n.mark))}}Hn.jsonID("addMark",ko);class ns extends Hn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Ie(gx(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return sn.fromReplace(t,this.from,this.to,r)}invert(){return new ko(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ns(n.pos,r.pos,this.mark)}merge(t){return t instanceof ns&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ns(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ns(n.from,n.to,t.markFromJSON(n.mark))}}Hn.jsonID("removeMark",ns);class Mo extends Hn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return sn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return sn.fromReplace(t,this.pos,this.pos+1,new Ie(le.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Mo(this.pos,n.marks[i]);return new Mo(this.pos,this.mark)}}return new nu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Mo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mo(n.pos,t.markFromJSON(n.mark))}}Hn.jsonID("addNodeMark",Mo);class nu extends Hn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return sn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return sn.fromReplace(t,this.pos,this.pos+1,new Ie(le.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Mo(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new nu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new nu(n.pos,t.markFromJSON(n.mark))}}Hn.jsonID("removeNodeMark",nu);class qn extends Hn{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&u1(t,this.from,this.to)?sn.fail("Structure replace would overwrite content"):sn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Tr([this.from,this.to-this.from,this.slice.size])}invert(t){return new qn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new qn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof qn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ie.empty:new Ie(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new qn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ie.empty:new Ie(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new qn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qn(n.from,n.to,Ie.fromJSON(t,n.slice),!!n.structure)}}Hn.jsonID("replace",qn);class xr extends Hn{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(u1(t,this.from,this.gapFrom)||u1(t,this.gapTo,this.to)))return sn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return sn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?sn.fromReplace(t,this.from,this.to,r):sn.fail("Content does not fit in gap")}getMap(){return new Tr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new xr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new xr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xr(n.from,n.to,n.gapFrom,n.gapTo,Ie.fromJSON(t,n.slice),n.insert,!!n.structure)}}Hn.jsonID("replaceAround",xr);function u1(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function tme(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(c,l,u)=>{if(!c.isInline)return;let d=c.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(l,t),h=Math.min(l+c.nodeSize,n),p=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[m])?o.to=h:i.push(o=new ns(f,h,d[m])));a&&a.to==f?a.to=h:s.push(a=new ko(f,h,r))}}),i.forEach(c=>e.step(c)),s.forEach(c=>e.step(c))}function nme(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let c=null;if(r instanceof q_){let l=o.marks,u;for(;u=r.isInSet(l);)(c||(c=[])).push(u),l=u.removeFromSet(l)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let l=Math.min(a+o.nodeSize,n);for(let u=0;u<c.length;u++){let d=c[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==s-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=l,f.step=s):i.push({style:d,from:Math.max(a,t),to:l,step:s})}}}),i.forEach(o=>e.step(new ns(o.from,o.to,o.style)))}function s8(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),o=[],a=t+1;for(let c=0;c<s.childCount;c++){let l=s.child(c),u=a+l.nodeSize,d=r.matchType(l.type);if(!d)o.push(new qn(a,u,Ie.empty));else{r=d;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||e.step(new ns(a,u,l.marks[f]));if(i&&l.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(l.text);)p||(p=new Ie(le.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new qn(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let c=r.fillBefore(le.empty,!0);e.replace(a,a,new Ie(c,0,0))}for(let c=o.length-1;c>=0;c--)e.step(o[c])}function rme(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function _x(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!rme(i,s,o))break}return null}function ime(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),c=o,l=a,u=le.empty,d=0;for(let p=s,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,u=le.from(r.node(p).copy(u)),d++):c--;let f=le.empty,h=0;for(let p=s,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=le.from(i.node(p).copy(f)),h++):l++;e.step(new xr(c,l,o,a,new Ie(u.append(f),d,h),u.size-d,!0))}function sme(e,t,n=null,r=e){let i=ome(e,t),s=i&&ame(r,t);return s?i.map(vL).concat({type:t,attrs:n}).concat(s.map(vL)):null}function vL(e){return{type:e,attrs:null}}function ome(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function ame(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:t).contentMatch;for(let l=r;c&&l<i;l++)c=c.matchType(n.child(l).type);return!c||!c.validEnd?null:o}function cme(e,t,n){let r=le.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=le.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new xr(i,s,i,s,new Ie(r,0,0),n.length,!0))}function lme(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&fme(e.doc,e.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!h?c=!1:!f&&h&&(c=!0)}c===!1&&dme(e,o,a,s),s8(e,e.mapping.slice(s).map(a,1),r,void 0,c===null);let l=e.mapping.slice(s),u=l.map(a,1),d=l.map(a+o.nodeSize,1);return e.step(new xr(u,d,u+1,d-1,new Ie(le.from(r.create(i,null,o.marks)),0,0),1,!0)),c===!0&&ume(e,o,a,s),!1}})}function ume(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let c=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function dme(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+s);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function fme(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function hme(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new xr(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new Ie(le.from(o),0,0),1,!0))}function Qp(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let l=i.depth-1,u=n-2;l>s;l--,u--){let d=i.node(l),f=i.index(l);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(h))return!1}let a=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(a,a,c?c.type:i.node(s+1).type)}function pme(e,t,n=1,r){let i=e.doc.resolve(t),s=le.empty,o=le.empty;for(let a=i.depth,c=i.depth-n,l=n-1;a>c;a--,l--){s=le.from(i.node(a).copy(s));let u=r&&r[l];o=le.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}e.step(new qn(t,t,new Ie(s.append(o),n,n),!0))}function o8(e,t){let n=e.resolve(t),r=n.index();return mme(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function mme(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function gme(e,t,n){let r=new qn(t-n,t+n,Ie.empty,!0);e.step(r)}function _me(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function vme(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(a>0?1:0),l=r.node(o),u=!1;if(s==1)u=l.canReplace(c,c,i);else{let d=l.contentMatchAt(c).findWrapping(i.firstChild.type);u=d&&l.canReplaceWith(c,c,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function vx(e,t,n=t,r=Ie.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return a8(i,s,r)?new qn(t,n,r):new yme(i,s,r).fit()}function a8(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class yme{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=le.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=le.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let l=this.findFittable();l?this.placeNodes(l):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let c=new Ie(s,o,a);return t>-1?new xr(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new qn(r.pos,i.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=nE(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:l}=this.frontier[a],u,d=null;if(n==1&&(o?l.matchType(o.type)||(d=l.fillBefore(le.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&l.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=nE(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ie(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=nE(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new Ie(_d(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ie(_d(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,c=o.openStart-t,l=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));d=d.matchFragment(i)}let h=a.size+t-(o.content.size-o.openEnd);for(;l<a.childCount;){let m=a.child(l),g=d.matchType(m.type);if(!g)break;l++,(l>1||c==0||m.content.size)&&(d=g,u.push(c8(m.mark(f.allowedMarks(m.marks)),l==1?c:0,l==a.childCount?h:-1)))}let p=l==a.childCount;p||(h=-1),this.placed=vd(this.placed,n,le.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<h;m++){let y=g.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),g=y.content}this.unplaced=p?t==0?Ie.empty:new Ie(_d(o.content,t-1,1),t-1,h<0?o.openEnd:t-1):new Ie(_d(o.content,t,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!rE(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=rE(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:c,type:l}=this.frontier[a],u=rE(t,a,l,c,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vd(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=vd(this.placed,this.depth,le.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(le.empty,!0);n.childCount&&(this.placed=vd(this.placed,this.frontier.length,n))}}function _d(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(_d(e.firstChild.content,t-1,n)))}function vd(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(vd(e.lastChild.content,t-1,n)))}function nE(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function c8(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,c8(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(le.empty,!0)))),e.copy(r)}function rE(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!bme(n,s.content,o)?a:null}function bme(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Cme(e){return e.spec.defining||e.spec.definingForContent}function Eme(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(a8(i,s,r))return e.step(new qn(t,n,r));let o=u8(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==h&&o.splice(1,0,-f)}let c=o.indexOf(a),l=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(l.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=l[f],p=Cme(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=l[h];if(p)for(let m=0;m<o.length;m++){let g=o[(m+c)%o.length],y=!0;g<0&&(y=!1,g=-g);let v=i.node(g-1),T=i.index(g-1);if(v.canReplaceWith(T,T,p.type,p.marks))return e.replace(i.before(g),y?s.after(g):n,new Ie(l8(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=o[f];h<0||(t=i.before(h),n=s.after(h))}}function l8(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(l8(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore(le.empty,!0))}return e}function Sme(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=_me(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Ie(le.from(r),0,0))}function Ome(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=u8(r,i);for(let o=0;o<s.length;o++){let a=s[o],c=o==s.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}function u8(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Ml extends Hn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return sn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return sn.fromReplace(t,this.pos,this.pos+1,new Ie(le.from(i),0,n.isLeaf?0:1))}getMap(){return Tr.empty}invert(t){return new Ml(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ml(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ml(n.pos,n.attr,n.value)}}Hn.jsonID("attr",Ml);class hf extends Hn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return sn.ok(r)}getMap(){return Tr.empty}invert(t){return new hf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hf(n.attr,n.value)}}Hn.jsonID("docAttr",hf);let ru=class extends Error{};ru=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};ru.prototype=Object.create(Error.prototype);ru.prototype.constructor=ru;ru.prototype.name="TransformError";class Tme{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new kl}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new ru(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Ie.empty){let i=vx(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Ie(le.from(r),0,0))}delete(t,n){return this.replace(t,n,Ie.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Eme(this,t,n,r),this}replaceRangeWith(t,n,r){return Sme(this,t,n,r),this}deleteRange(t,n){return Ome(this,t,n),this}lift(t,n){return ime(this,t,n),this}join(t,n=1){return gme(this,t,n),this}wrap(t,n){return cme(this,t,n),this}setBlockType(t,n=t,r,i=null){return lme(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return hme(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Ml(t,n,r)),this}setDocAttribute(t,n){return this.step(new hf(t,n)),this}addNodeMark(t,n){return this.step(new Mo(t,n)),this}removeNodeMark(t,n){if(!(n instanceof pt)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new nu(t,n)),this}split(t,n=1,r){return pme(this,t,n,r),this}addMark(t,n,r){return tme(this,t,n,r),this}removeMark(t,n,r){return nme(this,t,n,r),this}clearIncompatible(t,n,r){return s8(this,t,n,r),this}}const iE=Object.create(null);class lt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new wme(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ie.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:l}=o[a],u=t.mapping.slice(s);t.replaceRange(u.map(c.pos),u.map(l.pos),a?Ie.empty:n),a==0&&CL(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],c=t.mapping.slice(r),l=c.map(o.pos),u=c.map(a.pos);s?t.deleteRange(l,u):(t.replaceRangeWith(l,u,n),CL(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new ct(t):cl(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?cl(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):cl(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Ir(t.node(0))}static atStart(t){return cl(t,t,0,0,1)||new Ir(t)}static atEnd(t){return cl(t,t,t.content.size,t.childCount,-1)||new Ir(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=iE[n.type];if(!r)throw new RangeError("No selection type ".concat(n.type," defined"));return r.fromJSON(t,n)}static jsonID(t,n){if(t in iE)throw new RangeError("Duplicate use of selection JSON ID "+t);return iE[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ct.between(this.$anchor,this.$head).getBookmark()}}lt.prototype.visible=!0;class wme{constructor(t,n){this.$from=t,this.$to=n}}let yL=!1;function bL(e){!yL&&!e.parent.inlineContent&&(yL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ct extends lt{constructor(t,n=t){bL(t),bL(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return lt.near(r);let i=t.resolve(n.map(this.anchor));return new ct(i.parent.inlineContent?i:r,r)}replace(t,n=Ie.empty){if(super.replace(t,n),n==Ie.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ct&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new V_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ct(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=lt.findFrom(n,r,!0)||lt.findFrom(n,-r,!0);if(s)n=s.$head;else return lt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(lt.findFrom(t,-r,!0)||lt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new ct(t,n)}}lt.jsonID("text",ct);class V_{constructor(t,n){this.anchor=t,this.head=n}map(t){return new V_(t.map(this.anchor),t.map(this.head))}resolve(t){return ct.between(t.resolve(this.anchor),t.resolve(this.head))}}class Xe extends lt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?lt.near(s):new Xe(s)}content(){return new Ie(le.from(this.node),0,0)}eq(t){return t instanceof Xe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new yx(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Xe(t.resolve(n.anchor))}static create(t,n){return new Xe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Xe.prototype.visible=!1;lt.jsonID("node",Xe);class yx{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new V_(r,r):new yx(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Xe.isSelectable(r)?new Xe(n):lt.near(n)}}class Ir extends lt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ie.empty){if(n==Ie.empty){t.delete(0,t.doc.content.size);let r=lt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Ir(t)}map(t){return new Ir(t)}eq(t){return t instanceof Ir}getBookmark(){return Ame}}lt.jsonID("all",Ir);const Ame={map(){return this},resolve(e){return new Ir(e)}};function cl(e,t,n,r,i,s=!1){if(t.inlineContent)return ct.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&Xe.isSelectable(a))return Xe.create(e,n-(i<0?a.nodeSize:0))}else{let c=cl(e,a,n+i,i<0?a.childCount:0,i,s);if(c)return c}n+=a.nodeSize*i}return null}function CL(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof qn||i instanceof xr))return;let s=e.mapping.maps[r],o;s.forEach((a,c,l,u)=>{o==null&&(o=u)}),e.setSelection(lt.near(e.doc.resolve(o),n))}const EL=1,gp=2,SL=4;class xme extends Tme{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|EL)&~gp,this.storedMarks=null,this}get selectionSet(){return(this.updated&EL)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=gp,this}ensureMarks(t){return pt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&gp)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~gp,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||pt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(lt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=SL,this}get scrolledIntoView(){return(this.updated&SL)>0}}function OL(e,t){return!t||!e?e:e.bind(t)}class yd{constructor(t,n,r){this.name=t,this.init=OL(n.init,r),this.apply=OL(n.apply,r)}}const Ime=[new yd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new yd("selection",{init(e,t){return e.selection||lt.atStart(t.doc)},apply(e){return e.selection}}),new yd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new yd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class sE{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ime.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new yd(r.key,r.spec.state,r))})}}class vl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=i?i[o].n:0,l=i?i[o].state:this,u=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,l,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new vl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new xme(this)}static create(t){let n=new sE(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new vl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new sE(this.schema,t.plugins),r=n.fields,i=new vl(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new sE(t.schema,t.plugins),s=new vl(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Qa.fromJSON(t.schema,n.doc);else if(o.name=="selection")s.selection=lt.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],l=c.spec.state;if(c.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=l.fromJSON.call(c,t,n[a],s);return}}s[o.name]=o.init(t,s)}}),s}}function d8(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=d8(i,t,{})),n[r]=i}return n}class jr{constructor(t){this.spec=t,this.props={},t.props&&d8(t.props,this,this.props),this.key=t.key?t.key.key:f8("plugin")}getState(t){return t[this.key]}}const oE=Object.create(null);function f8(e){return e in oE?e+"$"+ ++oE[e]:(oE[e]=0,e+"$")}class ci{constructor(t="key"){this.key=f8(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const h8=new ci("contentReference"),KGe=e=>{const t=T_(e).map(({newContentReference:n})=>n);return new jr({key:h8,state:{init:(n,{doc:r})=>({displayedContentReferences:t}),apply:(n,r)=>r},props:{}})},TL=30,Nme=["p",0],Rme=["br"],p8={paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p",preserveWhitespace:"full"}],toDOM(){return Nme}},text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return Rme}},doc:{content:"block+"}};p8.template_variable={group:"inline",inline:!0,atom:!0,attrs:{key:{default:""},id:{default:""},value:{default:""}},toDOM:e=>{const t=e.attrs.value||e.attrs.key,n=t.length>TL?t.slice(0,TL)+"...":t;return["span",{"data-bracket-tag-id":e.attrs.id,class:"pm-bracket-tag","data-template-key":e.attrs.key},n]},parseDOM:[{tag:"span[data-bracket-tag-id]",getAttrs:e=>({id:e.getAttribute("data-bracket-tag-id"),key:e.getAttribute("data-template-key"),value:e.textContent})}]};const Pme={ecosystemMentionMark:{attrs:{id:{default:null},kind:{default:null},keyword:{default:null}},inclusive:!1,excludes:"",parseDOM:[{tag:"span.ecosystem-mention",getAttrs:e=>({id:e.dataset.id||null,keyword:e.dataset.keyword||null,kind:e.dataset.kind||null})}],toDOM(e){const{id:t,kind:n,keyword:r}=e.attrs;return["span",{class:"ecosystem-mention","data-id":t!=null?t:"","data-keyword":r!=null?r:"","data-kind":n!=null?n:""},0]}}},og=new qpe({nodes:p8,marks:Pme}),m8=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function kme(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const bx=(e,t,n)=>{let r=kme(e,n);if(!r)return!1;let i=g8(r);if(!i){let o=r.blockRange(),a=o&&_x(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&C8(e,i,t))return!0;if(r.parent.content.size==0&&(iu(s,"end")||Xe.isSelectable(s))){let o=vx(e.doc,r.before(),r.after(),Ie.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(iu(s,"end")?lt.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Xe.create(a.doc,i.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function iu(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Mme=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=g8(r)}let o=s&&s.nodeBefore;return!o||!Xe.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Xe.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function g8(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Dme(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Lme=(e,t,n)=>{let r=Dme(e,n);if(!r)return!1;let i=_8(r);if(!i)return!1;let s=i.nodeAfter;if(C8(e,i,t))return!0;if(r.parent.content.size==0&&(iu(s,"start")||Xe.isSelectable(s))){let o=vx(e.doc,r.before(),r.after(),Ie.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(iu(s,"start")?lt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Xe.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},jme=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=_8(r)}let o=s&&s.nodeAfter;return!o||!Xe.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Xe.create(e.doc,s.pos)).scrollIntoView()),!0)};function _8(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Fme=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function Cx(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Ume=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Cx(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),c=e.tr.replaceWith(a,a,o.createAndFill());c.setSelection(lt.near(c.doc.resolve(a),1)),t(c.scrollIntoView())}return!0},v8=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Ir||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Cx(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(ct.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},y8=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Qp(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&_x(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function Bme(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Xe&&t.selection.node.isBlock)return!r.parentOffset||!Qp(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=t.tr;(t.selection instanceof ct||t.selection instanceof Ir)&&o.deleteSelection();let a=r.depth==0?null:Cx(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=s&&a?[{type:a}]:void 0,l=Qp(o.doc,o.mapping.map(r.pos),1,c);if(!c&&!l&&Qp(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),l=!0),l&&(o.split(o.mapping.map(r.pos),1,c),!s&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),d=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const b8=Bme(),Gme=(e,t)=>(t&&t(e.tr.setSelection(new Ir(e.doc))),!0);function Wme(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||o8(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function C8(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(Wme(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let d=t.pos+i.nodeSize,f=le.empty;for(let m=s.length-1;m>=0;m--)f=le.from(s[m].create(null,f));f=le.from(r.copy(f));let h=e.tr.step(new xr(t.pos-1,d,t.pos,d,new Ie(f,1,0),s.length,!0)),p=d+2*s.length;o8(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let c=lt.findFrom(t,1),l=c&&c.$from.blockRange(c.$to),u=l&&_x(l);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(l,u).scrollIntoView()),!0;if(a&&iu(i,"start",!0)&&iu(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let m=le.empty;for(let y=f.length-1;y>=0;y--)m=le.from(f[y].copy(m));let g=e.tr.step(new xr(t.pos-f.length,t.pos+i.nodeSize,t.pos+p,t.pos+i.nodeSize-p,new Ie(m,f.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function E8(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(ct.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const qme=E8(-1),Vme=E8(1);function JGe(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&sme(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function XGe(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(c,l)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(e,t)))if(c.type==e)i=!0;else{let u=n.doc.resolve(l),d=u.index();i=u.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];s.setBlockType(a,c,e,t)}r(s.scrollIntoView())}return!0}}function $me(e,t,n){for(let r=0;r<t.length;r++){let{$from:i,$to:s}=t[r],o=i.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(n)}),o)return!0}return!1}function QGe(e,t=null){return function(n,r){let{empty:i,$cursor:s,ranges:o}=n.selection;if(i&&!s||!$me(n.doc,o,e))return!1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let a=!1,c=n.tr;for(let l=0;!a&&l<o.length;l++){let{$from:u,$to:d}=o[l];a=n.doc.rangeHasMark(u.pos,d.pos,e)}for(let l=0;l<o.length;l++){let{$from:u,$to:d}=o[l];if(a)c.removeMark(u.pos,d.pos,e);else{let f=u.pos,h=d.pos,p=u.nodeAfter,m=d.nodeBefore,g=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,y=m&&m.isText?/\s*$/.exec(m.text)[0].length:0;f+g<h&&(f+=g,h-=y),c.addMark(f,h,e.create(t))}}r(c.scrollIntoView())}return!0}}function $_(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let aE=$_(m8,bx,Mme),wL=$_(m8,Lme,jme);const Rs={Enter:$_(Fme,v8,y8,b8),"Mod-Enter":Ume,Backspace:aE,"Mod-Backspace":aE,"Shift-Backspace":aE,Delete:wL,"Mod-Delete":wL,"Mod-a":Gme},S8={"Ctrl-h":Rs.Backspace,"Alt-Backspace":Rs["Mod-Backspace"],"Ctrl-d":Rs.Delete,"Ctrl-Alt-Backspace":Rs["Mod-Delete"],"Alt-Delete":Rs["Mod-Delete"],"Alt-d":Rs["Mod-Delete"],"Ctrl-a":qme,"Ctrl-e":Vme};for(let e in Rs)S8[e]=Rs[e];const Hme=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,AL=Hme?S8:Rs;function O8(e){var t,n,r;if(e.childCount===0)return!0;if(e.childCount===1&&((t=e.firstChild)!=null&&t.isTextblock)){const i=e.firstChild.content;if(i.size===0)return!0;if(i.childCount===1&&((n=i.firstChild)!=null&&n.isText))return/^\s*$/.test((r=i.firstChild.text)!=null?r:"")}return!1}function zme(e){let t="",n=!1;const r=[];function i(s){if(n=!1,s.type.name==="paragraph")return s.descendants(o=>i(o)),t+="\n",n=!0,!1;if(s.marks.find(o=>o.type===og.marks.ecosystemMentionMark))return r.push({symbol:kT.EcosystemMention,startIndex:t.length,endIndex:t.length+s.textContent.length}),t+=s.textContent,!1;if(s.type.name==="command_token"){const o=Yme(s.textContent);return r.push({symbol:kT.SystemHint,startIndex:t.length,endIndex:t.length+o.length}),t+=o,!1}else{if(s.type.name==="template_variable")return t+=s.attrs.value||s.attrs.key,!1;s.isText&&s.text!==void 0&&(t+=s.text)}}return e.descendants(s=>i(s)),n&&t.endsWith("\n")&&(t=t.slice(0,-1)),{content:t,metadata:{custom_symbol_offsets:r}}}function Yme(e){return e.replace(new RegExp("[\\u{E0000}-\\u{E007F}]+","gu"),"")}const Ex=$_(v8,y8,b8);function ZGe(e,t){const{schema:n}=e.state,r=t.split(/\r?\n/),i=le.fromArray(r.map(s=>s===""?n.nodes.paragraph.create():n.nodes.paragraph.create(null,n.text(s))));e.dispatch(e.state.tr.replaceWith(0,e.state.doc.content.size,i)),e.hasFocus()&&e.dispatch(e.state.tr.setSelection(ct.atEnd(e.state.doc)).scrollIntoView())}function eWe(e){e.hasFocus()?e.dispatch(e.state.tr.scrollIntoView()):(e.focus(),e.dispatch(e.state.tr.setSelection(ct.atEnd(e.state.doc)).scrollIntoView()))}function tWe(e){return Kme(e,0,e.state.doc.content.size)}function Kme(e,t,n){e.dispatch(e.state.tr.delete(t,n))}function nWe(e,t){T8(e,t,!1,!1)}function rWe(e,t){e.dispatch(e.state.tr.setSelection(ct.create(e.state.doc,0))),Ex(e.state,e.dispatch),e.dispatch(e.state.tr.insertText(t,0))}function T8(e,t,n=!1,r=!0){if(n){Xme(e,t);return}const{schema:i}=e.state,s=t.split("\n");if(r&&e.dispatch(e.state.tr.deleteSelection()),e.dispatch(e.state.tr.insertText(s[0])),s.length>1){Ex(e.state,e.dispatch);const o=s.slice(1),a=le.fromArray(o.map(l=>i.nodes.paragraph.create(null,l===""?null:i.text(l)))),c=new Ie(a,0,0);e.dispatch(e.state.tr.replaceSelection(c)),bx(e.state,e.dispatch,e)}}const Jme=/oaicite:(\d+)/g;function Xme(e,t){const{schema:n}=e.state,r=t.split("\n");e.dispatch(e.state.tr.deleteSelection());const{tr:i}=e.state,{$from:s}=i.selection;s.parent.isTextblock||(i.insert(s.pos,n.nodes.paragraph.create()),e.dispatch(i),e.focus());const{selection:o}=e.state,{$from:a}=o,c=r[0],l=xL(c,n,e),u=le.fromArray(l);let d=u;a.parent.type.validContent(u)||(d=n.nodes.paragraph.create(null,u));const f=new Ie(le.from(d),0,0);if(e.dispatch(e.state.tr.replaceSelection(f)),r.length>1){Ex(e.state,e.dispatch);const p=r.slice(1).map(y=>{const v=xL(y,n,e);return n.nodes.paragraph.create(null,v)}),m=le.fromArray(p),g=new Ie(m,0,0);e.dispatch(e.state.tr.replaceSelection(g)),bx(e.state,e.dispatch,e)}}function xL(e,t,n){const r=[];let i=0,s;if(!!!h8.get(n.state))return[t.text(e)];for(;(s=Jme.exec(e))!=null;){if(s.index>i){const l=e.slice(i,s.index);r.push(t.text(l))}const a=s[1],c=Qme(a,t);r.push(c),i=s.index+s[0].length}if(i<e.length){const a=e.slice(i);r.push(t.text(a))}return r}function Qme(e,t){const n=Tpe({value:"oaicite:"+e},t);if(n==null)throw new Error("Failed to create text node for content reference");const r={index:e,displayLayout:"inline"},i=le.fromArray([n]);return t.nodes.contentReference.create(r,i)}const iWe=e=>hr(e).checkGate("223382091");function sWe(e,t){const r=e.state.tr;let i=0;return r.doc.descendants((s,o)=>{if(s.isText&&s.text){if(typeof t=="string"&&s.text.startsWith(t))i=t.length;else if(t instanceof RegExp){const a=s.text.match(t);(a==null?void 0:a.index)===0&&(i=a[0].length)}if(i){const a=s.text.substring(i).trimStart();i=s.text.length-a.length,r.delete(o,o+i)}}return!s.isLeaf}),i>0?(e.dispatch(r),!0):!1}function oWe(e,t,n){const i=e.state.tr,s=[];i.doc.descendants((o,a)=>{!o.isText||o.text===void 0||s.push({node:o,pos:a})}),s.reverse(),s.forEach(({node:o,pos:a})=>{!o.isText||o.text===void 0||o.text.includes(t)&&i.insertText(o.text.replaceAll(t,n),a,a+o.text.length)}),e.dispatch(i)}const w8=new ci("transactionEventPlugin"),d1="prosemirrorDispatchTransaction";function A8(e,t){const{eventTarget:n}=w8.getState(e.state);return n.addEventListener(d1,t),()=>{n.removeEventListener(d1,t)}}function Zme(e){return new jr({key:w8,state:{init(){return{eventTarget:e}},apply(t,n){return n}}})}function ege(e,t){let n=!1;return Ee(()=>n=!t()&&(n||e()))}var cE,IL;function tge(){if(IL)return cE;IL=1;var e=Di(),t=function(){return e.Date.now()};return cE=t,cE}var lE,NL;function x8(){if(NL)return lE;NL=1;var e=Li(),t=tge(),n=SW(),r="Expected a function",i=Math.max,s=Math.min;function o(a,c,l){var u,d,f,h,p,m,g=0,y=!1,v=!1,T=!0;if(typeof a!="function")throw new TypeError(r);c=n(c)||0,e(l)&&(y=!!l.leading,v="maxWait"in l,f=v?i(n(l.maxWait)||0,c):f,T="trailing"in l?!!l.trailing:T);function C(D){var F=u,G=d;return u=d=void 0,g=D,h=a.apply(G,F),h}function b(D){return g=D,p=setTimeout(A,c),y?C(D):h}function O(D){var F=D-m,G=D-g,z=c-F;return v?s(z,f-G):z}function w(D){var F=D-m,G=D-g;return m===void 0||F>=c||F<0||v&&G>=f}function A(){var D=t();if(w(D))return x(D);p=setTimeout(A,O(D))}function x(D){return p=void 0,T&&u?C(D):(u=d=void 0,h)}function N(){p!==void 0&&clearTimeout(p),g=0,u=m=d=p=void 0}function R(){return p===void 0?h:x(t())}function L(){var D=t(),F=w(D);if(u=arguments,d=this,m=D,F){if(p===void 0)return b(m);if(v)return clearTimeout(p),p=setTimeout(A,c),C(m)}return p===void 0&&(p=setTimeout(A,c)),h}return L.cancel=N,L.flush=R,L}return lE=o,lE}var nge=x8();const rge=Gt(nge);var uE,RL;function ige(){if(RL)return uE;RL=1;var e=x8(),t=Li(),n="Expected a function";function r(i,s,o){var a=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),e(i,s,{leading:a,maxWait:s,trailing:c})}return uE=r,uE}var sge=ige();const I8=Gt(sge),Zp=new ci("contextConnectorPaste");function oge(){return new jr({key:Zp,state:{init:()=>({}),apply(e,t){const n=e.getMeta(Zp);return n!=null?n:t}},props:{transformPasted(e,t){var r;const n=(r=Zp.getState(t.state))==null?void 0:r.transformPasted;return n?n(e,t):e}}})}function aWe(e,t){e.dispatch(e.state.tr.setMeta(Zp,t))}const N8={shift:!1,ctrl:!1,meta:!1},f1=rr(()=>N8),age=f1.getState;function cge(e){return at(e)?NB(e,"4147197039"):null}const lge=5e3;function uge(e,t){var o;const n=cge(e);if(age().shift||!t||t.length<lge)return!1;const i=(o=n==null?void 0:n.get("paste_threshold",0))!=null?o:0;return i>0?t.length>=i:!1}async function cWe(e){const t=await k(()=>import("./k6mze6dmdufp928k.js"),__vite__mapDeps([21,1,22]));await new Promise(r=>setTimeout(r,0));const n=t.getFileTypeGuess(e);return await new Promise(r=>setTimeout(r,0)),n}const dge=20,lWe=({enabled:e=!0,includeAll:t=!1,limit:n=dge})=>ta({queryKey:["prompt-templates",{includeAll:t,limit:n}],enabled:e,initialPageParam:void 0,getNextPageParam:r=>{var i;return(i=r.query_continuation)!=null?i:void 0},queryFn:({pageParam:r})=>{const i={include_all:t,limit:n};return r&&(i.query_continuation=r),Z.safeGet("/templated_prompts/",{parameters:{query:i}})}}),fge=20,uWe=({search:e,includeAll:t=!1,enabled:n=!0,limit:r=fge})=>ta({queryKey:["prompt-templates-search",{includeAll:t,limit:r,search:e}],enabled:n&&e.length>0,initialPageParam:void 0,getNextPageParam:i=>{var s;return(s=i.query_continuation)!=null?s:void 0},queryFn:async({pageParam:i})=>{const s={q:e,include_all:t,limit:r};return i&&(s.query_continuation=i),Z.safeGet("/templated_prompts/search",{parameters:{query:s}})}});function hge(e){var o;const t="3058946295",n="2236370269";return((o=$e(e,"46455729"))!=null?o:!1)?!0:(an(e,n),NB(e,t).get("enabled",!1))}const dWe=({onError:e,onSuccess:t})=>un({mutationFn:n=>Z.safePost("/templated_prompts/",{requestBody:n}),onError:e,onSuccess:t}),fWe=({onError:e,onSuccess:t})=>un({mutationFn:({promptId:n,prompt:r})=>Z.safePatch("/templated_prompts/{prompt_id}",{parameters:{path:{prompt_id:n}},requestBody:r}),onError:e,onSuccess:t}),hWe=({onError:e,onSuccess:t,share:n})=>un({mutationFn:r=>Z.safePost("/templated_prompts/{prompt_id}/toggle_share",{parameters:{path:{prompt_id:r}},requestBody:{shared_to_workspace:n}}),onError:e,onSuccess:t}),pWe=({onError:e,onSuccess:t})=>un({mutationFn:({promptId:n,relationship:r})=>Z.safePost("/templated_prompts/{prompt_id}/update_subscription",{parameters:{path:{prompt_id:n}},requestBody:{relationship:r}}),onError:e,onSuccess:t}),mWe=({onError:e,onSuccess:t})=>un({mutationFn:n=>Z.safePost("/templated_prompts/{prompt_id}/increment_invocation",{parameters:{path:{prompt_id:n}}}),onError:e,onSuccess:t});var Xo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ag={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},pge=typeof navigator<"u"&&/Mac/.test(navigator.platform),mge=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Mn=0;Mn<10;Mn++)Xo[48+Mn]=Xo[96+Mn]=String(Mn);for(var Mn=1;Mn<=24;Mn++)Xo[Mn+111]="F"+Mn;for(var Mn=65;Mn<=90;Mn++)Xo[Mn]=String.fromCharCode(Mn+32),ag[Mn]=String.fromCharCode(Mn);for(var dE in Xo)ag.hasOwnProperty(dE)||(ag[dE]=Xo[dE]);function gge(e){var t=pge&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||mge&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?ag:Xo)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const _ge=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function vge(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a++){let c=t[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))_ge?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function yge(e){let t=Object.create(null);for(let n in e)t[vge(n)]=e[n];return t}function fE(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function R8(e){return new jr({props:{handleKeyDown:P8(e)}})}function P8(e){let t=yge(e);return function(n,r){let i=gge(r),s,o=t[fE(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[fE(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Xo[r.keyCode])&&s!=i){let a=t[fE(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Dn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},pf=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let h1=null;const Is=function(e,t,n){let r=h1||(h1=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},bge=function(){h1=null},yc=function(e,t,n,r){return n&&(PL(e,t,n,r,-1)||PL(e,t,n,r,1))},Cge=/^(img|br|input|textarea|hr)$/i;function PL(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Qi(e))){let s=e.parentNode;if(!s||s.nodeType!=1||bh(e)||Cge.test(e.nodeName)||e.contentEditable=="false")return!1;t=Dn(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Qi(e):0}else return!1}}function Qi(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ege(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Qi(e)}else if(e.parentNode&&!bh(e))t=Dn(e),e=e.parentNode;else return null}}function Sge(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!bh(e))t=Dn(e)+1,e=e.parentNode;else return null}}function Oge(e,t,n){for(let r=t==0,i=t==Qi(e);r||i;){if(e==n)return!0;let s=Dn(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Qi(e)}}function bh(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const H_=function(e){return e.focusNode&&yc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function ja(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Tge(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function wge(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const hs=typeof navigator<"u"?navigator:null,kL=typeof document<"u"?document:null,ua=hs&&hs.userAgent||"",p1=/Edge\/(\d+)/.exec(ua),k8=/MSIE \d/.exec(ua),m1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ua),lr=!!(k8||m1||p1),Fo=k8?document.documentMode:m1?+m1[1]:p1?+p1[1]:0,Ni=!lr&&/gecko\/(\d+)/i.test(ua);Ni&&+(/Firefox\/(\d+)/.exec(ua)||[0,0])[1];const g1=!lr&&/Chrome\/(\d+)/.exec(ua),$n=!!g1,M8=g1?+g1[1]:0,er=!lr&&!!hs&&/Apple Computer/.test(hs.vendor),su=er&&(/Mobile\/\w+/.test(ua)||!!hs&&hs.maxTouchPoints>2),Hr=su||(hs?/Mac/.test(hs.platform):!1),Age=hs?/Win/.test(hs.platform):!1,vi=/Android \d/.test(ua),Ch=!!kL&&"webkitFontSmoothing"in kL.documentElement.style,xge=Ch?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Ige(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function As(e,t){return typeof e=="number"?e:e[t]}function Nge(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function ML(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let o=n||e.dom;o;o=pf(o)){if(o.nodeType!=1)continue;let a=o,c=a==s.body,l=c?Ige(s):Nge(a),u=0,d=0;if(t.top<l.top+As(r,"top")?d=-(l.top-t.top+As(i,"top")):t.bottom>l.bottom-As(r,"bottom")&&(d=t.bottom-t.top>l.bottom-l.top?t.top+As(i,"top")-l.top:t.bottom-l.bottom+As(i,"bottom")),t.left<l.left+As(r,"left")?u=-(l.left-t.left+As(i,"left")):t.right>l.right-As(r,"right")&&(u=t.right-l.right+As(i,"right")),u||d)if(c)s.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,m=a.scrollTop-h;t={left:t.left-p,top:t.top-m,right:t.right-p,bottom:t.bottom-m}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Rge(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(s,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=n-20){r=a,i=c.top;break}}return{refDOM:r,refTop:i,stack:D8(e.dom)}}function D8(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=pf(r));return t}function Pge({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;L8(n,r==0?0:r-t)}function L8(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Jc=null;function kge(e){if(e.setActive)return e.setActive();if(Jc)return e.focus(Jc);let t=D8(e);e.focus(Jc==null?{get preventScroll(){return Jc={preventScroll:!0},!0}}:void 0),Jc||(Jc=!1,L8(t,0))}function j8(e,t){let n,r=2e8,i,s=0,o=t.top,a=t.top,c,l;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Is(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let m=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(m<r){n=u,r=m,i=m&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&m&&(s=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!c&&p.left<=t.left&&p.right>=t.left&&(c=u,l={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=d+1)}}return!n&&c&&(n=c,i=l,r=0),n&&n.nodeType==3?Mge(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:j8(n,i)}function Mge(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=go(r,1);if(s.top!=s.bottom&&Sx(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function Sx(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Dge(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Lge(e,t,n){let{node:r,offset:i}=j8(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function jge(e,t,n,r){let i=-1;for(let s=t,o=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let c=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&c.left>r.left||c.top>r.top?i=a.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function F8(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=e.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let l=a[c];if(Sx(t,l))return F8(o,t,l)}}if((s=(s+1)%r)==i)break}return e}function Fge(e,t){let n=e.dom.ownerDocument,r,i=0,s=wge(n,t.left,t.top);s&&({node:r,offset:i}=s);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=e.dom.getBoundingClientRect();if(!Sx(t,l)||(o=F8(e.dom,t,l),!o))return null}if(er)for(let l=o;r&&l;l=pf(l))l.draggable&&(r=void 0);if(o=Dge(o,t),r){if(Ni&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let l;Ch&&i&&r.nodeType==1&&(l=r.childNodes[i-1]).nodeType==1&&l.contentEditable=="false"&&l.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=jge(e,r,i,t))}a==null&&(a=Lge(e,o,t));let c=e.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function DL(e){return e.top<e.bottom||e.left<e.right}function go(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(DL(r))return r}return Array.prototype.find.call(n,DL)||e.getBoundingClientRect()}const Uge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function U8(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),o=Ch||Ni;if(r.nodeType==3)if(o&&(Uge.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=go(Is(r,i,i),n);if(Ni&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let l=go(Is(r,i-1,i-1),-1);if(l.top==c.top){let u=go(Is(r,i,i+1),-1);if(u.top!=c.top)return Ku(u,u.left<l.left)}}return c}else{let c=i,l=i,u=n<0?1:-1;return n<0&&!i?(l++,u=-1):n>=0&&i==r.nodeValue.length?(c--,u=1):n<0?c--:l++,Ku(go(Is(r,c,l),u),u<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Qi(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return hE(c.getBoundingClientRect(),!1)}if(s==null&&i<Qi(r)){let c=r.childNodes[i];if(c.nodeType==1)return hE(c.getBoundingClientRect(),!0)}return hE(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Qi(r))){let c=r.childNodes[i-1],l=c.nodeType==3?Is(c,Qi(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(l)return Ku(go(l,1),!1)}if(s==null&&i<Qi(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let l=c?c.nodeType==3?Is(c,0,o?0:1):c.nodeType==1?c:null:null;if(l)return Ku(go(l,-1),!0)}return Ku(go(r.nodeType==3?Is(r):r,-n),n>=0)}function Ku(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function hE(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function B8(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function Bge(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return B8(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=U8(e,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=Is(a,0,a.nodeValue.length).getClientRects();else continue;for(let l=0;l<c.length;l++){let u=c[l];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const Gge=/[\u0590-\u08ac]/;function Wge(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=e.domSelection();return!Gge.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:B8(e,t,()=>{let{focusNode:c,focusOffset:l,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:m}=e.domSelectionRange(),g=p&&!h.contains(p.nodeType==1?p:p.parentNode)||c==p&&l==m;try{a.collapse(u,d),c&&(c!=u||l!=d)&&a.extend&&a.extend(c,l)}catch(y){}return f!=null&&(a.caretBidiLevel=f),g})}let LL=null,jL=null,FL=!1;function qge(e,t,n){return LL==t&&jL==n?FL:(LL=t,jL=n,FL=n=="up"||n=="down"?Bge(e,t,n):Wge(e,t,n))}const ei=0,UL=1,Ba=2,ps=3;class Eh{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ei,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Dn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof W8){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof G8&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Dn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Dn(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let c=this.children[a],l=o+c.size;if(i==-1&&t<=l){let u=o+c.border;if(t>=u&&n<=l-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,u);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Dn(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(l>n||a==this.children.length-1)){n=l;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Dn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),o=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],m=h+p.size;if(s>h&&o<m)return p.setSelection(t-h-p.border,n-h-p.border,r,i);h=m}let a=this.domFromPos(t,t?-1:1),c=n==t?a:this.domFromPos(n,n?-1:1),l=r.getSelection(),u=!1;if((Ni||er)&&t==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]=="\n"),u&&h==f.nodeValue.length)for(let p=f,m;p;p=p.parentNode){if(m=p.nextSibling){m.nodeName=="BR"&&(a=c={node:m.parentNode,offset:Dn(m)+1});break}let g=p.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Ni&&l.focusNode&&l.focusNode!=c.node&&l.focusNode.nodeType==1){let f=l.focusNode.childNodes[l.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&er)&&yc(a.node,a.offset,l.anchorNode,l.anchorOffset)&&yc(c.node,c.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||t==n)&&!u){l.collapse(a.node,a.offset);try{t!=n&&l.extend(c.node,c.offset),d=!0}catch(f){}}if(!d){if(t>n){let h=a;a=c,c=h}let f=document.createRange();f.setEnd(c.node,c.offset),f.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+s.border,c=o-s.border;if(t>=a&&n<=c){this.dirty=t==r||n==o?Ba:UL,t==a&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ps:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ba:ps}r=o}this.dirty=Ba}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Ba:UL;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class G8 extends Eh{constructor(t,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==ei&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Vge extends Eh{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class bc extends Eh{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Au.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new bc(t,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&ps||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=ps&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=ei){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ei}}slice(t,n,r){let i=bc.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=y1(s,n,o,r)),t>0&&(s=y1(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Uo extends Eh{constructor(t,n,r,i,s,o,a,c,l){super(t,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,s,o){let a=s.nodeViews[n.type.name],c,l=a&&a(n,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,i),u=l&&l.dom,d=l&&l.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Au.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=$8(u,r,n),l?c=new $ge(t,n,r,i,u,d||null,f,l,s,o+1):n.isText?new z_(t,n,r,i,u,f,s):new Uo(t,n,r,i,u,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>le.empty)}return t}matchesNode(t,n,r){return this.dirty==ei&&t.eq(this.node)&&v1(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,c=new zge(this,o&&o.node,t);Jge(this.node,this.innerDeco,(l,u,d)=>{l.spec.marks?c.syncToMarks(l.spec.marks,r,t):l.type.side>=0&&!d&&c.syncToMarks(u==this.node.childCount?pt.none:this.node.child(u).marks,r,t),c.placeWidget(l,t,i)},(l,u,d,f)=>{c.syncToMarks(l.marks,r,t);let h;c.findNodeMatch(l,u,d,f)||a&&t.state.selection.from>i&&t.state.selection.to<i+l.nodeSize&&(h=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(l,u,d,h,t)||c.updateNextNode(l,u,d,t,f,i)||c.addNode(l,u,d,t,i),i+=l.nodeSize}),c.syncToMarks([],r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Ba)&&(o&&this.protectLocalComposition(t,o),q8(this.contentDOM,this.children,t),su&&Xge(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof ct)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Qge(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Vge(this,s,n,i);t.input.compositionNodes.push(o),this.children=y1(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==ps||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ei}updateOuterDeco(t){if(v1(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=V8(this.dom,this.nodeDOM,_1(this.outerDeco,this.node,n),_1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function BL(e,t,n,r,i){$8(r,t,e);let s=new Uo(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class z_ extends Uo{constructor(t,n,r,i,s,o,a){super(t,n,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==ps||this.dirty!=ei&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ei||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=ei,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new z_(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ps)}get domAtom(){return!1}isText(t){return this.node.text==t}}class W8 extends Eh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ei&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $ge extends Uo{constructor(t,n,r,i,s,o,a,c,l,u){super(t,n,r,i,s,o,a,l,u),this.spec=c}update(t,n,r,i){if(this.dirty==ps)return!1;if(this.spec.update){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function q8(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=GL(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(o instanceof bc){let c=r?r.previousSibling:e.lastChild;q8(o.contentDOM,o.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=GL(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const jd=function(e){e&&(this.nodeName=e)};jd.prototype=Object.create(null);const Ga=[new jd];function _1(e,t,n){if(e.length==0)return Ga;let r=n?Ga[0]:new jd,i=[r];for(let s=0;s<e.length;s++){let o=e[s].type.attrs;if(o){o.nodeName&&i.push(r=new jd(o.nodeName));for(let a in o){let c=o[a];c!=null&&(n&&i.length==1&&i.push(r=new jd(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return i}function V8(e,t,n,r){if(n==Ga&&r==Ga)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let c;a&&a.nodeName==o.nodeName&&i!=e&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=Ga[0]),i=c}Hge(i,a||Ga[0],o)}return i}function Hge(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function $8(e,t,n){return V8(e,e,Ga,_1(t,n,e.nodeType!=1))}function v1(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function GL(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class zge{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Yge(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=ei,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let l=this.top.children[c];if(l.matchesMark(t[s])&&!this.isLocked(l.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=bc.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let l=this.top.children[a];if(l.matchesNode(t,n,r)&&!this.preMatch.matched.has(l)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let o=this.top.children[i];return o.dirty==ps&&o.dom==o.contentDOM&&(o.dirty=Ba),o.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Uo){let l=this.preMatch.matched.get(c);if(l!=null&&l!=s)return!1;let u=c.dom,d,f=this.isLocked(u)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=ps&&v1(n,c.outerDeco));if(!f&&c.update(t,n,r,i))return this.destroyBetween(this.index,a),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(c,t,n,r,i,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Ba,d.updateChildren(i,o+1),d.dirty=ei),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=Uo.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let c of a.children)c.parent=a}return t.destroy(),a}addNode(t,n,r,i,s){let o=Uo.create(this.top,t,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new G8(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof bc;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof z_)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((er||$n)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new W8(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Yge(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let l=n.children[r-1];if(l instanceof bc)n=l,r=l.children.length;else{a=l,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=e.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Kge(e,t){return e.type.side-t.type.side}function Jge(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let l=0;l<e.childCount;l++){let u=e.child(l);r(u,i,t.forChild(s,u),l),s+=u.nodeSize}return}let o=0,a=[],c=null;for(let l=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let g=i[o++];g.widget&&(u?(d||(d=[u])).push(g):u=g)}if(u)if(d){d.sort(Kge);for(let g=0;g<d.length;g++)n(d[g],l,!!c)}else n(u,l,!!c);let f,h;if(c)h=-1,f=c,c=null;else if(l<e.childCount)h=l,f=e.child(l++);else break;for(let g=0;g<a.length;g++)a[g].to<=s&&a.splice(g--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+f.nodeSize;if(f.isText){let g=p;o<i.length&&i[o].from<g&&(g=i[o].from);for(let y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<p&&(c=f.cut(g-s),f=f.cut(0,g-s),p=g,h=-1)}else for(;o<i.length&&i[o].to<p;)o++;let m=f.isInline&&!f.isLeaf?a.filter(g=>!g.inline):a.slice();r(f,m,t.forChild(s,f),h),s=p}}function Xge(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Qge(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let o=e.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<e.childCount;){let l=e.child(i++);if(s+=l.nodeSize,!l.isText)break;c+=l.text}if(s>=n){if(s>=r&&c.slice(r-t.length-a,r-a)==t)return r-t.length;let l=a<r?c.lastIndexOf(t,r-a-1):-1;if(l>=0&&l+t.length+a>=n)return a+l;if(n==r&&c.length>=r+t.length-a&&c.slice(r-a,r-a+t.length)==t)return r}}return-1}function y1(e,t,n,r,i){let s=[];for(let o=0,a=0;o<e.length;o++){let c=e[o],l=a,u=a+=c.size;l>=n||u<=t?s.push(c):(l<t&&s.push(c.slice(0,t-l,r)),i&&(s.push(i),i=void 0),u>n&&s.push(c.slice(n-l,c.size,r)))}return s}function Ox(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),c,l;if(H_(n)){for(c=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&Xe.isSelectable(u)&&i.parent&&!(u.isInline&&Oge(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;l=new Xe(o==d?a:r.resolve(d))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;c=r.resolve(u)}if(!l){let u=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;l=Tx(e,c,a,u)}return l}function H8(e){return e.editable?e.hasFocus():Y8(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Bs(e,t=!1){let n=e.state.selection;if(z8(e,n),!!H8(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&$n){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&yc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)e_e(e);else{let{anchor:r,head:i}=n,s,o;WL&&!(n instanceof ct)&&(n.$from.parent.inlineContent||(s=qL(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=qL(e,n.to))),e.docView.setSelection(r,i,e.root,t),WL&&(s&&VL(s),o&&VL(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Zge(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const WL=er||$n&&M8<63;function qL(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(er&&i&&i.contentEditable=="false")return pE(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return pE(i);if(s)return pE(s)}}function pE(e){return e.contentEditable="true",er&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function VL(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Zge(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!H8(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function e_e(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Dn(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&lr&&Fo<=11&&(r.disabled=!0,r.disabled=!1)}function z8(e,t){if(t instanceof Xe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&($L(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else $L(e)}function $L(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Tx(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||ct.between(t,n,r)}function HL(e){return e.editable&&!e.hasFocus()?!1:Y8(e)}function Y8(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function t_e(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return yc(t.node,t.offset,n.anchorNode,n.anchorOffset)}function b1(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&lt.findFrom(s,t)}function bo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function zL(e,t,n){let r=e.state.selection;if(r instanceof ct)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return bo(e,new ct(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=b1(e.state,t);return i&&i instanceof Xe?bo(e,i):!1}else if(!(Hr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?Xe.isSelectable(s)?bo(e,new Xe(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Ch?bo(e,new ct(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Xe&&r.node.isInline)return bo(e,new ct(t>0?r.$to:r.$from));{let i=b1(e.state,t);return i?bo(e,i):!1}}}function cg(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Fd(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Xc(e,t){return t<0?n_e(e):r_e(e)}function n_e(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,o=!1;for(Ni&&n.nodeType==1&&r<cg(n)&&Fd(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Fd(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(K8(n))break;{let a=n.previousSibling;for(;a&&Fd(a,-1);)i=n.parentNode,s=Dn(a),a=a.previousSibling;if(a)n=a,r=cg(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?C1(e,n,r):i&&C1(e,i,s)}function r_e(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=cg(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Fd(a,1))s=n,o=++r;else break}else{if(K8(n))break;{let a=n.nextSibling;for(;a&&Fd(a,1);)s=a.parentNode,o=Dn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=cg(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&C1(e,s,o)}function K8(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function i_e(e,t){for(;e&&t==e.childNodes.length&&!bh(e);)t=Dn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function s_e(e,t){for(;e&&!t&&!bh(e);)t=Dn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function C1(e,t,n){if(t.nodeType!=3){let s,o;(o=i_e(t,n))?(t=o,n=0):(s=s_e(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(H_(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Bs(e)},50)}function YL(e,t){let n=e.state.doc.resolve(t);if(!($n||Age)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function KL(e,t,n){let r=e.state.selection;if(r instanceof ct&&!r.empty||n.indexOf("s")>-1||Hr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=b1(e.state,t);if(o&&o instanceof Xe)return bo(e,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof Ir?lt.near(o,t):lt.findFrom(o,t);return a?bo(e,a):!1}return!1}function JL(e,t){if(!(e.state.selection instanceof ct))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=e.state.tr;return t<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),e.dispatch(o),!0}return!1}function XL(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function o_e(e){if(!er||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;XL(e,r,"true"),setTimeout(()=>XL(e,r,"false"),20)}return!1}function a_e(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function c_e(e,t){let n=t.keyCode,r=a_e(t);if(n==8||Hr&&n==72&&r=="c")return JL(e,-1)||Xc(e,-1);if(n==46&&!t.shiftKey||Hr&&n==68&&r=="c")return JL(e,1)||Xc(e,1);if(n==13||n==27)return!0;if(n==37||Hr&&n==66&&r=="c"){let i=n==37?YL(e,e.state.selection.from)=="ltr"?-1:1:-1;return zL(e,i,r)||Xc(e,i)}else if(n==39||Hr&&n==70&&r=="c"){let i=n==39?YL(e,e.state.selection.from)=="ltr"?1:-1:1;return zL(e,i,r)||Xc(e,i)}else{if(n==38||Hr&&n==80&&r=="c")return KL(e,-1,r)||Xc(e,-1);if(n==40||Hr&&n==78&&r=="c")return o_e(e)||KL(e,1,r)||Xc(e,1);if(r==(Hr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function J8(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=e.someProp("clipboardSerializer")||Au.fromSchema(e.state.schema),a=nV(),c=a.createElement("div");c.appendChild(o.serializeFragment(r,{document:a}));let l=c.firstChild,u,d=0;for(;l&&l.nodeType==1&&(u=tV[l.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p),d++}l=c.firstChild}l&&l.nodeType==1&&l.setAttribute("data-pm-slice","".concat(i," ").concat(s).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n)));let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:c,text:f,slice:t}}function X8(e,t,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!t)return null;let c=t&&(r||s||!n);if(c){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return t?new Ie(le.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):Ie.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)a=d;else{let f=i.marks(),{schema:h}=e.state,p=Au.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=o.appendChild(document.createElement("p"));m&&g.appendChild(p.serializeNode(h.text(m,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=d_e(n),Ch&&f_e(o);let l=o&&o.querySelector("[data-pm-slice]"),u=l&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(l.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||ff.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!l_e.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=h_e(QL(a,+u[1],+u[2]),u[4]);else if(a=Ie.maxOpen(u_e(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=QL(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const l_e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function u_e(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,o=[];if(e.forEach(a=>{if(!o)return;let c=i.findWrapping(a.type),l;if(!c)return o=null;if(l=o.length&&s.length&&Z8(c,s,a,o[o.length-1],0))o[o.length-1]=l;else{o.length&&(o[o.length-1]=eV(o[o.length-1],s.length));let u=Q8(a,c);o.push(u),i=i.matchType(u.type),s=c}}),o)return le.from(o)}return e}function Q8(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,le.from(e));return e}function Z8(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=Z8(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(le.from(Q8(n,e,i+1))))}}function eV(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,eV(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(le.empty,!0);return e.copy(n.append(r))}function E1(e,t,n,r,i,s){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(s=0),i<r-1&&(a=E1(a,t,n,r,i+1,s)),i>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(le.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function QL(e,t,n){return t<e.openStart&&(e=new Ie(E1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ie(E1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const tV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ZL=null;function nV(){return ZL||(ZL=document.implementation.createHTMLDocument("title"))}function d_e(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=nV().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&tV[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=e,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function f_e(e){let t=e.querySelectorAll($n?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function h_e(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(a){return e}let{content:i,openStart:s,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let c=n.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;i=le.from(c.create(r[a+1],i)),s++,o++}return new Ie(i,s,o)}const tr={},nr={},p_e={touchstart:!0,touchmove:!0};class m_e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function g_e(e){for(let t in tr){let n=tr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{v_e(e,r)&&!wx(e,r)&&(e.editable||!(r.type in nr))&&n(e,r)},p_e[t]?{passive:!0}:void 0)}er&&e.dom.addEventListener("input",()=>null),S1(e)}function Do(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function __e(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function S1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>wx(e,r))})}function wx(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function v_e(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function y_e(e,t){!wx(e,t)&&tr[t.type]&&(e.editable||!(t.type in nr))&&tr[t.type](e,t)}nr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!iV(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(vi&&$n&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),su&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,ja(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||c_e(e,n)?n.preventDefault():Do(e,"key")};nr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};nr.keypress=(e,t)=>{let n=t;if(iV(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Hr&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof ct)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Y_(e){return{left:e.clientX,top:e.clientY}}function b_e(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Ax(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,a=>o>s.depth?a(e,n,s.nodeAfter,s.before(o),i,!0):a(e,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Dl(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function C_e(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Xe.isSelectable(r)?(Dl(e,new Xe(n)),!0):!1}function E_e(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Xe&&(r=n.node);let s=e.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Xe.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Dl(e,Xe.create(e.state.doc,i)),!0):!1}function S_e(e,t,n,r,i){return Ax(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?E_e(e,n):C_e(e,n))}function O_e(e,t,n,r){return Ax(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function T_e(e,t,n,r){return Ax(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||w_e(e,n,r)}function w_e(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Dl(e,ct.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Dl(e,ct.create(r,a+1,a+1+o.content.size));else if(Xe.isSelectable(o))Dl(e,Xe.create(r,a));else continue;return!0}}function xx(e){return lg(e)}const rV=Hr?"metaKey":"ctrlKey";tr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=xx(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&b_e(n,e.input.lastClick)&&!n[rV]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=e.posAtCoords(Y_(n));o&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new A_e(e,o,n,!!r)):(s=="doubleClick"?O_e:T_e)(e,o.pos,o.inside,n)?n.preventDefault():Do(e,"pointer"))};class A_e{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[rV],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),o=n.inside;else{let u=t.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,c=a?t.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:l}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||l instanceof Xe&&l.from<=o&&l.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ni&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Do(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Y_(t))),this.updateAllowDefault(t),this.allowDefault||!n?Do(this.view,"pointer"):S_e(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||er&&this.mightDrag&&!this.mightDrag.node.isAtom||$n&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Dl(this.view,lt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Do(this.view,"pointer")}move(t){this.updateAllowDefault(t),Do(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}tr.touchstart=e=>{e.input.lastTouch=Date.now(),xx(e),Do(e,"pointer")};tr.touchmove=e=>{e.input.lastTouch=Date.now(),Do(e,"pointer")};tr.contextmenu=e=>xx(e);function iV(e,t){return e.composing?!0:er&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const x_e=vi?5e3:-1;nr.compositionstart=nr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),lg(e,!0),e.markCursor=null;else if(lg(e),Ni&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){e.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}e.input.composing=!0}sV(e,x_e)};nr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,sV(e,20))};function sV(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>lg(e),t))}function oV(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=N_e());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function I_e(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Ege(t.focusNode,t.focusOffset),r=Sge(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function N_e(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function lg(e,t=!1){if(!(vi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),oV(e),t||e.docView&&e.docView.dirty){let n=Ox(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function R_e(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const mf=lr&&Fo<15||su&&xge<604;tr.copy=nr.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=mf?null:n.clipboardData,o=r.content(),{dom:a,text:c}=J8(e,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",c)):R_e(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function P_e(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function k_e(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?gf(e,r.value,null,i,t):gf(e,r.textContent,r.innerHTML,i,t)},50)}function gf(e,t,n,r,i){let s=X8(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",c=>c(e,i,s||Ie.empty)))return!0;if(!s)return!1;let o=P_e(s),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function aV(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}nr.paste=(e,t)=>{let n=t;if(e.composing&&!vi)return;let r=mf?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&gf(e,aV(r),r.getData("text/html"),i,n)?n.preventDefault():k_e(e,n)};class cV{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const lV=Hr?"altKey":"ctrlKey";tr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(Y_(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Xe?i.to-1:i.to))){if(r&&r.mightDrag)o=Xe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(o=Xe.create(e.state.doc,d.posBefore))}}let a=(o||e.state.selection).content(),{dom:c,text:l,slice:u}=J8(e,a);(!n.dataTransfer.files.length||!$n||M8>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(mf?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",mf||n.dataTransfer.setData("text/plain",l),e.dragging=new cV(u,!n[lV],o)};tr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};nr.dragover=nr.dragenter=(e,t)=>t.preventDefault();nr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Y_(n));if(!i)return;let s=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",p=>{o=p(o,e)}):o=X8(e,aV(n.dataTransfer),mf?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[lV]);if(e.someProp("handleDrop",p=>p(e,n,o||Ie.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let c=o?vme(e.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let l=e.state.tr;if(a){let{node:p}=r;p?p.replace(l):l.deleteSelection()}let u=l.mapping.map(c),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=l.doc;if(d?l.replaceRangeWith(u,u,o.content.firstChild):l.replaceRange(u,u,o),l.doc.eq(f))return;let h=l.doc.resolve(u);if(d&&Xe.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new Xe(h));else{let p=l.mapping.map(c);l.mapping.maps[l.mapping.maps.length-1].forEach((m,g,y,v)=>p=v),l.setSelection(Tx(e,h,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))};tr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Bs(e)},20))};tr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};tr.beforeinput=(e,t)=>{if($n&&vi&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,ja(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in nr)tr[e]=nr[e];function _f(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class ug{constructor(t,n){this.toDOM=t,this.spec=n||Za,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Ln(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof ug&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&_f(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Bo{constructor(t,n){this.attrs=t,this.spec=n||Za}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Ln(s,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Bo&&_f(this.attrs,t.attrs)&&_f(this.spec,t.spec)}static is(t){return t.type instanceof Bo}destroy(){}}class Ix{constructor(t,n){this.attrs=t,this.spec=n||Za}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Ln(s.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof Ix&&_f(this.attrs,t.attrs)&&_f(this.spec,t.spec)}destroy(){}}class Ln{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Ln(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Ln(t,t,new ug(n,r))}static inline(t,n,r,i){return new Ln(t,n,new Bo(r,i))}static node(t,n,r,i){return new Ln(t,n,new Ix(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Bo}get widget(){return this.type instanceof ug}}const ll=[],Za={};class wt{constructor(t,n){this.local=t.length?t:ll,this.children=n.length?n:ll}static create(t,n){return n.length?dg(n,t,0,Za):Gn}find(t,n,r){let i=[];return this.findInner(t==null?0:t,n==null?1e9:n,i,0,r),i}findInner(t,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,i+a,s)}}map(t,n,r){return this==Gn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Za)}mapInner(t,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(t,r,i);c&&c.type.valid(n,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?M_e(this.children,o||[],t,n,r,i,s):o?new wt(o.sort(ec),ll):Gn}add(t,n){return n.length?this==Gn?wt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((a,c)=>{let l=c+r,u;if(u=dV(n,a,l)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(a,u,l+1):i.splice(s,0,c,c+a.nodeSize,dg(u,a,l+1,Za)),s+=3}});let o=uV(s?fV(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new wt(o.length?this.local.concat(o).sort(ec):this.local,i||this.children)}remove(t){return t.length==0||this==Gn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,c=r[s+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<c&&(t[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let l=r[s+2].removeInner(o,a+1);l!=Gn?r[s+2]=l:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new wt(i,r):Gn}forChild(t,n){if(this==Gn)return this;if(n.isLeaf)return wt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>s&&c.type instanceof Bo){let l=Math.max(s,c.from)-s,u=Math.min(o,c.to)-s;l<u&&(i||(i=[])).push(c.copy(l,u))}}if(i){let a=new wt(i.sort(ec),ll);return r?new To([a,r]):a}return r||Gn}eq(t){if(this==t)return!0;if(!(t instanceof wt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Nx(this.localsInner(t))}localsInner(t){if(this==Gn)return ll;if(t.inlineContent||!this.local.some(Bo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Bo||n.push(this.local[r]);return n}}wt.empty=new wt([],[]);wt.removeOverlap=Nx;const Gn=wt.empty;class To{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Za));return To.from(r)}forChild(t,n){if(n.isLeaf)return wt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=Gn&&(s instanceof To?r=r.concat(s.members):r.push(s))}return To.from(r)}eq(t){if(!(t instanceof To)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Nx(r?n:n.sort(ec)):ll}static from(t){switch(t.length){case 0:return Gn;case 1:return t[0];default:return new To(t.every(n=>n instanceof wt)?t:t.reduce((n,r)=>n.concat(r instanceof wt?r:r.members),[]))}}}function M_e(e,t,n,r,i,s,o){let a=e.slice();for(let l=0,u=s;l<n.maps.length;l++){let d=0;n.maps[l].forEach((f,h,p,m)=>{let g=m-p-(h-f);for(let y=0;y<a.length;y+=3){let v=a[y+1];if(v<0||f>v+u-d)continue;let T=a[y]+u-d;h>=T?a[y+1]=f<=T?-2:-1:f>=u&&g&&(a[y]+=g,a[y+1]+=g)}d+=g}),u=n.maps[l].map(u,-1)}let c=!1;for(let l=0;l<a.length;l+=3)if(a[l+1]<0){if(a[l+1]==-2){c=!0,a[l+1]=-1;continue}let u=n.map(e[l]+s),d=u-i;if(d<0||d>=r.content.size){c=!0;continue}let f=n.map(e[l+1]+s,-1),h=f-i,{index:p,offset:m}=r.content.findIndex(d),g=r.maybeChild(p);if(g&&m==d&&m+g.nodeSize==h){let y=a[l+2].mapInner(n,g,u+1,e[l]+s+1,o);y!=Gn?(a[l]=d,a[l+1]=h,a[l+2]=y):(a[l+1]=-2,c=!0)}else c=!0}if(c){let l=D_e(a,e,t,n,i,s,o),u=dg(l,r,0,o);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new wt(t.sort(ec),a)}function uV(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Ln(i.from+t,i.to+t,i.type))}return n}function D_e(e,t,n,r,i,s,o){function a(c,l){for(let u=0;u<c.local.length;u++){let d=c.local[u].map(r,i,l);d?n.push(d):o.onRemove&&o.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)a(c.children[u+2],c.children[u]+l+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&a(e[c+2],t[c]+s+1);return n}function dV(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,o;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function fV(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function dg(e,t,n,r){let i=[],s=!1;t.forEach((a,c)=>{let l=dV(e,a,c+n);if(l){s=!0;let u=dg(l,a,n+c+1,r);u!=Gn&&i.push(c,c+a.nodeSize,u)}});let o=uV(s?fV(e):e,-n).sort(ec);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new wt(o,i):Gn}function ec(e,t){return e.from-t.from||e.to-t.to}function Nx(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),e3(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),e3(t,i,r.copy(s.from,r.to)));break}}}return t}function e3(e,t,n){for(;t<e.length&&ec(n,e[t])>0;)t++;e.splice(t,0,n)}function mE(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Gn&&t.push(r)}),e.cursorWrapper&&t.push(wt.create(e.state.doc,[e.cursorWrapper.deco])),To.from(t)}const L_e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},j_e=lr&&Fo<=11;class F_e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class U_e{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new F_e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);lr&&Fo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),j_e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,L_e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(HL(this.view)){if(this.suppressingSelectionUpdates)return Bs(this.view);if(lr&&Fo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&yc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=pf(s))n.add(s);for(let s=t.anchorNode;s;s=pf(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&HL(t)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,c=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],c);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Ni&&c.length){let u=c.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||W_e(t,d)!=h)&&f.remove()}}}let l=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&H_(r)&&(l=Ox(t))&&l.eq(lt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Bs(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),B_e(t)),this.handleDOMChange(s,o,a,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Bs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(lr&&Fo<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==t.target?Dn(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),c=s&&s.parentNode==t.target?Dn(s):t.target.childNodes.length,l=r.localPosFromDOM(t.target,c,1);return{from:a,to:l}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let t3=new WeakMap,n3=!1;function B_e(e){if(!t3.has(e)&&(t3.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Ni,n3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),n3=!0}}function r3(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return yc(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function G_e(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return r3(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?r3(e,n):null}function W_e(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function q_e(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=e.docView.parseRange(t,n),c=e.domSelectionRange(),l,u=c.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(l=[{node:u,offset:c.anchorOffset}],H_(c)||l.push({node:c.focusNode,offset:c.focusOffset})),$n&&e.input.lastKeyCode===8)for(let g=s;g>i;g--){let y=r.childNodes[g-1],v=y.pmViewDesc;if(y.nodeName=="BR"&&!v){s=g;break}if(!v||v.size)break}let d=e.state.doc,f=e.someProp("domParser")||ff.fromSchema(e.state.schema),h=d.resolve(o),p=null,m=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:l,ruleFromNode:V_e,context:h});if(l&&l[0].pos!=null){let g=l[0].pos,y=l[1]&&l[1].pos;y==null&&(y=g),p={anchor:g+o,head:y+o}}return{doc:m,sel:p,from:o,to:a}}function V_e(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(er&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||er&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $_e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function H_e(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let x=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,N=Ox(e,x);if(N&&!e.state.selection.eq(N)){if($n&&vi&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",L=>L(e,ja(13,"Enter"))))return;let R=e.state.tr.setSelection(N);x=="pointer"?R.setMeta("pointer",!0):x=="key"&&R.scrollIntoView(),s&&R.setMeta("composition",s),e.dispatch(R)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let c=e.state.selection,l=q_e(e,t,n),u=e.state.doc,d=u.slice(l.from,l.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=K_e(d.content,l.doc.content,l.from,f,h);if((su&&e.input.lastIOSEnter>Date.now()-225||vi)&&i.some(x=>x.nodeType==1&&!$_e.test(x.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",x=>x(e,ja(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&c instanceof ct&&!c.empty&&c.$head.sameParent(c.$anchor)&&!e.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:c.from,endA:c.to,endB:c.to};else{if(l.sel){let x=i3(e,e.state.doc,l.sel);if(x&&!x.eq(e.state.selection)){let N=e.state.tr.setSelection(x);s&&N.setMeta("composition",s),e.dispatch(N)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof ct&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),lr&&Fo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" Â "&&(p.start--,p.endA--,p.endB--);let m=l.doc.resolveNoCache(p.start-l.from),g=l.doc.resolveNoCache(p.endB-l.from),y=u.resolve(p.start),v=m.sameParent(g)&&m.parent.inlineContent&&y.end()>=p.endA,T;if((su&&e.input.lastIOSEnter>Date.now()-225&&(!v||i.some(x=>x.nodeName=="DIV"||x.nodeName=="P"))||!v&&m.pos<l.doc.content.size&&!m.sameParent(g)&&(T=lt.findFrom(l.doc.resolve(m.pos+1),1,!0))&&T.head==g.pos)&&e.someProp("handleKeyDown",x=>x(e,ja(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&Y_e(u,p.start,p.endA,m,g)&&e.someProp("handleKeyDown",x=>x(e,ja(8,"Backspace")))){vi&&$n&&e.domObserver.suppressSelectionUpdates();return}$n&&vi&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),vi&&!v&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,g=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{e.someProp("handleKeyDown",function(x){return x(e,ja(13,"Enter"))})},20));let C=p.start,b=p.endA,O,w,A;if(v){if(m.pos==g.pos)lr&&Fo<=11&&m.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bs(e),20)),O=e.state.tr.delete(C,b),w=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(A=z_e(m.parent.content.cut(m.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))O=e.state.tr,A.type=="add"?O.addMark(C,b,A.mark):O.removeMark(C,b,A.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let x=m.parent.textBetween(m.parentOffset,g.parentOffset);if(e.someProp("handleTextInput",N=>N(e,C,b,x)))return;O=e.state.tr.insertText(x,C,b)}}if(O||(O=e.state.tr.replace(C,b,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let x=i3(e,O.doc,l.sel);x&&!($n&&vi&&e.composing&&x.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(x.head==C||x.head==O.mapping.map(b)-1)||lr&&x.empty&&x.head==C)&&O.setSelection(x)}w&&O.ensureMarks(w),s&&O.setMeta("composition",s),e.dispatch(O.scrollIntoView())}function i3(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Tx(e,t.resolve(n.anchor),t.resolve(n.head))}function z_e(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,o,a,c;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",c=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",c=u=>u.mark(a.removeFromSet(u.marks));else return null;let l=[];for(let u=0;u<t.childCount;u++)l.push(c(t.child(u)));if(le.from(l).eq(e))return{mark:a,type:o}}function Y_e(e,t,n,r,i){if(n-t<=i.pos-r.pos||gE(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=e.resolve(gE(s,!0,!0));return!o.parent.isTextblock||o.pos>n||gE(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function gE(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function K_e(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let c=Math.max(0,s-Math.min(o,a));r-=o+c-s}if(o<s&&e.size<t.size){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<t.size&&s3(t.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-o),o=s}else if(a<s){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<e.size&&s3(e.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function s3(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class J_e{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new m_e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(u3),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=c3(this),a3(this),this.nodeViews=l3(this),this.docView=BL(this.state.doc,o3(this),mE(this),this.dom,this),this.domObserver=new U_e(this,(r,i,s,o)=>H_e(this,r,i,s,o)),this.domObserver.start(),g_e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&S1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(u3),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(oV(this),o=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=l3(this);Q_e(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&S1(this),this.editable=c3(this),a3(this);let c=mE(this),l=o3(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,l,c);(d||!t.selection.eq(i.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Rge(this);if(o){this.domObserver.stop();let h=d&&(lr||$n)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&X_e(i.selection,t.selection);if(d){let p=$n?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=I_e(this)),(s||!this.docView.update(t.doc,l,c,this))&&(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=BL(t.doc,l,c,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&t_e(this))?Bs(this,h):(z8(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&Pge(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Xe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&ML(this,n.getBoundingClientRect(),t)}else ML(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new cV(t.slice,t.move,i<0?void 0:Xe.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(lr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&kge(this.dom),Bs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Fge(this,t)}coordsAtPos(t,n=1){return U8(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return qge(this,n||this.state,t)}pasteHTML(t,n){return gf(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return gf(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(__e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],mE(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,bge())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return y_e(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return er&&this.root.nodeType===11&&Tge(this.dom.ownerDocument)==this.dom&&G_e(this,t)||t}domSelection(){return this.root.getSelection()}}function o3(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Ln.node(0,e.state.doc.content.size,t)]}function a3(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Ln.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function c3(e){return!e.someProp("editable",t=>t(e.state)===!1)}function X_e(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function l3(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Q_e(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function u3(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const Z_e=Lr(()=>Oe(!1)),hV=Ge(()=>Oe(null));function gWe({ctx:e,prompt:t,referer:n,conversationId:r}){var i,s,o,a,c,l;we.logEventWithStatsig("chatgpt_web_prompt_used","chatgpt_web_prompt_used",{referer:n,hint:(i=t.system_hint)!=null?i:"none",sources:((s=t.sources)!=null?s:[]).join(","),hasSources:((a=(o=t.sources)==null?void 0:o.length)!=null?a:0)>0,sourceCount:(l=(c=t.sources)==null?void 0:c.length)!=null?l:0}),hV.set(e,{prompt:t,skipConversationId:r})}function _We(e){hV.set(e,null)}function eve({id:e,label:t,value:n,className:r,onCommit:i,onExit:s,maxChars:o=30}){const a=E.useRef(null),[c,l]=E.useState(n!=null?n:""),u=E.useRef(!1),d=E.useRef(-1),f=E.useRef(!1),h=150,m=Math.min(Math.max(1,(c||t||"").length),o);return _.jsx("input",{ref:a,type:"text",value:c,placeholder:t,size:m,"data-template-input-id":e,className:[r!=null?r:""].join(" "),onMouseDownCapture:g=>{f.current=!0,g.stopPropagation()},onPointerDownCapture:g=>g.stopPropagation(),onClickCapture:g=>g.stopPropagation(),onFocusCapture:g=>g.stopPropagation(),onMouseDown:g=>{},onFocus:g=>{const y=performance.now();if(!(f.current||y<window.__tmpl_last_pointerdown_at+200)&&y-d.current<h){g.currentTarget.blur();return}f.current=!1,u.current&&(g.currentTarget.select(),u.current=!1)},onChange:g=>l(g.target.value),onKeyDown:g=>{g.key==="Enter"||g.key==="Tab"?(g.preventDefault(),g.stopPropagation(),i(c),setTimeout(()=>{s==null||s(),g.currentTarget.blur()},0)):g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),s==null||s(),g.currentTarget.blur())},onBlur:()=>{d.current=performance.now(),f.current=!1,i(c)}})}const _p=/(\[[^\]]+\]|\{[^\}]+\})/g,d3="pm-bracket-tag",f3=30;function tve(e,t){if(!e.length)return null;let n=0,r=Number.POSITIVE_INFINITY;for(let i=0;i<e.length;i++){const s=Math.abs(e[i].from-t);s<r&&(r=s,n=i)}return n}const ul=new ci("bracketTag"),nve="pm-bracket-tag--hidden",rve="pm-template-input";let $r=null;const _E=new WeakMap;let dl=null,pV=0;function ive(){var n;const e=performance.now();if(e<pV)return!1;const t=(n=window.__tmpl_last_blur_at)!=null?n:-1;return e-t<150}function sve(e){if(!e.isConnected||e.disabled)return!1;const t=getComputedStyle(e);return!(t.visibility==="hidden"||t.display==="none"||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))}function h3(e){var r;return((r=e.getRootNode().activeElement)!=null?r:document.activeElement)===e||e.matches(":focus")}function Rx(e,t=5,n=5){let r=0;const i=n,s=()=>{if(ive())return;const o=document.querySelector('input[data-template-input-id="'.concat(e,'"]'));if(!o||!sve(o))return r++<t?setTimeout(s,i):void 0;if(!h3(o))try{o.focus({preventScroll:!0}),requestAnimationFrame(()=>{if(h3(o)){try{o.select()}catch(a){}return}})}catch(a){r++<t&&setTimeout(s,i)}};requestAnimationFrame(s)}function ove(e,t,n){const r=[];for(let i=0;i<t.length;i++){const s=t[i],o=s.id===n?"".concat(d3," ").concat(nve):d3;r.push(Ln.inline(s.from,s.to,{class:o,"data-bracket-tag-id":s.id,"data-bracket-tag-index":String(i),"data-label":s.label},{tagId:s.id,index:i})),s.id===n&&(r.push(Ln.widget(s.from,()=>{const a=document.createElement("span");a.setAttribute("data-template-input-container",s.id),a.setAttribute("contenteditable","false"),a.className="inline-block min-w-0 align-baseline";const c=d=>{$r&&p3($r,s.id,d)},l=()=>{window.__tmpl_last_blur_at=performance.now(),$r&&ave($r,s.id)},u=uJ.createRoot(a);return _E.set(a,u),u.render(_.jsx(eve,{id:s.id,label:s.label,value:s.value,className:rve,onCommit:c,onExit:l})),requestAnimationFrame(()=>{Rx(s.id)}),a},{key:"input-".concat(s.id),side:-1,ignoreSelection:!0,stopEvent:a=>{const c=a.target;return a.type==="blur"||a.type==="focusout"?!1:!!(c!=null&&c.closest("[data-template-input-container]")||c!=null&&c.closest("input[data-template-input-id]"))},destroy:a=>{var u,d;const c=document.querySelector('input[data-template-input-id="'.concat(s.id,'"]'));if(c&&$r){const f=Px($r.state.doc,s.id),h=f!=null?$r.state.doc.nodeAt(f):null,p=(d=(u=h==null?void 0:h.attrs)==null?void 0:u.value)!=null?d:"",m=c.value;m!==p&&p3($r,s.id,m)}const l=_E.get(a);l&&(l.unmount(),_E.delete(a))}})),r.push(Ln.widget(s.to,()=>{const a=document.createElement("span");return a.setAttribute("data-template-spacer",s.id),a.style.display="inline-block",a.style.width="0",a.style.lineHeight="inherit",a.contentEditable="false",a},{side:1,ignoreSelection:!0,key:"spacer-".concat(s.id)})))}return wt.create(e,r)}function Px(e,t){let n=null;return e.descendants((r,i)=>r.type.name==="template_variable"&&r.attrs.id===t?(n=i,!1):!0),n}function p3(e,t,n){const r=Px(e.state.doc,t);if(r==null)return;const i=e.state.doc.nodeAt(r);if(!i||i.type.name!=="template_variable")return;const s=i.type.create(I(S({},i.attrs),{value:n})),o=e.state.tr.replaceWith(r,r+i.nodeSize,s);setTimeout(()=>{e.dispatch(o)},0)}function ave(e,t){const n=Px(e.state.doc,t);if(n==null)return;const r=e.state.doc.nodeAt(n);if(!r)return;const i=n+r.nodeSize,s=ct.create(e.state.doc,i);e.dispatch(e.state.tr.setSelection(s).scrollIntoView()),e.focus()}function m3(e,t){const n=ul.getState(e.state);if(!n)return!1;const r=n.tags;if(r.length===0)return!1;let i=n.activeId?r.findIndex(a=>a.id===n.activeId):-1;if(i===-1){const a=e.state.selection.from;if(i=r.findIndex(c=>c.from<=a&&c.to>a),i===-1){const c=tve(r.map(l=>({from:l.from,to:l.to,text:l.label,id:l.id,key:l.key,label:l.label})),a);i=c!=null?c:t===1?-1:r.length}}const s=i+t;if(s<0||s>=r.length)return!1;const o=r[s];return e.dispatch(e.state.tr.setSelection(ct.create(e.state.doc,o.from,o.to))),!0}function vE(e){const t=()=>{dl=null,Rx(e)};window.addEventListener("pointerup",()=>requestAnimationFrame(t),{once:!0,passive:!0})}function cve(e){const t=()=>e!=null&&Qt(()=>Z_e(e)),n=new jr({key:ul,appendTransaction(i,s,o){if(!t())return;if(!i.some(u=>u.docChanged))return null;const c=[];if(o.doc.descendants((u,d)=>{if(!u||!u.isText)return!0;const f=u.text||"",h=new RegExp(_p.source,_p.flags.includes("g")?_p.flags:_p.flags+"g");let p;for(;p=h.exec(f);){const m=d+p.index,g=m+p[0].length,y=p[0].length>=2?p[0].slice(1,-1):p[0];c.push({from:m,to:g,label:y})}return!0}),c.length===0)return null;let l=o.tr;for(let u=c.length-1;u>=0;u--){const d=c[u];l=l.delete(d.from,d.to);const f=o.schema.nodes.template_variable.create({key:d.label,id:"".concat(d.from,"-").concat(d.to),value:""});l=l.insert(d.from,f)}return l},state:{init:()=>({decorations:wt.empty,tags:[],activeIndex:null,activeId:null}),apply:(i,s,o,a)=>{if(!t())return s;const c=[];a.doc.descendants((h,p)=>{var m;if(h.type.name==="template_variable"){const g=(m=h.attrs.value)!=null?m:"",y=g||h.attrs.key,v=y.length>f3?y.slice(0,f3)+"...":y;c.push({from:p,to:p+h.nodeSize,label:h.attrs.key,id:h.attrs.id,key:h.attrs.key,text:v,value:g})}return!0});const l=a.selection.from,u=c.findIndex(h=>l>=h.from&&l<h.to);let d=u!==-1?c[u].id:null;!d&&dl&&c.some(h=>h.id===dl)&&(d=dl);const f=ove(a.doc,c,d);return I(S({},s),{decorations:f,tags:c,activeIndex:u!==-1?u:s.activeIndex,activeId:d})}},props:{decorations(i){const s=ul.getState(i);return s?s.decorations:null},handleDOMEvents:{mousedown(i,s){var f;if(!t())return!1;const o=performance.now();window.__tmpl_last_pointerdown_at=o,pV=o+700;const a=s.target;if(a!=null&&a.closest("[data-template-input-container]")||a!=null&&a.closest("input[data-template-input-id]")){s.preventDefault(),s.stopPropagation();const h=(f=ul.getState(i.state))==null?void 0:f.activeId;return h&&(dl=h,vE(h)),!0}const c=a==null?void 0:a.closest("[data-bracket-tag-id]");if(!c)return!1;s.preventDefault(),s.stopPropagation();const l=c.getAttribute("data-bracket-tag-id"),u=ul.getState(i.state);if(!u||!l)return!0;dl=l;const d=u.tags.find(h=>h.id===l);return d&&(i.dispatch(i.state.tr.setSelection(ct.create(i.state.doc,d.from,d.to))),vE(l)),!0},mouseup(i,s){const o=s.target;return o!=null&&o.closest("[data-bracket-tag-id]")||o!=null&&o.closest("[data-template-input-container]")||o!=null&&o.closest("input[data-template-input-id]")?(s.preventDefault(),s.stopPropagation(),!0):!1},click(i,s){const o=s.target;return o!=null&&o.closest("[data-bracket-tag-id]")||o!=null&&o.closest("[data-template-input-container]")||o!=null&&o.closest("input[data-template-input-id]")?(s.preventDefault(),s.stopPropagation(),!0):!1}}},view(i){$r=i;let s=null;return{update(o){var c,l;$r=o;const a=(l=(c=ul.getState(o.state))==null?void 0:c.activeId)!=null?l:null;a&&a!==s&&(Rx(a),vE(a)),s=a},destroy(){$r===i&&($r=null)}}}}),r=R8({Tab:(i,s,o)=>o?m3(o,1):!1,"Shift-Tab":(i,s,o)=>o?m3(o,-1):!1});return[n,r]}class $t extends lt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return $t.valid(r)?new $t(r):lt.near(r)}content(){return Ie.empty}eq(t){return t instanceof $t&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new $t(t.resolve(n.pos))}getBookmark(){return new kx(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!lve(t)||!uve(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&$t.valid(t))return t;let i=t.pos,s=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){s=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let c=t.doc.resolve(i);if($t.valid(c))return c}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Xe.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=t.doc.resolve(i);if($t.valid(a))return a}return null}}}$t.prototype.visible=!1;$t.findFrom=$t.findGapCursorFrom;lt.jsonID("gapcursor",$t);class kx{constructor(t){this.pos=t}map(t){return new kx(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return $t.valid(n)?new $t(n):lt.near(n)}}function lve(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function uve(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function dve(){return new jr({props:{decorations:mve,createSelectionBetween(e,t,n){return t.pos==n.pos&&$t.valid(n)?new $t(n):null},handleClick:hve,handleKeyDown:fve,handleDOMEvents:{beforeinput:pve}}})}const fve=P8({ArrowLeft:vp("horiz",-1),ArrowRight:vp("horiz",1),ArrowUp:vp("vert",-1),ArrowDown:vp("vert",1)});function vp(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let o=r.selection,a=t>0?o.$to:o.$from,c=o.empty;if(o instanceof ct){if(!s.endOfTextblock(n)||a.depth==0)return!1;c=!1,a=r.doc.resolve(t>0?a.after():a.before())}let l=$t.findGapCursorFrom(a,t,c);return l?(i&&i(r.tr.setSelection(new $t(l))),!0):!1}}function hve(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!$t.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Xe.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new $t(r))),!0)}function pve(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof $t))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=le.empty;for(let o=r.length-1;o>=0;o--)i=le.from(r[o].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new Ie(i,0,0));return s.setSelection(ct.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function mve(e){if(!(e.selection instanceof $t))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",wt.create(e.doc,[Ln.widget(e.selection.head,t,{key:"gapcursor"})])}var fg=200,In=function(){};In.prototype.append=function(t){return t.length?(t=In.from(t),!this.length&&t||t.length<fg&&this.leafAppend(t)||this.length<fg&&t.leafPrepend(this)||this.appendInner(t)):this};In.prototype.prepend=function(t){return t.length?In.from(t).append(this):this};In.prototype.appendInner=function(t){return new gve(this,t)};In.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?In.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};In.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};In.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};In.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},n,r),i};In.from=function(t){return t instanceof In?t:t&&t.length?new mV(t):In.empty};var mV=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var c=s;c<o;c++)if(i(this.values[c],a+c)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var c=s-1;c>=o;c--)if(i(this.values[c],a+c)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=fg)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=fg)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(In);In.empty=new mV([]);var gve=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(In);const _ve=500;class yi{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=t.tr,a,c,l=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new Yi(d.map));let h=d.step.map(i.slice(s)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],l.push(new Yi(p,void 0,void 0,l.length+u.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,c=new yi(this.items.slice(0,r).append(u.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(t,n,r,i){let s=[],o=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new Yi(t.mapping.maps[u],d,n),h;(h=c&&c.merge(f))&&(f=h,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(c=f)}let l=o-r.depth;return l>yve&&(a=vve(a,l),o-=l),new yi(a.append(s),o)}remapping(t,n){let r=new kl;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new yi(this.items.append(t.map(n=>new Yi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let c=n;this.items.forEach(f=>{let h=s.getMirror(--c);if(h==null)return;o=Math.min(o,h);let p=s.maps[h];if(f.step){let m=t.steps[h].invert(t.docs[h]),g=f.selection&&f.selection.map(s.slice(c+1,h));g&&a++,r.push(new Yi(p,m,g))}else r.push(new Yi(p))},i);let l=[];for(let f=n;f<o;f++)l.push(new Yi(s.maps[f]));let u=this.items.slice(0,i).append(l).append(r),d=new yi(u,a);return d.emptyItemCount()>_ve&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(n.slice(r)),l=c&&c.getMap();if(r--,l&&n.appendMap(l,r),c){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new Yi(l.invert(),c,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new yi(In.from(i.reverse()),s)}}yi.empty=new yi(In.empty,0);function vve(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Yi{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Yi(n.getMap().invert(),n,this.selection)}}}class Co{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const yve=20;function bve(e,t,n,r){let i=n.getMeta(tc),s;if(i)return i.historyState;n.getMeta(Sve)&&(e=new Co(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(tc))return o.getMeta(tc).redo?new Co(e.done.addTransform(n,void 0,r,em(t)),e.undone,g3(n.mapping.maps),e.prevTime,e.prevComposition):new Co(e.done,e.undone.addTransform(n,void 0,r,em(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),c=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Cve(n,e.prevRanges)),l=o?yE(e.prevRanges,n.mapping):g3(n.mapping.maps);return new Co(e.done.addTransform(n,c?t.selection.getBookmark():void 0,r,em(t)),yi.empty,l,n.time,a==null?e.prevComposition:a)}else return(s=n.getMeta("rebased"))?new Co(e.done.rebased(n,s),e.undone.rebased(n,s),yE(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Co(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),yE(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function Cve(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function g3(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,o)=>t.push(s,o));return t}function yE(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function Eve(e,t,n){let r=em(t),i=tc.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),c=new Co(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(tc,{redo:n,historyState:c})}let bE=!1,_3=null;function em(e){let t=e.plugins;if(_3!=t){bE=!1,_3=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){bE=!0;break}}return bE}const tc=new ci("history"),Sve=new ci("closeHistory");function Ove(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new jr({key:tc,state:{init(){return new Co(yi.empty,yi.empty,null,0,-1)},apply(t,n,r){return bve(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?_V:r=="historyRedo"?O1:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function gV(e,t){return(n,r)=>{let i=tc.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=Eve(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const _V=gV(!1,!0),O1=gV(!0,!0),Ll=new ci("customKeymapPlugin");function vWe(e,t){var r;const{allHandlers:n=[]}=(r=Ll.getState(e.state))!=null?r:{};return e.dispatch(e.state.tr.setMeta(Ll,{allHandlers:[t,...n]})),()=>{e.dispatch(e.state.tr.setMeta(Ll,{allHandlers:n.filter(i=>i!==t)}))}}function Tve(e={allHandlers:[]}){return new jr({key:Ll,state:{init(){return S({},e)},apply(t,n){const r=t.getMeta(Ll);return r?S(S({},n),r):n}},props:{handleKeyDown(t,n){var i;if(w_(n))return!1;const{allHandlers:r=[]}=(i=Ll.getState(t.state))!=null?i:{};for(const s of r){const o=s[n.key];if(o&&o(n))return!0}}}})}const wve=e=>$e(e,"1605274664"),v3=new ci("ecosystemSuggestionsPluginBetter"),Na={SELF_APPLIED:"eco/self-applied",UPDATE_CONFIG:"eco/update-config"};function Ave(){return{activeSystemHintType:null,activeConnectorSystemTypes:new Set,keywordToSystemHintMap:{},matches:new Set,regex:void 0}}function xve(e){const{markType:t}=e;return new jr({key:v3,state:{init(){return Ave()},apply(n,r){var o;const i=(o=n.getMeta(Na.UPDATE_CONFIG))!=null?o:{};return S(S({},r),i)}},appendTransaction(n,r,i){var g,y;if(!n.some(v=>v.getMeta(Na.UPDATE_CONFIG))&&(!n.some(v=>v.docChanged)||n.some(v=>v.getMeta(Na.SELF_APPLIED))))return null;const{regex:s,activeSystemHintType:o,activeConnectorSystemTypes:a,keywordToSystemHintMap:c,matches:l}=(g=v3.getState(i))!=null?g:{},u=i.tr,{node:d,pos:f}=(y=Nve(i.doc))!=null?y:{};if(!d||f===void 0)return null;const p=og.topNodeType.createChecked(null,le.from(d));if(!s||!c||o&&!Rl(o))return u.removeMark(0,p.content.size,t).scrollIntoView(),u.steps.length&&u.setMeta(Na.SELF_APPLIED,!0),u;const m=new Set;return p.descendants((v,T,C,b)=>{var O;if(v.marks.find(w=>w.type===t)){const w=(O=v.textContent)!=null?O:"";return(!s.test(w)||b!==0)&&u.removeMark(f+T,f+T+v.nodeSize,t).scrollIntoView(),!1}return!0}),p.descendants((v,T)=>{var O;if(!v.isTextblock)return;const C=v.textBetween(0,v.content.size);if(!C)return;s.lastIndex=0;let b;for(;b=s.exec(C);){const w=y3(v,f+T,b.index),A=y3(v,f+T,b.index+b[0].length),x=(O=c[b[1].toLowerCase()])!=null?O:{},{systemHint:N,name:R}=x;N&&m.add({systemHintType:N,keyword:b[1]});const L=Ive(u.doc,w,A,t);if(o&&Rl(o)&&(a!=null&&a.has(N))){if(!L){const D=t.create({id:R,kind:"app",keyword:b[1]});u.addMark(w,A,D).scrollIntoView()}}else L&&u.removeMark(w,A,t).scrollIntoView();s.lastIndex=b.index+b[0].length}}),u.steps.length||!Rve(m,l)?(u.setMeta(Na.SELF_APPLIED,!0),u.setMeta(Na.UPDATE_CONFIG,{matches:m}),u):null},view(n){return{destroy(){}}}})}function yWe(e,t){const n=e.state.tr.setMeta(Na.UPDATE_CONFIG,t);e.dispatch(n)}function y3(e,t,n){var s,o,a,c;let r=t+1,i=0;for(let l=0;l<e.childCount;l++){const u=e.child(l),d=u.isText&&(c=(a=(s=u.text)==null?void 0:s.length)!=null?a:(o=u.textContent)==null?void 0:o.length)!=null?c:0;if(i+d>=n)return u.isText?r+(n-i):r;i+=d,r+=u.nodeSize}return r}function Ive(e,t,n,r){let i=!1;return e.nodesBetween(t,n,s=>s.marks.find(o=>o.type===r)?(i=!0,!1):!0),i}function Nve(e){let t=null;return e.descendants((n,r)=>n.isTextblock&&!t?(t={node:n,pos:r},!1):!0),t}function Rve(e,t){if(!e||!t||e.size!==t.size)return!1;const n=[...t];for(const r of e)if(!n.some(i=>i.systemHintType===r.systemHintType&&i.keyword===r.keyword))return!1;return!0}var CE,b3;function Pve(){if(b3)return CE;b3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return CE=e,CE}var EE,C3;function Mx(){if(C3)return EE;C3=1;var e=_W();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return EE=t,EE}var SE,E3;function Dx(){if(E3)return SE;E3=1;var e=Mx(),t=d_(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var c=s[o];(!(r.call(s,o)&&t(c,a))||a===void 0&&!(o in s))&&e(s,o,a)}return SE=i,SE}var OE,S3;function K_(){if(S3)return OE;S3=1;var e=Dx(),t=Mx();function n(r,i,s,o){var a=!s;s||(s={});for(var c=-1,l=i.length;++c<l;){var u=i[c],d=o?o(s[u],r[u],u,s,r):void 0;d===void 0&&(d=r[u]),a?t(s,u,d):e(s,u,d)}return s}return OE=n,OE}var TE,O3;function kve(){if(O3)return TE;O3=1;var e=K_(),t=bu();function n(r,i){return r&&e(i,t(i),r)}return TE=n,TE}var wE,T3;function Mve(){if(T3)return wE;T3=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return wE=e,wE}var AE,w3;function Dve(){if(w3)return AE;w3=1;var e=Li(),t=xA(),n=Mve(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),c=[];for(var l in o)l=="constructor"&&(a||!i.call(o,l))||c.push(l);return c}return AE=s,AE}var xE,A3;function Lx(){if(A3)return xE;A3=1;var e=oW(),t=Dve(),n=yu();function r(i){return n(i)?e(i,!0):t(i)}return xE=r,xE}var IE,x3;function Lve(){if(x3)return IE;x3=1;var e=K_(),t=Lx();function n(r,i){return r&&e(i,t(i),r)}return IE=n,IE}var bd={exports:{}};bd.exports;var I3;function jve(){return I3||(I3=1,(function(e,t){var n=Di(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var d=l.length,f=a?a(d):new l.constructor(d);return l.copy(f),f}e.exports=c})(bd,bd.exports)),bd.exports}var NE,N3;function Fve(){if(N3)return NE;N3=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return NE=e,NE}var RE,R3;function Uve(){if(R3)return RE;R3=1;var e=K_(),t=SA();function n(r,i){return e(r,t(r),i)}return RE=n,RE}var PE,P3;function vV(){if(P3)return PE;P3=1;var e=aW(),t=e(Object.getPrototypeOf,Object);return PE=t,PE}var kE,k3;function yV(){if(k3)return kE;k3=1;var e=EA(),t=vV(),n=SA(),r=iW(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return kE=s,kE}var ME,M3;function Bve(){if(M3)return ME;M3=1;var e=K_(),t=yV();function n(r,i){return e(r,t(r),i)}return ME=n,ME}var DE,D3;function bV(){if(D3)return DE;D3=1;var e=rW(),t=yV(),n=Lx();function r(i){return e(i,n,t)}return DE=r,DE}var LE,L3;function Gve(){if(L3)return LE;L3=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return LE=n,LE}var jE,j3;function jx(){if(j3)return jE;j3=1;var e=nW();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return jE=t,jE}var FE,F3;function Wve(){if(F3)return FE;F3=1;var e=jx();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return FE=t,FE}var UE,U3;function qve(){if(U3)return UE;U3=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return UE=t,UE}var BE,B3;function Vve(){if(B3)return BE;B3=1;var e=_u(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return BE=r,BE}var GE,G3;function $ve(){if(G3)return GE;G3=1;var e=jx();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return GE=t,GE}var WE,W3;function Hve(){if(W3)return WE;W3=1;var e=jx(),t=Wve(),n=qve(),r=Vve(),i=$ve(),s="[object Boolean]",o="[object Date]",a="[object Map]",c="[object Number]",l="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",g="[object Float64Array]",y="[object Int8Array]",v="[object Int16Array]",T="[object Int32Array]",C="[object Uint8Array]",b="[object Uint8ClampedArray]",O="[object Uint16Array]",w="[object Uint32Array]";function A(x,N,R){var L=x.constructor;switch(N){case h:return e(x);case s:case o:return new L(+x);case p:return t(x,R);case m:case g:case y:case v:case T:case C:case b:case O:case w:return i(x,R);case a:return new L;case c:case d:return new L(x);case l:return n(x);case u:return new L;case f:return r(x)}}return WE=A,WE}var qE,q3;function zve(){if(q3)return qE;q3=1;var e=Li(),t=Object.create,n=(function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return qE=n,qE}var VE,V3;function Yve(){if(V3)return VE;V3=1;var e=zve(),t=vV(),n=xA();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return VE=r,VE}var $E,$3;function Kve(){if($3)return $E;$3=1;var e=v_(),t=aa(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return $E=r,$E}var HE,H3;function Jve(){if(H3)return HE;H3=1;var e=Kve(),t=__(),n=AA(),r=n&&n.isMap,i=r?t(r):e;return HE=i,HE}var zE,z3;function Xve(){if(z3)return zE;z3=1;var e=v_(),t=aa(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return zE=r,zE}var YE,Y3;function Qve(){if(Y3)return YE;Y3=1;var e=Xve(),t=__(),n=AA(),r=n&&n.isSet,i=r?t(r):e;return YE=i,YE}var KE,K3;function Zve(){if(K3)return KE;K3=1;var e=bA(),t=Pve(),n=Dx(),r=kve(),i=Lve(),s=jve(),o=Fve(),a=Uve(),c=Bve(),l=cW(),u=bV(),d=v_(),f=Gve(),h=Hve(),p=Yve(),m=Mr(),g=TA(),y=Jve(),v=Li(),T=Qve(),C=bu(),b=Lx(),O=1,w=2,A=4,x="[object Arguments]",N="[object Array]",R="[object Boolean]",L="[object Date]",D="[object Error]",F="[object Function]",G="[object GeneratorFunction]",z="[object Map]",V="[object Number]",M="[object Object]",te="[object RegExp]",$="[object Set]",se="[object String]",me="[object Symbol]",Ce="[object WeakMap]",J="[object ArrayBuffer]",K="[object DataView]",ne="[object Float32Array]",X="[object Float64Array]",ee="[object Int8Array]",ve="[object Int16Array]",ue="[object Int32Array]",oe="[object Uint8Array]",be="[object Uint8ClampedArray]",Ae="[object Uint16Array]",He="[object Uint32Array]",Ne={};Ne[x]=Ne[N]=Ne[J]=Ne[K]=Ne[R]=Ne[L]=Ne[ne]=Ne[X]=Ne[ee]=Ne[ve]=Ne[ue]=Ne[z]=Ne[V]=Ne[M]=Ne[te]=Ne[$]=Ne[se]=Ne[me]=Ne[oe]=Ne[be]=Ne[Ae]=Ne[He]=!0,Ne[D]=Ne[F]=Ne[Ce]=!1;function ge(he,j,Qe,Re,de,pe){var Le,ie=j&O,Pe=j&w,tt=j&A;if(Qe&&(Le=de?Qe(he,Re,de,pe):Qe(he)),Le!==void 0)return Le;if(!v(he))return he;var nt=m(he);if(nt){if(Le=f(he),!ie)return o(he,Le)}else{var rt=d(he),On=rt==F||rt==G;if(g(he))return s(he,ie);if(rt==M||rt==x||On&&!de){if(Le=Pe||On?{}:p(he),!ie)return Pe?c(he,i(Le,he)):a(he,r(Le,he))}else{if(!Ne[rt])return de?he:{};Le=h(he,rt,ie)}}pe||(pe=new e);var Yn=pe.get(he);if(Yn)return Yn;pe.set(he,Le),T(he)?he.forEach(function(Wt){Le.add(ge(Wt,j,Qe,Wt,he,pe))}):y(he)&&he.forEach(function(Wt,Kt){Le.set(Kt,ge(Wt,j,Qe,Kt,he,pe))});var nn=tt?Pe?u:l:Pe?b:C,Ft=nt?void 0:nn(he);return t(Ft||he,function(Wt,Kt){Ft&&(Kt=Wt,Wt=he[Kt]),n(Le,Kt,ge(Wt,j,Qe,Kt,he,pe))}),Le}return KE=ge,KE}var JE,J3;function eye(){if(J3)return JE;J3=1;var e=Zve(),t=1,n=4;function r(i){return e(i,t|n)}return JE=r,JE}var tye=eye();const T1=Gt(tye),Fx=ut(e=>{var s,o;const t=(s=Zt(e,"463092697"))==null?void 0:s.value,n=T1(t);let r=(o=n==null?void 0:n.enabledConnectors)!=null?o:[];return $e(e,"3881721129")||(r=r.filter(a=>a!==P.GITHUB_CONNECTOR)),n&&(n.enabledConnectors=r),n}),CV=()=>{const e=re();return E.useMemo(()=>Fx(e),[e])},nye=e=>{const t=Fx(e);return{enabled:!!(t!=null&&t.softmentionEnabled)}};function rye(){return{trackingKeywordsRegex:void 0,decorations:wt.empty,highlightedKeywords:new Set,matchedKeywords:new Set}}const EV=({tr:e,regex:t,prevHighlightedKeywords:n,prevMatchedKeywords:r})=>{const i=[],s=new Set,o=new Set;return t?(e.doc.descendants((a,c)=>{if(!a.isText||!a.text)return;const l=a.text;for(const u of l.matchAll(t)){if(s.add(u[1]),!n.has(u[1])&&r.has(u[1]))continue;o.add(u[1]);const d=c+u.index,f=d+u[0].length;i.push(Ln.inline(d,f,{class:"hint-pill"},{keyword:u[1]}))}}),{decorations:wt.create(e.doc,i),matchedKeywords:s,highlightedKeywords:o}):{decorations:wt.empty,matchedKeywords:s,highlightedKeywords:o}};function bWe(e){var n;const t=Go.getState(e);return[...(n=t==null?void 0:t.matchedKeywords)!=null?n:[]]}const CWe=(e,t)=>{const{state:n,dispatch:r}=t,i=n.tr,s=Go.getState(n);if(s){const o=e.length>0?new RegExp("\\b(".concat(e.join("|"),")\\b"),"gi"):void 0,{decorations:a,highlightedKeywords:c,matchedKeywords:l}=EV({tr:i,regex:o,prevHighlightedKeywords:s.highlightedKeywords,prevMatchedKeywords:s.matchedKeywords});i.setMeta(Go,I(S({},s),{trackingKeywordsRegex:o,decorations:a,highlightedKeywords:c,matchedKeywords:l}))}r(i)},EWe=(e,t)=>{if(e.length===0)return;const{state:n,dispatch:r}=t,i=n.tr,s=Go.getState(n);if(s){const o=s.decorations.remove(s.decorations.find(void 0,void 0,a=>a.keyword&&e.includes(a.keyword)));i.setMeta(Go,I(S({},s),{decorations:o,highlightedKeywords:new Set([...s.highlightedKeywords].filter(a=>!e.includes(a)))}))}r(i)},Go=new ci("keywordPlugin");function iye(){return new jr({key:Go,state:{init(){return rye()},apply(e,t){if(e.getMeta(Go))return S(S({},t),e.getMeta(Go));if(!e.docChanged)return t;const{decorations:n,matchedKeywords:r,highlightedKeywords:i}=EV({tr:e,regex:t.trackingKeywordsRegex,prevHighlightedKeywords:t.highlightedKeywords,prevMatchedKeywords:t.matchedKeywords});return I(S({},t),{decorations:n,highlightedKeywords:i,matchedKeywords:r})}},props:{decorations(e){const t=this.getState(e);return t?t.decorations:wt.empty}}})}const Wa=new ci("menuSelectorPlugin");function X3(e){e.dispatch(e.state.tr.setMeta(Wa,{active:!1,onMenuAction:void 0}))}function SWe(e,t){e.dispatch(e.state.tr.setMeta(Wa,{active:!0,onMenuAction:t}))}const OWe=eo(e=>ai(()=>{var t,n;return(n=(t=Wa.getState(e.state))==null?void 0:t.active)!=null?n:!1},t=>A8(e,t),{getServerFallback:()=>!1}));function sye(e={submitKeys:["Enter","Tab"],cancelKeys:["Escape"],checkStrictMatchKeys:[" "]}){return new jr({key:Wa,state:{init(){return I(S({},e),{active:!1})},apply(t,n){const r=t.getMeta(Wa);return r?S(S({},n),r):n}},props:{handleKeyDown(t,n){var i,s,o,a,c,l;const r=Wa.getState(t.state);if(!(r!=null&&r.active))return!1;if(!n.isComposing)return r.submitKeys.includes(n.key)?(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),X3(t),(s=(i=r.onMenuAction)==null?void 0:i.call(r,"submit"))!=null?s:!0):r.cancelKeys.includes(n.key)?(n.preventDefault(),(o=r.onMenuAction)==null||o.call(r,"cancel"),X3(t),!0):n.key==="ArrowUp"?(n.preventDefault(),(a=r.onMenuAction)==null||a.call(r,"up"),!0):n.key==="ArrowDown"?(n.preventDefault(),(c=r.onMenuAction)==null||c.call(r,"down"),!0):r.checkStrictMatchKeys.includes(n.key)&&(l=r.onMenuAction)!=null&&l.call(r,"checkMatch")?(n.preventDefault(),!0):!1},handleDOMEvents:{blur:t=>{var r;const n=Wa.getState(t.state);(r=n==null?void 0:n.onMenuAction)==null||r.call(n,"cancel")}}}})}const Cd=new ci("placeholderPlugin");function TWe(e,t){e.dispatch(e.state.tr.setMeta(Cd,{placeholder:t}))}function oye(e){return new jr({key:Cd,state:{init(){return{placeholder:e}},apply(t,n){return t.getMeta(Cd)?{placeholder:t.getMeta(Cd).placeholder}:n}},props:{decorations(t){var i;const{doc:n}=t;if(n.childCount===1&&((i=n.firstChild)==null?void 0:i.isTextblock)&&n.firstChild.content.size===0){const s=[],{placeholder:o}=Cd.getState(t);return t.doc.descendants((a,c)=>{const l=Ln.node(c,c+a.nodeSize,{class:"placeholder","data-placeholder":o});s.push(l)}),wt.create(n,s)}}}})}let w1;try{w1=new RegExp("^(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]*)$|\\s(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]+)$","u")}catch(e){w1=/^(\/|@)([\w.:_-]*)$|\s(\/|@)([\w.:_-]+)$/}function aye(e,t){var r,i,s,o;if(e.depth===0)return;const n=(i=(r=e.nodeBefore)==null?void 0:r.text)==null?void 0:i.match(w1);if(n){const a=(s=n[1])!=null?s:n[3],c=(o=n[2])!=null?o:n[4],l=e.pos-c.length-1,u=e.pos;return c.length>0&&t?void 0:{triggerSymbol:a,queryText:c,range:{from:l,to:u}}}}const Ed=new ci("systemHintPlugin");function cye(e,t){return e.setMeta(Ed,t),e}function wWe(e){e.dispatch(cye(e.state.tr,I(S({},A1()),{isDismissed:!0})))}function A1(){return{triggerSymbol:"",queryText:"",active:!1,range:void 0,isDismissed:!1}}function Q3(e){const{active:t,range:n,triggerSymbol:r,queryText:i,onHintMatch:s}=e;if(s)return s(!t||!n?void 0:{triggerSymbol:r,text:i,range:n})}function lye(){return new jr({key:Ed,state:{init(){return A1()},apply(e,t,n,r){const i=e.getMeta(Ed),s=S(S(S({},A1()),t),i),o=e.selection;if(o.from!==o.to||r.doc.eq(n.doc))return Q3(s),s;const a=o.$from,c=aye(a,t.isDismissed);return s.active=c!=null,c&&(s.triggerSymbol=c.triggerSymbol,s.queryText=c.queryText,s.range=c.range,s.isDismissed=!1),Q3(s),s}},view(){return{update(e,t){var s,o,a,c;const n=Ed.getState(t),r=Ed.getState(e.state);if(n.active===r.active&&((s=n.range)==null?void 0:s.from)===((o=r.range)==null?void 0:o.from)&&n.setReferencePosition===r.setReferencePosition)return;const i=r.range;!r.active||!i?(a=r.setReferencePosition)==null||a.call(r,null):(c=r.setReferencePosition)==null||c.call(r,{getBoundingClientRect:()=>uye(e.coordsAtPos(i.from))})}}}})}function uye({left:e,right:t,top:n,bottom:r}){return new DOMRect(e,n,t-e,r-n)}function dye(e,t){const n=new EventTarget,r=nye(e).enabled,i=wve(e),s=hge(e),o=new J_e(null,{state:vl.create({schema:og,plugins:[Ove(),sye(),lye(),...i?[xve({markType:og.marks.ecosystemMentionMark})]:[],...r?[iye()]:[],...s?[...cve(t)]:[],Tve(),R8(I(S({},AL),{"Shift-Enter":AL.Enter,"Mod-z":_V,"Mod-y":O1,"Mod-Shift-z":O1})),Zme(n),oye(""),dve(),oge()]}),dispatchTransaction(c){const l=o.state.apply(c);o.updateState(l),c.docChanged&&n.dispatchEvent(new Event(d1))},handlePaste(c,l){var d;const u=(d=l.clipboardData)==null?void 0:d.getData("text/plain");return u===void 0?!1:(l.defaultPrevented||uge(e,u)||T8(c,u),!0)},clipboardTextSerializer(c){return zme(c.content).content}}),a=t&&Ore(t);return a!=null&&O8(o.state.doc)&&o.dispatch(o.state.tr.insertText(a)),o}class fye{constructor(t,n){this.ctx=t,this.conversation=n}}const J_=Pg("Composer"),da=Hw(J_),x1=J_(()=>({current:null})),ou=J_(e=>dye(e.ctx,e.conversation)),SV=da(e=>ai(()=>ou(e).state,t=>A8(ou(e),I8(t,50)))),AWe=da(e=>Ee(()=>SV(e).doc.content.size,{getServerFallback:()=>0})),hye=da(e=>Ee(()=>O8(SV(e).doc),{getServerFallback:()=>!0})),pye=da(()=>Oe(!1)),xWe=da(e=>ege(()=>pye(e),()=>hye(e))),mye=da(e=>ai(()=>ou(e).hasFocus(),t=>$o(ou(e).dom,{focus:t,blur:t}),{getServerFallback:()=>!1})),IWe=da(e=>{const t=ai(()=>{const n=x1(e);return n.current!=null&&(n.current.contains(document.activeElement)||n.current.querySelector('[data-state="open"]')!=null)},n=>{const r=rge(n,150);return $o(document,{focusin:r,focusout:r})},{getServerFallback:()=>!1});return Ee(()=>t()||mye(e))}),NWe=da(e=>ai(()=>{const t=x1(e);return t.current!=null&&t.current.matches(":hover")},t=>{var r;const n=x1(e);return $o((r=n.current)!=null?r:ou(e).dom,{pointerenter:t,pointerleave:t})},{getServerFallback:()=>!1})),RWe=J_(e=>{const t=Oe(void 0),n=Ee(()=>{var s,o,a;if(!St(e.ctx))return;const r=e.conversation;if(!r)return;const i=(o=(s=Ope(yh(r)))==null?void 0:s.message.metadata)==null?void 0:o.thinking_effort;return(a=i!=null?i:L7(e.ctx).effort)!=null?a:"standard"},{getServerFallback:()=>$G(e.ctx).effort});return{composerThinkingEffort$:Ee(()=>{var r;return(r=t())!=null?r:n()}),setThinkingEffort:r=>{t.set(r)}}}),I1=E.createContext(null),PWe=e=>{"use forget";const t=Y.c(7),{children:n,conversation:r,ignoreParentComposerController:i}=e,s=i===void 0?!1:i,o=re(),a=s?null:E.use(I1);let c;t[0]!==r||t[1]!==o||t[2]!==a?(c=a!=null?a:new fye(o,r),t[0]=r,t[1]=o,t[2]=a,t[3]=c):c=t[3];const l=c;let u;return t[4]!==n||t[5]!==l?(u=_.jsx(I1.Provider,{value:l,children:n}),t[4]=n,t[5]=l,t[6]=u):u=t[6],u},gye=()=>{"use forget";const e=Y.c(2),t=E.use(I1);let n;return e[0]!==t?(n=oi(t),e[0]=t,e[1]=n):n=e[1],n},kWe="g-2fkFE8rbu",OV={UNSET:"unset",GLOBAL:"global",PROJECT:"project",PROJECT_V2:"project_v2"};var Bt=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e[e.EMAIL=10]="EMAIL",e))(Bt||{});const TV={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},MWe={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},DWe={can_read:!0,can_view_config:!0,can_write:!0,can_delete:!1,can_export:!1,can_share:!1},mt={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var _ye=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(_ye||{});const LWe=e=>{var t;return(t=e.gizmo.tags)==null?void 0:t.includes("first_party")},jWe=e=>{var t;return e.gizmo.gizmo_type!=="snorlax"&&!((t=e.gizmo.tags)!=null&&t.includes("unreviewable"))};var hg=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(hg||{}),Ux=(e=>(e.FILE_SERVICE="fs",e))(Ux||{});function vye(e){return e.type===10||e.type===1||e.type===2}const Z3=[1,2,3,4];function FWe(e){return e.length===0?null:e.reduce((t,n)=>Z3.indexOf(n.type)<Z3.indexOf(t.type)?t:n,e[0])}function UWe(e,t,n){return t=t.filter(r=>r.type===mt.User||r.type===mt.Group),e===mt.Private||e===mt.User||e===mt.Group?[{type:mt.Private,capabilities:TV},...t]:[...t,{type:e,capabilities:n}]}class wV{constructor(t){this.response=t}}var yl=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(yl||{}),yye=dW();const AV=Gt(yye),bye=Cye(ut),Sh=Eye(ut);function Cye(e){return(t,n=xV)=>{const r=e(i=>AV((...s)=>t(i,...s),n));return(i,...s)=>r(i)(...s)}}function Eye(e){return(t,n=xV)=>{const r=e(s=>AV((...o)=>t(s,...o),n));return $6((s,...o)=>r(s)(...o),t.length)}}function xV(...e){return e.length===1?e[0]:JSON.stringify(e)}const Gs=({chunk:e,href:t})=>_.jsx("a",{href:t,target:"_blank",className:"underline",rel:"noreferrer",children:e}),q=Tt({modelsTitle:{id:"t+hUfA",defaultMessage:"Models"},modelsDescription:{id:"zFj9MF",defaultMessage:"Manage access to models for members"},gpt5ThinkingDescription:{id:"67pSQk",defaultMessage:"Thinks longer for better answers."},gpt5ThinkingProDescription:{id:"AmHfHH",defaultMessage:"Research-grade intelligence."},gpt5ThinkingMiniAutoswitcherDescription:{id:"LU9gpS",defaultMessage:"If enabled, Auto will route to Thinking Mini instead of Thinking when reasoning is requested."},gpt5ThinkingMiniAutoswitcherDisableDescription:{id:"+yI/qj",defaultMessage:"Default on because Thinking is not enabled. Auto will route to Thinking Mini when reasoning is requested."},legacyModelsTitle:{id:"5MXz0X",defaultMessage:"Enable legacy models"},legacyModelsDescription:{id:"83N6uo",defaultMessage:"Allow members to use legacy models. This is a global setting for the workspace."},additionalModelsTitle:{id:"2ljqlu",defaultMessage:"Enable additional models"},additionalModelsDescription:{id:"DDljrd",defaultMessage:"Allow members to use additional models."},gpt41Description:{id:"J2sMy+",defaultMessage:"Great for quick coding and analysis."},gptO3Description:{id:"sG0ZYa",defaultMessage:"A powerful engine for complex, multi-step analysis."},gptO4MiniDescription:{id:"kH5Wky",defaultMessage:"Fast, cost-efficient reasoning for code, math and visual tasks."},imageGenTitle:{id:"iPlNq5",defaultMessage:"Image generation"},imageGenDescription:{id:"6NZOo3",defaultMessage:"Allows users create AI-generated images inside ChatGPT."},webSearchTitle:{id:"Qzwh18",defaultMessage:"Web search"},webSearchDescription:{id:"2MpcaO",defaultMessage:"Manage whether ChatGPT and GPTs created in this workspace can browse the internet. When enabled, it may send search queries and general location information to Bing, but this data is not linked to or associated with user accounts. This does not apply to third-party GPTs. <link>Learn more</link>"},webSearchDescriptionOfflineOnly:{id:"At35Ka",defaultMessage:"Manage whether ChatGPT and GPTs created in this workspace have access to information from the internet."},browserMemoriesTitle:{id:"jD9khW",defaultMessage:"Enable browser memories"},browserMemoriesDescription:{id:"wNjI5l",defaultMessage:"Allow ChatGPT to reference membersâ€™ browsing history when answering questions inside ChatGPT Atlas."},browserMemoriesDisabledReason:{id:"izWkrN",defaultMessage:"Enable ChatGPT Atlas to manage browser memories."},codexTitle:{id:"FwoibD",defaultMessage:"Allow members to use Codex Cloud"},codexDescription:{id:"JQ2JjX",defaultMessage:"Manage whether members can use Codex Cloud to run tasks across Web, Mobile, Code Review or Slack."},codexAdminTitle:{id:"DWWOuu",defaultMessage:"Allow members to administer Codex"},codexAdminDescription:{id:"xJJfEk",defaultMessage:"Allow members to administer Codex, including managing environments and access to Codex workspace analytics."},codexSlackPostingTitle:{id:"Ep5Rui",defaultMessage:"Allow Codex Slack app to post answers on task completion"},codexSlackPostingDescription:{id:"xgvDqU",defaultMessage:"When enabled, Codex posts its full answer back to Slack upon task completion. Otherwise, posts only a link to the task."},codexCliTitle:{id:"xFwkH8",defaultMessage:"Allow members to use Codex Local"},codexCliDescription:{id:"PDBmsc",defaultMessage:"Manage whether members can use Codex locally in the CLI or IDE extension."},codexAgentNetworkTitle:{id:"+0TP+Y",defaultMessage:"Allow Codex agent to access the internet"},codexAgentNetworkDescription:{id:"xIYqvo",defaultMessage:"Allows environments to be created with agent internet access enabled when completing cloud tasks."},codexDeviceCodeAuthTitle:{id:"2NBb84",defaultMessage:"Enable device code authentication for Codex CLI"},codexDeviceCodeAuthDescription:{id:"FHe1M9",defaultMessage:"Allow developers to sign-in with device codes when using Codex CLI in a non-interactive environment."},disabledReasonGithub:{id:"HNofTP",defaultMessage:"Disabled because there's no active GitHub connector."},recordTitle:{id:"AXkmJg",defaultMessage:"Record"},recordDescription:{id:"l0y0CK",defaultMessage:"Manage whether users can use ChatGPT to record, transcribe, and summarize longform audio. Recordings will be used solely for transcription purposes and will not be stored by OpenAI. <link>Learn more</link>"},recordReferencePastTranscriptsTitle:{id:"ZsmGaz",defaultMessage:"Allow ChatGPT to reference past notes and transcripts"},recordReferencePastTranscriptsDescription:{id:"OlM3tz",defaultMessage:"Allow members to reference past notes and transcripts in ChatGPT Record."},deepResearchTitle:{id:"xd3kLo",defaultMessage:"Deep research"},deepResearchDescription:{id:"b5K/+B",defaultMessage:"Lets users run in-depth research with web-connected and multi-step reasoning tools."},advanceVoiceTitle:{id:"BBl2PG",defaultMessage:"Advanced voice capabilities"},advanceVoiceDescription:{id:"Tfn5Vm",defaultMessage:"Enables real-time voice interaction with AI, including speech recognition and lifelike responses."},gptSectionTitle:{id:"lDlJlK",defaultMessage:"GPTs"},gptSectionDescription:{id:"MMDdKL",defaultMessage:"Choose which GPT access this role has"},gptCrudTitle:{id:"ySiNVL",defaultMessage:"Create and manage GPTs"},gptCrudDescription:{id:"aCMqKu",defaultMessage:"Allow members to create and manage GPTs"},gptShareWorkspaceTitle:{id:"arwdQz",defaultMessage:"Publish GPTs to workspace"},gptShareWorkspaceDescription:{id:"O0HyJZ",defaultMessage:"Allow members to publish GPTs they own to the workspace GPT Store"},gptShareExternalTitle:{id:"zl4S+n",defaultMessage:"Publish GPTs externally"},gptShareExternalDescription:{id:"wXPceF",defaultMessage:"Controls ability to share with others outside the org (via email or link)"},gptAllowAllThirdPartyTitle:{id:"ZYlBcx",defaultMessage:"Allow all third party GPTs"},gptAllowAllThirdPartyDescription:{id:"NVpEpJ",defaultMessage:"If enabled, user will have access to all 3P GPTs"},gptAllowSpecificThirdPartyTitle:{id:"7oaevm",defaultMessage:"Allow owner-approved GPTs only"},gptAllowSpecificThirdPartyDescription:{id:"ubkAtB",defaultMessage:"If enabled, user will have access to approved 3P GPTs"},projectSectionTitle:{id:"muqJOY",defaultMessage:"Projects"},projectSectionDescription:{id:"oDGRtQ",defaultMessage:"Choose which project access this role has"},projectCrudTitle:{id:"PDOJ0T",defaultMessage:"Create and manage projects"},projectCrudDescription:{id:"MfPKqd",defaultMessage:"Allow members to create and manage projects"},projectSharingTitle:{id:"EuQBCj",defaultMessage:"Share projects"},projectSharingDescription:{id:"G3e5oH",defaultMessage:"Allow members to share projects"},projectShareTitle:{id:"EuQBCj",defaultMessage:"Share projects"},projectShareDescription:{id:"G3e5oH",defaultMessage:"Allow members to share projects"},sharingTitle:{id:"8DIoJe",defaultMessage:"Sharing"},memberVisibilityTitle:{id:"y3ObUc",defaultMessage:"Member & group visibility"},memberRoleViewTitle:{id:"322WJh",defaultMessage:"View workspace members and groups"},memberRoleViewDescription:{id:"PVt0a7",defaultMessage:"Allow members to view workspace member and group lists, including assigned roles."},memoryTitle:{id:"h6Ufv3",defaultMessage:"Memory"},memoryDescription:{id:"NpeSvG",defaultMessage:"Manage whether members can enable memory. This allows ChatGPT to become more helpful by remembering details and preferences across chats. <link>Learn more</link>"},canvasCodeExecutionTitle:{id:"sB8WQp",defaultMessage:"Canvas code execution"},canvasCodeExecutionDescription:{id:"kkkA1m",defaultMessage:"Allow members to run code snippets within the canvas."},canvasCodeNetworkAccessTitle:{id:"L5mfFJ",defaultMessage:"Canvas code network access"},canvasCodeNetworkAccessDescription:{id:"OF7Jbc",defaultMessage:"Allow members to execute code with network access within the canvas."},thisFeatureDisabledForOrg:{id:"nAfvpE",defaultMessage:"This feature is disabled in this workspace"},videoScreenSharingTitle:{id:"GSzhi0",defaultMessage:"Allow members to share their screen or video while using voice mode"},videoScreenSharingDescription:{id:"WZkcdj",defaultMessage:"Allow members to share their screen or video while using voice mode"},canvasTitle:{id:"OuhDUU",defaultMessage:"Canvas"},searchTitle:{id:"rY8bdY",defaultMessage:"Search"},voiceTitle:{id:"e83f8K",defaultMessage:"Voice"},codexLocal:{id:"futdpv",defaultMessage:"Codex Local"},codex:{id:"8AIfDC",defaultMessage:"Codex Cloud"},codexSectionWarningDescription:{id:"Yu6Yi8",defaultMessage:"Access to Codex is restricted by default for this workspace. Codex may allow end users to share data, which could include protected health information (PHI), with third parties. You should ensure that your use of Codex complies with your obligations under HIPAA. For information to enable Codex, please see <link>here</link>."},recordAccessTitle:{id:"vFQuqV",defaultMessage:"Allow members to use ChatGPT record"},codeOnMacTitle:{id:"/WX4Ho",defaultMessage:"Code on macOS"},shareChatWithWorkspaceTitle:{id:"kKfDOF",defaultMessage:"Members can share chats with workspace."},shareChatTitle:{id:"x8jgoP",defaultMessage:"Allow members to share a chat or canvas with..."},shareChatProjectTitle:{id:"LQ2EVd",defaultMessage:"Allow members to share a chat, canvas, or project with..."},memoryAccessTitle:{id:"EVIMwx",defaultMessage:"Allow members to use memory"},chatRetentionPolicyTitle:{id:"HOkfAn",defaultMessage:"Chat retention policy"},chatRetentionPolicyDescription:{id:"b5pfhv",defaultMessage:"Contact your account manager to change this setting."},githubConnectorDescription:{id:"hk4rtN",defaultMessage:"Codex Cloud requires the GitHub Connector.{br}You can enable it in <settingsLink>Connector Settings</settingsLink>"},workWithCodeOnMacTitle:{id:"RKSSiR",defaultMessage:"Allow code edits on macOS"},workWithCodeOnMacDescription:{id:"eixe1y",defaultMessage:"Control whether users in this workspace can allow ChatGPT to edit code files when using the macOS desktop app. This lets ChatGPT read and edit the content of specific apps on their desktop to provide better responses. <link>Learn more</link>"},appleIntelligenceTitle:{id:"b5tisR",defaultMessage:"Allow members to link Apple Intelligence"},appleIntelligenceDescription:{id:"b2Jsop",defaultMessage:"Manage whether members can link with Apple Intelligence."},appleIntelligenceMDMTitle:{id:"0wNa7q",defaultMessage:"Apple Intelligence MDM"},appleIntelligenceMDMDescription:{id:"ZgxOdq",defaultMessage:"Only allow linking this workspace with Apple Intelligence on MDM managed devices."},imageGenSectionTitle:{id:"fKZG6M",defaultMessage:"Images"},mdmSectionTitle:{id:"jh/ICj",defaultMessage:"MDM"},mdmDisableCopyPasteTitle:{id:"iby11U",defaultMessage:"Disable copy and paste"},mdmDisableFileUploadTitle:{id:"4Mdk8I",defaultMessage:"Disable file upload"},mdmDisableFileDownloadTitle:{id:"S75iuY",defaultMessage:"Disable file download"},mdmRequirePinUnlockTitle:{id:"DAUS4M",defaultMessage:"Require PIN unlock"},mdmRequireBiometricUnlockTitle:{id:"8rpAr5",defaultMessage:"Require biometric unlock"},auraTitle:{id:"FkLlnI",defaultMessage:"ChatGPT Atlas"},auraDescription:{id:"JIsaXj",defaultMessage:"Allow members to use the ChatGPT Atlas web browser. ChatGPT Atlas is currently available in beta for Enterprise customers on macOS devices. <link>Learn more</link>"},agentModeTitle:{id:"t4P9Ws",defaultMessage:"Agent mode"},agentModeDescription:{id:"rE0L/V",defaultMessage:"Allow members to use agent mode. <link>Learn more</link>"},agentModeDisabledReason:{id:"/E6A5q",defaultMessage:"Agent mode is disabled because Web search is not enabled."},atlasSectionTitle:{id:"v/hDLj",defaultMessage:"ChatGPT Atlas"},deepResearchDisabledReason:{id:"QvYF92",defaultMessage:"Deep research is disabled because Web search is not enabled."},connectedDataSectionTitle:{id:"QE+kpm",defaultMessage:"Connected data"},createMcpConnectorTitle:{id:"pkZaDB",defaultMessage:"Developer mode / Create custom MCP connectors"},createMcpConnectorDescription:{id:"YHq4B3",defaultMessage:"If enabled, user will have access to developer mode and creation of custom MCP connectors"},connectorRoleTitle:{id:"jeAMAA",defaultMessage:"Allow members to use connectors"},devModeSectionTitle:{id:"Gzg+k9",defaultMessage:"Developer mode"},devModeAccessTitle:{id:"yj3VSi",defaultMessage:"Allow members to use Developer mode"},enhancedCitationsTitle:{id:"HAq1Nb",defaultMessage:"Enhanced Citations"},enhancedCitationsDescription:{id:"q/O+On",defaultMessage:"Allow members to use enhanced citations."},enableEnhancedCitationsTitle:{id:"CrTKPZ",defaultMessage:"Enable enhanced citations"},enableEnhancedCitationsDescription:{id:"jTNWHr",defaultMessage:"Enabling enhanced citations will allow members to access features that surface evidence-based results."},gpt51Title:{id:"VZgugE",defaultMessage:"GPT-5.1"},gpt51Description:{id:"MQoBSI",defaultMessage:"Flagship model for the latest generation of ChatGPT."},gpt51ReasoningTitle:{id:"OyK7ds",defaultMessage:"GPT-5.1 Thinking"},gpt51ReasoningDescription:{id:"2anVOn",defaultMessage:"Thinks longer for better answers."},gpt51ProTitle:{id:"QTEOWq",defaultMessage:"GPT-5.1 Pro"},gpt51ProDescription:{id:"QoIE6D",defaultMessage:"Research-grade intelligence."}});var fa=(e=>(e.GPT51Access="chatgpt.workspace.model.GPT-5.1.access",e.GPT51ReasoningAccess="chatgpt.workspace.model.GPT-5.1-reasoning.access",e.GPT51ProAccess="chatgpt.workspace.model.GPT-5.1-pro.access",e.GPT5ThinkingAccess="chatgpt.workspace.model.GPT-5-reasoning.access",e.GPT5ThinkingProAccess="chatgpt.workspace.model.GPT-5-pro.access",e.GPT5ThinkingMiniAccess="chatgpt.workspace.model.GPT-5-reasoning-mini.access",e.GPT41Access="chatgpt.workspace.model.GPT-4.1.access",e.GPT45Access="chatgpt.workspace.model.GPT-4.5.access",e.GPTO3Access="chatgpt.workspace.model.o3.access",e.GPTO3ProAccess="chatgpt.workspace.model.o3-pro.access",e.GPTO4MiniAccess="chatgpt.workspace.model.o4-mini.access",e.GPTO4MiniHighAccess="chatgpt.workspace.model.o4-mini-high.access",e.CrudGPT="chatgpt.workspace.gpt.crud",e.ShareWorkspaceGPT="chatgpt.workspace.gpt.share_workspace",e.ShareExternalGPT="chatgpt.workspace.gpt.share_external",e.AllowAllThirdPartyGPT="chatgpt.workspace.gpt.allow_all_third_party",e.AllowSpecificThirdPartyGPT="chatgpt.workspace.gpt.allow_specific_third_party",e.CrudProject="chatgpt.workspace.project.crud",e.ShareProject="chatgpt.workspace.project.share",e.MemberRoleView="chatgpt.workspace.member.role.view",e.ShareChatWithWorkspace="chatgpt.workspace.feature.share-chat-with-workspace.access",e.AllowCodexAccess="chatgpt.workspace.feature.allow-codex-access.access",e.AllowCodexLocalAccess="chatgpt.workspace.feature.allow-codex-local-access.access",e.CodexAdminAccess="chatgpt.workspace.feature.codex-admin.access",e.CodexAgentNetworkAccess="chatgpt.workspace.feature.codex-agent-network-access.access",e.CodexDeviceCodeAuthAccess="chatgpt.workspace.feature.codex-device-code-auth.access",e.CodexSlackPostingAccess="chatgpt.workspace.feature.codex-slack-posting.access",e.ImageGenAccess="chatgpt.workspace.feature.image-gen.access",e.SearchAccess="chatgpt.workspace.feature.search.access",e.DeepResearchAccess="chatgpt.workspace.feature.deep-research.access",e.VoiceAccess="chatgpt.workspace.feature.voice.access",e.HiveAccess="chatgpt.workspace.feature.hive.access",e.HiveKnowledgeRetrievalAccess="chatgpt.workspace.feature.hive-knowledge-retrieval.access",e.MemoryAccess="chatgpt.workspace.feature.memory.access",e.CanvasCodeExecutionAccess="chatgpt.workspace.feature.canvas-code-execution.access",e.CanvasCodeNetworkAccess="chatgpt.workspace.feature.canvas-code-network-access.access",e.VideoScreenSharingAccess="chatgpt.workspace.feature.video-screen-sharing.access",e.AppPairingAccess="chatgpt.workspace.feature.app-pairing.access",e.ClientApplicationAppleAccess="chatgpt.workspace.feature.client-application-apple.access",e.AuraAccess="chatgpt.workspace.feature.aura.access",e.BrowserMemoriesAccess="chatgpt.workspace.feature.aura-browser-memories.access",e.AgentModeAccess="chatgpt.workspace.feature.agent-mode.access",e.CreateMcpConnector="chatgpt.workspace.connector.mcp.create",e.DeveloperModeConnector="chatgpt.workspace.connector.dev_mode",e.UseConnector="chatgpt.workspace_connector.use",e.EnhancedCitations="chatgpt.workspace.feature.enhanced-citations.access",e))(fa||{});const Sye=({isRbacEnabled:e,isSharedProjectsEnabled:t,includeBetaSettingsAdvanced:n,isQuorum:r})=>({title:q.sharingTitle,availableForQuorum:!r,entries:[...n&&e?[{rbac:!0,title:q.shareChatWithWorkspaceTitle,permissionName:"chatgpt.workspace.feature.share-chat-with-workspace.access"}]:[{rbac:!1,title:t?q.shareChatProjectTitle:q.shareChatTitle,settingName:"share_chat"}]]}),Oye=()=>({title:q.memberVisibilityTitle,availableForQuorum:!0,entries:[{rbac:!0,title:q.memberRoleViewTitle,description:q.memberRoleViewDescription,permissionName:"chatgpt.workspace.member.role.view"}]}),Tye=()=>({title:q.memoryTitle,availableForQuorum:!0,entries:[{rbac:!1,title:q.memoryAccessTitle,description:q.memoryDescription,descriptionValues:{link:e=>_.jsx(Gs,{chunk:e,href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq"})},settingName:"memory_access"},{rbac:!1,title:q.chatRetentionPolicyTitle,description:q.chatRetentionPolicyDescription,settingName:"rentention_policy"}]}),wye=({isRbacEnabled:e,includeBetaSettingsAdvanced:t})=>({title:q.canvasTitle,availableForQuorum:!0,entries:e&&t?[{rbac:!0,title:q.canvasCodeExecutionTitle,description:q.canvasCodeExecutionDescription,permissionName:"chatgpt.workspace.feature.canvas-code-execution.access"},{rbac:!0,title:q.canvasCodeNetworkAccessTitle,description:q.canvasCodeNetworkAccessDescription,permissionName:"chatgpt.workspace.feature.canvas-code-network-access.access"}]:[{rbac:!1,title:q.canvasCodeExecutionTitle,description:q.canvasCodeExecutionDescription,settingName:"canvas_code_execution"},{rbac:!1,title:q.canvasCodeNetworkAccessTitle,description:q.canvasCodeNetworkAccessDescription,settingName:"canvas_code_network_access"}]}),Aye=({isRbacEnabled:e,showDeepResearchToggle:t,includeBetaSettings:n,includeAgentMode:r,isQuorum:i,isSearchEnabled:s})=>({title:q.searchTitle,availableForQuorum:!0,entries:[...n&&e?[{rbac:!0,title:q.webSearchTitle,description:i?q.webSearchDescriptionOfflineOnly:q.webSearchDescription,descriptionValues:{link:o=>_.jsx(Gs,{chunk:o,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},permissionName:"chatgpt.workspace.feature.search.access"}]:[{rbac:!1,title:q.webSearchTitle,description:i?q.webSearchDescriptionOfflineOnly:q.webSearchDescription,descriptionValues:{link:o=>_.jsx(Gs,{chunk:o,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},settingName:"web_search"}],...t?[{rbac:!0,title:q.deepResearchTitle,description:q.deepResearchDescription,permissionName:"chatgpt.workspace.feature.deep-research.access",disabled:!s,disabledReason:s?void 0:q.deepResearchDisabledReason}]:[],...r?[{rbac:!0,title:q.agentModeTitle,disabledForQuorum:i,description:q.agentModeDescription,descriptionValues:{link:o=>_.jsx(Gs,{chunk:o,href:"https://help.openai.com/en/articles/11752874-chatgpt-agent"})},permissionName:"chatgpt.workspace.feature.agent-mode.access",disabled:!s,disabledReason:s?i?q.thisFeatureDisabledForOrg:void 0:q.agentModeDisabledReason}]:[]]}),xye={title:q.imageGenSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:q.imageGenTitle,description:q.imageGenDescription,permissionName:"chatgpt.workspace.feature.image-gen.access"}]},Iye=({isRbacEnabled:e,includeFeatures:t,includeBetaSettingsAdvanced:n})=>({title:q.voiceTitle,availableForQuorum:!0,entries:[...t&&e?[{rbac:!0,title:q.advanceVoiceTitle,description:q.advanceVoiceDescription,permissionName:"chatgpt.workspace.feature.voice.access"}]:[],...n&&e?[{rbac:!0,title:q.videoScreenSharingTitle,description:q.videoScreenSharingDescription,permissionName:"chatgpt.workspace.feature.video-screen-sharing.access"}]:[{rbac:!1,title:q.videoScreenSharingTitle,description:q.videoScreenSharingDescription,settingName:"video_screen_sharing"}]]}),Nye=({includeAura:e,includeBrowserMemories:t,isRbacEnabled:n})=>{if(!e||!n)return null;const r=[{rbac:!0,title:q.auraTitle,description:q.auraDescription,descriptionValues:{link:i=>_.jsx(Gs,{chunk:i,href:"https://help.openai.com/en/collections/16051538-chatgpt-atlas"})},permissionName:"chatgpt.workspace.feature.aura.access"}];return t&&r.push({rbac:!0,title:q.browserMemoriesTitle,description:q.browserMemoriesDescription,permissionName:"chatgpt.workspace.feature.aura-browser-memories.access",disabledReason:q.browserMemoriesDisabledReason}),{title:q.atlasSectionTitle,availableForQuorum:!0,entries:r}},Rye=({isRbacEnabled:e,includeBetaSettings:t,githubConnectorEnabled:n,isCodexEnabledInRBACRole:r,isQuorum:i,isRoleSpecificPage:s,showDeviceCodeAuthToggle:o})=>{const a=!n&&!r,c=[],l=[];return t&&e?(l.push({rbac:!0,title:q.codexTitle,description:q.codexDescription,permissionName:"chatgpt.workspace.feature.allow-codex-access.access",disabled:a,disabledReason:a?q.disabledReasonGithub:void 0}),l.push({rbac:!0,title:q.codexAdminTitle,description:q.codexAdminDescription,permissionName:"chatgpt.workspace.feature.codex-admin.access",disabled:a,disabledReason:a?q.disabledReasonGithub:void 0}),c.push({rbac:!0,title:q.codexCliTitle,description:q.codexCliDescription,permissionName:"chatgpt.workspace.feature.allow-codex-local-access.access"}),l.push({rbac:!0,title:q.codexSlackPostingTitle,description:q.codexSlackPostingDescription,permissionName:"chatgpt.workspace.feature.codex-slack-posting.access"}),o&&c.push({rbac:!0,title:q.codexDeviceCodeAuthTitle,description:q.codexDeviceCodeAuthDescription,permissionName:"chatgpt.workspace.feature.codex-device-code-auth.access",disabled:a,disabledReason:a?q.disabledReasonGithub:void 0})):(l.push({rbac:!1,title:q.codexTitle,description:q.codexDescription,settingName:"codex_access"}),l.push({rbac:!1,title:q.codexAdminTitle,description:q.codexAdminDescription,settingName:"codex_admin"}),c.push({rbac:!1,title:q.codexCliTitle,description:q.codexCliDescription,settingName:"codex_local_access"}),l.push({rbac:!1,title:q.codexSlackPostingTitle,description:q.codexSlackPostingDescription,settingName:"codex_slack_posting"}),o&&c.push({rbac:!1,title:q.codexDeviceCodeAuthTitle,description:q.codexDeviceCodeAuthDescription,settingName:"codex_device_code_auth"})),[{title:q.codexLocal,availableForQuorum:!i||s,description:i?q.codexSectionWarningDescription:void 0,descriptionValues:i?{link:u=>_.jsx(Gs,{chunk:u,href:"https://cdn.openai.com/osa/chatgpt-regulated-workspace.pdf"})}:void 0,entries:c},{title:q.codex,availableForQuorum:!i||s,description:i?q.codexSectionWarningDescription:void 0,descriptionValues:i?{link:u=>_.jsx(Gs,{chunk:u,href:"https://cdn.openai.com/osa/chatgpt-regulated-workspace.pdf"})}:void 0,entries:[{rbac:!0,title:"GitHub",description:q.githubConnectorDescription,descriptionValues:{br:_.jsx("br",{}),settingsLink:u=>_.jsx(Rg,{to:"/admin/ca",className:"underline",children:u})},permissionName:"codex_github_connector"},...l,...t&&e?[{rbac:!0,title:q.codexAgentNetworkTitle,description:q.codexAgentNetworkDescription,permissionName:"chatgpt.workspace.feature.codex-agent-network-access.access"}]:[{rbac:!1,title:q.codexAgentNetworkTitle,description:q.codexAgentNetworkDescription,settingName:"codex_agent_network"}]]}]},Pye=({isRbacEnabled:e,isInSupportedDrRegion:t,includeBetaSettings:n})=>({title:q.recordTitle,availableForEnterprise:!0,availableForQuorum:!0,description:q.recordDescription,descriptionValues:{link:r=>_.jsx(Gs,{chunk:r,href:"https://help.openai.com/en/articles/11487532"})},entries:n&&e?[{rbac:!0,title:q.recordAccessTitle,permissionName:"chatgpt.workspace.feature.hive.access"},...t?[{rbac:!0,title:q.recordReferencePastTranscriptsTitle,description:q.recordReferencePastTranscriptsDescription,permissionName:"chatgpt.workspace.feature.hive-knowledge-retrieval.access"}]:[]]:[{rbac:!1,title:q.recordAccessTitle,settingName:"record_access"},...t?[{rbac:!1,title:q.recordReferencePastTranscriptsTitle,description:q.recordReferencePastTranscriptsDescription,settingName:"record_reference_past_transcripts"}]:[]]}),kye=({isAppleIntelligenceToggleEnabled:e,isAppleIntelligenceMdmToggleEnabled:t})=>({title:q.codeOnMacTitle,availableForQuorum:!0,entries:[{rbac:!1,title:q.workWithCodeOnMacTitle,description:q.workWithCodeOnMacDescription,descriptionValues:{link:n=>_.jsx(Gs,{chunk:n,href:"https://help.openai.com/en/articles/10119604-work-with-apps-on-macos"})},settingName:"apps_access"},...e?[{rbac:!1,title:q.appleIntelligenceTitle,description:q.appleIntelligenceDescription,settingName:"apple_intelligence_access"}]:[],...e&&t?[{rbac:!1,title:q.appleIntelligenceMDMTitle,description:q.appleIntelligenceMDMDescription,settingName:"apple_intelligence_mdm_access"}]:[]]}),Mye=({isRbacEnabled:e,includeModels:t,legacyModelsEnabled:n,isEnterprisey:r,includeThinkingMini:i,gpt5ThinkingEnabled:s,isCBP:o})=>({title:q.modelsTitle,availableForEnterprise:!0,availableForQuorum:!0,description:q.modelsDescription,entries:[...i&&e&&o?[{rbac:!0,title:"Redirect Auto Router to Thinking Mini",disabled:!s,disabledReason:s?void 0:q.gpt5ThinkingMiniAutoswitcherDisableDescription,description:q.gpt5ThinkingMiniAutoswitcherDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning-mini.access"}]:[],...t&&e?[{rbac:!0,title:"GPT-5 Thinking",description:q.gpt5ThinkingDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning.access"},{rbac:!0,title:"GPT-5 Pro",description:q.gpt5ThinkingProDescription,permissionName:"chatgpt.workspace.model.GPT-5-pro.access"}]:[],...r?[{rbac:!1,title:q.legacyModelsTitle,description:q.legacyModelsDescription,settingName:"legacy_models"}]:[{rbac:!1,title:q.additionalModelsTitle,description:q.additionalModelsDescription,settingName:"legacy_models"}],...t&&e&&n?[{rbac:!0,title:"GPT-4.1",description:q.gpt41Description,permissionName:"chatgpt.workspace.model.GPT-4.1.access"},{rbac:!0,title:"o3",description:q.gptO3Description,permissionName:"chatgpt.workspace.model.o3.access"},{rbac:!0,title:"o4-mini",description:q.gptO4MiniDescription,permissionName:"chatgpt.workspace.model.o4-mini.access"}]:[]]}),Dye=()=>({title:q.gptSectionTitle,availableForQuorum:!0,description:q.gptSectionDescription,entries:[{rbac:!0,title:q.gptCrudTitle,description:q.gptCrudDescription,permissionName:"chatgpt.workspace.gpt.crud"},{rbac:!0,title:q.gptShareWorkspaceTitle,description:q.gptShareWorkspaceDescription,permissionName:"chatgpt.workspace.gpt.share_workspace"},{rbac:!0,disabledForQuorum:!0,title:q.gptShareExternalTitle,description:q.gptShareExternalDescription,permissionName:"chatgpt.workspace.gpt.share_external"},{rbac:!0,disabledForQuorum:!0,title:q.gptAllowAllThirdPartyTitle,description:q.gptAllowAllThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_all_third_party"},{rbac:!0,disabledForQuorum:!0,title:q.gptAllowSpecificThirdPartyTitle,description:q.gptAllowSpecificThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_specific_third_party"}]}),Lye={rbac:!0,title:q.projectSharingTitle,description:q.projectSharingDescription,permissionName:"chatgpt.workspace.project.share"};q.auraTitle;const jye=e=>({title:q.projectSectionTitle,availableForQuorum:!0,description:q.projectSectionDescription,entries:ox([{rbac:!0,title:q.projectCrudTitle,description:q.projectCrudDescription,permissionName:"chatgpt.workspace.project.crud"},e?Lye:null])}),Fye={title:q.mdmSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:q.mdmDisableCopyPasteTitle,permissionName:"chatgpt.workspace.mdm.disable_copy_paste"},{rbac:!0,title:q.mdmDisableFileUploadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.upload"},{rbac:!0,title:q.mdmDisableFileDownloadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.download"}]},Uye=()=>({title:q.connectedDataSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:q.connectorRoleTitle,permissionName:"chatgpt.workspace_connector.use",nestedKey:"chatgpt.workspace_connector.use"},{rbac:!0,title:q.createMcpConnectorTitle,description:q.createMcpConnectorDescription,permissionName:"chatgpt.workspace.connector.mcp.create",additionalPermissionNames:["chatgpt.workspace.connector.dev_mode"]}]}),Bye=()=>({title:q.enhancedCitationsTitle,availableForQuorum:!0,description:q.enhancedCitationsDescription,entries:[{rbac:!0,title:q.enableEnhancedCitationsTitle,description:q.enableEnhancedCitationsDescription,permissionName:"chatgpt.workspace.feature.enhanced-citations.access"}]}),Gye={rbac:!0,title:q.gpt51Title,description:q.gpt51Description,permissionName:"chatgpt.workspace.model.GPT-5.1.access"},Wye={rbac:!0,title:q.gpt51ReasoningTitle,description:q.gpt51ReasoningDescription,permissionName:"chatgpt.workspace.model.GPT-5.1-reasoning.access"};q.gpt51ProTitle,q.gpt51ProDescription;function BWe({isCBP:e,isRbacEnabled:t,githubConnectorEnabled:n,isInSupportedDrRegion:r,includeFeatures:i,includeModels:s,isSharedProjectsEnabled:o,isSearchEnabled:a,isEnterprisey:c,showHiveToggle:l,showDeepResearchToggle:u,includeBetaSettings:d,includeBetaSettingsAdvanced:f,includeGizmoPermissions:h,isAppleIntelligenceToggleEnabled:p,isAppleIntelligenceMdmToggleEnabled:m,isMDMEnabled:g,includeAgentMode:y,includeAura:v,includeBrowserMemories:T,isQuorum:C,legacyModelsEnabled:b,includeConnectorPermissions:O,includeThinkingMini:w,isCodexEnabledInRBACRole:A,showProjectSharing:x,isRoleSpecificPage:N,showDeviceCodeAuthToggle:R,gpt5ThinkingEnabled:L,isEnhancedCitationsRolledOut:D}){const F=Nye({includeAura:v,includeBrowserMemories:T,isRbacEnabled:t});return[...F?[F]:[],Sye({isRbacEnabled:t,isSharedProjectsEnabled:o,includeBetaSettingsAdvanced:f,isQuorum:C}),...t?[Oye()]:[],Tye(),wye({isRbacEnabled:t,includeBetaSettingsAdvanced:f}),Aye({isRbacEnabled:t,showDeepResearchToggle:u,includeBetaSettings:d,includeAgentMode:y,isQuorum:C,isSearchEnabled:a}),...i&&t?[xye]:[],Iye({isRbacEnabled:t,includeFeatures:i,includeBetaSettingsAdvanced:f}),...c?Rye({isRbacEnabled:t,includeBetaSettings:d,githubConnectorEnabled:n,isCodexEnabledInRBACRole:A,isQuorum:C,isRoleSpecificPage:N,showDeviceCodeAuthToggle:R}):[],...l?[Pye({isRbacEnabled:t,isInSupportedDrRegion:r,includeBetaSettings:d})]:[],kye({isAppleIntelligenceToggleEnabled:p,isAppleIntelligenceMdmToggleEnabled:m}),Mye({isRbacEnabled:t,includeModels:s,legacyModelsEnabled:b,isEnterprisey:c,includeThinkingMini:w,gpt5ThinkingEnabled:L,isCBP:e}),...t&&h?[Dye()]:[],...t&&h?[jye(x)]:[],...t&&g?[Fye]:[],...t&&O?[Uye()]:[],...C&&D?[Bye()]:[]]}const GWe=e=>{let t=[];return e&&(t=t.concat({name:"GPT-5.1 Models",description:"The latest models from OpenAI.",newReleaseEntries:[Gye,Wye],newReleaseOptOutFlag:xs.GPT51_GA_OPT_OUT,shouldDisableForQuorum:!1,releaseDate:"November 24, 2025",helpCenterLink:void 0,shouldHideOptOutButton:!0})),t},WWe=e=>$e(e,"1355972088"),Fr=e=>Zt(e,"2826703856"),qWe=e=>Fr(e).get("self_serve_page_enabled",!1),VWe=e=>Fr(e).get("models_display_in_rbac_page",!1),$We=e=>Fr(e).get("features_display_in_rbac_page",!1),HWe=e=>Fr(e).get("beta_settings_display_in_rbac_page",!1),zWe=e=>Fr(e).get("beta_settings_display_in_rbac_page_advanced",!1),YWe=e=>Fr(e).get("gpt_settings_display_in_rbac_page",!1),qye=e=>Fr(e).get("enable_gpt_fe_controls",!1),Vye=e=>Fr(e).get("enable_project_fe_controls",!1),KWe=e=>$e(e,"1277555238"),JWe=e=>Fr(e).get("enable_agent_mode",!1),XWe=e=>Fr(e).get("enable_aura",!1),QWe=e=>Fr(e).get("enable_browser_memories",!1),ZWe=e=>Fr(e).get("enable_thinking_mini",!1),eqe=e=>$e(e,"2401070674"),$ye=e=>$e(e,"1627064618"),tqe=e=>$e(e,"1513410899"),nqe=e=>Fr(e).get("enable_gpt51_toggle",!1),Hye="o4-mini",Bx=e=>{var c,l;const t=re(),n=ys(),r=n==null?void 0:n.getWorkspaceId(),i=Vye(t),{data:s,isLoading:o}=dx(r);if(!(n!=null&&n.isWorkspaceAccount()))return{hasWorkspacePermission:!0,isLoading:!1};const a=(l=(c=s==null?void 0:s.permissions)==null?void 0:c.includes(e))!=null?l:!1;return{hasWorkspacePermission:i?a:!0,isLoading:o}},rqe=()=>{const{hasWorkspacePermission:e,isLoading:t}=Bx(fa.CrudProject);return{canCreate:e,isLoading:t}},iqe=e=>{var i,s;const{hasWorkspacePermission:t,isLoading:n}=Bx(fa.CrudProject);return{canEdit:(s=t&&((i=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:i.can_write))!=null?s:!1,isLoading:n}},sqe=e=>{var i,s;re();const{hasWorkspacePermission:t,isLoading:n}=Bx(fa.CrudProject);return{canDelete:(s=t&&((i=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:i.can_delete))!=null?s:!1,isLoading:n}};function IV(e,t){return!1}function oqe(e,t){if(t!=null)return zye(e,t)?hg.PROJECT:hg.GPT}function zye(e,t){return so(t)&&NV(e)}function NV(e){return $e(e,"491279851")}function so(e){return(e==null?void 0:e.slice(0,4))==="g-p-"}function Gx(e){return e!=null&&!so(e)}function aqe(e,t){return!Gx(e)&&!t}function X_(e){return so(e.gizmo.id)}function Yye(e){return X_(e)&&e.gizmo.share_recipient===mt.Private&&e.gizmo.sharing.subjects.length===0}function Kye(e){return X_(e)&&!Yye(e)}function cqe(e,t){return!(vn.getItem(en.TasksHasSeenProjectDisclaimerBanner)!=null)&&e===Hye&&X_(t)&&t.files.length>0}const Jye=Lr(()=>Oe(void 0));function lqe({gizmo:e,user_id:t}){return e.gizmo.author.user_id===t?!0:e.gizmo.sharing.subjects.some(n=>n.type===Bt.USER&&n.user_id===t)}const N1={},Xye=["added","updated","removed"];let e2=!1;function Qye(e,t){e2||(e2=!0,t.getQueryCache().subscribe(n=>{var i,s;const r=n.query.queryHash;if(n.query.state.status==="success"&&r in N1&&Xye.includes(n.type)){const{cacheKey:o,cacheVersion:a}=N1[r];Lre((s=(i=She(e))==null?void 0:i.id)!=null?s:null,o,n.query.state.data,a)}}))}function Zye(e,t,n,r,i){Qye(e,t),N1[LB(n)]={cacheKey:r,cacheVersion:i}}function Q_(e,t,n){"use forget";const r=Y.c(5),i=e_(),s=re();if(!i)return;let o;return r[0]!==e||r[1]!==t||r[2]!==s||r[3]!==n?(o=RV(s,e,t,n),r[0]=e,r[1]=t,r[2]=s,r[3]=n,r[4]=o):o=r[4],o}function RV(e,t,n,r){const i=at(e),s=on(e);return Zye(e,s,r,t,n),()=>{var a;const o=Dre((a=i==null?void 0:i.id)!=null?a:null,t,n);if(o!=null)return o}}function ebe(e,t){var r,i,s;const n=(s=(i=(r=Ic(e))==null?void 0:r.account)==null?void 0:i.id)!=null?s:null;jre(n,t)}const tbe="q",uqe="disable_auto_send",dqe="author",PV="owner_user_id",t2="tab";function fqe(e,t={}){const{gizmo:n,project:r,ownerUserId:i,accountUserId:s,superWidgetTab:o}=t;if(n&&r)throw new Error("Cannot provide both GPT and project");if(n&&!Gx(n.gizmo.id))throw new Error("Invalid gizmo ID");if(r&&!so(r.id))throw new Error("Invalid project ID ".concat(r.id));const a=new URLSearchParams;if(r&&i&&i!==s){a.set(PV,i),o&&a.set(t2,o);const d="".concat(nc(n2(r)),"/shared/c/").concat(e,"?").concat(a.toString());return Qd(d).toString()}let c="/c/".concat(e);r?c="".concat(nc(n2(r)),"/c/").concat(e):n&&(c="".concat(nc(vf(n)),"/c/").concat(e)),o&&a.set(t2,o);const l=a.toString(),u=l?"".concat(c,"?").concat(l):c;return Qd(u).toString()}function hqe(e,t,n){const r="".concat(nc(vf(t)),"/shared/c/").concat(e,"?").concat(PV,"=").concat(n);returnwindow.location.origin.concat(r)}function vf(e){var t,n;return(n=(t=e.gizmo.short_url)!=null?t:e.gizmo.id)!=null?n:"-"}function n2(e){var t,n;return(n=(t=e.short_url)!=null?t:e.id)!=null?n:"-"}function nc(e){return"/g/".concat(e)}function pqe(){return"/gpts"}function mqe(){return"/schedules"}function gqe(){return"/gpts/mine"}function kV(e){return e?"/gpts/editor/".concat(e):"/gpts/editor"}function _qe(e){const t=nbe();return e==null?t:kV(e)}function nbe(e){return kV(e)}function rbe(e){if(!e)return null;try{return new URL(e).hostname}catch(t){return null}}function vqe(e){const t=rbe(e);return t?t.replace(/^www\./,""):e}const Z_="client-correlated-secret";function r2(){const e=localStorage.getItem(Z_);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function MV(){r2()==null&&localStorage.setItem(Z_,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=r2();if(t==null)throw new Error("Failed to get key from storage");return t}function ibe(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function sbe(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function obe(e){const t=new URL(e),n=Yt({queryKey:[Z_,"generate-challenge",e.search],queryFn:async()=>sbe(await crypto.subtle.sign("HMAC",await MV(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function yqe(){const e=location==null?void 0:location.search,t=location==null?void 0:location.hash;return Yt({queryKey:[Z_,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await MV(),ibe(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}class jt{static getMyGizmos(){return st("gizmo_api.get_my_gizmos",()=>Ze.get("".concat(Je,"/gizmos?mine=true")))}static getGizmosByUser(t){return st("gizmo_api.get_gizmos_by_user",()=>Ze.get("".concat(Je,"/gizmos/u/").concat(t)))}static getGizmo(t,n){const r=n?"?draft=true":"";return st("gizmo_api.get_gizmo",()=>Ze.get("".concat(Je,"/gizmos/").concat(t).concat(r)))}static getGizmoPublic(t){return st("gizmo_api.get_gizmo_public",()=>Zre.safeGet("/gizmos/{gizmo_id_or_short_url}",{parameters:{path:{gizmo_id_or_short_url:t}},authOption:Xt.Anonymous}))}static shareGizmo(t,n){return st("gizmo_api.share",()=>Ze.post("".concat(Je,"/gizmos/").concat(t,"/share"),n))}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),st("gizmo_api.discovery",()=>Ze.get(n?"".concat(Bp,"/gizmos/discovery_anon?").concat(r):"".concat(Bp,"/gizmos/discovery?").concat(r),{authOption:Xt.SendIfAvailable}))}static async getGizmoDiscoveryCut(t,n){const r=s=>{const o={};s!=null&&(o.cursor=s),(n==null?void 0:n.limit)!=null&&(o.limit="".concat(n.limit)),(n==null?void 0:n.locale)!=null&&(o.locale=n.locale);const a="".concat(Bp,"/gizmos/discovery/").concat(t);return st("gizmo_api.discovery",()=>Ze.get(a,{params:o,authOption:Xt.SendIfAvailable}))},i=await r(n==null?void 0:n.cursor);return i.list.items.length===0&&i.list.cursor!=null?(await new Promise(s=>setTimeout(s,Math.random()*30)),await r(i.list.cursor)):i}static getGizmoBootstrap(t){return st("gizmo_api.bootstrap",()=>Ze.get("".concat(Je,"/gizmos/bootstrap?limit=").concat(t)))}static getGizmoPinned(){return st("gizmo_api.pinned",()=>Ze.get("".concat(Je,"/gizmos/pinned")))}static getGizmoSearch(t,n=null){return n?st("gizmo_api.search_with_cursor",()=>Ze.get("".concat(Je,"/gizmos/search?q=").concat(t,"&cursor=").concat(n," "))):st("gizmo_api.search",()=>Ze.get("".concat(Je,"/gizmos/search?q=").concat(t)))}static getGizmoSearchForWorkspace(t,n=null){return n?st("gizmo_api.search_workspace_cursor",()=>Ze.get("".concat(Je,"/gizmos/search?q=").concat(t,"&workspace_only=true&cursor=").concat(n))):st("gizmo_api.search_workspace",()=>Ze.get("".concat(Je,"/gizmos/search?q=").concat(t,"&workspace_only=true")))}static async postGizmoAppeal(t,n,r,i,s){await st("gizmo_api.appeal",()=>Ze.post("".concat(Je,"/gizmos/").concat(n,"/appeal"),{reason:r,share_recipient:i,categories:s})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await st("gizmo_api.cancel_appeal",()=>Ze.post("".concat(Je,"/gizmos/").concat(n,"/cancel_appeal"),{})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?st("gizmo_api.upsert_gizmo",()=>Ze.post("".concat(Je,"/gizmos?gizmo_id=").concat(n),t)):st("gizmo_api.upsert_gizmo",()=>Ze.post("".concat(Je,"/gizmos"),t))}static promoteDraft(t,n){return st("gizmo_api.promote",()=>Ze.post("".concat(Je,"/gizmos/").concat(n,"/promote"),t))}static deleteGizmo(t){return st("gizmo_api.delete_gizmos",()=>Z.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}}))}static getBuilderProfile(){return st("gizmo_api.gizmo_creator_profile",()=>Ze.get("".concat(Je,"/gizmo_creator_profile")))}static updateBuilderProfile(t){return st("gizmo_api.gizmo_creator_profile",()=>Ze.post("".concat(Je,"/gizmo_creator_profile"),t))}static unverifySocialAuth(t){return st("gizmo_api.delete_socials",()=>Z.safeDelete("/gizmo_creator_profile/socials/{verifier_type}",{parameters:{path:{verifier_type:t}}}))}static async updateGizmoSidebar(t,n,r,i,s){const o=await st("gizmo_api.update_sidebar",()=>Ze.post("".concat(Je,"/gizmos/").concat(r,"/sidebar"),{action:i}));switch(i){case"keep":we.logEvent("Sidebar Gizmo Keep",{location:s}),n.handleGizmoSidebarKeep(t,r);break;case"hide":we.logEvent("Sidebar Gizmo Hide",{location:s}),n.handleGizmoSidebarHide(t,r);break}return o}static async removeFromRecent(t,n){const r=await st("gizmo_api.remove_recent",()=>Ze.post("".concat(Je,"/gizmos/").concat(n,"/remove_recent"),{}));return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return st("gizmo_api.fetch_openapi",()=>Ze.post("".concat(Je,"/gizmos/fetch_openapi"),{url:t}))}static validateOpenAPISpec(t){return st("gizmo_api.validate_openapi",()=>Ze.post("".concat(Je,"/gizmos/validate_openapi"),{raw_spec:t}))}static transformToOpenAPISpec(t,n){return st("gizmo_api.transform_openapi",()=>Ze.post("".concat(Je,"/gizmos/transform_openapi"),I(S({},t),{auth:n})))}static async doOAuthRedirect(t,n,r,i,s){const o=await st("gizmo_api.oauth_redirect",()=>Ze.post("".concat(Je,"/gizmos/oauth_redirect"),{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:i,draft:s}));window.location.href=o.redirect_uri}static async upsertUserActionSettings(t,n,r){return st("gizmo_api.action_settings",()=>Ze.post("".concat(Je,"/gizmos/action_settings"),{gizmo_action_id:t,domain:n,action_settings:r}))}static async getUserActionSettings(t){return st("gizmo_api.user_action_settings",()=>Ze.get("".concat(Je,"/gizmos/user_action_settings?gizmo_id=").concat(t)))}static async generateCategory(t,n){return st("gizmo_api.gen_category",()=>Ze.post("".concat(Je,"/gizmos/gen_category"),{name:t,instructions:n}))}static async getConversations(t,n=null){return st("gizmo_api.conversations",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/conversations"),{params:S({},n?{cursor:n}:{})}))}static async getProjectConversations(t,n=null){return st("gizmo_api.conversations",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/conversations"),{params:S({},n?{cursor:n}:{})}))}static async getCategories(){return st("gizmo_api.categories",()=>Ze.get("".concat(Je,"/gizmos/categories")))}static async getUserReview(t){return st("gizmo_api.get_gizmo_reviews",()=>Ze.get("".concat(Je,"/gizmo_reviews/").concat(t)))}static async upsertUserReview(t,n,r,i){return st("gizmo_api.upsert_gizmo_reviews",()=>Ze.post("".concat(Je,"/gizmo_reviews/").concat(t),{rating:n,message:r,include_from:i}))}static async sendFeedbackEmail(t,n,r){return st("gizmo_api.feedback",()=>Ze.post("".concat(Je,"/gizmos/").concat(t,"/feedback"),{message:n,include_from:r}))}static async getAbout(t){return st("gizmo_api.about",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/about")))}static async getCreatorSlice({creatorId:t}){return st("gizmo_api.gizmo_creators",()=>Ze.get("".concat(Je,"/gizmo_creators/").concat(t,"/gizmos")))}static async getVersion({gizmoId:t,version:n}){return n==null?st("gizmo_api.latest_version",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/version/latest"))):st("gizmo_api.version",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/version/").concat(n)))}static async listVersions({gizmoId:t,limit:n,cursor:r}){const i={};return n&&(i.limit=n),r&&(i.cursor=r),st("gizmo_api.versions",()=>Ze.get("".concat(Je,"/gizmos/").concat(t,"/versions"),{params:i}))}static async copyGizmo({gizmoId:t}){return st("gizmo_api.copy",()=>Ze.post("".concat(Je,"/gizmos/").concat(t,"/copy")))}}async function st(e,t){return Q.addAction("".concat(e,".start")),t().catch(n=>{throw Q.addAction("".concat(e,".failure"),{error:n}),n})}async function abe(){const e=await Z.safeGet("/me",{authOption:Xt.SendIfAvailable});return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created,phone_number:e.phone_number,first_name:e.first_name,email_domain_type:["government","professional","education","social","unknown","missing"].includes(e.email_domain_type)?e.email_domain_type:"unknown"}}const DV=bn({queryKey:["user"],queryFn:abe,staleTime:1/0}),cbe=Ge(e=>Cn(e,()=>DV));function bqe(){"use forget";const e=Y.c(2),t=re();let n;return e[0]!==t?(n=()=>cbe(t).data,e[0]=t,e[1]=n):n=e[1],Ue(n)}const lbe={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function ube(e){"use forget";const t=Y.c(3),n=re();let r;return t[0]!==n||t[1]!==e?(r=()=>{const i=(()=>{var a,c;const{data:s}=gh(n);if(s==null)return lbe;const o=Dr(n);return{currentWorkspace:(a=o==null?void 0:o.data)!=null?a:null,subscriptionStatus:(c=o==null?void 0:o.data.subscriptionStatus)!=null?c:null,workspaces:s.accountItems.map(dbe)}})();return e?e(i):i},t[0]=n,t[1]=e,t[2]=r):r=t[2],Ue(r)}function dbe(e){return e.data}const Cqe={isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===Zn.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>ih(e==null?void 0:e.planType),isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&u_(e.planType),isTeamPlan:({subscriptionStatus:e})=>(e==null?void 0:e.planType)===Te.SELF_SERVE_BUSINESS,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,businessWorkspaceId:({currentWorkspace:e})=>(e==null?void 0:e.structure)===Zn.WORKSPACE?e.id:void 0,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e==null?void 0:e.accountUserId};function Eqe(){"use forget";var e;return(e=ys())==null?void 0:e.data.subscriptionStatus.lastActiveSubscription}function Sqe(e){return e.email_domain_type==="professional"||e.email_domain_type==="government"||e.email_domain_type==="unknown"}function Oqe(e){return e.email_domain_type==="professional"||e.email_domain_type==="unknown"}const Wx=e=>{var c,l;const t=re(),n=ys(),r=n==null?void 0:n.getWorkspaceId(),i=qye(t),{data:s,isLoading:o}=dx(r);if(!(n!=null&&n.isWorkspaceAccount()))return{hasWorkspacePermission:!0,isLoading:!1};const a=(l=(c=s==null?void 0:s.permissions)==null?void 0:c.includes(e))!=null?l:!1;return{hasWorkspacePermission:i?a:!0,isLoading:o}},Tqe=()=>{const e=ys(),{hasWorkspacePermission:t,isLoading:n}=Wx(fa.CrudGPT);return{canCreate:(e==null?void 0:e.hasPaidFeatures())&&t,isLoading:n}};function wqe(e){var i,s;const{hasWorkspacePermission:t,isLoading:n}=Wx(fa.CrudGPT);return{canDelete:(s=t&&((i=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:i.can_delete))!=null?s:!1,isLoading:n}}function Aqe(e){var i,s;const{hasWorkspacePermission:t,isLoading:n}=Wx(fa.CrudGPT);return{canEdit:(s=t&&((i=e==null?void 0:e.gizmo.current_user_permission)==null?void 0:i.can_write))!=null?s:!1,isLoading:n}}function xqe(e){var t,n;return{canViewConfig:(n=(t=e.gizmo.current_user_permission)==null?void 0:t.can_view_config)!=null?n:!1}}function fbe(e,t,n){const r=t==null?void 0:t.name;switch(e){case mt.Link:return n.formatMessage(yp.privacyAnyoneWithLink);case mt.Private:return n.formatMessage(yp.privacyOnlyMe);case mt.Group:case mt.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case mt.Marketplace:return n.formatMessage(yp.privacyMarketplace);case mt.Workspace:return n.formatMessage(yp.privacyWorkspace,{workspaceName:r});case mt.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function Iqe(e){const t=gt(),n=ube(r=>r.currentWorkspace);return fbe(e,n,t)}function hbe(e){return"gizmo"in e}function pbe(e){return"id"in e}function Nqe(e){return"".concat(e.replaceAll(".","_").replaceAll("-","_"),"__jit_plugin")}const yp=Tt({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),Rqe="GPT Builder",LV="gizmo-bootstrap",jV=1;function Pqe(e){if(e)return"ChatGPT - ".concat(e)}function kqe(e){returnwindow.location.origin.concat(nc(e))}function mbe(e,t){return $e(e,"491279851")&&so(t.gizmo.id)?Qd("".concat(nc(vf(t)),"/project")):Qd(nc(vf(t)))}function Mqe(e,t,n){"use forget";const r=Y.c(4);let i;if(r[0]!==e||r[1]!==t||r[2]!==n){const s=mbe(e,t);i=new URL(s,window.location.origin),n!=null&&i.searchParams.set(tbe,n),r[0]=e,r[1]=t,r[2]=n,r[3]=i}else i=r[3];return obe(i)}function Dqe(e){return"/g/".concat(vf(e))}function Lqe(e){return hbe(e)&&e.gizmo.live_version===0||pbe(e)&&e.liveVersion===0}function jqe(e,t){"use forget";const n=Y.c(3);let r;return n[0]!==t||n[1]!==e?(r={queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:()=>jt.getGizmoDiscovery(e,t)},n[0]=t,n[1]=e,n[2]=r):r=n[2],Yt(r)}function Fqe(e){"use forget";const t=Y.c(10),{cutId:n,locale:r,limit:i,cursor:s,enabled:o}=e,a=o===void 0?!0:o;let c,l;t[0]!==n||t[1]!==i||t[2]!==r?(c=["gizmos","discovery",{cutId:n,locale:r,limit:i}],l=d=>{const{pageParam:f}=d;return jt.getGizmoDiscoveryCut(n,{locale:r,cursor:f,limit:i})},t[0]=n,t[1]=i,t[2]=r,t[3]=c,t[4]=l):(c=t[3],l=t[4]);let u;return t[5]!==s||t[6]!==a||t[7]!==c||t[8]!==l?(u={queryKey:c,queryFn:l,initialPageParam:s,getNextPageParam:gbe,enabled:a},t[5]=s,t[6]=a,t[7]=c,t[8]=l,t[9]=u):u=t[9],ta(u)}function gbe(e){var t;return(t=e.list.cursor)!=null?t:void 0}const Uqe=Ge(e=>Cn(e,()=>bn({queryKey:["gizmos","discovery",{cutId:"recent",limit:20}],queryFn:()=>jt.getGizmoDiscoveryCut("recent",{limit:20}),enabled:St(e)}))),Bqe=Ge(e=>Cn(e,()=>bn({queryKey:["gizmos","pinned"],enabled:St(e),queryFn:jt.getGizmoPinned})));function rc(e=2){return bn({queryKey:["gizmos","bootstrap"],experimental_prefetchInRender:!0,queryFn:async()=>jt.getGizmoBootstrap(e).then(t=>(Q.addFirstTiming("load.gizmoBootstrap"),{gizmos:Object.values(t).flat().filter(r=>r).filter(r=>{var i;return((i=r.resource.gizmo)==null?void 0:i.gizmo_type)!==hg.PROJECT}).map(r=>({resource:r.resource,flair:r.flair}))}))})}const Gqe=Ge(e=>Cn(e,rc));function Wqe(){"use forget";const e=Y.c(5),t=re(),r=$e(t,"1524046265")?20:2;let i;e[0]!==r?(i=rc(r),e[0]=r,e[1]=i):i=e[1];const s=i,o=Q_(LV,jV,s.queryKey);let a;return e[2]!==o||e[3]!==s?(a=I(S({},s),{initialData:o}),e[2]=o,e[3]=s,e[4]=a):a=e[4],Yt(a)}function qqe(){"use forget";const e=Y.c(5),t=re(),r=$e(t,"1524046265")?20:2;let i;e[0]!==r?(i=rc(r),e[0]=r,e[1]=i):i=e[1];const s=i,o=Q_(LV,jV,s.queryKey);let a;return e[2]!==o||e[3]!==s?(a=I(S({},s),{initialData:o}),e[2]=o,e[3]=s,e[4]=a):a=e[4],dJ(a)}function i2(e,t){const n=e.filter(i=>i.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(i=>i.flair.kind===yl.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const Vqe={handleGizmoInteracted(e,t){const n=e.getQueryData(yn(e,t).queryKey);n==null||so(t)||e.setQueryData(rc().queryKey,r=>{if(r==null)return r;const i=r.gizmos.find(s=>s.resource.gizmo.id===t);return(i==null?void 0:i.flair.kind)===yl.FirstParty||(i==null?void 0:i.flair.kind)===yl.SidebarKeep?r:{gizmos:i2(r.gizmos,{resource:n,flair:{kind:yl.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(yn(e,t).queryKey);n!=null&&e.setQueryData(rc().queryKey,r=>r==null?r:{gizmos:i2(r.gizmos,{resource:n,flair:{kind:yl.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(rc().queryKey,n=>n!=null&&n.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}},_be=Sh((e,t)=>Cn(e,()=>yn(on(e),t,!1,!St(e)))),$qe=Sh((e,t)=>Cn(e,()=>yn(on(e),t,!0,!St(e))));function Hqe(e,t){"use forget";const n=Y.c(7),r=t===void 0?!1:t,i=ln(),s=re();let o;n[0]!==s?(o=St(s),n[0]=s,n[1]=o):o=n[1];const a=!o;let c;return n[2]!==r||n[3]!==e||n[4]!==a||n[5]!==i?(c=yn(i,e,r,a),n[2]=r,n[3]=e,n[4]=a,n[5]=i,n[6]=c):c=n[6],Yt(c)}function zqe(e){"use forget";const t=Y.c(3),n=ln();let r;return t[0]!==e||t[1]!==n?(r=yn(n,e),t[0]=e,t[1]=n,t[2]=r):r=t[2],Yt(r)}const Yqe=e=>{"use forget";const t=Y.c(9),{gizmoId:n,limit:r,cursor:i}=e;let s;t[0]!==i||t[1]!==n||t[2]!==r?(s=["gizmo","versions",{gizmoId:n,limit:r,cursor:i}],t[0]=i,t[1]=n,t[2]=r,t[3]=s):s=t[3];let o;t[4]!==n?(o=()=>jt.listVersions({gizmoId:n}),t[4]=n,t[5]=o):o=t[5];let a;return t[6]!==s||t[7]!==o?(a={queryKey:s,queryFn:o},t[6]=s,t[7]=o,t[8]=a):a=t[8],Yt(a)};function Kqe(e){"use forget";const t=Y.c(5),{gizmoId:n,draft:r,version:i}=e,s=ln();let o;return t[0]!==r||t[1]!==n||t[2]!==s||t[3]!==i?(o=i?{queryKey:["gizmo","version",{gizmoId:n,version:i}],queryFn:()=>jt.getVersion({gizmoId:n,version:i}),enabled:n!=null}:yn(s,n,r),t[0]=r,t[1]=n,t[2]=s,t[3]=i,t[4]=o):o=t[4],Yt(o)}function Jqe(e,t){"use forget";const n=Y.c(7);let r,i;n[0]!==e?(r=["gizmo","userActionSettings",{gizmoId:e}],i=()=>jt.getUserActionSettings(e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const s=e!=null&&t;let o;return n[3]!==r||n[4]!==i||n[5]!==s?(o={queryKey:r,queryFn:i,enabled:s},n[3]=r,n[4]=i,n[5]=s,n[6]=o):o=n[6],Yt(o)}function yn(e,t,n=!1,r=!1){return bn({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>r?jt.getGizmoPublic(t):jt.getGizmo(t,n),enabled:t!=null,initialData:()=>{var o,a;if(n===!0)return;const i=e.getQueryData(rc().queryKey);if(i!=null)return(o=i.gizmos.find(c=>c.resource.gizmo.id===t))==null?void 0:o.resource;const s=e.getQueryData(["gizmos","discovery"]);if(s!=null)for(const c of s.cuts){const l=(a=c.list.items.find(u=>u.resource.gizmo.id===t))==null?void 0:a.resource;if(l!=null)return l}}})}function Xqe(e,t){return e.fetchQuery(yn(e,t))}function Qqe(e){"use forget";const t=Y.c(7);let n,r;t[0]!==e?(n=["gizmo",{search:e}],r=()=>jt.getGizmoSearch(e),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const i=e.length>0;let s;return t[3]!==n||t[4]!==r||t[5]!==i?(s={queryKey:n,queryFn:r,enabled:i},t[3]=n,t[4]=r,t[5]=i,t[6]=s):s=t[6],Yt(s)}function Zqe(e,t){"use forget";const n=Y.c(7);let r,i;n[0]!==e?(r=["gizmo-search-workspace",{search:e}],i=()=>jt.getGizmoSearchForWorkspace(e),n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const s=e.length>0&&t;let o;return n[3]!==r||n[4]!==i||n[5]!==s?(o={queryKey:r,queryFn:i,enabled:s},n[3]=r,n[4]=i,n[5]=s,n[6]=o):o=n[6],Yt(o)}function e7e(e,t,n,r){"use forget";const i=Y.c(14),s=t===void 0?!1:t,o=n===void 0?!1:n,a=r===void 0?null:r,c=o?"gizmo-search-workspace":"gizmo";let l;i[0]!==a||i[1]!==e?(l={query:e,cursor:a},i[0]=a,i[1]=e,i[2]=l):l=i[2];let u;i[3]!==c||i[4]!==l?(u=[c,l],i[3]=c,i[4]=l,i[5]=u):u=i[5];let d;i[6]!==e||i[7]!==o?(d=h=>{const{pageParam:p}=h;return o?jt.getGizmoSearchForWorkspace(e,p):jt.getGizmoSearch(e,p)},i[6]=e,i[7]=o,i[8]=d):d=i[8];let f;return i[9]!==a||i[10]!==s||i[11]!==u||i[12]!==d?(f={queryKey:u,queryFn:d,initialPageParam:a,getNextPageParam:vbe,enabled:s},i[9]=a,i[10]=s,i[11]=u,i[12]=d,i[13]=f):f=i[13],ta(f)}function vbe(e){var t;return(t=e.cursor)!=null?t:void 0}function t7e(){"use forget";const e=Y.c(2),t=ln();let n;return e[0]!==t?(n={mutationFn:ybe,onSettled:r=>{r&&(t.setQueryData(yn(t,r.gizmo.id,!0).queryKey,r),t.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}},e[0]=t,e[1]=n):n=e[1],un(n)}function ybe(e){const{gizmoId:t,editorData:n}=e,{instructions:r,name:i,description:s,emoji:o,theme:a,profilePictureId:c,profilePictureUrl:l,promptStarters:u,tools:d,files:f,defaultModel:h,trainingDisabled:p}=n,m={instructions:r,display:{name:i,description:s,emoji:o,theme:a,profile_pic_id:c,profile_picture_url:l,prompt_starters:u},tools:d,files:f.map(bbe),training_disabled:p,default_model:h!=null?h:void 0};return jt.upsertDraft(m,t)}function bbe(e){return I(S({},e),{location:Ux.FILE_SERVICE})}function n7e(){"use forget";const e=Y.c(2),t=ln();let n;return e[0]!==t?(n={mutationFn:Cbe,onSettled:r=>{t.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),t.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),r&&t.setQueryData(yn(t,r.gizmo.id,!1).queryKey,r)}},e[0]=t,e[1]=n):n=e[1],un(n)}async function Cbe(e){const{gizmoId:t,data:n}=e,{sharingRecipient:r,categories:i}=n,s=await jt.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:i},t);if(s.error)throw new wV(s);return s.resource}function r7e(){"use forget";const e=Y.c(2),t=ln();let n;return e[0]!==t?(n={mutationFn:Ebe,onSettled:()=>{t.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}},e[0]=t,e[1]=n):n=e[1],un(n)}async function Ebe(e){const{gizmoId:t}=e;return jt.deleteGizmo(t)}function i7e(){"use forget";const e=Y.c(7),t=ln(),n=En();let r;e[0]!==t?(r=o=>{t.setQueryData(["builderProfile"],o)},e[0]=t,e[1]=r):r=e[1];let i;e[2]!==n?(i=o=>{n.warning(o.message)},e[2]=n,e[3]=i):i=e[3];let s;return e[4]!==r||e[5]!==i?(s={mutationFn:Sbe,onSuccess:r,onError:i},e[4]=r,e[5]=i,e[6]=s):s=e[6],un(s)}function Sbe(e){const{name:t,hideName:n,websiteUrl:r,willReceiveSupportEmails:i}=e;return jt.updateBuilderProfile({name:t,hide_name:n,website_url:r,will_receive_support_emails:i})}function s7e(){"use forget";const e=Y.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["builderProfile"],queryFn:Obe},e[0]=t):t=e[0],Yt(t)}function Obe(){return jt.getBuilderProfile()}function o7e(){"use forget";const e=Y.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:Tbe},e[0]=t):t=e[0],un(t)}function Tbe(e){const{gizmoId:t}=e;return jt.copyGizmo({gizmoId:t})}function a7e(){"use forget";const e=Y.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["gizmoCategories"],queryFn:wbe},e[0]=t):t=e[0],Yt(t)}function wbe(){return jt.getCategories()}function c7e(e,t,n){const r=$e(e,"2632917233");return!!(n!=null&&[zs.PrimaryAssistant,zs.GizmoInteraction].includes(n)&&(r||t!=null&&t.includes(cG.GPT_4)))}function l7e(e,t){"use forget";const n=Y.c(12),r=ln(),i=En();let s;n[0]!==e?(s=async l=>{const{rating:u,message:d,includeFrom:f}=l;await jt.upsertUserReview(e,u,d,f)},n[0]=e,n[1]=s):s=n[1];let o;n[2]!==e||n[3]!==t||n[4]!==r?(o=()=>{r.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},n[2]=e,n[3]=t,n[4]=r,n[5]=o):o=n[5];let a;n[6]!==i?(a=l=>{i.danger(l.message,{toastId:"gizmo_review_error",loggingTitle:"useUpsertUserReviewMutation",loggingDescription:l.message})},n[6]=i,n[7]=a):a=n[7];let c;return n[8]!==s||n[9]!==o||n[10]!==a?(c={mutationFn:s,onSuccess:o,onError:a},n[8]=s,n[9]=o,n[10]=a,n[11]=c):c=n[11],un(c)}function FV(e,t){if(t!=null)return e.models.get(t)}function Abe(e){return FV(e,e.defaultModelSlug)}const tm=ut(e=>{var i;const t=St(e),n=(i=at(e))==null?void 0:i.hasPaidFeatures(),r=t?n?[s2(e),Rbe(),Pbe(),kbe(),Mbe()]:[Nbe(),s2(e)]:[Ibe()];return{title:n?"GPT-5":"ChatGPT",secondaryTitle:"",modelPickerVersion:t?2:1,defaultModelSlug:UV(e),categories:r,groups:[],models:xbe(Dbe(e),Lbe(e),jbe(e),Fbe(e),Ube(e),Bbe(e),Gbe(),Wbe(e),qbe(e),Vbe(e),$be(e),Hbe(e))}});function UV(e){var n;return((n=at(e))==null?void 0:n.hasPaidFeatures())?"gpt-5":"auto"}function xbe(...e){return new Map(e.map(t=>[t.id,t]))}const Ibe=()=>({categoryId:"auto",color:"#000000",defaultModel:"auto",description:"",label:"Auto",shortLabel:"",shorterLabel:"",tagline:"",subscriptionLevel:sa.FREE,renderHeaderType:oa.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.AUDIO,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),Nbe=()=>({categoryId:"auto_acd64",color:"#000000",defaultModel:"auto",description:"",label:"Auto",shortLabel:"",shorterLabel:"",tagline:"",subscriptionLevel:sa.FREE,renderHeaderType:oa.SHORT_LABEL,supportedFeatures:[Be.AUDIO,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),s2=e=>{var t;return{categoryId:"gpt_5_auto",color:"#5B41F9",defaultModel:"gpt-5",description:"",label:(t=at(e))!=null&&t.hasPaidFeatures()?"Auto":"GPT-5",shortLabel:"5",shorterLabel:"5",tagline:"",subscriptionLevel:sa.FREE,renderHeaderType:oa.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.CANVAS_SUPPORTED,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:["gpt-5"],slashCommandEnabled:!1,disabledByAdmin:!1}},Rbe=()=>({categoryId:"gpt_5_instant",color:"#5B41F9",defaultModel:"gpt-5-instant",description:"",label:"Instant",shortLabel:"5 Instant",shorterLabel:"5 Instant",tagline:"",subscriptionLevel:sa.PLUS,renderHeaderType:oa.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.CANVAS_SUPPORTED,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:["gpt-5-instant"],slashCommandEnabled:!1,disabledByAdmin:!1}),Pbe=()=>({categoryId:"gpt_5_reasoning",color:"#5B41F9",defaultModel:"gpt-5-thinking",description:"",label:"Thinking",shortLabel:"5 Thinking",shorterLabel:"5 Thinking",tagline:"",subscriptionLevel:sa.PLUS,renderHeaderType:oa.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.CANVAS_SUPPORTED,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:["gpt-5-thinking"],slashCommandEnabled:!0,disabledByAdmin:!1}),kbe=()=>({categoryId:"gpt_5_pro",color:"#5B41F9",defaultModel:"gpt-5-pro",description:"",label:"Pro",shortLabel:"5 Pro",shorterLabel:"5 Pro",tagline:"",subscriptionLevel:sa.PLUS,renderHeaderType:oa.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),Mbe=()=>({categoryId:"AG8PqS2q",color:"#00BCE5",defaultModel:"gpt-4o",description:"",label:"GPT-4o",shortLabel:"4o",shorterLabel:"4o",subcategory:"Legacy models",tagline:"",subscriptionLevel:sa.PLUS,renderHeaderType:oa.SHORT_LABEL,supportedFeatures:[Be.ATTACHMENT,Be.AUDIO,Be.CANVAS_SUPPORTED,Be.CUSTOM_INSTRUCTIONS,Be.GIZMO_PROJECT,Be.IMAGE,Be.TARGETED_REPLY,Be.TOOL_SEARCH,Be.TOOL_USE],supportedModels:[],slashCommandEnabled:!0,disabledByAdmin:!1}),BV=(e,t)=>({id:t,maxTokens:10240,title:t,description:"",tags:[],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.OFF,enabledTools:li(e)}),Dbe=e=>({id:"auto",maxTokens:St(e)?16384:10240,title:"Auto",description:"",tags:["history_off_approved","gpt4","gpt4o"],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.OFF,enabledTools:li(e)}),Lbe=e=>{var t;return{id:"gpt-5",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT-5",description:"",tags:["gpt4","history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.AUTO,enabledTools:li(e)}},jbe=e=>{var t;return{id:"gpt-5-instant",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT-5 Instant",description:"",tags:["gpt4","history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.OFF,enabledTools:li(e)}},Fbe=e=>{var t;return{id:"gpt-5-thinking",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?4e5:16384,title:"GPT-5 Thinking",description:"",tags:["history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.ON,enabledTools:li(e),configurableThinkingEffort:!0}},Ube=e=>{var t;return{id:"gpt-5-mini",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:16384,title:"GPT-5-mini",description:"",tags:["gpt4o","gpt3.5","gpt4","history_off_approved"],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.OFF,enabledTools:li(e)}},Bbe=e=>{var t;return{id:"gpt-5-t-mini",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?196608:16384,title:"GPT-5 Thinking Mini",description:"",tags:["history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.ON,enabledTools:li(e)}},Gbe=()=>({id:"gpt-5-pro",maxTokens:209608,title:"GPT-5 Pro",description:"",tags:["history_off_approved"],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.PRO,enabledTools:["tools","tools2","search"]}),Wbe=e=>{var t;return{id:"gpt-4o",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:10240,title:"GPT-4o",description:"",tags:["history_off_approved","gpt4","gpt4o"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.OFF,enabledTools:li(e)}},qbe=e=>{var t;return{id:"gpt-4-1",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?128e3:10240,title:"GPT-4.1",description:"",tags:["history_off_approved","gpt4"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.OFF,enabledTools:li(e)}},Vbe=e=>({id:"gpt-4-1-mini",maxTokens:8191,title:"GPT-4.1-mini",description:"",tags:["gpt3.5","history_off_approved","gpt4","gpt4o"],product_features:{attachments:Ur},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.OFF,enabledTools:li(e,{noCanvas:!0})}),$be=e=>({id:"o3",maxTokens:196608,title:"o3",description:"",tags:["history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.ON,enabledTools:li(e)}),Hbe=e=>{var t;return{id:"o4-mini",maxTokens:(t=at(e))!=null&&t.hasPaidFeatures()?196608:16384,title:"o4-mini",description:"",tags:["history_off_approved"],product_features:{attachments:Ur,contextual_answers:{is_eligible_for_contextual_answers:!0}},enableInfer:!1,enableInferOptOut:!1,reasoningType:mr.ON,enabledTools:li(e)}};function li(e,t){var n;return["tools","tools2","search",t!=null&&t.noCanvas?null:"canvas",St(e)?"image_gen_tool_enabled":"dalle_3",(n=at(e))!=null&&n.hasPaidFeatures()?"app_pairing":null].filter(r=>r!=null)}const Ur={type:Ro.Retrieval,can_accept_all_mime_types:!0,image_mime_types:["image/png","image/gif","image/webp","image/jpeg"],accepted_mime_types:["application/javascript","application/json","application/msword","application/pdf","application/rtf","application/toml","application/vnd.apple.keynote","application/vnd.apple.pages","application/vnd.ms-powerpoint","application/vnd.oasis.opendocument.text","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/x-powershell","application/x-rust","application/x-scala","application/x-sql","application/x-yaml","message/rfc822","text/calendar","text/css","text/html","text/javascript","text/jsx","text/markdown","text/plain","text/rtf","text/tsx","text/vbscript","text/x-asm","text/x-astro","text/x-c","text/x-c++","text/x-clojure","text/x-csharp","text/x-dart","text/x-diff","text/x-ejs","text/x-elixir","text/x-erb","text/x-erlang","text/x-go","text/x-groovy","text/x-handlebars","text/x-haskell","text/x-jade","text/x-java","text/x-jinja2","text/x-julia","text/x-kotlin","text/x-liquid","text/x-lisp","text/x-lua","text/x-makefile","text/x-mustache","text/x-objectivec","text/x-objectivec++","text/x-perl","text/x-php","text/x-pug","text/x-python","text/x-r","text/x-rst","text/x-ruby","text/x-rust","text/x-scala","text/x-script.python","text/x-sh","text/x-shellscript","text/x-swift","text/x-tex","text/x-tmpl","text/x-twig","text/x-typescript","text/x-vcard","text/xml"]},GV=e=>WV(e.ctx,{isGizmo:W_(e)!=null}),WV=(e,{isGizmo:t})=>{var n;return(n=qV(e,t).data)!=null?n:tm(e)},zbe=Lr(e=>Ee(()=>{const t=qV(e.ctx,W_(e)!=null);return t.isSuccess&&!t.isStale})),qV=(e,t)=>t?Kbe(e):Ybe(e),Ybe=Ge(e=>VV(e,!1)),Kbe=Ge(e=>VV(e,!0));function VV(e,t){let n;if(t)n=()=>tm(e);else{const i=RV(e,Qae,Zae,NW());n=()=>{var s;return(s=i())!=null?s:tm(e)}}const r=Cn(e,()=>ece({isGizmo:t,IIM:!1,placeholderData:n}),{getServerData:()=>tm(e)});return Jbe(e,r)}function Jbe(e,t){return Ee(()=>{const n=t();return Ere(e)&&n.data?I(S({},n),{data:ace(n.data)}):n})}const XE="model",R1=Lr(e=>Oe(()=>{const t=oA();if(t.searchParams.has(XE)){const n=t.searchParams.get(XE);if(t.searchParams.delete(XE),window.history.replaceState(window.history.state,"",t.toString()),n&&!Fm(e.ctx,n))return n}return null}));function u7e(e,t){R1.set(e,t)}const Xbe=Lr(e=>Ee(()=>{var r,i,s,o,a;const t=e.ctx;if(Qf(t)){const c=QE(e,R1(e));return c!=null?c:o2(t)}return(a=(o=QE(e,R1(e)))!=null?o:QE(e,(s=(i=(r=Cpe(e))!=null?r:Qbe(e))!=null?i:bpe(e)?L7(e.ctx).model:null)!=null?s:GV(e).defaultModelSlug))!=null?a:o2(e.ctx)}));function Qbe(e){var i,s,o,a;const{ctx:t}=e,n=W_(e);if(!n||!Gx(n))return;const r=(i=_be(t,n).data)==null?void 0:i.gizmo;if((s=at(t))!=null&&s.hasPaidFeatures()){const c=(o=tce(t).data)==null?void 0:o.model_override;if(r!=null&&r.default_model)return(a=c==null?void 0:c[r.default_model])!=null?a:r.default_model}if(r!=null&&r.created_at&&new Date(r.created_at)<new Date("2025-08-13"))return"gpt-4o"}const o2=Ge(e=>Ee(()=>{const t=WV(e,{isGizmo:!1}),n=Abe(t);if(n)return n;const{defaultModelSlug:r}=t;return Q.addError(new Error("[models] Could not create default model"),{defaultModelSlug:r}),BV(e,r!=null?r:UV(e))}));function QE(e,t){if(!t||are(e.ctx).some(r=>r.model_slug===t))return;const n=FV(GV(e),t);return!n&&!zbe(e)?BV(e.ctx,t):n}function Zbe(e){return(e==null?void 0:e.data.residencyRegion)!==""&&(e==null?void 0:e.data.residencyRegion)!=="no_constraint"}function xu(){const e=re();return Ue(()=>$V(e))}function $V(e){const t=Dr(e);return Zbe(t)?Zt(e,"3131667714").get("regions",[]).includes(t==null?void 0:t.data.residencyRegion):!0}var HV=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e.SB_1B9A6CB4="sb_1b9a6cb4",e))(HV||{});function Iu(){const e=re();return Ue(()=>qx(e))}function qx(e){return!St(e)||!$V(e)?!1:Zt(e,"1001765573").get("ca_enabled",!1)}function eCe(e){return Zt(e,"1001765573").get("onboarding_paused",!1)}function d7e(){const e=xu(),t=re(),n=Zt(t,"1001765573");return e?{isEnabled:n.get("ca_enabled",!1),isComingSoon:n.get("ca_coming_soon",!1)}:{isEnabled:!1,isComingSoon:!1}}function f7e(){const e=xu(),t=re(),n=Zt(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sk_enabled",!1):!1}function h7e(){const e=xu(),t=re(),n=Zt(t,"1001765573");if(!e)return!1;const r=$e(t,"3881721129");return n.get("ca_enabled",!1)&&n.get("ca_github_sync_enabled",!1)&&r}function p7e(){const e=xu(),t=re(),n=Zt(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sharepoint_sync_enabled",!1):!1}function tCe(e){const t=xu(),n=re(),r=Zt(n,"1001765573");return t?r.get("ca_enabled",!1)&&r.get("ca_".concat(e,"_sync_enabled"),!1):!1}function m7e(e){return Zt(e,"1001765573").get("github_onboarding_paused",!1)}function g7e(){const e=xu(),t=re(),n=Zt(t,"1001765573");return e?n.get("ca_personal_enabled",!1):!1}function _7e(e){const t=Zt(e,"1001765573");if(!t.get("ca_enabled",!1))return null;const r=t.get("feedback_format",null);return r&&Object.values(HV).includes(r)?r:null}const v7e=e=>mh(e,t=>Me.getConversationTurns(t).some(n=>n.messages.some(nCe))),nCe=e=>!!(e.author.role===Ke.Tool&&e.author.name==="file_search"&&e.metadata&&e.metadata.command===uG.Spinner&&e.metadata.retrieval_search_sources&&e.metadata.retrieval_search_sources.some(t=>t.product_type==="contextual_answers"||t.product_type==="slurm"));function y7e(e){return $e(e,"4147309512")}class Qo{static async admin_list_knowledge_connectors(t){return await Z.safeGet("/ca/v2/admin/list_knowledge_connectors",{parameters:{query:{account_id:t}}})}static async admin_list_connection_instances(t){return await Z.safeGet("/ca/v2/admin/list_connection_instances",{parameters:{query:{account_id:t}}})}static async admin_get_connection_instance(t,n){return await Z.safeGet("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_create_connection_instance(t,n,r){return r===""&&(r=null),await Z.safePost("/ca/v2/admin/create_connection_instance",{requestBody:{connection_config:n,connection_name:r!=null?r:null},parameters:{query:{account_id:t}}})}static async admin_request_connect_quickstart(t,n,r){return await Z.safeGet("/ca/v2/admin/request_connect_quickstart",{parameters:{query:{account_id:t,connection_id:n,after_flow_redirect_to:r}}})}static async admin_connect_and_quickstart(t,n,r,i){return await Z.safePost("/ca/v2/admin/connect_and_quickstart",{parameters:{query:{account_id:t}},requestBody:{plugin_id:n,code:r,state:i}})}static async admin_edit_name_connection_instance(t,n,r){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_name",{requestBody:r,parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_activate_connection_instance(t,n){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/activate",{requestBody:{},parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_delete_connection_instance(t,n){return await Z.safeDelete("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_allow_user(t,n,r){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/allow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_disallow_user(t,n,r){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/disallow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_get_access_policy(t,n){return await Z.safeGet("/ca/v2/admin/connection_instance/{connection_id}/get_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_update_access_policy(t,n,r){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{allow_all_in_workspace:r}})}static async admin_connection_update_credential(t,n,{admin_email:r,credential_id:i,new_service_credential_content:s}){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_credential",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{admin_email:r,credential_id:i,new_service_credential_content:s}})}static async admin_connection_list_item_scopes(t,n,r,i=null){return await Z.safeGet("/ca/v2/admin/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:n},query:{page_token:i,account_id:t,object_type:r}}})}static async admin_connection_update_item_default_scope(t,n,r,i){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_item_default_scope",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,default_selection:i}})}static async admin_connection_block_items(t,n,r,i){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:i}})}static async admin_connection_unblock_items(t,n,r,i){return await Z.safePost("/ca/v2/admin/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:i}})}static async user_activate_workspace_connection_and_user({link_id:t,user_extension:n}){return await Z.safePost("/ca/v2/user/activate_workspace_connection_and_user",{requestBody:n?{link_id:t,user_extension:n}:{link_id:t}})}static async user_connection_status(){return await Z.safeGet("/ca/v2/user/connection_status",{})}static async user_connection_list_item_scopes(t,n,r=null){return await Z.safeGet("/ca/v2/user/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:t},query:{page_token:r,object_type:n}}})}static async user_connection_block_items(t,n,r){return await Z.safePost("/ca/v2/user/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_unblock_items(t,n,r){return await Z.safePost("/ca/v2/user/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_sync_configuration(t){return await Z.safeGet("/ca/v2/user/connection_instance/{connection_id}/user_configuration",{parameters:{path:{connection_id:t}}})}static async user_connection_update_sync_configuration(t,n){return await Z.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/user_configuration",{parameters:{path:{synced_knowledge_store_id:t}},requestBody:{extension:n}})}static async user_get_file_picker_token(t){return await Z.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/file_picker_token",{parameters:{path:{synced_knowledge_store_id:t}}})}static async user_request_connect(t,n,r){return await Z.safeGet("/ca/v2/user/request_connect",{parameters:{query:S({connection_id:t,after_flow_redirect_to:n},r?{use_connectors_platform_flow:r}:{})}})}static async user_request_connect_upgrade_to_sync({link_id:t,user_extension:n}){return await Z.safePost("/ca/v2/user/upgrade_to_sync",{requestBody:{link_id:t,user_extension:n}})}static async user_connection_oauth_callback(t,n,r){return await Z.safePost("/ca/v2/user/connect_and_activate",{requestBody:{plugin_id:t,code:n,state:r}})}static async user_delete_sync(t){return await Z.safePost("/ca/v2/user/delete_synced",{requestBody:{link_id:t}})}static async user_disconnect(t){return await Z.safePost("/ca/v2/user/disconnect",{requestBody:{connection_id:t}})}}const b7e=({skip:e=!1}={})=>{const t=re(),{data:n,isLoading:r}=Ue(()=>Cc.if$(t,!e));return{gDriveOAuthConnectionId:E.useMemo(()=>{const s=n==null?void 0:n.connection_statuses;return s&&s.length===1&&s[0].user_connection_details.auth_status==="not_connected"&&s[0].user_connection_details.knowledge_connector_type==="google_drive_oauth"?s[0].user_connection_details.connection_instance_id:null},[n]),refetch:()=>Cc.refetch(t),isLoading:r}},zV=e=>{const{data:t}=Cc(e);return t?YV(t):!1};function YV(e){return e.connection_statuses.some(t=>["partially_activated","activated"].includes(t.user_connection_details.activation_status))}const rCe=1.5,iCe=120*1e3;let KV=0;function a2(e){return Math.min(e*rCe**(KV-1),iCe)}const Cc=Ge(e=>Cn(e,()=>bn({queryKey:["user_connection_status"],queryFn:()=>(KV++,Qo.user_connection_status()),refetchInterval:t=>{const n=t.state.status==="success"&&t.state.data&&!t.state.data.connection_statuses.some(i=>i.user_connection_details.activation_status==="activating"||i.user_connection_details.activation_status==="partially_activated");return t.state.status==="success"&&t.state.data&&t.state.data.connection_statuses.some(i=>(i.user_connection_details.auth_status==="user_connected"||i.user_connection_details.auth_status==="admin_connected")&&!(i.user_connection_details.activation_status==="activating"||i.user_connection_details.activation_status==="partially_activated"||i.user_connection_details.activation_status==="activated"))?a2(2*1e3):n?!1:a2(30*1e3)}}),{enabled$:()=>qx(e)}));function Vx(e){return Cc.refetch(e)}const ev=e=>e!=null;function sCe(e=!1){return["fetchConnectorLinkData",e]}function JV(e,t,n){const r=["fetchPlatformConnectorData",e,!!t];return n!==void 0&&r.push(!!n),r}const C7e=(e,t)=>["connectors",e,t].filter(ev),E7e=(e,t)=>["roles",e,t].filter(ev),S7e=(e,t,n)=>["permissions",e,t,n].filter(ev),O7e=(e,t)=>["connectorTos",e,t].filter(ev),oCe=e=>$e(e,"3999836663");function tv(e){var s,o,a,c;const t=!!((o=(s=Zt(e,"463092697"))==null?void 0:s.value)!=null&&o.enabled),n=!!((c=(a=Zt(e,"1001765573"))==null?void 0:a.value)!=null&&c.ca_enabled),r=$e(e,"3544641259"),i=$e(e,"3933797510");return t||n||r||i||oCe(e)}function XV(e){return $e(e,"1694249257")}function aCe(e){return $e(e,"3292039316")}var ZE,c2;function cCe(){if(c2)return ZE;c2=1;function e(t,n,r,i){for(var s=-1,o=t==null?0:t.length;++s<o;){var a=t[s];n(i,a,r(a),t)}return i}return ZE=e,ZE}var eS,l2;function lCe(){if(l2)return eS;l2=1;var e=mW();function t(n,r,i,s){return e(n,function(o,a,c){r(s,o,i(o),c)}),s}return eS=t,eS}var tS,u2;function uCe(){if(u2)return tS;u2=1;var e=cCe(),t=lCe(),n=Cu(),r=Mr();function i(s,o){return function(a,c){var l=r(a)?e:t,u=o?o():{};return l(a,s,n(c,2),u)}}return tS=i,tS}var nS,d2;function dCe(){if(d2)return nS;d2=1;var e=Mx(),t=uCe(),n=Object.prototype,r=n.hasOwnProperty,i=t(function(s,o,a){r.call(s,a)?s[a].push(o):e(s,a,[o])});return nS=i,nS}var fCe=dCe();const hCe=Gt(fCe),pCe=async(e,t,n,r,i)=>(await Z.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],purpose:n},parameters:{query:{skip_actions:r,external_logos:i}},additionalHeaders:t?{[_n]:t}:void 0})).connectors;function T7e(e,t,n,r,i){"use forget";const s=Y.c(14),o=e===void 0?!0:e,a=t===void 0?void 0:t,c=n===void 0?void 0:n,l=r===void 0?!1:r,u=void 0,d=re();let f;s[0]!==d||s[1]!==o||s[2]!==a||s[3]!==c||s[4]!==u?(f=()=>Zo.if$(d,{productSku:a,purpose:c,skipLogos:u},o),s[0]=d,s[1]=o,s[2]=a,s[3]=c,s[4]=u,s[5]=f):f=s[5];const{data:h,isLoading:p,isFetching:m,error:g}=Ue(f);let y;s[6]!==h||s[7]!==l?(y=nv(h,l),s[6]=h,s[7]=l,s[8]=y):y=s[8];let v;return s[9]!==g||s[10]!==m||s[11]!==p||s[12]!==y?(v={platformConnectors:y,isLoading:p,isFetching:m,error:g},s[9]=g,s[10]=m,s[11]=p,s[12]=y,s[13]=v):v=s[13],v}const Zo=Sh((e,t)=>Cn(e,()=>gCe(e,t)),e=>JSON.stringify([e==null?void 0:e.productSku,e==null?void 0:e.purpose,e==null?void 0:e.skipLogos,e==null?void 0:e.skipActions])),mCe=(e,t)=>{const{data:n}=Zo(e,t);return n&&nv(n)};function gCe(e,t){var s,o,a;const n=(s=t==null?void 0:t.skipLogos)!=null?s:aCe(e),r=(o=t==null?void 0:t.skipActions)!=null?o:XV(e),i=(a=at(e))==null?void 0:a.normalizedAccountUserId;return bn({queryKey:JV(t==null?void 0:t.purpose,n,r),queryFn:async()=>await pCe(oi(i),t==null?void 0:t.productSku,t==null?void 0:t.purpose,r,n),enabled:i!=null&&tv(e)})}const _Ce=new Map;function nv(e,t=!1){return e?t?vCe(e):yCe(e):_Ce}const vCe=eo(e=>new Map(e.map(t=>[t.id,t]))),yCe=eo(e=>{const t=e.filter(n=>{var r;return((r=n.labels)==null?void 0:r.admin_only_connector)!=="true"});return new Map(t.map(n=>[n.id,n]))}),bCe=async(e,t=!1,n=void 0)=>{const r=await Z.safePost("/aip/connectors/links/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],link_refresh_strategy:t?"BLOCKING":"NONE"},additionalHeaders:n?{[_n]:n}:void 0});return hCe(r.links,({connector_id:i})=>i)};function rv({skip:e=!1,fetchValidLinksOnly:t=!1,productSku:n}={}){const r=re(),i=e$(r,t,n);e&&(i.enabled=!1);const{data:s,isLoading:o,isFetching:a,error:c,refetch:l}=Yt(i);return{connectorLinks:E.useMemo(()=>s!=null?s:new Map,[s]),isLoading:o,isFetching:a,error:c,refetch:l}}const QV=(e,{fetchValidLinksOnly:t=!1,productSku:n}={})=>ZV(e,t,n),ZV=Sh((e,t,n)=>Cn(e,()=>e$(e,t,n)));function e$(e,t,n){const r=at(e),i=r==null?void 0:r.normalizedAccountUserId,s=tv(e);return bn({queryKey:sCe(t),enabled:i!=null&&s,queryFn:()=>bCe(oi(i),t,n),select:o=>new Map(Object.entries(o))})}function w7e({skip:e=!1,productSku:t}={}){const n=re();E.useEffect(()=>{e||(Zo.prefetch(n,{productSku:t}),ZV.prefetch(n,!1,t))},[n,e,t])}function CCe(e,t,n){return Z.safePatch("/user_system_messages",{requestBody:{conversation_id:t,message_id:n,personality_type_selection:e,enabled:!0}})}function ECe(h){var p=h,{conversationId:e=null,messageId:t=null,aboutUserMessage:n,aboutModelMessage:r,personalityTypeMessage:i,nameUserMessage:s="",roleUserMessage:o="",traitsModelMessage:a="",otherUserMessage:c="",disabledTools:l,enabled:u,skipPersonalityUpdates:d=!1}=p,f=W(p,["conversationId","messageId","aboutUserMessage","aboutModelMessage","personalityTypeMessage","nameUserMessage","roleUserMessage","traitsModelMessage","otherUserMessage","disabledTools","enabled","skipPersonalityUpdates"]);const m=I(S({about_user_message:n,about_model_message:r,name_user_message:s,role_user_message:o,traits_model_message:a,other_user_message:c,disabled_tools:l,enabled:u},f),{conversation_id:e,message_id:t});return d||Object.assign(m,{personality_type_selection:i}),Z.safePatch("/user_system_messages",{requestBody:m})}function SCe(e,t,n){return Z.safePatch("/user_system_messages",{requestBody:{conversation_id:t,message_id:n,personality_traits:e,enabled:!0}})}function au(){return bn({queryKey:["userContext"],queryFn:()=>Z.safeGet("/user_system_messages"),select:OCe})}function OCe(e){const f=e,{about_user_message:t,about_model_message:n,personality_type_selection:r,name_user_message:i,role_user_message:s,traits_model_message:o,other_user_message:a,disabled_tools:c,enabled:l,object:u}=f,d=W(f,["about_user_message","about_model_message","personality_type_selection","name_user_message","role_user_message","traits_model_message","other_user_message","disabled_tools","enabled","object"]);return I(S({},d),{aboutUserMessage:t!=null?t:"",aboutModelMessage:n!=null?n:"",personalityTypeMessage:r!=null?r:"",nameUserMessage:i!=null?i:"",roleUserMessage:s!=null?s:"",traitsModelMessage:o!=null?o:"",otherUserMessage:a!=null?a:"",disabledTools:c!=null?c:[],enabled:l!=null?l:!0})}const Oh=Ge(e=>Cn(e,()=>I(S({},au()),{enabled:St(e)}))),A7e=Ge(e=>Ee(()=>{var t,n;return(n=(t=Oh(e).data)==null?void 0:t.personalityTypeMessage)!=null?n:"default"})),x7e=Ge(e=>Ee(()=>{const t=Oh(e);if(!t||!t.data||!("personality_traits"in t.data))return new Map;const r=t.data.personality_traits;return new Map(Object.entries(r).map(([i,s])=>[i,s||"default"]))})),I7e=Ge(e=>Ee(()=>{var t,n;return(n=(t=Oh(e).data)==null?void 0:t.enabled)!=null?n:!1})),TCe=ut(e=>zg(e,{mutationFn:async({personalityType:t,conversationId:n,messageId:r})=>await CCe(t,n,r),onSettled:(t,n)=>{const r=on(e);t!=null&&!n?r.setQueryData(au().queryKey,t):r.invalidateQueries(au())}}));function N7e(e,t,n,r,i){const s=on(e);i!=null&&i.optimistic&&s.setQueryData(au().queryKey,c=>c&&I(S({},c),{personality_type_selection:t}));const{mutate:o,result$:a}=TCe(e);return o({personalityType:t,conversationId:n,messageId:r}),a}const wCe=ut(e=>zg(e,{mutationFn:async({traits:t,conversationId:n,messageId:r})=>await SCe(t,n,r),onSettled:(t,n)=>{const r=on(e);(t==null||n)&&r.invalidateQueries(au())}}));function R7e(e,t,n,r,i){const s={};t.forEach((l,u)=>{s[u]=l!=null?l:"default"});const o=on(e);i!=null&&i.optimistic&&o.setQueryData(au().queryKey,l=>l&&I(S({},l),{personality_traits:s}));const{mutate:a,result$:c}=wCe(e);return a({traits:s,conversationId:n,messageId:r}),c}B(()=>k(()=>import("./ho6r9c28sd358f5b.js"),__vite__mapDeps([23,1])),{loading:e=>H(e)});const ACe=B(()=>k(()=>import("./oo4a5cyom9orocbu.js"),__vite__mapDeps([24,1])),{loading:e=>H(e)}),xCe=B(()=>k(()=>import("./6kppbcfhmenkpk5e.js"),__vite__mapDeps([25,1])),{loading:e=>H(e)}),bp=B(()=>k(()=>import("./gsyjy3cn2edhhxqr.js"),__vite__mapDeps([26,1])),{loading:e=>H(e)}),ICe=B(()=>k(()=>import("./eangdf46283zeknc.js"),__vite__mapDeps([27,1])),{loading:e=>H(e)}),NCe=B(()=>k(()=>import("./ff9q8rnvshheb2le.js"),__vite__mapDeps([28,1])),{loading:e=>H(e)}),RCe=B(()=>k(()=>import("./kfuq18fnfa4tpk36.js"),__vite__mapDeps([29,1])),{loading:e=>H(e)}),PCe=B(()=>k(()=>import("./gl3rapxbeig8umvj.js"),__vite__mapDeps([30,1])),{loading:e=>H(e)}),kCe=B(()=>k(()=>import("./gb09ykdmnecx7kqm.js"),__vite__mapDeps([31,1])),{loading:e=>H(e)}),MCe=B(()=>k(()=>import("./h5fyoet6k65xpe5v.js"),__vite__mapDeps([32,1])),{loading:e=>H(e)}),f2=B(()=>k(()=>import("./n3mnqs8qkb4827qo.js"),__vite__mapDeps([33,1])),{loading:e=>H(e)}),DCe=B(()=>k(()=>import("./lwk021izsqda1ink.js"),__vite__mapDeps([34,1])),{loading:e=>H(e)}),h2=B(()=>k(()=>import("./e78y0x0bsn1pjk21.js"),__vite__mapDeps([35,1])),{loading:e=>H(e)}),LCe=B(()=>k(()=>import("./iz7y4yt60huv2j20.js"),__vite__mapDeps([36,1])),{loading:e=>H(e)}),jCe=B(()=>k(()=>import("./d3lmw35s8no1rcpb.js"),__vite__mapDeps([37,1])),{loading:e=>H(e)}),FCe=B(()=>k(()=>import("./k16xm6jk3odnmnqs.js"),__vite__mapDeps([38,1])),{loading:e=>H(e)}),UCe=B(()=>k(()=>import("./mj2brfr01cewzl9a.js"),__vite__mapDeps([39,1])),{loading:e=>H(e)}),rS=B(()=>k(()=>import("./jlsb77lt6kqhcsln.js"),__vite__mapDeps([40,1])),{loading:e=>H(e)}),BCe=B(()=>k(()=>import("./htgqwnjx12i16hc6.js"),__vite__mapDeps([41,1])),{loading:e=>H(e)}),GCe=B(()=>k(()=>import("./n9uspcjz6oc12tia.js"),__vite__mapDeps([42,1])),{loading:e=>H(e)}),p2=B(()=>k(()=>import("./fsahglpl2wxoakvg.js"),__vite__mapDeps([43,1])),{loading:e=>H(e)}),m2=B(()=>k(()=>import("./cablc6lr74ppvrr3.js"),__vite__mapDeps([44,1])),{loading:e=>H(e)}),g2=B(()=>k(()=>import("./edtxx94txmhqvu0e.js"),__vite__mapDeps([45,1])),{loading:e=>H(e)}),_2=B(()=>k(()=>import("./on6zjr1bjw5z2d08.js"),__vite__mapDeps([46,1])),{loading:e=>H(e)}),WCe=B(()=>k(()=>import("./odeqnwkly96z750u.js"),__vite__mapDeps([47,1])),{loading:e=>H(e)}),qCe=B(()=>k(()=>import("./l5e2clfxpgm30p9v.js"),__vite__mapDeps([48,1])),{loading:e=>H(e)}),VCe=B(()=>k(()=>import("./m2xwf1u8hpj7ku67.js"),__vite__mapDeps([49,1])),{loading:e=>H(e)}),$Ce=B(()=>k(()=>import("./fnhiupokkmaz6zzq.js"),__vite__mapDeps([50,1])),{loading:e=>H(e)}),HCe=B(()=>k(()=>import("./l3abi823pjnrhiuj.js"),__vite__mapDeps([51,1])),{loading:e=>H(e)}),zCe=B(()=>k(()=>import("./z73jc6cuiis8j7zw.js"),__vite__mapDeps([52,1])),{loading:e=>H(e)}),YCe=B(()=>k(()=>import("./f5goq4s9xgjjvv2f.js"),__vite__mapDeps([53,1])),{loading:e=>H(e)}),KCe=B(()=>k(()=>import("./b6wurwufazegul5k.js"),__vite__mapDeps([54,1])),{loading:e=>H(e)}),JCe=B(()=>k(()=>import("./kzg5ev41drr4p042.js"),__vite__mapDeps([55,1])),{loading:e=>H(e)}),XCe=B(()=>k(()=>import("./km0dhf1mvcjs8kkd.js"),__vite__mapDeps([56,1])),{loading:e=>H(e)}),QCe=B(()=>k(()=>import("./oeu7ns9by1ylfahx.js"),__vite__mapDeps([57,1])),{loading:e=>H(e)}),ZCe=B(()=>k(()=>import("./qr8ktpa6xn24sy7q.js"),__vite__mapDeps([58,1])),{loading:e=>H(e)}),eEe=B(()=>k(()=>import("./fenai6dwr8b5i5c6.js"),__vite__mapDeps([59,1])),{loading:e=>H(e)}),tEe=B(()=>k(()=>import("./ip633et1a2kaq027.js"),__vite__mapDeps([60,1])),{loading:e=>H(e)});var tn=(e=>(e.CODEX="CODEX",e.PROMPT_TEXT_AREA="PROMPT_TEXT_AREA",e.CONNECTOR_SETTING="CONNECTOR_SETTING",e.ADMIN_SETTING="ADMIN_SETTING",e.SLURM="SLURM",e.DEEP_RESEARCH="DEEP_RESEARCH",e.JIT_PLUGIN="JIT_PLUGIN",e.N7JUPD="N7JUPD",e))(tn||{});const nEe=Tt({github:{id:"platformConnectors.github",defaultMessage:"GitHub"},hubspot:{id:"platformConnectors.hubspot",defaultMessage:"HubSpot"},googleDrive:{id:"platformConnectors.googleDrive",defaultMessage:"Google Drive"},gmail:{id:"platformConnectors.gmail",defaultMessage:"Gmail"},googleContacts:{id:"platformConnectors.googleContacts",defaultMessage:"Google Contacts"},gcal:{id:"platformConnectors.gcal",defaultMessage:"Google Calendar"},dropbox:{id:"platformConnectors.dropbox",defaultMessage:"Dropbox"},linear:{id:"platformConnectors.linear",defaultMessage:"Linear"},sharepoint:{id:"platformConnectors.sharepoint",defaultMessage:"SharePoint"},outlookEmail:{id:"GJeJu+",defaultMessage:"Outlook Email"},outlookCalendar:{id:"ZaCgzD",defaultMessage:"Outlook Calendar"},teams:{id:"1F0GKN",defaultMessage:"Teams"},box:{id:"l5cshA",defaultMessage:"Box"},intercom:{id:"IeKzI2",defaultMessage:"Intercom"},notion:{id:"ewTDRt",defaultMessage:"Notion"},canva:{id:"2oFmyl",defaultMessage:"Canva"},confluence:{id:"9OL98Q",defaultMessage:"Confluence"},jira:{id:"Nm71Up",defaultMessage:"Jira"},jiraServiceManagement:{id:"cjC5DU",defaultMessage:"Jira Service Management"},slack:{id:"Do199+",defaultMessage:"Slack"},aha:{id:"MJ13Xc",defaultMessage:"Aha!"},asana:{id:"b+LuOp",defaultMessage:"Asana"},azureDevops:{id:"EMGnXy",defaultMessage:"Azure DevOps"},basecamp:{id:"WtFh36",defaultMessage:"Basecamp"},clickup:{id:"pP1J7F",defaultMessage:"ClickUp"},freshdesk:{id:"62IXlT",defaultMessage:"Freshdesk"},freshservice:{id:"i1akfj",defaultMessage:"Freshservice"},front:{id:"bP9Vhb",defaultMessage:"Front"},gitlab:{id:"U3zBPE",defaultMessage:"GitLab"},gorgias:{id:"TwMCWh",defaultMessage:"Gorgias"},helpScout:{id:"7ST8TO",defaultMessage:"Help Scout"},ironclad:{id:"EgicM8",defaultMessage:"Ironclad"},pipedrive:{id:"PZc8St",defaultMessage:"Pipedrive"},salesforceServiceCloud:{id:"p3e7aq",defaultMessage:"Salesforce Service Cloud"},shortcut:{id:"fMr0j2",defaultMessage:"Shortcut"},teamwork:{id:"NC9s7t",defaultMessage:"Teamwork"},zendesk:{id:"eAbTKh",defaultMessage:"Zendesk"},zoho:{id:"2Xpxq+",defaultMessage:"Zoho"},zohoDesk:{id:"QWma/o",defaultMessage:"Zoho Desk"},disabledByAdmin:{id:"2+q1p8",defaultMessage:"Your admin has not enabled this connector."}}),rEe={},iEe={},ze=S(S(S({},nEe),rEe),iEe),P7e={[P.GITHUB_CONNECTOR]:{title:ze.github,icon:qCe},[P.GDRIVE_ACTION_CONNECTOR]:{title:ze.googleDrive,icon:p2},[jm.GDRIVE_SYNC_CONNECTOR]:{title:ze.googleDrive,icon:p2},[P.DROPBOX_CONNECTOR]:{title:ze.dropbox,icon:zCe},[P.HUBSPOT_CONNECTOR]:{title:ze.hubspot,icon:rS},[P.AHA_CONNECTOR]:{title:ze.aha,icon:tEe},[P.ASANA_CONNECTOR]:{title:ze.asana,icon:eEe},[P.AZURE_DEVOPS_CONNECTOR]:{title:ze.azureDevops,icon:ZCe},[P.BASECAMP_CONNECTOR]:{title:ze.basecamp,icon:QCe},[P.CLICKUP_CONNECTOR]:{title:ze.clickup,icon:KCe},[P.LINEAR_CONNECTOR]:{title:ze.linear,icon:h2},[P.SHAREPOINT_CONNECTOR]:{title:ze.sharepoint,icon:f2},[P.SHAREPOINT_ADMIN_CONNECTOR]:{title:ze.sharepoint,icon:f2},[P.TEAMS_CONNECTOR]:{title:ze.teams,icon:kCe},[P.OUTLOOK_EMAIL_CONNECTOR]:{title:ze.outlookEmail,icon:MCe},[P.OUTLOOK_CALENDAR_CONNECTOR]:{title:ze.outlookCalendar,icon:DCe},[P.BOX_CONNECTOR]:{title:ze.box,icon:XCe},[P.INTERCOM_CONNECTOR]:{title:ze.intercom,icon:UCe},[P.FRESHDESK_CONNECTOR]:{title:ze.freshdesk,icon:HCe},[P.FRESHSERVICE_CONNECTOR]:{title:ze.freshservice,icon:$Ce},[P.FRONT_CONNECTOR]:{title:ze.front,icon:VCe},[P.GITLAB_CONNECTOR]:{title:ze.gitlab,icon:WCe},[P.GORGIAS_CONNECTOR]:{title:ze.gorgias,icon:GCe},[P.HELP_SCOUT_CONNECTOR]:{title:ze.helpScout,icon:BCe},[P.NOTION_CONNECTOR]:{title:ze.notion,icon:PCe},[P.GOOGLE_CONTACTS_CONNECTOR]:{title:ze.googleContacts,icon:m2},[Vp.GOOGLE_CONTACTS_CONNECTOR]:{title:ze.googleContacts,icon:m2},[P.GCAL_CONNECTOR]:{title:ze.gcal,icon:g2},[Vp.GCAL_CONNECTOR]:{title:ze.gcal,icon:g2},[P.GMAIL_CONNECTOR]:{title:ze.gmail,icon:_2},[Vp.GMAIL_CONNECTOR]:{title:ze.gmail,icon:_2},[P.CANVA_CONNECTOR]:{title:ze.canva,icon:JCe},[P.CONFLUENCE_CONNECTOR]:{title:ze.confluence,icon:YCe},[P.JIRA_CONNECTOR]:{title:ze.jira,icon:LCe},[P.JIRA_SERVICEMANAGEMENT_CONNECTOR]:{title:ze.jiraServiceManagement,icon:jCe},[P.SLACK_CONNECTOR]:{title:ze.slack,icon:bp},[P.SLACK_CODEX_CONNECTOR]:{title:ze.slack,icon:bp},[P.SLACK_CODEX_BOT_CONNECTOR]:{title:ze.slack,icon:bp},[P.LINEAR_CODEX_BOT_CONNECTOR]:{title:ze.linear,icon:h2},[P.IRONCLAD_CONNECTOR]:{title:ze.ironclad,icon:FCe},[P.PIPEDRIVE_CONNECTOR]:{title:ze.pipedrive,icon:RCe},[P.SALESFORCE_SERVICE_CLOUD_CONNECTOR]:{title:ze.salesforceServiceCloud,icon:NCe},[P.SHORTCUT_CONNECTOR]:{title:ze.shortcut,icon:ICe},[P.TEAMWORK_CONNECTOR]:{title:ze.teamwork,icon:xCe},[P.ZENDESK_CONNECTOR]:{title:ze.zendesk,icon:ACe},[P.ZOHO_CONNECTOR]:{title:ze.zoho,icon:rS},[P.ZOHO_DESK_CONNECTOR]:{title:ze.zohoDesk,icon:rS},[jm.SLACK_SYNC_CONNECTOR]:{title:ze.slack,icon:bp}},sEe={github:P.GITHUB_CONNECTOR,google_drive:P.GDRIVE_ACTION_CONNECTOR,dropbox:P.DROPBOX_CONNECTOR,linear:P.LINEAR_CONNECTOR,hubspot:P.HUBSPOT_CONNECTOR,sharepoint:P.SHAREPOINT_CONNECTOR,google_calendar:P.GCAL_CONNECTOR,gmail:P.GMAIL_CONNECTOR,google_contacts:P.GOOGLE_CONTACTS_CONNECTOR,teams:P.TEAMS_CONNECTOR,outlook_email:P.OUTLOOK_EMAIL_CONNECTOR,outlook_calendar:P.OUTLOOK_CALENDAR_CONNECTOR,box:P.BOX_CONNECTOR,intercom:P.INTERCOM_CONNECTOR,notion:P.NOTION_CONNECTOR,canva:P.CANVA_CONNECTOR,slack:P.SLACK_CONNECTOR,slack_codex:P.SLACK_CODEX_CONNECTOR},t$=[];function Th(e,{includeDisabledByAdmin:t=!1,productSku:n,purpose:r,skipLogos:i}={}){const{data:s,isLoading:o}=Zo(e,{productSku:n,purpose:r,skipLogos:i});if(o)return;if(!s)return t$;const a=oEe(s);return t?a:aEe(a)}const oEe=eo(e=>{const t=e.filter(r=>r.connector_type!=="MCP"&&fs[r.id]).map(r=>I(S({},r),{type:fs[r.id]})),n=e.filter(r=>r.connector_type==="MCP").map(r=>I(S({},r),{type:Oi.MCP_CONNECTOR}));return[...t,...n]}),aEe=eo(e=>e.filter(t=>t.status!=="DISABLED_BY_ADMIN"));function cEe(e){return n$(e)&&$e(e,"3544641259")}const lEe=ut(e=>{const t=Zt(e,"3747383021"),n=cEe(e),r=Object.entries(sEe).reduce((o,[a,c])=>(t.get(a,!1)&&o.push(c),o),[]),s=t.get("mcp",!1)?[...r,Oi.MCP_CONNECTOR]:r;return{enabled:n,availableConnectorsType:n?s:[]}});function n$(e){return $e(e,"733205176")}function k7e(e){return $e(e,"3207737252")}function uEe(e){return $e(e,"3927245414")}const $x=ut(e=>{var n,r;const t=Zt(e,"463092697");return(r=(n=t==null?void 0:t.value)==null?void 0:n.autoConnectors)!=null?r:[]}),r$=Ge(e=>Ee(()=>{const{data:t,isLoading:n}=Oh(e);if(n)return{enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!0};const{disabledTools:r=[]}=t!=null?t:{},i=r.map(Kde).filter(a=>a!=null);return i.includes(P.GMAIL_CONNECTOR)&&i.includes(P.GCAL_CONNECTOR)&&i.push(P.GOOGLE_CONTACTS_CONNECTOR),{enabledAutoConnectors:$x(e).filter(a=>!i.includes(a)),disabledAutoConnectors:i,isLoading:!1}})),i$=e=>s$(e).enabled,s$=ut(e=>{var s,o,a;const t=Fx(e),n=!!((s=t==null?void 0:t.enabled)!=null&&s),r=(o=t==null?void 0:t.autoConnectors)!=null?o:[],i=(a=t==null?void 0:t.enabledConnectors)!=null?a:[];return{enabled:n,availableConnectorsType:n?i:[],autoConnectors:r}}),dEe=({includeDisabledByAdmin:e}={})=>{const t=re(),{enabled:n,availableConnectorsType:r}=lEe(t),i=Ue(()=>{if(n)return Th(t,{includeDisabledByAdmin:e,productSku:tn.DEEP_RESEARCH})}),s=n&&!i,o=E.useMemo(()=>i?i.filter(a=>r.includes(a.type)):[],[r,i]);return n?{enabled:!0,availableConnectors:o,isLoading:s}:{enabled:!1,availableConnectors:[],isLoading:!1}},iv=(e,t={})=>fEe(e,t),fEe=Sh((e,{includeDisabledByAdmin:t,includeAutoConnectors:n,filterDisabledAutoConnectors:r})=>Ee(()=>{var d;if(!i$(e))return[];const i=s$(e);let s=i.availableConnectorsType;const o=$e(e,"2768222595"),{enabledAutoConnectors:a,isLoading:c}=o&&((d=i.autoConnectors)!=null?d:[]).length>0&&r?r$(e):{enabledAutoConnectors:[],isLoading:!1};if(c)return;const l=o?r?a:$x(e):[],u=Th(e,{includeDisabledByAdmin:t,productSku:tn.SLURM});if(u)return n&&(s=[...new Set([...s,...l])]),s.flatMap(f=>f===Oi.MCP_CONNECTOR?u==null?void 0:u.filter(h=>h.type===f):[u==null?void 0:u.find(h=>h.type===f)]).filter(f=>!!f)}),e=>JSON.stringify([!!e.includeDisabledByAdmin,!!e.includeAutoConnectors,!!e.filterDisabledAutoConnectors])),M7e=({purpose:e=void 0}={})=>{const t=re(),n=tv(t),r=Ue(()=>{if(n)return Th(t,{includeDisabledByAdmin:!0,productSku:tn.CONNECTOR_SETTING,purpose:e})}),i=n&&!r;return{enabled:!!(r&&r.length>0),isLoading:i,availableConnectors:r!=null?r:t$}},o$=e=>{"use forget";const t=Y.c(17),{availableConnectors:n,fetchValidLinksOnly:r,productSku:i}=e,s=r===void 0?!1:r;let o;t[0]!==s||t[1]!==i?(o={fetchValidLinksOnly:s,productSku:i},t[0]=s,t[1]=i,t[2]=o):o=t[2];const{connectorLinks:a,isLoading:c}=rv(o);let l;t[3]!==a?(l=new Set(Array.from(a.values()).flatMap(gEe)),t[3]=a,t[4]=l):l=t[4];const u=l;let d;if(t[5]!==n||t[6]!==u){let m;t[8]!==u?(m=g=>g.type!==Oi.MCP_CONNECTOR&&u.has(g.type),t[8]=u,t[9]=m):m=t[9],d=new Set(n.filter(m).map(_Ee)),t[5]=n,t[6]=u,t[7]=d}else d=t[7];const f=d;let h;t[10]!==n||t[11]!==a?(h=new Map,a.forEach((m,g)=>{if(!n.some(v=>v.id===g))return;const y=fs[g];y&&m.forEach(v=>{h.set(v.id,y)})}),t[10]=n,t[11]=a,t[12]=h):h=t[12];let p;return t[13]!==f||t[14]!==c||t[15]!==h?(p={connectedTypes:f,isLoading:c,linkIdToConnectedType:h},t[13]=f,t[14]=c,t[15]=h,t[16]=p):p=t[16],p},hEe=e=>{"use forget";const t=Y.c(13);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r,includeAutoConnectors:i}=n,s=r===void 0?!0:r,o=i===void 0?!1:i,a=re();let c;t[2]!==a||t[3]!==o?(c=()=>iv(a,{includeAutoConnectors:o}),t[2]=a,t[3]=o,t[4]=c):c=t[4];const l=Ue(c);let u;t[5]!==a||t[6]!==s?(u=i$(a)&&s,t[5]=a,t[6]=s,t[7]=u):u=t[7];let d;t[8]!==l?(d=l!=null?l:[],t[8]=l,t[9]=d):d=t[9];let f;return t[10]!==u||t[11]!==d?(f={enabled:u,availableConnectors:d,productSku:tn.SLURM},t[10]=u,t[11]=d,t[12]=f):f=t[12],o$(f)},D7e=e=>{"use forget";const t=Y.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,i=r===void 0?!0:r,{enabled:s,availableConnectors:o}=dEe(),a=s&&i;let c;return t[2]!==o||t[3]!==a?(c={enabled:a,availableConnectors:o,fetchValidLinksOnly:!0,productSku:tn.DEEP_RESEARCH},t[2]=o,t[3]=a,t[4]=c):c=t[4],o$(c)},pEe=()=>{const e=CV();return!!(e!=null&&e.enablePopupRedirect)},L7e=({includeAutoConnectors:e=!1})=>{const t=re(),{connectedTypes:n,isLoading:r}=hEe({includeAutoConnectors:e}),{data:i,isLoading:s}=Ue(()=>Cc(t));if(r||s)return{anyConnectorEnabled:!1,anyAccessConnectorEnabled:!1,anySyncConnectorEnabled:!1,isLoading:!0};const o=n.size>0,a=i?YV(i):!1;return{anyConnectorEnabled:o||a,anyAccessConnectorEnabled:o,anySyncConnectorEnabled:a,isLoading:!1}};function mEe(e){return fs[e.connector_id]}function gEe(e){return e.map(mEe)}function _Ee(e){return e.type}function vEe(e,t,n){var r;try{const i=JSON.parse((r=window.localStorage.getItem(e))!=null?r:"");return n(i)?i:t}catch(i){return t}}function yEe(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const v2=rr(e=>({data:{},setItem:(t,n)=>e(r=>({data:I(S({},r.data),{[t]:n})}))}));function bEe(e,t,n){const[r,i]=E.useState(!1),s=v2(c=>c.data[e]),o=v2(c=>c.setItem);E.useEffect(()=>{if(!r){const c=vEe(e,t,n);o(e,c),i(!0)}},[r,e,t,n,o]),E.useEffect(()=>{r&&yEe(e,s)},[e,s,r]);const a=c=>{o(e,c)};return[s!=null?s:t,a]}function Rt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Fe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function nm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nm=function(n){return typeof n}:nm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nm(e)}function We(e){Fe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||nm(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function sv(e,t){Fe(2,arguments);var n=We(e),r=Rt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function a$(e,t){Fe(2,arguments);var n=We(e),r=Rt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function CEe(e,t){Fe(2,arguments);var n=We(e).getTime(),r=Rt(t);return new Date(n+r)}var EEe={};function Nu(){return EEe}function pg(e,t){var n,r,i,s,o,a,c,l;Fe(1,arguments);var u=Nu(),d=Rt((n=(r=(i=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=We(e),h=f.getDay(),p=(h<d?7:0)+h-d;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function P1(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function mg(e){Fe(1,arguments);var t=We(e);return t.setHours(0,0,0,0),t}var SEe=864e5;function OEe(e,t){Fe(2,arguments);var n=mg(e),r=mg(t),i=n.getTime()-P1(n),s=r.getTime()-P1(r);return Math.round((i-s)/SEe)}function c$(e,t){Fe(2,arguments);var n=Rt(t),r=n*7;return sv(e,r)}function TEe(e,t){Fe(2,arguments);var n=Rt(t);return a$(e,n*12)}function iS(e,t){Fe(2,arguments);var n=We(e),r=We(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var Hx=6e4,l$=36e5;function u$(e,t){Fe(2,arguments);var n=mg(e),r=mg(t);return n.getTime()===r.getTime()}function rm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rm=function(n){return typeof n}:rm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rm(e)}function wEe(e){return Fe(1,arguments),e instanceof Date||rm(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function AEe(e){if(Fe(1,arguments),!wEe(e)&&typeof e!="number")return!1;var t=We(e);return!isNaN(Number(t))}function xEe(e,t){Fe(2,arguments);var n=We(e),r=We(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function y2(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function j7e(e,t){Fe(2,arguments);var n=We(e),r=We(t),i=y2(n,r),s=Math.abs(OEe(n,r));n.setDate(n.getDate()-i*s);var o=+(y2(n,r)===-i),a=i*(s-o);return a===0?0:a}function IEe(e,t){return Fe(2,arguments),We(e).getTime()-We(t).getTime()}var b2={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},NEe="trunc";function REe(e){return e?b2[e]:b2[NEe]}function F7e(e,t,n){Fe(2,arguments);var r=IEe(e,t)/Hx;return REe(void 0)(r)}function d$(e){Fe(1,arguments);var t=We(e);return t.setHours(23,59,59,999),t}function PEe(e){Fe(1,arguments);var t=We(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function kEe(e){Fe(1,arguments);var t=We(e);return d$(t).getTime()===PEe(t).getTime()}function U7e(e,t){Fe(2,arguments);var n=We(e),r=We(t),i=iS(n,r),s=Math.abs(xEe(n,r)),o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);var a=iS(n,r)===-i;kEe(We(e))&&s===1&&iS(e,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function B7e(e,t){var n;Fe(1,arguments);var r=e||{},i=We(r.start),s=We(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],c=i;c.setHours(0,0,0,0);var l=Number((n=void 0)!==null&&n!==void 0?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)a.push(We(c)),c.setDate(c.getDate()+l),c.setHours(0,0,0,0);return a}function G7e(e,t){Fe(1,arguments);var n=e||{},r=We(n.start),i=We(n.end),s=i.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var o=pg(r,t),a=pg(i,t);o.setHours(15),a.setHours(15),s=a.getTime();for(var c=[],l=o;l.getTime()<=s;)l.setHours(0),c.push(We(l)),l=c$(l,1),l.setHours(15);return c}function W7e(e){Fe(1,arguments);var t=We(e);return t.setDate(1),t.setHours(0,0,0,0),t}function q7e(e,t){var n,r,i,s,o,a;Fe(1,arguments);var c=Nu(),l=Rt((n=(r=(i=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(o=c.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:0);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=We(e),d=u.getDay(),f=(d<l?-7:0)+6-(d-l);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}function V7e(){return d$(Date.now())}function MEe(e,t){Fe(2,arguments);var n=Rt(t);return CEe(e,-n)}var DEe=864e5;function LEe(e){Fe(1,arguments);var t=We(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/DEe)+1}function gg(e){Fe(1,arguments);var t=1,n=We(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function f$(e){Fe(1,arguments);var t=We(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=gg(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=gg(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function jEe(e){Fe(1,arguments);var t=f$(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=gg(n);return r}var FEe=6048e5;function UEe(e){Fe(1,arguments);var t=We(e),n=gg(t).getTime()-jEe(t).getTime();return Math.round(n/FEe)+1}function _g(e,t){var n,r,i,s,o,a,c,l;Fe(1,arguments);var u=Nu(),d=Rt((n=(r=(i=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=We(e),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function h$(e,t){var n,r,i,s,o,a,c,l;Fe(1,arguments);var u=We(e),d=u.getUTCFullYear(),f=Nu(),h=Rt((n=(r=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var m=_g(p,t),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var y=_g(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function BEe(e,t){var n,r,i,s,o,a,c,l;Fe(1,arguments);var u=Nu(),d=Rt((n=(r=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=h$(e,t),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=_g(h,t);return p}var GEe=6048e5;function WEe(e,t){Fe(1,arguments);var n=We(e),r=_g(n,t).getTime()-BEe(n,t).getTime();return Math.round(r/GEe)+1}function Ct(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var mo={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Ct(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Ct(r+1,2)},d:function(t,n){return Ct(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Ct(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ct(t.getUTCHours(),n.length)},m:function(t,n){return Ct(t.getUTCMinutes(),n.length)},s:function(t,n){return Ct(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ct(s,n.length)}},Qc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qEe={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return mo.y(t,n)},Y:function(t,n,r,i){var s=h$(t,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ct(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ct(o,n.length)},R:function(t,n){var r=f$(t);return Ct(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Ct(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ct(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ct(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return mo.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ct(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var s=WEe(t,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ct(s,n.length)},I:function(t,n,r){var i=UEe(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ct(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):mo.d(t,n)},D:function(t,n,r){var i=LEe(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ct(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ct(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ct(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ct(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),s;switch(i===12?s=Qc.noon:i===0?s=Qc.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),s;switch(i>=17?s=Qc.evening:i>=12?s=Qc.afternoon:i>=4?s=Qc.morning:s=Qc.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return mo.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):mo.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ct(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ct(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):mo.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):mo.s(t,n)},S:function(t,n){return mo.S(t,n)},X:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return E2(o);case"XXXX":case"XX":return Ra(o);case"XXXXX":case"XXX":default:return Ra(o,":")}},x:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"x":return E2(o);case"xxxx":case"xx":return Ra(o);case"xxxxx":case"xxx":default:return Ra(o,":")}},O:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+C2(o,":");case"OOOO":default:return"GMT"+Ra(o,":")}},z:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+C2(o,":");case"zzzz":default:return"GMT"+Ra(o,":")}},t:function(t,n,r,i){var s=i._originalDate||t,o=Math.floor(s.getTime()/1e3);return Ct(o,n.length)},T:function(t,n,r,i){var s=i._originalDate||t,o=s.getTime();return Ct(o,n.length)}};function C2(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=t;return n+String(i)+o+Ct(s,2)}function E2(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ct(Math.abs(e)/60,2)}return Ra(e,t)}function Ra(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),s=Ct(Math.floor(i/60),2),o=Ct(i%60,2);return r+s+n+o}var S2=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},p$=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},VEe=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return S2(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",S2(i,n)).replace("{{time}}",p$(s,n))},$Ee={p:p$,P:VEe},HEe=["D","DD"],zEe=["YY","YYYY"];function YEe(e){return HEe.indexOf(e)!==-1}function KEe(e){return zEe.indexOf(e)!==-1}function O2(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var JEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XEe=function(t,n,r){var i,s=JEe[t];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function sS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var QEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tSe={date:sS({formats:QEe,defaultWidth:"full"}),time:sS({formats:ZEe,defaultWidth:"full"}),dateTime:sS({formats:eSe,defaultWidth:"full"})},nSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rSe=function(t,n,r,i){return nSe[t]};function Ju(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[a]}var l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}var iSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uSe=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dSe={ordinalNumber:uSe,era:Ju({values:iSe,defaultWidth:"wide"}),quarter:Ju({values:sSe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ju({values:oSe,defaultWidth:"wide"}),day:Ju({values:aSe,defaultWidth:"wide"}),dayPeriod:Ju({values:cSe,defaultWidth:"wide",formattingValues:lSe,defaultFormattingWidth:"wide"})};function Xu(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?hSe(a,function(d){return d.test(o)}):fSe(a,function(d){return d.test(o)}),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;var u=t.slice(o.length);return{value:l,rest:u}}}function fSe(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function hSe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function pSe(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(i.length);return{value:o,rest:a}}}var mSe=/^(\d+)(th|st|nd|rd)?/i,gSe=/\d+/i,_Se={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vSe={any:[/^b/i,/^(a|c)/i]},ySe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bSe={any:[/1/i,/2/i,/3/i,/4/i]},CSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ESe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ASe={ordinalNumber:pSe({matchPattern:mSe,parsePattern:gSe,valueCallback:function(t){return parseInt(t,10)}}),era:Xu({matchPatterns:_Se,defaultMatchWidth:"wide",parsePatterns:vSe,defaultParseWidth:"any"}),quarter:Xu({matchPatterns:ySe,defaultMatchWidth:"wide",parsePatterns:bSe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xu({matchPatterns:CSe,defaultMatchWidth:"wide",parsePatterns:ESe,defaultParseWidth:"any"}),day:Xu({matchPatterns:SSe,defaultMatchWidth:"wide",parsePatterns:OSe,defaultParseWidth:"any"}),dayPeriod:Xu({matchPatterns:TSe,defaultMatchWidth:"any",parsePatterns:wSe,defaultParseWidth:"any"})},xSe={code:"en-US",formatDistance:XEe,formatLong:tSe,formatRelative:rSe,localize:dSe,match:ASe,options:{weekStartsOn:0,firstWeekContainsDate:1}},ISe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RSe=/^'([^]*?)'?$/,PSe=/''/g,kSe=/[a-zA-Z]/;function $7e(e,t,n){var r,i,s,o,a,c,l,u,d,f,h,p,m,g;Fe(2,arguments);var y=String(t),v=Nu(),T=(r=(i=void 0)!==null&&i!==void 0?i:v.locale)!==null&&r!==void 0?r:xSe,C=Rt((s=(o=(a=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&o!==void 0?o:(l=v.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=Rt((d=(f=(h=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&h!==void 0?h:v.weekStartsOn)!==null&&f!==void 0?f:(m=v.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&d!==void 0?d:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var O=We(e);if(!AEe(O))throw new RangeError("Invalid time value");var w=P1(O),A=MEe(O,w),x={firstWeekContainsDate:C,weekStartsOn:b,locale:T,_originalDate:O},N=y.match(NSe).map(function(R){var L=R[0];if(L==="p"||L==="P"){var D=$Ee[L];return D(R,T.formatLong)}return R}).join("").match(ISe).map(function(R){if(R==="''")return"'";var L=R[0];if(L==="'")return MSe(R);var D=qEe[L];if(D)return KEe(R)&&O2(R,t,String(e)),YEe(R)&&O2(R,t,String(e)),D(A,R,T.localize,x);if(L.match(kSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return R}).join("");return N}function MSe(e){var t=e.match(RSe);return t?t[1].replace(PSe,"'"):e}function DSe(e){Fe(1,arguments);var t=Rt(e);return We(t*1e3)}function LSe(e){Fe(1,arguments);var t=We(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function H7e(e){Fe(1,arguments);var t=We(e),n=t.getMonth();return n}function jSe(e){Fe(1,arguments);var t=We(e),n=t.getTime();return n}function FSe(e){return Fe(1,arguments),Math.floor(jSe(e)/1e3)}function z7e(e){return Fe(1,arguments),We(e).getFullYear()}function Y7e(e,t,n){var r;Fe(1,arguments);var i;return n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,i).format(e)}function K7e(e,t){Fe(2,arguments);var n=We(e),r=We(t);return n.getTime()>r.getTime()}function J7e(e,t){Fe(2,arguments);var n=We(e),r=We(t);return n.getTime()<r.getTime()}function X7e(e,t){Fe(2,arguments);var n=We(e),r=We(t);return n.getTime()===r.getTime()}function Q7e(e,t,n){Fe(2,arguments);var r=pg(e,n),i=pg(t,n);return r.getTime()===i.getTime()}function Z7e(e,t){Fe(2,arguments);var n=We(e),r=We(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function USe(e,t){Fe(2,arguments);var n=We(e),r=We(t);return n.getFullYear()===r.getFullYear()}function e8e(e){return Fe(1,arguments),USe(e,Date.now())}function t8e(e){return Fe(1,arguments),u$(e,Date.now())}function n8e(e){return Fe(1,arguments),u$(e,sv(Date.now(),1))}function r8e(e,t){Fe(2,arguments);var n=Rt(t);return sv(e,-n)}function i8e(e,t){var n;Fe(1,arguments);var r=Rt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=qSe(e),s;if(i.date){var o=VSe(i.date,r);s=$Se(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),c=0,l;if(i.time&&(c=HSe(i.time),isNaN(c)))return new Date(NaN);if(i.timezone){if(l=zSe(i.timezone),isNaN(l))return new Date(NaN)}else{var u=new Date(a+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+c+l)}var Cp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BSe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,GSe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,WSe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qSe(e){var t={},n=e.split(Cp.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Cp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Cp.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=Cp.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function VSe(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function $Se(e,t){if(t===null)return new Date(NaN);var n=e.match(BSe);if(!n)return new Date(NaN);var r=!!n[4],i=Qu(n[1]),s=Qu(n[2])-1,o=Qu(n[3]),a=Qu(n[4]),c=Qu(n[5])-1;if(r)return QSe(t,a,c)?YSe(t,a,c):new Date(NaN);var l=new Date(0);return!JSe(t,s,o)||!XSe(t,i)?new Date(NaN):(l.setUTCFullYear(t,s,Math.max(i,o)),l)}function Qu(e){return e?parseInt(e):1}function HSe(e){var t=e.match(GSe);if(!t)return NaN;var n=oS(t[1]),r=oS(t[2]),i=oS(t[3]);return ZSe(n,r,i)?n*l$+r*Hx+i*1e3:NaN}function oS(e){return e&&parseFloat(e.replace(",","."))||0}function zSe(e){if(e==="Z")return 0;var t=e.match(WSe);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return e0e(r,i)?n*(r*l$+i*Hx):NaN}function YSe(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var KSe=[31,null,31,30,31,30,31,31,30,31,30,31];function m$(e){return e%400===0||e%4===0&&e%100!==0}function JSe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(KSe[t]||(m$(e)?29:28))}function XSe(e,t){return t>=1&&t<=(m$(e)?366:365)}function QSe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function ZSe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function e0e(e,t){return t>=0&&t<=59}function t0e(e,t){Fe(2,arguments);var n=We(e),r=Rt(t),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=LSe(o);return n.setMonth(r,Math.min(s,a)),n}function im(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?im=function(n){return typeof n}:im=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},im(e)}function s8e(e,t){if(Fe(2,arguments),im(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=We(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=t0e(n,t.month)),t.date!=null&&n.setDate(Rt(t.date)),t.hours!=null&&n.setHours(Rt(t.hours)),t.minutes!=null&&n.setMinutes(Rt(t.minutes)),t.seconds!=null&&n.setSeconds(Rt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(Rt(t.milliseconds)),n)}function o8e(e,t){Fe(2,arguments);var n=Rt(t);return a$(e,-n)}function a8e(e,t){Fe(2,arguments);var n=Rt(t);return c$(e,-n)}function c8e(e,t){Fe(2,arguments);var n=Rt(t);return TEe(e,-n)}const n0e=3,r0e=3;function i0e(e){return an(e,"1092897457",{disableExposureLog:!0}).get("is_tatertot_enabled",!0)?$e(e,"3240576626"):!1}function s0e(e){return e?new Date>sv(e,n0e):!0}function l8e(e){var c;const[t,n]=bEe(en.TatertotInContextUpsellBannerV2,null,l=>l!=null&&typeof l=="object"&&typeof l.messageId=="string"&&typeof l.lastSeenAt=="number"&&typeof l.interacted=="boolean"&&typeof l.viewCount=="number"),r=$e(re(),"3240576626"),i=t?DSe(t.lastSeenAt):null,s=t&&(c=t.viewCount)!=null?c:0;return{canBeSeen:e!==""&&(!t||s<=r0e&&(s0e(i)||t.messageId===e&&t.interacted===!1))&&r,markSeen:l=>{const u={messageId:e,lastSeenAt:FSe(new Date),interacted:l,viewCount:(t?t.viewCount:0)+(l?0:1)};Xn.count(Wn.TATERTOT,"tatertot_upsell_banner_shown"),n(u),localStorage.setItem(en.TatertotInContextUpsellBannerV2,JSON.stringify(u))}}}var aS,T2;function o0e(){if(T2)return aS;T2=1;function e(t){return t!==t}return aS=e,aS}var cS,w2;function a0e(){if(w2)return cS;w2=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return cS=e,cS}var lS,A2;function c0e(){if(A2)return lS;A2=1;var e=EW(),t=o0e(),n=a0e();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return lS=r,lS}var uS,x2;function l0e(){if(x2)return uS;x2=1;var e=c0e();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return uS=t,uS}var dS,I2;function u0e(){if(I2)return dS;I2=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return dS=e,dS}var fS,N2;function g$(){if(N2)return fS;N2=1;function e(){}return fS=e,fS}var hS,R2;function d0e(){if(R2)return hS;R2=1;var e=lW(),t=g$(),n=CA(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return hS=i,hS}var pS,P2;function _$(){if(P2)return pS;P2=1;var e=ZG(),t=l0e(),n=u0e(),r=eW(),i=d0e(),s=CA(),o=200;function a(c,l,u){var d=-1,f=t,h=c.length,p=!0,m=[],g=m;if(u)p=!1,f=n;else if(h>=o){var y=l?null:i(c);if(y)return s(y);p=!1,f=r,g=new e}else g=l?[]:m;e:for(;++d<h;){var v=c[d],T=l?l(v):v;if(v=u||v!==0?v:0,p&&T===T){for(var C=g.length;C--;)if(g[C]===T)continue e;l&&g.push(T),m.push(v)}else f(g,T,u)||(g!==m&&g.push(T),m.push(v))}return m}return pS=a,pS}var mS,k2;function f0e(){if(k2)return mS;k2=1;var e=_$();function t(n){return n&&n.length?e(n):[]}return mS=t,mS}var h0e=f0e();const p0e=Gt(h0e),m0e="hints",g0e="system_hints";function v$(e,t){const n=_0e(t==null?void 0:t.availableHints),r=[m0e,g0e].flatMap(i=>e.getAll(i)).flatMap(i=>i.split(",")).flatMap(i=>{var a,c;const s=i.trim();if(!s)return[];const o=(c=(a=Bne(s))!=null?a:n.get(s))!=null?c:n.get(s.toLowerCase());return o?[o]:[]});return p0e(r)}function _0e(e){var n,r;const t=new Map;if(!e)return t;for(const i of e)gS(t,i.systemHint,i.systemHint),(n=i.aliases)==null||n.forEach(s=>gS(t,s,i.systemHint)),(r=i.keywordInvocations)==null||r.forEach(s=>gS(t,s,i.systemHint));return t}function gS(e,t,n){if(!t)return;const r=t.trim();r&&(e.set(r,n),e.set(r.toLowerCase(),n))}const v0e=Lr(e=>Ee(()=>{var n;const t=Epe(e,r=>La(r.message));return(n=t==null?void 0:t.message.metadata)==null?void 0:n.system_hints}));var k1=(e=>(e.Hover="hover",e.Enable="enable",e.Disable="disable",e))(k1||{}),sm=(e=>(e.SuggestionTrigger="suggestion_trigger",e.SuggestionAccept="suggestion_accept",e.SuggestionReject="suggestion_reject",e.Enable="enable",e.Disable="disable",e.PrefixMatch="prefix_match",e.PrefixRemove="prefix_remove",e.AtMention="at_mention",e.SlashCommand="slash_command",e.ConnectorPromptShown="connector_prompt_shown",e.ConnectorPromptAccept="connector_prompt_accept",e.ConnectorPromptReject="connector_prompt_reject",e.ConnectorSettingsConnectClick="connector_settings_connect_click",e.ConnectorLinkContinueClick="connector_link_continue_click",e))(sm||{});const y0e=new Map([["suggestion_trigger",["Composer System Hint Suggestion Shown","composer_system_hint_suggestion_shown"]],["suggestion_accept",["Composer System Hint Suggestion Selected","composer_system_hint_suggestion_selected"]],["suggestion_reject",["Composer System Hint Suggestion Dismissed","composer_system_hint_suggestion_dismissed"]],["enable",["Composer System Hint Elevated Selected","composer_system_hint_elevated_selected"]],["disable",["Composer System Hint Elevated Deselected","composer_system_hint_elevated_deselected"]],["prefix_match",["Composer System Hint Connector Prefix Selected","composer_system_hint_connector_prefix_selected"]],["prefix_remove",["Composer System Hint Connector Prefix Removed","composer_system_hint_connector_prefix_removed"]],["at_mention",["Composer System Hint Connector At Mention Selected","composer_system_hint_connector_at_mention_selected"]],["slash_command",["Composer System Hint Connector Slash Command Selected","composer_system_hint_connector_slash_command_selected"]],["connector_prompt_shown",["Composer System Hint Connector Prompt Shown","composer_system_hint_connector_prompt_shown"]],["connector_prompt_accept",["Composer System Hint Connector Prompt Accepted","composer_system_hint_connector_prompt_accepted"]],["connector_prompt_reject",["Composer System Hint Connector Prompt Rejected","composer_system_hint_connector_prompt_rejected"]],["connector_settings_connect_click",["Composer System Hint Connector Settings Connect Click","composer_system_hint_connector_settings_connect_click"]],["connector_link_continue_click",["Composer System Hint Connector Link Continue Click","composer_system_hint_connector_link_continue_click"]]]),b0e=new Map([[ae.Search,{hover:["Composer Search Button Hovered","composer_search_button_hovered"],enable:["Composer Search Button Clicked","composer_search_button_clicked"],disable:["Composer Search Button Clicked","composer_search_button_clicked"]}],[ae.Think,{hover:["Composer Think Button Hovered","composer_think_button_hovered"],enable:["Composer Think Button Enabled","composer_think_button_enabled"],disable:["Composer Think Button Disabled","composer_think_button_disabled"]}],[ae.Research,{hover:["Composer Research Button Hovered","composer_research_button_hovered"],enable:["Composer Research Button Enabled","composer_research_button_enabled"],disable:["Composer Research Button Disabled","composer_research_button_disabled"]}],[ae.Agent,{hover:["Composer Agent System Hint Button Hovered","composer_agent_system_hint_button_hovered"],enable:["Composer Agent System Hint Button Enabled","composer_agent_system_hint_button_enabled"],disable:["Composer Agent System Hint Button Disabled","composer_agent_system_hint_button_disabled"]}],[ae.PictureV2,{hover:["Composer Create Image Button Hovered","composer_create_image_button_hovered"],enable:["Composer Create Image Button Enabled","composer_create_image_button_enabled"],disable:["Composer Create Image Button Disabled","composer_create_image_button_disabled"]}],[ae.Slurm,{hover:["Composer Slurm Button Hovered","composer_slurm_button_hovered"],enable:["Composer Slurm Button Enabled","composer_slurm_button_enabled"],disable:["Composer Slurm Button Disabled","composer_slurm_button_disabled"]}]]);function M2(e,t,n){var s,o;const[r,i]=(o=(s=b0e.get(e))==null?void 0:s[t])!=null?o:[];r&&i&&we.logEventWithStatsig(r,i,n)}function _S(e,t,n){var o;const r=I(S({},n),{connector_id:e.replace(/^connector:/,"")}),[i,s]=(o=y0e.get(t))!=null?o:[];i&&s&&we.logEventWithStatsig(i,s,r)}function C0e(e){return xt(e).windowStyle==="chatbar_view"}const E0e=()=>!Mc()&&!A7(),S0e=Ge(e=>Ee(()=>{var i;const t=()=>an(e,"3081064739").get("composer-plus-menu",!1),n=()=>St(e)&&!ki(e)&&!C0e(e)&&!FJ()&&E0e(),r=an(e,"3081064739",{disableExposureLog:!0});return{backClosesSheet:r.get("back-closes-sheet",!1),canBounce:r.get("can-bounce",!1),plusMenuInComposer:r.get("composer-plus-menu",!1),detentSize:(i=r.get("detent-size",""))!=null?i:"370px",expose:t,isEligible$:n,noExplicitAddFromSocial:r.get("no-explicit-add-from-social",!1),prefetchSystemHints:r.get("prefetch-system-hints",!1),systemHintsByPlan:r.get("system-hints-by-plan",void 0)?O0e:void 0}})),O0e={pro:["picture_v2","picture","reason","research","search","tatertot","agent","slurm","canvas","video"],free:["picture_v2","picture","reason","research","search","tatertot","agent"],go:["picture_v2","picture","reason","research","search","tatertot","agent"],plus:["picture_v2","picture","research","search","slurm","agent","tatertot","canvas","video"]},T0e=(e,t,n)=>{if(!n)return!0;const r=Dr(e);return r==null?void 0:r!=null&&(r.isAdminOfAccount()||r.isOwnerOfAccount())?!0:xhe(e,t)},w0e=Ge(e=>Ee(()=>{if($e(e,"2042715633"))return!0;const n=$ye(e);if(!n)return!0;const r=T0e(e,fa.DeveloperModeConnector,n);return r!=null?r:!1})),zx=Ge(e=>Ee(()=>w0e(e)&&Kie(e,hc.DeveloperMode)===!0));function u8e(e){if(!$e(e,"735368229"))return!1;const t=Dr(e);return t!=null&&!(t.isSelfServeBusiness()&&t.isStandardUserOfAccount())}function Fi(e){return Zt(e,"3401870206")}function Yx(e){return Fi(e).get("enabled",!1)}function d8e(e){return $e(e,"2545765670")}function f8e(e){return Fi(e).get("latest_model","alpha:gpt-5-t-mini:alpha.gpt5_mini_scout_v4_2")}function h8e(e){return Fi(e).get("nux_type","")}function p8e(e){return Fi(e).get("enable_toggling",!1)}function m8e(e){return Fi(e).get("enable_github_repo_selection",!1)}function g8e(e){return Fi(e).get("max_repos",3)}function A0e(e){return Fi(e).get("force_system_hint",!1)}function x0e(e){return Fi(e).get("available_connectors",[])}function I0e(e){return Fi(e).get("available_sync_connectors",[])}function _8e(e){if(!qx(e))return[];const n=I0e(e),r=Th(e,{});if(!r)return;const i=Cc(e);if(i)return n.map(s=>{var o;return(o=i.data)==null?void 0:o.connection_statuses.find(a=>a.user_connection_details.connection_type===s)}).filter(s=>{if(!s)return!1;if(s.user_connection_details.auth_status==="admin_connected")return!0;const a=s.user_connection_details.connector_id;return a?!!r.find(l=>l.id===a):!1})}function y$(e){return Fi(e).get("enable_all_mcps",!1)===!0}function v8e(){return["gdrive_sync_connector","github_connector","gmail_connector","notion_sync_connector","slack_sync_connector"]}function y8e(e,t){if(!(e!=null&&e.id))return!1;const n=Fi(t);if(!n.get("enabled"))return!1;const r=n.get("latest_model");return!!(r&&e.id===r||new Set(n.get("glaux_model_ids",[])).has(e.id)||n.get("glaux_model_prefixes",[]).some(o=>e.id.startsWith(String(o))))}function b8e(e){return e!=null&&e==="glaux"}const N0e="slurm_mcp_",R0e=["search","fetch"];function P0e(e){var r;const t=(r=e.actions)!=null?r:[];if(t.length===0)return!1;const n=new Map(t.map(i=>[i.name,i]));return R0e.every(i=>{const s=n.get(i);return s!=null&&s.is_consequential===!1})}const k0e=e=>e.startsWith(N0e)?Oi.MCP_CONNECTOR:fs[e],C8e=Ge(e=>Ee(()=>{if(!Yx(e))return new Set;const n=b$(e),r=QV(e,{fetchValidLinksOnly:!0});if(r.isLoading||!n)return;const i=new Set((r==null?void 0:r.data)&&Array.from(r.data.values()).flatMap(o=>o.map(a=>k0e(a.connector_id)).filter(a=>!!a))),s=y$(e);return new Set(n.filter(o=>{var a;return(s&&o.type===Oi.MCP_CONNECTOR&&((a=o.conformance)==null?void 0:a.implements_retrievable)===!0||o.type!==Oi.MCP_CONNECTOR)&&i.has(o.type)}).map(o=>o.type))})),b$=Ge(e=>Ee(()=>C$(e,!1))),E8e=Ge(e=>Ee(()=>C$(e,!0)));function C$(e,t){if(!Yx(e))return[];const r=x0e(e),i=y$(e),s=zx(e),{data:o,isLoading:a}=Zo(e,{skipActions:!1});if(a)return;const c=nv(o),l=Array.from(c.values()),u=l.filter(g=>g.connector_type!=="MCP").map(g=>I(S({},g),{type:fs[g.id]})),d=l.filter(g=>{var y,v;return g.connector_type==="MCP"&&((y=g.conformance)==null?void 0:y.implements_retrievable)&&(g.status!=="ONLY_ME"||s)&&!((v=g.branding)!=null&&v.is_discoverable_app)&&P0e(g)}).map(g=>I(S({},g),{type:Oi.MCP_CONNECTOR})),f=[...u,...d].filter(g=>!!g.type&&(t||g.status!=="DISABLED_BY_ADMIN")),h=new Set(r);return i&&h.add(Oi.MCP_CONNECTOR),Array.from(h).flatMap(g=>g===Oi.MCP_CONNECTOR?f.filter(y=>y.type===g):[f.find(y=>y.type===g)]).filter(g=>!!g)}const E$=Ge(e=>Ee(()=>{var n;if(!((n=Dr(e))!=null&&n.isEnterprisey())||A0e(e))return!0;const t=b$(e);return zV(e)||t!=null&&t.length>0}));function M0e(e,t){return cte(e)||(t==null?void 0:t.hasPaidFeatures())}function D0e(e){var r,i;const t=at(e);return f7((r=t==null?void 0:t.planType)!=null?r:Te.FREE)||M0e((i=Ic(e))==null?void 0:i.user,t)&&!!1}const L0e=B(()=>k(()=>import("./impv9cw906sxjwad.js"),__vite__mapDeps([61,1])),{loading:e=>H(e)}),j0e=({icon:e,title:t,badge:n,description:r,statusIndicator:i,showGitHubConfigure:s})=>{const o=Hde("installations/select_target");return _.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[_.jsxs("div",{className:"me-4 flex items-center gap-3 text-start text-sm",children:[e,!r&&!n?t:_.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[_.jsxs("div",{className:"flex flex-row items-center gap-2",children:[_.jsx("div",{children:t}),n]}),_.jsx("div",{className:"text-token-text-secondary text-xs",children:r})]})]}),s&&_.jsx(_s,{onClick:()=>{window.open(o,"_blank")},color:"secondary",size:"small",children:_.jsx(L0e,{className:"icon-sm"})}),i]})};function S8e(e,t){const n=E.useRef(e);E.useEffect(()=>{n.current=e},[e]),E.useEffect(()=>{function r(){n.current()}if(t!=null){const i=window.setInterval(r,t);return()=>clearInterval(i)}},[t])}const yf=E.createContext({});function Dc(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kx=typeof window<"u",Ru=Kx?E.useLayoutEffect:E.useEffect,wh=E.createContext(null);function Jx(e,t){e.indexOf(t)===-1&&e.push(t)}function ov(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ms=(e,t,n)=>n>t?t:n<e?e:n;let bf=()=>{};const Qs={},S$=e=>new RegExp("^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$","u").test(e);function O$(e){return typeof e=="object"&&e!==null}const T$=e=>new RegExp("^0[^.\\s]+$","u").test(e);function Xx(e){let t;return()=>(t===void 0&&(t=e()),t)}const ur=e=>e,F0e=(e,t)=>n=>t(e(n)),Ah=(...e)=>e.reduce(F0e),Ec=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Qx{constructor(){this.subscriptions=[]}add(t){return Jx(this.subscriptions,t),()=>ov(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=e=>e*1e3,Qr=e=>e/1e3;function Zx(e,t){return t?e*(1e3/t):0}const U0e=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},w$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,B0e=1e-7,G0e=12;function W0e(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=w$(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>B0e&&++a<G0e);return o}function xh(e,t,n,r){if(e===t&&n===r)return ur;const i=s=>W0e(s,0,1,e,n);return s=>s===0||s===1?s:w$(i(s),t,r)}const A$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,x$=e=>t=>1-e(1-t),I$=xh(.33,1.53,.69,.99),eI=x$(I$),N$=A$(eI),R$=e=>(e*=2)<1?.5*eI(e):.5*(2-Math.pow(2,-10*(e-1))),tI=e=>1-Math.sin(Math.acos(e)),P$=x$(tI),k$=A$(tI),q0e=xh(.42,0,1,1),V0e=xh(0,0,.58,1),M$=xh(.42,0,.58,1),D$=e=>Array.isArray(e)&&typeof e[0]!="number";function L$(e,t){return D$(e)?e[U0e(0,e.length,t)]:e}const j$=e=>Array.isArray(e)&&typeof e[0]=="number",$0e={linear:ur,easeIn:q0e,easeInOut:M$,easeOut:V0e,circIn:tI,circInOut:k$,circOut:P$,backIn:eI,backInOut:N$,backOut:I$,anticipate:R$},H0e=e=>typeof e=="string",M1=e=>{if(j$(e)){bf(e.length===4);const[t,n,r,i]=e;return xh(t,n,r,i)}else if(H0e(e))return $0e[e];return e},Ep=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function z0e(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,d=!1,f=!1)=>{const p=f&&i?n:r;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,l.process(u))}};return l}const Y0e=40;function F$(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ep.reduce((T,C)=>(T[C]=z0e(s),T),{}),{setup:a,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:h,postRender:p}=o,m=()=>{const T=Qs.useManualTiming?i.timestamp:performance.now();n=!1,Qs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,Y0e),1)),i.timestamp=T,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:Ep.reduce((T,C)=>{const b=o[C];return T[C]=(O,w=!1,A=!1)=>(n||g(),b.schedule(O,w,A)),T},{}),cancel:T=>{for(let C=0;C<Ep.length;C++)o[Ep[C]].cancel(T)},state:i,steps:o}}const{schedule:bt,cancel:Ri,state:An,steps:vS}=F$(typeof requestAnimationFrame<"u"?requestAnimationFrame:ur,!0);let om;function K0e(){om=void 0}const cr={now:()=>(om===void 0&&cr.set(An.isProcessing||Qs.useManualTiming?An.timestamp:performance.now()),om),set:e=>{om=e,queueMicrotask(K0e)}},U$=e=>t=>typeof t=="string"&&t.startsWith(e),nI=U$("--"),J0e=U$("var(--"),rI=e=>J0e(e)?X0e.test(e.split("/*")[0].trim()):!1,X0e=new RegExp("var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$","iu"),Pu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cf=I(S({},Pu),{transform:e=>ms(0,1,e)}),Sp=I(S({},Pu),{default:1}),Ud=e=>Math.round(e*1e5)/1e5,iI=new RegExp("-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","gu");function Q0e(e){return e==null}const Z0e=new RegExp("^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$","iu"),sI=(e,t)=>n=>!!(typeof n=="string"&&Z0e.test(n)&&n.startsWith(e)||t&&!Q0e(n)&&Object.prototype.hasOwnProperty.call(n,t)),B$=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(iI);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},eOe=e=>ms(0,255,e),yS=I(S({},Pu),{transform:e=>Math.round(eOe(e))}),qa={test:sI("rgb","red"),parse:B$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+yS.transform(e)+", "+yS.transform(t)+", "+yS.transform(n)+", "+Ud(Cf.transform(r))+")"};function tOe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const D1={test:sI("#"),parse:tOe,transform:qa.transform},Ih=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),_o=Ih("deg"),cs=Ih("%"),Ye=Ih("px"),nOe=Ih("vh"),rOe=Ih("vw"),D2=I(S({},cs),{parse:e=>cs.parse(e)/100,transform:e=>cs.transform(e*100)}),bl={test:sI("hsl","hue"),parse:B$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+cs.transform(Ud(t))+", "+cs.transform(Ud(n))+", "+Ud(Cf.transform(r))+")"},rn={test:e=>qa.test(e)||D1.test(e)||bl.test(e),parse:e=>qa.test(e)?qa.parse(e):bl.test(e)?bl.parse(e):D1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qa.transform(e):bl.transform(e),getAnimatableNone:e=>{const t=rn.parse(e);return t.alpha=0,rn.transform(t)}},iOe=new RegExp("(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))","giu");function sOe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(iI))==null?void 0:t.length)||0)+(((n=e.match(iOe))==null?void 0:n.length)||0)>0}const G$="number",W$="color",oOe="var",aOe="var(",L2="${}",cOe=new RegExp("var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)","giu");function Ef(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(cOe,c=>(rn.test(c)?(r.color.push(s),i.push(W$),n.push(rn.parse(c))):c.startsWith(aOe)?(r.var.push(s),i.push(oOe),n.push(c)):(r.number.push(s),i.push(G$),n.push(parseFloat(c))),++s,L2)).split(L2);return{values:n,split:a,indexes:r,types:i}}function q$(e){return Ef(e).values}function V$(e){const{split:t,types:n}=Ef(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===G$?s+=Ud(i[o]):a===W$?s+=rn.transform(i[o]):s+=i[o]}return s}}const lOe=e=>typeof e=="number"?0:rn.test(e)?rn.getAnimatableNone(e):e;function uOe(e){const t=q$(e);return V$(e)(t.map(lOe))}const ea={test:sOe,parse:q$,createTransformer:V$,getAnimatableNone:uOe};function bS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dOe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=bS(c,a,e+1/3),s=bS(c,a,e),o=bS(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function vg(e,t){return n=>n>0?t:e}const Mt=(e,t,n)=>e+(t-e)*n,CS=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},fOe=[D1,qa,bl],hOe=e=>fOe.find(t=>t.test(e));function j2(e){const t=hOe(e);if(!t)return!1;let n=t.parse(e);return t===bl&&(n=dOe(n)),n}const F2=(e,t)=>{const n=j2(e),r=j2(t);if(!n||!r)return vg(e,t);const i=S({},n);return s=>(i.red=CS(n.red,r.red,s),i.green=CS(n.green,r.green,s),i.blue=CS(n.blue,r.blue,s),i.alpha=Mt(n.alpha,r.alpha,s),qa.transform(i))},L1=new Set(["none","hidden"]);function pOe(e,t){return L1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mOe(e,t){return n=>Mt(e,t,n)}function oI(e){return typeof e=="number"?mOe:typeof e=="string"?rI(e)?vg:rn.test(e)?F2:vOe:Array.isArray(e)?$$:typeof e=="object"?rn.test(e)?F2:gOe:vg}function $$(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>oI(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function gOe(e,t){const n=S(S({},e),t),r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=oI(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function _Oe(e,t){var i;const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][r[o]],c=(i=e.values[a])!=null?i:0;n[s]=c,r[o]++}return n}const vOe=(e,t)=>{const n=ea.createTransformer(t),r=Ef(e),i=Ef(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?L1.has(e)&&!i.values.length||L1.has(t)&&!r.values.length?pOe(e,t):Ah($$(_Oe(r,i),i.values),n):vg(e,t)};function H$(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Mt(e,t,n):oI(e)(e,t)}const yOe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>bt.update(t,n),stop:()=>Ri(t),now:()=>An.isProcessing?An.timestamp:cr.now()}},z$=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},yg=2e4;function aI(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<yg;)t+=n,r=e.next(t);return t>=yg?1/0:t}function Y$(e,t=100,n){const r=n(I(S({},e),{keyframes:[0,t]})),i=Math.min(aI(r),yg);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Qr(i)}}const bOe=5;function K$(e,t,n){const r=Math.max(t-bOe,0);return Zx(n-e(r),t-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ES=.001;function COe({duration:e=Vt.duration,bounce:t=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let i,s,o=1-t;o=ms(Vt.minDamping,Vt.maxDamping,o),e=ms(Vt.minDuration,Vt.maxDuration,Qr(e)),o<1?(i=l=>{const u=l*o,d=u*e,f=u-n,h=j1(l,o),p=Math.exp(-d);return ES-f/h*p},s=l=>{const d=l*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(l,2)*e,p=Math.exp(-d),m=j1(Math.pow(l,2),o);return(-i(l)+ES>0?-1:1)*((f-h)*p)/m}):(i=l=>{const u=Math.exp(-l*e),d=(l-n)*e+1;return-ES+u*d},s=l=>{const u=Math.exp(-l*e),d=(n-l)*(e*e);return u*d});const a=5/e,c=SOe(i,s,a);if(e=wi(e),isNaN(c))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:e};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const EOe=12;function SOe(e,t,n){let r=n;for(let i=1;i<EOe;i++)r=r-e(r)/t(r);return r}function j1(e,t){return e*Math.sqrt(1-t*t)}const OOe=["duration","bounce"],TOe=["stiffness","damping","mass"];function U2(e,t){return t.some(n=>e[n]!==void 0)}function wOe(e){let t=S({velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1},e);if(!U2(e,TOe)&&U2(e,OOe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ms(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=I(S({},t),{mass:Vt.mass,stiffness:i,damping:s})}else{const n=COe(e);t=I(S(S({},t),n),{mass:Vt.mass}),t.isResolvedFromDuration=!0}return t}function Sf(e=Vt.visualDuration,t=Vt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=wOe(I(S({},n),{velocity:-Qr(n.velocity||0)})),p=f||0,m=l/(2*Math.sqrt(c*u)),g=o-s,y=Qr(Math.sqrt(c/u)),v=Math.abs(g)<5;r||(r=v?Vt.restSpeed.granular:Vt.restSpeed.default),i||(i=v?Vt.restDelta.granular:Vt.restDelta.default);let T;if(m<1){const b=j1(y,m);T=O=>{const w=Math.exp(-m*y*O);return o-w*((p+m*y*g)/b*Math.sin(b*O)+g*Math.cos(b*O))}}else if(m===1)T=b=>o-Math.exp(-y*b)*(g+(p+y*g)*b);else{const b=y*Math.sqrt(m*m-1);T=O=>{const w=Math.exp(-m*y*O),A=Math.min(b*O,300);return o-w*((p+m*y*g)*Math.sinh(A)+b*g*Math.cosh(A))/b}}const C={calculatedDuration:h&&d||null,next:b=>{const O=T(b);if(h)a.done=b>=d;else{let w=b===0?p:0;m<1&&(w=b===0?wi(p):K$(T,b,O));const A=Math.abs(w)<=r,x=Math.abs(o-O)<=i;a.done=A&&x}return a.value=a.done?o:O,a},toString:()=>{const b=Math.min(aI(C),yg),O=z$(w=>C.next(b*w).value,b,30);return b+"ms "+O},toTransition:()=>{}};return C}Sf.applyToOptions=e=>{const t=Y$(e,100,Sf);return e.ease=t.ease,e.duration=wi(t.duration),e.type="keyframes",e};function F1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=A=>a!==void 0&&A<a||c!==void 0&&A>c,p=A=>a===void 0?c:c===void 0||Math.abs(a-A)<Math.abs(c-A)?a:c;let m=n*t;const g=d+m,y=o===void 0?g:o(g);y!==g&&(m=y-d);const v=A=>-m*Math.exp(-A/r),T=A=>y+v(A),C=A=>{const x=v(A),N=T(A);f.done=Math.abs(x)<=l,f.value=f.done?y:N};let b,O;const w=A=>{h(f.value)&&(b=A,O=Sf({keyframes:[f.value,p(f.value)],velocity:K$(T,A,f.value),damping:i,stiffness:s,restDelta:l,restSpeed:u}))};return w(0),{calculatedDuration:null,next:A=>{let x=!1;return!O&&b===void 0&&(x=!0,C(A),w(A)),b!==void 0&&A>=b?O.next(A-b):(!x&&C(A),f)}}}function AOe(e,t,n){const r=[],i=n||Qs.mix||H$,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ur:t;a=Ah(c,a)}r.push(a)}return r}function cI(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(bf(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=AOe(t,r,i),c=a.length,l=u=>{if(o&&u<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Ec(e[d],e[d+1],u);return a[d](f)};return n?u=>l(ms(e[0],e[s-1],u)):l}function J$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ec(0,t,r);e.push(Mt(n,1,i))}}function lI(e){const t=[0];return J$(t,e.length-1),t}function xOe(e,t){return e.map(n=>n*t)}function IOe(e,t){return e.map(()=>t||M$).splice(0,e.length-1)}function Bd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=D$(r)?r.map(M1):M1(r),s={done:!1,value:t[0]},o=xOe(n&&n.length===t.length?n:lI(t),e),a=cI(o,t,{ease:Array.isArray(i)?i:IOe(t,i)});return{calculatedDuration:e,next:c=>(s.value=a(c),s.done=c>=e,s)}}const NOe=e=>e!==null;function uI(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(NOe),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const ROe={decay:F1,inertia:F1,tween:Bd,keyframes:Bd,spring:Sf};function X$(e){typeof e.type=="string"&&(e.type=ROe[e.type])}class dI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const POe=e=>e/100;class fI extends dI{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==cr.now()&&this.tick(cr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;X$(t);const{type:n=Bd,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const c=n||Bd;c!==Bd&&typeof a[0]!="number"&&(this.mixKeyframes=Ah(POe,H$(a[0],a[1])),a=[0,100]);const l=c(I(S({},t),{keyframes:a}));s==="mirror"&&(this.mirroredGenerator=c(I(S({},t),{keyframes:[...a].reverse(),velocity:-o}))),l.calculatedDuration===null&&(l.calculatedDuration=aI(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=l}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,C=r;if(d){const A=Math.min(this.currentTime,i)/a;let x=Math.floor(A),N=A%1;!N&&A>=1&&(N=1),N===1&&x--,x=Math.min(x,d+1),!!(x%2)&&(f==="reverse"?(N=1-N,h&&(N-=h/a)):f==="mirror"&&(C=o)),T=ms(0,1,N)*a}const b=v?{done:!1,value:u[0]}:C.next(T);s&&(b.value=s(b.value));let{done:O}=b;!v&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return w&&p!==F1&&(b.value=uI(u,this.options,g,this.speed)),m&&m(b.value),w&&this.finish(),b}then(t,n){return this.finished.then(t,n)}get duration(){return Qr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qr(t)}get time(){return Qr(this.currentTime)}set time(t){var n;t=wi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(cr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=yOe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function kOe(e){var t;for(let n=1;n<e.length;n++)(t=e[n])!=null||(e[n]=e[n-1])}const Va=e=>e*180/Math.PI,U1=e=>{const t=Va(Math.atan2(e[1],e[0]));return B1(t)},MOe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:U1,rotateZ:U1,skewX:e=>Va(Math.atan(e[1])),skewY:e=>Va(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},B1=e=>(e=e%360,e<0&&(e+=360),e),B2=U1,G2=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),W2=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),DOe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:G2,scaleY:W2,scale:e=>(G2(e)+W2(e))/2,rotateX:e=>B1(Va(Math.atan2(e[6],e[5]))),rotateY:e=>B1(Va(Math.atan2(-e[2],e[0]))),rotateZ:B2,rotate:B2,skewX:e=>Va(Math.atan(e[4])),skewY:e=>Va(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function G1(e){return e.includes("scale")?1:0}function W1(e,t){if(!e||e==="none")return G1(t);const n=e.match(new RegExp("^matrix3d\\(([-\\d.e\\s,]+)\\)$","u"));let r,i;if(n)r=DOe,i=n;else{const a=e.match(new RegExp("^matrix\\(([-\\d.e\\s,]+)\\)$","u"));r=MOe,i=a}if(!i)return G1(t);const s=r[t],o=i[1].split(",").map(jOe);return typeof s=="function"?s(o):o[s]}const LOe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return W1(n,t)};function jOe(e){return parseFloat(e.trim())}const ku=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mu=new Set(ku),q2=e=>e===Pu||e===Ye,FOe=new Set(["x","y","z"]),UOe=ku.filter(e=>!FOe.has(e));function BOe(e){const t=[];return UOe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ic={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>W1(t,"x"),y:(e,{transform:t})=>W1(t,"y")};ic.translateX=ic.x;ic.translateY=ic.y;const sc=new Set;let q1=!1,V1=!1,$1=!1;function Q$(){if(V1){const e=Array.from(sc).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=BOe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}V1=!1,q1=!1,sc.forEach(e=>e.complete($1)),sc.clear()}function Z$(){sc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(V1=!0)})}function GOe(){$1=!0,Z$(),Q$(),$1=!1}class hI{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(sc.add(this),q1||(q1=!0,bt.read(Z$),bt.resolveKeyframes(Q$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}kOe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),sc.delete(this)}cancel(){this.state==="scheduled"&&(sc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WOe=e=>e.startsWith("--");function qOe(e,t,n){WOe(t)?e.style.setProperty(t,n):e.style[t]=n}const e9=Xx(()=>window.ScrollTimeline!==void 0),VOe={};function $Oe(e,t){const n=Xx(e);return()=>{var r;return(r=VOe[t])!=null?r:n()}}const t9=$Oe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),Sd=([e,t,n,r])=>"cubic-bezier(".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,")"),V2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sd([0,.65,.55,1]),circOut:Sd([.55,0,1,.45]),backIn:Sd([.31,.01,.66,-.59]),backOut:Sd([.33,1.53,.69,.99])};function n9(e,t){if(e)return typeof e=="function"?t9()?z$(e,t):"ease-out":j$(e)?Sd(e):Array.isArray(e)?e.map(n=>n9(n,t)||V2.easeOut):V2[e]}function HOe(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},l=void 0){const u={[t]:n};c&&(u.offset=c);const d=n9(a,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),e.animate(u,f)}function pI(e){return typeof e=="function"&&"applyToOptions"in e}function zOe(n){var r=n,{type:e}=r,t=W(r,["type"]);var i,s;return pI(e)&&t9()?e.applyToOptions(t):((i=t.duration)!=null||(t.duration=300),(s=t.ease)!=null||(t.ease="easeOut"),t)}class YOe extends dI{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,bf(typeof t.type!="string");const l=zOe(t);this.animation=HOe(n,r,i,l,s),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=uI(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):qOe(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qr(t)}get time(){return Qr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=wi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&e9()?(this.animation.timeline=t,ur):n(this)}}const r9={anticipate:R$,backInOut:N$,circInOut:k$};function KOe(e){return e in r9}function JOe(e){typeof e.ease=="string"&&KOe(e.ease)&&(e.ease=r9[e.ease])}const $2=10;class XOe extends YOe{constructor(t){JOe(t),X$(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){var u;const l=this.options,{motionValue:n,onUpdate:r,onComplete:i,element:s}=l,o=W(l,["motionValue","onUpdate","onComplete","element"]);if(!n)return;if(t!==void 0){n.set(t);return}const a=new fI(I(S({},o),{autoplay:!1})),c=wi((u=this.finishedTime)!=null?u:this.time);n.setWithVelocity(a.sample(c-$2).value,a.sample(c).value,$2),a.stop()}}const H2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ea.test(e)||e==="0")&&!e.startsWith("url("));function QOe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ZOe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=H2(i,t),a=H2(s,t);return!o||!a?!1:QOe(e)||(n==="spring"||pI(n))&&r}function H1(e){e.duration=0,e.type="keyframes"}const eTe=new Set(["opacity","clipPath","filter","transform"]),tTe=Xx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nTe(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return tTe()&&n&&eTe.has(n)&&(n!=="transform"||!l)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const rTe=40;class iTe extends dI{constructor(f){var h=f,{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:l,element:u}=h,d=W(h,["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"]);var g;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=cr.now();const p=S({autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:l,element:u},d),m=(u==null?void 0:u.KeyframeResolver)||hI;this.keyframeResolver=new m(a,(y,v,T)=>this.onKeyframesResolved(y,v,p,!T),c,l,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:l,onUpdate:u}=r;this.resolvedAt=cr.now(),ZOe(t,s,o,a)||((Qs.instantAnimations||!c)&&(u==null||u(uI(t,r,n))),t[0]=t[t.length-1],H1(r),r.repeat=0);const d=i?this.resolvedAt?this.resolvedAt-this.createdAt>rTe?this.resolvedAt:this.createdAt:this.createdAt:void 0,f=I(S({startTime:d,finalKeyframe:n},r),{keyframes:t}),h=!l&&nTe(f)?new XOe(I(S({},f),{element:f.motionValue.owner.current})):new fI(f);h.finished.then(()=>this.notifyFinished()).catch(ur),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),GOe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class sTe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return z2(this.animations,"duration")}get iterationDuration(){return z2(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function z2(e,t){let n=0;for(let r=0;r<e.length;r++){const i=e[r][t];i!==null&&i>n&&(n=i)}return n}class oTe extends sTe{then(t,n){return this.finished.finally(t).then(()=>{})}}const aTe=new RegExp("^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)","u");function cTe(e){const t=aTe.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(n!=null?n:r),i]}function i9(e,t,n=1){const[r,i]=cTe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return S$(o)?parseFloat(o):o}return rI(i)?i9(i,t,n+1):i}function mI(e,t){var n,r;return(r=(n=e==null?void 0:e[t])!=null?n:e==null?void 0:e.default)!=null?r:e}const s9=new Set(["width","height","top","left","right","bottom",...ku]),lTe={test:e=>e==="auto",parse:e=>e},o9=e=>t=>t.test(e),a9=[Pu,Ye,cs,_o,rOe,nOe,lTe],Y2=e=>a9.find(o9(e));function uTe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||T$(e):!0}const dTe=new Set(["brightness","contrast","saturate","opacity"]);function fTe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(iI)||[];if(!r)return e;const i=n.replace(r,"");let s=dTe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const hTe=new RegExp("\\b([a-z-]*)\\(.*?\\)","gu"),z1=I(S({},ea),{getAnimatableNone:e=>{const t=e.match(hTe);return t?t.map(fTe).join(" "):e}}),K2=I(S({},Pu),{transform:Math.round}),pTe={rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:Sp,scaleX:Sp,scaleY:Sp,scaleZ:Sp,skew:_o,skewX:_o,skewY:_o,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:Cf,originX:D2,originY:D2,originZ:Ye},gI=I(S({borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye},pTe),{zIndex:K2,fillOpacity:Cf,strokeOpacity:Cf,numOctaves:K2}),mTe=I(S({},gI),{color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:z1,WebkitFilter:z1}),c9=e=>mTe[e];function l9(e,t){let n=c9(e);return n!==z1&&(n=ea),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const gTe=new Set(["auto","none","0"]);function _Te(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!gTe.has(s)&&Ef(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=l9(n,i)}class vTe extends hI{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),rI(l))){const u=i9(l,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!s9.has(r)||t.length!==2)return;const[i,s]=t,o=Y2(i),a=Y2(s);if(o!==a)if(q2(o)&&q2(a))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else ic[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||uTe(t[i]))&&r.push(i);r.length&&_Te(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ic[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ic[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function _I(e,t,n){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(r=n==null?void 0:n[e])!=null?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const u9=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function vI(e){return O$(e)&&"offsetHeight"in e}const J2=30,yTe=e=>!isNaN(parseFloat(e)),Gd={current:void 0};class bTe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=cr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=cr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yTe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Qx);const r=this.events[t].add(n);return t==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Gd.current&&Gd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>J2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,J2);return Zx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bi(e,t){return new bTe(e,t)}const{schedule:yI}=F$(queueMicrotask,!1),gi={x:!1,y:!1};function d9(){return gi.x||gi.y}function CTe(e){return e==="x"||e==="y"?gi[e]?null:(gi[e]=!0,()=>{gi[e]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function f9(e,t){const n=_I(e),r=new AbortController,i=I(S({passive:!0},t),{signal:r.signal});return[n,i,()=>r.abort()]}function X2(e){return!(e.pointerType==="touch"||d9())}function ETe(e,t,n={}){const[r,i,s]=f9(e,n),o=a=>{if(!X2(a))return;const{target:c}=a,l=t(c,a);if(typeof l!="function"||!c)return;const u=d=>{X2(d)&&(l(d),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const h9=(e,t)=>t?e===t?!0:h9(e,t.parentElement):!1,bI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,STe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OTe(e){return STe.has(e.tagName)||e.tabIndex!==-1}const am=new WeakSet;function Q2(e){return t=>{t.key==="Enter"&&e(t)}}function SS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const TTe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Q2(()=>{if(am.has(n))return;SS(n,"down");const i=Q2(()=>{SS(n,"up")}),s=()=>SS(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Z2(e){return bI(e)&&!d9()}function wTe(e,t,n={}){const[r,i,s]=f9(e,n),o=a=>{const c=a.currentTarget;if(!Z2(a))return;am.add(c);const l=t(c,a),u=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),am.has(c)&&am.delete(c),Z2(h)&&typeof l=="function"&&l(h,{success:p})},d=h=>{u(h,c===window||c===document||n.useGlobalTarget||h9(c,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),vI(a)&&(a.addEventListener("focus",l=>TTe(l,i)),!OTe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function av(e){return O$(e)&&"ownerSVGElement"in e}const cm=new WeakMap;let vo;const p9=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+"Size"]:av(r)&&"getBBox"in r?r.getBBox()[t]:r[n],ATe=p9("inline","width","offsetWidth"),xTe=p9("block","height","offsetHeight");function ITe({target:e,borderBoxSize:t}){var n;(n=cm.get(e))==null||n.forEach(r=>{r(e,{get width(){return ATe(e,t)},get height(){return xTe(e,t)}})})}function NTe(e){e.forEach(ITe)}function RTe(){typeof ResizeObserver>"u"||(vo=new ResizeObserver(NTe))}function PTe(e,t){vo||RTe();const n=_I(e);return n.forEach(r=>{let i=cm.get(r);i||(i=new Set,cm.set(r,i)),i.add(t),vo==null||vo.observe(r)}),()=>{n.forEach(r=>{const i=cm.get(r);i==null||i.delete(t),i!=null&&i.size||vo==null||vo.unobserve(r)})}}const lm=new Set;let Cl;function kTe(){Cl=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};lm.forEach(t=>t(e))},window.addEventListener("resize",Cl)}function MTe(e){return lm.add(e),Cl||kTe(),()=>{lm.delete(e),!lm.size&&typeof Cl=="function"&&(window.removeEventListener("resize",Cl),Cl=void 0)}}function DTe(e,t){return typeof e=="function"?MTe(e):PTe(e,t)}function m9(e,t){let n;const r=()=>{const{currentTime:i}=t,o=(i===null?0:i.value)/100;n!==o&&e(o),n=o};return bt.preUpdate(r,!0),()=>Ri(r)}function g9(e){return av(e)&&e.tagName==="svg"}function LTe(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function O8e(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(i,s)=>{const o=typeof n=="number"?n:LTe(n,s),a=Math.abs(o-i);let c=e*a;if(r){const l=s*e;c=M1(r)(c/l)*l}return t+c}}function jTe(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],s=e[2+n],o=e[3+n],a=cI(i,s,o);return t?a(r):a}const xn=e=>!!(e&&e.getVelocity),FTe=[...a9,rn,ea],UTe=e=>FTe.find(o9(e)),cv=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ej(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function BTe(...e){return t=>{let n=!1;const r=e.map(i=>{const s=ej(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():ej(e[i],null)}}}}function GTe(...e){return E.useCallback(BTe(...e),e)}class WTe extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=vI(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qTe({children:e,isPresent:t,anchorX:n,root:r}){const i=E.useId(),s=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(cv),c=GTe(s,e==null?void 0:e.ref);return E.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f,right:h}=o.current;if(t||!s.current||!l||!u)return;const p=n==="left"?"left: ".concat(f):"right: ".concat(h);s.current.dataset.motionPopId=i;const m=document.createElement("style");a&&(m.nonce=a);const g=r!=null?r:document.head;return g.appendChild(m),m.sheet&&m.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(l,"px !important;\n            height: ").concat(u,"px !important;\n            ").concat(p,"px !important;\n            top: ").concat(d,"px !important;\n          }\n        ")),()=>{g.contains(m)&&g.removeChild(m)}},[t]),_.jsx(WTe,{isPresent:t,childRef:s,sizeRef:o,children:E.cloneElement(e,{ref:c})})}const VTe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const l=Dc($Te),u=E.useId();let d=!0,f=E.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return s&&d&&(f=S({},f)),E.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),E.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=_.jsx(qTe,{isPresent:n,anchorX:a,root:c,children:e})),_.jsx(wh.Provider,{value:f,children:e})};function $Te(){return new Map}function _9(e=!0){const t=E.useContext(wh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=E.useId();E.useEffect(()=>{if(e)return i(s)},[e]);const o=E.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}function T8e(){return HTe(E.useContext(wh))}function HTe(e){return e===null?!0:e.isPresent}const Op=e=>e.key||"";function tj(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const w8e=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[l,u]=_9(o),d=E.useMemo(()=>tj(e),[e]),f=o&&!l?[]:d.map(Op),h=E.useRef(!0),p=E.useRef(d),m=Dc(()=>new Map),[g,y]=E.useState(d),[v,T]=E.useState(d);Ru(()=>{h.current=!1,p.current=d;for(let O=0;O<v.length;O++){const w=Op(v[O]);f.includes(w)?m.delete(w):m.get(w)!==!0&&m.set(w,!1)}},[v,f.length,f.join("-")]);const C=[];if(d!==g){let O=[...d];for(let w=0;w<v.length;w++){const A=v[w],x=Op(A);f.includes(x)||(O.splice(w,0,A),C.push(A))}return s==="wait"&&C.length&&(O=C),T(tj(O)),y(d),null}const{forceRender:b}=E.useContext(yf);return _.jsx(_.Fragment,{children:v.map(O=>{const w=Op(O),A=o&&!l?!1:d===v||f.includes(w),x=()=>{if(m.has(w))m.set(w,!0);else return;let N=!0;m.forEach(R=>{R||(N=!1)}),N&&(b==null||b(),T(p.current),o&&(u==null||u()),r&&r())};return _.jsx(VTe,{isPresent:A,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:A?void 0:x,anchorX:a,children:O},w)})})},zTe=E.createContext(null);function YTe(){const e=E.useRef(!1);return Ru(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function KTe(){const e=YTe(),[t,n]=E.useState(0),r=E.useCallback(()=>{e.current&&n(t+1)},[t]);return[E.useCallback(()=>bt.postRender(r),[r]),t]}const JTe=e=>!e.isLayoutDirty&&e.willUpdate(!1);function nj(){const e=new Set,t=new WeakMap,n=()=>e.forEach(JTe);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const i=t.get(r);i&&(i(),t.delete(r)),n()},dirty:n}}const v9=e=>e===!0,XTe=e=>v9(e===!0)||e==="id",A8e=({children:e,id:t,inherit:n=!0})=>{const r=E.useContext(yf),i=E.useContext(zTe),[s,o]=KTe(),a=E.useRef(null),c=r.id||i;a.current===null&&(XTe(n)&&c&&(t=t?c+"-"+t:c),a.current={id:t,group:v9(n)&&r.group||nj()});const l=E.useMemo(()=>I(S({},a.current),{forceRender:s}),[o]);return _.jsx(yf.Provider,{value:l,children:e})},y9=E.createContext({strict:!1}),rj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const e in rj)cu[e]={isEnabled:t=>rj[e].some(n=>!!t[n])};function QTe(e){for(const t in e)cu[t]=S(S({},cu[t]),e[t])}const ZTe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ZTe.has(e)}let b9=e=>!bg(e);function e1e(e){typeof e=="function"&&(b9=t=>t.startsWith("on")?!bg(t):e(t))}try{e1e(require("@emotion/is-prop-valid").default)}catch(e){}function t1e(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(b9(i)||n===!0&&bg(i)||!t&&!bg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const lv=E.createContext({});function uv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Of(e){return typeof e=="string"||Array.isArray(e)}const CI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],EI=["initial",...CI];function dv(e){return uv(e.animate)||EI.some(t=>Of(e[t]))}function C9(e){return!!(dv(e)||e.variants)}function n1e(e,t){if(dv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Of(n)?n:void 0,animate:Of(r)?r:void 0}}return e.inherit!==!1?t:{}}function r1e(e){const{initial:t,animate:n}=n1e(e,E.useContext(lv));return E.useMemo(()=>({initial:t,animate:n}),[ij(t),ij(n)])}function ij(e){return Array.isArray(e)?e.join(" "):e}const Tf={};function i1e(e){for(const t in e)Tf[t]=e[t],nI(t)&&(Tf[t].isCSSVariable=!0)}function E9(e,{layout:t,layoutId:n}){return Mu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tf[e]||e==="opacity")}const s1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o1e=ku.length;function a1e(e,t,n){let r="",i=!0;for(let s=0;s<o1e;s++){const o=ku[s],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const l=u9(a,gI[o]);if(!c){i=!1;const u=s1e[o]||o;r+="".concat(u,"(").concat(l,") ")}n&&(t[o]=l)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function SI(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const c in t){const l=t[c];if(Mu.has(c)){o=!0;continue}else if(nI(c)){i[c]=l;continue}else{const u=u9(l,gI[c]);c.startsWith("origin")?(a=!0,s[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=a1e(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=s;r.transformOrigin="".concat(c," ").concat(l," ").concat(u)}}const OI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S9(e,t,n){for(const r in t)!xn(t[r])&&!E9(r,n)&&(e[r]=t[r])}function c1e({transformTemplate:e},t){return E.useMemo(()=>{const n=OI();return SI(n,t,e),Object.assign({},n.vars,n.style)},[t])}function l1e(e,t){const n=e.style||{},r={};return S9(r,n,e),Object.assign(r,c1e(e,t)),r}function u1e(e,t){const n={},r=l1e(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":"pan-".concat(e.drag==="x"?"y":"x")),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const d1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},f1e={offset:"strokeDashoffset",array:"strokeDasharray"};function h1e(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?d1e:f1e;e[s.offset]=Ye.transform(-r);const o=Ye.transform(t),a=Ye.transform(n);e[s.array]="".concat(o," ").concat(a)}function O9(e,d,c,l,u){var f=d,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0}=f,a=W(f,["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"]);var m,g;if(SI(e,a,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=(m=h.transformOrigin)!=null?m:"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(g=u==null?void 0:u.transformBox)!=null?g:"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&h1e(h,i,s,o,!1)}const T9=()=>I(S({},OI()),{attrs:{}}),w9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function p1e(e,t,n,r){const i=E.useMemo(()=>{const s=T9();return O9(s,t,w9(r),e.transformTemplate,e.style),I(S({},s.attrs),{style:S({},s.style)})},[t]);if(e.style){const s={};S9(s,e.style,e),i.style=S(S({},s),i.style)}return i}const m1e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TI(e){return typeof e!="string"||e.includes("-")?!1:!!(m1e.indexOf(e)>-1||new RegExp("[A-Z]","u").test(e))}function g1e(e,t,n,{latestValues:r},i,s=!1){const a=(TI(e)?p1e:u1e)(t,r,i,e),c=t1e(t,typeof e=="string",s),l=e!==E.Fragment?I(S(S({},c),a),{ref:n}):{},{children:u}=t,d=E.useMemo(()=>xn(u)?u.get():u,[u]);return E.createElement(e,I(S({},l),{children:d}))}function sj(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function wI(e,t,n,r){if(typeof t=="function"){const[i,s]=sj(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=sj(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function um(e){return xn(e)?e.get():e}function _1e({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:v1e(n,r,i,e),renderState:t()}}function v1e(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=um(s[h]);let{initial:o,animate:a}=e;const c=dv(e),l=C9(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!uv(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const m=wI(e,h[p]);if(m){const f=m,{transitionEnd:g,transition:y}=f,v=W(f,["transitionEnd","transition"]);for(const T in v){let C=v[T];if(Array.isArray(C)){const b=u?C.length-1:0;C=C[b]}C!==null&&(i[T]=C)}for(const T in g)i[T]=g[T]}}}return i}const A9=e=>(t,n)=>{const r=E.useContext(lv),i=E.useContext(wh),s=()=>_1e(e,t,r,i);return n?s():Dc(s)};function AI(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(xn(r[o])||t.style&&xn(t.style[o])||E9(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const y1e=A9({scrapeMotionValuesFromProps:AI,createRenderState:OI});function x9(e,t,n){const r=AI(e,t,n);for(const i in e)if(xn(e[i])||xn(t[i])){const s=ku.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const b1e=A9({scrapeMotionValuesFromProps:x9,createRenderState:T9}),C1e=Symbol.for("motionComponentSymbol");function El(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function E1e(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):El(n)&&(n.current=r))},[t])}const xI=e=>e.replace(new RegExp("([a-z])([A-Z])","gu"),"$1-$2").toLowerCase(),S1e="framerAppearId",I9="data-"+xI(S1e),N9=E.createContext({});function O1e(e,t,n,r,i){var m,g;const{visualElement:s}=E.useContext(lv),o=E.useContext(y9),a=E.useContext(wh),c=E.useContext(cv).reducedMotion,l=E.useRef(null);r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const u=l.current,d=E.useContext(N9);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&T1e(l.current,n,i,d);const f=E.useRef(!1);E.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const h=n[I9],p=E.useRef(!!h&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,h))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,h)));return Ru(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,h)}),p.current=!1),u.enteringChildren=void 0)}),u}function T1e(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:R9(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&El(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function R9(e){if(e)return e.options.allowProjection!==!1?e.projection:R9(e.parent)}function OS(e,{forwardMotionProps:t=!1}={},n,r){var a,c;n&&QTe(n);const i=TI(e)?b1e:y1e;function s(l,u){let d;const f=I(S(S({},E.useContext(cv)),l),{layoutId:w1e(l)}),{isStatic:h}=f,p=r1e(l),m=i(l,h);if(!h&&Kx){A1e();const g=x1e(f);d=g.MeasureLayout,p.visualElement=O1e(e,m,f,r,g.ProjectionNode)}return _.jsxs(lv.Provider,{value:p,children:[d&&p.visualElement?_.jsx(d,S({visualElement:p.visualElement},f)):null,g1e(e,l,E1e(m,p.visualElement,u),m,h,t)]})}s.displayName="motion.".concat(typeof e=="string"?e:"create(".concat((c=(a=e.displayName)!=null?a:e.name)!=null?c:"",")"));const o=E.forwardRef(s);return o[C1e]=e,o}function w1e({layoutId:e}){const t=E.useContext(yf).id;return t&&e!==void 0?t+"-"+e:e}function A1e(e,t){E.useContext(y9).strict}function x1e(e){const{drag:t,layout:n}=cu;if(!t&&!n)return{};const r=S(S({},t),n);return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function I1e(e,t){if(typeof Proxy>"u")return OS;const n=new Map,r=(s,o)=>OS(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,OS(o,void 0,e,t)),n.get(o))})}function P9({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function N1e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function R1e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function TS(e){return e===void 0||e===1}function Y1({scale:e,scaleX:t,scaleY:n}){return!TS(e)||!TS(t)||!TS(n)}function Pa(e){return Y1(e)||k9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function k9(e){return oj(e.x)||oj(e.y)}function oj(e){return e&&e!=="0%"}function Cg(e,t,n){const r=e-n,i=t*r;return n+i}function aj(e,t,n,r,i){return i!==void 0&&(e=Cg(e,i,r)),Cg(e,n,r)+t}function K1(e,t=0,n=1,r,i){e.min=aj(e.min,t,n,r,i),e.max=aj(e.max,t,n,r,i)}function M9(e,{x:t,y:n}){K1(e.x,t.translate,t.scale,t.originPoint),K1(e.y,n.translate,n.scale,n.originPoint)}const cj=.999999999999,lj=1.0000000000001;function P1e(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ol(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,M9(e,o)),r&&Pa(s.latestValues)&&Ol(e,s.latestValues))}t.x<lj&&t.x>cj&&(t.x=1),t.y<lj&&t.y>cj&&(t.y=1)}function Sl(e,t){e.min=e.min+t,e.max=e.max+t}function uj(e,t,n,r,i=.5){const s=Mt(e.min,e.max,i);K1(e,t,n,s,r)}function Ol(e,t){uj(e.x,t.x,t.scaleX,t.scale,t.originX),uj(e.y,t.y,t.scaleY,t.scale,t.originY)}function D9(e,t){return P9(R1e(e.getBoundingClientRect(),t))}function k1e(e,t,n){const r=D9(e,n),{scroll:i}=t;return i&&(Sl(r.x,i.offset.x),Sl(r.y,i.offset.y)),r}const dj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tl=()=>({x:dj(),y:dj()}),fj=()=>({min:0,max:0}),qt=()=>({x:fj(),y:fj()}),Eg={current:null},II={current:!1};function L9(){if(II.current=!0,!!Kx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Eg.current=e.matches;e.addEventListener("change",t),t()}else Eg.current=!1}const wf=new WeakMap;function M1e(e,t,n){for(const r in t){const i=t[r],s=n[r];if(xn(i))e.addValue(r,i);else if(xn(s))e.addValue(r,bi(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,bi(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const hj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=cr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,bt.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget=S({},c),this.initialValues=n.initial?S({},c):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=dv(n),this.isVariantNode=C9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const f=this.scrapeMotionValuesFromProps(n,{},this),{willChange:u}=f,d=W(f,["willChange"]);for(const h in d){const p=d[h];c[h]!==void 0&&xn(p)&&p.set(c[h])}}mount(t){var n;this.current=t,wf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),II.current||L9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Eg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){var n;this.children.add(t),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Mu.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cu){const n=cu[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hj.length;r++){const i=hj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=M1e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=bi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var i;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!=null?i:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(S$(r)||T$(r))?r=parseFloat(r):!UTe(r)&&ea.test(n)&&(r=l9(t,n)),this.setBaseTarget(t,xn(r)?r.get():r)),xn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=wI(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!xn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Qx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){yI.render(this.render)}}class F9 extends j9{constructor(){super(...arguments),this.KeyframeResolver=vTe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent="".concat(n))}))}}function U9(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function D1e(e){return window.getComputedStyle(e)}class B9 extends F9{constructor(){super(...arguments),this.type="html",this.renderInstance=U9}readValueFromInstance(t,n){var r;if(Mu.has(n))return(r=this.projection)!=null&&r.isProjecting?G1(n):LOe(t,n);{const i=D1e(t),s=(nI(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return D9(t,n)}build(t,n,r){SI(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return AI(t,n,r)}}const G9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function L1e(e,t,n,r){U9(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(G9.has(i)?i:xI(i),t.attrs[i])}class W9 extends F9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Mu.has(n)){const r=c9(n);return r&&r.default||0}return n=G9.has(n)?n:xI(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return x9(t,n,r)}build(t,n,r){O9(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){L1e(t,n,r,i)}mount(t){this.isSVGTag=w9(t.tagName),super.mount(t)}}const j1e=(e,t)=>TI(e)?new W9(t):new B9(t,{allowProjection:e!==E.Fragment});function jl(e,t,n){const r=e.getProps();return wI(r,t,n!==void 0?n:r.custom,e)}const J1=e=>Array.isArray(e);function F1e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bi(n))}function U1e(e){return J1(e)?e[e.length-1]||0:e}function NI(e,t){let o=jl(e,t)||{},{transitionEnd:r={},transition:i={}}=o,s=W(o,["transitionEnd","transition"]);s=S(S({},s),r);for(const a in s){const c=U1e(s[a]);F1e(e,a,c)}}function B1e(e){return!!(xn(e)&&e.add)}function X1(e,t){const n=e.getValue("willChange");if(B1e(n))return n.add(t);if(!n&&Qs.WillChange){const r=new Qs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function q9(e){return e.props[I9]}const G1e=e=>e!==null;function W1e(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(G1e),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const q1e={type:"spring",stiffness:500,damping:25,restSpeed:10},V1e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$1e={type:"keyframes",duration:.8},H1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z1e=(e,{keyframes:t})=>t.length>2?$1e:Mu.has(e)?e.startsWith("scale")?V1e(t[1]):q1e:H1e;function Y1e(d){var f=d,{when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:l}=f,u=W(f,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(u).length}const RI=(e,t,n,r={},i,s)=>o=>{const a=mI(r,e)||{},c=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-wi(c);const u=I(S({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i});Y1e(a)||Object.assign(u,z1e(e,u)),u.duration&&(u.duration=wi(u.duration)),u.repeatDelay&&(u.repeatDelay=wi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(H1(u),u.delay===0&&(d=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(d=!0,H1(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&t.get()!==void 0){const f=W1e(u.keyframes,a);if(f!==void 0){bt.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new fI(u):new iTe(u)};function K1e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function PI(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var d;let u=t,{transition:s=e.getDefaultTransition(),transitionEnd:o}=u,a=W(u,["transition","transitionEnd"]);r&&(s=r);const c=[],l=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const h=e.getValue(f,(d=e.latestValues[f])!=null?d:null),p=a[f];if(p===void 0||l&&K1e(l,f))continue;const m=S({delay:n},mI(s||{},f)),g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===g&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const T=q9(e);if(T){const C=window.MotionHandoffAnimation(T,f,bt);C!==null&&(m.startTime=C,y=!0)}}X1(e,f),h.start(RI(f,h,p,e.shouldReduceMotion&&s9.has(f)?{type:!1}:m,e,y));const v=h.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{bt.update(()=>{o&&NI(e,o)})}),c}function V9(e,t,n,r=0,i=1){const s=Array.from(e).sort((l,u)=>l.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Q1(e,t,n={}){var c;const r=jl(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(PI(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return J1e(e,t,l,u,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function J1e(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(Q1(c,t,I(S({},o),{delay:n+(typeof r=="function"?0:r)+V9(e.variantChildren,c,r,i,s)})).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function $9(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Q1(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Q1(e,t,n);else{const i=typeof t=="function"?jl(e,t,n.custom):t;r=Promise.all(PI(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function H9(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const X1e=EI.length;function z9(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?z9(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<X1e;n++){const r=EI[n],i=e.props[r];(Of(i)||i===!1)&&(t[r]=i)}return t}const Q1e=[...CI].reverse(),Z1e=CI.length;function ewe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>$9(e,n,r)))}function twe(e){let t=ewe(e),n=pj(),r=!0;const i=c=>(l,u)=>{var f;const d=jl(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const h=d,{transition:p,transitionEnd:m}=h,g=W(h,["transition","transitionEnd"]);l=S(S(S({},l),g),m)}return l};function s(c){t=c(e)}function o(c){const{props:l}=e,u=z9(e.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let g=0;g<Z1e;g++){const y=Q1e[g],v=n[y],T=l[y]!==void 0?l[y]:u[y],C=Of(T),b=y===c?v.isActive:null;b===!1&&(p=g);let O=T===u[y]&&T!==l[y]&&C;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),v.protectedKeys=S({},h),!v.isActive&&b===null||!T&&!v.prevProp||uv(T)||typeof T=="boolean")continue;const w=nwe(v.prevProp,T);let A=w||y===c&&v.isActive&&!O&&C||g>p&&C,x=!1;const N=Array.isArray(T)?T:[T];let R=N.reduce(i(y),{});b===!1&&(R={});const{prevResolvedValues:L={}}=v,D=S(S({},L),R),F=V=>{A=!0,f.has(V)&&(x=!0,f.delete(V)),v.needsAnimating[V]=!0;const M=e.getValue(V);M&&(M.liveStyle=!1)};for(const V in D){const M=R[V],te=L[V];if(h.hasOwnProperty(V))continue;let $=!1;J1(M)&&J1(te)?$=!H9(M,te):$=M!==te,$?M!=null?F(V):f.add(V):M!==void 0&&f.has(V)?F(V):v.protectedKeys[V]=!0}v.prevProp=T,v.prevResolvedValues=R,v.isActive&&(h=S(S({},h),R)),r&&e.blockInitialAnimation&&(A=!1);const G=O&&w;A&&(!G||x)&&d.push(...N.map(V=>{const M={type:y};if(typeof V=="string"&&r&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,$=jl(te,V);if(te.enteringChildren&&$){const{delayChildren:se}=$.transition||{};M.delay=V9(te.enteringChildren,e,se)}}return{animation:V,options:M}}))}if(f.size){const g={};if(typeof l.initial!="boolean"){const y=jl(e,Array.isArray(l.initial)?l.initial[0]:l.initial);y&&y.transition&&(g.transition=y.transition)}f.forEach(y=>{const v=e.getBaseTarget(y),T=e.getValue(y);T&&(T.liveStyle=!0),g[y]=v!=null?v:null}),d.push({animation:g})}let m=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function a(c,l){var d;if(n[c].isActive===l)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(c,l)}),n[c].isActive=l;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=pj()}}}function nwe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!H9(t,e):!1}function Ea(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pj(){return{animate:Ea(!0),whileInView:Ea(),whileHover:Ea(),whileTap:Ea(),whileDrag:Ea(),whileFocus:Ea(),exit:Ea()}}class ha{constructor(t){this.isMounted=!1,this.node=t}update(){}}class rwe extends ha{constructor(t){super(t),t.animationState||(t.animationState=twe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();uv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let iwe=0;class swe extends ha{constructor(){super(...arguments),this.id=iwe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const owe={animation:{Feature:rwe},exit:{Feature:swe}};function Af(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Nh(e){return{point:{x:e.pageX,y:e.pageY}}}const awe=e=>t=>bI(t)&&e(t,Nh(t));function Wd(e,t,n,r){return Af(e,t,awe(n),r)}const Y9=1e-4,cwe=1-Y9,lwe=1+Y9,K9=.01,uwe=0-K9,dwe=0+K9;function Qn(e){return e.max-e.min}function fwe(e,t,n){return Math.abs(e-t)<=n}function mj(e,t,n,r=.5){e.origin=r,e.originPoint=Mt(t.min,t.max,e.origin),e.scale=Qn(n)/Qn(t),e.translate=Mt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=cwe&&e.scale<=lwe||isNaN(e.scale))&&(e.scale=1),(e.translate>=uwe&&e.translate<=dwe||isNaN(e.translate))&&(e.translate=0)}function qd(e,t,n,r){mj(e.x,t.x,n.x,r?r.originX:void 0),mj(e.y,t.y,n.y,r?r.originY:void 0)}function gj(e,t,n){e.min=n.min+t.min,e.max=e.min+Qn(t)}function hwe(e,t,n){gj(e.x,t.x,n.x),gj(e.y,t.y,n.y)}function _j(e,t,n){e.min=t.min-n.min,e.max=e.min+Qn(t)}function Vd(e,t,n){_j(e.x,t.x,n.x),_j(e.y,t.y,n.y)}function qr(e){return[e("x"),e("y")]}const J9=({current:e})=>e?e.ownerDocument.defaultView:null,vj=(e,t)=>Math.abs(e-t);function pwe(e,t){const n=vj(e.x,t.x),r=vj(e.y,t.y);return Math.sqrt(n**2+r**2)}class X9{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=AS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=pwe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=An;this.history.push(I(S({},m),{timestamp:g}));const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=wS(h,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=AS(f.type==="pointercancel"?this.lastMoveEventInfo:wS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),m&&m(f,y)},!bI(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Nh(t),c=wS(a,this.transformPagePoint),{point:l}=c,{timestamp:u}=An;this.history=[I(S({},l),{timestamp:u})];const{onSessionStart:d}=n;d&&d(t,AS(c,this.history)),this.removeListeners=Ah(Wd(this.contextWindow,"pointermove",this.handlePointerMove),Wd(this.contextWindow,"pointerup",this.handlePointerUp),Wd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function wS(e,t){return t?{point:t(e.point)}:e}function yj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function AS({point:e},t){return{point:e,delta:yj(e,Q9(t)),offset:yj(e,mwe(t)),velocity:gwe(t,.1)}}function mwe(e){return e[0]}function Q9(e){return e[e.length-1]}function gwe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Q9(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>wi(t)));)n--;if(!r)return{x:0,y:0};const s=Qr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _we(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Mt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Mt(n,e,r.max):Math.min(e,n)),e}function bj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function vwe(e,{top:t,left:n,bottom:r,right:i}){return{x:bj(e.x,n,i),y:bj(e.y,t,r)}}function Cj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ywe(e,t){return{x:Cj(e.x,t.x),y:Cj(e.y,t.y)}}function bwe(e,t){let n=.5;const r=Qn(e),i=Qn(t);return i>r?n=Ec(t.min,t.max-r,e.min):r>i&&(n=Ec(e.min,e.max-i,t.min)),ms(0,1,n)}function Cwe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Z1=.35;function Ewe(e=Z1){return e===!1?e=0:e===!0&&(e=Z1),{x:Ej(e,"left","right"),y:Ej(e,"top","bottom")}}function Ej(e,t,n){return{min:Sj(e,t),max:Sj(e,n)}}function Sj(e,t){return typeof e=="number"?e:e[t]||0}const Swe=new WeakMap;class Owe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nh(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CTe(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(y=>{let v=this.getAxisMotionValue(y).get()||0;if(cs.test(v)){const{projection:T}=this.visualElement;if(T&&T.layout){const C=T.layout.layoutBox[y];C&&(v=Qn(C)*(parseFloat(v)/100))}}this.originPoint[y]=v}),m&&bt.postRender(()=>m(d,f)),X1(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=Twe(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},c=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>qr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new X9(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:J9(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&bt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Tp(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=_we(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&El(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=vwe(r.layoutBox,t):this.constraints=!1,this.elastic=Ewe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Cwe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!El(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=k1e(r,i.root,this.visualElement.getTransformPagePoint());let o=ywe(i.layout.layoutBox,s);if(n){const a=n(N1e(o));this.hasMutatedConstraints=!!a,a&&(o=P9(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=qr(u=>{if(!Tp(u,n,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p=S(S({type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},s),d);return this.startAxisValueAnimation(u,p)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return X1(this.visualElement,t),r.start(RI(t,r,0,n,this.visualElement,!1))}stopAnimation(){qr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n="_drag".concat(t.toUpperCase()),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qr(n=>{const{drag:r}=this.getProps();if(!Tp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Mt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!El(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=bwe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qr(o=>{if(!Tp(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(Mt(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;Swe.set(this.visualElement,this);const t=this.visualElement.current,n=Wd(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();El(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),bt.read(r);const o=Af(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(qr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Z1,dragMomentum:a=!0}=t;return I(S({},t),{drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a})}}function Tp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Twe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wwe extends ha{constructor(t){super(t),this.removeGroupControls=ur,this.removeListeners=ur,this.controls=new Owe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const Oj=e=>(t,n)=>{e&&bt.postRender(()=>e(t,n))};class Awe extends ha{constructor(){super(...arguments),this.removePointerDownListener=ur}onPointerDown(t){this.session=new X9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Oj(t),onStart:Oj(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&bt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Wd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ye.test(e))e=parseFloat(e);else return e;const n=Tj(e,t.target.x),r=Tj(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},xwe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ea.parse(e);if(i.length>5)return r;const s=ea.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=c;const l=Mt(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),s(i)}};let xS=!1;class Iwe extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;i1e(Nwe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),xS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(I(S({},s.options),{onExitComplete:()=>this.safeToRemove()}))),dm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,xS=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||bt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yI.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;xS=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Z9(e){const[t,n]=_9(),r=E.useContext(yf);return _.jsx(Iwe,I(S({},e),{layoutGroup:r,switchLayoutGroup:E.useContext(N9),isPresent:t,safeToRemove:n}))}const Nwe={borderRadius:I(S({},Zu),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Zu,borderTopRightRadius:Zu,borderBottomLeftRadius:Zu,borderBottomRightRadius:Zu,boxShadow:xwe};function eH(e,t,n){const r=xn(e)?e:bi(e);return r.start(RI("",r,t,n)),r.animation}const Rwe=(e,t)=>e.depth-t.depth;class Pwe{constructor(){this.children=[],this.isDirty=!1}add(t){Jx(this.children,t),this.isDirty=!0}remove(t){ov(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Rwe),this.isDirty=!1,this.children.forEach(t)}}function kwe(e,t){const n=cr.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Ri(r),e(s-t))};return bt.setup(r,!0),()=>Ri(r)}const tH=["TopLeft","TopRight","BottomLeft","BottomRight"],Mwe=tH.length,wj=e=>typeof e=="string"?parseFloat(e):e,Aj=e=>typeof e=="number"||Ye.test(e);function Dwe(e,t,n,r,i,s){var o,a,c,l;i?(e.opacity=Mt(0,(o=n.opacity)!=null?o:1,Lwe(r)),e.opacityExit=Mt((a=t.opacity)!=null?a:1,0,jwe(r))):s&&(e.opacity=Mt((c=t.opacity)!=null?c:1,(l=n.opacity)!=null?l:1,r));for(let u=0;u<Mwe;u++){const d="border".concat(tH[u],"Radius");let f=xj(t,d),h=xj(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||Aj(f)===Aj(h)?(e[d]=Math.max(Mt(wj(f),wj(h),r),0),(cs.test(h)||cs.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=Mt(t.rotate||0,n.rotate||0,r))}function xj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Lwe=nH(0,.5,P$),jwe=nH(.5,.95,ur);function nH(e,t,n){return r=>r<e?0:r>t?1:n(Ec(e,t,r))}function Ij(e,t){e.min=t.min,e.max=t.max}function Wr(e,t){Ij(e.x,t.x),Ij(e.y,t.y)}function Nj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Rj(e,t,n,r,i){return e-=t,e=Cg(e,1/n,r),i!==void 0&&(e=Cg(e,1/i,r)),e}function Fwe(e,t=0,n=1,r=.5,i,s=e,o=e){if(cs.test(t)&&(t=parseFloat(t),t=Mt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Mt(s.min,s.max,r);e===s&&(a-=t),e.min=Rj(e.min,t,n,a,i),e.max=Rj(e.max,t,n,a,i)}function Pj(e,t,[n,r,i],s,o){Fwe(e,t[n],t[r],t[i],t.scale,s,o)}const Uwe=["x","scaleX","originX"],Bwe=["y","scaleY","originY"];function kj(e,t,n,r){Pj(e.x,t,Uwe,n?n.x:void 0,r?r.x:void 0),Pj(e.y,t,Bwe,n?n.y:void 0,r?r.y:void 0)}function Mj(e){return e.translate===0&&e.scale===1}function rH(e){return Mj(e.x)&&Mj(e.y)}function Dj(e,t){return e.min===t.min&&e.max===t.max}function Gwe(e,t){return Dj(e.x,t.x)&&Dj(e.y,t.y)}function Lj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iH(e,t){return Lj(e.x,t.x)&&Lj(e.y,t.y)}function jj(e){return Qn(e.x)/Qn(e.y)}function Fj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Wwe{constructor(){this.members=[]}add(t){Jx(this.members,t),t.scheduleRender()}remove(t){if(ov(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qwe(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(o,"px) ")),(t.x!==1||t.y!==1)&&(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;l&&(r="perspective(".concat(l,"px) ").concat(r)),u&&(r+="rotate(".concat(u,"deg) ")),d&&(r+="rotateX(".concat(d,"deg) ")),f&&(r+="rotateY(".concat(f,"deg) ")),h&&(r+="skewX(".concat(h,"deg) ")),p&&(r+="skewY(".concat(p,"deg) "))}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+="scale(".concat(a,", ").concat(c,")")),r||"none"}const IS=["","X","Y","Z"],Vwe=1e3;let $we=0;function NS(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function sH(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=q9(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&sH(r)}function oH({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=$we++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ywe),this.nodes.forEach(Qwe),this.nodes.forEach(Zwe),this.nodes.forEach(Kwe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pwe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Qx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=av(o)&&!g9(o),this.instance=o;const{layoutId:a,layout:c,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{d=window.innerWidth}),e(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,u&&u(),u=kwe(f,250),dm.hasAnimatedSinceResize&&(dm.hasAnimatedSinceResize=!1,this.nodes.forEach(Gj)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||l.getDefaultTransition()||iAe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=l.getProps(),y=!this.targetLayout||!iH(this.targetLayout,h),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T=I(S({},mI(p,"layout")),{onPlay:m,onComplete:g});(l.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(u,v)}else d||Gj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eAe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Bj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Xwe),this.nodes.forEach(Hwe),this.nodes.forEach(zwe)):this.nodes.forEach(Bj),this.clearAllSnapshots();const a=cr.now();An.delta=ms(0,1e3/60,a-An.timestamp),An.timestamp=a,An.isProcessing=!0,vS.update.process(An),vS.preRender.process(An),vS.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Jwe),this.sharedNodes.forEach(tAe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qn(this.snapshot.measuredBox.x)&&!Qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!rH(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||Pa(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),sAe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return qt();const a=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(oAe))){const{scroll:u}=this.root;u&&(Sl(a.x,u.offset.x),Sl(a.y,u.offset.y))}return a}removeElementScroll(o){var c;const a=qt();if(Wr(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Wr(a,o),Sl(a.x,d.offset.x),Sl(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const c=qt();Wr(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ol(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Pa(u.latestValues)&&Ol(c,u.latestValues)}return Pa(this.latestValues)&&Ol(c,this.latestValues),c}removeTransform(o){const a=qt();Wr(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!Pa(l.latestValues))continue;Y1(l.latestValues)&&l.updateSnapshot();const u=qt(),d=l.measurePageBox();Wr(u,d),kj(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Pa(this.latestValues)&&kj(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options=I(S(S({},this.options),o),{crossfade:o.crossfade!==void 0?o.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Vd(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hwe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wr(this.target,this.layout.layoutBox),M9(this.target,this.targetDelta)):Wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Vd(this.relativeTargetOrigin,this.target,h.target),Wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Y1(this.parent.latestValues)||k9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===An.timestamp&&(c=!1),c)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;Wr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;P1e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qt());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nj(this.prevProjectionDelta.x,this.projectionDelta.x),Nj(this.prevProjectionDelta.y,this.projectionDelta.y)),qd(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Fj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tl(),this.projectionDelta=Tl(),this.projectionDeltaWithTransform=Tl()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u=S({},this.latestValues),d=Tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=qt(),h=c?c.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,g=this.getStack(),y=!g||g.members.length<=1,v=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(rAe));this.animationProgress=0;let T;this.mixTargetDelta=C=>{const b=C/1e3;Wj(d.x,o.x,b),Wj(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nAe(this.relativeTarget,this.relativeTargetOrigin,f,b),T&&Gwe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=qt()),Wr(T,this.relativeTarget)),m&&(this.animationValues=u,Dwe(u,l,this.latestValues,b,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(l=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||l.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{dm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bi(0)),this.currentAnimation=eH(this.motionValue,[0,1e3],I(S({},o),{velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vwe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&aH(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||qt();const d=Qn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=Qn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Wr(a,c),Ol(a,u),qd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Wwe),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&NS("z",o,l,this.animationValues);for(let u=0;u<IS.length;u++)NS("rotate".concat(IS[u]),o,l,this.animationValues),NS("skew".concat(IS[u]),o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}applyProjectionStyles(o,a){var p,m;if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=um(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=um(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Pa(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=qwe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(d=c(u,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin="".concat(f.origin*100,"% ").concat(h.origin*100,"% 0"),l.animationValues?o.opacity=l===this?(m=(p=u.opacity)!=null?p:this.latestValues.opacity)!=null?m:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Tf){if(u[g]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:T}=Tf[g],C=d==="none"?u[g]:y(u[g],l);if(v){const b=v.length;for(let O=0;O<b;O++)o[v[O]]=C}else T?this.options.visualElement.renderState.vars[g]=C:o[g]=C}this.options.layoutId&&(o.pointerEvents=l===this?um(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Uj),this.root.sharedNodes.clear()}}}function Hwe(e){e.updateLayout()}function zwe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?qr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=Qn(f);f.min=r[d].min,f.max=f.min+h}):aH(s,t.layoutBox,r)&&qr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=Qn(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=Tl();qd(a,r,t.layoutBox);const c=Tl();o?qd(c,e.applyTransform(i,!0),t.measuredBox):qd(c,r,t.layoutBox);const l=!rH(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=qt();Vd(p,t.layoutBox,f.layoutBox);const m=qt();Vd(m,r,h.layoutBox),iH(p,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Ywe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Kwe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Jwe(e){e.clearSnapshot()}function Uj(e){e.clearMeasurements()}function Bj(e){e.isLayoutDirty=!1}function Xwe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qwe(e){e.resolveTargetDelta()}function Zwe(e){e.calcProjection()}function eAe(e){e.resetSkewAndRotation()}function tAe(e){e.removeLeadSnapshot()}function Wj(e,t,n){e.translate=Mt(t.translate,0,n),e.scale=Mt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qj(e,t,n,r){e.min=Mt(t.min,n.min,r),e.max=Mt(t.max,n.max,r)}function nAe(e,t,n,r){qj(e.x,t.x,n.x,r),qj(e.y,t.y,n.y,r)}function rAe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iAe={duration:.45,ease:[.4,0,.1,1]},Vj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$j=Vj("applewebkit/")&&!Vj("chrome/")?Math.round:ur;function Hj(e){e.min=$j(e.min),e.max=$j(e.max)}function sAe(e){Hj(e.x),Hj(e.y)}function aH(e,t,n){return e==="position"||e==="preserve-aspect"&&!fwe(jj(t),jj(n),.2)}function oAe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const aAe=oH({attachResizeListener:(e,t)=>Af(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),RS={current:void 0},cH=oH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!RS.current){const e=new aAe({});e.mount(window),e.setOptions({layoutScroll:!0}),RS.current=e}return RS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cAe={pan:{Feature:Awe},drag:{Feature:wwe,ProjectionNode:cH,MeasureLayout:Z9}};function zj(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&bt.postRender(()=>s(t,Nh(t)))}class lAe extends ha{mount(){const{current:t}=this.node;t&&(this.unmount=ETe(t,(n,r)=>(zj(this.node,r,"Start"),i=>zj(this.node,i,"End"))))}unmount(){}}class uAe extends ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ah(Af(this.node.current,"focus",()=>this.onFocus()),Af(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yj(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&bt.postRender(()=>s(t,Nh(t)))}class dAe extends ha{mount(){const{current:t}=this.node;t&&(this.unmount=wTe(t,(n,r)=>(Yj(this.node,r,"Start"),(i,{success:s})=>Yj(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ew=new WeakMap,PS=new WeakMap,fAe=e=>{const t=ew.get(e.target);t&&t(e)},hAe=e=>{e.forEach(fAe)};function pAe(n){var r=n,{root:e}=r,t=W(r,["root"]);const i=e||document;PS.has(i)||PS.set(i,{});const s=PS.get(i),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(hAe,S({root:e},t))),s[o]}function mAe(e,t,n){const r=pAe(t);return ew.set(e,n),r.observe(e),()=>{ew.delete(e),r.unobserve(e)}}const gAe={some:0,all:1};class _Ae extends ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gAe[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=l?u:d;f&&f(c)};return mAe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(vAe(t,n))&&this.startObserver()}unmount(){}}function vAe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yAe={inView:{Feature:_Ae},tap:{Feature:dAe},focus:{Feature:uAe},hover:{Feature:lAe}},bAe={layout:{ProjectionNode:cH,MeasureLayout:Z9}},CAe=S(S(S(S({},owe),yAe),cAe),bAe),lH=I1e(CAe,j1e);function I8e(e,t,n){E.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const EAe=50,Kj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),SAe=()=>({time:0,x:Kj(),y:Kj()}),OAe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Jj(e,t,n,r){const i=n[t],{length:s,position:o}=OAe[t],a=i.current,c=n.time;i.current=e["scroll".concat(o)],i.scrollLength=e["scroll".concat(s)]-e["client".concat(s)],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ec(0,i.scrollLength,i.current);const l=r-c;i.velocity=l>EAe?0:Zx(i.current-a,l)}function TAe(e,t,n){Jj(e,"x",t,n),Jj(e,"y",t,n),t.time=n}function wAe(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(vI(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const tw={start:0,center:.5,end:1};function Xj(e,t,n=0){let r=0;if(e in tw&&(e=tw[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?r=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?r=i/100*document.documentElement.clientWidth:e.endsWith("vh")?r=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(r=t*e),n+r}const AAe=[0,0];function xAe(e,t,n,r){let i=Array.isArray(e)?e:AAe,s=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,tw[e]?e:"0"]),s=Xj(i[0],n,r),o=Xj(i[1],t),s-o}const IAe={All:[[0,0],[1,1]]},NAe={x:0,y:0};function RAe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function PAe(e,t,n){const{offset:r=IAe.All}=n,{target:i=e,axis:s="y"}=n,o=s==="y"?"height":"width",a=i!==e?wAe(i,e):NAe,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:RAe(i),l={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let u=!t[s].interpolate;const d=r.length;for(let f=0;f<d;f++){const h=xAe(r[f],l[o],c[o],a[s]);!u&&h!==t[s].interpolatorOffsets[f]&&(u=!0),t[s].offset[f]=h}u&&(t[s].interpolate=cI(t[s].offset,lI(r),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=ms(0,1,t[s].interpolate(t[s].current))}function kAe(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function MAe(e,t,n,r={}){return{measure:i=>{kAe(e,r.target,n),TAe(e,n,i),(r.offset||r.target)&&PAe(e,n,r)},notify:()=>t(n)}}const ed=new WeakMap,Qj=new WeakMap,kS=new WeakMap,Zj=e=>e===document.scrollingElement?window:e;function uH(e,r={}){var i=r,{container:t=document.scrollingElement}=i,n=W(i,["container"]);if(!t)return ur;let s=kS.get(t);s||(s=new Set,kS.set(t,s));const o=SAe(),a=MAe(t,e,o,n);if(s.add(a),!ed.has(t)){const l=()=>{for(const h of s)h.measure(An.timestamp);bt.preUpdate(u)},u=()=>{for(const h of s)h.notify()},d=()=>bt.read(l);ed.set(t,d);const f=Zj(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&Qj.set(t,DTe(t,d)),f.addEventListener("scroll",d,{passive:!0}),d()}const c=ed.get(t);return bt.read(c,!1,!0),()=>{var d;Ri(c);const l=kS.get(t);if(!l||(l.delete(a),l.size))return;const u=ed.get(t);ed.delete(t),u&&(Zj(t).removeEventListener("scroll",u),(d=Qj.get(t))==null||d(),window.removeEventListener("resize",u))}}const e4=new Map;function DAe(e){const t={value:0},n=uH(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function dH(r){var i=r,{source:e,container:t}=i,n=W(i,["source","container"]);var u,d,f,h;const{axis:s}=n;e&&(t=e);const o=(u=e4.get(t))!=null?u:new Map;e4.set(t,o);const a=(d=n.target)!=null?d:"self",c=(f=o.get(a))!=null?f:{},l=s+((h=n.offset)!=null?h:[]).join(",");return c[l]||(c[l]=!n.target&&e9()?new ScrollTimeline({source:t,axis:s}):DAe(S({container:t},n))),c[l]}function LAe(e,t){const n=dH(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),m9(i=>{r.time=r.iterationDuration*i},n))})}function jAe(e){return e.length===2}function FAe(e,t){return jAe(e)?uH(n=>{e(n[t.axis].progress,n)},t):m9(e,dH(t))}function UAe(e,i={}){var s=i,{axis:t="y",container:n=document.scrollingElement}=s,r=W(s,["axis","container"]);if(!n)return ur;const o=S({axis:t,container:n},r);return typeof e=="function"?FAe(e,o):LAe(e,o)}const BAe=()=>({scrollX:bi(0),scrollY:bi(0),scrollXProgress:bi(0),scrollYProgress:bi(0)}),wp=e=>e?!e.current:!1;function N8e(r={}){var i=r,{container:e,target:t}=i,n=W(i,["container","target"]);const s=Dc(BAe),o=E.useRef(null),a=E.useRef(!1),c=E.useCallback(()=>(o.current=UAe((l,{x:u,y:d})=>{s.scrollX.set(u.current),s.scrollXProgress.set(u.progress),s.scrollY.set(d.current),s.scrollYProgress.set(d.progress)},I(S({},n),{container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),()=>{var l;(l=o.current)==null||l.call(o)}),[e,t,JSON.stringify(n.offset)]);return Ru(()=>{if(a.current=!1,wp(e)||wp(t)){a.current=!0;return}else return c()},[c]),E.useEffect(()=>{if(a.current)return bf(!wp(e)),bf(!wp(t)),c()},[c]),s}function GAe(e){const t=Dc(()=>bi(e)),{isStatic:n}=E.useContext(cv);if(n){const[,r]=E.useState(e);E.useEffect(()=>t.on("change",r),[])}return t}function fH(e,t){const n=GAe(t()),r=()=>n.set(t());return r(),Ru(()=>{const i=()=>bt.preRender(r,!1,!0),s=e.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Ri(r)}}),n}function WAe(e){Gd.current=[],e();const t=fH(Gd.current,e);return Gd.current=void 0,t}function R8e(e,t,n,r){if(typeof e=="function")return WAe(e);const i=typeof t=="function"?t:jTe(t,n,r);return Array.isArray(e)?t4(e,i):t4([e],([s])=>i(s))}function t4(e,t){const n=Dc(()=>[]);return fH(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function P8e(){!II.current&&L9();const[e]=E.useState(Eg.current);return e}function qAe(e){e.values.forEach(t=>t.stop())}function nw(e,t){[...t].reverse().forEach(r=>{const i=e.getVariant(r);i&&NI(e,i),e.variantChildren&&e.variantChildren.forEach(s=>{nw(s,t)})})}function VAe(e,t){if(Array.isArray(t))return nw(e,t);if(typeof t=="string")return nw(e,[t]);NI(e,t)}function $Ae(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const i=[];return e.forEach(s=>{i.push($9(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return e.forEach(r=>{VAe(r,n)})},stop(){e.forEach(n=>{qAe(n)})},mount(){return()=>{t.stop()}}};return t}function kI(e){return typeof e=="object"&&!Array.isArray(e)}function hH(e,t,n,r){return typeof e=="string"&&kI(t)?_I(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function HAe(e,t,n){return e*(t+1)}function n4(e,t,n,r){var i;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):(i=r.get(t))!=null?i:e}function zAe(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(ov(e,i),r--)}}function YAe(e,t,n,r,i,s){zAe(e,i,s);for(let o=0;o<t.length;o++)e.push({value:t[o],at:Mt(i,s,r[o]),easing:L$(n,o)})}function KAe(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function JAe(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const XAe="easeInOut";function QAe(e,s={},r,i){var o=s,{defaultTransition:t={}}=o,n=W(o,["defaultTransition"]);const a=t.duration||.3,c=new Map,l=new Map,u={},d=new Map;let f=0,h=0,p=0;for(let m=0;m<e.length;m++){const g=e[m];if(typeof g=="string"){d.set(g,h);continue}else if(!Array.isArray(g)){d.set(g.name,n4(h,g.at,f,d));continue}let[y,v,T={}]=g;T.at!==void 0&&(h=n4(h,T.at,f,d));let C=0;const b=(O,w,A,x=0,N=0)=>{const R=ZAe(O),X=w,{delay:L=0,times:D=lI(R),type:F="keyframes",repeat:G,repeatType:z,repeatDelay:V=0}=X,M=W(X,["delay","times","type","repeat","repeatType","repeatDelay"]);let{ease:te=t.ease||"easeOut",duration:$}=w;const se=typeof L=="function"?L(x,N):L,me=R.length,Ce=pI(F)?F:i==null?void 0:i[F||"keyframes"];if(me<=2&&Ce){let ee=100;if(me===2&&nxe(R)){const oe=R[1]-R[0];ee=Math.abs(oe)}const ve=S({},M);$!==void 0&&(ve.duration=wi($));const ue=Y$(ve,ee,Ce);te=ue.ease,$=ue.duration}$!=null||($=a);const J=h+se;D.length===1&&D[0]===0&&(D[1]=1);const K=D.length-R.length;if(K>0&&J$(D,K),R.length===1&&R.unshift(null),G){$=HAe($,G);const ee=[...R],ve=[...D];te=Array.isArray(te)?[...te]:[te];const ue=[...te];for(let oe=0;oe<G;oe++){R.push(...ee);for(let be=0;be<ee.length;be++)D.push(ve[be]+(oe+1)),te.push(be===0?"linear":L$(ue,be-1))}KAe(D,G)}const ne=J+$;YAe(A,R,te,D,J,ne),C=Math.max(se+$,C),p=Math.max(ne,p)};if(xn(y)){const O=r4(y,l);b(v,T,i4("default",O))}else{const O=hH(y,v,r,u),w=O.length;for(let A=0;A<w;A++){v=v,T=T;const x=O[A],N=r4(x,l);for(const R in v)b(v[R],exe(T,R),i4(R,N),A,w)}}f=h,h+=C}return l.forEach((m,g)=>{for(const y in m){const v=m[y];v.sort(JAe);const T=[],C=[],b=[];for(let w=0;w<v.length;w++){const{at:A,value:x,easing:N}=v[w];T.push(x),C.push(Ec(0,p,A)),b.push(N||"easeOut")}C[0]!==0&&(C.unshift(0),T.unshift(T[0]),b.unshift(XAe)),C[C.length-1]!==1&&(C.push(1),T.push(null)),c.has(g)||c.set(g,{keyframes:{},transition:{}});const O=c.get(g);O.keyframes[y]=T,O.transition[y]=S(I(S({},t),{duration:p,ease:b,times:C}),n)}}),c}function r4(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function i4(e,t){return t[e]||(t[e]=[]),t[e]}function ZAe(e){return Array.isArray(e)?e:[e]}function exe(e,t){return e&&e[t]?S(S({},e),e[t]):S({},e)}const txe=e=>typeof e=="number",nxe=e=>e.every(txe);function rxe(e,t){return e in t}class ixe extends j9{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(rxe(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return qt()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function sxe(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=av(e)&&!g9(e)?new W9(t):new B9(t);n.mount(e),wf.set(e,n)}function oxe(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new ixe(t);n.mount(e),wf.set(e,n)}function axe(e,t){return xn(e)||typeof e=="number"||typeof e=="string"&&!kI(t)}function pH(e,t,n,r){const i=[];if(axe(e,t))i.push(eH(e,kI(t)&&t.default||t,n&&(n.default||n)));else{const s=hH(e,t,r),o=s.length;for(let a=0;a<o;a++){const c=s[a],l=c instanceof Element?sxe:oxe;wf.has(c)||l(c);const u=wf.get(c),d=S({},n);"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(a,o)),i.push(...PI(u,I(S({},t),{transition:d}),{}))}}return i}function cxe(e,t,n){const r=[];return QAe(e,t,n,{spring:Sf}).forEach(({keyframes:s,transition:o},a)=>{r.push(...pH(a,s,o))}),r}function lxe(e){return Array.isArray(e)&&e.some(Array.isArray)}function uxe(e){function t(n,r,i){let s=[],o;if(lxe(n))s=cxe(n,r,e);else{const c=i||{},{onComplete:l}=c,u=W(c,["onComplete"]);typeof l=="function"&&(o=l),s=pH(n,r,u,e)}const a=new oTe(s);return o&&a.finished.then(o),a}return t}const k8e=uxe();function dxe(){const e=Dc($Ae);return Ru(e.mount,[]),e}const M8e=dxe;var fm={exports:{}},fxe=fm.exports,s4;function hxe(){return s4||(s4=1,(function(e){(function(t,n,r){function i(c){var l=this,u=a();l.next=function(){var d=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=d|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(c),l.s0<0&&(l.s0+=1),l.s1-=u(c),l.s1<0&&(l.s1+=1),l.s2-=u(c),l.s2<0&&(l.s2+=1),u=null}function s(c,l){return l.c=c.c,l.s0=c.s0,l.s1=c.s1,l.s2=c.s2,l}function o(c,l){var u=new i(c),d=l&&l.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&s(d,u),f.state=function(){return s(u,{})}),f}function a(){var c=4022871197,l=function(u){u=String(u);for(var d=0;d<u.length;d++){c+=u.charCodeAt(d);var f=.02519603282416938*c;c=f>>>0,f-=c,f*=c,c=f>>>0,f-=c,c+=f*4294967296}return(c>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=o:this.alea=o})(fxe,e)})(fm)),fm.exports}var hm={exports:{}},pxe=hm.exports,o4;function mxe(){return o4||(o4=1,(function(e){(function(t,n,r){function i(a){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var d=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^d^d>>>8},a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,c.next()}function s(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c}function o(a,c){var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.xor128=o})(pxe,e)})(hm)),hm.exports}var pm={exports:{}},gxe=pm.exports,a4;function _xe(){return a4||(a4=1,(function(e){(function(t,n,r){function i(a){var c=this,l="";c.next=function(){var d=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(d^d<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,u==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function s(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c.v=a.v,c.d=a.d,c}function o(a,c){var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.xorwow=o})(gxe,e)})(pm)),pm.exports}var mm={exports:{}},vxe=mm.exports,c4;function yxe(){return c4||(c4=1,(function(e){(function(t,n,r){function i(a){var c=this;c.next=function(){var u=c.x,d=c.i,f,h;return f=u[d],f^=f>>>7,h=f^f<<24,f=u[d+1&7],h^=f^f>>>10,f=u[d+3&7],h^=f^f>>>3,f=u[d+4&7],h^=f^f<<7,f=u[d+7&7],f=f^f<<13,h^=f^f<<9,u[d]=h,c.i=d+1&7,h};function l(u,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}l(c,a)}function s(a,c){return c.x=a.x.slice(),c.i=a.i,c}function o(a,c){a==null&&(a=+new Date);var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(u.x&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.xorshift7=o})(vxe,e)})(mm)),mm.exports}var gm={exports:{}},bxe=gm.exports,l4;function Cxe(){return l4||(l4=1,(function(e){(function(t,n,r){function i(a){var c=this;c.next=function(){var u=c.w,d=c.X,f=c.i,h,p;return c.w=u=u+1640531527|0,p=d[f+34&127],h=d[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=d[f]=p^h,c.i=f,p+(u^u>>>16)|0};function l(u,d){var f,h,p,m,g,y=[],v=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,v=Math.max(v,d.length)),p=0,m=-32;m<v;++m)d&&(h^=d.charCodeAt((m+32)%d.length)),m===0&&(g=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(g=g+1640531527|0,f=y[m&127]^=h+g,p=f==0?p+1:0);for(p>=128&&(y[(d&&d.length||0)&127]=-1),p=127,m=512;m>0;--m)h=y[p+34&127],f=y[p=p+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,y[p]=h^f;u.w=g,u.X=y,u.i=p}l(c,a)}function s(a,c){return c.i=a.i,c.w=a.w,c.X=a.X.slice(),c}function o(a,c){a==null&&(a=+new Date);var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(u.X&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.xor4096=o})(bxe,e)})(gm)),gm.exports}var _m={exports:{}},Exe=_m.exports,u4;function Sxe(){return u4||(u4=1,(function(e){(function(t,n,r){function i(a){var c=this,l="";c.next=function(){var d=c.b,f=c.c,h=c.d,p=c.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^p,p=p-d|0,c.b=d=d<<20^d>>>12^f,c.c=f=f-h|0,c.d=h<<16^f>>>16^p,c.a=p-d|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,a===Math.floor(a)?(c.a=a/4294967296|0,c.b=a|0):l+=a;for(var u=0;u<l.length+20;u++)c.b^=l.charCodeAt(u)|0,c.next()}function s(a,c){return c.a=a.a,c.b=a.b,c.c=a.c,c.d=a.d,c}function o(a,c){var l=new i(a),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=o:this.tychei=o})(Exe,e)})(_m)),_m.exports}var vm={exports:{}};const Oxe={},Txe=Object.freeze(Object.defineProperty({__proto__:null,default:Oxe},Symbol.toStringTag,{value:"Module"})),wxe=fJ(Txe);var Axe=vm.exports,d4;function xxe(){return d4||(d4=1,(function(e){(function(t,n,r){var i=256,s=6,o=52,a="random",c=r.pow(i,s),l=r.pow(2,o),u=l*2,d=i-1,f;function h(C,b,O){var w=[];b=b==!0?{entropy:!0}:b||{};var A=y(g(b.entropy?[C,T(n)]:C==null?v():C,3),w),x=new p(w),N=function(){for(var R=x.g(s),L=c,D=0;R<l;)R=(R+D)*i,L*=i,D=x.g(1);for(;R>=u;)R/=2,L/=2,D>>>=1;return(R+D)/L};return N.int32=function(){return x.g(4)|0},N.quick=function(){return x.g(4)/4294967296},N.double=N,y(T(x.S),n),(b.pass||O||function(R,L,D,F){return F&&(F.S&&m(F,x),R.state=function(){return m(x,{})}),D?(r[a]=R,L):R})(N,A,"global"in b?b.global:this==r,b.state)}function p(C){var b,O=C.length,w=this,A=0,x=w.i=w.j=0,N=w.S=[];for(O||(C=[O++]);A<i;)N[A]=A++;for(A=0;A<i;A++)N[A]=N[x=d&x+C[A%O]+(b=N[A])],N[x]=b;(w.g=function(R){for(var L,D=0,F=w.i,G=w.j,z=w.S;R--;)L=z[F=d&F+1],D=D*i+z[d&(z[F]=z[G=d&G+L])+(z[G]=L)];return w.i=F,w.j=G,D})(i)}function m(C,b){return b.i=C.i,b.j=C.j,b.S=C.S.slice(),b}function g(C,b){var O=[],w=typeof C,A;if(b&&w=="object")for(A in C)try{O.push(g(C[A],b-1))}catch(x){}return O.length?O:w=="string"?C:C+"\0"}function y(C,b){for(var O=C+"",w,A=0;A<O.length;)b[d&A]=d&(w^=b[d&A]*19)+O.charCodeAt(A++);return T(b)}function v(){try{var C;return f&&(C=f.randomBytes)?C=C(i):(C=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(C)),T(C)}catch(w){var b=t.navigator,O=b&&b.plugins;return[+new Date,t,O,t.screen,T(n)]}}function T(C){return String.fromCharCode.apply(0,C)}if(y(r.random(),n),e.exports){e.exports=h;try{f=wxe}catch(C){}}else r["seed"+a]=h})(typeof self<"u"?self:Axe,[],Math)})(vm)),vm.exports}var MS,f4;function Ixe(){if(f4)return MS;f4=1;var e=hxe(),t=mxe(),n=_xe(),r=yxe(),i=Cxe(),s=Sxe(),o=xxe();return o.alea=e,o.xor128=t,o.xorwow=n,o.xorshift7=r,o.xor4096=i,o.tychei=s,MS=o,MS}var Nxe=Ixe();const Rxe=Gt(Nxe);function Pxe({lines:e=1,variance:t=0,size:n="base",width:r=50,widthVariance:i=50,className:s}){const[o]=E.useState(()=>mH(e,r,i,t));let a="";switch(n){case"sm":a="h-3 mb-2 mt-0.5";break;case"base":a="h-4 my-2";break;case"lg":a="h-5 my-2";break}return _.jsx(_.Fragment,{children:o.map((c,l)=>_.jsx("div",{className:_e("bg-token-sidebar-surface-secondary dark:bg-token-border-default relative w-full overflow-hidden rounded-md",a,s),style:{width:"".concat(c,"%")},children:_.jsx(lH.div,{className:"absolute start-0 top-0 h-full w-full rotate-45 bg-linear-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+l}}})},l))})}function D8e({lines:e=1,indexOffset:t=0,variance:n=0,width:r=50,widthVariance:i=50,gapFrequency:s=0,scaleUpAnimation:o,className:a,heightSize:c,delay:l}){const u=E.useMemo(()=>mH(e,r,i,n),[e,n,r,i]);return _.jsx(kxe,{className:a,children:u.map((d,f)=>_.jsx(Dxe,{index:f+t,width:d,className:_e(s>0&&(f+1)%s===0&&"mb-snc-1"),heightSize:c,customAnimation:o?{initial:{scaleX:o.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:o.duration,ease:"easeInOut",delay:f*.07+(l!=null?l:0)}}}:void 0},f))})}var rB;const kxe=ro.div(rB||(rB=Hi(["flex flex-col items-start gap-2"]))),Mxe={sm:"h-3.5",md:"h-5",lg:"h-6"};function Dxe({index:e,width:t,className:n,customAnimation:r,heightSize:i="md"}){const{initial:s,animate:o,transition:a}=r!=null?r:{initial:{},animate:{},transition:{}};return _.jsx(lH.div,{className:_e(Mxe[i],"bg-token-border-default origin-start rounded-md dark:bg-white/10",n),style:{width:"".concat(t,"%")},initial:S({opacity:1},s),animate:S({opacity:[1,.4]},o),transition:S({opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:e*.07}},a)})}function mH(e,t,n,r){const i=Rxe([e,t,n,r].join("-"));return Array.from({length:e+i()*(r!=null?r:0)},()=>t+i()*n)}let Sg;async function gH(){return Sg=await k(()=>import("./fdop6k24k03x7mek.js"),__vite__mapDeps([62,1])),Sg}function h4(e){"use forget";const t=Y.c(2);if("children"in e){let n;return t[0]!==e.children?(n=_.jsx(_.Fragment,{children:e.children}),t[0]=e.children,t[1]=n):n=t[1],n}return null}function Tn(e,t){const n=B(()=>gH().then(s=>e(s)),{loading:t});function r(s){"use forget";const o=Y.c(5),[a]=E.useState(i);if(a){let l;return o[0]!==a||o[1]!==s?(l=_.jsx(a,S({},s)),o[0]=a,o[1]=s,o[2]=l):l=o[2],l}let c;return o[3]!==s?(c=_.jsx(n,S({},s)),o[3]=s,o[4]=c):c=o[4],c}function i(){if(Sg)return e(Sg)}return r}const Ds={Root:Tn(e=>e.Sheet.Root,h4),Trigger:Tn(e=>e.Sheet.Trigger,h4),View:Tn(e=>e.Sheet.View),Backdrop:Tn(e=>e.Sheet.Backdrop),Content:Tn(e=>e.Sheet.Content),BleedingBackground:Tn(e=>e.Sheet.BleedingBackground),Handle:Tn(e=>e.Sheet.Handle),Outlet:Tn(e=>e.Sheet.Outlet),Portal:Tn(e=>e.Sheet.Portal),Title:Tn(e=>e.Sheet.Title),Description:Tn(e=>e.Sheet.Description),SpecialWrapper:{Root:Tn(e=>e.Sheet.SpecialWrapper.Root),Content:Tn(e=>e.Sheet.SpecialWrapper.Content)}},Lxe={Root:Tn(e=>e.AutoFocusTarget.Root)},DS={Root:Tn(e=>e.Scroll.Root),Trigger:Tn(e=>e.Scroll.Trigger),View:Tn(e=>e.Scroll.View),Content:Tn(e=>e.Scroll.Content)},_H=e=>E.createElement("svg",S({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M14.2548 4.75488C14.5282 4.48152 14.9717 4.48152 15.2451 4.75488C15.5184 5.02825 15.5184 5.47175 15.2451 5.74512L10.9902 10L15.2451 14.2549L15.3349 14.3652C15.514 14.6369 15.4841 15.006 15.2451 15.2451C15.006 15.4842 14.6368 15.5141 14.3652 15.335L14.2548 15.2451L9.99995 10.9902L5.74506 15.2451C5.4717 15.5185 5.0282 15.5185 4.75483 15.2451C4.48146 14.9718 4.48146 14.5282 4.75483 14.2549L9.00971 10L4.75483 5.74512L4.66499 5.63477C4.48589 5.3631 4.51575 4.99396 4.75483 4.75488C4.99391 4.51581 5.36305 4.48594 5.63471 4.66504L5.74506 4.75488L9.99995 9.00977L14.2548 4.75488Z"})),jxe=Object.freeze(Object.defineProperty({__proto__:null,default:_H},Symbol.toStringTag,{value:"Module"})),fv=o=>{var a=o,{onClick:e,bg:t="transparent",className:n,iconSize:r="md",ref:i}=a,s=W(a,["onClick","bg","className","iconSize","ref"]);const c=gt();return _.jsx("button",I(S({"data-testid":"close-button",ref:i,onClick:e,className:_e("hover:bg-token-surface-hover dark:hover:bg-token-main-surface-tertiary keyboard-focused:bg-token-surface-hover flex h-9 w-9 items-center justify-center rounded-lg",t==="transparent"?"bg-transparent":"bg-token-main-surface-primary",n),"aria-label":c.formatMessage({id:"Px7S/2",defaultMessage:"Close"})},s),{children:_.jsx(_H,{className:r==="lg"?"icon-lg":"icon"})}))};fv.displayName="CloseButton";function Fxe(){}const Uxe=()=>{"use forget";const e=Y.c(2);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=_.jsx("p",{className:"text-token-text-primary text-base font-semibold",children:"ChatGPT"}),e[0]=t):t=e[0];let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=_.jsx("div",{className:"content-sheet:content-sheet-inset-section pt-1!",children:_.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t,_.jsx(Ds.Trigger,{action:"dismiss",asChild:!0,children:_.jsx(fv,{type:"button",className:"bg-token-bg-tertiary text-token-text-primary h-[1lh]! w-[1lh]! shrink-0 rounded-full",onClick:Fxe})})]})}),e[1]=n):n=e[1],n},Bxe=(e,t)=>(s=>{var o=s,{as:r}=o,i=W(o,["as"]);const a=r||e;return t(_.jsx(a,S({},i)))}),p4=50,vH=Ge(()=>Oe([]));function Gxe(e){"use forget";const t=Y.c(5),{children:n}=e,r=re(),i=zt(),s=hJ();let o,a;return t[0]!==s||t[1]!==r||t[2]!==i?(o=()=>{vH.set(r,c=>{const l={action:s,location:i},u=[...c,l];return u.length>p4?u.slice(u.length-p4):u})},a=[s,r,i],t[0]=s,t[1]=r,t[2]=i,t[3]=o,t[4]=a):(o=t[3],a=t[4]),E.useEffect(o,a),n}const rw="__sheetHistory__";let Wxe=0;function yH(e){if(typeof e!="object"||e===null||!Reflect.get(e,rw))return;const t=Reflect.get(e,"id");if(typeof t!="string")return;const n=Reflect.get(e,"name"),r=Reflect.get(e,"url");return{[rw]:!0,id:t,name:typeof n=="string"?n:void 0,url:typeof r=="string"?r:void 0}}function qxe(e){return yH(e.state)}function Vxe({currentUrl:e,ctx:t,navigate:n,onPresentedChange:r,name:i,url:s,onHistoryPop:o}){if(!i&&!s)throw new Error("createHistoryPopEffect requires either a name or a url to be provided");const a={[rw]:!0,id:"sheet-history-".concat(Wxe++),name:i,url:s};n(s!=null?s:e,{state:a});let c=!0,l;const u=()=>{l&&(l(),l=void 0)};if("navigation"in window&&window.navigation){const h=window.navigation,p=m=>{var v,T;if(!c||m.navigationType!=="traverse"||m.canIntercept!==!0||typeof m.intercept!="function")return;const g=(T=(v=h.currentEntry)==null?void 0:v.getState)==null?void 0:T.call(v),y=yH(g);!y||y.id!==a.id||m.intercept({scroll:"manual",handler:()=>{c&&(u(),c=!1,r(!1),o==null||o())}})};h.addEventListener("navigate",p),l=()=>{h.removeEventListener("navigate",p)}}if("CloseWatcher"in window){const h=new window.CloseWatcher;h.onclose=p=>{p.preventDefault(),u(),c=!1,r(!1),o==null||o()}}const d=Vo(()=>vH(t),h=>{if(!c||h.length===0||h[h.length-1].action!=="POP")return;let m;for(let g=h.length-1;g>=0;g-=1){const y=qxe(h[g].location);if(y){m=y;break}}!m||m.id!==a.id||(c=!1,u(),r(!1),o==null||o())});return()=>{u(),d(),c&&(c=!1,n(-1))}}function $xe(e){const t=E.useRef(e);return E.useInsertionEffect(()=>{t.current=e},[e]),E.useMemo(()=>((...n)=>{Mg()&&Hxe();const{current:r}=t;return r(...n)}),[])}function Hxe(){throw new Error("A function wrapped in useStableCallback can't be called during rendering.")}const bH=ut(()=>({anySheetOpen$:Oe(!1)}));function zxe(e){"use forget";var O;const t=Y.c(34);let n,r,i,s,o,a,c,l;t[0]!==e?(O=e,{children:n,behavior:l,sheetName:o,sheetUrl:c,onHistoryPop:r,onPresentedChange:i,presented:s}=O,a=W(O,["children","behavior","sheetName","sheetUrl","onHistoryPop","onPresentedChange","presented"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8]);const u=l===void 0?"default":l,d=re(),f=Zs(),h=zt(),p=E.useRef(!1);let m;t[9]!==d||t[10]!==i?(m=w=>{bH(d).anySheetOpen$.set(w),i==null||i(w)},t[9]=d,t[10]=i,t[11]=m):m=t[11];const g=$xe(m);let y;t[12]!==d||t[13]!==h.hash||t[14]!==h.pathname||t[15]!==h.search||t[16]!==f||t[17]!==r||t[18]!==g||t[19]!==o||t[20]!==c?(y=()=>Vxe({ctx:d,navigate:f,currentUrl:"".concat(h.pathname).concat(h.search).concat(h.hash),onPresentedChange:g,name:o,url:c,onHistoryPop:r}),t[12]=d,t[13]=h.hash,t[14]=h.pathname,t[15]=h.search,t[16]=f,t[17]=r,t[18]=g,t[19]=o,t[20]=c,t[21]=y):y=t[21];const v=E.useEffectEvent(y);let T;t[22]!==u||t[23]!==v||t[24]!==s?(T=()=>{if(u==="history"){if(s==null){p.current;return}if(s)return v()}},t[22]=u,t[23]=v,t[24]=s,t[25]=T):T=t[25];let C;t[26]!==u||t[27]!==s?(C=[u,s],t[26]=u,t[27]=s,t[28]=C):C=t[28],E.useEffect(T,C);let b;return t[29]!==n||t[30]!==g||t[31]!==s||t[32]!==a?(b=_.jsx(Ds.Root,I(S({license:"commercial","data-content-sheet-root":!0},a),{presented:s,onPresentedChange:g,children:n})),t[29]=n,t[30]=g,t[31]=s,t[32]=a,t[33]=b):b=t[33],b}function Yxe(e){"use forget";var A;const t=Y.c(25);let n,r,i,s,o,a;t[0]!==e?(A=e,{children:n,className:r,nativeEdgeSwipePrevention:a,onTravel:s,onCloseComplete:i}=A,o=W(A,["children","className","nativeEdgeSwipePrevention","onTravel","onCloseComplete"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6]);const c=a===void 0?!1:a,l=E.useRef(null),u=Ue(Mc),d=u?"center":"bottom",[f,h]=E.useState(null),p=re();let m;t[7]!==p?(m=bH(p),t[7]=p,t[8]=m):m=t[8];const g=m,y=E.useRef(0);let v;t[9]!==i||t[10]!==s||t[11]!==g?(v=x=>{const L=x,{progress:N}=L,R=W(L,["progress"]);if(!l.current)return s==null?void 0:s(S({progress:N},R));N===0&&y.current>0?(g.anySheetOpen$.set(!1),i==null||i()):N<.999?h(null):(g.anySheetOpen$.set(!0),h("opened")),y.current=N,s==null||s(S({progress:N},R))},t[9]=i,t[10]=s,t[11]=g,t[12]=v):v=t[12];const T=v,C="view-".concat(u);let b;t[13]!==r?(b=_e("top-0 bottom-[initial] h-[max(100dvh,100%)] [--sheet-radius-amount:16px] sm:h-full",r),t[13]=r,t[14]=b):b=t[14];let O;t[15]===Symbol.for("react.memo_cache_sentinel")?(O={focus:!1},t[15]=O):O=t[15];let w;return t[16]!==n||t[17]!==d||t[18]!==c||t[19]!==o||t[20]!==C||t[21]!==b||t[22]!==T||t[23]!==f?(w=_.jsx(Ds.View,I(S({className:b,"data-sheet-travel-state":f,"data-ignore-for-page-load":!0,contentPlacement:d,tracks:"bottom",swipeOvershoot:!1,nativeEdgeSwipePrevention:c,onTravel:T,onDismissAutoFocus:O,ref:l},o),{children:n}),C),t[16]=n,t[17]=d,t[18]=c,t[19]=o,t[20]=C,t[21]=b,t[22]=T,t[23]=f,t[24]=w):w=t[24],w}function Kxe(e){"use forget";const t=Y.c(2),n=E.useRef(null);let r;return t[0]!==e?(r=_.jsx(Ds.Backdrop,S({ref:n},e)),t[0]=e,t[1]=r):r=t[1],r}const Jxe={normal:"max-h-[calc(100%-max(env(safe-area-inset-top),6px))]",large:"max-h-[calc(100%-max(env(safe-area-inset-top),36px))]",xlarge:"max-h-[calc(100%-max(env(safe-area-inset-top),56px))]"};function Xxe(e){"use forget";var O;const t=Y.c(28);let n,r,i,s,o,a,c,l;t[0]!==e?(O=e,{children:r,canBounce:n,hasBounced$:s,size:c,className:i,ref:o,topMargin:l}=O,a=W(O,["children","canBounce","hasBounced$","size","className","ref","topMargin"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8]);const u=c===void 0?"fill":c,d=l===void 0?"normal":l;let f;t[9]!==s?(f=()=>{var w;return(w=s==null?void 0:s())!=null?w:!1},t[9]=s,t[10]=f):f=t[10];const h=Ue(f),p=Jxe[d],m=u==="fit"&&"h-min ".concat(p),g=u==="fill"&&"h-[calc(100%-max(env(safe-area-inset-top),6px))] sm:h-[calc(100%-4rem)]",y=n?h?"peek-top-end-animation":"peek-top-animation":void 0;let v;t[11]!==i||t[12]!==m||t[13]!==g||t[14]!==y?(v=_e("max-w-md [border-radius:var(--sheet-radius,var(--sheet-radius-amount))] pb-4 [border:1px_solid_transparent]! focus:outline-hidden max-sm:[--sheet-radius:var(--sheet-radius-amount)_var(--sheet-radius-amount)_0_0] sm:w-[calc(800px-1.25rem)]",m,g,y,i),t[11]=i,t[12]=m,t[13]=g,t[14]=y,t[15]=v):v=t[15];let T;t[16]!==n||t[17]!==s?(T=()=>{n&&s&&s.set(!0)},t[16]=n,t[17]=s,t[18]=T):T=t[18];let C;t[19]!==s?(C=()=>{s==null||s.set(!0)},t[19]=s,t[20]=C):C=t[20];let b;return t[21]!==r||t[22]!==o||t[23]!==a||t[24]!==v||t[25]!==T||t[26]!==C?(b=_.jsx(Ds.Content,I(S({className:v,onPointerDown:T,onAnimationEnd:C},a),{ref:o,children:r})),t[21]=r,t[22]=o,t[23]=a,t[24]=v,t[25]=T,t[26]=C,t[27]=b):b=t[27],b}const Ws={Root:zxe,Portal:Ds.Portal,View:Yxe,Backdrop:Kxe,Content:Xxe,Trigger:Ds.Trigger,Handle:Ds.Handle,Title:Ds.Title};function Qxe(e){"use forget";var c;const t=Y.c(12);let n,r,i;t[0]!==e?(c=e,{children:n,className:r}=c,i=W(c,["children","className"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]);let s;t[4]!==r?(s=_e("min-h-0",r),t[4]=r,t[5]=s):s=t[5];let o;t[6]!==n?(o=_.jsx(DS.Content,{className:"align-content-start grid",tabIndex:-1,children:n}),t[6]=n,t[7]=o):o=t[7];let a;return t[8]!==i||t[9]!==s||t[10]!==o?(a=_.jsx(DS.Root,{asChild:!0,children:_.jsx(DS.View,I(S({className:s,safeArea:"visual-viewport",scrollTimelineName:"--sheet-scroller"},i),{children:o}))}),t[8]=i,t[9]=s,t[10]=o,t[11]=a):a=t[11],a}function Zxe(e){"use forget";var y;const t=Y.c(21);let n,r,i,s,o,a;t[0]!==e?(y=e,{className:r,children:n,handle:s,showHeader:o,topMargin:a}=y,i=W(y,["className","children","handle","showHeader","topMargin"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6]);const c=s===void 0?"auto":s,l=o===void 0?!1:o,u=Ue(Mc),d=c==="auto"?!u:c,f=d?"grid-rows-[min-content_min-content_1fr_min-content]":"grid-rows-[min-content_1fr_min-content]";let h;t[7]!==r||t[8]!==f?(h=_e("bg-token-bg-primary content-sheet popup @container/sheet-content grid [--padding:1rem]",f,r),t[7]=r,t[8]=f,t[9]=h):h=t[9];let p;t[10]!==d?(p=d&&_.jsx(Lxe.Root,{timing:"present",className:"flex justify-center focus-visible:outline-none",children:_.jsx(eIe,{})}),t[10]=d,t[11]=p):p=t[11];let m;t[12]!==l?(m=l&&_.jsx(Uxe,{}),t[12]=l,t[13]=m):m=t[13];let g;return t[14]!==n||t[15]!==i||t[16]!==h||t[17]!==p||t[18]!==m||t[19]!==a?(g=_.jsxs(Ws.Content,I(S({className:h,topMargin:a},i),{children:[p,m,n]})),t[14]=n,t[15]=i,t[16]=h,t[17]=p,t[18]=m,t[19]=a,t[20]=g):g=t[20],g}function eIe(e){"use forget";var o;const t=Y.c(8);let n,r;t[0]!==e?(o=e,{className:n}=o,r=W(o,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let i;t[3]!==n?(i=_e("bg-token-bg-secondary! dark:bg-token-bg-tertiary! col-start-1 col-end-[-1] mt-1.5 h-1 self-start justify-self-center rounded-full select-none",n),t[3]=n,t[4]=i):i=t[4];let s;return t[5]!==r||t[6]!==i?(s=_.jsx(Ws.Handle,S({className:i},r)),t[5]=r,t[6]=i,t[7]=s):s=t[7],s}function tIe(e){"use forget";const t=Y.c(8);let n,r,i;if(t[0]!==e){const o=e,{children:a}=o,c=W(o,["children"]);n=a,r=c,i=_e("min-h-header-height relative grid grid-cols-[1fr_min-content] items-center justify-between gap-3 py-2.5 ps-4 pe-2 select-none",c.className),t[0]=e,t[1]=n,t[2]=r,t[3]=i}else n=t[1],r=t[2],i=t[3];let s;return t[4]!==n||t[5]!==r||t[6]!==i?(s=_.jsx("header",I(S({},r),{className:i,children:n})),t[4]=n,t[5]=r,t[6]=i,t[7]=s):s=t[7],s}function nIe(e){"use forget";const t=Y.c(5);let n;t[0]!==e.className?(n=_e("text-token-text-primary m-0 w-full min-w-0 overflow-hidden text-lg font-normal overflow-ellipsis whitespace-nowrap [text-box-trim:trim-both]",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=_.jsx(Ws.Title,I(S({},e),{className:n})),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}function rIe(e){"use forget";const t=Y.c(5);let n;t[0]!==e.className?(n=_e("z-10 grid grid-flow-col justify-end gap-3 px-[var(--padding)] pt-4",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=_.jsx("footer",I(S({},e),{className:n})),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}const iIe=Bxe(_s,e=>_.jsx(Ws.Trigger,{action:"dismiss",asChild:!0,children:e}));function sIe(e){"use forget";var l;const t=Y.c(12);let n,r,i,s;t[0]!==e?(l=e,{fullBleed:i,className:r,children:n}=l,s=W(l,["fullBleed","className","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=!i&&"px-(--thread-content-margin)";let a;t[5]!==r||t[6]!==o?(a=_e(o,r),t[5]=r,t[6]=o,t[7]=a):a=t[7];let c;return t[8]!==n||t[9]!==s||t[10]!==a?(c=_.jsx("section",I(S({"data-content-sheet-section":!0,className:a},s),{children:n})),t[8]=n,t[9]=s,t[10]=a,t[11]=c):c=t[11],c}function oIe(e){"use forget";var f;const t=Y.c(11);let n,r,i;t[0]!==e?(f=e,{children:n,springPreset:i}=f,r=W(f,["children","springPreset"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]);const s=i===void 0?"brisk":i,o=Ue(Mc),c=Ue(O7)||o;let l;t[4]!==c||t[5]!==s?(l={preset:s,skip:c},t[4]=c,t[5]=s,t[6]=l):l=t[6];const u=l;let d;return t[7]!==u||t[8]!==n||t[9]!==r?(d=_.jsx(Ws.View,I(S({enteringAnimationSettings:u,exitingAnimationSettings:u},r),{children:n})),t[7]=u,t[8]=n,t[9]=r,t[10]=d):d=t[10],d}function aIe(e){"use forget";var c;const t=Y.c(9);let n,r;t[0]!==e?(c=e,{className:n}=c,r=W(c,["className"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const s=Ue(Mc)&&"before:starting:backdrop-blur-0 fixed inset-0 z-50 bg-transparent opacity-100! before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 before:starting:opacity-0";let o;t[3]!==n||t[4]!==s?(o=_e(s,n),t[3]=n,t[4]=s,t[5]=o):o=t[5];let a;return t[6]!==r||t[7]!==o?(a=_.jsx(Ws.Backdrop,S({themeColorDimming:!1,className:o},r)),t[6]=r,t[7]=o,t[8]=a):a=t[8],a}const Zi={Root:Ws.Root,Trigger:Ws.Trigger,Portal:Ws.Portal,View:oIe,Backdrop:aIe,Content:Zxe,HeaderBar:tIe,Title:nIe,FooterBar:rIe,DismissAction:iIe,ScrollRoot:Qxe,ContentSection:sIe},CH=e=>E.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),E.createElement("path",{d:"M12.0961 2.91371C12.3297 2.68688 12.6984 2.64794 12.9779 2.83852C13.2571 3.02905 13.3554 3.38601 13.2299 3.68618L13.1615 3.81118L6.91152 12.9772C6.79412 13.1494 6.60631 13.2604 6.39882 13.2799C6.19137 13.2994 5.98565 13.226 5.83828 13.0788L2.08828 9.32875L1.99843 9.2184C1.81921 8.94677 1.84928 8.57767 2.08828 8.33852C2.3274 8.0994 2.69648 8.06947 2.96816 8.24868L3.07851 8.33852L6.23085 11.4909L12.0053 3.02211L12.0961 2.91371Z"})),cIe=Object.freeze(Object.defineProperty({__proto__:null,default:CH},Symbol.toStringTag,{value:"Module"})),lIe={threshold:1,rootMargin:"0%"};function EH({target:e,onChange:t,options:n=lIe}){if(!e)return;const r=new IntersectionObserver(s=>{const o=Array.isArray(r.thresholds)?r.thresholds:[r.thresholds];s.forEach(a=>{const c=a.isIntersecting&&o.some(l=>a.intersectionRatio>=l);t(c,a)})},n);function i(){r.disconnect()}return r.observe(e),i}function L8e(e){return t=>EH(I(S({},e),{target:t}))}function uIe({setIsScrolledToEdge:e,className:t,options:n}){return _.jsx("div",{"aria-hidden":!0,"data-edge":!0,className:_e("pointer-events-none h-px w-px",t),ref:r=>EH({target:r,onChange:i=>e(!i),options:n})})}var iB;const dIe=ro.button(iB||(iB=Hi(["\ntext-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent\nleading-none outline-hidden cursor-pointer\nhover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary\nkeyboard-focused:bg-token-main-surface-secondary\nradix-state-active:text-token-text-secondary\nradix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent\ndata-no-hover-bg:hover:bg-transparent dark:data-no-hover-bg:hover:bg-transparent\n"]))),j8e="z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none";var sB;const SH=ro.div(sB||(sB=Hi(["z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none data-[unbound-width]:min-w-[unset] data-[custom-padding]:py-0"])));var oB;const F8e=ro.div(oB||(oB=Hi(["popover overflow-auto rounded-2xl dark:bg-[#353535] bg-clip-padding bg-token-main-surface-primary p-2 shadow-long"]))),fIe=({isOpen:e,onClose:t})=>{var i,s;const n=E.useRef(null),r=(s=(i=n.current)==null?void 0:i.ownerDocument.body)!=null?s:null;return E.useEffect(()=>{if(!r||!e)return;const o=a=>{(!a.relatedTarget||a.relatedTarget instanceof HTMLElement&&!r.contains(a.relatedTarget))&&t()};return r.addEventListener("blur",o,{capture:!0}),()=>r.removeEventListener("blur",o,{capture:!0})},[e,r]),{triggerRef:n,container:r}};var LS=0;function OH(){E.useEffect(()=>{var t,n;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:m4()),document.body.insertAdjacentElement("beforeend",(n=e[1])!=null?n:m4()),LS++,()=>{LS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),LS--}},[])}function m4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jS="focusScope.autoFocusOnMount",FS="focusScope.autoFocusOnUnmount",g4={bubbles:!1,cancelable:!0},hIe="FocusScope",MI=E.forwardRef((e,t)=>{const m=e,{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s}=m,o=W(m,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[a,c]=E.useState(null),l=ii(i),u=ii(s),d=E.useRef(null),f=cn(t,g=>c(g)),h=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let g=function(C){if(h.paused||!a)return;const b=C.target;a.contains(b)?d.current=b:yo(d.current,{select:!0})},y=function(C){if(h.paused||!a)return;const b=C.relatedTarget;b!==null&&(a.contains(b)||yo(d.current,{select:!0}))},v=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&yo(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const T=new MutationObserver(v);return a&&T.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),T.disconnect()}}},[r,a,h.paused]),E.useEffect(()=>{if(a){v4.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(jS,g4);a.addEventListener(jS,l),a.dispatchEvent(v),v.defaultPrevented||(pIe(yIe(TH(a)),{select:!0}),document.activeElement===g&&yo(a))}return()=>{a.removeEventListener(jS,l),setTimeout(()=>{const v=new CustomEvent(FS,g4);a.addEventListener(FS,u),a.dispatchEvent(v),v.defaultPrevented||yo(g!=null?g:document.body,{select:!0}),a.removeEventListener(FS,u),v4.remove(h)},0)}}},[a,l,u,h]);const p=E.useCallback(g=>{if(!n&&!r||h.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const T=g.currentTarget,[C,b]=mIe(T);C&&b?!g.shiftKey&&v===b?(g.preventDefault(),n&&yo(C,{select:!0})):g.shiftKey&&v===C&&(g.preventDefault(),n&&yo(b,{select:!0})):v===T&&g.preventDefault()}},[n,r,h.paused]);return _.jsx(Ot.div,I(S({tabIndex:-1},o),{ref:f,onKeyDown:p}))});MI.displayName=hIe;function pIe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(yo(r,{select:t}),document.activeElement!==n)return}function mIe(e){const t=TH(e),n=_4(t,e),r=_4(t.reverse(),e);return[n,r]}function TH(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _4(e,t){for(const n of e)if(!gIe(n,{upTo:t}))return n}function gIe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _Ie(e){return e instanceof HTMLInputElement&&"select"in e}function yo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&_Ie(e)&&t&&e.select()}}var v4=vIe();function vIe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=y4(e,t),e.unshift(t)},remove(t){var n;e=y4(e,t),(n=e[0])==null||n.resume()}}}function y4(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function yIe(e){return e.filter(t=>t.tagName!=="A")}var bIe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zc=new WeakMap,Ap=new WeakMap,xp={},US=0,wH=function(e){return e&&(e.host||wH(e.parentNode))},CIe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wH(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},EIe=function(e,t,n,r){var i=CIe(t,Array.isArray(e)?e:[e]);xp[n]||(xp[n]=new WeakMap);var s=xp[n],o=[],a=new Set,c=new Set(i),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};i.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",m=(Zc.get(f)||0)+1,g=(s.get(f)||0)+1;Zc.set(f,m),s.set(f,g),o.push(f),m===1&&p&&Ap.set(f,!0),g===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),a.clear(),US++,function(){o.forEach(function(d){var f=Zc.get(d)-1,h=s.get(d)-1;Zc.set(d,f),s.set(d,h),f||(Ap.has(d)||d.removeAttribute(r),Ap.delete(d)),h||d.removeAttribute(n)}),US--,US||(Zc=new WeakMap,Zc=new WeakMap,Ap=new WeakMap,xp={})}},SIe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=bIe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),EIe(r,i,n,"aria-hidden")):function(){return null}},ym="right-scroll-bar-position",bm="width-before-scroll-bar",OIe="with-scroll-bars-hidden",TIe="--removed-body-scroll-bar-size";function BS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wIe(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var b4=new WeakMap;function AIe(e,t){var n=wIe(null,function(r){return e.forEach(function(i){return BS(i,r)})});return E.useLayoutEffect(function(){var r=b4.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||BS(a,null)}),s.forEach(function(a){i.has(a)||BS(a,o)})}b4.set(n,e)},[e]),n}function xIe(e){return e}function IIe(e,t){t===void 0&&(t=xIe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var u=o;o=[],u.forEach(s)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return i}function NIe(e){e===void 0&&(e={});var t=IIe(null);return t.options=Eo({async:!0,ssr:!1},e),t}var AH=function(e){var t=e.sideCar,n=fB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Eo({},n))};AH.isSideCarExport=!0;function RIe(e,t){return e.useMedium(t),AH}var xH=NIe(),GS=function(){},hv=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:GS,onWheelCapture:GS,onTouchMoveCapture:GS}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,v=e.gapMode,T=fB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,b=AIe([n,t]),O=Eo(Eo({},T),i);return E.createElement(E.Fragment,null,u&&E.createElement(C,{sideCar:xH,removeScrollBar:l,shards:d,noIsolation:h,inert:p,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?E.cloneElement(E.Children.only(a),Eo(Eo({},O),{ref:b})):E.createElement(y,Eo({},O,{className:c,ref:b}),a))});hv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hv.classNames={fullWidth:bm,zeroRight:ym};var PIe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kIe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PIe();return t&&e.setAttribute("nonce",t),e}function MIe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DIe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LIe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=kIe())&&(MIe(t,n),DIe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jIe=function(){var e=LIe();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},IH=function(){var e=jIe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},FIe={left:0,top:0,right:0,gap:0},WS=function(e){return parseInt(e||"",10)||0},UIe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[WS(n),WS(r),WS(i)]},BIe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FIe;var t=UIe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},GIe=IH(),Fl="data-scroll-locked",WIe=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),"\n  .".concat(OIe," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(Fl,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),n==="margin"&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ym," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(bm," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(ym," .").concat(ym," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(bm," .").concat(bm," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Fl,"] {\n    ").concat(TIe,": ").concat(a,"px;\n  }\n")},C4=function(){var e=parseInt(document.body.getAttribute(Fl)||"0",10);return isFinite(e)?e:0},qIe=function(){E.useEffect(function(){return document.body.setAttribute(Fl,(C4()+1).toString()),function(){var e=C4()-1;e<=0?document.body.removeAttribute(Fl):document.body.setAttribute(Fl,e.toString())}},[])},VIe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;qIe();var s=E.useMemo(function(){return BIe(i)},[i]);return E.createElement(GIe,{styles:WIe(s,!t,i,n?"":"!important")})},iw=!1;if(typeof window<"u")try{var Ip=Object.defineProperty({},"passive",{get:function(){return iw=!0,!0}});window.addEventListener("test",Ip,Ip),window.removeEventListener("test",Ip,Ip)}catch(e){iw=!1}var el=iw?{passive:!1}:!1,$Ie=function(e){return e.tagName==="TEXTAREA"},NH=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$Ie(e)&&n[t]==="visible")},HIe=function(e){return NH(e,"overflowY")},zIe=function(e){return NH(e,"overflowX")},E4=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=RH(e,r);if(i){var s=PH(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YIe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},KIe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},RH=function(e,t){return e==="v"?HIe(t):zIe(t)},PH=function(e,t){return e==="v"?YIe(t):KIe(t)},JIe=function(e,t){return e==="h"&&t==="rtl"?-1:1},XIe=function(e,t,n,r,i){var s=JIe(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,c=t.contains(a),l=!1,u=o>0,d=0,f=0;do{var h=PH(e,a),p=h[0],m=h[1],g=h[2],y=m-g-s*p;(p||y)&&RH(e,a)&&(d+=y,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(l=!0),l},Np=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},S4=function(e){return[e.deltaX,e.deltaY]},O4=function(e){return e&&"current"in e?e.current:e},QIe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZIe=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},eNe=0,tl=[];function tNe(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(eNe++)[0],s=E.useState(IH)[0],o=E.useRef(e);E.useEffect(function(){o.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=pJ([e.lockRef.current],(e.shards||[]).map(O4),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=E.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=Np(m),v=n.current,T="deltaX"in m?m.deltaX:v[0]-y[0],C="deltaY"in m?m.deltaY:v[1]-y[1],b,O=m.target,w=Math.abs(T)>Math.abs(C)?"h":"v";if("touches"in m&&w==="h"&&O.type==="range")return!1;var A=E4(w,O);if(!A)return!0;if(A?b=w:(b=w==="v"?"h":"v",A=E4(w,O)),!A)return!1;if(!r.current&&"changedTouches"in m&&(T||C)&&(r.current=b),!b)return!0;var x=r.current||b;return XIe(x,g,m,x==="h"?T:C)},[]),c=E.useCallback(function(m){var g=m;if(!(!tl.length||tl[tl.length-1]!==s)){var y="deltaY"in g?S4(g):Np(g),v=t.current.filter(function(b){return b.name===g.type&&(b.target===g.target||g.target===b.shadowParent)&&QIe(b.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var T=(o.current.shards||[]).map(O4).filter(Boolean).filter(function(b){return b.contains(g.target)}),C=T.length>0?a(g,T[0]):!o.current.noIsolation;C&&g.cancelable&&g.preventDefault()}}},[]),l=E.useCallback(function(m,g,y,v){var T={name:m,delta:g,target:y,should:v,shadowParent:nNe(y)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(C){return C!==T})},1)},[]),u=E.useCallback(function(m){n.current=Np(m),r.current=void 0},[]),d=E.useCallback(function(m){l(m.type,S4(m),m.target,a(m,e.lockRef.current))},[]),f=E.useCallback(function(m){l(m.type,Np(m),m.target,a(m,e.lockRef.current))},[]);E.useEffect(function(){return tl.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,el),document.addEventListener("touchmove",c,el),document.addEventListener("touchstart",u,el),function(){tl=tl.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,el),document.removeEventListener("touchmove",c,el),document.removeEventListener("touchstart",u,el)}},[]);var h=e.removeScrollBar,p=e.inert;return E.createElement(E.Fragment,null,p?E.createElement(s,{styles:ZIe(i)}):null,h?E.createElement(VIe,{gapMode:e.gapMode}):null)}function nNe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rNe=RIe(xH,tNe);var DI=E.forwardRef(function(e,t){return E.createElement(hv,Eo({},e,{ref:t,sideCar:rNe}))});DI.classNames=hv.classNames;var sw=["Enter"," "],iNe=["ArrowDown","PageUp","Home"],kH=["ArrowUp","PageDown","End"],sNe=[...iNe,...kH],oNe={ltr:[...sw,"ArrowRight"],rtl:[...sw,"ArrowLeft"]},aNe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rh="Menu",[xf,cNe,lNe]=Pq(Rh),[Lc,MH]=Su(Rh,[lNe,R_,L_]),Ph=R_(),DH=L_(),[LH,pa]=Lc(Rh),[uNe,kh]=Lc(Rh),jH=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,a=Ph(t),[c,l]=E.useState(null),u=E.useRef(!1),d=ii(s),f=ZA(i);return E.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),_.jsx(YA,I(S({},a),{children:_.jsx(LH,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:l,children:_.jsx(uNe,{scope:t,onClose:E.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})}))};jH.displayName=Rh;var dNe="MenuAnchor",LI=E.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=W(s,["__scopeMenu"]),i=Ph(n);return _.jsx(mq,I(S(S({},i),r),{ref:t}))});LI.displayName=dNe;var jI="MenuPortal",[fNe,FH]=Lc(jI,{forceMount:void 0}),UH=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=pa(jI,t);return _.jsx(fNe,{scope:t,forceMount:n,children:_.jsx(ji,{present:n||s.open,children:_.jsx(uh,{asChild:!0,container:i,children:r})})})};UH.displayName=jI;var ti="MenuContent",[hNe,FI]=Lc(ti),BH=E.forwardRef((e,t)=>{const n=FH(ti,e.__scopeMenu),a=e,{forceMount:r=n.forceMount}=a,i=W(a,["forceMount"]),s=pa(ti,e.__scopeMenu),o=kh(ti,e.__scopeMenu);return _.jsx(xf.Provider,{scope:e.__scopeMenu,children:_.jsx(ji,{present:r||s.open,children:_.jsx(xf.Slot,{scope:e.__scopeMenu,children:o.modal?_.jsx(pNe,I(S({},i),{ref:t})):_.jsx(mNe,I(S({},i),{ref:t}))})})})}),pNe=E.forwardRef((e,t)=>{const n=pa(ti,e.__scopeMenu),r=E.useRef(null),i=cn(t,r);return E.useEffect(()=>{const s=r.current;if(s)return SIe(s)},[]),_.jsx(UI,I(S({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ve(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),mNe=E.forwardRef((e,t)=>{const n=pa(ti,e.__scopeMenu);return _.jsx(UI,I(S({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),UI=E.forwardRef((e,t)=>{const te=e,{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p}=te,m=W(te,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),g=pa(ti,n),y=kh(ti,n),v=Ph(n),T=DH(n),C=cNe(n),[b,O]=E.useState(null),w=E.useRef(null),A=cn(t,w,g.onContentChange),x=E.useRef(0),N=E.useRef(""),R=E.useRef(0),L=E.useRef(null),D=E.useRef("right"),F=E.useRef(0),G=p?DI:E.Fragment,z=p?{as:Zl,allowPinchZoom:!0}:void 0,V=$=>{var ee,ve;const se=N.current+$,me=C().filter(ue=>!ue.disabled),Ce=document.activeElement,J=(ee=me.find(ue=>ue.ref.current===Ce))==null?void 0:ee.textValue,K=me.map(ue=>ue.textValue),ne=ANe(K,se,J),X=(ve=me.find(ue=>ue.textValue===ne))==null?void 0:ve.ref.current;(function ue(oe){N.current=oe,window.clearTimeout(x.current),oe!==""&&(x.current=window.setTimeout(()=>ue(""),1e3))})(se),X&&setTimeout(()=>X.focus())};E.useEffect(()=>()=>window.clearTimeout(x.current),[]),OH();const M=E.useCallback($=>{var me,Ce;return D.current===((me=L.current)==null?void 0:me.side)&&INe($,(Ce=L.current)==null?void 0:Ce.area)},[]);return _.jsx(hNe,{scope:n,searchRef:N,onItemEnter:E.useCallback($=>{M($)&&$.preventDefault()},[M]),onItemLeave:E.useCallback($=>{var se;M($)||((se=w.current)==null||se.focus(),O(null))},[M]),onTriggerLeave:E.useCallback($=>{M($)&&$.preventDefault()},[M]),pointerGraceTimerRef:R,onPointerGraceIntentChange:E.useCallback($=>{L.current=$},[]),children:_.jsx(G,I(S({},z),{children:_.jsx(MI,{asChild:!0,trapped:i,onMountAutoFocus:Ve(s,$=>{var se;$.preventDefault(),(se=w.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:_.jsx(ch,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:_.jsx(Uq,I(S({asChild:!0},T),{dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:b,onCurrentTabStopIdChange:O,onEntryFocus:Ve(c,$=>{y.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(gq,I(S(S({role:"menu","aria-orientation":"vertical","data-state":rz(g.open),"data-radix-menu-content":"",dir:y.dir},v),m),{ref:A,style:S({outline:"none"},m.style),onKeyDown:Ve(m.onKeyDown,$=>{const me=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Ce=$.ctrlKey||$.altKey||$.metaKey,J=$.key.length===1;me&&($.key==="Tab"&&$.preventDefault(),!Ce&&J&&V($.key));const K=w.current;if($.target!==K||!sNe.includes($.key))return;$.preventDefault();const X=C().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);kH.includes($.key)&&X.reverse(),TNe(X)}),onBlur:Ve(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(x.current),N.current="")}),onPointerMove:Ve(e.onPointerMove,If($=>{const se=$.target,me=F.current!==$.clientX;if($.currentTarget.contains(se)&&me){const Ce=$.clientX>F.current?"right":"left";D.current=Ce,F.current=$.clientX}}))}))}))})})}))})});BH.displayName=ti;var gNe="MenuGroup",BI=E.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=W(i,["__scopeMenu"]);return _.jsx(Ot.div,I(S({role:"group"},r),{ref:t}))});BI.displayName=gNe;var _Ne="MenuLabel",GH=E.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=W(i,["__scopeMenu"]);return _.jsx(Ot.div,I(S({},r),{ref:t}))});GH.displayName=_Ne;var Og="MenuItem",T4="menu.itemSelect",pv=E.forwardRef((e,t)=>{const d=e,{disabled:n=!1,onSelect:r}=d,i=W(d,["disabled","onSelect"]),s=E.useRef(null),o=kh(Og,e.__scopeMenu),a=FI(Og,e.__scopeMenu),c=cn(t,s),l=E.useRef(!1),u=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(T4,{bubbles:!0,cancelable:!0});f.addEventListener(T4,p=>r==null?void 0:r(p),{once:!0}),jW(f,h),h.defaultPrevented?l.current=!1:o.onClose()}};return _.jsx(WH,I(S({},i),{ref:c,disabled:n,onClick:Ve(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),l.current=!0},onPointerUp:Ve(e.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ve(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||sw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))});pv.displayName=Og;var WH=E.forwardRef((e,t)=>{const p=e,{__scopeMenu:n,disabled:r=!1,textValue:i}=p,s=W(p,["__scopeMenu","disabled","textValue"]),o=FI(Og,n),a=DH(n),c=E.useRef(null),l=cn(t,c),[u,d]=E.useState(!1),[f,h]=E.useState("");return E.useEffect(()=>{var g;const m=c.current;m&&h(((g=m.textContent)!=null?g:"").trim())},[s.children]),_.jsx(xf.ItemSlot,{scope:n,disabled:r,textValue:i!=null?i:f,children:_.jsx(Bq,I(S({asChild:!0},a),{focusable:!r,children:_.jsx(Ot.div,I(S({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s),{ref:l,onPointerMove:Ve(e.onPointerMove,If(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ve(e.onPointerLeave,If(m=>o.onItemLeave(m))),onFocus:Ve(e.onFocus,()=>d(!0)),onBlur:Ve(e.onBlur,()=>d(!1))}))}))})}),vNe="MenuCheckboxItem",qH=E.forwardRef((e,t)=>{const s=e,{checked:n=!1,onCheckedChange:r}=s,i=W(s,["checked","onCheckedChange"]);return _.jsx(YH,{scope:e.__scopeMenu,checked:n,children:_.jsx(pv,I(S({role:"menuitemcheckbox","aria-checked":Tg(n)?"mixed":n},i),{ref:t,"data-state":qI(n),onSelect:Ve(i.onSelect,()=>r==null?void 0:r(Tg(n)?!0:!n),{checkForDefaultPrevented:!1})}))})});qH.displayName=vNe;var VH="MenuRadioGroup",[yNe,bNe]=Lc(VH,{value:void 0,onValueChange:()=>{}}),$H=E.forwardRef((e,t)=>{const o=e,{value:n,onValueChange:r}=o,i=W(o,["value","onValueChange"]),s=ii(r);return _.jsx(yNe,{scope:e.__scopeMenu,value:n,onValueChange:s,children:_.jsx(BI,I(S({},i),{ref:t}))})});$H.displayName=VH;var HH="MenuRadioItem",zH=E.forwardRef((e,t)=>{const o=e,{value:n}=o,r=W(o,["value"]),i=bNe(HH,e.__scopeMenu),s=n===i.value;return _.jsx(YH,{scope:e.__scopeMenu,checked:s,children:_.jsx(pv,I(S({role:"menuitemradio","aria-checked":s},r),{ref:t,"data-state":qI(s),onSelect:Ve(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})}))})});zH.displayName=HH;var GI="MenuItemIndicator",[YH,CNe]=Lc(GI,{checked:!1}),KH=E.forwardRef((e,t)=>{const o=e,{__scopeMenu:n,forceMount:r}=o,i=W(o,["__scopeMenu","forceMount"]),s=CNe(GI,n);return _.jsx(ji,{present:r||Tg(s.checked)||s.checked===!0,children:_.jsx(Ot.span,I(S({},i),{ref:t,"data-state":qI(s.checked)}))})});KH.displayName=GI;var ENe="MenuSeparator",JH=E.forwardRef((e,t)=>{const i=e,{__scopeMenu:n}=i,r=W(i,["__scopeMenu"]);return _.jsx(Ot.div,I(S({role:"separator","aria-orientation":"horizontal"},r),{ref:t}))});JH.displayName=ENe;var SNe="MenuArrow",XH=E.forwardRef((e,t)=>{const s=e,{__scopeMenu:n}=s,r=W(s,["__scopeMenu"]),i=Ph(n);return _.jsx(_q,I(S(S({},i),r),{ref:t}))});XH.displayName=SNe;var WI="MenuSub",[ONe,QH]=Lc(WI),ZH=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,s=pa(WI,t),o=Ph(t),[a,c]=E.useState(null),[l,u]=E.useState(null),d=ii(i);return E.useEffect(()=>(s.open===!1&&d(!1),()=>d(!1)),[s.open,d]),_.jsx(YA,I(S({},o),{children:_.jsx(LH,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:_.jsx(ONe,{scope:t,contentId:ss(),triggerId:ss(),trigger:a,onTriggerChange:c,children:n})})}))};ZH.displayName=WI;var Od="MenuSubTrigger",ez=E.forwardRef((e,t)=>{const n=pa(Od,e.__scopeMenu),r=kh(Od,e.__scopeMenu),i=QH(Od,e.__scopeMenu),s=FI(Od,e.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=s,l={__scopeMenu:e.__scopeMenu},u=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>u,[u]),E.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),c(null)}},[a,c]),_.jsx(LI,I(S({asChild:!0},l),{children:_.jsx(WH,I(S({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":rz(n.open)},e),{ref:A_(t,i.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ve(e.onPointerMove,If(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ve(e.onPointerLeave,If(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const m=(p=n.content)==null?void 0:p.dataset.side,g=m==="right",y=g?-5:5,v=f[g?"left":"right"],T=f[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:v,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x:v,y:f.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ve(e.onKeyDown,d=>{var h;const f=s.searchRef.current!=="";e.disabled||f&&d.key===" "||oNe[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})}))}))});ez.displayName=Od;var tz="MenuSubContent",nz=E.forwardRef((e,t)=>{const n=FH(ti,e.__scopeMenu),u=e,{forceMount:r=n.forceMount}=u,i=W(u,["forceMount"]),s=pa(ti,e.__scopeMenu),o=kh(ti,e.__scopeMenu),a=QH(tz,e.__scopeMenu),c=E.useRef(null),l=cn(t,c);return _.jsx(xf.Provider,{scope:e.__scopeMenu,children:_.jsx(ji,{present:r||s.open,children:_.jsx(xf.Slot,{scope:e.__scopeMenu,children:_.jsx(UI,I(S({id:a.contentId,"aria-labelledby":a.triggerId,align:"start"},i),{ref:l,side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ve(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ve(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ve(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=aNe[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})}))})})})});nz.displayName=tz;function rz(e){return e?"open":"closed"}function Tg(e){return e==="indeterminate"}function qI(e){return Tg(e)?"indeterminate":e?"checked":"unchecked"}function TNe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function wNe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function ANe(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=wNe(e,Math.max(s,0));i.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function xNe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,c=t[s].y,l=t[o].x,u=t[o].y;c>r!=u>r&&n<(l-a)*(r-c)/(u-c)+a&&(i=!i)}return i}function INe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return xNe(n,t)}function If(e){return t=>t.pointerType==="mouse"?e(t):void 0}var NNe=jH,RNe=LI,PNe=UH,kNe=BH,MNe=BI,DNe=GH,LNe=pv,jNe=qH,FNe=$H,UNe=zH,BNe=KH,GNe=JH,WNe=XH,qNe=ZH,VNe=ez,$Ne=nz,VI="DropdownMenu",[HNe]=Su(VI,[MH]),zn=MH(),[zNe,iz]=HNe(VI),sz=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,c=zn(t),l=E.useRef(null),[u=!1,d]=Rc({prop:i,defaultProp:s,onChange:o});return _.jsx(zNe,{scope:t,triggerId:ss(),triggerRef:l,contentId:ss(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(f=>!f),[d]),modal:a,children:_.jsx(NNe,I(S({},c),{open:u,onOpenChange:d,dir:r,modal:a,children:n}))})};sz.displayName=VI;var oz="DropdownMenuTrigger",az=E.forwardRef((e,t)=>{const a=e,{__scopeDropdownMenu:n,disabled:r=!1}=a,i=W(a,["__scopeDropdownMenu","disabled"]),s=iz(oz,n),o=zn(n);return _.jsx(RNe,I(S({asChild:!0},o),{children:_.jsx(Ot.button,I(S({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i),{ref:A_(t,s.triggerRef),onPointerDown:Ve(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:Ve(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})}))}))});az.displayName=oz;var YNe="DropdownMenuPortal",cz=e=>{const i=e,{__scopeDropdownMenu:t}=i,n=W(i,["__scopeDropdownMenu"]),r=zn(t);return _.jsx(PNe,S(S({},r),n))};cz.displayName=YNe;var lz="DropdownMenuContent",uz=E.forwardRef((e,t)=>{const a=e,{__scopeDropdownMenu:n}=a,r=W(a,["__scopeDropdownMenu"]),i=iz(lz,n),s=zn(n),o=E.useRef(!1);return _.jsx(kNe,I(S(S({id:i.contentId,"aria-labelledby":i.triggerId},s),r),{ref:t,onCloseAutoFocus:Ve(e.onCloseAutoFocus,c=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Ve(e.onInteractOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:I(S({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});uz.displayName=lz;var KNe="DropdownMenuGroup",dz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(MNe,I(S(S({},i),r),{ref:t}))});dz.displayName=KNe;var JNe="DropdownMenuLabel",fz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(DNe,I(S(S({},i),r),{ref:t}))});fz.displayName=JNe;var XNe="DropdownMenuItem",hz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(LNe,I(S(S({},i),r),{ref:t}))});hz.displayName=XNe;var QNe="DropdownMenuCheckboxItem",pz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(jNe,I(S(S({},i),r),{ref:t}))});pz.displayName=QNe;var ZNe="DropdownMenuRadioGroup",mz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(FNe,I(S(S({},i),r),{ref:t}))});mz.displayName=ZNe;var eRe="DropdownMenuRadioItem",gz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(UNe,I(S(S({},i),r),{ref:t}))});gz.displayName=eRe;var tRe="DropdownMenuItemIndicator",_z=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(BNe,I(S(S({},i),r),{ref:t}))});_z.displayName=tRe;var nRe="DropdownMenuSeparator",vz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(GNe,I(S(S({},i),r),{ref:t}))});vz.displayName=nRe;var rRe="DropdownMenuArrow",iRe=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(WNe,I(S(S({},i),r),{ref:t}))});iRe.displayName=rRe;var sRe=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:s}=e,o=zn(t),[a=!1,c]=Rc({prop:r,defaultProp:s,onChange:i});return _.jsx(qNe,I(S({},o),{open:a,onOpenChange:c,children:n}))},oRe="DropdownMenuSubTrigger",yz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx(VNe,I(S(S({},i),r),{ref:t}))});yz.displayName=oRe;var aRe="DropdownMenuSubContent",bz=E.forwardRef((e,t)=>{const s=e,{__scopeDropdownMenu:n}=s,r=W(s,["__scopeDropdownMenu"]),i=zn(n);return _.jsx($Ne,I(S(S({},i),r),{ref:t,style:I(S({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});bz.displayName=aRe;var Cz=sz,$I=az,cRe=cz,lRe=uz,uRe=dz,dRe=fz,mv=hz,Ez=pz,fRe=mz,hRe=gz,pRe=_z,mRe=vz,gRe=sRe,_Re=yz,vRe=bz;const gr=E.createContext({activeDetent$:Oe(void 0),fullyExpanded$:Oe(!1),mode:"dropdown",store:{isSheetVisible$:Oe(!1),isSheetOpen$:Oe(!1),keepSheetOpen$:Oe(!1)}}),HI=E.createContext({});function U8e(e){var n,r,i;const t={};return I(S({},t),{isSheetVisible$:Oe((n=t.isSheetVisible$)!=null?n:!1),isSheetOpen$:Oe((r=t.isSheetOpen$)!=null?r:!1),keepSheetOpen$:Oe((i=t.keepSheetOpen$)!=null?i:!1)})}const yRe=B(()=>k(()=>import("./lp37n48fw7cf8x3c.js"),__vite__mapDeps([63,1])),{loading:e=>H(e)}),bRe=B(()=>k(()=>import("./jx5pd8qsxc77tbjo.js"),__vite__mapDeps([64,1])),{loading:e=>H(e)}),Sz=6,Oz=function(t){"use forget";var ge,he;const n=Y.c(77);let r,i,s,o,a,c,l,u,d,f,h,p,m,g,y;n[0]!==t?(ge=t,{children:i,className:s,style:h,size:p,align:r,addBottomGradient:m,sheetContentClassName:f,nativeEdgeSwipePrevention:g,ref:u,sheetSize:y,onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c}=ge,d=W(ge,["children","className","style","size","align","addBottomGradient","sheetContentClassName","nativeEdgeSwipePrevention","ref","sheetSize","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside"]),n[0]=t,n[1]=r,n[2]=i,n[3]=s,n[4]=o,n[5]=a,n[6]=c,n[7]=l,n[8]=u,n[9]=d,n[10]=f,n[11]=h,n[12]=p,n[13]=m,n[14]=g,n[15]=y):(r=n[1],i=n[2],s=n[3],o=n[4],a=n[5],c=n[6],l=n[7],u=n[8],d=n[9],f=n[10],h=n[11],p=n[12],m=n[13],g=n[14],y=n[15]);const v=p===void 0?"default":p,T=m===void 0?!1:m,C=g===void 0?!1:g,b=y===void 0?"fit":y,{detents:O,mode:w,store:A}=E.use(gr),[x,N]=E.useState(!1),R=E.useRef(!1),L=E.useRef(!1),D=E.useRef(!1),F=Ue(A.keepSheetOpen$);let G,z,V,M;if(n[16]!==d?(he=d,{canBounce:G,hasBounced$:z,showHeader:M}=he,V=W(he,["canBounce","hasBounced$","showHeader"]),n[16]=d,n[17]=G,n[18]=z,n[19]=V,n[20]=M):(G=n[17],z=n[18],V=n[19],M=n[20]),w==="sheet"){const j=!F;let Qe;n[21]!==j?(Qe={dismiss:j},n[21]=j,n[22]=Qe):Qe=n[22];let Re;n[23]===Symbol.for("react.memo_cache_sentinel")?(Re=_.jsx(Zi.Backdrop,{}),n[23]=Re):Re=n[23];let de;n[24]!==i||n[25]!==f?(de=_.jsx(Zi.ScrollRoot,{children:_.jsx(Zi.ContentSection,{"data-content-sheet-content-section":!0,className:f,children:i})}),n[24]=i,n[25]=f,n[26]=de):de=n[26];let pe;n[27]!==G||n[28]!==s||n[29]!==z||n[30]!==u||n[31]!==V||n[32]!==b||n[33]!==M||n[34]!==h||n[35]!==de?(pe=_.jsx(Zi.Content,I(S({size:b,ref:u,className:s,style:h,canBounce:G,hasBounced$:z,showHeader:M},V),{children:de})),n[27]=G,n[28]=s,n[29]=z,n[30]=u,n[31]=V,n[32]=b,n[33]=M,n[34]=h,n[35]=de,n[36]=pe):pe=n[36];let Le;return n[37]!==O||n[38]!==C||n[39]!==Qe||n[40]!==pe?(Le=_.jsxs(Zi.View,{detents:O,nativeEdgeSwipePrevention:C,onClickOutside:Qe,children:[Re,pe]}),n[37]=O,n[38]=C,n[39]=Qe,n[40]=pe,n[41]=Le):Le=n[41],Le}const te=V.alignOffset?"".concat(V.alignOffset,"px"):void 0;let $;n[42]!==te?($={"--radix-align-offset":te},n[42]=te,n[43]=$):$=n[43];const se=$,me=r!=null?r:"start";let Ce;n[44]!==se||n[45]!==h?(Ce=S(S({},se),h),n[44]=se,n[45]=h,n[46]=Ce):Ce=n[46];const J=v==="default",K=v==="large",ne=v==="small",X=v==="medium",ee=v==="auto";let ve;n[47]!==s||n[48]!==K||n[49]!==ne||n[50]!==X||n[51]!==ee||n[52]!==J?(ve=_e("[--trigger-width:calc(var(--radix-dropdown-menu-trigger-width)-2*var(--radix-align-offset))]",{"min-w-[max(var(--trigger-width),min(280px,95vw))]":J,"min-w-[max(var(--trigger-width),min(350px,95vw))]":K,"min-w-[max(var(--trigger-width),min(125px,95vw))]":ne,"min-w-[max(var(--trigger-width),min(200px,95vw))]":X,"min-w-(--trigger-width)":ee},"max-h-[var(--radix-dropdown-menu-content-available-height)] overflow-y-auto select-none",s),n[47]=s,n[48]=K,n[49]=ne,n[50]=X,n[51]=ee,n[52]=J,n[53]=ve):ve=n[53];let ue;n[54]!==o?(ue=j=>{const Qe=R.current,Re=L.current,de=D.current;R.current=!1,L.current=!1,D.current=!1,!de&&!Qe&&!Re&&(o==null||o(j))},n[54]=o,n[55]=ue):ue=n[55];let oe;n[56]!==a?(oe=j=>{a==null||a(j),R.current=!0},n[56]=a,n[57]=oe):oe=n[57];let be;n[58]!==l?(be=j=>{l==null||l(j),L.current=!0},n[58]=l,n[59]=be):be=n[59];let Ae;n[60]!==c?(Ae=j=>{c==null||c(j),D.current=!0},n[60]=c,n[61]=Ae):Ae=n[61];let He;n[62]!==T||n[63]!==x?(He=T&&_.jsxs(_.Fragment,{children:[_.jsx(uIe,{setIsScrolledToEdge:N},"dropdownBottomEdgeScrollObserver"),_.jsx("div",{className:"pointer-events-none absolute start-0 end-0 bottom-0 h-20 transition-opacity duration-100",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--main-surface-primary))",opacity:x?1:0}})]}),n[62]=T,n[63]=x,n[64]=He):He=n[64];let Ne;return n[65]!==i||n[66]!==u||n[67]!==V||n[68]!==ve||n[69]!==ue||n[70]!==oe||n[71]!==be||n[72]!==Ae||n[73]!==He||n[74]!==me||n[75]!==Ce?(Ne=_.jsx(hde,{children:_.jsxs(SH,I(S({ref:u,$as:lRe,sideOffset:4,align:me,collisionPadding:Sz,style:Ce,className:ve,onCloseAutoFocus:ue,onEscapeKeyDown:oe,onPointerDownOutside:be,onFocusOutside:Ae},V),{children:[i,He]}))}),n[65]=i,n[66]=u,n[67]=V,n[68]=ve,n[69]=ue,n[70]=oe,n[71]=be,n[72]=Ae,n[73]=He,n[74]=me,n[75]=Ce,n[76]=Ne):Ne=n[76],Ne};function CRe(e){"use forget";var c;const t=Y.c(13);let n,r;t[0]!==e?(c=e,{ref:r}=c,n=W(c,["ref"]),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const{mode:i}=E.use(gr);let s;t[3]!==n?(s=l=>{var u;l.stopPropagation(),(u=n.onFocusCapture)==null||u.call(n,l)},t[3]=n,t[4]=s):s=t[4];const o=s;if(i==="sheet"){let l;return t[5]!==o||t[6]!==n||t[7]!==r?(l=_.jsx(Zi.Trigger,{asChild:!0,children:_.jsx("button",S({ref:r,onFocusCapture:o},n))}),t[5]=o,t[6]=n,t[7]=r,t[8]=l):l=t[8],l}let a;return t[9]!==o||t[10]!==n||t[11]!==r?(a=_.jsx(dIe,I(S({$as:$I,ref:r},n),{onFocusCapture:o})),t[9]=o,t[10]=n,t[11]=r,t[12]=a):a=t[12],a}function ERe(e){"use forget";var m;const t=Y.c(22);let n,r,i,s;t[0]!==e?(m=e,{ref:s,onClick:r,onFocusCapture:i}=m,n=W(m,["ref","onClick","onFocusCapture"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const{mode:o,store:a}=E.use(gr);let c;t[5]!==a?(c=()=>a==null?void 0:a.isSheetVisible$(),t[5]=a,t[6]=c):c=t[6];const l=Ue(c);let u;t[7]!==r?(u=g=>{g.preventDefault(),r==null||r(g)},t[7]=r,t[8]=u):u=t[8];const d=u;let f;t[9]!==i?(f=g=>{g.stopPropagation(),i==null||i(g)},t[9]=i,t[10]=f):f=t[10];const h=f;if(o==="sheet"){const g=l?"open":"closed",y=d;let v;return t[11]!==h||t[12]!==n||t[13]!==s||t[14]!==g||t[15]!==y?(v=_.jsx(Zi.Trigger,S({ref:s,"data-state":g,onFocusCapture:h,onClick:y},n)),t[11]=h,t[12]=n,t[13]=s,t[14]=g,t[15]=y,t[16]=v):v=t[16],v}let p;return t[17]!==d||t[18]!==h||t[19]!==n||t[20]!==s?(p=_.jsx($I,S({ref:s,onClick:d,onFocusCapture:h},n)),t[17]=d,t[18]=h,t[19]=n,t[20]=s,t[21]=p):p=t[21],p}function Tz({children:e}){const{mode:t}=E.use(gr),n=$W();return t==="sheet"?_.jsx(Zi.Portal,I(S({},n),{children:e})):_.jsx(cRe,I(S({},n),{children:e}))}function jc(r){var i=r,{onPointerMove:e,onPointerLeave:t}=i,n=W(i,["onPointerMove","onPointerLeave"]);return I(S({},n),{onPointerMove:s=>{e==null||e(s),w4(s)},onPointerLeave:s=>{t==null||t(s),w4(s)}})}const w4=e=>{if(!e.defaultPrevented&&e.pointerType!=="touch"){const t=e.currentTarget.ownerDocument.activeElement;t&&cce(t,"data-hold-focus")&&e.preventDefault()}},wz=e=>{const a=e,{disabled:t,ref:n,onSelect:r}=a,i=W(a,["disabled","ref","onSelect"]),[s,o]=Et.useState(!1);return _.jsx("div",I(S({role:"menuitem","data-highlighted":s?"":void 0,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,ref:n},i),{onFocus:c=>{var l;o(!0),(l=e.onFocus)==null||l.call(e,c)},onBlur:c=>{var l;o(!1),(l=e.onBlur)==null||l.call(e,c)},onSelect:c=>{r==null||r(c.nativeEvent)},children:e.children}))},SRe=e=>{const{mode:t}=E.use(gr);return _.jsx(no,S({as:t==="sheet"?wz:mv,hasManagedFocus:!0},jc(e)))},ORe=e=>{const{mode:t}=E.use(gr),n=t==="sheet"?wz:mv;return _.jsx(n,I(S({asChild:!0},jc({})),{children:_.jsx(no,S({},e))}))};function TRe(r){var i=r,{className:e,noMargin:t}=i,n=W(i,["className","noMargin"]);return _.jsx(mRe,S({className:_e("bg-token-border-default h-px",!t&&"mx-4 my-1",e)},n))}const wRe=r=>{var i=r,{separator:e=!0,className:t}=i,n=W(i,["separator","className"]);const{mode:s}=E.use(gr),o=_.jsx(uRe,S({className:_e("empty:hidden [:not(:has(div:not([role=group])))]:hidden",e&&"before:bg-token-border-default content-sheet:before:my-3 content-sheet:before:mx-6 before:mx-4 before:my-1 before:block before:h-px first:before:hidden [&:nth-child(1_of_:has(div:not([role=group])))]:before:hidden",t)},n));return s==="sheet"?_.jsx(c_,{name:"DropdownGroup",fallback:_.jsx(_.Fragment,{}),children:o}):o};function ARe(e){const c=e,{children:t,value:n,defaultValue:r,defaultChecked:i}=c,o=W(c,["children","value","defaultValue","defaultChecked"]),{onRadioGroupChange:a}=E.use(HI);return _.jsxs("label",I(S({},o),{children:[t,_.jsx("input",{type:"radio",className:"sr-only",value:n,defaultValue:r,defaultChecked:i,onChange:l=>{a==null||a(l.target.value)}})]}))}const xRe=e=>{"use forget";const t=Y.c(7),{mode:n}=E.use(gr),r=n==="sheet"?ARe:hRe,i=n==="sheet"?"large":e.size;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=_.jsx(Az,{}),t[0]=s):s=t[0];let o;t[1]!==e?(o=jc(e),t[1]=e,t[2]=o):o=t[2];let a;return t[3]!==r||t[4]!==i||t[5]!==o?(a=_.jsx(no,S({as:r,hasManagedFocus:!0,size:i,trailingColor:"primary",trailing:s},o)),t[3]=r,t[4]=i,t[5]=o,t[6]=a):a=t[6],a};function Az(){return _.jsxs(_.Fragment,{children:[_.jsx(pRe,{children:_.jsx(CH,{className:"icon-sm"})}),_.jsx("div",{className:"icon-sm group-radix-state-checked:hidden"})]})}const IRe=Et.forwardRef(function(t,n){const s=t,{className:r}=s,i=W(s,["className"]);return _.jsx(SH,S({ref:n,$as:vRe,className:_e("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",r),sideOffset:2,alignOffset:t.align==="end"?-6:-14,collisionPadding:Sz},i))}),NRe=e=>_.jsx(no,S({subMenu:!0,as:_Re,hasManagedFocus:!0,onClick:t=>{var n;(n=e.onClick)==null||n.call(e,t),t.preventDefault()}},jc(e)));function B8e({triggerButton:e,children:t,size:n="default",open:r,onOpenChange:i,onCloseAutoFocus:s,contentAlign:o,side:a,sideOffset:c=0,alignOffset:l=0,contentClassName:u,testId:d,tooltip:f,tooltipSideOffset:h,contentRef:p,modal:m=!1}){const[g,y]=E.useState(r!=null?r:!1),v=r!==void 0,T=Ue(A7),C=A=>{v||y(A),i==null||i(A)},{triggerRef:b}=fIe({isOpen:!!g||!!r,onClose:()=>C(!1)}),O=_.jsx($I,{asChild:!0,ref:b,"data-testid":d?"".concat(d,"-button"):void 0,children:e}),w=f?_.jsx(io,{label:f,disabled:!T,triggerAs:null,sideOffset:h,children:O}):O;return _.jsxs(Cz,{modal:m,open:r!=null?r:g,onOpenChange:C,children:[w,_.jsx(Tz,{children:_.jsx(Oz,{ref:p,size:n,align:o,alignOffset:l,side:a,sideOffset:c,className:u,onCloseAutoFocus:s,onClick:A=>{A.stopPropagation()},children:t})})]})}function RRe(e){return _.jsx(vce,S({as:dRe},e))}function PRe(e){"use forget";const t=Y.c(22),{children:n,className:r,behavior:i,sheetName:s,sheetUrl:o}=e,{store:a,activeDetent$:c,detents:l,fullyExpanded$:u}=E.use(gr),d=Ue(a.isSheetVisible$),f=Ue(c);let h;t[0]!==a.isSheetOpen$||t[1]!==a.keepSheetOpen$?(h=()=>{F6(()=>{a.keepSheetOpen$.set(!1),a.isSheetOpen$.set(!1)})},t[0]=a.isSheetOpen$,t[1]=a.keepSheetOpen$,t[2]=h):h=t[2];let p;t[3]!==c||t[4]!==l||t[5]!==u||t[6]!==e?(p=y=>{var v;if(c.set(y),(v=e.onActiveDetentChange)==null||v.call(e,y),l&&l.length>0){const T=y===(l==null?void 0:l.length)+1;u.set(T)}},t[3]=c,t[4]=l,t[5]=u,t[6]=e,t[7]=p):p=t[7];let m;t[8]!==e||t[9]!==a.isSheetOpen$?(m=y=>{var v;a.isSheetOpen$.set(y),(v=e.onOpenChange)==null||v.call(e,y)},t[8]=e,t[9]=a.isSheetOpen$,t[10]=m):m=t[10];let g;return t[11]!==f||t[12]!==i||t[13]!==n||t[14]!==r||t[15]!==d||t[16]!==s||t[17]!==o||t[18]!==h||t[19]!==p||t[20]!==m?(g=_.jsx(Zi.Root,{activeDetent:f,className:r,behavior:i,sheetName:s,sheetUrl:o,onHistoryPop:h,onActiveDetentChange:p,onPresentedChange:m,presented:d,children:n}),t[11]=f,t[12]=i,t[13]=n,t[14]=r,t[15]=d,t[16]=s,t[17]=o,t[18]=h,t[19]=p,t[20]=m,t[21]=g):g=t[21],g}function kRe(e){"use forget";var f;const t=Y.c(20);let n,r,i,s,o,a,c,l,u;t[0]!==e?(f=e,{className:r,detents:i,mode:s,open:o,store:u,behavior:n,sheetName:c,sheetUrl:l}=f,a=W(f,["className","detents","mode","open","store","behavior","sheetName","sheetUrl"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9]);let d;return t[10]!==n||t[11]!==r||t[12]!==i||t[13]!==s||t[14]!==o||t[15]!==a||t[16]!==c||t[17]!==l||t[18]!==u?(d=_.jsx(pde,{children:s==="sheet"&&u?_.jsx(gr,{value:{mode:s!=null?s:"dropdown",store:u,detents:i,activeDetent$:Oe(void 0),fullyExpanded$:Oe(!1)},children:_.jsx(PRe,S({className:r,behavior:n,sheetName:c,sheetUrl:l},a))}):_.jsx(Cz,I(S({},a),{open:o}))}),t[10]=n,t[11]=r,t[12]=i,t[13]=s,t[14]=o,t[15]=a,t[16]=c,t[17]=l,t[18]=u,t[19]=d):d=t[19],d}function MRe(e){const o=e,{children:t,container:n}=o,r=W(o,["children","container"]),{mode:i}=E.use(gr),s=i==="sheet"?Zi.Portal:Tz;return _.jsx(s,I(S({},r),{container:n,children:t}))}function DRe(e){"use forget";var d;const t=Y.c(16);let n,r,i,s;t[0]!==e?(d=e,{children:n,defaultValue:i,defaultChecked:r}=d,s=W(d,["children","defaultValue","defaultChecked"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=s,{onRadioGroupChange:a}=E.use(HI);let c;t[5]!==a||t[6]!==s?(c=f=>{var h;f.preventDefault(),f.stopPropagation(),(h=s.onCheckedChange)==null||h.call(s,f.target.checked),a==null||a(f.target.value)},t[5]=a,t[6]=s,t[7]=c):c=t[7];let l;t[8]!==r||t[9]!==i||t[10]!==c?(l=_.jsx("input",{type:"checkbox",className:"sr-only",defaultValue:i,defaultChecked:r,onChange:c}),t[8]=r,t[9]=i,t[10]=c,t[11]=l):l=t[11];let u;return t[12]!==n||t[13]!==o||t[14]!==l?(u=_.jsxs("label",I(S({},o),{children:[n,l]})),t[12]=n,t[13]=o,t[14]=l,t[15]=u):u=t[15],u}const LRe=e=>{const{mode:t}=E.use(gr);return _.jsx(no,S({as:t==="sheet"?DRe:Ez,hasManagedFocus:!0,onSelect:n=>{n.preventDefault()},onClick:n=>{n.stopPropagation()},trailingColor:"primary",trailing:_.jsx(WW,{size:"small",disabled:e.disabled,checked:e.checked===!0,"aria-hidden":!0})},jc(e)))};function jRe(o){var a=o,{checked:e,onCheckedChange:t,children:n,onClick:r,className:i}=a,s=W(a,["checked","onCheckedChange","children","onClick","className"]);const c=l=>{l.preventDefault()};return _.jsx(Ez,I(S({checked:e,onCheckedChange:t,onSelect:c,onClick:r,className:_e(i,"mx-2 flex cursor-pointer items-center rounded-md p-3 text-sm","hover:bg-token-main-surface-secondary keyboard-focused:bg-token-main-surface-secondary","radix-disabled:pointer-events-none radix-disabled:opacity-50 focus:outline-none","radix-state-open:bg-token-main-surface-secondary")},s),{children:_.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[n,e?_.jsx(bRe,{className:"icon-sm text-token-text-primary"}):_.jsx(yRe,{className:"icon-sm text-token-text-tertiary"})]})}))}function FRe(e){return _.jsx(mv,I(S({asChild:!0},jc({})),{children:_.jsx(mce,S({},e))}))}const URe=e=>_.jsx(mv,I(S({asChild:!0,onSelect:t=>{t.preventDefault()}},jc({})),{children:_.jsx(bce,S({},e))}));function BRe(e){const{store:t}=E.use(gr);return _.jsx(HI,{value:{onRadioGroupChange:n=>{var r;(r=e.onValueChange)==null||r.call(e,n),t.isSheetOpen$.set(!1)}},children:_.jsx("section",S({},e))})}function GRe(e){"use forget";const t=Y.c(3),{mode:n}=E.use(gr),r=n==="sheet"?BRe:fRe;let i;return t[0]!==r||t[1]!==e?(i=_.jsx(r,S({},e)),t[0]=r,t[1]=e,t[2]=i):i=t[2],i}function WRe(e){return _.jsx(jA,S({as:"button"},e))}function qRe(e){return _.jsx(jA,I(S({},e),{as:"button",row:!0}))}const td={Root:kRe,Trigger:CRe,BasicTrigger:ERe,Portal:MRe,Content:Oz,Item:SRe,ItemAs:ORe,HeaderItem:WRe,HeaderItemRow:qRe,HeaderItemAs:jA,Separator:TRe,Group:wRe,RadioGroup:GRe,RadioItem:xRe,RadioItemCheck:Az,Sub:gRe,SubContent:IRe,SubMenuTrigger:NRe,Label:RRe,CheckboxItem:LRe,MultiSelectCheckboxItem:jRe,LinkItem:FRe,InputItem:URe,Shimmer:yce},VRe=["https:","mailto:","tel:"],$Re=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch(n){return}if(VRe.includes(t.protocol))return t.href},HRe=E.forwardRef((s,i)=>{var o=s,{href:e,target:t="_blank",children:n}=o,r=W(o,["href","target","children"]);return _.jsx("a",I(S({ref:i,href:$Re(e),target:t,rel:"noopener",alt:e},r),{children:n}))});HRe.displayName="ExternalLink";function A4(e){"use forget";var h;const t=Y.c(14);let n,r,i,s,o;t[0]!==e?(h=e,{className:r,openNewTab:s,children:n,underline:o}=h,i=W(h,["className","openNewTab","children","underline"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5]);const a=s===void 0?!1:s,l=(o===void 0?!0:o)&&"underline";let u;t[6]!==r||t[7]!==l?(u=_e("cursor-pointer font-normal",l,r),t[6]=r,t[7]=l,t[8]=u):u=t[8];const d=a?"_blank":"_self";let f;return t[9]!==n||t[10]!==i||t[11]!==u||t[12]!==d?(f=_.jsx("a",I(S({rel:"noopener",className:u,target:d},i),{children:n})),t[9]=n,t[10]=i,t[11]=u,t[12]=d,t[13]=f):f=t[13],f}function gv({percentage:e,thickness:t=1/12,className:n,outerCircleClassName:r,sizeOverride:i,transitionDuration:s,transitionTimingFunction:o,onTransitionEnd:a}){const c=i!=null?i:120,l=c*t,d=(c-l)/2-l-2;return _.jsxs("svg",{width:c,height:c,viewBox:"0 0 ".concat(c," ").concat(c),className:n,children:[_.jsxs("g",{style:{transformOrigin:"50% 50%",animation:"spin 1s linear infinite"},className:r,children:[_.jsx("path",{fill:"url(#b)",fillOpacity:".7",fillRule:"evenodd",d:"\n        M".concat(c," ").concat(c/2,"\n        A").concat(c/2," ").concat(c/2," 0 1 0 0 ").concat(c/2,"\n        A").concat(c/2," ").concat(c/2," 0 0 0 ").concat(c," ").concat(c/2,"\n        Z\n        M").concat(c*.1042," ").concat(c/2,"\n        A").concat(c*.3956," ").concat(c*.3956," 0 1 0 ").concat(c-c*.1042," ").concat(c/2,"\n        A").concat(c*.3956," ").concat(c*.3956," 0 0 0 ").concat(c*.1042," ").concat(c/2,"\n        Z\n      "),clipRule:"evenodd"}),_.jsx("defs",{children:_.jsxs("radialGradient",{id:"b",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(".concat(c/2-c*.0625," 0 0 ").concat(c/2-c*.0625," ").concat(c*.0625," ").concat(c/2,")"),gradientUnits:"userSpaceOnUse",children:[_.jsx("stop",{stopColor:"#0285FF"}),_.jsx("stop",{offset:"1",stopColor:"#0285FF",stopOpacity:".3"})]})})]}),_.jsx("path",{className:"origin-[50%_50%] transition-[stroke-dashoffset]",d:e===100?"M ".concat(c/2," ").concat(c/2,"\n         m 0 -").concat(d,"\n         a ").concat(d," ").concat(d," 0 1 1 0 ").concat(2*d,"\n         a ").concat(d," ").concat(d," 0 1 1 0 -").concat(2*d,"\n         Z"):"M ".concat(c/2," ").concat(c/2,"\n         L ").concat(c/2," ").concat(c/2-d,"\n         A ").concat(d," ").concat(d," 0 ").concat(e>50?1:0," 1\n         ").concat(c/2+d*Math.sin(2*Math.PI*e/100),"\n         ").concat(c/2-d*Math.cos(2*Math.PI*e/100),"\n         Z"),fill:"currentColor",style:{transitionDuration:s,transitionTimingFunction:o},onTransitionEnd:a})]})}function G8e(e,t,n){const r=Math.floor((e.getTime()-t.getTime())/1e3);if(r<60)return n.formatMessage({id:"hr1xff",defaultMessage:"{diffInSecs}s"},{diffInSecs:r});if(r<600){const s=Math.floor(r/60),o=r%60;return n.formatMessage({id:"7KZ91/",defaultMessage:"{mins}m {secs}s"},{mins:s,secs:o})}if(r<3600){const s=Math.floor(r/60);return n.formatMessage({id:"IkyEWY",defaultMessage:"{mins}m"},{mins:s})}const i=Math.floor(r/3600);if(r<3600*10){const s=Math.floor(r%3600/60);return n.formatMessage({id:"z9qVYm",defaultMessage:"{hours}h {mins}m"},{hours:i,mins:s})}return n.formatMessage({id:"vAHzUw",defaultMessage:"{hours}h"},{hours:i})}const zRe=({givenDate:e,now:t,intl:n,format:r="abbreviated"})=>{const i=Math.max(0,Math.floor((t.getTime()-e.getTime())/1e3)),o=60*60,a=o*24,c=a*7,l=a*30,u=a*365;if(i<60)return r==="abbreviated"?n.formatMessage({id:"hepLPr",defaultMessage:"{seconds}s ago"},{seconds:i}):n.formatMessage({id:"cLJFUT",defaultMessage:"{seconds} seconds ago"},{seconds:i});if(i<3600){const f=Math.floor(i/60);return r==="abbreviated"?n.formatMessage({id:"ZyHv9I",defaultMessage:"{minutes}m ago"},{minutes:f}):n.formatMessage({id:"RfRx5t",defaultMessage:"{minutes} minutes ago"},{minutes:f})}else if(i<a){const f=Math.floor(i/o);return r==="abbreviated"?n.formatMessage({id:"2p4Gd3",defaultMessage:"{hours}h ago"},{hours:f}):n.formatMessage({id:"0d1QfF",defaultMessage:"{hours} hours ago"},{hours:f})}else if(i<c){const f=Math.floor(i/a);return r==="abbreviated"?n.formatMessage({id:"KPjpqR",defaultMessage:"{days}d ago"},{days:f}):n.formatMessage({id:"n68thd",defaultMessage:"{days} days ago"},{days:f})}else if(i<l){const f=Math.floor(i/c);return r==="abbreviated"?n.formatMessage({id:"CT/+6h",defaultMessage:"{weeks}w ago"},{weeks:f}):n.formatMessage({id:"L0HKJO",defaultMessage:"{weeks, plural, one {# week ago} other {# weeks ago}}"},{weeks:f})}else if(i<u){const f=Math.floor(i/l);return r==="abbreviated"?n.formatMessage({id:"Qj+4rv",defaultMessage:"{months}mo ago"},{months:f}):n.formatMessage({id:"ttL843",defaultMessage:"{months, plural, one {# month ago} other {# months ago}}"},{months:f})}const d=Math.floor(i/u);return r==="abbreviated"?n.formatMessage({id:"cPSC5x",defaultMessage:"{years}y ago"},{years:d}):n.formatMessage({id:"SxfwDT",defaultMessage:"{years, plural, one {# year ago} other {# years ago}}"},{years:d})},YRe=30;function W8e(e,t){if(t==null)return null;const n=new Date(t*1e3),r=e.locale,i=Math.max(Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)),0);if(i>YRe)return e.formatDate(n,{dateStyle:"medium"});const s=e.formatRelativeTime(-i,"day",{numeric:"auto"});return r.startsWith("en")?s.charAt(0).toUpperCase()+s.slice(1):s}function zI(){const e=re();return xt(e).isElectron}function KRe({children:e}){return _.jsx(io,{label:_.jsx(yt,{id:"8yqd2N",defaultMessage:"Temporarily unavailable"}),children:e})}const JRe=B(()=>k(()=>import("./lm3g1zm00rp6al39.js").then(e=>e.zm),__vite__mapDeps([3,1,4])),{loading:e=>H(e)}),XRe={medium:{container:"h-12 w-12",icon:"h-8 w-8",padding:"p-2"},small:{container:"h-10 w-10",icon:"h-7 w-7",padding:"p-1.5"}},QRe=e=>{"use forget";var h;const t=Y.c(12),{size:n}=e,r=n===void 0?"medium":n,[i,s]=E.useState(!1),o=ys(),a=XRe[r];if(!(o!=null&&o.data.profilePictureUrl)||i){const p="bg-token-bg-primary inline-flex items-center justify-center rounded-xl border-[0.5px] shadow-sm ".concat(a.container," ").concat(a.padding),m="text-token-text-primary ".concat(a.icon);let g;t[0]!==m?(g=_.jsx(JRe,{className:m}),t[0]=m,t[1]=g):g=t[1];let y;return t[2]!==p||t[3]!==g?(y=_.jsx("span",{className:p,children:g}),t[2]=p,t[3]=g,t[4]=y):y=t[4],y}const c="overflow-hidden rounded-xl border-[0.5px] bg-black shadow-sm ".concat(a.container),l=(h=o.data.name)!=null?h:"";let u;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(!0),t[5]=u):u=t[5];let d;t[6]!==o.data.profilePictureUrl||t[7]!==l?(d=_.jsx("img",{src:o.data.profilePictureUrl,alt:l,onError:u,className:"h-full w-full object-cover"}),t[6]=o.data.profilePictureUrl,t[7]=l,t[8]=d):d=t[8];let f;return t[9]!==c||t[10]!==d?(f=_.jsx("span",{className:c,children:d}),t[9]=c,t[10]=d,t[11]=f):f=t[11],f},ZRe=e=>{"use forget";const t=Y.c(20),{title:n,description:r,connectorIcon:i,connectorDeveloper:s,onClose:o}=e;let a;t[0]!==o?(a=_.jsx("div",{className:"flex justify-end",children:_.jsx(fv,{onClick:o})}),t[0]=o,t[1]=a):a=t[1];let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=_.jsx(QRe,{}),t[2]=c):c=t[2];let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=_.jsxs("div",{className:"flex gap-1",children:[_.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),_.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),_.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"})]}),t[3]=l):l=t[3];let u;t[4]!==i?(u=_.jsxs("div",{className:"flex items-center gap-2.5",children:[c,l,i]}),t[4]=i,t[5]=u):u=t[5];let d;t[6]!==n?(d=_.jsx("div",{className:"pt-3 text-center text-xl font-semibold",children:n}),t[6]=n,t[7]=d):d=t[7];let f;t[8]!==s?(f=s&&_.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:_.jsx(yt,I(S({},ePe.developedBy),{values:{developer:s}}))}),t[8]=s,t[9]=f):f=t[9];let h;t[10]!==r?(h=r&&_.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:r}),t[10]=r,t[11]=h):h=t[11];let p;t[12]!==u||t[13]!==d||t[14]!==f||t[15]!==h?(p=_.jsxs("div",{className:"flex flex-col items-center",children:[u,d,f,h]}),t[12]=u,t[13]=d,t[14]=f,t[15]=h,t[16]=p):p=t[16];let m;return t[17]!==a||t[18]!==p?(m=_.jsxs(_.Fragment,{children:[a,p]}),t[17]=a,t[18]=p,t[19]=m):m=t[19],m},ePe=Tt({developedBy:{id:"yPpO4G",defaultMessage:"Developed by {developer}"}}),tPe=Lt[P.GDRIVE_ACTION_CONNECTOR],q8e=Lt[P.GITHUB_CONNECTOR],V8e=Lt[P.LINEAR_CONNECTOR],$8e=Lt[P.SHAREPOINT_CONNECTOR],H8e=Lt[P.DROPBOX_CONNECTOR],z8e=Lt[P.BOX_CONNECTOR],Y8e=Pc[P.NOTION_CONNECTOR].access,K8e=Pc[P.NOTION_CONNECTOR].sync,J8e=Pc[P.HUBSPOT_CONNECTOR].access,X8e=Pc[P.HUBSPOT_CONNECTOR].sync,Q8e=Pc[P.INTERCOM_CONNECTOR].access,Z8e=Pc[P.INTERCOM_CONNECTOR].sync,eVe=Lt[P.SLACK_CONNECTOR],ow="#settings/".concat(j_.Connectors),tVe="connectors",xz="connector",YI="add-connector-link",Iz="show-settings-behind-connector-link",nVe="link_success",nPe="connector-toggle",rPe="create-connector",KI="product-sku",Nz="redirectAfter",JI="noRedirect",iPe="system-hint-type",XI="referrer",QI="auth-type-override",rVe="toggle-all",ZI="slack_workspace",eN="slack_team_id",tN="sync-only";var Rz=(e=>(e.ConversationFollowup="conversation_followup",e.UpgradeAccountOnboarding="upgrade_account_onboarding",e.JitPluginMessage="jit_plugin_message",e.MessageSuggestion="message_suggestion",e.ConnectorNuxModal="connector_nux_modal",e.SourcesDropdown="sources_dropdown",e.SourcePills="source_pills",e.SuggestedPrompts="suggested_prompts",e.SettingsConnectorsTab="settings_connectors_tab",e.PulseConnectorsProactiveToggle="pulse_connectors_proactive_toggle",e.AdminSettingsConnectors="admin_settings_connectors",e.ConnectorToggle="connector_toggle",e.Codex="codex",e.AgentConnectBanner="agent_connect_banner",e.CompanyKnowledgeNuxModal="company_knowledge_nux_modal",e.NewWorkspaceUserOnboardingFlow="new_workspace_user_onboarding_flow",e))(Rz||{});function sPe(){return e_()?window:null}var oPe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},nl=new WeakMap,Rp=new WeakMap,Pp={},qS=0,Pz=function(e){return e&&(e.host||Pz(e.parentNode))},aPe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Pz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},cPe=function(e,t,n,r){var i=aPe(t,Array.isArray(e)?e:[e]);Pp[n]||(Pp[n]=new WeakMap);var s=Pp[n],o=[],a=new Set,c=new Set(i),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};i.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var h=f.getAttribute(r),p=h!==null&&h!=="false",m=(nl.get(f)||0)+1,g=(s.get(f)||0)+1;nl.set(f,m),s.set(f,g),o.push(f),m===1&&p&&Rp.set(f,!0),g===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}})};return u(t),a.clear(),qS++,function(){o.forEach(function(d){var f=nl.get(d)-1,h=s.get(d)-1;nl.set(d,f),s.set(d,h),f||(Rp.has(d)||d.removeAttribute(r),Rp.delete(d)),h||d.removeAttribute(n)}),qS--,qS||(nl=new WeakMap,nl=new WeakMap,Rp=new WeakMap,Pp={})}},lPe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=oPe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),cPe(r,i,n,"aria-hidden")):function(){return null}},nN="Dialog",[kz,uPe]=Su(nN),[dPe,Ui]=kz(nN),rN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=E.useRef(null),c=E.useRef(null),[l=!1,u]=Rc({prop:r,defaultProp:i,onChange:s});return _.jsx(dPe,{scope:t,triggerRef:a,contentRef:c,contentId:ss(),titleId:ss(),descriptionId:ss(),open:l,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};rN.displayName=nN;var Mz="DialogTrigger",iN=E.forwardRef((e,t)=>{const o=e,{__scopeDialog:n}=o,r=W(o,["__scopeDialog"]),i=Ui(Mz,n),s=cn(t,i.triggerRef);return _.jsx(Ot.button,I(S({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hN(i.open)},r),{ref:s,onClick:Ve(e.onClick,i.onOpenToggle)}))});iN.displayName=Mz;var sN="DialogPortal",[fPe,Dz]=kz(sN,{forceMount:void 0}),oN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Ui(sN,t);return _.jsx(fPe,{scope:t,forceMount:n,children:E.Children.map(r,o=>_.jsx(ji,{present:n||s.open,children:_.jsx(uh,{asChild:!0,container:i,children:o})}))})};oN.displayName=sN;var wg="DialogOverlay",aN=E.forwardRef((e,t)=>{const n=Dz(wg,e.__scopeDialog),o=e,{forceMount:r=n.forceMount}=o,i=W(o,["forceMount"]),s=Ui(wg,e.__scopeDialog);return s.modal?_.jsx(ji,{present:r||s.open,children:_.jsx(hPe,I(S({},i),{ref:t}))}):null});aN.displayName=wg;var hPe=E.forwardRef((e,t)=>{const s=e,{__scopeDialog:n}=s,r=W(s,["__scopeDialog"]),i=Ui(wg,n);return _.jsx(DI,{as:Zl,allowPinchZoom:!0,shards:[i.contentRef],children:_.jsx(Ot.div,I(S({"data-state":hN(i.open)},r),{ref:t,style:S({pointerEvents:"auto"},r.style)}))})}),Sc="DialogContent",cN=E.forwardRef((e,t)=>{const n=Dz(Sc,e.__scopeDialog),o=e,{forceMount:r=n.forceMount}=o,i=W(o,["forceMount"]),s=Ui(Sc,e.__scopeDialog);return _.jsx(ji,{present:r||s.open,children:s.modal?_.jsx(pPe,I(S({},i),{ref:t})):_.jsx(mPe,I(S({},i),{ref:t}))})});cN.displayName=Sc;var pPe=E.forwardRef((e,t)=>{const n=Ui(Sc,e.__scopeDialog),r=E.useRef(null),i=cn(t,n.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return lPe(s)},[]),_.jsx(Lz,I(S({},e),{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ve(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ve(e.onFocusOutside,s=>s.preventDefault())}))}),mPe=E.forwardRef((e,t)=>{const n=Ui(Sc,e.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return _.jsx(Lz,I(S({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),Lz=E.forwardRef((e,t)=>{const u=e,{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s}=u,o=W(u,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),a=Ui(Sc,n),c=E.useRef(null),l=cn(t,c);return OH(),_.jsxs(_.Fragment,{children:[_.jsx(MI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:_.jsx(ch,I(S({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hN(a.open)},o),{ref:l,onDismiss:()=>a.onOpenChange(!1)}))}),_.jsxs(_.Fragment,{children:[_.jsx(_Pe,{titleId:a.titleId}),_.jsx(yPe,{contentRef:c,descriptionId:a.descriptionId})]})]})}),lN="DialogTitle",uN=E.forwardRef((e,t)=>{const s=e,{__scopeDialog:n}=s,r=W(s,["__scopeDialog"]),i=Ui(lN,n);return _.jsx(Ot.h2,I(S({id:i.titleId},r),{ref:t}))});uN.displayName=lN;var jz="DialogDescription",dN=E.forwardRef((e,t)=>{const s=e,{__scopeDialog:n}=s,r=W(s,["__scopeDialog"]),i=Ui(jz,n);return _.jsx(Ot.p,I(S({id:i.descriptionId},r),{ref:t}))});dN.displayName=jz;var Fz="DialogClose",fN=E.forwardRef((e,t)=>{const s=e,{__scopeDialog:n}=s,r=W(s,["__scopeDialog"]),i=Ui(Fz,n);return _.jsx(Ot.button,I(S({type:"button"},r),{ref:t,onClick:Ve(e.onClick,()=>i.onOpenChange(!1))}))});fN.displayName=Fz;function hN(e){return e?"open":"closed"}var Uz="DialogTitleWarning",[gPe,Bz]=Ece(Uz,{contentName:Sc,titleName:lN,docsSlug:"dialog"}),_Pe=({titleId:e})=>{const t=Bz(Uz),n="`".concat(t.contentName,"` requires a `").concat(t.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(t.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(t.docsSlug);return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},vPe="DialogDescriptionWarning",yPe=({contentRef:e,descriptionId:t})=>{const n=Bz(vPe),r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return E.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Gz=rN,bPe=iN,Wz=oN,qz=aN,Vz=cN,$z=uN,Hz=dN,zz=fN;const iVe=Object.freeze(Object.defineProperty({__proto__:null,Close:zz,Content:Vz,Description:Hz,Dialog:rN,DialogClose:fN,DialogContent:cN,DialogDescription:dN,DialogOverlay:aN,DialogPortal:oN,DialogTitle:uN,DialogTrigger:iN,Overlay:qz,Portal:Wz,Root:Gz,Title:$z,Trigger:bPe,WarningProvider:gPe,createDialogScope:uPe},Symbol.toStringTag,{value:"Module"}));function $d(e){"use forget";var l;const t=Y.c(9);let n,r,i,s;t[0]!==e?(l=e,{color:i,title:s,children:r}=l,n=W(l,["color","title","children"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=i===void 0?"secondary":i,a=s!=null?s:r;let c;return t[5]!==n||t[6]!==o||t[7]!==a?(c=_.jsx(_s,I(S({as:"button",color:o},n),{children:a})),t[5]=n,t[6]=o,t[7]=a,t[8]=c):c=t[8],c}function CPe(e){"use forget";var m;const t=Y.c(16),{isOpen:n,onClose:r,children:i,shouldIgnoreClickOutside:s,className:o,testId:a}=e,c=s===void 0?!1:s;let l;t[0]!==r||t[1]!==c?(l=g=>{c||g===!1&&r(!1)},t[0]=r,t[1]=c,t[2]=l):l=t[2];const u=(m=sPe())==null?void 0:m.document.body;let d;t[3]!==o?(d=_e("absolute inset-0",o),t[3]=o,t[4]=d):d=t[4];let f;t[5]!==i||t[6]!==d||t[7]!==a?(f=_.jsx("div",{className:d,"data-testid":a,"data-ignore-for-page-load":!0,children:i}),t[5]=i,t[6]=d,t[7]=a,t[8]=f):f=t[8];let h;t[9]!==u||t[10]!==f?(h=_.jsx(Wz,{container:u,children:f}),t[9]=u,t[10]=f,t[11]=h):h=t[11];let p;return t[12]!==n||t[13]!==l||t[14]!==h?(p=_.jsx(Gz,{open:n,onOpenChange:l,children:h}),t[12]=n,t[13]=l,t[14]=h,t[15]=p):p=t[15],p}function EPe(e){"use forget";const t=Y.c(6),{className:n,children:r,showBackground:i}=e,o=(i===void 0?!0:i)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let a;t[0]!==n||t[1]!==o?(a=_e("fixed inset-0 z-50",o,n),t[0]=n,t[1]=o,t[2]=a):a=t[2];let c;return t[3]!==r||t[4]!==a?(c=_.jsx(qz,{className:a,"data-modal-layer":"overlay",children:r}),t[3]=r,t[4]=a,t[5]=c):c=t[5],c}function SPe(e){"use forget";const t=Y.c(23),{className:n,children:r,position:i,size:s,removePopoverStyling:o,shadow:a,onEscapeKeyDown:c,removeBackground:l,ariaLabelledBy:u,ariaDescribedBy:d,containerClassName:f}=e,h=i===void 0?"center":i,p=o===void 0?!1:o,m=a===void 0?"normal":a,g=l===void 0?!1:l,y=s!=="fullscreen"&&(h==="start"||h==="end"?"grid grid-cols-[0px_1fr_0px]":"grid grid-cols-[10px_1fr_10px]"),v=s!=="fullscreen"&&h==="center"&&"grid-rows-[minmax(10px,1fr)_auto_minmax(10px,1fr)] md:grid-rows-[minmax(20px,0.8fr)_auto_minmax(20px,1fr)]",T=s!=="fullscreen"&&(h==="start"||h==="end")&&"grid-rows-[0px_auto_0px]",C=h==="bottom"&&"grid-rows-[minmax(10px,1fr)_auto_10px] md:grid-rows-[minmax(20px,1fr)_auto_20px]",b=s!=="fullscreen"&&h==="top"&&"grid-rows-[10px_auto_minmax(10px,1fr)] md:grid-rows-[20px_auto_minmax(20px,1fr)]";let O;t[0]!==f||t[1]!==y||t[2]!==v||t[3]!==T||t[4]!==C||t[5]!==b?(O=_e("z-50 h-full w-full overflow-y-auto",y,v,T,C,b,f),t[0]=f,t[1]=y,t[2]=v,t[3]=T,t[4]=C,t[5]=b,t[6]=O):O=t[6];const w=!p&&"popover",A=!g&&"bg-token-bg-primary",x=h!=="start"&&h!=="end"&&"start-1/2 ltr:-translate-x-1/2 rtl:translate-x-1/2",N=s!=="fullscreen"&&(h==="start"?"justify-self-start rounded-se-2xl rounded-ee-2xl":h==="end"?"justify-self-end rounded-ss-2xl rounded-es-2xl":"rounded-2xl"),R=m==="normal"&&"shadow-long";let L;t[7]!==n||t[8]!==w||t[9]!==A||t[10]!==x||t[11]!==N||t[12]!==R?(L=_e(w,A,"relative col-auto col-start-2 row-auto row-start-2 h-full w-full text-start",x,N,R,n),t[7]=n,t[8]=w,t[9]=A,t[10]=x,t[11]=N,t[12]=R,t[13]=L):L=t[13];let D;t[14]!==d||t[15]!==u||t[16]!==r||t[17]!==c||t[18]!==L?(D=_.jsx(Vz,{"aria-labelledby":u,"aria-describedby":d,onEscapeKeyDown:c,className:L,"data-modal-layer":"content",children:r}),t[14]=d,t[15]=u,t[16]=r,t[17]=c,t[18]=L,t[19]=D):D=t[19];let F;return t[20]!==O||t[21]!==D?(F=_.jsx("div",{className:O,children:D}),t[20]=O,t[21]=D,t[22]=F):F=t[22],F}function OPe(e){"use forget";const t=Y.c(16),{title:n,description:r,icon:i}=e;let s;t[0]!==n?(s=n&&_.jsx($z,{className:"text-token-text-primary text-lg font-normal",children:n}),t[0]=n,t[1]=s):s=t[1];let o;t[2]!==r?(o=r&&_.jsx(Hz,{asChild:!0,children:_.jsx("div",{className:"text-token-text-tertiary ms-0.5 mt-0.5 text-xs",children:r})}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==s||t[5]!==o?(a=_.jsxs("div",{className:"flex max-w-full min-w-0 grow flex-col",children:[s,o]}),t[4]=s,t[5]=o,t[6]=a):a=t[6];const c=a;if(!i)return c;const l=!r&&"items-center";let u;t[7]!==l?(u=_e("flex max-w-full min-w-0 gap-1.5",l),t[7]=l,t[8]=u):u=t[8];let d;t[9]!==i||t[10]!==r?(d=typeof i!="function"?i:_.jsx(i,{className:_e("icon",r&&"mt-1"),"aria-label":""}),t[9]=i,t[10]=r,t[11]=d):d=t[11];let f;return t[12]!==c||t[13]!==u||t[14]!==d?(f=_.jsxs("div",{className:u,children:[d,c]}),t[12]=c,t[13]=u,t[14]=d,t[15]=f):f=t[15],f}function TPe(e){"use forget";const t=Y.c(26),{title:n,accessory:r,description:i,hasSeparator:s,icon:o,closeButton:a,backButton:c,textCenter:l,visuallyHiddenHeader:u,className:d,closeButtonSide:f}=e,h=s===void 0?!1:s,p=u===void 0?!1:u,m=f===void 0?"right":f;if(!n)return null;let g;t[0]!==a?(g=a&&_.jsx(zz,{asChild:!0,children:a}),t[0]=a,t[1]=g):g=t[1];const y=g,v=l&&"flex-1 justify-center text-center";let T;t[2]!==v?(T=_e("flex max-w-full items-center",v),t[2]=v,t[3]=T):T=t[3];let C;t[4]!==c?(C=c&&_.jsx("div",{className:"me-2",children:c}),t[4]=c,t[5]=C):C=t[5];const b=m==="left"&&y;let O;t[6]!==i||t[7]!==o||t[8]!==n?(O=_.jsx(OPe,{title:n,description:i,icon:o}),t[6]=i,t[7]=o,t[8]=n,t[9]=O):O=t[9];let w;t[10]!==T||t[11]!==C||t[12]!==b||t[13]!==O?(w=_.jsxs("div",{className:T,children:[C,b,O]}),t[10]=T,t[11]=C,t[12]=b,t[13]=O,t[14]=w):w=t[14];const A=m==="right"&&y;let x;t[15]!==r||t[16]!==A?(x=_.jsxs("div",{className:"flex h-[max-content] items-center gap-2",children:[r,A]}),t[15]=r,t[16]=A,t[17]=x):x=t[17];let N;t[18]!==d||t[19]!==h||t[20]!==w||t[21]!==x?(N=_.jsxs(APe,{hasSeparator:h,className:d,children:[w,x]}),t[18]=d,t[19]=h,t[20]=w,t[21]=x,t[22]=N):N=t[22];const R=N;let L;return t[23]!==R||t[24]!==p?(L=p?_.jsx(KA,{children:R}):R,t[23]=R,t[24]=p,t[25]=L):L=t[25],L}function wPe(e){"use forget";const t=Y.c(9),{primaryButton:n,secondaryButton:r,isSpacedBetween:i,modalHasContent:s,textCenter:o,className:a}=e,c=i===void 0?!1:i,l=s===void 0?!0:s,u=o===void 0?!1:o,d=a===void 0?"":a;if(n==null&&r==null)return null;const f=u&&"justify-center",h=c&&"justify-between",p=l&&"mt-5 sm:mt-4";let m;t[0]!==d||t[1]!==f||t[2]!==h||t[3]!==p?(m=_e("flex flex-col gap-3 sm:flex-row-reverse",f,h,p,d),t[0]=d,t[1]=f,t[2]=h,t[3]=p,t[4]=m):m=t[4];let g;return t[5]!==n||t[6]!==r||t[7]!==m?(g=_.jsxs("div",{className:m,children:[n,r]}),t[5]=n,t[6]=r,t[7]=m,t[8]=g):g=t[8],g}const APe=e=>{"use forget";const t=Y.c(6),{hasSeparator:n,className:r,children:i}=e,s=n&&"border-token-border-light border-b";let o;t[0]!==r||t[1]!==s?(o=_e("min-h-header-height flex justify-between p-2.5 ps-4 select-none",s,r),t[0]=r,t[1]=s,t[2]=o):o=t[2];let a;return t[3]!==i||t[4]!==o?(a=_.jsx("header",{className:o,children:i}),t[3]=i,t[4]=o,t[5]=a):a=t[5],a},wl={Root:CPe,Overlay:EPe,Content:SPe,Header:TPe,Actions:wPe,Button:$d},xPe=B(()=>k(()=>import("./9paxni9f8n7suc5d.js"),__vite__mapDeps([65,1])),{loading:e=>H(e)}),Yz=e=>{"use forget";var y;const t=Y.c(21);let n,r,i,s,o,a;t[0]!==e?(y=e,{onClick:r,bg:o,className:n,iconSize:a,ref:i}=y,s=W(y,["onClick","bg","className","iconSize","ref"]),t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6]);const c=o===void 0?"transparent":o,l=a===void 0?"md":a,u=gt(),d=c==="transparent"?"bg-transparent":"bg-token-bg-primary";let f;t[7]!==n||t[8]!==d?(f=_e("hover:bg-token-bg-tertiary keyboard-focused:focus-ring flex h-8 w-8 items-center justify-center rounded-full",d,n),t[7]=n,t[8]=d,t[9]=f):f=t[9];let h;t[10]!==u?(h=u.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),t[10]=u,t[11]=h):h=t[11];const p=l==="lg"?"icon-lg":"icon";let m;t[12]!==p?(m=_.jsx(xPe,{className:p}),t[12]=p,t[13]=m):m=t[13];let g;return t[14]!==r||t[15]!==i||t[16]!==s||t[17]!==f||t[18]!==h||t[19]!==m?(g=_.jsx("button",I(S({"data-testid":"back-button",ref:i,onClick:r,className:f,"aria-label":h},s),{children:m})),t[14]=r,t[15]=i,t[16]=s,t[17]=f,t[18]=h,t[19]=m,t[20]=g):g=t[20],g};Yz.displayName="BackButton";const IPe=B(()=>k(()=>import("./bfa3wce2s8qrtmda.js"),__vite__mapDeps([66,1])).then(e=>e.ContentModalSheet),{fallback:()=>null});function Du(e){"use forget";const t=Y.c(76),{ariaLabelledBy:n,ariaDescribedBy:r,children:i,rootClassName:s,textCenter:o,className:a,description:c,icon:l,isBottomSheet:u,isOpen:d,onClose:f,onBack:h,onCloseComplete:p,primaryButton:m,secondaryButton:g,footerContent:y,size:v,title:T,headerAccessory:C,type:b,noPadding:O,hasSeparator:w,hideSeparator:A,showCloseButton:x,showBackButton:N,shouldIgnoreClickOutside:R,closeButton:L,closeButtonClassName:D,isScrollable:F,allowVerticalContentToOverflow:G,position:z,removePopoverStyling:V,showOverlayBackground:M,shadow:te,visuallyHiddenHeader:$,headerClassName:se,contentClassName:me,footerClassName:Ce,modalActionsClassName:J,footerIsSpacedBetween:K,onEscapeKeyDown:ne,testId:X,contentRef:ee,closeButtonSide:ve,removeBackground:ue,contentContainerClassName:oe}=e,be=d===void 0?!1:d,Ae=v===void 0?"normal":v,He=O===void 0?!1:O,Ne=w===void 0?!1:w,ge=A===void 0?!0:A,he=x===void 0?!1:x,j=N===void 0?!1:N,Qe=R===void 0?!1:R,Re=F===void 0?!0:F,de=G===void 0?!1:G,pe=z===void 0?"center":z,Le=V===void 0?!1:V,ie=M===void 0?!0:M,Pe=te===void 0?"normal":te,tt=$===void 0?!1:$,nt=ve===void 0?"right":ve,rt=ue===void 0?!1:ue,On=!!T&&!tt,Yn=!!i,nn=Ne||!ge;if(u){let Vh;return t[0]!==e?(Vh=_.jsx(IPe,S({},e)),t[0]=e,t[1]=Vh):Vh=t[1],Vh}let Ft;t[2]!==p||t[3]!==f?(Ft=()=>{f(!0),p==null||p()},t[2]=p,t[3]=f,t[4]=Ft):Ft=t[4];const Wt=o&&"text-center",Kt=Ae==="normal",Gr=Ae==="large",Bi=Ae==="xlarge",Gi=Ae==="fullscreen",uo=!de;let ui;t[5]!==a||t[6]!==Wt||t[7]!==Kt||t[8]!==Gr||t[9]!==Bi||t[10]!==Gi||t[11]!==uo?(ui=_e("flex flex-col focus:outline-hidden",Wt,{"max-w-md":Kt,"max-w-lg":Gr,"max-w-xl":Bi,"h-full w-full":Gi,"overflow-hidden":uo},a),t[5]=a,t[6]=Wt,t[7]=Kt,t[8]=Gr,t[9]=Bi,t[10]=Gi,t[11]=uo,t[12]=ui):ui=t[12];let Wi;t[13]!==L||t[14]!==D||t[15]!==f||t[16]!==he?(Wi=he&&(L!=null?L:_.jsx(fv,{onClick:()=>f(!0),className:D})),t[13]=L,t[14]=D,t[15]=f,t[16]=he,t[17]=Wi):Wi=t[17];let qi;t[18]!==h||t[19]!==f||t[20]!==j?(qi=j&&_.jsx(Yz,{onClick:()=>h?h(!0):f(!0)}),t[18]=h,t[19]=f,t[20]=j,t[21]=qi):qi=t[21];let _r;t[22]!==nt||t[23]!==c||t[24]!==C||t[25]!==se||t[26]!==l||t[27]!==nn||t[28]!==Wi||t[29]!==qi||t[30]!==o||t[31]!==T||t[32]!==b||t[33]!==tt?(_r=_.jsx(wl.Header,{icon:l,title:T,accessory:C,type:b,textCenter:o,closeButton:Wi,backButton:qi,description:c,hasSeparator:nn,visuallyHiddenHeader:tt,className:se,closeButtonSide:nt}),t[22]=nt,t[23]=c,t[24]=C,t[25]=se,t[26]=l,t[27]=nn,t[28]=Wi,t[29]=qi,t[30]=o,t[31]=T,t[32]=b,t[33]=tt,t[34]=_r):_r=t[34];const Vi=de?"overflow-y-visible":Re?"overflow-y-auto":"overflow-y-hidden",$i=Ae!=="fullscreen"&&!He,fo=!nn&&On&&!He;let dn;t[35]!==me||t[36]!==Vi||t[37]!==$i||t[38]!==fo?(dn=_e("grow",Vi,{"p-4":$i,"pt-1":fo},me),t[35]=me,t[36]=Vi,t[37]=$i,t[38]=fo,t[39]=dn):dn=t[39];let Ss;t[40]!==Ce||t[41]!==y||t[42]!==K||t[43]!==Yn||t[44]!==J||t[45]!==m||t[46]!==g?(Ss=_.jsx(NPe,{primaryButton:m,secondaryButton:g,footerContent:y,modalHasContent:Yn,className:Ce,isSpacedBetween:K,modalActionsClassName:J}),t[40]=Ce,t[41]=y,t[42]=K,t[43]=Yn,t[44]=J,t[45]=m,t[46]=g,t[47]=Ss):Ss=t[47];let Gc;t[48]!==i||t[49]!==ee||t[50]!==dn||t[51]!==Ss?(Gc=_.jsxs("div",{className:dn,ref:ee,children:[i,Ss]}),t[48]=i,t[49]=ee,t[50]=dn,t[51]=Ss,t[52]=Gc):Gc=t[52];let Wc;t[53]!==r||t[54]!==n||t[55]!==oe||t[56]!==ne||t[57]!==pe||t[58]!==rt||t[59]!==Le||t[60]!==Pe||t[61]!==Ae||t[62]!==ui||t[63]!==_r||t[64]!==Gc?(Wc=_.jsxs(wl.Content,{ariaLabelledBy:n,ariaDescribedBy:r,size:Ae,position:pe,className:ui,containerClassName:oe,removePopoverStyling:Le,shadow:Pe,onEscapeKeyDown:ne,removeBackground:rt,children:[_r,Gc]}),t[53]=r,t[54]=n,t[55]=oe,t[56]=ne,t[57]=pe,t[58]=rt,t[59]=Le,t[60]=Pe,t[61]=Ae,t[62]=ui,t[63]=_r,t[64]=Gc,t[65]=Wc):Wc=t[65];let qc;t[66]!==ie||t[67]!==Wc?(qc=_.jsx(wl.Overlay,{showBackground:ie,children:Wc}),t[66]=ie,t[67]=Wc,t[68]=qc):qc=t[68];let qh;return t[69]!==be||t[70]!==s||t[71]!==Qe||t[72]!==Ft||t[73]!==qc||t[74]!==X?(qh=_.jsx(wl.Root,{isOpen:be,onClose:Ft,shouldIgnoreClickOutside:Qe,className:s,testId:X,children:qc}),t[69]=be,t[70]=s,t[71]=Qe,t[72]=Ft,t[73]=qc,t[74]=X,t[75]=qh):qh=t[75],qh}function NPe(e){"use forget";const t=Y.c(14),{primaryButton:n,secondaryButton:r,footerContent:i,textCenter:s,className:o,isSpacedBetween:a,modalActionsClassName:c,modalHasContent:l}=e,u=n!=null||r!=null;if(!(u||i))return null;let d;t[0]!==o?(d=_e("flex w-full flex-row items-center justify-end text-sm select-none",o),t[0]=o,t[1]=d):d=t[1];let f;t[2]!==u||t[3]!==a||t[4]!==c||t[5]!==l||t[6]!==n||t[7]!==r||t[8]!==s?(f=u?_.jsx("div",{className:_e(a?"grow":"flex-0"),children:_.jsx(wl.Actions,{className:_e(c,"flex w-full flex-row-reverse"),textCenter:s,primaryButton:n,secondaryButton:r,modalHasContent:l,isSpacedBetween:a})}):null,t[2]=u,t[3]=a,t[4]=c,t[5]=l,t[6]=n,t[7]=r,t[8]=s,t[9]=f):f=t[9];let h;return t[10]!==i||t[11]!==d||t[12]!==f?(h=_.jsxs("div",{className:d,children:[i,f]}),t[10]=i,t[11]=d,t[12]=f,t[13]=h):h=t[13],h}const RPe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='106'%20fill='none'%3e%3cg%20clip-path='url(%23a)'%3e%3cg%20filter='url(%23b)'%3e%3cpath%20fill='%23fff'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3cpath%20stroke='%23000'%20stroke-linejoin='bevel'%20stroke-opacity='.1'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3c/g%3e%3cpath%20fill='%23000'%20d='M49.287%2048.12v-3.905c0-.263.075-.45.337-.601l7.246-4.205c.977-.563%202.216-.826%203.417-.826%204.58%200%207.471%203.53%207.471%207.321%200%20.3%200%20.714-.075%201.051l-7.584-4.43c-.375-.225-.788-.263-1.239%200l-9.573%205.594ZM66.03%2061.972V53.3c0-.488-.187-.825-.638-1.088l-9.611-5.594%203.379-1.953a.717.717%200%200%201%20.675%200l7.284%204.205c2.065%201.202%203.492%203.83%203.492%206.345%200%202.966-1.802%205.707-4.58%206.758Zm-18.734-7.471-3.342-1.99c-.262-.15-.338-.338-.338-.6v-8.373c0-4.092%203.117-7.171%207.36-7.171a7.23%207.23%200%200%201%204.504%201.577l-7.546%204.392c-.45.263-.638.601-.638%201.09v11.075Zm6.533%203.754-4.543-2.553v-5.406l4.543-2.553%204.505%202.553v5.406l-4.505%202.553Zm2.815%2011.376a7.23%207.23%200%200%201-4.505-1.577l7.546-4.392c.45-.263.639-.601.639-1.09V51.499l3.379%201.99c.262.15.337.338.337.6v8.373c0%204.093-3.153%207.171-7.396%207.171Zm-8.86-8.297L40.5%2057.13c-2.065-1.202-3.491-3.83-3.491-6.345%200-3.004%201.84-5.707%204.618-6.758v8.71c0%20.488.187.826.638%201.09l9.574%205.556-3.38%201.952a.718.718%200%200%201-.675%200Zm-.45%206.082c-4.318%200-7.472-3.229-7.472-7.246%200-.375.038-.75.075-1.089l7.546%204.355c.451.263.826.263%201.277%200l9.574-5.556v3.904c0%20.263-.075.451-.338.601l-7.246%204.205c-.976.563-2.215.826-3.417.826Zm9.31%204.243c4.506%200%208.26-3.23%209.086-7.51%204.205-1.05%206.908-4.955%206.908-8.935%200-2.628-1.126-5.143-3.191-6.983.188-.788.338-1.614.338-2.403%200-5.294-4.318-9.273-9.274-9.273a9.197%209.197%200%200%200-3.003.525c-1.69-1.69-3.98-2.74-6.533-2.74-4.505%200-8.26%203.228-9.086%207.508-4.205%201.052-6.908%204.956-6.908%208.936%200%202.628%201.127%205.144%203.191%206.983-.187.789-.337%201.615-.337%202.403%200%205.294%204.317%209.274%209.273%209.274a9.2%209.2%200%200%200%203.004-.526c1.69%201.69%203.98%202.74%206.532%202.74Z'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M.81%200h106v106H.81z'%20/%3e%3c/clipPath%3e%3cfilter%20id='b'%20width='105'%20height='105'%20x='1.311'%20y='4.5'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%20%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20/%3e%3cfeOffset%20dy='4'%20/%3e%3cfeGaussianBlur%20stdDeviation='12'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'%20/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1235_2762'%20/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_1235_2762'%20result='shape'%20/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function Kz(i){var s=i,{children:e,className:t,style:n}=s,r=W(s,["children","className","style"]);return _.jsx("svg",I(S({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t},r),{style:n,children:e}))}const PPe=({className:e})=>_.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:e,xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M15.75 12V5.99999C15.7497 5.73694 15.6803 5.4786 15.5487 5.25086C15.417 5.02312 15.2278 4.83401 15 4.70249L9.75 1.70249C9.52197 1.57084 9.26331 1.50153 9 1.50153C8.73669 1.50153 8.47803 1.57084 8.25 1.70249L3 4.70249C2.7722 4.83401 2.58299 5.02312 2.45135 5.25086C2.31971 5.4786 2.25027 5.73694 2.25 5.99999V12C2.25027 12.263 2.31971 12.5214 2.45135 12.7491C2.58299 12.9769 2.7722 13.166 3 13.2975L8.25 16.2975C8.47803 16.4291 8.73669 16.4985 9 16.4985C9.26331 16.4985 9.52197 16.4291 9.75 16.2975L15 13.2975C15.2278 13.166 15.417 12.9769 15.5487 12.7491C15.6803 12.5214 15.7497 12.263 15.75 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),kPe="ChatGPT",_v=({className:e})=>_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[_.jsx("text",{x:"-9999",y:"-9999",children:kPe}),_.jsx("path",{d:"M9.20509 8.76511V6.50545C9.20509 6.31513 9.27649 6.17234 9.44293 6.0773L13.9861 3.46088C14.6046 3.10413 15.342 2.93769 16.103 2.93769C18.9573 2.93769 20.7651 5.14983 20.7651 7.50454C20.7651 7.67098 20.7651 7.86129 20.7412 8.05161L16.0316 5.2924C15.7462 5.12596 15.4607 5.12596 15.1753 5.2924L9.20509 8.76511ZM19.8135 17.5659V12.1664C19.8135 11.8333 19.6708 11.5955 19.3854 11.429L13.4152 7.95633L15.3656 6.83833C15.5321 6.74328 15.6749 6.74328 15.8413 6.83833L20.3845 9.45474C21.6928 10.216 22.5728 11.8333 22.5728 13.4031C22.5728 15.2108 21.5025 16.8758 19.8135 17.5657V17.5659ZM7.80173 12.8088L5.8513 11.6671C5.68486 11.5721 5.61346 11.4293 5.61346 11.239V6.00613C5.61346 3.46111 7.56389 1.53433 10.2042 1.53433C11.2033 1.53433 12.1307 1.86743 12.9159 2.46202L8.2301 5.17371C7.94475 5.34015 7.80195 5.57798 7.80195 5.91109V12.809L7.80173 12.8088ZM12 15.2349L9.20509 13.6651V10.3351L12 8.76534L14.7947 10.3351V13.6651L12 15.2349ZM13.7958 22.4659C12.7967 22.4659 11.8693 22.1328 11.0841 21.5382L15.7699 18.8265C16.0553 18.6601 16.198 18.4222 16.198 18.0891V11.1912L18.1723 12.3329C18.3388 12.4279 18.4102 12.5707 18.4102 12.761V17.9939C18.4102 20.5389 16.4359 22.4657 13.7958 22.4657V22.4659ZM8.15848 17.1617L3.61528 14.5452C2.30696 13.784 1.42701 12.1667 1.42701 10.5969C1.42701 8.76534 2.52115 7.12414 4.20987 6.43428V11.8574C4.20987 12.1905 4.35266 12.4284 4.63802 12.5948L10.5846 16.0436L8.63415 17.1617C8.46771 17.2567 8.32492 17.2567 8.15848 17.1617ZM7.897 21.0625C5.20919 21.0625 3.23488 19.0407 3.23488 16.5432C3.23488 16.3529 3.25875 16.1626 3.2824 15.9723L7.96817 18.6839C8.25352 18.8504 8.53911 18.8504 8.82446 18.6839L14.7947 15.2351V17.4948C14.7947 17.6851 14.7233 17.8279 14.5568 17.9229L10.0136 20.5393C9.39518 20.8961 8.6578 21.0625 7.89677 21.0625H7.897ZM13.7958 23.8929C16.6739 23.8929 19.0762 21.8474 19.6235 19.1357C22.2874 18.4459 24 15.9484 24 13.4034C24 11.7383 23.2865 10.121 22.002 8.95542C22.121 8.45588 22.1924 7.95633 22.1924 7.45702C22.1924 4.0557 19.4331 1.51045 16.2458 1.51045C15.6037 1.51045 14.9852 1.60549 14.3668 1.81968C13.2963 0.773071 11.8215 0.107086 10.2042 0.107086C7.32606 0.107086 4.92383 2.15256 4.37653 4.86425C1.7126 5.55411 0 8.05161 0 10.5966C0 12.2617 0.713506 13.879 1.99795 15.0446C1.87904 15.5441 1.80764 16.0436 1.80764 16.543C1.80764 19.9443 4.56685 22.4895 7.75421 22.4895C8.39632 22.4895 9.01478 22.3945 9.63324 22.1803C10.7035 23.2269 12.1783 23.8929 13.7958 23.8929Z",fill:"currentColor"})]});function MPe({className:e}){const t=gt();return _.jsx("img",{src:RPe,alt:t.formatMessage({id:"VJmCc9",defaultMessage:"ChatGPT logo"}),className:e})}const DPe=({className:e})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1180 320",width:"118",height:"32",fill:"currentColor",className:e,children:_.jsx("path",{d:"M367.44 153.84c0 52.32 33.6 88.8 80.16 88.8s80.16-36.48 80.16-88.8-33.6-88.8-80.16-88.8-80.16 36.48-80.16 88.8zm129.6 0c0 37.44-20.4 61.68-49.44 61.68s-49.44-24.24-49.44-61.68 20.4-61.68 49.44-61.68 49.44 24.24 49.44 61.68zM614.27 242.64c35.28 0 55.44-29.76 55.44-65.52s-20.16-65.52-55.44-65.52c-16.32 0-28.32 6.48-36.24 15.84V114h-28.8v169.2h28.8v-56.4c7.92 9.36 19.92 15.84 36.24 15.84zm-36.96-69.12c0-23.76 13.44-36.72 31.2-36.72 20.88 0 32.16 16.32 32.16 40.32s-11.28 40.32-32.16 40.32c-17.76 0-31.2-13.2-31.2-36.48zM747.65 242.64c25.2 0 45.12-13.2 54-35.28L776.93 198c-3.84 12.96-15.12 20.16-29.28 20.16-18.48 0-31.44-13.2-33.6-34.8h88.32v-9.6c0-34.56-19.44-62.16-55.92-62.16s-60 28.56-60 65.52c0 38.88 25.2 65.52 61.2 65.52zm-1.44-106.8c18.24 0 26.88 12 27.12 25.92h-57.84c4.32-17.04 15.84-25.92 30.72-25.92zM823.98 240h28.8v-73.92c0-18 13.2-27.6 26.16-27.6 15.84 0 22.08 11.28 22.08 26.88V240h28.8v-83.04c0-27.12-15.84-45.36-42.24-45.36-16.32 0-27.6 7.44-34.8 15.84V114h-28.8zM1014.17 67.68 948.89 240h30.48l14.64-39.36h74.4l14.88 39.36h30.96l-65.28-172.32zm16.8 34.08 27.36 72h-54.24zM1163.69 68.18h-30.72V240.5h30.72zM297.06 130.97a79.712 79.712 0 0 0-6.85-65.48c-17.46-30.4-52.56-46.04-86.84-38.68A79.747 79.747 0 0 0 143.24 0C108.2-.08 77.11 22.48 66.33 55.82a79.754 79.754 0 0 0-53.31 38.67c-17.59 30.32-13.58 68.54 9.92 94.54a79.712 79.712 0 0 0 6.85 65.48c17.46 30.4 52.56 46.04 86.84 38.68a79.687 79.687 0 0 0 60.13 26.8c35.06.09 66.16-22.49 76.94-55.86a79.754 79.754 0 0 0 53.31-38.67c17.57-30.32 13.55-68.51-9.94-94.51zM176.78 299.08a59.77 59.77 0 0 1-38.39-13.88c.49-.26 1.34-.73 1.89-1.07l63.72-36.8a10.36 10.36 0 0 0 5.24-9.07v-89.83l26.93 15.55c.29.14.48.42.52.74v74.39c-.04 33.08-26.83 59.9-59.91 59.97zM47.94 244.05a59.71 59.71 0 0 1-7.15-40.18c.47.28 1.3.79 1.89 1.13l63.72 36.8c3.23 1.89 7.23 1.89 10.47 0l77.79-44.92v31.1c.02.32-.13.63-.38.83L129.87 266c-28.69 16.52-65.33 6.7-81.92-21.95zM31.17 104.96c7-12.16 18.05-21.46 31.21-26.29 0 .55-.03 1.52-.03 2.2v73.61c-.02 3.74 1.98 7.21 5.23 9.06l77.79 44.91L118.44 224c-.27.18-.61.21-.91.08l-64.42-37.22c-28.63-16.58-38.45-53.21-21.95-81.89zm221.26 51.49-77.79-44.92 26.93-15.54c.27-.18.61-.21.91-.08l64.42 37.19c28.68 16.57 38.51 53.26 21.94 81.94a59.94 59.94 0 0 1-31.2 26.28v-75.81c.03-3.74-1.96-7.2-5.2-9.06zm26.8-40.34c-.47-.29-1.3-.79-1.89-1.13l-63.72-36.8a10.375 10.375 0 0 0-10.47 0l-77.79 44.92V92c-.02-.32.13-.63.38-.83l64.41-37.16c28.69-16.55 65.37-6.7 81.91 22a59.95 59.95 0 0 1 7.15 40.1zm-168.51 55.43-26.94-15.55a.943.943 0 0 1-.52-.74V80.86c.02-33.12 26.89-59.96 60.01-59.94 14.01 0 27.57 4.92 38.34 13.88-.49.26-1.33.73-1.89 1.07L116 72.67a10.344 10.344 0 0 0-5.24 9.06l-.04 89.79zM125.35 140 160 119.99l34.65 20V180L160 200l-34.65-20z"})}),Jz=e=>_.jsxs(Kz,I(S({viewBox:"0 0 36 36",fill:"none"},e),{children:[_.jsx("circle",{cx:"18",cy:"18",r:"18",fill:"#3c46ff"}),_.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.358 14.641 5.056-5.055A2 2 0 0 1 13.828 9h8.343a2 2 0 0 1 1.414.586l5.056 5.055a2 2 0 0 1 .055 2.771l-9.226 9.996a2 2 0 0 1-2.94 0l-9.227-9.996a2 2 0 0 1 .055-2.77Zm6.86-1.939-.426 1.281a2.07 2.07 0 0 1-1.31 1.31l-1.28.426a.296.296 0 0 0 0 .561l1.28.428a2.07 2.07 0 0 1 1.31 1.309l.427 1.28c.09.27.471.27.56 0l.428-1.28a2.07 2.07 0 0 1 1.309-1.31l1.281-.427a.296.296 0 0 0 0-.56l-1.281-.428a2.07 2.07 0 0 1-1.309-1.309l-.427-1.28a.296.296 0 0 0-.561 0z",fill:"#fff"})]})),LPe=({className:e})=>_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[_.jsx("rect",{x:"2",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),_.jsx("path",{d:"M2 12H1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M22 12H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("rect",{x:"17",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),_.jsx("path",{d:"M7 12L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M16 12H17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M9 3L15 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),jPe=({className:e})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",fill:"none",className:e,children:_.jsx("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.9 1.6 1.2 11a1.3 1.3 0 0 0 1.2 2h11.2a1.3 1.3 0 0 0 1.2-2L9 1.6a1.3 1.3 0 0 0-2.2 0Z"})}),FPe=({className:e})=>_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[_.jsx("path",{d:"M8.78158 8.60266L9.8188 5.49098C10.037 4.83634 10.963 4.83634 11.1812 5.49098L12.2184 8.60266C12.7187 10.1035 13.8965 11.2813 15.3973 11.7816L18.509 12.8188C19.1637 13.037 19.1637 13.963 18.509 14.1812L15.3973 15.2184C13.8965 15.7187 12.7187 16.8965 12.2184 18.3973L11.1812 21.509C10.963 22.1637 10.037 22.1637 9.8188 21.509L8.78158 18.3973C8.28128 16.8965 7.10354 15.7187 5.60266 15.2184L2.49098 14.1812C1.83634 13.963 1.83634 13.037 2.49098 12.8188L5.60266 11.7816C7.10354 11.2813 8.28128 10.1035 8.78158 8.60266Z",fill:"currentColor"}),_.jsx("path",{d:"M17.1913 3.69537L17.6794 2.23105C17.7821 1.92298 18.2179 1.92298 18.3206 2.23105L18.8087 3.69537C19.0441 4.40167 19.5983 4.9559 20.3046 5.19133L21.769 5.67944C22.077 5.78213 22.077 6.21787 21.769 6.32056L20.3046 6.80867C19.5983 7.0441 19.0441 7.59833 18.8087 8.30463L18.3206 9.76895C18.2179 10.077 17.7821 10.077 17.6794 9.76895L17.1913 8.30463C16.9559 7.59833 16.4017 7.0441 15.6954 6.80867L14.231 6.32056C13.923 6.21787 13.923 5.78213 14.231 5.67944L15.6954 5.19133C16.4017 4.9559 16.9559 4.40167 17.1913 3.69537Z",fill:"currentColor"})]}),sVe=Object.freeze(Object.defineProperty({__proto__:null,GPT4FilledIcon:FPe,Hexagon:PPe,IconBase:Kz,NoModelTrainingIcon:LPe,OpenaiLockup:DPe,OpenaiLogo:_v,OpenaiLogoConditionalSvg:MPe,TriangleIcon:jPe,WorkspaceDefaultAvatar:Jz},Symbol.toStringTag,{value:"Module"})),UPe=B(()=>k(()=>import("./c02liuldac2129ws.js"),__vite__mapDeps([67,1])),{loading:e=>H(e)}),BPe=B(()=>k(()=>import("./nh1pnlx0ql3cilt1.js"),__vite__mapDeps([68,1])),{loading:e=>H(e)}),GPe=B(()=>k(()=>import("./oo4a5cyom9orocbu.js"),__vite__mapDeps([24,1])),{loading:e=>H(e)}),WPe=B(()=>k(()=>import("./6kppbcfhmenkpk5e.js"),__vite__mapDeps([25,1])),{loading:e=>H(e)}),qPe=B(()=>k(()=>import("./gsyjy3cn2edhhxqr.js"),__vite__mapDeps([26,1])),{loading:e=>H(e)}),VPe=B(()=>k(()=>import("./eangdf46283zeknc.js"),__vite__mapDeps([27,1])),{loading:e=>H(e)}),$Pe=B(()=>k(()=>import("./ojgc3f33xqlpzccg.js"),__vite__mapDeps([69,1])),{loading:e=>H(e)}),HPe=B(()=>k(()=>import("./ff9q8rnvshheb2le.js"),__vite__mapDeps([28,1])),{loading:e=>H(e)}),zPe=B(()=>k(()=>import("./kfuq18fnfa4tpk36.js"),__vite__mapDeps([29,1])),{loading:e=>H(e)}),YPe=B(()=>k(()=>import("./gl3rapxbeig8umvj.js"),__vite__mapDeps([30,1])),{loading:e=>H(e)}),KPe=B(()=>k(()=>import("./gb09ykdmnecx7kqm.js"),__vite__mapDeps([31,1])),{loading:e=>H(e)}),JPe=B(()=>k(()=>import("./e78y0x0bsn1pjk21.js"),__vite__mapDeps([35,1])),{loading:e=>H(e)}),XPe=B(()=>k(()=>import("./iz7y4yt60huv2j20.js"),__vite__mapDeps([36,1])),{loading:e=>H(e)}),QPe=B(()=>k(()=>import("./d3lmw35s8no1rcpb.js"),__vite__mapDeps([37,1])),{loading:e=>H(e)}),ZPe=B(()=>k(()=>import("./k16xm6jk3odnmnqs.js"),__vite__mapDeps([38,1])),{loading:e=>H(e)}),eke=B(()=>k(()=>import("./mj2brfr01cewzl9a.js"),__vite__mapDeps([39,1])),{loading:e=>H(e)}),tke=B(()=>k(()=>import("./jlsb77lt6kqhcsln.js"),__vite__mapDeps([40,1])),{loading:e=>H(e)}),nke=B(()=>k(()=>import("./htgqwnjx12i16hc6.js"),__vite__mapDeps([41,1])),{loading:e=>H(e)}),rke=B(()=>k(()=>import("./n9uspcjz6oc12tia.js"),__vite__mapDeps([42,1])),{loading:e=>H(e)}),ike=B(()=>k(()=>import("./fsahglpl2wxoakvg.js"),__vite__mapDeps([43,1])),{loading:e=>H(e)}),ske=B(()=>k(()=>import("./odeqnwkly96z750u.js"),__vite__mapDeps([47,1])),{loading:e=>H(e)}),oke=B(()=>k(()=>import("./l5e2clfxpgm30p9v.js"),__vite__mapDeps([48,1])),{loading:e=>H(e)}),ake=B(()=>k(()=>import("./m2xwf1u8hpj7ku67.js"),__vite__mapDeps([49,1])),{loading:e=>H(e)}),cke=B(()=>k(()=>import("./fnhiupokkmaz6zzq.js"),__vite__mapDeps([50,1])),{loading:e=>H(e)}),lke=B(()=>k(()=>import("./l3abi823pjnrhiuj.js"),__vite__mapDeps([51,1])),{loading:e=>H(e)}),uke=B(()=>k(()=>import("./z73jc6cuiis8j7zw.js"),__vite__mapDeps([52,1])),{loading:e=>H(e)}),dke=B(()=>k(()=>import("./f5goq4s9xgjjvv2f.js"),__vite__mapDeps([53,1])),{loading:e=>H(e)}),fke=B(()=>k(()=>import("./b6wurwufazegul5k.js"),__vite__mapDeps([54,1])),{loading:e=>H(e)}),hke=B(()=>k(()=>import("./km0dhf1mvcjs8kkd.js"),__vite__mapDeps([56,1])),{loading:e=>H(e)}),pke=B(()=>k(()=>import("./oeu7ns9by1ylfahx.js"),__vite__mapDeps([57,1])),{loading:e=>H(e)}),mke=B(()=>k(()=>import("./qr8ktpa6xn24sy7q.js"),__vite__mapDeps([58,1])),{loading:e=>H(e)}),gke=B(()=>k(()=>import("./fenai6dwr8b5i5c6.js"),__vite__mapDeps([59,1])),{loading:e=>H(e)}),_ke=B(()=>k(()=>import("./ip633et1a2kaq027.js"),__vite__mapDeps([60,1])),{loading:e=>H(e)}),vke=B(()=>k(()=>import("./up4p8fwl1sob5zne.js"),__vite__mapDeps([70,1])),{loading:e=>H(e)}),yke=B(()=>k(()=>import("./c5zxee1cdidi3ygt.js"),__vite__mapDeps([71,1])),{loading:e=>H(e)}),dt=e=>()=>_.jsx(Yke,{ConnectorIcon:e}),aw=dt(ike),bke=dt(qPe),Cke=dt(oke),x4=dt($Pe),Eke=dt(uke),Ske=dt(hke),Oke=dt(JPe),Tke=dt(eke),wke=dt(tke),Ake=dt(dke),xke=dt(YPe),Ike=dt(_ke),Nke=dt(gke),Rke=dt(mke),Pke=dt(pke),kke=dt(fke),Mke=dt(lke),Dke=dt(cke),Lke=dt(ake),jke=dt(ske),Fke=dt(rke),Uke=dt(nke),Bke=dt(ZPe),oVe=dt(XPe),aVe=dt(QPe),Gke=dt(zPe),Wke=dt(HPe),qke=dt(VPe),Vke=dt(WPe),I4=dt(KPe),$ke=dt(GPe),Hke=dt(UPe),zke=dt(BPe),Yke=({ConnectorIcon:e})=>_.jsxs("div",{className:"-mb-2 flex items-center justify-center gap-4 ps-2.5 pt-4",children:[_.jsx(_v,{className:"h-12 w-12"}),_.jsxs("div",{className:"text-token-text-secondary",children:[_.jsx(yke,{className:"icon-sm me-1.5"}),_.jsx(vke,{className:"icon-sm ms-1.5"})]}),_.jsx(e,{width:48,height:48})]}),Kke={google_drive_oauth:aw,google_drive_dwd:aw,slack:bke,github:Cke,sharepoint:x4,sharepoint_admin:x4,dropbox:Eke,box:Ske,linear:Oke,intercom:Tke,hubspot:wke,confluence:Ake,notion:xke,aha:Ike,asana:Nke,azure_devops:Rke,basecamp:Pke,clickup:kke,freshdesk:Mke,freshservice:Dke,front:Lke,gitlab:jke,gorgias:Fke,help_scout:Uke,ironclad:Bke,pipedrive:Gke,salesforce_service_cloud:Wke,shortcut:qke,teamwork:Vke,teams:I4,teams_admin:I4,zendesk:$ke,zoho:Hke,zoho_desk:zke},cVe=e=>{const t=Kke[e];return t?_.jsx(t,{}):null},pN=({footerContent:e,primaryButton:t,secondaryButton:n})=>!e&&!t&&!n?null:_.jsxs("div",{className:"border-token-border-default flex items-center justify-between border-t p-6",children:[_.jsxs("div",{children:[e," "]}),_.jsxs("div",{className:"flex gap-2",children:[n,t]})]}),Xz=new Set(Object.values(Lt)),Qz=new Set(Object.values(Pc).map(e=>e.sync)),Jke=new Set(Object.values(lf));function Xke(e){return e==="ECOSYSTEM_DIRECTORY"?"3p_published":e==="TENANT_CATALOG"?"3p_not_published":"1p"}function mN(e){return e?Qz.has(e)||e.includes("_sync_connector")?!0:Jke.has(e):!1}function Zz(e){return e?Xz.has(e):!1}function Qke(e,t){return e&&e.connector_type==="MCP"?!0:!t||Xz.has(t)||Qz.has(t)?!1:!eY(t)}function eY(e){return fs[e]!==void 0}function Zke(e,t){var n;if(t)return t;if(e)return((n=e.labels)==null?void 0:n.admin_only_connector)==="true"||e.distribution_channel==="TENANT_CATALOG"?"workspace":"user"}function N4(e){var a,c,l,u,d,f,h,p,m,g,y,v,T,C;const t=(c=(a=e.connector)==null?void 0:a.id)!=null?c:e.connectorId;if(!t)throw new Error("_buildConnectorIdMetadata: connectorId is required to build metadata");const n=new Set,r=(b,O)=>{O&&n.add(b)},i=(l=e.traitOverrides)!=null?l:{};r("access",(u=i.access)!=null?u:Zz(t)),r("sync",(d=i.sync)!=null?d:mN(t)),r("mcp",(f=i.mcp)!=null?f:Qke(e.connector,t)),r("ecosystem",(p=i.ecosystem)!=null?p:((h=e.connector)==null?void 0:h.distribution_channel)==="ECOSYSTEM_DIRECTORY"),r("retrievable",(y=i.retrievable)!=null?y:!!((g=(m=e.connector)==null?void 0:m.conformance)!=null&&g.implements_retrievable));const s=(T=e.ownerOverride)!=null?T:Xke((v=e.connector)==null?void 0:v.distribution_channel),o=(C=e.authScopeOverride)!=null?C:Zke(e.connector,e.authScopeOverride);return I(S({connector_id:t,connector_traits:Array.from(n),connector_owner:s},o?{auth_scope:o}:{}),{referrer:e.referrer})}function R4(e){if(e.kindOverride)return e.kindOverride;const t=e.connector_id_metadata.connector_id;return t?mN(t)?"1p_sync":Zz(t)||eY(t)?"1p_access":"3p_mcp":"3p_mcp"}function P4(e,t){const n=new Set,r=new Set;for(const s of e){if(typeof s!="string")continue;const o=Lt[s];if(o){n.add(o);continue}if(s.startsWith("connector_")){n.add(s);continue}mN(s)&&r.add(s)}const i=Array.from(new Set(t));return{accessConnectorIds:Array.from(n),syncConnectorIds:Array.from(r),mcpConnectorIds:i}}function VS(e){return Array.from(new Set(e))}const ka={createIdMetadataFromConnector(e,t,n={}){return N4({connector:e,referrer:t,traitOverrides:n.traitOverrides,ownerOverride:n.ownerOverride,authScopeOverride:n.authScopeOverride})},createIdMetadataFromId(e,t,n={}){return N4({connectorId:e,referrer:t,traitOverrides:n.traitOverrides,ownerOverride:n.ownerOverride,authScopeOverride:n.authScopeOverride})},getSelectionBreakdown({selectedSources:e,selectedMCPSources:t}){return P4(e,t)},logEntryPointShown({referrer:e}){we.logEventWithStatsig("connectors.entry_point_shown","connectors.entry_point_shown",{referrer:e})},logModalShown(e){const t=e.connector_id_metadata,n=S(S(S(S({connector_id_metadata:t,referrer:e.referrer},typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{}),e.mfaState?{mfa:e.mfaState}:{}),e.authType?{auth_type:e.authType}:{}),typeof e.skippedByAdmin=="boolean"?{skipped_by_admin:e.skippedByAdmin}:{});we.logEventWithStatsig("connectors.modal_shown","connectors.modal_shown",n)},logModalContinue(e){const t=e.connector_id_metadata,n=S({connector_id_metadata:t,action:e.action,referrer:e.referrer},e.authType?{auth_type:e.authType}:{});we.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",n)},logOAuthInitiated(e){const t=e.connector_id_metadata,n=S(S({connector_id_metadata:t,referrer:e.referrer,kind:R4(e)},e.scopes?{scopes:e.scopes}:{}),e.authType?{auth_type:e.authType}:{});we.logEventWithStatsig("connectors.oauth_initiated","connectors.oauth_initiated",n)},logOAuthCompleted(e){const t=e.connector_id_metadata,n=S(S(I(S(S({connector_id_metadata:t,success:e.success,referrer:e.referrer},e.errorType?{errorType:e.errorType}:{}),e.errorMessage?{errorMessage:e.errorMessage}:{}),{kind:R4(e)}),e.scopes?{scopes:e.scopes}:{}),e.authType?{auth_type:e.authType}:{});we.logEventWithStatsig("connectors.oauth_complete","connectors.oauth_complete",n)},logSelectionChanged(e){const t=P4(e.selectedSources,e.selectedMCPSources),n=S({referrer:e.referrer,selected_access_connector_ids:t.accessConnectorIds,selected_sync_connector_ids:t.syncConnectorIds,selected_mcp_connector_ids:t.mcpConnectorIds},e.triggerHint?{trigger_hint:e.triggerHint}:{});we.logEventWithStatsig("connectors.selected","connectors.selected",n)},logTurnInteraction(e){we.logEventWithStatsig("connectors.turn_interaction","connectors.turn_interaction",S({searched_access_connector_ids:VS(e.accessConnectorIds),searched_sync_connector_ids:VS(e.syncConnectorIds),searched_mcp_connector_ids:VS(e.mcpConnectorIds)},e.triggerHint?{trigger_hint:e.triggerHint}:{}))},logUpgradeToSyncInitiated(e){const t=e.connector_id_metadata,n=S({connector_id_metadata:t,referrer:e.referrer},typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{});we.logEventWithStatsig("connectors.upgrade_to_sync_init","connectors.upgrade_to_sync_init",n)},logUpgradeToSyncCompleted(e){const t=e.connector_id_metadata,n=S(S(S({connector_id_metadata:t,success:e.success,referrer:e.referrer},e.errorType?{errorType:e.errorType}:{}),e.errorMessage?{errorMessage:e.errorMessage}:{}),typeof e.upgradeToSync=="boolean"?{upgrade_to_sync:e.upgradeToSync}:{});we.logEventWithStatsig("connectors.upgrade_to_sync_complete","connectors.upgrade_to_sync_complete",n)}},eMe=Object.freeze(Object.defineProperty({__proto__:null,ConnectorsAnalytics:ka},Symbol.toStringTag,{value:"Module"})),tY=new BroadcastChannel("oauth_channel"),lVe=e=>{tY.postMessage(e)},$S=e=>e?lf[e]:void 0;async function nY({connectionId:e,connectorType:t,redirectTo:n,location:r,isReconnect:i,intl:s,isAdminQuickstartFlow:o=!1,accountId:a}){var d,f;const c=window.open("about:blank","_blank");if(!c)throw new Error(s.formatMessage(kp.popupBlocked));if(o&&!a)throw new Error(s.formatMessage(kp.somethingWentWrong));let l;try{l=await(o?Qo.admin_request_connect_quickstart(a!=null?a:"",e,n):Qo.user_request_connect(e,n,!0))}catch(h){throw c.close(),new Error(s.formatMessage(kp.somethingWentWrong))}we.logEventWithStatsig("Contextual Answers User OAuth Initiated","chatgpt_contextual_answers_user_oauth_initiated",{connectorType:t,location:r,isReconnect:i,isAdminQuickstartFlow:o});const u=$S(t);return u&&ka.logOAuthInitiated({connector_id_metadata:ka.createIdMetadataFromId(u,(d=zr())!=null?d:"contextual_answers.".concat(r),{traitOverrides:{sync:!0}}),referrer:(f=zr())!=null?f:"contextual_answers.".concat(r),authType:"OAUTH",scopes:null,kindOverride:"1p_sync"}),c.location.href=l.oauth_flow_url,new Promise(h=>{const p=m=>{var b,O,w,A;const{error:g,errorDesc:y,errorType:v,pluginId:T,success:C}=m.data;if(m.origin===window.location.origin&&!(l.plugin_id&&l.plugin_id!==T))if(C){we.logEventWithStatsig("Contextual Answers User OAuth Completed","chatgpt_contextual_answers_user_oauth_completed",{connectorType:t,isAdminQuickstartFlow:o});const x=$S(t);x&&ka.logOAuthCompleted({connector_id_metadata:ka.createIdMetadataFromId(x,(b=zr())!=null?b:"contextual_answers.".concat(r),{traitOverrides:{sync:!0}}),referrer:(O=zr())!=null?O:"contextual_answers.".concat(r),authType:"OAUTH",scopes:null,success:!0,kindOverride:"1p_sync"}),h({success:!0,message:s.formatMessage(kp.connectedDriveSyncDesc)})}else{we.logEventWithStatsig("Contextual Answers User OAuth Failed","chatgpt_contextual_answers_user_oauth_failed",{connectorType:t,errorType:v,isAdminQuickstartFlow:o});const x="".concat(g).concat(y?": ".concat(y):""),N=$S(t);N&&ka.logOAuthCompleted({connector_id_metadata:ka.createIdMetadataFromId(N,(w=zr())!=null?w:"contextual_answers.".concat(r),{traitOverrides:{sync:!0}}),referrer:(A=zr())!=null?A:"contextual_answers.".concat(r),authType:"OAUTH",scopes:null,success:!1,errorType:v,errorMessage:x,kindOverride:"1p_sync"}),h({errorType:v,success:C,message:x})}};tY.addEventListener("message",p,!1),c.addEventListener("beforeunload",()=>{window.removeEventListener("message",p,!1)})})}const kp=Tt({popupBlocked:{id:"67rWk2",defaultMessage:"Popup blocked. Please allow popups for this site."},connectedDriveSyncDesc:{id:"CACallback.connectedDriveSyncDesc.2",defaultMessage:"Google Drive is now connected and syncing."},somethingWentWrong:{id:"RvtOjD",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),tMe=B(()=>k(()=>import("./btrwhqtnzjbkk202.js"),__vite__mapDeps([5,1])),{loading:e=>H(e)}),nMe=B(()=>k(()=>import("./kivvchsexr54fuso.js"),__vite__mapDeps([72,1])),{loading:e=>H(e)}),rMe=B(()=>k(()=>import("./m5mcutn5uufk1mu2.js"),__vite__mapDeps([73,1])),{loading:e=>H(e)}),rY=B(()=>k(()=>import("./fsahglpl2wxoakvg.js"),__vite__mapDeps([43,1])),{loading:e=>H(e)}),iMe=B(()=>k(()=>import("./hahiy9dm7k71twz4.js"),__vite__mapDeps([74,1])),{loading:e=>H(e)}),sMe=B(()=>k(()=>import("./joo9i8759ndrogn9.js"),__vite__mapDeps([75,1,76,3,4,77,78,79])).then(e=>e.GoogleRedirectContent)),gN={type:"success",size:"custom",className:"max-w-xl",showCloseButton:!0,shouldIgnoreClickOutside:!0,hideSeparator:!0,noPadding:!0,title:_.jsx(aw,{})},oMe=({onClose:e,isAdminFlow:t,isAdminQuickstartFlow:n=!1,connectionId:r,location:i,accountId:s,onSuccess:o,excludeModalWrapper:a=!1})=>{var y,v;const c=(v=(y=CV())==null?void 0:y.enabled)!=null?v:!1,l=!t&&c,[u,d]=E.useState(l?"cta":"disclaimer"),[f,h]=E.useState(),p=gt(),m=E.useCallback(()=>{o==null||o(),e==null||e()},[e,o]),g={connectionId:r,connectorType:"google_drive_oauth",location:i,isAdminQuickstartFlow:n,accountId:s,onSuccess:m,onError:T=>{h(T),d("error")}};switch(u){case"disclaimer":return _.jsx(aMe,{isOpen:!0,onClose:e,excludeModalWrapper:a,isAdminFlow:t,isAdminQuickstartFlow:n,secondaryButton:_.jsx($d,{title:p.formatMessage(fl.cancel),color:"secondary",onClick:e}),primaryButton:_.jsx($d,{color:"primary",onClick:()=>d("cta"),children:p.formatMessage(fl.continue)})});case"cta":return l?_.jsx(lMe,S({onClose:e,isReconnect:!1,excludeModalWrapper:a},g)):_.jsx(cMe,{isOpen:!0,onClose:e,excludeModalWrapper:a,secondaryButton:_.jsx($d,{title:p.formatMessage(fl.back),color:"secondary",onClick:()=>d("disclaimer")}),primaryButton:_.jsx(k4,S({label:p.formatMessage(fl.loginWithGoogle)},g))});case"error":return l?_.jsx(dMe,S({onClose:e,error:f,excludeModalWrapper:a,isReconnect:!0},g)):_.jsx(uMe,{isOpen:!0,onClose:e,error:f,excludeModalWrapper:a,primaryButton:_.jsx(k4,S({label:p.formatMessage(fl.reconnect),isReconnect:!0},g))})}};function aMe({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:i,isAdminFlow:s,isAdminQuickstartFlow:o}){const a=_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"px-6 pt-4 pb-10",children:[_.jsx("div",{className:"text-xl font-medium",children:_.jsx(yt,{id:"zjbSLP",defaultMessage:"Connect your organizationâ€™s Google Drive "})}),_.jsx("div",{className:"text-md text-token-text-secondary mt-3",children:o?_.jsx(yt,{id:"YCbpE/",defaultMessage:"Linking ChatGPT to Google Drive gives you more tailored answers based on your organization's context. Once you connect, others in your org can too."}):_.jsx(yt,{id:"+hD78k",defaultMessage:"{userText}Connecting ChatGPT to Google Drive helps you get more personalized, up-to-date answersâ€”grounded in your organizationâ€™s content. ChatGPT semantically searches your Drive and only surfaces content youâ€™re authorized to view.",values:{userText:!s&&_.jsx(yt,{id:"kg6Qe+",defaultMessage:"Your admin has enabled internal knowledge for your workspace. "})}})}),_.jsx("div",{className:"mt-6 text-lg font-medium",children:_.jsx(yt,{id:"x/LOXH",defaultMessage:"What to expect"})}),_.jsxs("ul",{className:"text-md text-token-text-secondary ms-6 mt-4",children:[_.jsx("li",{className:"mb-2 list-disc",children:_.jsx(yt,{id:"iBETBV",defaultMessage:"Continuous sync: Your documents, spreadsheets, and presentations stay up to date in ChatGPT."})}),_.jsx("li",{className:"mb-2 list-disc",children:_.jsx(yt,{id:"u/D1Mk",defaultMessage:"Privacy first: ChatGPT always respects your Google Drive permissions â€” it can only access what you can."})}),_.jsx("li",{className:"list-disc",children:_.jsx(yt,{id:"uHiJ04",defaultMessage:"Youâ€™re in control: Disconnect anytime to instantly revoke access."})})]}),o&&_.jsxs("div",{className:"bg-token-main-surface-secondary text-token-text-primary mt-6 flex w-full flex-row items-center gap-4 rounded-xl p-4",children:[_.jsx(tMe,{className:"icon-lg"}),_.jsx("span",{className:"text-token-text-secondary text-sm",children:_.jsx(yt,{id:"k5y2IZ",defaultMessage:"<b>Note</b>: Only users with the <i>same</i> Google Workspace domain can connect. Your email should look like <code>example.com</code> â€” personal accounts wonâ€™t work. Be sure youâ€™re using the right one.",values:{b:c=>_.jsx("strong",{children:c}),i:c=>_.jsx("em",{children:c}),code:c=>_.jsx("code",{children:c})}})})]})]}),_.jsx(pN,{secondaryButton:r,primaryButton:i})]});return n?a:_.jsx(Du,I(S({},gN),{isOpen:e,onClose:t,testId:"modal-gdrive-disclaimer",children:a}))}function cMe({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:i}){const s=_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"px-6 pt-4 pb-10",children:[_.jsx("div",{className:"mb-3 text-xl font-medium",children:_.jsx(yt,{id:"X4Rl7H",defaultMessage:"Allow full access"})}),_.jsx("div",{children:_.jsx(yt,{id:"laPpDC",defaultMessage:"<b>Important:</b> In the next step, make sure to keep all boxes checked. ChatGPT requires access to the full list of Google permissions.",values:{b:o=>_.jsx("strong",{children:o})}})})]}),_.jsx(pN,{secondaryButton:r,primaryButton:i})]});return n?s:_.jsx(Du,I(S({},gN),{isOpen:e,onClose:t,testId:"modal-gdrive-cta",children:s}))}function lMe(r){var i=r,{onClose:e,excludeModalWrapper:t}=i,n=W(i,["onClose","excludeModalWrapper"]);const{loading:s,initiateOAuthFlow:o}=_N(n),a=_.jsx(sMe,{connectorIcon:_.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:_.jsx(rY,{height:32,width:32})}),connectorName:"Google Drive",connectorId:tPe,onClose:e,isConnecting:s,onContinue:()=>o()});return t?a:_.jsx(Du,{rootClassName:"z-100",testId:"modal-gdrive-cta-slurm",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:a})}const iY=({intl:e,error:t})=>{var i;let n,r;switch(t==null?void 0:t.errorType){case"ca/oauth_api_access_error":{n=e.formatMessage({id:"LrBpzI",defaultMessage:"Permissions required"}),r=e.formatMessage({id:"E0lVhb",defaultMessage:"In order to sync your drive you must give ChatGPT the appropriate permissions. Please try again and select all the required checkboxes."});break}case"ca/oauth_missing_user_info_domain":{n=e.formatMessage({id:"CDqa2q",defaultMessage:"Cannot connect this account"}),r=e.formatMessage({id:"6Can6p",defaultMessage:"The Google account you are trying to connect does not belong to a Google Workspace domain. Google accounts that do not belong to a Google Workspace (such as personal Gmail accounts) are not eligible to connect to this specific feature at this time."});break}case"ca/oauth_has_existing_linked_openai_account":{n=e.formatMessage({id:"QSfIDZ",defaultMessage:"This Google account is already connected to a different ChatGPT account"}),r=e.formatMessage({id:"Z9Bj8k",defaultMessage:"The Google account you are trying to link is already connected to a different ChatGPT user for this Google Drive connection."});break}case"ca/oauth_connection_not_allowed":{n=e.formatMessage({id:"I3ekm6",defaultMessage:"Your ChatGPT account is not enabled for this connection"}),r=e.formatMessage({id:"0Vbazl",defaultMessage:"Your ChatGPT administrator has not enabled this connection for your account."});break}default:n=e.formatMessage({id:"ojfL45",defaultMessage:"Something went wrong"}),r=(i=t==null?void 0:t.message)!=null?i:e.formatMessage({id:"5MOzf8",defaultMessage:"We were unable to connect your Google account. Please check your settings and try again."})}return{title:n,body:r}};function uMe({isOpen:e,onClose:t,excludeModalWrapper:n,primaryButton:r,error:i}){const s=gt(),{title:o,body:a}=iY({intl:s,error:i}),c=_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"px-6 pt-4 pb-10",children:[_.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xl font-medium",children:[_.jsx(iMe,{className:"icon-lg"}),o]}),_.jsx("div",{children:a})]}),_.jsx(pN,{primaryButton:r})]});return n?c:_.jsx(Du,I(S({},gN),{isOpen:e,onClose:t,testId:"modal-gdrive-error",children:c}))}function dMe(i){var s=i,{onClose:e,error:t,excludeModalWrapper:n}=s,r=W(s,["onClose","error","excludeModalWrapper"]);const o=gt(),{title:a,body:c}=iY({intl:o,error:t}),{loading:l,initiateOAuthFlow:u}=_N(r),d=_.jsxs(_.Fragment,{children:[_.jsx(ZRe,{onClose:e,connectorIcon:_.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:_.jsx(rY,{height:32,width:32})}),title:a}),_.jsxs("div",{className:"border-token-border-default text-token-text-secondary mt-8 mb-6 flex items-center gap-4 rounded-xl border p-4 text-sm",children:[_.jsx(nMe,{className:"icon-lg"}),c]}),_.jsx(_s,{className:"w-full",size:"large",onClick:()=>u(),loading:l,children:o.formatMessage(fl.reconnect)})]});return n?d:_.jsx(Du,{testId:"modal-gdrive-error-slurm",rootClassName:"z-100",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:d})}const _N=({connectorType:e,connectionId:t,location:n,isReconnect:r=!1,isAdminQuickstartFlow:i,accountId:s,onSuccess:o,onError:a})=>{const[c,l]=E.useState(!1),u=gt(),d=En(),f=E.useCallback(async()=>{try{l(!0);const{message:h,errorType:p,success:m}=await nY({connectorType:e,connectionId:t,location:n,isReconnect:r,intl:u,isAdminQuickstartFlow:i,accountId:s});m?(d.success(h),o==null||o()):(d.danger(h,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:h}),a==null||a({errorType:p,message:h}))}catch(h){a==null||a(),h instanceof Error&&d.danger(h.message,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:h.message})}finally{l(!1)}},[e,t,n,r,u,i,s,d,o,a]);return{loading:c,initiateOAuthFlow:f}},k4=n=>{var r=n,{label:e}=r,t=W(r,["label"]);const{loading:i,initiateOAuthFlow:s}=_N(t);return _.jsx($d,{loading:i,onClick:s,color:"primary",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(rMe,{}),e]})})},fl=Tt({back:{id:"RDaXnk",defaultMessage:"Back"},cancel:{id:"CfN1/v",defaultMessage:"Cancel"},continue:{id:"XGnWba",defaultMessage:"Continue"},loginWithGoogle:{id:"9ImAmL",defaultMessage:"Log in with Google"},reconnect:{id:"0qUCBD",defaultMessage:"Reconnect"},encounteredError:{id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),fMe=({connectorType:e,connectionId:t,location:n,refetch:r,renderButton:i})=>{const s=gt(),[o,a]=E.useState(!1),c=En(),l=zI(),u=re(),d=eCe(u),f=e==="google_drive_oauth",h=E.useCallback(async()=>{try{a(!0),await nY({connectorType:e,connectionId:t,location:n,intl:s})}catch(v){v instanceof Error?c.danger(v.message,{toastId:"ca_oauth_button"}):c.danger(s.formatMessage({id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}),{toastId:"ca_oauth_button",loggingTitle:"Encountered an error connecting your account.",loggingDescription:"Error message shown when a user tries to link their account but it fails."})}finally{a(!1),r==null||r()}},[t,e,s,n,r,c]),[p,m]=E.useState(!1),g=i({disabled:l||d,isLoading:o,onClick:()=>{f?m(!0):h()}}),y=g;return l?_.jsx(io,{label:s.formatMessage(hMe.gdriveTooltip),children:g}):d?_.jsx(KRe,{children:g}):_.jsxs(_.Fragment,{children:[y,p&&_.jsx(oMe,{isAdminFlow:!1,onClose:()=>m(!1),connectionId:t,location:n,onSuccess:r})]})},hMe=Tt({gdriveTooltip:{id:"9DbE+w",defaultMessage:"Cannot connect, please use the web version instead"}}),pMe=B(()=>k(()=>import("./btrwhqtnzjbkk202.js"),__vite__mapDeps([5,1])),{loading:e=>H(e)}),mMe=B(()=>k(()=>import("./bktng2ex41ldavy0.js"),__vite__mapDeps([80,1])),{loading:e=>H(e)}),gMe=B(()=>k(()=>import("./jaztged0ed1qpm4w.js"),__vite__mapDeps([81,1])),{loading:e=>H(e)}),_Me=B(()=>k(()=>Promise.resolve().then(()=>cIe),void 0),{loading:e=>H(e)}),sY=({startDate:e,now:t,scale:n})=>{const r=t.getTime()-e.getTime();if(r<=0)return 0;const i=r/n,s=Math.min(1,Math.log1p(i*9)/Math.log1p(10));return Math.round(s*100)},oY=(e=1e3)=>{const[t,n]=E.useState(new Date);return E.useEffect(()=>{const r=setInterval(()=>{n(new Date)},e);return()=>clearInterval(r)},[e]),t},vMe=({connection:e})=>{const t=gt(),n=oY(),r=e.user_connection_details.initialized_at,i=r?sY({startDate:new Date(r),now:n,scale:1e3*60*60*3})/2:25;return _.jsx(io,{label:t.formatMessage({id:"69GKr/",defaultMessage:"Syncing may take 8 hours or longer"}),side:"right",children:_.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[_.jsx(gv,{sizeOverride:18,percentage:i}),_.jsx(yt,{id:"fYaL40",defaultMessage:"Syncing"})]})})},yMe=({className:e,connection:t,ignoreLabel:n=!1})=>{const r=gt(),i=oY(),s=t.user_connection_details.initialized_at,o=s?sY({startDate:new Date(s),now:i,scale:1e3*60*60*6})/2+50:75;return _.jsx(io,{label:r.formatMessage({id:"lsQnba",defaultMessage:"Last 30 days synced"}),secondaryLabel:r.formatMessage({id:"j+cskE",defaultMessage:"Full sync can take up to few days"}),side:"right",children:_.jsxs("div",{className:_e("text-caption-regular text-token-text-tertiary flex items-center gap-2",e),children:[_.jsx(gv,{sizeOverride:18,percentage:o,className:"text-blue-400"}),!n&&_.jsx(yt,{id:"k4otrZ",defaultMessage:"Partially synced"})]})})},bMe=({connection:e,location:t,inactiveButtonOverride:n})=>{var c;const r=re(),[i,s]=E.useState(new Date);E.useEffect(()=>{const l=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(l)},[]);const o=gt();switch(e.user_connection_details.activation_status){case"activated":{const l=(c=e.user_connection_details.last_delta_sync_completed_at)!=null?c:e.user_connection_details.last_full_sync_completed_at;return l?_.jsx("div",{className:"text-body-small-regular",children:zRe({now:i,givenDate:new Date(l),intl:o})}):_.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[_.jsx(_Me,{className:"icon-sm"}),_.jsx(yt,{id:"SWdiTP",defaultMessage:"Synced"})]})}case"activating":return _.jsx(vMe,{connection:e});case"partially_activated":return _.jsx(yMe,{connection:e});case"inactive":return n||_.jsx(CMe,{connection:e,refetch:()=>Vx(r),location:t})}},M4="https://help.openai.com/en/articles/10929079-google-workspace-admin-managed-setup#h_856676fdde",aY=({displayName:e,connectorType:t})=>_.jsx(io,{withArrow:!0,interactive:!0,label:_.jsx(A4,{openNewTab:!0,underline:!1,href:M4,children:_.jsx(yt,{id:"H0Humf",defaultMessage:"We were unable to connect your account to {connector_name}. Click to learn more.",values:{connector_name:t==="google_drive_dwd"?"Google Drive":e}})}),sideOffset:0,children:_.jsx(A4,{className:"hover:bg-token-interactive-bg-secondary-hover block rounded-full p-2",href:M4,openNewTab:!0,children:_.jsx(pMe,{className:"icon"})})}),uVe=({connection:e})=>{switch(e.user_connection_details.auth_status){case"admin_connected":return _.jsx(yt,{id:"Isczat",defaultMessage:"Connected"});case"admin_managed_disconnected":return _.jsx(aY,{displayName:e.connection_display_info.display_name,connectorType:e.user_connection_details.knowledge_connector_type});case"not_connected":return _.jsx(yt,{id:"9ZiK24",defaultMessage:"Connect"});case"user_connected":return _.jsx(gv,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},CMe=({connection:e,refetch:t,location:n})=>{const r=E.useMemo(()=>{switch(e.user_connection_details.auth_status){case"admin_connected":return _.jsx(_s,{disabled:!0,size:"small",color:"ghost",children:_.jsx(yt,{id:"Isczat",defaultMessage:"Connected"})});case"admin_managed_disconnected":return _.jsx(aY,{displayName:e.connection_display_info.display_name});case"not_connected":return _.jsx(EMe,{connection:e,location:n,refetch:t});case"user_connected":return _.jsx(gv,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},[e,n,t]);return _.jsx(_.Fragment,{children:r})},EMe=({connection:e,location:t,refetch:n})=>{const r=({disabled:i,isLoading:s,onClick:o})=>_.jsx(_s,{size:"small",disabled:i,loading:s,onClick:o,color:"secondary",children:_.jsx(yt,{id:"9ZiK24",defaultMessage:"Connect"})});return _.jsx(fMe,{connectorType:e.user_connection_details.knowledge_connector_type,connectionId:e.user_connection_details.connection_instance_id,location:t,refetch:n,renderButton:r})},SMe=["admin_connected","admin_managed_disconnected"];function OMe({connection:e,refetch:t}){const n=En(),[r,i]=E.useState(!1);if(SMe.includes(e.user_connection_details.auth_status))return null;const s=async()=>{try{i(!0),await Qo.user_disconnect(e.user_connection_details.connection_instance_id),n.success("Successfully disconnected your account.")}catch(o){n.danger("Encountered an error disconnecting your account. Please try again later.",{toastId:"ca_disconnect_button"})}finally{i(!1),t==null||t()}};return _.jsxs(td.Root,{children:[_.jsx(td.BasicTrigger,{children:_.jsx("button",{type:"button",className:"text-token-text-secondary focus-visible:bg-token-surface-hover enabled:hover:bg-token-surface-hover disabled:text-token-text-quaternary h-8 rounded-lg px-2 focus-visible:outline-0",children:_.jsx(gMe,{className:"icon-sm"})})}),_.jsx(td.Portal,{children:_.jsx(td.Content,{size:"small",align:"end",children:_.jsx(td.Item,{disabled:r,onClick:s,icon:_.jsx(mMe,{}),color:"danger",children:_.jsx(yt,{id:"iHFV22",defaultMessage:"Disconnect"})})})})]})}const Lu=e=>{"use forget";const t=Y.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,i=r===void 0?!0:r,s=Iu();let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=["user_connection_status"],t[2]=o):o=t[2];const a=s&&i;let c;return t[3]!==a?(c={queryKey:o,queryFn:Qo.user_connection_status,enabled:a},t[3]=a,t[4]=c):c=t[4],Yt(c)},TMe=new Set(["slack_sync_connector"]);function dVe(){const{data:e,isLoading:t,refetch:n}=Lu(),r=E.useMemo(()=>e==null?void 0:e.connection_statuses.filter(i=>TMe.has(i.user_connection_details.connection_type)),[e]);return E.useEffect(()=>{we.logEventWithStatsig("Contextual Answers User Settings Modal Shown","chatgpt_contextual_answers_user_settings_modal_shown")},[]),r!=null&&r.length?_.jsx(Fde,{description:_.jsx(yt,{id:"yjIap+",defaultMessage:"These connectors are only available to a limited number of users."}),title:_.jsx(yt,{id:"5C8Bnt",defaultMessage:"Beta connectors"}),children:_.jsx("div",{className:"border-b",children:t?_.jsx("div",{className:"p-2",children:_.jsx(Pxe,{lines:4})}):r!=null&&r.length?_.jsx("div",{children:r.map(i=>{var s,o;return _.jsx(Ude,{children:_.jsx(j0e,{icon:_.jsx("img",{src:(s=i.connection_display_info.icon_url)!=null?s:"",alt:i.connection_display_info.display_name,className:"icon-lg"}),title:i.connection_display_info.display_name,statusIndicator:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(bMe,{connection:i,location:"user_settings"}),((o=i.user_connection_details)==null?void 0:o.activation_status)!=="inactive"&&_.jsx(OMe,{connection:i,refetch:n})]})})},i.user_connection_details.connection_instance_id)})}):_.jsx("p",{className:"text-token-text-secondary my-2",children:_.jsx(yt,{id:"nzXh59",defaultMessage:"No connections found."})})})}):null}const wMe=B(()=>k(()=>import("./mvmwqt2pbedq2unu.js"),__vite__mapDeps([82,1])),{loading:e=>H(e)}),AMe=B(()=>k(()=>import("./mp4v4wji3l4bfpxc.js"),__vite__mapDeps([83,1])),{loading:e=>H(e)}),xMe=B(()=>k(()=>import("./llkvyyg8wmzr0pic.js"),__vite__mapDeps([84,1])),{loading:e=>H(e)}),IMe=B(()=>k(()=>import("./cs13hjllyr5z07le.js"),__vite__mapDeps([85,1])),{loading:e=>H(e)}),NMe=B(()=>k(()=>import("./i9crbuggadd1d18l.js"),__vite__mapDeps([86,1])),{loading:e=>H(e)}),RMe=B(()=>k(()=>import("./nerwniv8icoyqyjk.js"),__vite__mapDeps([87,1])),{loading:e=>H(e)}),PMe=B(()=>k(()=>import("./gsyjy3cn2edhhxqr.js"),__vite__mapDeps([26,1])),{loading:e=>H(e)}),kMe=B(()=>k(()=>import("./gl3rapxbeig8umvj.js"),__vite__mapDeps([30,1])),{loading:e=>H(e)}),MMe=B(()=>k(()=>import("./d44ajf70j3x0ukox.js"),__vite__mapDeps([88,1])),{loading:e=>H(e)}),DMe=B(()=>k(()=>import("./iz7y4yt60huv2j20.js"),__vite__mapDeps([36,1])),{loading:e=>H(e)}),LMe=B(()=>k(()=>import("./fsahglpl2wxoakvg.js"),__vite__mapDeps([43,1])),{loading:e=>H(e)}),jMe=B(()=>k(()=>import("./f5goq4s9xgjjvv2f.js"),__vite__mapDeps([53,1])),{loading:e=>H(e)}),fVe=({className:e,contextConnector:t,extension:n})=>{const r=gt(),i=FMe(t,n);return _.jsx("div",{className:"".concat(e," dark:bg-token-main-surface-secondary flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10"),children:_.jsx(i,{className:"w-[20px]","aria-label":r.formatMessage({id:"ccc.fileIcon",defaultMessage:"File icon for {contextConnector}"},{contextConnector:t})})})};function FMe(e,t){switch(e){case xe.CONFLUENCE:return jMe;case xe.GDRIVE:switch(t){case"doc":case"docx":return RMe;case"xls":case"xlsx":return NMe;case"ppt":case"pptx":return IMe;default:return LMe}case xe.JIRA:return DMe;case xe.NOTION_OPEN_CONNECTOR:return kMe;case xe.O365_BUSINESS:case xe.O365_PERSONAL:case xe.O365:switch(t){case"doc":case"docx":return wMe;case"xls":case"xlsx":return xMe;case"ppt":case"pptx":return AMe;default:return MMe}case xe.SLACK_OPEN_CONNECTOR:return PMe}}const UMe=B(()=>k(()=>import("./gsyjy3cn2edhhxqr.js"),__vite__mapDeps([26,1])),{loading:e=>H(e)}),BMe=B(()=>k(()=>import("./ojgc3f33xqlpzccg.js"),__vite__mapDeps([69,1])),{loading:e=>H(e)}),GMe=B(()=>k(()=>import("./gl3rapxbeig8umvj.js"),__vite__mapDeps([30,1])),{loading:e=>H(e)}),WMe=B(()=>k(()=>import("./n3mnqs8qkb4827qo.js"),__vite__mapDeps([33,1])),{loading:e=>H(e)}),qMe=B(()=>k(()=>import("./iz7y4yt60huv2j20.js"),__vite__mapDeps([36,1])),{loading:e=>H(e)}),VMe=B(()=>k(()=>import("./fsahglpl2wxoakvg.js"),__vite__mapDeps([43,1])),{loading:e=>H(e)}),$Me=B(()=>k(()=>import("./f5goq4s9xgjjvv2f.js"),__vite__mapDeps([53,1])),{loading:e=>H(e)});function hVe(e){switch(e){case xe.CONFLUENCE:return $Me;case xe.GDRIVE:return VMe;case xe.JIRA:return qMe;case xe.NOTION_OPEN_CONNECTOR:return GMe;case xe.O365_PERSONAL:case xe.O365:return WMe;case xe.O365_BUSINESS:return BMe;case xe.SLACK_OPEN_CONNECTOR:return UMe}}var nd={},D4;function HMe(){if(D4)return nd;D4=1,Object.defineProperty(nd,"__esModule",{value:!0});function e(t,n){if(n)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}return nd.assertNever=e,nd.default=e,nd}var zMe=HMe();const YMe=Gt(zMe),KMe=fn({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),JMe=fn({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),pVe=Tt({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function mVe(e,t,n){var r,i;switch(e){case xe.CONFLUENCE:return"Confluence";case xe.GDRIVE:return"Google Drive";case xe.JIRA:return"Jira";case xe.NOTION_OPEN_CONNECTOR:return"Notion";case xe.O365:return n?"OneDrive":"Microsoft OneDrive";case xe.O365_PERSONAL:return n?"OneDrive":(r=t==null?void 0:t.formatMessage(KMe))!=null?r:"Microsoft OneDrive (personal)";case xe.O365_BUSINESS:return n?"Sharepoint":(i=t==null?void 0:t.formatMessage(JMe))!=null?i:"Microsoft OneDrive (work/school)";case xe.SLACK_OPEN_CONNECTOR:return"Slack"}}function XMe(e,t){switch(e){case xe.CONFLUENCE:return"Confluence Page";case xe.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case xe.JIRA:return"Jira Issue";case xe.NOTION_OPEN_CONNECTOR:return"Notion Page";case xe.O365:case xe.O365_PERSONAL:case xe.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case xe.SLACK_OPEN_CONNECTOR:return"Slack"}YMe(e)}function gVe({contextConnector:e,extension:t}){return _.jsx(_.Fragment,{children:XMe(e,t)})}const vN=ut(e=>{const t=Ic(e),n=t==null?void 0:t.user,r=Zt(e,"1967546325"),i=r.get("gdrivePicker",!1),s=r.get("o365Picker",!1),o=r.get("gdriveLink",!1),a=r.get("o365PersonalLink",!1),c=r.get("o365BusinessLink",!1),l=r.get("testCtor1Link",!1),u=r.get("testCtor2Link",!1),d=r.get("testCtor3Link",!1),f=r.get("oversmokeLink",!1),h=Zt(e,"3747383021"),p=$e(e,"3544641259")&&h.get("github",!1),m=r.get("gdrivePercentage",0),g=r.get("o365Percentage",0),y=r.get("testCtor1Percentage",0),v=r.get("testCtor2Percentage",0),T=r.get("testCtor3Percentage",0),C=r.get("oversmokePercentage",0),b=r.get("loadTestPercentage",0),O=r.get("showWorkspaceSettings",!1),w=n?QMe(n.id):null;return{confluenceLinkStatus:hi(l,w,y),gdriveLinkStatus:hi(o,w,m),gdriveStatus:hi(i,w,m),jiraLinkStatus:hi(u,w,v),notionLinkStatus:hi(d,w,T),o365BusinessLinkStatus:hi(c,w,g),o365PersonalLinkStatus:hi(a,w,g),o365Status:hi(s,w,g),slackLinkStatus:hi(f,w,C),githubLinkStatus:hi(p,w,100),loadTest:hi(!0,w,b)==="true",showWorkspaceSettings:O}});function hi(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function QMe(e){const n=ZMe(e)%100;return Math.abs(n)}function ZMe(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const eDe=new Map;function _Ve(){const e=re(),{confluenceLinkStatus:t,gdriveLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:i,o365BusinessLinkStatus:s,o365PersonalLinkStatus:o,slackLinkStatus:a}=vN(e);return yN(n,s,o,t,r,i,a)}function vVe(){const e=re(),{gdriveStatus:t,o365Status:n}=vN(e);return yN(t,n,n)}function tDe(){const e=re(),{gdriveStatus:t,o365Status:n,confluenceLinkStatus:r,jiraLinkStatus:i,notionLinkStatus:s,slackLinkStatus:o,githubLinkStatus:a}=vN(e);return yN(t,n,n,a,r,i,s,o)}function yN(e,t,n,r=null,i=null,s=null,o=null,a=null){var me,Ce,J,K,ne,X,ee;const c=re(),l=at(c),u=l==null?void 0:l.getWorkspaceId(),d=[xe.GDRIVE,xe.O365_PERSONAL,xe.O365_BUSINESS,...i==="true"||i==="ifConnected"?[xe.CONFLUENCE]:[],...s==="true"||s==="ifConnected"?[xe.JIRA]:[],...o==="true"||o==="ifConnected"?[xe.NOTION_OPEN_CONNECTOR]:[],...a==="true"||a==="ifConnected"?[xe.SLACK_OPEN_CONNECTOR]:[]],{connectors:f,isLoading:h,error:p,refetch:m}=nDe(d),{data:g,isLoading:y,error:v,refetch:T}=dx(u),C=!u||((me=g==null?void 0:g.beta_settings)==null?void 0:me[xs.CONTEXT_CONNECTOR_CONFLUENCE]),b=!u||((Ce=g==null?void 0:g.beta_settings)==null?void 0:Ce[xs.CONTEXT_CONNECTOR_GDRIVE]),O=!u||((J=g==null?void 0:g.beta_settings)==null?void 0:J[xs.CONTEXT_CONNECTOR_JIRA]),w=!u||((K=g==null?void 0:g.beta_settings)==null?void 0:K[xs.CONTEXT_CONNECTOR_NOTION]),A=!u||((ne=g==null?void 0:g.beta_settings)==null?void 0:ne[xs.CONTEXT_CONNECTOR_O365_PERSONAL]),x=!u||((X=g==null?void 0:g.beta_settings)==null?void 0:X[xs.CONTEXT_CONNECTOR_O365_BUSINESS]),N=!u||((ee=g==null?void 0:g.beta_settings)==null?void 0:ee[xs.CONTEXT_CONNECTOR_SLACK]),R=f.get(xe.CONFLUENCE),L=f.get(xe.GDRIVE),D=f.get(xe.JIRA),F=f.get(xe.NOTION_OPEN_CONNECTOR),G=f.get(xe.O365_PERSONAL),z=f.get(xe.O365_BUSINESS),V=f.get(xe.SLACK_OPEN_CONNECTOR),M=(ve,ue)=>ve==="true"||ve==="ifConnected"&&ue,te=E.useMemo(()=>{var Qe;const ve=!!i&&M(i,!!(R!=null&&R.access_token)),ue=!!(L!=null&&L.access_token),oe=M(e,ue),be=!!s&&M(s,!!(D!=null&&D.access_token)),Ae=!!o&&M(o,!!(F!=null&&F.access_token)),He=!!((Qe=G==null?void 0:G.access_token)!=null?Qe:z!=null&&z.access_token),Ne=M(t,He),ge=M(n,He),he=!!a&&M(a,!!(V!=null&&V.access_token)),j=[ve&&R&&C?[xe.CONFLUENCE,R]:null,oe&&L&&b?[xe.GDRIVE,L]:null,be&&D&&O?[xe.JIRA,D]:null,Ae&&F&&w?[xe.NOTION_OPEN_CONNECTOR,F]:null,ge&&G&&A?[xe.O365_PERSONAL,G]:null,Ne&&z&&x?[xe.O365_BUSINESS,z]:null,he&&V&&N?[xe.SLACK_OPEN_CONNECTOR,V]:null];return new Map(ox(j))},[R,i,L,e,D,s,F,o,z,V,t,G,n,C,a,b,w,O,A,x,N]);let $=null,se=m;return p?($=p,se=m):v&&($=v,se=T),{connectorConfig:te,isLoading:h||y,error:$,refetch:se}}function nDe(e){const t=re(),n=!St(t),{data:r,isLoading:i,error:s,refetch:o}=Yt({queryKey:["fetchConnectorData",e],queryFn:rDe,refetchInterval:1800*1e3,enabled:!n});return{connectors:E.useMemo(()=>!r||!r.length||s?eDe:new Map(r.map(c=>[c.type,c])),[r,s]),isLoading:i,error:s,refetch:o}}async function rDe({queryKey:e}){const[t,n]=e;let r=null;try{r=await Z.safeGet("/connectors/check",{parameters:{query:{connector_names:n}}})}catch(s){throw Q.addAction("Server Error while retrieving context connector entry",{cause:s}),s}return!r||!r.connectors?[]:r.connectors.map(s=>{var u;const l=s,{type:o}=l,a=W(l,["type"]),c=o;if(a.access_token){if(c===xe.O365_PERSONAL)return I(S({type:c},a),{onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}});if(c===xe.O365_BUSINESS){const d=(u=a.onedrive_business_metadata)==null?void 0:u.base_url;if(d){const f=new URL(d);return I(S({type:c},a),{onedrive_endpoint_hint:{type:"business",baseUrl:d,parsedUrl:"https://".concat(f.hostname,"/_layouts/15/FilePicker.aspx")}})}}}return S({type:c},a)})}const yVe="ChatGPT",bVe="Untitled",CVe=10,iDe=50,sDe=300,oDe=8e3,EVe=12,SVe=300;function aDe(e){return e.resource!==void 0}const Vn={Private:"private",Email:"email",User:"user",Group:"group",WorkspaceLink:"workspace_link",Link:"link"};function OVe(e){return e.type===Bt.EMAIL||e.type===Bt.USER||e.type===Bt.GROUP}function cDe(e){var t,n,r,i,s,o,a,c,l;return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:(t=e.gizmo.display.description)!=null?t:"",emoji:(n=e.gizmo.display.emoji)!=null?n:void 0,theme:(r=e.gizmo.display.theme)!=null?r:void 0,profilePictureId:(i=e.gizmo.display.profile_pic_id)!=null?i:void 0,profilePictureUrl:(s=e.gizmo.display.profile_picture_url)!=null?s:void 0,promptStarters:(o=e.gizmo.display.prompt_starters)!=null?o:[],tools:T1(e.tools),files:T1(e.files),sharing:lDe(e.gizmo.sharing),trainingDisabled:(a=e.gizmo.training_disabled)!=null?a:!1,memoryScope:(c=e.gizmo.memory_scope)!=null?c:OV.UNSET,sharingTargets:e.gizmo.sharing_targets.map(dDe),liveVersion:(l=e.gizmo.live_version)!=null?l:0,contextStuffingBudget:e.gizmo.context_stuffing_budget}}function lDe(e){return{subjects:e.subjects.map(t=>{var n;switch(t.type){case Bt.EMAIL:return{type:t.type,user_email:t.user_email,capabilities:t.capabilities};case Bt.USER:return{type:t.type,user_id:t.user_id,capabilities:t.capabilities,user_name:t.user_name,user_email:t.user_email,avatar_url:(n=t.avatar_url)!=null?n:null};case Bt.GROUP:return{type:t.type,group_id:t.group_id,group_name:t.group_name,capabilities:t.capabilities};case Bt.WORKSPACE:return{type:t.type,capabilities:t.capabilities};case Bt.ALL:return{type:t.type,capabilities:t.capabilities}}throw new Error("Unknown subject type")}),recipient:uDe(e.recipient)}}function uDe(e){switch(e){case mt.Group:return Vn.Group;case mt.Link:return Vn.Link;case mt.Marketplace:throw new Error("Marketplace sharing not supported for projects");case mt.Private:return Vn.Private;case mt.User:return Vn.User;case mt.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case mt.WorkspaceLink:return Vn.WorkspaceLink}}function dDe(e){switch(e.recipient){case mt.Group:return{recipient:Vn.Group,allowed:e.allowed,moderated_fields:e.moderated_fields};case mt.Link:return{recipient:Vn.Link,allowed:e.allowed,moderated_fields:e.moderated_fields};case mt.Marketplace:throw new Error("Marketplace sharing not supported for projects");case mt.Private:return{recipient:Vn.Private,allowed:e.allowed,moderated_fields:e.moderated_fields};case mt.User:return{recipient:Vn.User,allowed:e.allowed,moderated_fields:e.moderated_fields};case mt.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case mt.WorkspaceLink:return{recipient:Vn.WorkspaceLink,allowed:e.allowed,moderated_fields:e.moderated_fields}}}const L4=[Bt.EMAIL,Bt.USER,Bt.GROUP,Bt.WORKSPACE,Bt.ALL];function TVe(e){return e.length===0?null:e.reduce((t,n)=>L4.indexOf(n.type)<L4.indexOf(t.type)?t:n,e[0])}function wVe(e,t){if(t==null)return e;function n(r){return typeof r=="object"&&r!=null?Array.isArray(r)?r.map(n):Object.fromEntries(Object.entries(r).map(([i,s])=>[i,n(s)])):r===null?void 0:r}return t=n(t),S(S({},e),t)}var fDe=(e=>(e[e.Loading=0]="Loading",e[e.UploadingProfilePic=1]="UploadingProfilePic",e[e.GeneratingProfilePic=2]="GeneratingProfilePic",e[e.GizmoNameTooLong=3]="GizmoNameTooLong",e[e.GizmoDescriptionTooLong=4]="GizmoDescriptionTooLong",e[e.GizmoInstructionsTooLong=5]="GizmoInstructionsTooLong",e[e.NameEmpty=6]="NameEmpty",e[e.MissingPublicActionPrivacyPolicyURL=7]="MissingPublicActionPrivacyPolicyURL",e[e.MissingCategory=8]="MissingCategory",e))(fDe||{});function AVe(e){switch(e){case 0:return"Loading";case 1:return"Uploading profile picture";case 2:return"Generating profile picture";case 3:return"GPT name too long";case 4:return"GPT description too long";case 5:return"GPT instructions too long";case 6:return"GPT name cannot be empty";case 7:return"Public actions require valid privacy policy URLs";case 8:return"Public GPTs must have a category"}}function hDe(e){return e==="link"||e==="marketplace"}function pDe(e){try{return new URL(e),!0}catch(t){return!1}}function xVe(e,t,n){var a,c,l,u,d,f;const r=e.name.length>iDe,i=((c=(a=e.description)==null?void 0:a.length)!=null?c:0)>sDe,s=((u=(l=e.instructions)==null?void 0:l.length)!=null?u:0)>oDe,o=[];if((e==null?void 0:e.name)===""&&o.push(6),r&&o.push(3),i&&o.push(4),s&&o.push(5),t!=null&&hDe(t)){const h=(d=e.tools)==null?void 0:d.filter(p=>p.type===Qg.JIT_PLUGIN);for(const p of h){const m=(f=p.metadata)==null?void 0:f.privacy_policy_url;if(m==null||!pDe(m)){o.push(7);break}}}return t===mt.Marketplace&&n==null&&o.push(8),o}const IVe={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:mt.Private,subjects:[]},tools:[{type:Qg.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},mDe={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:Vn.Private,subjects:[]},tools:[{type:Qg.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},NVe=Tt({instructionsWarning:{id:"gizmo.instructionsWarning",defaultMessage:"Conversations with your GPT can potentially include part or all of the instructions provided."}}),cw=5,Oc="snorlaxConversations";var aB;const RVe=ro.div(aB||(aB=Hi(["text-sm text-red-500"]))),gDe=5,_De=25,vDe=40,yDe=e=>{switch(e){case Te.FREE:return gDe;case Te.GO:case Te.PLUS:case Te.EDUCATION_CBP:case Te.QUORUM:case Te.DEPRECATED_EDU:case Te.K12:return _De;case Te.DEPRECATED_ENTERPRISE:case Te.PRO:case Te.SELF_SERVE_BUSINESS:case Te.ENTERPRISE_CBP:return vDe}};function PVe({accountPlanType:e,numFiles:t}){return!e||![Te.FREE,Te.GO,Te.PLUS].includes(e)?!1:t>=yDe(e)}const bDe=5,Ag=new Set;class ju{static upsert(t){return Z.safePost("/gizmos/snorlax/upsert",{requestBody:t})}static addHealthGoals(t,n){return Z.safePost("/gizmos/snorlax/{gizmo_id}/health-goals",{parameters:{path:{gizmo_id:t}},requestBody:{health_goals:n}})}static getSnorlaxSidebar(t=null){return Ze.get("".concat(Je,"/gizmos/snorlax/sidebar"),{params:I(S({},t?{cursor:t}:{}),{conversations_per_gizmo:"0",owned_only:"true",limit:"".concat(cw)})})}static async getSnorlaxHistory(t=null){const n=[];let r=t,i=0;for(;i<15;){i++;const s=await Ze.get("".concat(Je,"/gizmos/snorlax/sidebar"),{params:S({conversations_per_gizmo:"".concat(bDe),owned_only:"true"},r?{cursor:r}:{})});if(n.push(...s.items),r=s.cursor,n.length>cw||!r)break;i===5&&Xn.count(Wn.DEFAULT,"projects.history.empty.load_more_5"),i===10&&Xn.count(Wn.DEFAULT,"projects.history.empty.load_more_10")}return r&&n.length===0&&Xn.count(Wn.DEFAULT,"projects.history.empty.load_more_15"),{items:n,cursor:r}}static async fetchSnorlaxHistory(t=null,n){const r=await this.getSnorlaxHistory(t);Q.addFirstTiming("load.snorlaxHistory");const{items:i}=r;i.forEach(o=>{const a=o.gizmo.gizmo.id;n.setQueryData(yn(n,a).queryKey,c=>{if(!c)return o.gizmo}),n.setQueryData([Oc,{gizmoId:a}],c=>{if(!c)return Ag.add(a),{pages:[o.conversations],pageParams:[]}})});const s=i.map(o=>({gizmo:o.gizmo}));return I(S({},r),{items:s})}static delete(t){return Z.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}})}static join(t){return Z.safePost("/gizmos/snorlax/join",{parameters:{query:{gizmo_id:t}}})}static leave(t){return Z.safePost("/gizmos/snorlax/leave",{requestBody:t})}}const bN=Tt({newChatInProject:{id:"proj-new-chat-placeholder",defaultMessage:"New chat in {projectName}"},emptyFileInstructions:{id:"si7jJz",defaultMessage:"Add documents, code files, images, and more. {gizmoNameText} can access their contents when you chat inside the project."},emptyFileGizmoName:{id:"xr5T2P",defaultMessage:"{gizmoName}"},moveConversationToProject:{id:"M97tb/",defaultMessage:"Move to project"},moveConversationToNamedProject:{id:"OA1Ljx",defaultMessage:"Move to {projectName}"},removeConversationFromProject:{id:"xSI3aZ",defaultMessage:"Remove from {projectName}"},moveConversation:{id:"GM4pWN",defaultMessage:"Move this conversation"},moveConversationToProjectError:{id:"mA7nfR",defaultMessage:"Failed to move the conversation to the project"},newProjectButton:{id:"2qkMU1",defaultMessage:"New project"},newProjectButtonWithNoProjects:{id:"nL/Xy7",defaultMessage:"Projects"},nameTooLong:{id:"feWA6K",defaultMessage:"Project names cannot be longer than {length} characters."},createProjectDisabledByAdmin:{id:"WosQBt",defaultMessage:"Create project is disabled by your admin"},createProjectSubmit:{id:"AHBOEO",defaultMessage:"Create project"},createProjectCancel:{id:"DxU9sm",defaultMessage:"Cancel"},projectNameLabel:{id:"aBtY0G",defaultMessage:"Project name"},projectNameDescription:{id:"NQrF3x",defaultMessage:"Give your project a name"},projectNamePlaceholder:{id:"XS7JR8",defaultMessage:"E.g. Birthday Party Planning"},newChatProjectDropdownItem:{id:"MutDla",defaultMessage:"New chat in {name}"},cancel:{id:"iz2OBQ",defaultMessage:"Cancel"},save:{id:"gTdsTU",defaultMessage:"Save"},removeFile:{id:"COAUqx",defaultMessage:"Remove file"},customInstructionsTitle:{id:"K7k/ns",defaultMessage:"Add instructions"},customInstructionsReadOnlyTitle:{id:"DC+Brl",defaultMessage:"Instructions not yet added"},customInstructionsDescription:{id:"mpKjkc",defaultMessage:"Tailor the way ChatGPT responds in this project"},customInstructionsReadOnlyDescription:{id:"lTa/PV",defaultMessage:"When a project owner or editor adds instructions, ChatGPT will tailor its responses"},filesCount:{id:"XKCsL9",defaultMessage:"{count} {count, plural, one {file} other {files}}"},interpreterOnlyLabel:{id:"/Bdw7C",defaultMessage:"File contents may not be accessible"},defaultColor:{id:"1nrbk9",defaultMessage:"Default color"},editColor:{id:"2r5j3V",defaultMessage:"Edit color"},editCustomInstructionsTitle:{id:"nedukh",defaultMessage:"Instructions"},editCustomInstructionsSubtitle:{id:"NgP+hF",defaultMessage:"How can ChatGPT best help you with this project?"},readOnlyCustomInstructionsTitle:{id:"kK/uLW",defaultMessage:"Custom instructions for ChatGPT to best help with this project"},editCustomInstructionsDescription:{id:"PNY7g9",defaultMessage:"You can ask ChatGPT to focus on certain topics, or ask it to use a certain tone or format for responses."},addInstructionsDropdownLabel:{id:"ArKRrM",defaultMessage:"Add instructions"},editInstructionsDropdownLabel:{id:"p3KE0Q",defaultMessage:"Edit instructions"},viewOnlyInstructionsDropdownLabel:{id:"wAT0FX",defaultMessage:"View instructions"},viewOnlyCustomInstructionsModalHeaderLabel:{id:"Kd53xN",defaultMessage:"View-only"},viewOnlyCustomInstructionsModalHeaderTooltip:{id:"hN4/oD",defaultMessage:"You can only chat in this project."},searchingProjectFiles:{id:"dZazsY",defaultMessage:"Searching project files"},addAction:{id:"vTkTuN",defaultMessage:"Add Action"},editActions:{id:"Lx3frs",defaultMessage:"Edit Actions"},addCustomInstructions:{id:"rEdrLS",defaultMessage:"Add custom instructions"},instructionsTooLong:{id:"hwBx62",defaultMessage:"Project instructions cannot be longer than {length} characters."},dragInstructions:{id:"yA3Jxu",defaultMessage:"Add anything"},dragAllAccepted:{id:"CJNN+O",defaultMessage:"Drop any file here to add it to the project"},dragTooManyFiles:{id:"O2Xr4P",defaultMessage:"Too many files"},unknownError:{id:"Eu2Hdz",defaultMessage:"Unknown error occurred"},dragTooManyFilesError:{id:"FJ8M/t",defaultMessage:"Error uploading: Projects can't contain more than {maxFileLimit} files"},dragTooManyFilesDescription:{id:"ZFLPRQ",defaultMessage:"Projects can't contain more than {maxFileLimit} files"},addFilesToProject:{id:"yMVX4l",defaultMessage:"Add files"},filesThatCanBeReferenced:{id:"0mQnwH",defaultMessage:"Add documents, code files, images, and more. {projectName} can access their contents when you chat inside the project."},projectFilesModalTitle:{id:"o6Ozbv",defaultMessage:"Project files"},addFilesButtonLabel:{id:"yMVX4l",defaultMessage:"Add files"},viewFilesButtonLabel:{id:"2lu9im",defaultMessage:"Files not yet added"},filesControlDescription:{id:"Y/Z2lM",defaultMessage:"Chats in this project can access file content"},projectCopyInProgressBanner:{id:"R1WXsJ",defaultMessage:"Your chats are still being copied and will appear here shortly."},noFilesReadOnlyDescription:{id:"HNxajn",defaultMessage:"When a project owner or editor adds files to this project, chats can access their contents"},projectDetailsSectionLabel:{id:"9y2Kag",defaultMessage:"Details"},hideProjectDetailsTooltip:{id:"Ar0X7X",defaultMessage:"Hide project details"},showProjectDetailsTooltip:{id:"a8ust8",defaultMessage:"Show project details"},showProjectDetailsButton:{id:"ni4Lkt",defaultMessage:"Show project details"},projectsHeading:{id:"GHFgIA",defaultMessage:"Projects"},seeMoreProjectItems:{id:"znMnZ9",defaultMessage:"See more"},emptyChatsInProjectTitle:{id:"BzycLE",defaultMessage:"Start a new chat, or drag an old one in"},chatsInProjectTitle:{id:"jgAOuP",defaultMessage:"Chats in this project"},projectSettingsSubmitButton:{id:"TayvQF",defaultMessage:"Save"},loadingProjects:{id:"oKi2Bo",defaultMessage:"Loading projects"},seeAllChats:{id:"PwRmke",defaultMessage:"See All"},newChatTitle:{id:"m3Az3N",defaultMessage:"New chat"},unableToLoadHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingHistory:{id:"IoImQ5",defaultMessage:"Retry"},showProjectDetailsDropdown:{id:"LUjGtd",defaultMessage:"Show project details"},deleteProjectModalTitle:{id:"pPgHKT",defaultMessage:"Delete project?"},deleteProjectModalButton:{id:"w2DKG5",defaultMessage:"Delete"},cancelDeleteProjectModalButton:{id:"E7RoUe",defaultMessage:"Cancel"},deleteProjectModalDescription:{id:"Vl4p9p",defaultMessage:"<bold>This will permanently delete all project files and chats.</bold> To save chats, move them to your chat list or another project before deleting."},deleteProjectDropdownButton:{id:"dD0vWg",defaultMessage:"Delete project"},deleteProjectFailedToast:{id:"KAw2h3",defaultMessage:"Failed to delete project. Please try again."},leaveProjectDropdownButton:{id:"FCEK0r",defaultMessage:"Leave project"},reportProjectButtonLabel:{id:"snorlax.project.reportButton",defaultMessage:"Report project"},leaveProjectModalTitle:{id:"VTNOvq",defaultMessage:"Leave {projectName}?"},leaveProjectModalButton:{id:"YZjX2E",defaultMessage:"Leave"},cancelLeaveProjectModalButton:{id:"56ATCt",defaultMessage:"Cancel"},leaveProjectModalDescription:{id:"80hv7n",defaultMessage:"<bold>You'll lose access to all project content, including your chats.</bold> To keep your chats, save a copy by checking the box below or move them to your chat list or another project before leaving."},leaveProjectSaveCopyLabel:{id:"emsuo1",defaultMessage:"Save a copy of my chats"},leaveProjectSaveCopyDescription:{id:"iwhK/O",defaultMessage:"A copy of this project will be made with only your chats. This can take a few minutes."},leaveProjectFailedToast:{id:"w6BO+i",defaultMessage:"Failed to leave project. Please try again."},projectInstructionsPlaceholder:{id:"w/NZvS",defaultMessage:"e.g. â€œRespond in Spanish. Reference the latest JavaScript documentation. Keep answers short and focused.â€"},newProjectButtonTooltip:{id:"oh2NTp",defaultMessage:"New project"},editProjectNameDropdownButton:{defaultMessage:"Rename project",id:"snorlax.edit-actions.rename-project"},hideChatsForProjectTooltip:{id:"ZjBLTY",defaultMessage:"Hide chats"},projectHelperBoxTitle:{id:"QIriII",defaultMessage:"What's a project?"},projectHelperBoxDescription:{id:"QEsg2b",defaultMessage:"Projects keep chats, files, and custom instructions in one place. Use them for ongoing work, or just to keep things tidy."},projectsNuxTooltipTitle:{id:"Ub7Cl2",defaultMessage:"Introducing projects"},projectsUpdateTooltipTitle:{id:"OyZXt4",defaultMessage:"Projects can do more"},projectsToFreeTitle:{id:"mWKZ6S",defaultMessage:"New"},projectsNuxTooltipDescription:{id:"aLohnf",defaultMessage:"Keep chats, files, and custom instructions all in one place. Ideal for organizing work or shaping big ideas."},projectsUpdateTooltipDescription:{id:"ZzivYc",defaultMessage:"Now you can run deep research and use voice mode within your projects."},projectShareButton:{id:"Sc1ypd",defaultMessage:"Share"},firstPartyProjectShareForbidden:{id:"ABFn5a",defaultMessage:"Default projects cannot be shared."},projectShareTitle:{id:"lYXaUt",defaultMessage:"Share this project"},projectShareChatTitle:{id:"YgsrLO",defaultMessage:"Share link to chat"},shareProjectExternalInviteNonMemberTooltip:{id:"snorlax.shareProjectExternalInviteNonMemberTooltip",defaultMessage:"This user is not a member of this workspace"},shareProjectExternalInviteBlockedTooltip:{id:"snorlax.shareProjectExternalInviteBlockedTooltip",defaultMessage:"You can't invite this email"},shareProjectPermissionCanEdit:{id:"snorlax.shareProjectPermissionCanEdit",defaultMessage:"Can edit"},shareProjectPermissionCanChat:{id:"snorlax.shareProjectPermissionCanChat",defaultMessage:"Can chat"},shareProjectPermissionUnknown:{id:"snorlax.shareProjectPermissionUnknown",defaultMessage:"Unknown"},shareProjectPermissionEditDescription:{id:"snorlax.shareProjectPermissionEditDescription",defaultMessage:"Chat and edit project content"},shareProjectPermissionViewDescription:{id:"snorlax.shareProjectPermissionViewDescription",defaultMessage:"Chat and view project content"},shareProjectGroupMembersCount:{id:"snorlax.shareProjectGroupMembersCount",defaultMessage:"{numMembers, plural, one {1 member} other {# members}}"},shareProjectSearchPeopleOrGroups:{id:"snorlax.shareProjectSearchPeopleOrGroups",defaultMessage:"Search people or groups"},shareProjectSearchPeopleGroupsOrEmail:{id:"snorlax.shareProjectSearchPeopleGroupsOrEmail",defaultMessage:"Search people, groups, or enter an email"},shareProjectInviteEmailOption:{id:"snorlax.shareProjectInviteEmailOption",defaultMessage:'Invite "{email}"'},shareProjectInviteEmailPressEnter:{id:"snorlax.shareProjectInviteEmailPressEnter",defaultMessage:"Press enter to invite this email"},shareProjectEnterEmailNoOptions:{id:"snorlax.shareProjectEnterEmailNoOptions",defaultMessage:"Enter an email to invite people outside of your workspace"},shareProjectMemberAlreadyAdded:{id:"snorlax.shareProjectMemberAlreadyAdded",defaultMessage:"That person is already added"},shareOutsideWorkspaceTitle:{id:"snorlax.shareOutsideWorkspaceTitle",defaultMessage:"Invite users to workspace?"},shareOutsideWorkspaceSummarySingle:{id:"snorlax.shareOutsideWorkspaceSummarySingle",defaultMessage:"{invitee} isnâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceSummaryMultiple:{id:"snorlax.shareOutsideWorkspaceSummaryMultiple",defaultMessage:"{firstInvitee} and {others} arenâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceSummaryFallback:{id:"snorlax.shareOutsideWorkspaceSummaryFallback",defaultMessage:"{inviteeGroup} arenâ€™t in this workspace yet. Theyâ€™ll need to join before they can join this project."},shareOutsideWorkspaceDefaultSummarySubject:{id:"snorlax.shareOutsideWorkspaceDefaultSummarySubject",defaultMessage:"These users"},shareOutsideWorkspaceInviteAfter:{id:"snorlax.shareOutsideWorkspaceInviteAfter",defaultMessage:"You can invite them to this project after they are added."},shareOutsideWorkspaceOthersLabel:{id:"snorlax.shareOutsideWorkspaceOthersLabel",defaultMessage:"{count, plural, one {# other} other {# others}}"},shareOutsideWorkspaceSendButton:{id:"snorlax.shareOutsideWorkspaceSendButton",defaultMessage:"{count, plural, one {Send workspace invite} other {Send workspace invites}}"},shareOutsideWorkspaceCancelButton:{id:"snorlax.shareOutsideWorkspaceCancelButton",defaultMessage:"Cancel"},shareOutsideWorkspaceSuccessTitle:{id:"snorlax.shareOutsideWorkspaceSuccessTitle",defaultMessage:"Invite sent"},shareOutsideWorkspaceSuccessBody:{id:"snorlax.shareOutsideWorkspaceSuccessBody",defaultMessage:"{count, plural, one {You have successfully invited <bold># user</bold> to {workspaceName}. You can invite them to this project after they join.} other {You have successfully invited <bold># users</bold> to {workspaceName}. You can invite them to this project after they join.}}"},shareOutsideWorkspaceSuccessButton:{id:"snorlax.shareOutsideWorkspaceSuccessButton",defaultMessage:"Done"},shareOutsideWorkspaceErrorTitle:{id:"snorlax.shareOutsideWorkspaceErrorTitle",defaultMessage:"Invite failed"},shareOutsideWorkspaceErrorBody:{id:"snorlax.shareOutsideWorkspaceErrorBody",defaultMessage:"There was an error inviting members to your workspace. Try again later."},shareProjectEmailPlaceholder:{id:"snorlax.shareProjectEmailPlaceholder",defaultMessage:"Email, separated by commas"},showChatsForProjectTooltip:{id:"FcBR2j",defaultMessage:"Show chats"},projectFileRateLimitBannerTitle:{id:"ghJIms",defaultMessage:"File limit reached"},projectFileRateLimitBannerPlusDescription:{id:"WOJ2H5",defaultMessage:"You can add up to {freeFileLimit} files on the free plan. Upgrade to plus to add {paidFileLimit} files."},projectFileRateLimitBannerProDescription:{id:"jXcJWN",defaultMessage:"You can add up to {paidFileLimit} files on the {planType} plan. Upgrade to pro to add {proFileLimit} files."},upgradeToPlus:{id:"ZO/XN9",defaultMessage:"Upgrade plan"},projectJoinModalWithCreatorTitle:{id:"q1fGPT",defaultMessage:"{projectCreator} invited you to join the project"},projectJoinModalWithoutCreatorTitle:{id:"j9rPp1",defaultMessage:"You've been invited to join the project"},membersCount:{id:"seSpmx",defaultMessage:"{count} {count, plural, one {member} other {members}}"},joinProjectButtonLabel:{id:"71Z5aG",defaultMessage:"Join project"}}),CDe="starredConversations",cY=R7(()=>Oe(null));function kVe(e){return cY(e)()}function EDe(e,t){const n=cY(e);SDe(Qt(()=>n()),t)&&n.set(t)}function SDe(e,t){return!((e==null?void 0:e.value)===RT.REALTIME&&(t==null?void 0:t.value)===RT.STREAMING)}const ODe="disable_history",MVe="user_latency_tools",DVe="mfa",LVe="chatgpt_allow_workspace_instruction",jVe="chatgpt_allow_workspace_policy",FVe="workspace_ip_allowlist";var TDe=(e=>(e.BrowsingAvailable="browsing_available",e.Sunshine="sunshine_available",e.WorkspaceGPTCustomActions="workspace_gpt_custom_actions",e.WorkspaceShareLinks="workspace_share_links",e.GizmoSupportEmails="gizmo_support_emails",e.D3Editor="d3_editor",e.D3EditorAllGpts="d3_editor_gpts",e.DataAnalysisV2="graphite",e.ChartSerialization="chart_serialization",e.SearchTool="search_tool",e.SearchToolHoldout="search_tool_holdout",e.MemoryInSearch="memory_in_search",e.Canvas="canvas",e.CanvasCodeExecution="canvas_code_execution",e.CanvasCodeNetworkAccess="canvas_code_network_access",e.DisableWritingBlockRendering="disable_writing_block_rendering",e.GizmoCanvasToggle="gizmo_canvas_toggle",e.Moonshine="moonshine",e.VideoScreenSharing="video_screen_sharing",e.DeepResearch="caterpillar",e.AllowVoiceUse="breeze_available",e.ImageGenToggle="image_gen_toggle",e.EditInCanvas="edit_in_canvas",e.MagicEditEnabled="magic_edit_enabled",e))(TDe||{});const wDe=28,CN="conversationHistory",j4="conversation-history",ADe=1,EN=ut(()=>Oe([]));function UVe(e,t,n){if(!$e(e,"1753085879"))return;EN(e).set(i=>{const s=i.findIndex(o=>o.conversationId===t);if(s!==-1){const o=i.slice();return o[s]=I(S({},o[s]),{title:n}),o}return[{conversationId:t,title:n},...i]})}function lY(){return hB({queryKey:[CN],queryFn:async({pageParam:e})=>{const t=await Z.safeGet("/conversations",{parameters:{query:{offset:e,limit:wDe,order:"updated",is_archived:!1,is_starred:!1}},intercomEventOnError:"fetch-error:conversations:get",authOption:Xt.SendIfAvailable});return Q.addFirstTiming("load.conversationHistory"),F6(()=>{const n=EN(At()),r=Qt(()=>n());for(const i of t.items){if(i.async_status!=null){const s=mx(At(),i.id);EDe(s,{source:sG.SERVER,value:i.async_status})}r.some(s=>s.conversationId===i.id)&&n.set(s=>s.filter(o=>o.conversationId!==i.id))}}),t},initialPageParam:0,getNextPageParam:e=>{var n,r,i;const t=((n=e.offset)!=null?n:0)+((r=e.limit)!=null?r:0);return t<((i=e.total)!=null?i:0)?t:void 0}})}function BVe(){"use forget";var F,G;const e=Y.c(28),t=whe();let n;e[0]!==t?(n=(F=t==null?void 0:t.includes(ODe))!=null?F:!1,e[0]=t,e[1]=n):n=e[1];const r=n,i=re();let s;e[2]!==i?(s=at(i),e[2]=i,e[3]=s):s=e[3];const a=!r&&!!s,c=zI();let l;e[4]!==i?(l=()=>EN(i)(),e[4]=i,e[5]=l):l=e[5];const u=Ue(l),d=c;let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=[CN],e[6]=f):f=e[6];const h=Q_(j4,ADe,f);let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=lY(),e[7]=p):p=e[7];const m=d?"always":!0,g=d?"always":!0;let y;e[8]!==a||e[9]!==h||e[10]!==m||e[11]!==g?(y=I(S({},p),{enabled:a,refetchOnReconnect:m,refetchOnWindowFocus:g,placeholderData:h}),e[8]=a,e[9]=h,e[10]=m,e[11]=g,e[12]=y):y=e[12];const{data:v,fetchNextPage:T,hasNextPage:C,isLoading:b,isFetchingNextPage:O,isError:w,refetch:A}=ta(y);let x,N;e[13]!==i||e[14]!==w?(x=()=>{w&&ebe(i,j4)},N=[w,i],e[13]=i,e[14]=w,e[15]=x,e[16]=N):(x=e[15],N=e[16]),E.useEffect(x,N);let R;if(e[17]!==(v==null?void 0:v.pages)||e[18]!==u){const z=(G=v==null?void 0:v.pages.flatMap(IDe))!=null?G:[];R=[...u.map(xDe).filter(M=>!z.some(te=>te.id===M.id)),...z],e[17]=v==null?void 0:v.pages,e[18]=u,e[19]=R}else R=e[19];const L=R;let D;return e[20]!==L||e[21]!==T||e[22]!==C||e[23]!==w||e[24]!==O||e[25]!==b||e[26]!==A?(D={conversations:L,fetchNextPage:T,hasNextPage:C,refetch:A,isLoading:b,isFetchingNextPage:O,isError:w},e[20]=L,e[21]=T,e[22]=C,e[23]=w,e[24]=O,e[25]=b,e[26]=A,e[27]=D):D=e[27],D}function xDe(e){return{id:e.conversationId,title:e.title}}function IDe(e){return e.items}function NDe(e,t){e.invalidateQueries({queryKey:[CN]}),e.invalidateQueries({queryKey:[CDe]}),t?e.invalidateQueries({queryKey:[Oc,{gizmoId:t}]}):e.invalidateQueries({queryKey:[Oc]})}function GVe(e,t){t&&so(t)&&e.invalidateQueries({queryKey:[Oc,{gizmoId:t}]})}function WVe(e,t,n){on(e).setQueryData(lY().queryKey,r=>{if(r!==void 0){if(!Array.isArray(r.pages)){Q.addError("Bad conversation history",{pages:r.pages});return}return _i(r,i=>{for(const s of i.pages)for(const o of s.items)o.id===t&&(o.title=n)})}})}const lw="_tm",Hd="_m";var uY=(e=>(e.SHARE_NOT_FOUND="share_not_found",e.SHARED_POST_NOT_FOUND="shared_post_not_found",e.GIZMO_NOT_FOUND="gizmo_not_found",e.PROJECT_NOT_FOUND="project_not_found",e.NO_ACCESS="no_access",e.OAUTH_SUCCESS="oauth_success",e.OAUTH_FAILED_GENERIC="oauth_failed_generic",e.OAUTH_FAILED_SCOPE_MISMATCH="oauth_failed_scope_mismatch",e.OAUTH_FAILED_EMAIL_DOMAIN_ENFORCEMENT="oauth_failed_email_domain_enforcement",e.CUSTOM_ERROR="c_err",e.CUSTOM_MSG="c_msg",e.ACCOUNT_TRANSFER_ERROR="account_transfer_error",e.MFA_ENABLED="mfa_enabled",e.ENABLE_MFA_ERROR="enable_mfa_error",e.ENABLE_MFA_EMAIL_REQUIRED="enable_mfa_email_required",e.DISABLE_MFA_SUCCESS="disable_mfa_success",e.DISABLE_MFA_TIMEOUT="disable_mfa_timeout",e.CANVAS_NOT_FOUND="canvas_not_found",e))(uY||{});function RDe(e,t="/",n){const r=typeof window<"u",i=new URL(t,r?window.location.origin:window.location.origin);return i.searchParams.set(lw,e),(e==="c_err"||e==="c_msg")&&(n?i.searchParams.set(Hd,n):i.searchParams.set(Hd,"An error has occurred")),i.pathname+i.search+i.hash}function PDe(){const[e]=Tc(),{pathname:t,hash:n}=zt(),r=Zs(),i=gt(),s=En();E.useEffect(()=>{const o=e.get(lw);if(o!==void 0){const a=(c,l,u,d,f)=>{const h=typeof c=="string"?c:i.formatMessage(c);s[d](h,{id:l,duration:u,hasCloseButton:f});const p=new URLSearchParams(e);p.delete(lw),p.delete(Hd),r({search:"?".concat(p.toString()),hash:n},{replace:!0})};switch(o){case"share_not_found":Q.addAction("global_toast.conversation_inaccessible",{path:t}),a(yr.conversationInaccessible,"share_not_found",10,"warning",!0);break;case"shared_post_not_found":a(yr.sharedPostNotFound,"shared_post_not_found",10,"warning",!0);break;case"gizmo_not_found":a(yr.gizmoNotFound,"gizmo_not_found",10,"warning",!0);break;case"project_not_found":a(yr.projectNotFound,"project_not_found",10,"warning",!0);break;case"no_access":a(yr.noAccess,"no_access",5,"warning",!0);break;case"oauth_success":a(yr.oauthSuccess,"oauth_success",5,"success",!0);break;case"oauth_failed_generic":a(yr.oauthFailedGeneric,"oauth_failed_generic",5,"warning",!0);break;case"oauth_failed_scope_mismatch":a(yr.oauthFailedScopeMismatch,"oauth_failed_scope_mismatch",5,"warning",!0);break;case"oauth_failed_email_domain_enforcement":a(yr.oauthFailedEmailDomainEnforcement,"oauth_failed_email_domain_enforcement",5,"warning",!0);break;case"c_msg":a(e.get(Hd),"c_msg",10,"success",!0);break;case"c_err":a(e.get(Hd),"c_err",5,"warning",!0);break;case"account_transfer_error":a({id:"globalToasts.accountTransferError",defaultMessage:"Error transferring account. To retry, go to Settings â†’ Merge.",description:"Error when unable to transfer their personal account to the workspace"},"account_transfer_error",5,"warning",!0);break;case"mfa_enabled":a({id:"enableMfa.success",defaultMessage:"Multi-factor authentication enabled",description:"Confirmation toast after an MFA enable action is successfully executed"},"mfa_enabled",5,"success",!0);break;case"enable_mfa_error":a({id:"enrollMfa.failure",defaultMessage:"Error occurred. Please try again.",description:"Error toast after MFA token request failed"},"enable_mfa_error",5,"warning",!0);break;case"enable_mfa_email_required":a(yr.enableMfaEmailRequired,"enable_mfa_email_required",5,"warning",!0);break;case"disable_mfa_success":a(yr.disableMfaSuccess,"disable_mfa_success",5,"success",!0);break;case"disable_mfa_timeout":a(yr.disableMfaTimeout,"disable_mfa_timeout",5,"warning",!0);break;case"canvas_not_found":a(yr.canvasNotFound,"canvas_not_found",5,"warning",!1);break}}},[i,s,t,e,r,n])}const yr=Tt({conversationInaccessible:{id:"globalToasts.conversationInaccessible",defaultMessage:"Conversation inaccessible or not found. You may need to switch accounts or request access if this conversation exists."},sharedPostNotFound:{id:"globalToasts.sharedPostNotFound",defaultMessage:"This share is inaccessible or not found."},gizmoNotFound:{id:"globalToasts.gizmoNotFound",defaultMessage:"This GPT is inaccessible or not found. Ensure you're using the right account."},projectNotFound:{id:"globalToasts.projectNotFound",defaultMessage:"This project is inaccessible or not found. Ensure you're using the right account."},noAccess:{id:"globalToasts.noAccess",defaultMessage:"You do not currently have access to this feature"},oauthSuccess:{id:"globalToasts.oauthSuccess",defaultMessage:"Your account is now connected"},oauthFailedGeneric:{id:"globalToasts.oauthFailedGeneric",defaultMessage:"Something went wrong with setting up the connection"},oauthFailedScopeMismatch:{id:"globalToasts.oauthFailedScopeMismatch",defaultMessage:"Not all requested permissions were granted"},oauthFailedEmailDomainEnforcement:{id:"globalToasts.oauthFailedEmailDomainEnforcement",defaultMessage:"Your company has an enterprise workspace that manages connector access. Contact your enterprise admin to get access."},enableMfaEmailRequired:{id:"enableMfa.emailRequired",defaultMessage:"Add an email address to your account to set up multi-factor authentication."},disableMfaSuccess:{id:"disableMfa.success",defaultMessage:"Multi-factor authentication disabled"},disableMfaTimeout:{id:"disableMfa.timeout",defaultMessage:"Your last log in was too long ago, please try again"},canvasNotFound:{id:"canvasNotFound",defaultMessage:"This canvas is inaccessible or not found. Ensure you are logged in, verify youâ€™re in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."}}),wr="snorlax-history",zd="NEW_SNORLAX_KEY",kDe="snorlax-history",MDe=1,qVe=Ge(e=>Cn(e,()=>bn({queryKey:["snorlax","recent",{limit:cw}],queryFn:()=>ju.getSnorlaxSidebar(),enabled:$e(e,"491279851")})));function dY(e,t){return{mutationFn:async({update:n,id:r})=>{var w,A,x,N;if(!r)throw new Error("No gizmo ID found for upsert");let i,s;if(r===zd)i=mDe;else{if(s=t.getQueryData(yn(t,r,!1).queryKey),s||(s=await jt.getGizmo(r,!1)),!s)throw new Error("No existing gizmo resource found for upsert");i=cDe(s)}const o=typeof n=="function"?n(i):S(S({},i),n);if(NA(o,i))return{id:r};const{id:a,instructions:c,name:l,description:u,emoji:d,theme:f,profilePictureId:h,profilePictureUrl:p,promptStarters:m,files:g,sharing:y,trainingDisabled:v}=o;if(((A=(w=s==null?void 0:s.gizmo)==null?void 0:w.gizmo_snorlax_type)!=null?A:null)&&y.subjects.length>0)throw new Error(bN.firstPartyProjectShareForbidden.defaultMessage);if(a!==r&&r!==zd)throw new Error("Error updating project. ID mismatch");const C=(x=o.memoryScope)!=null?x:OV.UNSET,b={gizmo_id:r!==zd?r:void 0,instructions:c,display:{name:l,description:u,emoji:d,theme:f,profile_pic_id:h,profile_picture_url:p,prompt_starters:m},tools:[],memory_scope:C,files:g.map(R=>I(S({},R),{location:Ux.FILE_SERVICE})),training_disabled:v,sharing:[...y.subjects.some(R=>!vye(R))?[]:[{type:mt.Private,capabilities:TV}],...y.subjects.map(LDe)],categories:void 0},O=await ju.upsert(b);if(O.error)throw new wV;return{id:(N=O.resource)==null?void 0:N.gizmo.id,resource:O.resource}},scope:{id:"snorlax"},onSettled:n=>{n!=null&&n.resource&&(t.setQueryData(yn(t,n.resource.gizmo.id,!1).queryKey,n.resource),IV(e,n.resource)||t.setQueryData([wr],fY({gizmo:n.resource}))),vv(t)}}}function VVe(){const e=re(),t=ln();return un(dY(e,t))}function fY(e){const t={items:[e],cursor:null};return n=>n?I(S({},n),{pages:n.pages.map((r,i)=>i===0?I(S({},r),{items:[e,...r.items.filter(s=>s.gizmo.gizmo.id!==e.gizmo.gizmo.id)]}):I(S({},r),{items:r.items.filter(s=>s.gizmo.gizmo.id!==e.gizmo.gizmo.id)}))}):{pages:[t],pageParams:[]}}const DDe={[Bt.EMAIL]:Vn.Email,[Bt.USER]:Vn.User,[Bt.GROUP]:Vn.Group,[Bt.WORKSPACE]:Vn.WorkspaceLink,[Bt.ALL]:Vn.Link};function LDe(e){const t=DDe[e.type];if(!t)throw new Error("Unknown sharing subject type: "+e.type);return I(S({},e),{type:t})}function $Ve(e=null){const t=re(),n=NV(t),r=ln(),i=Q_(kDe,MDe,[wr]),{data:s,fetchNextPage:o,hasNextPage:a,isLoading:c,isFetchingNextPage:l,isError:u,refetch:d}=ta({queryKey:[wr],queryFn:async({pageParam:h})=>ju.fetchSnorlaxHistory(h,r),initialPageParam:e,getNextPageParam:h=>{var p;return(p=h.cursor)!=null?p:void 0},enabled:n,placeholderData:i});return{snorlaxes:E.useMemo(()=>{var h;return(h=s==null?void 0:s.pages.flatMap(p=>p.items))!=null?h:[]},[s]),data:s,fetchNextPage:o,hasNextPage:a,refetch:d,isLoading:c,isFetchingNextPage:l,isError:u}}function HVe(e){"use forget";const t=Y.c(4),n=ln();let r,i;t[0]!==e||t[1]!==n?(r=()=>{Ag.has(e)&&(n.invalidateQueries({queryKey:hY(e)}),Ag.delete(e))},i=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=i):(r=t[2],i=t[3]),E.useEffect(r,i)}function hY(e){return[Oc,{gizmoId:e}]}function pY(e){return hB({queryKey:hY(e),queryFn:async({pageParam:t})=>(Ag.delete(e),await jt.getProjectConversations(e,t)),enabled:so(e),initialPageParam:"0",getNextPageParam:t=>{var n;return(n=t.cursor)!=null?n:void 0}})}function zVe(e){const{data:t,fetchNextPage:n,hasNextPage:r,isLoading:i,isPending:s,isFetchingNextPage:o,isError:a,isFetching:c,refetch:l}=ta(pY(e));return{items:E.useMemo(()=>{var d;return(d=t==null?void 0:t.pages.flatMap(f=>f.items))!=null?d:[]},[t]),data:t,fetchNextPage:n,hasNextPage:r,refetch:l,isLoading:i,isPending:s,isFetching:c,isFetchingNextPage:o,isError:a}}function vv(e){e.invalidateQueries({queryKey:[wr]})}function mY(e){return t=>{var n;return t&&I(S({},t),{pages:(n=t==null?void 0:t.pages)==null?void 0:n.map(r=>I(S({},r),{items:r.items.filter(i=>i.gizmo.gizmo.id!==e)}))})}}function YVe(){const e=ln(),t=Zs();return un({mutationFn:async({gizmoId:n})=>(await ju.join(n),{gizmoId:n}),onError:n=>{const r=YJ(n);t(RDe(uY.CUSTOM_ERROR,void 0,r))},onSettled:async(n,r,{gizmoId:i})=>{vv(e),i&&await e.invalidateQueries({queryKey:yn(e,i,!1).queryKey,refetchType:"all"})}})}function KVe(){const e=ln(),t=En();return un({mutationFn:async({gizmoId:n})=>(await ju.delete(n),{gizmoId:n}),onMutate:async({gizmoId:n})=>{await e.cancelQueries({queryKey:yn(e,n,!1).queryKey}),await e.cancelQueries({queryKey:[wr]}),await e.cancelQueries({queryKey:[Oc,{gizmoId:n}]});const r=e.getQueryData([wr]);return e.setQueryData([wr],mY(n)),{prevProjectHistoryData:r}},onError:(n,r,i)=>{i!=null&&i.prevProjectHistoryData&&e.setQueryData([wr],i.prevProjectHistoryData),t.danger(bN.deleteProjectFailedToast,{toastId:"snorlax_deletion_modal_delete_project_failed",hasCloseButton:!0})},onSettled:n=>{const r=n==null?void 0:n.gizmoId;vv(e),NDe(e,r),r&&e.invalidateQueries({queryKey:yn(e,r,!1).queryKey})}})}function JVe(){const e=re(),t=ln(),n=En();return un({mutationFn:async({gizmoId:r,saveCopy:i})=>{const s=await ju.leave({gizmo_id:r,save_copy:i});return{gizmoId:r,resource:aDe(s)?s.resource:void 0}},onMutate:async({gizmoId:r})=>{await t.cancelQueries({queryKey:yn(t,r,!1).queryKey}),await t.cancelQueries({queryKey:[wr]}),await t.cancelQueries({queryKey:[Oc,{gizmoId:r}]});const i=t.getQueryData([wr]);return t.setQueryData([wr],mY(r)),{prevProjectHistoryData:i}},onError:(r,i,s)=>{s!=null&&s.prevProjectHistoryData&&t.setQueryData([wr],s.prevProjectHistoryData),n.danger(bN.leaveProjectFailedToast,{toastId:"snorlax_leave_modal_leave_project_failed",hasCloseButton:!0})},onSettled:r=>{r!=null&&r.resource&&(t.setQueryData(yn(t,r.resource.gizmo.id,!1).queryKey,r.resource),IV(e,r.resource)||t.setQueryData([wr],fY({gizmo:r.resource}))),vv(t)}})}const F4=new Map;function XVe(e){const t=F4.get(e);if(t)return t;const n=I8(jDe,2e3,{trailing:!0});return F4.set(e,n),n}async function jDe({projectId:e,upsertProjectMutation:t,pendingFileUpsertMutationsRef:n}){const r=[],i=o=>{const a=n.current;return a.forEach(({update:c})=>{o=c(o)}),r.push(...a),o};await t.mutateAsync({id:e,update:i}),r.forEach(({onSuccess:o})=>{o==null||o()});const s=r.map(({mutationId:o})=>o);n.current=n.current.filter(({mutationId:o})=>!s.includes(o))}const FDe=(e,t)=>{const n=Cee(e,()=>pY(t.id)),r=Oe(!1),i=Oe(!1),s=Ee(()=>n().hasNextPage&&!o()),o=Ee(()=>!i()&&(n().fetchStatus==="fetching"||r()||n().isFetchingNextPage)),a={awaitingManualRetry$:i,all$:Ee(()=>{var c,l;return(l=(c=n().data)==null?void 0:c.pages.flatMap(u=>u.items))!=null?l:null}),preload$:()=>{n().refetch()},canFetchMore$:Ee(()=>s()&&!o()&&!n().isFetchingNextPage&&!r()&&n().fetchStatus==="idle"&&!a.awaitingManualRetry$()),cursor$:Ee(()=>{var u;const c=n().data;if(!c||!Array.isArray(c.pages)||c.pages.length===0)return null;const l=c.pages[c.pages.length-1];return(u=l==null?void 0:l.cursor)!=null?u:null}),canShowConversations$:Ee(()=>{const c=a.all$();return!!(c&&c.length>0||o()||i())}),fetchMore$:()=>{r.set(!0),n().fetchNextPage(),setTimeout(()=>r.set(!1),1e3)},failureCount$:Ee(()=>n().failureCount),error$:Ee(()=>n().error),isFetchNextPageError$:Ee(()=>n().isFetchNextPageError),hasNextPage$:s,isLoading$:o};return Vo(()=>({isFetchNextPageError:a.isFetchNextPageError$(),failureCount:a.failureCount$()}),({isFetchNextPageError:c,failureCount:l})=>{c&&l>0&&a.awaitingManualRetry$.set(!0)}),a},Mh=ut(()=>Oe({}));function UDe(e,t){var s;const n=Mh(e),r=yv(n(),"theme",t.gizmo.id);let i;return r===void 0?i=(s=t.gizmo.display.theme)!=null?s:null:i=r,i}function BDe(e,t){var s;const n=Mh(e),r=yv(n(),"emoji",t.gizmo.id);return(s=r!=null?r:t.gizmo.display.emoji)!=null?s:null}function GDe(e,t){var s;const n=Mh(e),r=yv(n(),"name",t.gizmo.id);return(s=r!=null?r:t.gizmo.display.name)!=null?s:null}function gY(e,t){const n=Mh(e);return yv(n(),"pendingFiles",t)}const yv=(e,t,n)=>{if(n===zd||!n)return;const r="".concat(n,"-").concat(t);return e[r]},Td=(e,t,n,r)=>{if(t===zd)return;Mh(e).set(s=>{const o="".concat(t,"-").concat(n),a=S({},s);return r===void 0?delete a[o]:a[o]=r,a})},HS=(e,t,n)=>{Td(e,t,n,void 0)};function WDe({ctx:e,id:t,theme:n,emoji:r,name:i,pendingFiles:s}){if(n!==void 0&&Td(e,t,"theme",n),r!==void 0&&Td(e,t,"emoji",r),i!==void 0&&Td(e,t,"name",i),s!==void 0){let o=gY(e,t);o==null&&(o=new Map),s.value!=null?o.set(s.key,s.value):o.delete(s.key),Td(e,t,"pendingFiles",o)}}const qDe=B(()=>k(()=>import("./e2pao17z9chhaeja.js"),__vite__mapDeps([89,1])),{loading:e=>H(e)}),VDe=B(()=>k(()=>import("./jxm76met7627mjx2.js"),__vite__mapDeps([90,1])),{loading:e=>H(e)}),$De=B(()=>k(()=>import("./i5k0afugrdcsuykc.js"),__vite__mapDeps([91,1])),{loading:e=>H(e)}),HDe=B(()=>k(()=>import("./lkmczt35o10m07le.js"),__vite__mapDeps([92,1])),{loading:e=>H(e)}),zDe=B(()=>k(()=>import("./oxxcjbsxp6geruj7.js"),__vite__mapDeps([93,1])),{loading:e=>H(e)}),YDe=B(()=>k(()=>import("./c7qil1xrrvzai08b.js"),__vite__mapDeps([94,1])),{loading:e=>H(e)}),KDe=B(()=>k(()=>import("./h1cvjk2t0epef180.js"),__vite__mapDeps([95,1])),{loading:e=>H(e)}),JDe=B(()=>k(()=>import("./hclewew689dar074.js"),__vite__mapDeps([96,1])),{loading:e=>H(e)}),XDe=B(()=>k(()=>import("./mwp7m3ndwpiwdpf7.js"),__vite__mapDeps([97,1])),{loading:e=>H(e)}),QDe=B(()=>k(()=>import("./nmzmp5kdz018tjqk.js"),__vite__mapDeps([98,1])),{loading:e=>H(e)}),ZDe=B(()=>k(()=>import("./mlll5kvj3qdj7fj8.js"),__vite__mapDeps([99,1])),{loading:e=>H(e)}),U4=B(()=>k(()=>import("./br6ko04bgbuatd54.js"),__vite__mapDeps([100,1])),{loading:e=>H(e)}),B4=B(()=>k(()=>import("./lm3g1zm00rp6al39.js").then(e=>e.zl),__vite__mapDeps([3,1,4])),{loading:e=>H(e)}),eLe=B(()=>k(()=>import("./jeaomqbuafptryjs.js"),__vite__mapDeps([101,1])),{loading:e=>H(e)}),G4=B(()=>k(()=>import("./f89umoqrdveizlz7.js"),__vite__mapDeps([102,1])),{loading:e=>H(e)}),W4=B(()=>k(()=>import("./kutccmhbcgdrtvey.js"),__vite__mapDeps([103,1])),{loading:e=>H(e)}),tLe=B(()=>k(()=>import("./nq6tg09w6idos054.js"),__vite__mapDeps([104,1])),{loading:e=>H(e)}),nLe=B(()=>k(()=>import("./cmff6ny7qwtuxu45.js"),__vite__mapDeps([105,1])),{loading:e=>H(e)}),rLe=B(()=>k(()=>import("./lkc3nwe59xkd7c29.js"),__vite__mapDeps([106,1])),{loading:e=>H(e)}),iLe=B(()=>k(()=>import("./it6rjx5w2svroddn.js"),__vite__mapDeps([107,1])),{loading:e=>H(e)});function sLe(e){switch(e){case"genius":return rLe;case"idea":return G4;case"code":return ZDe;case"data-vis":return iLe;case"dalle":return KDe;case"local":return eLe;case"math":return YDe;case"misc":return XDe;case"news":return HDe;case"teach-or-explain":return W4;case"read-or-analyze":return $De;case"rank-or-rate":return zDe;case"current-event":return B4;case"shop":return VDe;case"travel":return QDe;case"weather":return JDe;case"work":return W4;case"write":return qDe;case"vision":return nLe;case"file-upload-document":return tLe;case"browse":return B4;case"onboarding":return U4;case"for-you":return U4;default:return G4}}function oLe(e){switch(e){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"for-you":return"#ED6262";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const Al=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function aLe(e){switch(e){case"write":case"shop":return Al[0];case"idea":case"travel":return Al[1];case"code":case"vision":return Al[2];case"teach-or-explain":case"misc":default:return Al[3]}}function QVe({category:e,useV2Colors:t}){if(e==null)return null;const n=sLe(e);return _.jsx(n,{className:"icon",style:{color:t?oLe(e):aLe(e)}})}const _Y=B(()=>k(()=>import("./nevgytedezvd3xx4.js"),__vite__mapDeps([108,1])),{loading:e=>H(e)}),vY=e=>{var s,o,a,c;const t=e.split(" ").map(l=>l.trim()).filter(Boolean);if(t.length===0)return"";const n=(o=(s=t[0])==null?void 0:s[0])!=null?o:"",r=t.length>1&&(c=(a=t[t.length-1])==null?void 0:a[0])!=null?c:"";return(t.length>1?"".concat(n).concat(r):n).toUpperCase()},cLe=e=>{const t=["bg-blue-800","bg-red-800","bg-green-800","bg-blue-500","bg-yellow-800","bg-gray-800","bg-orange-800"],n=e.split("").map(r=>r.charCodeAt(0)).reduce((r,i)=>r+i,0);return t[n%t.length]},lLe=({IconComponent:e,className:t,size:n="default",rounded:r=!1})=>_.jsx("div",{className:_e("relative flex items-center justify-center",oc[n],r?"rounded-full":"rounded-xs",t),children:_.jsx(e,{className:yY[n]})}),ZVe=({iconName:e,className:t,size:n="default"})=>{let r=_v;return e==="user"&&(r=_Y),_.jsx(lLe,{IconComponent:r,className:t,size:n})},oc={default:"h-6 w-6 shrink-0",small:"h-5 w-5 shrink-0",medium:"h-7 w-7 shrink-0",large:"h-12 w-12 shrink-0"},yY={default:"icon",small:"icon-sm",medium:"icon",large:"icon-lg"},q4=({user:e,size:t="default",isLoading:n,dotted:r=!1})=>{var s;const i=gt();return _.jsx("div",{className:_e("flex overflow-hidden rounded-full select-none",r?"border-global-border-heavy border-token-border-heavy border border-dashed":"bg-gray-500/30",oc[t]),children:_.jsx(bY,{fallback:!n&&_.jsx(uLe,{user:e,size:t,dotted:r}),src:(s=e==null?void 0:e.picture)!=null?s:void 0,alt:i.formatMessage({id:"avatar.profileimage",defaultMessage:"Profile image"}),className:_e(oc[t],n&&"invisible","object-cover")})})};function uLe({user:e,size:t,dotted:n=!1}){var i;const r=vY((i=e==null?void 0:e.name)!=null?i:"");return _.jsx("div",{className:_e("flex h-full w-full items-center justify-center",n?"text-token-text-tertiary":"bg-blue-300 text-white dark:bg-blue-500"),children:r?_.jsx("div",{className:_e(t==="small"||t==="default"?"text-xs":"indent-[0.1em] text-sm tracking-widest"),children:r}):_.jsx(_Y,{className:yY[t]})})}function bY(i){var s=i,{fallback:e,src:t,alt:n}=s,r=W(s,["fallback","src","alt"]);const[o,a]=E.useState(!1);return o||!t?e:_.jsx("img",I(S({src:t,alt:n},r),{onError:()=>{a(!0)},referrerPolicy:"no-referrer"}))}const dLe=({size:e="default",src:t,alt:n})=>_.jsx("div",{className:_e("overflow-hidden rounded-full bg-gray-500/30 select-none",oc[e]),children:_.jsx(bY,{fallback:_.jsx(Jz,{className:oc[e]}),src:t!=null?t:void 0,alt:n!=null?n:"",className:oc[e]})});function e$e({iconSize:e="default",workspace:t,showPlanTypeBadge:n=!1}){const r=re(),i=at(r),s=ys(),o=t!=null?t:s,{data:a,isLoading:c}=Yt(DV),l=xt(r),u=a!=null?a:"user"in l?l.user:void 0,d=!o||c,h=n&&!d&&((i==null?void 0:i.isPro())||(i==null?void 0:i.isPlus()))&&hr(r).getLayer("2775247110").get("show_plan_type_badge",!1)&&(i!=null&&i.isPlus()?_.jsx(hLe,{}):i!=null&&i.isPro()?_.jsx(fLe,{}):null);return o&&!o.isPersonalAccount()?_.jsx(dLe,{src:o.data.profilePictureUrl,size:e}):h?_.jsxs("div",{className:"relative",children:[_.jsx(q4,{user:u,size:e,isLoading:d}),h]}):_.jsx(q4,{user:u,size:e,isLoading:d})}const fLe=()=>_.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex items-center justify-center rounded-full bg-black text-[8px] font-medium text-white",style:{height:"0.75rem",width:"1.4rem",letterSpacing:"-0.4px"},children:"PRO"}),hLe=()=>_.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex h-3 items-center justify-center rounded-full bg-white text-[8px] font-medium text-black",style:{width:"1.6rem",boxShadow:"0 0 0 1.1px rgba(128, 128, 128, 0.1)",letterSpacing:"-0.5px"},children:"PLUS"});function t$e({name:e,size:t="default",className:n,initialsCount:r=1}){let i="";return r===1?i=e.charAt(0):i=e.split(" ").slice(0,2).map(s=>s[0]).join(""),_.jsx("div",{className:_e("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",oc[t],n),style:{backgroundColor:pLe(e)},children:i})}function pLe(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return Al[Math.abs(t)%Al.length]}const mLe=e=>{var t;return e.type===Bt.EMAIL?{id:e.user_email,label:e.user_email}:e.type===Bt.GROUP?{id:e.group_id,label:e.group_name}:e.type===Bt.USER?{id:e.user_id,label:(t=e.user_name)!=null?t:"Unknown",sublabel:e.user_email}:null};var cB;const CY=ro.div(cB||(cB=Hi(["icon-lg relative flex items-center justify-center rounded-full text-[10px]"]))),n$e=({monograms:e,variant:t="knockout",showTooltip:n=!0})=>{const i=e.slice(0,2),s=e.length-2;return _.jsxs("div",{className:"flex",children:[i.map((o,a)=>_.jsx("div",{className:_e("relative rounded-full not-first:ms-[-6px]",t==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:i.length-a},children:_.jsx(gLe,{monogram:o,showTooltip:n})},o.id)),s>0&&_.jsx("div",{className:_e("relative ms-[-6px] rounded-full first:ms-0",t==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:0},children:_.jsx(CY,{className:"text-token-text-primary bg-token-main-surface-tertiary",children:_.jsx(yt,{id:"QY9mVO",values:{remaining:s},defaultMessage:"+{remaining}"})})})]})},gLe=({monogram:e,zIndex:t=0,className:n,showTooltip:r=!0})=>{const i=re(),s=at(i),o=s==null?void 0:s.isWorkspaceAccount();if(!e)return null;const a=_.jsx(CY,{className:_e("text-white group-data-[disabled]/sharing-row:opacity-50",cLe(e.id),n),style:{zIndex:t},children:vY(e.label)});return r?_.jsx(io,{label:e.label,secondaryLabel:!o&&e.sublabel,contentClassName:"touch:hidden",labelClassName:"max-w-[200px] truncate",secondaryLabelClassName:"max-w-[200px] truncate",side:"top",children:a}):a},_Le="Loading project",Fu=Pg("Project"),r$e=E.createContext(null),vLe=Fu(e=>Ee(()=>{var t,n;return(n=(t=Dr(e.ctx))==null?void 0:t.isWorkspaceAccount())!=null?n:!1})),yLe=Fu(e=>Ee(()=>{var o,a;const t=Dr(e.ctx),r=(t==null?void 0:t.getWorkspaceId())!=null?fx(e.ctx).data:void 0;return $e(e.ctx,"2913573978")?(o=r==null?void 0:r.beta_settings)==null?void 0:o.project_sharing:((a=r==null?void 0:r.share_settings)==null?void 0:a.chat_share_setting)!==iG.NO_ONE})),bLe=Fu(e=>Ee(()=>{const t=yLe(e)(),n=vLe(e)();return $e(e.ctx,"773249106")&&(t!=null?t:!n)})),EY=Fu(e=>Ee(()=>{var s,o,a,c;const t=e.gizmo$(),n=(a=(o=(s=t==null?void 0:t.gizmo)==null?void 0:s.sharing)==null?void 0:o.subjects)!=null?a:[],r=[],i=(c=t==null?void 0:t.gizmo)==null?void 0:c.author;return i&&i.display_name&&r.push({id:i.user_id,label:i.display_name,sublabel:i.user_email}),n.forEach(l=>{const u=mLe(l);u&&r.push(u)}),r})),i$e=Fu(e=>Ee(()=>EY(e)().length>1)),s$e=Fu(e=>Ee(()=>{var i,s,o;const t=e.gizmo$(),n=(o=(s=(i=t==null?void 0:t.gizmo)==null?void 0:i.sharing)==null?void 0:s.subjects)!=null?o:[],r=EY(e)();return r.length<=1?!1:bLe(e)()&&n.length>0&&r.length>1})),CLe=(e,t)=>{const n=on(e),r=Cn(e,()=>yn(n,t)),i={ctx:e,id:t,serverState$:r,queueUpdate$:async({theme:s,emoji:o,name:a,options:c,withPostUpdate:l=!0})=>{if(WDe({ctx:e,id:t,theme:s,emoji:o,name:a}),l){const{resource:u}=await i.postUpdate$(c);return{id:i.id,resource:u}}return{id:i.id}},lastScrollPosition$:Oe(null),mobileHeaderState$:Oe(null),postUpdate$:async s=>{var c,l,u,d;const{mutate:o,result$:a}=zg(e,dY(e,n));return o({update:S({name:(c=i.title$())!=null?c:void 0,theme:(l=i.theme$())!=null?l:void 0,emoji:(u=i.emoji$())!=null?u:void 0},s),id:i.id}),await j6(()=>!a().isPending),HS(e,i.id,"name"),HS(e,i.id,"theme"),HS(e,i.id,"emoji"),{id:i.id,resource:(d=a().data)==null?void 0:d.resource}},conversations$:Oe(()=>FDe(e,i)),isSkeleton$:Ee(()=>r().data===void 0),gizmo$:Ee(()=>{var s;return(s=r().data)!=null?s:null}),status$:Ee(()=>{const s=i.conversations$().all$();return s?s.length>0?"has-conversations":"empty":"loading"}),theme$:Ee(()=>{const s=r().data;return s?UDe(e,s):null}),isShared$:Ee(()=>{const s=r().data;return s?Kye(s):null}),emoji$:Ee(()=>{var a;const s=r().data;if(!s)return null;const o=BDe(e,s);return(a=o!=null?o:s.gizmo.display.emoji)!=null?a:null}),title$:Ee(()=>{var c;const s=r().data;if(i.isSkeleton$())return _Le;if(!s)return null;const a=GDe(e,s);return(c=a!=null?a:s.gizmo.display.name)!=null?c:null}),filesCount$:Ee(()=>{var a,c;const s=r().data;if(!s)return null;const o=gY(e,s.gizmo.id);return((a=s.files.length)!=null?a:0)+((c=o==null?void 0:o.size)!=null?c:0)})};return i},ELe=bye(CLe),SLe=Lr(e=>Ee(()=>{var n;const t=(n=yh(e))==null?void 0:n.contextScopes;return t?Array.from(t):null},{name:"conversation-context-scopes"}));function OLe(e,t){return()=>{if(!t||!at(e))return;const r=mx(e,t),i=SLe(r);if(i){if(!i.includes("GLOBAL"))return["GLOBAL",...i]}else{const s=W_(r);return s&&so(s)&&ELe(e,s).gizmo$(),["GLOBAL"]}return i}}const TLe=10,wLe=4,uw={duration:20,hasCloseButton:!0},ALe=512,o$e=ALe*1024*1024;B(()=>k(()=>import("./cs13hjllyr5z07le.js"),__vite__mapDeps([85,1])),{loading:e=>H(e)});B(()=>k(()=>import("./i9crbuggadd1d18l.js"),__vite__mapDeps([86,1])),{loading:e=>H(e)});B(()=>k(()=>import("./nerwniv8icoyqyjk.js"),__vite__mapDeps([87,1])),{loading:e=>H(e)});const xLe="application/vnd.google-apps.spreadsheet",ILe="application/vnd.google-apps.presentation",NLe="application/vnd.google-apps.document",RLe=["xlsx","pptx","docx","page","issue"],PLe={[xLe]:"xlsx",[ILe]:"pptx",[NLe]:"docx"};function a$e(e){var t;return e&&(t=PLe[e.split(";")[0]])!=null?t:null}function kLe(e){return RLe.includes(e)}function MLe(e){return e&&kLe(e)?e:null}var pn=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e[e.Codex=6]="Codex",e))(pn||{});function c$e(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:MLe(e.synthetic_extension),type:e.type}}var Ps=(e=>(e.Uploading="uploading",e.Ready="ready",e))(Ps||{}),zS,V4;function DLe(){if(V4)return zS;V4=1;var e=Dx(),t=b_(),n=g_(),r=Li(),i=oh();function s(o,a,c,l){if(!r(o))return o;a=t(a,o);for(var u=-1,d=a.length,f=d-1,h=o;h!=null&&++u<d;){var p=i(a[u]),m=c;if(p==="__proto__"||p==="constructor"||p==="prototype")return o;if(u!=f){var g=h[p];m=l?l(g,p,h):void 0,m===void 0&&(m=r(g)?g:n(a[u+1])?[]:{})}e(h,p,m),h=h[p]}return o}return zS=s,zS}var YS,$4;function SY(){if($4)return YS;$4=1;var e=C_(),t=DLe(),n=b_();function r(i,s,o){for(var a=-1,c=s.length,l={};++a<c;){var u=s[a],d=e(i,u);o(d,u)&&t(l,n(u,i),d)}return l}return YS=r,YS}var KS,H4;function LLe(){if(H4)return KS;H4=1;var e=SY(),t=pW();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return KS=n,KS}var JS,z4;function jLe(){if(z4)return JS;z4=1;var e=uW();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return JS=t,JS}var XS,Y4;function FLe(){if(Y4)return XS;Y4=1;var e=jLe(),t=gW(),n=vW();function r(i){return n(t(i,void 0,e),i+"")}return XS=r,XS}var QS,K4;function ULe(){if(K4)return QS;K4=1;var e=LLe(),t=FLe(),n=t(function(r,i){return r==null?{}:e(r,i)});return QS=n,QS}var BLe=ULe();const GLe=Gt(BLe),l$e=["none","delay","indexed"],u$e=["none","Adaptive","ChunkedCatchup","Punctuation"],WLe={label:"Auto",value:""},qLe="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",VLe=()=>S({fConversationEndpoint:"default",tokenBufferType:null,wordFadeType:null,showCompletionPerfData:!0,forceParagen:!1,forceParagenModel:WLe,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:qLe,forceRateLimit:!1,recordRendering:!1,recordTransformedConvoJson:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,forceShowConvoRating:!1,jsonViewerFilters:{},forceParallelSwitch:"auto",autoSwitcherTreatmentOverride:void 0,juiceScore:null,multimodalJuiceScore:null},{}),OY=rr(Ofe(VLe,{name:en.DebugSettings,partialize:e=>GLe(e,["fConversationEndpoint","showCompletionPerfData","jsonViewerFilters","recordRendering","recordTransformedConvoJson","showDebugConversationTurns"])})),$Le=()=>OY.getState(),d$e=e=>OY.setState(e);function f$e(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function h$e(e){return e.startsWith("file_")?"sediment://"+e:"file-service://"+e}function p$e(e){return e.startsWith("file-service://")}function dw(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(Pn.fileZeroBytes,n);case"file_too_large":return e.formatMessage(Pn.fileTooLarge,n);case"over_user_quota":return e.formatMessage(Pn.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(Pn.fileNotFound,n);case"file_timed_out":return e.formatMessage(Pn.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(Pn.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(Pn.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(Pn.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(Pn.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(Pn.fileEmpty,n);case"too_many_tokens":return e.formatMessage(Pn.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(Pn.fileEncrypted,n);case"file_corrupted":return e.formatMessage(Pn.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(Pn.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(Pn.unknownError)}}function m$e(){const e=gt();return E.useCallback((t,n)=>dw(e,t,n),[e])}const g$e=1e3*60*58;async function HLe(e,t,n=!1,r,i,s){var d;const[,o,a]=(d=/^(.*?)(\?.*)?$/.exec(e))!=null?d:[],c=new URLSearchParams(a),l=o.replaceAll("#","*"),u=await Z.safeGet("/files/download/{file_id}",{parameters:{path:{file_id:l},query:I(S({gizmo_id:t,post_id:s},Object.fromEntries(c.entries())),{conversation_id:r,inline:i})},authOption:n?Xt.Anonymous:void 0});if(u.status===Zd.Success||u.status===Zd.Retry)return u;throw new Dt("Could not get file download link","error_code"in u?u.error_code:"unknown_error")}function _$e(){const e=re(),{session:t}=ate(e),n=!St(e),r=En();return async(i,s)=>{if(!n&&t==null)return r.danger(Pn.fileDownloadFailed,{toastId:"file_download_failed"}),!1;try{const o=await HLe(i,void 0,n);if(o.status!==Zd.Success)throw new Error("File is not ready to download: "+JSON.stringify(o));const a=o.download_url,c=document.createElement("a");c.href=a,c.download=s,c.click(),window.open(a,"_blank")}catch(o){return r.danger(Pn.fileDownloadFailed,{toastId:"file_download_failed"}),!1}return!0}}function SN(e,t){var n;return((t==null?void 0:t.kind)===zs.GizmoInteraction||(t==null?void 0:t.kind)===zs.GizmoTest)&&!(t!=null&&t.gizmo&&X_(t==null?void 0:t.gizmo))?(n=t.gizmo)==null?void 0:n.product_features:e==null?void 0:e.product_features}function v$e(e,t,n){var i,s,o,a;const r=SN(e,t);return n===ae.Research?pn.Retrieval:((i=r==null?void 0:r.attachments)==null?void 0:i.type)===Ro.CodeInterpreter?pn.Interpreter:((s=r==null?void 0:r.attachments)==null?void 0:s.type)===Ro.Multimodal?pn.Multimodal:((o=r==null?void 0:r.attachments)==null?void 0:o.type)===Ro.Retrieval?pn.Retrieval:((a=r==null?void 0:r.attachments)==null?void 0:a.type)===Ro.ContextConnector?pn.ContextConnector:pn.None}function TY(e){var r;const t=(r=e.split(".").pop())==null?void 0:r.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t!=null?t:""]||""}function zLe(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function wY(e,t,n){const r=TY(e);return r&&(t=r),n&&(t=zLe(t)),t}function YLe(e,t,n,r,i){if(i==null)return e;const s=wY(t,n,r),{accepted_mime_types:o,can_accept_all_mime_types:a}=i;return o==null||o.length===0||!a||o.includes(s)?e:pn.Interpreter}function y$e(e,t,n,r){var o,a,c;const i=wY(n,t,r),s=(o=e==null?void 0:e.product_features)==null?void 0:o.attachments;if(s!=null)return(a=s.accepted_mime_types)!=null&&a.includes(i)?s.type:(c=s.image_mime_types)!=null&&c.includes(i)?Ro.Multimodal:Ro.CodeInterpreter}function b$e(e,t){var r,i;const n=SN(e,t);return(r=n==null?void 0:n.attachments)!=null&&r.can_accept_all_mime_types||(i=n==null?void 0:n.attachments)==null?void 0:i.accepted_mime_types}function C$e(e,t){var i;const n=SN(e,t),{attachments:r}=n!=null?n:{};return r!=null&&r.image_mime_types?r.image_mime_types:(r==null?void 0:r.type)==="multimodal"?(i=r.accepted_mime_types)!=null?i:KLe:[]}const KLe=["image/png","image/jpeg","image/gif","image/webp"],J4={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"],"application/pdf":[".pdf"],"text/plain":[".txt"]};function JLe(e){return e.reduce((t,n)=>(n in J4?t[n]=J4[n]:n.includes("/")&&(t[n]=[".".concat(n.split("/")[1])]),t),{})}function E$e(e){return E.useMemo(()=>e===void 0?{}:{accept:JLe(e)},[e])}function ON(e){var t;return(t=e.split(".").pop())==null?void 0:t.toLowerCase()}function S$e(e){const t=ON(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function O$e(e){const t=(e!=null?e:"").toLowerCase();return t==="pdf"?"PDF":t.length===0?"":t.charAt(0).toUpperCase()+t.slice(1)}function T$e(e){const t=ON(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function w$e(e){const t=ON(e);return t!=null&&["xls","xlsx"].includes(t)}function AY(e,t,n="fit"){return new Promise((r,i)=>{const s=new FileReader;s.onerror=o=>{Q.addError(new Error("File reading has failed:",{cause:o})),i(new Error("Failed to read the file."))},s.onload=o=>{const a=new Image;a.onerror=c=>{Q.addError(new Error("Image loading has failed:",{cause:c})),i(new Error("Failed to load the image."))},a.onload=()=>{const c=document.createElement("canvas");let l,u=0,d=0;switch(n){case"fill":l=t/Math.min(a.width,a.height);break;case"square":l=t/Math.min(a.width,a.height);break;case"fit":l=t/Math.max(a.width,a.height);break}const f=a.width*l,h=a.height*l;n==="square"?(c.width=t,c.height=t,u=(t-f)/2,d=(t-h)/2):(c.width=f,c.height=h);const p=c.getContext("2d");if(p==null){Q.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),i(new Error("Failed to create canvas context."));return}p.drawImage(a,u,d,f,h);const m=e.type||"image/png";c.toBlob(g=>{g?r(new File([g],e.name,{type:m})):(Q.addError("Blob creation failed. Blob is null."),i(new Error("Failed to create blob from image data.")))},m)},o.target==null?(Q.addError("Event target is null. Failed to load image."),i("Failed to load image.")):a.src=o.target.result},s.readAsDataURL(e)})}function A$e(e,t){return AY(e,t,"square")}function x$e(e){var r,i;const t=(r=e.name.split("/"))!=null?r:[];return((i=t[t.length-1])!=null?i:"").replace(/[-_]/g," ").split(".")[0]}function XLe(e,t){return t?e.slice(0,-t.length-1):e}function I$e(){const e=re(),t=an(e,"3278106051"),n=an(e,"2356508715");return E.useMemo(()=>()=>!t.get("allow_receiver_see_user_uploaded_files")&&!n.get("allow_receiver_see_user_uploaded_files"),[t,n])}const Pn=Tt({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}});let ZS=null;async function QLe(){return ZS||(ZS=(await k(async()=>{const{default:e}=await import("./bio6zqk7sn9h2l92.js");return{default:e}},[])).default),ZS}const Mp={duration:20,hasCloseButton:!0};function ZLe(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function fw(e){return new Promise((t,n)=>{const r=new FileReader,i=new Image;r.onload=()=>{i.onload=()=>t(i),i.onerror=s=>n(s),i.src=r.result},r.readAsDataURL(e)})}function TN(e){if(!(!e||e.length===0))return e}async function e3e(e,t,n,r,i){var s;try{const o=await Z.safePost("/files",{authOption:i?Xt.Anonymous:void 0,requestBody:{file_name:e,file_size:t,use_case:n.kind,gizmo_id:n.kind===hn.Gizmo?n.gizmoId:void 0,timezone_offset_min:new Date().getTimezoneOffset(),reset_rate_limits:!!r}});if(o.status===Zd.Error)throw we.logEvent("Create File Entry Error",{error_code:o.error_code,error_type_name:"FileServiceErrorResponse",error_msg:o.error_code,error_stack:""}),new Dt("Could not create file",o.error_code);return o}catch(o){throw o instanceof Dt||(o instanceof a_?we.logEvent("Create File Entry Error",{error_type_name:"ClientRequestMismatchedAuthError",error_msg:o.message,error_stack:o.stack}):o instanceof Ht?we.logEvent("Create File Entry Error",{error_type_name:((s=o.detail)==null?void 0:s.type)==="throttled"?"RequestThrottled":"RequestError",error_msg:o.message,error_stack:o.stack}):o instanceof Error?we.logEvent("Create File Entry Error",{error_type_name:o.name,error_msg:o.message,error_stack:o.stack}):we.logEvent("Create File Entry Error",{error_type_name:"UnknownError",error_msg:String(o),error_stack:""})),o}}function xY(e){const t=e.split("."),n=t[t.length-1];return n==="error"||n==="cancelled"||n==="failed"||n==="unknown"}function IY(e){if(!e)return;let t;if(e.thumbnail&&typeof e.thumbnail=="object"){const r=e.thumbnail,i=r.file_id,s=r.width,o=r.height,a=r.size_bytes;typeof i=="string"&&typeof s=="number"&&typeof o=="number"&&typeof a=="number"&&(t={fileId:i,width:s,height:o,sizeBytes:a})}const n=typeof e.transcript=="string"?e.transcript:void 0;if(t||n)return{thumbnail:t,transcript:n}}async function NY(e,t,n){var r,i;try{const l=Ze.streamedJsonPost("".concat(Je,"/files/process_upload_stream"),e,{authOption:n?Xt.Anonymous:void 0});let u,d,f;try{for(var s=ZN(l),o,a,c;o=!(a=await s.next()).done;o=!1){const h=a.value;if(xY(h.event)){const g="Error stream processing upload: indexing failed: ".concat(h.event);throw new Dt(g,h.event,h.extra)}h.progress!=null&&(t==null||t(h.progress)),((r=h==null?void 0:h.extra)==null?void 0:r.total_tokens)!=null&&(u=h.extra.total_tokens);const p=(i=h==null?void 0:h.extra)==null?void 0:i.metadata_object_id;typeof p=="string"&&p.length>0&&(f=p);const m=IY(h.extra);m&&(d=m)}}catch(a){c=[a]}finally{try{o&&(a=s.return)&&await a.call(s)}finally{if(c)throw c[0]}}return u||d||f?{fileTokenSize:u,libraryFileId:f,thumbnail:d==null?void 0:d.thumbnail,transcript:d==null?void 0:d.transcript}:void 0}catch(l){throw l instanceof Dt||l instanceof Ht&&l.isClientError()?l:new Dt("Error stream processing upload: ".concat(l),"stream_process_error")}}async function RY(e,t,n,r,i,s,o){var f;const a={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let c=Or.Initial;we.logEvent("Upload File Initiated",{client:"web",useCase:i.kind,uploadEntry:"local"}),ft.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:i.kind,uploadEntry:"local"});const l=(f=o.usesRetrievalIndex)!=null?f:!1,u=l?performance.now():void 0,d=$Le().resetRateLimits;try{const{file_id:h,upload_url:p}=await e3e(t.name,t.size,i,!!d,o.isUnauthenticated);s.onFileCreated(e,h,p),c=Or.FileCreated,s.onFileUploadProgress(e,a.ENTRY_CREATED);const m=i.kind===hn.Gizmo?i.gizmoId:void 0,g={client:"web",useCase:i.kind,uploadEntry:"local",fileId:h,fileSize:t.size};we.logEvent("Blob Store Upload Started",g);const y=C=>C.toLowerCase().includes("/api/estuary/upload_content_and_finalize"),v=C=>C.toLowerCase().includes("/api/estuary/upload_content_bytes");let T;if(y(p)){const{finalStatus:C,metadata:b}=await o3e({file:t,cdnUrl:p,fileId:h,fileName:t.name,useCaseType:i,shouldIndexForRetrieval:l,gizmoId:m,handlers:s,tempId:e,imageDimensions:o.imageDimensions,milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED},contextScopes:o.contextScopes});T=b,c=C}else if(v(p)){const{finalStatus:C,metadata:b}=await s3e({file:t,destinationUrl:p,fileId:h,fileName:t.name,useCaseType:i,shouldIndexForRetrieval:l,gizmoId:m,onOverallProgress:O=>{s.onFileUploadProgress(e,O)},onUploadComplete:()=>{s.onFileUploadProgress(e,a.FILE_UPLOADED)},milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED},contextScopes:o.contextScopes});T=b,c=C,s.onFileUploaded(e,h,o.imageDimensions,T)}else{const C=await a3e(t,p,w=>{s.onFileUploadProgress(e,a.ENTRY_CREATED+(a.FILE_UPLOADED-a.ENTRY_CREATED)*w)});if(s.onFileUploadProgress(e,a.FILE_UPLOADED),C.status!==201)throw we.logEvent("Blob Store Upload Error",I(S({},g),{error_type_name:"HTTPStatus".concat(C.status),error_msg:"HTTP status ".concat(C.status,": ").concat(C.statusText),error_stack:""})),new Dt("File upload to blobstore failed","failed_upload_to_blobstore");we.logEvent("Blob Store Upload Completed",g),c=Or.FileUploaded;const b=TN(o.contextScopes),O=S({file_id:h,use_case:i.kind,gizmo_id:m,index_for_retrieval:l,file_name:t.name},b&&{context_scopes:b});T=await NY(O,w=>{s.onFileUploadProgress(e,a.FILE_UPLOADED+(a.FILE_PROCESSED-a.FILE_UPLOADED)*w/100)},o.isUnauthenticated),c=Or.FileProcessed,s.onFileUploaded(e,h,o.imageDimensions,T),l&&(c=Or.RetrievalIndexCreated)}u!=null&&St(At())&&Z.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-u,type:"file"}})}catch(h){PY(n,r,t.name,h);let p="NotInstanceOfError";h instanceof Ht?p="".concat(h.name,"_").concat(h.status):(h instanceof Error||h instanceof Dt)&&(p=h.name),s.onError(e,"error",p,i,c)}}async function N$e(e,t,n,r,i,s){const{width:o,height:a}=await fw(t);return RY(e,t,n,r,{kind:i},s,{imageDimensions:{width:o,height:a}})}async function t3e(e,t){var r,i,s,o,a;const n=await Z.safeGet("/files/{file_id}",{parameters:{path:{file_id:e},query:t!=null?{gizmo_id:t}:void 0}});return{name:n.name,status:(s=(i=(r=n.metadata)==null?void 0:r.retrieval)==null?void 0:i.status)!=null?s:Nl.Processing,error_code:(a=(o=n.metadata)==null?void 0:o.retrieval)==null?void 0:a.error_code,file_size_tokens:n.file_size_tokens}}async function n3e(e,t){const n=Date.now()+6e4,r=s=>new Promise(o=>setTimeout(o,s));let i=0;for(;Date.now()<n;){const s=await t3e(e,t);if(s.status===Nl.Success||s.status===Nl.Skipped)return s;if(s.status===Nl.Failed)throw new Dt("Context extraction failed",s.error_code);i++,await r(Math.min(1e3,100*i))}throw new Dt("Retrieval indexing timed out")}function r3e(e){var t,n;if(e.code==="file.indexing.error"){const r=(t=e.extra)==null?void 0:t.file_parse_error_code;return typeof r=="string"?r:"file.indexing.error"}return(n=e.code)!=null?n:"internal_error"}function PY(e,t,n,r){var i;if(r instanceof Dt&&r.code!=null){const s=dw(e,r3e(r));t.danger(s,I(S({},Mp),{toastId:"file_upload_error",loggingTitle:s,loggingDescription:s}))}else if(r instanceof Ht&&((i=r.detail)==null?void 0:i.type)==="throttled"){const s=r.message,o="file-upload-rate-limit";Qt(()=>{var c,l;return(l=(c=t.toasts$)==null?void 0:c.call(t))!=null?l:[]}).some(c=>String(c.id).startsWith(o)&&c.isShown!==!1)||t.info(s,I(S({},Mp),{id:o}))}else if(r instanceof a_){const s=e.formatMessage(hw.noAuthFileUpload);t.info(s,Mp)}else{const s=dw(e,"default_upload_error",{fileName:n});t.danger(s,I(S({},Mp),{toastId:"file_upload_error",loggingTitle:s,loggingDescription:s}))}}const hw=Tt({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'},noAuthFileUpload:{id:"useFilePickerState.noAuthFileUpload",defaultMessage:"Log in to analyze files and images for free."}});async function i3e(e){var te;const{file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:c,onUploadComplete:l,milestones:u,contextScopes:d}=e,f=new FormData;f.append("file",t);const p=(te=new URL(n,window.location.origin).searchParams.get("upload_url"))!=null?te:n;f.append("upload_url",p),f.append("file_id",r),f.append("file_name",i),f.append("use_case",s.kind),f.append("index_for_retrieval",String(!!o)),a&&f.append("gizmo_id",a);const m=TN(d);m&&f.append("context_scopes",JSON.stringify(m));const g=Kf(At()),y=ri(),v={[Jg]:y,[Kg]:pu};g&&(v.Authorization="Bearer ".concat(g));const T=De.getCookie(Se.Workspace);typeof T=="string"&&T.trim().length>0&&T.trim()!==Fs&&(v["ChatGPT-Account-ID"]=encodeURIComponent(T.trim()));let C=!1;const b=$=>{c(u.entry+(u.uploaded-u.entry)*$)},O=$=>{c(u.uploaded+(u.processed-u.uploaded)*($/100))},w=1e4,A=120,x=96;let N,R=0,L=!1,D=0,F=0;function G($){return 1-Math.pow(1-$,3)}function z(){if(!L)return;const $=performance.now()-R,se=Math.min(1,$/w),me=x*G(se),Ce=Math.max(F,Math.min(x,me),D);if(Ce>F&&(F=Ce,O(Ce)),D>=100){M();return}N=window.setTimeout(z,Ce>=x&&D===0?A*4:A)}function V(){L||(L=!0,R=performance.now(),z())}function M($=!1){L=!1,N!==void 0&&(window.clearTimeout(N),N=void 0),$&&(F=100,O(100))}return await new Promise(($,se)=>{const me=new XMLHttpRequest;me.open("POST",n,!0),me.withCredentials=!0;for(const[oe,be]of Object.entries(v))me.setRequestHeader(oe,be);let Ce="",J,K=!1,ne;function X(oe){if(!K){K=!0;try{me.abort()}catch(be){}se(oe instanceof Dt?oe:new Dt("Error stream processing upload: ".concat(String(oe)),"stream_process_error"))}}let ee;function ve(oe){var be,Ae;for(;;){const He=Ce.indexOf("\n");if(He===-1)break;const Ne=Ce.slice(0,He).trim();if(Ce=Ce.slice(He+1),!!Ne)try{const ge=JSON.parse(Ne);if(xY(ge.event)){M(),X(new Dt("Error stream processing upload: indexing failed: ".concat(ge.event),ge.event,ge.extra));return}ge.progress!=null&&(D=ge.progress,D>F&&(F=D,O(D)),D>=100&&M(!0)),ge.event==="file.processing.metadata"&&(D=100,M(!0)),((be=ge==null?void 0:ge.extra)==null?void 0:be.total_tokens)!=null&&(J=ge.extra.total_tokens);const he=IY(ge.extra);he&&(ne=he);const j=(Ae=ge==null?void 0:ge.extra)==null?void 0:Ae.metadata_object_id;typeof j=="string"&&j.length>0&&(ee=j)}catch(ge){if(!oe){Ce=Ne+"\n"+Ce;break}}}}me.upload.onprogress=oe=>{if(!oe.lengthComputable)return;const be=oe.loaded/oe.total;b(be),be===1&&!C&&(C=!0,l(),V())};let ue=0;me.onreadystatechange=()=>{if(me.readyState===XMLHttpRequest.LOADING||me.readyState===XMLHttpRequest.DONE){const oe=me.responseText.substring(ue);ue=me.responseText.length,Ce+=oe,ve(me.readyState===XMLHttpRequest.DONE)}if(me.readyState===XMLHttpRequest.DONE){if(me.status>=400){M(),X(new Dt("File upload to blobstore failed","failed_upload_to_blobstore"));return}M(F<100),$(J||ne||ee?{fileTokenSize:J,libraryFileId:ee,thumbnail:ne==null?void 0:ne.thumbnail,transcript:ne==null?void 0:ne.transcript}:{})}};try{me.send(f)}catch(oe){X(oe)}})}async function s3e(e){var w;const{file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:c,onUploadComplete:l,milestones:u,contextScopes:d}=e,f=new FormData;f.append("file",t);const p=(w=new URL(n,window.location.origin).searchParams.get("upload_url"))!=null?w:n;f.append("upload_url",p);const m=Kf(At()),g=ri(),y={[Jg]:g,[Kg]:pu};m&&(y.Authorization="Bearer ".concat(m));const v=De.getCookie(Se.Workspace);typeof v=="string"&&v.trim().length>0&&v.trim()!==Fs&&(y["ChatGPT-Account-ID"]=encodeURIComponent(v.trim())),await new Promise((A,x)=>{const N=new XMLHttpRequest;N.open("POST",n,!0),N.withCredentials=!0;for(const[R,L]of Object.entries(y))N.setRequestHeader(R,L);N.upload.onprogress=R=>{if(!R.lengthComputable)return;const L=R.loaded/R.total;c(u.entry+(u.uploaded-u.entry)*L),L===1&&l()},N.onreadystatechange=()=>{if(N.readyState===XMLHttpRequest.DONE){if(N.status>=400){x(new Dt("File upload to Estuary failed: HTTP ".concat(N.status),"failed_upload_to_blobstore"));return}A()}};try{N.send(f)}catch(R){x(R instanceof Dt?R:new Dt("Error uploading to Estuary: ".concat(String(R)),"stream_process_error"))}});const T=TN(d),C=S({file_id:r,use_case:s.kind,gizmo_id:a,index_for_retrieval:o,file_name:i},T&&{context_scopes:T}),b=await NY(C,A=>{c(u.uploaded+(u.processed-u.uploaded)*A/100)});return{finalStatus:o?Or.RetrievalIndexCreated:Or.FileProcessed,metadata:b}}async function o3e(e){const{file:t,cdnUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,handlers:c,tempId:l,imageDimensions:u,milestones:d,contextScopes:f}=e,h=await i3e({file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:m=>{c.onFileUploadProgress(l,m)},onUploadComplete:()=>{c.onFileUploadProgress(l,d.uploaded)},milestones:d,contextScopes:f});let p=Or.FileProcessed;return c.onFileUploaded(l,r,u,h),o&&(p=Or.RetrievalIndexCreated),{finalStatus:p,metadata:h}}async function a3e(e,t,n,r){const i=await QLe();return await i.request({method:"put",url:t,data:e,headers:{"x-ms-blob-type":"BlockBlob","x-ms-version":"2020-04-08","Content-Type":e.type},onUploadProgress:s=>{s.progress!==void 0&&n&&n(s.progress)}}).catch(function(s){var a;let o=S({},r);throw i&&s instanceof i.AxiosError&&((a=s.response)!=null&&a.status)?o=I(S({},o),{error_type_name:"AxiosHTTPError".concat(s.response.status),error_msg:s.message,error_stack:s.stack}):s instanceof Error&&(o=I(S({},o),{error_type_name:s.name,error_msg:s.message,error_stack:s.stack})),we.logEvent("Blob Store Upload Error",o),new Dt("File upload to blobstore failed","failed_upload_to_blobstore")})}function kY(e){return e===pn.Multimodal?wLe:TLe}function MY(e,t){return t==null?e:Math.max(0,Math.min(e,t))}function c3e(){"use forget";var t;const e=cre(l3e);return(t=e==null?void 0:e.remaining)!=null?t:null}function l3e(e){return e.feature_name===Zr.FILE_UPLOAD}function u3e(){var n;const{limitsProgress:e}=Ti.getState(),t=e.find(r=>r.feature_name===Zr.FILE_UPLOAD);return(n=t==null?void 0:t.remaining)!=null?n:null}function d3e(e){"use forget";const t=Y.c(9),n=c3e();let r,i,s;if(t[0]!==n||t[1]!==e){const a=kY(e);r=a,i=n,s=MY(a,n),t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=s}else r=t[2],i=t[3],s=t[4];let o;return t[5]!==r||t[6]!==i||t[7]!==s?(o={baseLimit:r,remaining:i,maxUploads:s},t[5]=r,t[6]=i,t[7]=s,t[8]=o):o=t[8],o}function f3e(e){const t=u3e(),n=kY(e);return{baseLimit:n,remaining:t,maxUploads:MY(n,t)}}function R$e(e){"use forget";return d3e(e).maxUploads}function h3e(e){return f3e(e).maxUploads}const{useDebugValue:p3e}=Et,{useSyncExternalStoreWithSelector:m3e}=Y6,g3e=e=>e;function wN(e,t=g3e,n){const r=m3e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return p3e(r),r}const X4=(e,t)=>{const n=xc(e),r=(i,s=t)=>wN(n,i,s);return Object.assign(r,n),r},P$e=(e,t)=>e?X4(e,t):X4,DY={files:[],connectorFileData:{}},LY=E.createContext(null);function k$e(e){"use forget";const t=Y.c(5),{children:n,initialState:r}=e,i=r===void 0?DY:r;let s;t[0]!==i?(s=()=>xc(()=>i),t[0]=i,t[1]=s):s=t[1];const[o]=E.useState(s);let a;return t[2]!==n||t[3]!==o?(a=_.jsx(LY.Provider,{value:o,children:n}),t[2]=n,t[3]=o,t[4]=a):a=t[4],a}function jY(){"use forget";const e=E.use(LY);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function M$e(e,t){"use forget";const n=jY();return wN(n,e,t)}const D$e={hasUploadInProgress:({files:e})=>e.some(t=>t.status===Ps.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===Ps.Ready)},e0=2048;async function Q4(e){let t=e,{width:n,height:r}=await fw(t);if(n>e0||r>e0)try{const i=await AY(t,e0),s=await fw(i);n=s.width,r=s.height,t=i}catch(i){Q.addError(new Error("Error resizing image:",{cause:i}))}return{file:t,width:n,height:r}}async function _3e(e,t,n,r,i,s,o,a,c){const l=performance.now();we.logEvent("Upload File Initiated",{client:"web",useCase:r.kind,contextConnector:s.contextConnector,fileSourceType:s.type}),ft.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:r.kind,contextConnector:s.contextConnector,fileSourceType:s.type});let u=Or.Initial;const d=UY(e);try{const f=await Z.safePost("/connectors/upload/{connector_name}",{parameters:{path:{connector_name:s.contextConnector}},requestBody:{id:t,upload_use_case:r.kind,mime_type:n.type,name:n.name,gizmo_id:o,drive_id:s.o365DriveId,manifest:s.manifest}});switch(r.kind===hn.Gizmo&&(r=I(S({},r),{kind:i.includes(FY(n))?hn.Multimodal:hn.MyFiles})),f.type){case"error":throw v3e(f.error);case"file":{switch(d.onFileCreated(t,f.file.id,"",s.contextConnector),u=Or.FileProcessed,r.kind){case hn.MyFiles:{d.onFileUploadProgress(t,90);const h=await n3e(f.file.file_id,o);(h==null?void 0:h.status)===Nl.Skipped&&c.danger(a.formatMessage(hw.retrievalSkippedFile,{fileName:h.name}),I(S({},uw),{toastId:"retrieval_index_skipped",loggingTitle:hw.retrievalSkippedFile.defaultMessage,loggingDescription:"Retrieval index skipped"})),d.onFileUploaded(t,f.file.file_id,void 0,{fileTokenSize:h.file_size_tokens,mimeType:f.file.mime_type}),u=Or.RetrievalIndexCreated;break}case hn.Multimodal:{d.onFileUploaded(t,f.file.file_id,{width:512,height:512},{mimeType:f.file.mime_type});break}case hn.AceUpload:{d.onFileUploaded(t,f.file.file_id,void 0,{mimeType:f.file.mime_type});break}case hn.DalleAgent:case hn.Gizmo:case hn.ProfilePicture:default:throw new Dt("Use case not supported by cloud doc: ".concat(r.kind))}break}case"folder":throw new Dt("Folder type not supported")}St(At())&&Z.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-l,type:s.contextConnector}})}catch(f){Q.addError(new Error("Failed to upload connected file by ".concat(s.contextConnector),{cause:f}));const h=XLe(n.name,s==null?void 0:s.syntheticExtension);PY(a,c,h,f);let p="NotInstanceOfError";f instanceof Ht?p="".concat(f.name,"_").concat(f.status):(f instanceof Error||f instanceof Dt)&&(p=f.name),d.onError(t,"error","connector_upload_"+p,{kind:hn.MyFiles},u)}}function FY(e){return e.type||TY(e.name)}function v3e({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new Dt(n,r)}else return Ht.createWithErrorMessage("/connectors/upload","server",n,void 0,Error(n))}const Lo={reset:e=>{e.setState(DY)},restoreFiles:(e,t)=>{e.setState({files:t})},uploadFile:async(e,t,n,r,i,s,o,a={},c,l,u=!1,d=!1)=>{const{gizmoId:f,isUnauthenticated:h,contextScopes:p}=a,m=e.getState().files,g=YLe(r,n.name,n.type,l==null?void 0:l.contextConnector,c),y={tempId:t,gizmoId:a.gizmoId,status:Ps.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:l,contextConnector:l==null?void 0:l.contextConnector,source:u?"library":l?"connector":"local"},v=h3e(g);if(!u&&m.length>=v)we.logEvent("Uploaded Max Files Error"),o.danger(s.formatMessage(Dp.maxUploadsAtATime,{maxUploads:v,fileName:n.name}),I(S({},uw),{toastId:"max_uploads_at_a_time",loggingTitle:Dp.maxUploadsAtATime.defaultMessage,loggingDescription:"Max uploads at a time"}));else if(!u&&m.some(T=>T.tempId===t))we.logEvent("Uploaded Duplicate File Error"),o.danger(s.formatMessage(Dp.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"â€¦":n.name}),I(S({},uw),{toastId:"duplicate_file_attached",loggingTitle:Dp.duplicateFileAttached.defaultMessage,loggingDescription:"Duplicate file attached"}));else{(g!==pn.Retrieval?!0:d?u:!0)&&e.setState(({files:O})=>({files:[...O,y]}));let C;const b={isUnauthenticated:h,contextScopes:p};if(i.includes(n.type)){if(C={kind:hn.Multimodal},!l){const O=await Q4(n);n=O.file,b.imageDimensions={width:O.width,height:O.height}}}else if(["video/mp4","video/quicktime"].includes(n.type)&&i.includes("image/png")&&$e(At(),"3681682292"))C={kind:"multimodal_video"};else if(g===pn.Codex){C={kind:hn.Codex};const O=await Q4(n);n=O.file,b.imageDimensions={width:O.width,height:O.height}}else switch(g){case pn.Multimodal:throw new Error("Multimodal file upload not supported mime type, ".concat(n.type,"\nSupported mime types: ")+i.join(", "));case pn.Interpreter:C={kind:hn.AceUpload};break;case pn.Retrieval:C={kind:u?hn.LibraryFiles:hn.MyFiles},b.usesRetrievalIndex=!0;break;case pn.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case pn.ContextConnector:case pn.None:return}f!=null&&(C={kind:hn.Gizmo,gizmoId:f}),a.skipUpload||(l?await _3e(e,t,n,C,i,l,a.gizmoId,s,o):await RY(t,n,s,o,C,UY(e),b))}},createFileCompleted:(e,t,n,r,i)=>{const s=e.getState().files,o=s.findIndex(c=>c.tempId===t),a=s[o];if(o>=0&&a.status===Ps.Uploading){const c=[...s];c.splice(o,1,I(S({},a),{progress:10,fileId:n,cdnUrl:r,contextConnector:i})),e.setState({files:c})}},updateProgress:(e,t,n)=>{const r=e.getState().files,i=r.findIndex(o=>o.tempId===t),s=r[i];if(i>=0&&s.status===Ps.Uploading){const o=[...r];o.splice(i,1,I(S({},s),{progress:n})),e.setState({files:o})}},uploadCompleted:(e,t,n,r,i,s)=>{var c,l,u,d;const o=e.getState().files,a=o.findIndex(f=>f.tempId===t);if(a>=0&&o[a].status===Ps.Uploading&&o[a].fileId!=null){const f=o[a],h=[...o],p=I(S({},f),{tempId:t,status:Ps.Ready,progress:100,fileSpec:S(S({name:f.file.name,id:f.fileId,size:f.file.size,contextConnectorInfo:f.contextConnectorInfo,mimeType:(c=i==null?void 0:i.mimeType)!=null?c:FY(f.file)},r||{}),i||{}),libraryFileId:(l=i==null?void 0:i.libraryFileId)!=null?l:f.libraryFileId});h.splice(a,1,p);const m=S({},e.getState().connectorFileData);s&&(m[s==null?void 0:s.file_id]=s),e.setState({files:h,connectorFileData:m}),we.logEvent("Upload File Completed",{status:f.status,fileId:f.fileId,contextConnector:(u=f.contextConnector)!=null?u:"local"}),ft.logEvent("chatgpt_file_upload_completed",null,{status:f.status,contextConnector:(d=f.contextConnector)!=null?d:"local"})}},remove:(e,t,n,r,i,s)=>{var c,l;const o=e.getState().files,a=o.findIndex(u=>u.tempId===t);if(a>=0){const u=o[a];n==="error"?(we.logEvent("Upload File Error",{status:u.status,fileId:u.fileId,client:"web",errorClassName:r!=null?r:"undefined",useCaseType:i,uploadStatus:s!=null?s:"undefined",contextConnector:u.contextConnector}),ft.logEvent("chatgpt_file_upload_error",null,{client:"web",errorClassName:r!=null?r:"undefined",useCaseType:(c=i==null?void 0:i.kind)!=null?c:"undefined",uploadStatus:s!=null?s:"undefined",contextConnector:(l=u.contextConnector)!=null?l:"undefined"})):we.logEvent("Remove File",{status:u.status,fileId:u.fileId});const d=[...o];d.splice(a,1),e.setState({files:d})}},attachLibraryFile:(e,t)=>{var a,c;const n=new File([],t.name,{type:t.mimeType}),r=ZLe(n),i=e.getState().files;if(i.some(l=>l.fileId===t.id))return;const s=((a=t.mimeType)==null?void 0:a.startsWith("image/"))===!0,o={tempId:r,status:Ps.Ready,file:n,fileId:t.id,cdnUrl:null,progress:100,source:"library",libraryFileId:t.libraryFileId,fileSpec:S({id:t.id,name:t.name,size:(c=t.size)!=null?c:0,mimeType:t.mimeType},s?{width:512,height:512}:{})};e.setState({files:[...i,o]})}},UY=e=>({onFileCreated:Lo.createFileCompleted.bind(null,e),onFileUploadProgress:Lo.updateProgress.bind(null,e),onFileUploaded:Lo.uploadCompleted.bind(null,e),onError:Lo.remove.bind(null,e)}),Dp=Tt({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}}),y3e=Et.createContext({mode:void 0,getGizmoId:void 0}),b3e=()=>E.useContext(y3e),t0={filePickerStarted:e=>{we.logEvent("Context Connectors: Picker Started",{contextConnector:e})},filePickerLoaded:e=>{we.logEvent("Context Connectors: Picker Loaded",{contextConnector:e})},filePickerPicked:(e,t)=>{we.logEvent("Context Connectors: Picker Picked",{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{we.logEvent("Context Connectors: Picker Cancelled",{contextConnector:e})},linkPasted:e=>{we.logEvent("Context Connectors: Link Pasted",S({},e))},linkMetadataFetchStarted:e=>{we.logEvent("Context Connectors: Link Metadata Fetch Started",{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{we.logEvent("Context Connectors: Link Metadata Fetch Succeeded",{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{we.logEvent("Context Connectors: Link Metadata Fetch Failed",{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{we.logEvent("Context Connectors: OAuth Upsell Button Click",{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{we.logEvent("Context Connectors: Expired Access Token Used",{contextConnector:e,useCase:t})}};function L$e(e,t,n,r){"use forget";const i=Y.c(16),s=En(),o=gt(),{getGizmoId:a}=b3e(),[c,l]=E.useState();let u,d;i[0]!==a?(u=()=>{a?a().then(T=>l(T)):l(void 0)},d=[a],i[0]=a,i[1]=u,i[2]=d):(u=i[1],d=i[2]),E.useEffect(u,d);const f=Yf(t),h=jY(),p=re();let m;i[3]!==e||i[4]!==p?(m=OLe(p,e),i[3]=e,i[4]=p,i[5]=m):m=i[5];const g=Ue(m);let y;return i[6]!==r||i[7]!==e||i[8]!==f||i[9]!==g||i[10]!==c||i[11]!==o||i[12]!==n||i[13]!==h||i[14]!==s?(y=T=>{const C=ph(e),{docsReferencedByURL:b}=C!=null?C:{};if(b==null)return;const O=Array.isArray(g)&&g.length>0?g:void 0;for(const w of T){const{id:A,type:x,handler:N}=w,R="".concat(x,":").concat(A),L=b[R],F=h.getState().files.find(G=>G.tempId===A);if(L!=null&&L!=="failed"&&F){s.success(o.formatMessage(Lp.fileAlreadyAttached),{hasCloseButton:!0});continue}e:switch(N.type){case"fetch":{_l(e,G=>{G.docsReferencedByURL[R]="pending"}),Lo.uploadFile(h,A,new File([],o.formatMessage(Lp.fileLoading)),pn.None,n,o,s,S({skipUpload:!0,gizmoId:c},O?{contextScopes:O}:{}),r,{contextConnector:x,sourceUrl:w.url,syntheticExtension:null,type:ef.Link}),t0.linkMetadataFetchStarted(x),N.tryFetch().then(G=>{if(Lo.remove(h,A,"none"),G==null)return null;const{id:z,title:V,connector:M,mimeType:te,url:$,syntheticExtension:se,o365DriveId:me,manifest:Ce}=G;t0.linkMetadataFetchSucceeded(x,te),_l(e,K=>{K.docsReferencedByURL[R]="fetched"});let J=V;M===xe.GDRIVE&&(J=se?"".concat(V,".").concat(se):V),Lo.uploadFile(h,z,new File([],J,{type:te.split(";")[0]}),pn.Retrieval,n,o,s,S({gizmoId:c},O?{contextScopes:O}:{}),r,{contextConnector:M,sourceUrl:$,syntheticExtension:se,type:ef.Link,o365DriveId:me,manifest:Ce})}).catch(G=>{t0.linkMetadataFetchFailed(x,G),G instanceof Ht&&G.status===404&&x===xe.NOTION_OPEN_CONNECTOR?(s.danger(Lp.fileNotAccessible,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),f.appendMessageIfNotDismissed({connector:x,type:"not-connected"})):s.danger(Lp.fileFetchFailed,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),_l(e,z=>{z.docsReferencedByURL[R]="failed"}),Lo.remove(h,A,"none")});break e}case"prompt":f.appendMessageIfNotDismissed({connector:x,type:N.message}),_l(e,G=>{G.docsReferencedByURL[R]="prompted"})}}},i[6]=r,i[7]=e,i[8]=f,i[9]=g,i[10]=c,i[11]=o,i[12]=n,i[13]=h,i[14]=s,i[15]=y):y=i[15],y}const Lp=Tt({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loadingâ€¦"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}}),BY=()=>{const e=zI(),{connectorConfig:t,isLoading:n,error:r,refetch:i}=tDe(),s=t.has(xe.CONFLUENCE)&&!e,o=t.has(xe.GDRIVE)&&!e,a=t.has(xe.JIRA)&&!e,c=t.has(xe.NOTION_OPEN_CONNECTOR)&&!e,l=(t.has(xe.O365_PERSONAL)||t.has(xe.O365_BUSINESS))&&!e,u=t.has(xe.SLACK_OPEN_CONNECTOR)&&!e;return{isConfluenceEnabled:s,isGdriveEnabled:o,isJiraEnabled:a,isNotionOpenConnectorEnabled:c,isO365Enabled:l,isSlackOpenConnectorEnabled:u,connectorConfig:t,isLoading:n,hasContextConnectorEnabled:s||o||a||c||l||u,error:r,refetch:i}},C3e=({connectorId:e,redirectAfter:t,systemHintType:n,referrer:r,showSettingsBehindConnectorLink:i,authTypeOverride:s,noRedirect:o,slackWorkspace:a,slackTeamId:c,syncOnly:l}={})=>GY(u=>{u.set(YI,"true"),u.set(KI,tn.CONNECTOR_SETTING),e&&u.set(xz,e),t&&u.set(Nz,t),n&&u.set(iPe,n),r&&u.set(XI,r),s&&u.set(QI,s),i&&u.set(Iz,"true"),o&&u.set(JI,"true"),a&&u.set(ZI,a),c&&u.set(eN,c),l&&u.set(tN,"true")}),j$e=()=>{const e=Zs();return(t={})=>e(C3e(t),{replace:!0})},F$e=()=>{const e=Zs();return()=>e(GY(t=>{t.delete(YI),t.delete(KI),t.delete(XI),t.delete(QI),t.delete(JI),t.delete(ZI),t.delete(eN),t.delete(tN)}),{replace:!0})};function GY(e){const t=window.location.hash,[n,r]=t.split("?"),i=new URLSearchParams(r);e(i);const s=i.toString();return ow+(s?"?".concat(s):"")}const U$e=()=>{const{hash:e}=zt(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(YI)==="true"},B$e=()=>{const{hash:e}=zt(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(Iz)==="true"},G$e=()=>{const{hash:e}=zt(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(nPe)==="true"},W$e=()=>{const{hash:e}=zt(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(rPe)==="true"},q$e=()=>{const e=Zs();return t=>{const n=window.location.hash,[r,i]=n.split("?"),s=new URLSearchParams(i);t?s.set("connector",t):s.delete("connector");const o=s.toString()?"".concat(r,"?").concat(s.toString()):r;e(o,{replace:!0})}},oo=e=>{const{hash:t}=zt();return E.useMemo(()=>{var i;const n=t.indexOf("?");return n===-1?void 0:(i=new URLSearchParams(t.slice(n+1)).get(e))!=null?i:void 0},[t,e])},V$e=()=>oo(Nz),$$e=()=>oo(JI),H$e=()=>oo(XI),E3e=nne(Object.values(tn),void 0),z$e=()=>E3e(oo(KI)),Y$e=()=>oo(tN),K$e=()=>oo(xz),J$e=()=>oo(ZI),X$e=()=>oo(eN),Q$e=()=>{const e=oo(QI);return e==="OAUTH"||e==="NONE"?e:void 0},Z4=e=>{if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e)},WY=e=>typeof e=="object"&&e!=null,S3e=e=>typeof e=="object"&&e!=null,O3e=e=>WY(e);function Z$e(e){if(!S3e(e))return[];if(!WY(e.properties))return[];const t=Array.isArray(e.required)?e.required.filter(n=>typeof n=="string"):[];return Object.entries(e.properties).map(([n,r])=>{const i=O3e(r)?r:{},s=typeof i.title=="string"?i.title:n,o=typeof i.type=="string"?i.type:"string",a=typeof i.description=="string"?i.description:void 0;let c;Array.isArray(i.enum)&&(c=i.enum.map(u=>Z4(u)).filter(u=>u!==void 0));const l=Z4(i.default);return{name:n,title:s,type:o,required:t.includes(n),description:a,enumValues:c,defaultValue:l!=null?l:void 0}})}const T3e=e=>e.defaultValue!==void 0?e.defaultValue:e.enumValues&&e.enumValues.length>0?e.enumValues[0]:"",e9e=(e,t)=>e.reduce((n,r)=>{const i=t[r.name];return i!==void 0&&(!r.enumValues||r.enumValues.includes(i))?n[r.name]=i:n[r.name]=T3e(r),n},{}),t9e=(e,t,n)=>{var s;const r={},i={};for(const o of e){const a=(s=t[o.name])!=null?s:"",c=o.enumValues&&o.enumValues.length>0?a:a.trim();o.required&&!c&&(r[o.name]=n.formatMessage(N3e.requiredFieldError)),c&&(i[o.name]=c)}return{sanitizedLinkParams:Object.keys(i).length>0?i:void 0,errors:r}},w3e=(e,t)=>t&&e.supported_auth.some(n=>n.type===t)?t:e.supported_auth.some(n=>n.type==="OAUTH")?"OAUTH":"NONE",A3e=e=>Z.safePost("/aip/connectors/links/noauth",{requestBody:{connector_id:e.id,name:e.name,action_names:[]},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}}),x3e=async({connector:e,redirectAfter:t,shouldRedirectToConnectorDetails:n=!1,onError:r,openPopup:i,toaster:s,intl:o,productSku:a,connectorIdOverride:c,slackTeamIdOverride:l,linkParams:u})=>{const d=c!=null?c:e.id,f={connectorId:d,name:e.name,actionNames:null,oauthClientId:d===nx?Bde:d===rx?Gde:d===ix?Wde:null,oauthClientScopes:null,slackTeamId:l,linkParams:u};return await Yde({redirectUri:Vde(),connectorPlatformParams:f,redirectTo:t||(n?"".concat(ow,"?connector=").concat(d):ow),onError:r,openPopup:i,toaster:s,intl:o,productSku:a})},I3e=async({connector:e,shouldRedirectToConnectorDetails:t=!1,openPopup:n,toaster:r,intl:i,authTypeOverride:s,redirectAfter:o})=>{switch(w3e(e,s)){case"OAUTH":return await x3e({connector:e,redirectAfter:o,shouldRedirectToConnectorDetails:t,openPopup:n,toaster:r,intl:i,productSku:tn.CONNECTOR_SETTING}),null;case"NONE":return await A3e(e)}},n9e=(e,t,n,r)=>Z.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:t,connector_id:e}},requestBody:{enabled_actions:n,enabled_roles:r}}),N3e=Tt({sectionTitle:{id:"addConnectorLinkModal.linkParams.sectionTitle",defaultMessage:"Provide account details"},sectionDescription:{id:"addConnectorLinkModal.linkParams.sectionDescription",defaultMessage:"We need a bit more information from you before continuing."},baseUrlHelper:{id:"addConnectorLinkModal.linkParams.baseUrlHelper",defaultMessage:"You can usually find these values in your URL (for example, {exampleUrl})."},requiredFieldsToast:{id:"addConnectorLinkModal.linkParams.requiredFieldsToast",defaultMessage:"Fill in the required fields to continue."},requiredFieldError:{id:"addConnectorLinkModal.linkParams.requiredFieldError",defaultMessage:"This field is required."},fieldPlaceholder:{id:"addConnectorLinkModal.linkParams.fieldPlaceholder",defaultMessage:"Enter {label}"},fieldLabelRequired:{id:"addConnectorLinkModal.linkParams.fieldLabelRequired",defaultMessage:"{label} (required)"}}),r9e=(e,t,n)=>Z.safePut("/accounts/{account_id}/connectors/{connector_id}/enabled_actions",{parameters:{path:{account_id:t,connector_id:e}},requestBody:{enabled_actions:n}}),R3e=()=>{const e=Iu(),t=Lu(),n=E.useMemo(()=>{var o;return(o=t.data)==null?void 0:o.connection_statuses.filter(a=>["google_drive_oauth","google_drive_dwd"].includes(a.user_connection_details.knowledge_connector_type))},[t.data]),r=BY(),i=r.connectorConfig.get(xe.GDRIVE),s=r.isGdriveEnabled&&!!i;return{isLoading:t.isLoading||r.isLoading,fileUploadConfig:s?i:null,internalKnowledgeEnabled:e,internalKnowledgeConfigs:e&&(n!=null&&n.length)?n:null}},i9e=()=>{var r;const e=Iu(),t=Lu(),n=(r=t.data)==null?void 0:r.connection_statuses.some(i=>i.user_connection_details.connection_type==="github_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},s9e=()=>{var r;const e=Iu(),t=Lu(),n=(r=t.data)==null?void 0:r.connection_statuses.some(i=>i.user_connection_details.connection_type==="sharepoint_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},o9e=e=>{const t=ys(),n=!(t!=null&&t.isPersonalAccount())&&(t==null?void 0:t.planType)!==Te.SELF_SERVE_BUSINESS,r=tCe(e),{isEnabled:i,isLoading:s}=P3e(e==="help_scout"?"helpscout_sync_connector":"".concat(e,"_sync_connector"));return n?r&&(i!=null?i:!1)&&!s:r},P3e=e=>{var i;const t=Iu(),n=Lu(),r=(i=n.data)==null?void 0:i.connection_statuses.some(s=>s.user_connection_details.connection_type===e);return{isLoading:n.isLoading,isEnabled:t&&r}},k3e=()=>{const e=BY(),t=e.connectorConfig.get(xe.O365_PERSONAL),n=e.connectorConfig.get(xe.O365_BUSINESS);return{isLoading:e.isLoading,personalConfig:e.isO365Enabled&&(t!=null&&t.access_token)?t:null,businessConfig:e.isO365Enabled&&(n!=null&&n.access_token)?n:null}},a9e=()=>{var y,v,T,C,b,O,w,A;const e=re(),t=Iu(),n=Ue(()=>Zo.if$(e,{productSku:tn.CONNECTOR_SETTING},t)),r=rv({fetchValidLinksOnly:!0,productSku:tn.CONNECTOR_SETTING}),{fileUploadConfig:i,internalKnowledgeConfigs:s}=R3e(),o=k3e(),a=Ue(()=>iv(e)),c=((v=(y=r.connectorLinks.get(Lt[P.GDRIVE_ACTION_CONNECTOR]))==null?void 0:y.length)!=null?v:0)>0||((T=s==null?void 0:s.filter(x=>x.user_connection_details.auth_status!=="not_connected").length)!=null?T:0)>0,l=((b=(C=r.connectorLinks.get(Lt[P.SHAREPOINT_CONNECTOR]))==null?void 0:C.length)!=null?b:0)>0,u=!!(i!=null&&i.access_token),d=!!((O=o.businessConfig)!=null&&O.access_token),f=(w=n.data)==null?void 0:w.find(x=>x.id===Lt[P.GDRIVE_ACTION_CONNECTOR]),h=f&&f.status!=="DISABLED_BY_ADMIN"||((A=s==null?void 0:s.filter(x=>x.user_connection_details.auth_status==="not_connected").length)!=null?A:0)>0,p=a!=null&&a.some(x=>x.type===P.SHAREPOINT_CONNECTOR&&x.status!=="DISABLED_BY_ADMIN");return{canUpgradeGDrive:u&&!c&&h,canUpgradeSharepoint:d&&!l&&p,isLoading:n.isLoading||r.isLoading}};async function c9e(e){return(await Z.safeGet("/aip/connectors/mcp/oauth_config",{parameters:{query:{mcp_url:e}},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}})).oauth_config}function l9e(e){return Z.safePost("/aip/connectors/mcp/refresh_actions",{requestBody:{link_id:e},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}})}function u9e(e,t){return Z.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{actions:t},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}})}function d9e(e,t){return Z.safePatch("/aip/connectors/{connector_id}/description",{parameters:{path:{connector_id:e}},requestBody:{description:t},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}})}function f9e(e,t){return Z.safePatch("/aip/connectors/{connector_id}/model_description",{parameters:{path:{connector_id:e}},requestBody:{model_description:t},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}})}function h9e(e,t){return Z.safePatch("/aip/connectors/{connector_id}/logo",{parameters:{path:{connector_id:e}},requestBody:{logo_url:t},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}})}function M3e(e){return Z.safeGet("/aip/connectors/{connector_id}/conformance",{parameters:{path:{connector_id:e}},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}})}function D3e(e){return Z.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}},additionalHeaders:{[_n]:tn.CONNECTOR_SETTING}})}const L3e=Tt({gdriveBrandName:{id:"81dp6y",defaultMessage:"Google Drive"}}),p9e=(e,t)=>e==="gdrive_action_connector"?t.formatMessage(L3e.gdriveBrandName):e;async function m9e(e,t,n){const r="https://chat.openai.com/aip/".concat(e.id,"/oauth/callback"),i=t,s=await Z.safeGet("/aip/p/{id}/user-settings/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:r,redirect_to:i}}});window.location.href=s.redirect_uri}async function g9e(e,t,n,r){const i=await Z.safeGet("/connectors/{id}/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:n,entry_point:t,redirect_to:r}}});window.location.href=i.redirect_uri}async function j3e(e,t){e&&await Z.safeDelete("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},additionalHeaders:t?{[_n]:t}:void 0})}async function F3e(e,t){await Z.safeDelete("/aip/connectors/links",{requestBody:{connector_id:e},additionalHeaders:t?{[_n]:t}:void 0})}function _9e(e){switch(e){case ef.Link:return"link_paste_popover";case ef.Picker:return"file_upload_menu"}}async function v9e(e){await Z.safeDelete("/connectors/user_setting/{connector_name}",{parameters:{path:{connector_name:e}}}),window.location.reload()}function y9e(e,t,n){return U3e(e,Lt[t],n)}function U3e(e,t,n){const r=mCe(e,n);return r&&B3e(r,t)}function B3e(e,t){const n=e.get(t);return!!n&&n.status!=="DISABLED_BY_ADMIN"}function G3e(e,t,n){const r=re(),i=tv(r),s=gt(),o=En(),{data:a,isLoading:c,error:l,refetch:u}=Yt({queryKey:["connector-client-data",e],queryFn:async()=>{const d=await Z.safeGet("/aip/connectors/oauth_clients",{parameters:{query:{service:t}},additionalHeaders:n?{[_n]:n}:void 0});return d.oauth_clients?d.oauth_clients:(o.danger(s.formatMessage({id:"OfpT7B",defaultMessage:"Request error fetching oauth clients"}),{id:"fetch-oauth-clients-error",duration:3,hasCloseButton:!0}),[])},enabled:i});return{oAuthClients:a,isLoading:c,error:l,refetch:u}}function b9e(){"use forget";const e=Y.c(2),t=ln();let n;return e[0]!==t?(n=()=>{t.invalidateQueries({refetchType:"all",queryKey:JV()}),t.invalidateQueries(I(S({},mA()),{refetchType:"all"}))},e[0]=t,e[1]=n):n=e[1],n}function C9e(e,t,n="/",r,i,s){var G;const o=re(),{data:a,isLoading:c,error:l}=Ue(()=>Zo(o,{productSku:r})),u=nv(a),{connectorLinks:d,isLoading:f,error:h,refetch:p}=rv({productSku:r}),{oAuthClients:m,isLoading:g,error:y,refetch:v}=G3e(e,t,r),T=W3e(),C=E.useCallback(()=>{Zo.refetch(o,{productSku:r}),p(),v()},[o,r,p,v]),b=Lt[e],O=u.get(b),w=E.useMemo(()=>{var z;return(z=d.get(b))!=null?z:[]},[d,b]),A=w[0],x=w.length>0,N=A==null?void 0:A.id,R=E.useCallback(z=>{const V=typeof z=="string"&&z?z:N;V&&T(V,()=>{C()},r)},[T,C,N,r]),L=(G=l!=null?l:h)!=null?G:y,D=c||f||g,F=E.useCallback(()=>{if(!D){if(!O){i==null||i();return}if(!(m!=null&&m.length)){s==null||s();return}window.location.hash="#settings/".concat(j_.Connectors,"?connector=").concat(b,"&add-connector-link=true&redirectAfter=").concat(n,"&product-sku=").concat(r,"&referrer=").concat(Rz.Codex)}},[D,O,m,b,i,s,n,r]);return E.useMemo(()=>({isLoading:D,isConnected:x,openConnectorModal:F,openGithubModal:F,error:L,refetch:C,handleDisconnect:R,link:A,links:w,platformConnector:O}),[D,x,F,L,C,R,A,w,O])}function E9e(e,t,n){"use forget";var m,g;const r=Y.c(20),i=re(),s=e==null?void 0:e.id;let o;r[0]!==s?(o=["connector-actions",s],r[0]=s,r[1]=o):o=r[1];let a;r[2]!==(e==null?void 0:e.id)||r[3]!==i||r[4]!==(n==null?void 0:n.forceEnable)?(a=!!(n!=null&&n.forceEnable)||!!(e!=null&&e.id)&&XV(i),r[2]=e==null?void 0:e.id,r[3]=i,r[4]=n==null?void 0:n.forceEnable,r[5]=a):a=r[5];let c;r[6]!==e||r[7]!==t?(c=()=>Z.safeGet("/aip/connectors/{connector_id}/actions",{parameters:{path:{connector_id:e.id}},additionalHeaders:t?{[_n]:t}:void 0}),r[6]=e,r[7]=t,r[8]=c):c=r[8];let l;r[9]!==o||r[10]!==a||r[11]!==c?(l={queryKey:o,enabled:a,queryFn:c},r[9]=o,r[10]=a,r[11]=c,r[12]=l):l=r[12];const{data:u,isLoading:d,refetch:f}=Yt(l);let h;r[13]!==(e==null?void 0:e.actions)||r[14]!==(u==null?void 0:u.actions)?(h=(g=(m=u==null?void 0:u.actions)!=null?m:e==null?void 0:e.actions)!=null?g:[],r[13]=e==null?void 0:e.actions,r[14]=u==null?void 0:u.actions,r[15]=h):h=r[15];let p;return r[16]!==d||r[17]!==f||r[18]!==h?(p={actions:h,isLoading:d,refetch:f},r[16]=d,r[17]=f,r[18]=h,r[19]=p):p=r[19],p}function S9e(e){"use forget";const t=Y.c(18),n=re(),r=gt(),i=En(),s=pEe();let o;t[0]!==n?(o=on(n),t[0]=n,t[1]=o):o=t[1];const a=o;let c;t[2]!==n?(c=()=>zx(n),t[2]=n,t[3]=c):c=t[3];const l=Ue(c);let u;t[4]!==n?(u=uEe(n),t[4]=n,t[5]=u):u=t[5];const d=u;let f;t[6]!==r||t[7]!==d||t[8]!==l||t[9]!==s||t[10]!==e||t[11]!==i?(f=async m=>{const O=m,{supported_auth:g,oauth_client_params:y,skipSafetyChecks:v}=O,T=W(O,["supported_auth","oauth_client_params","skipSafetyChecks"]),{connector:C}=await Z.safePost("/aip/connectors/mcp",{requestBody:I(S(S({},T),v===void 0?{}:{skip_safety_checks:v}),{auth_request:{supported_auth:g,oauth_client_params:y}}),additionalHeaders:e?{[_n]:e}:void 0});if(C.supported_auth.length===0){const w=await M3e(C.id);if(!l&&!d&&!w.implements_retrievable)return await D3e(C.id),{connector:null,link:null,implementsRetrievable:!1}}const b=await I3e({connector:C,shouldRedirectToConnectorDetails:!0,openPopup:s,toaster:i,intl:r,authTypeOverride:m.authTypeOverride,redirectAfter:m.redirectAfter});return{connector:C,link:b,implementsRetrievable:!0}},t[6]=r,t[7]=d,t[8]=l,t[9]=s,t[10]=e,t[11]=i,t[12]=f):f=t[12];let h;t[13]!==a?(h=()=>{a.invalidateQueries()},t[13]=a,t[14]=h):h=t[14];let p;return t[15]!==f||t[16]!==h?(p={mutationFn:f,onSettled:h},t[15]=f,t[16]=h,t[17]=p):p=t[17],un(p)}function O9e(){const e=gt(),t=En(),n=ln();return async(i,s,o)=>{try{await F3e(i,o),await n.invalidateQueries(),s==null||s()}catch(a){t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function W3e(){const e=gt(),t=En(),n=ys(),r=rv(),i=ln();return async(o,a,c)=>{try{await j3e(o,c),i.invalidateQueries({queryKey:["fetchConnectorLinkData",n==null?void 0:n.normalizedAccountUserId]}),await r.refetch(),a==null||a()}catch(l){t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function T9e(){const e=re(),t=ys(),n=gt(),r=En();return un({mutationKey:["upgradeConnectorToSync"],mutationFn:({link:i,user_extension:s})=>t!=null&&t.isPersonalAccount()?Qo.user_request_connect_upgrade_to_sync({link_id:i.id,user_extension:s}):Qo.user_activate_workspace_connection_and_user({link_id:i.id,user_extension:s}),onMutate:({link:i,isConnectingAndUpgrading:s=!1})=>{we.logEventWithStatsig("Connectors - Upgrade To Sync Initiated","chatgpt_connectors_upgrade_to_sync_initiated",{connector_id:i.connector_id,isConnectingAndUpgrading:s?"true":"false"})},onSuccess:(i,{link:s,isConnectingAndUpgrading:o=!1})=>{Vx(e),r.success(o?n.formatMessage({id:"rfbIpd",defaultMessage:"{connector} is now connected and syncing."},{connector:s.name}):n.formatMessage({id:"yhtO5d",defaultMessage:"{connector} is now syncing."},{connector:s.name})),we.logEventWithStatsig("Connectors - Upgrade To Sync Success","chatgpt_connectors_upgrade_to_sync_success",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})},onError:(i,{link:s,isConnectingAndUpgrading:o=!1})=>{if(o)r.warning(n.formatMessage({id:"wag12O",defaultMessage:"{connector} is now connected, but not syncing. Try enabling sync again."},{connector:s.name}));else{const a=i instanceof Ht&&i.status===409?n.formatMessage({id:"Tedt6I",defaultMessage:"Connector name already exists"}):n.formatMessage({id:"tumE6A",defaultMessage:"There was a problem syncing {connector}. Try again later."},{connector:s.name});r.danger(a,{toastId:"upgrade_connector_to_sync",loggingTitle:i instanceof Ht&&i.status===409?"Connector name already exists":"There was a problem syncing {connector}. Try again later."})}we.logEventWithStatsig("Connectors - Upgrade To Sync Error","chatgpt_connectors_upgrade_to_sync_error",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})}})}function w9e(){const e=re(),t=gt(),n=En(),{refetch:r}=Lu();return async s=>{try{await Qo.user_delete_sync(s),r(),Vx(e),n.success(t.formatMessage({id:"Nktfkq",defaultMessage:"Successfully disabled sync."}))}catch(o){n.danger(fn({id:"+R+5ol",defaultMessage:"Error disabling sync for your connector."}),{toastId:"disable_sync_on_connector"})}}}function qY(e){var n;if(!((n=Dr(e))!=null&&n.isEnterprisey()))return!0;const t=iv(e);return zV(e)||t!=null&&t.length>0}const q3e={enabledAutoConnectors:[],isLoading:!1};function A9e({platformConnectors:e,enabled:t}){const n=re(),{isLoading:r,data:i}=Ue(()=>Oh.if$(n,t)),v=i!=null?i:{},{disabledTools:s=[]}=v,o=W(v,["disabledTools"]),a=ln(),{isPending:c,mutate:l}=un({mutationFn:async({data:T})=>await ECe(T),onSettled:(T,C)=>{const b=["userContext"];T!=null&&!C?a.setQueryData(b,T):a.invalidateQueries({queryKey:b})},onError:T=>(we.logEventWithStatsig("chatgpt_web_disable_auto_connectors_for_teams_error","chatgpt_web_disable_auto_connectors_for_teams_error",{errorMessage:T.message}),T)}),u=$x(n),{enabledAutoConnectors:d,isLoading:f}=Ue(()=>t?r$(n):q3e),[h,p]=E.useState(!1),m=E.useMemo(()=>u.filter(T=>{var C;return e.has(Lt[T])&&((C=e.get(Lt[T]))==null?void 0:C.status)==="DISABLED_BY_ADMIN"}),[u,e]),{newDisabledTools:g,maybeNewEnabledTools:y}=E.useMemo(()=>{if(!t)return{newDisabledTools:[],maybeNewEnabledTools:[]};const T=[],C=[];return d.length>0&&d.forEach(b=>{var O;m.includes(b)&&!s.includes((O=fp(b))!=null?O:"")&&T.push(b)}),m.length<u.length&&m.length<u.length&&u.forEach(b=>{var O;!m.includes(b)&&s.includes(((O=fp(b))!=null?O:"").concat("_admin_disabled"))&&C.push(b)}),{newDisabledTools:T,maybeNewEnabledTools:C}},[t,d,s,u,m]);E.useEffect(()=>{if(!t||r||c||h||f||g.length===0&&y.length===0)return;const T=new Set(s);y.forEach(C=>{const b=fp(C);b&&(T.delete(b),T.delete("".concat(b,"_admin_disabled")))}),g.forEach(C=>{const b=fp(C);b&&(T.add(b),T.add("".concat(b,"_admin_disabled")))}),l({data:S({disabledTools:Array.from(T)},o)}),p(!0)},[r,c,l,g,y,o,h,s,f,t])}const V3e=Ge(()=>Oe({})),$3e=Ge(e=>Ee(()=>{var T,C,b,O,w,A,x,N,R,L,D,F,G,z,V;const t=ki(e);if(!St(e)){const M=an(e,"2526598250");return{dynamicPlaceholderEnabled:M.get("dynamic-placeholder-enabled",!1),isSingleLine:t||M.get("single-line",!1),isCombinedList:M.get("combined-list",!1),plusButtonLabel:M.get("plus-button-label",!1),loggedOutAttachLabel:M.get("logged-out-attach-label",!0),loggedOutAttachPlusIcon:M.get("logged-out-attach-plus-icon",!1),loggedOutVoiceLabel:M.get("logged-out-voice-label",!0),loggedOutHideToolButtons:M.get("logged-out-hide-tool-buttons",!1),isImageGenButtonEnabled:M.get("is_image_gen_button_enabled",!1),fontSize:M.get("font-size","base"),plusButtonAddsFiles:M.get("plus-button-adds-files",!1),disableMotion:M.get("disable-motion",!1),attachfileRateLimitMessageVariant:"title_and_description",attachfileRateLimitMessageShowIcon:!0,fullyCollapsedToolMenu:!1,showSlashHint:!1,showModelsInPlusMenu:!1,showSelectedModelInComposer:!1,showModelSlashCommands:!1,showThinkingEffortPicker:!1,systemHintsByPlan:{free:[]}}}const n=an(e,"790459319"),r=V3e(e),i=(T=r.dynamicPlaceholderEnabled)!=null?T:n.get("dynamic-placeholder-enabled",!1),s=(C=r.isSingleLine)!=null?C:t||n.get("single-line",!1),o=(b=r.isCombinedList)!=null?b:n.get("combined-list",!1),a=(O=r.fontSize)!=null?O:n.get("font-size","base"),c=(w=r.attachfileRateLimitMessageVariant)!=null?w:n.get("attachfile-rate-limit-message-variant","title_and_description"),l=(A=r.attachfileRateLimitMessageShowIcon)!=null?A:n.get("attachfile-rate-limit-message-show-icon",!0),u=(x=r.fullyCollapsedToolMenu)!=null?x:n.get("fully-collapsed-tool-menu",!1),d=(N=r.showSlashHint)!=null?N:n.get("show-slash-hint",!1),f=(R=r.plusButtonLabel)!=null?R:n.get("plus-button-label",!1),h=(L=r.showModelsInPlusMenu)!=null?L:n.get("models-in-plus-menu",!1),p=(D=r.showSelectedModelInComposer)!=null?D:n.get("show-selected-model-in-composer",!1),m=(F=r.showModelSlashCommands)!=null?F:n.get("model-slash-commands",!1),g=(G=r.showThinkingEffortPicker)!=null?G:n.get("show-juice-control",!1),y=(z=r.systemHintsByPlan)!=null?z:n.get("system-hints-by-plan",{free:[]}),v=(V=r.disableMotion)!=null?V:n.get("disable-motion",!1);return{dynamicPlaceholderEnabled:i,isSingleLine:s,isCombinedList:o,fontSize:a,attachfileRateLimitMessageVariant:c,attachfileRateLimitMessageShowIcon:l,fullyCollapsedToolMenu:u,showSlashHint:d,plusButtonLabel:f,showModelsInPlusMenu:h,showSelectedModelInComposer:p,showModelSlashCommands:m,showThinkingEffortPicker:g,systemHintsByPlan:y,disableMotion:v,plusButtonAddsFiles:!1,loggedOutAttachLabel:!0,loggedOutAttachPlusIcon:!1,loggedOutVoiceLabel:!0,loggedOutHideToolButtons:!1,isImageGenButtonEnabled:!1}}));var n0,eF;function H3e(){if(eF)return n0;eF=1;var e=Cu(),t=_$();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return n0=n,n0}var z3e=H3e();const Y3e=Gt(z3e),K3e=new Set(["gdrive_sync_connector","slack_sync_connector","github_sync_connector","notion_sync_connector","sharepoint_admin_sync_connector","confluence_sync_connector","jira_sync_connector","jira_servicemanagement_sync_connector"]),J3e=new Set(["github_sync_connector"]),AN=Ge(e=>Ee(()=>{const t=X3e(e),n=VY(e);if(t)return $Y(t,n)},{equals:F_})),X3e=Ge(e=>Ee(()=>{var m,g;const{data:t,isPending:n}=MG(e),r=qY(e),i=E$(e),s=zx(e);if(n)return;if(!t)return[];const o=D0e(e),a=$e(e,"1627380539"),c=Zt(e,"3401870206").get("hide_use_connectors",!1),{systemHintsByPlan:l,showModelsInPlusMenu:u}=$3e(e),d=t.filter(y=>!(y.systemHint===ae.Think&&o&&(!a||u)||y.systemHint===ae.Slurm&&(!r||c)||y.systemHint===ae.Glaux&&!i||y.systemHint===ae.ApiTool&&!s)),f=(m=S0e(e).systemHintsByPlan)!=null?m:l,h=(g=at(e))==null?void 0:g.planType;return d.sort(r2e(f,h,Yx(e)))},{equals:F_})),VY=Ge(e=>Ee(()=>{var m;const t=qY(e),n=E$(e);if(!t&&!n)return[];const r=Th(e,{productSku:tn.SLURM}),i=iv(e),{data:s,isLoading:o}=Cc.if$(e,!!t),{data:a,isLoading:c}=QV(e,{fetchValidLinksOnly:!0});if(!r||!i||o||c)return;const u=Y3e((m=s==null?void 0:s.connection_statuses)!=null?m:[],g=>g.user_connection_details.connection_instance_id).filter(g=>Z3e(g)),f=r.filter(g=>{var y;return(i.some(v=>v.id===g.id)||g.connector_type==="MCP")&&(!((y=g.branding)!=null&&y.is_discoverable_app)||g.conformance.implements_retrievable)&&(a==null?void 0:a.has(g.id))&&!u.some(v=>{var T,C;return v.user_connection_details.backing_link_id===((C=(T=a.get(g.id))==null?void 0:T[0])==null?void 0:C.id)||g.id===Lt[P.GDRIVE_ACTION_CONNECTOR]&&v.user_connection_details.connection_type==="gdrive_sync_connector"})&&![Lt[P.GMAIL_CONNECTOR],Lt[P.GOOGLE_CONTACTS_CONNECTOR],Lt[P.GCAL_CONNECTOR]].includes(g.id)&&g.type!==P.SLACK_CODEX_CONNECTOR&&g.type!==P.SLACK_CODEX_BOT_CONNECTOR}).map(g=>Q3e(g)),h=u.map(g=>e2e(g));return[...$Y(f,h)].sort((g,y)=>g.name.localeCompare(y.name))},{equals:F_})),x9e=Ge(e=>Ee(()=>!VY(e)));function $Y(e,t){if(!t||t.length===0)return e;const n=new Map;return e.forEach(r=>{n.set(r.systemHint,r)}),t.forEach(r=>{n.set(r.systemHint,r)}),Array.from(n.values())}const Q3e=eo(e=>{var t,n,r,i;return{systemHint:hG(e.id),aliases:xN(e.name,e.service),name:e.name,actionLabel:e.name,shortLabel:e.name,description:(t=e.description)!=null?t:e.name,logo:(n=e.logo_url)!=null?n:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],composerBarButtonInfo:void 0,suggestedPrompt:void 0,isAuto:!1,category:"tool",persistBetweenMessages:!0,requiresOptIn:e.status==="ONLY_ME",isConnector:!0,keywordInvocations:HY(e.name,e.service),hideFromInitialSelection:!1,badgeType:t2e(e),isDangerous:e.status==="ONLY_ME",connectorLogoUrl:(r=e.logo_url)!=null?r:void 0,connectorLogoUrlDark:(i=e.logo_url_dark)!=null?i:void 0}});function Z3e(e){const t=e.user_connection_details.connection_type;return J3e.has(t)?!1:K3e.has(t)?!(t==="sharepoint_sync_connector"&&e.user_connection_details.activation_status!=="activated"||!["partially_activated","activating","activated"].includes(e.user_connection_details.activation_status)):n2e(e)}const e2e=eo(e=>{var i,s,o,a;const{connection_type:t}=e.user_connection_details,n=e.connection_display_info,r=Xde(e);return{systemHint:hG(t),aliases:xN(r,t!=null?t:void 0),name:r,actionLabel:r,shortLabel:r,description:(i=n.description)!=null?i:r,logo:(s=n.icon_url)!=null?s:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],composerBarButtonInfo:void 0,suggestedPrompt:void 0,isAuto:!1,category:"tool",persistBetweenMessages:!0,requiresOptIn:!1,isConnector:!0,keywordInvocations:HY(r,t!=null?t:void 0),hideFromInitialSelection:!1,badgeText:void 0,isDangerous:!1,connectorLogoUrl:(o=n.icon_url)!=null?o:void 0,connectorLogoUrlDark:(a=n.icon_dark_url)!=null?a:void 0}});function xN(...e){const t=new Set;return e.forEach(n=>{n&&(t.add(n),t.add(n.toLowerCase()))}),Array.from(t)}function HY(...e){return xN(...e)}function t2e(e){if(e.connector_type==="MCP")return e.status==="ONLY_ME"?Hp.DEV:e.supports_full_actions&&e.status==="ENABLED"?Hp.BETA:Hp.CUSTOM}function n2e(e){switch(e.user_connection_details.activation_status){case"activated":case"partially_activated":return!0;case"activating":case"inactive":return!1}}function r2e(e,t,n){const r=i2e(e,t),i=r&&r.length>0?r:s2e(t,n);return(s,o)=>{const a=i.indexOf(s.systemHint),c=i.indexOf(o.systemHint),l=a===-1?Number.MAX_SAFE_INTEGER:a,u=c===-1?Number.MAX_SAFE_INTEGER:c;return l===u?0:l>u?1:-1}}function i2e(e,t){if(t===Te.FREE)return e.free;if(t===Te.PRO)return e.pro;if(t===Te.PLUS)return e.plus;if(t===Te.GO)return e.go}function s2e(e,t){switch(e){case void 0:case Te.FREE:return[ae.PictureV2,ae.Picture,ae.Think,ae.Agent,ae.Research,ae.Tatertot,ae.Slurm,ae.Search,ae.Canvas,ae.Video];case Te.K12:case Te.EDUCATION_CBP:case Te.DEPRECATED_EDU:return[ae.ApiTool,ae.Tatertot,ae.PictureV2,ae.Picture,ae.Think,ae.Agent,ae.Research,t?ae.Glaux:ae.Slurm,ae.Search,ae.Canvas,ae.Video];case Te.GO:case Te.PLUS:case Te.PRO:return[ae.ApiTool,ae.Research,ae.PictureV2,ae.Picture,ae.Think,ae.Agent,ae.Slurm,ae.Tatertot,ae.Search,ae.Canvas,ae.Video];case Te.ENTERPRISE_CBP:case Te.SELF_SERVE_BUSINESS:case Te.QUORUM:case Te.DEPRECATED_ENTERPRISE:return[ae.ApiTool,t?ae.Glaux:ae.Slurm,ae.Research,ae.Think,ae.Agent,ae.PictureV2,ae.Picture,ae.Search,ae.Canvas,ae.Video]}}let o2e=0;const zY=E.createContext(null);function a2e({children:e}){const[t]=E.useState(()=>({}));return E.createElement(zY.Provider,{value:t},e)}function IN(e){var i;if(e===void 0)return IN;const t=typeof e=="function"?e:()=>e;let n;const r=E.createContext(null);return i=class{static useState(o=c2e,a){return wN(this.useStore(),o,a)}static useStore(){return this.useStoreWithInit()}static useStoreSignal(){const o=this.useStore();if(this.storeSignalMap.has(o))return this.storeSignalMap.get(o);const a=Yg(o);return this.storeSignalMap.set(o,a),a}static useStoreWithInit(...o){var u;const a=E.useContext(r),c=E.useContext(zY);if(a)return a;const l=(u=this.name)!=null?u:"Store";if(!c)throw new Error("No StoreScope found. Must use ".concat(l," within a <StoreScopeProvider> or <").concat(l,".Provider>."));if(n||(n="".concat(l,":").concat(o2e++)),n in c)return c[n];if(typeof t=="function"&&t.length>0&&o.length===0)throw new Error("Not initialized. First call ".concat(l,".useStoreWithInit(value) or <").concat(l,".Provider store={() => new ").concat(l,"(value)}>"));return c[n]=new this(...o)}static Provider({store:o,children:a}){const[c]=E.useState(o);return E.createElement(r.Provider,{value:c},a)}constructor(o){const a=t(o);Object.assign(this,xc(typeof a=="function"?a:()=>a))}},U(i,"storeSignalMap",new WeakMap),i}function c2e(e){return e}const $a=e=>{var n;const t={turn_index:(n=e.turnIndex)==null?void 0:n.toString(),thread_id:e.threadId,conversation_id:e.clientThreadId?ax(e.clientThreadId):void 0,message_id:e==null?void 0:e.messageId};return Object.fromEntries(Object.entries(t).filter(([r,i])=>i!==void 0))};var l2e=(e=>(e.ANNUAL="Annual",e.MONTHLY="Monthly",e))(l2e||{}),YY=(e=>(e.SLASH_COMMAND="slash_command",e))(YY||{}),u2e=(e=>(e.CONVERSATION_COMPOSER_WEB_ICON="conversation_composer_web_icon",e.CONVERSATION_COMPOSER_TOOL_MENU="conversation_composer_tool_menu",e.CONVERSATION_COMPOSER_SLASH_SEARCH="conversation_composer_slash_search",e.CONVERSATION_REGENERATE_WITH_SEARCH="conversation_regenerate_with_search",e.CONVERSATION_REGENERATE_WITHOUT_SEARCH="conversation_regenerate_without_search",e.URL_SEARCH_HINT="url_search_hint",e.URL_NO_SEARCH_HINT="url_no_search_hint",e.SAFARI_MACOS_BROWSER_BAR="safari_macos_browser_bar",e.SAFARI_IOS_BROWSER_BAR="safari_ios_browser_bar",e.CHROME_BROWSER_BAR="chrome_browser_bar",e))(u2e||{});function d2e(e,t=1e3,n=100){document.activeElement!==e&&e.focus();const r=Date.now(),i=setInterval(()=>{document.activeElement!==e&&e.focus(),Date.now()-r>=t&&clearInterval(i)},n)}class gs extends IN()(({initialHint:n=null,locked:r=!1})=>({locked:r,activeSystemHintType:n,activeConnectorSystemTypes:new Set,activeSystemHintTrigger:void 0})){constructor(){super(...arguments);U(this,"getActiveSystemHintType",()=>this.getState().activeSystemHintType);U(this,"getActiveConnectorSystemTypes",()=>this.getState().activeConnectorSystemTypes);U(this,"addConnectorSystemHint",(n,r,i,s)=>{var u,d,f;const{activeSystemHintType:o,activeConnectorSystemTypes:a,locked:c}=this.getState();if(c&&(i==null?void 0:i.locked)===void 0||(i==null?void 0:i.ifPrevSystemHint)!==void 0&&i.ifPrevSystemHint!==o)return;const l=new Set((u=r==null?void 0:r.filter(h=>h.isDangerous).map(h=>h.systemHint))!=null?u:[]);if(!a.has(n)){if(s)this.setState({activeConnectorSystemTypes:new Set([...a,n])});else if(l&&l.has(n)){const h=new Set([...a,n].filter(p=>l.has(p)));this.setState({activeConnectorSystemTypes:h})}else if(l){const h=new Set([...a,n].filter(p=>!l.has(p)));this.setState({activeConnectorSystemTypes:h})}(i==null?void 0:i.triggerSource)===YY.SLASH_COMMAND&&_S(n,sm.SlashCommand,$a((d=i==null?void 0:i.analyticsMetadata)!=null?d:{})),_S(n,sm.Enable,$a((f=i==null?void 0:i.analyticsMetadata)!=null?f:{}))}Rl(o)||this.setActiveSystemHint(nA,r,i)});U(this,"removeConnectorSystemHint",(n,r)=>{var a;const{activeSystemHintType:i,activeConnectorSystemTypes:s,locked:o}=this.getState();if(!(o&&(r==null?void 0:r.locked)===void 0||(r==null?void 0:r.ifPrevSystemHint)!==void 0&&r.ifPrevSystemHint!==i)&&s.has(n)){const c=new Set(s);c.delete(n),_S(n,sm.Disable,$a((a=r==null?void 0:r.analyticsMetadata)!=null?a:{})),this.setState({activeSystemHintType:Rl(i)&&c.size===0?null:i,activeConnectorSystemTypes:c})}});U(this,"getPersistedSystemHintTrigger",n=>{if(!this.getState().locked&&this.getState().activeSystemHintType===n)return this.getState().activeSystemHintTrigger})}setActiveSystemHint(n,r,i,s){var l;const{locked:o,activeSystemHintType:a,activeConnectorSystemTypes:c}=this.getState();if(!(o&&(i==null?void 0:i.locked)===void 0||(i==null?void 0:i.ifPrevSystemHint)!==void 0&&i.ifPrevSystemHint!==a)){if(Um(n)){this.addConnectorSystemHint(n,r!=null?r:[],i,s);return}h2e(a,n,i==null?void 0:i.analyticsMetadata,i==null?void 0:i.triggerSource),this.setState({locked:(l=i==null?void 0:i.locked)!=null?l:o,activeSystemHintType:n,activeSystemHintTrigger:n?i==null?void 0:i.triggerSource:void 0,activeConnectorSystemTypes:Rl(n)?c:new Set})}}}const N9e=()=>{"use forget";return gs.useState(y2e)},R9e=()=>{"use forget";return gs.useState(b2e)};function P9e(){"use forget";const e=Y.c(2),t=gs.useStoreSignal();let n;return e[0]!==t?(n=Ee(()=>t().activeSystemHintType),e[0]=t,e[1]=n):n=e[1],n}function f2e(e,t,n,r,i,s){e.setActiveSystemHint(n,r,i,s),w7()&&n&&d2e(ou(t).dom)}const k9e=()=>{"use forget";var l;const e=Y.c(9),t=re(),n=gs.useStore(),r=gye();let i;e[0]!==t?(i=()=>AN(t),e[0]=t,e[1]=i):i=e[1];const s=Ue(i);let o;e[2]!==t?(o=(l=at(t))==null?void 0:l.isWorkspacePlan(),e[2]=t,e[3]=o):o=e[3];const a=o;let c;return e[4]!==r||e[5]!==a||e[6]!==n||e[7]!==s?(c=(u,d)=>f2e(n,r,u,s,d,a),e[4]=r,e[5]=a,e[6]=n,e[7]=s,e[8]=c):c=e[8],c},M9e=()=>{"use forget";var c;const e=Y.c(8),t=re(),n=gs.useStore();let r;e[0]!==t?(r=()=>AN(t),e[0]=t,e[1]=r):r=e[1];const i=Ue(r);let s;e[2]!==t?(s=(c=at(t))==null?void 0:c.isWorkspacePlan(),e[2]=t,e[3]=s):s=e[3];const o=s;let a;return e[4]!==o||e[5]!==n||e[6]!==i?(a=(l,u)=>n.addConnectorSystemHint(l,i!=null?i:[],u,o),e[4]=o,e[5]=n,e[6]=i,e[7]=a):a=e[7],a},D9e=()=>{"use forget";const e=Y.c(2),t=gs.useStore();let n;return e[0]!==t?(n=(r,i)=>t.removeConnectorSystemHint(r,i),e[0]=t,e[1]=n):n=e[1],n};function tF({persistSearchMode:e,persistTatertotMode:t,persistAgentMode:n,forcedSystemHintType:r,completionMetadataHints:i,systemHintsFromSearchParams:s}){return r||(s.length>0?s[0]:e?ae.Search:t?ae.Tatertot:n?ae.Agent:i?i[0]:null)}function h2e(e,t,n,r){var i,s;t?(M2(t,k1.Enable,$a(n!=null?n:{})),t===ae.Agent&&Q.addAction("agent.hint.enabled",{client_thread_id:String((i=n==null?void 0:n.clientThreadId)!=null?i:"")})):e&&(M2(e,k1.Disable,$a(n!=null?n:{})),e===ae.Agent&&Q.addAction("agent.hint.disabled",{client_thread_id:String((s=n==null?void 0:n.clientThreadId)!=null?s:"")})),t===ae.Search?we.logEventWithStatsig("Search Mode Engaged","search_mode_engaged",I(S({},$a(n!=null?n:{})),{triggerSource:r})):t==null&&e===ae.Search&&we.logEventWithStatsig("Search Mode Disabled","search_mode_disabled",$a(n!=null?n:{}))}function L9e(e){"use forget";var He,Ne;const t=Y.c(75),{children:n,conversation:r,forcedSystemHintType:i}=e,s=re(),[o]=Tc();let a;t[0]!==s?(a=ki(s),t[0]=s,t[1]=a):a=t[1];const c=a;let l;t[2]!==s?(l=()=>AN(s),t[2]=s,t[3]=l):l=t[3];const u=Ue(l);let d;t[4]!==o||t[5]!==u?(d=v$(o,{availableHints:u}),t[4]=o,t[5]=u,t[6]=d):d=t[6];const f=d;let h;t[7]!==r?(h=()=>Xbe(r),t[7]=r,t[8]=h):h=t[8];const p=Ue(h);let m;t[9]!==p.enabledTools?(m=(He=p.enabledTools)==null?void 0:He.includes(lG.Search),t[9]=p.enabledTools,t[10]=m):m=t[10];const g=!!m;let y;t[11]!==r?(y=()=>{var ge;return(ge=v0e(r))!=null?ge:[]},t[11]=r,t[12]=y):y=t[12];const v=Ue(y),T=mh(r.id,p2e),C=c&&T;let b;t[13]!==v||t[14]!==g||t[15]!==C?(b=!C&&(v==null?void 0:v.includes(ae.Search))&&g,t[13]=v,t[14]=g,t[15]=C,t[16]=b):b=t[16];const O=b;let w;t[17]!==s||t[18]!==v?(w=(v==null?void 0:v.includes(ae.Tatertot))&&i0e(s),t[17]=s,t[18]=v,t[19]=w):w=t[19];const A=w;let x;t[20]!==s||t[21]!==v?(x=v.includes(ae.Agent)&&n$(s),t[20]=s,t[21]=v,t[22]=x):x=t[22];const N=x;let R;t[23]===Symbol.for("react.memo_cache_sentinel")?(R=[],t[23]=R):R=t[23];let L=R,D,F;if(t[24]!==v||t[25]!==u){let ge;t[28]!==u?(ge=he=>{var j;return(j=u==null?void 0:u.find(Qe=>Qe.systemHint===he))==null?void 0:j.persistBetweenMessages},t[28]=u,t[29]=ge):ge=t[29],D=v.find(ge),F=Um(D),t[24]=v,t[25]=u,t[26]=D,t[27]=F}else D=t[26],F=t[27];if(F){D=nA;let ge;if(t[30]!==v||t[31]!==u){let he;t[33]!==u?(he=j=>{var Qe;return Um(j)&&((Qe=u==null?void 0:u.find(Re=>Re.systemHint===j))==null?void 0:Qe.persistBetweenMessages)},t[33]=u,t[34]=he):he=t[34],ge=v.filter(he),t[30]=v,t[31]=u,t[32]=ge}else ge=t[32];L=ge}let G;t[35]!==L||t[36]!==D?(G=[D,L],t[35]=L,t[36]=D,t[37]=G):G=t[37];const[z,V]=G;let M;t[38]!==r?(M=()=>Jye(r),t[38]=r,t[39]=M):M=t[39];const te=Ue(M);let $;t[40]!==te||t[41]!==i||t[42]!==N||t[43]!==O||t[44]!==A||t[45]!==f?($=()=>{const ge=tF({persistSearchMode:O,persistTatertotMode:A,persistAgentMode:N,forcedSystemHintType:i,completionMetadataHints:te,systemHintsFromSearchParams:f});return new gs({initialHint:ge,locked:i!=null})},t[40]=te,t[41]=i,t[42]=N,t[43]=O,t[44]=A,t[45]=f,t[46]=$):$=t[46];const[se]=E.useState($),me=E.useRef(r.id);let Ce;t[47]!==f?(Ce=f.join(","),t[47]=f,t[48]=Ce):Ce=t[48];const J=Ce,K=E.useRef(J);let ne;t[49]!==s?(ne=(Ne=at(s))==null?void 0:Ne.isWorkspacePlan(),t[49]=s,t[50]=ne):ne=t[50];const X=ne;let ee,ve;t[51]!==te||t[52]!==V||t[53]!==r.id||t[54]!==i||t[55]!==N||t[56]!==O||t[57]!==A||t[58]!==X||t[59]!==se||t[60]!==J||t[61]!==C||t[62]!==z||t[63]!==u||t[64]!==f?(ee=()=>{const ge=()=>{const j=tF({persistSearchMode:O,persistTatertotMode:A,persistAgentMode:N,forcedSystemHintType:i,completionMetadataHints:te,systemHintsFromSearchParams:f});se.setActiveSystemHint(j,u,{locked:i!=null},X),K.current=J};me.current!==r.id?(se.setActiveSystemHint(null),ge(),me.current=r.id):f.length>0&&J!==K.current&&i==null&&!se.getState().locked&&ge();const he=se.getActiveSystemHintType();O&&he!==ae.Search?se.setActiveSystemHint(ae.Search,u,{analyticsMetadata:{clientThreadId:r.id}},X):A&&he!==ae.Tatertot?se.setActiveSystemHint(ae.Tatertot,u,{analyticsMetadata:{clientThreadId:r.id}},X):z&&((z!==ae.Search||!C)&&se.setActiveSystemHint(z,u,{analyticsMetadata:{clientThreadId:r.id}},X),V.forEach(j=>{se.addConnectorSystemHint(j,u,{analyticsMetadata:{clientThreadId:r.id}},X)}))},ve=[r.id,te,i,O,A,N,se,z,V,f,J,u,X,C],t[51]=te,t[52]=V,t[53]=r.id,t[54]=i,t[55]=N,t[56]=O,t[57]=A,t[58]=X,t[59]=se,t[60]=J,t[61]=C,t[62]=z,t[63]=u,t[64]=f,t[65]=ee,t[66]=ve):(ee=t[65],ve=t[66]),E.useEffect(ee,ve);const ue=E.useRef(i);let oe,be;t[67]!==i||t[68]!==se||t[69]!==u?(oe=()=>{if(u==null||u.length===0){ue.current=i;return}const ge=i!=null?u.find(he=>he.systemHint===i):void 0;i!=null&&ge!=null?se.setActiveSystemHint(i,u,{locked:!0}):se.getState().locked&&se.setActiveSystemHint(null,u,{locked:!1}),ue.current=i},be=[u,se,i],t[67]=i,t[68]=se,t[69]=u,t[70]=oe,t[71]=be):(oe=t[70],be=t[71]),E.useEffect(oe,be);let Ae;return t[72]!==n||t[73]!==se?(Ae=_.jsx(gs.Provider,{store:se,children:n}),t[72]=n,t[73]=se,t[74]=Ae):Ae=t[74],Ae}function p2e(e){if(!e)return!1;const t=Me.getConversationTurns(e),n=t.findIndex(g2e),r=TW(t,m2e);return n!==-1&&n===r}function m2e(e){return e.role===Ke.User}function g2e(e){return e.role===Ke.User}function _2e(e){"use forget";const t=Y.c(3),{children:n}=e,[r]=E.useState(v2e);let i;return t[0]!==n||t[1]!==r?(i=_.jsx(gs.Provider,{store:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}function v2e(){return new gs({initialHint:null,locked:!0})}const j9e=e=>{const t=e.getActiveSystemHintType(),n=e.getActiveConnectorSystemTypes();return Rl(t)?[...n]:t?[t]:[]};function y2e(e){return e.activeSystemHintType}function b2e(e){return e.activeConnectorSystemTypes}function C2e(e){"use forget";const{children:t,fallback:n}=e,r=n===void 0?null:n;return e_()?t:r}var Wl,Ao;class E2e{constructor(){Nt(this,Wl);Nt(this,Ao,t=>(fe(this,Wl)||Ut(this,Wl,k(()=>import("./bubexfvksfr7893o.js").then(n=>n.ax),[]).then(n=>n==null?void 0:n.datadogLogs)),fe(this,Wl).then(n=>n&&t(n))))}init(t){fe(this,Ao).call(this,n=>n.init(t))}setGlobalContextProperty(t,n){fe(this,Ao).call(this,r=>r.setGlobalContextProperty(t,n))}setUser(t){fe(this,Ao).call(this,n=>n.setUser(t))}get logger(){return{setHandler:t=>{fe(this,Ao).call(this,n=>n.logger.setHandler(t))}}}createLogger(t,n){return new S2e(fe(this,Ao),t,n)}}Wl=new WeakMap,Ao=new WeakMap;var Lf,Vr;class S2e{constructor(t,n,r){Nt(this,Lf);Nt(this,Vr,t=>fe(this,Lf).then(n=>n&&t(n)));Ut(this,Lf,t(i=>i.createLogger(n,r)))}ok(t,n,r){fe(this,Vr).call(this,i=>i.ok(t,n,r))}debug(t,n,r){fe(this,Vr).call(this,i=>i.debug(t,n,r))}info(t,n,r){fe(this,Vr).call(this,i=>i.info(t,n,r))}notice(t,n,r){fe(this,Vr).call(this,i=>i.notice(t,n,r))}warn(t,n,r){fe(this,Vr).call(this,i=>i.warn(t,n,r))}error(t,n,r){fe(this,Vr).call(this,i=>i.error(t,n,r))}critical(t,n,r){fe(this,Vr).call(this,i=>i.critical(t,n,r))}alert(t,n,r){fe(this,Vr).call(this,i=>i.alert(t,n,r))}emerg(t,n,r){fe(this,Vr).call(this,i=>i.emerg(t,n,r))}}Lf=new WeakMap,Vr=new WeakMap;const rl=new E2e,O2e="datadoghq.com",T2e="pub1f79f8ac903a5872ae5f53026d20a77c";class w2e{initialize(){var r;const t=kg?(r=ot==null?void 0:ot.getTelemetryConfig)==null?void 0:r.call(ot):void 0,n=t!==void 0?t.datadogService:$J();rl.init({clientToken:T2e,site:O2e,service:n,env:"prod",version:"aa305fcfa301df38d2bd1366c6d68422a7fee6d3",sessionSampleRate:100,forwardErrorsToLogs:!1,beforeSend:i=>(i.view.url=wd(i.view.url),i.http&&i.http.url&&(i.http.url=wd(i.http.url)),!0)}),rl.setGlobalContextProperty("track","stable"),rl.setGlobalContextProperty("is_electron_desktop_app",t!==void 0),rl.logger.setHandler(["http"])}setUser(t,n){var i;const r={user_id:t.id,account_plan_type:(i=n==null?void 0:n.planType)!=null?i:"none",workspace_id:n==null?void 0:n.id};rl.setUser(r)}createLogger(t,n="info",r="http",i){return rl.createLogger(t,{level:n,handler:r,context:i})}}const nF=new w2e;function KY(e){const t=new URL(window.location.href);if(!t.searchParams.has(e))return;t.searchParams.delete(e);const n=t.pathname+t.search+t.hash;history.replaceState(null,"",n)}let rF=!1;if(EB()){const e=(function(){return window.location.pathname!=="/search"?void 0:{sessionSampleRate:100,traceSampleRate:100}})();Q.initialize(e)}function A2e(e,t,n){if(n){const r=De.getCookie(Se.Workspace),i=r===Fs?void 0:r,s=n.structure===Zn.WORKSPACE?n.id:void 0;i!==s&&Q.addAction("bootstrap_client.account_cookie_mismatch",{accountCookieValue:r,lightAccount:n})}j6(()=>!Md(e).isLoading&&Md(e).data!=null,()=>{const r=oi(Md(e).data),i=v7(r),s=De.getCookie(Se.Workspace),o=ghe(i,r.accountItems);s!==o&&o1(o)})}function x2e(e,t,n){var i;if(rF)return;rF=!0;const r=hr(e);if(r.checkGate("4011688770")&&k(()=>import("./ienm79cm1bk4lr7x.js"),__vite__mapDeps([109,3,1,4])).then(s=>s==null?void 0:s.initOpenTelemetry()),r.on("gate_evaluation",({gate:s})=>{Q.addFeatureFlagEvaluation(s.name,s.value)}),KY("refresh_account"),window.addEventListener("vite:preloadError",s=>{$e(e,"2590364241")||s.preventDefault(),Q.addAction("vite:preloadError",{payload:s.payload})}),ri(),jie(),Q.addTiming("chatgpt.web.bootstrapClient",{serialTimingGroup:"pageLoad"}),Q.addAction("bootstrap_client.start"),EB()&&(nF.initialize(),kX(e)),t.authStatus===Yl.LoggedIn){const s=t.user,o=(i=t.session)==null?void 0:i.account;Q.addAction("bootstrap_client.has_session_user"),A2e(e,n,o),qre(s,o,t.intercomHash),Q.setUser(s,o),nF.setUser(s,o),we.initialize({userInfo:{currentAccount:o!=null?o:null,sessionUser:s}}),Q.addAction("bootstrap_client.success.is_authenticated",{hasCurrentAccount:!0})}else Q.addAction("bootstrap_client.does_not_have_session_user"),we.initialize(),Q.addAction("bootstrap_client.success.is_not_authenticated");fetch("".concat(Je,"/edge")).catch(()=>{})}function I2e({root:e,autoFocus:t=!1}){if(!e)return null;const n=["a[href]:not([data-skip-to-content])","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(", "),r=Array.from(e.querySelectorAll(n));let i=null;for(const s of r)if(s.offsetWidth>0&&s.offsetHeight>0){i=s;break}return t&&(i==null||i.focus()),i}const N2e=e=>({country:xt(e).userCountry});function iF(e){return e!=null&&e in IX}const r0=3600*24*30*6,JY=e=>{De.setBooleanCookie(Se.ConsentAnalytics,e.consent_analytics,{maxAge:r0,domain:Gv}),De.setBooleanCookie(Se.ConsentMarketing,e.consent_marketing,{maxAge:r0,domain:Gv}),De.setBooleanCookie(Se.AllowNonessential,e.consent_analytics&&e.consent_marketing,{maxAge:r0,domain:Gv}),Q.addAction("update-cookie-consent.cookie.success")};async function XY(e){if(JY(e),xt(At()).authStatus===Yl.LoggedIn)try{await Z.safePost("/user_granular_consent",{authOption:Xt.Required,requestBody:{granular_consent:{analytics:e.consent_analytics,marketing:e.consent_marketing}}}),Q.addAction("update-cookie-consent.backend.success")}catch(n){Q.addError(n)}}const bv=bn({queryKey:["cookie-consent"],queryFn:async()=>{var s,o,a,c;const{isUserInPioneerHR:e,userCountry:t}=xt(oi(At()));if(!e){const l=De.getBooleanCookie(Se.ConsentAnalytics),u=De.getBooleanCookie(Se.ConsentMarketing);return l!=null||u!=null?{consent_analytics:l!=null?l:!1,consent_marketing:u!=null?u:!1,is_consent_required:!0}:(Q.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1})}if(t!=null&&!iF(t))return Q.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1};if(iF(t)&&!e)return Q.addAction("get-cookie-consent.use-anonymous-default.consent-required-essential-only",{country:t}),{consent_analytics:!1,consent_marketing:!1,is_consent_required:!0};let n;try{const l=await Z.safeGet("/user_granular_consent",{authOption:Xt.Required});n={consent_analytics:(o=(s=l.granular_consent)==null?void 0:s.analytics)!=null?o:null,consent_marketing:(c=(a=l.granular_consent)==null?void 0:a.marketing)!=null?c:null,is_consent_required:l.is_consent_required},Q.addAction("get-cookie-consent.use-authenticated",{country:t})}catch(l){l instanceof a_||Q.addError(l,{country:t}),n={consent_analytics:null,consent_marketing:null,is_consent_required:!0}}const r=De.getBooleanCookie(Se.ConsentAnalytics),i=De.getBooleanCookie(Se.ConsentMarketing);return n.consent_analytics!=null&&n.consent_marketing!=null&&(r!==n.consent_analytics||i!==n.consent_marketing)?(JY({consent_analytics:n.consent_analytics,consent_marketing:n.consent_marketing}),Q.addAction("get-cookie-consent.update-cookie-consent-cookie",{country:t})):r!==void 0&&i!==void 0&&n.is_consent_required&&n.consent_analytics==null&&n.consent_marketing==null&&(XY({consent_analytics:r!=null?r:!1,consent_marketing:i!=null?i:!1}),Q.addAction("get-cookie-consent.update-cookie-consent-backend",{country:t}),n=I(S({},n),{consent_analytics:r!=null?r:!1,consent_marketing:i!=null?i:!1})),n}}),F9e=e=>{const t=re(),{country:n}=N2e(t),r=ln();return un(I(S({},e),{mutationFn:i=>XY(i),onSuccess:(i,s,o)=>{var a;(a=e==null?void 0:e.onSuccess)==null||a.call(e,i,s,o),r.setQueryData(bv.queryKey,c=>{if(!c){Q.addError(new Error("Cookie consent query data is undefined during mutation"));return}return I(S({},c),{consent_analytics:s.consent_analytics,consent_marketing:s.consent_marketing})})},onError:(i,s,o)=>{var a;(a=e==null?void 0:e.onError)==null||a.call(e,i,s,o),Q.addError(i,{country:n})}}))},Ki=class Ki extends IN()(()=>{var n;return{cookieConsentBannerClosed:!1,cookieConsentBannerIgnored:(n=De.getBooleanCookie(Se.CookieBannerIgnored))!=null?n:!1,onCloseSideEffect:()=>{},manuallySetVisibility:!1}}){constructor(){super(...arguments);U(this,"closeCookieConsentBanner",n=>{const r=S({cookieConsentBannerClosed:!0},n?{cookieConsentBannerIgnored:!0}:{});this.setState(r),n&&De.setBooleanCookie(Se.CookieBannerIgnored,!0)});U(this,"setOnCloseSideEffect",n=>{this.setState(r=>I(S({},r),{onCloseSideEffect:n}))});U(this,"setManualVisibility",n=>{this.setState(r=>I(S({},r),{manuallySetVisibility:n}))})}};U(Ki,"useWasClosed",()=>Ki.useState(n=>n.cookieConsentBannerClosed)),U(Ki,"useWasIgnored",()=>Ki.useState(n=>n.cookieConsentBannerIgnored)),U(Ki,"useOnCloseSideEffect",()=>Ki.useState(n=>n.onCloseSideEffect)),U(Ki,"useManuallySetVisibility",()=>Ki.useState(n=>n.manuallySetVisibility));let Yd=Ki;const U9e=()=>{const e=re(),t=Yd.useStore(),n=!St(e),{data:r,isLoading:i}=Yt(bv),s=Yd.useWasClosed(),o=Yd.useWasIgnored(),a=i,l=!a&&n&&!(s||o)&&(r==null?void 0:r.is_consent_required)&&(r==null?void 0:r.consent_analytics)==null&&(r==null?void 0:r.consent_marketing)==null;return{shouldShowCookieBanner:l!=null?l:!1,isCookieConsentBannerLoading:a,closeCookieConsentBanner:t.closeCookieConsentBanner,ignoreCookieConsentBanner:()=>t.closeCookieConsentBanner(!0)}};var Ma=(e=>(e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.Msclkid="msclkid",e))(Ma||{});function B9e(e){switch(e){case"gclid":return De.getMarketingCookie(Se.Gclid);case"fbclid":return De.getMarketingCookie(Se.Fbclid);case"rdt_cid":return De.getMarketingCookie(Se.Rdtcid);case"ttclid":return De.getMarketingCookie(Se.Tiktokclid);case"li_fat_id":return De.getMarketingCookie(Se.Liclid);case"msclkid":return De.getMarketingCookie(Se.Msclkid)}}function R2e(e){switch(e){case"gclid":return Se.Gclid;case"fbclid":return Se.Fbclid;case"rdt_cid":return Se.Rdtcid;case"ttclid":return Se.Tiktokclid;case"li_fat_id":return Se.Liclid;case"msclkid":return Se.Msclkid}}function P2e({searchParams:e,clidLifetimeSeconds:t=1440*60,eligibleExplorers:n}){for(const r of n){if(e.get(r)==null)continue;const i=R2e(r),s=e.get(r);De.setMarketingCookie(i,s,{path:"/",maxAge:t})}}let QY=!1;const k2e=e=>{const t=xt(e);if(!t.eligibleMarketing)return;const n=new URLSearchParams(window.location.search);P2e({searchParams:n,eligibleExplorers:[...t.eligibleMarketing.isUserEligibleForPioneer?[Ma.Gclid]:[],...t.eligibleMarketing.isUserEligibleForMaverick?[Ma.Fbclid]:[],...t.eligibleMarketing.isUserEligibleForTrailBlazer?[Ma.Rdtcid]:[],...t.eligibleMarketing.isUserEligibleForStratos?[Ma.Tiktokclid]:[],...t.eligibleMarketing.isUserEligibleForSeeker?[Ma.Liclid]:[],...t.eligibleMarketing.isUserEligibleForWayfinder?[Ma.Msclkid]:[]]}),QY=!0},M2e=(e,t)=>{const n=xt(e).userCountry;new lB(t,bv).subscribe(i=>{if(i.isPending)return;const s=i.data;if(!s)return;(s.is_consent_required?s.consent_marketing:!0)?(De.setAllowMarketingCookies_CLIENT_ONLY(!0),Q.addAction("marketing-tracking.non-essential-cookies.allowed",{country:n}),QY||(k2e(e),Q.addAction("marketing-tracking.non-essential-cookies.marketing-tracking-functions-run",{country:n}))):(De.setAllowMarketingCookies_CLIENT_ONLY(!1),Q.addAction("marketing-tracking.non-essential-cookies.disallowed",{country:n}))})};async function D2e(){if(!("container"in document.documentElement.style)){performance.mark("polyfill.containerQuery.start");try{await k(()=>import("./gdtyl57qnlda5zz4.js"),[])}catch(e){return Q.addError(new Error("Error loading polyfill: containerQuery",{cause:e})),Promise.reject(e)}performance.mark("polyfill.containerQuery.end"),performance.measure("polyfill.containerQuery","polyfill.containerQuery.start","polyfill.containerQuery.end")}}async function L2e(){if(!Array.prototype.findLast)try{await k(()=>import("./lnixzvkgr8dw42w8.js"),__vite__mapDeps([110,1]))}catch(e){return Q.addError(new Error("Error loading polyfill: findLast",{cause:e})),Promise.reject(e)}}async function j2e(){if(!CSS.supports("animation-timeline: --works")||window.ViewTimeline===void 0){performance.mark("polyfill.scrollTimeline.start");try{await k(()=>import("./eeezjd3114pm20gw.js"),[])}catch(e){return Q.addAction("Error loading polyfill: scrollTimeline",{cause:e}),Promise.reject(e)}performance.mark("polyfill.scrollTimeline.end"),performance.measure("polyfill.scrollTimeline","polyfill.scrollTimeline.start","polyfill.scrollTimeline.end")}}var sF={},oF={},rd,aF;function Sn(){if(aF)return rd;aF=1;var e=function(t){return t&&t.Math===Math&&t};return rd=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof hl=="object"&&hl)||e(typeof rd=="object"&&rd)||(function(){return this})()||Function("return this")(),rd}var i0={},s0,cF;function bs(){return cF||(cF=1,s0=function(e){try{return!!e()}catch(t){return!0}}),s0}var o0,lF;function ao(){if(lF)return o0;lF=1;var e=bs();return o0=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),o0}var a0,uF;function Cv(){if(uF)return a0;uF=1;var e=bs();return a0=!e(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),a0}var c0,dF;function Cs(){if(dF)return c0;dF=1;var e=Cv(),t=Function.prototype.call;return c0=e?t.bind(t):function(){return t.apply(t,arguments)},c0}var l0={},fF;function F2e(){if(fF)return l0;fF=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return l0.f=n?function(i){var s=t(this,i);return!!s&&s.enumerable}:e,l0}var u0,hF;function ZY(){return hF||(hF=1,u0=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),u0}var d0,pF;function Br(){if(pF)return d0;pF=1;var e=Cv(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return d0=e?r:function(i){return function(){return n.apply(i,arguments)}},d0}var f0,mF;function Ev(){if(mF)return f0;mF=1;var e=Br(),t=e({}.toString),n=e("".slice);return f0=function(r){return n(t(r),8,-1)},f0}var h0,gF;function U2e(){if(gF)return h0;gF=1;var e=Br(),t=bs(),n=Ev(),r=Object,i=e("".split);return h0=t(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return n(s)==="String"?i(s,""):r(s)}:r,h0}var p0,_F;function Sv(){return _F||(_F=1,p0=function(e){return e==null}),p0}var m0,vF;function NN(){if(vF)return m0;vF=1;var e=Sv(),t=TypeError;return m0=function(n){if(e(n))throw new t("Can't call method on "+n);return n},m0}var g0,yF;function RN(){if(yF)return g0;yF=1;var e=U2e(),t=NN();return g0=function(n){return e(t(n))},g0}var _0,bF;function Un(){if(bF)return _0;bF=1;var e=typeof document=="object"&&document.all;return _0=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},_0}var v0,CF;function co(){if(CF)return v0;CF=1;var e=Un();return v0=function(t){return typeof t=="object"?t!==null:e(t)},v0}var y0,EF;function Fc(){if(EF)return y0;EF=1;var e=Sn(),t=Un(),n=function(r){return t(r)?r:void 0};return y0=function(r,i){return arguments.length<2?n(e[r]):e[r]&&e[r][i]},y0}var b0,SF;function PN(){if(SF)return b0;SF=1;var e=Br();return b0=e({}.isPrototypeOf),b0}var C0,OF;function Dh(){if(OF)return C0;OF=1;var e=Sn(),t=e.navigator,n=t&&t.userAgent;return C0=n?String(n):"",C0}var E0,TF;function eK(){if(TF)return E0;TF=1;var e=Sn(),t=Dh(),n=e.process,r=e.Deno,i=n&&n.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&t&&(o=t.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=t.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),E0=a,E0}var S0,wF;function tK(){if(wF)return S0;wF=1;var e=eK(),t=bs(),n=Sn(),r=n.String;return S0=!!Object.getOwnPropertySymbols&&!t(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&e&&e<41}),S0}var O0,AF;function nK(){if(AF)return O0;AF=1;var e=tK();return O0=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",O0}var T0,xF;function rK(){if(xF)return T0;xF=1;var e=Fc(),t=Un(),n=PN(),r=nK(),i=Object;return T0=r?function(s){return typeof s=="symbol"}:function(s){var o=e("Symbol");return t(o)&&n(o.prototype,i(s))},T0}var w0,IF;function Ov(){if(IF)return w0;IF=1;var e=String;return w0=function(t){try{return e(t)}catch(n){return"Object"}},w0}var A0,NF;function ma(){if(NF)return A0;NF=1;var e=Un(),t=Ov(),n=TypeError;return A0=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")},A0}var x0,RF;function kN(){if(RF)return x0;RF=1;var e=ma(),t=Sv();return x0=function(n,r){var i=n[r];return t(i)?void 0:e(i)},x0}var I0,PF;function B2e(){if(PF)return I0;PF=1;var e=Cs(),t=Un(),n=co(),r=TypeError;return I0=function(i,s){var o,a;if(s==="string"&&t(o=i.toString)&&!n(a=e(o,i))||t(o=i.valueOf)&&!n(a=e(o,i))||s!=="string"&&t(o=i.toString)&&!n(a=e(o,i)))return a;throw new r("Can't convert object to primitive value")},I0}var N0={exports:{}},R0,kF;function Lh(){return kF||(kF=1,R0=!1),R0}var P0,MF;function MN(){if(MF)return P0;MF=1;var e=Sn(),t=Object.defineProperty;return P0=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch(i){e[n]=r}return r},P0}var DF;function DN(){if(DF)return N0.exports;DF=1;var e=Lh(),t=Sn(),n=MN(),r="__core-js_shared__",i=N0.exports=t[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.45.1",mode:e?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),N0.exports}var k0,LF;function iK(){if(LF)return k0;LF=1;var e=DN();return k0=function(t,n){return e[t]||(e[t]=n||{})},k0}var M0,jF;function G2e(){if(jF)return M0;jF=1;var e=NN(),t=Object;return M0=function(n){return t(e(n))},M0}var D0,FF;function lo(){if(FF)return D0;FF=1;var e=Br(),t=G2e(),n=e({}.hasOwnProperty);return D0=Object.hasOwn||function(i,s){return n(t(i),s)},D0}var L0,UF;function sK(){if(UF)return L0;UF=1;var e=Br(),t=0,n=Math.random(),r=e(1.1.toString);return L0=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++t+n,36)},L0}var j0,BF;function Es(){if(BF)return j0;BF=1;var e=Sn(),t=iK(),n=lo(),r=sK(),i=tK(),s=nK(),o=e.Symbol,a=t("wks"),c=s?o.for||o:o&&o.withoutSetter||r;return j0=function(l){return n(a,l)||(a[l]=i&&n(o,l)?o[l]:c("Symbol."+l)),a[l]},j0}var F0,GF;function W2e(){if(GF)return F0;GF=1;var e=Cs(),t=co(),n=rK(),r=kN(),i=B2e(),s=Es(),o=TypeError,a=s("toPrimitive");return F0=function(c,l){if(!t(c)||n(c))return c;var u=r(c,a),d;if(u){if(l===void 0&&(l="default"),d=e(u,c,l),!t(d)||n(d))return d;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),i(c,l)},F0}var U0,WF;function oK(){if(WF)return U0;WF=1;var e=W2e(),t=rK();return U0=function(n){var r=e(n,"string");return t(r)?r:r+""},U0}var B0,qF;function aK(){if(qF)return B0;qF=1;var e=Sn(),t=co(),n=e.document,r=t(n)&&t(n.createElement);return B0=function(i){return r?n.createElement(i):{}},B0}var G0,VF;function cK(){if(VF)return G0;VF=1;var e=ao(),t=bs(),n=aK();return G0=!e&&!t(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),G0}var $F;function lK(){if($F)return i0;$F=1;var e=ao(),t=Cs(),n=F2e(),r=ZY(),i=RN(),s=oK(),o=lo(),a=cK(),c=Object.getOwnPropertyDescriptor;return i0.f=e?c:function(u,d){if(u=i(u),d=s(d),a)try{return c(u,d)}catch(f){}if(o(u,d))return r(!t(n.f,u,d),u[d])},i0}var W0={},q0,HF;function q2e(){if(HF)return q0;HF=1;var e=ao(),t=bs();return q0=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),q0}var V0,zF;function Uc(){if(zF)return V0;zF=1;var e=co(),t=String,n=TypeError;return V0=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")},V0}var YF;function jh(){if(YF)return W0;YF=1;var e=ao(),t=cK(),n=q2e(),r=Uc(),i=oK(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c="enumerable",l="configurable",u="writable";return W0.f=e?n?function(f,h,p){if(r(f),h=i(h),r(p),typeof f=="function"&&h==="prototype"&&"value"in p&&u in p&&!p[u]){var m=a(f,h);m&&m[u]&&(f[h]=p.value,p={configurable:l in p?p[l]:m[l],enumerable:c in p?p[c]:m[c],writable:!1})}return o(f,h,p)}:o:function(f,h,p){if(r(f),h=i(h),r(p),t)try{return o(f,h,p)}catch(m){}if("get"in p||"set"in p)throw new s("Accessors not supported");return"value"in p&&(f[h]=p.value),f},W0}var $0,KF;function uK(){if(KF)return $0;KF=1;var e=ao(),t=jh(),n=ZY();return $0=e?function(r,i,s){return t.f(r,i,n(1,s))}:function(r,i,s){return r[i]=s,r},$0}var H0={exports:{}},z0,JF;function V2e(){if(JF)return z0;JF=1;var e=ao(),t=lo(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,i=t(n,"name"),s=i&&(function(){}).name==="something",o=i&&(!e||e&&r(n,"name").configurable);return z0={EXISTS:i,PROPER:s,CONFIGURABLE:o},z0}var Y0,XF;function LN(){if(XF)return Y0;XF=1;var e=Br(),t=Un(),n=DN(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(i){return r(i)}),Y0=n.inspectSource,Y0}var K0,QF;function $2e(){if(QF)return K0;QF=1;var e=Sn(),t=Un(),n=e.WeakMap;return K0=t(n)&&/native code/.test(String(n)),K0}var J0,ZF;function H2e(){if(ZF)return J0;ZF=1;var e=iK(),t=sK(),n=e("keys");return J0=function(r){return n[r]||(n[r]=t(r))},J0}var X0,e5;function dK(){return e5||(e5=1,X0={}),X0}var Q0,t5;function fK(){if(t5)return Q0;t5=1;var e=$2e(),t=Sn(),n=co(),r=uK(),i=lo(),s=DN(),o=H2e(),a=dK(),c="Object already initialized",l=t.TypeError,u=t.WeakMap,d,f,h,p=function(v){return h(v)?f(v):d(v,{})},m=function(v){return function(T){var C;if(!n(T)||(C=f(T)).type!==v)throw new l("Incompatible receiver, "+v+" required");return C}};if(e||s.state){var g=s.state||(s.state=new u);g.get=g.get,g.has=g.has,g.set=g.set,d=function(v,T){if(g.has(v))throw new l(c);return T.facade=v,g.set(v,T),T},f=function(v){return g.get(v)||{}},h=function(v){return g.has(v)}}else{var y=o("state");a[y]=!0,d=function(v,T){if(i(v,y))throw new l(c);return T.facade=v,r(v,y,T),T},f=function(v){return i(v,y)?v[y]:{}},h=function(v){return i(v,y)}}return Q0={set:d,get:f,has:h,enforce:p,getterFor:m},Q0}var n5;function hK(){if(n5)return H0.exports;n5=1;var e=Br(),t=bs(),n=Un(),r=lo(),i=ao(),s=V2e().CONFIGURABLE,o=LN(),a=fK(),c=a.enforce,l=a.get,u=String,d=Object.defineProperty,f=e("".slice),h=e("".replace),p=e([].join),m=i&&!t(function(){return d(function(){},"length",{value:8}).length!==8}),g=String(String).split("String"),y=H0.exports=function(v,T,C){f(u(T),0,7)==="Symbol("&&(T="["+h(u(T),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),C&&C.getter&&(T="get "+T),C&&C.setter&&(T="set "+T),(!r(v,"name")||s&&v.name!==T)&&(i?d(v,"name",{value:T,configurable:!0}):v.name=T),m&&C&&r(C,"arity")&&v.length!==C.arity&&d(v,"length",{value:C.arity});try{C&&r(C,"constructor")&&C.constructor?i&&d(v,"prototype",{writable:!1}):v.prototype&&(v.prototype=void 0)}catch(O){}var b=c(v);return r(b,"source")||(b.source=p(g,typeof T=="string"?T:"")),v};return Function.prototype.toString=y(function(){return n(this)&&l(this).source||o(this)},"toString"),H0.exports}var Z0,r5;function jN(){if(r5)return Z0;r5=1;var e=Un(),t=jh(),n=hK(),r=MN();return Z0=function(i,s,o,a){a||(a={});var c=a.enumerable,l=a.name!==void 0?a.name:s;if(e(o)&&n(o,l,a),a.global)c?i[s]=o:r(s,o);else{try{a.unsafe?i[s]&&(c=!0):delete i[s]}catch(u){}c?i[s]=o:t.f(i,s,{value:o,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return i},Z0}var eO={},tO,i5;function z2e(){if(i5)return tO;i5=1;var e=Math.ceil,t=Math.floor;return tO=Math.trunc||function(r){var i=+r;return(i>0?t:e)(i)},tO}var nO,s5;function pK(){if(s5)return nO;s5=1;var e=z2e();return nO=function(t){var n=+t;return n!==n||n===0?0:e(n)},nO}var rO,o5;function Y2e(){if(o5)return rO;o5=1;var e=pK(),t=Math.max,n=Math.min;return rO=function(r,i){var s=e(r);return s<0?t(s+i,0):n(s,i)},rO}var iO,a5;function K2e(){if(a5)return iO;a5=1;var e=pK(),t=Math.min;return iO=function(n){var r=e(n);return r>0?t(r,9007199254740991):0},iO}var sO,c5;function mK(){if(c5)return sO;c5=1;var e=K2e();return sO=function(t){return e(t.length)},sO}var oO,l5;function J2e(){if(l5)return oO;l5=1;var e=RN(),t=Y2e(),n=mK(),r=function(i){return function(s,o,a){var c=e(s),l=n(c);if(l===0)return!i&&-1;var u=t(a,l),d;if(i&&o!==o){for(;l>u;)if(d=c[u++],d!==d)return!0}else for(;l>u;u++)if((i||u in c)&&c[u]===o)return i||u||0;return!i&&-1}};return oO={includes:r(!0),indexOf:r(!1)},oO}var aO,u5;function X2e(){if(u5)return aO;u5=1;var e=Br(),t=lo(),n=RN(),r=J2e().indexOf,i=dK(),s=e([].push);return aO=function(o,a){var c=n(o),l=0,u=[],d;for(d in c)!t(i,d)&&t(c,d)&&s(u,d);for(;a.length>l;)t(c,d=a[l++])&&(~r(u,d)||s(u,d));return u},aO}var cO,d5;function Q2e(){return d5||(d5=1,cO=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),cO}var f5;function Z2e(){if(f5)return eO;f5=1;var e=X2e(),t=Q2e(),n=t.concat("length","prototype");return eO.f=Object.getOwnPropertyNames||function(i){return e(i,n)},eO}var lO={},h5;function eje(){return h5||(h5=1,lO.f=Object.getOwnPropertySymbols),lO}var uO,p5;function tje(){if(p5)return uO;p5=1;var e=Fc(),t=Br(),n=Z2e(),r=eje(),i=Uc(),s=t([].concat);return uO=e("Reflect","ownKeys")||function(a){var c=n.f(i(a)),l=r.f;return l?s(c,l(a)):c},uO}var dO,m5;function nje(){if(m5)return dO;m5=1;var e=lo(),t=tje(),n=lK(),r=jh();return dO=function(i,s,o){for(var a=t(s),c=r.f,l=n.f,u=0;u<a.length;u++){var d=a[u];!e(i,d)&&!(o&&e(o,d))&&c(i,d,l(s,d))}},dO}var fO,g5;function gK(){if(g5)return fO;g5=1;var e=bs(),t=Un(),n=/#|\.prototype\./,r=function(c,l){var u=s[i(c)];return u===a?!0:u===o?!1:t(l)?e(l):!!l},i=r.normalize=function(c){return String(c).replace(n,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return fO=r,fO}var hO,_5;function Bc(){if(_5)return hO;_5=1;var e=Sn(),t=lK().f,n=uK(),r=jN(),i=MN(),s=nje(),o=gK();return hO=function(a,c){var l=a.target,u=a.global,d=a.stat,f,h,p,m,g,y;if(u?h=e:d?h=e[l]||i(l,{}):h=e[l]&&e[l].prototype,h)for(p in c){if(g=c[p],a.dontCallGetSet?(y=t(h,p),m=y&&y.value):m=h[p],f=o(u?p:l+(d?".":"#")+p,a.forced),!f&&m!==void 0){if(typeof g==typeof m)continue;s(g,m)}(a.sham||m&&m.sham)&&n(g,"sham",!0),r(h,p,g,a)}},hO}var pO,v5;function _K(){if(v5)return pO;v5=1;var e=Sn(),t=Dh(),n=Ev(),r=function(i){return t.slice(0,i.length)===i};return pO=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":n(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"})(),pO}var mO,y5;function FN(){if(y5)return mO;y5=1;var e=_K();return mO=e==="NODE",mO}var gO,b5;function vK(){if(b5)return gO;b5=1;var e=Sn();return gO=e,gO}var _O,C5;function rje(){if(C5)return _O;C5=1;var e=Br(),t=ma();return _O=function(n,r,i){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[i]))}catch(s){}},_O}var vO,E5;function ije(){if(E5)return vO;E5=1;var e=co();return vO=function(t){return e(t)||t===null},vO}var yO,S5;function sje(){if(S5)return yO;S5=1;var e=ije(),t=String,n=TypeError;return yO=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")},yO}var bO,O5;function oje(){if(O5)return bO;O5=1;var e=rje(),t=co(),n=NN(),r=sje();return bO=Object.setPrototypeOf||("__proto__"in{}?(function(){var i=!1,s={},o;try{o=e(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch(a){}return function(c,l){return n(c),r(l),t(c)&&(i?o(c,l):c.__proto__=l),c}})():void 0),bO}var CO,T5;function aje(){if(T5)return CO;T5=1;var e=jh().f,t=lo(),n=Es(),r=n("toStringTag");return CO=function(i,s,o){i&&!o&&(i=i.prototype),i&&!t(i,r)&&e(i,r,{configurable:!0,value:s})},CO}var EO,w5;function cje(){if(w5)return EO;w5=1;var e=hK(),t=jh();return EO=function(n,r,i){return i.get&&e(i.get,r,{getter:!0}),i.set&&e(i.set,r,{setter:!0}),t.f(n,r,i)},EO}var SO,A5;function lje(){if(A5)return SO;A5=1;var e=Fc(),t=cje(),n=Es(),r=ao(),i=n("species");return SO=function(s){var o=e(s);r&&o&&!o[i]&&t(o,i,{configurable:!0,get:function(){return this}})},SO}var OO,x5;function uje(){if(x5)return OO;x5=1;var e=PN(),t=TypeError;return OO=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")},OO}var TO,I5;function dje(){if(I5)return TO;I5=1;var e=Es(),t=e("toStringTag"),n={};return n[t]="z",TO=String(n)==="[object z]",TO}var wO,N5;function yK(){if(N5)return wO;N5=1;var e=dje(),t=Un(),n=Ev(),r=Es(),i=r("toStringTag"),s=Object,o=n((function(){return arguments})())==="Arguments",a=function(c,l){try{return c[l]}catch(u){}};return wO=e?n:function(c){var l,u,d;return c===void 0?"Undefined":c===null?"Null":typeof(u=a(l=s(c),i))=="string"?u:o?n(l):(d=n(l))==="Object"&&t(l.callee)?"Arguments":d},wO}var AO,R5;function fje(){if(R5)return AO;R5=1;var e=Br(),t=bs(),n=Un(),r=yK(),i=Fc(),s=LN(),o=function(){},a=i("Reflect","construct"),c=/^\s*(?:class|function)\b/,l=e(c.exec),u=!c.test(o),d=function(p){if(!n(p))return!1;try{return a(o,[],p),!0}catch(m){return!1}},f=function(p){if(!n(p))return!1;switch(r(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!l(c,s(p))}catch(m){return!0}};return f.sham=!0,AO=!a||t(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?f:d,AO}var xO,P5;function hje(){if(P5)return xO;P5=1;var e=fje(),t=Ov(),n=TypeError;return xO=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor")},xO}var IO,k5;function pje(){if(k5)return IO;k5=1;var e=Uc(),t=hje(),n=Sv(),r=Es(),i=r("species");return IO=function(s,o){var a=e(s).constructor,c;return a===void 0||n(c=e(a)[i])?o:t(c)},IO}var NO,M5;function mje(){if(M5)return NO;M5=1;var e=Cv(),t=Function.prototype,n=t.apply,r=t.call;return NO=typeof Reflect=="object"&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),NO}var RO,D5;function gje(){if(D5)return RO;D5=1;var e=Ev(),t=Br();return RO=function(n){if(e(n)==="Function")return t(n)},RO}var PO,L5;function UN(){if(L5)return PO;L5=1;var e=gje(),t=ma(),n=Cv(),r=e(e.bind);return PO=function(i,s){return t(i),s===void 0?i:n?r(i,s):function(){return i.apply(s,arguments)}},PO}var kO,j5;function _je(){if(j5)return kO;j5=1;var e=Fc();return kO=e("document","documentElement"),kO}var MO,F5;function vje(){if(F5)return MO;F5=1;var e=Br();return MO=e([].slice),MO}var DO,U5;function yje(){if(U5)return DO;U5=1;var e=TypeError;return DO=function(t,n){if(t<n)throw new e("Not enough arguments");return t},DO}var LO,B5;function bK(){if(B5)return LO;B5=1;var e=Dh();return LO=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),LO}var jO,G5;function CK(){if(G5)return jO;G5=1;var e=Sn(),t=mje(),n=UN(),r=Un(),i=lo(),s=bs(),o=_je(),a=vje(),c=aK(),l=yje(),u=bK(),d=FN(),f=e.setImmediate,h=e.clearImmediate,p=e.process,m=e.Dispatch,g=e.Function,y=e.MessageChannel,v=e.String,T=0,C={},b="onreadystatechange",O,w,A,x;s(function(){O=e.location});var N=function(F){if(i(C,F)){var G=C[F];delete C[F],G()}},R=function(F){return function(){N(F)}},L=function(F){N(F.data)},D=function(F){e.postMessage(v(F),O.protocol+"//"+O.host)};return(!f||!h)&&(f=function(G){l(arguments.length,1);var z=r(G)?G:g(G),V=a(arguments,1);return C[++T]=function(){t(z,void 0,V)},w(T),T},h=function(G){delete C[G]},d?w=function(F){p.nextTick(R(F))}:m&&m.now?w=function(F){m.now(R(F))}:y&&!u?(A=new y,x=A.port2,A.port1.onmessage=L,w=n(x.postMessage,x)):e.addEventListener&&r(e.postMessage)&&!e.importScripts&&O&&O.protocol!=="file:"&&!s(D)?(w=D,e.addEventListener("message",L,!1)):b in c("script")?w=function(F){o.appendChild(c("script"))[b]=function(){o.removeChild(this),N(F)}}:w=function(F){setTimeout(R(F),0)}),jO={set:f,clear:h},jO}var FO,W5;function bje(){if(W5)return FO;W5=1;var e=Sn(),t=ao(),n=Object.getOwnPropertyDescriptor;return FO=function(r){if(!t)return e[r];var i=n(e,r);return i&&i.value},FO}var UO,q5;function EK(){if(q5)return UO;q5=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var n={item:t,next:null},r=this.tail;r?r.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t){var n=this.head=t.next;return n===null&&(this.tail=null),t.item}}},UO=e,UO}var BO,V5;function Cje(){if(V5)return BO;V5=1;var e=Dh();return BO=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",BO}var GO,$5;function Eje(){if($5)return GO;$5=1;var e=Dh();return GO=/web0s(?!.*chrome)/i.test(e),GO}var WO,H5;function Sje(){if(H5)return WO;H5=1;var e=Sn(),t=bje(),n=UN(),r=CK().set,i=EK(),s=bK(),o=Cje(),a=Eje(),c=FN(),l=e.MutationObserver||e.WebKitMutationObserver,u=e.document,d=e.process,f=e.Promise,h=t("queueMicrotask"),p,m,g,y,v;if(!h){var T=new i,C=function(){var b,O;for(c&&(b=d.domain)&&b.exit();O=T.get();)try{O()}catch(w){throw T.head&&p(),w}b&&b.enter()};!s&&!c&&!a&&l&&u?(m=!0,g=u.createTextNode(""),new l(C).observe(g,{characterData:!0}),p=function(){g.data=m=!m}):!o&&f&&f.resolve?(y=f.resolve(void 0),y.constructor=f,v=n(y.then,y),p=function(){v(C)}):c?p=function(){d.nextTick(C)}:(r=n(r,e),p=function(){r(C)}),h=function(b){T.head||p(),T.add(b)}}return WO=h,WO}var qO,z5;function Oje(){return z5||(z5=1,qO=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(n){}}),qO}var VO,Y5;function BN(){return Y5||(Y5=1,VO=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),VO}var $O,K5;function Fh(){if(K5)return $O;K5=1;var e=Sn();return $O=e.Promise,$O}var HO,J5;function Uh(){if(J5)return HO;J5=1;var e=Sn(),t=Fh(),n=Un(),r=gK(),i=LN(),s=Es(),o=_K(),a=Lh(),c=eK(),l=t&&t.prototype,u=s("species"),d=!1,f=n(e.PromiseRejectionEvent),h=r("Promise",function(){var p=i(t),m=p!==String(t);if(!m&&c===66||a&&!(l.catch&&l.finally))return!0;if(!c||c<51||!/native code/.test(p)){var g=new t(function(T){T(1)}),y=function(T){T(function(){},function(){})},v=g.constructor={};if(v[u]=y,d=g.then(function(){})instanceof y,!d)return!0}return!m&&(o==="BROWSER"||o==="DENO")&&!f});return HO={CONSTRUCTOR:h,REJECTION_EVENT:f,SUBCLASSING:d},HO}var zO={},X5;function Uu(){if(X5)return zO;X5=1;var e=ma(),t=TypeError,n=function(r){var i,s;this.promise=new r(function(o,a){if(i!==void 0||s!==void 0)throw new t("Bad Promise constructor");i=o,s=a}),this.resolve=e(i),this.reject=e(s)};return zO.f=function(r){return new n(r)},zO}var Q5;function Tje(){if(Q5)return oF;Q5=1;var e=Bc(),t=Lh(),n=FN(),r=Sn(),i=vK(),s=Cs(),o=jN(),a=oje(),c=aje(),l=lje(),u=ma(),d=Un(),f=co(),h=uje(),p=pje(),m=CK().set,g=Sje(),y=Oje(),v=BN(),T=EK(),C=fK(),b=Fh(),O=Uh(),w=Uu(),A="Promise",x=O.CONSTRUCTOR,N=O.REJECTION_EVENT,R=O.SUBCLASSING,L=C.getterFor(A),D=C.set,F=b&&b.prototype,G=b,z=F,V=r.TypeError,M=r.document,te=r.process,$=w.f,se=$,me=!!(M&&M.createEvent&&r.dispatchEvent),Ce="unhandledrejection",J="rejectionhandled",K=0,ne=1,X=2,ee=1,ve=2,ue,oe,be,Ae,He=function(ie){var Pe;return f(ie)&&d(Pe=ie.then)?Pe:!1},Ne=function(ie,Pe){var tt=Pe.value,nt=Pe.state===ne,rt=nt?ie.ok:ie.fail,On=ie.resolve,Yn=ie.reject,nn=ie.domain,Ft,Wt,Kt;try{rt?(nt||(Pe.rejection===ve&&Re(Pe),Pe.rejection=ee),rt===!0?Ft=tt:(nn&&nn.enter(),Ft=rt(tt),nn&&(nn.exit(),Kt=!0)),Ft===ie.promise?Yn(new V("Promise-chain cycle")):(Wt=He(Ft))?s(Wt,Ft,On,Yn):On(Ft)):Yn(tt)}catch(Gr){nn&&!Kt&&nn.exit(),Yn(Gr)}},ge=function(ie,Pe){ie.notified||(ie.notified=!0,g(function(){for(var tt=ie.reactions,nt;nt=tt.get();)Ne(nt,ie);ie.notified=!1,Pe&&!ie.rejection&&j(ie)}))},he=function(ie,Pe,tt){var nt,rt;me?(nt=M.createEvent("Event"),nt.promise=Pe,nt.reason=tt,nt.initEvent(ie,!1,!0),r.dispatchEvent(nt)):nt={promise:Pe,reason:tt},!N&&(rt=r["on"+ie])?rt(nt):ie===Ce&&y("Unhandled promise rejection",tt)},j=function(ie){s(m,r,function(){var Pe=ie.facade,tt=ie.value,nt=Qe(ie),rt;if(nt&&(rt=v(function(){n?te.emit("unhandledRejection",tt,Pe):he(Ce,Pe,tt)}),ie.rejection=n||Qe(ie)?ve:ee,rt.error))throw rt.value})},Qe=function(ie){return ie.rejection!==ee&&!ie.parent},Re=function(ie){s(m,r,function(){var Pe=ie.facade;n?te.emit("rejectionHandled",Pe):he(J,Pe,ie.value)})},de=function(ie,Pe,tt){return function(nt){ie(Pe,nt,tt)}},pe=function(ie,Pe,tt){ie.done||(ie.done=!0,tt&&(ie=tt),ie.value=Pe,ie.state=X,ge(ie,!0))},Le=function(ie,Pe,tt){if(!ie.done){ie.done=!0,tt&&(ie=tt);try{if(ie.facade===Pe)throw new V("Promise can't be resolved itself");var nt=He(Pe);nt?g(function(){var rt={done:!1};try{s(nt,Pe,de(Le,rt,ie),de(pe,rt,ie))}catch(On){pe(rt,On,ie)}}):(ie.value=Pe,ie.state=ne,ge(ie,!1))}catch(rt){pe({done:!1},rt,ie)}}};if(x&&(G=function(Pe){h(this,z),u(Pe),s(ue,this);var tt=L(this);try{Pe(de(Le,tt),de(pe,tt))}catch(nt){pe(tt,nt)}},z=G.prototype,ue=function(Pe){D(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:K,value:null})},ue.prototype=o(z,"then",function(Pe,tt){var nt=L(this),rt=$(p(this,G));return nt.parent=!0,rt.ok=d(Pe)?Pe:!0,rt.fail=d(tt)&&tt,rt.domain=n?te.domain:void 0,nt.state===K?nt.reactions.add(rt):g(function(){Ne(rt,nt)}),rt.promise}),oe=function(){var ie=new ue,Pe=L(ie);this.promise=ie,this.resolve=de(Le,Pe),this.reject=de(pe,Pe)},w.f=$=function(ie){return ie===G||ie===be?new oe(ie):se(ie)},!t&&d(b)&&F!==Object.prototype)){Ae=F.then,R||o(F,"then",function(Pe,tt){var nt=this;return new G(function(rt,On){s(Ae,nt,rt,On)}).then(Pe,tt)},{unsafe:!0});try{delete F.constructor}catch(ie){}a&&a(F,z)}return e({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:G}),be=i.Promise,c(G,A,!1,!0),l(A),oF}var Z5={},YO,eU;function SK(){return eU||(eU=1,YO={}),YO}var KO,tU;function wje(){if(tU)return KO;tU=1;var e=Es(),t=SK(),n=e("iterator"),r=Array.prototype;return KO=function(i){return i!==void 0&&(t.Array===i||r[n]===i)},KO}var JO,nU;function OK(){if(nU)return JO;nU=1;var e=yK(),t=kN(),n=Sv(),r=SK(),i=Es(),s=i("iterator");return JO=function(o){if(!n(o))return t(o,s)||t(o,"@@iterator")||r[e(o)]},JO}var XO,rU;function Aje(){if(rU)return XO;rU=1;var e=Cs(),t=ma(),n=Uc(),r=Ov(),i=OK(),s=TypeError;return XO=function(o,a){var c=arguments.length<2?i(o):a;if(t(c))return n(e(c,o));throw new s(r(o)+" is not iterable")},XO}var QO,iU;function xje(){if(iU)return QO;iU=1;var e=Cs(),t=Uc(),n=kN();return QO=function(r,i,s){var o,a;t(r);try{if(o=n(r,"return"),!o){if(i==="throw")throw s;return s}o=e(o,r)}catch(c){a=!0,o=c}if(i==="throw")throw s;if(a)throw o;return t(o),s},QO}var ZO,sU;function TK(){if(sU)return ZO;sU=1;var e=UN(),t=Cs(),n=Uc(),r=Ov(),i=wje(),s=mK(),o=PN(),a=Aje(),c=OK(),l=xje(),u=TypeError,d=function(h,p){this.stopped=h,this.result=p},f=d.prototype;return ZO=function(h,p,m){var g=m&&m.that,y=!!(m&&m.AS_ENTRIES),v=!!(m&&m.IS_RECORD),T=!!(m&&m.IS_ITERATOR),C=!!(m&&m.INTERRUPTED),b=e(p,g),O,w,A,x,N,R,L,D=function(G){return O&&l(O,"normal"),new d(!0,G)},F=function(G){return y?(n(G),C?b(G[0],G[1],D):b(G[0],G[1])):C?b(G,D):b(G)};if(v)O=h.iterator;else if(T)O=h;else{if(w=c(h),!w)throw new u(r(h)+" is not iterable");if(i(w)){for(A=0,x=s(h);x>A;A++)if(N=F(h[A]),N&&o(f,N))return N;return new d(!1)}O=a(h,w)}for(R=v?h.next:O.next;!(L=t(R,O)).done;){try{N=F(L.value)}catch(G){l(O,"throw",G)}if(typeof N=="object"&&N&&o(f,N))return N}return new d(!1)},ZO}var eT,oU;function Ije(){if(oU)return eT;oU=1;var e=Es(),t=e("iterator"),n=!1;try{var r=0,i={next:function(){return{done:!!r++}},return:function(){n=!0}};i[t]=function(){return this},Array.from(i,function(){throw 2})}catch(s){}return eT=function(s,o){try{if(!o&&!n)return!1}catch(l){return!1}var a=!1;try{var c={};c[t]=function(){return{next:function(){return{done:a=!0}}}},s(c)}catch(l){}return a},eT}var tT,aU;function wK(){if(aU)return tT;aU=1;var e=Fh(),t=Ije(),n=Uh().CONSTRUCTOR;return tT=n||!t(function(r){e.all(r).then(void 0,function(){})}),tT}var cU;function Nje(){if(cU)return Z5;cU=1;var e=Bc(),t=Cs(),n=ma(),r=Uu(),i=BN(),s=TK(),o=wK();return e({target:"Promise",stat:!0,forced:o},{all:function(c){var l=this,u=r.f(l),d=u.resolve,f=u.reject,h=i(function(){var p=n(l.resolve),m=[],g=0,y=1;s(c,function(v){var T=g++,C=!1;y++,t(p,l,v).then(function(b){C||(C=!0,m[T]=b,--y||d(m))},f)}),--y||d(m)});return h.error&&f(h.value),u.promise}}),Z5}var lU={},uU;function Rje(){if(uU)return lU;uU=1;var e=Bc(),t=Lh(),n=Uh().CONSTRUCTOR,r=Fh(),i=Fc(),s=Un(),o=jN(),a=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(l){return this.then(void 0,l)}}),!t&&s(r)){var c=i("Promise").prototype.catch;a.catch!==c&&o(a,"catch",c,{unsafe:!0})}return lU}var dU={},fU;function Pje(){if(fU)return dU;fU=1;var e=Bc(),t=Cs(),n=ma(),r=Uu(),i=BN(),s=TK(),o=wK();return e({target:"Promise",stat:!0,forced:o},{race:function(c){var l=this,u=r.f(l),d=u.reject,f=i(function(){var h=n(l.resolve);s(c,function(p){t(h,l,p).then(u.resolve,d)})});return f.error&&d(f.value),u.promise}}),dU}var hU={},pU;function kje(){if(pU)return hU;pU=1;var e=Bc(),t=Uu(),n=Uh().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:n},{reject:function(i){var s=t.f(this),o=s.reject;return o(i),s.promise}}),hU}var mU={},nT,gU;function Mje(){if(gU)return nT;gU=1;var e=Uc(),t=co(),n=Uu();return nT=function(r,i){if(e(r),t(i)&&i.constructor===r)return i;var s=n.f(r),o=s.resolve;return o(i),s.promise},nT}var _U;function Dje(){if(_U)return mU;_U=1;var e=Bc(),t=Fc(),n=Lh(),r=Fh(),i=Uh().CONSTRUCTOR,s=Mje(),o=t("Promise"),a=n&&!i;return e({target:"Promise",stat:!0,forced:n||i},{resolve:function(l){return s(a&&this===o?r:this,l)}}),mU}var vU;function Lje(){return vU||(vU=1,Tje(),Nje(),Rje(),Pje(),kje(),Dje()),sF}var yU={},bU;function AK(){if(bU)return yU;bU=1;var e=Bc(),t=Uu();return e({target:"Promise",stat:!0},{withResolvers:function(){var r=t.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}}),yU}var rT,CU;function jje(){if(CU)return rT;CU=1,Lje(),AK();var e=Cs(),t=Un(),n=vK(),r=n.Promise,i=r.withResolvers;return rT=function(){return e(i,t(this)?this:r)},rT}var iT,EU;function Fje(){if(EU)return iT;EU=1;var e=jje();return iT=e,iT}var SU={},OU;function Uje(){return OU||(OU=1,AK()),SU}var sT,TU;function Bje(){if(TU)return sT;TU=1;var e=Fje();return Uje(),sT=e,sT}Bje();async function Gje(){performance.mark("polyfill.all.start"),await Promise.allSettled([L2e(),D2e(),j2e()]),performance.mark("polyfill.all.end"),performance.measure("polyfill.all","polyfill.all.start","polyfill.all.end")}const xg=["light","dark"],GN="(prefers-color-scheme: dark)",Wje=typeof window>"u",WN=E.createContext(void 0),qje={setTheme:e=>{},themes:[]},xK=()=>{var e;return(e=E.useContext(WN))!==null&&e!==void 0?e:qje},Vje=e=>E.useContext(WN)?Et.createElement(E.Fragment,null,e.children):Et.createElement(Hje,e),$je=["light","dark"],Hje=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=$je,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:c,children:l,nonce:u})=>{const[d,f]=E.useState(()=>wU(i,o)),[h,p]=E.useState(()=>wU(i)),m=c?Object.values(c):s,g=E.useCallback(C=>{let b=C;if(!b)return;C==="system"&&n&&(b=AU());const O=c?c[b]:b,w=t?Yje():null,A=document.documentElement;if(a==="class"?(A.classList.remove(...m),O&&A.classList.add(O)):O?A.setAttribute(a,O):A.removeAttribute(a),r){const x=xg.includes(o)?o:null,N=xg.includes(b)?b:x;A.style.colorScheme=N}w==null||w()},[]),y=E.useCallback(C=>{f(C);try{localStorage.setItem(i,C)}catch(b){}},[e]),v=E.useCallback(C=>{const b=AU(C);p(b),d==="system"&&n&&!e&&g("system")},[d,e]);E.useEffect(()=>{const C=window.matchMedia(GN);return C.addListener(v),v(C),()=>C.removeListener(v)},[v]),E.useEffect(()=>{const C=b=>{b.key===i&&y(b.newValue||o)};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[y]),E.useEffect(()=>{g(e!=null?e:d)},[e,d]);const T=E.useMemo(()=>({theme:d,setTheme:y,forcedTheme:e,resolvedTheme:d==="system"?h:d,themes:n?[...s,"system"]:s,systemTheme:n?h:void 0}),[d,y,e,h,n,s]);return Et.createElement(WN.Provider,{value:T},Et.createElement(zje,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:o,attribute:a,value:c,children:l,attrs:m,nonce:u}),l)},zje=E.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:c})=>{const l=s==="system",u=n==="class"?"var d=document.documentElement,c=d.classList;c.remove(".concat(a.map(p=>"'".concat(p,"'")).join(","),");"):"var d=document.documentElement,n='".concat(n,"',s='setAttribute';"),d=i?xg.includes(s)&&s?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(s,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,m=!1,g=!0)=>{const y=o?o[p]:p,v=m?p+"|| ''":"'".concat(y,"'");let T="";return i&&g&&!m&&xg.includes(p)&&(T+="d.style.colorScheme = '".concat(p,"';")),n==="class"?T+=m||y?"c.add(".concat(v,")"):"null":y&&(T+="d[s](n,".concat(v,")")),T},h=e?"!function(){".concat(u).concat(f(e),"}()"):r?"!function(){try{".concat(u,"var e=localStorage.getItem('").concat(t,"');if('system'===e||(!e&&").concat(l,")){var t='").concat(GN,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(f("dark"),"}else{").concat(f("light"),"}}else if(e){").concat(o?"var x=".concat(JSON.stringify(o),";"):"").concat(f(o?"x[e]":"e",!0),"}").concat(l?"":"else{"+f(s,!1,!1)+"}").concat(d,"}catch(e){}}()"):"!function(){try{".concat(u,"var e=localStorage.getItem('").concat(t,"');if(e){").concat(o?"var x=".concat(JSON.stringify(o),";"):"").concat(f(o?"x[e]":"e",!0),"}else{").concat(f(s,!1,!1),";}").concat(d,"}catch(t){}}();");return Et.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})},()=>!0),wU=(e,t)=>{if(Wje)return;let n;try{n=localStorage.getItem(e)||void 0}catch(r){}return n||t},Yje=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},AU=e=>(e||(e=window.matchMedia(GN)),e.matches?"dark":"light");function IK(e){return e==="system"||NK(e)}function NK(e){return e==="dark"||e==="light"}function Kje(e){if(!IK(e))throw new Error("Unexpected theme ".concat(e))}function G9e(){const{theme:e,setTheme:t}=xK();function n(r){Kje(r),r!==e&&t(r)}return[IK(e)?e:"system",n]}function Jje(){const e=xK().resolvedTheme;if(NK(e))return e}function Xje(){return Jje()==="dark"}function W9e(){return document.documentElement.classList.contains("dark")}const RK=new Set;let Nf=[];const pw=new Set;function Qje(){for(const e of pw)try{e()}catch(t){}}function qN(e){Nf=e,Qje()}function id(e){if(!e.id)return;const t=Nf.slice(),n=t.findIndex(r=>r.id===e.id);n>=0?t[n]=S(S({},t[n]),e):t.unshift(e),qN(t)}function Zje(e){for(const t of e)t&&RK.add(t)}function e4e(e){return e?RK.has(e):!1}function t4e(e){return pw.add(e),()=>{pw.delete(e)}}function n4e(){return Nf}function r4e(e){if(!e)return;const t=Nf.findIndex(r=>r.id===e);if(t===-1)return;const n=Nf.slice();n[t]=I(S({},n[t]),{reacted_to_at:new Date().toISOString()}),qN(n)}async function i4e(e){await Z.safePost("/amphora/notifications/{notification_id}/reacted",{parameters:{path:{notification_id:e}}})}async function s4e(e=20){return await Z.safeGet("/amphora/notifications",{parameters:{query:{limit:e}}})}const PK=B(()=>k(()=>import("./kyimc4818d03zzip.js"),__vite__mapDeps([111,1,112,113,3,4])).then(e=>e.InviteBannerModal)),o4e=B(()=>k(()=>import("./fbcn5tqy8soeyrhn.js"),__vite__mapDeps([114,1,112,113,3,4])).then(e=>e.InviteInfoModal));B(()=>k(()=>import("./lff8m4b7cwpsgyam.js"),__vite__mapDeps([115,1,3,4,112,113])).then(e=>e.InviteAcceptedBannerModal));function a4e(e,t,n){Mi(e,PK,{notificationId:t,payload:n})}function c4e(e,t,n,r){Qw(e,PK),Mi(e,o4e,{payload:t,notificationId:n,profileImageUrl:r})}const l4e=B(()=>k(()=>import("./g939r1pipss4e4jn.js"),__vite__mapDeps([116,1,3,4])).then(e=>e.FamilyUnlinkBannerModal));function u4e(e,t,n){Mi(e,l4e,{notificationId:t,payload:n})}const d4e=B(()=>k(()=>import("./it0t7o405zppocuo.js").then(e=>e.s),__vite__mapDeps([117,1,113,3,4,118,119,120,121,122,123])).then(e=>e.SelfHarmBannerModal));function f4e(e,t,n){Mi(e,d4e,{notificationId:t,payload:n})}const mw=new Set;async function q9e(e){try{e&&(await i4e(e),r4e(e),mw.delete(e))}catch(t){}}const h4e=B(()=>k(()=>import("./fdpa7j95byzypdty.js"),__vite__mapDeps([124,1,3,4])).then(e=>e.SettingUpdatedBannerModal));function p4e(e,t){if(t){if(mw.has(t))return;mw.add(t)}const n=on(e);(async()=>{try{await Z.safePost("/amphora/clear_settings_cache")}catch(i){}try{const i=So();await n.invalidateQueries(i),await n.prefetchQuery(i)}catch(i){}const r=i=>{const s=i.queryKey;if(!Array.isArray(s)||s.length<2||!(typeof s[0]=="string"&&s[0]==="amphora"))return!1;const a=s[s.length-1];return typeof a=="string"&&a==="permissions"};try{await n.invalidateQueries({predicate:r})}catch(i){}try{await n.refetchQueries({predicate:r,type:"inactive"})}catch(i){}})()}function m4e(e,t,n){Mi(e,h4e,{notificationId:t,payload:n})}B(()=>k(()=>import("./dc2llyeyz16fmcf4.js"),__vite__mapDeps([125,1,3,4,126])).then(e=>e.U18InfoModal));const g4e=B(()=>k(()=>import("./dc2llyeyz16fmcf4.js"),__vite__mapDeps([125,1,3,4,126])).then(e=>e.U18BannerModal));function _4e(e,t){Mi(e,g4e,{notificationId:t})}async function v4e(){return await Z.safeGet("/amphora")}const gw=bn({queryKey:["amphora"],queryFn:v4e,staleTime:1/0});function V9e(){return Yt(gw).data}async function y4e(e){var r;await e.invalidateQueries({queryKey:gw.queryKey,exact:!0});const t=e.getQueryData(gw.queryKey),n=(r=t==null?void 0:t.id)!=null?r:null;n&&await e.invalidateQueries({predicate:({queryKey:i})=>!Array.isArray(i)||i[0]!=="amphora"||i.length!==3?!1:i[1]===n})}const _w=new sx;var jf;class b4e{constructor(){U(this,"start",0);U(this,"connectTime",0);U(this,"hasLoggedGetSocketURL",!1);U(this,"didLogPingFromWorker",!1);U(this,"didLogPingFromServer",!1);U(this,"pingId",dr());U(this,"actionMetadata",{});U(this,"onFetchSocketURL",()=>{if(!this.hasLoggedGetSocketURL){const t=performance.now()-this.start;this.actionMetadata.socket_url_duration=t,this.actionMetadata.socket_url_time=t,Q.addAction("ws.get-socket-url",this.actionMetadata),Xn.hist(Wn.WEBSOCKET,"get-socket-url",[],t),this.hasLoggedGetSocketURL=!0}});Nt(this,jf,({payload:t})=>{const{ping_id:n,source:r}=t;if(!(n!=null&&n!==this.pingId)){if(r==="server"&&!this.didLogPingFromServer){this.didLogPingFromServer=!0;const i=performance.now()-this.start,s=i-this.connectTime;this.actionMetadata.receive_server_ping_time=i,this.actionMetadata.receive_server_ping_duration=s,Q.addAction("ws.receive-server-ping",this.actionMetadata),Xn.hist(Wn.WEBSOCKET,"receive-server-ping",[],s)}if((r==="worker"||r==null)&&!this.didLogPingFromWorker){this.didLogPingFromWorker=!0;const i=performance.now()-this.start,s=i-this.connectTime;this.actionMetadata.receive_ping_time=i,this.actionMetadata.receive_ping_duration=s,Q.addAction("ws.receive-ping",this.actionMetadata),Xn.hist(Wn.WEBSOCKET,"receive-ping",[],s)}this.didLogPingFromWorker&&this.didLogPingFromServer&&_w.off("ping",fe(this,jf))}})}onInit(){Q.addAction("ws.init"),Xn.count(Wn.WEBSOCKET,"init"),this.start=performance.now()}onConnect(){if(!(this.connectTime>0))try{this.connectTime=performance.now()-this.start;const t=this.connectTime-Number(this.actionMetadata.socket_url_time);this.actionMetadata.connect_time=this.connectTime,this.actionMetadata.connect_duration=t,Q.addAction("ws.connect",this.actionMetadata),Xn.hist(Wn.WEBSOCKET,"connect",[],t),_w.on("ping",fe(this,jf)),Q.addAction("ws.send-ping",this.actionMetadata),Z.safePost("/celsius/ping",{requestBody:{ping_id:this.pingId}})}catch(t){Q.addAction("ws.error",{error:t}),Xn.count(Wn.WEBSOCKET,"error")}}}jf=new WeakMap;const C4e=ut(e=>$e(e,"1281927149")?new b4e:void 0);function E4e(e,t){let n=null;const r=()=>{const i=Date.now(),s=n!=null?i-n.time:null;return n!=null&&s!=null&&s<t?(Q.addAction("websocket-url-cache.hit",{timeSinceLastValue:s}),n.promise):(Q.addAction("websocket-url-cache.miss",{timeSinceLastValue:s}),n={promise:e().catch(o=>{throw Q.addAction("websocket-url-cache.error"),n=null,o}),time:i},n.promise)};return r.invalidate=()=>{Q.addAction("websocket-url-cache.invalidate"),n=null},r}const S4e=async()=>(await Z.safeGet("/celsius/ws/user")).websocket_url,O4e=E4e(S4e,15e5),xU=Ge(()=>ai(()=>document.hasFocus(),e=>{const t=()=>e();return window.addEventListener("focus",t),window.addEventListener("blur",t),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",t),document.removeEventListener("visibilitychange",t)}},{name:"isWindowFocused",getServerFallback:()=>!0}));(!globalThis.EventTarget||!globalThis.Event)&&console.error("\n  PartySocket requires a global 'EventTarget' class to be available!\n  You can polyfill this global by adding this to your code before any partysocket imports: \n  \n  ```\n  import 'partysocket/event-target-polyfill';\n  ```\n  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.\n");var kK=class extends Event{constructor(n,r){super("error",r);U(this,"message");U(this,"error");this.message=n.message,this.error=n}},MK=class extends Event{constructor(t=1e3,n="",r){super("close",r);U(this,"code");U(this,"reason");U(this,"wasClean",!0);this.code=t,this.reason=n}},oT={Event,ErrorEvent:kK,CloseEvent:MK};function T4e(e,t){if(!e)throw new Error(t)}function w4e(e){return new e.constructor(e.type,e)}function A4e(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new MK(e.code||1999,e.reason||"unknown reason",e):"error"in e?new kK(e.error,e):new Event(e.type,e)}var IU,x4e=typeof process<"u"&&typeof((IU=process.versions)==null?void 0:IU.node)<"u"&&typeof document>"u",jp=x4e?A4e:w4e,Sa={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},NU=!1,I4e=class Da extends EventTarget{constructor(n,r,i={}){super();U(this,"_ws");U(this,"_retryCount",-1);U(this,"_uptimeTimeout");U(this,"_connectTimeout");U(this,"_shouldReconnect",!0);U(this,"_connectLock",!1);U(this,"_binaryType","blob");U(this,"_closeCalled",!1);U(this,"_messageQueue",[]);U(this,"_debugLogger",console.log.bind(console));U(this,"_url");U(this,"_protocols");U(this,"_options");U(this,"onclose",null);U(this,"onerror",null);U(this,"onmessage",null);U(this,"onopen",null);U(this,"_handleOpen",n=>{this._debug("open event");const{minUptime:r=Sa.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),T4e(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(i=>{var s;return(s=this._ws)==null?void 0:s.send(i)}),this._messageQueue=[],this.onopen&&this.onopen(n),this.dispatchEvent(jp(n))});U(this,"_handleMessage",n=>{this._debug("message event"),this.onmessage&&this.onmessage(n),this.dispatchEvent(jp(n))});U(this,"_handleError",n=>{this._debug("error event",n.message),this._disconnect(void 0,n.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(n),this._debug("exec error listeners"),this.dispatchEvent(jp(n)),this._connect()});U(this,"_handleClose",n=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(n),this.dispatchEvent(jp(n))});this._url=n,this._protocols=r,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Da.CONNECTING}get OPEN(){return Da.OPEN}get CLOSING(){return Da.CLOSING}get CLOSED(){return Da.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((r,i)=>(typeof i=="string"?r+=i.length:i instanceof Blob?r+=i.size:r+=i.byteLength,r),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Da.CLOSED:Da.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(n=1e3,r){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,r)}reconnect(n,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,r),this._connect())}send(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{const{maxEnqueuedMessages:r=Sa.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}}_debug(...n){this._options.debug&&this._debugLogger("RWS>",...n)}_getNextDelay(){const{reconnectionDelayGrowFactor:n=Sa.reconnectionDelayGrowFactor,minReconnectionDelay:r=Sa.minReconnectionDelay,maxReconnectionDelay:i=Sa.maxReconnectionDelay}=this._options;let s=0;return this._retryCount>0&&(s=r*n**(this._retryCount-1),s>i&&(s=i)),this._debug("next delay",s),s}_wait(){return new Promise(n=>{setTimeout(n,this._getNextDelay())})}_getNextProtocols(n){if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(typeof n=="function"){const r=n();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){const r=n();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:n=Sa.maxRetries,connectionTimeout:r=Sa.connectionTimeout}=this._options;if(this._retryCount>=n){this._debug("max retries reached",this._retryCount,">=",n);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([i,s])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!NU&&(console.error("â€¼ï¸ No WebSocket implementation available. You should define options.WebSocket. \n\nFor example, if you're using node.js, run `npm install ws`, and then in your code:\n\nimport PartySocket from 'partysocket';\nimport WS from 'ws';\n\nconst partysocket = new PartySocket({\n  host: \"127.0.0.1:1999\",\n  room: \"test-room\",\n  WebSocket: WS\n});\n\n"),NU=!0);const o=this._options.WebSocket||WebSocket;this._debug("connect",{url:i,protocols:s}),this._ws=s?new o(i,s):new o(i),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(i=>{this._connectLock=!1,this._handleError(new oT.ErrorEvent(Error(i.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new oT.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(n=1e3,r){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(n,r),this._handleClose(new oT.CloseEvent(n,r,this))}catch(i){}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */const DK=ut(e=>new P4e(e));function N4e(e,t){return DK(e).getTopic(t)}const RU={maxRetries:20,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.5,maxReconnectionDelay:1/0},R4e={maxRetries:5,minReconnectionDelay:2e3+Math.random()*8e3,reconnectionDelayGrowFactor:2,maxReconnectionDelay:1/0};var si,LK,jK,FK,UK,BK;class P4e{constructor(t){Nt(this,si);U(this,"ws");U(this,"pingTest");U(this,"nextRequestId",1);U(this,"commandCallbacks",{});U(this,"topics",new Map);U(this,"isTransportOpen",!1);U(this,"isBatchingCommands",!1);U(this,"batchCommands",[]);U(this,"keepaliveInterval");this.ctx=t}init(){var n;this.pingTest=C4e(this.ctx),(n=this.pingTest)==null||n.onInit();const t=new I4e(async()=>{var i;const r=await O4e();return(i=this.pingTest)==null||i.onFetchSocketURL(),r},void 0,RU);this.ws=t,t.addEventListener("open",()=>{Vc(this,si,LK).call(this)}),t.addEventListener("close",()=>{Vc(this,si,FK).call(this)}),t.addEventListener("message",r=>{Vc(this,si,UK).call(this,r)}),t.addEventListener("error",r=>{Vc(this,si,BK).call(this,r)}),Vc(this,si,jK).call(this)}connect(){this.ws.reconnect()}disconnect(){this.ws.close()}getTopic(t){const n=this.topics.get(t);if(n)return n;const r=new k4e(t,this);return this.topics.set(t,r),r}startBatchCommands(){this.isBatchingCommands=!0,this.batchCommands=[]}endBatchCommands(){this.isBatchingCommands=!1,this.ws.send(JSON.stringify(this.batchCommands)),this.batchCommands=[]}async sendCommand(t){const n=this.nextRequestId++;this.commandCallbacks[n]=Promise.withResolvers();const r={id:n,command:t};this.isBatchingCommands?this.batchCommands.push(r):this.ws.send(JSON.stringify([r]));const i=await this.commandCallbacks[n].promise;return delete this.commandCallbacks[n],i}}si=new WeakSet,LK=function(){var t;(t=this.pingTest)==null||t.onConnect(),this.isTransportOpen=!0,this.startBatchCommands(),this.sendCommand({type:"connect",presence:{type:"presence",state:Qt(()=>xU(this.ctx))?"foreground":"background"}});for(const n of this.topics.values())n.state===1&&n.subscribe();this.endBatchCommands(),$e(this.ctx,"3274829134")&&(this.keepaliveInterval=setInterval(()=>{this.ws.send(JSON.stringify({type:"keepalive-ping"}))},2e4))},jK=function(){Vo(()=>xU(this.ctx),t=>{this.ws._options=t?RU:R4e,this.isTransportOpen&&this.sendCommand({type:"presence",state:t?"foreground":"background"})})},FK=function(){this.isTransportOpen=!1;for(const t of this.topics.values())t.handleDisconnect();this.endBatchCommands(),this.keepaliveInterval&&(clearInterval(this.keepaliveInterval),this.keepaliveInterval=void 0)},UK=function(t){const n=JSON.parse(t.data);if(Array.isArray(n)){const i=n;for(const s of i)if("type"in s&&s.type==="message"){const{topic_id:o}=s,a=this.topics.get(o);a&&a.handleMessage(s)}else"id"in s&&"reply"in s&&this.commandCallbacks[s.id].resolve(s.reply)}else{const r=n,{type:s}=r,o=W(r,["type"]),a=S({kind:s},o);_w.publish(a)}},BK=function(t){Q.addAction("websocket error",{error:t.error,message:t.message})};var Ya,xo;class k4e{constructor(t,n){U(this,"state",2);U(this,"offset",null);Nt(this,Ya,new sx);Nt(this,xo,!1);this.topicId=t,this.client=n}onMessage(t){return fe(this,Ya).on("message",n=>t(n.payload))}onPotentialMissedMessages(t){return fe(this,Ya).on("recovery-failed",()=>t())}handleMessage(t){fe(this,Ya).publish({kind:"message",payload:t.payload}),t.offset!=null&&t.offset!==""&&(this.offset=t.offset)}handleDisconnect(){this.state=1,Ut(this,xo,!1)}async subscribe(t={}){var n;if(t.includeAllHistory&&this.offset==null&&(this.offset="0"),this.state!==0&&(this.state=1,this.client.isTransportOpen&&!fe(this,xo))){Ut(this,xo,!0);const r=this.offset,i=await this.client.sendCommand(S({type:"subscribe",topic_id:this.topicId},r!=null?{offset:r}:{}));if(Ut(this,xo,!1),i.type==="subscribe"&&i.topic_id===this.topicId){if(this.state=0,this.offset=(n=i.last_offset)!=null?n:null,i.recovered&&i.catchups!=null)for(const s of i.catchups)this.handleMessage(s);r!=null&&!i.recovered&&fe(this,Ya).publish({kind:"recovery-failed"})}else throw new Error("Unexpected reply to subscribe command")}}unsubscribe(){this.state!==2&&((this.state===0||fe(this,xo))&&this.client.sendCommand({type:"unsubscribe",topic_id:this.topicId}),this.state=2)}}Ya=new WeakMap,xo=new WeakMap;function H9e(){"use forget";return E.useSyncExternalStore(t4e,n4e)}const M4e=B(()=>k(()=>import("./ga6j99kn1iju276w.js"),__vite__mapDeps([127,1,3,4])).then(e=>e.QuietHoursModal));function GK(e,t){if(t.notification_type!=="setting-defaulted")return!1;const n=t.payload;return(n==null?void 0:n.name)==="3VyEPC5dTP_model_instructions_enabled"&&(n!=null&&n.value)?(_4e(e,t.id),!0):!1}function WK(e,t,n){if(t.notification_type!=="setting-updated"||!t.id)return!1;const r=t.payload;return n&&p4e(e,t.id),r!=null&&r.clear_cache_only?!1:(m4e(e,t.id,r),!0)}function qK(e,t,n){if(t.notification_type!=="family-invite")return!1;const r=t.payload;return n==="loader"?c4e(e,r,t.id):a4e(e,t.id,r),!0}function VK(e,t){if(t.notification_type!=="family-unlink")return!1;const n=t.payload;u4e(e,t.id,n);const r=on(e);return y4e(r),!0}function $K(e,t){if(t.notification_type!=="self-harm")return!1;const n=t.payload;return f4e(e,t.id,n),!0}function D4e(e){(async()=>{var t,n,r;try{const i=await s4e(20),s=((t=i.items)!=null?t:[]).map(o=>o.id).filter(Boolean);Zje(s),qN((n=i.items)!=null?n:[]);for(const o of(r=i.items)!=null?r:[])!o.reacted_to_at&&(GK(e,o)||WK(e,o,!1)||qK(e,o,"loader")||VK(e,o)||$K(e,o))}catch(i){}})()}function L4e(e){N4e(e,"app_notifications").onMessage(n=>{if(n!=null&&n.type&&!["setting-defaulted","setting-updated","self-harm","family-invite","family-unlink"].includes(n.type))return;const r=n.notification_id;if(!e4e(r)){if((n==null?void 0:n.type)==="setting-defaulted"){const i={id:r!=null?r:"",notification_type:n.type,payload:n.payload};id(i),GK(e,i)}else if((n==null?void 0:n.type)==="self-harm"){const i={id:r!=null?r:"",notification_type:n.type,payload:n.payload};id(i),$K(e,i)}else if((n==null?void 0:n.type)==="setting-updated"){if(!r)return;const i={id:r,notification_type:n.type,payload:n.payload};id(i),WK(e,i,!0)}else if((n==null?void 0:n.type)==="family-invite"){const i={id:r!=null?r:"",notification_type:n.type,payload:n.payload};id(i),qK(e,i,"topic")}else if((n==null?void 0:n.type)==="family-unlink"){const i={id:r!=null?r:"",notification_type:n.type,payload:n.payload};id(i),VK(e,i)}}})}const j4e=Ge(e=>Ee(()=>{var n;const t=(n=gu(e).data)==null?void 0:n.settings;return t==null?void 0:t.rKAMeJfyrM_settings})),PU=Ge(()=>Oe(!1));function kU(e){if(!e)return null;const[t,n]=e.split(":").map(s=>parseInt(s,10)||0),r=Math.min(23,Math.max(0,t)),i=Math.min(59,Math.max(0,n));return r*60+i}function F4e(e){if(e==null||e.enabled===!1)return!1;const t=kU(e.start_time),n=kU(e.end_time);if(t==null||n==null)return!1;const r=new Date,i=r.getHours()*60+r.getMinutes();return t===n?!1:t<n?i>=t&&i<n:i>=t||i<n}function U4e(e){Vo(()=>!PU(e)&&F4e(j4e(e)),t=>{t&&(PU.set(e,!0),Mi(e,M4e))},{fireImmediately:!0})}function B4e(e){L4e(e),D4e(e),U4e(e)}function G4e(e){if(!$e(e,"4141006638"))return;const t=DK(e);t.init(),t.getTopic("conversations").subscribe(),t.getTopic("app_notifications").subscribe()}function W4e(e){St(e)&&(Dhe(e),G4e(e),B4e(e),gH())}let MU=!1;function q4e(e){MU||(MU=!0,W4e(e))}var V4e=g$();const $4e=Gt(V4e);function H4e(e){return v$(new URL(e,window.location.origin).searchParams).includes(ae.Search)}var z4e=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e.LogoutConfirm="logout-confirm",e.NotificationFeed="notification-feed",e.DeepResearchShare="deep-research-share",e))(z4e||{});function Y4e({isOpen:e}){De.setCookie(Se.NavigationState,e?"1":"0",{maxAge:2*365*24*60*60})}const K4e={isThreadHeaderVisible:!0,isSlideoverSidebarOpen:void 0,isPopoverSidebarOpen:!1,isVoiceActive:!1,isConversationScrolledFromTop:!1,sharingModalThreadId:void 0,deepResearchShareTaskId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null,noAuthMadlibsModalOpen:!1,onboardingConvoState:null,autoHighlightNicknameInput:!1,shouldShowThreadModelPickerDot:!1},Bh=ut(()=>rr()(()=>K4e));function Tv(e){"use no forget";const t=re(),n=Bh(t);return e?n(e):n()}function HK(){const e=At();return Bh(e).getState()}function _t(e){const t=At();Bh(t).setState(e)}const z9e={isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},aT={setBrowseMode:e=>{_t(t=>I(S({},t),{browseMode:e}))},setIsConversationScrolledFromTop:e=>{_t(t=>I(S({},t),{isConversationScrolledFromTop:e}))},enterGizmoEditor:()=>{_t({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{_t({browseMode:"conversation"})},setAutoHighlightNicknameInput:e=>{_t({autoHighlightNicknameInput:e})},setSidebarOpen(e){J4e()?aT.setPopoverSidebarOpen(e):aT.setSlideoverSidebarOpen(e)},setPopoverSidebarOpen:e=>{var t;_t(({isPopoverSidebarOpen:n})=>({isPopoverSidebarOpen:e!=null?e:!n})),e||(t=Jo())==null||t.closeSidebarOverlay()},setSlideoverSidebarOpen:e=>{_t(({isSlideoverSidebarOpen:t})=>{const n=e!=null?e:!(t!=null?t:zK());return Y4e({isOpen:n}),we.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!n,action:"button_click"}),{isSlideoverSidebarOpen:n}}),YK=!1},hideThreadHeader:()=>{_t({isThreadHeaderVisible:!1})},showThreadHeader:()=>{_t({isThreadHeaderVisible:!0})},openSharingModal(e,t){_t({sharingModalThreadId:e}),we.logEvent("Share Conversation: Open Modal",{location:t})},closeSharingModal(){_t({sharingModalThreadId:void 0})},openFeedbackModal(e){_t({feedbackModalThreadId:e})},closeFeedbackModal(){_t({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){_t({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){_t({purchaseWorkspaceData:e})},setActiveSidebar(e){_t({activeSidebar:e})},setThreadModelPickerAlertDot:e=>{_t(({shouldShowThreadModelPickerDot:t})=>(t!==e&&we.logEvent("Notifications: Thread Model Picker Alert Dot",{shown:e}),{shouldShowThreadModelPickerDot:e}))},toggleActiveSidebar(e){_t(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){_t(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){_t({activeStageSidebar:e})},toggleModal(e){_t(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){_t(t=>{if(t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){_t(t=>{if(!t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},openDeepResearchShare(e){_t(t=>I(S({},t),{deepResearchShareTaskId:e})),aT.openModal("deep-research-share")},closeAllActiveModals(){HK().activeModals.size>0&&_t({activeModals:new Set})},hideLatencyDevTools:()=>{_t({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{_t({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e,t=!1){_t(n=>n.displayAnnouncementTooltip&&!t?n:{displayAnnouncementTooltip:e})},setNoAuthMadlibsModalOpen:e=>{_t({noAuthMadlibsModalOpen:e}),vn.setItem(en.NoAuthMadlibsModalState,"seen")},setOnboardingConvoState:e=>{_t({onboardingConvoState:e})}};function Y9e(e){return Tv(t=>t.activeModals.has(e))}function zK(){if(YK)return!1;const e=De.getCookie(Se.NavigationState);return e!=null?e==="1":!0}let YK=H4e(window.location.href);function J4e(){var r;const e=HK().activeStageSidebar,t=Uhe(),n=(r=nG(At()))!=null?r:!1;return e||!t||n}function X4e(){"use forget";const e=Y.c(2),t=re(),n=Tv(Q4e),r=Fhe();let i;return e[0]!==t?(i=nG(t),e[0]=t,e[1]=i):i=e[1],n||!r||i}function Q4e(e){return e.activeStageSidebar}function K9e(){const e=re(),t=X4e(),n=Tv(r=>r.isSlideoverSidebarOpen);return St(e)&&!t&&(n!=null?n:zK())}function J9e(){return Tv(e=>e.activeModals.has("blocking-initial-component"))}function X9e(){const e=re(),[t,n]=E.useState(!1);return E.useEffect(()=>Bh(e).subscribe(i=>{i.activeModals.has("blocking-initial-component")&&n(s=>s||i.activeModals.has("blocking-initial-component"))}),[e]),t}const Z4e={isActive:!1,query:"",activeIndex:void 0,mouseInteractionsDisabled:!1},VN=rr(mu(()=>S({},Z4e))),DU=VN.getState,Fp=VN.setState,Q9e={getQuery:(e=DU())=>e.query,getMouseInteractionsDisabled:()=>DU().mouseInteractionsDisabled},eFe={setIsActive:e=>{Fp({isActive:e})},setQuery:e=>{Fp({query:e})},setActiveIndex:e=>{Fp(t=>{t.activeIndex=e,t.mouseInteractionsDisabled=!0})},setMouseInteractionsDisabled:e=>{Fp(t=>{t.mouseInteractionsDisabled=e})}};function KK(e,t){"use forget";const n=Y.c(29),r=re(),i=En(),s=gt(),[o,a]=Tc();let c;n[0]!==o?(c=o.get("inv_ws_name"),n[0]=o,n[1]=c):c=n[1];const l=c;let u;n[2]!==o?(u=o.get("accept_wId"),n[2]=o,n[3]=u):u=n[3];const d=u,f=t==="/"&&d&&l;let h;n[4]!==s||n[5]!==l||n[6]!==a||n[7]!==i?(h=()=>{a(tFe,{replace:!0}),i.success(s.formatMessage(Up.invitedMessage,{workspace_name:l}),{description:s.formatMessage(Up.separateWindow),hasCloseButton:!0,duration:600,id:"mini-workspace-invice"})},n[4]=s,n[5]=l,n[6]=a,n[7]=i,n[8]=h):h=n[8];const p=h,m=E.useRef(!1);let g;n[9]!==s||n[10]!==l||n[11]!==f||n[12]!==i?(g=()=>{m.current||!f||(m.current=!0,i.info(s.formatMessage(Up.addingToWorkspace,{workspace_name:l}),{description:s.formatMessage(Up.separateWindow),hasCloseButton:!0,duration:0,id:"mini-workspace-invice"}))},n[9]=s,n[10]=l,n[11]=f,n[12]=i,n[13]=g):g=n[13],E.useEffect(g);const y=E.useRef(!1);let v;n[14]!==r||n[15]!==p||n[16]!==e||n[17]!==d||n[18]!==f?(v=()=>{y.current||!f||!m.current||!e||(y.current=!0,p7({accessToken:Kf(r),eventPrefix:"miniObserver",acceptWorkspaceId:d}).then(()=>{e.onAcceptedWorkspaceInvite(d),p()}).catch(()=>{y.current=!1}))},n[14]=r,n[15]=p,n[16]=e,n[17]=d,n[18]=f,n[19]=v):v=n[19];let T;n[20]!==r||n[21]!==p||n[22]!==e||n[23]!==s||n[24]!==d||n[25]!==l||n[26]!==f||n[27]!==i?(T=[r,p,e,s,d,l,f,i],n[20]=r,n[21]=p,n[22]=e,n[23]=s,n[24]=d,n[25]=l,n[26]=f,n[27]=i,n[28]=T):T=n[28],E.useEffect(v,T)}function tFe(e){return e.delete("inv_ws_name"),e.delete("accept_wId"),e}const Up=Tt({addingToWorkspace:{id:"MiniObserver.addingToWorkspace",defaultMessage:"Adding you to the {workspace_name} workspace..."},invitedMessage:{id:"MiniObserver.invitedMessage",defaultMessage:"You have been added to the {workspace_name} workspace!"},separateWindow:{id:"MiniObserver.separateWindow",defaultMessage:"The workspace will be opened in a separate window"}});function JK(e){const t=Ue(Xr.wantsSetChatTheme$);E.useEffect(()=>{if(!t)return;Xr.wantsSetChatTheme$.set(!1);const n=Xr.chatTheme;Xr.chatTheme=void 0,n&&khe(e,n)},[t,e])}function nFe(){"use forget";const e=Y.c(31),t=re(),n=zt(),r=Zs(),[i]=Tc(),s=E.useRef(null);let o;e[0]!==t?(o=St(t),e[0]=t,e[1]=o):o=e[1];const a=o;let c;e[2]!==t?(c=at(t),e[2]=t,e[3]=c):c=e[3];const l=c;JK(t);const u=c7();KK(u,n.pathname);let d;e[4]!==u||e[5]!==a||e[6]!==(l==null?void 0:l.id)?(d=()=>{u&&(a?u.recordAvailableSessionAuth(l==null?void 0:l.id):u.onMissingSessionAuth())},e[4]=u,e[5]=a,e[6]=l==null?void 0:l.id,e[7]=d):d=e[7];const f=l==null?void 0:l.id;let h;e[8]!==u||e[9]!==a||e[10]!==f?(h=[u,a,f],e[8]=u,e[9]=a,e[10]=f,e[11]=h):h=e[11],E.useEffect(d,h);let p,m;e[12]!==t||e[13]!==a?(p=()=>Vo(rFe,C=>{if(!C)return;Xr.wantsAuthSessionContext$.set(!1);const b=Xr.authSessionContext;if(b)e:switch(b.behavior){case"justLoggedInAccessToken":{a&&Yw(t,b.authToken.accessToken);break e}case"reloadPageIfLoggedOut":{a||window.location.reload();break e}}}),m=[a,t],e[12]=t,e[13]=a,e[14]=p,e[15]=m):(p=e[14],m=e[15]),E.useEffect(p,m);let g;e[16]!==t||e[17]!==n.hash||e[18]!==n.pathname||e[19]!==n.state||e[20]!==r||e[21]!==i?(g=()=>Vo(()=>Hs(t),C=>{var O,w;if(!ki(t))return;const b=sFe({currentWindowStyle:iFe(C),initialWindowStyle:Z6(t),windowStyleFromUrl:(O=i.get(Xf))!=null?O:void 0,currentLocationPathName:n.pathname,previousLocationPathName:(w=s.current)==null?void 0:w.pathname});if(b!==C){Hs.set(t,b);return}oFe(b,{ctx:t,locationPathname:n.pathname,locationHash:n.hash,locationState:n.state,searchParams:i,navigate:r})},{fireImmediately:!0}),e[16]=t,e[17]=n.hash,e[18]=n.pathname,e[19]=n.state,e[20]=r,e[21]=i,e[22]=g):g=e[22];let y;e[23]!==t||e[24]!==n||e[25]!==r||e[26]!==i?(y=[n.pathname,n.search,n.hash,n.state,n,i,r,t,s],e[23]=t,e[24]=n,e[25]=r,e[26]=i,e[27]=y):y=e[27],E.useEffect(g,y);let v,T;return e[28]!==n?(T=()=>{s.current=n},v=[n,s],e[28]=n,e[29]=v,e[30]=T):(v=e[29],T=e[30]),E.useEffect(T,v),aFe(),null}function rFe(){return Xr.wantsAuthSessionContext$()}function iFe(e){if(e==="mainPage")return"new_page_view";if(e==="sidebar")return"sidebar_view";switch(e){case"new_page_overlay_view":return"new_page_overlay_view";case"new_page_view":return"new_page_view";case"sidebar_view":return"sidebar_view"}return"new_page_view"}function sFe({currentWindowStyle:e,initialWindowStyle:t,windowStyleFromUrl:n,currentLocationPathName:r,previousLocationPathName:i}){const s=r==="/",o=i==="/";return s&&t==="sidebar_view"||n===Xd.value&&e!=="new_page_view"?"sidebar_view":e==="new_page_view"&&s&&i!=null&&!o?"new_page_overlay_view":e==="new_page_overlay_view"&&!s?"new_page_view":e}function oFe(e,{ctx:t,locationPathname:n,locationHash:r,locationState:i,searchParams:s,navigate:o}){switch(e){case"new_page_overlay_view":cT(s,o,n,r,i,X6),vte(t),lT("new_page_overlay_view");break;case"new_page_view":cT(s,o,n,r,i,Dm),_te(t),lT();break;case"sidebar_view":cT(s,o,n,r,i,Xd),gte(t),lT("sidebar_view");break}}function cT(e,t,n,r,i,{name:s,value:o}){if(e.get(s)===o)return;const a=new URLSearchParams(e);a.set(s,o),t({pathname:n,search:a.toString(),hash:r||void 0},{replace:!0,preventScrollReset:!0,state:i})}function lT(e){const t="data-window-style";e?document.body.setAttribute(t,e):document.body.removeAttribute(t)}function aFe(){"use forget";const e=Y.c(7),t=re(),n=VN(cFe);let r;e[0]!==t?(r=()=>Q6(t),e[0]=t,e[1]=r):r=e[1];const i=Ue(r),s=E.useRef(n);let o,a;e[2]!==t||e[3]!==i||e[4]!==n?(o=()=>{var d;const c=s.current;if(s.current=n,!(c&&!n&&i))return;eFe.setIsActive(!1),Bh(t).getState().isPopoverSidebarOpen||(d=Jo())==null||d.closeSidebarOverlay()},a=[n,i,t],e[2]=t,e[3]=i,e[4]=n,e[5]=o,e[6]=a):(o=e[5],a=e[6]),E.useEffect(o,a)}function cFe(e){return e.isActive}function LU(e,t,n,r,{name:i,value:s}){const o=new URLSearchParams(e);o.get(i)!==s&&(o.set(i,s),r({pathname:t,search:o.toString(),hash:n},{replace:!0}))}function lFe(){"use forget";const e=Y.c(24),t=zt(),n=Zs(),[r,i]=Ste(dFe),s=re();let o;e[0]!==s?(o=St(s),e[0]=s,e[1]=o):o=e[1];const a=o;let c;e[2]!==s?(c=at(s),e[2]=s,e[3]=c):c=e[3];const l=c;JK(s);const u=c7();KK(u,t.pathname);let d;e[4]!==u||e[5]!==a||e[6]!==(l==null?void 0:l.id)?(d=()=>{u&&(a?u.recordAvailableSessionAuth(l==null?void 0:l.id):u.onMissingSessionAuth())},e[4]=u,e[5]=a,e[6]=l==null?void 0:l.id,e[7]=d):d=e[7];const f=l==null?void 0:l.id;let h;e[8]!==u||e[9]!==a||e[10]!==f?(h=[u,a,f],e[8]=u,e[9]=a,e[10]=f,e[11]=h):h=e[11],E.useEffect(d,h);let p,m;e[12]!==a||e[13]!==s?(p=()=>Vo(uFe,v=>{if(!v)return;Xr.wantsAuthSessionContext$.set(!1);const T=Xr.authSessionContext;if(T)e:switch(T.behavior){case"justLoggedInAccessToken":{a&&Yw(s,T.authToken.accessToken);break e}case"reloadPageIfLoggedOut":{a||window.location.reload();break e}}}),m=[a,s],e[12]=a,e[13]=s,e[14]=p,e[15]=m):(p=e[14],m=e[15]),E.useEffect(p,m);let g,y;return e[16]!==r||e[17]!==i||e[18]!==t.hash||e[19]!==t.pathname||e[20]!==t.search||e[21]!==n?(g=()=>{r&&LU(t.search,t.pathname,t.hash,n,mte),i&&LU(t.search,t.pathname,t.hash,n,Xd),i?document.body.setAttribute("data-window-style","sidebar_view"):document.body.removeAttribute("data-window-style")},y=[t.pathname,t.search,t.hash,n,r,i],e[16]=r,e[17]=i,e[18]=t.hash,e[19]=t.pathname,e[20]=t.search,e[21]=n,e[22]=g,e[23]=y):(g=e[22],y=e[23]),E.useEffect(g,y),null}function uFe(){return Xr.wantsAuthSessionContext$()}function dFe(e){return[Jw(e),Qf(e)]}const fFe=()=>(E.useEffect(()=>{const e=({shiftKey:r,metaKey:i,ctrlKey:s})=>{f1.setState({shift:r,meta:i,ctrl:s})},t=()=>{f1.setState(N8)},n={passive:!0,capture:!0};return document.addEventListener("keydown",e,n),document.addEventListener("keyup",e,n),document.addEventListener("visibilitychange",t,n),()=>{document.removeEventListener("keydown",e,n),document.removeEventListener("keyup",e,n),document.removeEventListener("visibilitychange",t,n)}},[]),null);class XK{constructor(){U(this,"cacheK1",new Map)}get(t,n){var r;return(r=this.cacheK1.get(t))==null?void 0:r.get(n)}set(t,n,r){let i=this.cacheK1.get(t);i||(i=new Map,this.cacheK1.set(t,i)),i.set(n,r)}delete(t,n){const r=this.cacheK1.get(t);r&&(r.delete(n),r.size===0&&this.cacheK1.delete(t))}}const jU=new XK,vw=new XK;function hFe(e,t){const n=vw.get(e,t);if(n==null){const r=gre(e,t).catch(()=>Nd);return vw.set(e,t,r),r}return n}function pFe(e,t){"use forget";const n=Y.c(6);if(e===rh)return Nd;let r;n[0]!==e||n[1]!==t?(r=jU.get(e,t),n[0]=e,n[1]=t,n[2]=r):r=n[2];const i=r;if(i!=null)return i;let s;n[3]!==e||n[4]!==t?(s=hFe(e,t),n[3]=e,n[4]=t,n[5]=s):s=n[5];const o=s,a=E.use(o);return a===Nd?Nd:(jU.set(e,t,a),vw.delete(e,t),a)}function mFe(e){"use forget";const t=Y.c(10),{children:n,locale:r}=e,i=re();let s;t[0]!==i||t[1]!==r?(s=CG(r)&&an(i,"2884982660").get("load-machine-translated",!1),t[0]=i,t[1]=r,t[2]=s):s=t[2];const a=pFe(r,s),c=bG.has(r)?"rtl":"ltr";let l;t[3]!==n||t[4]!==c?(l=_.jsx(yde,{dir:c,children:n}),t[3]=n,t[4]=c,t[5]=l):l=t[5];let u;return t[6]!==r||t[7]!==a||t[8]!==l?(u=_.jsx(mJ,{defaultLocale:rh,locale:r,messages:a,children:l}),t[6]=r,t[7]=a,t[8]=l,t[9]=u):u=t[9],u}const gFe=({children:e})=>{const t=RJ().locale;return E.useEffect(()=>{var i;const n=(i=navigator.language)!=null?i:"",r=o_(n);we.logEvent("Locale Loaded",{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r}),ft.logEvent("chatgpt_locale_loaded",t,{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r!=null?r:""})},[t]),_.jsx(mFe,{locale:t,children:e})};var uT,FU;function _Fe(){if(FU)return uT;FU=1;var e=vu(),t=Mr(),n=aa(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return uT=i,uT}var vFe=_Fe();const yFe=Gt(vFe);var dT,UU;function bFe(){if(UU)return dT;UU=1;var e=RA(),t=Cu(),n=SY(),r=bV();function i(s,o){if(s==null)return{};var a=e(r(s),function(c){return[c]});return o=t(o),n(s,a,function(c,l){return o(c,l[0])})}return dT=i,dT}var CFe=bFe();const EFe=Gt(CFe);function SFe(e,t=0){return new Promise(n=>{requestAnimationFrame(()=>{setTimeout(()=>{n(e())},t)})})}const Gh=Oe("livekit"),Z9e=()=>Ue(()=>Gh()),eHe=()=>SFe(()=>Gh()),Wh=Oe(""),tHe=()=>Ue(()=>Wh()),nHe=()=>{requestAnimationFrame(()=>{Wh.set("")})};function ke(e,t,n){return r=>{requestAnimationFrame(()=>{var a;const i=Gh(),s=(a=r==null?void 0:r.voice_session_id)!=null?a:Wh(),o=I(S({},r),{message:t,protocol:i,voice_session_id:s});Q.addAction(e,o),n&&_T(At(),n,void 0,EFe(o,c=>yFe(c)))})}}function sd(e,t){return(n,r)=>{requestAnimationFrame(()=>{var a;const i=Gh(),s=(a=r==null?void 0:r.voice_session_id)!=null?a:Wh(),o=I(S(S({},r),t?{message:t}:{}),{protocol:i,voice_session_id:s});try{const c=n.name,l=n.message;o.error=c,o.errMessage=l}catch(c){o.error=String(n)}Q.addAction(e,o)})}}function Oa(e){return(t,n)=>{requestAnimationFrame(()=>{var s;const r=Gh(),i=(s=n==null?void 0:n.voice_session_id)!=null?s:Wh();t instanceof Ht||Q.addError(t,I(S({},n),{status:"error",name:e,protocol:r,voice_session_id:i}))})}}const BU={audioPlayer:{error:Oa("audio-player")},readAloud:{click:ke("read-aloud","click"),error:Oa("read-aloud")},messagePlayback:{click:ke("message-playback","click")},toggleVideoButton:{click:ke("toggle-video-button","click")},toggleMuteButton:{click:ke("toggle-mute-button","click"),error:Oa("toggle-mute-button")},toggleScreenShareButton:{click:ke("toggle-screenshare-button","click")},composerSpeechButton:{hover:ke("composer-speech-button","hover")},voiceSessionEndedByUser:{click:ke("voice-session-ended-by-user","click")},voiceSessionStarted:{click:ke("voice-session-started","click")},voiceSessionDuration:{duration:ke("voice-session-duration","duration")},voiceSessionListening:{stateChange:ke("voice-session-listening","stateChange")},voiceSessionListeningIntently:{stateChange:ke("voice-session-listening-intently","stateChange")},voiceSessionThinking:{stateChange:ke("voice-session-thinking","stateChange")},voiceSessionSpeaking:{stateChange:ke("voice-session-speaking","stateChange")},voiceSessionHalted:{stateChange:ke("voice-session-halted","stateChange")},voiceSessionDisconnected:{stateChange:ke("voice-session-disconnected","stateChange")},voiceMode:{connect:ke("voice-mode","connect"),error:ke("voice-mode","error")},previews:{click:ke("previews","click"),error:Oa("previews")},getToken:{request:ke("get-token","request"),success:ke("get-token","success"),failure:ke("get-token","failure")},getVoiceStatus:{request:ke("get-voice-status","request"),success:ke("get-voice-status","success"),failure:ke("get-voice-status","failure")},livekit:{connectCalled:ke("livekit","connectCalled"),success:ke("livekit","success"),failure:Oa("livekit")},bloop:{performance:ke("bloop","performance")},voiceSelectionShown:{click:ke("voice-selection-shown","click","voice_selection_shown")},voiceSelected:{click:ke("voice-selected","click")},voiceAdvancedDisclosureShown:{success:ke("voice-advanced-disclosure-shown","success")},voiceAdvancedDisclosureAccepted:{click:ke("voice-advanced-disclosure-accepted","click")},rateLimitReached:{success:ke("rate-limit-reached","success"),modalShown:ke("rate-limit-reached","modalShown")},upsell:{upgradeToPlus:ke("upsell","upgradeToPlus"),upgradeToPro:ke("upsell","upgradeToPro"),upgradeToApp:ke("upsell","upgradeToApp"),appUpsellShown:ke("upsell","appUpsellShown"),appUpsellDismissed:ke("upsell","appUpsellDismissed")},feedbackShown:{success:ke("feedback-shown","success")},feedbackThumbsUp:{success:ke("feedback-thumbs-up","success")},feedbackThumbsDown:{success:ke("feedback-thumbs-down","success")},feedbackDetails:{audio_issues:ke("feedback-details","audio_issues"),response_quality:ke("feedback-details","response_quality"),interruptions:ke("feedback-details","interruptions"),transcription_issues:ke("feedback-details","transcription_issues"),inaudible_issues:ke("feedback-details","inaudible_issues"),other:ke("feedback-details","other"),inputText:ke("feedback-details","inputText")},connectionLatency:{success:ke("connection-latency","success"),failure:Oa("connection-latency")},firstListeningLatency:{success:ke("first-listening-latency","success")},permissions:{denied:ke("permissions-denied")},voiceSessionFirstListening:{stateChange:ke("voice-session-first-listening","stateChange")},voiceSessionFirstSpeaking:{stateChange:ke("voice-session-first-speaking","stateChange")},defaultMediaDeviceChanged:{success:ke("default-media-device-changed","success"),failure:Oa("default-media-device-changed")},voiceStatusCache:{hit:ke("voice-status-cache","hit"),failed:ke("voice-status-cache","failed"),ineligible:ke("voice-status-cache","ineligible"),skipped:ke("voice-status-cache","skipped"),error:sd("voice-status-cache","error")},certificateCache:{hit:ke("certificate-cache","hit"),miss:ke("certificate-cache","miss"),expired:ke("certificate-cache","expired"),disabled:ke("certificate-cache","disabled"),unsupported:sd("certificate-cache","unsupported")},peerConnectionCache:{hit:ke("peer-connection-cache","hit"),miss:ke("peer-connection-cache","miss"),unsupported:sd("peer-connection-cache","unsupported")},certificateLocalDb:{hit:ke("certificate-local-db","hit"),generated:ke("certificate-local-db","generated"),saveFailed:sd("certificate-local-db","saveFailed"),loadFailed:sd("certificate-local-db","loadFailed")}},sr=rr(yfe(mu(()=>({playerNode:null,playerApi:null,playerState:{sourceUrl:null,isPlaying:!1}}))));function rHe(){return sr(e=>e.playerApi)}function iHe(e){return sr(t=>e(t.playerState))}function sHe(){return sr.getState().playerApi}function oHe(){return sr.getState().playerState}const OFe=E.memo(function(){const t=E.useRef(null),n=sr(r=>r.playerNode);return E.useEffect(()=>{const r=t.current;r&&!n&&(r.onplay=()=>{sr.setState(i=>{i.playerState.isPlaying=!0})},r.onpause=()=>{sr.setState(i=>{i.playerState.isPlaying=!1})},r.ontimeupdate=()=>{sr.setState(i=>{i.playerState.currentTime=r.currentTime})},r.ondurationchange=()=>{sr.setState(i=>{i.playerState.duration=r.duration})},r.onerror=i=>{typeof i=="string"?BU.audioPlayer.error(new Error(i)):i.target&&"error"in i.target&&BU.audioPlayer.error(i.target.error)},sr.setState({playerNode:r,playerApi:new TFe(r)}))},[n]),_.jsx("audio",{className:"fixed start-0 bottom-0 hidden h-0 w-0",autoPlay:!0,crossOrigin:"anonymous",ref:t})});class TFe{constructor(t){this.player=t}get state(){return sr.getState().playerState}changeSource(t){this.player.src&&this.player.src!==t&&this.stop(),this.player.src=t,sr.setState(n=>{n.playerState.sourceUrl=t})}async play(){this.state.isPlaying||await this.player.play()}pause(){this.state.isPlaying&&this.player.pause()}stop(){this.pause(),this.player.removeAttribute("src"),sr.setState(t=>{t.playerState.sourceUrl=null,t.playerState.currentTime=void 0,t.playerState.duration=void 0})}setCurrentTime(t){this.player.currentTime=t}setSpeed(t){this.player.playbackRate=t,this.player.defaultPlaybackRate=t}}function aHe(e){const t=sr.getState().playerNode;if(!t)return!1;const n=t.canPlayType(e);return n==="probably"||n==="maybe"}function wFe(e){"use forget";const t=Y.c(4),{children:n}=e;let r;return t[2]!==n?(r=_.jsx(zie,{children:n}),t[2]=n,t[3]=r):r=t[3],r}const AFe=e=>{"use forget";const t=Y.c(11),{children:n}=e,r=re();let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=fr(),t[0]=i):i=t[0];const s=i;let o;t[1]!==n?(o=_.jsx(a2e,{children:n}),t[1]=n,t[2]=o):o=t[2];let a,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=_.jsx(OFe,{}),c=_.jsx(fFe,{}),t[3]=a,t[4]=c):(a=t[3],c=t[4]);let l;t[5]!==r?(l=s?Zf(r)?_.jsx(nFe,{}):_.jsx(lFe,{}):null,t[5]=r,t[6]=l):l=t[6];let u;t[7]===Symbol.for("react.memo_cache_sentinel")?(u=_.jsx($ie,{}),t[7]=u):u=t[7];let d;return t[8]!==o||t[9]!==l?(d=_.jsx(Oue,{children:_.jsx(gFe,{children:_.jsxs(wFe,{children:[o,a,c,l,u]})})}),t[8]=o,t[9]=l,t[10]=d):d=t[10],d},yw=({resetError:e,componentStack:t,error:n})=>(E.useEffect(()=>{Q.addError(n),ot==null||ot.publish(Ho.ERROR_THROWN,{error:n})},[n]),_.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[_.jsx("h2",{children:"Content failed to load"}),!1,_.jsx(_s,{color:"secondary",onClick:e,children:"Try again"}),!1]})),$N=Oe(!1),cHe=$N;function xFe(e){const t=$o(e.document,{keydown:NFe,keyup:Cm,visibilitychange:Cm}),n=$o(e,{blur:Cm});return()=>{t(),n()}}const IFe=500;let xl;function NFe(e){RFe(e)?xl!=null||(xl=setTimeout(()=>{$N.set(!0)},IFe)):xl&&Cm()}function RFe(e){return!w_(e)&&e.key===(bB()?"Meta":"Control")&&MW(e)===uce()}function Cm(){clearTimeout(xl),xl=void 0,$N.set(!1)}var pi={},GU;function PFe(){if(GU)return pi;GU=1,Object.defineProperty(pi,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=1;i<20;i++)r["f"+i]=111+i;function s(f,h,p){h&&!("byKey"in h)&&(p=h,h=null),Array.isArray(f)||(f=[f]);var m=f.map(function(v){return c(v,h)}),g=function(T){return m.some(function(C){return l(C,T)})},y=p==null?g:g(p);return y}function o(f,h){return s(f,h)}function a(f,h){return s(f,{byKey:!0},h)}function c(f,h){var p=h&&h.byKey,m={};f=f.replace("++","+add");var g=f.split("+"),y=g.length;for(var v in t)m[t[v]]=!1;var T=!0,C=!1,b=void 0;try{for(var O=g[Symbol.iterator](),w;!(T=(w=O.next()).done);T=!0){var A=w.value,x=A.endsWith("?")&&A.length>1;x&&(A=A.slice(0,-1));var N=d(A),R=t[N];if(A.length>1&&!R&&!n[A]&&!r[N])throw new TypeError('Unknown modifier: "'+A+'"');(y===1||!R)&&(p?m.key=N:m.which=u(A)),R&&(m[R]=x?null:!0)}}catch(L){C=!0,b=L}finally{try{!T&&O.return&&O.return()}finally{if(C)throw b}}return m}function l(f,h){for(var p in f){var m=f[p],g=void 0;if(m!=null&&(p==="key"&&h.key!=null?g=h.key.toLowerCase():p==="which"?g=m===91&&h.which===93?91:h.which:g=h[p],!(g==null&&m===!1)&&g!==m))return!1}return!0}function u(f){f=d(f);var h=r[f]||f.toUpperCase().charCodeAt(0);return h}function d(f){return f=f.toLowerCase(),f=n[f]||f,f}return pi.default=s,pi.isHotkey=s,pi.isCodeHotkey=o,pi.isKeyHotkey=a,pi.parseHotkey=c,pi.compareHotkey=l,pi.toKeyCode=u,pi.toKeyName=d,pi}var kFe=PFe();const MFe=Gt(kFe),DFe=ut(()=>{const e=Oe([]),t=Oe(void 0),n=Ee(()=>{const a=t();return e().filter(c=>qU(c,a))});function r(...a){return e.set(c=>[...a,...c]),()=>{e.set(c=>c.filter(l=>!a.includes(l)))}}function i(a){const c=Qt(t);return t.set(a),()=>t.set(c)}function s(a){return $o(a.document,{keydown:o})}function o(a){if(a.key===void 0||a.repeat||w_(a)||a.defaultPrevented)return;const l=Qt(e),u=Qt(t);for(const d of l)if(LFe(d,a)&&qU(d,u)&&d.action(a)!==!1){we.logEventWithStatsig("Keyboard Shortcut","keyboard_shortcut",{keyboardActionKey:d.key}),Q.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:d.key}),a.preventDefault();return}}return{actions$:n,addAction:r,limitActionGroups:i,registerEventListener:s}}),WU=new WeakMap;function LFe(e,t){let n=WU.get(e);if(!n){const{keyboardBinding:r,altKeyboardBindings:i}=e,s=[r,...i!=null?i:[]].map(o=>o.join("+"));n=MFe(s,{byKey:!0}),WU.set(e,n)}return n(t)}function qU(e,t){return!(e.enabled===!1||t!=null&&!t.includes(e.group))}function jFe(){const[e,t]=Tc(),n=gt(),r=En(),i=e.get(Hv),s=e.get(zv),o=ys();E.useEffect(()=>{var l;let a=!1;if(o&&i==="true"){let u;o.isWorkspacePlan()?u=(l=o.name)!=null?l:"Workspace":u="Personal",r.info(n.formatMessage({id:"S4JoJY",defaultMessage:"Switched to {name}"},{name:u})),a=!0}let c=!1;if(typeof s=="string"&&FFe(s)){const u=QK[s];r.danger(n.formatMessage(u),{toastId:"error_query_param",loggingTitle:s,loggingDescription:u.defaultMessage?String(u.defaultMessage):""}),c=!0}(e.has(Hv)||e.has(zv))&&t(u=>(a&&u.delete(Hv),c&&u.delete(zv),u),{replace:!0})},[i,o,s,n,e,t,r])}function FFe(e){return e in QK}const QK=Tt({invalidToken:{id:"UAhT32",defaultMessage:"The token is invalid"},continueFromApiGeneric:{id:"FHUH8C",defaultMessage:"Unable to continue your conversation"}});class HN{constructor(t){U(this,"subscribers");this.subscribers=HN.createTypedEmitterAllEventSubscribers(t)||{}}publish(t,n){const r=this.subscribers[t]||{};for(const i of Object.values(r))i(n)}subscribe(t,n){const r=dr();this.subscribers[t]||(this.subscribers[t]={});const i=this.subscribers[t];return i[r]=n,()=>{delete i[r]}}static createTypedEmitterAllEventSubscribers(t){return t.reduce((n,r)=>(n[r]={},n),{})}}class UFe extends HN{constructor(){super(Object.values(_A))}getVersion(){return 1}}const BFe=new UFe;function GFe(){const e=re(),n=hr(e).getContext().user,r=Ic(e),i=at(e);E.useEffect(()=>{var s;ot&&(r!=null&&r.accessToken&&((s=r==null?void 0:r.user)!=null&&s.id)?ot.publish(Ho.LOGIN_CHANGED,{userId:r.user.id,accountId:i==null?void 0:i.id,authToken:r.accessToken,statsigUser:n,email:r.user.email}):ot.publish(Ho.LOGOUT,{statsigUser:n}))},[i==null?void 0:i.id,r==null?void 0:r.accessToken,r==null?void 0:r.user,i,n])}function lHe(e){const t=re(),n=xt(t).windowStyle;E.useEffect(()=>{if(ot)return BFe.subscribe(_A.WINDOW_VISIBILITY_STATE_CHANGED,r=>{r.windowType===n&&r.state==="hidden"&&e()})},[e,n])}function uHe(){return ot?ot.takePhoto():Promise.resolve(void 0)}function dHe(){return ot?ot.requestSystemPermission(GG.MICROPHONE):Promise.resolve(!0)}function fHe(){return ot?ot.takeScreenshot():Promise.resolve(void 0)}function WFe({children:e}){jFe(),SB&&GFe();const t=re();return E.useEffect(()=>DFe(t).registerEventListener(window),[t]),E.useEffect(()=>xFe(window),[]),_.jsx(_.Fragment,{children:e})}const VU="pioneer-script-ouia2h4";function qFe(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function VFe(){const e=window.gtag,t=window.dataLayer,n=Array.isArray(t)&&t.some(r=>Array.isArray(r)&&r[0]==="js");return typeof e=="function"&&n}function $Fe(e,t){if(!document.getElementById(VU))try{const i=document.createElement("script");i.id=VU,i.src="https://www.googletagmanager.com/gtag/js?id=".concat(t),i.nonce=e,i.async=!0,document.body.appendChild(i)}catch(i){ft.logEvent("chatgpt_pioneer_cookie_error")}const r=qFe();return VFe()||r("js",new Date),r}const HFe=14400*1e3,zFe=ut(()=>({current:!1}));function YFe(e){return e?e.is_consent_required?!!e.consent_analytics:!0:!1}async function KFe(e){const t=on(e);try{return await t.fetchQuery(I(S({},bv),{staleTime:HFe}))}catch(n){return}}async function JFe(e,t,{path:n,title:r,location:i}={}){if(typeof window>"u")return;const{cspScriptNonce:s}=xt(e);if(!s)return;const o=await KFe(e);if(!YFe(o))return;const a=$Fe(s,t),c=zFe(e);c.current||(a("config",t,{send_page_view:!1}),c.current=!0);const l=r!=null?r:document.title,u=i!=null?i:window.location.href,d=n!=null?n:window.location.pathname+window.location.search+window.location.hash;a("event","page_view",{send_to:t,page_title:l,page_location:u,page_path:d})}const XFe=B(()=>k(()=>import("./btrwhqtnzjbkk202.js"),__vite__mapDeps([5,1])),{loading:e=>H(e)}),QFe=3600*24*30*3,ZFe=B(()=>k(()=>import("./pae25sf49s4jjbfo.js").then(e=>e.G),__vite__mapDeps([128,1,3,4,129,130,131,132,133,134,135,136,137,138,139,10,140,141,142,143,144,20,12,145,146,147,148,149,150,151,152,153,9,154,155,156,157,158,159,160,161,11,162,163,164,165,166,167,168,77,169,118,119,120,121,122,123,170,171,172,173,174,175,79,176,177,126,178])).then(e=>e.GlobalModalsComponent));ere();function e5e(){return PDe(),null}SB&&k(()=>import("./os2b4ttix21n5tb8.js"),__vite__mapDeps([179,3,1,4])).then(e=>e.initDesktop()),fr()&&k(()=>import("./b8ubcib4mml7pdx4.js"),__vite__mapDeps([180,1,3,4])).then(e=>e.initHost());oi(window.location.origin,"import.meta.env.VITE_APP_URL");function t5e({children:e}){"use no forget";const t=re(),[n,r]=E.useState(!1),i=zt();E.useEffect(()=>{window._oaiHandleSessionExpired=function(o,a){var c;window.location.href.includes("/auth/login")||(fr()&&((c=Jo())==null||c.onMissingSessionAuth()),r(!0),we.logEvent("Account: Force Login Modal Shown",{content:"".concat(o,": ").concat(a)}))}},[]);function s(o){var a;try{const c=o.match(/^\/share\/(.+)$/);let l=De.getCookie(Se.SharedConversationId);if(!l&&c&&(l=c[1],De.setCookie(Se.SharedConversationId,l,{maxAge:QFe})),typeof l=="string"&&l&&(a=ft.getUser())!=null&&a.customIDs){const u=ft.getUser();u!=null&&u.customIDs&&(u.customIDs.shared_conversation_id=l)}}catch(c){c instanceof Error?ql.error("Error in shared conversation cookie code:",{message:c.message,stack:c.stack}):ql.error("Unknown error in shared conversation cookie code:",{error:c})}}return E.useEffect(()=>{s(i.pathname),we.logPageView(),ft.logEvent("chatgpt_page_view",null,WT()),JFe(t,"G-9SHBSK2D9J",{path:i.pathname+i.search+i.hash,title:document.title,location:window.location.href}),KY("openaicom-did")},[t,i.pathname,i.search,i.hash]),_.jsx(_.Fragment,{children:_.jsx(c_,{name:"ui_boundary_error",fallback:({resetError:o,componentStack:a,error:c})=>_.jsx(yw,{resetError:o,componentStack:a,error:c}),logRequestErrors:!0,children:_.jsx(AFe,{children:_.jsxs(WFe,{children:[e,null,_.jsx(e5e,{}),_.jsx(n5e,{isOpen:n,onLogInClick:()=>{r(!1)}}),_.jsx(ZFe,{}),_.jsx(sne,{}),_.jsx(npe,{}),!1]})})})})}const n5e=e=>{"use forget";const t=Y.c(16),{isOpen:n,onLogInClick:r}=e,i=gt();let s;t[0]!==i?(s=i.formatMessage(fT.forceLogInModalTitle),t[0]=i,t[1]=s):s=t[1];let o;t[2]!==i?(o=i.formatMessage(fT.forceLogInModalDescription),t[2]=i,t[3]=o):o=t[3];let a;t[4]!==r?(a=async()=>{var f;if(fr()){(f=Jo())==null||f.onMissingSessionAuth();return}const d=await uB.signOut({redirect:!1,callbackUrl:"/auth/login?next=".concat(encodeURIComponent(location.pathname+location.search+location.hash))});location.href=d.url,r()},t[4]=r,t[5]=a):a=t[5];let c;t[6]!==i?(c=i.formatMessage(fT.forceLogInModalButton),t[6]=i,t[7]=c):c=t[7];let l;t[8]!==a||t[9]!==c?(l=_.jsx(wl.Button,{onClick:a,title:c}),t[8]=a,t[9]=c,t[10]=l):l=t[10];let u;return t[11]!==n||t[12]!==s||t[13]!==o||t[14]!==l?(u=_.jsx(Du,{testId:"modal-expired-session",isOpen:n,icon:XFe,title:s,description:o,type:"warning",onClose:$4e,primaryButton:l}),t[11]=n,t[12]=s,t[13]=o,t[14]=l,t[15]=u):u=t[15],u},fT=Tt({forceLogInModalTitle:{id:"App.forceLogInModalTitle",defaultMessage:"Your session has expired"},forceLogInModalDescription:{id:"App.forceLogInModalDescription",defaultMessage:"Please log in again to continue using the app."},forceLogInModalButton:{id:"App.forceLogInModalButton",defaultMessage:"Log in"}}),r5e=300*1e3;function ZK(e){return Math.min(Math.max(e,0),r5e)}function $U(e){return{entryType:e.entryType,duration:e.duration,name:e.name,startTime:e.startTime,target:e.target instanceof Element?pB(e.target,void 0):void 0}}async function i5e(e){var T,C;const t=await k(()=>import("./gtzzcebfbasf2ow3.js"),[]);if(!t)return;const{onCLS:n,onFCP:r,onLCP:i,onINP:s}=t,o=new Promise(b=>n(b)),a=new Promise(b=>r(b)),c=new Promise(b=>i(b));$e(e,"622488229")&&s(b=>{const O=ZK(b.value);try{Q.addAction("web-vitals.inp-long",{id:b.id,delta:b.delta,rating:b.rating,attribution:{interactionTarget:b.attribution.interactionTarget,nextPaintTime:b.attribution.nextPaintTime,interactionTime:b.attribution.interactionTime,interactionType:b.attribution.interactionType,processedEventEntries:b.attribution.processedEventEntries.map($U),inputDelay:b.attribution.inputDelay,processingDuration:b.attribution.processingDuration,presentationDelay:b.attribution.presentationDelay,loadState:b.attribution.loadState},navigationType:b.navigationType,name:b.name,value:b.value,entries:b.entries.map($U)})}catch(w){}ft.logEvent("chatgpt_long_web_inp",O,{value:String(b.value),value_trimmed:String(O)})},{durationThreshold:500});const l=xt(e),u={country:(T=l.userCountry)!=null?T:"unknown",continent:(C=l.userContinent)!=null?C:"unknown",device:lu()?"mobile":"desktop",track:"stable",cluster:l.cluster},d=b=>O=>Xn.hist(Wn.DEFAULT,"web.vitals.".concat(b),u,O.value);o.then(d("cls")),a.then(d("fcp")),c.then(d("lcp"));const[f,h,p]=await Promise.all([o,a,c]),m=b=>Math.min(Math.max(b,0),300*1e3),g=m(f.value),y=m(h.value),v=m(p.value);ft.logEvent("chatgpt_web_vitals",v,{cls:String(f.value),fcp:String(h.value),lcp:String(p.value),cls_trimmed:String(g),fcp_trimmed:String(y),lcp_trimmed:String(v)})}function s5e(e){const t=window.__reactRouterManifest,n=new Set([t.entry].concat(e.map(i=>t.routes[i])).flatMap(i=>[i.module,...i.imports].map(s=>new URL(s,location.origin).toString()))),r=performance.getEntriesByType("resource").filter(i=>n.has(i.name));if(r.length===n.size){const i={transfer_size:r.reduce((o,a)=>o+a.transferSize,0),encoded_body_size:r.reduce((o,a)=>o+a.encodedBodySize,0),decoded_body_size:r.reduce((o,a)=>o+a.decodedBodySize,0)},s={max_encoded_body_size:Math.max(...r.map(o=>o.encodedBodySize)),max_decoded_body_size:Math.max(...r.map(o=>o.decodedBodySize)),max_transfer_size:Math.max(...r.map(o=>o.transferSize))};Q.addAction("pageLoad.jsResourceSizes",I(S(S({},i),s),{count:r.length,route_id:e[e.length-1],route_ids:e}))}else Q.addAction("pageLoad.jsResourceSizes.missing",{missing:n.difference?Array.from(n.difference(new Set(r.map(i=>i.name)))):null})}function o5e(){const e=E.useRef([]),t=E.useRef((n,r)=>{const i=setTimeout(n,r);return e.current.push(i),i});return E.useEffect(()=>{const n=e.current;return()=>{n.forEach(r=>{clearTimeout(r)})}},[]),t.current}function a5e(e){const{speed:t=100,value:n="",typing:r,onTyped:i,initTyped:s,chunk:o}=e,[a,c]=E.useState(0),l=E.useRef(void 0),u=o5e(),d=Xje();function f(h,p,m){l.current=u(function(){h>=p.length||(c(h+m),i==null||i(),f(h+m,p,m))},t)}return E.useEffect(()=>(c(s?n.length:0),r&&f(0,n,o?4:1),()=>{clearTimeout(l.current)}),[r,n]),_.jsxs(_.Fragment,{children:[_.jsx("span",{className:_e("whitespace-pre-wrap",a<n.length&&"result-streaming no-flow",d?"dark":"light"),children:_.jsx("span",{children:n.slice(0,a)})}),_.jsx("span",{className:"whitespace-pre-wrap text-transparent",children:n.slice(a)})]})}function c5e({showReturnHome:e=!1}){const t=E.useId(),n=Zs(),[r]=E.useState(()=>{var i;{const s=(i=document.getElementById(t))==null?void 0:i.dataset.index;if(s!=null)return parseInt(s)}return Math.floor(Math.random()*HU.length)});return _.jsx("section",{className:"flex h-screen flex-col items-center justify-center","data-index":r,id:t,children:_.jsxs("div",{children:[_.jsxs("h3",{children:[_.jsx(_v,{className:"mb-2 h-6 w-6 align-baseline"}),"404 Not Found"]}),_.jsx("p",{className:"mt-2 max-w-lg pb-6",children:_.jsx(a5e,{value:HU[r].message,typing:!0,speed:150,chunk:!0})}),e&&_.jsx(_s,{color:"primary",onClick:()=>{we.logEventWithStatsig("404 Page Return Home Button Clicked","chatgpt_404_page_return_home_button_clicked"),n("/")},children:_.jsx(yt,{id:"Cc1py2",defaultMessage:"Go to ChatGPT"})})]})})}const HU=[{message:"Lost in the vast web,\nWhere you sought, there's only voidâ€”\nNothingness awaits."},{message:"Paths cross empty void\nSeeking what once existed\nSilence answers all."},{message:"Where we are, there's only air,\nA page misplaced, it isn't there.\nIn the void where data fades,\nQuestions linger, answers evade.\nNot all paths lead where we care."},{message:"Where the page should be,\nEmpty space and missing wordsâ€”\nA void in the code."},{message:"The link was a dream,\nA shadow of what once wasâ€”\nNow, nothing remains."},{message:"In the heat of day,\nThe path dissolves to nothingâ€”\nAn empty mirage."}],l5e=E.createContext({cspNonce:""});function u5e(){"use forget";const e=Y.c(8),t=gJ(),{cspNonce:n}=E.useContext(l5e);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=_.jsxs("head",{children:[_.jsx("meta",{charSet:"UTF-8"}),_.jsx(mB,{})]}),e[0]=r):r=e[0];let i;e[1]!==t?(i=_J(t)?t.status===404?_.jsx(c5e,{}):_.jsx(yw,{error:new Error("Route Error (".concat(t.status," ").concat(t.statusText,"): ").concat(t.message)),resetError:f5e}):_.jsx(yw,{error:t,resetError:d5e}),e[1]=t,e[2]=i):i=e[2];let s;e[3]!==n?(s=_.jsx(gB,{nonce:n}),e[3]=n,e[4]=s):s=e[4];let o;return e[5]!==i||e[6]!==s?(o=_.jsxs("html",{"data-build":pu,suppressHydrationWarning:!0,children:[r,_.jsxs("body",{children:[i,s]})]}),e[5]=i,e[6]=s,e[7]=o):o=e[7],o}function d5e(){return location.reload()}function f5e(){return location.reload()}const h5e=30;function p5e(){const e=vn.getItem(en.LastPageLoadDate),t=new Date,n=typeof e=="string"?new Date(e):null,r=Math.min(n!=null?Math.floor((t.getTime()-n.getTime())/(1e3*60*60)):1/0,h5e*24),i=Math.floor(r/24);vn.setItem(en.LastPageLoadDate,t.toISOString()),Q.addAction("time_since_last_page_load",{hoursSinceLastPageLoad:r,daysSinceLastPageLoad:i})}function m5e(){const e=window.document;let t,n;const r=s=>{t=s,cancelAnimationFrame(n),requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{t=void 0})})},i={capture:!0,passive:!0};e.addEventListener("pointerdown",s=>{r(s.pointerType==="touch"?"touch":"mouse")},i),e.addEventListener("keydown",()=>{r("keyboard")},i),e.addEventListener("focusin",()=>{kW(e.documentElement,"data-focus-mode",t)},i)}function g5e(e){return e!=null&&typeof e=="object"&&"then"in e&&typeof e.then=="function"}const zU="rq:";function _5e(e){const t=[],n=[];for(const r of e)if(r.data){for(const[i,s]of Object.entries(r.data))if(i.startsWith(zU)){const o=i.substring(zU.length);g5e(s)?n.push({queryHash:o,queryKey:JSON.parse(o),state:{fetchStatus:"fetching",status:"pending"},promise:s}):t.push({queryHash:o,queryKey:JSON.parse(o),state:I(S({},s),{data:s.data})})}}return{staticQueries:t,promiseQueries:n}}function v5e(){const e=Ew();return E.useMemo(()=>_5e(e),[e])}const hT=[];function y5e(e,t){for(const n of t)if(e.getQueryState(n.queryKey)==null){let r;const i=new Promise(s=>{r=s});hT.push(r),_B(e,{queries:[I(S({},n),{promise:i.then(()=>oi(n.promise,"missing react-query hydration promise")).catch(s=>{throw TB.yield().then(()=>{e.refetchQueries({queryKey:n.queryKey,exact:!0})}),Q.addAction("react-query.prefetch-hydration.error",{queryKey:JSON.stringify(n.queryKey),error:s}),s})})]})}qW(()=>{for(const n of hT)n();hT.length=0},[t])}function b5e(e,t){try{return e()}catch(n){return t(n)}}function eJ(e){return e instanceof Element?e:e.parentElement?eJ(e.parentElement):null}function Em(e){const t=eJ(e);if(t){const n=pB(t,void 0);if(n)return n}return e.nodeName}const C5e=e=>e.type==="childList"?e.addedNodes.length>0?"added ".concat(Em(e.addedNodes[e.addedNodes.length-1])):e.removedNodes.length>0?"removed ".concat(e.removedNodes[e.removedNodes.length-1].nodeName," from ").concat(Em(e.target)):"unknown ".concat(e.type):e.type==="characterData"?"characterData in ".concat(Em(e.target)):"unknown ".concat(e.type),YU="checkVisibility"in Element.prototype?e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}):e=>!e.hasAttribute("aria-hidden")&&!e.classList.contains("hidden");function E5e(e){if(document.head.contains(e))return!1;if(e instanceof Element)return YU(e);if(e instanceof Text){const t=e.parentElement;if(t!=null)return YU(t)}return!0}function zN(e){const t=[],n=e(r=>t.push(r));return()=>(n(),t)}class S5e{constructor(){U(this,"timeouts",new Set)}add(t,n){const r=setTimeout(()=>{this.timeouts.delete(r),t()},n);this.timeouts.add(r)}clear(){for(const t of this.timeouts)clearTimeout(t);this.timeouts.clear()}}function pT(e,t){try{if(e.type&&!PerformanceObserver.supportedEntryTypes.includes(e.type))return()=>{};const n=new PerformanceObserver(r=>{for(const i of r.getEntries())t(i)});return n.observe(e),()=>n.disconnect()}catch(n){return()=>{}}}function O5e({idleTimeout:e=5e3,minIdleGap:t=100,filter:n}={}){return new Promise((r,i)=>{let s=null;const o=()=>{s!=null&&clearTimeout(s),s=setTimeout(c,e)};o();const a=zN(l=>{function u(f){(!n||n(f))&&(l({start:f.startTime,end:f.startTime+f.duration}),o())}const d=[pT({type:"resource",buffered:!0},u),pT({type:"longtask",buffered:!0,durationThreshold:0},u),pT({type:"navigation",buffered:!0},u)];return()=>{for(const f of d)f()}});function c(){try{const l=a();r(T5e(l,t))}catch(l){i(l)}}})}function T5e(e,t){const n=[];for(const{start:i,end:s}of e)n.push({t:i,delta:1}),n.push({t:s,delta:-1});n.sort((i,s)=>i.t===s.t?i.delta-s.delta:i.t-s.t);let r=0;for(let i=0;i<n.length;i++)if(r+=n[i].delta,r===0){const s=n[i].t,o=n[i+1];if(!o||o.t-s>=t)return s}throw new Error("no idle gap found")}function w5e(e){return"".concat(e.type," ").concat(e.target instanceof Node?Em(e.target):"(unknown target ".concat(e.target,")"))}function A5e(e){return zN(t=>{const n=new S5e;function r(i){const s=performance.now();n.add(()=>{t({start:s,end:performance.now(),label:w5e(i)})})}for(const i of e)window.addEventListener(i,r,{capture:!0});return()=>{for(const i of e)window.removeEventListener(i,r,{capture:!0});n.clear()}})}function x5e(e){return zN(t=>{const n=new MutationObserver(r=>{const i=zp(r,e);i&&t({time:performance.now(),label:b5e(()=>C5e(i),s=>"error describing mutation: ".concat(s))})});return n.observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!1}),()=>n.disconnect()})}const I5e=["pointerdown","touchend","input","keydown","mouseleave","mouseenter","drop","beforeinput","pointerenter","dragend","pointercancel","compositionupdate","mousedown","dragleave","dragover","mouseup","pointerover","lostpointercapture","mouseover","gotpointercapture","dblclick","keyup","keypress","pointerup","compositionstart","auxclick","dragstart","touchstart","compositionend","pointerout","dragenter","touchcancel","click","contextmenu","mouseout","pointerleave"];function N5e(e){return e instanceof Element&&e.hasAttribute("data-ignore-for-page-load")}function tJ(e){return E5e(e)&&!N5e(e)}function R5e(e){for(const t of e)if(tJ(t))return!0;return!1}async function P5e(){if(typeof PerformanceObserver!="function")return{label:"no performance observer"};const e=I5e.filter(l=>!/(enter|leave|over|out)$/.test(l)),t=A5e(e),n=x5e(l=>l.type==="childList"&&R5e(l.addedNodes)||l.type==="characterData"&&tJ(l.target)),r=await O5e({filter:l=>l.duration!==0&&!(l.entryType==="resource"&&vJ(MB,l.name))}),i=t(),s=n(),o=i.find(l=>s.some(u=>l.start<u.time&&u.time<=l.end));if(o!=null&&o.start<r)return{label:"mutating input before page loaded",firstMutatingInput:o,pageIdle:r};const a=s.filter(l=>l.time<r+200),c=a.at(-1);return c?I(S({},c),{mutationsBeforeIdle:a.length,mutationsBeforeIdleList:a,pageIdle:r,firstMutatingInput:o}):{label:"no mutations before page idle",pageIdle:r,firstMutatingInput:o}}function k5e(){P5e().then(e=>{if("pageIdle"in e&&Q.addFirstTiming("pageLoad.pageIdle",{time:performance.timeOrigin+e.pageIdle}),"time"in e&&e.time!=null){const t=e.time,n=ZK(t);Q.addFirstTiming("pageLoad.lastMutation",{time:performance.timeOrigin+t}),Q.addAction("pageLoad.lastMutation",e),ft.logEvent("chatgpt_web_last_mutation_time",void 0,{raw_duration_ms:String(t),trimmed_duration_ms:String(n)})}else Q.addAction("pageLoad.withoutTiming",e);if("mutationsBeforeIdleList"in e)for(const t of e.mutationsBeforeIdleList)Q.addAction("pageLoad.mutation",t)})}Gje(),m5e();const hHe=()=>!1,pHe=()=>[{title:"ChatGPT"},...epe],mHe=yJ(u5e);function M5e(e){"use forget";const t=Y.c(48),{children:n,clientBootstrap:r,isSearchPage:i,isOrlaWindowStyle:s,isOrlaUserAgent:o,isEdgeToEdge:a,isElectron:c,isIos:l,isAndroidChrome:u,windowStyle:d,ddTraceMetadata:f,jsp:h,lang:p,shouldUseScrollRestoration:m}=e,g=(p&&bG.has(p),"ltr"),y=c===!0||!1;let v;t[0]!==o||t[1]!==s||t[2]!==i||t[3]!==y?(v=_e({"snc-root":i,"mini-root":s,"mini-ua-root":o,"sdtrn-root":y}),t[0]=o,t[1]=s,t[2]=i,t[3]=y,t[4]=v):v=t[4];let T;t[5]===Symbol.for("react.memo_cache_sentinel")?(T=_.jsx("meta",{charSet:"UTF-8"}),t[5]=T):T=t[5];const C="width=device-width, initial-scale=1".concat(l?", maximum-scale=1":"").concat(a?", viewport-fit=cover":"");let b;t[6]!==C?(b=_.jsx("meta",{name:"viewport",content:C}),t[6]=C,t[7]=b):b=t[7];let O;t[8]===Symbol.for("react.memo_cache_sentinel")?(O=_.jsx(wJ,{}),t[8]=O):O=t[8];let w;t[9]!==u?(w=u?_.jsx(rpe,{}):null,t[9]=u,t[10]=w):w=t[10];let A,x,N,R,L;t[11]===Symbol.for("react.memo_cache_sentinel")?(R=_.jsx(ipe,{}),L=_.jsx(cpe,{}),A=_.jsx(spe,{}),x=_.jsx(ope,{}),N=_.jsx(ape,{}),t[11]=A,t[12]=x,t[13]=N,t[14]=R,t[15]=L):(A=t[11],x=t[12],N=t[13],R=t[14],L=t[15]);let D;t[16]!==f?(D=f?_.jsxs(_.Fragment,{children:[_.jsx("meta",{name:"dd-trace-id",content:f.traceId}),_.jsx("meta",{name:"dd-trace-time",content:"".concat(f.traceTime)})]}):null,t[16]=f,t[17]=D):D=t[17];let F,G;t[18]===Symbol.for("react.memo_cache_sentinel")?(F=_.jsx(lpe,{}),G=_.jsx(mB,{}),t[18]=F,t[19]=G):(F=t[18],G=t[19]);let z;t[20]!==r.cspScriptNonce?(z=_.jsx("script",{nonce:r.cspScriptNonce,suppressHydrationWarning:!0,children:'!function initScrollTimelineInline(){try{if(CSS.supports("animation-timeline: --works"))return;var t=new Map;document.addEventListener("animationstart",(n=>{if(!(n.target instanceof HTMLElement))return;const e=n.target.getAnimations().filter((t=>t.animationName===n.animationName));t.set(n.target,e)})),document.addEventListener("scrolltimelineload",(n=>{t.forEach(((t,e)=>{t.forEach((t=>{n.detail.upgradeAnimation(t,e)}))})),t.clear()}),{once:!0})}catch{}}();'}),t[20]=r.cspScriptNonce,t[21]=z):z=t[21];let V;t[22]!==D||t[23]!==z||t[24]!==b||t[25]!==w?(V=_.jsxs("head",{children:[T,b,O,w,R,L,A,x,N,D,F,G,z]}),t[22]=D,t[23]=z,t[24]=b,t[25]=w,t[26]=V):V=t[26];let M;t[27]!==s||t[28]!==i?(M=_e({snc:i,mini:s}),t[27]=s,t[28]=i,t[29]=M):M=t[29];let te;t[30]!==r.cspScriptNonce||t[31]!==m?(te=m?_.jsx(TJ,{nonce:r.cspScriptNonce}):null,t[30]=r.cspScriptNonce,t[31]=m,t[32]=te):te=t[32];let $;t[33]!==r.cspScriptNonce?($=_.jsx(gB,{nonce:r.cspScriptNonce}),t[33]=r.cspScriptNonce,t[34]=$):$=t[34];let se;t[35]!==n||t[36]!==M||t[37]!==te||t[38]!==$||t[39]!==d?(se=_.jsxs("body",{className:M,"data-window-style":d,children:[n,te,$]}),t[35]=n,t[36]=M,t[37]=te,t[38]=$,t[39]=d,t[40]=se):se=t[40];let me;return t[41]!==g||t[42]!==h||t[43]!==p||t[44]!==V||t[45]!==v||t[46]!==se?(me=_.jsxs("html",{lang:p,"data-build":pu,dir:g,"data-jsp":h,className:v,suppressHydrationWarning:!0,children:[V,se]}),t[41]=g,t[42]=h,t[43]=p,t[44]=V,t[45]=v,t[46]=se,t[47]=me):me=t[47],me}const gHe=bJ(function(t){"use forget";var Ne,ge;const n=Y.c(58),{clientBootstrap:r,disablePrefetch:i,dd:s,jsp:o,statsigGateEvaluationsPromise:a,promoteCss:c,disableSSR:l}=CJ();{Jn.setGlobalContextProperty("cluster",r.cluster),Q.addFeatureFlagEvaluation("disable_prefetch",i),Q.addFeatureFlagEvaluation("promote_css",c),Q.addFeatureFlagEvaluation("disable_ssr",!!l);for(const[he,j]of Object.entries((ge=(Ne=r.session)==null?void 0:Ne.rumViewTags)!=null?ge:{}))Jn.setViewContextProperty(he,j)}let u;n[0]!==r?(u=()=>{var j;const he=(j=At())!=null?j:yB();return kJ(he,r),he},n[0]=r,n[1]=u):u=n[1];const d=u;let f;n[2]!==d?(f=()=>d(),n[2]=d,n[3]=f):f=n[3];const[h,p]=E.useState(f);h||(Q.addError(new Error("Context not generated during intialization.")),p(d()));let m;n[4]!==h?(m=on(h),n[4]=h,n[5]=m):m=n[5];const g=m;let y,v;n[6]!==h?(y=()=>{q4e(h)},v=[h],n[6]=h,n[7]=y,n[8]=v):(y=n[7],v=n[8]),E.useEffect(y,v),vee();let T,C;n[9]!==h?(T=()=>{p5e(),i5e(h),Uf(h,"disable-pli")||k5e(),B5e(h)},C=[h],n[9]=h,n[10]=T,n[11]=C):(T=n[10],C=n[11]),E.useEffect(T,C);const{staticQueries:b,promiseQueries:O}=v5e();let w;n[12]!==b?(w=[...b],n[12]=b,n[13]=w):w=n[13];let A;n[14]===Symbol.for("react.memo_cache_sentinel")?(A=[],n[14]=A):A=n[14];let x;n[15]!==w?(x={queries:w,mutations:A},n[15]=w,n[16]=x):x=n[16];const N=x;U5e(g,O);const R=Ew();let L;n[17]!==R?(L=R.map(j5e),n[17]=R,n[18]=L):L=n[18];const D=L;let F;n[19]!==R?(F=R.some(L5e),n[19]=R,n[20]=F):F=n[20];const G=F;let z;n[21]!==r||n[22]!==h||n[23]!==N||n[24]!==g||n[25]!==D||n[26]!==a?(z=()=>{{_B(g,N),M2e(h,g),x2e(h,r,g),a.then(D5e);try{s5e(D)}catch(he){const j=he;Q.addError(j)}}return!0},n[21]=r,n[22]=h,n[23]=N,n[24]=g,n[25]=D,n[26]=a,n[27]=z):z=n[27],E.useState(z);const{pathname:V}=zt();let M;n[28]!==V?(M=V.startsWith("/search"),n[28]=V,n[29]=M):M=n[29];const te=M;let $;n[30]!==h?($=ki(h),n[30]=h,n[31]=$):$=n[31];const se=$;let me;n[32]===Symbol.for("react.memo_cache_sentinel")?(me=fr(),n[32]=me):me=n[32];const Ce=me;let J;n[33]!==h?(J=hr(h).checkGate("1536947154"),n[33]=h,n[34]=J):J=n[34];const K=J,ne=!!l;let X;n[35]===Symbol.for("react.memo_cache_sentinel")?(X=_.jsx(Gxe,{}),n[35]=X):X=n[35];let ee;n[36]===Symbol.for("react.memo_cache_sentinel")?(ee=_.jsx(Mhe,{}),n[36]=ee):ee=n[36];let ve;n[37]===Symbol.for("react.memo_cache_sentinel")?(ve=_.jsx(t5e,{children:_.jsx(EJ,{})}),n[37]=ve):ve=n[37];let ue;n[38]!==N?(ue=_.jsx(SJ,{state:N,children:ve}),n[38]=N,n[39]=ue):ue=n[39];let oe;n[40]!==g||n[41]!==ue?(oe=_.jsxs(OJ,{client:g,children:[ee,ue]}),n[40]=g,n[41]=ue,n[42]=oe):oe=n[42];let be;n[43]!==ne||n[44]!==oe?(be=_.jsxs(_2e,{children:[X,_.jsx(Vje,{attribute:"class",children:_.jsx(F5e,{disableSSR:ne,children:oe})})]}),n[43]=ne,n[44]=oe,n[45]=be):be=n[45];let Ae;n[46]!==se||n[47]!==r||n[48]!==s||n[49]!==K||n[50]!==te||n[51]!==o||n[52]!==G||n[53]!==be?(Ae=_.jsx(M5e,{clientBootstrap:r,lang:r.locale,isIos:r.isIos,isAndroidChrome:r.isAndroidChrome,isElectron:r.isElectron,isEdgeToEdge:K,isOrlaWindowStyle:se,isOrlaUserAgent:Ce,isSearchPage:te,ddTraceMetadata:s,jsp:o,windowStyle:r.windowStyle,shouldUseScrollRestoration:G,children:be}),n[46]=se,n[47]=r,n[48]=s,n[49]=K,n[50]=te,n[51]=o,n[52]=G,n[53]=be,n[54]=Ae):Ae=n[54];let He;return n[55]!==h||n[56]!==Ae?(He=_.jsx(xJ,{sessionContext:h,children:Ae}),n[55]=h,n[56]=Ae,n[57]=He):He=n[57],He});function D5e(e){for(const[t,n]of Object.entries(e))Q.addFeatureFlagEvaluation(t,n)}function L5e(e){const t=e.handle;return t==null?void 0:t.useScrollRestoration}function j5e(e){return e.id}function F5e(e){"use forget";const t=Y.c(4),{children:n,disableSSR:r}=e;if(!r){let s;return t[0]!==n?(s=_.jsx(_.Fragment,{children:n}),t[0]=n,t[1]=s):s=t[1],s}let i;return t[2]!==n?(i=_.jsx(C2e,{fallback:null,children:n}),t[2]=n,t[3]=i):i=t[3],i}const U5e=y5e;function B5e(e){qhe(e).composer.autofocusDisabled$()&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{var r;const n=(r=document.querySelector("h1"))!=null?r:I2e({root:document.body});n instanceof HTMLElement&&typeof n.focus=="function"&&n.focus()})})}export{Xn as $,Xt as A,Xr as B,sG as C,Q as D,Yae as E,nc as F,OV as G,Hqe as H,ate as I,$e as J,sre as K,rge as L,mh as M,St as N,ph as O,ax as P,Qt as Q,Z as R,Oc as S,o7 as T,Ere as U,Me as V,Je as W,KD as X,fr as Y,y_ as Z,we as _,At as a,$re as a$,Wn as a0,N7 as a1,RT as a2,a6e as a3,ql as a4,_pe as a5,ae as a6,ft as a7,E_ as a8,Eae as a9,H as aA,_s as aB,Du as aC,bGe as aD,R7 as aE,Oe as aF,Lr as aG,Ee as aH,$Ge as aI,W_ as aJ,$qe as aK,_be as aL,Ofe as aM,Jw as aN,bre as aO,vn as aP,VBe as aQ,U_ as aR,lhe as aS,_T as aT,Ge as aU,Kie as aV,hc as aW,_i as aX,Q5e as aY,Ht as aZ,Vre as a_,AW as aa,KC as ab,iae as ac,cae as ad,tae as ae,aae as af,De as ag,Se as ah,EFe as ai,$Le as aj,an as ak,at as al,Te as am,hh as an,cfe as ao,WVe as ap,t2 as aq,Xqe as ar,fqe as as,Yl as at,en as au,kd as av,qe as aw,kA as ax,Ke as ay,B as az,kVe as b,g5e as b$,wG as b0,Kf as b1,aoe as b2,QJ as b3,K5e as b4,OB as b5,Y5e as b6,hA as b7,AG as b8,k9e as b9,JJ as bA,J5e as bB,Eu as bC,hr as bD,Bn as bE,a7 as bF,Cu as bG,bFe as bH,nF as bI,us as bJ,ye as bK,She as bL,QBe as bM,e6e as bN,P$e as bO,F_ as bP,it as bQ,U6e as bR,yae as bS,on as bT,V6e as bU,aA as bV,oqe as bW,hg as bX,Jye as bY,cBe as bZ,z6e as b_,gs as ba,Po as bb,Sae as bc,Zt as bd,_ne as be,Ze as bf,rfe as bg,xt as bh,W9e as bi,XJ as bj,Xbe as bk,oi as bl,GGe as bm,NDe as bn,Zf as bo,ki as bp,X5e as bq,Mi as br,tA as bs,KJ as bt,ah as bu,Rfe as bv,UVe as bw,y8e as bx,GVe as by,n6e as bz,T1 as c,ai as c$,ece as c0,IN as c1,D$e as c2,v$e as c3,C$e as c4,pn as c5,h$e as c6,yfe as c7,N9e as c8,jY as c9,Jie as cA,ABe as cB,WW as cC,R_ as cD,Rc as cE,YA as cF,Su as cG,ss as cH,cn as cI,Ot as cJ,Ve as cK,mq as cL,ji as cM,uh as cN,lPe as cO,DI as cP,Zl as cQ,OH as cR,MI as cS,ch as cT,gq as cU,_q as cV,$A as cW,L_ as cX,Bq as cY,ZA as cZ,Uq as c_,aT as ca,vae as cb,Yx as cc,f8e as cd,w7 as ce,b8e as cf,Ine as cg,ox as ch,kUe as ci,MUe as cj,Zte as ck,nne as cl,ene as cm,$o as cn,PT as co,H6e as cp,lG as cq,io as cr,wW as cs,OGe as ct,whe as cu,TDe as cv,ro as cw,qGe as cx,TGe as cy,_e as cz,Ue as d,w8e as d$,UJ as d0,bB as d1,So as d2,Yie as d3,Fte as d4,ube as d5,Cqe as d6,Nee as d7,Id as d8,mt as d9,E6e as dA,C6e as dB,KA as dC,jW as dD,mc as dE,N2e as dF,aUe as dG,Gv as dH,iF as dI,z4e as dJ,A6e as dK,jde as dL,x6e as dM,j_ as dN,A4 as dO,b7 as dP,Xje as dQ,fv as dR,lH as dS,DVe as dT,ys as dU,a9e as dV,CV as dW,ka as dX,Rz as dY,Lt as dZ,P as d_,uGe as da,$4e as db,wl as dc,Pie as dd,uUe as de,ZK as df,dLe as dg,BUe as dh,hGe as di,pGe as dj,NB as dk,bqe as dl,uPe as dm,Gz as dn,Wz as dp,qz as dq,gPe as dr,Vz as ds,LW as dt,$z as du,Hz as dv,zz as dw,bPe as dx,Pq as dy,ii as dz,rr as e,Us as e$,iv as e0,vu as e1,aa as e2,ehe as e3,Zfe as e4,mne as e5,FG as e6,of as e7,bEe as e8,v7 as e9,C0e as eA,Tv as eB,rh as eC,Nd as eD,kg as eE,vGe as eF,ip as eG,td as eH,_ce as eI,mr as eJ,zx as eK,MG as eL,GV as eM,FV as eN,YGe as eO,u2e as eP,IBe as eQ,yUe as eR,tG as eS,GBe as eT,ut as eU,DK as eV,F6 as eW,YJ as eX,j6 as eY,g$e as eZ,I8 as e_,qW as ea,CBe as eb,Sre as ec,MPe as ed,yGe as ee,gne as ef,pee as eg,Jfe as eh,pUe as ei,DV as ej,Fhe as ek,lu as el,Ite as em,IUe as en,Tte as eo,wGe as ep,i0e as eq,Gne as er,AN as es,Xfe as et,ihe as eu,nhe as ev,dx as ew,$d as ex,PPe as ey,jPe as ez,mu as f,kqe as f$,xU as f0,xoe as f1,Loe as f2,S_ as f3,Voe as f4,UGe as f5,Oo as f6,Ql as f7,YBe as f8,bN as f9,q6e as fA,Xq as fB,Fx as fC,b$ as fD,_8e as fE,MX as fF,$6e as fG,zp as fH,u_ as fI,rqe as fJ,$Ve as fK,cw as fL,vv as fM,Qw as fN,C2e as fO,zqe as fP,dGe as fQ,CDe as fR,sx as fS,LJ as fT,Sw as fU,u8e as fV,w0e as fW,DFe as fX,OBe as fY,TBe as fZ,wBe as f_,yn as fa,c_ as fb,TW as fc,NA as fd,OEe as fe,B8e as ff,Qo as fg,la as fh,h7e as fi,P9e as fj,cte as fk,g8e as fl,Cc as fm,y$ as fn,g7e as fo,hEe as fp,D7e as fq,Lu as fr,Oi as fs,Dr as ft,r$ as fu,C8e as fv,fG as fw,T7e as fx,rv as fy,F6e as fz,mx as g,d_ as g$,Cne as g0,t8e as g1,n8e as g2,bne as g3,zae as g4,tBe as g5,yne as g6,Be as g7,Fm as g8,xBe as g9,q4 as gA,qoe as gB,Y3e as gC,SH as gD,Tce as gE,DW as gF,SW as gG,tse as gH,i1 as gI,j7e as gJ,WGe as gK,J9e as gL,X9e as gM,WD as gN,iqe as gO,sqe as gP,$xe as gQ,vLe as gR,yLe as gS,bLe as gT,s$e as gU,EY as gV,IV as gW,cDe as gX,n$e as gY,$a as gZ,Mx as g_,u7e as ga,Zre as gb,cG as gc,hCe as gd,WV as ge,Sqe as gf,D0e as gg,Pne as gh,tce as gi,zye as gj,yW as gk,zBe as gl,XBe as gm,HBe as gn,Aqe as go,Tqe as gp,xqe as gq,_qe as gr,LWe as gs,jWe as gt,jt as gu,Dqe as gv,NV as gw,Kye as gx,aqe as gy,ELe as gz,mbe as h,DUe as h$,yu as h0,vV as h1,K_ as h2,Lx as h3,jve as h4,$ve as h5,Fve as h6,Yve as h7,OA as h8,Mr as h9,uge as hA,A7 as hB,Hye as hC,f$e as hD,T$e as hE,c$e as hF,xc as hG,Yf as hH,g6e as hI,Aae as hJ,HRe as hK,Zw as hL,ane as hM,$5e as hN,jGe as hO,LGe as hP,Kz as hQ,S8e as hR,Ufe as hS,O_ as hT,wne as hU,_Ue as hV,vre as hW,dIe as hX,Lse as hY,RDe as hZ,uY as h_,TA as ha,XG as hb,Li as hc,sW as hd,bA as he,Aoe as hf,Uoe as hg,Boe as hh,r6e as hi,qUe as hj,kT as hk,kc as hl,Jo as hm,$Re as hn,RUe as ho,HLe as hp,Zd as hq,x$e as hr,fGe as hs,ON as ht,gVe as hu,XLe as hv,S$e as hw,fVe as hx,IJ as hy,I$e as hz,so as i,F8e as i$,LUe as i0,PUe as i1,tne as i2,tn as i3,G6e as i4,GC as i5,f6e as i6,xW as i7,CGe as i8,eoe as i9,cHe as iA,Q6 as iB,Zn as iC,F9e as iD,bv as iE,Ude as iF,P6e as iG,U9e as iH,Yd as iI,pqe as iJ,J4e as iK,mqe as iL,Tne as iM,Sne as iN,oCe as iO,gUe as iP,jce as iQ,b6e as iR,Ble as iS,Wle as iT,qle as iU,$le as iV,Hle as iW,Yle as iX,zle as iY,Vle as iZ,Ple as i_,cre as ia,KBe as ib,OY as ic,Jje as id,u$e as ie,l$e as ig,Qfe as ih,Kte as ii,RJ as ij,aHe as ik,rHe as il,iHe as im,BU as io,sHe as ip,oHe as iq,Sh as ir,Cn as is,zg as it,Vo as iu,mce as iv,no as iw,vce as ix,Qd as iy,TB as iz,Qg as j,uw as j$,Ene as j0,RA as j1,bu as j2,bH as j3,S0e as j4,gr as j5,$3e as j6,v6e as j7,Lo as j8,ZLe as j9,R9e as jA,yWe as jB,ou as jC,Rl as jD,HUe as jE,_S as jF,sm as jG,SV as jH,v3 as jI,VUe as jJ,CWe as jK,EWe as jL,bWe as jM,B6e as jN,e_ as jO,_te as jP,gte as jQ,mte as jR,Xd as jS,Hs as jT,ZGe as jU,$W as jV,xe as jW,t0 as jX,ef as jY,g9e as jZ,_9e as j_,Ow as ja,AGe as jb,$Be as jc,F7e as jd,EN as je,Uhe as jf,K7e as jg,Gx as jh,_6e as ji,JBe as jj,ppe as jk,aBe as jl,Gqe as jm,eo as jn,Ane as jo,jUe as jp,Qte as jq,_ee as jr,VGe as js,ot as jt,i6e as ju,s6e as jv,Yfe as jw,wve as jx,M9e as jy,D9e as jz,CN as k,zbe as k$,_Ve as k0,mVe as k1,YMe as k2,a$e as k3,b3e as k4,AD as k5,P8e as k6,mGe as k7,eWe as k8,sWe as k9,OWe as kA,mye as kB,gWe as kC,vWe as kD,pbe as kE,kWe as kF,$7e as kG,RY as kH,hn as kI,s_ as kJ,zUe as kK,nBe as kL,YUe as kM,mUe as kN,vN as kO,_v as kP,_ye as kQ,VG as kR,WUe as kS,jLe as kT,hVe as kU,pVe as kV,eGe as kW,fHe as kX,uHe as kY,QUe as kZ,O$e as k_,SN as ka,FY as kb,cWe as kc,dce as kd,Y6e as ke,bhe as kf,DSe as kg,FSe as kh,UUe as ki,gye as kj,One as kk,R7e as kl,Bne as km,m0e as kn,f2e as ko,Z_e as kp,sv as kq,ore as kr,j$e as ks,La as kt,fs as ku,JUe as kv,l8e as kw,Qie as kx,Xte as ky,J_ as kz,_l as l,lLe as l$,Hp as l0,br as l1,qhe as l2,M$e as l3,x9e as l4,Um as l5,j8e as l6,Hde as l7,fce as l8,w_ as l9,Ghe as lA,x1 as lB,cce as lC,xWe as lD,IWe as lE,zGe as lF,bpe as lG,Epe as lH,X_ as lI,bDe as lJ,yl as lK,Q_ as lL,yce as lM,o5e as lN,BVe as lO,N4e as lP,IEe as lQ,V7e as lR,K9e as lS,T7 as lT,sPe as lU,Dte as lV,DJ as lW,moe as lX,r8e as lY,uIe as lZ,Bhe as l_,q8e as la,lEe as lb,k7e as lc,Th as ld,gv as le,rVe as lf,SFe as lg,ri as lh,Gh as li,ofe as lj,wN as lk,Z9e as ll,H5e as lm,xGe as ln,hye as lo,Ps as lp,ct as lq,pye as lr,TWe as ls,O7 as lt,nR as lu,V5e as lv,dHe as lw,nWe as lx,oWe as ly,rWe as lz,uM as m,mW as m$,ZVe as m0,B9e as m1,Ma as m2,$Fe as m3,$te as m4,L9e as m5,sR as m6,MW as m7,Z6e as m8,Xf as m9,nCe as mA,Nne as mB,nVe as mC,K$e as mD,hG as mE,Pxe as mF,O6e as mG,T6e as mH,kde as mI,Pde as mJ,o6e as mK,gae as mL,Zbe as mM,M8e as mN,hWe as mO,pWe as mP,sa as mQ,Abe as mR,uCe as mS,f7 as mT,xne as mU,yte as mV,X6e as mW,y7e as mX,Rxe as mY,v7e as mZ,yie as m_,Dm as ma,nGe as mb,$I as mc,m9e as md,hbe as me,QVe as mf,XUe as mg,XE as mh,Y9e as mi,h8e as mj,d8e as mk,ih as ml,Iu as mm,R3e as mn,lf as mo,HGe as mp,l7e as mq,Fqe as mr,Mc as ms,fae as mt,EGe as mu,A8e as mv,_7e as mw,HV as mx,uG as my,vqe as mz,zs as n,dUe as n$,GDe as n0,zVe as n1,c7 as n2,W8e as n3,hUe as n4,LPe as n5,oa as n6,M0e as n7,Ic as n8,yVe as n9,pHe as nA,mHe as nB,gHe as nC,mT as nD,ype as nE,PWe as nF,BGe as nG,Afe as nH,pEe as nI,T9e as nJ,h6e as nK,zr as nL,j6e as nM,GLe as nN,m6e as nO,lVe as nP,tY as nQ,Iae as nR,lGe as nS,fA as nT,Q6e as nU,r$e as nV,HVe as nW,gLe as nX,k$e as nY,fye as nZ,Vm as n_,lY as na,tbe as nb,dqe as nc,yqe as nd,g0e as ne,v$ as nf,uqe as ng,Uf as nh,pne as ni,eHe as nj,_w as nk,bye as nl,A7e as nm,pY as nn,NUe as no,Cre as np,TUe as nq,KY as nr,sp as ns,SBe as nt,fUe as nu,kie as nv,Rie as nw,fte as nx,LB as ny,hHe as nz,wDe as o,le as o$,gBe as o0,$he as o1,EW as o2,Noe as o3,epe as o4,cGe as o5,Yde as o6,Vde as o7,WBe as o8,Jte as o9,o1 as oA,Vx as oB,QV as oC,tPe as oD,ure as oE,m$e as oF,Dt as oG,Jqe as oH,KVe as oI,JVe as oJ,hqe as oK,Nr as oL,Hte as oM,VVe as oN,oDe as oO,RVe as oP,U8e as oQ,Rne as oR,VT as oS,W6e as oT,lUe as oU,X4e as oV,aWe as oW,qte as oX,Wte as oY,Gte as oZ,Ie as o_,_Be as oa,che as ob,Vte as oc,L7e as od,Bre as oe,_4e as of,OD as og,_c as oh,gGe as oi,Phe as oj,c5e as ok,Zo as ol,nv as om,Ho as on,BFe as oo,_A as op,qBe as oq,Zi as or,bBe as os,sGe as ot,Mm as ou,cp as ov,ol as ow,hd as ox,yBe as oy,lre as oz,En as p,eFe as p$,hre as p0,yG as p1,gh as p2,I7 as p3,fpe as p4,hpe as p5,v8e as p6,nY as p7,qx as p8,zV as p9,OLe as pA,KLe as pB,h3e as pC,ALe as pD,pBe as pE,UBe as pF,Gse as pG,v_ as pH,xA as pI,MFe as pJ,yoe as pK,uW as pL,Fs as pM,Kae as pN,wr as pO,C9e as pP,Mqe as pQ,b9e as pR,C7e as pS,E7e as pT,S7e as pU,R8e as pV,N8e as pW,I8e as pX,Fde as pY,Dxe as pZ,VN as p_,Lqe as pa,s7e as pb,a7e as pc,xVe as pd,fDe as pe,UWe as pf,TV as pg,Ute as ph,Bte as pi,Eqe as pj,YVe as pk,vye as pl,J_e as pm,fa as pn,BBe as po,e$e as pp,o2 as pq,u6e as pr,d6e as ps,o_ as pt,mFe as pu,iVe as pv,R$e as pw,b$e as px,E$e as py,o$e as pz,PV as q,xs as q$,i4e as q0,r4e as q1,q9e as q2,p$e as q3,Wqe as q4,Vqe as q5,xUe as q6,m7e as q7,i9e as q8,ZRe as q9,MWe as qA,FWe as qB,t$e as qC,DWe as qD,r7e as qE,vY as qF,cLe as qG,Yqe as qH,o7e as qI,vne as qJ,kV as qK,PVe as qL,yDe as qM,XVe as qN,GUe as qO,WDe as qP,y$e as qQ,Ro as qR,CB as qS,zMe as qT,vBe as qU,Bh as qV,hne as qW,S6e as qX,yre as qY,UDe as qZ,BDe as q_,dWe as qa,fWe as qb,_p as qc,$ae as qd,RWe as qe,gge as qf,Xo as qg,ag as qh,uie as qi,gP as qj,hge as qk,vUe as ql,lWe as qm,uWe as qn,mWe as qo,P7e as qp,t6e as qq,FGe as qr,K6e as qs,Ym as qt,mae as qu,ZBe as qv,$D as qw,_$e as qx,iBe as qy,Bt as qz,fh as r,OVe as r$,l2e as r0,zRe as r1,wae as r2,EUe as r3,Mte as r4,CUe as r5,aGe as r6,_2e as r7,TEe as r8,a$ as r9,xz as rA,KI as rB,Nz as rC,XI as rD,ow as rE,jr as rF,sme as rG,o8 as rH,Tpe as rI,XGe as rJ,ste as rK,eqe as rL,BWe as rM,GWe as rN,tVe as rO,S9e as rP,c9e as rQ,D8e as rR,QRe as rS,O7e as rT,_n as rU,Q$e as rV,w3e as rW,zd as rX,iDe as rY,TVe as rZ,mLe as r_,s8e as ra,H7e as rb,z7e as rc,U7e as rd,LA as re,kxe as rf,Oqe as rg,ECe as rh,dte as ri,L8e as rj,GAe as rk,E9e as rl,mCe as rm,l9e as rn,lqe as ro,i$e as rp,wxe as rq,I1 as rr,Wde as rs,ix as rt,X$e as ru,Bde as rv,nx as rw,ZI as rx,eN as ry,YI as rz,EDe as s,qqe as s$,Vn as s0,$T as s1,nbe as s2,wqe as s3,bVe as s4,Iqe as s5,Qqe as s6,Zqe as s7,e7e as s8,O8e as s9,MGe as sA,cbe as sB,Oh as sC,fBe as sD,yh as sE,k8e as sF,NWe as sG,$Ue as sH,J6e as sI,tGe as sJ,Wfe as sK,MVe as sL,W3e as sM,I3e as sN,p9e as sO,pie as sP,Fne as sQ,_9 as sR,$oe as sS,N7e as sT,kl as sU,In as sV,ci as sW,AL as sX,$_ as sY,R8 as sZ,qpe as s_,jqe as sa,Pc as sb,y9e as sc,xu as sd,$We as se,VWe as sf,HWe as sg,zWe as sh,YWe as si,KWe as sj,JWe as sk,XWe as sl,QWe as sm,WWe as sn,$ye as so,ZWe as sp,nqe as sq,iG as sr,Lte as ss,qWe as st,jte as su,OUe as sv,ms as sw,y6e as sx,fne as sy,T8e as sz,KUe as t,cEe as t$,_H as t0,lue as t1,qn as t2,wt as t3,Ln as t4,FVe as t5,tHe as t6,_t as t7,lHe as t8,y3e as t9,vEe as tA,n$ as tB,cqe as tC,Bqe as tD,Uqe as tE,qVe as tF,zde as tG,cye as tH,Kme as tI,X3 as tJ,YY as tK,SWe as tL,wWe as tM,m8e as tN,Xde as tO,$x as tP,ze as tQ,p8e as tR,eCe as tS,oMe as tT,C3e as tU,uVe as tV,vMe as tW,yMe as tX,dEe as tY,i$ as tZ,E8e as t_,gqe as ta,AVe as tb,A$e as tc,N$e as td,NVe as te,EVe as tf,sDe as tg,SVe as th,CVe as ti,Nqe as tj,Kqe as tk,t7e as tl,n7e as tm,wVe as tn,IVe as to,wV as tp,LVe as tq,jVe as tr,rne as ts,_Ge as tt,Hg as tu,ZG as tv,l0e as tw,__ as tx,eW as ty,u0e as tz,re as u,AUe as u$,ZUe as u0,hV as u1,w7e as u2,A9e as u3,qne as u4,AWe as u5,d3e as u6,_We as u7,tWe as u8,zme as u9,Pke as uA,Rke as uB,Nke as uC,Ike as uD,xke as uE,wke as uF,Tke as uG,Oke as uH,Ske as uI,Eke as uJ,Ake as uK,x4 as uL,Cke as uM,bke as uN,aw as uO,pN as uP,cVe as uQ,KRe as uR,aMe as uS,cMe as uT,k4 as uU,uMe as uV,Ds as uW,i8e as uX,AA as uY,Soe as uZ,poe as u_,j9e as ua,c7e as ub,L$e as uc,Rqe as ud,vVe as ue,O8 as uf,dBe as ug,uBe as uh,zke as ui,Hke as uj,$ke as uk,I4 as ul,Vke as um,qke as un,Wke as uo,Gke as up,aVe as uq,oVe as ur,Bke as us,Uke as ut,Fke as uu,jke as uv,Lke as uw,Dke as ux,Mke as uy,kke as uz,NW as v,iWe as v$,Dse as v0,RBe as v1,NBe as v2,PBe as v3,kBe as v4,MBe as v5,DBe as v6,LBe as v7,jBe as v8,FBe as v9,nHe as vA,IGe as vB,Wh as vC,_ie as vD,vl as vE,Ove as vF,sye as vG,oye as vH,Tve as vI,dve as vJ,og as vK,O1 as vL,_V as vM,JLe as vN,fIe as vO,z9e as vP,Moe as vQ,q5e as vR,xr as vS,lt as vT,Qp as vU,Npe as vV,_x as vW,JGe as vX,wme as vY,Ume as vZ,QGe as v_,cee as va,J7e as vb,e8e as vc,Q9e as vd,W7e as ve,c8e as vf,t0e as vg,Z7e as vh,a8e as vi,o8e as vj,pg as vk,q7e as vl,PEe as vm,Y7e as vn,G7e as vo,Q7e as vp,B7e as vq,X7e as vr,oA as vs,Pte as vt,oGe as vu,bUe as vv,sP as vw,SUe as vx,pd as vy,RGe as vz,lBe as w,k3e as w$,DGe as w0,NGe as w1,dpe as w2,kGe as w3,PGe as w4,upe as w5,Tw as w6,ww as w7,FUe as w8,G9e as w9,d7e as wA,AV as wB,bce as wC,uce as wD,d$e as wE,wd as wF,wUe as wG,Yte as wH,zte as wI,b7e as wJ,rGe as wK,iGe as wL,y4e as wM,V9e as wN,H9e as wO,k6e as wP,c4e as wQ,jm as wR,j0e as wS,BY as wT,v9e as wU,bMe as wV,L6e as wW,d9e as wX,f9e as wY,h9e as wZ,q$e as w_,G_ as wa,jhe as wb,Pae as wc,ko as wd,ns as we,Xe as wf,Ir as wg,h8 as wh,vme as wi,KGe as wj,ff as wk,T8 as wl,eBe as wm,l6e as wn,UT as wo,mBe as wp,Xm as wq,x3e as wr,fMe as ws,r9e as wt,tqe as wu,M7e as wv,D6e as ww,n9e as wx,U3e as wy,JV as wz,Ste as x,Fae as x$,O9e as x0,D3e as x1,sCe as x2,u9e as x3,w9e as x4,KMe as x5,JMe as x6,rx as x7,p7e as x8,s9e as x9,A3e as xA,i7e as xB,I6e as xC,z5e as xD,tv as xE,x7e as xF,I7e as xG,w6e as xH,U$e as xI,B$e as xJ,G$e as xK,W$e as xL,F$e as xM,Lde as xN,N6e as xO,C7 as xP,R6e as xQ,oBe as xR,rBe as xS,sBe as xT,w$e as xU,Coe as xV,p0e as xW,XMe as xX,yFe as xY,sh as xZ,Pse as x_,o9e as xa,$8e as xb,V8e as xc,H8e as xd,z8e as xe,K8e as xf,Y8e as xg,X8e as xh,J8e as xi,Z8e as xj,Q8e as xk,M6e as xl,T0e as xm,eVe as xn,f7e as xo,dVe as xp,Y$e as xq,z$e as xr,Z$e as xs,e9e as xt,N3e as xu,t9e as xv,V$e as xw,$$e as xx,H$e as xy,J$e as xz,zI as y,c6e as y0,Di as y1,u$ as y2,G8e as y3,lee as y4,cUe as y5,N6 as y6,b6 as y7,C6 as y8,ni as y9,mn as ya,xm as yb,$f as yc,Wg as yd,Il as ye,je as yf,jg as yg,Dw as yh,Fn as yi,jn as yj,pr as yk,Pqe as yl,RX as ym,EBe as yn,p6e as yo,Txe as yp,jxe as yq,cIe as yr,sVe as ys,Qf as z};
//# sourceMappingURL=ncw8zw682jinppua.js.map

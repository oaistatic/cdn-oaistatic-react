const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ngyz1fdnjgl008d3.js","assets/cg166fqqcxkeiosv.js","assets/j4xe1fdohr6xk09p.js","assets/dze2l9y9kn6nwat0.js","assets/root-fk1yg8gm.css","assets/conversation-small-ga20ijz2.css","assets/dwbmbwvdewldvcp1.js","assets/jky4nhpbj4n3xuh7.js","assets/h83rc28v2vsm5nda.js","assets/gzm2pyuieq14d2cd.js","assets/hdilgwj6ud6odlt8.js","assets/dxwj7d3qxjns67z0.js","assets/l1c6eu3d34hr9ksj.js","assets/i7nvm66tepgqj19n.js","assets/bsl07ehiis3tpn40.js","assets/3qaegw5tahuvxmqt.js","assets/7ckqochw7zdn18vj.js","assets/bwi1l6iogkqrr41g.js","assets/ksd54b7o5090d70i.js","assets/dwgbagtcbp3llpgj.js","assets/BusinessesMap-g8qqrkxo.css"])))=>i.map(i=>d[i]);
import{r as p,aE as Lt,j as a,u as Rt,R as ue,au as he,c as k,M as y,g as rt,aw as Se}from"./cg166fqqcxkeiosv.js";import{c0 as zt,d as v,a as $,u as Ht,s as Ot,R as Ut,bw as Y,c1 as Q,c as Wt,ch as Yt,bx as Bt,b9 as B,c5 as Zt,h as be,Q as qt,aj as Vt,eF as Gt,dc as it,es as te,D as ct,bh as lt,bT as dt,dg as Xt,bR as Kt,bl as Jt,bm as Qt,ao as ut,eG as ye,I as es,i2 as ts,i4 as ss,bP as ns,gW as as}from"./dze2l9y9kn6nwat0.js";import{s as z,c as Pe,d as ht,R as ve,u as mt,e as os,g as rs,b as is,j as cs,C as ls,l as ds,m as us,S as De,D as hs,n as ms,I as fs,o as ps,M as gs,q as xs}from"./dwbmbwvdewldvcp1.js";import{a as bs}from"./hdilgwj6ud6odlt8.js";import{u as ys,b as vs,i as ws}from"./ksd54b7o5090d70i.js";import{a as $s}from"./l1c6eu3d34hr9ksj.js";import{rY as js,cs as se,cr as Ns,rZ as ft,r_ as _s,r$ as ks,s0 as Cs,bT as we,E as I,s1 as Ss,s2 as Ps,s3 as $e,s4 as Ds,hu as ee,s5 as Ts,c1 as Ms,c3 as As,s6 as Es,pb as Is,eT as Fs,cC as pt,cD as gt,F as xt,S as Ls,q as Te,s7 as Rs,s8 as Me,gU as zs,gT as Hs,fa as P,s9 as Os,gd as Us,kB as Ws,kC as Ys}from"./j4xe1fdohr6xk09p.js";import{g as Bs,d as Zs,b as bt,I as qs}from"./i7nvm66tepgqj19n.js";import{w as je,s as yt,f as Vs,a as Gs,h as Xs,M as Ne,u as Ks,r as Js,b as Qs}from"./dxwj7d3qxjns67z0.js";import{b as U}from"./7ckqochw7zdn18vj.js";import{v as Ae,C as en,A as tn,a as sn,L as nn,B as an,p as on,b as rn,e as cn,P as ln,f as dn,i as un,g as hn}from"./mvt4km0zlpksanl9.js";import{N as Ee}from"./m5vf38e63o5zwpil.js";import{S as mn}from"./b2w5qfsxz967tcnb.js";import{c as vt}from"./nq2b8stb8xnboof9.js";import"./jky4nhpbj4n3xuh7.js";import"./h83rc28v2vsm5nda.js";import"./gzm2pyuieq14d2cd.js";import"./bsl07ehiis3tpn40.js";import"./3qaegw5tahuvxmqt.js";const fn=vt("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),pn=vt("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),gn=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Ie={}.hasOwnProperty;function xn(e,t){const s=t||{};function n(o,...r){let i=n.invalid;const l=n.handlers;if(o&&Ie.call(o,e)){const u=String(o[e]);i=Ie.call(l,u)?l[u]:n.unknown}if(i)return i.call(this,o,...r)}return n.handlers=s.handlers||{},n.invalid=s.invalid,n.unknown=s.unknown,n}const bn=/^>|^->|<!--|-->|--!>|<!-$/g,yn=[">"],vn=["<",">"];function wn(e,t,s,n){return n.settings.bogusComments?"<?"+z(e.value,Object.assign({},n.settings.characterReferences,{subset:yn}))+">":"<!--"+e.value.replace(bn,o)+"-->";function o(r){return z(r,Object.assign({},n.settings.characterReferences,{subset:vn}))}}function $n(e,t,s,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const j=$t(1),wt=$t(-1),jn=[];function $t(e){return t;function t(s,n,o){const r=s?s.children:jn;let i=(n||0)+e,l=r[i];if(!o)for(;l&&je(l);)i+=e,l=r[i];return l}}const Nn={}.hasOwnProperty;function jt(e){return t;function t(s,n,o){return Nn.call(e,s.tagName)&&e[s.tagName](s,n,o)}}const _e=jt({body:kn,caption:ne,colgroup:ne,dd:Dn,dt:Pn,head:ne,html:_n,li:Sn,optgroup:Tn,option:Mn,p:Cn,rp:Fe,rt:Fe,tbody:En,td:Le,tfoot:In,th:Le,thead:An,tr:Fn});function ne(e,t,s){const n=j(s,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&je(n.value.charAt(0)))}function _n(e,t,s){const n=j(s,t);return!n||n.type!=="comment"}function kn(e,t,s){const n=j(s,t);return!n||n.type!=="comment"}function Cn(e,t,s){const n=j(s,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function Sn(e,t,s){const n=j(s,t);return!n||n.type==="element"&&n.tagName==="li"}function Pn(e,t,s){const n=j(s,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function Dn(e,t,s){const n=j(s,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Fe(e,t,s){const n=j(s,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function Tn(e,t,s){const n=j(s,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function Mn(e,t,s){const n=j(s,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function An(e,t,s){const n=j(s,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function En(e,t,s){const n=j(s,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function In(e,t,s){return!j(s,t)}function Fn(e,t,s){const n=j(s,t);return!n||n.type==="element"&&n.tagName==="tr"}function Le(e,t,s){const n=j(s,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const Ln=jt({body:Hn,colgroup:On,head:zn,html:Rn,tbody:Un});function Rn(e){const t=j(e,-1);return!t||t.type!=="comment"}function zn(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const s=e.children[0];return!s||s.type==="element"}function Hn(e){const t=j(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&je(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function On(e,t,s){const n=wt(s,t),o=j(e,-1,!0);return s&&n&&n.type==="element"&&n.tagName==="colgroup"&&_e(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="col")}function Un(e,t,s){const n=wt(s,t),o=j(e,-1);return s&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&_e(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="tr")}const Z={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Wn(e,t,s,n){const o=n.schema,r=o.space==="svg"?!1:n.settings.omitOptionalTags;let i=o.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const l=[];let u;o.space==="html"&&e.tagName==="svg"&&(n.schema=yt);const h=Yn(n,e.properties),d=n.all(o.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=o,d&&(i=!1),(h||!r||!Ln(e,t,s))&&(l.push("<",e.tagName,h?" "+h:""),i&&(o.space==="svg"||n.settings.closeSelfClosing)&&(u=h.charAt(h.length-1),(!n.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(d),!i&&(!r||!_e(e,t,s))&&l.push("</"+e.tagName+">"),l.join("")}function Yn(e,t){const s=[];let n=-1,o;if(t){for(o in t)if(t[o]!==null&&t[o]!==void 0){const r=Bn(e,o,t[o]);r&&s.push(r)}}for(;++n<s.length;){const r=e.settings.tightAttributes?s[n].charAt(s[n].length-1):void 0;n!==s.length-1&&r!=='"'&&r!=="'"&&(s[n]+=" ")}return s.join("")}function Bn(e,t,s){const n=Vs(e.schema,t),o=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,r=e.settings.allowDangerousCharacters?0:1;let i=e.quote,l;if(n.overloadedBoolean&&(s===n.attribute||s==="")?s=!0:(n.boolean||n.overloadedBoolean&&typeof s!="string")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const u=z(n.attribute,Object.assign({},e.settings.characterReferences,{subset:Z.name[o][r]}));return s===!0||(s=Array.isArray(s)?(n.commaSeparated?Gs:js)(s,{padLeft:!e.settings.tightCommaSeparatedLists}):String(s),e.settings.collapseEmptyAttributes&&!s)?u:(e.settings.preferUnquoted&&(l=z(s,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Z.unquoted[o][r]}))),l!==s&&(e.settings.quoteSmart&&Pe(s,i)>Pe(s,e.alternative)&&(i=e.alternative),l=i+z(s,Object.assign({},e.settings.characterReferences,{subset:(i==="'"?Z.single:Z.double)[o][r],attribute:!0}))+i),u+(l&&"="+l))}const Zn=["<","&"];function Nt(e,t,s,n){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?e.value:z(e.value,Object.assign({},n.settings.characterReferences,{subset:Zn}))}function qn(e,t,s,n){return n.settings.allowDangerousHtml?e.value:Nt(e,t,s,n)}function Vn(e,t,s,n){return n.all(e)}const Gn=xn("type",{invalid:Xn,unknown:Kn,handlers:{comment:wn,doctype:$n,element:Wn,raw:qn,root:Vn,text:Nt}});function Xn(e){throw new Error("Expected node, not `"+e+"`")}function Kn(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const Jn={},Qn={},ea=[];function ta(e,t){const s=t||Jn,n=s.quote||'"',o=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:sa,all:na,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||gn,characterReferences:s.characterReferences||Qn,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?yt:Xs,quote:n,alternative:o}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function sa(e,t,s){return Gn(e,t,s,this)}function na(e){const t=[],s=e&&e.children||ea;let n=-1;for(;++n<s.length;)t[n]=this.one(s[n],n,e);return t.join("")}function aa(e){const t=this,s={...t.data("settings"),...e};t.compiler=n;function n(o){return ta(o,s)}}function oa(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const ra=4;function ia({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:s}){const n=zt(),o=e.images,r=o.some(d=>d.base64_image)?[]:o.map(d=>d.thumbnail_url),i=Lt({queries:r.map(d=>Bs(d)),combine:d=>{const c=new Set;return d.forEach((f,m)=>{f.isSuccess&&c.add(r[m])}),c}}),l=o.filter(d=>i.has(d.thumbnail_url)),u=e.images.length;if(o.some(d=>d.base64_image)){const d=o.find(c=>c.base64_image);return a.jsx(ae,{image:d,imageSource:se.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"mb-7 ml-7 mt-1 h-auto max-h-[143px] w-auto max-w-[141px] rounded-xl border-[0.5px] border-token-border-light object-cover transition-transform duration-300 ease-in-out hover:scale-105"},d?.thumbnail_url)}if(u===0)return null;if(u===1){const d=e.images[0];return a.jsx(ae,{image:d,imageSource:se.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},d.content_url)}const h=n?l.length:Math.min(l.length,ra);return a.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:l.slice(0,h).map((d,c)=>a.jsx("div",{className:v("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",c===0&&"rounded-l-xl",c===h-1&&"rounded-r-xl"),children:a.jsx(ae,{image:d,imageSource:se.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"h-full w-full"},d.thumbnail_url)},d.thumbnail_url))})}const _t=p.memo(ia,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((s,n)=>s.content_url===t.metadata.images[n].content_url));function ae({image:e,imageSource:t,className:s,imgClassName:n,style:o,analyticsMetadata:r,trackContentReferenceEvent:i}){const l=Zs(e),{isSuccess:u}=bt(l),h=p.useMemo(()=>({image_url:l,title:e?.title}),[l,e?.title]);p.useEffect(()=>{e&&u&&i($.searchContentReferenceShown,"search_content_reference_shown","image_v2",h)},[i,e,u,h]);const d=Ns.useStore(),c=e?.base64_image??l;return a.jsx("button",{className:v("relative aspect-square overflow-hidden",s),style:o,onClick:()=>{i($.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",h),d.setCurrentImage(e?{image:e,source:t,analyticsMetadata:r}:void 0)},children:e?e?.base64_image||u?a.jsx(qs,{children:a.jsx("img",{src:c,alt:e?.content_url,className:v("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",n)})}):a.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):a.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}async function ca({conversationId:e,messageId:t,assetPointerLinks:s}){return await Ut.safePost("/conversation/get_images_for_message",{requestBody:{conversation_id:e,message_id:t,asset_pointer_links:s}})}function la({reference:e,conversationId:t,messageId:s}){return Rt({queryKey:["inline-images",e,t,s],queryFn:async()=>!e.asset_pointer_links||e.asset_pointer_links.length===0||!t?{images:[],formats:[]}:await ca({conversationId:t,messageId:s,assetPointerLinks:e.asset_pointer_links})})}function da({reference:e,clientThreadId:t,messageId:s,trackContentReferenceEvent:n}){const o=Ht(h=>t==null?void 0:Ot(t,h)),{data:r,isLoading:i,isError:l,error:u}=la({reference:e,conversationId:o,messageId:s});if(!(i||l||u||!r||!("images"in r)))return a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:r?.images.map((h,d)=>{const f=`data:${`image/${r.formats[d]}`};base64,${h}`,m={matched_text:e.matched_text,start_idx:e.start_idx,end_idx:e.end_idx,safe_urls:e.safe_urls,alt:e.alt,prompt_text:e.prompt_text,type:"image_v2",images:[{url:"",content_url:e.clicked_from_url??"",thumbnail_url:"",title:e.clicked_from_title??"",content_size:{width:141,height:143},thumbnail_size:{width:141,height:143},base64_image:f}]};return a.jsx(_t,{metadata:m,analyticsMetadata:{clientThreadId:t,messageId:s},numImageResults:1,trackContentReferenceEvent:n},`image-carousel-inline-${d}`)})})}function ua({attributions:e,attributionsDebug:t,children:s}){const n=ft(),o=Y(),r=p.useMemo(()=>e?.map((c,f)=>({...c,originalIndex:f}))?.toSorted((c,f)=>(f.probability??0)-(c.probability??0)),[e]),i=_s(),l=ks(),u=Cs(),d=t&&(t.influence_temperature!==i||t.prob_baseline!==l||t.use_sigmoid_likelihood!==u)&&e&&(u?Ss(e,i,l):Ps(e,i));return!r||!n?s:a.jsx(Q,{label:a.jsxs("div",{className:"text-left text-xs font-normal text-token-text-primary",children:[a.jsx("div",{className:"font-bold",children:"Attributions (Debug)"}),a.jsxs("div",{className:"grid grid-cols-[200px,1fr,1fr] gap-1",children:[a.jsx("div",{children:"Source"}),a.jsxs("div",{children:["τ=",t?.influence_temperature,", b=",t?.prob_baseline]}),a.jsx("div",{children:d&&`τ=${i}, b=${l}`}),r.map((c,f)=>{const m=c.source_type==="prior",x=m?"text-red-500":c.url?"":"text-gray-500",w=c.probability&&`${(c.probability*100).toFixed(2)}%`,N=d&&d[c.originalIndex].probability,S=N&&`${(N*100).toFixed(2)}%`;return a.jsxs(p.Fragment,{children:[a.jsx("div",{className:v("flex flex-col",x),children:m?a.jsx("div",{className:"line-clamp-1 font-bold",children:"Model Prior"}):c.url?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"line-clamp-1 font-bold",children:we(c.url)}),"(",c.source_type,")"]}),a.jsx(I,{href:c.url,className:"line-clamp-1 text-xs",children:c.url})]}):a.jsxs("div",{className:"text-xxs line-clamp-1",children:["(",c.source_type,")"]})}),a.jsx("div",{className:x,children:w}),a.jsx("div",{className:x,children:S})]},f)})]})]}),theme:o?"default":"white",delayDuration:0,className:"inline",side:"left",interactive:!0,children:s})}function ha({attribution:e}){const t=p.useContext(ee),s=Ts(t?.message.id,e.attributable_index),n=ft();return a.jsx(fa,{isHighlighted:s,messageId:t?.message.id,isDebugMode:n,content:e.alt??"",attributableIndex:e.attributable_index,attributions:e.attributions??void 0,attributionsDebug:e.attributions_debug??void 0})}function ma({content:e,isHighlighted:t,messageId:s,isDebugMode:n,attributableIndex:o,attributions:r,attributionsDebug:i}){const[l]=$e(),u=l.design_flags?.highlight_style,h=n?"hover:shadow-[-1px_0_2px_2px_rgba(255,0,0,0.4)]":void 0,d=a.jsxs(a.Fragment,{children:[n&&a.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:a.jsx(Q,{label:"Attribution Index",side:"top",children:o})}),a.jsx(ua,{attributions:r,attributionsDebug:i,children:a.jsx(Ne,{rehypePlugins:ht,remarkPlugins:ve,urlTransform:mt,components:{p:({children:c})=>a.jsx(a.Fragment,{children:c})},children:e})})]});return u==="underline"?a.jsx(ga,{isHighlighted:t,className:h,children:d}):u==="fade"?a.jsx(xa,{isHighlighted:t,messageId:s,className:h,children:d}):a.jsx(pa,{isHighlighted:t,className:h,children:d})}const fa=ue.memo(ma);function pa({isHighlighted:e,className:t,children:s}){const[n]=$e();return a.jsx("span",{className:v("relative","-mx-px my-[-0.2rem] rounded px-px py-[0.2rem]",e&&(n.design_flags?.pill_color_v2?"bg-token-main-surface-tertiary":"bg-[#FCE8BD] dark:bg-yellow-900"),t),children:s})}function ga({isHighlighted:e,className:t,children:s,height:n=5,padding:o=2,margin:r=-1}){const[i,l]=ue.useState(),[u]=$e(),h=ue.useRef(null),d=p.useCallback(()=>{if(e){const c=h.current?.getClientRects(),f=c?.[0];if(!c||!f){l(void 0);return}const m=Array.from(c).map(x=>({width:x.width+o*2,height:n,left:x.left-f.left-o,top:x.top-f.top+x.height+r}));l(m)}else l(void 0)},[e,n,o,r]);return Wt(window,{resize:d}),p.useEffect(()=>{d()},[d]),a.jsxs("span",{className:v("relative",t),ref:h,children:[s,i?.map((c,f)=>a.jsx("div",{className:v("absolute -z-10 rounded",e&&(u.design_flags?.pill_color_v2?"bg-token-main-surface-tertiary":"bg-[#FCE8BD] dark:bg-yellow-900")),style:{width:c.width,height:c.height,left:c.left,top:c.top}},f))]})}function xa({isHighlighted:e,messageId:t,className:s,children:n}){const o=Ds(t),r=!e&&o;return a.jsx(he.span,{className:v("relative",s),animate:{opacity:r?.5:1},transition:{duration:.2},children:n})}function Re(e,t){try{return BigInt(e).toLocaleString(t)}catch{const s=Number(e);return e.includes("e")||e.includes("E")?s.toExponential():s.toLocaleString(t,{maximumFractionDigits:6})}}function ba({data:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t($.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=Yt().locale;return e.expression&&e.result!=null?a.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[a.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&a.jsx("span",{children:e.prefix}),a.jsx("span",{children:Re(e.result,s)}),e.suffix&&a.jsx("span",{children:e.suffix})]}),a.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${Re(e.result,s)}`})]}):null}function ya(e){return a.jsxs(Bt,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[a.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function va({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:s,FormattedText:n}){const o=k();return a.jsx(B.Root,{isOpen:!0,onClose:s,children:a.jsx(B.Overlay,{children:a.jsxs(B.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[a.jsx(B.Header,{title:o.formatMessage(wa.title),type:"success",closeButton:a.jsx(Zt,{onClick:s})}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[a.jsx("div",{children:a.jsx(Ms,{FormattedText:n,message:e})}),a.jsx("div",{children:a.jsx(As,{message:t})})]})]})})})}const wa=be({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function $a({displayInfo:e,FormattedText:t,trackContentReferenceEvent:s}){const[n,o]=p.useState(!1),r=k();return p.useEffect(()=>{s($.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]),a.jsxs(a.Fragment,{children:[a.jsx(Q,{label:r.formatMessage(ja.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:a.jsx("button",{onClick:()=>o(!0),children:a.jsx(ya,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),n&&a.jsx(va,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>o(!1)})]})}const ja=be({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),ze=24;function Na(e){const t=e.split(".");let s=e;return t.length>1&&t.slice(0,-1).some(n=>n.length>0)&&(s=t.slice(0,-1).join(".")),s.length>ze&&(s=s.slice(0,ze-1)+"…"),s}function _a({fileRef:e,index:t,trackContentReferenceEvent:s}){const n=Es(),o=p.useContext(ee),r=p.useMemo(()=>({source:e.source,index:t}),[e.source,t]);p.useEffect(()=>{s($.fileCitationShown,"file_citation_shown","file",r)},[]);const i=p.useCallback(d=>{d?s($.fileCitationHovered,"file_citation_hovered","file",r):s($.fileCitationUnhovered,"file_citation_unhovered","file",r)},[r,s]),l=p.useCallback(()=>{s($.fileCitationClicked,"file_citation_clicked","file",r)},[r,s]),u=p.useCallback(()=>n(e.id,e.name),[n,e.id,e.name]),h=qt(o?.analyticsMetadata.clientThreadId??Gt,d=>Vt(d?.mode));return Is(h)?h.gizmo_id&&Fs(h.gizmo_id)?a.jsx("span",{className:v(os,"select-none"),title:e.name,children:Na(e.name)}):null:a.jsx(ka,{fileItem:e,onClickDownloadFile:u,trackTooltipOpenChange:i,trackCloudLinkClick:l})}function ka({fileItem:e,className:t,trackTooltipOpenChange:s,trackCloudLinkClick:n,onClickDownloadFile:o}){const r=pt(e.cloud_doc_url??""),i=r?.type??a.jsx(y,{id:"bqY3sN",defaultMessage:"File"}),l=r?.Icon??gt,u=a.jsx(l,{alt:i,className:"h-[16px] w-[16px] object-contain"}),h=v("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",t),d=a.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?a.jsx(I,{href:e.cloud_doc_url,className:h,onClick:n,children:u}):a.jsx("button",{onClick:o,className:h,children:u})});return a.jsx(Ca,{fileItem:e,icon:a.jsx(l,{alt:i,className:"mr-2 h-[16px] w-[16px] object-contain"}),contentType:i,trackTooltipOpenChange:s,children:d})}function Ca({fileItem:e,children:t,className:s,icon:n,contentType:o,trackTooltipOpenChange:r}){const i=Y();return a.jsx(Q,{label:a.jsxs(I,{href:e.cloud_doc_url,className:v("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",s),children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:n}),a.jsx("div",{className:"truncate text-token-text-primary",children:o})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:e.text})]}),onOpenChange:r,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:i?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:t})}function Sa(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function Pa({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:a.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((s,n)=>a.jsx(Da,{item:s,index:n,trackContentReferenceEvent:t},n))})}function Da({item:e,index:t,trackContentReferenceEvent:s}){const n=k(),o={title:e.name,description:e.description,index:t};p.useEffect(()=>{s($.contextualAnswersContentReferenceShown,"contextual_answers_content_reference_shown","file_navlist",o)},[]);const r=pt(e.cloud_doc_url??""),i=r?.Icon??gt,l=r?.type??a.jsx(y,{id:"bqY3sN",defaultMessage:"File"});return a.jsxs(I,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.cloud_doc_url??"/",onClick:()=>{s($.contextualAnswersContentReferenceClicked,"contextual_answers_content_reference_clicked","file_navlist",o)},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"not-prose flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(i,{className:"icon-md object-contain"}),a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-primary",children:l})]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.name}),a.jsx("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-primary",children:e.description}),e.last_modified_time&&a.jsx("div",{className:"text-sm text-token-text-secondary",children:Sa(e.last_modified_time,n.locale)})]})]})}var me={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){if(n===null||n===!0||n===!1)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(me,me.exports);var Ta=me.exports;const Ma=rt(Ta);var fe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}e.exports=t.default})(fe,fe.exports);var Aa=fe.exports;const He=rt(Aa);function Ea(e,t){var s=Ra(t);return s.formatToParts?Fa(s,e):La(s,e)}var Ia={year:0,month:1,day:2,hour:3,minute:4,second:5};function Fa(e,t){try{for(var s=e.formatToParts(t),n=[],o=0;o<s.length;o++){var r=Ia[s[o].type];r>=0&&(n[r]=parseInt(s[o].value,10))}return n}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function La(e,t){var s=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(s);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var oe={};function Ra(e){if(!oe[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),s=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";oe[e]=s?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return oe[e]}function kt(e,t,s,n,o,r,i){var l=new Date(0);return l.setUTCFullYear(e,t,s),l.setUTCHours(n,o,r,i),l}var Oe=36e5,za=6e4,re={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ct(e,t,s){var n,o;if(!e||(n=re.timezoneZ.exec(e),n))return 0;var r;if(n=re.timezoneHH.exec(e),n)return r=parseInt(n[1],10),Ue(r)?-(r*Oe):NaN;if(n=re.timezoneHHMM.exec(e),n){r=parseInt(n[2],10);var i=parseInt(n[3],10);return Ue(r,i)?(o=Math.abs(r)*Oe+i*za,n[1]==="+"?-o:o):NaN}if(Ua(e)){t=new Date(t||Date.now());var l=s?t:Ha(t),u=pe(l,e),h=s?u:Oa(t,u,e);return-h}return NaN}function Ha(e){return kt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function pe(e,t){var s=Ea(e,t),n=kt(s[0],s[1]-1,s[2],s[3]%24,s[4],s[5],0).getTime(),o=e.getTime(),r=o%1e3;return o-=r>=0?r:1e3+r,n-o}function Oa(e,t,s){var n=e.getTime(),o=n-t,r=pe(new Date(o),s);if(t===r)return t;o-=r-t;var i=pe(new Date(o),s);return r===i?r:Math.max(r,i)}function Ue(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var We={};function Ua(e){if(We[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),We[e]=!0,!0}catch{return!1}}var Wa=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ie=36e5,Ye=6e4,Ya=2,C={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Wa};function ge(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var s={},n=s.additionalDigits==null?Ya:Ma(s.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Ba(e),r=Za(o.date,n),i=r.year,l=r.restDateString,u=qa(l,i);if(isNaN(u))return new Date(NaN);if(u){var h=u.getTime(),d=0,c;if(o.time&&(d=Va(o.time),isNaN(d)))return new Date(NaN);if(o.timeZone||s.timeZone){if(c=Ct(o.timeZone||s.timeZone,new Date(h+d)),isNaN(c))return new Date(NaN)}else c=He(new Date(h+d)),c=He(new Date(h+d+c));return new Date(h+d+c)}else return new Date(NaN)}function Ba(e){var t={},s=C.dateTimePattern.exec(e),n;if(s?(t.date=s[1],n=s[3]):(s=C.datePattern.exec(e),s?(t.date=s[1],n=s[2]):(t.date=null,n=e)),n){var o=C.timeZone.exec(n);o?(t.time=n.replace(o[1],""),t.timeZone=o[1].trim()):t.time=n}return t}function Za(e,t){var s=C.YYY[t],n=C.YYYYY[t],o;if(o=C.YYYY.exec(e)||n.exec(e),o){var r=o[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(o=C.YY.exec(e)||s.exec(e),o){var i=o[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function qa(e,t){if(t===null)return null;var s,n,o,r;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(s=C.MM.exec(e),s)return n=new Date(0),o=parseInt(s[1],10)-1,Ze(t,o)?(n.setUTCFullYear(t,o),n):new Date(NaN);if(s=C.DDD.exec(e),s){n=new Date(0);var i=parseInt(s[1],10);return Ka(t,i)?(n.setUTCFullYear(t,0,i),n):new Date(NaN)}if(s=C.MMDD.exec(e),s){n=new Date(0),o=parseInt(s[1],10)-1;var l=parseInt(s[2],10);return Ze(t,o,l)?(n.setUTCFullYear(t,o,l),n):new Date(NaN)}if(s=C.Www.exec(e),s)return r=parseInt(s[1],10)-1,qe(t,r)?Be(t,r):new Date(NaN);if(s=C.WwwD.exec(e),s){r=parseInt(s[1],10)-1;var u=parseInt(s[2],10)-1;return qe(t,r,u)?Be(t,r,u):new Date(NaN)}return null}function Va(e){var t,s,n;if(t=C.HH.exec(e),t)return s=parseFloat(t[1].replace(",",".")),ce(s)?s%24*ie:NaN;if(t=C.HHMM.exec(e),t)return s=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),ce(s,n)?s%24*ie+n*Ye:NaN;if(t=C.HHMMSS.exec(e),t){s=parseInt(t[1],10),n=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return ce(s,n,o)?s%24*ie+n*Ye+o*1e3:NaN}return null}function Be(e,t,s){t=t||0,s=s||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var o=n.getUTCDay()||7,r=t*7+s+1-o;return n.setUTCDate(n.getUTCDate()+r),n}var Ga=[31,28,31,30,31,30,31,31,30,31,30,31],Xa=[31,29,31,30,31,30,31,31,30,31,30,31];function St(e){return e%400===0||e%4===0&&e%100!==0}function Ze(e,t,s){if(t<0||t>11)return!1;if(s!=null){if(s<1)return!1;var n=St(e);if(n&&s>Xa[t]||!n&&s>Ga[t])return!1}return!0}function Ka(e,t){if(t<1)return!1;var s=St(e);return!(s&&t>366||!s&&t>365)}function qe(e,t,s){return!(t<0||t>52||s!=null&&(s<0||s>6))}function ce(e,t,s){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||s!=null&&(s<0||s>=60))}function H(e,t,s){var n=ge(e,s),o=Ct(t,n,!0),r=new Date(n.getTime()-o),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}var le={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},Ja={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=le),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var s=this.getOption(e,"sync","enabled");s&&(e.crosshair.syncEventHandler=(function(n){this.handleSyncEvent(e,n)}).bind(this),e.crosshair.resetZoomEventHandler=(function(n){var o=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===o&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var s=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,o=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,n),e.crosshair.end=e.crosshair.start===n?n+s:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===o?o-s:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,s){return Ae(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][s]:void 0,le[t][s])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var s=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===s){var n=this.getXScale(e);if(n){var o=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(o=0);var r={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:n.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:o},stop:!0};e._eventHandler(r)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let s=t.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var o=this.getXScale(e);if(o){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var r=s.native.buttons===void 0?s.native.which:s.native.buttons;s.native.type==="mouseup"&&(r=0);var i=this.getOption(e,"sync","enabled"),l=this.getOption(e,"sync","group");if(!s.stop&&i){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=l,t.original=s,t.xValue=o.getValueForPixel(s.x),window.dispatchEvent(t)}var u=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=s.stop&&u,e.crosshair.enabled=s.type!=="mouseout"&&s.x>o.getPixelForValue(o.min)&&s.x<o.getPixelForValue(o.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return s.x>o.getPixelForValue(o.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var h=this.getOption(e,"zoom","enabled");if(r===1&&!e.crosshair.dragStarted&&h&&(e.crosshair.dragStartX=s.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&r===0){e.crosshair.dragStarted=!1;var d=o.getValueForPixel(e.crosshair.dragStartX),c=o.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,d,c),e.update("none")}e.crosshair.x=s.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var o=e.data.datasets[n];o.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var r=this.getOption(e,"sync","enabled");if(!t&&s&&r){var i=this.getOption(e,"sync","group"),l=new CustomEvent("reset-zoom-event");l.chartId=e.id,l.syncGroup=i,window.dispatchEvent(l)}s&&e.update("none")},doZoom:function(e,t,s){if(t>s){var n=t;t=s,s=n}var o=Ae(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,le.callbacks.beforeZoom);if(!o(t,s))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var r=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),l=this.getOption(e,"zoom","zoomButtonClass"),u=document.createTextNode(i);r.appendChild(u),r.className=l,r.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(r),e.crosshair.button=r}e.options.scales.x.min=t,e.options.scales.x.max=s;var h=e.crosshair.originalData.length===0,d=e.config.options.scales.x.type!=="category";if(d)for(var c=0;c<e.data.datasets.length;c++){var f=[],m=0,x=!1,w=!1;h&&(e.crosshair.originalData[c]=e.data.datasets[c].data);for(var N=e.crosshair.originalData[c],S=0;S<N.length;S++){var D=N[S],A=D.x!==void 0?D.x:NaN;A>=t&&!x&&m>0&&(f.push(N[m-1]),x=!0),A>=t&&A<=s&&f.push(D),A>s&&!w&&m<N.length&&(f.push(D),w=!0),m+=1}e.data.datasets[c].data=f}if(e.crosshair.start=t,e.crosshair.end=s,h){var g=this.getXScale(e);e.crosshair.min=g.min,e.crosshair.max=g.max}e.crosshair.ignoreNextEvents=2,e.update("none");var b=this.getOption(e,"callbacks","afterZoom");b(t,s)},drawZoombox:function(e){var t=this.getYScale(e),s=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=s,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),s=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),o=this.getOption(e,"line","dashPattern"),r=this.getOption(e,"snap","enabled"),i=e.crosshair.x;r&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(o),e.ctx.moveTo(i,t.getPixelForValue(t.max)),e.ctx.lineWidth=s,e.ctx.strokeStyle=n,e.ctx.lineTo(i,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.yAxisID];n.hidden||!s.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,o.getPixelForValue(s.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=s.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.xAxisID],r=o.getValueForPixel(e.crosshair.x);if(!(n.hidden||!s.interpolate)){var i=s.data,l=i.findIndex(function(c){return c.x>=r}),u=i[l-1],h=i[l];if(e.data.datasets[t].steppedLine&&u)s.interpolatedValue=u.y;else if(u&&h){var d=(h.y-u.y)/(h.x-u.x);s.interpolatedValue=u.y+(r-u.x)*d}else s.interpolatedValue=NaN}}}};const G=(e=1)=>`rgba(48, 166, 51, ${e})`,X=(e=1)=>`rgba(241, 77, 66, ${e})`,Ve="text-[#30a633]",Ge="text-[#f14d42]",Qa=["1d","5d","1m","6m","ytd","1y","5y","max"];function eo({histories:e,selectedInterval:t,onSelectHistoryInterval:s}){const n=Object.keys(e?.quotes??{});return a.jsx("div",{className:"inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold text-token-text-tertiary dark:bg-[#393939] sm:justify-start sm:gap-1",children:n.map(o=>a.jsx("button",{onClick:()=>{s?.(o)},className:v("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase",t===o?"rounded-lg !border-token-border-light bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:!border-token-border-medium":"hover:text-token-text-secondary"),children:Pt[o].label},o))})}const Pt={"1d":{label:"1D",formatTimestampLabel:Xe,formatTimestampTooltip:Xe,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:Ke,formatTimestampTooltip:so,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:Ke,formatTimestampTooltip:no,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:de,formatTimestampTooltip:O,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:de,formatTimestampTooltip:O,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:de,formatTimestampTooltip:O,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:Je,formatTimestampTooltip:O,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:Je,formatTimestampTooltip:O,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function to(e){return e?Qa.filter(s=>s in e.quotes).find(s=>e.quotes[s].length>0):void 0}function L(e,t){return H(new Date(e*1e3),t??"America/New_York")}function Xe(e,t,s){const n=L(t,s);return e.formatTime(n,{hour:"numeric",minute:"numeric"})}function so(e,t,s){const n=L(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function O(e,t,s){const n=L(t,s);return e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}function de(e,t,s){const n=L(t,s);return e.formatDate(n,{month:"short",year:"numeric"})}function Ke(e,t,s){const n=L(t,s);return e.formatDate(n,{month:"short",day:"numeric"})}function no(e,t,s){const n=L(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric"})}function Je(e,t,s){const n=L(t,s);return e.formatDate(n,{year:"numeric"})}en.register(tn,sn,nn,an,on,rn,cn,ln,dn,Ja,un);const ao=100,Qe={color:"#b4b4b4",font:{size:10,weight:"600",family:"Menlo"}};function oo({isUp:e,histories:t,selectedInterval:s,setHighlightedPrice:n,latestTradingPeriod:o,timezone:r}){return a.jsx(a.Fragment,{children:t&&s&&o?a.jsx(ro,{isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:o,timezone:r,setHighlightedPrice:n}):a.jsx(U,{className:"h-full",index:1,width:100})})}function ro({isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:n,timezone:o,setHighlightedPrice:r}){const[i,l]=p.useState(null),[u,h]=p.useState(!1),d=s==="1d",c=p.useMemo(()=>{let g=t.quotes[s].filter(b=>b.close>=0);if(d&&n){const b=n.regular.start_timestamp,_=n.regular.end_timestamp;if(g=g.filter(T=>T.timestamp>=b&&T.timestamp<=_),g.length===0||g[g.length-1].timestamp<_){let R=g.length>0?g[g.length-1].timestamp:b-600;for(;R<_;)R+=600,g.push({timestamp:R,close:null})}}return g},[t,s,d,n]),f=Pt[s],{formatTimestampTooltip:m,maxTicksLimit:x,useUtc:w=!1}=f,N=k(),S=it(),D=Y(),A=p.useMemo(()=>{const{formatTimestampLabel:g,lineTension:b}=f;return{labels:c.map(_=>g(N,_.timestamp,w?"UTC":o)),datasets:[{data:c.map(_=>_.close),borderColor:e?G():X(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?G():X(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function(_){const{ctx:T,chartArea:R}=_.chart;if(R)return co(T,R,e)},fill:!0,borderWidth:2,lineTension:b??.4}]}},[f,c,e,w,o,N]);return a.jsx("div",{className:"flex h-full flex-col gap-6",children:a.jsxs("div",{className:"relative h-full",onMouseEnter:()=>h(!0),onMouseLeave:()=>{h(!1),r(null)},children:[a.jsx(hn,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:u?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:g=>{if(g.ticks.length>x)if(d)g.ticks=g.ticks.filter((b,_)=>c[_].timestamp%(S?3600:7200)===0);else{const b=Math.ceil(g.ticks.length/(x-1));g.ticks=g.ticks.filter((_,T)=>T>0&&(T%b===0||T===g.ticks.length-1))}},grid:{display:!1},ticks:{...Qe,align:"end"}},y:{ticks:{...Qe,maxTicksLimit:7},border:{display:!1},grid:{color:D?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(g){const b=g[0];if(!b)return"";const _=c[b.dataIndex]?.timestamp;return _?m(N,_,w?"UTC":o):""}},external:({tooltip:g})=>{u&&g.opacity>0&&r(W(g.dataPoints?.[0]?.parsed?.y??0)),l(b=>{const _=g.chart.width,T=g.caretX>_-ao;return!b||b.x!==g.caretX||b.y!==g.caretY||b.opacity!==g.opacity||b.flip!==T?{...b,x:g.caretX,y:g.caretY,dateLabel:g.title?.[0],value:W(g.dataPoints?.[0]?.parsed?.y??0),opacity:g.opacity,flip:T}:b})}},dropShadow:!1,crosshair:{line:{color:D?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:A}),a.jsx(io,{tooltipData:i})]})})}function io({tooltipData:e}){return!e||!e.opacity?null:a.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:v("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap rounded-lg bg-black px-2 py-1 font-mono font-semibold text-token-main-surface-primary dark:bg-token-main-surface-secondary dark:text-white"),children:a.jsx("div",{className:"text-xs",children:e.dateLabel})})}function co(e,t,s){const n=e.createLinearGradient(0,t.top,0,t.bottom);return n.addColorStop(0,s?G(.4):X(.4)),n.addColorStop(1,s?G(0):X(0)),n}function W(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function q({label:e,value:t}){return a.jsxs("div",{className:"flex w-max flex-1 flex-col gap-1 text-sm",children:[a.jsx("span",{className:"whitespace-nowrap font-normal text-token-text-secondary",children:e}),a.jsx("span",{className:"whitespace-nowrap font-semibold text-token-text-primary",children:t})]})}function lo({data:e}){const t=k();return a.jsxs("div",{className:"flex flex-col gap-1 rounded-xl pt-2",children:[a.jsx("div",{className:"py-2 text-sm font-semibold text-token-text-primary",children:t.formatMessage({id:"6MpNPe",defaultMessage:"Key Metrics"})}),a.jsx("hr",{className:"m-0 border-token-border-xlight"}),a.jsxs("div",{className:"flex w-full flex-row flex-wrap gap-8 py-3",children:[a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(q,{label:t.formatMessage({id:"MDHEj7",defaultMessage:"Open"}),value:t.formatNumber(e.openPrice,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx(q,{label:t.formatMessage({id:"uBKgbo",defaultMessage:"Day Range"}),value:t.formatMessage({id:"8LyBkV",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.intradayLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.intradayHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})})]}),a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(q,{label:t.formatMessage({id:"/h0itm",defaultMessage:"52 Week Range"}),value:t.formatMessage({id:"VkpWnl",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.fiftyTwoWeekLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.fiftyTwoWeekHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})}),a.jsx(q,{label:t.formatMessage({id:"PboNMC",defaultMessage:"Volume"}),value:t.formatNumber(e.intradayVolume,{notation:"compact",maximumFractionDigits:1})})]})]})]})}function uo({data:e,priceChange:t,highlightedPrice:s,extendedPriceChange:n,url:o}){function r(i,l="intraday",u=null){const{isUp:h,changePercentage:d,changeLabel:c,changeAmount:f}=i,m=Math.abs(d).toFixed(2),x=W(f);return a.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[l==="extended_hours"&&u!=null&&a.jsx("span",{className:"font-semibold",children:a.jsx(y,{id:"HWwWpW",defaultMessage:"{price}",values:{price:u}})}),a.jsx("span",{className:v("font-semibold",h?Ve:Ge),children:a.jsx(y,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:x,sign:h?"+":""}})}),a.jsx("span",{className:v("font-semibold",h?Ve:Ge),children:a.jsx(y,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:m,sign:h?"+":"-"}})}),l==="extended_hours"?a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:c}):a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:c})]})}return a.jsxs("div",{children:[a.jsx("div",{className:"mt-2 text-sm",children:e?a.jsx(y,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):a.jsx("div",{className:"w-32 font-medium",children:a.jsx(U,{index:9,width:100})})}),a.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?a.jsx(a.Fragment,{children:o!=null&&a.jsxs(a.Fragment,{children:[" · ",a.jsx(I,{href:o,className:"text-token-link hover:underline",children:we(o,"hostname")})]})}):a.jsx("div",{className:"mt-2 w-36",children:a.jsx(U,{index:6,width:100})})}),a.jsx("div",{className:"mt-2 flex text-4xl font-semibold",children:e?a.jsx(y,{id:"s+1uly",defaultMessage:"{price}",values:{price:s??W(e.price.price)}}):a.jsx("div",{className:"w-32",children:a.jsx(U,{index:0,width:100})})}),a.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:t?r(t):a.jsx("div",{className:"mt-2 w-40",children:a.jsx(U,{index:3,width:100})})}),a.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&n!=null&&r(n,"extended_hours",W(e.price.extended_price))})]})}function ho({contentReference:e,trackContentReferenceEvent:t}){const s=k();p.useEffect(()=>{t($.searchContentReferenceShown,"search_content_reference_shown","stock")},[t]);const n=to(e?.stock?.histories),o=e?.stock,[r,i]=p.useState(n),[l,u]=p.useState(null),h=r==="1d",d=o?.histories?.quotes?.[r??""]?.[0],c=r&&r in V?r:void 0,f=o&&(d&&!h?{changePercentage:(o.price.price-d.close)/d.close*100,changeAmount:o.price.price-d.close,changeLabel:c?s.formatMessage(V[c]):"",isUp:o.price.price>d.close}:o.price.change_percent&&o.price.change?{changePercentage:o.price.change_percent*100,changeAmount:o.price.change,changeLabel:fo(o.price.latest_trade_timestamp,o.asset.timezone,s),isUp:o.price.change?o.price.change>0:!1}:null),m=o&&o.price.extended_price!=null&&o.price.extended_change_percent!=null&&o.price.extended_change!=null?{changePercentage:o.price.extended_change_percent*100,changeAmount:o.price.extended_change,changeLabel:s.formatMessage(mo(o.price.market_status)??V.extended),isUp:o.price.extended_change>0}:null,{fiftyTwoWeekHigh:x,fiftyTwoWeekLow:w}=p.useMemo(()=>{const D=o?.histories?.quotes["1y"];if(!D)return{fiftyTwoWeekHigh:null,fiftyTwoWeekLow:null};const A=D.map(b=>b.high).filter(b=>b!=null),g=D.map(b=>b.low).filter(b=>b!=null);return{fiftyTwoWeekHigh:A.length>0?Math.max(...A):null,fiftyTwoWeekLow:g.length>0?Math.min(...g):null}},[o?.histories?.quotes]),N=o?.price.open_price&&o.price.intraday_high&&o.price.intraday_low&&o.price.intraday_volume&&x&&w?{openPrice:o.price.open_price,intradayHigh:o.price.intraday_high,intradayLow:o.price.intraday_low,intradayVolume:o.price.intraday_volume,fiftyTwoWeekHigh:x,fiftyTwoWeekLow:w}:null,S=N!=null;return a.jsxs("div",{className:v("flex flex-col gap-8",S?"min-h-[620px]":"h-[480px]"),children:[a.jsxs("div",{className:"flex flex-wrap items-end justify-between",children:[a.jsx(uo,{data:o??null,highlightedPrice:l,priceChange:f??null,extendedPriceChange:m??null,url:e?.url??null}),a.jsx("div",{className:"mt-4",children:a.jsx(eo,{selectedInterval:r,onSelectHistoryInterval:i,histories:o?.histories})})]}),a.jsx("div",{className:S?"h-[340px]":"h-full",children:a.jsx(oo,{isUp:f?.isUp??!1,selectedInterval:r,histories:o?.histories,setHighlightedPrice:u,onSelectHistoryInterval:D=>i(D),latestTradingPeriod:o?.asset.latest_trading_period,timezone:o?.asset.timezone??null})}),S&&a.jsx("div",{className:"-mt-4 mb-2",children:a.jsx(lo,{data:N})})]})}function mo(e){if(e==null)return null;const t=e.toLowerCase();return t==="premarket"||t==="open"?te({id:"By+pvF",defaultMessage:"Pre-Market"}):t==="afterhours"||t==="closed"?te({id:"aLCg3c",defaultMessage:"After Hours"}):te({id:"2p526c",defaultMessage:"Extended Hours"})}function fo(e,t,s){function n(o,r){const l=H(new Date,r),u=s.formatDate(l,{year:"numeric",month:"2-digit",day:"2-digit"}),h=ge(o*1e3),d=H(h,r),c=s.formatDate(d,{year:"numeric",month:"2-digit",day:"2-digit"});return u===c}if(!e||!t||n(e,t))return s.formatMessage(V["1d"]);{const o=ge(e*1e3),r=H(o,t);return s.formatDate(r,{month:"long",day:"numeric"})}}const V=be({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),po={google_maps:{title:"Google Maps"}};function go({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t($.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=po[e.provider]?.title??"Maps";return a.jsx("span",{children:a.jsx(y,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:a.jsx(I,{href:e.url,children:s})}})})}function xo({metadata:e,trackContentReferenceEvent:t}){return p.useEffect(()=>{e.items.length>0&&t($.searchContentReferenceShown,"search_content_reference_shown","nav_list")},[]),e.items.length===0?null:a.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&a.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((s,n)=>a.jsx(bo,{item:s,index:n,trackContentReferenceEvent:t},n))]})}function bo({item:e,index:t,trackContentReferenceEvent:s}){const{isSuccess:n}=bt(e.thumbnail_url??void 0),o={url:e.url,title:e.title,section_index:t,link_type:"text",section:"nav_list",section_location:"response"};p.useEffect(()=>{s($.linkAction,"link_action","nav_list",{...o,action:"show"})},[]);const i=k().locale,l=e.pub_date!=null?new Date(e.pub_date*1e3):null,u=new Intl.RelativeTimeFormat(i,{numeric:"auto"}),h=l?Math.max(Math.floor((Date.now()-l.getTime())/(1e3*60*60*24)),0):null;let d=h!=null?u.format(-h,"day"):null;return i.startsWith("en")&&d&&(d=d.charAt(0).toUpperCase()+d.slice(1)),a.jsxs(I,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{s($.linkAction,"link_action","nav_list",{...o,action:"click"})},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(xt,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??we(e.url)]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),d&&a.jsx("div",{className:"text-xs text-token-text-tertiary",children:d})]}),n&&e.thumbnail_url&&a.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:a.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const yo=5;function vo({sourcesFootnote:e,onShowSearchResults:t,trackContentReferenceEvent:s}){const n={urls:e.sources.map(o=>o.url).toString(),has_images:e.has_images};return p.useEffect(()=>{s($.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",n)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute h-[60px]",children:a.jsxs("button",{className:v("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{s($.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",n),t(Ls.Sources,e.sources.length>0?Te.Citations:Te.SearchResults)},children:[a.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:a.jsx(y,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&a.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,yo).reverse().map((o,r)=>a.jsx("div",{className:v("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:a.jsx(xt,{url:o.url,size:32,minSize:16,className:"icon-md"})},r))})]})}),a.jsx("div",{className:"h-[60px]"})]})}function E(e,t){const s=Rs(e),n=t<0?"-":"+",o=Math.abs(t),r=Math.floor(o/3600).toString().padStart(2,"0"),i=Math.floor(o%3600/60).toString().padStart(2,"0"),l=`${n}${r}:${i}`;return H(s,l)}function xe(e,t){if(Me(t))return a.jsx(y,{id:"wxni9H",defaultMessage:"Today"});const s=new Date;return s.setTime(s.getTime()+7*24*60*60*1e3),t<s&&t>new Date||Me(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const wo="webp",$o=250,jo=187,No="srgb",_o=4,ko="uchar",Co=72,So=!1,Po=!1,Do=!0,To="{{.assetPrefix}}/assets/missing-logo-h96s4tk9.webp",et={format:wo,width:$o,height:jo,space:No,channels:_o,depth:ko,density:Co,isProgressive:So,hasProfile:Po,hasAlpha:Do,src:To};function Dt({team:e,className:t}){const[s,n]=p.useState(e.logo??et.src),o=()=>{ct.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),n(et.src)};return a.jsx("img",{src:s,alt:e.name,className:t,onError:o})}const tt=6;function Mo({scheduleRef:e,trackContentReferenceEvent:t}){const[s,n]=p.useState(!0),o=k(),r=e.games.length>0;if(p.useEffect(()=>{r&&t($.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[r]),!r)return null;const l=(o.formatDateToParts(new Date,{timeZoneName:"long"}).find(c=>c.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let u=e.games;const h=c=>Math.abs(new Date().getTime()-new Date(c.date).getTime());h(u[0])>h(u[u.length-1])&&(u=u.slice().reverse());const d=s?u.slice(0,tt):u;return a.jsxs("div",{className:"not-prose mb-3",children:[a.jsx("div",{className:"font-semibold",children:a.jsx(y,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),a.jsx("div",{className:"text-sm text-token-text-secondary",children:l}),d.length===1?a.jsx("div",{children:a.jsx(Se,{children:a.jsx(he.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:a.jsx(Eo,{game:d[0]})})})})}):a.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:a.jsx(Se,{children:d.map((c,f)=>a.jsx(he.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:f*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:v("border-b border-token-border-medium py-3",f%2===0&&"lg:border-r lg:pr-4",f%2===1&&"lg:pl-4",Math.floor(f/2)===Math.ceil(u.length/2)-1&&"lg:border-b-0",f===u.length-1&&"border-b-0"),children:a.jsx(Ao,{game:c})})},f))})}),u.length>tt&&a.jsx("div",{className:"mt-2 flex items-center justify-between",children:a.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!s),children:s?a.jsx(y,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:a.jsx(zs,{className:"mb-[-2px]"})}}):a.jsx(y,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:a.jsx(Hs,{className:"mb-[-2px]"})}})})})]})}function Ao({game:e}){const t=Mt(e),s=[e.first_team_info,e.second_team_info],n=s.find(l=>l.location==="home")??e.first_team_info,o=s.find(l=>l.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,i=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[a.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pr-3",children:[a.jsx(K,{team:o.team,isWinner:i,logoSize:"small"}),a.jsx(K,{team:n.team,isWinner:r,logoSize:"small"})]}),a.jsxs("div",{className:"flex flex-none flex-col items-start gap-1",children:[a.jsx(J,{score:o.score,isWinner:i}),a.jsx(J,{score:n.score,isWinner:r})]}),a.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:a.jsx(At,{game:e})})]})}function Eo({game:e}){const t=Mt(e),s=[e.first_team_info,e.second_team_info],n=s.find(l=>l.location==="home")??e.first_team_info,o=s.find(l=>l.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,i=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full py-3 text-base",children:[a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(K,{team:o.team,isWinner:i})}),a.jsx("div",{className:"ml-8 flex items-center justify-start",children:a.jsx(J,{score:o.score,isWinner:i,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:a.jsx(At,{game:e})}),a.jsx("div",{className:"mr-8 flex items-center justify-end",children:a.jsx(J,{score:n.score,isWinner:r,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(K,{team:n.team,isWinner:r})})]})}function Tt(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function Mt(e){return Tt(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function K({team:e,isWinner:t,logoSize:s}){return a.jsxs("span",{className:v("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&a.jsx(Dt,{team:{name:e.name,logo:e.logo},className:v(s==="small"?"w-6":"w-8")}),a.jsx("span",{className:"truncate",children:e.name})]})}function J({score:e,isWinner:t,className:s}){return e==null?null:a.jsx("span",{className:v(t&&"font-semibold",s),children:e})}function At({game:e}){const t=k();switch(Tt(e)){case"live":return a.jsxs(a.Fragment,{children:[a.jsx(Io,{}),a.jsx("div",{children:e.details})]});case"complete":return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-semibold",children:a.jsx(y,{id:"q/iMZL",defaultMessage:"Final"})}),a.jsx("div",{className:"text-token-text-secondary",children:xe(t,new Date(e.date))})]});case"scheduled":{const s=new Date(e.date);return isNaN(s.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{children:xe(t,s)}),a.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(s,{timeStyle:"short"})})]})}}}function Io(){return a.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:a.jsx(y,{id:"vObALn",defaultMessage:"Live"})})}function Fo({standingsRef:e,trackContentReferenceEvent:t}){const[s,n]=p.useState(0),o=e.conferences.length>0;p.useEffect(()=>{o&&t($.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[o]);const r=e.conferences[s],i=e.conferences.length>1?e.conferences.map((l,u)=>a.jsx("button",{className:v(s===u?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(u),children:l.name},l.name)):null;return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"flex gap-4",children:i}),a.jsx("div",{className:"mt-3",children:r.divisions.map(l=>l.name?a.jsx("div",{className:"mt-3",children:a.jsx(st,{division:l,teamsColumnHeader:l.name})},l.name):a.jsx(st,{division:l}))})]})}function st({division:e,teamsColumnHeader:t}){const s=e.headers.map(n=>n.key);return a.jsxs(P.Root,{size:"compact",className:"not-prose",children:[a.jsxs(P.Header,{children:[a.jsx(Lo,{children:t??a.jsx(y,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(n=>a.jsx(Et,{textAlign:"center",className:"min-w-11 !px-0",children:a.jsx(nt,{data:n})},n.key))]}),a.jsx(P.Body,{children:e.teams.map(({team:n,data:o},r)=>{const i=o.reduce((l,u)=>(l[u.key]=u,l),{});return a.jsxs(P.Row,{children:[a.jsx(P.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:r+1}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsx(Dt,{team:n,className:"w-6"}),a.jsx("span",{className:"whitespace-nowrap text-base",children:n.name})]})]})}),s.map(l=>a.jsx(P.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:a.jsx(nt,{data:i[l]})},l))]},n.name)})})]})}function nt({data:e}){switch(e.type){case"text":return a.jsx(a.Fragment,{children:e.text});default:return a.jsx(a.Fragment,{children:e.alt})}}const Et=lt(P.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,Lo=lt(Et)`text-token-text-primary !pl-0`;function Ro({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t($.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=k(),n=H(e.utc_time,e.utc_offset),o=s.formatDate(n,{hour:"numeric",minute:"numeric"});return a.jsx("span",{children:o})}function zo({metadata:e,trackContentReferenceEvent:t}){return p.useEffect(()=>{t($.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),a.jsx("div",{children:e.url?a.jsx(rs,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:a.jsx(I,{href:e.url,className:"!font-semibold",children:e.description})}):a.jsx("div",{className:"!font-semibold",children:e.description})})}function Ho({url:e,className:t}){let s;const n="aspect-video w-full rounded-lg",o=Oo(e);o&&(s=a.jsx(Uo,{videoId:o,className:n}));const r=Wo(e);return r&&(s=a.jsx(Yo,{videoId:r,className:n})),s?a.jsx("div",{className:t,children:s}):null}function Oo(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,s=e.match(t);return s?s[1]:null}function Uo({videoId:e,className:t}){return a.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Wo(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,s=e.match(t);return s?s[1]:null}function Yo({videoId:e,className:t}){return a.jsx(a.Fragment,{children:a.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Bo({video:e,trackContentReferenceEvent:t}){const s={url:e.url,title:e.title};return p.useEffect(()=>{t($.searchContentReferenceShown,"search_content_reference_shown",e.type,s)},[]),e.url==null||e.url===""?null:a.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:a.jsx(Ho,{url:e.url})})}const Zo=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34354 4.92894C6.7341 5.31946 6.7341 5.95263 6.34354 6.34315C3.21906 9.46735 3.21906 14.5327 6.34354 17.6569C6.7341 18.0474 6.7341 18.6806 6.34354 19.0711C5.95298 19.4616 5.31976 19.4616 4.9292 19.0711C1.0236 15.1658 1.0236 8.83418 4.9292 4.92894C5.31976 4.53842 5.95298 4.53842 6.34354 4.92894ZM17.6583 4.92894C18.0488 4.53842 18.682 4.53842 19.0726 4.92894C22.9782 8.83418 22.9782 15.1658 19.0726 19.0711C18.682 19.4616 18.0488 19.4616 17.6583 19.0711C17.2677 18.6806 17.2677 18.0474 17.6583 17.6569C20.7827 14.5327 20.7827 9.46735 17.6583 6.34315C17.2677 5.95263 17.2677 5.31946 17.6583 4.92894Z",fill:"currentColor"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17222 7.75737C9.56278 8.14789 9.56278 8.78106 9.17222 9.17158C7.60998 10.7337 7.60998 13.2663 9.17222 14.8284C9.56278 15.219 9.56278 15.8521 9.17222 16.2426C8.78166 16.6332 8.14844 16.6332 7.75788 16.2426C5.41452 13.8995 5.41452 10.1005 7.75788 7.75737C8.14844 7.36684 8.78166 7.36684 9.17222 7.75737ZM14.8296 7.75737C15.2201 7.36684 15.8534 7.36684 16.2439 7.75737C18.5873 10.1005 18.5873 13.8995 16.2439 16.2426C15.8534 16.6332 15.2201 16.6332 14.8296 16.2426C14.439 15.8521 14.439 15.219 14.8296 14.8284C16.3918 13.2663 16.3918 10.7337 14.8296 9.17158C14.439 8.78106 14.439 8.14789 14.8296 7.75737Z",fill:"currentColor"}),p.createElement("path",{d:"M14.0011 12C14.0011 13.1046 13.1056 14 12.0009 14C10.8962 14 10.0007 13.1046 10.0007 12C10.0007 10.8954 10.8962 10 12.0009 10C13.1056 10 14.0011 10.8954 14.0011 12Z",fill:"currentColor"})),qo="webp",Vo=96,Go=96,Xo="srgb",Ko=4,Jo="uchar",Qo=288,er=!1,tr=!1,sr=!0,nr="{{.assetPrefix}}/assets/cloud-foggy-o4a3hmky.webp",ar={format:qo,width:Vo,height:Go,space:Xo,channels:Ko,depth:Jo,density:Qo,isProgressive:er,hasProfile:tr,hasAlpha:sr,src:nr},or="webp",rr=96,ir=96,cr="srgb",lr=4,dr="uchar",ur=288,hr=!1,mr=!1,fr=!0,pr="{{.assetPrefix}}/assets/cloudy-co8vwrk7.webp",gr={format:or,width:rr,height:ir,space:cr,channels:lr,depth:dr,density:ur,isProgressive:hr,hasProfile:mr,hasAlpha:fr,src:pr},xr="webp",br=96,yr=96,vr="srgb",wr=4,$r="uchar",jr=288,Nr=!1,_r=!1,kr=!0,Cr="{{.assetPrefix}}/assets/heavy-snow-mke52kag.webp",Sr={format:xr,width:br,height:yr,space:vr,channels:wr,depth:$r,density:jr,isProgressive:Nr,hasProfile:_r,hasAlpha:kr,src:Cr},Pr="webp",Dr=96,Tr=96,Mr="srgb",Ar=4,Er="uchar",Ir=288,Fr=!1,Lr=!1,Rr=!0,zr="{{.assetPrefix}}/assets/light-snow-mcy1l7t9.webp",Hr={format:Pr,width:Dr,height:Tr,space:Mr,channels:Ar,depth:Er,density:Ir,isProgressive:Fr,hasProfile:Lr,hasAlpha:Rr,src:zr},Or="webp",Ur=96,Wr=96,Yr="srgb",Br=4,Zr="uchar",qr=288,Vr=!1,Gr=!1,Xr=!0,Kr="{{.assetPrefix}}/assets/moon-drizzle-cplxr2ub.webp",Jr={format:Or,width:Ur,height:Wr,space:Yr,channels:Br,depth:Zr,density:qr,isProgressive:Vr,hasProfile:Gr,hasAlpha:Xr,src:Kr},Qr="webp",ei=96,ti=96,si="srgb",ni=4,ai="uchar",oi=288,ri=!1,ii=!1,ci=!0,li="{{.assetPrefix}}/assets/moon-hazy-jvgt25bp.webp",di={format:Qr,width:ei,height:ti,space:si,channels:ni,depth:ai,density:oi,isProgressive:ri,hasProfile:ii,hasAlpha:ci,src:li},ui="webp",hi=96,mi=96,fi="srgb",pi=4,gi="uchar",xi=288,bi=!1,yi=!1,vi=!0,wi="{{.assetPrefix}}/assets/moon-mostly-cloudy-cia3do0v.webp",$i={format:ui,width:hi,height:mi,space:fi,channels:pi,depth:gi,density:xi,isProgressive:bi,hasProfile:yi,hasAlpha:vi,src:wi},ji="webp",Ni=96,_i=96,ki="srgb",Ci=4,Si="uchar",Pi=288,Di=!1,Ti=!1,Mi=!0,Ai="{{.assetPrefix}}/assets/moon-mostly-sunny-n3mh1b6a.webp",Ei={format:ji,width:Ni,height:_i,space:ki,channels:Ci,depth:Si,density:Pi,isProgressive:Di,hasProfile:Ti,hasAlpha:Mi,src:Ai},Ii="webp",Fi=96,Li=96,Ri="srgb",zi=4,Hi="uchar",Oi=288,Ui=!1,Wi=!1,Yi=!0,Bi="{{.assetPrefix}}/assets/moon-shower-ntzhti9o.webp",Zi={format:Ii,width:Fi,height:Li,space:Ri,channels:zi,depth:Hi,density:Oi,isProgressive:Ui,hasProfile:Wi,hasAlpha:Yi,src:Bi},qi="webp",Vi=96,Gi=96,Xi="srgb",Ki=4,Ji="uchar",Qi=288,ec=!1,tc=!1,sc=!0,nc="{{.assetPrefix}}/assets/moon-sunny-eg2emh4d.webp",ac={format:qi,width:Vi,height:Gi,space:Xi,channels:Ki,depth:Ji,density:Qi,isProgressive:ec,hasProfile:tc,hasAlpha:sc,src:nc},oc="webp",rc=96,ic=96,cc="srgb",lc=4,dc="uchar",uc=288,hc=!1,mc=!1,fc=!0,pc="{{.assetPrefix}}/assets/rain-thunder-bx7a0l5g.webp",gc={format:oc,width:rc,height:ic,space:cc,channels:lc,depth:dc,density:uc,isProgressive:hc,hasProfile:mc,hasAlpha:fc,src:pc},xc="webp",bc=96,yc=96,vc="srgb",wc=4,$c="uchar",jc=288,Nc=!1,_c=!1,kc=!0,Cc="{{.assetPrefix}}/assets/rain-cxs76xuj.webp",Sc={format:xc,width:bc,height:yc,space:vc,channels:wc,depth:$c,density:jc,isProgressive:Nc,hasProfile:_c,hasAlpha:kc,src:Cc},Pc="webp",Dc=96,Tc=96,Mc="srgb",Ac=4,Ec="uchar",Ic=288,Fc=!1,Lc=!1,Rc=!0,zc="{{.assetPrefix}}/assets/sleet-gc63vwmo.webp",Hc={format:Pc,width:Dc,height:Tc,space:Mc,channels:Ac,depth:Ec,density:Ic,isProgressive:Fc,hasProfile:Lc,hasAlpha:Rc,src:zc},Oc="webp",Uc=96,Wc=96,Yc="srgb",Bc=4,Zc="uchar",qc=288,Vc=!1,Gc=!1,Xc=!0,Kc="{{.assetPrefix}}/assets/snow-d0k6tmmc.webp",Jc={format:Oc,width:Uc,height:Wc,space:Yc,channels:Bc,depth:Zc,density:qc,isProgressive:Vc,hasProfile:Gc,hasAlpha:Xc,src:Kc},Qc="webp",el=96,tl=96,sl="srgb",nl=4,al="uchar",ol=288,rl=!1,il=!1,cl=!0,ll="{{.assetPrefix}}/assets/sun-drizzle-g94obr5e.webp",dl={format:Qc,width:el,height:tl,space:sl,channels:nl,depth:al,density:ol,isProgressive:rl,hasProfile:il,hasAlpha:cl,src:ll},ul="webp",hl=96,ml=96,fl="srgb",pl=4,gl="uchar",xl=288,bl=!1,yl=!1,vl=!0,wl="{{.assetPrefix}}/assets/sun-hazy-c3z1j0hy.webp",$l={format:ul,width:hl,height:ml,space:fl,channels:pl,depth:gl,density:xl,isProgressive:bl,hasProfile:yl,hasAlpha:vl,src:wl},jl="webp",Nl=96,_l=96,kl="srgb",Cl=4,Sl="uchar",Pl=288,Dl=!1,Tl=!1,Ml=!0,Al="{{.assetPrefix}}/assets/sun-mostly-cloudy-d4o4zkga.webp",El={format:jl,width:Nl,height:_l,space:kl,channels:Cl,depth:Sl,density:Pl,isProgressive:Dl,hasProfile:Tl,hasAlpha:Ml,src:Al},Il="webp",Fl=96,Ll=96,Rl="srgb",zl=4,Hl="uchar",Ol=288,Ul=!1,Wl=!1,Yl=!0,Bl="{{.assetPrefix}}/assets/sun-mostly-sunny-livrdkgu.webp",Zl={format:Il,width:Fl,height:Ll,space:Rl,channels:zl,depth:Hl,density:Ol,isProgressive:Ul,hasProfile:Wl,hasAlpha:Yl,src:Bl},ql="webp",Vl=96,Gl=96,Xl="srgb",Kl=4,Jl="uchar",Ql=288,ed=!1,td=!1,sd=!0,nd="{{.assetPrefix}}/assets/sun-shower-lvtjthah.webp",ad={format:ql,width:Vl,height:Gl,space:Xl,channels:Kl,depth:Jl,density:Ql,isProgressive:ed,hasProfile:td,hasAlpha:sd,src:nd},od="webp",rd=96,id=96,cd="srgb",ld=4,dd="uchar",ud=288,hd=!1,md=!1,fd=!0,pd="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",gd={format:od,width:rd,height:id,space:cd,channels:ld,depth:dd,density:ud,isProgressive:hd,hasProfile:md,hasAlpha:fd,src:pd},xd="webp",bd=96,yd=96,vd="srgb",wd=4,$d="uchar",jd=288,Nd=!1,_d=!1,kd=!0,Cd="{{.assetPrefix}}/assets/thunder-jgjqg9ai.webp",Sd={format:xd,width:bd,height:yd,space:vd,channels:wd,depth:$d,density:jd,isProgressive:Nd,hasProfile:_d,hasAlpha:kd,src:Cd},Pd="webp",Dd=96,Td=96,Md="srgb",Ad=4,Ed="uchar",Id=288,Fd=!1,Ld=!1,Rd=!0,zd="{{.assetPrefix}}/assets/tornado-opa24tq3.webp",Hd={format:Pd,width:Dd,height:Td,space:Md,channels:Ad,depth:Ed,density:Id,isProgressive:Fd,hasProfile:Ld,hasAlpha:Rd,src:zd},Od="webp",Ud=96,Wd=96,Yd="srgb",Bd=4,Zd="uchar",qd=288,Vd=!1,Gd=!1,Xd=!0,Kd="{{.assetPrefix}}/assets/windy-mw0a3u21.webp",Jd={format:Od,width:Ud,height:Wd,space:Yd,channels:Bd,depth:Zd,density:qd,isProgressive:Vd,hasProfile:Gd,hasAlpha:Xd,src:Kd},Qd="webp",eu=96,tu=96,su="srgb",nu=4,au="uchar",ou=288,ru=!1,iu=!1,cu=!0,lu="{{.assetPrefix}}/assets/cloud-foggy-fhg0jn0w.webp",du={format:Qd,width:eu,height:tu,space:su,channels:nu,depth:au,density:ou,isProgressive:ru,hasProfile:iu,hasAlpha:cu,src:lu},uu="webp",hu=96,mu=96,fu="srgb",pu=4,gu="uchar",xu=288,bu=!1,yu=!1,vu=!0,wu="{{.assetPrefix}}/assets/cloudy-disd26f3.webp",$u={format:uu,width:hu,height:mu,space:fu,channels:pu,depth:gu,density:xu,isProgressive:bu,hasProfile:yu,hasAlpha:vu,src:wu},ju="webp",Nu=96,_u=96,ku="srgb",Cu=4,Su="uchar",Pu=288,Du=!1,Tu=!1,Mu=!0,Au="{{.assetPrefix}}/assets/heavy-snow-g6jjwo2d.webp",Eu={format:ju,width:Nu,height:_u,space:ku,channels:Cu,depth:Su,density:Pu,isProgressive:Du,hasProfile:Tu,hasAlpha:Mu,src:Au},Iu="webp",Fu=96,Lu=96,Ru="srgb",zu=4,Hu="uchar",Ou=288,Uu=!1,Wu=!1,Yu=!0,Bu="{{.assetPrefix}}/assets/light-snow-iz0efpkh.webp",Zu={format:Iu,width:Fu,height:Lu,space:Ru,channels:zu,depth:Hu,density:Ou,isProgressive:Uu,hasProfile:Wu,hasAlpha:Yu,src:Bu},qu="webp",Vu=96,Gu=96,Xu="srgb",Ku=4,Ju="uchar",Qu=288,eh=!1,th=!1,sh=!0,nh="{{.assetPrefix}}/assets/moon-drizzle-b1nfv39c.webp",ah={format:qu,width:Vu,height:Gu,space:Xu,channels:Ku,depth:Ju,density:Qu,isProgressive:eh,hasProfile:th,hasAlpha:sh,src:nh},oh="webp",rh=96,ih=96,ch="srgb",lh=4,dh="uchar",uh=288,hh=!1,mh=!1,fh=!0,ph="{{.assetPrefix}}/assets/moon-hazy-nfnzea7a.webp",gh={format:oh,width:rh,height:ih,space:ch,channels:lh,depth:dh,density:uh,isProgressive:hh,hasProfile:mh,hasAlpha:fh,src:ph},xh="webp",bh=96,yh=96,vh="srgb",wh=4,$h="uchar",jh=288,Nh=!1,_h=!1,kh=!0,Ch="{{.assetPrefix}}/assets/moon-mostly-cloudy-e56e3z55.webp",Sh={format:xh,width:bh,height:yh,space:vh,channels:wh,depth:$h,density:jh,isProgressive:Nh,hasProfile:_h,hasAlpha:kh,src:Ch},Ph="webp",Dh=96,Th=96,Mh="srgb",Ah=4,Eh="uchar",Ih=288,Fh=!1,Lh=!1,Rh=!0,zh="{{.assetPrefix}}/assets/moon-mostly-sunny-ffu4gzf4.webp",Hh={format:Ph,width:Dh,height:Th,space:Mh,channels:Ah,depth:Eh,density:Ih,isProgressive:Fh,hasProfile:Lh,hasAlpha:Rh,src:zh},Oh="webp",Uh=96,Wh=96,Yh="srgb",Bh=4,Zh="uchar",qh=288,Vh=!1,Gh=!1,Xh=!0,Kh="{{.assetPrefix}}/assets/moon-shower-e5dy9u48.webp",Jh={format:Oh,width:Uh,height:Wh,space:Yh,channels:Bh,depth:Zh,density:qh,isProgressive:Vh,hasProfile:Gh,hasAlpha:Xh,src:Kh},Qh="webp",em=96,tm=96,sm="srgb",nm=4,am="uchar",om=288,rm=!1,im=!1,cm=!0,lm="{{.assetPrefix}}/assets/moon-sunny-d9o08xiw.webp",dm={format:Qh,width:em,height:tm,space:sm,channels:nm,depth:am,density:om,isProgressive:rm,hasProfile:im,hasAlpha:cm,src:lm},um="webp",hm=96,mm=96,fm="srgb",pm=4,gm="uchar",xm=288,bm=!1,ym=!1,vm=!0,wm="{{.assetPrefix}}/assets/rain-thunder-eplemvu1.webp",$m={format:um,width:hm,height:mm,space:fm,channels:pm,depth:gm,density:xm,isProgressive:bm,hasProfile:ym,hasAlpha:vm,src:wm},jm="webp",Nm=96,_m=96,km="srgb",Cm=4,Sm="uchar",Pm=288,Dm=!1,Tm=!1,Mm=!0,Am="{{.assetPrefix}}/assets/rain-ogayr6kt.webp",Em={format:jm,width:Nm,height:_m,space:km,channels:Cm,depth:Sm,density:Pm,isProgressive:Dm,hasProfile:Tm,hasAlpha:Mm,src:Am},Im="webp",Fm=96,Lm=96,Rm="srgb",zm=4,Hm="uchar",Om=288,Um=!1,Wm=!1,Ym=!0,Bm="{{.assetPrefix}}/assets/sleet-o8noil7l.webp",Zm={format:Im,width:Fm,height:Lm,space:Rm,channels:zm,depth:Hm,density:Om,isProgressive:Um,hasProfile:Wm,hasAlpha:Ym,src:Bm},qm="webp",Vm=96,Gm=96,Xm="srgb",Km=4,Jm="uchar",Qm=288,ef=!1,tf=!1,sf=!0,nf="{{.assetPrefix}}/assets/snow-lq4cl3uc.webp",af={format:qm,width:Vm,height:Gm,space:Xm,channels:Km,depth:Jm,density:Qm,isProgressive:ef,hasProfile:tf,hasAlpha:sf,src:nf},of="webp",rf=96,cf=96,lf="srgb",df=4,uf="uchar",hf=288,mf=!1,ff=!1,pf=!0,gf="{{.assetPrefix}}/assets/sun-drizzle-htsohv65.webp",xf={format:of,width:rf,height:cf,space:lf,channels:df,depth:uf,density:hf,isProgressive:mf,hasProfile:ff,hasAlpha:pf,src:gf},bf="webp",yf=96,vf=96,wf="srgb",$f=4,jf="uchar",Nf=288,_f=!1,kf=!1,Cf=!0,Sf="{{.assetPrefix}}/assets/sun-hazy-nfj7clcd.webp",Pf={format:bf,width:yf,height:vf,space:wf,channels:$f,depth:jf,density:Nf,isProgressive:_f,hasProfile:kf,hasAlpha:Cf,src:Sf},Df="webp",Tf=96,Mf=96,Af="srgb",Ef=4,If="uchar",Ff=288,Lf=!1,Rf=!1,zf=!0,Hf="{{.assetPrefix}}/assets/sun-mostly-cloudy-e3pqqgs7.webp",Of={format:Df,width:Tf,height:Mf,space:Af,channels:Ef,depth:If,density:Ff,isProgressive:Lf,hasProfile:Rf,hasAlpha:zf,src:Hf},Uf="webp",Wf=96,Yf=96,Bf="srgb",Zf=4,qf="uchar",Vf=288,Gf=!1,Xf=!1,Kf=!0,Jf="{{.assetPrefix}}/assets/sun-mostly-sunny-o99k1c7a.webp",Qf={format:Uf,width:Wf,height:Yf,space:Bf,channels:Zf,depth:qf,density:Vf,isProgressive:Gf,hasProfile:Xf,hasAlpha:Kf,src:Jf},ep="webp",tp=96,sp=96,np="srgb",ap=4,op="uchar",rp=288,ip=!1,cp=!1,lp=!0,dp="{{.assetPrefix}}/assets/sun-shower-ldwl4jbp.webp",up={format:ep,width:tp,height:sp,space:np,channels:ap,depth:op,density:rp,isProgressive:ip,hasProfile:cp,hasAlpha:lp,src:dp},hp="webp",mp=96,fp=96,pp="srgb",gp=4,xp="uchar",bp=!1,yp=!1,vp=!0,wp="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",$p={format:hp,width:mp,height:fp,space:pp,channels:gp,depth:xp,isProgressive:bp,hasProfile:yp,hasAlpha:vp,src:wp},jp="webp",Np=96,_p=96,kp="srgb",Cp=4,Sp="uchar",Pp=288,Dp=!1,Tp=!1,Mp=!0,Ap="{{.assetPrefix}}/assets/thunder-xzn1cku3.webp",Ep={format:jp,width:Np,height:_p,space:kp,channels:Cp,depth:Sp,density:Pp,isProgressive:Dp,hasProfile:Tp,hasAlpha:Mp,src:Ap},Ip="webp",Fp=96,Lp=96,Rp="srgb",zp=4,Hp="uchar",Op=288,Up=!1,Wp=!1,Yp=!0,Bp="{{.assetPrefix}}/assets/tornado-diqu61wg.webp",Zp={format:Ip,width:Fp,height:Lp,space:Rp,channels:zp,depth:Hp,density:Op,isProgressive:Up,hasProfile:Wp,hasAlpha:Yp,src:Bp},qp="webp",Vp=96,Gp=96,Xp="srgb",Kp=4,Jp="uchar",Qp=288,eg=!1,tg=!1,sg=!0,ng="{{.assetPrefix}}/assets/windy-n2v8wtyp.webp",ag={format:qp,width:Vp,height:Gp,space:Xp,channels:Kp,depth:Jp,density:Qp,isProgressive:eg,hasProfile:tg,hasAlpha:sg,src:ng},og={foggy:{default:ar},cloudy:{default:gr},"heavy-snow":{default:Sr},"light-snow":{default:Hr},sleet:{default:Hc},drizzle:{default:dl,night:Jr},hazy:{default:$l,night:di},"mostly-cloudy":{default:El,night:$i},"mostly-sunny":{default:Zl,night:Ei},shower:{default:ad,night:Zi},sunny:{default:gd,night:ac},"rain-thunder":{default:gc},rain:{default:Sc},snow:{default:Jc},thunder:{default:Sd},tornado:{default:Hd},windy:{default:Jd}},rg={foggy:{default:du},cloudy:{default:$u},"heavy-snow":{default:Eu},"light-snow":{default:Zu},sleet:{default:Zm},drizzle:{default:xf,night:ah},hazy:{default:Pf,night:gh},"mostly-cloudy":{default:Of,night:Sh},"mostly-sunny":{default:Qf,night:Hh},shower:{default:up,night:Jh},sunny:{default:$p,night:dm},"rain-thunder":{default:$m},rain:{default:Em},snow:{default:af},thunder:{default:Ep},tornado:{default:Zp},windy:{default:ag}};function ig({weatherCode:e,isDarkMode:t,isNight:s}){const n=t?rg:og,o=cg(e),r=n[o];return r.night&&s?r.night:r.default}function cg(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const lg="C";function dg(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function at(e,t,s=lg){return e===s?`${Math.round(t)}°`:`${dg(e,t)}°`}const ug=7,ot=8,hg=p.memo(function({weatherResults:t,dateRange:s,turnIndex:n,trackContentReferenceEvent:o}){const[r,i]=jg(),l=pg(t);p.useEffect(()=>{o($.searchContentReferenceShown,"search_content_reference_shown","forecast")},[o]);const{daily:u,hourly:h,historical:d}=t;let c="daily";if(s||h&&u.length<2)c="hourly";else if(u.length>0)c="daily";else if(d&&d?.length>0)c="historical";else return null;return a.jsxs("div",{className:"relative",children:[l?a.jsxs(a.Fragment,{children:[a.jsx(fg,{weatherResults:t}),a.jsx(gg,{weatherResults:t,temperatureUnit:r,setTemperatureUnit:i})]}):a.jsx("div",{className:"absolute right-0 top-3 z-10 rounded bg-token-main-surface-primary",children:a.jsx(It,{onTemperatureUnitChange:i,temperatureUnit:r})}),a.jsx(vg,{turnIndex:n}),c==="hourly"&&a.jsx(xg,{weatherResults:t,temperatureUnit:r,dateRange:s}),c==="daily"&&a.jsx(bg,{dailyForecast:u.slice(0,ug),temperatureUnit:r}),c==="historical"&&a.jsx(yg,{historical:d,temperatureUnit:r})]})});function mg({weatherAlert:e}){const[t,s]=p.useState(!1),n=k(),o=it(),r=E(e.start_timestamp,e.utc_offset_sec),i=e.end_timestamp?E(e.end_timestamp,e.utc_offset_sec):null,l=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx(y,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:n.formatDate(r,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:i?" - ":"",end:i?n.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),a.jsx("div",{children:e.summary})]});return a.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-left text-sm text-red-800",onClick:()=>s(!t),children:[a.jsxs("div",{className:"flex w-full items-center gap-4",children:[a.jsx(mn,{className:"h-9 w-9 shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"font-bold",children:a.jsx(y,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),o&&l]}),a.jsx("div",{className:"flex-grow"}),a.jsx("div",{className:"opacity-30",children:t?a.jsx(pn,{className:"icon-lg"}):a.jsx(fn,{className:"icon-lg"})})]}),t&&e.details&&a.jsxs(a.Fragment,{children:[!o&&l,a.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function fg({weatherResults:e}){const{severe:t}=e;return t?a.jsx("div",{className:"my-2",children:t.map((s,n)=>a.jsx(mg,{weatherAlert:s},n))}):null}function pg(e){const{historical:t,daily:s,hourly:n,current:o}=e;if(!o)return!1;let r=!1;const i=E(o.timestamp,o.utc_offset_sec);for(const l of[t,s,n])l&&(r=r||l?.some(u=>Os(i,E(u.timestamp,u.utc_offset_sec))));return r}function gg({weatherResults:e,temperatureUnit:t,setTemperatureUnit:s}){const n=k(),{current:o}=e;if(!o)return null;const r=o.temperature.current,i=o.description,l=r!=null&&i&&" · ";return a.jsxs("div",{className:"not-prose flex items-center gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[r!=null&&a.jsx(y,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:F(n,r,t)}}),l,i.description]}),a.jsx("div",{className:"text-token-text-secondary",children:$g(e.location)})]}),a.jsxs("div",{className:"flex",children:[a.jsx(It,{onTemperatureUnitChange:s,temperatureUnit:t}),a.jsx(Ce,{weatherDescriptionData:i,isNight:o.night})]})]})}function ke({children:e}){return a.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:a.jsx(P.Root,{className:"min-w-0",children:a.jsx(P.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:e})})})}function xg({weatherResults:e,temperatureUnit:t,dateRange:s}){const n=k(),{hourly:o,current:r}=e;let i=o??[];s&&(i=i.filter(d=>d.timestamp>=s.start_timestamp&&d.timestamp<s.end_timestamp));const[l,u]=p.useState(!1),h=i.length>ot;if(!l&&h){const d=i[0],c=E(d.timestamp,d.utc_offset_sec);let f=!1;if(r){const m=E(r.timestamp,r.utc_offset_sec);c.getTime()-m.getTime()>8*60*60*1e3&&i.length>18&&(i=i.slice(7,18),f=!0)}f||(i=i.slice(0,ot))}return a.jsxs(ke,{children:[i.map((d,c)=>a.jsxs(P.Row,{children:[a.jsxs(M,{className:"w-44",children:[a.jsx(Ce,{weatherDescriptionData:d.description,isNight:d.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:a.jsx("span",{className:"lowercase",children:wg(n,d)})})]}),a.jsx(M,{className:"w-[60px] tabular-nums",children:a.jsx("div",{children:F(n,d.temperature.current,t)})}),a.jsx(M,{children:d.description.description})]},c)),h&&a.jsx(P.Row,{children:a.jsx(M,{className:"w-44",children:a.jsx(dt,{color:"secondary",onClick:()=>u(!l),size:"small",children:l?a.jsx(y,{id:"KoC8Ym",defaultMessage:"Show less"}):a.jsx(y,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function bg({dailyForecast:e,temperatureUnit:t}){const s=k();return a.jsx(ke,{children:e.map((n,o)=>a.jsxs(P.Row,{children:[a.jsxs(M,{className:"w-[7.5rem] min-w-[7.5rem]",children:[a.jsx(Ce,{weatherDescriptionData:n.description,isNight:n.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:xe(s,E(n.timestamp,n.utc_offset_sec))})]}),a.jsxs(M,{className:"tabular-nums",children:[a.jsx("div",{children:F(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:F(s,n.temperature.min,t)})]}),a.jsx(M,{className:"min-w-80",children:n.description.description})]},o))})}function yg({historical:e,temperatureUnit:t}){const s=k();return e?a.jsx(ke,{children:e.map((n,o)=>{const r=E(n.timestamp,n.utc_offset_sec);return a.jsxs(P.Row,{children:[a.jsx(M,{className:"w-[250px]",children:a.jsx("div",{className:"ml-3 whitespace-nowrap",children:s.formatDate(r,{weekday:"long",month:"short",day:"numeric"})})}),a.jsx(M,{className:"tabular-nums",children:n.temperature.max&&n.temperature.min?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:F(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:F(s,n.temperature.min,t)})]}):a.jsx("div",{children:F(s,n.temperature.current,t)})}),a.jsx(M,{})]},o)})}):null}function M({className:e,children:t}){return a.jsx(P.Cell,{className:v("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:t})}function vg({turnIndex:e}){const t=$s(n=>n.thread?.turns[e]?.use_location),[s]=ys();return!s.useLocation&&t?a.jsx("div",{className:"mt-3",children:a.jsx(dt,{color:"secondary",icon:Zo,onClick:()=>{vs.setSettingsModalOpen(!0)},children:a.jsx(y,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function It({temperatureUnit:e,onTemperatureUnitChange:t}){const s=n=>e===n?"font-bold":"font-light";return a.jsx(Xt,{size:"small",triggerButton:a.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:a.jsx(Us,{className:"icon-sm-heavy"})}),children:a.jsxs(Kt.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[a.jsx(y,{id:"bQIoe/",defaultMessage:"Temperature"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:s("F"),children:a.jsx(y,{id:"bvDeBB",defaultMessage:"°F"})}),a.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),a.jsx("div",{className:s("C"),children:a.jsx(y,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function Ce({weatherDescriptionData:e,isNight:t=!1,size:s="normal"}){const n=Y(),o=s==="small"?30:50;return a.jsx("img",{draggable:!1,alt:e.description,src:ig({weatherCode:e.id,isDarkMode:n,isNight:t}).src,width:o,height:o})}function wg(e,t){const s=E(t.timestamp,t.utc_offset_sec);return e.formatDate(s,{hour:"numeric"})}function F(e,t,s){return t==null?"-":at(s?s??"F":Ft(e),t)}function Ft(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],s=e.locale||"en-US";return t.includes(s)?"F":"C"}function $g(e){const t=e.name.split(",").map(s=>s.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const jg=()=>{const e=k(),[t,s]=ws("USER_TEMPERATURE_UNIT",Ft(e),n=>["F","C"].includes(n));return[t,s]},Ng=Jt(()=>Qt(()=>import("./ngyz1fdnjgl008d3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(e=>e.BusinessesMap));function _g({index:e,FormattedText:t,node:s}){const n=parseInt(e,10),o=p.useContext(ee),{value:r}=ut("756982148"),i=Ws(o?.analyticsMetadata);if(o==null)return null;const{contentReferences:l,onShowSearchResults:u,numImageResults:h,analyticsMetadata:d}=o,c=l?.[n],f=d?.clientThreadId==null;if(!c||d.turnIndex===void 0||c.type===void 0)return null;let m=null;switch(c.type){case"title_citation":m=a.jsx(zo,{metadata:c,trackContentReferenceEvent:i});break;case"location_search":m=a.jsx(go,{metadata:c,trackContentReferenceEvent:i});break;case"time":m=a.jsx(Ro,{metadata:c,trackContentReferenceEvent:i});break;case"image_v2":m=a.jsx(_t,{metadata:c,numImageResults:h??0,analyticsMetadata:d,trackContentReferenceEvent:i});break;case"nav_list":m=a.jsx(xo,{metadata:c,trackContentReferenceEvent:i});break;case"file_navlist":m=a.jsx(Pa,{metadata:c,trackContentReferenceEvent:i});break;case"file":m=a.jsx(_a,{fileRef:c,index:n,trackContentReferenceEvent:i});break;case"grouped_webpages_model_predicted_fallback":m=a.jsx(cs,{webpageRef:c,node:s,trackContentReferenceEvent:i,messageId:o.message.id});break;case"grouped_webpages":m=a.jsx(is,{webpageRef:c,node:s,trackContentReferenceEvent:i,messageId:o.message.id});break;case"tldr":m=r?a.jsx(Ee,{navigation:{...c,type:"navigation",domains:[{title:c.page_title,subtitle:c.display_title,domain:c.breadcrumbs[0],url:c.url,sub_domains:[]}]},onShowSearchResults:u,trackContentReferenceEvent:i}):a.jsx(Ys,{tldr:c,trackContentReferenceEvent:i});break;case"navigation":m=a.jsx(Ee,{navigation:c,onShowSearchResults:u,trackContentReferenceEvent:i});break;case"stock":m=a.jsx(ho,{contentReference:c,trackContentReferenceEvent:i});break;case"calculator":m=a.jsx(ba,{data:c,trackContentReferenceEvent:i});break;case"code_execution":m=a.jsx($a,{FormattedText:t,displayInfo:c,trackContentReferenceEvent:i});break;case"forecast":m=c?.forecast&&a.jsx(hg,{weatherResults:c.forecast,dateRange:c.date_range,turnIndex:d.turnIndex,trackContentReferenceEvent:i});break;case"businesses_map":m=a.jsx(Ng,{contentReference:c,trackContentReferenceEvent:i});break;case"video":m=a.jsx(Bo,{video:c,trackContentReferenceEvent:i});break;case"sources_footnote":m=a.jsx(vo,{sourcesFootnote:c,onShowSearchResults:u,trackContentReferenceEvent:i,isSearchGptApp:f});break;case"sports_standings":m=a.jsx(Fo,{standingsRef:c,trackContentReferenceEvent:i});break;case"sports_schedule":m=a.jsx(Mo,{scheduleRef:c,trackContentReferenceEvent:i});break;case"attribution":m=a.jsx(ha,{attribution:c});break;case"debug":m=a.jsx(a.Fragment,{children:Object.entries(c).map(([x,w])=>a.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:w},x))});break;case"image_inline":m=a.jsx(da,{reference:c,messageId:o.message.id,clientThreadId:o.clientThreadId,trackContentReferenceEvent:i});break;case"product_reviews":m=!1;break}return a.jsx(ye,{name:"content-reference-renderer",fallback:x=>(i($.searchContentReferenceFailed,"search_content_reference_failed",c.type),ct.addError("Error rendering content reference",x),c?.alt?a.jsx(Ne,{components:{img:({src:w,alt:N})=>a.jsx("img",{src:w,alt:N,className:"max-h-28"})},children:c.alt}):a.jsx("span",{className:`errored-object-${c.type}`})),children:m})}function kg(e){const{src:t,clientThreadId:s,...n}=e,o=ns(s),r=p.useContext(ee),i=bs(o,t,r?.useSafeUrls);return i==null?a.jsx("div",{}):a.jsx("img",{...n,src:i})}function Cg(e){return a.jsx(_g,{...e,FormattedText:Sg})}function Sg({size:e="medium",children:t,className:s,clientThreadId:n,messageId:o,interpolateCitations:r=!1,componentOverrides:i}){const l=Y(),u=es(),h=p.useMemo(()=>({pre:({children:c,"data-start":f,"data-end":m,"data-is-last-node":x})=>a.jsx("pre",{className:"!overflow-visible","data-start":f,"data-end":m,"data-is-last-node":x,children:c}),code:c=>a.jsx(ls,{...c,clientThreadId:n}),[ts]:Cg,[ds]:us,a:c=>{const{node:f,children:m,...x}=c,w=f?.properties?.href;if(typeof w=="string"&&w.startsWith(De))return u?a.jsx(hs,{...x}):n!=null&&o!=null?a.jsx(ms,{...x,clientThreadId:n,messageId:o,href:w,children:m}):null;if(typeof w=="string"&&w===fs){const N=f?.children?.map(S=>typeof S.value=="string"?S.value:"").join("").trim();return a.jsx(ps,{...c,text:N,clientThreadId:n,messageId:o,className:"cursor-pointer"})}return w&&typeof w=="string"&&oa(w)?m:a.jsx(gs,{...c,clientThreadId:n,messageId:o,interpolateCitations:r})},td:({children:c})=>a.jsx("td",{children:p.Children.map(c,(f,m)=>f==="<br>"?a.jsx("br",{},m):f)}),img:({node:c,...f})=>{const m=c?.properties?.src;return typeof m=="string"&&(m.startsWith(De)||m.startsWith("attachment:"))?null:a.jsx(kg,{...f,clientThreadId:n})},...i}),[i,n,o,r,u]),{value:d}=ut("1839283687");return d?!1:a.jsx(ye,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:t}),children:a.jsx(Tg,{rehypePlugins:ht,remarkPlugins:ve,className:v(s,"markdown prose w-full break-words dark:prose-invert",l?"dark":"light",e==="small"&&"prose-xs"),urlTransform:mt,components:h,children:t})})}function Pg(e,t,s=void 0){return e===as.SystemHint?a.jsx("span",{className:"hint-pill",children:t},s):null}function Kg({text:e,customSymbolOffsets:t}){return a.jsx(ye,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:e}),children:a.jsx(Dg,{text:e,customSymbolOffsets:t})})}const Dg=({text:e,customSymbolOffsets:t=[]})=>{const s=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let n=0;const o=e.split(s).flatMap((r,i)=>{const l=n;if(n+=r.length,r.startsWith("```")&&r.endsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3,-3).trim()})},i);if(r.startsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3).trim()})},i);if(r.startsWith("`")&&r.endsWith("`"))return a.jsx("code",{children:r.slice(1,-1)},i);if(r.startsWith("`"))return a.jsx("code",{children:r.slice(1)},i);{const u=t.map(h=>ss(h)).find(h=>l<=h.startIndex&&h.endIndex<=n);if(u){const h=u.startIndex-l,d=u.endIndex-l,c=r.slice(0,h),f=r.slice(d),m=r.slice(h,d);return[c,Pg(u.symbol,m,i),f].filter(x=>!!x)}return r}});return a.jsx("div",{className:"whitespace-pre-wrap",children:o})};async function Jg(e){const s=await Ks().use(Js).use(ve).use(Qs).use(xs).use(aa).process(e);return String(s)}const Tg=p.memo(Ne);export{Sg as FormattedText,Kg as UserFormattedText,Jg as markdownToHtml};
//# sourceMappingURL=dd3yfk3qb5zypzqq.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fsggdikugeugivk2.js","assets/cg166fqqcxkeiosv.js"])))=>i.map(i=>d[i]);
import{c as L,r as u,j as e,aw as c0,au as F,d as m0}from"./cg166fqqcxkeiosv.js";import{dS as x0,gP as g0,gQ as $,cA as u0,cs as f0,cB as h0,ct as p0,cv as k0,d as E,cz as y0,bW as b0,bT as T,fR as I0,h as a0,bl as v0,bm as w0,bV as H,bP as s0,ex as j0,M as M0,fD as C0,ad as S0,ai as E0,dc as N0,b$ as U,I as _0,Q as D0,ab as V0,bh as t0,S as q,a as G,P as Q,C as F0,ei as A0}from"./dze2l9y9kn6nwat0.js";import{S as P0}from"./3qaegw5tahuvxmqt.js";import{bJ as T0,h1 as O0,dq as L0,dM as R0,bP as G0,j6 as B0,j7 as A,cq as z,cp as z0,a7 as W0,j8 as $0,cc as H0,bI as U0,dx as q0,iJ as Q0,gH as i0,gJ as n0,dH as o0,j9 as J0,bO as J,cU as K0,Q as X0}from"./j4xe1fdohr6xk09p.js";import{E as Y0}from"./o3ts9y7n7vziy25l.js";import{u as Z0,I as ee}from"./a18jwh9lzr2ddmbd.js";import{T as O,g as ae,u as se}from"./jky4nhpbj4n3xuh7.js";import"./kb3phtht4s5rhb60.js";import"./h83rc28v2vsm5nda.js";import"./gzm2pyuieq14d2cd.js";const te={enter:a=>({zIndex:0,x:a===-1?"10%":"-10%",opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:a=>({zIndex:0,x:a===1?"10%":"-10%",opacity:0})},ie={enter:{opacity:0,y:"10%"},visible:{opacity:1,y:0},exit:{opacity:0,y:"10%"}},K=1e3,X=1e3,Y=(a,s)=>Math.abs(a)*s;function ne(a){const s=L(),i=x0(),n=g0(),c=[$.Small,$.Mobile].includes(n),[f,m]=u.useState({width:0,height:0}),[o,d]=u.useState(!1),[r,x]=u.useState(a.image),[M,N]=u.useState(!1),D=f.width>0&&f.height>0,_=u.useRef(null),[k,y]=u.useState(0);u.useEffect(()=>{if(!r.url)throw new Error("ExpandableImage requires a src");const t=new Image;t.onload=()=>{m({width:t.naturalWidth,height:t.naturalHeight})},t.onerror=()=>{},t.src=r.url},[r.url]),u.useEffect(()=>{const t=_.current;if(M)return t?.addEventListener("keydown",b),()=>{t?.removeEventListener("keydown",b)};x(a.image)},[M]);function v(){x(t=>{const p=(a.images.findIndex(w=>w.url===t.url)+1)%a.images.length;return a.images[p]}),y(-1)}function C(){x(t=>{const h=a.images.findIndex(w=>w.url===t.url),p=h>0?(h-1)%a.images.length:a.images.length-1;return a.images[p]}),y(1)}function g(t){N(t),t&&a.onOpen?.(r)}function b(t){t.key==="ArrowLeft"?C():t.key==="ArrowRight"&&v()}const I=a.images.findIndex(t=>t.url===r.url);return e.jsxs(u0,{onOpenChange:g,children:[e.jsx(f0,{disabled:!D,className:a.className,"aria-label":s.formatMessage(V.showImage),children:a.children}),e.jsx(h0,{container:i?.document.body,children:e.jsx(p0,{className:"fixed inset-0 z-20 flex items-center justify-center bg-black/90 backdrop-blur-xl radix-state-open:animate-show",children:e.jsxs(k0,{className:E("relative flex h-[100dvh] w-screen justify-stretch divide-x divide-white/10 focus:outline-none radix-state-open:animate-contentShow"),ref:_,children:[e.jsx("div",{className:E("flex flex-1 transition-[flex-basis]",!o&&"md:basis-[75vw]"),children:e.jsxs("div",{className:"flex flex-1 flex-col md:p-6",children:[e.jsxs("div",{className:"flex justify-between px-6 py-2 pt-6 text-white sm:mb-4 md:mt-2 md:px-0 md:py-2",children:[e.jsx(y0,{asChild:!0,children:e.jsx("button",{"aria-label":s.formatMessage(V.closeModal),children:e.jsx(b0,{})})}),e.jsx("div",{children:!c&&e.jsxs(e.Fragment,{children:[a.getActions?.(r)?.map((t,h)=>e.jsx(T,{color:"ghost",size:"small",onClick:t.onClick,"aria-label":t.ariaLabel,disabled:t.disabled,icon:t.icon},h)),e.jsx(T,{color:"ghost",size:"small",onClick:()=>d(t=>!t),"aria-label":s.formatMessage(V.toggleSidebar),className:"md:inline-flex",icon:T0})]})})]}),e.jsx("div",{className:"relative flex flex-1 flex-col items-center justify-center overflow-hidden",children:e.jsx(c0,{initial:!1,custom:k,children:e.jsxs(F.div,{className:"absolute grid h-full w-full grid-rows-2",custom:k,variants:te,drag:"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(t,{offset:h,velocity:p})=>{const w=Y(h.x,p.x);w<-K?v():w>K&&C()},children:[e.jsx(F.img,{src:r.url,alt:r.alt,className:"row-span-4 mx-auto h-full object-scale-down",onPanEnd:(t,{offset:h,velocity:p})=>{const w=Y(h.y,p.y);w<-X?d(!0):w>X&&d(!1)}},r.url),c&&o&&e.jsx(F.div,{className:"flex text-white",variants:ie,initial:"enter",animate:"visible",exit:"exit",transition:{y:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},children:a.metadataRenderer(r)})]},r.url)})}),a.images.length>1?e.jsxs("div",{className:"flex items-center justify-center gap-4 p-8 text-white",children:[e.jsx(T,{color:"ghost",size:"small",onClick:C,"aria-label":s.formatMessage(V.previousImage),icon:I0}),a.images.map((t,h)=>e.jsx("img",{src:t.url,alt:t.alt??"",className:E("h-12 w-12 cursor-pointer rounded object-cover transition duration-300 hover:opacity-100",t.url===r.url?"ring-2 ring-white ring-offset-4 ring-offset-black":"opacity-25"),onClick:()=>{x(t),y(h<I?1:-1)},"aria-label":s.formatMessage(V.showImage),role:"button"},t.url)),e.jsx(T,{color:"ghost",size:"small",onClick:v,"aria-label":s.formatMessage(V.nextImage),icon:P0})]}):null]})}),e.jsx("div",{className:E("hidden items-center justify-start overflow-hidden bg-gray-900 text-white transition-[flex-basis] duration-500 md:flex",o?"md:basis-[25vw]":"md:basis-0"),children:e.jsx("div",{className:"w-[25vw] min-w-[25vw]",children:a.metadataRenderer(r)})})]})})})]})}const V=a0({showImage:{id:"imageViewer.showImage",defaultMessage:"Show Image"},closeModal:{id:"imageViewer.closeModal",defaultMessage:"Close Modal"},toggleSidebar:{id:"imageViewer.toggleSidebar",defaultMessage:"Toggle Sidebar"},nextImage:{id:"imageViewer.nextImage",defaultMessage:"Next Image"},previousImage:{id:"imageViewer.previousImage",defaultMessage:"Previous Image"}});function B({icon:a,selected:s,onClick:i}){return e.jsx("button",{className:E("flex h-8 w-8 items-center justify-center rounded",s?"bg-gray-100":"bg-black/50 hover:opacity-70"),onClick:i,disabled:s,children:e.jsx(a,{className:E("icon-md",s?"text-gray-700":"text-white")})})}const oe=v0(()=>w0(()=>import("./fsggdikugeugivk2.js"),__vite__mapDeps([0,1])));function re(a){const s=a.matchTextColor??!0,i=u.useRef(null),[n,c]=u.useState(null);u.useEffect(()=>{if(!i.current||!s)return;const m=()=>{i.current&&c(getComputedStyle(i.current).color)},o=new MutationObserver(()=>{m()});return o.observe(window.document.documentElement,{attributes:!0,attributeFilter:["class","style"]}),o.observe(i.current,{attributes:!0,attributeFilter:["class","style"]}),m(),()=>o.disconnect()},[s]);const f=u.useMemo(()=>{if(!s)return a.animationData;const m=n?.match(/\d+/g)?.map(Number).map(d=>d/255);if(!m)return null;m.push(1);const o=a.animationData;return"layers"in o&&Array.isArray(o.layers)&&o.layers.forEach(d=>{"ty"in d&&d.ty===4&&"shapes"in d&&Array.isArray(d.shapes)&&d.shapes.forEach(r=>{"it"in r&&Array.isArray(r.it)&&r.it.forEach(x=>{x.ty==="fl"&&(x.c.k=m)})})}),o},[a.animationData,n,s]);return e.jsx("div",{ref:i,className:a.className,children:e.jsx(oe,{animationData:f,loop:!0,autoplay:!0},n)})}const le="5.7.5",de=100,ce=0,me=400,xe=20,ge=20,ue="Comp 1",fe=0,he=[],pe=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:1,k:[{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[90],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:150,s:[180],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:250,s:[180],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:300,s:[270],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:350,s:[360],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},p:{a:0,k:[10,10],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"moon",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[2.66029,2.2502500000000003],[2.94257,2.2253300000000005],[3.16411,2.15946],[3.3642200000000004,2.1007100000000003],[3.4624800000000002,2.13988],[3.5,2.24491],[3.48749,2.3303700000000003],[3.45176,2.4336200000000003],[3.17483,2.87157],[2.79071,3.2080400000000004],[2.32261,3.42523],[1.8027100000000003,3.5],[1.08448,3.36648],[.5109700000000004,2.9926200000000005],[.13400000000000034,2.4229400000000005],[0,1.70727],[.13935999999999993,1.0129700000000001],[.5306300000000004,.4290440000000002],[1.1219999999999999,.03738600000000025],[1.2095500000000001,.00890100000000027],[1.2881600000000004,2220446049250313e-31],[1.4007100000000001,.042726000000000264],[1.4435900000000004,.14954200000000017],[1.4275099999999998,.23855500000000018],[1.3864200000000002,.33290900000000023],[1.3256800000000002,.49313300000000027],[1.2881600000000004,.6960800000000003],[1.2756499999999997,.9150600000000002],[1.3703399999999997,1.4722800000000003],[1.6472699999999998,1.8942000000000003],[2.0832100000000002,2.15946],[2.66029,2.2502500000000003],[2.66029,2.2502500000000003],[2.66029,2.2502500000000003]],i:[[0,0],[-.09170999999999996,.016619999999999635],[-.05597999999999992,.027300000000000324],[-.05837000000000003,0],[-.02382000000000062,-.02610999999999919],[0,-.04390999999999945],[.00833999999999957,-.03204999999999991],[.016680000000000028,-.03678999999999988],[.1131599999999997,-.13056],[.14412000000000003,-.09376000000000051],[.16795000000000027,-.04985000000000017],[.17985000000000007,0],[.21915999999999958,.08901000000000003],[.16317999999999966,.16141999999999967],[.08932999999999947,.2183799999999998],[0,.25873999999999997],[-.09290999999999983,.21957000000000004],[-.16794000000000064,.16853600000000002],[-.22510999999999992,.09138599999999997],[-.026209999999999845,.005934999999999913],[-.025020000000000486,0],[-.02739000000000047,-.028484000000000065],[0,-.04272599999999993],[.010720000000000063,-.030856999999999912],[.017869999999999386,-.03323100000000001],[.01666999999999952,-.06290200000000001],[.008329999999999949,-.07357999999999998],[0,-.07359000000000004],[-.06312999999999924,-.16497000000000006],[-.12029999999999941,-.11630999999999991],[-.17032999999999987,-.06170999999999971],[-.21321000000000012,0],[0,0],[0,0]],o:[[.09647000000000006,0],[.09172000000000047,-.016620000000000523],[.07504000000000044,-.03915999999999986],[.041679999999999495,0],[.025009999999999977,.026110000000000078],[0,.02493000000000034],[-.00714000000000059,.03204000000000029],[-.07146000000000008,.16141000000000005],[-.11195999999999984,.1305500000000004],[-.14412000000000003,.09493999999999936],[-.1667500000000004,.04985000000000017],[-.2596600000000002,0],[-.21916000000000047,-.0878300000000003],[-.16198000000000068,-.16141000000000005],[-.08933000000000035,-.21838000000000068],[0,-.24329999999999985],[.0929000000000002,-.22075],[.16913,-.16971899999999995],[.03216000000000019,-.013056000000000068],[.02738999999999958,-.005933999999999995],[.04763999999999946,0],[.02858999999999945,.028484999999999983],[0,.028484000000000065],[-.009520000000000195,.02967200000000003],[-.02382000000000062,.04391400000000001],[-.016680000000000028,.06171700000000002],[-.008340000000000458,.07240000000000002],[0,.20650999999999997],[.06432000000000038,.16496999999999984],[.1203000000000003,.11512999999999995],[.1715099999999996,.06052999999999997],[0,0],[0,0],[.09647000000000006,0]]}}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3843137254901961,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[3.75,5.5],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:1,k:[{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[0],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:140,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:250,s:[100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:280,s:[0],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:350,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"sun",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[3.00708,3.00704],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3843137254901961,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[-2.1999998092651376,-3.507655143737793],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:1,k:[{t:50,s:[100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:80,s:[0],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:150,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:250,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:300,s:[0],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:340,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"rc",hd:!1,d:1,s:{a:0,k:[18,18],ix:2},p:{a:0,k:[0,0],ix:2},r:{a:0,k:0,ix:2}},{ty:"fl",c:{a:0,k:[1,.8392156862745098,.25098039215686274],ix:2},o:{a:0,k:0,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:5,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:1,k:[{t:50,s:[9.999999284744263,10.17067003250122],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[9.999999284744263,11.17067003250122],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:150,s:[9.999999284744263,10.17067003250122],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:250,s:[9.999999284744263,10.17067003250122],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:300,s:[9.999999284744263,11.17067003250122],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:350,s:[9.999999284744263,10.17067003250122],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:6,ty:4,nm:"line",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:5,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,0],[4.18847,0],[4.18847,.3221899999999991],[0,.3221899999999991],[0,0],[0,0],[0,0]],i:[[0,0],[-1.396156666666667,0],[0,-.1073966666666664],[1.396156666666666,0],[0,.1073966666666664],[0,0],[0,0]],o:[[1.396156666666666,0],[0,.1073966666666664],[-1.396156666666666,0],[0,-.1073966666666664],[0,0],[0,0],[1.396156666666666,0]]}}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3843137254901961,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[-2.900433540344238,3.517374992370605],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"small",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:5,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[3.215839629698487,.4155599999999988],[1.871029629698487,.4155599999999988],[.08033652969848645,3.996899999999999],[.7527406296984864,5.084849999999998],[4.334119629698487,5.084849999999998],[5.006529629698486,3.996899999999999],[3.215839629698487,.4155599999999988],[3.215839629698487,.4155599999999988],[3.215839629698487,.4155599999999988]],i:[[0,0],[.2770400000000002,-.5540800000000004],[.5968977000000001,-1.19378],[-.5588519999999999,0],[-1.193793,0],[.2499200000000004,.4998400000000003],[.5968966666666669,1.19378],[0,0],[0,0]],o:[[-.27705,-.5540800000000004],[-.5968977,1.1937799999999994],[-.2499269,.4998400000000003],[1.193793,0],[.5588600000000001,0],[-.5968966666666669,-1.19378],[0,0],[0,0],[-.27705,-.5540800000000004]]}}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3843137254901961,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[-6.000233173370361,-1.244344711303711],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"big",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:5,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[4.719378057214302,.41556],[3.374568057214302,.41556],[.08033805721430198,7.00394],[.7527380572143016,8.0919],[7.341158057214302,8.0919],[8.0136580572143,7.00394],[4.719378057214302,.41556],[4.719378057214302,.41556],[4.719378057214302,.41556]],i:[[0,0],[.27705,-.55408],[1.098076666666667,-2.196126666666667],[-.5588499999999996,0],[-2.196140000000002,0],[.2499000000000002,.4998400000000007],[1.098093333333333,2.196126666666667],[0,0],[0,0]],o:[[-.2770500000000009,-.55408],[-1.098076666666667,2.196126666666666],[-.24993,.4998400000000007],[2.19614,0],[.5588999999999995,0],[-1.098093333333332,-2.196126666666666],[0,0],[0,0],[-.2770500000000009,-.55408]]}}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3843137254901961,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[-2.093742370605469,-4.256064891815186],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],ke=[],ye={v:le,fr:de,ip:ce,op:me,w:xe,h:ge,nm:ue,ddd:fe,assets:he,layers:pe,markers:ke};function be({withLottie:a}){return e.jsxs("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-full",children:[a?e.jsx(re,{className:"h-6 w-6",animationData:ye}):e.jsx(O0,{className:"h-6 w-6"}),e.jsx(Ie,{})]})}function Ie(){const[s,i]=u.useState(new Date);u.useEffect(()=>{i(new Date)},[]);const n=L0(+s,25e3);return e.jsx(R0,{percentage:n,thickness:1.25/23,className:"absolute left-1/2 top-1/2 h-10 w-10 -translate-x-1/2 -translate-y-1/2",backgroundStrokeClassName:"stroke-token-main-surface-tertiary",transitionDuration:`${(100-n)/100*.2}s`,transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"})}const ve=({alt:a,src:s,durationS:i,percentStart:n})=>{const c={duration:i,ease:"linear"};return e.jsxs("div",{className:"relative overflow-hidden rounded-2xl","aria-label":a,children:[e.jsx(F.div,{className:"absolute left-0 right-0 top-0 z-[2] w-full overflow-hidden bg-token-main-surface-secondary transition-[mask] ease-linear",initial:{height:`${Math.floor(n*100)}%`},animate:{height:"100%"},transition:c,style:{mask:"linear-gradient(rgb(0,0,0) 0%, rgb(0,0,0) calc(100% - 5px), rgba(0,0,0,0) 100%)"},children:e.jsx("img",{src:s,alt:a})}),e.jsx(F.div,{className:"z-[1] w-full overflow-hidden blur-2xl contrast-[2]",transition:c,children:e.jsx("img",{src:s,alt:a})})]})};function Le({messages:a,clientThreadId:s}){const[i,n]=a,c=G0(i.message),f=B0(),m=a.some(r=>f.has(r.message.id));let o=null;n!=null&&H.isMultimodalTextMessage(n.message)&&(o=H.getImageAssetPointers(n.message));let d=O.Running;return o!=null?d=O.Finished:n!=null?d=O.Error:c&&(d=O.Stopped),e.jsx(e.Fragment,{children:!m&&e.jsx(we,{imageAssets:o??[],clientThreadId:s,toolStatus:d,toolMessage:n?.message,messageId:i.message.id})})}const we=({imageAssets:a,clientThreadId:s,toolMessage:i,toolStatus:n,messageId:c})=>{const f=L(),m=s0(s),o=Z0(a,void 0,m),d=m0(),r=j0(),x=u.useMemo(()=>ae(s,c),[s,c]),{isDelayedImage:M,isStreaming:N,percentStart:D,remainingMs:_}=se({toolStatus:n,userMessage:x});if(i?.content.content_type===M0.SystemError)return null;const k=r0(a[0]),y=o.map(g=>g.data).filter(g=>g!=null),v=y.map(g=>({...g,alt:A(g)})),C=(g=0)=>`${c}-image-${g}`;return e.jsx(e.Fragment,{children:e.jsxs(Se,{$numItems:o.length,className:"my-1 transition-opacity duration-300",children:[o.length===0&&n===O.Running&&e.jsx(Z,{layoutId:"loading:placeholder",shape:k,isToolRunning:!0},"loading"),o.map((g,b)=>{const{isLoading:I,data:t,error:h}=g;if(I)return e.jsx(Z,{shape:k,layoutId:C(b)},b);if(h!=null||t?.url==null)return e.jsx(W,{layoutId:C(b),className:"text-sm text-token-text-tertiary",shape:k,children:e.jsx("div",{className:"flex min-h-full flex-col items-center justify-center gap-3 px-4 pb-5",children:f.formatMessage(S.imageLoadError)})},b);if(i&&t){const p={...t,alt:A(t)};return e.jsx(je,{image:p,allImages:v,isDelayedImage:M,isStreaming:N,percentStart:D,latencySeconds:_/1e3,clientThreadId:s,toolMessage:i,index:b,onOpenImageEditor:()=>{r?(d(`/c/${s}`,{state:{focusObject:{type:z.Image,image:p,allImages:y,messageId:i.id}}}),C0.focusMainWindow()):z0.setFocusedObject({type:z.Image,image:p,allImages:y,messageId:i.id})}},b)}})]})})};function je({toolMessage:a,clientThreadId:s,allImages:i,image:n,isDelayedImage:c,isStreaming:f,percentStart:m,latencySeconds:o,index:d,onOpenImageEditor:r}){const x=L(),M=s0(s),N=S0(),{value:D}=E0("2189772492"),_=N0(),k=W0(s),y=r0(n),[v,C]=u.useState({}),g=k&&"gizmo"in k?k.gizmo:void 0,b=g?.gizmo.id===$0,I=_&&D&&!!N?.includes(U.D3Editor)&&(g==null||b||!!N?.includes(U.D3EditorAllGpts));async function t(l){J0(l,M,a.id)}function h(l){q.logEvent("chatgpt_dalle_image_view_full",null,{sourceOperation:l.metadata?.dalle?.edit_op??"none",hasParent:l.metadata?.dalle?.parent_gen_id?"true":"false"}),Q.logEvent(G.dalleImageViewFull,{conversationId:M,messageId:a.id,generationId:l.metadata?.dalle?.gen_id,parentGenerationId:l.metadata?.dalle?.parent_gen_id,fileId:J(l.asset_pointer),sourceOperation:l.metadata?.dalle?.edit_op})}function p(l,j){C(R=>({...R,[l.asset_pointer]:j})),q.logEvent(G.dalleImageRating,j?"like":"dislike",{liked:j?"true":"false",sourceOperation:l.metadata?.dalle?.edit_op??"none",hasParent:l.metadata?.dalle?.parent_gen_id?"true":"false"}),Q.logEvent(G.dalleImageRating,{liked:j,conversationId:M,messageId:a.id,generationId:l.metadata?.dalle?.gen_id,parentGenerationId:l.metadata?.dalle?.parent_gen_id,fileId:J(l.asset_pointer),sourceOperation:l.metadata?.dalle?.edit_op})}function w(l){const j=v[l.asset_pointer],R={label:x.formatMessage(S.likeImage),onClick:()=>p(l,!0),disabled:j===!0,ariaLabel:x.formatMessage(S.likeImage),icon:i0},l0={label:x.formatMessage(S.dislikeImage),onClick:()=>p(l,!1),disabled:j===!1,ariaLabel:x.formatMessage(S.dislikeImage),icon:n0},d0={label:x.formatMessage(S.downloadImage),onClick:()=>t(l),ariaLabel:x.formatMessage(S.downloadImage),icon:o0};return[j!==!1&&R,j!==!0&&l0,d0].filter(Boolean)}let P=e.jsx(Ce,{image:n,isDelayedImage:c,isStreaming:f,latencySeconds:o,percentStart:m,shape:y,rating:v[n.asset_pointer],onDownload:()=>t(n),onRate:(l,j)=>p(l,j),clientThreadId:s,layoutId:void 0});return I?P=e.jsx("div",{role:"button",onClick:r,children:P}):P=e.jsx(ne,{image:n,images:i,metadataRenderer:l=>e.jsx(Me,{image:l}),onOpen:h,getActions:w,children:P}),e.jsx("div",{className:E("flex",{"pointer-events-none":f}),children:P},d)}function Z({shape:a,layoutId:s,isToolRunning:i=!1}){const{isOpen:n}=H0();return e.jsx(W,{shape:a,layoutId:n?void 0:s,children:e.jsx("div",{className:"flex min-h-full items-center justify-center",children:e.jsx(be,{withLottie:i})})},"loading")}function Me({image:a}){const s=L(),[i,n]=u.useState(!1),c=F0();function f(m){const o=A(a);n(!0),X0(o,c,m),setTimeout(()=>{n(!1)},2e3)}return e.jsxs("div",{className:"flex flex-col items-start gap-3 p-6",children:[e.jsx("div",{className:"text-sm text-gray-300 sm:text-base",children:s.formatMessage(S.imageViewerMetadataTitle)}),e.jsx("div",{className:"max-h-32 overflow-y-auto text-sm md:max-h-[80vh] md:text-lg",children:A(a)}),e.jsx(T,{color:"primary",onClick:f,disabled:i,className:"hidden sm:block",icon:A0,children:i?s.formatMessage(S.imageViewerMetadataCopyButtonCopied):s.formatMessage(S.imageViewerMetadataCopyButton)})]})}function W({children:a,shape:s,className:i,layoutId:n}){return e.jsxs(F.div,{layoutId:n,className:E("relative",i,s==="1792x1024"&&"aspect-[7/4]",s==="1024x1024"&&"aspect-square max-w-[400px]",s==="1024x1792"&&"aspect-[4/7] max-w-xs","overflow-hidden rounded-2xl"),children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-token-main-surface-secondary"}),e.jsx("div",{className:"relative h-full",children:a})]})}function Ce({image:a,shape:s,rating:i,onDownload:n,onRate:c,clientThreadId:f,layoutId:m,isDelayedImage:o,isStreaming:d,percentStart:r,latencySeconds:x}){const M=_0(),N=U0(K0.isBusinessWorkspace),D=D0(f,I=>I?.mode),_=q0(),k=Q0(),y=k?.type===z.Image&&k.image.asset_pointer===a.asset_pointer,{url:v,width:C,height:g}=a,b=!M&&!N&&D?.kind!==V0.GizmoMagicCreate;return e.jsxs(W,{shape:s,className:"group/dalle-image",layoutId:y?void 0:m,children:[o?e.jsx(ve,{src:v,alt:A(a),durationS:x,percentStart:r}):e.jsx(ee,{alt:A(a),src:v,width:C,height:g}),e.jsx("div",{className:E("pointer-events-none absolute inset-0 rounded-2xl shadow-[inset_0_0_0_1px_rgba(0,0,0,0.1)] dark:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.1)]",y?"bg-black/50 group-hover/dalle-image:bg-black/70":"group-hover/dalle-image:bg-transparent")}),_?!y&&e.jsx("div",{className:"pointer-events-none invisible absolute right-3 top-3 text-white group-hover/dalle-image:visible",children:e.jsx(Y0,{})}):e.jsxs(e.Fragment,{children:[!d&&b&&e.jsxs(e0,{children:[i!==!1&&e.jsx(B,{icon:i0,selected:i===!0,onClick:I=>{I.stopPropagation(),c(a,!0)}}),i!==!0&&e.jsx(B,{icon:n0,selected:i===!1,onClick:I=>{I.stopPropagation(),c(a,!1)}})]}),e.jsxs(e0,{$rightAlign:!0,children:[!1,!d&&e.jsx(B,{icon:o0,onClick:I=>{I.stopPropagation(),n()}})]})]})]})}const e0=t0.div`invisible absolute top-3 flex gap-1 group-hover/dalle-image:visible z-[2]
${({$rightAlign:a})=>a?"right-3":"left-3"}`,Se=t0.div`grid gap-2
${({$numItems:a})=>a<=1?"grid-cols-1":"grid-cols-2"}`;function r0(a){if(!a)return"1024x1024";const{width:s,height:i}=a;return s>i?"1792x1024":s<i?"1024x1792":"1024x1024"}const S=a0({creatingImages:{id:"dalleMessage.creatingImagesV2",defaultMessage:"Creating image"},stopped:{id:"dalleMessage.stoppedV3",defaultMessage:"Stopped creating image"},errorCreating:{id:"dalleMessage.errorCreatingV2",defaultMessage:"Error creating image"},imageLoadError:{id:"dalleMessage.imageLoadError",defaultMessage:"Error loading image"},imageViewerMetadataTitle:{id:"dalleMessage.imageViewerMetadataTitle",defaultMessage:"Prompt"},imageViewerMetadataCopyButton:{id:"dalleMessage.imageViewerMetadataCopyButton",defaultMessage:"Copy"},imageViewerMetadataCopyButtonCopied:{id:"dalleMessage.imageViewerMetadataCopyButtonCopied",defaultMessage:"Copied!"},imageEditButton:{id:"dalleMessage.imageEditButton",defaultMessage:"Edit"},downloadImage:{id:"imageViewer.downloadImage",defaultMessage:"Download Image"},likeImage:{id:"imageViewer.likeImage",defaultMessage:"Like Image"},dislikeImage:{id:"imageViewer.dislikeImage",defaultMessage:"Dislike Image"}});export{Le as default};
//# sourceMappingURL=hfcprtei6ztxm9h9.js.map

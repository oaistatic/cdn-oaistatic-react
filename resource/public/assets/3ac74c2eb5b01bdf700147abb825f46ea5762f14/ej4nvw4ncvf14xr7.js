const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nruk8myyxleryvtp.js","assets/cg166fqqcxkeiosv.js","assets/o5gewtul69zmb88p.js","assets/j4xe1fdohr6xk09p.js","assets/dze2l9y9kn6nwat0.js","assets/root-fk1yg8gm.css","assets/conversation-small-ga20ijz2.css","assets/m4iicmyh3x1nme4j.js","assets/gzm2pyuieq14d2cd.js","assets/h83rc28v2vsm5nda.js","assets/b6ddr1xo1x0u3g1f.js","assets/nf2duydhbwllwb1z.js","assets/jky4nhpbj4n3xuh7.js","assets/765apt28hvug1izo.js","assets/f55klt1ppf2qkvcm.js","assets/cfvh96gbcjdpth1v.js","assets/kxggiygl9l9wvt1i.js","assets/m5vf38e63o5zwpil.js","assets/d0cbiu6zi6zdiy98.js","assets/huy9i8wu7ua2l4zn.js","assets/m5tfr0dtbetugou5.js","assets/d879imt950hfadhv.js","assets/hqprvq82xcpllir3.js","assets/e9twjvrfqdwmahlj.js","assets/i8wt1ptmzikt53pm.js","assets/kd15wrub5zpa591b.js","assets/oyod5vgp8gzuy8hf.js"])))=>i.map(i=>d[i]);
import{j as e,r as p}from"./cg166fqqcxkeiosv.js";import{hz as Q,hA as $,hB as Z,cA as J,hC as K,hD as X,hE as Y,hF as I,hG as ee,hH as se,hI as ae,hJ as re,hK as te,a7 as A,hL as oe,hM as B,hN as ne,bs as w,hO as ie,e2 as ce,gq as de,P as le,fS as he,a5 as me,hP as ue,hQ as pe,cV as Ce,cW as xe,cY as Te,cX as ge,cZ as ve}from"./j4xe1fdohr6xk09p.js";import{bl as H,bm as M,Q as O,r as W,fP as Se,bk as U,e_ as r,d as h,L as je,bb as fe,al as ye,gB as be,by as Ne}from"./dze2l9y9kn6nwat0.js";import{P as Ee}from"./gzm2pyuieq14d2cd.js";import{S as Ie,b as we,u as z,E as He,C as k,c as Me,T as Pe,d as De}from"./nf2duydhbwllwb1z.js";import{e as P,u as Fe}from"./m4iicmyh3x1nme4j.js";import{C as _e}from"./knox9y5o8wayzcvt.js";import{C as Le}from"./on5pusyq8qp7ddxm.js";function Re({clientThreadId:s,currentModelId:n,isModelLoaded:c,onRequestCompletion:d,chatgptHomepageDisclaimer:a}){return e.jsx(Ie,{clientThreadId:s,currentModelId:n,isModelLoaded:c,onRequestCompletion:d,chatgptHomepageDisclaimer:a})}const ke=H(()=>M(()=>import("./nruk8myyxleryvtp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function Ae({disableEmptyState:s,fullWidth:n,renderEmptyState:c}){const{clientThreadId:a,currentModelId:i,conversationLeafId:l,isCompanionWindow:t,isEmbeddedInFocusedView:m,onChangeRating:u,onRequestCompletion:T,isModelLoaded:g,prefetchSearch:b}=p.useContext(P),[v,C,S]=O(a,o=>[o?.isLoading,W.getConversationTurns(o,l).length,o?.scrollToMessageId]),j={clientThreadId:a,conversationLeafId:l,currentModelId:i,onChangeRating:u,onRequestCompletion:T,showAvatar:!1},N=we({clientThreadId:a,handleRequestCompletion:T,prefetchSearchPromise:b}),f=v||N||s,x=Se(),{initialConversationTurns:y,continuedConversationTurns:D}=Q(C,x),{canUseNewHomepage:F,showEmptyState:G}=z(a),V=C>=2;$(V);const{setTargetedContent:_}=Z(),q=J(i),L=K(a);X(C,a),p.useEffect(()=>{m||_(void 0)},[a,_,m]);const R=Y(a,l);if(G){if(c!=null)return c();if(F&&!f){const o=t?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(I,{clientThreadId:a})});return e.jsx(Re,{clientThreadId:a,currentModelId:i,isModelLoaded:g,onRequestCompletion:T,chatgptHomepageDisclaimer:o})}else if(!F&&!f)return e.jsx(He,{clientThreadId:a,currentModelId:i,isModelLoaded:g,onRequestCompletion:T,showChatgptHomepage:!q,chatgptHomepageDisclaimer:e.jsx(I,{clientThreadId:a})})}return e.jsxs(e.Fragment,{children:[x&&e.jsx(ee,{}),x&&D.length===0&&e.jsx(se,{}),e.jsx(U,{children:e.jsxs(p.Suspense,{fallback:null,children:[e.jsx(ae,{}),y.length>0&&e.jsx("ol",{className:r.conversationTurnList,onCopy:L,children:y.map(({turnIndex:o,isFinalTurn:E})=>e.jsx("li",{className:h(r.conversationTurnWrapper,n&&"w-full"),children:p.createElement(k,{...j,key:`${a}-${o}`,turnIndex:o,isFinalTurn:E,scrollToMessageId:S,dateHeaderType:R(o)})},o))}),x&&e.jsx(re,{}),e.jsx("ol",{className:r.conversationTurnList,onCopy:L,children:D.map(({turnIndex:o,isFinalTurn:E})=>e.jsx("li",{className:h(r.conversationTurnWrapper,n&&"w-full"),children:p.createElement(k,{...j,key:`${a}-${o}`,turnIndex:o,isFinalTurn:E,scrollToMessageId:S,dateHeaderType:R(o)})},o))})]})}),e.jsx(ke,{}),C>0&&e.jsx(te,{})]})}function Be({renderEmptyState:s}){return e.jsx(Ae,{renderEmptyState:s})}const Oe=H(()=>M(()=>import("./nf2duydhbwllwb1z.js").then(s=>s.e),__vite__mapDeps([11,4,1,5,9,3,6,8,12,13,7,10,14,15,16,17])).then(s=>s.ChatScreenComposerAlerts));function We(){const{clientThreadId:s,currentModelId:n,isCompanionWindow:c,onRequestCompletion:d}=p.useContext(P),a=A(s),[i,l]=O(s,u=>[u&&u.conversationTurns.length>1,W.hasUserMessage(u)]),t=je(s)&&!i&&oe(a),{setComposerFooterElement:m}=p.useContext(B);return e.jsx("div",{className:r.footer,children:e.jsxs(ne,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent",position:"relative"},children:[e.jsxs(w,{type:"secondary",className:"absolute bottom-[var(--composer-bar-height)] w-full",children:[i&&e.jsx(ie,{className:r.scrollButton}),e.jsx(Oe,{})]}),e.jsxs(w,{type:"primary",ref:m,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(Me,{clientThreadId:s,currentModelId:n,isNewThread:t,noWrap:!0,onRequestCompletion:d,showPromptStarters:t||!l}),!c&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(I,{clientThreadId:s})})]})]})})}const Ue=H(()=>M(()=>import("./d0cbiu6zi6zdiy98.js"),__vite__mapDeps([18,1,3,4,5,6,19,20,8,21,22,23,24,25,13,26,11,9,12,7,10,14,15,16,17])).then(s=>s.ConversationHeaderMenuItems));function ze(){const{clientThreadId:s,isLoggedInUser:n,onNewThread:c}=p.useContext(P),d=fe(s),a=ce(d),i=de(d),{useStore:l}=le(),t=l(m=>m.isSidebarOpen);return e.jsxs(w,{leading:!0,type:"primary",className:r.header,name:"thread-header",children:[e.jsxs("div",{className:r.headerLeading,children:[n&&e.jsx(he,{className:h(t&&"invisible")}),!a&&(!n||!t)&&e.jsx(_e,{onNewThread:c,className:h(n&&"hidden @lg/thread:inline-flex",t&&"invisible"),location:"thread"}),i?e.jsx("div",{className:h(r.threadDropdown),children:e.jsx(Ue,{clientThreadId:s})}):e.jsx("div",{className:h(r.threadDropdown),children:e.jsx(Pe,{clientThreadId:s})})]}),e.jsx("div",{className:r.headerTrailing,children:e.jsx(U,{children:e.jsx(De,{clientThreadId:s})})})]})}function Xe({hideHeader:s=!1,hideFooter:n=!1,hideTools:c=!1,embedded:d=!1,renderEmptyState:a,ref:i}){const{data:l}=ye(),{clientThreadId:t,currentModelId:m,isCompanionWindow:u,isInstalledApp:T,onRequestCompletion:g,routeType:b}=Fe(),{canUseNewHomepage:v,showEmptyState:C}=z(t),S=me(l?.models,m),[j,N]=ue({name:"composer-bar",track:"height"}),f=A(t),x=pe(t,f),y=n||C&&v;return be(t),e.jsx(Ne.Provider,{value:g,children:e.jsx(Ce,{children:e.jsxs(Ee,{clientThreadId:t,children:[e.jsx(xe,{children:x!=null&&e.jsx("title",{children:x})}),e.jsx(Te,{clientThreadId:t,className:h(d&&"h-full","flex-1"),currentModelConfig:S,children:e.jsxs(B.Provider,{value:{setComposerFooterElement:N},children:[e.jsx(ge,{anchor:"vertical",className:h(r.screen,C&&v&&r.screenEmptyState,u&&r.screenCompanionWindow,T&&r.screenInstalledApp,d&&r.screenEmbedded),contentClassName:h(b==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!s&&e.jsx(ze,{}),style:j,ref:i,trackLeading:!0,trackTrailing:!0,trailing:!y&&e.jsx(We,{}),children:e.jsx(Be,{renderEmptyState:a})}),!u&&!c&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{}),e.jsx(ve,{})]})]})})]})})})}export{Xe as C,ze as a,Be as b};
//# sourceMappingURL=ej4nvw4ncvf14xr7.js.map

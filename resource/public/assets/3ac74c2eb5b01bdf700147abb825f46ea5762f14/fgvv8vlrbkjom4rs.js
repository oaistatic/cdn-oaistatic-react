const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/msqxp3k7h9a7j4by.js","assets/dze2l9y9kn6nwat0.js","assets/cg166fqqcxkeiosv.js","assets/root-fk1yg8gm.css","assets/j4xe1fdohr6xk09p.js","assets/conversation-small-ga20ijz2.css","assets/lb9srbt9xarahmox.js","assets/a18jwh9lzr2ddmbd.js","assets/kb3phtht4s5rhb60.js","assets/o3ts9y7n7vziy25l.js","assets/b92smcgf1zy1lpsm.js","assets/m1pg72zp46i5flxd.js","assets/huldggq89x8k42xn.js","assets/m4iicmyh3x1nme4j.js","assets/gzm2pyuieq14d2cd.js","assets/h83rc28v2vsm5nda.js","assets/b6ddr1xo1x0u3g1f.js","assets/m5tfr0dtbetugou5.js","assets/bgkjafzrp5aw6ah6.js","assets/e61g0qvb4nak98bl.js","assets/fnzd64m6c6nr1y9q.js","assets/clkzaq2ue82unbic.js","assets/knox9y5o8wayzcvt.js","assets/casotq27oeh0snvn.js","assets/nf2duydhbwllwb1z.js","assets/jky4nhpbj4n3xuh7.js","assets/765apt28hvug1izo.js","assets/f55klt1ppf2qkvcm.js","assets/cfvh96gbcjdpth1v.js","assets/kxggiygl9l9wvt1i.js","assets/m5vf38e63o5zwpil.js","assets/ej4nvw4ncvf14xr7.js","assets/on5pusyq8qp7ddxm.js","assets/mpt31eyc26i5miru.js","assets/csxhtnukvyyy22x8.js","assets/d1ilgbjzgkc1yin8.js","assets/jj7111cn3x2d1bfx.js"])))=>i.map(i=>d[i]);
import{fw as $,S as V,P as L,a as R,cL as Z,bP as ee,dT as D,gH as _,bl as f,bm as h,H as se,gL as ae,d5 as N,s as S,ge as ie,gf as te,dF as re,fy as oe,q as ne,ab as de,aD as ce,fq as le,N as ue}from"./dze2l9y9kn6nwat0.js";import{r as d,j as e,aw as z,d as me,a as U,c as fe,au as u,e as P,h as he,u as ge}from"./cg166fqqcxkeiosv.js";import{iE as xe,iF as G,iG as ve,ee as pe,iH as A,iI as m,iJ as be,cp as g,cq as M,iK as je,r as we,w as Ee,y as Te,iL as ye,bI as Ce,cU as Ie,iM as ke,iN as _e,iO as Ne,iP as Se,i as Pe,e5 as Ae,iQ as Me,cc as Fe,dC as Oe,iR as Ve,c$ as Le,db as Re,iS as De,iT as ze,T as F,dc as Ue,iU as Ge,iV as He}from"./j4xe1fdohr6xk09p.js";import{C as Ke}from"./b92smcgf1zy1lpsm.js";import{a as H,u as K}from"./m4iicmyh3x1nme4j.js";import{C as qe}from"./ej4nvw4ncvf14xr7.js";import{M as We}from"./nf2duydhbwllwb1z.js";import{K as Qe}from"./mpt31eyc26i5miru.js";import{u as Be}from"./m5tfr0dtbetugou5.js";import{C as Ye}from"./csxhtnukvyyy22x8.js";function Je(){const a=xe(o=>o.notifications),{activeThreadIds:s}=$(),t=d.useRef(new Set);return d.useEffect(()=>{a.filter(i=>i.clientThreadId===void 0||s.has(i.clientThreadId)).map(i=>i.id).filter(i=>i!==void 0).forEach(i=>G(i)),a.forEach(i=>{i.id&&!t.current.has(i.id)&&(V.logEvent("chatgpt_notification_shown"),L.logEvent(R.notificationShown),t.current.add(i.id))})},[s,a]),a.length===0||Z?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(z,{children:a.map(o=>e.jsx(Xe,{...o},o.id))})})}function Xe({...a}){const s=me(),t=U(),o=fe(),i=ee(a.clientThreadId),c=()=>{V.logEvent("chatgpt_notification_clicked"),L.logEvent(R.notificationClicked),i&&pe(s,t,i),a.id&&G(a.id)};return e.jsxs(u.div,{onClick:c,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(ve,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:a.title??o.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:a.subtitle??o.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const O=450;function $e({children:a,clientThreadId:s,isOpen:t,onClose:o}){const i=D();return e.jsxs(z,{children:[t&&i&&e.jsx(H,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(A.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(u.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:O},...m,children:e.jsx(qe,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:a})]})]})})})}),t&&!i&&e.jsx(_,{children:e.jsx(A.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(u.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:O},...m,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(We,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Ze=f(()=>h(()=>import("./msqxp3k7h9a7j4by.js"),__vite__mapDeps([0,1,2,3,4,5]))),es=f(()=>h(()=>import("./lb9srbt9xarahmox.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34])).then(a=>a.ImageEditor));function ss({clientThreadId:a}){const s=be();d.useEffect(()=>{g.close()},[a]);let t;return s?.type===M.ADAVisualization?t=e.jsx(Ze,{clientThreadId:a,visualization:s.visualization}):s?.type===M.Image&&(t=e.jsx(es,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx($e,{clientThreadId:a,isOpen:s!=null,onClose:g.close,children:t})}function as(){const{clientThreadId:a,resetThread:s}=K();return Be({resetThreadAction:s,clientThreadId:a}),null}function is(){const{clientThreadId:a,isCompanionWindow:s}=K();return e.jsx(je,{conversationId:a,isActiveWindow:!s})}function ts({clientThreadId:a,urlThreadId:s}){return we({clientThreadId:a}),e.jsxs(e.Fragment,{children:[e.jsx(is,{}),e.jsx(as,{}),e.jsx(Ee,{clientThreadId:a,urlThreadId:s}),e.jsx(Te,{}),e.jsx(Ye,{})]})}var rs={};const os=f(()=>h(()=>import("./d1ilgbjzgkc1yin8.js"),__vite__mapDeps([35,2,1,3,25,4,5,15,14,13,16,31,24,26,27,28,29,30,22,32]))),ns=f(()=>h(()=>import("./jj7111cn3x2d1bfx.js"),__vite__mapDeps([36,2,1,3,25,4,5,15,14,13,16])).then(a=>a.MadlibsModal));function bs(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:o}=a;ds();const i=se(),c=P(),[x]=he(),[r,l]=d.useState(()=>{if(s!==void 0){const n=s;return ae(n)??n}return t!==void 0?t:N()});s!==void 0&&r!==s&&(S(r)===s||l(s));const q=ye(P());d.useEffect(()=>{s===void 0&&S(r)!==void 0&&l(N())},[s,r,q]);const W=Ce(Ie.workspaceId),Q=D(),{eligible:v,isLoading:p,markAsViewed:b}=ke(),j=_e(),{eligible:w,isLoading:E,markAsViewed:T}=Ne(),y=Se(),C=Pe();d.useEffect(()=>{ie(!0).then(n=>{n.force_login&&C({authType:"login"}),Ae.initializeAndGatherData(n),te.initializeAndGatherData(n)})},[C]),d.useEffect(()=>{const n=x.get(Me)==="true";i!==n&&re.setIsTemporaryChatEnabled(n)},[i,x]),d.useEffect(()=>{c.state?.focusObject&&g.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),d.useEffect(()=>{!p&&v&&(b(),j())},[v,p,b,j]),d.useEffect(()=>{!E&&w&&(T(),y())},[w,E,T,y]);const{isOpen:B,isLoading:Y}=Fe(),J=Q?ts:Ke,I=U();d.useEffect(()=>oe(ce,{completionFinished:n=>{if(n.serverThreadId!=null&&!i){const k=ne(n.serverThreadId)?.mode;k?.kind===de.GizmoInteraction&&Oe.handleGizmoInteracted(I,k.gizmo_id)}}}),[i,I]);const{isOpen:X}=Ve();return e.jsx(le.Provider,{value:null,children:e.jsx(Le,{children:e.jsxs(Re,{clientThreadId:r,children:[e.jsx(De,{clientThreadId:r},W),!Y&&B&&e.jsx(os,{clientThreadId:r,setClientThreadId:l}),e.jsx(Qe,{}),e.jsx(ze,{}),e.jsx(H,{clientThreadId:r,setClientThreadId:l,prefetchSearch:o,children:e.jsxs(F,{clientThreadId:r,children:[e.jsx(J,{urlThreadId:s,clientThreadId:r,setClientThreadId:l,prefetchSearch:o}),X?e.jsx(ns,{}):null]})}),e.jsx(F,{clientThreadId:r,children:e.jsx(ss,{clientThreadId:r})}),e.jsx(Ue,{clientThreadId:r}),e.jsx(Ge,{}),e.jsx(Je,{}),e.jsx(He,{}),null]})})})}function ds(){ge({queryKey:["pingEdge"],queryFn:()=>ue.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=rs.GOKU_SERVICE);export{bs as C,O as F};
//# sourceMappingURL=fgvv8vlrbkjom4rs.js.map
